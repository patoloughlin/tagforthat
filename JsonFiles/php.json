{"total":298823,"page":1,"pagesize":100,"questions":[{"tags":["php","shopping-cart"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":13298146,"title":"shopping cart - only update 1 entry","body":"<p>The code below will only update the last entry of my cart. I'm struggling a bit with the loops and I'm just stuck. </p>\n\n<pre><code> if (isset($_POST['quantity'])) { // Update quantities in the cart\n\n    foreach ($_POST['quantity'] as $k =&gt; $qty) {  //Full name on form: name=\"quantity[' . $row['prodid'] . ']\"\n\n        $pid = $_POST ['prodid'];\n        $sp_type = $_POST ['cat'];\n\n        if (isset($sp_type, $pid)) {\n             // Determine the quantity:\n             $qty = (filter_var($qty, FILTER_VALIDATE_INT, array('min_range' =&gt; 0)) !== false) ? $qty : 1;\n\n             // Update the quantity in the cart:\n             $r = mysqli_query($dbc, \"CALL update_cart('$uid', '$sp_type', $pid, $qty)\");\n        }\n\n    } // End of FOREACH \n}\n</code></pre>\n\n<p>this is the code for the html form for the cart:</p>\n\n<p>' . $row['category'] . '::' . $row['title'] . '\n        \n        £' . $price . '\n        £' . number_format($subtotal, 2) . '\n         Wish List<br />  Remove\n    </p>\n"},{"tags":["php","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13296844,"title":"regexp swedish chars","body":"<p>I have a regexp that looks like this</p>\n\n<pre><code>$search=\"#.*$basedir/([0-9]+)/([0-9]+-)([0-9]+).jpg#\";\n</code></pre>\n\n<p>Problem is that it will not include swedish chars (å,ä,ö) and I have no idea how to make it work..</p>\n\n<p>Any hints?</p>\n\n<p><em>edit to answer the comment questions:</em></p>\n\n<pre><code> $basedir='product-img/thumbs';\n $search=\"#.*$basedir/([0-9]+)/([0-9]+-)([0-9]+).jpg#\";\n</code></pre>\n"},{"tags":["php","jquery","external"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13298522,"title":"external animated jquery not working--php","body":"<p>I have a main php file that loads an external php file. This is the code in my main php file:</p>\n\n<pre><code>&lt;php&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"content-type\" content=\"text/php; charset=utf-8\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"style.css\" /&gt;\n\n\n    &lt;script type=\"text/javascript\" src=\"ajax.js\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" href=\"colorbox.css\" /&gt;\n\n        &lt;script src=\"js/jquery.colorbox.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"js/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"js/jquery.colorbox-min.js\"&gt;&lt;/script&gt;\n\n&lt;link href=\"jimgMenukwicks.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n&lt;script type=\"text/javascript\" src=\"js/jquery-easing-1.3.pack.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery-easing-compatibility.1.2.pack.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery.kwicks-1.5.1.pack.js\"&gt;&lt;/script&gt;       \n\n    &lt;script type=\"text/javascript\"&gt;\n      $().ready(function() {\n    $('.jimgMenu ul').kwicks({max: 310, duration: 300, easing: 'easeOutQuad'});\n    });\n&lt;/script&gt;\n\n\n&lt;/head&gt;\n\n\n&lt;div id=\"tengah\" class=\"jimgMenu\" &gt;\n\n  &lt;ul&gt;\n    &lt;li class=\"landscapes\"&gt; &lt;a href=\"javascript:ajaxpage('7.php', 'ResponseDiv');\"&gt; &lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"people\"&gt; &lt;a href=\"javascript:ajaxpage('8.php', 'ResponseDiv');\"&gt; &lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"nature\"&gt; &lt;a href=\"javascript:ajaxpage('9.php', 'ResponseDiv');\"&gt; &lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n\n&lt;/div&gt;\n    &lt;div id=\"content\" class=\"clearfix shadow\"&gt;\n        &lt;div id=\"sidebar\" class=\"left\"&gt;\n\n&lt;div id='ResponseDiv'&gt; &lt;/div&gt;\n            &lt;div id=\"menu\" class=\"inner\"&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"main\" class=\"right\"&gt;\n        &lt;h2&gt;Detail&lt;/h2&gt;\n\n        &lt;div id='ResponseDiv2'&gt; &lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/php&gt;\n</code></pre>\n\n<p>I have a function in <code>ajax.js</code> that calls an external php page named <code>ajaxpage</code>. Here the code in <code>ajax.js</code>:</p>\n\n<pre><code>function ajaxpage(url, containerid){\nvar page_request = false\nif (window.XMLHttpRequest) // if Mozilla, Safari etc\npage_request = new XMLHttpRequest()\nelse if (window.ActiveXObject){ // if IE\ntry {\npage_request = new ActiveXObject(\"Msxml2.XMLHTTP\")\n} \ncatch (e){\ntry{\npage_request = new ActiveXObject(\"Microsoft.XMLHTTP\")\n}\ncatch (e){}\n}\n}\nelse\nreturn false\npage_request.onreadystatechange=function(){\nloadpage(page_request, containerid)\n}\npage_request.open('GET', url, true)\npage_request.send(null)\n}\n\nfunction loadpage(page_request, containerid){\nif (page_request.readyState == 4 &amp;&amp; (page_request.status==200 || window.location.href.indexOf(\"http\")==-1))\ndocument.getElementById(containerid).innerHTML=page_request.responseText\n}\n</code></pre>\n\n<p>The problem is when I try to load \"7.php\" into my main.php the 7.php file is loaded but the animation in 7.php not working.</p>\n\n<p>Does anyone know why this is happening?</p>\n"},{"tags":["php","user","account"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13298510,"title":"PHP user account type","body":"<p>I have some problem getting the user account type from db.\nI create a column on db called acc _ type, it checks if user acc _ type is 1 or greater highlight the user name.</p>\n\n<p>I wrote this code but it highlights all the username as red admin.</p>\n\n<pre><code>colors meaning:\nBlue = Regular member = 0\nRed = admin = 1\nGreen = Mod = 2\nOrange = Super User = 3\n</code></pre>\n\n<p>Code here</p>\n\n<pre><code>&lt;?php\nif($dn5['acc_type'] =='0')\n{\necho '&lt;style&gt;\n.acc{\ncolor:blue;\n}\n&lt;/style&gt;';\n}else if($dn5['acc_type']=='1'){\necho '&lt;style&gt;\n.acc{\ncolor:red;\n}\n&lt;/style&gt;';\n}else if($dn5['acc_type']=='2'){\necho '&lt;style&gt;\n.acc{\ncolor:green;\n}\n&lt;/style&gt;';\n}\n?&gt;\n&lt;span class=\"acc\"&gt;&lt;?php echo $username;?&gt;&lt;/span&gt;\n</code></pre>\n"},{"tags":["php","forms","security","captcha","contact"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":276,"score":5,"question_id":11448140,"title":"need some help to add some captcha contact form","body":"<p>Hi I'm new to PHP and I would like some help please. \nI 've created a contact form and i would like to add some captcha. I have created some gif images, that have numbers with some noise added on, and named the code_01.gif for no1, code_02.gif for no2 etc etc. I have put some of them on my form, staticly, for display purposes like this: </p>\n\n<pre><code>&lt;img src=\"images/code_01.gif\" /&gt;\n&lt;img src=\"images/code_07.gif\" /&gt;\n&lt;img src=\"images/code_01.gif\" /&gt;\n&lt;img src=\"images/code_08.gif\" /&gt;\n&lt;img src=\"images/code_03.gif\" /&gt;\n&lt;img src=\"images/code_07.gif\" /&gt;\n&lt;input name=\"captcha\" type=\"text\" id=\"captcha\" /&gt;\n</code></pre>\n\n<p>I would like to add some functionality to display randomly the image codes every time and also check to see if the input matches with the 6 digits that displayed.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["php","mongodb"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":14,"score":2,"question_id":13298402,"title":"php mongodb - can't get upsert working","body":"<p>I'm running the following code and it works great, if no record exists it creates a new one. What I'm trying to do is modify this query so that the 'v' field also increases +1 but I'm not having any luck. Can someone help me out?</p>\n\n<pre><code>            $result = $collection-&gt;update(\n                array('k'=&gt;md5(SITE_ID.'-'.$_SERVER['HTTP_X_FORWARDED_FOR'])),\n                array('$set'=&gt;\n                    array(\n                        'k'=&gt;md5(SITE_ID.'-'.$_SERVER['HTTP_X_FORWARDED_FOR']),                                                                   'st'=&gt;SITE_ID, \n                        'ur'=&gt;$_GET['u'],                                                \n                        'ts'=&gt;time(),\n                        'dt'=&gt;date('Ymd'), \n                        'ur'=&gt;$_GET['p'],\n                        'v'=&gt;1\n                    ),\n                    array(\n                        '$inc' =&gt; array('v' =&gt; 1)\n                    ),\n                ),\n                array('upsert'=&gt;true)\n            );\n</code></pre>\n"},{"tags":["php","javascript","ajax","post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13238038,"title":"debugging failed ajax POST call, type is pending","body":"<p>I have a javascript file that generates some JSON and makes an AJAX call to a php file that writes and creates the JSON file.  Everything has been working well until I started generating pretty big JSON files.  Currently, I have a 9mb json file and I know it is structured correctly because when I print it out using console.log and manually put into a file, it works.  </p>\n\n<p>However, the Ajax call fails to succeed.  I have tried a normal XHR call and jQuery Ajax, both fail and do not provide much information.  I tried in Chrome and Firefox.  Looking at Developer Tools, the status text says (failed) and type says pending.  No status code appears and all I have is statusText: \"error\" in Ajax error callback.  I tried messing around with timeout and synchronous calls but nothing seems to work/</p>\n\n<p>Any ideas on how I can debug further?</p>\n\n<p><strong>Code Sample</strong></p>\n\n<pre><code>var name = \"test.json\";\nvar json = '{\n    \"type\": \"FeatureCollection\",\n    \"bbox\": [\n        1.4137153625488281,\n        42.4288330078125,\n        1.7842082977294922,\n        42.652313232421875\n    ],\n    \"features\": [\n        {\n            \"type\": \"Feature\",\n            \"bbox\": [\n                1.4137153625488281,\n                42.4288330078125,\n                1.7842082977294922,\n                42.652313232421875\n            ],\n            \"geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            1.5753068923950195,\n                            42.6473388671875\n                        ],\n                        [\n                            1.5828666687011719,\n                            42.63543701171875\n                        ],\n                        [\n                            1.5753068923950195,\n                            42.6473388671875\n                        ]\n                    ]\n                ]\n            },\n            \"properties\": {\n                \"ID_0\": \"6\",\n                \"ISO\": \"AND\",\n                \"NAME_ENGLI\": \"Andorra\",\n                \"NAME_OBSOL\": \"\"\n            }\n        }\n    ]\n}';\n\n\n\n$.ajax({\n        type:\"POST\",\n        url:\"log.php\",\n        data: { data: json, file: name },\n        dataType: \"json\",\n        success:function(response) {\n            console.log(response);\n        },\n        error:function(error) {\n            console.log(error);\n        }\n});\n</code></pre>\n\n<p>This is log.php:</p>\n\n<pre><code>if (isset($_POST['file'])) {\n$file = $_POST['file'];\n$data = str_replace(\"\\\\\", \"\", $_POST['data']);\n\nfile_put_contents($file, $data);\nexit();\n}\n</code></pre>\n\n<p><strong>My main question is this, when AJAX fails, how do you debug better?</strong> My error callback here does not provide any good information.  I tried looking at net-internals in chrome but I can't find much there.  Any ideas?</p>\n\n<p>Perhaps this is a Server Side problem.  When I look at Chrome net-internals I see that processing a smaller JSON (length = 121664) makes a successful POST request and net-internals show HTTP_TRANSACTION_READ_RESPONSE_HEADERS but the large JSON (length = 7036490) give me --> net_error = -324 (ERR_EMPTY_RESPONSE) instead of response headers.  I did not see a timeout information in the phpinfo though...</p>\n"},{"tags":["php","joomla","joomla3.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13296159,"title":"Joomla 3.0.1 Development","body":"<p>God Bless you all,\nI would like to know the proper way to do this.\nLets Say we have a search string coming a POST and in the Search view I want to get the post var and search the DB  with it.</p>\n\n<p>First Question:\nIs it proper to get the Var like this, or is there a more proper way to do this in the View.</p>\n\n<pre><code>$app        = JFactory::getApplication();\n$search_str = $app-&gt;input-&gt;get('search_str');\n</code></pre>\n\n<p>Second Question:\nWhere Should I be getting the records out of the DB, in the VIEW, CONTROLLER or MODEL.\nIs there any convention. \nFor example where should like this code live.</p>\n\n<pre><code>$db =&amp; JFactory::getDbo();\n$db-&gt;setQuery(\"SELECT * FROM `#__display_hotel` WHERE name LIKE $search_str\");\n$this-&gt;hotel = $db-&gt;loadAssoc();\n</code></pre>\n\n<p>Thanks for the Help, couldn't find much in the way of a real explanation in simple human words.</p>\n"},{"tags":["php","mysql","magento","magento-1.4","magento-1.6"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13298533,"title":"Integrity constraint violation: 1052 Column 'position' in order clause is ambiguous","body":"<p>One of my users sent me this link from our own magento website. And we have this exception, any idea how can I fix this?</p>\n\n<p><a href=\"http://www.theprinterdepo.com/catalogsearch/result/index/?cat=100&amp;q=1022&amp;x=0&amp;y=0\" rel=\"nofollow\">http://www.theprinterdepo.com/catalogsearch/result/index/?cat=100&amp;q=1022&amp;x=0&amp;y=0</a></p>\n\n<pre><code>There has been an error processing your request\n\n\nSQLSTATE[23000]: Integrity constraint violation: 1052 Column 'position' in order clause is ambiguous\n\nTrace:\n#0 /home/theprint/public_html/lib/Varien/Db/Statement/Pdo/Mysql.php(110): Zend_Db_Statement_Pdo-&gt;_execute(Array)\n#1 /home/theprint/public_html/lib/Zend/Db/Statement.php(300): Varien_Db_Statement_Pdo_Mysql-&gt;_execute(Array)\n#2 /home/theprint/public_html/lib/Zend/Db/Adapter/Abstract.php(479): Zend_Db_Statement-&gt;execute(Array)\n#3 /home/theprint/public_html/lib/Zend/Db/Adapter/Pdo/Abstract.php(238): Zend_Db_Adapter_Abstract-&gt;query('SELECT DISTINCT...', Array)\n#4 /home/theprint/public_html/lib/Varien/Db/Adapter/Pdo/Mysql.php(389): Zend_Db_Adapter_Pdo_Abstract-&gt;query('SELECT DISTINCT...', Array)\n#5 /home/theprint/public_html/lib/Zend/Db/Adapter/Abstract.php(791): Varien_Db_Adapter_Pdo_Mysql-&gt;query(Object(Varien_Db_Select), Array)\n#6 /home/theprint/public_html/app/code/core/Mage/Catalog/Model/Resource/Product/Collection.php(878): Zend_Db_Adapter_Abstract-&gt;fetchCol(Object(Varien_Db_Select))\n#7 /home/theprint/public_html/app/code/core/Mage/Catalog/Model/Layer.php(291): Mage_Catalog_Model_Resource_Product_Collection-&gt;getSetIds()\n#8 /home/theprint/public_html/app/code/core/Mage/Catalog/Model/Layer.php(221): Mage_Catalog_Model_Layer-&gt;_getSetIds()\n#9 /home/theprint/public_html/app/code/core/Mage/Catalog/Block/Layer/View.php(163): Mage_Catalog_Model_Layer-&gt;getFilterableAttributes()\n#10 /home/theprint/public_html/app/code/core/Mage/Catalog/Block/Layer/View.php(122): Mage_Catalog_Block_Layer_View-&gt;_getFilterableAttributes()\n#11 /home/theprint/public_html/app/code/core/Mage/Core/Block/Abstract.php(238): Mage_Catalog_Block_Layer_View-&gt;_prepareLayout()\n#12 /home/theprint/public_html/app/code/core/Mage/Core/Model/Layout.php(430): Mage_Core_Block_Abstract-&gt;setLayout(Object(Mage_Core_Model_Layout))\n#13 /home/theprint/public_html/app/code/core/Mage/Core/Model/Layout.php(446): Mage_Core_Model_Layout-&gt;createBlock('catalogsearch/l...', 'catalogsearch.l...')\n#14 /home/theprint/public_html/app/code/core/Mage/Core/Model/Layout.php(238): Mage_Core_Model_Layout-&gt;addBlock('catalogsearch/l...', 'catalogsearch.l...')\n#15 /home/theprint/public_html/app/code/core/Mage/Core/Model/Layout.php(204): Mage_Core_Model_Layout-&gt;_generateBlock(Object(Mage_Core_Model_Layout_Element), Object(Mage_Core_Model_Layout_Element))\n#16 /home/theprint/public_html/app/code/core/Mage/Core/Model/Layout.php(209): Mage_Core_Model_Layout-&gt;generateBlocks(Object(Mage_Core_Model_Layout_Element))\n#17 /home/theprint/public_html/app/code/core/Mage/Core/Controller/Varien/Action.php(345): Mage_Core_Model_Layout-&gt;generateBlocks()\n#18 /home/theprint/public_html/app/code/core/Mage/Core/Controller/Varien/Action.php(270): Mage_Core_Controller_Varien_Action-&gt;generateLayoutBlocks()\n#19 /home/theprint/public_html/app/code/core/Mage/CatalogSearch/controllers/ResultController.php(77): Mage_Core_Controller_Varien_Action-&gt;loadLayout()\n#20 /home/theprint/public_html/app/code/core/Mage/Core/Controller/Varien/Action.php(420): Mage_CatalogSearch_ResultController-&gt;indexAction()\n#21 /home/theprint/public_html/app/code/core/Mage/Core/Controller/Varien/Router/Standard.php(250): Mage_Core_Controller_Varien_Action-&gt;dispatch('index')\n#22 /home/theprint/public_html/app/code/core/Mage/Core/Controller/Varien/Front.php(176): Mage_Core_Controller_Varien_Router_Standard-&gt;match(Object(Mage_Core_Controller_Request_Http))\n#23 /home/theprint/public_html/app/code/core/Mage/Core/Model/App.php(347): Mage_Core_Controller_Varien_Front-&gt;dispatch()\n#24 /home/theprint/public_html/app/Mage.php(640): Mage_Core_Model_App-&gt;run(Array)\n#25 /home/theprint/public_html/www.theprinterdepo.com/index.php(55): Mage::run('printerdepo', 'website')\n#26 {main}\n</code></pre>\n"},{"tags":["php","javascript","jquery","wordpress","variables"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13298400,"title":"What is the proper way to pass options to a jquery file?","body":"<p>On each page of my theme, a user has the option of adding a slider.  When they do this, they can choose several settings for the slider.  This includes things such as how long the slides will pause before changing, how long it takes for the slide to transition when it changes, and what type of transition it uses.</p>\n\n<p>Now if I were to just hard code this and not let the user choose the options for the slider, the code would look like this:</p>\n\n<pre><code>&lt;script&gt;\njQuery(function(){\n\n    jQuery('#camera_wrap_3').camera({\n        height: '40%',\n        thumbnails: true,\n        time: 3500,\n        fx: 'scrollBottom',\n        transPeriod: 1200,\n        autoAdvance: true,\n        minHeight: '50px',\n        mobileNavHover: false,\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>What is the proper way to pass the variables that are created when the user chooses their settings to the code above?</p>\n\n<p>Keep in mind that I want to be able to enqueue this file the proper way with wp_enqueue</p>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":6,"view_count":40,"score":-4,"question_id":13297677,"title":"Retrieve data from a database, and use in an option box","body":"<p>I have been stuck on this problem, and I want it fixed urgently.\nHere is my code:</p>\n\n<pre><code>&lt;select name=\"provider_no\" class=\"selectMedium\"&gt;\n&lt;?php\n    $query='select id, first_name, last_name, provider_id_number_print \n        from user \n        where type=\"accredited_provider\" \n        order by id';\n    $rs=mysql_query($query);\n    while($row1=mysql_fetch_object($rs)){\n?&gt;\n        &lt;option value=\"&lt;?php echo $row1-&gt;id;?&gt;\" &lt;? if($row1-&gt;id==$row['provider_no']) echo \" selected \"; ?&gt;&gt;&lt;?php echo $row1-&gt;provider_id_number_print;?&gt;&lt;/option&gt;\n&lt;?php\n    }\n?&gt;\n&lt;/select&gt; \n</code></pre>\n\n<p>Here as you can see, I want to retrieve provider_id_number_print in the selected item. This is a user id. If the user is logged in and fills in the form, the ID should be populated automatically from the database, but it's not happening that way.</p>\n\n<p>NO one is here to help me out. Pls this is very important and I wanted it to b done</p>\n\n<p>Thats a polite request, Please help me out.</p>\n\n<p>I want to retrieve provider_id_number_print fro user table into a text field</p>\n\n<p>May be this can give you some information on this:\n$query='select id, first_name,last_name,provider_id_number_print from user where type=\"accredited_provider\" order by id';</p>\n\n<p>Please its really uegent and I am stuck with this for last 2 days</p>\n"},{"tags":["php","csv","character-encoding","char"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13298353,"title":"php fgetcsv - charset encoding problems","body":"<p>Using PHP 5.3 <code>fgetcsv</code> function, I am experiencing some problems due to encoding matters. Note that that file has spanish \"special\" latin characters like graphic accents á, é, í ï, etc...</p>\n\n<p>I get the CSV file exporting some structured data I have in an MS 2008 for Mac Excel file.</p>\n\n<p>If I open it with Mac OS X <code>TextEdit</code> application, everything seems to go perfect.</p>\n\n<p>But when I get down to my PHP program and try to read the CSV using that fgetcsv PHP function, I am not getting it to read properly the charset.</p>\n\n<pre><code>/**\n * @Route(\"/cvsLoad\", name=\"_csv_load\")\n * @Template()\n */\npublic function cvsLoadAction(){\n    //setlocale(LC_ALL, 'es_ES.UTF-8');\n    $reader = new Reader($this-&gt;get('kernel')-&gt;getRootDir().'/../web/uploads/documents/question_images/2/41/masiva.csv');\n\n    $i = 1;\n    $r = array(\"hhh\" =&gt; $reader -&gt; getAll());\n\n    return new Response(json_encode($r, 200));\n}\n</code></pre>\n\n<p>As you can see, I have tried also to use a <code>setlocale</code> to <code>es_ES.UTF-8</code>. But nothing get it working.</p>\n\n<p>The read part comes here:</p>\n\n<pre><code>public function getRow()\n{\n    if (($row = fgetcsv($this-&gt;_handle, 10000, $this-&gt;_delimiter)) !== false) {\n        $this-&gt;_line++;\n        return $this-&gt;_headers ? array_combine($this-&gt;_headers, $row) : $row;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>See what I get in the $row variable after each row reading:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jmq4L.png\" alt=\"enter image description here\"></p>\n\n<p>Those <code>?</code> characters are supposed to be vowels with graphic accents on them.</p>\n\n<p>Any clue over there? Would it work if I used MS Excel for Windows? How can I know in run time the exact encoding of the file and set it before reading it?</p>\n\n<p>(For those spanish speakers, don't get frightened with such awful medical stuff in those texts ;)).</p>\n"},{"tags":["php","iphone","ipad","anchor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13298450,"title":"Anchors in a Google Map not working on an iPad","body":"<p>I am using Google Maps (through mapPress for WordPress, though I don't think this is important) to map points on a map with an Info Window, which contains a link to a separate page. This page has all the listings of the office, and as such I am using anchors to link to the part of the page with the more details. Here is the code that generates the HTML link</p>\n\n<pre><code>$description .= \"&lt;br/&gt;&lt;strong&gt;More Details: &lt;/strong&gt;&lt;a href='\".$office-&gt;guid.\"#details'&gt;Click Here&lt;/a&gt;\";\n</code></pre>\n\n<p>This code works fine in all desktop browsers, but doesn't seem to work on the iPad or Smartphones. I'm a bit confused as to why, any ideas why?</p>\n\n<p>Let me know if you need anything more explaining.</p>\n"},{"tags":["php","mysql","query","excel"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":13146949,"title":"transpose using php after querying a database","body":"<p>I am using PHP to query a MYSQL database, and I am trying to output the data to an excel file.</p>\n\n<p>I have used phpexcel, csv, etc. With each i have successfully been able to output the data to an excel file, but I can't seem to transpose it in the excel (transpose- flip all columns into rows, and rows into columns)</p>\n\n<p>I can't find any tutorials to help me out.</p>\n\n<p>My question is, is there a way to use php to transpose those rows and columns from MYSQL and import them into an excel file?</p>\n\n<p>thanks!</p>\n\n<p><strong>CODE:</strong></p>\n\n<pre><code>exportMysqlToCsv($tablename,$tokenmain, $id);\nfunction exportMysqlToCsv($tablename,$tokenmain, $id, $filename = 'Results.csv'){\n    $sql_query = \"select * from $tablename where token=1\";\n\n  // Gets the data from the database\n   $result = mysql_query($sql_query);\n\n    $f = fopen('php://temp', 'wt');\n    $first = true;\n\n//trying to transpose the data \nfunction transpose($array) {\n    array_unshift($array, null);\n    return call_user_func_array('array_map', $array);}\n\n//inserting it into the excel file  \n  while ($row = mysql_fetch_assoc($result)) {\n\n        if ($first) {\n\n            fputcsv($f, array_keys($row));\n\n            $first = false;\n\n         }\n\n      fputcsv($f, $row);\n    }\n} //end while\n</code></pre>\n\n<p><strong>Database sample:</strong></p>\n\n<pre><code>=======================================\n|  Male/female  |    Favorite artist  |\n=====+========+===============+=======|\n|    F          | Britney Spears      |\n|-------------------------------------|\n</code></pre>\n\n<p><strong>What I want it to look like:</strong></p>\n\n<pre><code>=====================================\n|Question          |  Answer        |\n=====+========+===============+=====|\n|   Male/female    |   F            |\n|----+--------+---------------+-----|\n| Favorite artist  | Britney Spears |\n|----+--------+---------------+-----|\n</code></pre>\n\n<p><strong>HUGE NOTE:</strong> There is no changing the database/hardcoding out the array in php. I want it all dynamic and the database is going to stay the way it is </p>\n"},{"tags":["php","wordpress","wordpress-plugin-dev"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13295870,"title":"Script conflict with adminimize plugin","body":"<p>Thought about asking on wordpress answers, but they would tell me it's a \"plugin thing\".. If you disagree then feel free to pass it over to them.</p>\n\n<p>I'm using this code in my functions.php which offers a dropdown menu of available categories when a user clicks the new post button. This forces them to choose a category BEFORE the new blank post is created.</p>\n\n<p>The problem is I'm getting \"invalid post type\" error and have it traced it back to a plugin called \"adminimizer\".</p>\n\n<p>The new post never gets created, the address bar gets stuck at mysite.com/wp-admin/post-new.php?category_id%5B%5D=4&amp;continue=Continue&amp;post_type=    (it should say \"post\" after the type=.. and I get an error box saying \"invalid post type\".</p>\n\n<p>I'd love to hear any thoughts on why my script might not be completing. Here's the code I'm using:</p>\n\n<pre><code>//ADD DROPDOWN MENU TO CHOOSE NEW POST CATEGORY (CHOOSE THE CAT ID’S YOU WANT TO APPEAR)\nadd_filter( 'load-post-new.php', 'wpse14403_load_post_new' );\nfunction wpse14403_load_post_new()\n{\n$post_type = 'post';\nif ( isset( $_REQUEST['post_type'] ) ) {\n    $post_type = $_REQUEST['post_type'];\n}\n\n// Only do this for posts\nif ( 'post' != $post_type ) {\n    return;\n}\n\nif ( array_key_exists( 'category_id', $_REQUEST ) ) {\n    add_action( 'wp_insert_post', 'wpse14403_wp_insert_post' );\n    return;\n}\n\n// Show intermediate screen\nextract( $GLOBALS );\n$post_type_object = get_post_type_object( $post_type );\n$title = $post_type_object-&gt;labels-&gt;add_new_item;\n\ninclude( ABSPATH . 'wp-admin/admin-header.php' );\n\n$dropdown = wp_dropdown_categories( array(\n\n'orderby'            =&gt; 'name',\n'include' =&gt; '3, 4',\n    'name' =&gt; 'category_id[]',\n    'hide_empty' =&gt; false,\n    'echo' =&gt; false,\n) );\n\n$category_label = __( 'Create New' );\n$continue_label = __( 'Continue' );\necho &lt;&lt;&lt;HTML\n&lt;div class=\"wrap\"&gt;\n\n&lt;h2&gt;{$title}&lt;/h2&gt;\n\n&lt;form method=\"get\"&gt;\n    &lt;table class=\"orange\"&gt;\n        &lt;tbody&gt;\n            &lt;tr valign=\"top\"&gt;\n                &lt;th scope=\"row\"&gt;{$category_label}&lt;/th&gt;\n                &lt;td&gt;{$dropdown}&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;th&gt;&lt;input name=\"continue\" type=\"submit\" class=\"button-primary\" value=\"  {$continue_label}\" /&gt;&lt;/th&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;input type=\"hidden\" name=\"post_type\" value=\"{$post_type}\" /&gt;\n   &lt;/form&gt;\n&lt;/div&gt;\nHTML;\ninclude( ABSPATH . 'wp-admin/admin-footer.php' );\nexit();\n}\n\n// This function will only be called when creating an empty post,\n// via `get_default_post_to_edit()`, called in post-new.php\nfunction wpse14403_wp_insert_post( $post_id )\n{\nwp_set_post_categories( $post_id, $_REQUEST['category_id'] );\n}\n</code></pre>\n\n<p>UPDATE / MORE INFO. On further investigation, I changed a bit of my code towards the end from hidden to text. This reveals an input field that is usually automatically filled with the post type \"post\". The adminimize plugin appears to prevent this from happening, even though I have not set it to hide anything?</p>\n\n<pre><code>&lt;input type=\"text\" name=\"post_type\" value=\"{$post_type}\" /&gt;\n</code></pre>\n\n<p>I guess the easy solution would be just don't use the adminimizer plugin, but it's very useful to keep things simple for new site owners. I've asked the plugin author about this, but don't expect an answer any time soon - thanks</p>\n"},{"tags":["php","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":28,"score":-4,"question_id":13298167,"title":"php error message: Warning: mysql_num_rows() expects parameter 1 to be resource, boolean","body":"<p>I'm trying to get this php page of an AJAX function to work. </p>\n\n<p>Here is the error message when I try to run it:</p>\n\n<pre><code>Warning: mysql_num_rows() expects parameter 1 to be resource, boolean given in /home/ftpbpan/public_html/ThornAJAX/info.php on line 10\n</code></pre>\n\n<p>Line 10 being:</p>\n\n<pre><code>**$num_rows = mysql_num_rows($query);**\n\n&lt;?php\n$connect = mysql_connect(\"localhost\",\"****\",\"******\") or die(\"didnot connect to database\");\n\nmysql_select_db(\"people\"); \n\nif(strlen($_GET['user']) &gt;0){\n$name = $_GET['user'];\n$query = mysql_query(\"select * from info where name='$name' limit 1\");\n$num_rows = mysql_num_rows($query);\n\nif($num_rows == 1) {\n  $row = mysql_fetch_assoc($query);\n</code></pre>\n"},{"tags":["php","codeigniter","email"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4,"score":0,"question_id":13298363,"title":"Multi functional email set up with Code igniter","body":"<p>I have an application built in CodeIgniter. I needed some help with the following  email related tasks. Please note all emails will require SSL.</p>\n\n<p>1) Send email to congratulate and welcome the user to the site\n2) Send an email to confirm a user account has been deleted should they choose to leave.\n3) Send an email to alert the user for a request sent to them from another user. \n4) Set up and send an email for \"forgot username\" and last but not not least\n5) Send an email to reset password in case the user can't remember how to login. </p>\n\n<p>Thanks for your help, appreciate it.</p>\n"},{"tags":["php","swiftmailer"],"answer_count":1,"favorite_count":3,"up_vote_count":2,"down_vote_count":1,"view_count":39,"score":1,"question_id":12894498,"title":"keep the connection alive after specified time in swiftmailer","body":"<p>i am using <code>SwiftMailer</code> to send bulk emails. As my hosting server is a shared server so they do have a limit to send <code>25 emails in 5 min</code> and after that i have to send the rest of the emails manually.</p>\n\n<p>To solve this issue i came across two plugis </p>\n\n<p><a href=\"http://swiftmailer.org/docs/plugins.html\" rel=\"nofollow\">1. AntiFlood</a></p>\n\n<p><a href=\"http://swiftmailer.org/docs/plugins.html\" rel=\"nofollow\">2. Throttler </a></p>\n\n<p>but i dont know which one is the best suitable </p>\n\n<pre><code>$mailer-&gt;registerPlugin(new Swift_Plugins_AntiFloodPlugin(25,300));\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$mailer-&gt;registerPlugin(new Swift_Plugins_ThrottlerPlugin(\n  5, Swift_Plugins_ThrottlerPlugin::MESSAGES_PER_MINUTE\n));\n</code></pre>\n\n<p>can anyone help me to make it more clear that which is good to use here</p>\n"},{"tags":["php","javascript","string","vim","syntax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13298234,"title":"Vim: Javascript syntax in strings","body":"<p>I can't seem to find a plugin or syntax file to do this, but is there a way to have Javascript syntax highlighting within, say, PHP strings?  There's a plugin/syntax file to do it for SQL syntax.</p>\n"},{"tags":["php","mysql","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13297658,"title":"Export selected rows in CSV and import back same CSV file to update selected rows in PHP/MySQL","body":"<p>I have a mysql table with following columns:</p>\n\n<pre><code>filterid    productid   value   groupid\n</code></pre>\n\n<p>I want to export the rows of this table (Only selected rows) to a CSV file.\nI know how to do the exporting part.</p>\n\n<p>For example, if I have exported the rows based on product ID, let say exported rows are:</p>\n\n<pre><code>4   13307   USA|Quebec|Rest of Canada   750\n9   15963   USA|Quebec|Rest of Canada   1\n9   13618   USA|Quebec|Rest of Canada   1\n9   16210   USA|Quebec|Rest of Canada   1\n9   16666   USA|Quebec|Rest of Canada   1\n</code></pre>\n\n<p>Out of total 100 rows.</p>\n\n<p>Now, I have exported this content into a CSV file and want to import it back to my mysql table where it should update only rows matching with the product id's which are in my exported CSV file without disturbing rest of the table content.</p>\n\n<p>Is it possible to do that?</p>\n\n<p>After googling, what I found is that I can import a CSV to a table using this code</p>\n\n<pre><code>LOAD DATA LOCAL INFILE 'filename.csv' INTO TABLE my_table FIELDS\nTERMINATED BY ',' \nENCLOSED BY '' \nLINES TERMINATED BY '\\n'\n</code></pre>\n\n<p>Please suggest a way to achieve this.</p>\n\n<p>I can provide you with more sample code if you need.</p>\n\n<p>Thank You!</p>\n"},{"tags":["php","mysql","ios","xcode"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13283501,"title":"MySQL Update command not working","body":"<p>I have been trying to get mysql entries to update via php from iOS. However, xcode's simulator refuses to update the values. Did I format this correctly? (to clarify, database name is \"login\" and the two prog variables are integers (that doesn't have to be formatted differently does it?))</p>\n\n<pre><code>&lt;?php\n$prog= $_GET['prog'];\n$prog1= $_GET['prog1'];\n$dbh = new PDO('(censored)');\n$sql = \"UPDATE login SET oneam = $prog, twelvefif = $prog1 WHERE username = 'hello'\"; \n$q = $dbh-&gt;prepare( $sql );\n$q;\n?&gt;\n</code></pre>\n\n<p>or in xcode...</p>\n\n<pre><code>NSString *urlString = [NSString stringWithFormat:@\"(censored)?prog=%@&amp;prog1=%@\", prog, prog1];\n</code></pre>\n"},{"tags":["php","wordpress","wordpress-loop"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13290293,"title":"Issue with the loop in wordpress","body":"<p>I have a problem that I couldn't solve since morning.</p>\n\n<pre><code>&lt;?php \nif (have_posts()) :\n while (have_posts()) : the_post(); ?&gt;\n</code></pre>\n\n<p>This is wordpress <code>the loop</code> in index.php. When I add <code>the_post</code> the last post that is in the page disappears and when I remove it all the posts get mixed up. </p>\n\n<p>Can you please give me a solution.</p>\n\n<p>here's the full index.php</p>\n\n<pre><code>&lt;?php get_header(); ?&gt;\n&lt;div id=\"body\"&gt;\n    &lt;div class=\"content-container\"&gt;\n        &lt;?php \n        if (have_posts()) :\n        while (have_posts()) : the_post(); ?&gt;\n    &lt;div class=\"content-whole\"&gt;\n        &lt;div class=\"thumbnail\"&gt;\n        &lt;?php \n        // check if the post has a Post Thumbnail assigned to it.\n            if ( has_post_thumbnail() ) {\n            the_post_thumbnail();\n            } \n        ?&gt;\n        &lt;/div&gt;\n        &lt;div class=\"content\"&gt;\n        &lt;div class=\"post-title\"&gt;\n        &lt;p class=\"postmetadata\"&gt;\n            Posted&lt;?php echo human_time_diff( get_the_time('U'), current_time('timestamp') ) . ' ago';?&gt;\n             with  &lt;a href=\"#disqus_thread\"&gt;&lt;?php the_post(); comments_number(); ?&gt;&lt;/a&gt;\n             &lt;?php } ?&gt;\n        &lt;/p&gt;\n        &lt;h2 id=\"post-title\"&gt;\n        &lt;a href=\"&lt;?php the_permalink() ?&gt;\" rel=\"bookmark\"&gt;\n        &lt;?php\n            $cats=get_the_category();\n            echo $cats[0]-&gt;cat_name;\n            ?&gt; : &lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/h2&gt;\n        &lt;/div&gt;\n    &lt;?php the_content('Read More &amp;raquo;'); ?&gt;\n    &lt;/div&gt;&lt;!--end content--&gt;\n    &lt;/div&gt;&lt;!--end content whole--&gt;\n        &lt;?php endwhile; ?&gt;\n        &lt;div class=\"pagenavi\"&gt;\n        &lt;?php\n        global $wp_query;\n        $big = 999999999; // need an unlikely integer\n        echo paginate_links( array(\n        'base' =&gt; str_replace( $big, '%#%', esc_url( get_pagenum_link( $big ) ) ),\n        'format' =&gt; '?paged=%#%',\n        'current' =&gt; max( 1, get_query_var('paged') ),\n        'total' =&gt; $wp_query-&gt;max_num_pages\n        ) );\n        ?&gt;\n        &lt;/div&gt;\n        &lt;?php endif; ?&gt; \n    &lt;/div&gt;\n    &lt;?php get_sidebar(); ?&gt;\n&lt;/div&gt;\n</code></pre>\n\n\n"},{"tags":["php","wordpress","wordpress-plugin","rewrite","hook"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13298216,"title":"$wp_rewrite->flush_rules() not working","body":"<p>I'm building a Wordpress plugin that sets up a custom post type, and it all seems to be working fine and dandy. However, I have an activation hook that should (in theory at least) set up my permalinks and flush my rewrite rules, but it doesn't work:</p>\n\n<pre><code>register_activation_hook( __FILE__, 'foodsafety_activate' );\n\nfunction foodsafety_activate() {\n  global $wp_rewrite;\n  $wp_rewrite-&gt;add_rewrite_tag(\"%inspection%\", '([^/]+)', \"inspection=\");\n  $wp_rewrite-&gt;add_permastruct('inspection', $inspection_structure, false);    \n  $wp_rewrite-&gt;flush_rules();\n}\n</code></pre>\n\n<p>If I go into <code>Settings &gt; Permalinks</code> and hit 'Save changes' the rules get flushed and the permalinks work as expected, so I must be going wrong somewhere with the activation hook. Any ideas?</p>\n"},{"tags":["php","facebook","authentication","sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":6,"score":-1,"question_id":13298000,"title":"authentication with facebook php sdk when already logged in","body":"<p>I've some issue to login my website usign php sdk in case of login already perfomed on facebook.</p>\n\n<p>login code used retrieved from <a href=\"https://developers.facebook.com/docs/reference/php/facebook-api/\" rel=\"nofollow\">https://developers.facebook.com/docs/reference/php/facebook-api/</a></p>\n\n<p>For example\nI login on facebook through facebook.com site.\nAfter I open my website, it wrote me \"Please login\".</p>\n\n<p>why? So I've found information about the access token and old post where it was suggested to use offline_access. But if I'm in right it's been deprecated.</p>\n\n<p>Now I'm looking for new login authentication, but I don't understand how to manage this better..\nIs js function the only way to check previously login on facebook?</p>\n\n<p>many thanks</p>\n"},{"tags":["php","api","shopify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13190350,"title":"Unable to update product using SHOPIFY PHP API","body":"<p>I'm implementing <em>@sandeep shetty shopify api</em> to insert records into my shopify store.  I have implemented insertion completely and working fine for my store. I'm facing problem during update. I'm unable to update records that are being inserted in store. I'm updating records as per their id being generated by api after insertion.<br>\nHere is my code that i have written for update product.</p>\n\n<p>Array that will pass as parameter in shopify api call.</p>\n\n<pre><code>$product = array\n    (\n\n        \"product\" =&gt; array\n        (\n            \"variants\" =&gt; array\n                (\n                    \"price\" =&gt;  $cat['selling_price'],\n                    \"inventory_quantity\"=&gt;($cat['original_qty']!=\"\") ? $cat['original_qty'] : 'Null',\n                )\n        )\n    );\n</code></pre>\n\n<p>Code for update product.</p>\n\n<pre><code>$update = $shopify('PUT', \"/admin/products/#{id}.json\", $product); \n</code></pre>\n"},{"tags":["php","sql","magento"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13294786,"title":"Magento, programmatically adding category to products in script with SQL","body":"<p>I am in the process of determining the best way to programmatically add Categories to Products.  The Categories are obtained from third party data outside of the magento install, I then parse this data and want to update the magento: \"catalog_category_product\" table, associating found categories to their respective products.</p>\n\n<p>After adding a category to product association in \"catalog_category_product\" as test, the category did not appear on the magento front-end site.  After more searching I added an entry to the \"catalog_category_product_index\" table, the product now shows in the proper category on the front-end site.</p>\n\n<p>Is this all that is necessary?  I am afraid there are additional magento event hooks tied to the Products and Categories and they may be updating additional tables that I am not aware of.</p>\n\n<p>Can I add rows to these two tables with SQL without incident, or do I need to load the magento app and do this through the EAV Product and Category models?  Am I on the right track?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I am not actually 'importing' any new data.  The Products and Categories are in-place in the system already. I have also not added any custom observers and am using the vanilla Products and Categories models.</p>\n\n<p>I am parsing the text file to get the proper values and then using plain SQL UPDATE statements.</p>\n\n<p>I simply want to make sure that by taking this route, the only tables I need to programmatically update are 'catalog_category_product' and 'catalog_category_product_index'.  </p>\n"},{"tags":["php","zend-framework","php5"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13297989,"title":"$this->_getParam in Zend Framework and empty()","body":"<p>So I'm submiting a form and I'm trying to check if a field is empty or not and I do this:</p>\n\n<pre><code>if(empty($this-&gt;_getParam('my_field')))\n</code></pre>\n\n<p>And It doesn't work, But this works if I just use <code>$_POST['my_field]</code></p>\n\n<p><code>&lt;b&gt;Fatal error&lt;/b&gt;:  Can't use method return value in write context in....</code></p>\n\n<p>How should I do this with <code>$this-&gt;_getParam</code> in order to work? since I guess is not such a good option to use <code>$_POST</code> on a framework.</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13297987,"title":"Square brackets in php preg_match","body":"<p>I would like to in form I can enter only the letters of the alphabet, numbers, and square brackets, except for special characters. Whether the brackets to include special characters? I have such:</p>\n\n<pre><code>if (preg_match(\"/[^a-zA-Z0-9]+/\", $characters))\n{\n    echo \"Write only letters of alphabet and numbers!\";\n}\n</code></pre>\n\n<p>It detects letters and numbers correctly, does not pass the special characters but how to do that I can also enter the square brackets? </p>\n"},{"tags":["php","regex"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13296234,"title":"How do I strip out in PHP everything but printing characters?","body":"<p>I am working with this daily data feed. To my surprise, one the fields didn't look right after it was in MySQL. (I have no control over who provides the feed.)</p>\n\n<p>So I did a mysqldump and discovered the zip code and the city for this record contained a non-printing char. It displayed it in 'vi' as this:\n&lt;200e></p>\n\n<p>I'm working in PHP and I parse this data and put it into the MySQL database. I have used the trim function on this, but that doesn't get rid of it. The problem is, if you do a query on a zipcode in the MySQL database, it doesn't find the record with the non-printing character.</p>\n\n<p>I'd like the clean this up before it's put into the MySQL database.</p>\n\n<p>What can I do in PHP? At first I thought regular expression to only allow a-z,A-Z, and 0-9, but that's not good for addresses. Addresses use periods, commas, hyphens and perhaps other things I'm not thinking of at the moment.</p>\n\n<p>What's the best approach? I don't know what it's called to define it exactly other than printing characters should only be allowed. Is there another PHP function like trim that does this job? Or regular expression? If so, I'd like an example. Thanks!</p>\n\n<p>I have looked into using the PHP function, and saw this posted at PHP.NET:</p>\n\n<pre><code>&lt;?php\n$a = \"\\tcafé\\n\";\n//This will remove the tab and the line break\necho filter_var($a, FILTER_SANITIZE_STRING, FILTER_FLAG_STRIP_LOW);\n//This will remove the é.\necho filter_var($a, FILTER_SANITIZE_STRING, FILTER_FLAG_STRIP_HIGH);\n?&gt;\n</code></pre>\n\n<p>While using FILTER_FLAG_STRIP_HIGH does indeed strip out the &lt;200e> I mentioned seen in 'vi', I'm concerned that it would strip out the letter's accent in a name such as André.</p>\n\n<p>Maybe a regular expression is the solution?</p>\n"},{"tags":["php","osx","bash"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":13,"score":2,"question_id":13297965,"title":"Mac / OSx - Change PHP version which is call in bash","body":"<p>I have a problem with PHP which is call through bash command \"php\":</p>\n\n<p>In bash:</p>\n\n<blockquote>\n  <p>php -v        # PHP 5.3.17</p>\n  \n  <p>/usr/bin/php  # PHP 5.3.15</p>\n</blockquote>\n\n<p>I want secondary PHP version 5.3.15 as mainly, because in this version I have correctly installed extensions etc. </p>\n\n<p>How can I set <strong>/usr/bin/php</strong> as main -> I want when call \"<em>php -v</em>\" return my 5.3.15 version.</p>\n\n<p>Execuse my bad English, I hope that you understand. </p>\n\n<p>Thank you so much.\nI have Mac OSx Lion</p>\n"},{"tags":["php","if-statement"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13297662,"title":"PHP if statement compare 3 dates","body":"<p>I am having trouble writing if statement</p>\n\n<p>there are the 3 variables</p>\n\n<pre><code>$date = 1985-11-01;\n\n$date2 = 2005-11-08;\n\n$date3 = 2006-11-08;\n</code></pre>\n\n<p>and here is my if statement.</p>\n\n<pre><code>if($date &gt; $date2 &amp;&amp; $date &lt; $date3) {\n            // dob is between the limits\n            return TRUE;\n        }\n        else {\n            // dob is outside the limits\n            return FALSE;\n        }\n</code></pre>\n\n<p>What I am try to do is, if $date is not in between $date2 and $date3, return false. I am very tired today and my brain is not working, can someone tell me what I am doing wrong?</p>\n"},{"tags":["php","windows","linux","operating-system","detect"],"answer_count":7,"favorite_count":0,"up_vote_count":10,"down_vote_count":0,"view_count":4617,"score":10,"question_id":5879043,"title":"PHP script - detect whether running under linux or Windows?","body":"<p>I have a PHP script that may be placed on a windows system or a linux system. I need to run different commands in either case. </p>\n\n<p>how can i detect which environment i am in? (preferably something php rather than clever system hacks)</p>\n\n<hr>\n\n<p>sorry sorry!! the script is running from the command line!!!!</p>\n"},{"tags":["php","perl","symfony2","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13287716,"title":"How do I call a perl script from my Symfony2 controller?","body":"<p>I am trying to implement an automatic submission to an information management system from within my Symfony2 application.  Someone else has written a perl script for the submission.  I just need to use the controller to get values from an entity to pass to the script as arguments.</p>\n\n<p>I have tested the perl script by running a short php script from the command line:</p>\n\n<pre><code>&lt;?php\n\n$perlscript = 'test_submit_to_lims.pl';\n\n$output = \\shell_exec('perl ' . $perlscript . \" 'arg1' 'arg2' 'arg3' \");\necho $output;\n\n?&gt;\n</code></pre>\n\n<p>This returns a string with some values of interest which I need for my application.  </p>\n\n<p>I have put the perl script and dependent files in a folder called dependencies at the same level as my Symfony project folder</p>\n\n<p>I tried to use similar code in my controller: </p>\n\n<pre><code>...\n\n$arg1 = $form-&gt;get('arg1')-&gt;getData();\n$arg2 = $form-&gt;get('arg2')-&gt;getData();\n$arg3 = $form-&gt;get('arg3')-&gt;getData();\n$pathToScript = '/opt/sfprojects/dependencies';\n$perlScript = \"$pathToScript/test_submit_to_lims.pl\";\n$output = \\shell_exec('perl '.$perlScript.\" $arg1 $arg2 $arg3 \");\nvar_dump($output);\n\n...\n</code></pre>\n\n<p>This gives me \"Network Error: 500 Internal Server Error - <a href=\"http://www2-mywebsite.org/myEntity/create\" rel=\"nofollow\">http://www2-mywebsite.org/myEntity/create</a>\"</p>\n\n<p>I'm not sure whether the error is caused by something simple in my php code, by the need to somehow enable perl in a Symfony configuration file or something else like the location of the script, file permissions, etc.</p>\n\n<p>I would appreciate any ideas of where I may have gone wrong.</p>\n"},{"tags":["php","sql","fetchall"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":38,"score":0,"question_id":13297094,"title":"How do I use fetchAll in php?","body":"<p>I am using this statement to fetch the elements in a column in my db</p>\n\n<pre><code>$result = $stmt-&gt;fetchAll(PDO::FETCH_COLUMN, 0);\n</code></pre>\n\n<p>but I get this error when trying to run it.</p>\n\n<p>Call to undefined method <code>mysqli_stmt::fetchAll();</code></p>\n\n<p>Is there something I need to add to my php file to include that method or something?</p>\n\n<p>UPDATE 1:</p>\n\n<pre><code>class LoginAPI\n{\nprivate $db;\n\nfunction __construct() \n{\n    $this-&gt;db = new mysqli('xxx', 'xxx', 'xxx', 'xxx');\n    $this-&gt;db-&gt;autocommit(FALSE);\n}\n\nfunction __destruct() \n{\n    $this-&gt;db-&gt;close();\n}\n\nfunction login() \n{\n    if(isset($_POST[\"lang\"]))\n    {\n        $stmt = $this-&gt;db-&gt;prepare(\"SELECT code FROM locations\");\n        $stmt-&gt;execute();\n        $stmt-&gt;bind_result($code);\n\n        //while($stmt-&gt;fetch())\n        //{\n        //  result[] = \"code\"=&gt;$code;\n        //  break;\n        //}\n        $codeArr = array();\n        $result = $stmt-&gt;fetch_all();//|PDO::FETCH_GROUP;\n\n\n\n\n        sendResponse(200, json_encode($result));\n        return true;\n    }\n    sendResponse(400, 'Invalid Request');\n    return false;\n}\n}\n</code></pre>\n"},{"tags":["php","migration","aptana","dreamweaver"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":3,"view_count":16,"score":-3,"question_id":13297919,"title":"How long will it take to get started with Aptana with a php/ajax site?","body":"<p>I have a pretty big site with javascript, php and AJAX calls and its made in Dreamweaver. I want to get started with Aptana, but I have no idea where to start, and the guides I've seen don't help much. I can't even figure out how to make a \"hello world\" text file that previews the file. I'm worried it could take weeks before I'm actually moving forward on my project if I migrate to Aptana.</p>\n\n<p>Please tell me there is an easy way to do this, and where can I find a tutorial perhaps? I basically have no idea how to use this program.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13297767,"title":"error with strpos on form","body":"<p>I'm coding the locations for groups, and the user can search based on the location to find the nearest group to them. The fields are: country, state, city, neighborhood. Let's say there are ten groups in the USA -- I don't want it to list the option USA ten times. I added in a strpos so that it will only list them once, but I'm getting an error.</p>\n\n<p>Here's the php code:</p>\n\n<pre><code>&lt;?php\n$myQuery = \"select country, state, city, neighborhood from groups WHERE group_status = 'open to new members'\";\n\n$rs = mysql_query($myQuery);\n\n$country_options = $state_options = $city_options = $neighborhood_options = '';\n\nwhile($get_row = mysql_fetch_assoc($rs)){\n\n$pos_country = strpos($get_row['country'], $country_options);\n\nif($pos_country === false) {\necho $country_options .= \"&lt;option value='\" . $get_row['country'] . \"'&gt;\" . $get_row['country'] . \"&lt;/option&gt;\";}\n\n$pos_state = strpos($get_row['state'], $state_options);\nif($pos_state === false) {\necho $state_options .= \"&lt;option value='\" . $get_row['state'] . \"'&gt;\" . $get_row['state'] . \"&lt;/option&gt;\";}\n\n$pos_city = strpos($get_row['city'], $city_options);\nif($pos_city === false) {\necho $city_options .= \"&lt;option value='\" . $get_row['city'] . \"'&gt;\" . $get_row['city'] . \"&lt;/option&gt;\";}\n\n$pos_neighborhood = strpos($get_row['neighborhood'], $neighborhood_options);\nif($pos_neighborhood === false) {\necho $neighborhood_options .= \"&lt;option value='\" . $get_row['neighborhood'] . \"'&gt;\" . $get_row['neighborhood'] . \"&lt;/option&gt;\";}\n\n}\n?&gt;\n</code></pre>\n\n<p>It outputs the following errors:</p>\n\n<blockquote>\n  <p>Warning: strpos(): Empty delimiter in sidebar.php on line 66</p>\n  \n  <p>Warning: strpos(): Empty delimiter in sidebar.php on line 70</p>\n  \n  <p>Warning: strpos(): Empty delimiter in sidebar.php on line 73</p>\n  \n  <p>Warning: strpos(): Empty delimiter in sidebar.php on line 76</p>\n</blockquote>\n\n<p>Underneath the error it has a nice form with the correct fields: country, state, city, neighborhood. It's just listing the same countries multiple times.</p>\n"},{"tags":["php","wordpress","preg-replace"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":27,"score":-3,"question_id":13297742,"title":"Preg_replace to insert string before number","body":"<p>How do you insert a string before a number?</p>\n\n<p>I have the following Wordpress function:</p>\n\n<pre><code>get_the_term_list( $post-&gt;ID, 'level', '', ', ', '' )\n</code></pre>\n\n<p>This function outputs numbers like so:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;1&lt;/a&gt;\n</code></pre>\n\n<p>or, if there is more than one entry in the database:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;1&lt;/a&gt;, &lt;a href=\"#\"&gt;2&lt;/a&gt;\n</code></pre>\n\n<p>How can I insert \"level \" before the number? so that it looks like this:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;level 1&lt;/a&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;level 1&lt;/a&gt;, &lt;a href=\"#\"&gt;level 2&lt;/a&gt;\n</code></pre>\n"},{"tags":["php","mysql","url","video","rewriting"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":11493668,"title":"URL rewriting and url parameter","body":"<p>I've been building my website from the very beginning until today with no framework or WYSIWYG software. I now realize that the way I made it could have been a lot simplier.</p>\n\n<p>I'm a noob in php and mysql and wish to understand how it works. That's why I decided to make a website about a particular theme. That's the best practice to learn these 2 languages...</p>\n\n<p>So, </p>\n\n<p>My website goes about video content with daily updates. </p>\n\n<p>I use to make per video a unique webpage... Now I've more than 300 pages of video content and I want to bring all this content into my database and put it all in one template webpage.</p>\n\n<p>When I want to apply a change, I have to open all those webpages and make on each page the needed changes. Fortunatelly, the search en replace box helps me.</p>\n\n<p>I just wanted to do something on the website that could make my routine and work a lot faster and easier.</p>\n\n<p>I'd like to do some url rewriting with mysql requests.</p>\n\n<p>I'm working on a piece of code, but I can't find what goes wrong with that.\nDreamweaver tells me that there's no error on the synthax, but when I preview it (WAMP) , it keeps showing me an error until a get rid of the 'p' paramater. Hereunder, I join you the code i'm using.</p>\n\n<pre><code>    &lt;?php\ninclude \"connect.php\";\n$id = $_GET[\"id\"]; \n$sql = \"SELECT * FROM videos WHERE id=$id LIMIT 1\"; //mysql tells me there's a error near LIMIT 1\n$req = mysql_query($sql) or die( mysql_error().\" ERROR\");\n$data = mysql_fetch_assoc($req);\n\nif($data[\"url\"]!=$_GET[\"url\"])\n{\n    header(\"location:/video/atest.php/\".$data[\"id\"].\"-\".$data[\"url\"]); //if the URL is altered, it will be immediatelly fixed thanks to this function\n}\n?&gt;\n</code></pre>\n\n<blockquote>\n  <p>You have an error in your SQL syntax; check the manual that\n  corresponds to your MySQL server version for the right syntax to use\n  near 'LIMIT 1' at line 1 ERROR</p>\n</blockquote>\n\n<p>Thanks to that I will be able to insert on my database every piece of content for each unique video > title, description, ... without the need to make a thousand of changes and upload new webpages.</p>\n\n<p>the URL parameters are also on my database and the php scripts makes the call to the database to retrieve the URL and make this look like a unique webpage.</p>\n\n<p>Oh and sorry for my English...</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["php","mysql","sql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13200676,"title":"Multiple MySQL Database user logins conflicting","body":"<p>I have 2 databases that I INSERT INTO on my php page. I have anti-injection, however my problem lies in the following mysql_error(); message: INSERT command denied to user 'username'@'50.63.197.56' for table 'something_clients'.</p>\n\n<p>My first database is the 'username', and it cannot access the other database, which is good. However, I would my 2nd connection to access its database. Any help is greatly appreciated! Here is my code: \n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php  \n{  \nrequire_once('client-config.php');  \n$link = mysql_connect(DB_HOST, DB_USER, DB_PASSWORD);  \nif(!$link) {  \n    die('Failed to connect to server: ' . mysql_error());  \n}  \n$DBName1 = mysql_select_db(DB_DATABASE);  \nif(!$DBName1) {  \n    die(\"Unable to select database\");  \n}  \n    $sqv = \"CREATE TABLE `$DBName1`.`{$login}_weekly` (  \nDate1 int,  \nDate2 int,  \nDate3 int,   \nDate4 int,  \nDate5 int,  \nDate6 int,  \nDate7 int,  \nClientTotal int  \n)\";   \n    mysql_query($sqv,$link);  \n    mysql_close($link);  \n}  \n{  \nrequire_once('agent-config.php');  \n//Connect to mysql server  \n$link2 = mysql_connect(DB_HOST, DB_USER, DB_PASSWORD, true);  \nif(!$link2) {  \n    die('Failed to connect to server: ' . mysql_error());  \n}  \n$DBName2 = mysql_select_db(DB_DATABASE);  \nif(!$DBName2) {  \n    die(\"Unable to select database\");  \n}  \n//Create INSERT query  \n$qry2 = \"INSERT INTO `$DBName2`.`{$agentlogin}_clients` (AgentClients)   VALUES('$login')\";  \n$result2 = @mysql_query($qry2);  \n    echo mysql_error($link2);  \nif($result2) {  \n    header(\"location: client-register-success.php\");  \n    exit();  \n}else {     \n    die(\"Query failed\");  \n}  \n}   \n?&gt;\n</code></pre>\n"},{"tags":["php","azure","php-extension","azure-web-sites","ioncube"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13297801,"title":"How do I install ionCube on an Azure Web Site?","body":"<p>I am trying to follow the instructions under <a href=\"http://blogs.msdn.com/b/silverlining/archive/2012/09/17/using-custom-php-extensions-in-windows-azure-web-sites.aspx\" rel=\"nofollow\">Using Custom PHP Extensions in Windows Azure Web Sites</a> to enable the ionCube extension for PHP running within an Azure Web Site. Here's what I did:</p>\n\n<ol>\n<li>Downloaded the Windows VC9 (Non-TS) (x86) loader from the <a href=\"http://www.ioncube.com/loaders.php\" rel=\"nofollow\">ionCube loader download page</a>.</li>\n<li>Created a directory at /bin (not /site/bin, and not /site/wwwroot/bin)</li>\n<li>FTP'd <code>ioncube_loader_win_5.3.dll</code> to that directory.</li>\n<li>Under \"app settings\" in the Azure portal for the web site I added <code>PHP_EXTENSIONS</code> with value <code>bin/ioncube_loader_win_5.3.dll</code>.</li>\n<li>I loaded <a href=\"http://my.azure.website/info.php\" rel=\"nofollow\">http://my.azure.website/info.php</a> and verified that the Environment table included <code>PHP_EXTENSIONS</code> = <code>bin/ioncube_loader_win_5.3.dll</code>. It also contains <code>APPSETTING_PHP_EXTENSIONS</code> = <code>bin/ioncube_loader_win_5.3.dll</code>.</li>\n<li>However, there is nothing listed under Additional Modules in phpinfo(), so it appears that ioncube is not loading.</li>\n</ol>\n\n<p>Is there something I forgot or is ioncube not supported on Azure? Did I set up the directory properly?</p>\n"},{"tags":["php","class","php5","syntax-error"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13297476,"title":"php access class by string","body":"<p>The following code works fine on my localhost and my first hoster, but not at my new hoster.</p>\n\n<pre><code>static function setup ($childModel) {\n  query::create()\n   -&gt;name($childModel::$tableName)\n   -&gt;mayExist()\n   -&gt;row($childModel::$struct)\n   -&gt;key($childModel::$index)\n   -&gt;run();\n}\n</code></pre>\n\n<p><code>$childModel</code> contains a string with the name of a class. Worked fine so far, but the new server says:</p>\n\n<pre><code>Parse error: syntax error, unexpected T_PAAMAYIM_NEKUDOTAYIM in /***/model.php on line 71\n</code></pre>\n\n<p>(line 71 is line 3 of the code above)</p>\n\n<p>I know this means that he dont like the <code>::</code>, but why do none of my other servers complain here? And what can I do about this?</p>\n\n<p>UPDATE: It works now. It seems like it just took time for the server to switch to the new php version. Sorry everybody! (How do I close this thread?)</p>\n"},{"tags":["php","linux","sockets","polling","unix-socket"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":33,"score":3,"question_id":13295067,"title":"How can PHP gracefully shut down a local socket connection...?","body":"<p>I have a PHP client connecting to a local C server programme via a text-only Unix-domain socket. However, the only way I can get it to shutdown nicely is if I finish the socket session with:</p>\n\n<pre><code>socket_shutdown($sock, 1);    // shutdown socket writing\nusleep(500 * 1000);           // wait for 0.5 seconds\nfclose($sock);                // actually close the socket (finally)\n</code></pre>\n\n<p>I'd like to shut it down gracefully like my C client:-</p>\n\n<pre><code>shutdown(connection_fd, SHUT_WR);     // tell server we've stopped sending queries\n// Read from the socket until poll(connection_fd) yields POLLRDHUP / POLLHUP / POLLERR / POLLNVAL\nshutdown(connection_fd, SHUT_RDWR);   // tell connection we've stopped listening\nclose(connection_fd);                 // close the whole connection (finally)\n</code></pre>\n\n<p>However, PHP doesn't appear to have a direct socket poll() equivalent. How can I get PHP to shut down my local socket gracefully?</p>\n"},{"tags":["php","facebook","api","user"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2668,"score":0,"question_id":6936654,"title":"how to get facebook user album's id using php facebbok API","body":"<p>I am trying to get facebook user albums id and I am using this code</p>\n\n<pre><code>$friendsalbum = $facebook-&gt;api(\"/userID/albums/\");\n</code></pre>\n\n<p>where userID is the user facebook id\nbut it returm me empty array.</p>\n"},{"tags":["php","html","mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":44,"score":-2,"question_id":13278506,"title":"Adding sort order to my code","body":"<p>I am looking to sort my rows on my table. I need help on how or where I can add <code>ORDER BY date DESC, paymentamount DESC</code> to my table below. It tells me Tstring error when I try to tag it to the end of any <code>Select</code>. Any advice would be apprecited.</p>\n\n<pre><code>&lt;?php\nif ($_REQUEST[\"carrier\"]&lt;&gt;'') {\n    $search_carrier = \" AND (carriername LIKE '%\".mysql_real_escape_string($_REQUEST[\"carrier\"]).\"%')\"; \n}\nif ($_REQUEST[\"loadtype\"]&lt;&gt;'') {\n    $search_loadtype = \" AND loadtype='\".mysql_real_escape_string($_REQUEST[\"loadtype\"]).\"'\";   \n}\n\nif ($_REQUEST[\"from\"]&lt;&gt;'' and $_REQUEST[\"to\"]&lt;&gt;'') {\n    $sql = \"SELECT * FROM `Carriers` WHERE fromzip &gt;= '\".mysql_real_escape_string($_REQUEST[\"from\"]).\"' AND tozip &lt;= '\".mysql_real_escape_string($_REQUEST[\"to\"]).\"'\".$search_string.$search_loadtype;\n} else if ($_REQUEST[\"from\"]&lt;&gt;'') {\n    $sql = \"SELECT * FROM `Carriers` WHERE fromzip &gt;= '\".mysql_real_escape_string($_REQUEST[\"from\"]).\"'\".$search_string.$search_loadtype;\n} else if ($_REQUEST[\"to\"]&lt;&gt;'') {\n    $sql = \"SELECT * FROM `Carriers` WHERE tozip &lt;= '\".mysql_real_escape_string($_REQUEST[\"to\"]).\"'\".$search_string.$search_loadtype;\n} else {\n    $sql = \"SELECT * FROM `Carriers` WHERE id&gt;0\".$search_string.$search_loadtype;\n}\n\n$sql_result = mysql_query ($sql, $con ) or die ('request \"Could not execute SQL query\" '.$sql);\nif (mysql_num_rows($sql_result)&gt;0) {\n    while ($row = mysql_fetch_assoc($sql_result)) {\n?&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;?php echo $row[\"carriername\"]; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $row[\"fromzip\"]; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $row[\"tozip\"]; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $row[\"loadtype\"]; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $row[\"typeofequipment\"]; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $row[\"date\"]; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $row[\"paymentamount\"]; ?&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n</code></pre>\n"},{"tags":["php","frameworks"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":13297630,"title":"What framework is actually worth learning?","body":"<p>I've been using many different frameworks throughout the time, however I'm not very happy about them. Let's take a look of why.</p>\n\n<p><strong>CodeIgniter</strong></p>\n\n<ul>\n<li>Encoding issues (There is no simple way of fixing this without recoding  a few core files. (Great, huh?)</li>\n<li>There is no built-in object-relational mapping, you need to find and then make your own implementation.</li>\n<li>There is no tutorials up-to date.</li>\n<li>The community is dead.</li>\n</ul>\n\n<p><strong>YII/Symfony</strong></p>\n\n<ul>\n<li>The learning curve is waaay to hard. I don't even know the php code anymore.</li>\n<li>The configuration is embarrasingly annoying, not friendly for Windows-users.</li>\n</ul>\n\n<p><strong>Zend Framework</strong></p>\n\n<ul>\n<li>Unclear documentation.</li>\n<li>Where's the community!?</li>\n</ul>\n\n<p><strong>WHAT AM I LOOKING FOR?</strong> </p>\n\n<p>I am looking for a framework which can let me work in no time, doesn't change the way of thinking, is clear and well-tested. Has libraries, database, orm, e-mail, security (cookies/sessions/xss etc). A documentation that makes sense, tutorials that you can actually learn from... And lastly, doesn't make php being another language... </p>\n"},{"tags":["php","unlink"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":52,"score":1,"question_id":13295307,"title":"Delete file onclick with PHP","body":"<p>I want to delete a file when a user clicks on a delete link. But when I go to my page, the file gets deleted and I don't know why:</p>\n\n<pre><code>echo '&lt;h3&gt;&lt;a onclick=\"'.unlink(__FILE__).'\"&gt;Delete Now!&lt;/a&gt;&lt;/h3&gt;';\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["php","mysql","join"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13297212,"title":"make multi level menu use join (php, mysql)","body":"<p>How i can make multi levels menu use join (php and mysql)</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li&gt;&lt;a href=''&gt;main item&lt;/a&gt;\n       &lt;ul&gt;\n           &lt;li&gt;&lt;a href=''&gt;sub item&lt;/a&gt;&lt;/li&gt;\n       &lt;/ul&gt;\n   &lt;/li&gt;\n\n&lt;/ul&gt;\n</code></pre>\n"},{"tags":["php","jquery","forms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13297556,"title":"Bind form entry to jquery script to .addclass","body":"<p>I dynamically generated a page with a single text element form and a table of data below it. Each row of the table has a barcode as the name (). As I scan each barcode in the form above the table, I'd like to change the row color using jquery. Since this is my first jquery, I'm looking  for the best direction to go before coding.</p>\n\n<p>The first method I think I can do this is by adding the .addclass script and style to the head. As I scan each barcode in the text field, I can use PHP_SELF to 'bind' the barcode variable to my jquery script, in turn changing the row color with that barcode. </p>\n\n<p>A more difficult approach for me at least is instead of PHP_SELF, call my function.php file (action = \"function.php\") containing the jquery script and bind/pass the barocde variable to the script, somehow return the action to change the row color. Not even sure this is possible. </p>\n\n<p>Any suggestions/hints/direction I should take...before I start coding endlessly in circles. Thanks. </p>\n"},{"tags":["php","routing","wildcard","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13297278,"title":"Laravel - Using (:any?) wildcard for ALL routes?","body":"<p>So, i'm having a bit of trouble with the routing.</p>\n\n<p>I'm working on a CMS, and i need two primary routes. <code>/admin</code> and <code>/(:any)</code>. The <code>admin</code> controller is used for the route <code>/admin</code>, and the <code>view</code> controller should be used for anything else than <code>/admin</code>. From the <code>view</code> controller, i will then parse the url and show the correct content.</p>\n\n<p>This is what i have:</p>\n\n<pre><code>Route::get(array('admin', 'admin/dashboard'), array('as' =&gt; 'admin', 'uses' =&gt;'admin.dashboard@index'));\nRoute::any('(:any)', 'view@index');\n</code></pre>\n\n<p>The first route works, but the second one doesn't. I played around with it a little bit, and it seems if i use <code>(:any)</code> without the question mark, it only works if i put something after <code>/</code>. If i <em>do</em> put the question mark there, it doesn't work at all.</p>\n\n<p>I want all of the following routes to go to view@index:</p>\n\n<pre><code>/\n/something\n/something/something\n/something/something/something\n/something/something/something/something\n...etc...\n</code></pre>\n\n<p>Is this possible without hardcoding a bunch of <code>(:any?)/(:any?)/(:any?)/(:any?)</code> (which i don't even know works)?</p>\n\n<p>What's the best way to go about this?</p>\n"},{"tags":["php","security","payment-gateway","pci-dss","pci-compliance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13294355,"title":"SagePay's Direct Integration Or CyberSource's SOAP API Method!! Should I be PCI complaint?","body":"<p>I am currently integrating payment gateway to our merchant page. We are expecting about 100000 to 0.5mil transactions per month on our website. We have SSL certificate on our payment pages. Both SagePay and CyberSource equivalent for maximum payment page customisation are Direct and SOAP API, which let me host the payment pages on my server collect payment informations.</p>\n\n<p>My only worry is I post these payment information to my server before sending it to respective payment gateways. I am not storing it in session or in DB. And all our post URLS are SSL certified. </p>\n\n<p>According to PCI Compliance, If I transmit the payment data from my server I should take PCI audit every year and a security assessor will carry a remote test and a in house test. </p>\n\n<p>Obviously, this is going to be expensive. </p>\n\n<p>Do I need a PCI compliance if I follow the SagePay Direct integration or CyberSource SOAP API documentations?</p>\n\n<p>Sorry to be a pest. I am aware that this question exist through out this community. But I can't see a convincing answer to my particular integration method. </p>\n\n<p>It would be amazing to receive answers from specialist payment security advisers. </p>\n\n<p>Kind Regards,</p>\n"},{"tags":["php","validation","session-variables"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":34,"score":-4,"question_id":13297404,"title":"User authentication - can't validate a user from a hash","body":"<p>Ok i'm in a bit of trouble at present, I am trying to get this code working, what its meant to do is appear when a user clicks on the validation link in the email (which is sent by a seperate page, the registration page) this page should then display one of three options depending on the users unique database ID (hash ID) which is embedded within the link. A \"user already registered\" notification \"incorrect hash ID\" notification or \"correct hash ID, please verify your password through the below web form\" notification. Upon successfully verifying (entering their password into the form) it should redirect to the page validated.php, if they are unsuccessful the page should reload itself (validate.php). </p>\n\n<p>At the moment regardless of whether or not you enter your password correctly the database does not activate the users account (turn the 0 of user_level to a 1) and also incorrectly redirects to itself (validate.php) on each occasion. I don't wish to sound cliched but this is my most deperate hour. This needs to be live by tomorrow morning and at the moment (as you can see) its still running from a local (test) server). If anyone can correct the code please get back to me as quickly as possible or its quite literally my head. </p>\n\n<p>code link:\n<a href=\"http://pastebin.com/2Vta1n8w\" rel=\"nofollow\">http://pastebin.com/2Vta1n8w</a></p>\n"},{"tags":["php","javascript","html","html5","canvas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13297255,"title":"Save <img>-tag as PNG/PDF","body":"<p>How would I go if I wanted to save an entire &lt;img&gt;-tag as a image, or PDF. The  attribute 'style' is dynamic, so that must be saved.</p>\n\n<p>I tried making it into a canvas but it doesn't inherit the style. Any ideas?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13297145,"title":"Can't open file in php","body":"<p>I'm trying to open a file with php for write access:</p>\n\n<pre><code>$myFile = \"all.txt\";\n$fh = fopen($myFile, 'w') or die(\"can't open file\");\n</code></pre>\n\n<p>My browser is spitting back \"can't open file\"</p>\n\n<p>I've tried to chmod -R 777 the folder where this php file is as well as where $myFile (a text file) sits. What else could be the problem?</p>\n\n<p>It ends up being that there are permission errors when I turn error reporting on. When I do <code>ls -la all.txt</code>, I get <code>-rwx------  1 Myname  staff  0 Nov  8 15:11 all.txt</code></p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13296314,"title":"AJAX can't send datas to PHP page","body":"<p>I have a php page with this AJAX code, it takes datas from a form and pass them to another php page.\nThe problem is that it doesn't work, and I don't know why!</p>\n\n<p>Here the AJAX code with the form:</p>\n\n<pre><code>               &lt;form name=\"modulo\" id=\"alter_tarea\"&gt;\n                    &lt;table id=\"alter_tarea_table\"&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Descrizione&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"descrizione\" id=\"descrizione\" value=\"&lt;?php echo $x['descrizione']; ?&gt;\"&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Data Limite&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"data_limite\" id=\"sel3\" size=\"10\" value=\"&lt;?php echo $x['data_limite']; ?&gt;\"&gt;&lt;input type=\"reset\" value=\" ... \"\n        onclick=\"return showCalendar('sel3', '%Y-%m-%d');\"&gt;&lt;/td&gt;\n                        &lt;/tr&gt; \n                        &lt;tr&gt;\n                            &lt;td&gt;Realizzato&lt;/td&gt;\n                            &lt;?php \n                                if($x['realizzato'] == 1)\n                                    echo\"&lt;td&gt;&lt;input type=\\\"checkbox\\\" name=\\\"realizzato\\\" id=\\\"realizzato\\\" /&gt;&lt;/td&gt;\";\n                                else\n                                    echo\"&lt;td&gt;&lt;input type=\\\"checkbox\\\" name=\\\"realizzato\\\" id=\\\"realizzato\\\" checked=\\\"checked\\\"/&gt;&lt;/td&gt;\";  \n                            ?&gt;\n                        &lt;/tr&gt;                 \n                        &lt;tr&gt;\n                            &lt;td&gt;&lt;input type=\"button\" value=\"Modifica\" id=\"modifica_button\" name=\"modifica_button\"&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;  \n                &lt;/form&gt;\n\n                         &lt;script type=\"text/javascript\"&gt;\n                            $(document).ready(function() {\n                                $(\"#modifica_button\").click(function(){\n\n                                var descrizione = $(\"#descrizione\").val();\n                                var data = $(\"#data_limite\").val();\n                                var realizzato = $(\"#realizzato\").val();\n\n                                $.ajax({\n\n                                //imposto il tipo di invio dati (GET O POST)\n                                type: \"POST\",\n\n                                //Dove devo inviare i dati recuperati dal form?\n                                url: \"modifica_tarea.php\",\n\n                                //Quali dati devo inviare?\n                                data: \"descrizione=\" + descrizione + \"&amp;data_limite=\" + data + \"&amp;realizzato=\" + realizzato,\n                                dataType: \"html\",\n\n                                //Inizio visualizzazione errori\n                                success: function(msg)\n                                {\n                                    $(\"#mostra_tarea\").replaceWith(msg); \n                                },\n                                error: function()\n                                {\n                                    alert(\"Chiamata fallita, si prega di riprovare...\"); //sempre meglio impostare una callback in caso di fallimento\n                                }\n                                });\n                            });\n                           });\n                    &lt;/script&gt;\n</code></pre>\n\n<p>Here the simple .php page:</p>\n\n<pre><code>&lt;?php\n\n$descrizione = $_POST['descrizione'];\n$data_limite = $_POST['data'];\n$realizzato = $_POST['realizzato'];\n\necho $descrizione;\necho $data_limite;\necho $realizzato;\n?&gt;\n</code></pre>\n"},{"tags":["php","html","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13296923,"title":"Pass multiple variable through single checkbox","body":"<p>I am not sure the best way to do this or if it's even possible. Basically I have a checkbox that looks like this:</p>\n\n<p>php</p>\n\n<pre><code>foreach($clients as $client){\n    echo'\n    &lt;input type=\"checkbox\"  name=\"client_data[]\" value=\"'.$class_id.'\"&gt;\n    '.$client['first_name'].' ('.$client['nickname'].') '.$client['last_name'].'\n            &lt;br /&gt;';\n   } // foreach($client\n</code></pre>\n\n<p>HTML looks like this</p>\n\n<pre><code>&lt;form method=\"post\" action=\"\"&gt;\n&lt;input type=\"checkbox\" value=\"?\" name=\"client_data[]\"&gt;\nDwayne (The Rock) Johnson&lt;br&gt;\n\n&lt;input type=\"checkbox\" value=\"?\" name=\"client_data[]\"&gt;\nSteve (Puddin) Robinson&lt;br&gt;\n\n&lt;input type=\"submit\" value=\"Add\" name=\"exist_to_class\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>When the form is submitted I want to insert the </p>\n\n<pre><code>$first_name, $nickname, $lastname\n</code></pre>\n\n<p>into the db with a query that looks like this:</p>\n\n<pre><code>mysql_query(\"INSERT INTO `clients` (`user_id`, `first_name`, `last_name`, `nickname` `class_id`) \nVALUES ('$user_id', '$first_name, '$last_name', '$nickname', '$class_id')\");\n</code></pre>\n\n<p>Is this possible or am I even close on how I am attempting to set this up? I have not had much luck so far.</p>\n\n<p>My db table looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/NkbXg.jpg\" alt=\"Client Table\"></p>\n\n<p>I need to be able to enter the client multiple time with different class_id's.</p>\n\n<p>What is the best way to accomplish this?</p>\n"},{"tags":["php","mysql","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":28,"score":0,"question_id":13297241,"title":"PDO INSERT statement not inserting","body":"<p>Thanks to many people on the community of SO I have been trying to switch everything over to PDO. I have an INSERT INTO statement that I tried converting over to PDO but it is not inserting. I am not getting any errors either.</p>\n\n<p>Here is what I was trying to convert:</p>\n\n<pre><code>&lt;?php\nsession_start();\n$con = mysql_connect(\"host\", \"username\", \"password\", \"DBname\"); \n$username = $_SESSION['username'];\nif (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n\nmysql_select_db(\"dbname\", $con);\n\nmysql_query(\"INSERT INTO badge_status (username, badge1)\nVALUES ('$username', 'finished')\");\n\nmysql_close($con);\n?&gt; \n</code></pre>\n\n<p>PDO version</p>\n\n<pre><code>&lt;?php\nsession_start();\n$db = new PDO('mysql:host=hostname;dbname=dbname;charset=UTF-8', 'username', 'password');\n$username = $_SESSION['jigowatt']['username'];\n$awardFinished = $db-&gt;prepare('INSERT INTO badge_status (username, badge1) VALUES ('$username', 'finished')');\n?&gt;\n</code></pre>\n\n<p>Thanks if you can catch what's going on or can fix this!</p>\n"},{"tags":["php","xdebug"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13297320,"title":"Prevent Xdebug from formatting PHP error messages","body":"<p>I am using Xdebug only for IDE debugging and would like to stop it from reformatting error messages thrown by PHP in the browser. I just want regular PHP error message, without stack trace, table layouts or anything else. How do I achieve that?</p>\n"},{"tags":["php","usage","ternary"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":9,"view_count":43,"score":-9,"question_id":13297334,"title":"PHP Ternary operator usage","body":"<p>I wonder if following will work or not</p>\n\n<p>How to put this in thernary if</p>\n\n<pre><code>if ($num = 3 &amp;&amp; $man = 2)\n   echo \"1\";\nelse \n   echo \"2\";\n</code></pre>\n\n<p>will it be:</p>\n\n<pre><code>echo ($num == 3 &amp;&amp; $man == 2) ? \"1\" : \"2\";\n</code></pre>\n\n<p>another one </p>\n\n<pre><code>   if ($num == 3) {\n      do_it(); \n      and_this() \n   } else {\n      echo \"nothing\";   \n   }\n</code></pre>\n\n<p>will be:</p>\n\n<pre><code>($num == 3) ? do_it(); and_this() : echo \"nothing\";\n</code></pre>\n"},{"tags":["php","arrays","switch-statement"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":17,"score":-1,"question_id":13297201,"title":"Notice: Undefined offset error in array with switch","body":"<p>This is my PHP CODE for Menu with selection.\nIts working with errors, please help me.</p>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>&lt;?php\n                            $page_url = array();\n                            $page_url[0]= \"/bookslibrary.net/index.php\";\n                            $page_url[1]= \"/bookslibrary.net/about.php\";\n                            $page_url[2]= \"#\";\n                            $page_url[3]= \"/bookslibrary.net/become-member.php\";\n                            $page_url[4]= \"#\";\n                            $page_url[5]= \"/bookslibrary.net/contact.php\";\n\n                            $page_urlActive = array();\n                            $css_active = \"class='active'\";\n\n                            switch ($_SERVER['PHP_SELF'])\n                            {\n                                case $page_url[0]: $page_urlActive[0] = $css_active; break;\n                                case $page_url[1]: $page_urlActive[1] = $css_active; break;\n                                case $page_url[2]: $page_urlActive[2] = $css_active; break;\n                                case $page_url[3]: $page_urlActive[3] = $css_active; break;\n                                case $page_url[4]: $page_urlActive[4] = $css_active; break;\n                                case $page_url[5]: $page_urlActive[5] = $css_active; break;\n                            } echo (\"\n                                &lt;li $page_urlActive[0] &gt;&lt;a href='\".$page_url[0].\"'&gt;Home&lt;/a&gt;&lt;/li&gt;\n                                &lt;li $page_urlActive[1] &gt;&lt;a href='\".$page_url[1].\"'&gt;About&lt;/a&gt;&lt;/li&gt;\n                                &lt;li $page_urlActive[2] &gt;&lt;a href='\".$page_url[2].\"'&gt;Books of the Month&lt;/a&gt;&lt;/li&gt;\n                                &lt;li $page_urlActive[3] &gt;&lt;a href='\".$page_url[3].\"'&gt;Become a Member&lt;/a&gt;&lt;/li&gt;\n                                &lt;li $page_urlActive[4] &gt;&lt;a href='\".$page_url[4].\"'&gt;Ahlus-Sunnah&lt;/a&gt;\n                                    &lt;ul&gt;\n                                        &lt;li&gt;&lt;a href='#'&gt;Web Directory&lt;/a&gt;&lt;/li&gt;\n                                        &lt;li&gt;&lt;a href='#'&gt;Add Your Website&lt;/a&gt;&lt;/li&gt;\n                                    &lt;/ul&gt;\n                                &lt;/li&gt;\n                                &lt;li $page_urlActive[5] &gt;&lt;a href='\".$page_url[5].\"'&gt;Contact&lt;/a&gt;&lt;/li&gt;\n                            \");\n                        ?&gt;\n</code></pre>\n\n<p><strong>ERROR</strong></p>\n\n<p>Notice: Undefined offset: 1 in (...FILE_PATH...)header.php on line 34</p>\n"},{"tags":["php","post","wordpress-plugin"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":11959452,"title":"Savings settings in a custom PHP plugin for WordPress","body":"<p>First, I'd like to pre-emptively apologize for doing anything naive or foolish. I'm a novice programmer, but I'm trying to learn. Right now, I'm trying to develop a plugin for wordpress as part of my internship. The plugin does what it needs to do for the most part, but I just can't seem to make the settings page work the way I want. I know the initialization part of the plugin is working properly, but I'm having trouble with using the settings page. Specifically, I don't where or how to use <strong>_POST</strong> in order to save the information. I also don't where to place the <strong>update_option</strong> function call after I've received the information from the settings page. Here's my code right now:</p>\n\n<pre><code>add_action( 'admin_menu', 'menu' );\nadd_action( 'admin_init', 'plugin_admin_init' );\n\nfunction plugin_admin_init() { // whitelist options\n  register_setting( 'plugin_options', 'plugin_options', 'plugin_options_validate' );\n  add_settings_section('plugin_main', 'Main Settings', 'plugin_section_text',           'plugin');\n  add_settings_field('plugin_text_string', 'REE View Count Settings',           'plugin_setting_string', 'plugin', 'plugin_main');\n}\n\nfunction menu() {\n    add_options_page( 'REE View Count Options', 'REE View Count', 'manage_options',     'plugin', 'plugin_options_page' );\n}\n\n// generates the settings web page\nfunction plugin_options_page() {\n    echo '&lt;div class=\"wrap\"&gt;';\n    echo '&lt;h2&gt;Options&lt;/h2&gt;';\n    echo '&lt;form action=\"' . $_SERVER['PHP_SELF'] . '\" method=\"post\"&gt;'; \n    // In the line above, I don't know what to put. The file name of the plugin?\n    // The URL of the settings page on the admin page? Or what I have currently? \n    // Both the first and last options bring up a 404 page.\n    settings_fields('plugin_options');\n    do_settings_sections('plugin');\n    echo '&lt;input name=\"Submit\" type=\"submit\" value=\"' . esc_attr_e('Save Changes') . '\"         /&gt;';\n    echo '&lt;/form&gt;';\n    //update_option('plugin_options', $_POST['plugin_options']);\n    // Where should I try to update the option? And how?\n    echo '&lt;/div&gt;';\n}\n\n//from add_settings_section parameter 3, in plugin_admin_init\nfunction plugin_section_text() {\n    echo '&lt;p&gt;Main description of this section here.&lt;/p&gt;';\n}\n\n//Function from 3 paramter of add_settings_field in plugin_admin_init that outputs     input HTML\nfunction plugin_setting_string() {\n    $options = get_option('plugin_options');\n    echo 'value of options is: ' . $options;\n    echo \"&lt;input id='plugin_text_string' name='plugin_options' size='40' type='text' \n    value='{$options}' /&gt;\";\n}\n\n//Validation function from register_setting in plugin_admin_init\nfunction plugin_options_validate($input) {\n    echo \"this is input: \" . $input;\n    $newinput = trim($input);\n    if(!preg_match('/^[0-9]+$/', $newinput)) {\n        $newinput = 10;\n    }\n    update_option('plugin_options', $newinput);\n    return $newinput;\n}\n</code></pre>\n\n<p><strong>Note:</strong> I don't actually use these exact function/variable names - I have them prefixed with the actual plugin name.</p>\n\n<p>Can you help me? I want to take the information the admin inputs into the settings page and update the database with the that information (which in this case is just a single number). I understand that I need to use PHP _POST, but I don't know how. Furthermore, I don't where to post to, because when I use action=\"the_file_name.php,\" I get a 404 error upon submission. What should the action of the form be so that I can use the information that I got from the admin submission and use it for later? And after I do that, how do update the setting? And by how, I mean where do I place update_option? I apologize if this seems rambly or vague - I feel like I'm somewhat over my head.</p>\n\n<p>If it helps, I've been building this settings page in the same file as the plugin itself, with the help of this guide: <a href=\"http://ottopress.com/2009/wordpress-settings-api-tutorial/\" rel=\"nofollow\">http://ottopress.com/2009/wordpress-settings-api-tutorial/</a></p>\n\n<p>Unfortunately, I don't see anything in that guide that speaks of updating information, just creating the page itself.</p>\n"},{"tags":["php","javascript","html"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13297176,"title":"Setting a default js url in a header","body":"<p>I am trying to set a var of 'default_url' in the header of my file like so:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar default_url = &lt;?php echo $default_url ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>But I keep getting an error that there is an unexpected &lt;</p>\n\n<p>Is there anyway for me to actually do something like that?</p>\n"},{"tags":["php","model","route","nested-class","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13276777,"title":"Laravel: Nesting controllers and making parent controller redirect to children?","body":"<p>This is my first project in Laravel, so play nice with me!</p>\n\n<p>The goal is to create a CMS. Every page will have it's own \"slug\", so if i name a page <code>This is a test</code>, it's slug will be <code>this-is-a-test</code>. I want to be able to view that page by going to <code>example.com/this-is-a-test</code>.</p>\n\n<p>To do that, i'm guessing i'll have to do something like:</p>\n\n<pre><code>Route::any('(:any)', 'view@index');\n</code></pre>\n\n<p>And create a controller called View with an index method. All good, right?</p>\n\n<p>The problem is creating the admin area. I'm gonna have a few pages within the area, a few examples are Dashboard, Pages, Settings and Tools. Since all of those are sub-pages in the admin, i figured it would be appropriate to make them nested controllers, right? The only problem is, when i visit <code>/admin</code>, i want to show the dashboard (<code>/admin/dashboard</code>) directly. I would prefer just calling the dashboard controller instead of redirecting to <code>/admin/dashboard</code> from the admin controller. Is that possible?</p>\n\n<p>So, to illustrate what i mean:</p>\n\n<pre><code>example.com/admin -&gt; loads admin.dashboard\nexample.com/admin/dashboard -&gt; also loads admin.dashboard\n</code></pre>\n\n<p>Here are all my routes:</p>\n\n<pre><code>Route::get('admin', array('as' =&gt; 'admin', 'use' =&gt; 'admin.dashboard@index'));\nRoute::get('admin/dashboard', array('as' =&gt; 'admin_dashboard', 'use' =&gt; \nRoute::any('/', 'view@index'); // Also, should this be below or above the admin routes? This route will show the actual cms pages.'admin.dashboard@index'));\n</code></pre>\n\n<p>And here is my admin_dashboard controller:</p>\n\n<pre><code>class Admin_Dashboard_Controller extends Base_Controller {\n\n    public $restful = true;    \n\n    public function get_index()\n    {\n        return 'in dashboard';\n    }\n\n}\n</code></pre>\n\n<p>The view controller just displays a link to the admin page, that works. I just can't figure out what's wrong with the admin routes? When i go to <code>/admin</code> or <code>admin/dashboard</code> i just get a blank page, no 404. If i go to <code>admin/blah</code> or just <code>blabla</code> i get a 404, so i know <em>something</em> is happening, it's just not happening correctly. Am i missing something?</p>\n"},{"tags":["php","zend-framework","image-processing"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13297183,"title":"Accessing Zend Upload File","body":"<p>Below you will find my function for the uploadAction. This code works. I am able to get images. However, I want to integrate an automatic resize mechanism to the code. Can someone explain to me how I could force files I am uploading in this upload Action to be parsed through my resizing function.</p>\n\n<pre><code>  public function uploadAction()\n    {\n        $request = $this-&gt;getRequest();\n\n        $error = null;\n\n        if ($request-&gt;isPost()) {\n            if ($request-&gt;getParam('submit')) {\n\n            // Create upload object\n            $upload = new Zend_File_Transfer();\n\n            // Add our validators\n            $upload-&gt;addValidator('Size', false, 102400);\n            $upload-&gt;addValidator('Extension', false, 'jpg,png,gif');\n\n            // Set our destination\n            $upload-&gt;setDestination(APPLICATION_PATH . '/../public/images/blog/');\n\n                if(!$upload-&gt;receive()) {\n                    $messages = $upload-&gt;getMessages();\n\n                    foreach ($messages as $type =&gt; $message) {\n                        switch($type) {\n                            case 'fileExtensionFalse':\n                                $this-&gt;view-&gt;error = 'File must be an image (jpg, gif, png)';\n                                break;\n                            case 'fileUploadErrorNoFile':\n                                $this-&gt;view-&gt;error = 'Please select a file to upload';\n                                break;\n                            default:\n                                $this-&gt;view-&gt;error = implode(\"/n\", $messages);\n                                break;\n                        }\n                    }\n                }\n                    print_r($messages); die();\n            }\n        }\n    }\n</code></pre>\n\n<p>RESIZING FUNCTION</p>\n\n<pre><code> public function fastimagecopyresampled (&amp;$dst_image, $src_image, $dst_x, $dst_y, $src_x, $src_y, $dst_w, $dst_h, $src_w, $src_h, $quality = 4)\n    {\n        if (empty($src_image) || empty($dst_image)) { return false; }\n            if ($quality &lt;= 1)\n            {\n                $temp = imagecreatetruecolor ($dst_w + 1, $dst_h + 1);\n                imagecopyresized ($temp, $src_image, $dst_x, $dst_y, $src_x, $src_y, $dst_w + 1, $dst_h + 1, $src_w, $src_h);\n                imagecopyresized ($dst_image, $temp, 0, 0, 0, 0, $dst_w, $dst_h, $dst_w, $dst_h);\n                imagedestroy ($temp);\n            }\n            elseif ($quality &lt; 5 &amp;&amp; (($dst_w * $quality) &lt; $src_w || ($dst_h * $quality) &lt; $src_h))\n            {\n                $tmp_w = $dst_w * $quality;\n                $tmp_h = $dst_h * $quality;\n                $temp = imagecreatetruecolor ($tmp_w + 1, $tmp_h + 1);\n                imagecopyresized ($temp, $src_image, 0, 0, $src_x, $src_y, $tmp_w + 1, $tmp_h + 1, $src_w, $src_h);\n                imagecopyresampled ($dst_image, $temp, $dst_x, $dst_y, 0, 0, $dst_w, $dst_h, $tmp_w, $tmp_h);\n                imagedestroy ($temp);\n            } else\n            {\n                imagecopyresampled ($dst_image, $src_image, $dst_x, $dst_y, $src_x, $src_y, $dst_w, $dst_h, $src_w, $src_h);\n            }\n            return true;\n    }\n</code></pre>\n\n<p>I want to be able to change the size of the image and the quality as it is uploaded. What is the function or call to access the file I JUST uploaded or can I manipulate the file before it is saved? Like upload the file, pass it through my function, then have the ouput from that become my \"saved\" file?</p>\n"},{"tags":["php","sql","query","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13286725,"title":"how to use php variables in postgresql query","body":"<p>I have two php variables, one integer and other json, which I convert into string variable and then inserting them inside a postgresql database.</p>\n\n<p>Converting integer into string variable:</p>\n\n<pre><code>$string1 = (string)$integer;\n</code></pre>\n\n<p>Coneverting json from facebook api into string variable:</p>\n\n<pre><code>$string2 = json_encode($json);\n</code></pre>\n\n<p>Now, I have to insert these two string variables into postgres database:</p>\n\n<pre><code>$query = \"INSERT INTO interests VALUES(\". $string1 .\" ,\" . $string2 .\")\"; \npg_query($con, $query) or die(\"Cannot execute query: $query\\n\");\n</code></pre>\n\n<p>This is not working. I have tried a lot of solutions but still not working. </p>\n\n<p>I changed my function to insert into database</p>\n\n<pre><code>function push_interests(){\n$id = $facebook-&gt;getUser();\n$int = $facebook-&gt;api('/me/interests');     \n$host = \"hostname\"; \n$user = \"user\"; \n$pass = \"password\"; \n$db = \"database\"; \n\n$con = pg_connect(\"host=$host dbname=$db user=$user password=$pass\")\n    or die (\"Could not connect to server\\n\"); \n\n\n$id = (string)$id;\n$int = json_encode($int);\n\n$sql = \"INSERT INTO interests VALUES($1,$2)\"; \npg_prepare($con,'my_insert', $sql) or die (\"Cannot prepare statement1\\n\") ;\npg_execute($con,'my_insert', array($id,$int)) or die (\"Cannot execute statement1\\n\");\n\npg_close($con); \n\n}\n</code></pre>\n\n<p>Output is: cannot execute statement1\nI have created database as below:</p>\n\n<pre><code>$query = \"DROP TABLE IF EXISTS interests\"; \npg_query($con, $query) or die(\"Cannot execute query: $query\\n\");\n\n$query = \"CREATE TABLE interests(id VARCHAR(25) PRIMARY KEY, interests VARCHAR(500))\";  \npg_query($con, $query) or die(\"Cannot execute query: $query\\n\"); \n</code></pre>\n"},{"tags":["php","pagination"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13296976,"title":"MVC PHP Pagination","body":"<p>I have been wreaking my brains on how I can paginate blog posts on my personal site. The structure of the site is MVC (Allowing me content manage it through the browser)</p>\n\n<p>The Model:</p>\n\n<pre><code>function displayBlog()\n{\n  global $BEAR;\n\n  $data = array();\n\n$stmt = $BEAR-&gt;Database-&gt;query\n(\"SELECT id, type, published_on, height, width, title, body FROM blog_posts ORDER BY id DESC\");\n\n$i = 0;\n\nwhile($row = $stmt-&gt;fetch_assoc())\n{\n\n  $data[$i]['id'] = $row['id'];\n  $data[$i]['title'] = $row['title'];\n  $data[$i]['content'] = $row['content'];\n\n  $i++;\n}\n return $data;\n}\n</code></pre>\n\n<p>This gathers the desired blog information from the database and this is passed to the Controller:</p>\n\n<pre><code>$data = $BEAR-&gt;Blog-&gt;displayBlog();\nfor($i=0, $i &lt; count($data);$i++)\n{\n  $id = $data[$i]['id'];\n  $title = $data[$i]['title'];\n  $content = $data[$i]['content'];\n\n  $result = $title;\n  $result .= $content;\n}\n$BEAR-&gt;Template-&gt;setData('blog', $result, FALSE);\n</code></pre>\n\n<p>From the above code I just user the get data function to display the blog within my view, this works just fine. But I have no idea how I can paginate the results, if anyone can give me any form of guidance that would be great. Thanks guys.</p>\n"},{"tags":["php","strstr"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13296566,"title":"Using strstr() to exclude two values","body":"<p>I have this code:</p>\n\n<pre><code>if(!strstr($value, '&lt;p&gt;')){...}\n</code></pre>\n\n<p>This outputs data from a database to an excel file excluding any fields that contain <code>&lt;p&gt;</code>.</p>\n\n<p>I would also like to exclude fields that contains <code>&lt;/script&gt;</code></p>\n\n<p>Ive tried these two code snippets without success:</p>\n\n<pre><code>if((!strstr($value, '&lt;p&gt;')) and (!strstr($value, '&lt;/script&gt;')))\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>if(!strstr($value, '&lt;p&gt;', '&lt;/script&gt;'))\n</code></pre>\n\n<p>Basically my question is how can I exclude both <code>&lt;p&gt;</code> and <code>&lt;/scrpit&gt;</code> from my excel file?</p>\n"},{"tags":["php","arrays","multidimensional-array"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13296866,"title":"Merging and ordering a PHP Multidimensional array","body":"<p>I want to try to merge and sort a multidimensional array. Currently the array looks like this:</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array\n    (\n        [customerID] =&gt; 1234\n        [service]    =&gt; Car\n        [CSA]        =&gt; Jack\n        [status]     =&gt; 3\n    )\n\n[1] =&gt; Array\n    (\n        [customerID] =&gt; 1234\n        [service]    =&gt; Cap\n        [CSA]        =&gt; Jill\n        [status]     =&gt; 3\n    )\n\n[2] =&gt; Array\n    (\n        [customerID] =&gt; 1234456\n        [service]    =&gt; Plate\n        [CSA]        =&gt; Jack\n        [status]     =&gt; 1\n    )\n</code></pre>\n\n<p>)</p>\n\n<p>In this multidimensional array, The customerID will be unique, however, many second-level arrays feature the same customerID. Similarly, in these arrays, the CSA could be the same along with the status.</p>\n\n<p>I want the end array to look as follows:</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array\n    (\n        [customerID] =&gt; 1234\n        [service]    =&gt; Car &lt;br/&gt; Cap\n        [CSA]        =&gt; Jack &lt;br /&gt; Jill\n        [status]     =&gt; 3 \n    )\n\n[2] =&gt; Array\n    (\n        [customerID] =&gt; 1234456\n        [service]    =&gt; Plate\n        [CSA]        =&gt; Jack\n        [status]     =&gt; 1\n    )\n</code></pre>\n\n<p>)</p>\n\n<p>Now, if the service is the same in a set where the customerID is the index, then it shouldn't be added to the value string. The same goes for everything else but the CustomerID.</p>\n\n<p>How do I do this with PHP?</p>\n"},{"tags":["php","symfony-1.4","validator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13068131,"title":"Set a field after processing validator on an other field","body":"<p>In my model, a <strong>Song</strong> is linked to a <strong>Type</strong>. A Type can be Youtube, Soundcloud, Deezer, etc..</p>\n\n<p>When the <code>link</code> value has been validated by my validator, I want to set the style_id value with the correct Type.</p>\n\n<p>What is the best way to do it ?</p>\n"},{"tags":["php","forms","preg-match"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":28,"score":-3,"question_id":13296786,"title":"Check POST with preg_match","body":"<p>I retrieve a POST to a standard form and I need to test two things:</p>\n\n<ul>\n<li>The value must be 40 characters</li>\n<li>The value must contain only letters and numbers</li>\n</ul>\n\n<p>I think it is possible to do this with preg_match, but I do not know how.</p>\n"},{"tags":["php","file","locking"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":828,"score":1,"question_id":2450850,"title":"Read and write to a file while keeping lock","body":"<p>I am making a simple page load counter by storing the current count in a file. This is how I want to do this:</p>\n\n<ol>\n<li>Lock the file (flock)</li>\n<li>Read the current count (fread)</li>\n<li>Increment it (++)</li>\n<li>Write new count (fwrite)</li>\n<li>Unlock file/close it (flock/fclose)</li>\n</ol>\n\n<p>Can this be done without losing the lock?</p>\n\n<p>As I understand it, the file can't be written to without losing the lock. The only way I have come up with to tackle this, is to write a character using \"r+\" mode, and then counting characters.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":34,"score":-1,"question_id":13296289,"title":"My MySQL work doesn't seem to be connecting. It's giving me the echo error I made","body":"<p>I'm working on a website for my Minecraft server, involving buying online grenades, guns, etc. There is a section of code where you get to fill out a new item to the products list, and I've done that, but it is not adding it in the following code when I go to the Products page (listed below) and it's saying \"Date to render this page is missing\" any help would be appreciated.</p>\n\n<pre><code>if (isset($_GET['id'])) { \ninclude \"website/store/storescripts/connect_to_mysql.php\"; \n$id = preg_replace('#[^0-9]#i', '', $_GET['id']); \n$sql = mysql_query(\"SELECT * FROM products WHERE id='$id' LIMIT 1\");\n$productCount = mysql_num_rows($sql);\nif ($productCount &gt; 0) {\n    while($row = mysql_fetch_array($sql)){ \n         $product_name = $row[\"product_name\"];\n         $price = $row[\"price\"];\n         $details = $row[\"details\"];\n         $category = $row[\"category\"];\n         $subcategory = $row[\"subcategory\"];\n         $date_added = strftime(\"%b %d, %Y\", strtotime($row[\"date_added\"]));\n     }\n\n} else {\n    echo \"That item does not exist.\";\n    exit();\n}\n\n} else {\necho \"Data to render this page is missing.\";\nexit();\n}\n</code></pre>\n"},{"tags":["php",".net","soap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13297034,"title":"Consuming a .NET Service with PHP / SOAP with Authentication Passed as Parameters","body":"<p>I preface by saying I've been reading extensively on SO and Google attempting to find a solution.  I've tried several different methods, but can't quite seem to get it working.  I would also like to say that, while I'm proficient in PHP, this is my first attempt to use SOAP to consume a .NET web service.</p>\n\n<p>The Code:</p>\n\n<pre><code>&lt;?php\n$client = new SoapClient('https://host-url.org/ErrorListWebService/service.asmx');\n\n$par=\"\nPOST /ErrorListWebService/service.asmx HTTP/1.1\nHost: host-url\nContent-Type: text/xml; charset=utf-8\nContent-Length: length\nSOAPAction: 'http://tempuri.org/ShowErrors'\n\n&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;soap:Envelope xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'&gt;\n  &lt;soap:Body&gt;\n    &lt;ShowErrors xmlns='http://tempuri.org/'&gt;\n      &lt;i&gt;\n        &lt;_userid&gt;REDACTED&lt;/_userid&gt;\n        &lt;_password&gt;REDACTED&lt;/_password&gt;\n        &lt;_userid2&gt;REDACTED&lt;/_userid2&gt;\n        &lt;_password2&gt;REDACTED&lt;/_password2&gt;\n        &lt;_mode&gt;VERIFY&lt;/_mode&gt;\n      &lt;/i&gt;\n    &lt;/ShowErrors&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\";\n\n$param=array('xmlString'=&gt;$par);\n\n$result=$client-&gt;__SoapCall('ShowErrors',array('parameters'=&gt;$param);\n\nprint_r ($result);\n\n?&gt;\n</code></pre>\n\n<p>With this code I'm getting nothing.  Even with error reporting set to E_ALL I get a blank white screen.  I don't have the code for the web service as it's not mine, but I have spoken with their developer and he does not show me coming through in the log.</p>\n\n<p>Thanks in advance for your help.</p>\n"},{"tags":["php","magento","activerecord","checkout","cart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13294676,"title":"Magento! A Call to a DAL Server on or before or around OnePageController or Success.php","body":"<h3>Ok so I have customized the Mage_Checkout_OnepageController</h3>\n\n<ol>\n<li><p>I need to be able to connect to a DAL server and save certain things there. I got everything correct. It's RESTful, so I am sending a POST request. It's works all just fine. But I need to send one more thing aside from quoteData, item details etc. that one more thing is the <em>magento orderId</em>.</p></li>\n<li><p>I understand that Magento hasn't created the order Id on <strong>Mage_Checkout_OnepageController</strong> yet, it generates it on <strong>Mage_Checkout_Block_Onepage_Success</strong>. I have my own <strong>X_Request_Block_Checkout_Success</strong>. Within this file the following code;</p>\n\n<pre><code>$order = Mage::getModel('sales/order')-&gt;loadByIncrementId(Mage::getSingleton('checkout/session')-&gt;getLastRealOrderId());\n$orderInfo['orderId'] = $order-&gt;getIncrementId();\n</code></pre></li>\n</ol>\n\n<p>But in this Success.php, this time I can't get the data I get in <strong>Mage_Checkout_OnepageController</strong>, namely the followings; (any quoteData, shipping address etc)</p>\n\n<pre><code>$jobSiteAddress = Mage::getSingleton('checkout/session')-&gt;getQuote()-&gt;getShippingAddress()-&gt;toArray();\n$quote = Mage::getSingleton('checkout/session')-&gt;getQuote();\n$cartItems = $quote-&gt;getAllVisibleItems();\n</code></pre>\n\n<p>and some other things, I hope you get the idea.</p>\n\n<h3>Big Question</h3>\n\n<p>So my question; Is there a way to get <em>magento orderId</em> and all cart data either in <strong>Mage_Checkout_Block_Onepage_Success</strong> or in my <strong>Mage_Checkout_OnepageController</strong></p>\n\nI tried\n\n<p>In My OnePageController I have;</p>\n\n<pre><code>$this-&gt;getOnepage()-&gt;getQuote()-&gt;save();\n</code></pre>\n\n<p>I tried getting the magento order id after this line but no luck</p>\n\n<p>do let me know If I didn't explain clearly</p>\n"},{"tags":["php","codeigniter","pyrocms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13291073,"title":"Modifying the number of default chunks in the Page Module for PyroCMS","body":"<p>I want to have 2 default chunks instead of 1 when making a new page.</p>\n\n<p>The reason is, my main template is split into 2 sections and I want to start with 2 chunks.</p>\n\n<p>What I would like to do is edit the page module so that whenever a user creates a new page they will always start with 2 chunks that I have named and defined.</p>\n\n<p>What would I have to modify in order to achieve this?</p>\n\n<p>Note: I already modified the page module and database to add some custom fields. I assume this is the same deal but I can't find where the initial chunk is being created...</p>\n"},{"tags":["php","apache","php-5.2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13271837,"title":"apache hangs: semop?","body":"<p>I have a problem I can not reproduce but it happens often: Sometimes you login, click a another page and this page keeps loading for ever. Also all other request from the same session will stuck from this time. Restarting apache fixes it but is not a real solution.</p>\n\n<p>The server has not a lot traffic so only a few apache processes are running. If I dig into them I see many stucked with <code>semop</code> :</p>\n\n<pre><code>(gdb) bt\n#0  0x00002af60c22b2d7 in semop () from /lib64/libc.so.6\n#1  0x00002af60bbf612c in ?? () from /usr/lib64/libapr-1.so.0\n#2  0x000055555559e614 in ?? () from /usr/sbin/httpd2-prefork\n#3  0x000055555559e9ea in ?? () from /usr/sbin/httpd2-prefork\n#4  0x000055555559f25d in ap_mpm_run () from /usr/sbin/httpd2-prefork\n#5  0x000055555557a080 in main () from /usr/sbin/httpd2-prefork\n</code></pre>\n\n<p>looks like they are waiting for a file:</p>\n\n<pre><code>strace -p 3069\n....\nread(7, 0x7fff16a04df7, 1)              = -1 EAGAIN (Resource temporarily unavailable)\nsemop(286162952, 0x2af60bd07dc0, 1 &lt;unfinished ...&gt;\n</code></pre>\n\n<p>Since it is hanging with session_start I looked at the session temp folder and there quite many files:</p>\n\n<pre><code># ls /var/lib/php5 | wc -l\n2716\n</code></pre>\n\n<p>All of them are from today!</p>\n\n<p><code>read(7 ,..)</code> points to a pipe:</p>\n\n<pre><code># ls -la /proc/3069/fd/7\nlr-x------ 1 root   root 64 Nov  7 17:24 7 -&gt; pipe:[157329520]\n</code></pre>\n\n<p>That is used by all the apache processes:</p>\n\n<pre><code># lsof | grep 157329520\nhttpd2-pr  2430       root    7r     FIFO                0,5             157329520 pipe\nhttpd2-pr  2430       root    8w     FIFO                0,5             157329520 pipe\nhttpd2-pr  3061     wwwrun    7r     FIFO                0,5             157329520 pipe\nhttpd2-pr  3061     wwwrun    8w     FIFO                0,5             157329520 pipe\n...\n</code></pre>\n\n<p>What kind of pipe is this?</p>\n\n<p>I would love to post some PHP code for you to look at, but I just don't know which part...</p>\n\n<p>Any idea how to fix or debug this?</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13296955,"title":"Script downloading DI.FM list works only under Opera","body":"<p>Hello fellow stackoverflow'ers!\nToday I was tired of old dead links to my fav internet radio, so I decided to make a downloader for all channels from di.fm. The idea was simple: download the page, get to the menu and parse it. After that create a playlist and make user download it.</p>\n\n<p>So I created a PHP script as an API for my JS script. PHP functions were to download the page (JS cannot really do that), save playlist sent via POST in cookies and to provide it as a file. Cookies are supposed to be a communication channel between JS and PHP (with POST I cannot really make file download itself).</p>\n\n<p>So far so good. Everything works like a charm under Opera. Things are getting complicated in Chrome and Firefox. Chrome reloads the page without a download dialog, Firefox works about the same, just sometimes lets me download the list... that is empty.</p>\n\n<p>Any ideas how to solve it? Here is the code (feel free to use it yourself if you like it):\n<code>http://pastebin.com/dcEzxV9w</code></p>\n\n<p>Thanks in advice,</p>\n\n<p>Dracco</p>\n"},{"tags":["php","html","css","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":31,"score":0,"question_id":13295818,"title":"how to change homepage width of wordpress?","body":"<p>I have a Wordpress question. I want to change homepage width in Wordpress\". People said that we have to create an new template and then we can change it as per our wish.</p>\n\n<p>In my case, have already built the homepage. It's just that the homepage is too wide; I don't want the whole site.</p>\n\n<p>Here is my site: <code>http://laptopsisland.com</code>.</p>\n\n<p>How can I change the width of the homepage only, and not the rest of the site?</p>\n\n<p><strong>EDITED:</strong> </p>\n\n<p>I tried like this in index.php file, here it is: (but still unable to change the width of homepage )</p>\n\n<pre><code>&lt;?php if(is_front_page() ) { ?&gt;\n\n&lt;style type=\"text/css\"&gt;\n.boxed-layout .wrapper {\n   width: 1200px; // Change it\n}\n&lt;/style&gt;\n\n&lt;?php } ?&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13296664,"title":"Trouble storing a session variable","body":"<p>I have a log in script that currently stores 2 variables a valid variable and a username variable. I am now trying to add in a name variable so I have altered the MySQL query to get the name from the database and have tried to store the name in a session variable but for some reason its just not storing it. Probably best just to show you the script, I have been studying PHP for only 2 months so I really appreciate your help.</p>\n\n<pre><code>&lt;?php\nob_start(); // Start output buffering\n\nsession_start(); //must call session_start before using any $_SESSION variables3\n$_SESSION['username'] = $username;\n\nfunction validateUser($username)\n{\n\n    session_regenerate_id (); //this is a security measure\n    $_SESSION['valid'] = 1;\n    $_SESSION['username'] = $username;\n    $_SESSION['name'] = $userData['name'];\n}\n\n      $username = isset($_POST['username'])?$_POST['username']:'';\n     $password = isset($_POST['password'])?$_POST['password']:'';\n\n//connect to the database here\n\n$hostname_Takeaway = \"localhost\";\n$database_Takeaway = \"diningtime\";\n$username_Takeaway = \"root\";\n$password_Takeaway = \"root\";\n$Takeaway = mysql_pconnect($hostname_Takeaway, $username_Takeaway, $password_Takeaway) or trigger_error(mysql_error(),E_USER_ERROR); \nmysql_select_db($database_Takeaway, $Takeaway);\n\n$username = mysql_real_escape_string($username);\n\n$query = \"SELECT name, password, salt FROM admin_users WHERE username = '$username';\";\n\n$result = mysql_query($query) or die(mysql_error());\n\nif(mysql_num_rows($result) &lt; 1) //no such user exists\n{\n    header('Location: http://localhost/diningtime/admin-home.php?login=fail');\n\n    die();\n}\n$userData = mysql_fetch_array($result, MYSQL_ASSOC);\n$hash = hash('sha256', $userData['salt'] . hash('sha256', $password) );\nif($hash != $userData['password']) //incorrect password\n\n\n{\n    header('Location: http://localhost/diningtime/admin-home.php?login=fail');\n\n    die();\n}\nelse\n{\n\n   validateUser($username); //sets the session data for this user\n}\n//redirect to another page or display \"login success\" message\nheader('Location: http://localhost/diningtime/main');\ndie();\n\n\n\n\n//redirect to another page or display \"login success\" message\n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","email","mediawiki"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13198106,"title":"Media Wiki : Sent email to author when an article is created","body":"<p>I want my Media Wiki to send a 'Thank You' mail to the author when he creates a new article. \nAny extension available for this method. </p>\n\n<p>Alternatively : I am creating article from a special page. So it is possible to add my own extension and write an email script. But I am confused how to get the email ID of the author..</p>\n\n<p>Any help ??</p>\n"},{"tags":["php","javascript","css","xampp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13296705,"title":"php events calendar. The javascript button wont press","body":"<p>I have been following a very annoying tutorial on how to make a php calender. I have got to the final bit but where i have a button to display the information from the database on certain dates when i click it nothing happens. It is supposed to bring up a box displaying the information. There is no error message or anything just nothing happens when you click it. Maybe ive made a simple mistake? Does anyone have any ideas? I need to finish this tonight :(\nThanks</p>\n\n<p>events.php</p>\n\n<pre><code>&lt;?php\n$deetz = $_POST['deets'];\n$deets = preg_replace('#[^0-9/]#i', '', $deets);\n\ninclude (\"connect.php\");\n\n$events = '';\n$query = mysql_query('SELECT description FROM events WHERE evdate = \"'.$deets.'\"');\n$num_rows = mysql_num_rows($query);\nif($num_rows &gt; 0) {\n$events .= '&lt;div id=\"eventsControl\"&gt;&lt;button onMouseDown=\"overlay()\"&gt;Close&lt;/button&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt; ' . $deets . '&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;';\n\nwhile($row = mysql_fetch_array($query)){\n  $desc = $row['description'];\n  $events .= '&lt;div id=\"eventsBody\"&gt;'. $desc . '&lt;br /&gt;&lt;hr&gt;&lt;br / &gt;&lt;/div&gt;';\n }\n}\necho $events;\n?&gt;\n</code></pre>\n\n<p>connect.php</p>\n\n<pre><code>&lt;?php\n$db_host = \"localhost\";\n$db_username = \"root\";\n$db_pass = \"heyman\";\n$db_name = \"ecalandar\";\n$conn = mysql_connect(\"$db_host\", \"$db_username\",\"$db_pass\") or die (\"could not connect                          \nto mysql\");\nmysql_select_db(\"$db_name\") or die (\"no database\");\n?&gt;\n</code></pre>\n\n<p>calCSS.css</p>\n\n<pre><code>#calendar_wrap {\nwidth: 924px;\nmargin-left: auto;\nmargin-right: auto;\noverflow: hidden;\n}\n.title_bar {\nwidth: 100%; \nheight: 30px;\n}\n.previous_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: left;\n}\n.show_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: center;\n}\n.next_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: right;\n}\n.week_days {\nwidth: 100%;\n}       \n.days_of_the_week  {\nfloat: left;\nwidth: 14%;\ntext-align: center;\n}      \n.cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #9C9;\n}\n.day_heading {\nposition: relative;\nfloat: left;\nwidth: 40px;\nheight: 16px;\npadding: 6px;\ncolor: #000;\nfont-family: Arial;\nfont-size: 14px;\n}    \n.openings {\nwidth: 100%;\nclear:left;\ntext-align: center;\n}\n.non_cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #CCC;\n}\n\n.clear {\nclear: both;\n}\n\n&lt;!-- overlay --!&gt;\nbody {\nheight:100%;\nmargin:0;\npadding:0;\n}\n#overlay {\ndisplay: none;\nposition: absolute;\nleft: 0px;\ntop: 0px;\nwidth: 100%;\nheight: 100%;\nz-index: 2000;\nbackground: #000;\nopacity: .9;\n}\n#events {\ndisplay: none;\nwidth:500px;\nborder:4px solid #9C9;\npadding:15px;\nz-index: 3000;\nmargin-top: 100px;\nmargin-right: auto;\nmargin-left: auto;\nbackground-color: #FFF;\nheight: 400px;\noverflow: scroll;\n}\n\n#eventControl {\ndisplay: none;\nwidth: 100%;\nheight:30px;\nz-index: 3000;\n}\n#eventBody {\ndisplay: none;\nwidth: 100%;\nz-index: 3000;\n}\n</code></pre>\n\n<p>calendar_start.php</p>\n\n<pre><code>&lt;?php\n$showmonth = $_POST['showmonth'];\n$showyear = $_POST['showyear'];\n$showmonth = preg_replace('#[^0-9]#i', '', $showmonth);\n$showyear = preg_replace('#[^0-9]#i', '', $showyear);\n\n$day_count = cal_days_in_month(CAL_GREGORIAN, $showmonth, $showyear);\n$pre_days = date('w', mktime(0,0,0, $showmonth, 1, $showyear));\n$post_days = (6 - (date('w', mktime(0,0,0, $showmonth, $day_count,$showyear))));\n\necho '&lt;div id=\"calendar_wrap\"&gt;';\necho '&lt;div class=\"title_bar\"&gt;';\necho '&lt;div class=\"previous_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" value=\"Previous             \nMonth\" onClick=\"javascript:last_month();\"&gt;&lt;/div&gt;';\necho '&lt;div class=\"show_month\"&gt;' . $showmonth . '/' . $showyear . '&lt;/div&gt;';\necho '&lt;div class=\"next_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" value=\"Next Month\"         \nonClick=\"javascript:next_month();\"&gt;&lt;/div&gt;';\necho '&lt;/div&gt;';\necho '&lt;div class=\"week_days\"&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Mon&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Tue&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Wed&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Thur&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Fri&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sat&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sun&lt;/div&gt;';\necho '&lt;div class=\"clear\"&gt;&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n/* Previous Month Filler Days */\nif ($pre_days != 0) {\nfor($i = 1 ; $i&lt;=$pre_days;$i++) {\necho '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\n\n/* Current Month */\n\n//connect to mysql\ninclude (\"connect.php\");\n//\nfor($i=1; $i&lt;= $day_count; $i++) {\n//get events logic\n$date = $showmonth.'/'.$i.'/'.$showyear;\n$query = mysql_query('SELECT id FROM events WHERE evdate = \"'.$date.'\"');\n$num_rows = mysql_num_rows($query);\nif($num_rows &gt; 0) {\n $event = \"&lt;input name = '$date' type = 'submit' value='Details' id='$date' onClick =     \n'javascript:show_details(this);'&gt;\";\n}\n//end get events\n\necho '&lt;div class=\"cal_day\"&gt;';\necho '&lt;div class=\"day_heading\"&gt;' . $i . '&lt;/div&gt;';\n\n//show events button\nif($num_rows != 0) { echo \"&lt;div class='openings'&gt;&lt;br /&gt;\".$event.\"&lt;/div&gt;\";\n}\n//end button\necho '&lt;/div&gt;';\n\n      }\n/* Next Month Filler Days */\nif ($post_days != 0) {\nfor ($i=1; $i&lt;=$post_days; $i++) {\n echo '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\necho '&lt;/div&gt;';\n?&gt;\n</code></pre>\n\n<p>show_calendar.php</p>\n\n<pre><code> &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"calCss.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\" /&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction initialCalendar(){\nvar hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar currentTime = new Date();\nvar month = currentTime.getMonth() + 1;\nvar year = currentTime.getFullYear();\nshowmonth = month;\nshowyear = year;\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction next_month(){\nvar nextmonth = showmonth + 1;\nif (nextmonth &gt; 12) {\n   nextmonth = 1;\n   showyear = showyear + 1;\n }\n showmonth = nextmonth;\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction last_month(){\n\nvar lastmonth = showmonth - 1;\nif (lastmonth &lt; 1) {\n   lastmonth = 12;\n   showyear = showyear - 1;\n }\n showmonth = lastmonth;\n\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n\n&lt;script type=\"text/javascrip\"&gt;\nfunction overlay() {\n  el = document.getElementById(\"overlay\");\n  el.style.display = (el.style.display == \"block\") ? \"none\" : \"block\";\n  el = document.getElementById(\"events\");\n  el.style.display = (el.style.display == \"block\") ? \"none\" : \"block\";\n  el = document.getElementById(\"eventsBody\");\n  el.style.display = (el.style.display == \"block\") ? \"none\" : \"block\";\n}\n&lt;/script&gt;\n\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction show_details(theId){\n var deets = (theId);\n el = document.getElementById(\"overlay\");\n el.style.display = (el.style.display == \"block\") ? \"none\" : \"block\";\n el = document.getElementById(\"events\");\n el.style.display = (el.style.display == \"block\") ? \"none\" : \"block\";\n var hr = new XMLHttpRequest();\n var url = \"events.php\";\n var vars = \"deets=\"+deets;\n hr.open(\"POST\", url, true);\n hr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n hr.onreadystatechange = function() {\n     if(hr.readyState ==4 &amp;&amp; hr.status == 200 {\n         var return_data = hr.responseText;\n         document.getElementById(\"events\").innerHTML = return_data;\n  }\n }\n hr.send(vars);\n document.getElementById(\"events\").innerHTML = \"processing...\";\n }\n&lt;/script&gt;\n\n\n\n&lt;/head&gt;\n&lt;body onLoad=\"initialCalendar();\"&gt;\n&lt;div id=\"showCalendar\"&gt;&lt;/div&gt;\n&lt;div id=\"overlay\"&gt;&lt;/div&gt;\n&lt;div id=\"events\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":22,"favorite_count":9,"up_vote_count":26,"down_vote_count":0,"view_count":23500,"score":26,"question_id":7231939,"title":"Redirecting to authentication dialog - \"An error occurred. Please try again later\"","body":"<p>Why does it always happen to me?</p>\n\n<p>This happens after my application verify for user user login and redirect user to the authentication page:  </p>\n\n<p><code>https://www.facebook.com/dialog/oauth?client_id=XXX&amp;redirect_uri=http%3A%2F%2Fexample.com%2Fmyappname%2F&amp;state=YYYYYY&amp;scope=offline_access%2Cpublish_actions</code></p>\n\n<p>But instead of showing the authorization page, Facebook shows an error page with </p>\n\n<blockquote>\n  <p>An error occurred. Please try again later.</p>\n</blockquote>\n\n<p>Is there any configuration I have to do before try to authenticate my users?</p>\n\n<p>All is done with PHP using the PHP-SDK classes.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13296263,"title":"PHP - running multiple queries to output results into excel file","body":"<p>So I have an excel file. I have multiple queries that are returned. However I need to run all these queries at once and output the results to the excel file.</p>\n\n<pre><code>$col = 1;\nwhile($row_data = mysql_fetch_assoc($result)) {\n$row = 1;\nif ($col == 1) {\n    $row_headings = array_keys($row_data);\n       foreach($row_headings as $value) {\n    $h = preg_split('/X/', $value);\n\nif ($h[0] = $id and $h[2] != null){\n$results=\"select question from lime_questions where sid =\".$h[0].\" and gid =\".$h[1].\" and qid =\".$h[2].\"; \";\necho $results;\n//This is where the queries are returned. \n//They are echoed to the first cell of the excel file\n//They are returned as \"query1;query2;...\"\n//This is where I am messing up. \n//I am attempting to run the queries. I have been attempting many different approaches\n\n$query_result = mysql_query($results[0]); //this does not return results of the queries\necho $query_result;\n//attempting to show the results in the first cell of the excel file\n     }\n//ideally at this point this foreach would print each query result in its own cell\n foreach(mysql_query($results) as $value2){\n        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValueByColumnAndRow($col, $row, $value2);\n        $row++;\n     }\n    $row = 1;\n    $col++;\n}\n</code></pre>\n"},{"tags":["php","javascript","mysql","drop-down-menu"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2910,"score":1,"question_id":7345261,"title":"Query database onchange of dropdown menu, then output to form","body":"<p>Hi I'm performing the following query on a database which is getting me a dropdown menu. I want this to query the database onchange so that I can use that information in another form.</p>\n\n<pre><code>$dropdown_sql=\"SELECT product_id, product_name, unit_price, unit_quantity, in_stock FROM products\";\n$dropdown_result=mysql_query($dropdown_sql);\n\n$options=\"\";\n\nwhile ($row=mysql_fetch_array($dropdown_result)) {\n    $id=$row[\"product_id\"];\n    $product_name=$row[\"product_name\"];\n    $unit_price=$row[\"unit_price\"];\n    $unit_quantity=$row[\"unit_quantity\"];\n    $in_stock=$row[\"in_stock\"];\n    $options.=\"&lt;OPTION VALUE=\\\"$id\\\"&gt;$product_name - $unit_quantity\";\n}\n?&gt;\n</code></pre>\n\n<p>The dropdown menu:</p>\n\n<pre><code>&lt;SELECT NAME=product_name onchange=\"dropdown_change()\"&gt;\n&lt;OPTION VALUE=0&gt;Select a food\n    &lt;?php echo $options ?&gt;\n    &lt;/SELECT&gt;\n</code></pre>\n\n<p>I can detect the change in javascript</p>\n\n<pre><code>function dropdown_change()\n{\n  alert(\"hello\")\n}\n</code></pre>\n\n<p>BUT I can't get the information from that point, and the I can't put it in the form. Please help.</p>\n"},{"tags":["php","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13296390,"title":"Running database function in controller..how do I transfer to Model?","body":"<p>Okay, I have a function in my controller that works. However, I shouldn't be calling the database in the controller (as we all know). I normally can easily migrate information from a model into a controller, but I'm having a hard time with this one. I won't even share my model version...how would you write this to a model?</p>\n\n<pre><code>    $this -&gt; db -&gt; select('title, price, number_sites, number_entries, white_label'); \n    $query = $this -&gt; db -&gt; get('pricing', 3); // limit 3 rows\n\n    $row1 = $query-&gt;row(0); // 0 grabs first row in table: Package 1        \n    $data['row1'] = $row1;\n\n    $row2 = $query-&gt;row(1); // 1 grabs second row in table: Package 2        \n    $data['row2'] = $row2;\n\n    $row3 = $query-&gt;row(2); // 2 grabs third row in table: Package 3        \n    $data['row3'] = $row3;\n</code></pre>\n"},{"tags":["php","compiler-errors","php-errors"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":47,"score":-4,"question_id":13293914,"title":"PHP Parse error: syntax error, unexpected $end in 'useradmin.php' on line 184","body":"<p>I am using an open source PHP time clock for students to use at our college to record their time working in the office.  It all works fine, except for the User Administration portion.</p>\n\n<p>When I try to view User Summary info (<em>to edit existing users</em>) I get the following error:</p>\n\n<p>PHP Parse error: syntax error, unexpected $end in '<strong>/path/to/useradmin.php</strong>' on <strong>line 184</strong></p>\n\n<p>After reading through multiple PHP parse error posts on this site, most state that a closing curly brace '}' is needed, however adding one before the closing PHP tag doesn't resolve the issue.  Can anyone see what is going wrong with this script? All other functions of the script work perfectly except viewing 'User Summary' and trying a 'User Search'.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>&lt;?php\n\nsession_start();\n\ninclude '../config.inc.php';\ninclude 'header.php';\ninclude 'topmain.php';\necho \"&lt;title&gt;$title - User Summary&lt;/title&gt;\\n\";\n\n$self = $_SERVER['PHP_SELF'];\n$request = $_SERVER['REQUEST_METHOD'];\n$user_agent = $_SERVER['HTTP_USER_AGENT'];\n\nif (!isset($_SESSION['valid_user'])) {\n\necho \"&lt;table width=100% border=0 cellpadding=7 cellspacing=1&gt;\\n\";\necho \"  &lt;tr class=right_main_text&gt;&lt;td height=10 align=center valign=top scope=row  \nclass=title_underline&gt;PHP Timeclock Administration&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"  &lt;tr class=right_main_text&gt;\\n\";\necho \"    &lt;td align=center valign=top scope=row&gt;\\n\";\necho \"      &lt;table width=200 border=0 cellpadding=5 cellspacing=0&gt;\\n\";\necho \"        &lt;tr class=right_main_text&gt;&lt;td align=center&gt;You are not presently logged \nin, or do not have permission to view this page.&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr class=right_main_text&gt;&lt;td align=center&gt;Click &lt;a \nclass=admin_headings href='../login.php'&gt;&lt;u&gt;here&lt;/u&gt;&lt;/a&gt; to login.&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"      &lt;/table&gt;&lt;br /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\\n\"; exit;\n}\n\necho \"&lt;table width=100% height=89% border=0 cellpadding=0 cellspacing=1&gt;\\n\";\necho \"  &lt;tr valign=top&gt;\\n\";\necho \"    &lt;td class=left_main width=180 align=left scope=col&gt;\\n\";\necho \"      &lt;table class=hide width=100% border=0 cellpadding=1 cellspacing=0&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=11&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows_headings height=18 valign=middle&gt;Users&lt;/td&gt;\n&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=current_left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/user.png' alt='User Summary' /&gt;&amp;nbsp;&amp;nbsp;\n    &lt;a class=admin_headings href='useradmin.php'&gt;User Summary&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/user_add.png' alt='Create New User' /&gt;&amp;nbsp;&amp;nbsp;\n    &lt;a class=admin_headings href='usercreate.php'&gt;Create New User&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/magnifier.png' alt='User Search' /&gt;&amp;nbsp;&amp;nbsp;\n    &lt;a class=admin_headings href='usersearch.php'&gt;User Search&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=33&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows_headings height=18 valign=middle&gt;Offices&lt;/td&gt;\n&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/brick.png' alt='Office Summary' /&gt;&amp;nbsp;&amp;nbsp;\n    &lt;a class=admin_headings href='officeadmin.php'&gt;Office Summary&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/brick_add.png' alt='Create New Office' /&gt;&amp;nbsp;&amp;nbsp;\n    &lt;a class=admin_headings href='officecreate.php'&gt;Create New Office&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=33&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows_headings height=18 valign=middle&gt;Groups&lt;/td&gt;\n&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/group.png' alt='Group Summary' /&gt;&amp;nbsp;&amp;nbsp;\n    &lt;a class=admin_headings href='groupadmin.php'&gt;Group Summary&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/group_add.png' alt='Create New Group' /&gt;&amp;nbsp;&amp;nbsp;\n    &lt;a class=admin_headings href='groupcreate.php'&gt;Create New Group&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=33&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows_headings height=18 valign=middle \ncolspan=2&gt;In/Out Status&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/application.png' alt='Status Summary' /&gt;\n    &amp;nbsp;&amp;nbsp;&lt;a class=admin_headings href='statusadmin.php'&gt;Status Summary&lt;/a&gt;\n&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/application_add.png' alt='Create Status' /&gt;&amp;nbsp;&amp;nbsp;\n    &lt;a class=admin_headings href='statuscreate.php'&gt;Create Status&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=33&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows_headings height=18 valign=middle \ncolspan=2&gt;Miscellaneous&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/clock.png' alt='Add/Edit/Delete Time' /&gt;\n    &amp;nbsp;&amp;nbsp;&lt;a class=admin_headings href='timeadmin.php'&gt;Add/Edit/Delete Time&lt;/a&gt;\n&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/application_edit.png' alt='Edit System Settings' /&gt;\n    &amp;nbsp;&amp;nbsp;&lt;a class=admin_headings href='sysedit.php'&gt;Edit System Settings&lt;/a&gt;\n&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"        &lt;tr&gt;&lt;td class=left_rows height=18 align=left valign=middle&gt;&lt;img \nsrc='../images/icons/database_go.png'\n    alt='Upgrade Database' /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a class=admin_headings \nhref='dbupgrade.php'&gt;Upgrade Database&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"      &lt;/table&gt;&lt;/td&gt;\\n\";\n\n$user_count = mysql_query(\"select empfullname from \".$db_prefix.\"employees\n                       order by empfullname\");\n@$user_count_rows = mysql_num_rows($user_count);\n\n$admin_count = mysql_query(\"select empfullname from \".$db_prefix.\"employees where \nadmin = '1'\");\n@$admin_count_rows = mysql_num_rows($admin_count);\n\n$time_admin_count = mysql_query(\"select empfullname from \".$db_prefix.\"employees where \ntime_admin = '1'\");\n@$time_admin_count_rows = mysql_num_rows($time_admin_count);\n\n$reports_count = mysql_query(\"select empfullname from \".$db_prefix.\"employees where \nreports = '1'\");\n@$reports_count_rows = mysql_num_rows($reports_count);\n\necho \"    &lt;td align=left class=right_main scope=col&gt;\\n\";\necho \"      &lt;table width=100% height=100% border=0 cellpadding=10 cellspacing=1&gt;\\n\";\necho \"        &lt;tr class=right_main_text&gt;\\n\";\necho \"          &lt;td valign=top&gt;\\n\";\necho \"            &lt;table width=90% align=center height=40 border=0 cellpadding=0 \ncellspacing=0&gt;\\n\";\necho \"              &lt;tr&gt;&lt;th class=table_heading_no_color nowrap width=100% \nhalign=left&gt;User Summary&lt;/th&gt;&lt;/tr&gt;\\n\";\necho \"              &lt;tr&gt;&lt;td height=40 class=table_rows nowrap halign=left&gt;&lt;img \nsrc='../images/icons/user_green.png' /&gt;&amp;nbsp;&amp;nbsp;Total \n                  Users: $user_count_rows&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;img \nsrc='../images/icons/user_orange.png' /&gt;&amp;nbsp;&amp;nbsp;\n                  Sys Admin Users:     \n$admin_count_rows&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;img src='../images/icons\n/user_red.png' /&gt;&amp;nbsp;&amp;nbsp;\n                  Time Admin Users: \n$time_admin_count_rows&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;img src='../images/icons\n/user_suit.png' /&gt;&amp;nbsp;\n                  &amp;nbsp;Reports Users: $reports_count_rows&lt;/td&gt;&lt;/tr&gt;\\n\";\necho \"            &lt;/table&gt;\\n\";\necho \"            &lt;table class=table_border width=90% align=center border=0      \ncellpadding=0 cellspacing=0&gt;\\n\";\necho \"              &lt;tr&gt;\\n\";\necho \"                &lt;th class=table_heading nowrap width=3% align=left&gt;&amp;\nnbsp;&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading nowrap width=13% \nalign=left&gt;Username&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading nowrap width=18% align=left&gt;Display \nName&lt;/th&gt;\\n\";\n//echo \"                &lt;th class=table_heading nowrap width=23% align=left&gt;Email \nAddress&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading nowrap width=10% \nalign=left&gt;Office&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading nowrap width=10% \nalign=left&gt;Group&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading width=3% align=center&gt;Disabled&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading width=3% align=center&gt;Sys Admin&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading width=3% align=center&gt;Time Admin&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading nowrap width=3% \nalign=center&gt;Reports&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading nowrap width=3%    \nalign=center&gt;Edit&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading width=3% align=center&gt;Chg Pwd&lt;/th&gt;\\n\";\necho \"                &lt;th class=table_heading nowrap width=3% \nalign=center&gt;Delete&lt;/th&gt;\\n\"; \necho \"              &lt;/tr&gt;\\n\";\n\n$row_count = 0;\n\n$query = \"select empfullname, displayname, email, groups, office, admin, reports, \ntime_admin, disabled from \".$db_prefix.\"employees\n      order by empfullname\";\n$result = mysql_query($query);\n\nwhile ($row=mysql_fetch_array($result)) {\n\n$empfullname = stripslashes(\"\".$row['empfullname'].\"\");\n$displayname = stripslashes(\"\".$row['displayname'].\"\");\n\n$row_count++;\n$row_color = ($row_count % 2) ? $color2 : $color1;\n\necho \"              &lt;tr class=table_border bgcolor='$row_color'&gt;&lt;td nowrap \nclass=table_rows width=3%&gt;&amp;nbsp;$row_count&lt;/td&gt;\\n\";\necho \"                &lt;td class=table_rows nowrap width=13%&gt;&amp;nbsp;&lt;a title=\\\"Edit     \nUser: $empfullname\\\" class=footer_links \n                href=\\\"useredit.php?username=$empfullname&amp;officename=\".$row[\"office\"].\"\n\\\"&gt;$empfullname&lt;/a&gt;&lt;/td&gt;\\n\";\necho \"                &lt;td class=table_rows nowrap width=18%&gt;&amp;nbsp;$displayname&lt;/td&gt;\\n\";\n//echo \"                &lt;td class=table_rows nowrap width=23%&gt;&amp;nbsp;\".$row[\"email\"].\" \n&lt;/td&gt;\\n\";\necho \"                &lt;td class=table_rows nowrap width=10%&gt;&amp;nbsp;\".$row['office'].\"\n&lt;/td&gt;\\n\";\necho \"                &lt;td class=table_rows nowrap width=10%&gt;&amp;nbsp;\".$row['groups'].\"\n&lt;/td&gt;\\n\";\n\nif (\"\".$row[\"disabled\"].\"\" == 1) {\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;img src='../images\n/icons/cross.png' /&gt;&lt;/td&gt;\\n\";\n} else {\n$disabled = \"\";\necho \"                &lt;td class=table_rows width=3% align=center&gt;\".$disabled.\"&lt;/td&gt;\\n\";\n}\nif (\"\".$row[\"admin\"].\"\" == 1) {\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;img src='../images\n/icons/accept.png' /&gt;&lt;/td&gt;\\n\";\n} else {\n$admin = \"\";\necho \"                &lt;td class=table_rows width=3% align=center&gt;\".$admin.\"&lt;/td&gt;\\n\";\n}\nif (\"\".$row[\"time_admin\"].\"\" == 1) {\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;img src='../images\n/icons/accept.png' /&gt;&lt;/td&gt;\\n\";\n} else {\n$time_admin = \"\";\necho \"                &lt;td class=table_rows width=3% align=center&gt;\".$time_admin.\"   \n&lt;/td&gt;\\n\";\n}\nif (\"\".$row[\"reports\"].\"\" == 1) {\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;img src='../images\n/icons/accept.png' /&gt;&lt;/td&gt;\\n\";\n} else {\n$reports = \"\";\necho \"                &lt;td class=table_rows width=3% align=center&gt;\".$reports.\"&lt;/td&gt;\\n\";\n}\n\nif ((strpos($user_agent, \"MSIE 6\")) || (strpos($user_agent, \"MSIE 5\")) ||   \n(strpos($user_agent, \"MSIE 4\")) || (strpos($user_agent, \"MSIE 3\"))) {\n\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;a \nstyle='color:#27408b;text-decoration:underline;' \n                title=\\\"Edit User: $empfullname\\\" \n                href=\\\"useredit.php?username=$empfullname&amp;officename=\".$row[\"office\"].\"\n\\\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\\n\";\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;a \nstyle='color:#27408b;text-decoration:underline;' \n                title=\\\"Change Password: $empfullname\\\" \n                href=\\\"chngpasswd.php?username=$empfullname&amp;\nofficename=\".$row[\"office\"].\"\\\"&gt;Chg Pwd&lt;/a&gt;&lt;/td&gt;\\n\";\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;a \nstyle='color:#27408b;text-decoration:underline;' \n                title=\\\"Delete User: $empfullname\\\"  \n                href=\\\"userdelete.php?username=$empfullname&amp;\nofficename=\".$row[\"office\"].\"\\\"&gt;Delete&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\n\n} else {\n\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;a title=\\\"Edit User: \n$empfullname\\\" \n                href=\\\"useredit.php?username=$empfullname&amp;\nofficename=\".$row[\"office\"].\"\\\"&gt;\n                &lt;img border=0 src='../images/icons/application_edit.png' /&gt;&lt;/a&gt;\n&lt;/td&gt;\\n\";\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;a title=\\\"Change \nPassword: $empfullname\\\" \n                href=\\\"chngpasswd.php?username=$empfullname&amp;\nofficename=\".$row[\"office\"].\"\\\"&gt;&lt;img border=0 \n                src='../images/icons/lock_edit.png' /&gt;&lt;/a&gt;&lt;/td&gt;\\n\";\necho \"                &lt;td class=table_rows width=3% align=center&gt;&lt;a title=\\\"Delete \nUser: $empfullname\\\"  \n                href=\\\"userdelete.php?username=$empfullname&amp;    \nofficename=\".$row[\"office\"].\"\\\"&gt;\n                &lt;img border=0 src='../images/icons/delete.png' /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\n}\n}\necho \"          &lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\ninclude '../footer.php'; \nexit;\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13292410,"title":"saving and loading the ajax state of a page","body":"<p>I'm working on an ajax loading function on a Wordpress single page portfolio.</p>\n\n<p>The principle is that when you click a thumbnail in the gallery, it opens a container (#DrawerContainer) and fetch the ajax content of this article into it. With a lot of help, I'm already able to open the drawer and load the post content when I click a thumbnail.</p>\n\n<p>Here is a fiddle if you want to see it working (the ajax will not load but it works locally). <a href=\"http://jsfiddle.net/RF6df/24/\" rel=\"nofollow\">http://jsfiddle.net/RF6df/24/</a></p>\n\n<p><strong>The part I'm working on now:</strong> I need my site to be crawlable and the urls to be shareable. If I give <code>http://mywebsite.com/#!project5</code> to someone, I need project5 content to be opened when he loads the page.<br/>\nI thought the hash-bang (#!) urls was the way to go to make this work. With the code below (commented on the jsfiddle), I can update the url and add the hash of the clicked thumbnail.</p>\n\n<pre><code>var pathname = $(this).find('a')[0].href.split('/'),\n            l = pathname.length;\n        pathname = pathname[l-1] || pathname[l-2];\n        window.location.hash = \"#!\" + pathname;\n</code></pre>\n\n<p>But when I load a page, the ajax state isn't remembered. I assumed it was because my ajax container was only loaded on click event, but there is no change when I add a persistant container in the php.</p>\n\n<p>Is there a way to load the page with a post content already displayed, or to open the #DrawerContainer when the page is loading a hash-bang url?</p>\n\n<p>Please keep in mind that I'm just learning jquery and ajax. So I'd really appreciate if you explain or comment a little bit what you do, I'll for sure learn at the same time... :) </p>\n"},{"tags":["php","mysql","url"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13294341,"title":"Create slug to include id and title when insert record - php MySQL","body":"<p>I would like to generate the slug for my URLs upon creating the pages to store in the database. The slug should be <code>title-id</code> (e.g <code>titlename-234</code>). I already have the function to strip the title but how can i get the id before inserting the record? </p>\n\n<p>Many thanks in advance </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":23,"score":-2,"question_id":13296395,"title":"I want to add new div with text in existing text using preg_replace","body":"<p>I am not much familiar with preg_replace or something like this.</p>\n\n<p>I have the text like this one</p>\n\n<pre><code>&lt;div&gt;\n  &lt;p&gt;\n    &lt;a target=\"_blank\" href=\"http://www.ecarmls.com/ListitEmerald/media/569945_0585000.jpg\"&gt;\n      &lt;img alt=\"\" src=\"http://www.ecarmls.com/ListitEmerald/media/569945_0585000.jpg\" style=\"width: 250px;\"&gt;\n    &lt;/a&gt;\n  &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and I want to add some text in this format and the updated text will be like this</p>\n\n<pre><code>&lt;div class=\"image\"&gt;\n  &lt;a target=\"_blank\" href=\"http://www.ecarmls.com/ListitEmerald/media/569945_0585000.jpg\"&gt;\n    &lt;img alt=\"\" src=\"http://www.ecarmls.com/ListitEmerald/media/569945_0585000.jpg\" style=\"width: 250px;\"&gt;\n  &lt;/a&gt;\n  &lt;div class=\"rotate\" id=\"one\"&gt;\n    &lt;span class=\"rotation_div\"&gt;Label&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I think it can be done using preg_replace.</p>\n\n<p>Please give me code so that I can get the exact result because I have no experience with preg_replace function.</p>\n"},{"tags":["php","apache","http-headers","wamp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13296447,"title":"Show PHP header in FireBug","body":"<p>I have index.php running on WAMP and all I want to do is return 200 Ok header. I have:</p>\n\n<pre><code>echo \"Index3&lt;br /&gt;\";\n//All I need to do is execute a method.\n$request_method = strtolower($_SERVER['REQUEST_METHOD']);\necho \"Serving \" .$request_method;\n//And send back a response header.\nheader('HTTP/1.1 200 Ok');\nforeach (getallheaders() as $name =&gt; $value) {\n    echo \"$name: $value\\n&lt;br /&gt;\";\n}\n</code></pre>\n\n<p>I see nothing in Firebug(in both the Console and Net tab). In the foreach I see all headers about Accept, Connect, Cache etc. but no 200? I only get something in the Console when I change to a 400 response in the code above, why?</p>\n"},{"tags":["php","json","actionscript-3","cross-domain","flashdevelop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13295909,"title":"AS3 URLRequest works locally, not on server","body":"<p>so I have a URL Request I'm making to a site.. and everything works fine locally but on the server it doesn't.</p>\n\n<p>I have tried with a crossdomain file but am not sure if I am doing it properly or not.. Here is my request (URLs changed for security purposes).</p>\n\n<pre><code>var ureq:URLRequest = new URLRequest(\"https://this.that.site.com/Live/V6/this.svc/GetUserProfile\");\nureq.method = URLRequestMethod.POST;\nureq.data = JSON.encode(uvars);\n\nureq.contentType = \"application/json; charset=utf-8\";\n\nvar uload:URLLoader = new URLLoader();\nuload.addEventListener(Event.COMPLETE, responseJSONCaches);\nuload.load(ureq);\n</code></pre>\n\n<p>Response is just a simple trace to firebug.</p>\n\n<p>My crossdomain.xml looks like this: </p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;cross-domain-policy&gt;\n    &lt;allow-access-from domain=\"*\" secure=\"false\"/&gt;\n&lt;/cross-domain-policy&gt;\n</code></pre>\n\n<p>which is currently just for testing purposes until I figure out the issue I will limit other domains.</p>\n\n<p>Can someone give me some insight to this. I rarely visit these issues so I'm a little in the dark.</p>\n"},{"tags":["php","arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13296273,"title":"compare values array within array php","body":"<p>I have array within array, I printed and the result like </p>\n\n<pre><code>Array ( \n  [0] =&gt; Array ( [0] =&gt; 0 [1] =&gt; 20 [2] =&gt; 5 ) \n  [1] =&gt; Array ( [0] =&gt; 5 [1] =&gt; 0  [2] =&gt; 15 ) \n  [2] =&gt; Array ( [0] =&gt; 5 [1] =&gt; 10 [2] =&gt; 0 )\n)\n</code></pre>\n\n<p>I need to get max number for array1, array 2 and array3 that have index i and put them new array, let's call it result array</p>\n\n<p>For example I need calculate max(0 , 5 , 5 ) and push the max number into result array \nsame thing for elements have index 1 :  max(20,0,10) and push the max number into result array</p>\n\n<p>final result array must contain (5,15,20) </p>\n"},{"tags":["php","sql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":24,"score":-2,"question_id":13296351,"title":"how SQL structure and php for movies site","body":"<p>Hello I'm building a site Watch Series\nNow I was the structure of the SQL and PHP because each series has seasons and I want to display a page like this:</p>\n\n<hr>\n\n<p>Here's a list of series</p>\n\n<hr>\n\n<p>Here each series</p>\n\n<p>Series Name\n![enter image description here][1]\nBox [here Seasons]</p>\n\n<hr>\n\n<p>Here a list of episodes of the series by season</p>\n\n<p><img src=\"http://i.stack.imgur.com/7XngG.jpg\" alt=\"\"></p>\n"},{"tags":["php","mysql","xml","api","temporary-tables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13295964,"title":"PHP: Remove Rows Not in Large List","body":"<p>My application needs to change a value in a table if it is <strong>not</strong> in a very large set (20,000 items) that come in through an XML API.  Obviously, it would be easy to create a solution that would be very slow.</p>\n\n<p>I'd like to know how you might recommend doing this?  I'm thinking adding the unique IDs of the items in the XML to a temporary table, then executing a single query:</p>\n\n<pre><code>UPDATE item SET status = \"deleted\" WHERE id NOT IN (SELECT id FROM keep_items);\n</code></pre>\n\n<p>What do you think?</p>\n"},{"tags":["php","multidimensional-array","array-filter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13292468,"title":"array_filter to check for conditions?","body":"<p>Can i use array_filter to check for specific conditions in a multidimensional array to replace an if() statement?</p>\n\n<p>Want it to replace something like this:</p>\n\n<pre><code>if($item[0] == $key &amp;&amp; $item[1] == \"Test\"){\n    //do something here....\n}else{\n    //some other code here...\n}\n</code></pre>\n\n<p>Current Array:</p>\n\n<pre><code>Array\n(\n    [Zone] =&gt; Array\n        (\n            [Type] =&gt; s45\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; description goes here\n                    [image] =&gt; NULL\n                )\n\n        )\n)\n</code></pre>\n\n<p>I want to search FIRST to see if [Type] exists. If it DOESN'T exist then i think ill use array_splice to insert it into the existing array. If it DOES exist then ill check if [packageA1] exists, if [packageA1] DOESN'T exist then i'll use array_splice once again. If [packageA1] DOES exist then ill skip over any type if inserting..</p>\n\n<p>Does that make sense?</p>\n"},{"tags":["php","jquery","codeigniter","jquery-plugins"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13296441,"title":"Jquery NOTY not working on a Codeigniter installation","body":"<p>I have a site ran on Codeigniter, and am trying to display a noty notification on form success.</p>\n\n<p>It consists of:</p>\n\n<ul>\n<li>a controller which calls a library site_message() method (saves message and type in flashdata)</li>\n<li>a library which contains the site_message() and add_site_message() methods.  The add_site_message() method is what actually inserts the noty initialization into the head of the HTML document.</li>\n<li>a template library for codeigniter:  <a href=\"http://williamsconcepts.com/ci/codeigniter/libraries/template/reference.html\" rel=\"nofollow\">Template</a></li>\n<li>various views that make up the finished template.</li>\n</ul>\n\n<p>Controller:</p>\n\n<pre><code>$this-&gt;general-&gt;site_message('Article created.', 'success', 'admin/news');\n</code></pre>\n\n<p>\"General\" library:</p>\n\n<pre><code>function site_message($message, $type='error', $redirect_location=false)\n{\n\n    switch ($type)\n    {\n        case 'error':\n            $this-&gt;CI-&gt;session-&gt;set_flashdata('site_error_message', $message);\n            break;\n        case 'success':\n            $this-&gt;CI-&gt;session-&gt;set_flashdata('site_success_message', $message);\n            break;\n        case 'alert':\n            $this-&gt;CI-&gt;session-&gt;set_flashdata('site_alert_message', $message);\n            break;\n        case 'warning':\n            $this-&gt;CI-&gt;session-&gt;set_flashdata('site_warning_message', $message);\n            break;\n        case 'info':\n            $this-&gt;CI-&gt;session-&gt;set_flashdata('site_info_message', $message);\n            break;\n        case 'confirm':\n            $this-&gt;CI-&gt;session-&gt;set_flashdata('site_confirm_message', $message);\n            break;\n    }\n\n    if ($redirect_location) redirect($redirect_location);\n\n}\n\nfunction add_site_message()\n{\n    if ($this-&gt;CI-&gt;session-&gt;flashdata('site_error_message') !== false)\n    {\n        $this-&gt;CI-&gt;template-&gt;add_js(\"\n            $(function() {\n                var noty = noty({\n                    text: '\".addslashes($this-&gt;CI-&gt;session-&gt;flashdata('site_error_message')).\"',\n                    type: 'error',\n                    layout: 'top',\n                    dismissQueue: false,\n                    timeout: 2000\n                });\n                return false;\n            });\n            \", 'embed');\n    }\n    if ($this-&gt;CI-&gt;session-&gt;flashdata('site_success_message') !== false)\n    {\n        $this-&gt;CI-&gt;template-&gt;add_js(\"\n            $(function() {\n                var noty = noty({\n                    text: '\".addslashes($this-&gt;CI-&gt;session-&gt;flashdata('site_success_message')).\"',\n                    type: 'success',\n                    layout: 'top',\n                    timeout: 2000\n                });\n                return false;\n            });\n            \", 'embed');\n    }\n    if ($this-&gt;CI-&gt;session-&gt;flashdata('site_alert_message') !== false)\n    {\n        $this-&gt;CI-&gt;template-&gt;add_js(\"\n            $(function() {\n                var noty = noty({\n                    text: '\".addslashes($this-&gt;CI-&gt;session-&gt;flashdata('site_alert_message')).\"',\n                    type: 'alert',\n                    layout: 'top',\n                    dismissQueue: false,\n                    timeout: 2000\n                });\n                return false;\n            });\n            \", 'embed');\n    }\n    if ($this-&gt;CI-&gt;session-&gt;flashdata('site_warning_message') !== false)\n    {\n        $this-&gt;CI-&gt;template-&gt;add_js(\"\n            $(function() {\n                var noty = noty({\n                    text: '\".addslashes($this-&gt;CI-&gt;session-&gt;flashdata('site_warning_message')).\"',\n                    type: 'warning',\n                    layout: 'top',\n                    dismissQueue: false,\n                    timeout: 2000\n                });\n                return false;\n            });\n            \", 'embed');\n    }\n    if ($this-&gt;CI-&gt;session-&gt;flashdata('site_info_message') !== false)\n    {\n        $this-&gt;CI-&gt;template-&gt;add_js(\"\n            $(function() {\n                var noty = noty({\n                    text: '\".addslashes($this-&gt;CI-&gt;session-&gt;flashdata('site_info_message')).\"',\n                    type: 'information',\n                    layout: 'top',\n                    dismissQueue: false,\n                    timeout: 2000\n                });\n                return false;\n            });\n            \", 'embed');\n    }\n    if ($this-&gt;CI-&gt;session-&gt;flashdata('site_confirm_message') !== false)\n    {\n        $this-&gt;CI-&gt;template-&gt;add_js(\"\n            $(function() {\n                var noty = noty({\n                    text: '\".addslashes($this-&gt;CI-&gt;session-&gt;flashdata('site_confirm_message')).\"',\n                    type: 'confirm',\n                    layout: 'top',\n                    dismissQueue: false,\n                    timeout: 2000\n                });\n                return false;\n            });\n            \", 'embed');\n    }\n}\n</code></pre>\n\n<p>Template (code that implements noty is put RIGHT into the template itself, no dependent views):</p>\n\n<pre><code>&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');?&gt;\n\n&lt;!DOCTYPE HTML&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Admin&lt;/title&gt;\n    &lt;!-- CSS --&gt;\n    &lt;noscript&gt;\n        &lt;!-- 5grid core --&gt;\n        &lt;link rel=\"stylesheet\" href=\"&lt;?=config_item('css');?&gt;admin/5grid/core.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"&lt;?=config_item('css');?&gt;admin/5grid/core-desktop.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"&lt;?=config_item('css');?&gt;admin/5grid/style-1000px.css.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"&lt;?=config_item('css');?&gt;admin/5grid/core-noscript.css\" /&gt;\n        &lt;!-- custom extended --&gt;\n        &lt;link rel=\"stylesheet\" href=\"&lt;?=config_item('css');?&gt;admin/style.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"&lt;?=config_item('css');?&gt;admin/style-desktop.css\" /&gt;\n    &lt;/noscript&gt;\n    &lt;?= $_styles; ?&gt;\n    &lt;!-- END CSS --&gt;\n\n    &lt;!-- SCRIPTS --&gt;\n    &lt;script src=\"&lt;?=config_item('js');?&gt;libs/jquery-1.8.0.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"&lt;?=config_item('css');?&gt;admin/5grid/init.js?use=mobile,desktop,1000px\n                &amp;amp;mobileUI=1\n                &amp;amp;mobileUI.theme=none\n                &amp;amp;mobileUI.titleBarHeight=55\n                &amp;amp;mobileUI.openerWidth=75\n                &amp;amp;mobileUI.openerText=&amp;lt;\"&gt;&lt;/script&gt;\n    &lt;script src=\"&lt;?=config_item('widgets');?&gt;noty-master/js/noty/jquery.noty.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"&lt;?=config_item('widgets');?&gt;noty-master/js/noty/layouts/top.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"&lt;?=config_item('widgets');?&gt;noty-master/js/noty/themes/default.js\"&gt;&lt;/script&gt;\n    &lt;?= $_scripts; ?&gt;\n    &lt;!-- END SCRIPTS --&gt;\n    &lt;!--[if gte IE 9]&gt;&lt;link rel=\"stylesheet\" href=\"&lt;?=config_item('css');?&gt;admin/style-ie9n.css\" /&gt;&lt;![endif]--&gt;\n    &lt;!--[if lte IE 9]&gt;&lt;link rel=\"stylesheet\" href=\"&lt;?=config_item('css');?&gt;admin/style-ie9.css\" /&gt;&lt;![endif]--&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>For the life of me, I can't get noty to run.  I've tested to make sure the methods in the General library work... they do.  If I open the General library -> add_site_message() method and replace this:</p>\n\n<pre><code>if ($this-&gt;CI-&gt;session-&gt;flashdata('site_success_message') !== false)\n    {\n        $this-&gt;CI-&gt;template-&gt;add_js(\"\n            $(function() {\n                var noty = noty({\n                    text: '\".addslashes($this-&gt;CI-&gt;session-&gt;flashdata('site_success_message')).\"',\n                    type: 'success',\n                    layout: 'top',\n                    timeout: 2000\n                });\n                return false;\n            });\n            \", 'embed');\n    }\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>if ($this-&gt;CI-&gt;session-&gt;flashdata('site_success_message') !== false)\n    {\n        $this-&gt;CI-&gt;template-&gt;add_js(\"\n            $(function() {\n                alert('This works fine... so frustrating!');\n                return false;\n            });\n            \", 'embed');\n    }\n</code></pre>\n\n<p>It works fine.  So I know it's not my General library.  Any ideas?</p>\n"},{"tags":["php","localization","wamp","icu","intl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":390,"score":0,"question_id":8521626,"title":"numfmt_format() expects parameter 1 to be NumberFormatter, null given","body":"<p>I recently upgraded my WAMP server and I can't seem to get the Intl extension to work. I've made sure that </p>\n\n<ul>\n<li>the extension path in both ini files are correct</li>\n<li>the extension is loaded in both inis</li>\n<li>I can see the extension with <code>php --re intl</code></li>\n<li>I can see an example function with <code>php --rf numfmt_create</code></li>\n<li>I have icu dlls files in my php folder (icu 46, php 5.3.8, wamp 2.2)</li>\n<li>I have appended <code>C:\\wamp\\bin\\php\\php5.3.8</code> to the PATH in System variables</li>\n<li>The code is correct - working code before wamp upgrade and php manual example codes fail</li>\n</ul>\n\n<p>I'm trying to use the Number Formatter but it gives me some strange errors. Take this example code from the php manual for example:</p>\n\n<pre><code>&lt;?php\n$fmt = numfmt_create( 'de_DE', NumberFormatter::DECIMAL );\necho numfmt_format($fmt, 1234567.891234567890000).\"\\n\";\n$fmt = numfmt_create( 'it', NumberFormatter::SPELLOUT );\necho numfmt_format($fmt, 1142).\"\\n\";\n?&gt;\n</code></pre>\n\n<p>It gives me this:</p>\n\n<blockquote>\n  <p><strong>A PHP Error was encountered</strong></p>\n  \n  <p>Severity: Warning</p>\n  \n  <p>Message: numfmt_format() expects parameter 1 to be NumberFormatter,\n  null given</p>\n  \n  <p>Filename: controllers/test.php</p>\n  \n  <p>Line Number: 867</p>\n  \n  <p>Backtrace:</p>\n  \n  <p>File: C:\\wamp\\www\\application\\controllers\\test.php Line: 867\n  Function: numfmt_format</p>\n  \n  <p>File: C:\\wamp\\www\\index.php Line: 260 Function: require_once</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p><strong>A PHP Error was encountered</strong></p>\n  \n  <p>Severity: Warning</p>\n  \n  <p>Message: numfmt_format() expects parameter 1 to be NumberFormatter,\n  null given</p>\n  \n  <p>Filename: controllers/test.php</p>\n  \n  <p>Line Number: 869</p>\n  \n  <p>Backtrace:</p>\n  \n  <p>File: C:\\wamp\\www\\application\\controllers\\test.php Line: 869\n  Function: numfmt_format</p>\n  \n  <p>File: C:\\wamp\\www\\index.php Line: 260 Function: require_once</p>\n</blockquote>\n\n<p>I notice that <code>numfmt_create()</code> seems to be returning NULL regardless of what I do.</p>\n"},{"tags":["php","html","path"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13296352,"title":"PHP functions and File Paths","body":"<p>My website contains multiple files organized in directories. More specifically, this is my structure:</p>\n\n<ul>\n<li>index.php</li>\n<li>pages/account/viewaccount.php</li>\n<li>pages/account/createaccount.php</li>\n<li>pages/account/editaccount.php</li>\n<li>pages/aboutus/aboutus.php</li>\n<li>src/php/functions.php</li>\n</ul>\n\n<p><em>If you have trouble understanding this or require more information, add a comment</em></p>\n\n<p>Within my functions.php, I create a link to refer to my index file. Since this function is called by all my main .php files, the path to the index file varies dependent on the page calling the function. </p>\n\n<p>For example, if the function is called by my index file, the path would obviously be \"index.php\". However if the function is called from my viewaccount.php file, the required path would be \"../../index.php\"</p>\n\n<p>Therefore my problem is:</p>\n\n<p><strong>How can I set a general path, which independent from which file I call my function, it will always link correctly to my index file.</strong>  </p>\n\n<p>Once quick fix is to put all my main php files as siblings to my index, but I want to keep all my files organised  </p>\n"},{"tags":["php","javascript","jquery","wordpress","wordpress-plugin"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13296322,"title":"Why am I getting Illegal Token when outputting JavaScript from PHP?","body":"<p>I am trying to output Google Translate code from PHP (wordpress plugin) to the page and it is giving me Illegal Token errors even though when I paste the exact same line of code directly into the console and run it, it works. </p>\n\n<p>Here is my PHP:</p>\n\n<pre><code>    function AddTranslateSidebar(){\n  echo \"&lt;script&gt;\n    jQuery(document).ready(function(){\n      gt = escape('&lt;div id=\\\"google_translate_element\\\"&gt;&lt;/div&gt;&lt;script type=\\\"text/javascript\\\"&gt;function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: \\\"en\\\", layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, \\\"google_translate_element\\\");}&lt;/script&gt;&lt;script type=\\\"text/javascript\\\" src=\\\"http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\\\"&gt;&lt;/script&gt;');\n      jQuery('#sidebar').prepend(unescape(gt));\n    });\n  &lt;/script&gt;\";\n}\n</code></pre>\n\n<p>That code outputs the following into the page as HTML/JavaScript:</p>\n\n<pre><code>&lt;script&gt;\n    jQuery(document).ready(function(){\n      gt = escape('&lt;div id=\"google_translate_element\"&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: \"en\", layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, \"google_translate_element\");}&lt;/script&gt;&lt;script type=\"text/javascript\" src=\"http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\"&gt;&lt;/script&gt;');\n      jQuery('#sidebar').prepend(unescape(gt));\n    });\n  &lt;/script&gt;\n</code></pre>\n\n<p>Which causes the error </p>\n\n<pre><code>Uncaught SyntaxError: Unexpected token ILLEGAL \n</code></pre>\n\n<p>On the gt = escape( ... ); line.</p>\n\n<p>However, if I copy that code directly from the HTML source using the inspector and then paste it into the console and run it, it works and the translate dropdown shows up. </p>\n\n<p>Why is this happening?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":37,"score":2,"question_id":13296213,"title":"Proper PHP switch statement usage","body":"<p>I want to do a test using switch, this is the code I wrote:</p>\n\n<pre><code>&lt;?php\n\n    $moisActuelle = date(\"n\");\n    switch($moisActuelle)\n    {\n        case 1 || 2 || 3 : \n             echo'L\\'hiver';\n             break;\n        case 4 || 5 || 6 : \n             echo'Le printemp';\n             break;\n        case 7 || 8 || 9 : \n             echo'L\\'été';\n             break;\n        case 10 || 11 || 2 : \n             echo'L\\'automne';\n             break;\n\n    }\n\n?&gt;\n</code></pre>\n\n<p>but this code is always execute the first case whatever the $moisActuelle is.</p>\n"},{"tags":["php","internationalization","gettext"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13296147,"title":"Is gettext still a good option?","body":"<p>A few weeks ago someone answered a question I posted, suggesting the use of gettext. I was looking for information and the majority of the sites and questions seem a little bit old.</p>\n\n<p>So I want to ask if gettext is still a good option to work for international websites based on PHP, and if not, what is the best current technology to deal with this. For example I noticed that TYPO3 works with XML files.</p>\n\n<p>In the past I used arrays for each language and even constants, but I want to use a more professional approach. So is gettext still a good option?</p>\n"}]}
{"total":298823,"page":2,"pagesize":100,"questions":[{"tags":["php","customization"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":2,"view_count":67,"score":2,"question_id":13295915,"title":"Can I change the PHP start and end tags?","body":"<p>Can I change the PHP start and end tags?</p>\n\n<p>Like if I modify the core library files and have something like</p>\n\n<pre><code>&lt;!J\n</code></pre>\n\n<p>or </p>\n\n<pre><code>!#RR\n</code></pre>\n\n<p>In replacement of</p>\n\n<pre><code>&lt;? ?&gt;  or &lt;?php ?&gt;\n</code></pre>\n"},{"tags":["php","json","json-decode"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13295643,"title":"how to decode json that starts with [{ in php","body":"<p>SO I've been searching for a while now but I haven't found anything useful. Im interested in decoding a json code like this:</p>\n\n<pre><code>[\n{\"server\":\"1\",\"available\":true},\n{\"server\":\"2\",\"available\":false},\n{\"server\":\"3\",\"available\":true},\n{\"server\":\"4\",\"available\":true}\n]\n</code></pre>\n\n<p>I want to decode that using json_decode in php. How can I do that? =)</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13295981,"title":"Does PHP FILTER_SANITIZE_EMAIL actually work?","body":"<p>So im going back over a project and tidying up some of the validation bits and usually i would use a regex check to validate that an email is correct, then i cam accross: <a href=\"http://de2.php.net/manual/en/function.filter-var.php\" rel=\"nofollow\">http://de2.php.net/manual/en/function.filter-var.php</a></p>\n\n<p>Now I have tried a couple of tests and I am not getting the results I expected.</p>\n\n<pre><code>$email_b = 'bog^us@gmail.com';\n\nvar_dump(filter_var($email_b, FILTER_SANITIZE_EMAIL));\n</code></pre>\n\n<p>which returns:</p>\n\n<pre><code>string(16) \"bog^us@gmail.com\" \n</code></pre>\n\n<p>but to me thats not sanitized and then when I try</p>\n\n<pre><code>if (filter_var($email_b, FILTER_VALIDATE_EMAIL)) {\n    echo \"This (email_b) email address is considered valid.\";\n}\n</code></pre>\n\n<p>Which again i would say was a valid email address.</p>\n\n<p>Am i missing something here?</p>\n"},{"tags":["php","html","forms","character-encoding"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13291235,"title":"Show spanish characters in a form","body":"<p>I have a form and in a textarea I want to display some text that have some spanish characters but encoded as html. The problem is that instead of the spanish character it displays the html code. I'm using htmlentities to display it in the form. my code to display is:</p>\n\n<pre><code>&lt;?php echo htmlentities($string, ENT_QUOTES, \"UTF-8\") ?&gt;\n</code></pre>\n\n<p>Any idea or I just shouldnt use htmlentities in a form? Thanks!</p>\n\n<p><strong>EDIT</strong>\nLets say <code>$string = 'á'</code></p>\n\n<p>When I just do <code>&lt;?php echo $string ;?&gt;</code> I get <code>á</code>\nIf I do <code>&lt;?php echo htmlentities($string, ENT_QUOTES, \"UTF-8\") ?&gt;</code> I get <code>&amp;aacute;</code></p>\n\n<p>I'm so confused!</p>\n"},{"tags":["php","wordpress","customization"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13296173,"title":"Need to add custom fields with search - wordpress","body":"<p>I want to add the search function with custom fields, in the portfolio page of my website\ncheck <a href=\"https://www.austraflora.com/2013/our-range/\" rel=\"nofollow\">https://www.austraflora.com/2013/our-range/</a> , </p>\n\n<p>I don't know how to insert the complete code here , so just add it my website </p>\n\n<p>please check the code of template file , of portfolio page , with more details in pic\n<a href=\"http://funtimesite.com/uncategorized/code\" rel=\"nofollow\">http://funtimesite.com/uncategorized/code</a></p>\n\n<p>The custom fields i need </p>\n\n<ul>\n<li>Custom field   -    Type </li>\n<li>Genus species  -    Textbox</li>\n<li>cultivar-name  -   Textbox</li>\n<li>Height      -       Drop Down</li>\n<li>Width       -       Drop Down</li>\n</ul>\n\n<p>Really need the help of you guys here , didn't have much knowledge about it and need some help ! Guide me , how can i do this!</p>\n"},{"tags":["php","login","location"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13295042,"title":"Header Location code not working--suggestions?","body":"<p>PHP isn't my thing but I need to set up a simple login area--so here I am.  Here's some code I found that seems to work, but won't redirect.</p>\n\n<p>If I change the redirect to an echo it works.  If I change the location to \"include\" instead it works.  What am I doing wrong in the \"location\" code?  </p>\n\n<p>Am open to suggestions on alternately coding this.  I have a single webpage that if the user enters a password an additional section on the site will appear.  So I have a form on that site submitting to this code and then it's supposed to redirect back with the new section now visible.</p>\n\n<p>Here's my code--</p>\n\n<pre><code>&lt;?php\n\n// error reporting\nini_set('display_errors',1); \n error_reporting(E_ALL);\n\n$host=\"localhost\"; // Host name\n$username=\"foo\"; // Mysql username\n$password=\"foo\"; // Mysql password\n$db_name=\"foo\"; // Database name\n$tbl_name=\"members\"; // Table name\n\n// Connect to server and select databse.\nmysql_connect(\"$host\", \"$username\", \"$password\")or die(\"cannot connect\");\nmysql_select_db(\"$db_name\")or die(\"cannot select DB\");\n\n// username and password sent from form\n$myusername=$_POST['myusername'];\n$mypassword=$_POST['mypassword'];\n\n// To protect MySQL injection (more detail about MySQL injection)\n$myusername = stripslashes($myusername);\n$mypassword = stripslashes($mypassword);\n$myusername = mysql_real_escape_string($myusername);\n$mypassword = mysql_real_escape_string($mypassword);\n\n$sql=\"SELECT * FROM $tbl_name WHERE username='$myusername' and password='$mypassword'\";\n$result=mysql_query($sql);\n\n// Mysql_num_row is counting table row\n$count=mysql_num_rows($result);\n\n// If result matched $myusername and $mypassword, table row must be 1 row\nif($count==1){\nheader(\"Location: http://www.google.com/\"); \n\n// Register $myusername, $mypassword \n// success\n//session_register(\"myusername\");\n//session_register(\"mypassword\");\n}\nelse {\necho \"Wrong Username or Password\";\n}\n\n?&gt;\n</code></pre>\n"},{"tags":["php","htmlpurifier"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13287946,"title":"HTMLPurifier ignoring attributes even though in config","body":"<p>I'm having trouble allowing certain HTML attributes into HTMLPurifier's whitelist.</p>\n\n<p>This is my code:</p>\n\n<pre><code>$config = HTMLPurifier_Config::createDefault();\n$config-&gt;set('HTML.Allowed', 'u,p,b,i,span[style],strike,s,strong,em,li,ul,ol,div[align],br,img[src|alt|width|height],sub,sup');\n$purifier = new HTMLPurifier($config);\n</code></pre>\n\n<p>When I run: <code>$clean_str = $purifier-&gt;purify($dirty_str);</code> on this: <code>&lt;div align=\"left\"&gt;Left&lt;/div&gt;</code> I get this: <code>&lt;div&gt;left&lt;/div&gt;</code>.</p>\n\n<p>If I remove: <code>div[align]</code> from <code>HTML.Allowed</code> I get this: <code>Left</code> - so I know that the <code>HTML.Allowed</code> is working for elements, but not for attributes.</p>\n\n<p>I'm sure I'm doing something silly, but I can't for the life of me figure it out!</p>\n\n<p>Thanks in advance for any help.</p>\n\n<p>Using htmlpurifier-4.4.0-lite with PHP 5.3.14</p>\n"},{"tags":["php","session-variables"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13295904,"title":"Echo session problems","body":"<p>and thanks for the people they have help me before.\nI have a litle error and i have try somethings but dont work,</p>\n\n<pre><code>$rows = ( \"SELECT `adminid`, `notes` FROM `admin` WHERE `adminid` = '\".$_SESSION['adminid'].\"' LIMIT 1\" );\n$result1 = ( \"SELECT * FROM `log` ORDER BY `logid` DESC LIMIT 15\" );\ninclude( \"./templates/\".TEMPLATE.\"/header.php\" );\n</code></pre>\n\n<p>This Line:</p>\n\n<pre><code>echo ( $_SESSION['msg1'],$_SESSION['msg2'] );\n</code></pre>\n\n<p>there is the problem. I have \",\" its make me problems,maybe someone can explain me or help me to solve it.</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13295742,"title":"Storing the Position of Values in an Array to Database table columns","body":"<p>I am a complete PHP/MySQL newb and would really appreciate some help storing the position of each value in an array to the appropriate DB table column.  The value itself in the array corresponds to a column in the DB table.</p>\n\n<p>In my php form processing page I have the array $rankArray, where each value corresponds with a column in my database table.  What I want to do is save the position of of each value to its corresponding column. For example, if </p>\n\n<pre><code>$rankArray = [2,5,3,4,1]\n</code></pre>\n\n<p>it should store '1' in column 2, '2' in column 5, '3' in column 3, etc.</p>\n"},{"tags":["php","javascript","websocket"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":30,"score":-7,"question_id":13296002,"title":"Easiest WebSocket tutorial - PHP","body":"<p>I'm looking for a simple and minimalist tutorial for the basics of WebSocket with PHP (and maybe with jQuery on client side, but native JavaScript would be better), like sending a string to the server, and returning another string, not a full chat application or something. I'd like to learn the very basics of the WebSocket communication.</p>\n"},{"tags":["php","dom"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13289691,"title":"PHP Simple HTML DOM - Top level elements only","body":"<p>I have searched through some other threads here but have not found the perfect solution </p>\n\n<p>if I have the following layout</p>\n\n<pre><code>    &lt;html&gt;\n&lt;div&gt;   &lt;---- This one\n      &lt;div&gt; text &lt;/div&gt;\n      &lt;div&gt; text &lt;/div&gt;\n&lt;/div&gt; \n&lt;p&gt; text &lt;/p&gt;\n &lt;div&gt;  &lt;---- This one\n      &lt;div&gt; text &lt;/div&gt;\n      &lt;div&gt; text &lt;/div&gt;\n&lt;/div&gt;  \n&lt;p&gt; text &lt;/p&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>How would I go about getting only the divs on the top level. (NOTE: the two divs inside is only an exmaple, there could be just  one, or could be 5 or 6.</p>\n\n<p>Note: The rest of the code that this ties into is using the Simple html dom, I need this to work with that.</p>\n"},{"tags":["php","oop","fatal-error"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13294723,"title":"Fatal error: Method name must be a string","body":"<p>I'm getting error:</p>\n\n<blockquote>\n  <p>Fatal error: Method name must be a string in C:\\xampp\\htdocs\\index.php on line 15\"</p>\n</blockquote>\n\n<p>LINE 15: </p>\n\n<pre><code>$obj = new $url[0]();\n</code></pre>\n\n<p>CODE:</p>\n\n<pre><code>&lt;?php\nerror_reporting(E_ALL ^ E_NOTICE);\n\n$url = $_GET['url'];\n$url = explode('/', $url);\n\nif (!file_exists('controllers/' . $url[0] . '.php')) {\n    $url[0] = 'error';   // error kontroleris \n}    \nrequire 'controllers/' . $url[0] . '.php';\n\n$obj = new $url[0]();\n$obj-&gt;$url[1]();\n</code></pre>\n\n<p>BTW.: Script is not finished yet.</p>\n"},{"tags":["php","check","country"],"answer_count":5,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":2047,"score":4,"question_id":4286827,"title":"PHP: What's the best solution to check a users country?","body":"<p>I'm really new in this, so please could you tell me how this is works, and what's the best way  to do it?</p>\n\n<p><strong>Services that give API's</strong></p>\n\n<p>I read/heard that there are a lots of services that gives API's to do this, however I don't really want to rely on anybody so please if there is a way to do it without them let me know.</p>\n\n<p><strong>Server Side</strong> </p>\n\n<p>And also I read/heard that this is done in server side coding what makes me confused, I always thought that this is done by Javascript :O...</p>\n\n<p><strong>IP list</strong></p>\n\n<p>And I also read/heard that those services that gives API's they have a very huge list of IP's from ISP's and they can determine the country by this list, is this true? And if I want to make it alone without API's, should I have a list too? :O</p>\n\n<p>So after all, again how should I check a users country :O?</p>\n\n<p>Thanks,</p>\n\n<p>CIRK </p>\n"},{"tags":["php","xml","xml-parsing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13275496,"title":"Parsing XML (Grabbing certain data)","body":"<p>I have a lot of data in an XML file that I need to get out. Currently there is around 1000 pieces of data I need to extract It looks like this</p>\n\n<p><a href=\"http://pastebin.com/PwfhtbDF\" rel=\"nofollow\">http://pastebin.com/PwfhtbDF</a></p>\n\n<p>I need to somehow extract just ip=\"83.42.146.140\" out of every one of these. Remember there is around 1000 of these (44000 lines in total). I have tried XML parsing programs but couldn't get it to extract what I want. I was thinking about doing it in PHP somehow.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["php","phpwebsocket"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":105,"score":1,"question_id":11016164,"title":"How to send WebSocket hybi-17 frame with php server","body":"<p>I try to implement a WebSocket Server in PHP handshaking and recieving data works well but if i try to send data to the client, Chrome 19 says\n\"A server must not mask any frames that it sends to the client.\"\nBut I don't mask the data.\nMy code looks like this:</p>\n\n<pre><code>function wrap($msg=\"\"){ \n\n$byte1 = 0x80 | (0x1 &amp; 0x0f);\n\nif(strlen($msg) &lt;= 125){\n    $header = pack('CC', $byte1, strlen($msg));\n}\nelseif(strlen($msg) &gt;= 126 &amp;&amp; strlen($msg) &lt;= 65535){\n    $header = pack('CCn', $byte1, 126, strlen($msg));\n}\nelse{\n    $header = pack('CCN', $byte1, 126, strlen($msg));\n}\n$this-&gt;log($header);\nreturn $header.$msg;\n}\n</code></pre>\n\n<p>I send it to the Client using socket_write()</p>\n\n<p><strong>EDIT:</strong> Firefox 13 closes the connection too</p>\n"},{"tags":["php","symfony2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13290770,"title":"Symfony 2 User security from one bundle to other bundle","body":"<p>I am new to Symfony 2 and never used any framework before.</p>\n\n<p>I created 2 bundles, one for core site which url is as root <code>/</code> it is <code>DefaultBundle</code> then I created a new <code>UserBundle</code> and set all the routing to <code>/user/</code> the login page is <code>/user/login</code> and it is working fine. </p>\n\n<p>So far I am able to login the user and every thing seems working. </p>\n\n<p>Question really is, how can I check in <code>DefaultBundle</code> that a user is logged in, so I show them <code>Welcome User</code> instead of <code>login/register</code> links on top right side of the front end website.</p>\n\n<p>p.s. I dont need FOSuserBundle as answer,</p>\n\n<p>below is from my security.yml file</p>\n\n<pre><code>jms_security_extra:\n    secure_all_services: false\n    expressions: true\n\nsecurity:\n    encoders:\n       Aala\\Vital\\UserBundle\\Entity\\User: \n          algorithm: plaintext\n#              encode_as_base64: false\n#              iterations: 1\n\nrole_hierarchy:\n    ROLE_ADMIN:       ROLE_USER\n    ROLE_MOD:       ROLE_USER\n    ROLE_SUPER_ADMIN: [ROLE_USER, ROLE_MOD, ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH]\n\nproviders:\n    user_area:\n      entity: {class: AalaVitalUserBundle:User, property: email}\n\nfirewalls:\n\n    login:\n        pattern:  ^/user/login$\n        security: false\n        anonymous: true\n\n    user_area:\n        pattern:    ^/user\n        form_login:\n            login_path: /user/login\n            check_path: /user/login_check\n            post_only: true\n            default_target_path: /user/\n        logout:\n            path:   /user/logout\n            target: /user/\n\n    main:\n        pattern: ^/\n        security: true\n        anonymous: ~\n\n\naccess_control:\n    - { path: /.*, role: IS_AUTHENTICATED_ANONYMOUSLY }\n    - { path: ^/user, roles: ROLE_USER }\n</code></pre>\n\n<p>My Folder Structure is as follows</p>\n\n<pre><code>-src\n    -Aala\n        -Vital\n            -FronendBundle\n            -UserBundle\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13295299,"title":"Refresh content of a div without ajax","body":"<p>I have a div with <code>id=mydiv</code> and inside of this div I have some content that I am grab it dynamically from database with a while.</p>\n\n<p>Is there any way to use a button to refresh or reload the content of my div without using <code>.load()</code> ajax method?</p>\n\n<pre><code>$(\"#mydiv\").load(\"index.html\")\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>&lt;div id=\"mydiv\"&gt;\n&lt;?php\n$trtyb = mysql_query (\"SELECT * FROM xxx WHERE xxx= '$getcat'\");\nwhile($fina = mysql_fetch_assoc($trtyb)) {\n  echo $fina['name'];\n  echo \"&lt;br&gt;\";\n}\n?&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["php","xml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13294877,"title":"Button link to Simple XML","body":"<p>OK, I have a simple xml call which retrieves data via an api, please see code below:</p>\n\n<pre><code>      $file = 'http://mywebsite.com/computers.xml?apikey=88888&amp;cid=api&amp;limit=5&amp;page=1 '     ;\n      if(!$xml = simplexml_load_file($file))\n      exit('Failed to open '.$file); \n\n      $total_pages = $xml-&gt;results-&gt;attributes()-&gt;totalPages;\n      $current_page = $xml-&gt;results-&gt;attributes()-&gt;currentPage;\n      $total_results = $xml-&gt;results-&gt;attributes()-&gt;totalResults;\n\n      foreach($xml-&gt;computer as $computer){\n  echo $computer['name'];\n</code></pre>\n\n<p>this all works perfect and breaks down the total number of pages, results and current page. With an if else statement i can generate next and previous buttons, however if i include the link to the api, when i click on it it simply calls the page and show the results as an xml format. </p>\n\n<p>When what i want to achieve is yo provide a button which simply calls the second page of these results, i.e</p>\n\n<pre><code>      $file = 'http://mywebsite.com/computers.xml?apikey=88888&amp;cid=api&amp;limit=5&amp;page=2\n</code></pre>\n\n<p>however just clicking on this link shows the page in xml format, so what i need to do is to click on a button and retrieve the info via the simple xml function, however i do not know if this is possible or how to go about it.</p>\n\n<p>And so any advice would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","websocket","phpwebsocket"],"answer_count":2,"favorite_count":2,"up_vote_count":17,"down_vote_count":2,"view_count":581,"score":15,"question_id":13120847,"title":"Simple websocket server in PHP","body":"<p>I am developing a simple websocket server in PHP. I know there are quite a few existing implementations but I want to make my own so to learn the protocol better. I managed to do the handshaking fine and my clients connect to the server. I also managed to decode the data from the client but I have problems sending back messages. The client disconnects when it receives my response. Firefox says <code>The connection to ws://localhost:12345/ was interrupted while the page was loading.</code>.</p>\n\n<p>I used <a href=\"http://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\">this answer</a> as a guide.</p>\n\n<p>Here is my code for wrapping the data:</p>\n\n<pre><code>private function wrap($msg = \"\"){\n    $length = strlen($msg);\n    $this-&gt;log(\"wrapping (\" . $length . \" bytes): \" . $msg);\n\n    $bytesFormatted = chr(129);\n    if($length &lt;= 125){\n        $bytesFormatted .= chr($length);\n    } else if($length &gt;= 126 &amp;&amp; $length &lt;= 65535) {\n        $bytesFormatted .= chr(126);\n        $bytesFormatted .= chr(( $length  &gt;&gt; 8 ) &amp; 255);\n        $bytesFormatted .= chr(( $length       ) &amp; 255);\n    } else {\n        $bytesFormatted .= chr(127);\n        $bytesFormatted .= chr(( $length &gt;&gt; 56 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 48 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 40 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 32 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 24 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 16 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt;  8 ) &amp; 255);\n        $bytesFormatted .= chr(( $length       ) &amp; 255);\n    }\n\n    $bytesFormatted .= $msg;\n    $this-&gt;log(\"wrapped (\" . strlen($bytesFormatted) . \" bytes): \" . $bytesFormatted);\n    return $bytesFormatted;\n}\n</code></pre>\n\n<p><em>UPDATE:</em> I tried it with Chrome and I got the following error, printed in the console: <code>A server must not mask any frames that it sends to the client.</code></p>\n\n<p>I put some console printouts on the server. It is a basic echo server. I try with <code>aaaa</code>. So the actual wrapped message must be 6 bytes. Right?</p>\n\n<p><img src=\"http://i.stack.imgur.com/NDtW1.png\" alt=\"enter image description here\"></p>\n\n<p>Chrome prints the above error. Note also that after wrapping the message I simply write it to the socket:</p>\n\n<pre><code>$sent = socket_write($client, $bytesFormatted, strlen($bytesFormatted));\n$this-&gt;say(\"! \" . $sent);\n</code></pre>\n\n<p>It prints 6 meaning 6 bytes are actually written to the wire.</p>\n\n<p>If I try with <code>aaa</code>, Chrome doesn't print the error but doesn't call my onmessage handler either. It hangs as if waiting for more data.</p>\n\n<p>Any help highly appreciated. Thanks.</p>\n"},{"tags":["php","google","google-analytics"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13295634,"title":"Send values to Google Analytics via PHP script","body":"<p>I am using the following script to send data from a form to google analytics:</p>\n\n<pre><code>if ($result){\n        $var_utmac = 'UA-0000000-0';\n        $var_utmhn = 'my-site.com'; // domain\n        $var_utmn = rand(1000000000,9999999999); // random number\n        $var_cookie = rand(10000000,99999999); //random cookie number\n        $var_random = rand(1000000000,2147483647); //number under 2147483647\n        $var_today = time();\n        $var_referer = $_SERVER['HTTP_REFERER']; //referer url\n        if ($var_referer == '') { $var_referer = '-'; }\n        $var_uservar='-'; // no user-defined\n        $var_utmp= $_POST['REQUEST_URI'].'data_'.  htmlentities($_POST['dataone']).'_'.htmlentities($_POST['datatwo']); // folder called no_jstracker to segment nojavascript visitors\n        $urchinUrl='http://www.google-analytics.com/__utm.gif?utmwv=3&amp;utmn=' . $var_utmn . '&amp;utme=&amp;utmcs=-&amp;utmsr=-&amp;utmsc=-&amp;utmul=-&amp;utmje=0&amp;utmfl=-&amp;utmdt=-&amp;utmhn=' . $var_utmhn . '&amp;utmhid=' . $var_utmn . '&amp;utmr=' . $var_referer . '&amp;utmp=' . $var_utmp . '&amp;utmac=' . $var_utmac . '&amp;utmcc=__utma%3D' . $var_cookie . '.' . $var_random . '.' . $var_today . '.' . $var_today . '.' . $var_today . '.2%3B%2B__utmz%3D' . $var_cookie . '.' . $var_today . '.2.2.utmcsr%3D_SOURCE_%7Cutmccn%3D_CAMPAIGN_%7Cutmcmd%3D_MEDIUM_%7Cutmctr%3D_KEYWORD_%7Cutmcct%3D_CONTENT_%3B%2B__utmv%3D' . $var_cookie . '.' . $var_uservar . '%3B';\n        echo ' &lt;img src=\"' . $urchinUrl . '\" border=\"0\" /&gt;';\n    }\n</code></pre>\n\n<p>While the data is being sent successfully there is one issue and that is that analytics doesn't show some of the data correctly i.e. for campaign data ist just shoes \"<em>CAMPAIGN</em>\" for keyword it shows \"<em>KEYWORD</em>\". It is clear where this happens in the script but am not sure how to fix it. Ideally of course analytics should populate that with its own data.</p>\n\n<p>Any suggestions whether this is even possible?</p>\n"},{"tags":["php","doctrine","doctrine2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13295383,"title":"class_parents(): Class does not exist","body":"<p>I have the following hierarchy set up:</p>\n\n<pre><code>/src\n    /application\n        /models\n            User.php, Item.php, etc.\n   /config\n        /mappings\n            /yaml\n                application.models.User.dcm.yml\n</code></pre>\n\n<p>The models are namespaced \"application\\models.\"  They all \"use Doctrine\\ORM\\Mapping AS ORM\";  I'm using Doctrine's ClassLoader in my bootstrap.  These all seem to work.</p>\n\n<p>Whenever I run the app, I get the following errors:</p>\n\n<pre><code>Warning: class_parents(): Class User does not exist and could not be loaded in /Library/WebServer/Documents/goodsam/library/Doctrine/Common/Persistence/Mapping/RuntimeReflectionService.php on line 40\n\nWarning: array_reverse() expects parameter 1 to be array, boolean given in /Library/WebServer/Documents/goodsam/library/Doctrine/Common/Persistence/Mapping/AbstractClassMetadataFactory.php on line 257\n\nWarning: Invalid argument supplied for foreach() in /Library/WebServer/Documents/goodsam/library/Doctrine/Common/Persistence/Mapping/AbstractClassMetadataFactory.php on line 257\n\nFatal error: Uncaught exception 'ReflectionException' with message 'Class User does not exist' in /Library/WebServer/Documents/goodsam/library/Doctrine/Common/Persistence/Mapping/RuntimeReflectionService.php:73\nStack trace:\n#0 /Library/WebServer/Documents/goodsam/library/Doctrine/Common/Persistence/Mapping/RuntimeReflectionService.php(73): ReflectionClass-&gt;__construct('User')\n#1 /Library/WebServer/Documents/goodsam/library/Doctrine/ORM/Mapping/ClassMetadataInfo.php(867): Doctrine\\Common\\Persistence\\Mapping\\RuntimeReflectionService-&gt;getClass('User')\n#2 /Library/WebServer/Documents/goodsam/library/Doctrine/ORM/Mapping/ClassMetadataFactory.php(511): Doctrine\\ORM\\Mapping\\ClassMetadataInfo-&gt;initializeReflection(Object(Doctrine\\Common\\Persistence\\Mapping\\RuntimeReflectionService))\n#3 /Library/WebServer/Documents/goodsam/library/Doctrine/Common/Persistence/Mapping/AbstractClassMetadataFactory.php(300): Doctrine\\ORM\\Mapping\\ClassMetadataFactory-&gt;initializeReflection(Object(Doctrine\\ORM\\Mapping\\ClassMetadata), Object(Doctrine\\Comm in /Library/WebServer/Documents/goodsam/library/Doctrine/Common/Persistence/Mapping/RuntimeReflectionService.php on line 73\n</code></pre>\n\n<hr>\n\n<p>First off, Doctrine says that the yaml mapping files must be fully qualified classnames.  Therefore, I named it to where it's pointing to the application\\models directory.  However in the example docs, it looks like it wants full qualification to the mapping file itself?  Which one should this be?</p>\n\n<p>Here is the top of my mapping file:</p>\n\n<pre><code># application.models.User.dcm.yml\napplication\\models\\User: \n</code></pre>\n\n<p>If this looks right, any other clues on what might be broken?</p>\n"},{"tags":["php","session","cookies","session-variables"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13295746,"title":"PHP Cookie vs Session variables","body":"<p>I am modifying a login script from php-login.net and trying to make it more secure. This particular login script has a login class that sets both cookie and session variables when the user logs in. </p>\n\n<pre><code>/**\n *  write user data into PHP SESSION [a file on your server]\n */\n   $_SESSION['user_name'] = $result_row-&gt;user_name;\n   $_SESSION['user_email'] = $result_row-&gt;user_email;\n   $_SESSION['user_logged_in'] = 1;\n\n/**\n *  write user data into COOKIE [a file in user's browser]\n */\n   setcookie(\"user_name\", $result_row-&gt;user_name, time() + (3600*24*100));\n   setcookie(\"user_email\", $result_row-&gt;user_email, time() + (3600*24*100));\n   $this-&gt;user_is_logged_in = true;\n</code></pre>\n\n<p>The unfortunate part is that on the page the user gains access to, nobody wrote a check to make sure the user was logged in when they got to that page. So if a person just types in the URL directly, they would not have to be logged in. </p>\n\n<p>I want to know the best way to verify that the user has logged in. Currently, I am using this, but I do not know if it is redundant (meaning: will cookie variables always equal session variables, so there is no point in checking both?) Any input would be helpful.</p>\n\n<pre><code>session_start();\nif(!(isset($_COOKIE['user_email']) &amp;&amp; \n    isset($_SESSION['user_email']) &amp;&amp;\n    ($_COOKIE['user_email']===$_SESSION['user_email']) &amp;&amp;\n    isset($_COOKIE['user_name']) &amp;&amp; \n    isset($_SESSION['user_name']) &amp;&amp; \n    ($_COOKIE['user_name']===$_SESSION['user_name']) &amp;&amp; \n    isset($login) &amp;&amp; \n    $login-&gt;isUserLoggedIn())){\n        header(\"location:../../index.php\");\n        exit;\n     }\n</code></pre>\n\n<p>(Sorry for the poorly formatted code, I am still trying to figure out the nuances of text formatting on this site)</p>\n"},{"tags":["php","javascript","html","wordpress"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":384,"score":3,"question_id":7390553,"title":"Need to insert javascript into php code [Wordpress Website]","body":"<p>For my wordpress website I am trying to remove the Google timestamp that is currently in my SERP (search page result description.)</p>\n\n<p>To do this I must use javascript to get the time and report it back.</p>\n\n<p>You may want to refer to this link:\n<a href=\"http://www.andrewkeir.com/remove-wordpress-post-datestamp-timestamp-google-serps/\" rel=\"nofollow\">http://www.andrewkeir.com/remove-wordpress-post-datestamp-timestamp-google-serps/</a></p>\n\n<pre><code>function twentyten_posted_on() {\nprintf( __( '&lt;span class=\"%1$s\"&gt;Posted on&lt;/span&gt; %2$s &lt;span class=\"meta-sep\"&gt;by&lt;/span&gt; %3$s', 'twentyten' ),\n    'meta-prep meta-prep-author',\n    sprintf( '&lt;a href=\"%1$s\" title=\"%2$s\" rel=\"bookmark\"&gt;&lt;span class=\"entry-date\"&gt;%3$s&lt;/span&gt;&lt;/a&gt;',\n        get_permalink(),\n        esc_attr( get_the_time() ),\n        get_the_date()\n\n    ),\n</code></pre>\n\n<p>In the above code get_the_time() and get_the_date() are the parts are want to replace with the following javascript:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;document.write(\"&lt;?php the_time('F jS, Y') ?&gt;\");&lt;/script&gt;\n</code></pre>\n\n<p>Whats the PHP code to do this! I have tried a million things which all result in error's so I think I may be overlooking something.</p>\n"},{"tags":["php","preg-match"],"answer_count":2,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":9217,"score":7,"question_id":3327848,"title":"Warning: preg_match() [function.preg-match]: Unknown modifier '/'","body":"<p>I'm trying to use preg_match to return all the URL's that are inclosed in \"  \" in a page source code.</p>\n\n<p>The code I am using is</p>\n\n<pre><code>preg_match('\"http://(.+?)\\\"', $code, $matches);\n</code></pre>\n\n<p>And I am getting the following error:</p>\n\n<pre><code>Warning: preg_match() [function.preg-match]: Unknown modifier '/' in .... on line 13\n</code></pre>\n"},{"tags":["php","imagemagick"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13295730,"title":"Finding the bounding area in ImageMagick alpha image","body":"<p>I'm taking some images and, using ImageMagick via PHP scripts, removing their backgrounds as well as I can.  Lots of the images have solid color backgrounds, so it works pretty well.  The only problem is that the output image retains the original dimensions, full of empty space.  Is there a way in ImageMagick to determine the bounds of the non-transparent content and adjust the canvas accordingly?  </p>\n\n<p><img src=\"http://i.stack.imgur.com/tiFA5.jpg\" alt=\"Representation of the question\"></p>\n"},{"tags":["php","mysql","arrays","variables","while-loop"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":32,"score":0,"question_id":13295479,"title":"PHP MySQL while loop as variable","body":"<p><strong>What is the best way to accomplish this?</strong></p>\n\n<p>I have a PHP function that outputs a MySQL while loop. It works fine, displays every row as expected. However, I need to not <strong>echo</strong> the results, but rather put them as a <strong>variable</strong> to work with preexisting code. Changing that obviously limits it to only one result currently.</p>\n\n<p>I assume it's got to be inserted as an array of sorts. Thinking about looping a loop is making my head hurt haha.</p>\n\n<p>Any help would be much appreciated.</p>\n"},{"tags":["php","api","soap","call"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13279995,"title":"SOAP API call with PHP","body":"<p>Working on this for a week now. Having trouble executing this code. I want to retrieve data via SOAP and work with it in PHP. My trouble is, that I am having trouble sending the 'RequesterCredentials'.</p>\n\n<p>I will show the xml code so you all can see the info I am trying to send, and then the PHP code I am using. </p>\n\n<p>XML SAMPLE CODE</p>\n\n<pre><code>POST /AuctionService.asmx HTTP/1.1\nHost: apiv2.gunbroker.com\nContent-Type: text/xml; charset=utf-8\nContent-Length: 200\nSOAPAction: \"GunBrokerAPI_V2/GetItem\"\n\n&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \nxmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n &lt;soap:Header&gt;\n   &lt;RequesterCredentials xmlns=\"GunBrokerAPI_V2\"&gt;\n     &lt;DevKey&gt;devkey&lt;/DevKey&gt;\n     &lt;AppKey&gt;appkey&lt;/AppKey&gt;\n   &lt;/RequesterCredentials&gt;\n &lt;/soap:Header&gt;\n &lt;soap:Body&gt;\n&lt;GetItem xmlns=\"GunBrokerAPI_V2\"&gt;\n  &lt;GetItemRequest&gt;\n    &lt;ItemID&gt;312007942&lt;/ItemID&gt;\n    &lt;ItemDetail&gt;Std&lt;/ItemDetail&gt;\n  &lt;/GetItemRequest&gt;\n&lt;/GetItem&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>PHP CODE THAT I AM USING TO MAKE THE CALL</p>\n\n<pre><code>$client = new SoapClient(\"http://apiv2.gunbroker.com/AuctionService.asmx?WSDL\");\n\n$appkey = 'XXXXXX-XXXXXX-XXXXXX';\n$devkey = 'XXXXXX-XXXXXX-XXXXXX';\n\n$header = new SoapHeader('GunBrokerAPI_V2','RequesterCredentials',array('DevKey' =&gt; $devkey,'AppKey' =&gt; $appkey),0);\n$client-&gt;__setSoapHeaders(array($header));\n\n$result = $client-&gt;GetItem('312343077');\n\necho '&lt;pre&gt;',print_r($result,true),'&lt;/pre&gt;';\n</code></pre>\n\n<p>THE RESULT I GET</p>\n\n<pre><code>stdClass Object\n(\n[GetItemResult] =&gt; stdClass Object\n    (\n        [Timestamp] =&gt; 2012-11-07T18:17:31.9032903-05:00\n        [Ack] =&gt; Failure\n        [Errors] =&gt; stdClass Object\n            (\n                [ShortMessage] =&gt; GunBrokerAPI_V2 Error Message : [GetItem]\nYou must fill in the 'RequesterCredentialsValue' SOAP header for this Web Service method.\n                [ErrorCode] =&gt; 1\n            )\n// the rest if just an array of empty fields that I could retrieve if i wasnt havng problems.\n</code></pre>\n\n<p>Im not sure if the problem is the way Im sending the SoapHeaders or if I am misunderstanding the syntax. I would greatly appreciate any and all help.</p>\n"},{"tags":["php","cakephp","netbeans"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13295488,"title":"Finding unused variables in CakePHP views","body":"<p>Currently, I am using NetBeans IDE and it has a very nice feature which shows if a variable is defined but is not used in its scope. This works very nicely if you have bunch of old code, and you are trying to remove the dead bits from it.</p>\n\n<p>Is there a tool/service/anything, which would do the same thing however which would find variables which are set in the controller but then not used in a view. It does not have to be fully automatic.</p>\n\n<p>For example if you have the following in your controller:</p>\n\n<pre><code>$this-&gt;set(array(\n     'variable1' =&gt; $variable1,\n     'variable2' =&gt; $variable2\n)); \n</code></pre>\n\n<p>And the view looks like this:</p>\n\n<pre><code>&lt;p&gt;Peter ate &lt;?php echo $variable1; ?&gt; apples.\n</code></pre>\n\n<p>It would highlight or in any other way identify <code>variable2</code> (given that it is not used in layout as well).</p>\n"},{"tags":["php","wordpress","fatal-error"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13295710,"title":"WordPress Call to undefined function get_header()","body":"<p>I am receiving this error:</p>\n\n<pre><code>PHP Fatal error:  Call to undefined function get_header()\n</code></pre>\n\n<p>It is happening on my theme index.php file.</p>\n\n<p>I tried to re upload my wordpress core files, checked the index.php to see if it was ok, like it generally is and found nothing.</p>\n\n<p>The only thing different at my wordpress is that I use a custom wp-content folder. But it was working pretty ok until today.</p>\n"},{"tags":["php","caching","zend-paginator","zend-cache"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3,"score":0,"question_id":13295701,"title":"Zend Cache with pagination","body":"<p>I'm new with Zend Framework. I'm using Zend cache, I pretty much copied code from the documentation, here is my code:</p>\n\n<pre><code> $frontendOptions = array(\n                'lifetime' =&gt; 3600, // cache lifetime of 1 hour\n                'automatic_serialization' =&gt; true\n        );\n\n        $backendOptions = array(\n                'cache_dir' =&gt; '../tmp/' // Directory where to put the cache files\n        );\n\n        // getting a Zend_Cache_Core object\n        $cache = Zend_Cache::factory('Core',\n                'File',\n                $frontendOptions,\n                $backendOptions);\n\n\n        // see if a cache already exists:\n        if( ($paginator = $cache-&gt;load('index' . $page)) === false ) {\n\n\n            $table = new self;\n            $query = $table-&gt;select()-&gt;setIntegrityCheck(false);\n            $query-&gt;from('feeds', array('feeds.blog_id', 'feeds.date_created', 'feeds.feed_id', 'feeds.post_content', 'feeds.post_link', 'feeds.post_title', 'feeds.post_thumb'));      \n\n            $query-&gt;where('feeds.date_created &lt;= NOW()');\n\n            $query-&gt;order('feeds.date_created DESC');\n\n\n            $paginator = new Zend_Paginator(new Zend_Paginator_Adapter_DbTableSelect($query));\n            $paginator-&gt;setItemCountPerPage(10);\n            $paginator-&gt;setCurrentPageNumber($page);\n\n            $cache-&gt;save($paginator, 'index' . $page);\n\n        }\n\n            return $paginator;\n</code></pre>\n\n<p>So after I go to the website that runs this query, I see the file being created, it's also a 19 or 20kb file, no matter which page im caching but the page is loading the same speed as before, also, if I update something in the database, I see the updated version, not the cache, I thought cache wouldnt show any updates for the lifetime of the cache. Any suggestions? Thanks</p>\n"},{"tags":["php","forms","multi-select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13291243,"title":"Processing multi-select list box to design an email layout","body":"<p>I am currently trying to modify a contact form created by someone else. The current form processing php file uses a function mentioned in this article: <a href=\"http://www.gerd-riesselmann.net/archives/2005/09/sending-spam-through-contact-forms\" rel=\"nofollow\">http://www.gerd-riesselmann.net/archives/2005/09/sending-spam-through-contact-forms</a>.</p>\n\n<p>Here is the code segment where it formats the email to be sent out.</p>\n\n<pre><code>    if($_POST[\"txtEmail\"]!=\"\"){\n    $xm=\"info@xxx.co.uk\";\n    $pem=$_POST[\"txtEmail\"];\n    $sb=\"Chauffer Inquiry\";\n    $txt='  &lt;table border=\"1\" cellpadding=\"3\" cellspacing=\"0\" style=\"border-collapse: collapse\"&gt;\n        &lt;tr&gt;\n          &lt;td align=\"right\"&gt;&lt;strong&gt;Name:&lt;/strong&gt;&lt;/td&gt;\n          &lt;td width=\"250\"&gt;'.preprocessHeaderField($_POST[\"txtName\"]).'&lt;/td&gt;\n        &lt;/tr&gt;\n&lt;tr&gt;\n      &lt;td align=\"right\"&gt;&lt;strong&gt;Date of booking:&lt;/strong&gt;&lt;/td&gt;\n      &lt;td width=\"250\"&gt;'.preprocessHeaderField($_POST[\"date\"]).'&lt;/td&gt;\n    &lt;/tr&gt;\n</code></pre>\n\n<p>My problem is this handling a list box with multi-select capability within this formatting section. I have created it correctly in the form using an array, but I still can't figure out how to process it within this code. Could someone explain how to include a for statement in here? I am capturing the number of selected items these two statements, before the if statement.</p>\n\n<pre><code>$aCars = $_POST['Cars'];\n$nCars = count($aCars);\n</code></pre>\n\n<p>I did look everywhere but couldn't find a way to embed a for statement to the above code. Please go easy on me as my php skills are not that great.</p>\n"},{"tags":["php","netbeans-7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13293845,"title":"why is netbeans not able to open the projects","body":"<p>I am getting a warring \"<em>Poject  has corrupted metadata\"</em>. It says to repair manually \"src.dir\" property in nbproject/project.properties and reopen the project.</p>\n\n<p>This warring was started when i re-installed the netbeans IDE and copied all my previous projects on to xampp. </p>\n\n<p>The stack trace shown in Netbeans:</p>\n\n<pre><code>java.lang.IllegalStateException: Property 'src.dir' was not found in 'nbproject/project.properties' (NB metadata corrupted?)\ndiagnostics:\nproject.properties exists: false\nproject directory: C:\\xampp\\htdocs\\Search@c9d3cd11:5831c146\nproject directory children: [C:\\xampp\\htdocs\\Search\\jquery.autocomplete.css@76a7d560:33d4e652, C:\\xampp\\htdocs\\Search\\config.php@77b35439:5e5d2c13, C:\\xampp\\htdocs\\Search\\index.php@c9dcff91:36f8c3cb, C:\\xampp\\htdocs\\Search\\Models@bae1d8d7:5fe609f, C:\\xampp\\htdocs\\Search\\dbSearch.php@1f5ad49d:7f7969cb, C:\\xampp\\htdocs\\Search\\nbproject@613e9f18:7982a64]\nnbproject exists: true\nnbproject valid: true\nnbproject children: [C:\\xampp\\htdocs\\Search\\nbproject\\private@d81c22a1:17070f21, C:\\xampp\\htdocs\\Search\\nbproject\\project.xml@effd77e:760cd985]\nsource roots: []\nsource roots - fired changes: 1\nproperties (helper): {}\nproperties (evaluator): {java.vm.version=23.1-b03, java.util.logging.config.class=org.netbeans.core.startup.TopLogging, apple.laf.useScreenMenuBar=true, sun.jnu.encoding=Cp1252, java.vendor.url=http://java.oracle.com/, ant.core.lib=C:\\Program Files\\NetBeans 7.2\\java\\ant\\lib\\ant.jar, java.vm.info=mixed mode, user.dir=C:\\Program Files\\NetBeans 7.2, sun.cpu.isalist=amd64, sun.awt.enableExtraMouseButtons=true, java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment, sun.os.patch.level=Service Pack 1, sun.java2d.noddraw=true, org.openide.version=deprecated, netbeans.home=C:\\Program Files\\NetBeans 7.2\\platform, nu.validator.spec.alt-advice=jar:file:/C:/Program%20Files/NetBeans%207.2/ide/modules/ext/validator.jar!/nu/validator/localentities/files/wiki_whatwg_org_wiki_Validator_nu_alt_advice, user.home=C:\\Users\\Hailey, java.io.tmpdir=C:\\Users\\Hailey\\AppData\\Local\\Temp\\, java.awt.printerjob=sun.awt.windows.WPrinterJob, nb.show.statistics.ui=usageStatisticsEnabled, java.version=1.7.0_05, file.encoding.pkg=sun.io, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, file.encoding=Cp1252, line.separator=\n, php.global.include.path=, java.vm.specification.vendor=Oracle Corporation, netbeans.autoupdate.language=en, java.vm.vendor=Oracle Corporation, java.class.path=C:\\Program Files\\NetBeans 7.2\\platform\\lib\\boot.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\org-openide-modules.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\org-openide-util-lookup.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\org-openide-util.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\boot_ja.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\boot_pt_BR.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\boot_ru.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\boot_zh_CN.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-modules_ja.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-modules_pt_BR.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-modules_ru.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-modules_zh_CN.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-util-lookup_ja.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-util-lookup_pt_BR.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-util-lookup_ru.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-util-lookup_zh_CN.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-util_ja.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-util_pt_BR.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-util_ru.jar;C:\\Program Files\\NetBeans 7.2\\platform\\lib\\locale\\org-openide-util_zh_CN.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\lib\\dt.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\lib\\tools.jar, sun.io.unicode.encoding=UnicodeLittle, user.variant=, user.name=Hailey, user.language=en, os.arch=amd64, java.runtime.version=1.7.0_05-b06, sun.boot.class.path=C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\rt.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\sunrsasign.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\classes, sun.desktop=windows, org.whattf.datatype.lang-registry=jar:file:/C:/Program%20Files/NetBeans%207.2/ide/modules/ext/validator.jar!/nu/validator/localentities/files/www_iana_org_assignments_language_subtag_registry, org.xml.sax.driver=com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser, sun.cpu.endian=little, nu.validator.spec.microsyntax-descriptions=jar:file:/C:/Program%20Files/NetBeans%207.2/ide/modules/ext/validator.jar!/nu/validator/localentities/files/wiki_whatwg_org_wiki_MicrosyntaxDescriptions, org.openide.specification.version=6.2, netbeans.hash.code=unique=NB_CND_GFMOD_GROOVY_JAVA_JC_MOB_PHP_WEBCOMMON_WEBEE054936104-1a13-451e-8f40-987ec236c81d_33f4934c-a615-440f-88ec-fbc36689cb79, awt.toolkit=sun.awt.windows.WToolkit, netbeans.productversion=NetBeans IDE 7.2 (Build 201207171143), sun.boot.library.path=C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\bin, java.home=C:\\Program Files\\Java\\jdk1.7.0_05\\jre, netbeans.autoupdate.country=GB, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, jna.boot.library.name=jnidispatch-340, netbeans.importclass=org.netbeans.upgrade.AutoUpgrade, java.endorsed.dirs=C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\endorsed, basedir=C:\\xampp\\htdocs\\Search, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, netbeans.default_userdir_root=C:\\Users\\Hailey\\AppData\\Roaming\\NetBeans, java.runtime.name=Java(TM) SE Runtime Environment, org.openide.major.version=IDE/1, netbeans.autoupdate.version=1.23, ant.home=C:\\Program Files\\NetBeans 7.2\\java\\ant, netbeans.user=C:\\Users\\Hailey\\AppData\\Roaming\\NetBeans\\7.2, netbeans.buildnumber=201207171143, netbeans.autoupdate.variant=, java.library.path=C:\\Program Files\\NetBeans 7.2\\bin;C:\\windows\\Sun\\Java\\bin;C:\\windows\\system32;C:\\windows;C:\\Program Files\\Common Files\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\Common Files\\Microsoft Shared\\Windows Live;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\EgisTec Port Locker\\x64;C:\\Program Files (x86)\\EgisTec Port Locker\\;C:\\Program Files (x86)\\Windows Live\\Shared;C:\\Program Files\\MySQL\\MySQL Server 5.5\\bin;., file.separator=\\, org.whattf.datatype.charset-registry=jar:file:/C:/Program%20Files/NetBeans%207.2/ide/modules/ext/validator.jar!/nu/validator/localentities/files/www_iana_org_assignments_character_sets, java.specification.vendor=Oracle Corporation, java.vm.specification.version=1.7, netbeans.accept_license_class=org.netbeans.license.AcceptLicense, sun.awt.keepWorkingSetOnMinimize=true, user.timezone=Europe/London, os.name=Windows 7, path.separator=;, netbeans.dirs=C:\\Program Files\\NetBeans 7.2\\nb;C:\\Program Files\\NetBeans 7.2\\ergonomics;C:\\Program Files\\NetBeans 7.2\\ide;C:\\Program Files\\NetBeans 7.2\\java;C:\\Program Files\\NetBeans 7.2\\apisupport;C:\\Program Files\\NetBeans 7.2\\webcommon;C:\\Program Files\\NetBeans 7.2\\websvccommon;C:\\Program Files\\NetBeans 7.2\\enterprise;C:\\Program Files\\NetBeans 7.2\\mobility;C:\\Program Files\\NetBeans 7.2\\profiler;C:\\Program Files\\NetBeans 7.2\\python;C:\\Program Files\\NetBeans 7.2\\php;C:\\Program Files\\NetBeans 7.2\\identity;C:\\Program Files\\NetBeans 7.2\\harness;C:\\Program Files\\NetBeans 7.2\\cnd;C:\\Program Files\\NetBeans 7.2\\dlight;C:\\Program Files\\NetBeans 7.2\\groovy;C:\\Program Files\\NetBeans 7.2\\extra;C:\\Program Files\\NetBeans 7.2\\javacard;C:\\Program Files\\NetBeans 7.2\\javafx, java.ext.dirs=C:\\Program Files\\Java\\jdk1.7.0_05\\jre\\lib\\ext;C:\\windows\\Sun\\Java\\lib\\ext, sun.arch.data.model=64, java.specification.name=Java Platform API Specification, os.version=6.1, jdk.home=C:\\Program Files\\Java\\jdk1.7.0_05, apple.awt.graphics.UseQuartz=true, user.script=, java.class.version=51.0, user.country=GB, java.vendor=Oracle Corporation, netbeans.dynamic.classpath=C:\\Program Files\\NetBeans 7.2\\platform\\core\\core.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\org-openide-filesystems.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\locale\\core_ja.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\locale\\core_pt_BR.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\locale\\core_ru.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\locale\\core_zh_CN.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\locale\\org-openide-filesystems_ja.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\locale\\org-openide-filesystems_pt_BR.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\locale\\org-openide-filesystems_ru.jar;C:\\Program Files\\NetBeans 7.2\\platform\\core\\locale\\org-openide-filesystems_zh_CN.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\org-netbeans-upgrader.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\core_nb.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\core_nb_ja.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\core_nb_pt_BR.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\core_nb_ru.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\core_nb_zh_CN.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\org-netbeans-upgrader_ja.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\org-netbeans-upgrader_pt_BR.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\org-netbeans-upgrader_ru.jar;C:\\Program Files\\NetBeans 7.2\\nb\\core\\locale\\org-netbeans-upgrader_zh_CN.jar, java.vm.specification.name=Java Virtual Machine Specification, java.specification.version=1.7, netbeans.system_http_proxy=DIRECT}\n    at org.netbeans.modules.php.project.PhpProject.resolveSourcesDirectory(PhpProject.java:376)\n    at org.netbeans.modules.php.project.PhpProject.getSourcesDirectory(PhpProject.java:300)\n    at org.netbeans.modules.php.project.PhpProject$PhpSearchInfo.getRoots(PhpProject.java:1108)\n    at org.netbeans.modules.php.project.PhpProject$PhpSearchInfo.createDelegate(PhpProject.java:1078)\n    at org.netbeans.modules.php.project.PhpProject$PhpSearchInfo.propertyChange(PhpProject.java:1137)\n    at java.beans.PropertyChangeSupport.fire(PropertyChangeSupport.java:335)\n    at java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:327)\n    at java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:263)\n    at org.netbeans.modules.php.project.SourceRoots.resetCache(SourceRoots.java:356)\n    at org.netbeans.modules.php.project.SourceRoots.fireChange(SourceRoots.java:361)\n    at org.netbeans.modules.php.project.PhpProject.resetSourcesDirectory(PhpProject.java:309)\n    at org.netbeans.modules.php.project.PhpProject$PhpOpenedHook.reinitFolders(PhpProject.java:905)\n    at org.netbeans.modules.php.project.PhpProject$PhpOpenedHook.projectOpened(PhpProject.java:828)\n    at org.netbeans.spi.project.ui.ProjectOpenedHook$1.projectOpened(ProjectOpenedHook.java:84)\n    at org.netbeans.modules.project.ui.OpenProjectList.notifyOpened(OpenProjectList.java:1138)\n    at org.netbeans.modules.project.ui.OpenProjectList.doOpenProject(OpenProjectList.java:1219)\n    at org.netbeans.modules.project.ui.OpenProjectList.open(OpenProjectList.java:716)\n    at org.netbeans.modules.project.ui.OpenProjectList$4.run(OpenProjectList.java:584)\n    at org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1452)\n    at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2032)\n</code></pre>\n\n<p>I gone through few of related topics on google and also stackoverflow, but none has solved my issue.</p>\n"},{"tags":["php","mysql","sql-server","visual-studio"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13293623,"title":"using visual studio database file as ms sql server for wamp(php with ms sql)","body":"<p>previously i am using php with mysql to work with but due to client requirements i changed from mysql to .net ,c#,Linq and database file  and they said to use visual studio and i downloaded 2012 edition and i am searching for using the previously done php script to work with visual studio database file. so, please tell me the way to access the database.\nand i am very new to visual studio and i am searching for database login details..</p>\n"},{"tags":["php","lint"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13293732,"title":"Suppressing PHPLint's \"operator applied to a value of type mixed\"","body":"<p>I am currently in a phase of work to 'bullet-proof' my code (its nice to have the time to do it!). I'm using PHPLint which is doing the job admirably, however does anyone know how to suppress the error \"operator applied to a value of type mixed\". Below is a sample of a function taken from a class:</p>\n\n<pre><code>protected /*.int.*/ function numRows(/*.string.*/ $sql)\n{\n    /*.int.*/ $num_rows = 0;\n    $result = $this-&gt;mysqli-&gt;query($sql);\n\n    if ($result instanceof mysqli_result)\n    {\n        $num_rows = $result-&gt;num_rows;\n        $result-&gt;free();\n    }\n    return $num_rows;\n}\n</code></pre>\n\n<p>This gives the following ERRORS:</p>\n\n<pre><code>            $num_rows = $result-&gt;num_rows;\n                                 \\_ HERE\n</code></pre>\n\n<p>==== DatabaseObject.class.php:103: ERROR: `->' operator applied to a value of type mixed</p>\n\n<pre><code>            $result-&gt;free();\n                     \\_ HERE\n</code></pre>\n\n<p>==== DatabaseObject.class.php:104: ERROR: `->' operator applied to a value of type mixed</p>\n"},{"tags":["php","apache","php-5.3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13295407,"title":"Turning php to very strict","body":"<p>I would like to configure my environment (php.ini and apache) to be as strict as possible.\nfor example:</p>\n\n<p>Given a class in path <code>c:\\xampp\\htdocs\\test\\classes\\My.Class.php</code></p>\n\n<p>I would like that include('\\classes\\my.class.php') to fail. <em>(even on windows)</em></p>\n\n<p>And I would like that include('./classes/My.Class.php') to joy. <em>case sensitive</em></p>\n"},{"tags":["php","security","codeigniter","xss-prevention"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13291336,"title":"Should I use xss_clean or htmlentities during form refill?","body":"<p>As the title says, I do refill my input like this:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"my_input\" value=\"&lt;?= $this-&gt;input-&gt;post('my_input') ?&gt;\"/&gt;\n</code></pre>\n\n<p>But is that safe? In accordance with CodeIgniter user guide, I can set the second parameter of the <code>$this-&gt;input-&gt;post()</code> to the <code>TRUE</code> and then the input will be filtered trough the <code>xss_clean</code> function, but is it really necessary? Or maybe I should just use <code>htmlentities()</code> function while doing that?</p>\n"},{"tags":["php","mysql","joomla1.5","helper","joomla-module"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":7,"score":1,"question_id":13295595,"title":"How to get data from another table in joomla 1.5 module?","body":"<p>currently I have component module, which I'd like to add some data from another table.</p>\n\n<p>This is my current helper.php code:</p>\n\n<pre><code>&lt;?php\n\ndefined('_JEXEC') or die('Direct Access to this location is not allowed.'); \n\nclass Modprop_lastHelper\n\n{\n\nfunction getItems($ShowFeatured,$OrderBy,$Order,$amountShow,$ShowPropertyID)\n\n{        \nswitch($OrderBy) {\ncase 0 :\n$OrderBy = 'p.id';\nbreak;\ncase 1 :\n$OrderBy = 'p.name';\nbreak;\ncase 2 :\n$OrderBy = 'p.price';\nbreak;\ncase 3 :\n$OrderBy = 'p.hits';\nbreak;\ncase 4 :\n$OrderBy = 'p.refresh_time';\nbreak;\n}\nswitch($Order) {\ncase 0 :\n$Order = 'ASC';\nbreak;\ncase 1 :\n$Order = 'DESC';\nbreak;\n}   \nif($ShowPropertyID){$where= 'WHERE p.id IN ('.$ShowPropertyID.')';}else{$where=    'WHERE p.published = 1 ';}\n    if($ShowFeatured){$sqlFeatured= ' AND p.featured = 1';}\n    $db = &amp;JFactory::getDBO();     \n    $query = 'SELECT p.*, i.name as imagename,c.name as name_category,t.name as name_type,cy.name as name_country,s.name as name_state,l.name as name_locality,'\n            . ' CASE WHEN CHAR_LENGTH(p.alias) THEN CONCAT_WS(\":\", p.id, p.alias) ELSE p.id END as Pslug,'\n    . ' CASE WHEN CHAR_LENGTH(c.alias) THEN CONCAT_WS(\":\", c.id, c.alias) ELSE c.id END as Cslug,'\n    . ' CASE WHEN CHAR_LENGTH(cy.alias) THEN CONCAT_WS(\":\", cy.id, cy.alias) ELSE cy.id END as CYslug,'\n    . ' CASE WHEN CHAR_LENGTH(s.alias) THEN CONCAT_WS(\":\", s.id, s.alias) ELSE s.id END as Sslug,'      \n    . ' CASE WHEN CHAR_LENGTH(l.alias) THEN CONCAT_WS(\":\", l.id, l.alias) ELSE l.id END as Lslug, ' \n    . ' CASE WHEN CHAR_LENGTH(t.alias) THEN CONCAT_WS(\":\", t.id, t.alias) ELSE t.id END as Tslug '\n            . ' FROM #__properties_products AS p '\n            . ' LEFT JOIN #__properties_country AS cy ON cy.id = p.cyid '               \n            . ' LEFT JOIN #__properties_state AS s ON s.id = p.sid '\n            . ' LEFT JOIN #__properties_locality AS l ON l.id = p.lid '\n            . ' LEFT JOIN #__properties_category AS c ON c.id = p.cid '\n            . ' LEFT JOIN #__properties_type AS t ON t.id = p.type '\n            . ' LEFT JOIN #__properties_images AS i ON i.parent = p.id '\n            . $where                \n            . $sqlFeatured\n            . ' GROUP BY p.id ' \n            . ' ORDER BY '.$OrderBy.' '.$Order\n            . ' LIMIT '.$amountShow;\n\n    $db-&gt;setQuery($query);  \n    $items = $db-&gt;loadObjectList();\n\n\n\n   // $items = ($items = $db-&gt;loadObjectList())?$items:array(); \n//echo str_replace('#_','jos',$query);\n\n\n    return $items;\n\n}  \nfunction NameCategory()\n\n{   \n$db     =&amp; JFactory::getDBO();  \n$query = 'SELECT * FROM #__properties_category WHERE published = 1 ORDER BY id';        \n    $db-&gt;setQuery($query);        \n    $Categories = $db-&gt;loadObjectList();\n\nforeach ($Categories as $row) :\n$Category[$row-&gt;id] = $row-&gt;name;\nendforeach; \n\nreturn $Category;\n}\n\nfunction NameType()\n{   \n$db     =&amp; JFactory::getDBO();  \n$query = 'SELECT * FROM #__properties_type WHERE published = 1 ORDER BY name';      \n    $db-&gt;setQuery($query);        \n    $Types = $db-&gt;loadObjectList();\n\nforeach ($Types as $row) :\n$Type[$row-&gt;id] = $row-&gt;name;\nendforeach; \n\n\n    return $Type;\n}\n\nfunction NameLocality()\n{   \n$db     =&amp; JFactory::getDBO();  \n$query = 'SELECT * FROM #__properties_locality WHERE published = 1 ORDER BY name';      \n    $db-&gt;setQuery($query);        \n    $Localities = $db-&gt;loadObjectList();\n\nforeach ($Localities as $row) :\n$Locality[$row-&gt;id] = $row-&gt;name;\nendforeach; \n\n\n    return $Locality;\n}\n\nfunction getItemid( $TableName )\n{\n    $db =&amp; JFactory::getDBO();  \n    $query = 'SELECT id FROM #__menu' .\n            ' WHERE LOWER( link ) = \"index.php? option=com_properties&amp;view='.$TableName.'&amp;id=0\"';               \n    $db-&gt;setQuery( $query );\n    $output = $db-&gt;loadResult();\n\n    if(!$output){\n    $query = 'SELECT id FROM #__menu' .\n            ' WHERE LOWER( link ) = \"index.php? option=com_properties&amp;view=properties\"';                \n    $db-&gt;setQuery( $query );\n    $output = $db-&gt;loadResult();\n    }\n\n    if(!$output){\n    $query = 'SELECT id FROM #__menu' .\n            ' WHERE LOWER( link ) = \"index.php?option=com_properties&amp;view=properties&amp;cid=0&amp;tid=0\"';             \n    $db-&gt;setQuery( $query );\n    $output = $db-&gt;loadResult();\n    }\n\n    return $output;\n}\n} \n\n?&gt;\n</code></pre>\n\n<p>I added additional function into helper.php to get data from another table properties_users:</p>\n\n<pre><code>    function Units()\n{   \n\n$db     =&amp; JFactory::getDBO();  \n$query = ' SELECT u.* '         \n        . ' FROM #__properties_units as u '                 \n        . ' WHERE u.published = 1 AND u.productid = p.id'           \n        . ' order by u.ordering ';      \n    $db-&gt;setQuery($query);   \n    $Units = $db-&gt;loadObjectList();\n\n\nreturn $Units;\n}\n</code></pre>\n\n<p>When I try to show something from Units table nothing appears. I use the following code in my tmp view:</p>\n\n<pre><code>&lt;?php echo $Units-&gt;title;?&gt;\n</code></pre>\n\n<p>What is wrong with the code?</p>\n"},{"tags":["php","apache","http-headers","header"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8531,"score":1,"question_id":3547913,"title":"header('location: ..') not working","body":"<p>(1)I'm in the process of uploading my website to a remote web server. </p>\n\n<p>(2)The site's template system is set up in a way that all of the pages are formed by sending url-encoded get requests to <code>index.php</code></p>\n\n<p>(3)Loading up the initial page works. This page determines the location of the next page by evaluating the value of its form.</p>\n\n<p>(4)The redirection to the next page is performed by doing a: <code>header('location: next_page')</code></p>\n\n<p>(5)For some reason, the redirection is not performed. Here's what the code looks like:</p>\n\n<pre><code>$error = \"\";\nif(isset($_POST['index_choice'])){\n    $path_choice = isset($_POST['path']) ? $_POST['path'] : NULL;\n\n    //echo $path_choice;\n    //echo $page_inc;\n\n    //nothing after this\n\n    if($path_choice != null){\n\n        if($form-&gt;is_connected()){\n\n            //if($path_choice != \"\" || $path_choice != NULL){\n                if($path_choice == \"new\"){\n\n                    //header('location: /login.php');\n                    //header('location: page/login');\n                    header('location: /index.php?page=login');\n                    exit();\n\n                }\n                else{\n\n                    //header('location: /amend.php');\n                    //header('location: page/amend');\n                    header('location: /index.php?page=amend');\n                    exit();\n                }\n            //}\n            /**\n            else{\n                //destroy_session();\n                $error = \"You haven't selected a path. Please choose a path\";\n            }\n             *\n             */\n        }\n        else{\n            //destroy_session();\n            $error = \"Problems with connecting to the database\";\n        }\n    }else{\n        //destroy_session();\n        $error = \"You have not indicated your choice\";\n    }\n\n}\n</code></pre>\n\n<p><strong>SOLVED</strong> </p>\n\n<p>It was a matter of having a blank space after a <code>?&gt;</code> somewhere else in the code. This was revealed to me after placing the following commands at the top of the code: </p>\n\n<pre><code> error_reporting(E_ALL); ini_set('display_errors', 'On'); \n</code></pre>\n\n<p>I'd like to say thanks to all of the people that have tried to help.</p>\n"},{"tags":["php","mysql","arrays","list","field-names"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13295390,"title":"List field names where value of field is '1' and id=$id","body":"<p>I have a table 'jobs' with fields id,p1,p2,p3 where some entries under p1,p2,p3 have a value of '1'. How might I get a simple list of fields (p1,p2, or 3) which have a value of '1' in rows of table jobs where id=$id.</p>\n"},{"tags":["php","mysql","wordpress","wsod"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13278320,"title":"Wordpress WSOD on install","body":"<p>I'm having some trouble with a brand new WP-install. I'm trying to install it on a clients host. There was already an installation of WP when i began my installation. I asked the client about it and was tolk i could remove it, it was just for test from their side. I saved it however and also copied the db and stuff. </p>\n\n<p>Then, i removed all files from the FTP, i removed all the tables in the DB and all that jazz.\nThen, i took a brand new downloaded version of WP and uploaded it. I set all the proper values in wp-config.php and then launched the site and got a white screen of death. </p>\n\n<p>I removed the wp-config.php and i got the \"There's no wp-config\"-stuff. I tried to alter the file and and even used the wisard, either way i got a WSOD or a WP-error. I get redirected to \"wp-admin/install.php\" but that's it. \nIn the install.php I started to echo stuff to see where the crash were. \nIt seems that it crashed on this line:</p>\n\n<pre><code>require_once( dirname( dirname( __FILE__ ) ) . '/wp-load.php' );\n</code></pre>\n\n<p>Then, i tried to set the define('WP_HOME', '') and d define('WP_SITEURL', '') to the actual URL. \nI tried even to take the old sites .htaccess file, but it gave me nothing.\nThen i started to google and found nothing.</p>\n\n<p>After this, i gave up and installed all the old tables the client had there before for testing, and then uploaded the old site. Still a WSOD. </p>\n\n<p>Anybody who knows what's going on here? </p>\n"},{"tags":["php","mysql","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13295092,"title":"entering data into a mysql database using php in wordpress","body":"<p>I'm currently trying to enter data from a form in a wordpress web page into a mysql database.</p>\n\n<p>here is the code from the html page on wordpress</p>\n\n<pre><code>&lt;form action=\"&lt;?php echo $_SERVER[PHP_SELF] ?&gt;\" method=\"post\"&gt;\nFirstname: &lt;input type=\"text\" name=\"firstname\" /&gt;\nLastname: &lt;input type=\"text\" name=\"lastname\" /&gt;\nAge: &lt;input type=\"text\" name=\"age\" /&gt;\n&lt;input type=\"submit\" /&gt;\n&lt;/form&gt;\n\n&lt;?php\n$con = mysql_connect(\"localhost\",\"root\",\"\");\nif (!$con)\n{\n die('Could not connect: ' . mysql_error());\n}\n\nmysql_select_db(\"test\", $con);\n\n$sql=\"INSERT INTO Persons (FirstName, LastName, Age)\nVALUES\n('$_POST[firstname]','$_POST[lastname]','$_POST[age]')\";\n\nif (!mysql_query($sql,$con))\n{\n  die('Error: ' . mysql_error());\n }\necho \"1 record added\";\n\nmysql_close($con);\n?&gt; \n</code></pre>\n\n<p>i have installed the phpexec plugin and that seems to be runing fine.</p>\n\n<p>when i enter data in the form and i submit it doesnt appear in the database.</p>\n\n<p>My primary key seems to auto increment telling me something happened but no data appears.</p>\n\n<p>thanks in advance</p>\n"},{"tags":["php","function","select"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":47,"score":0,"question_id":13294811,"title":"PHP using the select tag","body":"<p>I would like help with my homework.<br>\nI need to use a select menu and then put the selection of the select tag into a function. Now when I tried doing this I get an undefined error (Which is weird since I did define it) I have tried to do the full if system. But I soon gave up because it was just way to much work, while there is probbaly a better way of doing this.\nHere is my code:</p>\n\n<pre><code>&lt;form action=&lt;?php echo $_SERVER['PHP_SELF'];?&gt;&gt;\n            Vertrek:\n            &lt;select name=\"vertrek\"&gt;\n                &lt;option value=\"amsterdam\"&gt;Amsterdam&lt;/option&gt;\n                &lt;option value=\"utrecht\"&gt;Utrecht&lt;/option&gt;\n                &lt;option value=\"denhaag\"&gt;Den Haag&lt;/option&gt;\n                &lt;option value=\"rotterdam\"&gt;Rotterdam&lt;/option&gt;\n            &lt;/select&gt;\n            Aankomst:\n            &lt;select name=\"aankomst\"&gt;\n                &lt;option value=\"amsterdam2\"&gt;Amsterdam&lt;/option&gt;\n                &lt;option value=\"utrecht2\"&gt;Utrecht&lt;/option&gt;\n                &lt;option value=\"denhaag2\"&gt;Den Haag&lt;/option&gt;\n                &lt;option value=\"rotterdam2\"&gt;Rotterdam&lt;/option&gt;\n            &lt;/select&gt;\n            &lt;br/&gt;&lt;br/&gt;\n            &lt;input type=\"submit\" value=\"Berekenen\"&gt;\n            &lt;p&gt;------&lt;/p&gt;\n            De berekende reiskosten zijn:\n            &lt;?php \n                reiskosten(isset($_POST['vertrek']), isset($_POST['aankomst']));            \n            ?&gt; Euros's\n</code></pre>\n\n<p>And the \"reiskosten\" function:</p>\n\n<pre><code>&lt;?php\n            function reiskosten($vertrek, $bestemming)\n            {\n                $reiskosten = array();\n                $reiskosten[1] = array();\n                $reiskosten[2] = array();\n                $reiskosten[3] = array();\n                $reiskosten[4] = array();\n\n                //Amsterdam naar iets\n                $reiskosten[1][1] = 0;\n                $reiskosten[1][2] = 30;\n                $reiskosten[1][3] = 60;\n                $reiskosten[1][4] = 90;\n\n                //Utrecht naar iets\n                $reiskosten[2][1] = 30;\n                $reiskosten[2][2] = 0;\n                $reiskosten[2][3] = 40;\n                $reiskosten[2][4] = 20;\n\n                //Den Haag naar iets\n                $reiskosten[3][1] = 60;\n                $reiskosten[3][2] = 40;\n                $reiskosten[3][3] = 0;\n                $reiskosten[3][4] = 10;\n\n                //Rotterdam naar iets\n                $reiskosten[4][1] = 90;\n                $reiskosten[4][2] = 20;\n                $reiskosten[4][3] = 10;\n                $reiskosten[4][4] = 0;\n\n                echo($reiskosten[$vertrek][$bestemming] . \" Euro's \");\n            }\n        ?&gt;\n</code></pre>\n"},{"tags":["php","mysql","recursion"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13288536,"title":"How to build a tree from a concatenated string in PHP?","body":"<p>I try to make a tree list in PHP from a hierarchy stored in a concatenated string in my mysql database</p>\n\n<p>This my table :</p>\n\n<p><img src=\"http://i.stack.imgur.com/NxenJ.jpg\" alt=\"Screenshot of table\"></p>\n\n<p>and I'd like to reproduce something like this :</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li&gt;\n    &lt;ul&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;\n          &lt;ul&gt;\n              &lt;li&gt;&lt;/li&gt;\n              &lt;li&gt;&lt;/li&gt;\n           &lt;/ul&gt;\n      &lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/li&gt;\n  &lt;li&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I know I have to use a recursive function I don't reach to do...</p>\n\n<p>Maybe someone could help me</p>\n"},{"tags":["php","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13295185,"title":"How to secure file, that can be downloaded only by some users in Codeigniter or raw PHP?","body":"<p>I wrote web application that has few access levels / groups (not logged in, worker, manager, admin).</p>\n\n<p>For access control i used something similar to best answer here: </p>\n\n<p><a href=\"http://stackoverflow.com/questions/3819275/what-is-the-best-practice-for-restricting-specific-pages-to-logged-in-users-only\">What is the best practice for restricting specific pages to logged in users only in Codeigniter?</a></p>\n\n<p>Now i have to create download page that allows download only for groups which are allowed for specyfic file. Now i have links displayed only for allowed users, but I think I have to hide real file location somehow, because file URL is remembered by browsers and anyone can download file without any problems after logout.</p>\n"},{"tags":["php","javascript","ios","bookmarks"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13295306,"title":"Bookmark trick in grooveshark.com's style","body":"<p>The website grooveshark.com, when visited from mobile, will ask you to bookmark the website on your mobile's home. This doesn't happen again if you do that.</p>\n\n<p>How is it possible to check if the site have been bookmarked? I've found someone told you can add a get variable to the url to bookmark, but this is not the case as the alert tells you to bookmark on your home and you can only do that from the browser ui...</p>\n\n<p>(I tried this on an iPod Touch)</p>\n"},{"tags":["php","mysql","arrays","multidimensional-array"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":36,"score":3,"question_id":13293976,"title":"Is there a better way to build my PHP array with search capabilities?","body":"<p>I operate a website which allows hundreds of clients to sell products online. When a customer visits one of my client's websites, they do so in the form </p>\n\n<blockquote>\n  <p>www.site.com?userid=12345</p>\n</blockquote>\n\n<p>On the landing page, we do a mysql lookup for information about client with userid 12345 along with a list of products he/she can sell. We only offer a suite of ~30 products and we define them so we know what they look like but not all clients can offer at the same price. The mysql table for this information looks like this:</p>\n\n<pre><code>userid | category | itemid | price\n=================================\n12345  |    1     |  1     | 1.00\n12345  |    1     |  2     | 2.00\n12345  |    1     |  3     | 3.00\n12345  |    2     |  4     | 4.00\n12345  |    2     |  5     | 5.00\n67890  |    1     |  1     | 2.25\n67890  |    2     |  4     | 8.00\n</code></pre>\n\n<p>When the customer visits www.site.com?userid=12345, a lookup is done with the following:</p>\n\n<pre><code>SELECT category, itemid, price FROM tablename WHERE userid = 12345\n</code></pre>\n\n<p>*Note - yes I prevent sql injection.</p>\n\n<p>The issue I run into is how to build the subsequent array in PHP. My initial thought is:</p>\n\n<pre><code>&lt;?php\n...\n\nwhile ($row = $stmt-&gt;fetch()) {\n  $products[]['category'] = $row['category'];\n  $products[]['itemid'] = $row['itemid'];\n  $products[]['price'] = $row['price'];\n}\n\n\n//the array will end up looking like this:\nArray\n(\n    [0] =&gt; Array\n        (\n            [category] =&gt; 1\n            [itemid] =&gt; 1\n            [price] =&gt; 1\n        )\n    [1] =&gt; Array\n        (\n            [category] =&gt; 1\n            [itemid] =&gt; 2\n            [price] =&gt; 2\n        )\n    [2] =&gt; Array\n        (\n            [category] =&gt; 1\n            [itemid] =&gt; 3\n            [price] =&gt; 3\n        )\n    [3] =&gt; Array\n        (\n            [category] =&gt; 2\n            [itemid] =&gt; 4\n            [price] =&gt; 4\n        )\n    [4] =&gt; Array\n        (\n            [category] =&gt; 2\n            [itemid] =&gt; 5\n            [price] =&gt; 5\n        )\n)\n\n?&gt;\n</code></pre>\n\n<p>The reason I need to capture information like this: On the actual site itself, there are two main categories (Food and Drinks). If a client has any products in $products with category 1, show the Food html section on the page. If a client has any products in $products with category 2, show the Drinks html section on the page.</p>\n\n<p>Then, there is a predefined set of itemids available to all categories. In the case of food, there are 4:</p>\n\n<ol>\n<li>pepperoni</li>\n<li>sausage</li>\n<li>cheese</li>\n<li>vegetable</li>\n</ol>\n\n<p>If a user does not have one of these itemids, he/she cannot sell that product and that product does not appear within the Food html section. If they are able to sell that product, I want to be able to reference that section/item's price and display it next to the actual item.</p>\n\n<p>I know my $products array will contain all of the information I need but I am not sure if the way I am structuring it is best or how to really reference it when building out the page as described.</p>\n\n<p>For example (I know this code is not right but saying what I am trying to accomplish):</p>\n\n<ul>\n<li>\"If value of 1 exists in the $products category array, show the Food section.\"</li>\n<li>\"If value of 1 exists in the $products itemid category array, show Pepperoni pizza as an option on the page and display the price associated with that specific category/itemid combination.\"</li>\n</ul>\n\n<p>Any guidance is appreciated.</p>\n"},{"tags":["php","permissions","exec","php.ini"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13295292,"title":"php exec not executing if called from browser","body":"<p>This is a recurring topic in stackoverflow, but finally I couldn't find any clear solution. </p>\n\n<p><strong>I'VE THIS PHP SCRIPT ON MY LOCAL XAMPP (OS X)</strong></p>\n\n<p><strong>test.php</strong></p>\n\n<pre><code>&lt;?php exec('lpr -MyPrinter photos/image.jpg'); ?&gt;\n</code></pre>\n\n<p><strong>IT WORKS IF I CALL IT FROM TERMINAL</strong></p>\n\n<pre><code>kurt$ php test.php\n</code></pre>\n\n<p><strong>BUT IT DOES NOT WORK IF I CALL IT FROM BROWSER</strong></p>\n\n<pre><code>http://localhost/mysite/test.php\n</code></pre>\n\n<p>Consider that my security requirements are very low, because I'll use this script locally only for personal purposes. Can you address me to the right solution?</p>\n"},{"tags":["php","mysql","blobs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13148140,"title":"How can I store an image as a blob in the database?","body":"<p>I am trying to write a function to process images in mySQL / PHP but cannot work out how to store the results.  I have included a stripped down version of the code to demonstrate the problem.</p>\n\n<p>The blobs in image.image_o are all correctly stored and can be used to output images to the web page.  The function runs without error but afterwards the blobs in image.image_r are just a few bytes long and contain text like \"Resource id #5\"</p>\n\n<p>I am sure I am doing something dumb - just can't see what it is.</p>\n\n<pre><code>function process_images(){\n    global $mysql\n    $sql = \"select id, image_o from image\";\n    $res = mysqli_query($mysqli, $sql);\n    if ($res){\n        while ($ay = mysqli_fetch_array($res, MYSQLI_ASSOC)){\n             $id = $ay['id'];\n             $im = imagecreatefromstring($ay['image_o']);\n             // do something useful with the image\n             $sql2 = \"update image set image_r = '{$im}' where id = $id\";\n             $res2 = mysqli_query($mysqli, $sql2);\n             if ($res2){\n                 // blah blah\n             }else{\n                 echo mysqli_error($mysqli).\" in res2\";\n             }\n         }\n    }else{\n        echo mysqli_error($mysqli).\" in res\"; \n    }\n}\n</code></pre>\n"},{"tags":["php","mysql","serialization","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13295028,"title":"MySQL: Unable to insert serialized value","body":"<p>Never had this problem with inserting serialized values before.</p>\n\n<p>I have an array called <code>$prefs</code>:</p>\n\n<pre><code>$prefs=serialize(array( #logged-in preferences\n                    'chatMsgs'=&gt;10,\n                    'forumThreads'=&gt;10,\n                    'forumReplies'=&gt;10\n                ));\n</code></pre>\n\n<p>Which, when serialized, becomes  </p>\n\n<pre><code>a:3:{s:8:\\\"chatMsgs\\\";i:10;s:12:\\\"forumThreads\\\";i:10;s:12:\\\"forumReplies\\\";i:10;}\n</code></pre>\n\n<p>My <code>INSERT</code> query is the following: </p>\n\n<pre><code>INSERT INTO `general_data`(`email`,`pw`,`name`,`adr`,`male`,`regged`,`conf`,`prefs`)\nVALUES ('$email', '$pw', '$name', '$adr', $sex, NOW(), $conf, '$prefs');\n</code></pre>\n\n<p>(<code>male</code>/<code>sex</code> being a <code>BIT(1)</code>, <code>conf</code> being <code>int(9)</code> and <code>prefs</code> being <code>text</code>).</p>\n\n<p>Usually my serialized queries would insert as intended, but in this particular case, I get the following error for some reason: </p>\n\n<blockquote>\n  <p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''a:3:{s:8:\\\"chatMsgs\\\"' at line 2. </p>\n</blockquote>\n\n<p>Could anyone please provide some insight on how I could possibly fix this issue?</p>\n\n<p><code>EDIT</code>: I <em>can</em> work around this by encoding the serialized string in base64, however, this does not explain the strange behaviour of this error.</p>\n"},{"tags":["php","zend-framework2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13295226,"title":"Zend Framework 2 - Redirecting from within a Controller Plugin without returning","body":"<p>Is is possible to redirect the user to a new URL from within a controller plugin, without having to return a response object to the controller?</p>\n\n<p>Specifically I want to redirect the user to the secure version of the current URL. So in ZF2 I have this:</p>\n\n<pre><code>$url = 'https://'.$this-&gt;getURL();\n\n$response = $this-&gt;getController()-&gt;redirect()-&gt;toUrl( $url );\n\nreturn $response;\n</code></pre>\n\n<p>However in the Zend Framework 1 I was able to do:</p>\n\n<pre><code>$redirector = Zend_Controller_Action_HelperBroker::getStaticHelper('redirector');\n\n$url = 'https://'.$this-&gt;getURL();\n\n$redirector-&gt;gotoUrlAndExit($url);\n</code></pre>\n\n<p>Is it possible to essentially 'redirect then exit' in ZF2?</p>\n"},{"tags":["php","ip"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":769,"score":0,"question_id":6999175,"title":"PHP: how to check if the client is local?","body":"<p>In PHP I often check if a file is opened locally (either on the same machine or within the network), using:</p>\n\n<pre><code>&lt;?php\nif ((substr($_SERVER['REMOTE_ADDR'],0,8) == \"192.168.\") || ($_SERVER['REMOTE_ADDR'] == \"127.0.0.1\")) { ... }\n?&gt;\n</code></pre>\n\n<p>But I am not sure if this is the best way. Are there easier / more foolproof / somehow better ways to do this?</p>\n"},{"tags":["php","html","if-statement","refresh","calculator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13295059,"title":"Php form won't post results when filled out","body":"<p>First of all, I am not en expert at programming, so please explain things a bit if you can so I can understand them better. I am trying to make a calculator that will have some fields the user can fill out, and will display the last output. Basically this:</p>\n\n<p>Variable boxes\n\"Go\" button\nResults display here after Go is pressed. </p>\n\n<p>And the user can change the boxes and click go again to refresh with the new results. </p>\n\n<p>I do not want to use Java for this if at all possible. Please help me with an HTML/PHP solution.</p>\n\n<p>I have this page nammed \"isset.php\"</p>\n\n<pre><code>&lt;?php \nsession_start(); \nerror_reporting(E_ALL);\nini_set('display_errors', '1');?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;?php\n     if(isset($_POST['submit']))\n        {\n        $a = $_POST['a'];\n        $b = $_POST['b']; \n        $sf = $a-(2*$b);\n        echo \"&lt;br&gt;&lt;br&gt;Safety Factor is \";\n        echo $sf;\n        } \n     else {\n        echo \"Your results will display here after you use the calculator.\";\n          }\n ?&gt;\n\n &lt;br&gt;Calculator\n &lt;form name=\"submit\" method=\"post\" action=\"isset.php\"&gt;\n &lt;table width=\"450px\"&gt;\n     &lt;td valign=\"center\"&gt;\n     &lt;label for=\"a\"&gt;a&lt;/label&gt;&lt;/td&gt;\n        &lt;td valign=\"center\"&gt;\n        &lt;input type=\"text\" name=\"a\" value=\"45\"&gt;&lt;/td&gt;&lt;/tr&gt;\n     &lt;td valign=\"center\"&gt;\n     &lt;label for=\"b\"&gt;b&lt;/label&gt;&lt;/td&gt;\n        &lt;td valign=\"center\"&gt;\n        &lt;input type=\"text\" name=\"b\" value=\"16\"&gt;&lt;/td&gt;&lt;/tr&gt;         \n &lt;tr&gt;&lt;td colspan=\"2\" style=\"text-align:center\"&gt;\n &lt;input type=\"submit\" value=\"Calculate!\"&gt;\n &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n &lt;/form&gt;        \n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","sql","arrays","query","variables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13295163,"title":"Store data in PHP Array from Query","body":"<p>I would like to store this data in a variable line by line.  I already have the query written and this is what it returns.  Some are missing because there were 0 results.  But I would like to account for those, too.</p>\n\n<pre><code>    total   unique  uristem\n\n    1665    320     /Run\n    2103    845     /Add\n    5114    267     /Download\n    2576    720     /Time\n    8246    1252    /RunBegin\n    856     257     /Edit\n    1226    369     /Open\n</code></pre>\n\n<p>I want each one to look something like this:</p>\n\n<pre><code>Array\n(\n    [a] =&gt; 1665\n    [b] =&gt; 320\n    [c] =&gt; /Run\n)\n\nArray\n(\n    [a] =&gt; 2103\n    [b] =&gt; 845\n    [c] =&gt; /Add\n)\n</code></pre>\n\n<p>I'm thinking of storing this output in a temporary file and then parsing through it.  Any ideas?</p>\n\n<p>Thanks!</p>\n\n<p>--</p>\n"},{"tags":["php","facebook","hiphop"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13086547,"title":"PHP 5.4 and Facebook Hiphop compatibility","body":"<p>I was wondering does anyone know which of the features in PHP 5.4 are not supported in Facebook's Hiphop library. There's some questions on the Hiphop github wiki, such as <a href=\"https://github.com/facebook/hiphop-php/issues/582\" rel=\"nofollow\">this</a> one, that very vaguely state :</p>\n\n<blockquote>\n  <p>HipHop does not currently support all PHP 5.4 features.</p>\n</blockquote>\n\n<p>At the moment I just have to assume, for working purposes, all new features are not compatible as none are specified to work, if anyone has any insight on this that would be great, thanks in advance.</p>\n"},{"tags":["php","facebook"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":13031288,"title":"How to ask user to like facebook fan page to make download button visible?","body":"<p>I want to create page in which there is a download link. which is only visible to users who have liked my fan page at facebook. Otherwise it show like button.</p>\n\n<p>I am using the following code but it </p>\n\n<pre><code>  &lt;?php\n\ninclude_once(\"php/src/facebook.php\");\n\n    // Create our Application instance.\n    $facebook = new Facebook(array(\n      'appId'  =&gt; '354967071210221',\n      'secret' =&gt; 'APP_Secret',\n      'cookie' =&gt; true,\n    ));\n\n$signed_request = $facebook-&gt;getSignedRequest();\n\n// Return you the Page like status\n$like_status = $signed_request[\"page\"][\"liked\"];\n\nif($like_status)\n{\n    echo 'User Liked the page';\n    // Place some content you wanna show to user\n\n}else{\n    echo 'User do not liked the page';\n    // Place some content that encourage user to like the page\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","search","pagination","mysqli"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":26,"score":-2,"question_id":13294166,"title":"Pagination with mysqli","body":"<p>I have a beautiful script for pagination I wrote using <code>mysql_query</code> but I am trying to write a script that will require pagination using mysqli. I have found this script <a href=\"http://www.codeofaninja.com/2012/02/php-ajax-pagination-mysqli-version.html\" rel=\"nofollow\">http://www.codeofaninja.com/2012/02/php-ajax-pagination-mysqli-version.html</a>\nBut unfortunately it does not allow me to use <code>bind_params</code> which will leave a gap in protection because the pagination will be used to page search results. Is it possible to add something that will allow the <code>bind_params</code> or does anyone know of a good pagination script that allows <code>bind_params</code></p>\n\n<p>Here is the script it is a little too long to post on here <a href=\"https://gist.github.com/4040499\" rel=\"nofollow\">https://gist.github.com/4040499</a></p>\n\n<p><strong>Edit</strong></p>\n\n<p>Currently it does not list anything that is called in the database it just shows a blank table.\nThe only error I am receiving at the moment is <code>Warning: Division by zero in C:\\xampp\\htdocs\\gptcode\\offers.php on line 289</code> and that is because it isn't pulling information from the database.</p>\n\n<p>I have also updated where the script is located.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","oop"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":136,"score":5,"question_id":13184991,"title":"New to OOP PHP, guidence request, data sharing between classes design","body":"<p>Writing my first application in PHP that makes use of classes and objects.\nI have a DB class which takes a string to select the appropriate config because there are multiple databases. I started out with a login class but scratched that idea in exchange for a user class so I can do user->isLoggedIn stuff. The user class uses MySQL which stores user and login information, as well as credentials for the second database.</p>\n\n<pre><code>$mysql = new db( 'mysql' );\n\n$user = new user( $mysql );\nif( !( $user-&gt;isLoggedIn() === true ) )\n{\n    goToPage( 'login.php' );\n    exit();\n}\n</code></pre>\n\n<p>The second database is Sybase and stores account information. I need the credentials from the user class to get lists and accounts information from here. I think an account class should be next but not sure of the best way to do it. Something like this maybe..</p>\n\n<pre><code>$sybase = new db( 'sybase' );\n\n$account = new account( $sybase );\n\n$account_list = $account-&gt;getList( $user-&gt;info );\n</code></pre>\n\n<p>$user->info being an array i guess of credentials and info needed for the account table, or is there a better way to go about this?</p>\n\n<p><strong>Edited</strong> to include db class example</p>\n\n<p>config.db.php</p>\n\n<pre><code>$config_array = array();\n\n$config_array[ 'mysql' ][ 'dsn' ] = \"mysql:host=localhost;dbname=********;charset=UTF-8\";\n$config_array[ 'mysql' ][ 'user' ] = \"********\";\n$config_array[ 'mysql' ][ 'pass' ] = \"**************\";\n\n$config_array[ 'sybase' ][ 'dsn' ] = \"odbc:DRIVER={Adaptive Server Anywhere 8.0};***************\";\n$config_array[ 'sybase' ][ 'user' ] = \"**********\";\n$config_array[ 'sybase' ][ 'pass' ] = \"*********\";\n</code></pre>\n\n<p>class.db.php</p>\n\n<pre><code>public function __construct( $type )\n{\n    require 'config.db.php';\n\n    $this-&gt;type = $type;\n\n    foreach( $config_array[ $this-&gt;type ] AS $key =&gt; $value )\n    {\n        $this-&gt;$key = $value;\n    }\n\n    try\n    {\n        $this-&gt;connection = new PDO( $this-&gt;dsn, $this-&gt;user, $this-&gt;pass, $this-&gt;options );\n    }\n    catch( PDOException $ex )\n    {\n        log_action( \"db-&gt;\" . $this-&gt;type, $ex-&gt;getCode() . \": \" . $ex-&gt;getMessage() );\n        $this-&gt;error = true;\n    }\n    return $this-&gt;connection;\n}\n</code></pre>\n"},{"tags":["php","css","div","css-float","soundcloud"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":7370912,"title":"getting text to wrap around flash player / onject","body":"<p>i use a bit of code to insert a small soundcloud player inside a wrapper div</p>\n\n<p>my problem is i cant seem to get the object/player to float left so text will wrap around it.. as u can see ive tried adding a class to it but this doesnt seem to work.. can some1 help ?</p>\n\n<p>in my php file i got</p>\n\n<pre><code>    } elseif (!empty($track)){\n     echo \"&lt;object class='track' height='18' width='250'&gt; &lt;param name='movie' value='http://player.soundcloud.com/player.swf?url=\" . $track . \"&amp;amp;show_comments=false&amp;amp;auto_play=false&amp;amp;player_type=tiny&amp;amp;color=ff7700'&gt;&lt;/param&gt; &lt;param name='allowscriptaccess' value='always'&gt;&lt;/param&gt; &lt;embed allowscriptaccess='always' height='18' src='http://player.soundcloud.com/player.swf?url=\" . $track . \"&amp;amp;show_comments=false&amp;amp;auto_play=false&amp;amp;player_type=tiny&amp;amp;color=ff7700' type='application/x-shockwave-flash' width='250'&gt;&lt;/embed&gt; &lt;/object&gt;\";\n}\n</code></pre>\n\n<p>and in my css file i got </p>\n\n<pre><code>    .track {float: left; margin-right: 5px;}\n</code></pre>\n"},{"tags":["php","file-upload","file-permissions","permission-denied"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13295070,"title":"php form upload does not assign any permissions to the uploaded file","body":"<p>hi everyone I am customizing a real estate component in joomla 1.5 part of the functionality of that component is that the site administrator can upload a pdf to go alongside the description of the individual real estate item in exactly the same way that the script to upload a picture of the item works.  Thing is though the form uploads the script but people browsing the site cant actually see it.  They click the link and get a 403 forbidden error.  The web server can see the file but no one has any permission to view it.  I've checked the permissions on the folder which contains the pdfs and they are fine (755).  I've checked permissions on the pdf which was uploaded and sometimes they show as no permissions at all in Dreamweaver and at other times they show as 644 or 600.  I did think of trying to incorporate the chmod command in there somewhere but I am working with joomla and a lot of the code is joomla specific which makes it difficult to see clearly what's going on.  Can you guys help me out and show me where I am going wrong.  The code is below:</p>\n\n<p>Many Thanks</p>\n\n<pre><code> &lt;?php\n/*------------------------------------------------------------------------\n# com_properties\n# ------------------------------------------------------------------------\n# author Fabio Esteban Uzeltinger\n# copyright Copyright (C) 2011 com-property.com. All Rights Reserved.\n# @license - http://www.gnu.org/licenses/gpl-2.0.html GNU/GPL\n# Websites:  www.com-property.com\n# Technical Support: www.com-property.com/forum-v4\n*/\n// no direct access\ndefined('_JEXEC') or die('Restricted access'); \n$TableName = 'pdfs';\n$component_name = 'properties';\nJHTML::_('behavior.tooltip');\n?&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n&lt;!--\nfunction submitbutton(pressbutton) {\n    var form = document.adminForm;\n    /*var type = form.type.value;*/\n\n    if (pressbutton == 'cancel') {\n        submitform( pressbutton );\n        return;\n    }\n    if ( document.getElementById('name').value == \"\") {\n        alert( \"Item must have a Title\" );\n    }\n                else if( document.getElementById('parent').value == 0 ){\n        alert( \"Please select a Product\" );\n    }           \n else {\n        submitform( pressbutton );\n    }\n}\n//--&gt;\n\n\nfunction jSelectProperty(id, title, object) {\n            document.getElementById(object + '_id').value = id;\n            document.getElementById(object + '_name').value = title;            \n            document.getElementById('parent').value = id;           \n            document.getElementById('sbox-window').close();\n        }\n\n&lt;/script&gt;\n\n&lt;?php\nrequire_once( JPATH_COMPONENT.DS.'helpers'.DS.'menu_left.php' );\n?&gt;\n&lt;table class=\"admintable\" width=\"100%\"&gt;\n    &lt;tr&gt;\n        &lt;td align=\"left\" width=\"200px\" valign=\"top\"&gt;\n&lt;?php echo MenuLeft::ShowMenuLeft();?&gt;\n\n        &lt;/td&gt;\n        &lt;td align=\"left\" valign=\"top\" class=\"td_form\"&gt;\n\n\n&lt;form action=\"index.php\" method=\"post\" name=\"adminForm\" id=\"adminForm\"  enctype=\"multipart/form-data\"&gt;\n&lt;div class=\"col100\"&gt;\n    &lt;fieldset class=\"adminform2\"&gt;\n        &lt;legend&gt;&lt;?php echo JText::_( 'Add Pdf' ); ?&gt;&lt;/legend&gt;\n            &lt;table&gt;\n                &lt;tr&gt;        \n                    &lt;td width=\"50%\" &gt;\n                        &lt;table&gt;\n\n                        &lt;tr&gt;\n    &lt;td class=\"paramlist_key\" width=\"40%\"&gt;\n        &lt;span class=\"editlinktip\"&gt;\n            &lt;label id=\"urlparamsid-lbl\" for=\"urlparamsid\" class=\"hasTip\"&gt;\n                &lt;?php echo JText::_( 'Parent Product' ); ?&gt;\n            &lt;/label&gt;\n        &lt;/span&gt;\n    &lt;/td&gt;\n\n    &lt;td class=\"paramlist_value\"&gt;\n\n\n&lt;?php\nrequire_once( JPATH_COMPONENT.DS.'elements'.DS.'property.php' );\n$node=null;\n$control_name='';\necho JElementProperty::fetchElement('parent', $this-&gt;datos-&gt;parent, &amp;$node, $control_name);\n?&gt;\n&lt;input type=\"hidden\" name=\"parent\" id=\"parent\" value=\"&lt;?php echo $this-&gt;datos-&gt;parent;?&gt;\" /&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n\n\n\n                            &lt;tr&gt;\n                                &lt;td width=\"100\" align=\"right\" class=\"key\"&gt;\n                                &lt;label for=\"name\"&gt;\n                                &lt;?php echo JText::_( 'Nombre' ); ?&gt;:\n                                &lt;/label&gt;\n                                &lt;/td&gt;\n                                &lt;td&gt;\n                                &lt;input class=\"text_area\" type=\"text\" name=\"name\" id=\"name\" style=\"width:270px;\" size=\"60\" maxlength=\"250\" value=\"&lt;?php echo $this-&gt;datos-&gt;name;?&gt;\" /&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n\n                            &lt;tr&gt;            \n                                &lt;td class=\"key\"&gt;\n                                &lt;label for=\"name\"&gt;\n                                &lt;?php echo JText::_( 'Published' ); ?&gt;:\n                                &lt;/label&gt;\n                                &lt;/td&gt;\n                                &lt;td&gt;\n&lt;?php $chequeado0 = $this-&gt;datos-&gt;published ? JText::_( '' ) : JText::_( 'checked=\"checked\"' );?&gt;\n&lt;?php $chequeado1 = $this-&gt;datos-&gt;published ? JText::_( 'checked=\"checked\"' ) : JText::_( '' );?&gt;\n\n\n&lt;?php if($this-&gt;datos-&gt;published==''){\n$chequeado1=JText::_( 'checked=\"checked\"' );$chequeado0=JText::_( '' );}?&gt;   \n\n    &lt;input name=\"published\" id=\"published1\" value=\"1\" &lt;?php echo $chequeado1;?&gt; type=\"radio\"&gt;\n    &lt;label for=\"published1\"&gt;&lt;?php echo JText::_( 'Yes' ); ?&gt;&lt;/label&gt;  \n    &lt;input name=\"published\" id=\"published0\" value=\"0\" &lt;?php echo $chequeado0;?&gt; type=\"radio\"&gt;\n    &lt;label for=\"published0\"&gt;&lt;?php echo JText::_( 'No' ); ?&gt;&lt;/label&gt; \n                            &lt;/td&gt;\n                            &lt;/tr&gt;       \n                            &lt;tr&gt;\n                                &lt;td class=\"key\"&gt;\n                                &lt;label for=\"name\"&gt;\n                                &lt;?php echo JText::_( 'Ordering' ); ?&gt;:\n                                &lt;/label&gt;\n                                &lt;/td&gt;\n                                &lt;td&gt;\n                                &lt;input class=\"text_area\" type=\"text\" name=\"ordering\" id=\"ordring\"  style=\"width:72px;\" size=\"20\" maxlength=\"255\" value=\"&lt;?php echo $this-&gt;datos-&gt;ordering; ?&gt;\" /&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;                                          \n\n                            &lt;tr&gt;\n                                &lt;td class=\"key\"&gt;                \n                                &lt;?php echo JText::_( 'Archivo' ); ?&gt;                        \n                                &lt;/td&gt;\n\n                                &lt;td&gt;\n                                &lt;?php \n                                if($this-&gt;datos-&gt;archivo){ ?&gt;\n                            &lt;a href=\"&lt;?php echo JURI::root().'images/properties/pdfs/'.$this-&gt;datos-&gt;parent.'/'.$this-&gt;datos-&gt;archivo; ?&gt;\" target=\"_blank\"&gt;\n                            &lt;?php echo $this-&gt;datos-&gt;archivo; \n\n                                }?&gt;\n                            &lt;/a&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;                \n                            &lt;tr&gt;\n                                &lt;td align=\"center\"&gt;\n                                &lt;input type=\"file\" size=\"20\" name=\"archivo\" value=\"\"/&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/table&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;    \n            &lt;/table&gt;\n            &lt;table class=\"admintable\" width=\"100%\"&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                    &lt;?php $editor = &amp;JFactory::getEditor();     \n                    echo $editor-&gt;display('text', $this-&gt;datos-&gt;text, '100%', '400', '60', '20');\n                    ?&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n    &lt;/fieldset&gt;\n&lt;/div&gt;\n\n\n&lt;div class=\"clr\"&gt;&lt;/div&gt;\n&lt;input type=\"hidden\" name=\"option\" value=\"&lt;?php echo $option; ?&gt;\" /&gt;\n&lt;input type=\"hidden\" name=\"table\" value=\"&lt;?php echo $TableName; ?&gt;\" /&gt;\n&lt;input type=\"hidden\" name=\"id\" value=\"&lt;?php echo $this-&gt;datos-&gt;id; ?&gt;\" /&gt;\n&lt;input type=\"hidden\" name=\"task\" value=\"\" /&gt;\n&lt;input type=\"hidden\" name=\"view\" value=\"&lt;?php echo $TableName; ?&gt;\" /&gt;\n&lt;input type=\"hidden\" name=\"controller\" value=\"&lt;?php echo $TableName; ?&gt;\" /&gt;\n&lt;/form&gt;\n    &lt;/td&gt;\n        &lt;/tr&gt;\n            &lt;/table&gt; \n</code></pre>\n"},{"tags":["php","html","modx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":7,"score":-2,"question_id":13294986,"title":"Fix navigation in MODX","body":"<p>I should fix navigation on the site. I have this chank:</p>\n\n<p>[+prev+] [*id*] [+next+]</p>\n\n<p>and i just want to make something with [<em>id</em>], for example if id is 5, I want to make 3.\nI have written [<em>id</em>]-2 or [<em>id-2</em>]. But it doesn't work. So, just help me with chanding the [<em>id</em>]</p>\n"},{"tags":["php","apache",".htaccess","magento"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3365,"score":2,"question_id":4055130,"title":"Url rewriting causes Magento admin to become inaccessible","body":"<p>I have magento in a subdirectory in the root and if I set the secure base url and secure base url link to the correct shared ssl url to enable secure pages I have no problem in the FRONTEND. The pages displays as they should. However when I try to access the admin with the secure link below I cannot gain admittance. </p>\n\n<p>For instance in the frontend: <code>http://mydomain.com/shop</code> becomes <code>http://mydomain.com</code> - which is correct.</p>\n\n<p><code>https://mydomain.sharedssl.com/shop/customer/account/login/</code> becomes \n<code>https://mydomain.sharedssl.com/customer/account/login/</code> - which is correct.</p>\n\n<p>But then I can access admin with neither <code>https://mydomain.com/shop/index.php/admin/</code> nor <code>https://mydomain.com//index.php/admin/</code></p>\n\n<p>In the root directory I have this in my htaccess: </p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_URI} !^/shop(.*)\nRewriteRule (.*) /shop/$1 [L]\n</code></pre>\n\n<p>and in the shop (Magento) I have the following: </p>\n\n<pre><code>############################################\n## uncomment these lines for CGI mode\n## make sure to specify the correct cgi php binary file name\n## it might be /cgi-bin/php-cgi\n\n#    Action php5-cgi /cgi-bin/php5-cgi\n#    AddHandler php5-cgi .php\n\n############################################\n## GoDaddy specific options\n\n#   Options -MultiViews\n\n## you might also need to add this line to php.ini\n##     cgi.fix_pathinfo = 1\n## if it still doesn't work, rename php.ini to php5.ini\n\n############################################\n## this line is specific for 1and1 hosting\n\n    #AddType x-mapp-php5 .php\n    #AddHandler x-mapp-php5 .php\n\n############################################\n## default index file\n\n    DirectoryIndex index.php\n\n&lt;IfModule mod_php5.c&gt;\n\n############################################\n## adjust memory limit\n\n#    php_value memory_limit 64M\n    php_value memory_limit 128M\n    php_value max_execution_time 18000\n\n############################################\n## disable magic quotes for php request vars\n\n    php_flag magic_quotes_gpc off\n\n############################################\n## disable automatic session start\n## before autoload was initialized\n\n    php_flag session.auto_start off\n\n############################################\n## enable resulting html compression\n\n    #php_flag zlib.output_compression on\n\n###########################################\n# disable user agent verification to not break multiple image upload\n\n    php_flag suhosin.session.cryptua off\n\n###########################################\n# turn off compatibility with PHP4 when dealing with objects\n\n    php_flag zend.ze1_compatibility_mode Off\n\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_security.c&gt;\n###########################################\n# disable POST processing to not break multiple image upload\n\n    SecFilterEngine Off\n    SecFilterScanPOST Off\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_deflate.c&gt;\n\n############################################\n## enable apache served files compression\n## http://developer.yahoo.com/performance/rules.html#gzip\n\n    # Insert filter on all content\n    ###SetOutputFilter DEFLATE\n    # Insert filter on selected content types only\n    #AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript\n\n    # Netscape 4.x has some problems...\n    #BrowserMatch ^Mozilla/4 gzip-only-text/html\n\n    # Netscape 4.06-4.08 have some more problems\n    #BrowserMatch ^Mozilla/4\\.0[678] no-gzip\n\n    # MSIE masquerades as Netscape, but it is fine\n    #BrowserMatch \\bMSIE !no-gzip !gzip-only-text/html\n\n    # Don't compress images\n    #SetEnvIfNoCase Request_URI \\.(?:gif|jpe?g|png)$ no-gzip dont-vary\n\n    # Make sure proxies don't deliver the wrong content\n    #Header append Vary User-Agent env=!dont-vary\n\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_ssl.c&gt;\n\n############################################\n## make HTTPS env vars available for CGI mode\n\n    #SSLOptions StdEnvVars\n\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_rewrite.c&gt;\n\n############################################\n## enable rewrites\n\n    Options +FollowSymLinks\n    RewriteEngine on\n\n############################################\n## you can put here your magento root folder\n## path relative to web root\n\n    RewriteBase /\n\n\n############################################\n## workaround for HTTP authorization\n## in CGI environment\n\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n\n############################################\n## always send 404 on missing files in these folders\n\n    RewriteCond %{REQUEST_URI} !^/(media|skin|js)/\n\n############################################\n## never rewrite for existing files, directories and links\n\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-l\n\n############################################\n## rewrite everything else to index.php\n\n    RewriteRule  ^(.*)$ /shop/index.php [L]\n\n\n\n&lt;/IfModule&gt;\n\n\n############################################\n## Prevent character encoding issues from server overrides\n## If you still have problems, use the second line instead\n\n    AddDefaultCharset Off\n    #AddDefaultCharset UTF-8\n\n&lt;IfModule mod_expires.c&gt;\n\n############################################\n## Add default Expires header\n## http://developer.yahoo.com/performance/rules.html#expires\n\n    ExpiresDefault \"access plus 1 year\"\n\n&lt;/IfModule&gt;\n\n############################################\n## By default allow all access\n\n    Order allow,deny\n    Allow from all\n\n############################################\n## If running in cluster environment, uncomment this\n## http://developer.yahoo.com/performance/rules.html#etags\n\n    #FileETag none \n</code></pre>\n\n<p>Could someone lend some assistance to getting this to work in the Magento backend?</p>\n"},{"tags":["php","ajax","wordpress","jquery-ajax","curl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":87,"score":3,"question_id":12959923,"title":"PHP/Curl/Wordpress Posting data without refreshing page, curl not working","body":"<p>I am writing code for a donation page and want to submit CC information without refreshing the page, and display the results using an overlay.  I have the overlay working correctly using jQuery, and using a php if statement, I can post back to the page I am on and get the variables correctly the the curl block for the CC transaction.  However I never get any results.  If I allow the page to POST/refresh it works fine, but it seems Wordpress will not allow me to run the curl from a page that is not directly run in the enviroment.  </p>\n\n<p>Any suggestions?</p>\n\n<pre><code>jQuery.post('sameurl', jQuery(\"#donateform\").serialize(), function(data) {\n  jQuery('#overlay_msg').html(data);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>        $ch = curl_init ();\n\n        curl_setopt ($ch, CURLOPT_URL,$hoststring);\n        curl_setopt ($ch, CURLOPT_POST, 1); \n        curl_setopt ($ch, CURLOPT_POSTFIELDS, $xml); # the string we built above\n        curl_setopt ($ch, CURLOPT_SSLCERT, $cert);\n        curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);\n        curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 0);\n        curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, 0);\n        curl_setopt ($ch, CURLOPT_VERBOSE, 1);\n\n        $result = curl_exec ($ch);\n</code></pre>\n\n<p>I hard coded the $xml string as well trying to get it to work.  I'm new to php/curl/ajax but know a bit about coding in general.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","rules-engines"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":184,"score":3,"question_id":8595348,"title":"PHP-Rules Tutorial needed","body":"<p>Can any one provide a good link for a PHP-Rules  tutorial.</p>\n\n<p>I can currently find only one:</p>\n\n<ul>\n<li><a href=\"http://swindle.net/php-rules/tutorials/getting-started\" rel=\"nofollow\">Getting started with PHP Rules (by Greg Swindle; 07 Jan 2011)</a></li>\n</ul>\n\n<p>But this link doesnt really mention how to use it in our application. And also, the example they have taken to explain it doesn't have an output as such..</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","jquery","arrays","codeigniter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13294718,"title":"using dynamic arrays in web app using php","body":"<p>My website is dependent on unique content provided by the user's input.</p>\n\n<p>So they type in, \"sports,\" they will receive content based on sports.  That is simple enough.  However, once I start adding more keywords to it, it gets a bit more complicated, at least in the way I'm doing it.</p>\n\n<p>I need to start constantly checking whether the user inputted data is an array or not, and manipulate the data different.</p>\n\n<p>I am currently storing the user's selection using Codeigniter's session class, then retrieving and manipulating the data based on its value.</p>\n\n<p>So they submit the form and my JS runs:</p>\n\n<pre><code>$('#topics_form').submit(function() {\n    var topic = document.getElementById('topics_filter').value\n    $.ajax({\n        type: \"POST\",\n        url: 'ajax/update_session_topic',\n        dataType: 'json', \n        data: { topic: topic },\n            success: function(){\n                load_custom_topics()\n            }\n    });\n    return false;\n});\n</code></pre>\n\n<p>Then update_session_topic runs in my AJAX model</p>\n\n<pre><code>public function update_session_topic()\n{\n    if ($this-&gt;session-&gt;userdata('active_topic') == FALSE) \n    {\n        $array['active_topic'] = $this-&gt;input-&gt;post('topic');\n        $this-&gt;session-&gt;set_userdata($array);\n        return true;\n    } else {\n        $this-&gt;page_model-&gt;add_session_topic($this-&gt;input-&gt;post('topic'));\n        return true;\n    }\n}\n</code></pre>\n\n<p>When theres only 1 value, its no big deal. </p>\n\n<p>However, when trying to add a second value...I am forced to check whether its an array or not, or make it one.</p>\n\n<pre><code>    public function add_session_topic($current_filter)\n    {\n        $session = $this-&gt;session-&gt;userdata('active_topic');\n        if (is_array($session) == false)\n        {\n            $session = array($this-&gt;session-&gt;userdata('active_topic'));\n        } \n        foreach ($session as $keyword)\n        {\n            if ($keyword == $current_filter)\n            {\n                return false;\n            }\n        }\n        $session[] = $current_filter;\n        $active['active_topic'] = $session;\n        $this-&gt;session-&gt;set_userdata($active);\n        return true;\n    }\n</code></pre>\n\n<p>This occurs in my views as well. </p>\n\n<p>Its kind of annoying, and I was hoping there was a better way to do this.  Im still new to PHP/codeigniter, so I am open to anything.</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","jquery-ajax","google-maps-api-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13294646,"title":"sending json object to google maps vai ajax response from php script","body":"<p>I'm stumped. I am not sure why my JSON object is not being parsed by my callback function.\nI am getting the following error in the console log: </p>\n\n<p>TypeError: data is undefined\nfor (var i = 0, len = data.features.length; i &lt; len; i++) {</p>\n\n<p>Your help is greatly appreciated!</p>\n\n<p>The ajax code:</p>\n\n<pre><code>$.ajax({\n        type : 'POST',\n        url  : 'timezone.php',\n        dataType : 'json',\n        data     : { \"func\" : \"getFirstAndNext\", epochTime : browserUTC },\n        success  : function( data ) {\n                console.log( data.first );\n                console.log( data.next );\n                sector_callback( data.first );\n\n            // do something with data.myObject.memberVariable\n\n        },\n        error : function ( XMLHttpRequest, textStatus, errorThrown ) {\n            // didn't work!\n        }\n    });\n</code></pre>\n\n<p>The PHP script:</p>\n\n<pre><code>    &lt;?php\n    //header('Content-Type: application/json; charset=utf-8');\n    function getFileStamp($type) {\n        $timeInterval = 15; // minutes\n        $now = round($_POST['epochTime'] / 1000);\n        $now = round(1352324181061 /1000 ); // 3:36:21\n        //$now = round(1352238011.067);\n        $offsetInSeconds = $timeInterval * 60;\n        $offsetInMillis  = $timeInterval * 60 * 1000;\n\n        $currentFileTime = $now - $now % ($timeInterval * 60);\n        //$currentFileTime = ($now - ($now  % $offsetInMillis))/1000.0;  // this returns epoch time in $timeInterval minutes.\n        $nextFileTime = $currentFileTime + $offsetInSeconds;  // next epoch time for file;\n        return ($type == 0) ? $currentFileTime : $nextFileTime;\n    }\n\n        $currentFileTime = getFileStamp(0) . '.json';\n        $nextFileTime = getFileStamp(1) . '.json';\n\n        $res = array();\n        $res['file1'] = file_get_contents($currentFileTime);\n        $res['file2'] = file_get_contents($nextFileTime);\n        echo json_encode(array(\"first\"=&gt;$res['file1'],\"next\"=&gt;$res['file1'])); //takes contents and converts it to json object\n    ?&gt;\n</code></pre>\n\n<p>The sector callback function:</p>\n\n<pre><code>    var allPolygons = [];\n    function sector_callback() {\n        //console.log(data);\n        var bounds = new google.maps.LatLngBounds();        \n        for (var i = 0, len = data.features.length; i &lt; len; i++) {\n            var coords = data.features[i].geometry.coordinates[0];\n            siteNames = data.features[i].properties.Name; // added for site names\n            var path = [];\n        for ( var j = 0, len2 = coords.length; j &lt; len2; j++ ){ // pull out each     set of coords and create a map object\n            var pt = new google.maps.LatLng(coords[j][1], coords[j][0])\n            bounds.extend(pt);\n            path.push(pt);\n\n        }\n\n        var polygons = new google.maps.Polygon({\n        path: path,\n            strokeColor: \"#000000\",\n            strokeOpacity: 0.8,\n            strokeWeight: 1,\n            fillColor: \"#000000\",\n            fillOpacity: 0.35,\n        map: map\n        });\n        createClickablePoly(polygons, siteNames);\n\n        google.maps.event.addListener(polygons, 'mouseover', function() {\n        var currentPolygon = this;\n\n        currentPolygon.setOptions({ \n            fillOpacity: 0.45,\n            fillColor: \"#FF0000\"\n            })\n        });\n\n        google.maps.event.addListener(polygons, 'mouseout', function() {\n        var currentPolygon = this;\n        currentPolygon.setOptions({ \n            fillOpacity: 0.35,\n            fillColor: \"#000000\"\n            })\n        });\n\n        allPolygons.push(polygons);\n        }\n    }\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13294155,"title":"PHP Build a hierarchy set then insert data from a second table","body":"<p>Ive been trying to figure this out for the better half of two months and not found a solution. I can find plenty of information for building the data for my Types table using recursive function but not for my actual data table. I could be using the wrong terminology. I want to add this is not for building a menu but for building dynamic forms into sections.</p>\n\n<p>If I drop the parent column I can get things to work but I need the extra level.</p>\n\n<p>These are the test tables</p>\n\n<pre><code>types\n=====\nid  name        parent\n1   module1     0\n2   module2     0\n3   component1  1\n4   component2  1\n5   component3  2\n6   component4  2\n\nitems\n=====\nid  name        type_id\n1   item1       3\n2   item2       3\n3   item3       4\n4   item4       4\n5   item5       5\n6   item6       5\n7   item7       6\n8   item8       6\n</code></pre>\n\n<p>The result Im trying to achieve</p>\n\n<pre><code>desired output\n==============\n\nmodule1\n    component1\n        item1\n        item2\n    component2\n        item3\n        item4\nmodule2\n    component3\n        item5\n        item6\n    component4\n        item7\n        item8\n</code></pre>\n\n<p>Any solution to this kind of problem? Table changes, links, or examples? Thanks.</p>\n"},{"tags":["php","google","search","search-engine","google-custom-search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13294806,"title":"Google Custom Search - Same query, results from Google and own site on the same page","body":"<p>On my search, the left side is filled with results from Google, based on the query entered. What I want is that the right side shows results from my own website, but also driven by Google. I tried creating two search engines in the control panel and configured one to get results from the web, and other from my website. But putting the codes for both engines on the same page didn't work as it obviously leads to contradictions.</p>\n\n<p>I thought of creating two iframes and then loading two different pages, holding a search engine each, but I wanted to be sure it will work before I tried it. But more importantly, it didn't seem like a very good solution.</p>\n\n<p>Is there a better way to do this?</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","arrays"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":23,"score":-5,"question_id":13294776,"title":"Find in array value","body":"<pre><code>Array ( [22] =&gt; STDCLASS OBJECT ([ID] = 23 [INFO] = 14 [NR] = TEN) [19] =&gt; STDCLASS OBJECT ([ID] = 18 [INFO] = 15 [NR] = NINE))\n</code></pre>\n\n<p>Hello, I want to find for example:</p>\n\n<p>To find value: \"TEN\" and get the keys \"INFO\" value.</p>\n\n<p>Any help ?</p>\n\n<p>Thank you.</p>\n"},{"tags":["php","memcached","php-extension"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2528,"score":4,"question_id":4971063,"title":"WAMPSERVER php_memcache extension","body":"<p>I have a copy of <code>php_memcache.dll</code> (from <a href=\"http://downloads.php.net/pierre/\" rel=\"nofollow\">php_memcache-2.2.6-5.3-nts-vc9-x86.zip</a>) which I have placed in my <code>C:\\wamp\\bin\\php\\php5.3.5\\ext</code> folder.</p>\n\n<p>In WAMP I can see <code>php_memcache</code> in my extensions list, however whenever I start the extension I get the following warning:</p>\n\n<blockquote>\n  <p>PHP Startup: Unable to load dynamic\n  library\n  'C:/wamp/bin/php/php5.3.5/ext/php_memcache.dll'\n  - The specified module could not be found.</p>\n</blockquote>\n\n<p>This does not happen for any other extension that I can turn on or off.</p>\n\n<p>Have tried moving <code>php_memcache.dll</code> to <code>C:\\windows\\system32</code> but makes no difference.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13294419,"title":"MYSQL: Inser column if not exists","body":"<p>I am trying to add a column by checking if it exists. If not it should give message that it already exists with the code below.</p>\n\n<pre><code>$prefix = 'vm_';\n$col_name = 'checking';\n\n$col = \"SELECT \".$col_name.\" FROM \".$prefix.\"users\";\n\nif (!$col){\n    $insert_col = \"ALTER TABLE \".$table.\" ADD \".$col_name.\" DATETIME NOT NULL\";\n\n    mysql_query($insert_col);\n\n    echo $col_name.' has been added to the database';\n} else {\n    echo $col_name.' is already exists';\n}\n</code></pre>\n\n<p>But it doesn't add any column and directly displays message that the column already exists.</p>\n\n<p>What is wrong in my code?</p>\n"},{"tags":["php","mysql","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13292445,"title":"Getting number of rows while foreach is running","body":"<p>I'm sending mails using foreach loop for getting recipient info in a codeigniter method of a controller , and, if a mail gets sent, I update recipient status in recipients table to 'sent'. </p>\n\n<p>In another method of the same controller (using the same model), I get number of unsent mails, but if I try to get the number of unsent mails while they are being sent, it waits until foreach loop gets done.</p>\n\n<p>How can I continuously get number of unsent mails, while they are being sent in the foreach loop?</p>\n\n<pre><code>recipients table\n    id int 11\n    recipient_id int 11\n    mail_id int 11\n    sent tinyint 1\n    failed tinyint 1\n\n$recipients = $this-&gt;MMails-&gt;GetRecipients($mail_id);\nforeach($recipients as $recipient) {\n    //send message using swift\n    if($message_sent) {\n        $this-&gt;MMails-&gt;MarkAsSent($recipient_id);//this recipient table gets updated actually, but I can't read the new COUNT value until this loop finished\n    }\n}\n</code></pre>\n\n<p>from the model:</p>\n\n<pre><code> function GetNumOfQueued() {//Get number of queued mails\n    $query = $this-&gt;db-&gt;query(\"SELECT COUNT(id) as num_of_queued\n        FROM recipients \n        WHERE sent = 0\");\n    return $query-&gt;row()-&gt;num_of_queued;\n}//GetNumOfQueued\n\n function MarkAsSent($recipient_id) {//Update mail recipient status to sent\n    $this-&gt;db-&gt;set('sent', 1);\n    $this-&gt;db-&gt;where('id', $recipient_id);\n    $this-&gt;db-&gt;limit(1);\n    $this-&gt;db-&gt;update('recipients');\n\n}//MarkAsSent\n</code></pre>\n\n<p>Simply put, PHP doesn't respond until the loop gets finished, and I can't open any other page in the application while the loop is active.</p>\n\n<p>Settings in my local php.ini is output_buffering = Off</p>\n"},{"tags":["php","javascript","blob","fileapi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13289488,"title":"BLOB URL to file with PHP","body":"<p>I'm trying to create a file preview system.</p>\n\n<p>When the user click in a upload button and select files, I use the HTML5 FILE API to get all the file info and create a thumbnail for the file.</p>\n\n<p>The user can cancel the upload of some of thoose files and add more files too.</p>\n\n<p>What I have now is this:</p>\n\n<pre><code>&lt;p&gt;&lt;input id=\"blob\" name=\"blob\" type=\"file\" size=\"75\" multiple /&gt;&lt;/p&gt;\n&lt;form method=\"post\" action=\"&lt;?php echo $_SERVER['PHP_SELF']; ?&gt;\"&gt;\n&lt;input id=\"blobtype\" name=\"blobtype\" type=\"text\" size=\"20\" /&gt;\n&lt;input id=\"bloburl\" name=\"bloburl\" type=\"text\" size=\"50\" /&gt;\n&lt;input id=\"salvar\" name=\"salvar\" type=\"submit\" value=\"salvar\" /&gt;\n&lt;/form&gt;\n&lt;p id=\"result\"&gt;&lt;/p&gt;\n</code></pre>\n\n<p>And my javascript:</p>\n\n<pre><code>function cbu(file)\n{\nif (window.URL){ return window.URL.createObjectURL(file);}\nelse if (window.webkitURL){ return window.webkitURL.createObjectURL(file);}\nelse if (window.createObjectURL){ return window.createObjectURL(file);}\nelse if (window.createBlobURL){ return window.createBlobURL(file); }\n}\n\ndocument.getElementById(\"blob\").onchange = function(event)\n{\nvar result = document.getElementById(\"result\");\nvar i = 0, j = event.target.files.length;\nfor (i = 0; i &lt; j; i++)\n{\n    var url = cbu(event.target.files[i]);\n    var img = document.createElement(\"img\");\n    img.onload = function(){ }\n    result.appendChild(img);\n    img.src = url;\n    document.getElementById(\"blobtype\").value = event.target.files[i].type;\n    document.getElementById(\"bloburl\").value = url;\n    }\n};\n</code></pre>\n\n<p>It genarate a thumbnail like this:</p>\n\n<pre><code>&lt;img src=\"blob:b9a8e310-05b3-48ba-ba24-9ca7cf287f71\"&gt;\n</code></pre>\n\n<p>This value <code>blob:b9a8e310-05b3-48ba-ba24-9ca7cf287f71</code> is send to a PHP file when user submit the form.</p>\n\n<p>So my question is, how can I transform this blob url into a file so I can save it in my app?</p>\n\n<p>There is a better way of doing this?</p>\n\n<p>Thank for your help!</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13294678,"title":"Hiding wp-login.php with .htaccess and custom directory","body":"<p>I found what apepars to be a solid method for hiding the <code>wp-login.php</code> / <code>wp-admin</code> directory from would-be spammers and attackers here:</p>\n\n<p><a href=\"http://www.bestwpthemez.com/wordpress/how-to-hide-your-wp-admin-login-page-2437/\" rel=\"nofollow\">http://www.bestwpthemez.com/wordpress/how-to-hide-your-wp-admin-login-page-2437/</a></p>\n\n<pre><code>RewriteEngine On\nRewriteBase / \n##### ABOVE THIS POINT IS ALREADY INSERTED BY WORD PRESS\n##### Michi's code is BELOW #####\nRewriteCond %{REQUEST_URI} wp-admin/\nRewriteCond %{QUERY_STRING} !YOURSECRETWORDHERE\nRewriteRule .*\\.php [F,L]\nRewriteCond %{QUERY_STRING} !YOURSECRETWORDHERE\nRewriteRule ^ADMINFOLDER/(.*) wp-admin/$1?%{QUERY_STRING}&amp;YOURSECRETWORDHERE [L]\n##### Michi’s code is ABOVE #####\n##### BELOW THIS POINT IS ALREADY INSERTED BY WORD PRESS\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n</code></pre>\n\n<p>The problem is I already have a <code>RewriteEngine</code> condition in my <code>.htaccess</code> file to make <code>/blog/</code> my WordPress index. As such, I am getting a re-direct loop when I try to implement the code above, and the <code>ADMINFOLDER</code> directory shows up as a 404. Something is off in my syntax:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /blog/\n##### Michi's code is BELOW #####\nRewriteCond %{REQUEST_URI} wp-admin/\nRewriteCond %{QUERY_STRING} !YOURSECRETWORDHERE\nRewriteRule .*\\.php [F,L]\nRewriteCond %{QUERY_STRING} !YOURSECRETWORDHERE\nRewriteRule ^ADMINFOLDER/(.*) wp-admin/$1?%{QUERY_STRING}&amp;YOURSECRETWORDHERE [L]\n##### Michi’s code is ABOVE #####\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /blog/index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["php","security","projects-and-solutions","tips-and-tricks"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13291018,"title":"CSRF tips and solution","body":"<p>So, I have made a class that inserts automatically in all forms an: <code>&lt;input type=\"hidden\" name=\"csrf\" value=\"csrf_value_uniq_id\" /&gt;</code></p>\n\n<p>Now my problems is that, I set the key to expire after 5 minutes, but if you stay on the page or you go to eat when you come back and you submit the form the csrf keys won't match.</p>\n\n<p>Now, I could set this to expire in 24hours but then I don't know if this will be as safe as is meant to do.I'm using it on post forms.</p>\n\n<p>So what's the best solution how should I do this?</p>\n"},{"tags":["php","class","session","object"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":4613,"score":1,"question_id":2010427,"title":"PHP __PHP_Incomplete_Class Object with my $_SESSION data","body":"<p>I've got a site setup that, on page load, turns all user submitted strings into SafeString objects. For those unfamiliar with SafeString, it basically forces the user to echo out sanitized data preventing XSS and whatnot..</p>\n\n<p>Anyways, there's a problem. My $_SESSION array is being filled with <code>__PHP_Incomplete_Class Object</code>.  From what I've read, this is due to not initializing the class before the session and then storing class objects in the session.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>require_once __WEBROOT__ . '/includes/safestring.class.php'; \n\n$temp = array\n(\n   &amp;$_SERVER, &amp;$_GET, &amp;$_POST, &amp;$_COOKIE,\n   &amp;$_SESSION, &amp;$_ENV, &amp;$_REQUEST, &amp;$_FILES,\n   &amp;$HTTP_SERVER_VARS, &amp;$HTTP_GET_VARS,\n   &amp;$HTTP_POST_VARS, &amp;$HTTP_COOKIE_VARS,\n   &amp;$HTTP_POST_FILES, &amp;$HTTP_ENV_VARS\n); \n\nfunction StringsToSafeString(&amp;$array)\n{\n   foreach ($array as $key =&gt; $value)\n   {\n      if (is_string($array[$key]))\n      {\n         $array[$key] = new SafeString($value);\n      } \n\n      if (is_array($array[$key]))\n      {\n         StringsToSafeString($array[$key]);\n      }\n   }\n}\n\nStringsToSafeString($temp);\n\nunset($temp);\n</code></pre>\n\n<p>I can't think of a way to rewrite this which would solve the problem :/</p>\n\n<p>Any ideas?</p>\n"},{"tags":["php","api","foreach","instagram"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13294633,"title":"Something weird with API Instagram, \"Invalid argument supplied for foreach()\"","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2630013/invalid-argument-supplied-for-foreach\">Invalid argument supplied for foreach()</a>  </p>\n</blockquote>\n\n\n\n<p>well, the code worked perfectly, until today I noticed this error \"<code>Warning: Invalid argument supplied for foreach() in /home/.../www/wp-content/themes/.../functions.php on line 93</code>\" and do not know what can be, I think Instagram has changed something in their API, or not.</p>\n\n<p>I've tried changing access key but failed.</p>\n\n<p>Follow the code</p>\n\n<pre><code>function get_instagram($user_id=-ID-,$count=15,$width=45,$height=45){\n\n        $url = 'https://api.instagram.com/v1/users/'.$user_id.'/media/recent/?access_token=-ACCESS-TOKEN-&amp;count='.$count;\n\n        //salva em cache 1h\n        $cache = 'temp/instagram.json';\n        if(file_exists($cache) &amp;&amp; filemtime($cache) &gt; time() - 60*60){\n\n            $jsonData = json_decode(file_get_contents($cache));\n        } else {\n            $jsonData = json_decode((file_get_contents($url)));\n            file_put_contents($cache,json_encode($jsonData));\n        }\n\n\n        $result = '&lt;ul id=\"instagram-list\"&gt;'.PHP_EOL;\n        foreach ($jsonData-&gt;data as $key=&gt;$value) {\n            $result .= \"\\t\".'&lt;li&gt;&lt;a href=\"'.$value-&gt;link.'\" target=\"_blank\" &gt;\n                              &lt;img src=\"'.$value-&gt;images-&gt;low_resolution-&gt;url.'\" width=\"'.$width.'\" height=\"'.$height.'\" /&gt;\n                              &lt;/a&gt; &lt;/li&gt;'.PHP_EOL;\n        }\n        $result .= '&lt;/ul&gt;'.PHP_EOL;\n        return $result;\n    }\n</code></pre>\n\n<p>sorry my bad english</p>\n"},{"tags":["php","post","apostrophe"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13294175,"title":"Posting apostrophe in option value combobox causing truncation","body":"<p>I am having an issue with a posted value from an option value combobox if it contains an apostrophe.  The value is being truncated at the apostrophe. The values come from a database where they sit happily with apostrophes. </p>\n\n<p>I understand why this happening, but I don't know how to work around it.  Any ideas?  Thanks in advance.</p>\n\n<pre><code>echo \"&lt;tr&gt;&lt;td&gt;Location:&lt;/td&gt;\";\nwhile($row = mysql_fetch_assoc($result)) {\n  $dropdown_location .= \"\\r\\n&lt;option value='{$row['location']}'&gt;{$row['location']}&lt;/option&gt;\";\n}\n\n$dropdown_location .= \"\\r\\n&lt;/select&gt;\";\necho \"&lt;td&gt;\" . $dropdown_location . \"&lt;/td&gt; &lt;/tr&gt;\";\n</code></pre>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":1,"view_count":1200,"score":4,"question_id":6433492,"title":"preg_match() vs strpos() for match finding?","body":"<p>For <strong>single value check</strong>, which of both is preferred and why?</p>\n\n<pre><code>$string == 'The quick brown fox jumps over the lazy dog';\n\nif(strpos($string, 'fox') !== false){\n    // do the routine\n}\n\n# versus\n\nif(preg_match('/fox/i', $string)){\n    // do the routine\n}\n</code></pre>\n"},{"tags":["php","curl","http-status-code-403"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13294424,"title":"CURL HTTP/1.1 403 Forbidden Date","body":"<pre><code>$url = \"http://search.aol.com/aol/search?q=hello\";\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL, $url);\ncurl_setopt($ch, CURLOPT_HEADER, true);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 GTB5');   \n$html = curl_exec($ch);\ncurl_close($ch);\necho $html;\n</code></pre>\n\n<p>This return:</p>\n\n<pre><code>HTTP/1.1 403 Forbidden\n\nForbidden\n\nYou don't have permission to access /aol/search on this server.\n</code></pre>\n\n<p>Anything curl setting that would acceess to get the result.</p>\n"},{"tags":["php","pdo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":22,"score":-2,"question_id":13293978,"title":"Fatal error: Call to a member function fetch() on a non-object , PDO","body":"<p>edit* sorry my error ........((</p>\n"},{"tags":["php","paypal","payment"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":23,"score":-5,"question_id":13294441,"title":"I want to do payment by paypal and ideal using php. Where do you recommend to read about this?","body":"<p>Thanks in advance.<br>\nI read about paypal here:\n<a href=\"http://php.su/articles/?cat=others&amp;page=005\" rel=\"nofollow\">http://php.su/articles/?cat=others&amp;page=005</a>                    </p>\n"},{"tags":["php","codeigniter","email","encoding","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13260284,"title":"Incorrect email encoding with CodeIgniter","body":"<p>Now the data looks like this in the database:</p>\n\n<p><code>Hej [indtaster_navn]&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;I forbindelse med noget på ændring af xxxxxx er der behov for opfølgning på:&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;- xxxx&amp;lt;br&amp;gt;- xxxx&amp;lt;br&amp;gt;- xxxx&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Jeg vil gerne have en tilbagemelding, når du har set på ovenstående.&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;Venlig hilsen&amp;lt;br/&amp;gt;[behandler_navn]&amp;lt;br/&amp;gt;TestGuy&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;[lokal_tlf] - lokal&amp;lt;br&amp;gt;00 00 00 00 - telefon&amp;lt;br&amp;gt;[behandler_email]&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;This S&amp;lt;br&amp;gt;Something&amp;lt;br&amp;gt;Transformer 1234&amp;lt;br&amp;gt;3434 BubbleJ&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;​​​​</code></p>\n\n<p>So i have following code when sending a mail, where it's important to notice that i use <code>html_entity_decode</code>:</p>\n\n<pre><code>    $config['mailtype'] = 'html';\n    $config['priority'] = 1;\n    $config['charset'] = 'utf-8';\n    $this-&gt;email-&gt;initialize($config);\n    $this-&gt;email-&gt;from($this-&gt;auth_data-&gt;user_email, $this-&gt;auth_data-&gt;user_firstname . ' ' . $this-&gt;auth_data-&gt;user_lastname);\n    $this-&gt;email-&gt;reply_to($this-&gt;auth_data-&gt;user_email, $this-&gt;auth_data-&gt;user_firstname . ' ' . $this-&gt;auth_data-&gt;user_lastname);\n    $this-&gt;email-&gt;to('test@test.com'); \n    $this-&gt;email-&gt;subject($feedback_title_temp);\n    $this-&gt;email-&gt;message(html_entity_decode($feedback_temp));  \n    $this-&gt;email-&gt;send();\n</code></pre>\n\n<p>When i receive the email it inserts the symbol <code>=</code> random places and in some cases the <code>&lt;br&gt;</code> does not even occur.</p>\n\n<p>For example: </p>\n\n<pre><code>- xxxx&lt;=r&gt;- xxxx\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>- xxxx\n- xxxx\n</code></pre>\n\n<p>When i view the email on my smartphone, the encoding problem only seems to occur with the <code>æåø</code> chars while Outlook is a completely different story.</p>\n\n<p>Received email header::</p>\n\n<pre><code>**Microsoft Mail Internet Headers Version 2.0\nSubject: =?utf-8?Q?(ID:_418)?=\nTo: some@one.com\nX-PHP-Originating-Script: 0:Email.php\nUser-Agent: CodeIgniter\nDate: Wed, 7 Nov 2012 00:31:54 +0100\nFrom: &lt;mat@damn.com&gt;\nReturn-Path: &lt;mat@damn.com&gt;\nReply-To: \"Johnny Bravo\" &lt;mat@damn.com&gt;\nX-Sender: damn@test.com\nX-Mailer: CodeIgniter\nX-Priority: 1 (Highest)\nMessage-ID: &lt;50999deab797d@test.com&gt;\nMime-Version: 1.0\nContent-Type: multipart/alternative; boundary=\"B_ALT_50999deab798e\"\nX-OriginalArrivalTime: 06 Nov 2012 23:31:54.0823 (UTC) FILETIME=[E8022570:01CDBC76]\n\n--B_ALT_50999deab798e\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\n\n--B_ALT_50999deab798e\nContent-Type: text/html; charset=utf-8\nContent-Transfer-Encoding: quoted-printable\n\n\n--B_ALT_50999deab798e--\n**\n</code></pre>\n\n<p>Received mail, based on different content, but the errors are very obvious:</p>\n\n<pre><code>Det her er en m=sse tekst, det er bare en test fra en hæææst.\n\n\n- Hehe\n- Heh&lt;=br&gt;\n- Wee\n\n\nA=l these things\n\n- Lots of text\n</code></pre>\n"},{"tags":["php","http","zend-framework"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13292171,"title":"ZF: http request from one controller to onther hangs","body":"<p>I've this problem, I want to perform HTTP request from one of my controllers to URL that is linked with another controller. They are completely independent of each other.</p>\n\n<p>When my controller contains following code my applications hangs until I get Fatal error: maximum execution time of 30 seconds exceeded ...</p>\n\n<pre><code>    $opts = array(\n        'http'=&gt;array(\n        'method'=&gt;\"GET\",\n        'header'=&gt;\"Accept-language: en\\r\\n\" .\n                  \"Cookie: DEFAULTID=rookgqj7bdi4os6f4pt5vqkk74\\r\\n\"\n        )\n    );\n    $context = stream_context_create($opts);\n\n    $contents = file_get_contents('http://10.10.3.6/__env/Module/post-types-list/json-export', false, $context);\n    print \"xxx=\". $contents;\n</code></pre>\n\n<p>AFAIK there is no loop here.\nIf i do it from outside ZF it works ok.</p>\n"},{"tags":["php","string","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13294292,"title":"CodeIgniter: Is there a string contains function?","body":"<p>Form on Page:  </p>\n\n<pre><code>&lt;div&gt;\n&lt;?php echo form_open('add/player');\n    echo form_label('First Name','playerFirstName');\n    echo form_input('playerFirstName','test');\n    echo \"&lt;br /&gt;\";\n    echo form_label('Last Name','playerLastName');\n    echo form_input('playerLastName','test');\n    echo \"&lt;br /&gt;\";\n    echo form_submit('addPlayer','Add Player');\n    echo form_close(); ?&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Called Controller:</p>\n\n<pre><code>class Add extends CI_Controller\n{\n    public function index()\n    {\n        $this-&gt;load-&gt;view('header');\n        $this-&gt;load-&gt;view('add');\n        $this-&gt;load-&gt;view('footer');\n    }\n\n    public function Player()\n    {\n        if(strtoupper($_SERVER['REQUEST_METHOD']) == 'POST')\n        {\n            if(basename($_SERVER['HTTP_REFERER']) == basename($_SERVER['PHP_SELF']))\n            {\n                $this-&gt;load-&gt;model('players');\n                $returnMessage = $this-&gt;players-&gt;add_player($this-&gt;input-&gt;post('playerFirstName'), $this-&gt;input-post('playerLastName'));\n            }\n        }\n        $this-&gt;load-&gt;view('header');\n        $this-&gt;load-&gt;view('addplayer');\n        $this-&gt;load-&gt;view('footer');\n    }\n}\n</code></pre>\n\n<p>I'm a very green novice when it comes to PHP, CodeIgniter and MySQL (or web coding in general), so if you see any suggestions, please don't hesitate to make them (though the credit will be given to the one who answers my question, not makes my code work the best).  However, as to my question, is there a way to see if a string is within another string?  My <code>$returnMessage</code>, if successful will have the word <code>successfully</code> in it.  What I want to do is <i>if</i> the player is not added, I want to reload the values from the form and put them back.  Here's where it gets tricky.</p>\n\n<p>The names are saved in table <code>people_names</code>.  In the <code>players</code> table, I save the <code>nameid</code> that is associated with that name in the <code>people_names</code> table.  In my <code>add_player</code> function, I check to see if the names are in the table, if they aren't I add them, then I add the player to the <code>players</code> table with the appropriate ids.  Because of this, I'm not sure <code>form_validation</code> would be able to be used or not.  If it were, please let me know.</p>\n\n<p>So what I want to do is check the <code>$returnMessage</code> and if it doesn't contain <code>successfully</code>, then I want to add the values back to the fields.  However, I'm not finding a function where I can see if a string is inside of another string.  I see string compares and substring functions, but no string contains.  Any ideas?  Thanks.</p>\n"},{"tags":["php","javascript"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13294202,"title":"how to get $_POST value into a javascript confirmation box","body":"<p>I want to be able to include the name of the exam in the confirmation box, at the moment it does not display the name of the exam. Does anyone know why? The name of the exam comes from a text input which should be posted.</p>\n\n<p>Below is the form which contains the text input for the exam name:</p>\n\n<pre><code>&lt;?php\n\n$newassessment = (isset($_POST['Assessmentnew'])) ? $_POST['Assessmentnew'] : '';\n\n$editsession = \"&lt;form action=\".htmlentities($_SERVER['PHP_SELF']).\" method='post' id='updateForm'&gt;\n\n    &lt;table&gt;\n    &lt;tr&gt;\n    &lt;th&gt;Assessment:&lt;/th&gt;\n    &lt;td&gt;&lt;input type='text' id='newAssessment' name='Assessmentnew' readonly='readonly' value='' /&gt; &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/table&gt;\n\n    &lt;p&gt;&lt;input id='updateSubmit' type='submit' value='Update Date/Start Time' name='updateSubmit' onClick='myClickHandler(); return false;'/&gt;&lt;/p&gt;\n\n    &lt;/form&gt;\n\";\n\necho $editsession;\n\n\n}\n\n?&gt;\n</code></pre>\n\n<p>Below is the confirmation box:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n        function showConfirm(){\n\n         var confirmMsg=confirm(\"Are you sure you want to update the following:\" + \"\\n\" + \"Exam: \" &lt;?php echo  $newassessment ?&gt; );\n\n         if (confirmMsg==true)\n         {\n         submitform();   \n     }\n}\n\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","orm","relationship","laravel","eloquent"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13294227,"title":"ORM: friendship/buddylist relationship","body":"<p>I'm trying to use ORM for the first time, I've defined the models like this:</p>\n\n<p><strong>User model:</strong></p>\n\n<pre><code>class User extends Eloquent\n{\n    public function friends()\n    {\n       return $this-&gt;has_many_and_belongs_to('User', 'friends', 'user1_id', 'user2_id');\n    }    \n}\n</code></pre>\n\n<p><strong>Friend model:</strong></p>\n\n<pre><code>class Friend extends Eloquent\n{\n    public function friend()\n    {\n        return $this-&gt;belongs_to('User', 'user_id');\n    }    \n}\n</code></pre>\n\n<p><strong>Friends mysql table:</strong></p>\n\n<p><code>id (pkey) # user1_id (references users.user_id) # user2_id (references users.user_id)</code></p>\n\n<p>Right now by using <code>$user-&gt;friends</code> I get a unilateral list because the friends database parameters could be in any order (user1 is friend of user2 <strong>OR</strong> user2 is friend of user1). This would be ok if I was trying to use following/followers approach, but I want it to be reciprocal.</p>\n\n<p>What is the best way to do this kinda of stuff? Inserting duplicated user1/user2 and user2/user1 on the database doesn't sound like a good approach and I wouldn't even know how to translate this to the ORM. Also, it seems the Friend model is not being used/getting called at all.</p>\n\n<p>I'm also going to have a similar problem on the invite friend system.</p>\n"},{"tags":["php","packagist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13289206,"title":"Friendly time display library available on packagist","body":"<p>Is there a nice small library to display friendly time spans (90 seconds becomes 1 minute 30 secounds, but 10 only \"10 seconds\")?</p>\n\n<p>The library should be available in packagist.</p>\n"},{"tags":["php","upload","ftp"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":27,"score":-3,"question_id":13279716,"title":"Upload image from URL to FTP server using PHP","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13279269/upload-remote-picture-to-ftp-using-php\">Upload remote picture to FTP using PHP</a>  </p>\n</blockquote>\n\n\n\n<p>I want to upload a picture from another site to my FTP server using PHP.</p>\n\n<p>Example:</p>\n\n<p>File to upload(\"http://page.mi.fu-berlin.de/krudolph/stuff/stackoverflow.png\")</p>\n\n<p>FTP-path(\"pictures/\")</p>\n\n<p>I don't even get any errors when I'm running the scripts and I have chmod'd the directory to 777.</p>\n\n<p>Do you if I'm doing anything wrong? \nThe following examples are writting as close as possible as they appear on my site.</p>\n\n<p>This are the 5 scripts that I've already tried:</p>\n\n<h1>1</h1>\n\n<pre><code>$image = file_get_contents(\"http://img.youtube.com/vi/Rz8KW4Tveps/1.jpg\");\nfile_put_contents(\"imgfolder/imgID.jpg\", $image);\n</code></pre>\n\n<h1>2</h1>\n\n<pre><code>copy('http://img.youtube.com/vi/Rz8KW4Tveps/1.jpg', 'imgfolder/imgID.jpg');\n</code></pre>\n\n<h1>3</h1>\n\n<pre><code>    &lt;?php\nset_time_limit (24 * 60 * 60);\n\nif (!isset($_POST['submit'])) die();\n\n$file = fopen ($url, \"rb\");\nif ($file) {\n  $newf = fopen ($newfname, \"wb\");\n\n  if ($newf)\n  while(!feof($file)) {\n    fwrite($newf, fread($file, 1024 * 2000 ), 1024 * 2000 );\n  }\n}\n\nif ($file) {\n  fclose($file);\n}\n\nif ($newf) {\n  fclose($newf);\n}\n\n?&gt;\n</code></pre>\n\n<h1>4</h1>\n\n<p><a href=\"http://www.teckdevil.com/php-server-to-server-transfer-script-to-remotely-transfer-files/\" rel=\"nofollow\">http://www.teckdevil.com/php-server-to-server-transfer-script-to-remotely-transfer-files/</a></p>\n\n<h1>5</h1>\n\n<p>(kinda the same as first linked) <a href=\"http://stackoverflow.com/questions/12315223/download-files-directly-to-my-server\">Download files directly to my server</a></p>\n\n<p><strong>THIS SHIT DID THE JOB!!! (CURL)</strong></p>\n\n<pre><code>&lt;?php\n$ch = curl_init(\"stackoverflow.com/test.jpg\");\n\n$fp = fopen(\"mydownloads/new_image.jpg\", \"w\");\n\n\n\ncurl_setopt($ch, CURLOPT_FILE, $fp);\n\ncurl_setopt($ch, CURLOPT_HEADER, 0);\n\n\n\ncurl_exec($ch);\n\ncurl_close($ch);\n\nfclose($fp);\n\n}\n\n?&gt;\n</code></pre>\n"},{"tags":["php","tidy","htmltidy"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2148,"score":3,"question_id":6891416,"title":"An alternative to php tidy?","body":"<p>I use php tidy to process html input in my database, </p>\n\n<pre><code>$fragment = tidy_repair_string($dom-&gt;saveHTML(), array('output-xhtml'=&gt;1,'show-body-only'=&gt;1));\n</code></pre>\n\n<p>I have this php_tidy turned on in my server but my live server doesn't support tidy,</p>\n\n<blockquote>\n  <p>Fatal error: Call to undefined function tidy_repair_string() in\n  /customers/0/5/a/mysite.com/httpd.www/models/functions.php on line 587</p>\n</blockquote>\n\n<p>Any alternative can I have to fix this problem?</p>\n"},{"tags":["php","mysql","pdo","lamp"],"answer_count":7,"favorite_count":2,"up_vote_count":16,"down_vote_count":0,"view_count":29210,"score":16,"question_id":2852748,"title":"PDOException “could not find driver”","body":"<p>I have just installed Debian Lenny with Apache, MySQL, and PHP and I am receiving a PDOException <code>could not find driver</code>.</p>\n\n<p>This is the specific line of code it is referring to:</p>\n\n<p><code>$dbh = new PDO('mysql:host=' . DB_HOST . ';dbname=' . DB_NAME, DB_USER, DB_PASS)</code></p>\n\n<p><code>DB_HOST</code>, <code>DB_NAME</code>, <code>DB_USER</code>, and <code>DB_PASS</code> are constants that I have defined. It works fine on the production server (and on my previous Ubuntu Server setup).</p>\n\n<p>Is this something to do with my PHP installation?</p>\n\n<p>Searching the internet has not helped, all I get is experts-exchange and examples, but no solutions.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":30,"score":1,"question_id":13290689,"title":"Using CodeIgniter Model as an object manager/factory","body":"<p>I'm currently designing a game that utilises CodeIgniter, but I don't think the singleton approach to models is the way I want to handle the game-related objects in the DB.</p>\n\n<p>I want to use a CodeIgniter Model class to handle the basic CRUD operations of the objects, but have the objects as PHP Classes.</p>\n\n<p>Example:</p>\n\n<pre><code> $this-&gt;load-&gt;model('playermodel');\n $player = $this-&gt;playermodel-&gt;get($player_id); // Returns a Player object\n\n // Call modifying operations on the player (equip item, take damage etc.)\n\n $this-&gt;playermodel-&gt;save($player); // Commits updated Player back to DB\n\n $player2 = $this-&gt;playermodel-&gt;create(); // Basically calls new Player()\n</code></pre>\n\n<p>I'm fairly new to CodeIgniter, would something like this be going against any kind of CodeIgniter or MVC design rules? And if so, could anyone recommend me another approach to my problem?</p>\n"},{"tags":["php","html","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13291147,"title":"Displaying mysql fetched results into row-wise organized table by entry fields?","body":"<p>I've a mysql table named <code>product</code> with the following structure:</p>\n\n<pre><code>CREATE TABLE product (\n    id int(6) unsigned NOT NULL auto_increment,\n    name varchar(100) NOT NULL default '',\n    image varchar(255) NOT NULL default '',\n    link varchar(255) NOT NULL default '',\n    price decimal(3,2) NOT NULL default '0.00',\n    PRIMARY KEY (id)\n);\n</code></pre>\n\n<p>and I would like to visualize the retrieved results <code>{product1,...,product5}</code> into a html/php table of 3 columns with also the following structure:</p>\n\n<pre><code>&lt;table border=\"1\" cellpadding=\"2\" cellspacing=\"2\" width=\"100%\"&gt;\n    &lt;tr&gt;\n       &lt;td&gt;product1.image&lt;/td&gt;   &lt;td&gt;product2.image&lt;/td&gt;   &lt;td&gt;product3.image&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n       &lt;td&gt;product1.name&lt;/td&gt;    &lt;td&gt;product2.name&lt;/td&gt;    &lt;td&gt;product3.name&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n       &lt;td&gt;product1.link&lt;/td&gt;    &lt;td&gt;product2.link&lt;/td&gt;    &lt;td&gt;product3.link&lt;/td&gt;\n    &lt;/tr&gt;\n\n    &lt;tr&gt; \n         &lt;td colspan=\"3\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n\n    &lt;tr&gt;\n       &lt;td&gt;product4.image&lt;/td&gt;   &lt;td&gt;product5.image&lt;/td&gt;  &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;product4.name&lt;/td&gt;   &lt;td&gt;product5.name&lt;/td&gt;  &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;product4.link&lt;/td&gt;   &lt;td&gt;product5.link&lt;/td&gt;  &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Note that the fields of a given entry (e.g. <code>product1.{image,description,link}</code>) are displayed in different rows.\nThe code below illustrates how do the images of some products could be displayed.</p>\n\n<pre><code>$table = 'product';\n$result = mysql_query(\"SELECT id, image, description, link FROM {$table}\");\nif (!$result) {\n    die(\"Query to show fields from table failed\");\n}\n\n$fields_num = mysql_num_fields($result);\n\necho \"&lt;h1&gt;Table: {$table}&lt;/h1&gt;\";\necho \"&lt;table border='1' cellpadding='2' cellspacing='2' width='100%'&gt;&lt;tr&gt;\";\n// printing table headers\nfor($i=0; $i&lt;$fields_num; $i++)\n{\n    $field = mysql_fetch_field($result);\n    echo \"&lt;td&gt; &lt;img src=\"$field-&gt;image\" border=\"0\"&gt;&lt;/td&gt;\";\n\n    if($i%3==0){echo\"&lt;/tr&gt;&lt;tr&gt;\";}\n}\necho \"&lt;/tr&gt;&lt;/table&gt;\";\n</code></pre>\n\n<p>Any suggestions are appreciated!</p>\n"},{"tags":["php","orm","like","fuelphp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13291427,"title":"Fuel php orm profile like","body":"<p>First really sorry if its a stupid question but im a beginner.</p>\n\n<p>So i recently started working with fulephp and i have a small site, and would like to give the users the ability to like other users profile.</p>\n\n<p>But im a bit unexperienced at this part. so i have a table <code>users_like</code></p>\n\n<pre><code>id | users_id | liked_by\n1  | 5        | 1\n2  | 5        | 3\n3  | 1        | 2\n4  | 1        | 9\n</code></pre>\n\n<p>the <code>user_id</code> is who got the like and the <code>liked_by</code> is who gave the like</p>\n\n<p>So i have a like button on the users profile</p>\n\n<pre><code>&lt;button class=\"like btn btn-primary\" data-like=\"&lt;?php echo $user-&gt;profile['user_id']; ?&gt;\"&gt;Like&lt;/button&gt;\n</code></pre>\n\n<p>the <code>data-like</code> contains the users id who gets the like</p>\n\n<p>And the insert looks like this</p>\n\n<p>php function</p>\n\n<pre><code>public function action_like($id)\n    {\n        if(Input::is_ajax()):\n\n            $response = Response::forge();\n\n                $like = Model_Like::forge();\n                $like-&gt;user_id = $id;\n                $like-&gt;liked_by = Session::get('sentry_user');\n                $like-&gt;save();\n\n                $response-&gt;body(json_encode(array(\n                    'status' =&gt; 'liked',\n                )));\n\n            return $response;\n\n\n        endif;// is ajax\n    } \n</code></pre>\n\n<p>jQuery ajax posts</p>\n\n<pre><code>$('button.like').on('click', function(){\n    var likeId = $(this).data('like');\n    $.ajax({\n        type: \"POST\",\n        url: siteUrl + \"profile/like/\" + likeId,\n        dataType: \"json\",\n        context: this,\n        beforeSend: function()\n        {\n            $(this).attr('disabled', 'disabled');\n        },\n\n        success: function(data)\n        {\n            if(data.status === \"liked\") {\n                $(this).removeClass('like')\n                .addClass('unlike')\n                .text('Un-Like');\n\n            }\n        }, \n\n        complete: function()\n        {\n            $(this).removeAttr('disabled', 'disabled');\n        }\n    });\n});\n</code></pre>\n\n<p>So actually my logic was this.</p>\n\n<p>The orm retuns the users likes, and i was thinking to do this</p>\n\n<pre><code>if(Session::get('sentry_user') != $like['liked_by']) {\n  &lt;button class=\"like btn btn-primary\" data-like=\"&lt;?php echo $user-&gt;profile['user_id']; ?&gt;\"&gt;Like&lt;/button&gt;\n} else {\n  &lt;button class=\"unlike btn btn-primary\" data-like=\"&lt;?php echo $user-&gt;profile['user_id']; ?&gt;\"&gt;Un-Like&lt;/button&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>So if the logged in users id is not equals to the <code>liked_by</code> than show the button Like otherwise show the button unlike, and if they click that a function will remove the like</p>\n\n<p>But i was silly because i forgot that this actually returns arrays so this is a no-no</p>\n\n<p>So my question is that, i should use jquery cookie somehow to achive the following.</p>\n\n<p>When an user clicks on Like some how get the user has liked that profile and change the button to unlike.</p>\n\n<p>Or could please someone give me a little hint for this solution, just a hint or advice.</p>\n\n<p>Thank you so much</p>\n"},{"tags":["php","google-api","google-drive-sdk"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13153036,"title":"GoogleDrive API Date/Time","body":"<p>I am having an issue with createdDate/modifiedDate for the Google Drive API. When I get the data the time is displayed : 2012-10-26T09:27:09.382Z</p>\n\n<p>Is there anyone who can guide me on how to arrange such date in a \"normal\" 2012-10-26 09:27:.382Z</p>\n\n<p>Thanks :)</p>\n"},{"tags":["php","http-status-code-404","route"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13289010,"title":"ToroPHP routing - 404 action","body":"<p>I'm using the ToroPHP for routing.</p>\n\n<ul>\n<li><strong>Docs:</strong> <a href=\"https://github.com/anandkunal/ToroPHP/blob/master/README.md\" rel=\"nofollow\">https://github.com/anandkunal/ToroPHP/blob/master/README.md</a></li>\n<li><strong>Source:</strong> <a href=\"https://github.com/anandkunal/ToroPHP/blob/master/src/Toro.php\" rel=\"nofollow\">https://github.com/anandkunal/ToroPHP/blob/master/src/Toro.php</a></li>\n</ul>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>Toro::serve(array(\n    \"/\" =&gt; \"home\",\n));\n\nToro::serve(array(\n    \"/website/:string\" =&gt; \"website\",\n));\n\n// Fired for 404 errors\nToroHook::add(\"404\",  function() { echo '404 error'; });\n</code></pre>\n\n<p><strong>More code</strong></p>\n\n<p>Toro:serve goes to this class, works fine, for both <code>home</code> and <code>website</code>.</p>\n\n<pre><code>class home {\n    function get() {\n        echo 'My home';\n    }\n}\n\nclass website {\n    function get($slug) {\n        echo $slug;\n    }\n}\n</code></pre>\n\n<p><strong>Htaccess</strong></p>\n\n<p>This is how my htaccess file looks like. It's just a little bit rewritten to work on localhost.</p>\n\n<p><strong>Look at the last row...</strong></p>\n\n<pre><code>RewriteEngine On\nRewriteBase /my_localhost_dir/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond $1 !^(index\\.php)\nRewriteRule ^(.+)$ index.php/$1 [L]\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>If I go to a page that I have setup with <code>Toro::serve</code>, it works just fine.</p>\n\n<p><em><strong>If I go to a URL that is NOT defined, it gives me a white screen.</em></strong></p>\n\n<p>I would expect it would give me \"404 error\" by the hook I added. What do I do wrong?</p>\n\n<p><strong>Example:</strong> If I go to /nocontent/ it gives me a white screen, and response 200 ok.</p>\n"},{"tags":["php","api","report","stripe-payments"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":13182874,"title":"Creating a Stripe Summary Report","body":"<p>I've recently switched payment processing to Stripe. I now need to create a report for our finance department that shows a rollup of transactions within a specified date range. I've started to create a simple PHP web page (and using the Stripe PHP library) that will give the following summaries:</p>\n\n<ul>\n<li>Transaction Count</li>\n<li>Transaction Amount</li>\n<li>Refund Count</li>\n<li>Refund Amount</li>\n<li>Fees</li>\n<li>Net</li>\n</ul>\n\n<p>I'm having some trouble figuring out how to properly query charges with Stripe for my reporting purposes. </p>\n\n<p>I know I can retrieve charges with: </p>\n\n<pre><code>$charges = Stripe_Charge::all();\n</code></pre>\n\n<p>And from the returned set of charges, I can compute the summary information that I need in the report. However, this will only return me a maximum of 100 charges, and I don't know how to return the charges within a specified date range.</p>\n\n<p>I'm hoping more experienced Stripe developers can point me to the correct method of building the report I need.</p>\n\n<p><strong>How can I return all charges within a specified date range?</strong></p>\n\n<p><strong>Is there a better way to get this summary information from Stripe?</strong></p>\n"},{"tags":["php","date","format","verify"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13292476,"title":"Verifying Date/Time Input in PHP","body":"<p>New to programming in PHP. Trying to verify input format for a date/time. User input is as follows for Nov 27 2012 at 6 PM '2012-nov-27|6pm'. </p>\n\n<p>Not really sure where to start. Any suggestions? Thanks.</p>\n"},{"tags":["php","ajax","xml-schema","result","output"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13294087,"title":"AJAX beginner code neither giving any result nor any error","body":"<p>I am new to AJAX. I have write this very basic AJAX code in which when a user clicks to  submit button a text \"HELLO\" appears on screen.\nI have write this code but its giving me neither any output nor any error. Kindly check this and tell me what is wrong in this code.</p>\n\n<pre><code>    &lt;html&gt;\n&lt;head&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    function load(){\n\n        if (window.XMLHttpRequest) {\n        xmlhttp= new XMLHttpRequest() ;\n            }\n            else {\n            xmlhttp= new ActiveXObject('Microsoft.XMLHTTP');\n\n                }\n\n    xmlhttp.onreadystatechange = function() {\n        if(xmlhttp.readystate==4  &amp;&amp; xmlhttp.status==200) {\n            document.getElementById('adiv').innerHTML=xmlhttp.responseText;\n\n        }\n    }\n\n    xmlhttp.open('GET', 'include.php', true);\n    xmlhttp.send(); \n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;input type=\"submit\" value=\"SUbMit\"  onClick=\"load();\"&gt;\n&lt;div id= \"adiv\" &gt;&lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Thanks,\nTaha</p>\n"},{"tags":["php","png","transparent","edges"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13294078,"title":"Is there any technique to smooth the edges of a PHP processed transparent PNG?","body":"<p>Here is the code I've created to do what I needed to do.  It works, but the saved PNG has jagged edges..</p>\n\n<pre><code>$imagetype = exif_imagetype($_FILES['feedpic']['tmp_name']);            // gets image type\n\n    if ($imagetype == 1){ $processimage = imagecreatefromgif($imagename);}      // GIF\n    if ($imagetype == 2){ $processimage = imagecreatefromjpeg($imagename);}     // JPG\n    if ($imagetype == 3){ $processimage = imagecreatefrompng($imagename);}      // PNG\n    if ($imagetype == 6){ $processimage = imagecreatefromwbmp($imagename);}     // BMP\n\n    list($width, $height) = getimagesize($imagename);\n    if ($width &gt; 5000 &amp;&amp; $width &lt; 7000 or $height &gt; 5000 &amp;&amp; $height &lt; 7000){\n    $new_width = $width * 0.25;\n    $new_height = $height * 0.25;\n    }\n    if ($width &gt; 3000 &amp;&amp; $width &lt; 5000 or $height &gt; 3000 &amp;&amp; $height &lt; 5000){\n    $new_width = $width * 0.33;\n    $new_height = $height * 0.33;\n    }\n    if ($width &gt; 2000 &amp;&amp; $width &lt; 3000 or $height &gt; 2000 &amp;&amp; $height &lt; 3000){\n    $new_width = $width * 0.50;\n    $new_height = $height * 0.50;\n    }\n    if ($width &lt; 2000 or $height &lt; 2000){\n    $new_width = $width * 1.00;\n    $new_height = $height * 1.00;\n    }\n\n    //\n    $image_p = imagecreatetruecolor($new_width, $new_height);                   // creates image with black bg\n    if ($imagetype == 3){   \n        $white = imagecolorallocatealpha($image_p, 255, 255, 255, 127);                 // if PNG, fill background with another color\n        imagefill($image_p, 0, 0, $white);\n        imagecolortransparent($image_p, $white);                                // make that bg transparent\n    }\n    imagecopyresampled($image_p, $processimage, 0, 0, 0, 0, $new_width, $new_height, $width, $height);\n\n    // quality\n    $bytes = $_FILES['feedpic']['size'];; //Size of file in bytes\n    $kbytes = $bytes / 1024;\n    $mbytes = $kbytes / 1024;\n    if ($mbytes &gt; 6 &amp;&amp; $mbytes &lt; 10){ $quality = 50;}\n    if ($mbytes &gt; 3 &amp;&amp; $mbytes &lt; 6){ $quality = 60;}\n    if ($mbytes &gt; 2 &amp;&amp; $mbytes &lt; 3){ $quality = 70;}\n    if (($mbytes &gt; 1 &amp;&amp; $mbytes &lt; 2) or $mbytes &lt; 1){ $quality = 80;}\n\n    // saves image\n    if ($imagetype == 2){\n        imagejpeg($image_p, $target, $quality);\n    }\n\n    elseif ($imagetype == 3){\n        imagepng($image_p, $target);\n    }\n\n    elseif ($imagetype == 6){\n        imagewbmp($image_p, $target);\n    }\n\n    else{\n        imagejpeg($image_p, $target, $quality);\n    }\n\n    imagedestroy($image_p);\n</code></pre>\n\n<p>I've tried using imageantialias, but it didn't seem to apply to the image..  thanks in advance for reading..  Also, the file I'm using to test this does not get affected by the scale routine because it's width and height are both less than 2000 pixels.</p>\n"},{"tags":["php","linux","apache","file","ubuntu"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13293714,"title":"Strange Behaviour of php for specific folder in Ubuntu and apache server","body":"<p>I just ported my website server which allow file uploading . Now it runs vps on ubuntu 11.04.\nUploaded files are stored in folder call files which had owner : root and group :root as similar to other folders.</p>\n\n<p>But problem is when i tried to run the php function (readfile()) to read any of the file from the folder it didn't read that file and But when i changed the folder owner and group to 10000 and 1005 which is same as was in previous server. PHP instantly found that file and downloading was started. I was not able to guess what is problem and how this happened. Because i have tried changing files and its content group and owner to root.</p>\n\n<p>Can anyone describe how this happened, and how to change it to again my own group or owner.And also there is no group and owner named 10000 and 1005 presently in my VPS.</p>\n\n<p>Is it some kind of, bug or hacking done on server.</p>\n"}]}
{"total":298823,"page":3,"pagesize":100,"questions":[{"tags":["php","directive"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":1028,"score":0,"question_id":9951637,"title":"an error occurred while processing this directive","body":"<p>On my site:</p>\n\n<p><a href=\"http://bammeh.com/tempemail/\" rel=\"nofollow\">http://bammeh.com/tempemail/</a></p>\n\n<p>I keep getting erros all over my site when using PHP files that arent CHMOD to 644 or 755.</p>\n\n<p>If I chmod recursively this directory 755 I get:</p>\n\n<blockquote>\n  <p>[an error occurred while processing this directive]</p>\n</blockquote>\n\n<p>And I f I chmod it recursively to 644 I get:</p>\n\n<blockquote>\n  <p>Forbidden</p>\n  \n  <p>You don't have permission to access /disposable/admin/ on this server.</p>\n</blockquote>\n\n<p>Help? :( I use Hostmonster as my host. is it on their end?</p>\n"},{"tags":["php","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13293807,"title":"preg_match spliting one word in two, returning last character as a captured group","body":"<p>This is my pattern:</p>\n\n<pre><code>$fullname = '/^([a-zA-Z]+)(?:[,]?[\\s]?)?([a-zA-Z]+)((?:\\s)([a-zA-Z]{1}))?$/i';\n</code></pre>\n\n<p>and I'm using it with <code>preg_match($nameReg, $value, $match)</code> in PHP.</p>\n\n<p>I want to capture Lastname and then Firstname. Since I'll be using ajax to load results on the fly with a LIKE in my sql statement, I want to start with the lastname and not wait for the first name.</p>\n\n<p>The problem is that when I only enter the lastname (first word), I get the last character of the lastname as a captured group.</p>\n\n<pre><code>Array\n(\n    [0] =&gt; SMITH\n    [1] =&gt; SMIT\n    [2] =&gt; H\n)\n</code></pre>\n\n<p>I'd like to get</p>\n\n<pre><code>Array\n(\n    [0] =&gt; SMITH\n    [1] =&gt; SMITH\n)\n</code></pre>\n\n<p>but I don't understand what is going on here.</p>\n"},{"tags":["php","ajax","json","installer","serial"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13294008,"title":"Checking serial number on installer","body":"<p>I have a little question:</p>\n\n<p>I have a web app and I would like to protect it by having a serial number system (this is all being dealt with via woocommerce and the software addon.) this then generates a serial number when purchasing the script.</p>\n\n<p>The only problem is how do I then check this from the web installer?</p>\n\n<blockquote>\n  <p>Example code A WooCommerce powered shop using the Software Add On is\n  listening for API requests via the wc-api request set to software-api.\n  All API requests can be called like this:</p>\n  \n  <p>$data = wp_remote_get(\n  'http://localhost/woocommerce/?wc-api=software-api&amp;request=request_key&amp;...');\n  All parameters can be added to the URL. The data that the API returns\n  will be stored in the $data variable and is in JSON format.</p>\n  \n  <p>activation The activation API call is used to activate a single use of\n  a licence. The call has to contain the email address of the licence,\n  the key of the licence and the product id linked to the licence.</p>\n  \n  <p>Required params:</p>\n  \n  <p>request = ‘activation’ email licence_key product_id</p>\n</blockquote>\n\n<p>the thing I dont understand is how to incorporate this into a text input on a form, and use ajax (maybe?) to check this step in the install? the example is for using a wordpress function wp_remote_get, but the installer will not have this.</p>\n"},{"tags":["php",".net","web-services","pdf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13290631,"title":"create a pdf file from a byte array returned by a .net webservice","body":"<p>hi am a c# programmer with basic knowledge on php. Currently am working on a php assignment which requires a pdf to be downloaded. i tried downloading through webservice but it does not work. Am able to get the byte array of the concerned PDF. Is it possible to convert it in to a PDF file. Please help thank you.</p>\n\n<p>my php code:</p>\n\n<pre><code>   &lt;?php\n    require_once(\"nuSOAP/lib/nusoap.php\");\n    $client = new nusoap_client('http://localhost/WS-PDF/Fill_Pdf.asmx?wsdl',true);\n    $soapaction = \"http://tempuri.org/GetPdf\";\n    $namespace= \"http://tempuri.org/\";\n    $client-&gt;soap_defencoding = 'UTF-8';\n    $params = array('test' =&gt; \"PDF\");\n    $result = $client-&gt;call('GetPdf',$params,$namespace,$soapaction);\n    print_r(array_values($result));\n    $err = $client-&gt;getError();\n    if ($err) {\n        exit();\n    }\n?&gt;\n</code></pre>\n"},{"tags":["php","ldap","variable-assignment"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13293838,"title":"What's the difference between a=\"$b\" and a=\"value\" where $b=\"value\"?","body":"<p>I'm doing some LDAP development in PHP and have run into some kind of, probably rookie, value assignment in PHP.</p>\n\n<p>My issue is specific to LDAP_MODIFY, but is probably a generic issue.  I'm trying to update an attribute and the following attribute gives me an attribute not found error:</p>\n\n<pre><code>$email = 'Whitegon024@thedomain.org';\n$attributes   = array( \"userPrincipleName\" =&gt; \"$email\"); \n</code></pre>\n\n<p>But the following is successful:            </p>\n\n<pre><code>$attributes = array( \"userPrincipalName\" =&gt; 'Whitegon024@thedomain.org') ; \n</code></pre>\n\n<p>If I do a <code>print_r($attributes);</code> of either I get:</p>\n\n<pre><code>Array\n(\n    [userPrincipleName] =&gt; Whitegon024@thedomain.org\n)\n</code></pre>\n\n<p>Anyone have a clue?  I'm sure it's something super simple.</p>\n"},{"tags":["php","utf-8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13293660,"title":"php query string utf8 not working","body":"<p>I am trying to generate a query string. The function works for non utf8 characters, but utf8 characters show up as blank.</p>\n\n<p>function</p>\n\n<pre><code>function qs_search($qs) {\n  parse_str($_SERVER['QUERY_STRING'], $query_string);\n  $query_string['search'] = basename($qs);\n  return http_build_query($query_string);\n}\n</code></pre>\n\n<p>These are the results...</p>\n\n<p>qs_search('regular');</p>\n\n<pre><code>index.php?list&amp;search=regular\n</code></pre>\n\n<p>qs_search('Синодальный');</p>\n\n<pre><code>index.php?list&amp;search=\n</code></pre>\n"},{"tags":["php","jquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13293293,"title":"Dynamic date sorting not working (using jQuery & PHP)","body":"<p>I am currently trying to sort a range of dynamic dates using jQuery but my code doesn't seem to be working. I don't understand what I'm doing wrong. It seems to be working well here <a href=\"http://jsfiddle.net/Erah9/10/\" rel=\"nofollow\">http://jsfiddle.net/Erah9/10/</a> (using sample HTML and not PHP) but not when I use the code below. This is what I've done so far:</p>\n\n<p><strong>Arrays</strong></p>\n\n<pre><code>$status = array(\"Allocated\",\"Declined\",\"Failed\",\"Pending\");\n$day = array(\"1 - Mon\",\"2 - Tue\",\"3 - Wed\",\"4 - Thu\",\"5 - Fri\");\n$moduleCode = array(\"XXX101\",\"XX107\",\"XXX122\",\"XXX123\",\"XXX124\",\"XXX201\");\n$room = array(\"X110\",\"XX011\",\"X020\",\"XX012\",\"XX013\",\"X001\", \"X201\");\n$period = array(\"1 - 09:00\",\"2 - 10:00\",\"3 - 11:00\",\"4 - 12:00\",\"5 - 13:00\");\n</code></pre>\n\n<p><strong>PHP</strong></p>\n\n<pre><code>&lt;div style=\"padding-top: 20px;\"&gt;\n  &lt;input class=\"btn\" type=\"button\" value=\"Oldest First\" id=\"sortAsc\"/&gt;\n  &lt;input class=\"btn\" type=\"button\" value=\"Newest First\" id=\"sortDesc\"/&gt;\n&lt;/div&gt;\n&lt;div id=\"wrapper\" style=\"padding-top: 10px\"&gt;\n        &lt;ul&gt;\n        &lt;?php\n        $dateStart = new DateTime();\n        $dateStart-&gt;setDate(2012, 10, 01);\n        $dateEnd = new DateTime();\n        $dateEnd-&gt;setDate(2012, 12, 01);\n\n        $dates = array();\n        while ( $dateStart &lt; $dateEnd ) {\n        $status_txt = $status[array_rand($status)];\n        $room_txt = $room[array_rand($room)];\n        $moduleCode_txt = $moduleCode[array_rand($moduleCode)];\n        $day_txt = $day[array_rand($day)];\n        $period_txt = $period[array_rand($period)];\n\n        printf(\n        \"&lt;li class='item'&gt;&lt;div class='activity_date'&gt;%s&lt;/div&gt;\n        &lt;div class='activity_box'&gt;\n        &lt;div class='activity_text' id='act'&gt;\" . $status_txt . ' request for room \n        '.$room_txt.' made by department CO for module '.$moduleCode_txt.' on\n        '.substr($day_txt,3, 4).' '.substr($period_txt,3,6).'&lt;/div&gt;\n        &lt;/div&gt;&lt;/li&gt;',\n        $dateStart-&gt;format(\"d/m/Y\")\n        );\n\n        $dateStart-&gt;modify(sprintf(\"+%d day\",mt_rand(1, 10)));\n        }\n        ?&gt;\n        &lt;/ul&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>$(window).load(function() {\n    var itemsArray = $.makeArray($(\"li.item\"));\n    itemsArray.sort(function(a,b){\n        var aTime = new Date(parseDate($(a).find('.activity_date').text())).getTime();\n        var bTime = new Date(parseDate($(b).find('.activity_date').text())).getTime();\n        return bTime - aTime;\n    });\n\n    $('#sortAsc').click(function(){\n        $(\"#wrapper\").empty().append(\"&lt;ul&gt;&lt;/ul&gt;\");\n        $(itemsArray).each(function(){\n            $(\"#wrapper ul\").prepend($(this));\n        });\n    });\n\n    $('#sortDesc').click(function(){\n        $(\"#wrapper\").empty().append(\"&lt;ul&gt;&lt;/ul&gt;\");\n        $(itemsArray).each(function(){\n            $(\"#wrapper ul\").append($(this));\n        });\n    });        \n});\n\nfunction parseDate(input) {\n    var parts = input.match(/(\\d+)/g);\n    var date = new Date(parts[2], parts[1], parts[0], 0, 0, 0);\n    return date;\n}    \n</code></pre>\n\n<p>​</p>\n"},{"tags":["php","symfony2"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":12686646,"title":"How to start Symfony through app.php?","body":"<pre><code>http://localhost/Symfony/web/app.php/demo/hello/Alex\n</code></pre>\n\n<p>shows </p>\n\n<blockquote>\n  <p>\"Cannot import resource \"@AcmeDemoBundle/Controller/SecuredController.php\" from \"D:/UserData/WWWRoot/Symfony/app/config/routing.yml\". Make sure the \"AcmeDemoBundle/Controller/SecuredController.php\" bundle is correctly registered and loaded in the application kernel class.\"</p>\n</blockquote>\n\n<p>This is my routes of <code>app\\config\\routing.yml</code></p>\n\n<p>Internal routing configuration to handle ESI</p>\n\n<pre><code>_internal:\n    resource: \"@FrameworkBundle/Resources/config/routing/internal.xml\"\n    prefix:   /_internal\n\n_welcome:\n    pattern:  /\n    defaults: { _controller: AcmeDemoBundle:Welcome:index }\n\n_demo_secured:\n    resource: \"@AcmeDemoBundle/Controller/SecuredController.php\"\n    type:     annotation\n\n_demo:\n    resource: \"@AcmeDemoBundle/Controller/DemoController.php\"\n    type:     annotation\n    prefix:   /demo\n</code></pre>\n"},{"tags":["php","xss","htmlpurifier"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":830,"score":0,"question_id":6230323,"title":"Modifying htmlpurifier allowed tags for this markup","body":"<p>My html purifier settings now allow only these tags</p>\n\n<pre><code>$configuration-&gt;set('HTML.Allowed', 'p,ul,ol,li');\n</code></pre>\n\n<p>I want to allow indentation of lists and my editor uses this html </p>\n\n<pre><code>&lt;ul style=\"margin-left: 40px;\"&gt;\n</code></pre>\n\n<p>How should I change my HTMLPurifier Allowed tags? I thought to add <code>style</code>, but I think it would be better to specify exactly which style is allowed, which in this case would be <code>margin-left</code>. What is the right way to change the HTML.Allowed for this case?</p>\n"},{"tags":["php","preg-match"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13293598,"title":"preg_match never passes","body":"<p>My account creation script's name input is validated with a <code>preg_match</code> as the field is only allowed to have either Latin <em>or</em> Cyrillic characters (in other words, it cannot have both), however, no matter what the name field contains, the <code>preg_match</code> condition is never satisfied. So far I've tried three possible variations of the code:</p>\n\n<pre><code>if (!(preg_match('/^[a-z]$/i',$_POST['name']) || preg_match('/^[а-я]$/i',$_POST['name']))) back('The message');\n\nif (!preg_match('/^[a-z]$/i',$_POST['name']) &amp;&amp;  !preg_match('/^[а-я]$/i',$_POST['name'])) back('The message');\n</code></pre>\n\n<p>and one that attempts to stuff both the preg matches into one.</p>\n\n<p>Could anyone please help me out in fixing this issue?</p>\n"},{"tags":["php","session","cookies","submit","wifi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13293597,"title":"PHP session lost if mobile devices span different WiFi AP's","body":"<p>I have a PHP site that works great....as long as there are no network disruptions.  im having problems with users, especially on iPad's and laptops, that log in, and work within the site without submitting any data for a prolonged length of time (maybe an hour or so).  They type a bunch of notes in, and when they submit they are sent to the logon screen and what they worked on for that hour is lost.  I'm getting used to dirty looks...\nMy research as shown that maybe using cookies will help the issue.  security is not a huge concern, so storing usernames and hashed password within cookies is not a big threat.  but i never worked with cookies and don't know where to really begin.  my objective is to have any user be able to log in, start typing in a text area, move throughout the building, maybe dropping their internet connection and picking it back up, and be able to submit the form after with no errors.  any ideas?  thanks in advance...</p>\n"},{"tags":["php","javascript","jquery","html"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":48,"score":-2,"question_id":13292730,"title":"javascript math and dialog","body":"<p>I tried searching for a solution, but not really seeing any results. I'm not even sure how to explain it, but I will try my best not to confuse you all.</p>\n\n<p>I found a jquery bar graph plugin that displays your results from a web form. It's a survey that rates your services. At the end of the survey, you see your ratings in a bar graph. What I am trying to do with that is to add the ratings and display a message depending on the range of the ratings. For example, i have a 1, 2 and 3 rating. That adds up to 6. So a specific message for 6 shows up with it. Anyone have any ideas? Any help would be good. Thanks for taking the time. Here is the link to the web form: <a href=\"http://theadamgrp.com/test/bar-graph/\" rel=\"nofollow\">http://theadamgrp.com/test/bar-graph/</a> You can fill it out and submit it.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\"&gt;\n&lt;script type=\"text/javascript\" src=\"https://yourreferral.infusionsoft.com/app/webTracking/getTrackingCode?trackingId=f8d6326d56c99655d02d841ae0345db9\"&gt;&lt;/script&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Mobility Rating&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_MobilityRating\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Sales Methodology&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_SalesMethodology\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Reporting&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_Reporting\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Sales Training&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_SalesTraining\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Stark II/Anti-Kickback Marketing Compliance&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_StarkII\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Referral Source Data Access&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_ReferralSource\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;ROI Analysis Ability&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_ROIAnalysisAbility\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Territory Analysis&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_Territory\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Loss of Intellectual Property&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_LossofIntellectualProperty\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td height=\"40\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"99\" style=\"color:#ab1620; font-size:18px;\"&gt;Agency Transparency&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;table class='inf-checkbox-container'&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;input value=\"1\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;1&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"2\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;2&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"3\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;3&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"4\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;4&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"5\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;5&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"6\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;6&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"7\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;7&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"8\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;8&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"9\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;9&lt;/td&gt;\n        &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td&gt;&lt;input value=\"10\" name=\"Contact0_AgencyTransparency\" class=\"check\" type=\"radio\" /&gt;&lt;/td&gt;\n        &lt;td valign='middle'&gt;10&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"2\"&gt;&lt;input value=\"Submit\" id=\"Submit\" name=\"Submit\" class=\"button np inf-button\" type=\"submit\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>jQuery</strong></p>\n\n<pre><code>$(document).ready(function() {\n\n// Create our graph from the data table and specify a container to put the graph in\ncreateGraph('#data-table', '.chart');\n\n// Here be graphs\nfunction createGraph(data, container) {\n    // Declare some common variables and container elements \n    var bars = [];\n    var figureContainer = $('&lt;div id=\"figure\"&gt;&lt;/div&gt;');\n    var graphContainer = $('&lt;div class=\"graph\"&gt;&lt;/div&gt;');\n    var barContainer = $('&lt;div class=\"bars\"&gt;&lt;/div&gt;');\n    var data = $(data);\n    var container = $(container);\n    var chartData;      \n    var chartYMax;\n    var columnGroups;\n\n    // Timer variables\n    var barTimer;\n    var graphTimer;\n\n    // Create table data object\n    var tableData = {\n        // Get numerical data from table cells\n        chartData: function() {\n            var chartData = [];\n            data.find('tbody td').each(function() {\n                chartData.push($(this).text());\n            });\n            return chartData;\n        },\n        // Get heading data from table caption\n        chartHeading: function() {\n            var chartHeading = data.find('caption').text();\n            return chartHeading;\n        },\n        // Get legend data from table body\n        chartLegend: function() {\n            var chartLegend = [];\n            // Find th elements in table body - that will tell us what items go in the main legend\n            data.find('tbody th').each(function() {\n                chartLegend.push($(this).text());\n            });\n            return chartLegend;\n        },\n        // Get highest value for y-axis scale\n        chartYMax: function() {\n            var chartData = this.chartData();\n            // Round off the value\n            var chartYMax = Math.ceil(Math.max.apply(Math, chartData) / 1) * 1;\n            return chartYMax;\n        },\n        // Get y-axis data from table cells\n        yLegend: function() {\n            var chartYMax = this.chartYMax();\n            var yLegend = [];\n            // Number of divisions on the y-axis\n            var yAxisMarkings = 5;                      \n            // Add required number of y-axis markings in order from 0 - max\n            for (var i = 0; i &lt; yAxisMarkings; i++) {\n                yLegend.unshift(((chartYMax * i) / (yAxisMarkings - 1)) / 1);\n            }\n            return yLegend;\n        },\n        // Get x-axis data from table header\n        xLegend: function() {\n            var xLegend = [];\n            // Find th elements in table header - that will tell us what items go in the x-axis legend\n            data.find('thead th').each(function() {\n                xLegend.push($(this).text());\n            });\n            return xLegend;\n        },\n        // Sort data into groups based on number of columns\n        columnGroups: function() {\n            var columnGroups = [];\n            // Get number of columns from first row of table body\n            var columns = data.find('tbody tr:eq(0) td').length;\n            for (var i = 0; i &lt; columns; i++) {\n                columnGroups[i] = [];\n                data.find('tbody tr').each(function() {\n                    columnGroups[i].push($(this).find('td').eq(i).text());\n                });\n            }\n            return columnGroups;\n        }\n    }\n\n    // Useful variables for accessing table data        \n    chartData = tableData.chartData();      \n    chartYMax = tableData.chartYMax();\n    columnGroups = tableData.columnGroups();\n\n    // Construct the graph\n\n    // Loop through column groups, adding bars as we go\n    $.each(columnGroups, function(i) {\n        // Create bar group container\n        var barGroup = $('&lt;div class=\"bar-group\"&gt;&lt;/div&gt;');\n        // Add bars inside each column\n        for (var j = 0, k = columnGroups[i].length; j &lt; k; j++) {\n            // Create bar object to store properties (label, height, code etc.) and add it to array\n            // Set the height later in displayGraph() to allow for left-to-right sequential display\n            var barObj = {};\n            barObj.label = this[j];\n            barObj.height = Math.floor(barObj.label / chartYMax * 100) + '%';\n            barObj.bar = $('&lt;div class=\"bar fig' + j + '\"&gt;&lt;span&gt;' + barObj.label + '&lt;/span&gt;&lt;/div&gt;')\n                .appendTo(barGroup);\n            bars.push(barObj);\n        }\n        // Add bar groups to graph\n        barGroup.appendTo(barContainer);            \n    });\n\n    // Add heading to graph\n    var chartHeading = tableData.chartHeading();\n    var heading = $('&lt;h4&gt;' + chartHeading + '&lt;/h4&gt;');\n    heading.appendTo(figureContainer);\n\n    // Add legend to graph\n    var chartLegend = tableData.chartLegend();\n    var legendList  = $('&lt;ul class=\"legend\"&gt;&lt;/ul&gt;');\n    $.each(chartLegend, function(i) {           \n        var listItem = $('&lt;li&gt;&lt;span class=\"icon fig' + i + '\"&gt;&lt;/span&gt;' + this + '&lt;/li&gt;')\n            .appendTo(legendList);\n    });\n    legendList.appendTo(figureContainer);\n\n    // Add x-axis to graph\n    var xLegend = tableData.xLegend();      \n    var xAxisList   = $('&lt;ul class=\"x-axis\"&gt;&lt;/ul&gt;');\n    $.each(xLegend, function(i) {           \n        var listItem = $('&lt;li&gt;&lt;span&gt;' + this + '&lt;/span&gt;&lt;/li&gt;')\n            .appendTo(xAxisList);\n    });\n    xAxisList.appendTo(graphContainer);\n\n    // Add y-axis to graph  \n    var yLegend = tableData.yLegend();\n    var yAxisList   = $('&lt;ul class=\"y-axis\"&gt;&lt;/ul&gt;');\n    $.each(yLegend, function(i) {           \n        var listItem = $('&lt;li&gt;&lt;span&gt;' + this + '&lt;/span&gt;&lt;/li&gt;')\n            .appendTo(yAxisList);\n    });\n    yAxisList.appendTo(graphContainer);     \n\n    // Add bars to graph\n    barContainer.appendTo(graphContainer);      \n\n    // Add graph to graph container     \n    graphContainer.appendTo(figureContainer);\n\n    // Add graph container to main container\n    figureContainer.appendTo(container);\n\n    // Set individual height of bars\n    function displayGraph(bars, i) {        \n        // Changed the way we loop because of issues with $.each not resetting properly\n        if (i &lt; bars.length) {\n            // Animate height using jQuery animate() function\n            $(bars[i].bar).animate({\n                height: bars[i].height\n            }, 800);\n            // Wait the specified time then run the displayGraph() function again for the next bar\n            barTimer = setTimeout(function() {\n                i++;                \n                displayGraph(bars, i);\n            }, 100);\n        }\n    }\n\n    // Reset graph settings and prepare for display\n    function resetGraph() {\n        // Stop all animations and set bar height to 0\n        $.each(bars, function(i) {\n            $(bars[i].bar).stop().css('height', 0);\n        });\n\n        // Clear timers\n        clearTimeout(barTimer);\n        clearTimeout(graphTimer);\n\n        // Restart timer        \n        graphTimer = setTimeout(function() {        \n            displayGraph(bars, 0);\n        }, 200);\n    }\n\n    // Helper functions\n\n    // Call resetGraph() when button is clicked to start graph over\n    $('#reset-graph-button').click(function() {\n        resetGraph();\n        return false;\n    });\n\n    // Finally, display graph via reset function\n    resetGraph();\n}   \n</code></pre>\n\n<p>});</p>\n"},{"tags":["php","mysql","maps","distance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13293378,"title":"Batch point-to-point zipcode distances","body":"<p>I have a zipcode database with latitudes and longitudes. I am building a loadboard and every 10 minutes we receive about 300 loads with origin and destination zipcodes.From this we need to calculate the distance between the origin and destination for each load.If our loads were not this many we would use Google maps to query each one of them. Mapquest has a batch routeMatrix that would allow us to do 25 points at a time. We tried the Haversian formular but since this is a straight line calculation its usually off by many miles.</p>\n\n<p>Is there a solution that we can implement which would not lead to excessive use of server resources?</p>\n"},{"tags":["php","wordpress","tinymce","wysiwyg"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13293348,"title":"Remove Specific Buttons from WP Editor TinyMCE","body":"<p>I am trying to figure out how to remove specific buttons from the TinyMCE editor. I have researched the arguments in the codex but for TinyMCE is just says array and not sure if I can include some paramters in my arguments of which buttons to show/hide?</p>\n\n<p>I am using the editor in a gravity form and my code is as follows so far</p>\n\n<pre><code>add_action( 'gform_field_input', 'gforms_wp_editor', 10, 5 );\n\nfunction gforms_wp_editor( $input, $field, $value, $lead_id, $form_id ) {\nif( $field[\"cssClass\"] == 'richtext' ) {\nob_start();\nwp_editor( $value, \"input_{$form_id}_{$field['id']}\",\narray(\n'media_buttons' =&gt; false,\n'quicktags' =&gt; false,\n\n'textarea_name' =&gt; \"input_{$field['id']}\"\n)   );\n$input = ob_get_clean();\n}\nreturn $input;\n}\n</code></pre>\n\n<p>I have removed the HTML tab using the <code>quicktags</code> to false, so hoping I can do something similar to strip out buttons from the editor. </p>\n\n<p>buttons shown right now with the code above are as follows</p>\n\n<p><img src=\"http://i.stack.imgur.com/R0yur.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Note:</strong> 'teeny' editor is now what I need, just in case someone suggests</p>\n\n<p>Thanks </p>\n"},{"tags":["php","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13293217,"title":"PHP Reconstruct Array","body":"<p>I need to reconstruct an array. Here is the original array:</p>\n\n<pre><code>array(8) {\n      [0] =&gt; array(1)\n      {\n            [\"L_TRANSACTIONID0\"] =&gt; string(17) \"62M97388AY676841D\"\n      }\n\n      [1] =&gt; array(1)\n      {\n            [\"L_TRANSACTIONID1\"] =&gt; string(17) \"9FF44950UY3240528\"\n      }\n\n      [2] =&gt; array(1)\n      {\n            [\"L_STATUS0\"] =&gt; string(9) \"Completed\"\n      }\n\n      [3] =&gt; array(1)\n      {\n            [\"L_STATUS1\"] =&gt; string(9) \"Completed\"\n      }\n}\n</code></pre>\n\n<p>I would like to reconstruct it to be as such:</p>\n\n<pre><code>array(2) {\n      [0] =&gt; array(2)\n      {\n            [\"L_TRANSACTIONID0\"] =&gt; string(17) \"62M97388AY676841D\"\n            [\"L_STATUS0\"] =&gt; string(9) \"Completed\"\n      }\n      [1] =&gt; array(1)\n      {\n            [\"L_TRANSACTIONID1\"] =&gt; string(17) \"9FF44950UY3240528\"\n            [\"L_STATUS1\"] =&gt; string(9) \"Completed\"\n      }\n}\n</code></pre>\n\n<p>Notice that the KEYS both match with the numeric representation... Is this at all possible?</p>\n\n<p>edit:</p>\n\n<p>here is my code I am using:</p>\n\n<pre><code>        foreach($comparison as $key =&gt; $val) {\n        $findme1 = 'L_TRANSACTID'.$i++;\n        $findme2 = 'L_STATUS'.$c++;\n        $arrDisable = array($findme1,$findme2);\n        if( in_array($key, $arrDisable ) ) {\n          unset( $comparison[ $key ][$val]);\n        }\n            if( in_array($key, $arrDisable) ) {\n        unset( $comparison[ $key ][$val]);\n        }\n      }\n</code></pre>\n"},{"tags":["php","imagemagick","imagick"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1166,"score":2,"question_id":6098824,"title":"Set imagemagick png image background color","body":"<p>I have a php script to create png thumbnail of pdf file as follows;</p>\n\n<pre><code>&lt;?php\n$file =\"test.pdf\";\n$im = new imagick(realpath($file).'[0]');\n$im-&gt;setImageFormat(\"png\");\n$im-&gt;resizeImage(200,200,1,0);\n// start buffering\nob_start();\n$thumbnail = $im-&gt;getImageBlob();\n$contents =  ob_get_contents();\nob_end_clean();    \necho \"&lt;img src='data:image/jpg;base64,\".base64_encode($thumbnail).\"' /&gt;\";    \n?&gt;\n</code></pre>\n\n<p>Which returns a thumbnail, but the background is transparent. I want to set white background color, (change the alpha layer to white). How can i do this??</p>\n\n<p>Thanks in advance...<code>:)</code></p>\n\n<p>blasteralfred</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13293579,"title":"Read More in php","body":"<p>i try to make read more option for my work and i create this code :</p>\n\n<pre><code>&lt;?php\n      $string=$polnews['articale']; \n    if (strlen($string) &gt; 500) {\n\n        // truncate string\n        $stringCut = substr($string, 0, 500);\n\n        // make sure it ends in a word so assassinate doesn't become ass...\n        $string = substr($stringCut, 0, strrpos($stringCut, ' ')).'... &lt;a href=\"view_articles.php?aid=$polnews[aid]\"&gt;Read More&lt;/a&gt;'; \n    }\n    echo $string;?&gt; \n</code></pre>\n\n<p>but the link not working.</p>\n"},{"tags":["php","html5","http","sendmail","phpmail"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13292757,"title":"How to send a copy of email to senders address in php contact form","body":"<p>I have a contact form in my website. I need users to send messages to my mail, of which it does...I also have a checkbox when checked the users will have the message to the email indicated on the email textbox. My code sends only to my email, but doesnt send a copy when the checkbox is checked.<br>\n<strong><em>Contact.html</em></strong></p>\n\n<pre><code>&lt;input type=\"checkbox\" name=\"sendcopy\" value=\"Yes\" checked/&gt;Copy this message to your mail\n</code></pre>\n\n<p><em><strong>Sendmail.php:</em></strong></p>\n\n<pre><code>$messagebody=\"Name: \".$name.\"\".PHP_EOL;\n$messagebody.=\"email: \".$email.\"\".PHP_EOL;\n$messagebody.=\"website: \".$website.\"\".PHP_EOL;\n$messagebody.=\"message: \".nl2br($message).\"\".PHP_EOL;\n\nmail($to,$subject,$messagebody,$headers)or die(\"The message failed to send\");  \n\nif(isset($_POST[\"sendcopy\"]) &amp;&amp; $_POST[\"sendcopy\"]==\"checked\"){\nmail($email,$subject,$messagebody,$headers)or die(\"The message failed to send a copy\") \n    }\n</code></pre>\n"},{"tags":["php","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13293399,"title":"IF Statement In View Not Triggering","body":"<p>So I have this code block in my controller (I know, db stuff should be in model..I'll transfer it over there once working). Searches the database for a \"subscription\" and echos in the view. That works. However, in my view, I want to add an IF statement like the second block of code below - but it's not working. Suggestions? In other words, how would you write the IF statement in the view? Pretty sure the <code>query</code> portion is incorrect...</p>\n\n<pre><code>    // displays current subscription in view\n    $userid = $this -&gt; session -&gt; userdata('user_id');\n\n    $this -&gt; db -&gt; select('subscription');\n    $this -&gt; db -&gt; where ('id', $userid);\n    $query = $this -&gt; db -&gt; get('subscriptions');\n\n    if($query -&gt; result() == TRUE) // if subscription exists for user, display:\n    {\n        foreach ($query-&gt;result() as $row)\n        {\n            $data['packagename'] = $row-&gt;subscription;\n        } \n    } \n</code></pre>\n\n<p>In view:</p>\n\n<pre><code>    &lt;?php if($query -&gt; result() == TRUE) : ?&gt;\n    &lt;? echo $packagename; ?&gt;\n    &lt;?php endif ?&gt;\n</code></pre>\n"},{"tags":["php","frameworks"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":104,"score":0,"question_id":7835259,"title":"PHP 5 Framework, which is the best for a networking site with a lof of API and jQuery","body":"<p>I know this is the type of question that I can easily find all over the web. But my question needs a much more specific answer than the ones I have found while browsing.</p>\n\n<p>I am supposed to build a Social Networking website with a LOT of features.</p>\n\n<p>Just to name some of them:</p>\n\n<p>Internal Search Engine</p>\n\n<p>Integration of a LOT of APIs (Google, Facebook, Twitter etc.. )</p>\n\n<p>Multi-Language</p>\n\n<p>Many jQuery implementations</p>\n\n<p>Easy to integrate with mobile applications</p>\n\n<p>Easy to create internal and external API</p>\n\n<p>I was taking a look to Zend and Yii, but I am not sure which one is better, or if there is another one that is going to be better for me.</p>\n\n<p>I need something that has a LOT of documentation, that is well supported, and that has at least an established name (do not provide unknown frameworks that you work on or you have worked on, please no spam here, thanks)</p>\n\n<p>Please help me :)</p>\n\n<p>Thank you a lot.</p>\n"},{"tags":["php","encoding","fwrite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":11239597,"title":"substr_replace encoding in PHP","body":"<p>I want to write to a text file. When I use substr_replace in php the encoding changes. It doesn't print Greek Characters correctly. If I don't everything is fine. Any suggestions?</p>\n\n<pre><code>&lt;?php\n$file = \"test.txt\";\n$writeFile = fopen($file, \"w+\");//read/write\n$myarray = array(\"δφδφ\",\"δφδσφδσ\",\"δφδφδ\");\n$myarray[0] = substr_replace($myarray[0],\"ε\", 0,1);\n\nforeach ($myarray as $data){      \nfwrite($writeFile, $data.\"\\n\");\n}\n?&gt;\n</code></pre>\n\n<p>OUTCOME<br/>\nε�φδφ<br/>\nδφδσφδσ<br/>\nδφδφδ<br/></p>\n\n<p>OUTCOME WITH NO substr_replace<br/> \nδφδφ<br/>\nδφδσφδσ<br/>\nδφδφδ</p>\n"},{"tags":["php","rss","simplexml"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":253,"score":4,"question_id":10648522,"title":"Simplexml & php rss feed for newbie","body":"<p>I've been following the response to one of my previous posts (<a href=\"http://stackoverflow.com/questions/10620048/display-rss-feed-item-on-intranet-via-php\">Display RSS feed item on intranet via php</a>) and trying to train myself.  </p>\n\n<p>I'm retrieving the data now but how do I get the \"full post/story\", I only seem to be able to get the title &amp; description:</p>\n\n<pre><code>&lt;?php\n$a = curl_init(\"http://newsrss.bbc.co.uk/rss/on_this_day/front_page/rss.xml\");\ncurl_setopt($a, CURLOPT_RETURNTRANSFER,1);\n$b = curl_exec($a);\n$xml = simplexml_load_string($b);\n//var_dump($xml);\nprint \"&lt;pre&gt;\";\n    print_r($xml);\n    print \"&lt;/pre&gt;\";\n?&gt;\n</code></pre>\n\n<p><strong>And this is my output:</strong></p>\n\n<pre><code>SimpleXMLElement Object\n(\n    [@attributes] =&gt; Array\n        (\n            [version] =&gt; 2.0\n        )\n\n    [channel] =&gt; SimpleXMLElement Object\n        (\n            [title] =&gt; BBC On This Day | Front Page\n            [link] =&gt; http://news.bbc.co.uk/go/rss/-/onthisday/default.stm\n            [description] =&gt; SimpleXMLElement Object\n                (\n                )\n\n            [language] =&gt; en-gb\n            [lastBuildDate] =&gt; Mon, 25 Oct 2010 00:15:09 GMT\n            [copyright] =&gt; Copyright: (C) British Broadcasting Corporation, http://news.bbc.co.uk/2/shared/bsp/hi/services/copyright/html/default.stm\n            [docs] =&gt; http://www.bbc.co.uk/syndication/\n            [ttl] =&gt; 15\n            [image] =&gt; SimpleXMLElement Object\n                (\n                    [title] =&gt; BBC On This Day\n                    [url] =&gt; http://news.bbc.co.uk/nol/shared/img/bbc_news_120x60.gif\n                    [link] =&gt; http://news.bbc.co.uk/go/rss/-/onthisday/default.stm\n                )\n\n            [item] =&gt; Array\n                (\n                    [0] =&gt; SimpleXMLElement Object\n                        (\n                            [title] =&gt; 1983: US troops invade Grenada\n                            [description] =&gt; American forces seize control of the Caribbean island of Grenada less than a week after a left-wing coup in which the prime minister, Maurice Bishop, was killed.\n                            [link] =&gt; http://news.bbc.co.uk/go/rss/-/onthisday/hi/dates/stories/october/25/newsid_3207000/3207509.stm\n                            [guid] =&gt; http://news.bbc.co.uk/onthisday/hi/dates/stories/october/25/newsid_3207000/3207509.stm\n                            [pubDate] =&gt; Fri, 24 Oct 2003 08:35:04 GMT\n                            [category] =&gt; 25\n                        )\n\n                    [1] =&gt; SimpleXMLElement Object\n                        (\n                            [title] =&gt; 1964: President Kaunda takes power in Zambia\n                            [description] =&gt; Zambia is the ninth African state to gain independence from the British crown.\n                            [link] =&gt; http://news.bbc.co.uk/go/rss/-/onthisday/hi/dates/stories/october/25/newsid_2658000/2658325.stm\n                            [guid] =&gt; http://news.bbc.co.uk/onthisday/hi/dates/stories/october/25/newsid_2658000/2658325.stm\n                            [pubDate] =&gt; Thu, 06 Feb 2003 16:40:25 GMT\n                            [category] =&gt; 25\n                        )\n\n                    [2] =&gt; SimpleXMLElement Object\n                        (\n                            [title] =&gt; 1984: Europe grants emergency aid for Ethiopia\n                            [description] =&gt; The EEC is donating £1.8 million to help combat the famine in Ethiopia.\n                            [link] =&gt; http://news.bbc.co.uk/go/rss/-/onthisday/hi/dates/stories/october/25/newsid_2478000/2478431.stm\n                            [guid] =&gt; http://news.bbc.co.uk/onthisday/hi/dates/stories/october/25/newsid_2478000/2478431.stm\n                            [pubDate] =&gt; Thu, 14 Nov 2002 17:55:28 GMT\n                            [category] =&gt; 25\n                        )\n\n                    [3] =&gt; SimpleXMLElement Object\n                        (\n                            [title] =&gt; 1976: Queen opens National Theatre in London\n                            [description] =&gt; The Queen has officially opened the National Theatre on the South Bank in London after years of delays.\n                            [link] =&gt; http://news.bbc.co.uk/go/rss/-/onthisday/hi/dates/stories/october/25/newsid_2478000/2478397.stm\n                            [guid] =&gt; http://news.bbc.co.uk/onthisday/hi/dates/stories/october/25/newsid_2478000/2478397.stm\n                            [pubDate] =&gt; Thu, 14 Nov 2002 17:45:57 GMT\n                            [category] =&gt; 25\n                        )\n\n                    [4] =&gt; SimpleXMLElement Object\n                        (\n                            [title] =&gt; 2001: Crime rates lowest for 20 years\n                            [description] =&gt; British Crime Survey reveals the chances of being a victim of crime are lowest for 20 years.\n                            [link] =&gt; http://news.bbc.co.uk/go/rss/-/onthisday/hi/dates/stories/october/25/newsid_2478000/2478379.stm\n                            [guid] =&gt; http://news.bbc.co.uk/onthisday/hi/dates/stories/october/25/newsid_2478000/2478379.stm\n                            [pubDate] =&gt; Thu, 14 Nov 2002 17:42:23 GMT\n                            [category] =&gt; 25\n                        )\n\n                )\n\n        )\n\n)\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":71,"score":-1,"question_id":13292934,"title":"How to make MySQL query more efficient using LIKE","body":"<p>I have a script where I'm trying to match the <a href=\"http://jsfiddle.net/Kxtvg/249/\" rel=\"nofollow\">droppable data</a> I retrieved in the form of an ajax $.post request that contains a firstname, lastname, description and grade and match it with that of the same data in my database. In doing so I want to find the user and fetch them out in my query. I'm having trouble making an efficient query using <code>LIKE</code> and am unsure what other component to add to make this happen correctly </p>\n\n<pre><code>if (isset($_POST['data'])){\n    $data = $_POST['data'];\n    $query = mysql_query(\"SELECT * FROM `tempusers`\n        WHERE `firstname` LIKE '%\" . $data . \"%'\n            OR `lastname` LIKE '%\" . $data . \"%'\n            OR `description` LIKE '%\" . $data . \"%'\n            OR `grade` LIKE '%\" . $data . \"%'\");\n\n    if (! $query){\n        echo'Database error: ' . mysql_error();\n    }\n\n    while ($row=mysql_fetch_assoc($query)) {\n        $description = $row['description'];\n        echo $description;\n    }\n\n    exit;\n}\n</code></pre>\n\n<p>The problem is that I am not returning any results and instead getting the errors </p>\n\n<blockquote>\n  <p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax<code>and</code>mysql_fetch_assoc() expects parameter 1 to be resource, boolean given. </p>\n</blockquote>\n\n<p>I welcome any tips that I can implement and wouuld greatly appreciate it</p>\n"},{"tags":["php","http","proxy","http-headers"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13288639,"title":"Which HTTP headers should be skipped after going though a proxy?","body":"<p>I have a PHP proxy which receives a HTTP request and changes one of the headers of the HTTP request. Once the HTTP request leaves the proxy, most of the headers should be propagated from the original request (the one received by the proxy) together with the body of the request. </p>\n\n<p>This is how I do the propagation in my code: </p>\n\n<pre><code>foreach (getallheaders() as $name =&gt; $value) {\n        if (($name != \"Server\") || ($name != \"Connection\") ||\n                ($name != \"Host\") || ($name != \"Cache-Control\") ||\n                ($header != \"Content-Length\")) {\n            array_push($headers, \"$name: $value\");\n        }\n    }\n//this is where I set the headers of the new request\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n</code></pre>\n\n<p><strong>My question:</strong> Have I covered all the headers that are not supposed to be propagated in the new request? If not, which headers should I not propagate?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["php","javascript","html","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13292549,"title":"html radio check box with all same value","body":"<p>I have something like this:</p>\n\n<pre><code>form.innerHTML='&lt;form name=\"reg\" &gt;\n    Register:&lt;br/&gt;User Name: &lt;input name=\"un\"&gt;&lt;br/&gt;\n    Password: &lt;input name=\"pw\" type=\"password\"&gt;&lt;br/&gt;\n    E-mail: &lt;input type=\"email\" name=\"email\" &gt;&lt;br/&gt; \n    Sex:&lt;br/&gt;&lt;input type=\"radio\" id=\"sxf\" name=\"sex\" value=\"f\"&gt; &lt;label for =  \"sxf\"&gt;Female&lt;/label&gt;&lt;br/&gt;\n             &lt;input type=\"radio\" id=\"sxm\" name=\"sex\" value=\"m\" checked = \"checked\" &gt;\n             &lt;label for = \"sxm\"&gt;Male&lt;/label&gt;&lt;br/&gt;\n             &lt;input type=\"button\" value=\"Register\" onClick=\"accnew()\"&gt; \n&lt;/form&gt;';\n</code></pre>\n\n<p>However, when I sent the form to MYSQL, all returned \"f\", but there's different value, isn't it? when I alert it with js, it also gave me all \"f\"s</p>\n"},{"tags":["php","module","config","zend-framework2","zfcuser"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13186809,"title":"ZF2: Custom user mapper for ZfcUser module","body":"<p>I`ve added module <a href=\"https://github.com/ZF-Commons/ZfcUser\" rel=\"nofollow\">ZfcUser</a> on my Zend Framework 2 application.\nBut I have to use existing database table, \nwhich has slightly different column names than the default table structure for ZfcUser.</p>\n\n<p>In <a href=\"https://github.com/ZF-Commons/ZfcUser/wiki/ZfcUser-Concepts-and-Goals\" rel=\"nofollow\">ZfcUser wiki page</a> it says that it is possible to use custom mapper if my model doesn`t conform to the provided interface.\nAnd since my database table is different than default, my user entity class is also different than\nstandard ZfcUser\\Entity\\User. But I can tell ZfcUser to work with my own class easily \nby overriding setting in file <em>config/autoload/zfcuser.global.php</em>:</p>\n\n<pre><code>'user_entity_class' =&gt; 'MyApp\\Entity\\MyUser',\n</code></pre>\n\n<p>But I`ve not found an easy way to tell ZfcUser to use my mapper class so far.</p>\n\n<p>I have only found that the mapper is created by ZfcUser\\Module::getServiceConfig()\ninside which, I can see the mapper is returned from its factory function:</p>\n\n<pre><code>// ...\npublic function getServiceConfig()\n{\n    return array(\n    // ...\n        'factories' =&gt; array(\n            // ...\n            'zfcuser_user_mapper' =&gt; function ($sm) {\n                $options = $sm-&gt;get('zfcuser_module_options');\n                $mapper = new Mapper\\User();\n                $mapper-&gt;setDbAdapter($sm-&gt;get('zfcuser_zend_db_adapter'));\n                $entityClass = $options-&gt;getUserEntityClass();\n                $mapper-&gt;setEntityPrototype(new $entityClass);\n                $mapper-&gt;setHydrator(new Mapper\\UserHydrator());\n                return $mapper;\n            },\n            // ...\n</code></pre>\n\n<p>Is there a way to make ZfcUser to use my custom user mapper class?</p>\n"},{"tags":["php","jquery","mysql","json"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13293227,"title":"Json with PHP mysql and Jquery","body":"<p>I have a strange problem..</p>\n\n<p>When i try to access my json code with the corresponding number [0], [1] etc.. I just get the first character of the object.</p>\n\n<p>First of my code:</p>\n\n<p><strong>test2.php</strong></p>\n\n<pre><code>if(isset($_POST['getCustomersArray'])){\n$runQuery = mysql_query($Query) or\n        die(\"SQL: $Query)&lt;br /&gt;\".mysql_error()); \n$numrows = mysql_num_rows($runQuery); \n$array = array(array());\n\nfor($i = 0;$i &lt;= 2; $i++){\n    $row = mysql_fetch_array($runQuery);\n    $array[$i]['namn'] = $row['fornamn'];\n\n}\n    print json_encode($array);\n}\n</code></pre>\n\n<p><strong>scriptfile.js</strong></p>\n\n<pre><code>$.ajax({\n    type:\"POST\",\n    url: \"test2.php\",\n    data: \"getCustomersArray=true\",\n    datatype: \"JSON\",\n    cache: false,\n    success: function(json) {\n            console.log(json[0]);\n     }\n});\n</code></pre>\n\n<p>The result (from console.log(json[0])):</p>\n\n<pre><code>[\n</code></pre>\n\n<p>The result from just console.log(json):</p>\n\n<pre><code>[{\"namn\":\"the first name\"},{\"namn\":\"The secound name\"},{\"namn\":\"the third name\"}]\n</code></pre>\n\n<p>Im not sure why the squarebrackets are there but maybe they should be?</p>\n\n<p>Ive been fuzzing with this problem for a while now and im sure its something stupid. Please help.</p>\n"},{"tags":["php","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13288558,"title":"Yii Pagination CLinkPager","body":"<p>When I call CLinkPager, it automatically create a paginator like:</p>\n\n<pre><code>&lt;&lt; First | &lt; Previus | 1 | ... | 5 | Next &gt; | Last &gt;&gt;\n</code></pre>\n\n<p>How can I disable to not show <code>First</code> and <code>Last</code> in pagination?</p>\n\n<p>CLinkPager Code:</p>\n\n<pre><code>&lt;?php $this-&gt;widget('CLinkPager', array('pages' =&gt; $pages)); ?&gt;\n</code></pre>\n"},{"tags":["php","php-5.3","twig","templating","templating-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13293295,"title":"Twig template engine and truncating text","body":"<p>I've been learning how to use Twig, as per <a href=\"http://devzone.zend.com/1886/creating-web-page-templates-with-php-and-twig-part-1/\" rel=\"nofollow\">this site</a>.\nThis is my code, a variation on the tutorial's:</p>\n\n<p>index.php:</p>\n\n<pre><code>&lt;?php\n// include and register Twig auto-loader\ninclude 'Twig/Autoloader.php';\nTwig_Autoloader::register();\n\n// attempt a connection\ntry {\n  $dbh = new PDO('mysql:dbname=106fmemi;host=localhost', 'test', 'testing');\n} catch (PDOException $e) {\n  echo \"Error: Could not connect. \" . $e-&gt;getMessage();\n}\n\n// set error mode\n$dbh-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n// attempt some queries\ntry {\n  // execute SELECT query\n  // store each row as an object\n  $sql = \"SELECT * FROM schedule GROUP BY airtime\";\n  $sth = $dbh-&gt;query($sql);\n  while ($row = $sth-&gt;fetchObject()) {\n    $data[] = $row;\n  }\n\n  // close connection, clean up\n  unset($dbh); \n\n  // define template directory location\n  $loader = new Twig_Loader_Filesystem('templates');\n\n  // initialize Twig environment\n  $twig = new Twig_Environment($loader);\n  $escaper = new Twig_Extension_Escaper(false);\n$twig-&gt;addExtension($escaper);\n  // load template\n  $template = $twig-&gt;loadTemplate('countries.tmpl');\n\n\n  // set template variables\n  // render template\n  echo $template-&gt;render(array (\n    'data' =&gt; $data\n  ));\n\n} catch (Exception $e) {\n  die ('ERROR: ' . $e-&gt;getMessage());\n}\n?&gt;\n</code></pre>\n\n<p>and the template page:</p>\n\n<pre><code> {% for d in data %}\n      &lt;tr&gt;\n        &lt;td&gt;{{ d.articleid }}&lt;/td&gt;\n        &lt;td&gt;{{ d.articlename }}&lt;/td&gt;\n        &lt;td&gt;{{ d.info }}&lt;/td&gt;\n      &lt;/tr&gt; \n      {% endfor %}\n</code></pre>\n\n<p>Auto-escaping is enabled through:</p>\n\n<pre><code>     $twig = new Twig_Environment($loader);\n  $escaper = new Twig_Extension_Escaper(false);\n$twig-&gt;addExtension($escaper);\n</code></pre>\n\n<p>However, I would like to truncate the text and have tried to install the Text extension by adding it to the extensions directory but I'm not sure how to get it working so I could do:</p>\n\n<pre><code>{{d.info|truncate(40)}}\n</code></pre>\n\n<p>etc.</p>\n\n<p>I did look on Google, but what I found was pertinent to Symfony, and I'm using Twig, simply to get a feel for it as a templating engine.</p>\n\n<p>What should I do to enable truncating of text in Twig?</p>\n"},{"tags":["php","cakephp","symfony1","mvc-framework"],"answer_count":9,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1072,"score":4,"question_id":1007629,"title":"PHP MVC Framework for the enterprise","body":"<p>I'm about to begin building a huge clinical healthcare application with PHP, and I'm looking for some advice on a framework. I need to be able to come up with a quick prototype, so it's important that the framework takes care of many mundane tasks; therefore, I've narrowed it down to CakePHP or Symfony.</p>\n\n<p>I'm hoping to get a few developers opinions that have worked with both frameworks.</p>\n\n<p>Thanks,\nPete</p>\n"},{"tags":["php","session"],"answer_count":3,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13292619,"title":"Session Handling From Scratch","body":"<p>I want to create a session handler from scratch. I don't want to use <code>session_set_save_handler</code>. I can't find anything anywhere though and I just don't know where to start. Could somebody point me in the right direction or explain the best way to do this?</p>\n\n<p>Thanks! :)</p>\n"},{"tags":["php","forms","validation","symfony2","doctrine"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13165422,"title":"CollectionType validation in Symfony2","body":"<p>I spent a lot of time to find a solution to this problem but I don't find the correct solution</p>\n\n<p>I have a User entity that can contain multiple entity Address. The validation of the User entity should function like this:</p>\n\n<ul>\n<li>User must have at least two entities Address</li>\n<li>User must have a maximum of three entities Address</li>\n<li>Address has its own validation constraints</li>\n</ul>\n\n<p>Both entities have their formType and Address is a CollectionType in User formType.</p>\n\n<p>Currently, I create in my User controller, 3 Address that appear correctly in the view. I use 'Assert\\Count' with 'min=2' to validate the form in the entities. In my controller, I filter the query to remove the Address which have not been completed, then I validate the form. This approach is not correct. I am unable to display the 3 addresses if the form is not valid, I have only the addresses that have been completed. In addition, errors are not available in the fields when I made ​​the view with Twig</p>\n\n<p>Ideally logic would be as follows: the Address are validated and only the valid Address are taken into account by User. User checks its validation constraints are respected then the User entity is stored in the database. Simple, right ? (... well that's what I thought)</p>\n\n<p>Do you have any ideas or blog posts that cover my problem?</p>\n\n<p>EDIT (to answer question in comment)</p>\n\n<p>In the User entity</p>\n\n<pre><code>&lt;?php\n//...\n* @Assert\\Count(\n*      min=2,\n*      minMessage=\"user_form_not_enough_addresses\",\n*      max=3,\n*      maxMessage=\"user_form_too_much_addresses\"\n* )\n*/\nprivate $addresses;\n//...\n</code></pre>\n\n<p>In the User controller (when I filter the request)</p>\n\n<pre><code>//...\n\n// Removing not completed addresses from request\n$this-&gt;_filterRequest($request);\n\n$userType = new UserType();\n$user = new User();\n\n$userForm = $request-&gt;get($userType-&gt;getName());\nforeach ($userForm['addresses'] as $address) {\n    $user-&gt;getAddresses()-&gt;add(new Address());\n}\n\n$form = $this-&gt;createForm($userType, $user);\n$form-&gt;bind($request);\n</code></pre>\n"},{"tags":["php","javascript","forms","php-form-processing","form-fields"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13292425,"title":"Show input box o if value from drop down menu is selected","body":"<p>I'm working on a simple php contact form and struggling to get the \"other\" selection on the dropdown to show a text field option when it's selected. The form is included onto the page with <code>&lt;?php require_once('includes/contact_form.php'); ?&gt;</code> and the footer is also an include (the footer is where I have added the JS).</p>\n\n<p>But it just wont work...</p>\n\n<h2>Here is the Form:</h2>\n\n<pre><code>&lt;label&gt;How did you hear about us?&lt;/label&gt;\n&lt;select name=\"how\" class=\"selectfield\" id=\"how\"&gt;\n  &lt;option value=\"\"&gt;Please Select...&lt;/option&gt;\n  &lt;option value=\"Advertisement\"&gt;Advertisement&lt;/option&gt;\n  &lt;option value=\"Care at Home Today\"&gt;Care at Home Today&lt;/option&gt;\n  &lt;option value=\"Email-Newsletter\"&gt;Email/Newsletter&lt;/option&gt;\n  &lt;option value=\"Facebook\"&gt;Facebook&lt;/option&gt;\n  &lt;option value=\"Family-Friend\"&gt;Family or Friend&lt;/option&gt;\n  &lt;option value=\"Magazine\"&gt;Magazine Article&lt;/option&gt;\n  &lt;option value=\"Twitter\"&gt;Twitter&lt;/option&gt;\n  &lt;option value=\"Website-Search Engine\"&gt;Website/Search Engine&lt;/option&gt;\n  &lt;option value=\"Other\"&gt;Other&lt;/option&gt;\n&lt;/select&gt;\n&lt;input type='text' id=\"other\" class=\"hidden\" /&gt;\n\n&lt;input name=\"contactus\" type=\"submit\" class=\"submit\" id=\"contactus\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<h2>Here is the JS</h2>\n\n<pre><code>$('#how').change(function(){\n    var selected_item = $(this).val()\n    if(selected_item == \"other\"){\n        $('#other').val(\"\").removeClass('hidden');\n    }else{\n        $('#other').val(selected_item).addClass('hidden');\n    }\n});\n</code></pre>\n"},{"tags":["php","bitwise"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":30,"score":1,"question_id":13292843,"title":"Limitations to Bitwise Systems","body":"<p>I have just taken some online tutorials on how Bits work. Though I have a couple of questions. I have searched the internet but didn't find what i was looking for. I may have been searching for some incorrect key words.</p>\n\n<p>Lets say i wish to build an option or permission system using bitwise (i think that is the correct terminology). I have the following hestitations:</p>\n\n<p>1) Is it possible to end up with collisions when using &amp; etc?</p>\n\n<p>2) If there is collision opportunities what sort of steps should i take when im designing my permissions? Does the permission numbers change if i have a considerably large set of permissions e.g. over 500?</p>\n\n<p>Hopefully i got my question across correctly, if not please let me know and i will try to rephrase.</p>\n\n<p>EDIT::\nSimilar Question here which i believe has been answered </p>\n\n<p><a href=\"http://stackoverflow.com/questions/2925245/user-role-permissions-for-different-modules-using-bitwise-operators?rq=1\">User role permissions for different modules using bitwise operators</a></p>\n"},{"tags":["php","session","session-state"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13293029,"title":"Correct method to deploy new application classes with active sessions","body":"<p><strong>Scenario</strong></p>\n\n<p>I have a PHP application, using serialized objects to persist the state of the application. I need to deploy changes to some of the classes. These include new properties with nested objects. Templates now use this new attribute of the class and this obviously fails for active sessions as the object doesn't have the new property.</p>\n\n<p><strong>Scenario Question</strong></p>\n\n<p>How can I add a postal address to this person class, deploy the code and refresh current sessions state to prevent fatal errors when using the new property and it's methods? </p>\n\n<p>eg:</p>\n\n<pre><code>&lt;?php\n\nclass Person \n{\n\n    const MALE         = 'male';\n    const FEMALE     = 'female';\n\n    private\n        $forename,\n        $surname,\n        $gender;\n\n    public function __construct( $forename, $surname, $gender )\n    {\n        // Constructor stuff\n    }\n\n    // Other methods etc etc\n}\n\n\nclass PostalAddress\n{\n    private\n        $firstline,\n        $secondline,\n        $city,\n        $county,\n        $postcode;\n\n    public function __construct()\n    {\n        // Do constructor things etc.\n    }\n\n    // Other methods etc etc\n\n}\n</code></pre>\n"},{"tags":["php","mysqli"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1675,"score":1,"question_id":5275214,"title":"PHP mysqli query to check if a row exist","body":"<p>I have a mysql table, I want to check if a row exists where columnA=$a and $columnB=$b. I dont need to select anything from there. What should be efficient query for that? Currently Im doing like,</p>\n\n<pre><code>if ($stmt = mysqli-&gt;prepare(\"SELECT * FROM TABLE WHERE columnA=? &amp;&amp; columnB= ? LIMIT 1\")) {\n    $stmt-&gt;bind_param(\"ss\", $a, $b);\n    $stmt-&gt;execute();\n    $stmt-&gt;store_result();\n    $count=$stmt-&gt;num_rows;\n    $stmt-&gt;close();\n    }\n    return ($count &gt; 0 ? true : false);\n</code></pre>\n"},{"tags":["php","forms","post","undefined"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13292576,"title":"PHP $_POST error","body":"<p>I'm getting the following error with $_POST['str']:</p>\n\n<blockquote>\n  <p>Notice: Undefined index: str in C:\\Program Files\\EasyPHP-5.3.8.0\\www\\strrev.php on line 12</p>\n</blockquote>\n\n<p>I spent too much time to find an answer for this but no luck! \nPlease take a look at the code and let me know what's wrong with it?</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;?php \n    if (trim($_POST['str'])) {\n      $str = $_POST['str'];\n  $len = strlen($str);\n      for($i=($len-1); $i&gt;=0;$i--) {\n      echo $str[$i];\n      } \n} else {\n  ?&gt;\n&lt;form method=\"post\" action=\"\"&gt;\n    &lt;input type=\"text\" name=\"str\" /&gt;\n    &lt;input type=\"button\" name=\"submit\" value=\"Reverse\" /&gt;\n    &lt;/form&gt;\n    &lt;?php\n  }\n  ?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>It shows the text field and Reverse button beside the error.\nAnd also when I push the button nothing will happens.</p>\n"},{"tags":["php","jquery","ajax","firefox","google-chrome"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13292087,"title":"JQuery Ajax - reload Image onClick works with chrome but not with firefox nor with IE","body":"<p>Ok this is very spooky....\nI'm trying to reload a CAPTCHA Image which is generated on the server side and I don't want to reload the whole page for that, hence I have to use AJAX.\nSo what I do is to first trigger a php file on server side (with AJAX), which updates all needed stuff so I can have a new CAPTCHA Image.\nThen when this is done I simply update the image src=\"\", to load the new image from that php file.\nHere the code:</p>\n\n<hr>\n\n<ul>\n<li><strong>File 1</strong></li>\n</ul>\n\n<p>HTML:</p>\n\n<pre><code>&lt;tr id=\"rowWithCaptcha\"&gt;\n                    &lt;td&gt;&lt;p&gt;&lt;img id=\"captchaImg\" src=\"./?&lt;?php echo session_name() ?&gt;=&lt;?php echo session_id() ?&gt;\"/&gt;&lt;/p&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>JQuery-Skript:</p>\n\n<pre><code>$(\"#reloadImg\").click(function(){\n           $.ajax({\n              url: 'getNewKCAPTCHA.php',\n              cache: false,\n              type: 'POST',  \n              async: false,\n              success: function(){\n                 $(\"#captchaImg\").attr(\"src\",\"http://localhost/Captcha2/TestPages/TestPage3Q/getNewKCAPTCHA.php?\");\n              }\n           });\n        });\n</code></pre>\n\n<hr>\n\n<ul>\n<li><strong>File two:</strong></li>\n</ul>\n\n<p>PHP:\nkcaptcha.php is where all the captcha magic happends :)\nso if you just open this php file in your browser, you'll get the captcha image itself.\nAnd if you reload the page the image changes every time.....</p>\n\n<pre><code>    &lt;?php include('kcaptcha.php'); session_start(); $captcha = new KCAPTCHA(); $_SESSION['captcha_keystring'] = $captcha-getKeyString(); echo TRUE; ?&gt;\n</code></pre>\n\n<hr>\n\n<p>So the weird thing now is that this whole thing (AJAX call and update of picture) is working just fine with the new chrome browser, but when I try it with FFOX or IE it works only one time and any further click doesnt change anything.....I think it has something to do with the JQuery part, but I just cant get it to work :///</p>\n\n<p>Every help is appreciated!!!\nThanx in advance!</p>\n"},{"tags":["php","mysql","query"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13282765,"title":"Displaying results from multiple tables SQL/PHP","body":"<p>I currently have a database with 12 tables. I am doing a php query to pull the information from the database but I am not getting anything displayed. The query alone bridges all the tables starting with table <code>schedule</code> that have a foreign key related. Should I need to start the query from the table <code>class</code> and bridge with other tables?</p>\n\n<p><a href=\"http://webprolearner.ueuo.com/class_des/table_structure.php\" rel=\"nofollow\">TABLE DESIGN- PICTURE</a></p>\n\n<p>If you like to duplicate my design- <a href=\"http://webprolearner.ueuo.com/class_des/query_create.php\" rel=\"nofollow\">QUERY</a></p>\n\n<pre><code>$query = (\"SELECT  class_name, class_caption, class_credit_hours, class_description\n                FROM schedule \n                INNER JOIN section \n                ON class.id = section.class_id\n                INNER JOIN faculty\n                ON faculty.id = section.faculty_id\n                INNER JOIN faculty\n                ON faculty.id = office_hours.faculty_id\n                INNER JOIN faculty_titles\n                ON faculty_titles.faculty_id = faculty.id\n                INNER JOIN faculty_education\n                ON faculty_education.faculty_id = faculty.id \n                INNER JOIN section\n                ON section.faculty_id = faculty.id \n                INNER JOIN class\n                ON class.id = section.class_id\n                INNER JOIN major_class_br\n                ON major_class_br.class_id = class.id\n                INNER JOIN  major_minor \n                ON major_class_br.major_minor_id = major_minor.id                \n                 \");\n      //execute query\n      $result = mysql_query($query);\n\n     if ($result){\n\n    $totalhours = 0;\n\n    while ($row = mysql_fetch_assoc( $result ))\n    {  \n        print \"&lt;b&gt;\" . $row['class_name'] . \"&lt;/b&gt;&lt;br&gt;\";\n        print $row['class_caption'] . \"&lt;br&gt;\";\n        print $row['class_description'] . \"&lt;br&gt;\";\n        print $row ['class_credit_hours'] . \"hrs. &lt;br&gt;\";\n        print \"------------------------------&lt;br /&gt;\";\n        $totalhours += $row['class_credit_hours']; \n    }   \n    }\n</code></pre>\n\n<p><a href=\"http://sqlfiddle.com/#!2/28c29/2\" rel=\"nofollow\">SQL fiddle query</a></p>\n"},{"tags":["php","javascript","jquery","table","jquery-ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":790,"score":4,"question_id":6387854,"title":"Populate table contents from PHP array using AJAX","body":"<p>I have a table as below;</p>\n\n<pre><code>&lt;table&gt;\n&lt;tr&gt;\n&lt;td id=\"prev\"&gt;prev&lt;/td&gt;\n&lt;td class=\"content\"&gt;&lt;/td&gt;\n&lt;td class=\"content\"&gt;&lt;/td&gt;\n&lt;td class=\"content\"&gt;&lt;/td&gt;\n&lt;td class=\"content\"&gt;&lt;/td&gt;\n&lt;td class=\"content\"&gt;&lt;/td&gt;\n&lt;td id=\"next\"&gt;next&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>and a php file, <code>ajax.php</code> for AJAX calls as;</p>\n\n<pre><code>&lt;?php\n$array = array(1,2,3,4,5,6,7,8,9,10);\n$page = $_POST[\"page\"];\n$quantity = 5;\n$offset = ($page-1)*$quantity;\n$selectedFiles = array_slice($array, $offset, $quantity);\necho $selectedFiles;\n?&gt;\n</code></pre>\n\n<p>The php function is suppose to return an array with a limited number of elements with respect to <code>$_POST[\"page\"]</code> like in pagination. The script will return first 5 elements for <code>$page = 1</code>, second 5 elements for <code>$page = 2</code>, etc..etc.. When page loads, the <code>&lt;td&gt;</code>s having id <code>content</code> may display 1,2,3,4 and 5 respectively. When user click <code>next</code>, it may display next results and may return to previous result if user click <code>prev</code>. How can I do this using Javascript with the help of jQuery??</p>\n\n<p>It will be more helpful if some effect is given when user clicks and data changes, like sliding (transition), so that it will look like sliding some bar..</p>\n\n<p>Thanks in advance..</p>\n"},{"tags":["php","javascript","html","forms","tags"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13289486,"title":"Using custom tags for dispplay image or video in php","body":"<p>I added button to my form like this to my simple content management system. I write articles etc. So I want to add pictures and videos also. And I want to add them using by custom tags </p>\n\n<pre><code>    function formatText (el,tagstart,tagend) { \n\n    if (el.setSelectionRange) {\n    el.value = el.value.substring(0,el.selectionStart) + tagstart + el.value.substring(el.selectionStart,el.selectionEnd) + tagend + el.value.substring(el.selectionEnd,el.value.length)\n    }\n    else {\n    var selectedText = document.selection.createRange().text;\n\n    if (selectedText != \"\") { \n        var newText = tagstart + selectedText + tagend; \n        document.selection.createRange().text = newText; \n    } \n\n    }\n\n\n\n} \n\n\n&lt;form name=\"my_form\"&gt; \n&lt;textarea name=\"my_textarea\" id=\"mytext\"&gt;&lt;/textarea&gt;&lt;br /&gt; \n&lt;input type=\"button\" value=\"IMAGE\" onclick=\"formatText (document.getElementById('mytext'),'[IMAGE]','[/IMAGE]');\" /&gt; \n</code></pre>\n\n<p> </p>\n\n<p>This is add [IMAGE] [/IMAGE] tags into my text area, and I want to show image links between this tags after submitting form. Same way, I want to add [VIDEO] [/VIDEO] tags and if I write youtube links between these tags, then show video when showing page. </p>\n\n<p>How can I do that?</p>\n"},{"tags":["php","class","symfony2","templating","silex"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13292630,"title":"How to use a custom class with silex ServiceProvider","body":"<p>I feel like I have searched the entire internet through and through, but cannot seem to figure this one out. I'm using Silex (the latest version) and cannot seem to figure out how to use Silex's ServiceProvider system to return an instance of a class for use.</p>\n\n<p>I do know how to create a basic service provider.</p>\n\n<p>What I do not know how to do is how to have this service provider use a custom class. I've tried everything I can think of or find on the web. Part of the problem is that Silex's documentation on this is not very extensive, and most of the questions that have been ask about this type of issue were asked/answered before a pretty large change to how it was done (or so it seems) so the answers are not current.</p>\n\n<p>So, put briefly:\nI want to use Silex's $app['myclass'] type system to access my class, so that I can do things like $app['myclass']->myMethod().</p>\n\n<p>Where I'm hung up is this, while I can create a service provider, I can't figure out how to get the service provider to recognize the class. I've tried the whole namespace thing with the composer auto-load pso-0 set up, and have tried use MyClass/MyClass type things.</p>\n\n<p>Haha, basically, because there is so little documentation, there could be any part of it that I am doing wrong.</p>\n\n<p><strong>Would someone write a current step-by-step process for hooking up a custom library/class to the $app variable? I think this would help not only me, but also others.</strong> Thanks!</p>\n"},{"tags":["php","curl","twitter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13292912,"title":"posting images using library returns nothing","body":"<p>I am using matt harris' twitter library <a href=\"https://github.com/themattharris/tmhOAuth\" rel=\"nofollow\">https://github.com/themattharris/tmhOAuth</a> and following the image upload example.</p>\n\n<p>I get a zero returned when trying to post an image with no $tmhOAuth->response['response'] being returned.</p>\n\n<p><strong>Steps i have tried</strong></p>\n\n<ol>\n<li>Running the example as it is- fails</li>\n<li>Running verify ssl- works fine</li>\n<li>Running the status update with out the image- it posts correctly as expected</li>\n<li>swapping the url from 1 to 1.1- nothing changes, library still returns zero</li>\n</ol>\n\n<p>It runs quite quickly implying its not even trying to post an image.</p>\n\n<p>Any ideas on why this isnt working or anything i need to configure on the server</p>\n\n<p>Below is the code i copied from the example to try with. </p>\n\n<pre><code>&lt;?php\n// testing hmac works- correctly\necho hash_hmac('ripemd160', 'The quick brown fox jumped over the lazy dog.', 'secret');\n\n\n$tmhOAuth = array( 'consumer_key' =&gt; 'removed',\n                   'consumer_secret' =&gt; 'removed',\n                   'user_token' =&gt; 'removed', \n                   'user_secret' =&gt; 'removed');\n\n\n// array(\n//   'consumer_key'    =&gt; 'YOUR_CONSUMER_KEY',\n//   'consumer_secret' =&gt; 'YOUR_CONSUMER_SECRET',\n//   'user_token'      =&gt; 'A_USER_TOKEN',\n//   'user_secret'     =&gt; 'A_USER_SECRET',\n// )\n\nrequire 'tmhOAuth.php';\nrequire 'tmhUtilities.php';\n$tmhOAuth = new tmhOAuth($tmhOAuth);\n\n// we're using a hardcoded image path here. You can easily replace this with\n// an uploaded image - see images.php in the examples folder for how to do this\n// 'image = \"@{$_FILES['image']['tmp_name']};type={$_FILES['image']['type']};filename={$_FILES['image']['name']}\",\n\n// this is the jpeg file to upload. It should be in the same directory as this file.\n$image = 'image.png';\n\n$code = $tmhOAuth-&gt;request(\n  'POST',\n  'https://upload.twitter.com/1.1/statuses/update_with_media.json',\n  array(\n    'media[]'  =&gt; \"@{$image};type=image/jpeg;filename={$image}\",\n    'status'   =&gt; 'Picture time',\n  ),\n  true, // use auth\n  true  // multipart\n);\n\nif ($code == 200) {\n  tmhUtilities::pr(json_decode($tmhOAuth-&gt;response['response']));\n} else {\n  tmhUtilities::pr($tmhOAuth-&gt;response['response']);\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","url-rewriting","preg-replace","seo-friendly"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":22,"score":0,"question_id":13292568,"title":"How can I find everything until something else in PHP and return that as a string?","body":"<p>I want to return these unique values from my URLs</p>\n\n<pre><code>394_black\n500_mono2\n</code></pre>\n\n<p>The URLs:</p>\n\n<pre><code>/shop/swarovski/394_black_the-reagan-swarovski-maxi-dress\n/shop/celeb/500_mono2_the-reagan-swarovski-maxi-dress\n</code></pre>\n\n<p>Can I do this in PHP?</p>\n\n<p>Pseudo Code</p>\n\n<pre><code>$url    =       get url\n$firstvar = after 3rd / and after second _ save text (500_mono2) from $url\n\n$secondvar = using $firstvar return only first 3 numbers\n//substr($firstvar, 0, 3);  (I think this will be it)\n</code></pre>\n\n<h1>Updated my Question above, easier to understand</h1>\n"},{"tags":["php","mysql","loops","pdo","query-optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13291851,"title":"PHP looping through records very slow","body":"<p>I'm using PDO. So I have a statement that prepares a query to select a bunch of records. Example:</p>\n\n<pre><code>   //select duplicates\n   $stmt = $this-&gt;db-&gt;prepare('SELECT Name COUNT( * ) AS CNT\n            FROM  `Test`\n            GROUP BY Name\n            HAVING CNT &gt; 1');\n\n   $stmt2 = $this-&gt;db-&gt;prepare('SELECT * FROM Test2 WHERE TName = ?');\n</code></pre>\n\n<p>Note that I do need all data selected, not certain columns. The table contains 5k records, sometimes more. I need to select all 5k records and for each of them I need to execute another query to select something else.</p>\n\n<pre><code>   $arr = array();\n   while ($row = $stmt-&gt;fetch(DB::FETCH_ASSOC)) {\n       $stmt2-&gt;execute($row['Name']);\n       $arr[] = $stmt2-&gt;fetchAll(DB::FETCH_ASSOC);\n   }\n</code></pre>\n\n<p>I know I can use joins but for my case joins will not work, because I need to loop through the data and execute stmt2 for each stmt1 row.</p>\n\n<p>When I run this it takes up to 10-15 minutes which I can't allow, I need it to be faster. Can anyone tell me what the problem is? 5k records does not seem that much to loop through.</p>\n\n<pre><code>      STMT1 returns up to 5.5k records\n</code></pre>\n\n<p>I need data for each duplicate returned:</p>\n"},{"tags":["php","timezone","bug","timezoneoffset"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":55,"score":3,"question_id":13203759,"title":"Wrong Olson Timezone Offsets?","body":"<p>Today I noticed that my script to convert and display Olson timezone IDs into Cities and GMT offsets was producing some very weird results: Argentina zones caught my attention because they were displaying a standard (non-DST) time offset of ±0000 in reference to GMT/UTC.</p>\n\n<p>I examined my code and I found a small bug in my logic, however it wasn't related to the discrepancy, so I updated <code>timezonedb</code> via <code>pecl</code> to version <code>2012.8</code> but it's still returning the wrong offset...</p>\n\n<p>Here is some code that returns the last 3 changes to the <code>America/Argentina/San_Luis</code> timezone:</p>\n\n<pre><code>$timezone = new DateTimeZone('America/Argentina/San_Luis');\n$transitions = $timezone-&gt;getTransitions();\n\necho '&lt;pre&gt;';\nprint_r(array_slice($transitions, -3, null, true));\necho '&lt;/pre&gt;';\n</code></pre>\n\n<p>And this is the output:</p>\n\n<pre><code>Array\n(\n    [59] =&gt; Array\n        (\n            [ts] =&gt; 1223784000\n            [time] =&gt; 2008-10-12T04:00:00+0000\n            [offset] =&gt; -10800\n            [isdst] =&gt; 1\n            [abbr] =&gt; WARST\n        )\n\n    [60] =&gt; Array\n        (\n            [ts] =&gt; 1236481200\n            [time] =&gt; 2009-03-08T03:00:00+0000\n            [offset] =&gt; -14400\n            [isdst] =&gt; \n            [abbr] =&gt; WART\n        )\n\n    [61] =&gt; Array\n        (\n            [ts] =&gt; 1255233600\n            [time] =&gt; 2009-10-11T04:00:00+0000\n            [offset] =&gt; -10800\n            [isdst] =&gt; 1\n            [abbr] =&gt; WARST\n        )\n)\n</code></pre>\n\n<p>As you can see, the indexes <code>59</code> and <code>61</code> are DST offsets while the index <code>60</code> is a standard time offset.</p>\n\n<p>However, if you check <a href=\"http://www.timeanddate.com/worldclock/city.html?n=613\" rel=\"nofollow\">Time&amp;Date</a> the standard offset should be <code>-10800</code> (3 hours) and not <code>-14400</code>:</p>\n\n<pre><code>Standard time zone: UTC/GMT -3 hours\nNo daylight saving time in 2012\nTime zone abbreviation: ART - Argentina Time\n</code></pre>\n\n<p>In fact, even the <code>abbr</code> is wrong (should be <code>ART</code> since on <a href=\"http://www.timeanddate.com/worldclock/timezone.html?n=613&amp;syear=2010\" rel=\"nofollow\">2009-10-10</a> DST was discontinued).</p>\n\n<p>What's going wrong here? I'm pretty sure this is irrelevant but I'm running PHP 5.4.6 if it matters.</p>\n\n<p><strong>PS</strong>: I remember reading about some legal issues with the Olson database, might this be related?</p>\n\n<hr>\n\n<p><strong>UPDATE</strong>: I wrote a little script to compare the PHP non-DST offsets with <a href=\"http://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow\">this Wikipedia page</a>:</p>\n\n<pre><code>function getStandardOffset($timezone)\n{\n    $timezone = new DateTimeZone($timezone);\n    //$hemisphere = (ph()-&gt;Value($timezone-&gt;getLocation(), 'latitude') &gt;= 0) ? 'north' : 'south';\n    $transitions = array_reverse(array_slice($timezone-&gt;getTransitions(), -3, null, true), true);\n\n    foreach ($transitions as $transition)\n    {\n        if ($transition['isdst'] == 1)\n        {\n            continue;\n        }\n\n        return sprintf('%+03d:%02u', $transition['offset'] / 3600, abs($transition['offset']) % 3600 / 60);\n    }\n\n    return false;\n}\n\n$diff = array();\n$html = ph()-&gt;HTML-&gt;DOM(file_get_contents('http://en.wikipedia.org/wiki/List_of_tz_database_time_zones'));\n$timezones = DateTimeZone::listIdentifiers();\n\nforeach ($timezones as $timezone)\n{\n    $offset = str_replace('−', '-', ph()-&gt;HTML-&gt;DOM($html, sprintf('//td/a[contains(text(), \"%s\")]/../..', $timezone), '0.td.4.a'));\n\n    if (strcmp($offset, getStandardOffset($timezone)) !== 0)\n    {\n        $diff[$timezone] = array\n        (\n            'php' =&gt; getStandardOffset($timezone),\n            'wiki' =&gt; $offset,\n        );\n    }\n}\n\necho '&lt;pre&gt;';\nprint_r($diff);\necho '&lt;/pre&gt;';\n</code></pre>\n\n<p>The following time zones differ:</p>\n\n<pre><code>Array\n(\n    [America/Argentina/San_Luis] =&gt; Array\n        (\n            [php] =&gt; -04:00\n            [wiki] =&gt; -03:00\n        )\n\n    [Antarctica/Casey] =&gt; Array\n        (\n            [php] =&gt; +08:00\n            [wiki] =&gt; +11:00\n        )\n\n    [Antarctica/Davis] =&gt; Array\n        (\n            [php] =&gt; +07:00\n            [wiki] =&gt; +05:00\n        )\n)\n</code></pre>\n\n<p>It's not a huge deal but I'm curious why this happens since I have the latest version of the Olson tzdb.</p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13289680,"title":"Magento - order email doesn't send for credit card payment","body":"<p>I have a Magento install with a credit card order module (Atos). All the order confirmation emails are sending, except for the order by credit card number.</p>\n\n<p>I'm new to Magento, and only know the transactionnal email templates about mailing and Magento. Where should I look to fix this?</p>\n"},{"tags":["php","symfony2","doctrine","doctrine2","many-to-one"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":10983828,"title":"Doctrine @UniqueEntity with ManyToOne fields?","body":"<p>I'm trying to create a UniqueEntity with 2 fields (both are ManyToOne fields).</p>\n\n<p>The code is as follow:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>/*\n* @ORM\\Table()\n* @ORM\\Entity\n* @ORM\\HasLifecycleCallbacks()\n* @UniqueEntity(fields={\"user\", \"connect\"})\n*/\nclass UserConnect\n{\n    /**\n     * @var integer $id\n     *\n     * @ORM\\Column(name=\"id\", type=\"integer\")\n     * @ORM\\Id\n     * @ORM\\GeneratedValue(strategy=\"AUTO\")\n     */\n    private $id;\n\n    /**\n     * @var boolean $isLeader\n     *\n     * @ORM\\Column(name=\"isLeader\", type=\"boolean\")\n     */\n    private $isLeader;\n\n    /**\n     * @var date $joinedDate\n     *\n     * @ORM\\Column(name=\"joinedDate\", type=\"date\")\n     */\n    private $joinedDate;\n\n    /**\n     * @ORM\\ManyToOne(targetEntity=\"User\", inversedBy=\"userConnects\")\n     * \n     */\n    private $user;\n\n    /**\n     * @ORM\\ManyToOne(targetEntity=\"Connect\", inversedBy=\"userConnects\")\n     * \n     */\n     private $connect;\n</code></pre>\n\n<p>The goal is to ensure that I've got only one Entity that link a USER with a CONNECT. </p>\n\n<p>Should I write something else in my <code>@UniqueEntity</code> declaration?</p>\n"},{"tags":["php","xml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13292158,"title":"Getting Total Pages from XML Feed","body":"<p>Hi I have a simple XML feed, which returns the data in the format shown below</p>\n\n<pre><code>  &lt;Computers&gt;\n  &lt;results totalPages=\"18\" currentPage=\"18\" totalResults=\"88\"/&gt;\n  &lt;computer id=\"1\" name=\"IBM\"&gt;\n  &lt;computertype id=\"1\" name=\"Windows\"/&gt;\n  &lt;/computer&gt;\n  &lt;computer id=\"94\" name=\"Acer\"&gt;\n  &lt;computertype id=\"1\" name=\"windows\"/&gt;\n  &lt;/computer&gt;\n  &lt;computer id=\"1533\" name=\"selfbuild\"&gt;\n  &lt;computertype id=\"1\" name=\"windows\"/&gt;\n  &lt;/computer&gt;\n  &lt;/computers&gt;\n</code></pre>\n\n<p>to display the results i use the following</p>\n\n<pre><code>foreach($xml-&gt;computer as $computer){\n echo $computer['name'];\n</code></pre>\n\n<p>What i am trying to do is get the result of the total pages, current page and total results in to variables, the problem i have is that when i try and write them as below, it isn't returning a result.</p>\n\n<pre><code> echo $results['totalPages'];\n</code></pre>\n\n<p>I think it is because the foreach is starting after the results section, but if i try and write them as below,  again i get nothing.</p>\n\n<pre><code>   foreach($xml-&gt;results as $results){\n  echo $results['totalPages'];\n</code></pre>\n\n<p>Any advice would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","igbinary"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13292626,"title":"PHP Serializable interface and igbinary","body":"<p>Is there any way to tell whether the methods of the Serializable interface are called from igbinary or not?</p>\n\n<p>This is the example found in <a href=\"http://php.net/manual/en/class.serializable.php\" rel=\"nofollow\">php documentation</a>:</p>\n\n<pre><code>class obj implements Serializable {\n    private $data = \"My private data\";\n    public function serialize() {\n        return serialize($this-&gt;data);\n    }\n    public function unserialize($data) {\n        $this-&gt;data = unserialize($data);\n    }\n}\n</code></pre>\n\n<p>There is a problem here. These methods will be called either by php's <code>serialize</code> or by <code>igbinary_serialize</code>. Yet, the nested data will always be serialized by php's internal serializer.</p>\n\n<pre><code>$obj = new obj;\nserialize( $obj );                // this will use serialize() for\n                                  // both $obj and $obj-&gt;data\n\nigbinary_serialize( new obj );    // this will use igbinary_serialize() for $obj\n                                  // but serialize() for $obj-&gt;data\n</code></pre>\n\n<p>A solution would be to do something like that:</p>\n\n<pre><code>class obj implements Serializable {\n    private $data = \"My private data\";\n    public function serialize() {\n        if (called_from_igbinary_serialize())    // &lt;-- is this possible?\n            return igbinary_serialize($this-&gt;data);\n        else\n            return serialize($this-&gt;data);\n    }\n    public function unserialize($data) {\n        if (called_from_igbinary_unserialize())  // &lt;-- is this possible?\n            $this-&gt;data = igbinary_unserialize($data);\n        else\n            $this-&gt;data = unserialize($data);\n    }\n}\n</code></pre>\n\n<p>Is there any other solution?</p>\n"},{"tags":["php","oop","rss"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13277415,"title":"RSS Reader: Issues with Media","body":"<p>I created an RSS reader. I am not sure how to go about processing Media, for example I am reading this data from a Wordpress Blog. Everything output's correctly except for the Media like a video or something like that. I was not sure how to go about processing this.</p>\n\n<p>Here is my class:</p>\n\n<pre><code>&lt;?php\nclass feed {\n    protected $feed;\n    protected $getfeed;\n    function __constructor() {\n\n    }\n    function setfeed($feed) {\n        $this-&gt;feed = $feed;\n    }\n\n    function getfeed()\n    {\n        return $this-&gt;feed;\n    }\n    function outputfeed()\n    {\n\n        $this-&gt;getfeed = file_get_contents($this-&gt;feed);\n        $this-&gt;getfeed = simplexml_load_string($this-&gt;getfeed);\n        $posts = array();\n\n\n\n        foreach ($this-&gt;getfeed-&gt;channel-&gt;item as $item){\n            $media = $item-&gt;children('http://search.yahoo.com/mrss/');\n            $image = array();\n\n            foreach($media-&gt;content[0]-&gt;attributes() as $key =&gt;$value) {\n                $image[$key] = (string)$value;\n            }\n            $posts[] = array(\n                'title'         =&gt; (string)$item-&gt;title,\n                'description'   =&gt; (string)$item-&gt;description,\n                'link'          =&gt; (string)$item-&gt;link,\n                'date'          =&gt; (string)$item-&gt;pubDate,\n                'content'       =&gt; $image, // Not Sure how to    process this if it is video\n            );\n\n        }\n        foreach($posts as $post)\n        {\n        echo \"&lt;div class='feed'&gt;\";\n        echo \"&lt;a href='{$post['link']}'&gt;&lt;h3&gt;{$post['title']}&lt;/h3&gt;&lt;/a&gt;\";\n        echo \"&lt;p&gt;{$post['description']}&lt;/p&gt;\";\n        echo \"&lt;p&gt;{$post['content']}&lt;/p&gt;\";\n        echo \"&lt;h5&gt;{$post['date']}&lt;/h5&gt;\";\n        echo \"&lt;/div&gt;\";\n        }\n    }\n}\n?&gt;\n</code></pre>\n\n<p>Here is my initiation:</p>\n\n<pre><code>&lt;?php\n    include('feed.class.php');\n?&gt;\n&lt;?php\n    $feed = new feed();\n    $feed-&gt;setfeed('http://www.fakeurl.com');\n    $feed-&gt;outputfeed();\n?&gt;\n</code></pre>\n\n<p>Any help is much appreciated!</p>\n"},{"tags":["php","timestamp","rename","batch-rename"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13282880,"title":"<PHP> How to rename all the pictures on a folder to it's timestamp. MM-DD-YY hh:mm:ss","body":"<p>I have a lot of folders with pictures on server, the file names are random and a lot, but every file is a jpg. I need to rename every file on any given folder to the information on the timestamp. </p>\n\n<p>Example. \nFile names 1.jpg , 2.jpg</p>\n\n<p>After convention 12/15/11 10:20:58.jpg , 12/15/11 11:21:50.jpg .</p>\n\n<p>The actual Date format is not important.</p>\n\n<p>P.S. Important that it only modifies the jpg files and not the folder names nor sub-folder content. </p>\n\n<p>Thanks.</p>\n"},{"tags":["php","html","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13276482,"title":"Challenging MySQL query for html/PHP report","body":"<p>Here's a challenge for a good MySQL coder.\nWe would greatly appreciate some help on a query to create a MySQL report displayed in an html/PHP page.</p>\n\n<p>We know how to collect the data and store it, and have the PHP report layout, but are lost as to how to structure the query.</p>\n\n<p>We have two MySQL tables – \"visitors\" and \"buyers\". </p>\n\n<ol>\n<li>Visitors table – for visitors to our website coming in through a\nparticular URL which identifies the sales_rep and one of many\nmarketing  codes they create themselves.</li>\n<li>Buyers table – for those who buy something. </li>\n</ol>\n\n<p>A visitor may visit our website through the following link, for example:</p>\n\n<pre><code>www.sales_rep.website.com/index.php?marketing=code1/code2/code3\n</code></pre>\n\n<p>In the \"visitors\" table we include three fields: \n <ul><li>sales_rep</li>\n  <li>date</li>\n  <li> marketing_CODE – (which in this case would be the \"code1/code2/code3\" in a string, but each sales_rep could have several marketing_CODES based on their advertising activities; such as \"code1a/codeTX/codeM2\" and \"market-z/ad-123\")</li></ul></p>\n\n<p>When a visitor buys something, we add them to a \"buyers\" table, which includes:</p>\n\n<ul><li>sales_rep</li>\n<li>date</li>\n<li>marketing_TYPE – (which can be \"URL\", \"referral\", or some other type)</li>\n<li>marketing_VALUE – (which will the marketing_CODE if the marketing_TYPE is URL)</li></ul>\n\n<p>We need to see a report for each specific sales rep, for any specified month, sorted by marketing code, only for marketing_TYPE == \"URL\".</p>\n\n<p>This report needs to show a week-by-week breakdown of visitors and buyers activities for each marketing_CODE, as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/GcBDj.png\" alt=\"Table Example\"></p>\n\n<p>To ensure clarity, in the above table, in WEEK 1, 8 Visitors came into the website through a link with \"code1/code2/\", and 5 of them purchased something.</p>\n\n<p>We've attempted to begin our query with the following, but don't know where to go with it:</p>\n\n<ol>\n<li><code>$chosen_month = $_POST['chosen_month'];</code></li>\n<li><code>SELECT * FROM visitors INNER JOIN buyers ON sales_rep WHERE marketing_type = \"URL\" AND sales_rep = '$sales_rep' AND date('Y-m') = $'chosen_month' ;</code></li>\n<li>Using a while statement, we would generate the table cells for each of the records found.  Using this, we know how to list every record, but we can't figure out how display non-distinct records once, display their count, then display distinct records.</li>\n</ol>\n\n<p>Thank you for your time and help.</p>\n"},{"tags":["php",".htaccess","get"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":33,"score":3,"question_id":13290864,"title":"Very simple RewriteRule doesn't work","body":"<p>I have index.php with only one line in it</p>\n\n<pre><code>&lt;?php echo $_GET['a']; ?&gt;\n</code></pre>\n\n<p>And also I have a .htaccess with only two lines in it</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^([a-z]+)$ ?a=$1\n</code></pre>\n\n<p>Why when I enter <code>/ab.cd</code> I get a 404 error, but if I entering <code>/abcd.</code> it doesn't give me a 404 error and PHP echos <code>abcd</code> (without the dot on the end of the url).</p>\n\n<p>Can anybody tell me why my rewrite rule allows <code>abcd.</code> through instead of giving me a 404 error?</p>\n"},{"tags":["php","redirect","post","shopping-cart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12981950,"title":"prevent double execution of code in PHP","body":"<p>I have a store which works like this:</p>\n\n<ol>\n<li>The user adds stuff to his cart on the 1<sup>st</sup> page</li>\n<li>The user submits the cart (<em>POST</em>), all post data is stored in the session.</li>\n<li>The user fills out the form on the 2<sup>nd</sup> page, clicks submit again (second <em>POST</em>)</li>\n<li>The user comes at the \"thank you\" page (3<sup>rd</sup>), which takes all the session data, and the form <i>POST</i>s the data and mails it.</li>\n</ol>\n\n<p>The problem is, a simple refresh causes an empty table to be sent per email. How can I prevent this? Can I redirect somehow after the execution of the mail function? So the thank you page doesn't do anything on refresh?</p>\n"},{"tags":["php","codeigniter","routes","uri"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13291907,"title":"Codeigniter Route Confusion","body":"<p>I am building a URL shortener web site.</p>\n\n<p>Here is my <code>config/routes.php</code> file:</p>\n\n<pre><code>$route['default_controller'] = \"main\";\n$route['404_override'] = '';\n$route['(\\w{2})/(.*)']        = '$2';\n$route['(\\w{2})']             = $route['default_controller'];\n\n$route['join']                = 'main/join';\n$route['activate/(:any)']     = \"main/activate/$1\";\n$route['login']               = 'main/login';\n$route['logout']              = 'main/logout';\n$route['main/login']          = 'main/login';\n$route['main/join']           = 'main/join';\n$route['url/short']           = 'url/short';\n$route['user']                = 'user/index';\n$route['user/index']          = 'user/index';\n$route['user/index/(:num)']   = 'user/index/$1';\n$route['profile']             = 'user/profile'; \n$route['user/delete/(:any)']  = \"user/delete/$1\";\n\n$route['(:any)']              = \"url/go/$1\";\n</code></pre>\n\n<p>Well, as you see, I implemented language as mentioned on CI Wiki <a href=\"https://github.com/EllisLab/CodeIgniter/wiki/URI-Language-Identifier\" rel=\"nofollow\">here</a>.</p>\n\n<p>But now the last line of route is not functioning normally.</p>\n\n<pre><code>$route['(:any)']              = \"url/go/$1\";\n</code></pre>\n\n<p>For example, <code>myshortner.com/as34v</code> should match with above route and redirect to full URL, but instead it redirects to <code>0.0.0.1</code> ! How can I fix this?</p>\n"},{"tags":["php","string","variables","literals"],"answer_count":7,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13291747,"title":"Can I add variable name within a string?","body":"<p>I am creating an OpenCart extension where the admin can change his email templates using the user interface in the admin panel.</p>\n\n<p>I would like the user to have the option to add variables to his custom email templates. For example he could put in:</p>\n\n<p>Hello <code>$order['customer_firstname']</code>, your order has been processed.</p>\n\n<p>At this point $order would be undefined, the user is simply telling defining the message that is to be sent. This would be stored to the database and called when the email is to be sent.</p>\n\n<p>The problem is, how do I get \"<code>$order['customer_firstname']</code>\" to become a litteral string, and then be converted to a variable when necessary?</p>\n\n<p>Thanks\nPeter</p>\n"},{"tags":["php","filter","doctrine","doctrine2","getter"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12568033,"title":"how to filter a getter in doctrine2 entity?","body":"<p>I have an entity that has a one-to-many association (many-to-many with extra fields):</p>\n\n<pre><code>class Game {\n    /**\n    /* @OneToMany(targetEntity=\"GamePlayer\", mappedBy=\"game\", cascade={\"persist\"})\n    /* @JoinColumn(name=\"id\", referencedColumnName=\"game_id\", onDelete=\"cascade\")\n     */\n    private $gamePlayer;\n}\n</code></pre>\n\n<p>The class has automated getter for all the authors: getGamePlayers()</p>\n\n<p>I would like to add a filter to it, so it would query the database only for the relevant details in the most efficient way:</p>\n\n<pre><code>public function getGamePlayersWithScoreHigherThan($score){\n    //what to write here? (return array)\n}\n</code></pre>\n\n<p>What is the best way to achieve such a getter from within the entity (not using the repository)?</p>\n\n<p>Thank you very much!</p>\n"},{"tags":["php","mime-types"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":12062337,"title":"serving .docx files through my webserver are corrupt when opened","body":"<p>i though i found the answer here:\n<a href=\"http://stackoverflow.com/questions/4602678/serving-docx-files-through-php\">Serving .docx files through Php</a>\nBut i am still getting the error that the file is corrupt when trying to download and open a docx server via php\nMaybe you can see something wrong with my code. The .doc works fine it is the docx that fail.</p>\n\n<pre><code>$parts = pathinfo($doc);\n$docFile = $userDocRoot.$doc;\nif ( !file_exists($docFile) ){\n    throw new Exception(\"Can not find \".$parts ['basename'].\" on server\");\n}\nif ( $parts['extension'] == 'docx' ){\n    header('Content-type: application/vnd.openxmlformats- officedocument.wordprocessingml.document');\n    header('Content-Disposition: attachment; filename=\"'.$parts['basename'].'\"');\n    header('Expires: 0');\n    header('Cache-Control: must-revalidate, post-check=0, pre-check=0');\n    header('Pragma: public');\n    ob_clean();\n    flush();\n    readfile($docFile);\n}else{\n   header('Content-type: application/msword');\n   header('Content-Disposition: attachment; filename=\"'.$parts['basename'].'\"');\n   readfile($docFile);\n}\n</code></pre>\n"},{"tags":["php","jquery","mysql","ajax","oop"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13288569,"title":"jQuery-Ajax retrieve function with PHP classes and functions","body":"<p>Hi all I am new to using jQuery and I want to use the AJAX function for the search function my website. However I am having a bit of difficulty learning this as I can only find examples of using non function related PHP. I am currently trying to learn from this youtube example <a href=\"http://www.youtube.com/watch?v=Yb3c-HljFro\" rel=\"nofollow\">jQuery Youtube Example</a> . However this seems difficult to implement. </p>\n\n<p>A little bit about what I am trying to achieve. I want to type in the postcode into my search bar and have it retrive all the relevant data fields that match using AJAX so that it is displayed in the div directly below the search bar. </p>\n\n<p>As I'm not very familiar with jQuery I'm not sure if I am going about this the right way, any input will be warmly welcomed. Thank you in advance!</p>\n\n<p>My code is as so</p>\n\n<p>index.php </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"js/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/ajax.js\"&gt;&lt;/script&gt;\n&lt;?php include(\"header.php\"); \n$houseobject = new House();\n$houseobject-&gt;search($_POST['term']);?&gt;\n&lt;div id=\"mainContent\"&gt;\n  &lt;div id=\"searchformWrap\"&gt;\n    &lt;br/&gt;&lt;h2&gt;Search for Accomodation&lt;/h2&gt;\n    &lt;div id=\"searchform\"&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;\n      &lt;form method=\"post\" action=\"index.php\" name=\"search\" id=\"search_form\"&gt;\n        &lt;div class=\"searchrow\"&gt;\n        &lt;div class=\"searchlabel\"&gt;Location&lt;/div&gt;\n        &lt;div class=\"searchinput\"&gt; \n        &lt;input type=\"text\" name=\"term\" id=\"term\" /&gt;\n        &lt;input type=\"submit\" name=\"submit\" id=\"searchsubmit\" value=\"Search\"/&gt;\n      &lt;/form&gt;\n      &lt;div class=\"help\"&gt;e.g. 'PO5' or 'Portsmouth'&lt;/div&gt;\n    &lt;/div&gt; &lt;!-- end input --&gt;\n  &lt;/div&gt; &lt;!-- end .row --&gt;\n  &lt;div id=\"searchquery\"&gt; &lt;/div&gt;\n&lt;/div&gt; &lt;!-- End maincontent --&gt;\n</code></pre>\n\n<p>classes/class.House.inc</p>\n\n<pre><code>&lt;?php \ninclude (\"connect.class.Database.inc\");\nclass House extends Database {\n\n  public function search ($term){\n    $query = \"SELECT * FROM houses \n      WHERE postcode like '%\".$this-&gt;mysqli-&gt;real_escape_string($term).\"%'\";\n    $result = $this-&gt;mysqli-&gt;query($query);\n    $num_result = $result-&gt;num_rows;\n    if($num_result &gt; 0){\n      while($rows =$result-&gt;fetch_assoc()) {        \n        $this-&gt;data[]=$rows;\n        //print_r($rows);\n      }      \n      return $this-&gt;data;\n    } else{\n       echo 'No Records Found';    \n    }\n    echo json_encode($data);\n  }\n\n}\n</code></pre>\n\n<p>js/ajax.js </p>\n\n<pre><code>  $('input#searchsubmit').on('click', function() {\n    if ($.trim(term) != '') {\n       $.post('classes/class.House.inc', {term: term}, function(data) {\n          $('div#searchquery').text(data);\n       });\n    }\n  });\n}\n</code></pre>\n\n<p>I have usually been grabbing results by pointing the form on index.php to...</p>\n\n<p>search.php </p>\n\n<pre><code>&lt;table width=\"500\" border=\"1\" cellpadding=\"5\"&gt;\n &lt;tr&gt;\n  &lt;th width=\"16\" scope=\"row\"&gt;id&lt;/th&gt;\n  &lt;td width=\"95\"&gt;bedrooms&lt;/td&gt;\n  &lt;td width=\"140\"&gt;description&lt;/td&gt;\n  &lt;td width=\"104\"&gt;roadname&lt;/td&gt;\n  &lt;td width=\"71\"&gt;postcode&lt;/td&gt;\n &lt;/tr&gt;\n &lt;?php\n require(\"classes/class.House.inc\");\n $obj = new House();\n if ($data = $obj-&gt;search($_POST['term']))\n {\n    foreach($obj-&gt;data as $val){\n      extract($val);\n    }\n }\n ?&gt;\n &lt;tr&gt;\n      &lt;td scope=\"row\"&gt;&lt;?php echo $id; ?&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;?php echo $bedrooms; ?&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;?php echo $description; ?&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;?php echo $roadname; ?&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;?php echo $postcode; ?&gt;&lt;/td&gt;\n &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"tags":["php","xml","last.fm"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12993863,"title":"Error Handling with LastFM API and simplexml_load_file","body":"<p>I'm using simplexml_load_file to pull album information from the LastFM API and having no problems when the requested album matches. </p>\n\n<p>However, when the album is not found, LastFM returns an <a href=\"http://ws.audioscrobbler.com/2.0/?method=album.getinfo&amp;api_key=273f3dc84c2d55501f3dc25a3d61eb39&amp;artist=Martha%20&amp;%20The%20Vandellas&amp;album=Hitsville%20USA,%20Vol.%201%20%281959-1971%29&amp;autocorrect=0\" rel=\"nofollow\">error</a>, which causes the code below to output a \"failed to open stream\" error.</p>\n\n<p><strong>I can see that LastFM is giving me exactly what I need, but am unsure how to proceed. What is the proper way to update the code so that this error/error code is correctly handled?</strong></p>\n\n<p>Code:\n    \n\n<pre><code>$feed = simplexml_load_file(\"http://ws.audioscrobbler.com/2.0/?method=album.getinfo&amp;api_key=\".$apikey.\"&amp;artist=\".$artist.\"&amp;album=\".$album.\"&amp;autocorrect=\".$autocorrect);\n\n$albums = $feed-&gt;album;\nforeach($albums as $album) {\n\n    $name = $album-&gt;name;\n    $img = $album-&gt;children();\n    $img_big = $img-&gt;image[4];\n    $img_small = $img-&gt;image[2];\n    $releasedate = $album-&gt;releasedate;\n    $newdate = date(\"F j, Y\", strtotime($releasedate));\n\n    if ($img == \"\") {\n            $img = $emptyart; }\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","wordpress","canvas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13288307,"title":"HTML5 Canvas with wordpress","body":"<p>I would like to try a website that will represented as a graph related to prices changes .  It will be based on wordpress . in other words ,  i will keep prices list in wordpress post meta and  i would like to show in frontend as a graph . </p>\n\n<p>I wanna know is should i use HTML5 canvas for showing graph ??? . \nIs that reliable enough to use ?? \nand also about learning curve since i am totally new about graphical data ???. \nIf HTML isn't reliable enough ,  is there any other ways to use it ???   </p>\n"},{"tags":["php","oauth","proxy"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13292293,"title":"PHP OAuth Class fetch using a proxy server","body":"<p>I've been looking through the threads and haven't been able to find anything...</p>\n\n<p>I'm having a problem using the PHP OAuth class fetch method.</p>\n\n<p>Currently doing this</p>\n\n<pre><code>$oauth-&gt;fetch($this-&gt;access_token_url, array('xoauth_oauth2_access_token' =&gt; $access_token), OAUTH_HTTP_METHOD_POST);\n</code></pre>\n\n<p>the problem is that we need to connect to the to the server via a proxy. And the URL argument only takes a string. I was looking at the OAUTH doc at <a href=\"http://us2.php.net/manual/en/oauth.fetch.php\" rel=\"nofollow\">http://us2.php.net/manual/en/oauth.fetch.php</a> and tried looking through some of the other methods, but didn't find anything. Is there a way I can build the connection up first or even just extend the class to work w/ a proxy?</p>\n\n<p>Any help on this would be amazing, been trying to figure this out for a few days now.</p>\n\n<p>thanks,\nBrodie</p>\n"},{"tags":["php","internationalization","imagettftext"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":120,"score":1,"question_id":11416546,"title":"PHP - Creating image with imagettftext with Greek text","body":"<p>I'm trying to use imagettftext to create an image using this Greek text \"από τον/την\".</p>\n\n<p>This text is read from a MySQL database table from a field whose collation is set to utf8-unicode-ci.</p>\n\n<p>The text comes out of the database as \"Î±Ï€ÏŒ Ï„Î¿Î½/Ï„Î·Î½\".</p>\n\n<p>Here's the code (lifted from php.net)</p>\n\n<pre><code>header('Content-Type: image/png');\n// Create the image\n$im = imagecreatetruecolor(400, 30);\n\n// Create some colors\n$white = imagecolorallocate($im, 255, 255, 255);\n$grey = imagecolorallocate($im, 128, 128, 128);\n$black = imagecolorallocate($im, 0, 0, 0);\nimagefilledrectangle($im, 0, 0, 399, 29, $white);\n\n// The text to draw\n$text = html_entity_decode('Î±Ï€ÏŒ Ï„Î¿Î½/Ï„Î·Î½', ENT_COMPAT, 'UTF-8');\n\n// Replace path by your own font path\n$font = '/Applications/MAMP/htdocs/test.localhost/libs/fonts/CustomFont.ttf';\n\n// Add some shadow to the text\nimagettftext($im, 20, 0, 11, 21, $grey, $font, $text);\n\n// Add the text\nimagettftext($im, 20, 0, 10, 20, $black, $font, $text);\n\n// Using imagepng() results in clearer text compared with imagejpeg()\nimagepng($im);\nimagedestroy($im);\n</code></pre>\n\n<p>This produces an image with \"Î±Ï€ÏŒ Ï„Î¿Î½/Ï„Î·Î½\" and not \"από τον/την\".</p>\n\n<p>Any ideas?</p>\n\n<p>Many thanks.</p>\n"},{"tags":["php","mysql","networking","social","socialengine"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":459,"score":1,"question_id":8899984,"title":"How does the signup process work in socialengine? How/What and when is code called","body":"<p>I'm working on modifying a copy of social engine so that the sign up process includes an initial survey. I've already got a view, drawn my form however I'm not sure where the logic is processed. I know there are methods inside the corresponding controller but I'd like to save the data once the entire of the sign up process has finished.</p>\n\n<p>My question is; can anyone give me an overview of how the sign up process works in terms of MVC structure and communication.</p>\n\n<p>Really appreciate your help,</p>\n\n<p>Andy</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":24,"score":-6,"question_id":13292247,"title":"How do I add an array as a Static Property to a class declared within a PHP extension?","body":"<p><a href=\"http://stackoverflow.com/questions/1105360/how-do-i-add-an-array-as-an-object-property-to-a-class-declared-within-a-php-ext\">How do I add an array as an Object Property to a class declared within a PHP extension?</a></p>\n\n<p>yes ！ it's  object property </p>\n\n<p>but ,my property is static .how?</p>\n\n<hr>\n\n<pre><code>&lt;?php\nclass A{\n    public static $MyMemberArray = array('member1','member2'); \n}\nvar_dump(A::$MyMemberArray);\n</code></pre>\n\n<hr>\n\n<p>thanks</p>\n"},{"tags":["php","regex","preg-split"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":33,"score":3,"question_id":13292035,"title":"preg_split with two patterns (one of them quoted)","body":"<p>I would like to split a string in PHP containing quoted and unquoted substrings.<br>\nLet's say I have the following string:</p>\n\n<pre><code>\"this is a string\" cat dog \"cow\"  \n</code></pre>\n\n<p>The splitted array should look like this:</p>\n\n<pre><code>array (  \n[0] =&gt; \"this is a string\"  \n[1] =&gt; \"cat\"  \n[2] =&gt; \"dog\"  \n[3] =&gt; \"cow\"  \n)\n</code></pre>\n\n<p>I'm struggling a bit with regex and I'm wondering if it is even possible to achieve with just one regex/preg_split-Call...</p>\n\n<p>The first thing I tried was:</p>\n\n<pre><code>[[:blank:]]*(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)[[:blank:]]*\n</code></pre>\n\n<p>But this splits only array[0] and array[3] correctly - the rest is splitted on a per character base.</p>\n\n<p>Then I found this link:<br>\n<a href=\"http://stackoverflow.com/questions/11873240/php-preg-split-with-two-delimiters-unless-a-delimiter-is-within-quotes\">PHP preg_split with two delimiters unless a delimiter is within quotes</a></p>\n\n<pre><code>(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)\n</code></pre>\n\n<p>This seems to me as a good startingpoint. However the result in my example is the same as with the first regex.</p>\n\n<p>I tried combining both - first the one for quoted strings and then a second sub-regex which should ommit quoted string (therefore the [^\"]):</p>\n\n<pre><code>(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)|[[:blank:]]*([^\"].*[^\"])[[:blank:]]*\n</code></pre>\n\n<p>Therefore 2 questions:</p>\n\n<ol>\n<li>Is it even possible to achieve what I want with just one regex/preg_split-Call?</li>\n<li>If yes, I would appreciate a hint on how to assemble the regex correctly</li>\n</ol>\n"},{"tags":["php","symfony-2.1"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":208,"score":0,"question_id":11981216,"title":"How can I use breadcrumbs with symfony2.1?","body":"<p>I need to use breadcrumbs on my site.</p>\n\n<p>Can anyone guide me any bundle which can help me?</p>\n\n<p>Or If someone can guide me how can I program it. I have no idea how to start with\nI have many levels of classes.</p>\n\n<p>LIke</p>\n\n<p><code>School--Principal--Teacher--student.</code></p>\n"},{"tags":["php","sql","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13291181,"title":"Call to a member function setFetchMode() on a non-object PDO","body":"<p>Here is a sample of $message's content :</p>\n\n<blockquote>\n  <p>String(108) \"\\n      cc je t'ai envoy� une invitation  A plus :p\\n    \"</p>\n</blockquote>\n\n<p>Here is the error message : </p>\n\n<blockquote>\n  <p>Fatal error: Call to a member function setFetchMode() on a non-object\n  in  B:\\wamp\\www\\messages.php on line 101</p>\n</blockquote>\n\n<p>My request that doesn't work :</p>\n\n<pre><code>    $resultats = $connexion-&gt;query(\"SELECT * FROM messages WHERE message LIKE '%$message%'\");\n    $resultats-&gt;setFetchMode(PDO::FETCH_OBJ);\n    $occurences= $resultats-&gt;rowCount();\n</code></pre>\n\n<p>Why does this one work? (I changed $message by a) :</p>\n\n<pre><code> $resultats = $connexion-&gt;query(\"SELECT * FROM messages WHERE message LIKE '%a%'\");\n        $resultats-&gt;setFetchMode(PDO::FETCH_OBJ);\n        $occurences= $resultats-&gt;rowCount();\n</code></pre>\n"},{"tags":["php","rackspace"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12146538,"title":"How do I set the File Expire Header with Rackspace CloudFiles PHP API","body":"<p>I am currently writing a php backup script that backs up a website and its mysql databases to Rackspace CloudFiles. I have the script working well, except I don't know how to set the expire headers so the backups are automatically deleted after 7 days. \nAs far as I can find, Rackspace has not documented the PHP API very well.</p>\n\n<p>This is what I am trying to do, in reference to their regular API documentation.</p>\n\n<p><a href=\"http://docs.rackspace.com/files/api/v1/cf-devguide/content/Expiring_Objects-e1e3228.html\" rel=\"nofollow\">http://docs.rackspace.com/files/api/v1/cf-devguide/content/Expiring_Objects-e1e3228.html</a></p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","mysql","sql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":55,"score":-2,"question_id":13291609,"title":"Need correct SQL query","body":"<p>Table:</p>\n\n<pre><code>+----+----------+-----------+---------+\n| id | topic_id | from_user | to_user |\n+----+----------+-----------+---------+\n|  6 |        5 | 4         | 5       |\n|  2 |        6 | 5         | 2       |\n|  3 |        5 | 2         | 5       |\n|  4 |        4 | 5         | 4       |\n|  5 |        4 | 5         | 4       |\n|  7 |        6 | 5         | 2       |\n|  8 |        5 | 2         | 5       |\n|  9 |        5 | 4         | 5       |\n| 10 |        0 | 2         | 5       |\n| 11 |        6 | 5         | 2       |\n| 12 |        3 | 5         | 2       |\n| 13 |        0 | 5         | 2       |\n+----+----------+-----------+---------+\n</code></pre>\n\n<p>This is messages table ( something like private messages), from_user and to_user is self descriptive, topic_id is not important for this purpose </p>\n\n<p>Now, I need to select list of messages which I will display in inbox of a user who is logged in currently. I will refer to this user with session variable <code>$this_user = $_SESSION['id']</code></p>\n\n<p>I have this query:</p>\n\n<pre><code>SELECT * FROM messages WHERE from_user = '$this_user' OR to_user = '$this_user' \n</code></pre>\n\n<p>but this will take repeating messages like 4 - 5, 5 - 4, 5 - 4,</p>\n\n<p>I tried with DISTINCT but isn't going to work either </p>\n\n<p>Any help appriciated </p>\n"},{"tags":["php","php-5.3"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13291807,"title":"print variable 1 or variable 2 depending on if the variable 1 is set or not","body":"<p>I want to <code>echo</code> variable <code>$a</code> if it is set, or <code>echo</code> variable <code>$b</code> if variable <code>$a</code> was not set.</p>\n\n<p>I tried something, but it doesn't work as expected: </p>\n\n<pre><code>  &lt;?\n    $a = \"FOO\";\n    $b = \"BAR\";\n    $c = $a OR $b;\n    echo $c; #output : FOO\n\n    //\n\n    $a = false;\n    $b = \"BAR\";\n    $c = $a OR $b;\n    echo $c; #output : \n  ?&gt;\n</code></pre>\n\n<p>I can do it using a function, like</p>\n\n<pre><code>   function F($a,$b) {\n      if($a) return $a;\n      return $b;\n   }\n</code></pre>\n\n<p>or using this:</p>\n\n<pre><code>   $c = $a ? $a : $b;\n</code></pre>\n\n<p>but <strong>maybe there is a better way to do this. I want the fastest way to accomplish this.</strong></p>\n\n<p>If you know how, guys, any help is appreciated.</p>\n"},{"tags":["php","xml","xml-parse"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13218905,"title":"xml_parse quits page. No errors","body":"<p>The last couple of days I am updating a script to work with Joomla 2.5. It's almost done, but there is one thing that I haven't been able to solve yet. And it's a weird one.</p>\n\n<p>The script has a cron wich parses a affiliate XML. To do this it uses the PHP function xml_parse as seen below:</p>\n\n<pre><code>if (!($fp = @$file_function($url, 'rb'))) {\n   $this-&gt;error(\"Cannot open {$url}\");\n   return;\n}\n\nwhile (($data = fread($fp, 8192))) {\n   if ( defined ('LIBXML_BUG') ) {\n     # fix voor LIBXML BUG\n     $data=str_replace(\"&amp;\",\"XMLLIBHACK\",$data);\n    }\n    if (!xml_parse($this-&gt;parser, $data, feof($fp))) {\n\n                    printf('XML error in %s at line %d column %d',\n            $url,\n                    xml_get_current_line_number($this-&gt;parser),\n                    xml_get_current_column_number($this-&gt;parser));\n            unset ($this-&gt;items);\n     } \n}\nxml_parser_free( $this-&gt;parser );\n</code></pre>\n\n<p>As said the problem lays on the xml_parse function. On this line the whole page/script  stops working and returns only the contents written above this line. It is not returning any error while error_reporting is E_ALL and display_errors is On. When creating an error on purpose I see the error so error_reporting is working. The parser($this->parser) is created in another file. Wich is loaded(var_dumped $this->parser). </p>\n\n<p>The code where $this->parser is created (I believe this class is called MagpieRSS):</p>\n\n<pre><code>function create_parser($out_enc, $in_enc, $detect) {\n        if ( substr(phpversion(),0,1) == 5) {\n            $parser = $this-&gt;php5_create_parser($in_enc, $detect);\n        }\n        else {\n            $parser = $this-&gt;php4_create_parser($in_enc, $detect);\n        }\n        if ($out_enc) {\n            $this-&gt;encoding = $out_enc;\n            xml_parser_set_option($parser, XML_OPTION_TARGET_ENCODING, $out_enc);\n        }\n\n        return $parser;\n    }\n\n    /**\n    * Instantiate an XML parser under PHP5\n    *\n    * PHP5 will do a fine job of detecting input encoding\n    * if passed an empty string as the encoding. \n    *\n    * All hail libxml2!\n    *\n    */\n    function php5_create_parser($in_enc, $detect) {\n        // by default php5 does a fine job of detecting input encodings\n        if(!$detect &amp;&amp; $in_enc) {\n            return xml_parser_create($in_enc);\n        }\n        else {\n            return xml_parser_create('');\n        }\n    }\n\n    /**\n    * Instaniate an XML parser under PHP4\n    *\n    * Unfortunately PHP4's support for character encodings\n    * and especially XML and character encodings sucks.  As\n    * force to UTF-8 use admin settings to change this\n    */\n    function php4_create_parser($in_enc, $detect) {\n        if ( $detect ) {\n            $in_enc = 'UTF-8';\n        }\n\n       return xml_parser_create($in_enc);\n\n    }\n</code></pre>\n\n<p>I am out of ideas to solve this. I tried different encodings(ISO, UTF-8 etc.), checking the $data but everything seems file. </p>\n\n<p>An example XML file can be found here: <a href=\"http://pastebin.com/wT1pVZLQ\" rel=\"nofollow\">http://pastebin.com/wT1pVZLQ</a></p>\n"},{"tags":["php","date","strtotime"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13291410,"title":"7 years from date","body":"<p>I am trying to subtract 7 years from the date...</p>\n\n<p>I tried this and it did not work :( what am I doing wrong?</p>\n\n<pre><code>strtotime(\"-7 year\", strtotime(date(\"Y\")))\n</code></pre>\n\n<p>this would echo out <code>1131498720</code> the answer I am looking for is <code>2005</code></p>\n\n<p>I forgot to mention that \"-7\" is a variable <code>$x = -7</code></p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13291982,"title":"Passing DIV through $data variable, but with an Echo Statement in String","body":"<p>Confused by the title? hehe. Not sure how to explain this one, but I think my snippet of code should explain things a little easier. </p>\n\n<p>This is what I'm trying to pass through the <code>$data</code> variable. <code>div</code> is displayed as it should be, but the <code>echo</code> statement inside (which I need) is NOT displayed.</p>\n\n<p>Where am I messing up?</p>\n\n<p><code>$data['packagename'] = '&lt;div class=\"somedoodoo\"&gt; echo $row-&gt;subscription &lt;/div&gt;';</code></p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":47,"score":-2,"question_id":13291794,"title":"why does my total price too long?","body":"<p>Good day, im not good in english but i will try to explain my problem the best way i can. I am currently practicing shopping cart for the preparation of my project in school but i am wondering why my total prices appear too long as shown in the image below .. im really having a hardtime in solving this..  thanks</p>\n\n<p><a href=\"http://img5.uploadhouse.com/fileuploads/16871/168717972af140c402cd6a0e3a0f076721c2f0c3.jpg\" rel=\"nofollow\">my ScreenShot</a></p>\n\n<p>I use the following code</p>\n\n<p>[code]</p>\n\n<pre><code> session_start(); // Start session first thing in script\n// Script Error Reporting\nerror_reporting(E_ALL);\nini_set('display_errors', '1');\n// Connect to the MySQL database  \ninclude \"includes/connect_to_mysql.php\"; \n?&gt;\n&lt;?php \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//       Section 1 (if user attempts to add something to the cart from the product page)\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\nif (isset($_POST['pid'])) {\n    $pid = $_POST['pid'];\n    $wasFound = false;\n    $i = 0;\n    // If the cart session variable is not set or cart array is empty\n    if (!isset($_SESSION[\"cart_array\"]) || count($_SESSION[\"cart_array\"]) &lt; 1) { \n        // RUN IF THE CART IS EMPTY OR NOT SET\n        $_SESSION[\"cart_array\"] = array(0 =&gt; array(\"item_id\" =&gt; $pid, \"quantity\" =&gt; 1));\n    } else {\n        // RUN IF THE CART HAS AT LEAST ONE ITEM IN IT\n        foreach ($_SESSION[\"cart_array\"] as $each_item) { \n              $i++;\n              while (list($key, $value) = each($each_item)) {\n                  if ($key == \"item_id\" &amp;&amp; $value == $pid) {\n                      // That item is in cart already so let's adjust its quantity using array_splice()\n                      array_splice($_SESSION[\"cart_array\"], $i-1, 1, array(array(\"item_id\" =&gt; $pid, \"quantity\" =&gt; $each_item['quantity'] + 1)));\n                      $wasFound = true;\n                  } // close if condition\n              } // close while loop\n           } // close foreach loop\n           if ($wasFound == false) {\n               array_push($_SESSION[\"cart_array\"], array(\"item_id\" =&gt; $pid, \"quantity\" =&gt; 1));\n           }\n    }\n    header(\"location: cart.php\"); \n    exit();\n}\n?&gt;\n&lt;?php \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//       Section 2 (if user chooses to empty their shopping cart)\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\nif (isset($_GET['cmd']) &amp;&amp; $_GET['cmd'] == \"emptycart\") {\n    unset($_SESSION[\"cart_array\"]);\n}\n?&gt;\n&lt;?php \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//       Section 3 (if user chooses to adjust item quantity)\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\nif (isset($_POST['item_to_adjust']) &amp;&amp; $_POST['item_to_adjust'] != \"\") {\n    // execute some code\n    $item_to_adjust = $_POST['item_to_adjust'];\n    $quantity = $_POST['quantity'];\n    $quantity = preg_replace('#[^0-9]#i', '', $quantity); // filter everything but numbers\n    if ($quantity &gt;= 100) { $quantity = 99; }\n    if ($quantity &lt; 1) { $quantity = 1; }\n    if ($quantity == \"\") { $quantity = 1; }\n    $i = 0;\n    foreach ($_SESSION[\"cart_array\"] as $each_item) { \n              $i++;\n              while (list($key, $value) = each($each_item)) {\n                  if ($key == \"item_id\" &amp;&amp; $value == $item_to_adjust) {\n                      // That item is in cart already so let's adjust its quantity using array_splice()\n                      array_splice($_SESSION[\"cart_array\"], $i-1, 1, array(array(\"item_id\" =&gt; $item_to_adjust, \"quantity\" =&gt; $quantity)));\n                  } // close if condition\n              } // close while loop\n    } // close foreach loop\n}\n?&gt;\n&lt;?php \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//       Section 4 (if user wants to remove an item from cart)\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\nif (isset($_POST['index_to_remove']) &amp;&amp; $_POST['index_to_remove'] != \"\") {\n    // Access the array and run code to remove that array index\n    $key_to_remove = $_POST['index_to_remove'];\n    if (count($_SESSION[\"cart_array\"]) &lt;= 1) {\n        unset($_SESSION[\"cart_array\"]);\n    } else {\n        unset($_SESSION[\"cart_array\"][\"$key_to_remove\"]);\n        sort($_SESSION[\"cart_array\"]);\n    }\n}\n?&gt;\n&lt;?php \n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//       Section 5  (render the cart for the user to view on the page)\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n$cartOutput = \"\";\n$cartTotal = \"\";\n$pp_checkout_btn = '';\n$product_id_array = '';\nif (!isset($_SESSION[\"cart_array\"]) || count($_SESSION[\"cart_array\"]) &lt; 1) {\n    $cartOutput = \"&lt;h2 align='center'&gt;Your shopping cart is empty&lt;/h2&gt;\";\n} else {\n    // Start PayPal Checkout Button\n    $pp_checkout_btn .= '&lt;form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\"&gt;\n    &lt;input type=\"hidden\" name=\"cmd\" value=\"_cart\"&gt;\n    &lt;input type=\"hidden\" name=\"upload\" value=\"1\"&gt;\n    &lt;input type=\"hidden\" name=\"business\" value=\"you@youremail.com\"&gt;';\n    // Start the For Each loop\n    $i = 0; \n    foreach ($_SESSION[\"cart_array\"] as $each_item) { \n        $item_id = $each_item['item_id'];\n        $sql = mysql_query(\"SELECT * FROM tbl_products WHERE id='$item_id' LIMIT 1\");\n        while ($row = mysql_fetch_array($sql)) {\n            $product_name = $row[\"product_name\"];\n            $price = $row[\"price\"];\n            $details = $row[\"details\"];\n        }\n        $pricetotal = $price * $each_item['quantity'];\n        $cartTotal = $pricetotal + $cartTotal;\n\n\n        setlocale(LC_MONETARY, \"en_US\");\n        $pricetotal = number_format(2, $pricetotal);\n        // Dynamic Checkout Btn Assembly\n        $x = $i + 1;\n        $pp_checkout_btn .= '&lt;input type=\"hidden\" name=\"item_name_' . $x . '\" value=\"' . $product_name . '\"&gt;\n        &lt;input type=\"hidden\" name=\"amount_' . $x . '\" value=\"' . $price . '\"&gt;\n        &lt;input type=\"hidden\" name=\"quantity_' . $x . '\" value=\"' . $each_item['quantity'] . '\"&gt;  ';\n        // Create the product array variable\n        $product_id_array .= \"$item_id-\".$each_item['quantity'].\",\"; \n        // Dynamic table row assembly\n        $cartOutput .= \"&lt;tr&gt;\";\n        $cartOutput .= '&lt;td&gt;&lt;a href=\"product.php?id=' . $item_id . '\"&gt;' . $product_name . '&lt;/a&gt;&lt;br /&gt;&lt;img src=\"inventory_images/' . $item_id . '.jpg\" alt=\"' . $product_name. '\" width=\"40\" height=\"52\" border=\"1\" /&gt;&lt;/td&gt;';\n        $cartOutput .= '&lt;td&gt;' . $details . '&lt;/td&gt;';\n        $cartOutput .= '&lt;td&gt;$' . $price . '&lt;/td&gt;';\n        $cartOutput .= '&lt;td&gt;&lt;form action=\"cart.php\" method=\"post\"&gt;\n        &lt;input name=\"quantity\" type=\"text\" value=\"' . $each_item['quantity'] . '\" size=\"1\" maxlength=\"2\" /&gt;\n        &lt;input name=\"adjustBtn' . $item_id . '\" type=\"submit\" value=\"change\" /&gt;\n        &lt;input name=\"item_to_adjust\" type=\"hidden\" value=\"' . $item_id . '\" /&gt;\n        &lt;/form&gt;&lt;/td&gt;';\n        //$cartOutput .= '&lt;td&gt;' . $each_item['quantity'] . '&lt;/td&gt;';\n        $cartOutput .= '&lt;td&gt;' . $pricetotal . '&lt;/td&gt;';\n        $cartOutput .= '&lt;td&gt;&lt;form action=\"cart.php\" method=\"post\"&gt;&lt;input name=\"deleteBtn' . $item_id . '\" type=\"submit\" value=\"X\" /&gt;&lt;input name=\"index_to_remove\" type=\"hidden\" value=\"' . $i . '\" /&gt;&lt;/form&gt;&lt;/td&gt;';\n        $cartOutput .= '&lt;/tr&gt;';\n        $i++; \n    } \n    setlocale(LC_MONETARY, \"en_US\");\n    $cartTotal = number_format(2, $cartTotal);\n    $cartTotal = \"&lt;div style='font-size:18px; margin-top:12px;' align='right'&gt;Cart Total : \".$cartTotal.\" USD&lt;/div&gt;\";\n    // Finish the Paypal Checkout Btn\n    $pp_checkout_btn .= '&lt;input type=\"hidden\" name=\"custom\" value=\"' . $product_id_array . '\"&gt;\n    &lt;input type=\"hidden\" name=\"notify_url\" value=\"https://www.yoursite.com/storescripts/my_ipn.php\"&gt;\n    &lt;input type=\"hidden\" name=\"return\" value=\"https://www.yoursite.com/checkout_complete.php\"&gt;\n    &lt;input type=\"hidden\" name=\"rm\" value=\"2\"&gt;\n    &lt;input type=\"hidden\" name=\"cbt\" value=\"Return to The Store\"&gt;\n    &lt;input type=\"hidden\" name=\"cancel_return\" value=\"https://www.yoursite.com/paypal_cancel.php\"&gt;\n    &lt;input type=\"hidden\" name=\"lc\" value=\"US\"&gt;\n    &lt;input type=\"hidden\" name=\"currency_code\" value=\"USD\"&gt;\n    &lt;input type=\"image\" src=\"http://www.paypal.com/en_US/i/btn/x-click-but01.gif\" name=\"submit\" alt=\"Make payments with PayPal - its fast, free and secure!\"&gt;\n    &lt;/form&gt;';\n</code></pre>\n\n<p>[/code]</p>\n"},{"tags":["php","phpunit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13271329,"title":"PHPUnit stops execution after setExpectedException()","body":"<p>I have the following pseudo code</p>\n\n<pre><code>public function testSomething() {\n    // assert something\n    // assert something else\n\n    $this-&gt;setExpectedException(...);\n    // trigger my exception here\n\n    // do one last thing\n}\n</code></pre>\n\n<p>The issue I see, code after the exception being triggered is never made. Is this correct?</p>\n\n<p>This is just a general wondering here - if this is normal I will refactor my test to perform the try/catch directly and <code>fail()</code> the test if nothing is caught.</p>\n"},{"tags":["php","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13014732,"title":"Yii URL Management HTTPS","body":"<p>Im using a code to separate pages that is HTTPS and HTTP in my website</p>\n\n<p>The problem is: When Im on HTTP, links to HTTPS no have WWW and vice versa.\nI did not find the problem in the script.</p>\n\n<p>\n\n<pre><code>public function createUrl($route, $params = array(), $ampersand = '&amp;')\n{\n    $url = parent::createUrl($route, $params, $ampersand);\n\n    // If already an absolute URL, return it directly\n    if (strpos($url, 'http') === 0) {\n        return $url;  \n    }\n\n    // Check if the current protocol matches the expected protocol of the route\n    // If not, prefix the generated URL with the correct host info.\n    $secureRoute = $this-&gt;isSecureRoute($route);\n    if (Yii::app()-&gt;request-&gt;isSecureConnection) {\n        return $secureRoute ? $url : 'http://' . Yii::app()-&gt;request-&gt;serverName . $url;\n    } else {\n        return $secureRoute ? 'https://' . Yii::app()-&gt;request-&gt;serverName . $url : $url;\n    }\n}\n\npublic function parseUrl($request)\n{\n    $route = parent::parseUrl($request);\n\n    // Perform a 301 redirection if the current protocol \n    // does not match the expected protocol\n    $secureRoute = $this-&gt;isSecureRoute($route);\n    $sslRequest = $request-&gt;isSecureConnection;\n    if ($secureRoute !== $sslRequest) {\n        $hostInfo = $secureRoute ? 'https://' . Yii::app()-&gt;request-&gt;serverName : 'http://' . Yii::app()-&gt;request-&gt;serverName;\n        if ((strpos($hostInfo, 'https') === 0) xor $sslRequest) {\n            $request-&gt;redirect($hostInfo . $request-&gt;url, true, 301);\n        }\n    }\n    return $route;\n}\n\nprivate $_secureMap;\n\n/**\n * @param string the URL route to be checked\n * @return boolean if the give route should be serviced in SSL mode\n */\nprotected function isSecureRoute($route)\n{\n    if ($this-&gt;_secureMap === null) {\n        foreach ($this-&gt;secureRoutes as $r) {\n            $this-&gt;_secureMap[strtolower($r)] = true;\n        }\n    }\n    $route = strtolower($route);\n    if (isset($this-&gt;_secureMap[$route])) {\n        return true;\n    } else {\n        return ($pos = strpos($route, '/')) !== false \n            &amp;&amp; isset($this-&gt;_secureMap[substr($route, 0, $pos)]);\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Code adapted from: <a href=\"http://www.yiiframework.com/wiki/407/url-management-for-websites-with-secure-and-nonsecure-pages/\" rel=\"nofollow\">http://www.yiiframework.com/wiki/407/url-management-for-websites-with-secure-and-nonsecure-pages/</a></p>\n"},{"tags":["php","mysql","database","avatar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13260364,"title":"Assign image, move it and retrive it php","body":"<p>This topic maybe sound familiar but im not quite pleased with any of the Stackoverflow questions that are asked. See I´m creating a website with a small amount of members, say somewhere around 50. And I have created my registration form and my login form. But now I wan´t to assign a avatar to each new registered member. When i new member successfully register, a random avatar saved on the server will be assigned to them. The user will carry this avatar with them at every visit. So to clear my question:</p>\n\n<p>How can I assign a random picture to each new user and save the picture to their <code>user_id</code>?</p>\n\n<p>I'm currently using a MySQL and coding in PHP. I have a \"Select-random-picture\" function, but not sure how to store a picture with a user. I'm happy for any kind of advice.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>After some considerations, I have been able to state a clearer goal.\nI'm having images stored in a file system that i want to assign randomly to new members, AND when the image has been assign, it should be \"taken\". So if a new user register he will get a random image without the possibility to getting a already taken image.</p>\n\n<p>I have only succeded in creating a generator that uploads random images, but not assuring that the same picture won't come again:</p>\n\n<pre><code>                    $avatarDir = 'members/images/avatars/';\n                    $pics= glob($avatarDir . '*.{jpg,jpeg,png,gif}', GLOB_BRACE);\n                    $randomPics = $pics[array_rand($pics)]; \n                    $query_new_user_picture = $this-&gt;connection-&gt;query(\"INSERT INTO my_images (image) VALUES('$randomPics')\");\n                    $results = mysql_query($query_new_user_picture);\n</code></pre>\n"},{"tags":["php","javascript","jquery","html","jquery-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13277910,"title":"Onclick return confirm not working in Jquery Mobile?","body":"<p>I am using the simple javascript confirm code:</p>\n\n<pre><code>function test_confirm (str)\n{\n    str = (str == '0')? 'Are you sure?' : str\n\n    return (confirm(str))? true : false\n}\n</code></pre>\n\n<p><code>&lt;a href=\"http://example.com\" onclick=\"return test_confirm(0)\"&gt;Test&lt;/a&gt;</code></p>\n\n<p>This usually works except when I use Jquery Mobile the <code>OK</code> and <code>Cancel</code> button both proceeds to the URL. The expected behavior is the <code>Cancel</code> button should not proceed to the URL.</p>\n\n<p>i.e., I use Jquery Mobile by adding the following in the html <code>head</code>:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css\" /&gt;\n&lt;script src=\"http://code.jquery.com/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Is there anything I should be aware of to make the javascript <code>confirm()</code> function work in Jquery Mobile?</p>\n\n<hr>\n\n<p><strong>Update for Phill Pafford:</strong></p>\n\n<p>It does work on plain HTML but this is actually what I'm doing and it doesn't work after redirecting to the same page using PHP's <code>header('location:')</code>:</p>\n\n<p>The page <code>list</code> contains: </p>\n\n<p><code>&lt;a href=\"list/delete/1\" class=\"customClick\" data-str=\"0\"&gt;Delete 1&lt;/a&gt;</code></p>\n\n<p><code>&lt;a href=\"list/delete/2\" class=\"customClick\" data-str=\"0\"&gt;Delete 2&lt;/a&gt;</code></p>\n\n<p>The <code>list/delete</code> action contains something like this:      </p>\n\n<pre><code>$rest-&gt;delete($id);\nheader('location: http://example.com/list');\n</code></pre>\n\n<p>As you can see after clicking the URL <code>list/delete/1</code> the delete procedure will go on then redirect back to the <code>list</code> page. That's where it starts to not work.</p>\n\n<p>As soon as the redirection happens the confirm dialog doesn't work anymore.</p>\n"},{"tags":["php","phpexcel"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":345,"score":2,"question_id":7470480,"title":"On how to use phpexcel reader","body":"<p>How can I get the values from a cell using php reader.. All of those tutorials in the internet just generates errors in my code and I can't find a reliable site to help me. </p>\n\n<p>Example I have cell Name and under it are names... How can I get the names and store them in an array? Any help would be appreciated, Thanks!</p>\n"},{"tags":["php","utf-8","rss","languages"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13291510,"title":"Rss feed with different language utf8","body":"<p>i am trying to work with the following feed. <a href=\"http://www.amaderbarisal.com/feed\" rel=\"nofollow\">http://www.amaderbarisal.com/feed</a></p>\n\n<p>so as you can see its in bangladeshi.</p>\n\n<p>বরিশাল :: বরিশালে প্রশাসনিক কয়েকটি পদে রদবদল করা হয়েছে। বৃহস্পতিবার জনপ্রশাসন</p>\n\n<p>i am running this function to pulling the data from the rss feed.</p>\n\n<pre><code>$source_xml = utf8_encode(file_get_contents($url));\n$source_xml = simplexml_load_string(str_replace('content:encoded', 'description', $source_xml), 'SimpleXMLElement', LIBXML_NOCDATA);\n\necho \"&lt;pre&gt;\";\n    print_r($source_xml);\necho \"&lt;pre&gt;\";\n</code></pre>\n\n<p>ok there is something happening in the simple xml function that is altering all the data because i get outputted to following.</p>\n\n<p>Ã Â¦Â¬Ã Â¦Â°Ã Â¦Â¿Ã Â¦Â¶Ã Â¦Â¾Ã Â¦Â² :: Ã Â¦Â¬Ã Â¦Â°Ã Â¦Â¿Ã Â¦Â¶Ã Â¦Â¾Ã Â¦Â²Ã Â§Â‡ Ã Â¦ÂªÃ Â§ÂÃ Â¦Â°Ã Â¦Â¶Ã Â¦Â¾Ã Â¦Â¸Ã Â¦Â¨Ã Â¦Â¿Ã Â¦Â• Ã Â¦Â•Ã Â§ÂŸÃ Â§Â‡Ã Â¦Â•Ã Â¦Â</p>\n\n<p>Can someone explain why this maybe happening???</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mysql","json","jqplot"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13291499,"title":"Formatting JSON in PHP from MySQL array for JQPlot","body":"<p>I've looked at the other topics concerning passing JSON data to feed JQPlot but can't quite seem to find what I need. The issue is that I can't get the JSON data formatted correctly. (Yes, this is my first time with formatting and using JSON) I've tried all kinds of combinations, but I'm still looking for the right one.</p>\n\n<p>JQPlot wants to see the data as</p>\n\n<pre><code>[[x,y],[x,y],[x,y],[x,y]]\n</code></pre>\n\n<p>but the best I've been able to output is</p>\n\n<pre><code>[x,y][x,y][x,y][x,y]\n</code></pre>\n\n<p>I'm hoping that someone might be able to tell me what I'm missing. My code is below...</p>\n\n<pre><code>$sql = \"SELECT client_id, SUM(gross) FROM s_pr_wcomp GROUP BY client_id ORDER By SUM(gross) DESC LIMIT 10\";\n$result = mysqli_query($mysql,$sql) or die(mysqli_error('Top 10 Query Failed!'));\n\n// Encode Top 10\n\nwhile($row = mysqli_fetch_array($result)){ \n$grossTop = array(\n    $grossTop[] = $row['client_id'],\n    $grossTop[] = '$'.number_format($row['SUM(gross)'], 2)\n);\n\nheader('ContentType: application/json; charset=utf-8');\necho json_encode($grossTop);\n}\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13291466,"title":"MYSQL: WHERE IN () speed issue for large comparison in Query","body":"<p>I have a serious issue with WhERE IN () condition in mysql query. I am fetching RESULT fron two tables which have not more than 10 fields. I created primary fields in both. </p>\n\n<p>I need to use WHERE IN () to see logged_in IDs which can be more than 500 or long. So it creates a heavy query and it fetches records too slow. When there are logged_in IDs are less than 20 or so its fine but when they are more than 50 or 100 or more it becomes more slow and takes much time to process. </p>\n\n<p>So, my problm is how to make it fast? Am i using wrong technique? I mean should I use something else on place of where IN()? Any idea would be highly appreciated.</p>\n\n<pre><code>SELECT subscriber. * , track . * \nFROM track, subscriber \nWHERE track.type =1 AND \n      track.logged_in IN ( 2803, 2806, 54, 54, 64, 383, 833, 2808, 2809, 2810, 56, 2811, 2812, 2813, 2814, 2815, 2816, 2817, 2818, 2819, 2820, 2821, 2822, 2823, 2824, 2825, 2826, 2827, 2828, 2829, 2830, 2831, 2832 ) AND \n      subscriber.post_id = track.post_id AND \n      track.nmade = subscriber.nmade AND \n      subscriber.userid =  '54' \nORDER BY track.date_created DESC \nLIMIT 5\n</code></pre>\n"},{"tags":["php","xml","dom","rss"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13291250,"title":"Getting paragraph in XML DOM (PHP)","body":"<p>I'm trying to create database of new releases from boomkat.com RSS feed. Feed is located here:\n<a href=\"http://rss.boomkat.com/boomkat_downloads_just_arrived\" rel=\"nofollow\">link</a></p>\n\n<p>Now, I'm having issues with selection of stuff inside paragraph tags.</p>\n\n<p>One paragraph in RSS feed looks like this:</p>\n\n<pre><code>&lt;p&gt;GOAT&lt;br/&gt;&lt;a href=\"http://boomkat.com/downloads/601228-goat-world-music\"&gt;World Music&lt;/a&gt;&lt;br/&gt;ROCKET RECORDINGS&lt;br/&gt;INDIE / ROCK / ALTERNATIVE&lt;br/&gt;MP3 Release&lt;/p&gt;\n</code></pre>\n\n<p>What I did so far is this:</p>\n\n<pre><code>&lt;?php\n\n$dom = new DOMDocument;\n$dom-&gt;validateOnParse = true;\n$dom-&gt;load(\"http://feeds.boomkat.com/boomkat_downloads_just_arrived\");\n$content = $dom-&gt;getElementsByTagName('content');\nforeach ($content as $result) {\n    echo $result-&gt;nodeValue, PHP_EOL;\n}\n?&gt;\n</code></pre>\n\n<p>But that gives me whole feed. Writing 'p' in getElementsByTagName doesn't work.</p>\n"},{"tags":["php","file-upload"],"answer_count":8,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":219,"score":0,"question_id":10780055,"title":"How can I iterate PHP $_FILES array?","body":"<p>This might be stupid question, but PHPs array $_FILES has very odd format, which I have never used before. Can somebody tell me how can I iterate this array in sane way ? I have used to iterate objects or object like arrays, but this format is very odd for me. Is there any way to iterate this array like object array?</p>\n\n<pre><code>( [attachments] =&gt; \n    Array ( \n        [name] =&gt; Array ( \n            [0] =&gt; test1.png \n            [1] =&gt; test2.png \n        ) \n        [type] =&gt; Array ( \n            [0] =&gt; image/png \n            [1] =&gt; image/png \n        ) \n        [tmp_name] =&gt; Array ( \n            [0] =&gt; /tmp/phpmFkEUe \n            [1] =&gt; /tmp/phpbLtZRw \n        )\n        [error] =&gt; Array ( \n            [0] =&gt; 0 \n            [1] =&gt; 0 \n        ) \n        [size] =&gt; Array ( \n            [0] =&gt; 9855 \n            [1] =&gt; 3002 \n        ) \n    ) \n)\n</code></pre>\n"},{"tags":["php","ubuntu","editor","aptana","default"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13291781,"title":"Ubuntu Aptana 3.0: set default editor php","body":"<p>I install on ubuntu 12.10 Aptana 3.0, but I try to set Aptana as default editor PHP / JS, it is not shown in application list.</p>\n\n<p>How I can do it?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":71,"score":-6,"question_id":13291677,"title":"What is the Difference Between PHP and HTML for Jquery","body":"<p>I have downloaded a JavaScript file from <a href=\"http://www.eyecon.ro/zoomimage/\" rel=\"nofollow\">http://www.eyecon.ro/zoomimage/</a></p>\n\n<p>It looks like it's working well, but since it is on .html extention. I have index.php and everything goes wrong. I tried everything to make it run but I can't.</p>\n"},{"tags":["php","javascript","html"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":13290672,"title":"Calling a javascript function by using onClick in a hyperlink","body":"<p>I have been looking online, but I have failed to find a direct answer to my question:</p>\n\n<p><strong>Can you use onClick for a tags?</strong></p>\n\n<p>In other words can you do this (note echoed through php)?</p>\n\n<pre><code>echo \"&lt;a href=\\\"#\\\" id =\\\"loginbutton\\\" onClick=\\\"counter()\\\"&gt;&lt;/a&gt;\\n\";\n</code></pre>\n\n<p>I tried to run this, but when I click on the link, my counter function is not being called.</p>\n\n<p>The rest of my code snippet:</p>\n\n<pre><code>echo \"&lt;script type=\\\"text/javascript\\\" src=\\\"src\\jquery\\jquery.js\\\"&gt;\\n\";\necho \"function counter(){\\n\";\necho \"alert(\\\"HELLO WORLD!\\\");\\n\";\necho \"}\\n\";\necho \"&lt;/script&gt;\\n\";\n\necho \"&lt;a href=\\\"#\\\" id =\\\"loginbutton\\\" onClick=\\\"counter()\\\"&gt;&lt;/a&gt;\\n\";\n</code></pre>\n"},{"tags":["php","apache"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13291185,"title":"open_basedir - how to set for specific directory","body":"<p>I have a directory <code>/htdocs/unsecured</code> and I want to limit whatever is in that directory or its subdirectories from accessing anything outside of that directory. Where and how do I set <code>open_basedir</code> for this directory only?</p>\n"},{"tags":["php","gd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13291630,"title":"How do I put a mysql field value as text, over an image?","body":"<pre><code>header('Content-type: image/jpeg');\n$jpg_image = imagecreatefromjpeg('http://i.imgur.com/d90gd.jpg');\n$white = imagecolorallocate($jpg_image, 0, 0, 0);\n$font_path = './font/zian.ttf';\n$text = $info['fullname'];\nimagettftext($jpg_image, 25, 0, 75, 300, $white, $font_path, $text);\nimagejpeg($jpg_image);\nimagedestroy($jpg_image);\n</code></pre>\n\n<p>the code above works fine if $text = 'some text'; I want to put user's name (retrieved from database) on the image, I have tried setting $text to $info['fullname'] but it prints nothing on the image.</p>\n\n<p>Here is the complete code of the page:</p>\n\n<pre><code>&lt;?php \ninclude(\"vars.php\");\nmysql_connect($dbserver, $dbuser, $dbpass) or die(mysql_error()); mysql_select_db($dbname) or die(mysql_error()); \nif(isset($_COOKIE['ID_my_site'])) \n{   \n    $username = $_COOKIE['ID_my_site']; \n    $pass = $_COOKIE['Key_my_site']; \n    $check = mysql_query(\"SELECT * FROM users WHERE username = '$username'\")or die(mysql_error());\n    while($info = mysql_fetch_array( $check ))   \n    { if ($pass != $info['password']) \n        {   header(\"Location: login.php\");  }\n    else \n        { \n        if($info['invited'] == '1'){\n            header('Content-type: image/jpeg');\n            $jpg_image = imagecreatefromjpeg('http://i.imgur.com/d90gd.jpg');\n            $white = imagecolorallocate($jpg_image, 0, 0, 0);\n            $font_path = './font/zian.ttf';\n            $text = $info['fullname'];\n            imagettftext($jpg_image, 25, 0, 75, 300, $white, $font_path, $text);\n            imagejpeg($jpg_image);\n            imagedestroy($jpg_image);\n        }\n        else{ echo \"Your invitation is not confirmed yet.&lt;p&gt;\"; }\n        echo \"&lt;a href=logout.php&gt;Logout&lt;/a&gt;\"; \n        } \n    } \n} else \n  { header(\"Location: login.php\");  }\n?&gt;\n</code></pre>\n"},{"tags":["php","caching","apc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13291244,"title":"APC User Cache Key collisions on multiple sites","body":"<p>What's the best option for avoiding key collisions between multiple sites running on the same server using APC for user caching?  </p>\n\n<p>I've run into issues where 2 or more sites were using the same cache key and expecting different types of items to be stored under it--one expecting a json string, the other an array, another an object.</p>\n\n<p>Is their a way to segment APC by site?</p>\n\n<p>BTW: I'm using APC with Apache running prefork and mod_php.</p>\n"},{"tags":["php","zend-framework","character-encoding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13290824,"title":"Charset is not working - Spanish characters","body":"<p>This is really driving me crazy. I'm building a spanish website (meaning a lot of latin characters) and I'm using Zend framework.</p>\n\n<p>When I save a <code>á</code> it displays like <code>&amp;Atilde;&amp;iexcl;</code> . I know is a charset encoding but I dont understand why.</p>\n\n<p>My head charset is <code>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;</code> \nMy database is <code>utf8_general_ci</code> . I've changed the charset to others and always the same problem. </p>\n\n<p>When I look in my database, what is saved is an <code>á</code></p>\n\n<p>Any idea why is this happening? Thanks!</p>\n"},{"tags":["php","https","modx","modx-evolution"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13285840,"title":"What is required to run modx evolution on server type https","body":"<p>I have a site that is http and the customer wants it to be https. The site is running on MODX Evolution 1.0.6. </p>\n\n<p>What is required to run that http site as https? I know that I need a certificate, but do I need to change code that works as http to work as https or can I just \"flip the switch\" from http to https?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13291504,"title":"Sometimes print_r() dies","body":"<p>I know this is not so precise question. Sometimes <code>print_r ($something, true);</code> results in stopping request. No error happens, but its like I used the <code>die();</code> function. May it die on larger datas?</p>\n"},{"tags":["php","android","html","mysql","emulator"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13291271,"title":"How to get data from mysql database in html page in android project","body":"<p>I'm making an application in Android. I've made a wrapper in Android(Java) with a webview where I show a HTML page to the user. The HTML page is a login page and I want to check the username and password with the corresponding data in a MySQL database. I've tried this with PHP but it doesn't work, can anyone help me what I can do to solve this problem or tell me why PHP is not working? Maybe the emulator is the problem?</p>\n\n<p>this is the HTML page, it is just a test file to see if it works, at the moment I only check the username. </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script&gt;\nvar xmlhttp;\nfunction login(username)\n{\n    xmlhttp=GetXmlHttpObject();\n    var url=\"checklogin.php\";\n    url=url+\"?username=\"+username;\n    xmlHttp.onreadystatechange=stateChanged;\n    xmlHttp.open(\"GET\",url,true);\n    xmlHttp.send(null);\n    xmlhttp.open(\"GET\",\"checklogin.php?username=\"+username, true);\n    xmlhttp.send();\n}\n\nfunction stateChanged()\n{\n    if(xmlhttp.readyState==4 || xmlhttp.readyState==\"complete\")\n    {\n        document.getElementById(\"test\").innerHTML=xmlhttp.responseText;\n    }\n}\n\nfunction GetXmlHttpObject()\n{\n    var xmlhttp=null;\n    try\n     {\n        // Firefox, Opera 8.0+, Safari\n        xmlhttp=new XMLHttpRequest();\n     }\n    catch (e)\n     {\n     //Internet Explorer\n         try\n          {\n          xmlhttp=new ActiveXObject(\"Msxml2.XMLHTTP\");\n          }\n         catch (e)\n          {\n          xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n          }\n     }\n    return xmlhttp;\n}\n&lt;/script&gt;\n&lt;LINK href=\"style.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form style=\"margin-top: 30%;\"&gt;\n        &lt;input type=\"text\" placeholder=\"Username\" name=\"username\" required=\"required\"/&gt;\n        &lt;input type=\"text\" placeholder=\"Password\" name=\"password\" required=\"required\"/&gt;\n        &lt;input id=\"Login\" onclick=\"login('test')\" type=\"submit\" value=\"Login\" name=\"submit\" class=\"submit\"/&gt;\n&lt;/form&gt;\n&lt;div id=\"test\"&gt;TEST&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>checklogin.php</p>\n\n<pre><code>&lt;?php\n    $username=$_GET[\"username\"];\n    include 'connect.php';\n    $username = stripslashes($username);\n    $username = mysql_real_escape_string($username);\n    $result=mysql_query(\"select * from users where username = '$username'\");\n    while($row=mysql_fetch_array($result)){\n    echo \"&lt;h1&gt;\";\n    echo $row['username'];\n    echo \"&lt;/h1&gt;\";\n    }\n\n?&gt;\n</code></pre>\n\n<p>connect.php: </p>\n\n<pre><code>&lt;?php\n    $conn=mysql_connect(\"XXX.be.mysql\", \"XXX\", \"XXX\") or die ('ERROR'); \n\n    if (!$conn)\n    {\n        die('Could not connect !&lt;br /&gt;Please contact the site\\'s administrator.');\n    }\n    mysql_select_db(\"dbUsers\", $db);\n\n    if (!$db)\n    {\n        die('Could not connect to database !');\n    }\n?&gt;\n</code></pre>\n"},{"tags":["c#","php","javascript"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13288983,"title":"parseInt javascript funtion","body":"<p>I am having a javascript (.js) file which is used in a PHP project &amp; ASP.Net c# project. </p>\n\n<p>I have some statements in javascript like</p>\n\n<pre><code> var width = data[i].Width - data[i].X;\n</code></pre>\n\n<p>This line works as-it-is in my c# project. But in my PHP project, it has to be written as</p>\n\n<pre><code> var width = parseInt(data[i].Width) - parseInt(data[i].X];\n</code></pre>\n\n<p>Please note that data object is returned as JSON result in both projects. </p>\n\n<p>Does anyone know why?</p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13288371,"title":"Displaying list of parent category's children on anchor","body":"<p>A while ago I set up the left navigation on this site: <a href=\"http://makethemostof.co.uk/\" rel=\"nofollow\">http://makethemostof.co.uk/</a> to display all child categories when on a top level category and to display all the sibling categories when on a child category.</p>\n\n<p>I now want to add layered navigation to the child categories (but not the parent categories). The layered navigation works fine but my code for displaying the sibling categories no longer works. Please see here: <a href=\"http://makethemostof.co.uk/house-garden/kitchen\" rel=\"nofollow\">http://makethemostof.co.uk/house-garden/kitchen</a> The list that can be found in the parent ('house and garden') should be appearing above the filters but it is not. </p>\n\n<p>This is what I have in layout/catalog.xml:</p>\n\n\n\n<pre><code>&lt;catalog_category_layered translate=\"label\"&gt;\n    &lt;label&gt;Catalog Category (Anchor)&lt;/label&gt;\n    &lt;reference name=\"root\"&gt;\n        &lt;action method=\"setTemplate\"&gt;&lt;template&gt;page/2columns-left.phtml&lt;/template&gt;&lt;/action&gt;\n    &lt;/reference&gt;\n    &lt;reference name=\"left\"&gt;\n        &lt;block type=\"catalog/navigation\" name=\"catalog.leftnav\" template=\"catalog/navigation/left.phtml\"/&gt;\n        &lt;block type=\"mana_filters/view_category\" name=\"mana.catalog.leftnav\" template=\"catalog/layer/view.phtml\"/&gt;\n        &lt;!--&lt;block type=\"catalog/layer_view\" name=\"catalog.filters\" template=\"catalog/layer/view.phtml\"/&gt;--&gt;\n    &lt;/reference&gt;\n    &lt;reference name=\"content\"&gt;\n        &lt;block type=\"catalog/category_view\" name=\"category.products\" template=\"catalog/category/view.phtml\"&gt;\n            &lt;block type=\"catalog/product_list\" name=\"product_list\" template=\"catalog/product/list.phtml\"&gt;\n                &lt;block type=\"catalog/product_list_toolbar\" name=\"product_list_toolbar\" template=\"catalog/product/list/toolbar.phtml\"&gt;\n                    &lt;block type=\"page/html_pager\" name=\"product_list_toolbar_pager\"/&gt;\n                &lt;/block&gt;\n                &lt;action method=\"addColumnCountLayoutDepend\"&gt;&lt;layout&gt;empty&lt;/layout&gt;&lt;count&gt;6&lt;/count&gt;&lt;/action&gt;\n                &lt;action method=\"addColumnCountLayoutDepend\"&gt;&lt;layout&gt;one_column&lt;/layout&gt;&lt;count&gt;5&lt;/count&gt;&lt;/action&gt;\n                &lt;action method=\"addColumnCountLayoutDepend\"&gt;&lt;layout&gt;two_columns_left&lt;/layout&gt;&lt;count&gt;4&lt;/count&gt;&lt;/action&gt;\n                &lt;action method=\"addColumnCountLayoutDepend\"&gt;&lt;layout&gt;two_columns_right&lt;/layout&gt;&lt;count&gt;4&lt;/count&gt;&lt;/action&gt;\n                &lt;action method=\"addColumnCountLayoutDepend\"&gt;&lt;layout&gt;three_columns&lt;/layout&gt;&lt;count&gt;3&lt;/count&gt;&lt;/action&gt;\n                &lt;action method=\"setToolbarBlockName\"&gt;&lt;name&gt;product_list_toolbar&lt;/name&gt;&lt;/action&gt;\n            &lt;/block&gt;\n        &lt;/block&gt;\n    &lt;/reference&gt;\n&lt;/catalog_category_layered&gt;\n</code></pre>\n\n<p>And here is what I have in template/catalog/navigation/left.phtml:</p>\n\n<pre><code>&lt;?php $currentCat = Mage::registry('current_category');\n\nif ( $currentCat-&gt;getParentId() == Mage::app()-&gt;getStore()-&gt;getRootCategoryId() ) {\n    echo '&lt;h2 class=\"grad\"&gt;'.$this-&gt;getCurrentCategory()-&gt;getName().'&lt;/h2&gt;';\n    $loadCategory = $currentCat;\n} else {\n    echo '&lt;h2 class=\"grad\"&gt;&lt;a href=\"'.$this-&gt;getCurrentCategory()-&gt;getParentCategory()-       &gt;getURL().'\"&gt;'.$this-&gt;getCurrentCategory()-&gt;getParentCategory()-&gt;getName().'&lt;/a&gt;&lt;/h2&gt;';\n    $loadCategory = Mage::getModel('catalog/category')-&gt;load($currentCat-&gt;getParentId());\n}\n\n$cats = $loadCategory-&gt;getChildrenCategories(); ?&gt;\n\n&lt;ul&gt;\n&lt;?php foreach($cats as $category): ?&gt;\n&lt;? $category-&gt;load();\nif ($category-&gt;getIsActive() &amp;&amp; $category-&gt;getIncludeInMenu()) { ?&gt;\n&lt;li&gt;\n    &lt;a href=\"&lt;?php echo $category-&gt;getUrl() ?&gt;\"&gt;&lt;?php echo $category-&gt;getName() ?&gt;&lt;/a&gt;\n&lt;/li&gt;\n&lt;? } ?&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>I can only assume that there is an error somewhere in the above. Any help identifying it would be really appreciated. Thanks!</p>\n"},{"tags":["php","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13271151,"title":"CodeIgniter: load model in each library or kind of 'pass' the model from within the controller to a library","body":"<p>im currently working with CodeIgniter.\nMy Front Controller loads 1 of 2 Library depending on the input he gets.\nBoth of the librarys need access to the model. \nMy question:\nShould I load the model in each library (plus get_instance() of CI in every Library to even get access to the CI load func) or is there any \"better\" solution to load the model in the Frontcontroller und 'pass' the model to either one or the other library. I even check the autoload possibilty but even then I dont have direct access from within the librarys.\nI guess it isnt the best solution to load the model in every library (like, what if i need more libraries and so on) , but im kind of stuck right now.. :-(\n<br>In a nutshell: \n<br>- load the model in the FrontController and maybe \"pass\" the model as an argument to any library I need?\n<br>- or get the instance of CI within any library und then load the model (and write redundant code)\n<br>- or is there even a way better solution?</p>\n\n<p>thx in advance :-)</p>\n\n<h2>edit:<br></h2>\n\n<p>I go with:\n<br>\npublic function __construct()<br>\n{<br>\n$this->ci_instance =&amp; get_instance(); <br>\n$this->ci_instance->load->model('my_model');<br>\n$this->_model = $this->ci_instance->my_model; <br>\n}<br></p>\n\n<p>and then use the functions like this: <br>\n$mysql_result = $this->_model->get_testdata();\n<br> </p>\n\n<p>It is a little bit shorter than the solution from the tank auth lib (but almost the same). :-)\nBut the Tank Auth Lib helped me too (to see how the pros do it).\nThx for that too dm03514!</p>\n"},{"tags":["php","security","symfony2","symfony-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13233026,"title":"Catch AccountStatusException","body":"<p>I would like to implement a custom logic for my users implementing the <a href=\"http://api.symfony.com/2.1/Symfony/Component/Security/Core/User/AdvancedUserInterface.html\" rel=\"nofollow\">AdvancedUserInterface</a></p>\n\n<p>I would like to allow non-enabled users to access some zones (like the account zone where they can change their e-mail if they made a mistake).</p>\n\n<p>According to the documentation : </p>\n\n<blockquote>\n  <p>If any of the methods in this interface return false, authentication\n  will fail.</p>\n  \n  <p>If you need to perform custom logic for any of these situations, then\n  you will need to register an exception listener and watch for the\n  specific exception instances thrown in each case. All exceptions are a\n  subclass of AccountStatusException</p>\n</blockquote>\n\n<p>So I tried to create a Listener by adapting <a href=\"http://symfony.com/doc/current/cookbook/service_container/event_listener.html\" rel=\"nofollow\">this cookbook article</a> to the security events :</p>\n\n<pre><code>&lt;?php\n\nnamespace Acme\\DemoBundle\\Listener;\n\n\nuse Symfony\\Component\\Security\\Core\\SecurityContextInterface;\n\nuse Symfony\\Component\\Security\\Core\\Exception\\AccountStatusException;\n\nclass NecdocPatientExceptionListener\n{\n    public function onKernelException($event)\n    {\n        // Handle event code goes here\n    }\n}\n</code></pre>\n\n<p>And I've added it to the bundle's services.xml :</p>\n\n<pre><code>services:\n    kernel.listener.acme_user_exception_listener:\n        class: Acme\\DemoBundle\\Listener\\AcmeExceptionListener\n        tags:\n            - { name: kernel.event_listener, event: security.authentication.success, method: onKernelException }\n</code></pre>\n\n<p>This catches <strong>AuthenticationFailureEvent</strong> (the onKernelException is called) but not <strong>AccountStatusException</strong> (the onKernelException is not called)</p>\n\n<p>I've been looking to the Security component code, and it seems that exceptions are caught without triggering any events.\nIs there a way to catch those exceptions anyways ?</p>\n"}]}
{"total":298823,"page":4,"pagesize":100,"questions":[{"tags":["php","arrays"],"answer_count":2,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":3587,"score":7,"question_id":2435216,"title":"PHP How to create comma separated list from array?","body":"<p>I know how to loop through items of an array using foreach and append a comma, but it's always a pain having to take off the final comma. Is there an easy PHP way of doing it?</p>\n\n<pre><code>$fruit = array('apple', 'banana', 'pear', 'grape');\n</code></pre>\n\n<p>Ultimately I want </p>\n\n<pre><code>$result = \"apple, banana, pear, grape\"\n</code></pre>\n"},{"tags":["php","curl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13291215,"title":"Broken Cookies Error using PHP cURL","body":"<p>I have coded a small <strong>php</strong> script using <strong>cURL</strong> to calculate the <strong>crc32 checksum</strong> of a randomly generated text on a remote site. My problem is, whenever I execute the script, I get the following error:- \"<strong>You broke the cookie that was set on your system. Access denied to this service.</strong>\"</p>\n\n<p>This is what I've coded:- (<strong>NOTE</strong>:- I've used <strong>echo</strong> function just to view the output. All the <strong>echo</strong> calls will be <strong>excluded</strong> from the script once the program works correctly.)</p>\n\n<blockquote>\n  <p>$ch = curl_init\n  (\"http://hackquest.com/modules/HackQuest/hacking/1239845666/service.php\");</p>\n  \n  <p>curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1); </p>\n  \n  <p>$page = curl_exec ($ch);</p>\n  \n  <p>echo \"The content of the page is: $page \";</p>\n  \n  <p>$arr = explode(' ',trim($page)); $word = $arr[8]; </p>\n  \n  <p>echo \"The required text is :  $word \"; </p>\n  \n  <p>$cs = crc32($word); </p>\n  \n  <p>echo \"The crc32 checksum of the required word is :  $cs  \"; </p>\n  \n  <p>$url = \" \n  <a href=\"http://hackquest.com/modules/HackQuest/hacking/1239845666/service.php?answer=Checksum\" rel=\"nofollow\">http://hackquest.com/modules/HackQuest/hacking/1239845666/service.php?answer=Checksum</a>:$cs \"; </p>\n  \n  <p>echo \"The resulting URL to be posted back is : $url\"; </p>\n  \n  <p>//header(\"location: $url\");</p>\n</blockquote>\n\n<p>I found many tutorials on how to store <strong>cURL cookies</strong> but since I'm an absolute beginner, none of them seemed helpful.\nI am an absolute beginner in <strong>programming</strong>. Please help considering me an absolute <strong>noob</strong>.</p>\n"},{"tags":["php","html","post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13291023,"title":"Lost select value after submitting and clicking on link","body":"<p>Hello I have problem that I'm loosing <code>$_POST['id']</code> value from select tag after clicking on href. Well the code is here: </p>\n\n<pre><code>$page = 1;\nif (isset($_POST['id'])){\n    $id = $_POST['id'];\n}\n\necho $id[0];\n?&gt;\n\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=\"?show=all\"&gt;Show All&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"?show=submitted\"&gt;Show Submitted&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"?show=pending\"&gt;Show Pending&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"?show=not\"&gt;Show Not Submitted&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;form action=\"\" method=\"post\"&gt;\n    &lt;select name=\"id\"&gt;\n        &lt;option value=\"1\"&gt;one&lt;/option&gt;\n        &lt;option value=\"2\"&gt;two&lt;/option&gt;\n        &lt;option value=\"3\"&gt;three&lt;/option&gt;\n        &lt;option value=\"4\"&gt;four&lt;/option&gt;\n        &lt;option value=\"5\"&gt;five&lt;/option&gt;\n        &lt;option value=\"6\"&gt;six&lt;/option&gt;\n        &lt;option value=\"7\"&gt;seven&lt;/option&gt;\n        &lt;option value=\"8\"&gt;eight&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;input type=\"submit\" name=\"mode\" value=\"Select\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The idea is that after when i've selected some value from selected field I need to keep that value in variable and also I need for further filtering SQL query which works after <code>&lt;a href=\"\"&gt;</code>.\nAt the moment after submitting form I get select value, but after further filtering pressing any of <code>&lt;a href=\"\"&gt;</code> links <code>$_POST</code> value dissapears... how can I keep that value after pressing on any link?</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13290043,"title":"sql query to like some texts","body":"<p>I have some problems with sql like query...\nmy site  like imdb.com..storing movie details..there is actors names also..in my actor field  storing actors name like \"name1,name2,name3,name4\" and in my site have option to search movies with actor name...now i am using code like below</p>\n\n<pre><code>SELECT * FROM imdb WHERE actors LIKE '%%actorname%%'\n</code></pre>\n\n<p>but,this code's problem is if one actor name is 'Mohanlal' and Another actor name is 'Lal'\nIf anyone search for 'Lal'..Mohanlal's and Lal's Movies will list..i only want to list 'Lal' Movies..How i can query that???</p>\n"},{"tags":["php","pdf","text"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13291280,"title":"Extracting text from pdf data stream in php","body":"<p>I have a url which returns a page with some pdf data along with html...I removed the HTML part and now the data string contains data in pdf format.I need to extract text content of the pdf file from this string.Is there a way to do that in php?I have googled and found no working way to do that..The data starts with %PDF and ends in EOF .B/w that there is some unrecognizable characters(possibly binary data)</p>\n"},{"tags":["php","soap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13290362,"title":"Configure SOAP with PHP","body":"<p>I need install SOAP for PHP on my server. Looking at the documentation on the PHP manual there is only this instruction</p>\n\n<pre><code>To enable SOAP support, configure PHP with --enable-soap\n</code></pre>\n\n<p>Can anyone tell me how I do this? I'm assuming that I need to do this on the command line somehow?</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13290879,"title":"Regex how to detect character not in string","body":"<p>I have some subjects which looks like this:</p>\n\n<p><code>hu</code>\n<code>ha</code>\n<code>ho</code>\n<code>hi</code></p>\n\n<p>My pattern looks like this <code>#^(h.+)$#</code></p>\n\n<p>which is returning all my strings as <code>true</code>. This is expected. Now I want to only select strings which do not contain <code>o</code>.</p>\n\n<p><strong>How can I add a negative condition to my regex?</strong></p>\n"},{"tags":["php","concurrency"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13291035,"title":"PHP run multiple function at the same time","body":"<p>This is my first application with multi thread concept.</p>\n\n<p>Folder contains the more than 10 flat file, each flat file is 4 gb. </p>\n\n<p>my script nearly took the 1 hrs for 1 flat file, so how to implement the parallel processing, and execute all files in multiple thread. </p>\n\n<p>How i am reading file from folder ?\n     just using while loop, call the SP inside while, flat file are the input for the SP.</p>\n\n<p>What i want is : execute all flat file in one shot.</p>\n"},{"tags":["php","arrays","paypal"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13291145,"title":"PHP Reconstruct array Paypal TransactionSearch Function","body":"<p>I am making a call to Paypals API TransactionSearch and I am getting back a flat array of data. I am needing to reconstruct this array. Here is the structure that I get back from paypal:</p>\n\n<pre><code> array(36){\n[\n    \"L_TIMESTAMP0\"\n]=&gt;string(28)\"2012%2d09%2d18T22%3a10%3a13Z\"[\n    \"L_TIMESTAMP1\"\n]=&gt;string(28)\"2012%2d09%2d18T19%3a55%3a41Z\"[\n    \"L_TIMESTAMP2\"\n]=&gt;string(28)\"2012%2d09%2d18T19%3a55%3a41Z\"[\n    \"L_TIMEZONE0\"\n]=&gt;string(3)\"GMT\"[\n    \"L_TIMEZONE1\"\n]=&gt;string(3)\"GMT\"[\n    \"L_TIMEZONE2\"\n]=&gt;string(3)\"GMT\"[\n    \"L_TYPE0\"\n]=&gt;string(7)\"Payment\"[\n    \"L_TYPE1\"\n]=&gt;string(7)\"Payment\"[\n    \"L_TYPE2\"\n]=&gt;string(7)\"Payment\"[\n    \"L_EMAIL0\"\n]=&gt;string(26)\"XXXXX%40hotmail%2ecom\"[\n    \"L_EMAIL1\"\n]=&gt;string(31)\"XXXX%40lvcoxmail%2ecom\"[\n    \"L_EMAIL2\"\n]=&gt;string(23)\"XXXXt%2ecom\"[\n    \"L_TRANSACTIONID0\"\n]=&gt;string(17)\"13E586955G649992Y\"[\n    \"L_TRANSACTIONID1\"\n]=&gt;string(17)\"8LH96897T3119113R\"[\n    \"L_TRANSACTIONID2\"\n]=&gt;string(17)\"87U867057E085230E\"[\n    \"L_STATUS0\"\n]=&gt;string(9)\"Completed\"[\n    \"L_STATUS1\"\n]=&gt;string(9)\"Completed\"[\n    \"L_STATUS2\"\n]=&gt;string(9)\"Completed\"[\n    \"L_AMT0\"\n]=&gt;string(7)\"85%2e00\"[\n    \"L_AMT1\"\n]=&gt;string(7)\"85%2e00\"[\n    \"L_AMT2\"\n]=&gt;string(7)\"85%2e00\"[\n    \"L_CURRENCYCODE0\"\n]=&gt;string(3)\"USD\"[\n    \"L_CURRENCYCODE1\"\n]=&gt;string(3)\"USD\"[\n    \"L_CURRENCYCODE2\"\n]=&gt;string(3)\"USD\"[\n    \"L_FEEAMT0\"\n]=&gt;string(9)\"%2d2%2e17\"[\n    \"L_FEEAMT1\"\n]=&gt;string(9)\"%2d2%2e17\"[\n    \"L_FEEAMT2\"\n]=&gt;string(9)\"%2d2%2e17\"[\n    \"L_NETAMT0\"\n]=&gt;string(7)\"82%2e83\"[\n    \"L_NETAMT1\"\n]=&gt;string(7)\"82%2e83\"[\n    \"L_NETAMT2\"\n]=&gt;string(7)\"82%2e83\"[\n    \"TIMESTAMP\"\n]=&gt;string(28)\"2012%2d11%2d08T14%3a24%3a30Z\"[\n    \"CORRELATIONID\"\n]=&gt;string(13)\"52c22d68648cd\"[\n    \"ACK\"\n]=&gt;string(7)\"Success\"[\n    \"VERSION\"\n]=&gt;string(6)\"51%2e0\"[\n    \"BUILD\"\n]=&gt;string(7)\"4137385\"\n</code></pre>\n\n<p>}</p>\n\n<p>I need to reset the array to just the following:\n       [\"L_STATUSn\"]=>string(9)\"Completed\"\n       [\"L_TRANSACTIONIDn\"]=>string(17)\"8LH96897T3119113R\"</p>\n\n<p>with 'n' being the number, being the array key number that paypal returns.</p>\n\n<p>Here is the code I am using, and it is borked.</p>\n\n<pre><code>        $i = 0;\n    $c = 0;\n    foreach ($comparison AS $aKey =&gt; $v) {\n        $findme1 = 'L_TIMESTAMP'.$i++;\n        $findme2 = 'L_STATUS'.$c++;\n        $txid = $myarray[$findme1];\n        $status = $myarray[$findme2];\n        $TXid = array_search('$findme1', $aKey);\n        $Status = array_search('$findme2', $aKey);\n        $TxID[] = array('Status' =&gt; $aStatus, 'TransactionID' =&gt; $aTransactionID);\n        }\n</code></pre>\n\n<p>appreciate abetter way to reconstruct this array, the method I am trying to use doesnt appear to be too efficient.</p>\n"},{"tags":["php","oop","namespaces"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13290762,"title":"Shortcutting PHP's classes in a namespaced environment","body":"<p>This is me being picky... but currently I have to use <code>\\</code> in front of all my classes...</p>\n\n<pre><code>    //credit card expiration years and months\n    $expirationYears = array();\n    $expirationMonths = array();\n    $datePeriod = new \\DatePeriod(new \\DateTime(), new \\DateInterval(\"P1Y\"), 5);\n    foreach ($datePeriod as $year) {\n        $expirationYears[] = $year-&gt;format('Y');\n    }\n    $datePeriod = new \\DatePeriod(new \\DateTime('January 1st'), new \\DateInterval(\"P1M\"), 11);\n    foreach ($datePeriod as $month) {\n        $class = new \\stdClass();\n        $class-&gt;value = $month-&gt;format('m');\n        $class-&gt;label = $month-&gt;format('M');\n        $expirationMonths[] = $class;\n    }\n</code></pre>\n\n<p>Is there a way around this or is that just something that's required in a namespaced environment?</p>\n\n<p>I consider it unreasonable to specify a <code>use</code> for each class... that's too tedius to maintain</p>\n"},{"tags":["php","frameworks"],"answer_count":7,"favorite_count":6,"up_vote_count":11,"down_vote_count":0,"view_count":1515,"score":11,"question_id":1851920,"title":"Why use a framework with PHP?","body":"<p>I'm curious, what are the advantages (and disadvantages) on using a framework with PHP?</p>\n\n<p>I've been using PHP on and off since version 3. I've never used any of the frameworks available for PHP, so what am I missing out on?</p>\n"},{"tags":["php","regex","validation","email-validation"],"answer_count":3,"favorite_count":6,"up_vote_count":12,"down_vote_count":1,"view_count":3088,"score":11,"question_id":5855811,"title":"How to validate an email in PHP?","body":"<p>How can I validate the input value is a valid email address using php5. Now I am using this code </p>\n\n<pre><code>function isValidEmail($email){ \n     $pattern = \"^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,3})$\"; \n\n     if (eregi($pattern, $email)){ \n        return true; \n     } \n     else { \n        return false; \n     }    \n} \n</code></pre>\n\n<p>but it shows deprecated error. How can I fix this issue. Please help me.</p>\n"},{"tags":["php","string"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13290956,"title":"Why it returns a string value when there is no such index in the array","body":"<pre><code>$arr = array(\n         'application' =&gt; array (\n            'environment' =&gt; 'development',\n            'mode_debug' =&gt; 1,\n            'key' =&gt; '123456abcdefg',\n            'debug_soft' =&gt;\n            'firephp',\n            'aaa' =&gt; array (\n                'bbb' =&gt; '111',\n                'ccc' =&gt; '222',\n                'ddd' =&gt; array (\n                    'eee' =&gt; '12345',\n                ),\n            ),\n        ),\n        'database' =&gt; array (\n            'host' =&gt; 'localhost',\n            'database' =&gt; '',\n            'username' =&gt; '',\n            'password' =&gt; '',\n            'charset' =&gt; 'utf8',\n            'prefix' =&gt; '',\n        ),\n    );\n\n\nif(isset($arr[\"application\"][\"aaa\"][\"ddd\"][\"eee\"]['out']) &amp;&amp; !empty($arr[\"application\"][\"aaa\"][\"ddd\"][\"eee\"]['out'])){\n    echo \"a\";\n    echo '&lt;br /&gt;';\n    var_dump($arr[\"application\"][\"aaa\"][\"ddd\"][\"eee\"]['out']);\n}else{\n    echo \"b\";\n}\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>a\nstring(1) \"1\" \n</code></pre>\n\n<p>but there is no 'out' index in the '$arr' array, so why it returns 'string(1) \"1\"'?</p>\n\n<p>The manual doesn't help, because it only samples one dimentional array:</p>\n\n<pre><code>$a = array ('test' =&gt; 1, 'hello' =&gt; NULL);\n\nvar_dump( isset ($a['test']) );            // TRUE\nvar_dump( isset ($a['foo']) );             // FALSE\nvar_dump( isset ($a['hello']) );           // FALSE\n</code></pre>\n"},{"tags":["php","codeigniter","pyrocms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":19,"score":-2,"question_id":13278913,"title":"Adding to the default page model in PyroCMS","body":"<p>I want to have 2 default chunks instead of 1 when making a new page.</p>\n\n<p>The reason is, my main template is split into 2 sections and I want to start with 2 chunks.</p>\n\n<p>What I would like to do is edit the page module so that whenever a user creates a new page they will always start with 2 chunks that I have named and defined. </p>\n\n<p>What would I have to modify in order to achieve this?</p>\n\n<p>Note: I already modified the page module and database to add some custom fields. I assume this is the same deal but I can't find where the initial chunk is being created...</p>\n"},{"tags":["php","javascript","html","proxy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":178,"score":0,"question_id":957808,"title":"Send Page Requests Through Server?","body":"<p>Would it be possible if a user clicked on a link inside an iframe showing an outside site to have the webpage request be routed through the server that the iframe is hosted on?</p>\n\n<p>Example:\nIframe on somesite.com showing google.com\nUser clicks a result link to someothersite.com\nThe request is sent through somesite.com's server and is logged so that they now have a record of what link they clicked on. </p>\n\n<p>Possible? Not? </p>\n\n<p>Thanks.</p>\n"},{"tags":["php","locale","strftime"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":174,"score":0,"question_id":7971176,"title":"setlocale doesnt work for am or pm in specific time format","body":"<p>I am using setlocale to convert the time to different language.  The date format works fine in english language.  Also Its working fine for month for different locale but its not showing 'am' or 'pm'.</p>\n\n<p>Below is my code:  </p>\n\n<pre><code> setlocale(LC_TIME,'nl_NL');\n echo strftime(\"%h %d, %G - %I:%M %P\",\"UNIX TIME\");\n</code></pre>\n\n<p>for \"en_US\" as locale: output is : Oct 10,2011 08:19 AM<br>\nfor \"nl_NL\" as locale: outpupt is : Okt 10,2011 08:19</p>\n\n<p>As per the above output: AM is missing in different locale. </p>\n\n<p>Thanks.</p>\n"},{"tags":["php","nginx","fastcgi","php5-fpm"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":354,"score":2,"question_id":6726497,"title":"Temporary value (local value) with nginx php FPM","body":"<p>I have search a lot but not answers found.</p>\n\n<p>i won't to have a lot of pool of PHP FPM, i want it to be like mod_php, and in nginx i wrote :</p>\n\n<pre><code>fastcgi_param PHP_VALUE \"open_basedir = /var/xxx/\";\n</code></pre>\n\n<p>It works, but it declare the open_basedir for entiere life of process witch have execute php script (i have done tests). In <code>phpinfo()</code>, the <code>open_basedir</code> value (this) appears both local value and master value.</p>\n\n<p>i think do a <code>fastcgi_param</code> file with a <code>PHP_VALUE</code> default value for security, for example (it will certainly never go, but it's principe of security) if a server <code>{}</code> have not redefine the <code>open_basedir</code> or other values modified (not a lot). I don't like this definitive override, it's dangerous, i sink.</p>\n\n<p>Do you know how to declare to FPM that <code>fastcgi_param</code> are always temporary ?? Like Apache <code>php_admin_value</code> ... !!!</p>\n\n<p>I have not found the answer, but it's too stupid for not exist !</p>\n\n<p>Sorry for my english, i don't speak good, it's not my native language. Thanks for futurs answers :)</p>\n"},{"tags":["php","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2828,"score":2,"question_id":5295697,"title":"Yii framework,CGridView Checkbox help","body":"<p>I want an alert that pops when user tries to click \"add to favorite\"<br>\n1) if there's no checkboxes checked.<br >\n2) I also want to know how to get the values of the checked boxes <br> here's my current code on backend</p>\n\n<pre><code>&lt;?php $this-&gt;widget('zii.widgets.grid.CGridView',array(\n'id' =&gt; 'wsrecruitcvhead-grid',\n'dataProvider' =&gt; $model-&gt;search(),\n#'filter' =&gt; $model,\n'columns' =&gt; array(\n    array(\n      'name' =&gt;'',\n      'value' =&gt; 'CHtml::checkBox(\"rid[]\",null,array(\"value\"=&gt;$data-&gt;ResumeID,\"id\"=&gt;\"rid_\".$data-&gt;ResumeID))',\n      'type'=&gt;'raw',\n      'htmlOptions' =&gt; array('width'=&gt;5),\n      'visible' =&gt; !Yii::app()-&gt;user-&gt;isGuest,\n    ),\n    array(\n       'name' =&gt; 'ResumeTitle',\n       'value' =&gt;$model-&gt;ResumeTitle,\n    ),\n    'ResumeSummaryIntroduction',\n    'Name',\n    array(\n        'class' =&gt; 'CButtonColumn',\n        'viewButtonUrl' =&gt; 'Yii::app()-&gt;createUrl(\"wsrecruitcvhead/view\",array(\"id\"=&gt;$data[\"ResumeID\"]))',\n        'template'=&gt;'{view}',\n    ),\n),\n</code></pre>\n\n<p>));\n?></p>\n\n<p>and here's the screen shot <code>http://pastebin.com/sEpJBCiU</code></p>\n"},{"tags":["php","preg-replace"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13289259,"title":"Is it safe to use preg_ functions with ascii-character pattern and utf-8 multibyte subject?","body":"<p>I know that if I use multibyte(UTF-8) characters for the pattern, I have to use <code>mb_</code> functions or have to use <code>u</code> option for pattern of <code>preg_</code> functions.</p>\n\n<p>But when I use multibyte(UTF-8) characters only for the subject of <code>preg_</code> functions and use only ascii characters for the pattern, do <code>preg_</code> functions (without <code>u</code> option) work correctly?</p>\n\n<p>I know that in this case I have to use <code>mb_</code> function or add <code>u</code> option to the pattern:</p>\n\n<pre><code>$str = preg_replace(\"/$utf8_multibyte_pattern/\", '', $str);\n</code></pre>\n\n<p>I want to know if this code(<code>u</code> option is not used) is safe or not:</p>\n\n<pre><code>$ascii_pattern = \"[a-zA-Z0-9'$#\\\\\\\"%&amp;()\\-~|~=!@`{}[]:;+*/.,_&lt;&gt;?_\\n\\t\\r]\";\n$multibyte_str = preg_replace(\"/$ascii_pattern/\", '', $utf8_multibyte_str);\n</code></pre>\n"},{"tags":["php","gettext","intl"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":393,"score":5,"question_id":5644412,"title":"PHP gettext() analog in Intl library?","body":"<p>So - I'm looking for a way to to do i18n and l10n.\nI've used gettext before and it was good - I would simply create .mo files in different languages and everything that needed to be translated would be in this notation:</p>\n\n<pre><code>echo __('string to be translated');\n</code></pre>\n\n<p>Now. I know that there is Intl library built into PHP right now. And I've been told that I should use it instead of gettext()....</p>\n\n<p>2 hours later after reading through everything there is about Intl on php.net I see that it has some nice features like handling locale, string comparison, number formatter etc.</p>\n\n<p>What I can't figure out is - how In the world would I handle regular string to string translation using Intl library? </p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":13290649,"title":"How remove duplicate words using php","body":"<p>i want to remove duplicate words (\"tteeeessst stttringgg\" => \"test string\").<br>\nIs there a short way that php can do that?</p>\n"},{"tags":["php","locale","php-5.2","intl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":255,"score":0,"question_id":7797970,"title":"php5 intl 1.1.2 LOCALE configuring / not working properly","body":"<p>I had a copy of PHP 5.2.17 (running on Debian) without intl extension installed on my server. I followed <a href=\"http://www.jejik.com/articles/2008/07/howto_build_and_install_the_intl_pecl_extension_for_php5_in_debian/\" rel=\"nofollow\"><em>Howto: build and install the intl PECL extension for PHP5 in Debian</em></a> guide and got it installed, however the Locale class is still not working properly.</p>\n\n<ul>\n<li><code>Locale::DEFAULT_LOCALE;</code> is <code>NULL</code>.</li>\n<li><code>setlocale(LC_TIME, 'en_US', 'fr_FR.UTF8', 'fr.UTF8', 'fr_FR.UTF-8', 'fr.UTF-8')</code> is <code>false</code></li>\n</ul>\n\n<p>If I setup  <code>ini_set('intl.default_locale', 'cs_CZ');</code> and call <code>Locale::DEFAULT_LOCALE;</code> on the next line then the result is <code>NULL</code> again.</p>\n\n<p>PHPInfo is says:</p>\n\n<pre><code>intl.default_locale = no value\nintl.error_level    = 0\n</code></pre>\n"},{"tags":["php","zend-framework","dompdf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12044366,"title":"Using dompdf with Zend?","body":"<p>Before I started using Zend Framework, I simply installed dompdf in a directory and was able to call PDF downloads through a URL, similar to this:</p>\n\n<p><code>http://*url*dompdf/dompdf.php?base_path=**path**&amp;name=**name**</code></p>\n\n<p>I thought I'd try and be clever and just insert dompdf into the Zend /public directory.  But then I realized it wasn't going to properly call the classes that dompdf uses, such as DOMPDF_Exception, etc.</p>\n\n<p>Is there a way around this? I really have no idea how to integrate the two, and they have to be accessible by URL (as seen above)</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","input","anchor","textinput"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13290772,"title":"Load CSS/JS file to textbox from a link","body":"<p>I am looking for suggestions and code samples to get a file and load it into a text area. Let me give a bit more of a detail.</p>\n\n<p>My code searches for a file, and with in that file there is a array for additional CSS files. I am looking for a way to get the CSS file to be loaded to a text-area once you click on a button.</p>\n\n<p><strong>Every file contains this:</strong></p>\n\n<pre><code>$CSS = array(file.css);\n</code></pre>\n\n<p><strong>Now, how can I get:</strong></p>\n\n<pre><code>&lt;a href=\"file.css\"&gt;CSS&lt;/a&gt;\n</code></pre>\n\n<p><strong>or</strong></p>\n\n<pre><code>&lt;button onclick=\"myFunction()\"&gt;CSS&lt;/button&gt;\n</code></pre>\n\n<p><strong>To load here:</strong></p>\n\n<pre><code>&lt;textarea id=\"filecontent\" name=\"filecontent\" cols=\"80\" rows=\"10\"&gt;\".$filecontent.\"&lt;/textarea&gt;\n</code></pre>\n"},{"tags":["php","gettext"],"answer_count":1,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":478,"score":3,"question_id":4132036,"title":"gettext not translating","body":"<p>I installed the php-gettext package, and <code>phpinfo()</code> shows that gettext is enabled. </p>\n\n<p>My app.po looks like: </p>\n\n<pre><code>msgid \"Welcome\" \nmsgstr \"Willkommen auf meiner Homepage!\"\n\nmsgid \"Hier you can find stuff about me.\"\nmsgstr \"Hier finden Sie Informationen uber mich.\"`\n</code></pre>\n\n<p>My php file looks like: </p>\n\n<pre><code>putenv('LC_ALL=de_DE');\nsetlocale(LC_ALL, 'de_DE');\nbindtextdomain(\"app\", \"./lang\");\ntextdomain(\"app\");\n\necho gettext(\"Welcome\");\necho _('Hier you can find stuff about me.');\n</code></pre>\n\n<p>The app.mo is in <code>./lang/de_DE/LC_MESSAGES/</code></p>\n\n<p>The text isn't getting translated and I'm not getting any error messages.</p>\n"},{"tags":["php","javascript","html","forms"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":6286,"score":1,"question_id":5438216,"title":"How do I post button value to PHP?","body":"<p>I want use A-Z buttons on a html page like shown below (only sample and few words)</p>\n\n<pre><code>&lt;INPUT TYPE=\"BUTTON\" VALUE=\" A \" ONCLICK=\"A\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" B \" ONCLICK=\"B\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" C \" ONCLICK=\"C\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" D \" ONCLICK=\"D\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" E \" ONCLICK=\"E\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" F \" ONCLICK=\"F\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" G \" ONCLICK=\"G\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" H \" ONCLICK=\"H\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" I \" ONCLICK=\"I\"&gt;\n&lt;INPUT TYPE=\"BUTTON\" VALUE=\" J \" ONCLICK=\"J\"&gt;\n</code></pre>\n\n<p>when I click on each button I want to post respective values on button to a PHP variable.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["php","codeigniter","continuous-integration"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1204,"score":1,"question_id":5085836,"title":"CodeIgniter blank screen after migration","body":"<p>So I have a site written using the CI framework. It worked fine on the original host (Apache). It works fine locally (IIS 7 Express). We have just purchased a new VPS (Windows Server 2008 R2) and php was pre-installed (PHP Version 5.2.10) now when I go to the site I get a blank page.</p>\n\n<p>After debugging by simply printing 'OK' ever so often I determined CodeIgniter.php is failling over on:</p>\n\n<pre><code>$CI  = new $class();\n</code></pre>\n\n<p>Now to try and tackle the problem I have gone into config.php and set:</p>\n\n<pre><code>$config['log_threshold'] = 4; \n</code></pre>\n\n<p>However I am not even getting any log files. I noticed the permissions were not enabled for write so I went to \"c:\\inetput\\wwwroot\" and set max permissions for user \"IIS_IUSRS\"</p>\n\n<p>Unfortunatly still, no log file is created. \"index.php\" is still blank so I am totally confused. This is my first time working with a CI app. Please help!</p>\n\n<p>Edit: Ensured MySQL Installed and MySQL enabled for PHP</p>\n\n<p>Thanks\nChris</p>\n"},{"tags":["php","imap"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":27,"score":3,"question_id":13288659,"title":"Corrupt .docx files when using a PHP IMAP class","body":"<p>I'm Using this PHP IMAP Class: <a href=\"http://code.google.com/p/php-imap/source/browse/trunk/ImapMailbox.php\" rel=\"nofollow\">http://code.google.com/p/php-imap/source/browse/trunk/ImapMailbox.php</a> on a current project. After a few modifications the class is working. However whenever the class downloads .docx files they are always corrupt and have to be recovered by office.</p>\n\n<pre><code>    protected function initMailPart(IncomingMail $mail, $partStruct, $partNum) {\n    $data = $partNum ? $this-&gt;imap_fetchbody($this-&gt;mbox, $mail-&gt;mId, $partNum, FT_UID) : $this-&gt;imap_body($this-&gt;mbox, $mail-&gt;mId, FT_UID);\n\n    if($partStruct-&gt;encoding == 1) {\n        $data = $this-&gt;imap_utf8($data);\n    }\n    elseif($partStruct-&gt;encoding == 2) {\n        $data = $this-&gt;imap_binary($data);\n    }\n    elseif($partStruct-&gt;encoding == 3) {\n        $data = $this-&gt;imap_base64($data);\n    }\n    elseif($partStruct-&gt;encoding == 4) {\n        $data = $this-&gt;imap_qprint($data);\n    }\n    $data = trim($data);\n\n    $params = array();\n    if(!empty($partStruct-&gt;parameters)) {\n        foreach($partStruct-&gt;parameters as $param) {\n            $params[strtolower($param-&gt;attribute)] = $param-&gt;value;\n        }\n    }\n    if(!empty($partStruct-&gt;dparameters)) {\n        foreach($partStruct-&gt;dparameters as $param) {\n            $params[strtolower($param-&gt;attribute)] = $param-&gt;value;\n        }\n    }\n    if(!empty($params['charset'])) {\n        $data = iconv($params['charset'], $this-&gt;serverEncoding, $data);\n    }\n\n    // attachments\n    if($this-&gt;attachmentsDir) {\n        $filename = false;\n        $attachmentId = $partStruct-&gt;ifid ? trim($partStruct-&gt;id, \" &lt;&gt;\") : null;\n        if(empty($params['filename']) &amp;&amp; empty($params['name']) &amp;&amp; $attachmentId) {\n            $filename = $attachmentId . '.' . strtolower($partStruct-&gt;subtype);\n        }\n        elseif(!empty($params['filename']) || !empty($params['name'])) {\n            $filename = !empty($params['filename']) ? $params['filename'] : $params['name'];\n            $filename = $this-&gt;decodeMimeStr($filename);\n            $filename = $this-&gt;quoteAttachmentFilename($filename);\n        }\n        if($filename) {\n            if($this-&gt;attachmentsDir) {\n                $filepath = rtrim($this-&gt;attachmentsDir, '/\\\\') . DIRECTORY_SEPARATOR . $filename;\n                file_put_contents($filepath, $data);\n                $mail-&gt;attachments[$filename] = $filepath;\n            }\n            else {\n                $mail-&gt;attachments[$filename] = $filename;\n            }\n            if($attachmentId) {\n                $mail-&gt;attachmentsIds[$filename] = $attachmentId;\n            }\n        }\n    }\n    if($partStruct-&gt;type == 0 &amp;&amp; $data) {\n        if(strtolower($partStruct-&gt;subtype) == 'plain') {\n            $mail-&gt;textPlain .= $data;\n        }\n        else {\n            $mail-&gt;textHtml .= $data;\n        }\n    }\n    elseif($partStruct-&gt;type == 2 &amp;&amp; $data) {\n        $mail-&gt;textPlain .= trim($data);\n    }\n    if(!empty($partStruct-&gt;parts)) {\n        foreach($partStruct-&gt;parts as $subpartNum =&gt; $subpartStruct) {\n            $this-&gt;initMailPart($mail, $subpartStruct, $partNum . '.' . ($subpartNum + 1));\n        }\n    }\n}\n\nprotected function decodeMimeStr($string, $charset = 'UTF-8') {\n    $newString = '';\n    $elements = $this-&gt;imap_mime_header_decode($string);\n    for($i = 0; $i &lt; count($elements); $i++) {\n        if($elements[$i]-&gt;charset == 'default') {\n            $elements[$i]-&gt;charset = 'iso-8859-1';\n        }\n        $newString .= iconv($elements[$i]-&gt;charset, $charset, $elements[$i]-&gt;text);\n    }\n    return $newString;\n}\n</code></pre>\n"},{"tags":["php","validation","codeigniter","form-validation"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13285030,"title":"How to prevent displaying double validation errors in CI?","body":"<p>I'm setting the same callback function for multiple fields in my form:</p>\n\n<pre><code>foreach($fields as $class =&gt; $i)\n{\n    ++$i;\n    $validation-&gt;set_rules('car_' . $i . '_one', $class, 'trim|xss_clean|callback_validate_car_fields[TRUE]');\n    $validation-&gt;set_rules('car_' . $i . '_twor', $class, 'trim|xss_clean|callback_validate_car_fields[FALSE]');\n    $validation-&gt;set_rules('in_car_' . $i . '_one', $class, 'trim|xss_clean|callback_validate_car_fields[TRUE]');\n    $validation-&gt;set_rules('in_car_' . $i . '_two', $class, 'trim|xss_clean|callback_validate_car_fields[FALSE]');\n}\n</code></pre>\n\n<p>(<code>class</code> variale is the <code>Car</code> in this case)</p>\n\n<p>Here is the callback function:</p>\n\n<pre><code>function validate_car_fields($input, $required)\n{\n\n    if ($required === \"TRUE\" &amp;&amp; empty($input))\n    {\n        $this-&gt;form_validation-&gt;set_message('validate_car_fields', 'Field %s can not be empty!');\n        return FALSE;\n    }\n\n    return TRUE;\n}\n</code></pre>\n\n<p>And it is showing the doubled errors:</p>\n\n<pre><code>* Field Car can not be empty!\n* Field Car can not be empty!\n* Field Car can not be empty!\n* Field Car can not be empty!\n</code></pre>\n\n<p>It is understandable behaviour in this case, but I would like to show just one error per <strong>field name</strong>, instead of 4 for each field. How this can be done?</p>\n"},{"tags":["php","web-applications","frameworks"],"answer_count":6,"favorite_count":6,"up_vote_count":5,"down_vote_count":0,"view_count":1804,"score":5,"question_id":2972943,"title":"Web-apps : to framework or not to framework?","body":"<p>I know PHP and am just beginning with MySql (but plan to use ODBC). I don't need any books explaining that.</p>\n\n<p>I am probably qualified to develop a simple web site, but aim at taking on quite ambitious apps. I imagine that almost all web apps have some commonality like security, scalability, etc (I have absolutely no idea how to distribute a data base or an app over server servers, for instance).</p>\n\n<p>Since I can't foresee the exact nature of the applications which I might develop (other than that PHP &amp; ODBC will be involved), is there any point in getting married to a framework, or should I just reinvent the wheel and personalize it to make it my own framework.</p>\n\n<p>If an existing framework, then which one? The only help I can give is that I am not likely to do websites, portals, shoppings sites, etc, probably leaning more to asset tracking and data mining.</p>\n"},{"tags":["php","centos","cpanel"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":258,"score":0,"question_id":9339571,"title":"NewRelic install on centos and cpanel","body":"<p>I'm trying to install NewRelic on my website, I use PHP, cPanel(VPS/dedicated) and Centos (64bit) for my server, I've installed the server monitoring part right on my server but when I try to install the 'app' part on my server I can't get that to install, I followed the instruction links <a href=\"http://newrelic.com/docs/php/new-relic-for-php\" rel=\"nofollow\">http://newrelic.com/docs/php/new-relic-for-php</a></p>\n\n<p>but to no success, has anyone got any ideas as to why this maybe? I have restared httpd and appache multiple times and given it some time to propogate etc..</p>\n"},{"tags":["php","html","css"],"answer_count":8,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13290452,"title":"PHP and CSS quotes issue","body":"<p>Hy, </p>\n\n<p>I'm having trouble with quotes. I'm working on a html mail newsletter and it's a nightmare. I've read a lot about how to fix this but nothing won't work. I've tried without quotes, with \\ ... Nothing won't work (maybe I was doing something wrong).</p>\n\n<p>So , let's say this is the code:</p>\n\n<pre><code>echo '&lt;td style=\"\n    background-image:url(?http://x/y/image.png?);\n                \"\n      &lt;/td&gt;';\n</code></pre>\n\n<p>? - what quotes to use </p>\n"},{"tags":["php","mysql","forms","query","iterate"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13290680,"title":"Assign variables to a MySQL iterative result set","body":"<p>StackOverflow,</p>\n\n<pre><code>$resultpaid = $mysqli-&gt;query($paidquery);\nwhile ($row=$resultpaid-&gt;fetch_array()) \n{\n  print $row['paid'] .'&lt;br /&gt;';\n}\n</code></pre>\n\n<p>I realize this should be simple, unfortunately, I'm not well versed in PHP.  I'm trying to take the result set from this while loop and assign them to variables.  Basically right now it finds two rows, both with integer values.  So when it iterates through, it prints out 250 and 260.  I'm trying to figure out if there's a way to assign each row a variable in order to add the integers together, or reference them individually at a certain point.  </p>\n"},{"tags":["php","mysql","query","join"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":8,"view_count":25,"score":-7,"question_id":13290733,"title":"How is the speed factor on joining two tables with 10000 rows each and then fetching 100 rows in alphabetic order?","body":"<p>This is a Scalability question.</p>\n"},{"tags":["php","frameworks"],"answer_count":17,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":3766,"score":7,"question_id":133701,"title":"Is Symfony a good framework to learn?","body":"<p>I've never used any public framework (always used internal frameworks, or my own). I see that <a href=\"http://en.wikipedia.org/wiki/Symfony\" rel=\"nofollow\">Symfony</a> has a <a href=\"http://www.symfony-project.org/\" rel=\"nofollow\">lot of tutorials and nice documentation</a> and seems to have everything from CRUD to multiple language handling.</p>\n\n<p>Do you think it's a good framework to build a website that is more complicated than a blog*? If not, what is another alternative?</p>\n\n<p>*Website with login to manage financial data.</p>\n"},{"tags":["php","post","utf-8","character-encoding","get"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13286614,"title":"GET/POST convert to UTF-8 in php","body":"<p>I'm reading a lot about UTF-8 and encoding but I'm lost,</p>\n\n<p>I simply want to parse a string with a <code>GET</code>/<code>POST</code> in php and if it contains something else that UTF-8 to convert it (in my occasion Greek)</p>\n\n<p>so my faulty code is: </p>\n\n<pre><code>$title = $_GET['title'];\n//and sometimes I use this:\n$info = htmlspecialchars(trim($_GET['info']));\n\necho $title, $info;\n</code></pre>\n\n<p>and it echoes <code>Î»ÎµÎ¾Î· Î»Î­Î¾Î·1</code> for some greek characters given (which is wrong of course).</p>\n\n<p>Thanks</p>\n\n<p><strong>Update:</strong>\nJust wanted to update with my solution in case somebody reads this. The problem was just one line which was missing:</p>\n\n<pre><code>mysql_set_charset('utf8', $con);\n</code></pre>\n\n<p>With <code>$con</code> of course handling the <code>mysql_connect</code></p>\n"},{"tags":["php","class","public"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":43,"score":-1,"question_id":13286906,"title":"PHP OOP - is public property available in all other class, which are not an extension of that class","body":"<p>This <a href=\"http://stackoverflow.com/questions/4361553/php-public-private-protected#answer-4361582\">post</a> made me confusing about public property in OOP!\n    \n\n<pre><code>    public function get_name(){\n        echo $this-&gt;name;\n    }\n}\nclass test2{    \n    public function get_e_name(){\n        echo $this-&gt;name;\n    }   \n}\n\n$test= new test2();\n$test-&gt;get_e_name(); \n?&gt;\n</code></pre>\n\n<p>The above code gives error. I really didnt get <em>\"public property is available in anywhere and other classes\"</em></p>\n"},{"tags":["php","mysql","shell-exec","whmcs","libssh2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":17,"score":-2,"question_id":13287531,"title":"Drop MySQL User & Database with SSH2","body":"<p>I am finishing up a server deployment/management module for our billing system that will allow us to easily create/terminate MySQL Databases. My boss hired someone else to write the create script a while back, so that was easy enough to just integrate into a module. I have taken the code from the create and modified it to drop the database and user, but I want to confirm that the syntax is correct.</p>\n\n<p>I have omitted all of the variables but the values for them are correct. I do not understand the reason for the excess of escape characters but do not want to remove them without being positive about it. I am also unaware of what the \"-e\" flag is used for and Google results thus far have turned up without anything, if someone can explain that for me.</p>\n\n<p>Thank you!</p>\n\n<pre><code>function mysql_TerminateAccount($params)\n{ \n    if($connection-&gt;login($sshuser, $sshpass))\n    {\n        $mysqlhst='%';\n        $database = $clientid . \"_clientdb\";\n\n        // Remove User Account\n        $connection-&gt;exec('mysql -h localhost -u '.$mysqluser.' -p'.$mysqlpass.' -e \"DROP USER \\'' . $clientid1 . '\\'@\\'' . $mysqlhst . '\\'\"', true);\n\n        // Remove User Database\n        $connection-&gt;exec('mysql -h localhost -u '.$mysqluser.' -p'.$mysqlpass.' -e \"DROP DATABASE \\'' . $database . '\\'\"', true);\n\n        $result = \"success\";\n    }\n}\n</code></pre>\n"},{"tags":["php","ajax","mvc","controller"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":58,"score":1,"question_id":13289967,"title":"Good practice? PHP MVC Controller Ajax","body":"<p>Is this a good practice to handle normal and ajax calls with one controller:</p>\n\n<pre><code>&lt;?php\n\nclass SomeController extends Controller {\n\n    function index() {\n\n         if(!$this-&gt;input-&gt;is_ajax_request()) {\n             // load model\n             // create form\n             // pass data to view\n             // ...\n         } else {\n            // validate input\n            // load model\n            // write data to database\n            // return with some json string\n         }\n\n    }\n\n}\n</code></pre>\n\n<p>What are the advantages and disadvantages?</p>\n"},{"tags":["php","session","cookies","session-state"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":3,"view_count":33,"score":0,"question_id":13287443,"title":"How a cookies will maintain session state?","body":"<p>Cookies allow your applications to store a small amount of textual data (typically,\n4-6kB) on a Web client. There are a number of possible uses for cookies, although\ntheir most common one is maintaining session state.Cookies are typically set by the server using a response header, and subsequently made available by the client as a request header.</p>\n\n<p>this is from zce study guide.</p>\n\n<p>My questions are</p>\n\n<pre><code>1. how a session state is maintained by cookie?\n2. what happens to these cookies when we use session_destroy()?\n</code></pre>\n"},{"tags":["php","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13290066,"title":"Example for Yii public $loginRequiredAjaxResponse","body":"<p>Problem\n 1) when i request a page through ajax, i'm getting login page in response, the reason is session is expired. I can solve this issue by polling, but recently I came to know that yii gives solution for this like setting $loginRequiredAjaxResponse variable, i'm trying hard but i'm not able solve this, can anyone give me a example how actually to use. I am calling ajax request from my upload page.</p>\n\n<p>Thank You.</p>\n"},{"tags":["php","frameworks"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3307,"score":2,"question_id":575200,"title":"which is the best PHP framework to use for PHP 5?","body":"<p>I want to start using framework to ease my new programming life.but am confuse on which to start using ,because am not that experienced in PHP.\nany suggestions,i would prefer a framework built on PHP5</p>\n"},{"tags":["php","oop","namespaces"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":45,"score":4,"question_id":13290558,"title":"I must be misunderstanding PHP's \"use\" keyword","body":"<p>I'm using an application with PHP's namespaces and I thought that instead of me doing...</p>\n\n<pre><code>\\MyNamespace\\ClassName::MyFunction();\n</code></pre>\n\n<p>I could do </p>\n\n<pre><code>use MyNamespace;\nClassName::MyFunction();\n</code></pre>\n\n<p>if I'm using that object many times within the page.  This isn't working for me.  I keep having to use the first method.</p>\n\n<p>What am I missing about the <code>use</code> keyword?</p>\n"},{"tags":["php","zend-framework","zend-auth","zend-acl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":812,"score":1,"question_id":4318599,"title":"Multiple Instances (2) of Zend_Auth","body":"<p>I have a CMS built on the Zend Framework.  It uses <code>Zend_Auth</code> for \"CMS User\" authentication.  CMS users have roles and permissions that are enforced with <code>Zend_Acl</code>.  I am now trying to create \"Site Users\" for things like an online store.  For simplicity sake I would like to use a separate instance of <code>Zend_Auth</code> for site users.  <code>Zend_Auth</code> is written as a singleton, so I'm not sure how to accomplish this.</p>\n\n<p>Reasons I don't want to accomplish this by roles:</p>\n\n<ol>\n<li>Pollution of the CMS Users with Site Users (visitors)</li>\n<li>A Site User could accidentally get elevated permissions</li>\n<li>The users are more accurately defined as different types than different roles</li>\n<li>The two user types are stored in separate databases/tables</li>\n<li>One user of each type could be signed in simultaneously</li>\n<li>Different types of information are needed for the two user types</li>\n<li>Refactoring that would need to take place on existing code</li>\n</ol>\n"},{"tags":["php","windows"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13289595,"title":"Starting a Windows process in PHP and get it's PID?","body":"<p>I can't seem to get this working. </p>\n\n<p>So I'm attempting to write a script for my game that connects to the server passing a few parameters for game name/type/players/etc. and the server script then sets up a new instance of the game server as it needs, runs the new instance of the server, finds which port it's running on, and sends all that info back to the game. </p>\n\n<p>I've gotten up to the part where the script needs to execute the server game exe, and get it's PID (so I can get which port it's using, etc).</p>\n\n<p>The server script is a PHP script, which is to execute the new instance of the server. (PHP seemed like a good choice, and is relatively in my knowledge).</p>\n\n<hr>\n\n<p>The script must be able to finish executing, while keeping the game server running in the background. </p>\n\n<p>Being able to run multiple game servers simultaneously is a necessity. </p>\n\n<hr>\n\n<p>I've tried using <code>proc_open</code> but it gives the wrong PID of the process, which makes it useless. (though, it does execute the program right)</p>\n\n<pre><code>&lt;?php\n\n    $startDir = \"C:/Torque/My Projects/Grim/game\";\n    $runExe = \"$startDir/Grimwood.exe\";\n    $envars = \" -dedicated -mission \\\"core/levels/Empty Terrain.mis\\\"\";\n\n    $runPath = $runExe . $envars;\n\n    chdir($startDir);\n\n    $descriptorspec = array(\n        0 =&gt; array(\"pipe\", \"r\"),  // stdin is a pipe that the child will read from\n        1 =&gt; array(\"pipe\", \"w\"),  // stdout is a pipe that the child will write to\n    );\n\n    $prog = proc_open($runPath, $descriptorspec, $pipes, $startDir, NULL);\n\n    sleep(4);\n\n    if (is_resource($prog)) \n    {\n        $stats = proc_get_status($prog);\n        $pid = $stats['pid'];\n\n        $task = shell_exec(\"tasklist /fi \\\"PID eq $pid\\\"\");\n\n        echo(\"\\nProcess: \\n$task\"); // echos cmd.exe, not process ran\n    }\n\n?&gt;\n</code></pre>\n\n<p>The PID it prints belongs to the console window it's executing it from, and not the program it actually executed.</p>\n\n<hr>\n\n<p>Next I tried using the MS script host <code>WScript.Shell</code>, and its <code>exec</code>/<code>run</code> methods. </p>\n\n<pre><code>&lt;?php\n\n    $startDir = \"C:/Torque/My Projects/Grim/game\";\n    $runExe = \"$startDir/Grimwood.exe\";\n    $envars = \" -dedicated -mission \\\"core/levels/Empty Terrain.mis\\\"\";\n\n    $runPath = $runExe . $envars;\n\n    chdir($startDir);    \n\n    try\n    {\n        $WshShell = new COM(\"WScript.Shell\");\n\n        // gets right process ID\n        // but process doesn't start properly with params\n        $oExec = $WshShell-&gt;exec($runPath);\n        echo(\"PID: \" . $oExec-&gt;ProcessId);\n\n        sleep(4);\n\n        // executes properly\n        // but doesn't return PID\n        $oExec = $WshShell-&gt;run($runPath);\n        echo(\"PID: \" . $oExec-&gt;ProcessId);\n\n    }\n    catch (Exception $e)\n    {\n        // never gets hit\n        echo(\"Failed to execute\");\n    }\n\n?&gt;\n</code></pre>\n\n<p>Running the exec command, it gives the right PID, but the program doesn't start properly (just shows a blank terminal window, doing nothing). </p>\n\n<p>Running the run command, it start the program correctly (shows all the text it's supposed to in the terminal window), though, the command doesn't return the PID.</p>\n\n<hr>\n\n<p>Any help on the matter would be greatly appreciated. I'm not sure what I'm doing wrong with the <code>WScript.Shell->exec</code> command for it to not be executing right, so all help on that matter would be appreciated. </p>\n\n<p>If it's possible, I would like to use the <code>proc_open</code> method as it's a bit more cross-platform if we ever want to move any server stuff over to *nix.</p>\n\n<p>Thanks for your time, I hope some bright mind can point me in the right direction.</p>\n\n<hr>\n\n<p>PHP Version: 5.4.3</p>\n\n<p>Dev Machine: Windows 7 Ultimate with SP1</p>\n\n<p>Server Machine: Windows Server 2008 R2</p>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":39,"score":-4,"question_id":13290138,"title":"Submitting a single username into a database then next page displaying information about that same user","body":"<p>I have created a database called example on mysql, created a table called <code>user</code> and populated it with rows <code>id</code>, <code>Name</code> and <code>Sex</code>.</p>\n\n<pre><code>id   int autocomplete.\nName varchar25(30) null unique \nSex  varchar25(7) null\n</code></pre>\n\n<p>Then, populated the table with the following below:</p>\n\n<pre><code>1, peter, male\n2, jane,  female\n3, sue,   female\n</code></pre>\n\n<p>Now, here lies the problem: I created a form on php that contains just a textbox and a submit button and when a user like <code>sue</code> inputs her name <code>sue</code> hits the submit button and it matches the record <code>sue</code> in the database. I want <code>sue</code>'s record to be displayed in a page called <em>sue's bio-data</em>, meaning her <code>name</code> and <code>sex</code> should appear pulled from the database example.</p>\n"},{"tags":["php","excel","csv","utf-8","bom"],"answer_count":11,"favorite_count":8,"up_vote_count":20,"down_vote_count":0,"view_count":19222,"score":20,"question_id":4348802,"title":"How can I output a UTF-8 CSV in PHP that Excel will read properly?","body":"<p>I've got this very simple thing that just outputs some stuff in CSV format, but it's got to be UTF-8. I open this file in TextEdit or TextMate or Dreamweaver and it displays UTF-8 characters properly, but if I open it in Excel it's doing this silly íÄ kind of thing instead. Here's what I've got at the head of my document:</p>\n\n<pre><code>header(\"content-type:application/csv;charset=UTF-8\");\nheader(\"Content-Disposition:attachment;filename=\\\"CHS.csv\\\"\");\n</code></pre>\n\n<p>This all seems to have the desired effect except Excel (Mac, 2008) doesn't want to import it properly. There's no options in Excel for me to \"open as UTF-8\" or anything, so … I'm getting a little annoyed.</p>\n\n<p>I can't seem to find any clear solutions to this anywhere, despite a lot of people having the same problem. The thing I see the most is to include the BOM, but I can't exactly figure out how to do that. As you can see above I'm just <code>echo</code>ing this data, I'm not writing any file. I can do that if I need to, I'm just not because there doesn't seem like a need for it at this point. Any help?</p>\n\n<p>Update: I tried echoing the BOM as <code>echo pack(\"CCC\", 0xef, 0xbb, 0xbf);</code> which I just pulled from a site that was trying to detect the BOM. But Excel just appends those three characters to the very first cell when it imports, and still messes up the special characters.</p>\n"},{"tags":["php","mvc","frameworks"],"answer_count":23,"favorite_count":12,"up_vote_count":26,"down_vote_count":2,"view_count":5690,"score":24,"question_id":257212,"title":"Best PHP framework for an experienced PHP developer?","body":"<p>Okay, before I start this, I am well aware of how subjective this question is.</p>\n\n<p>For my case, I'd like to define the 'best' for me as:</p>\n\n<ul>\n<li>Rapid development</li>\n<li>\"Pretty\" URLs</li>\n<li>Data validation</li>\n<li>Good knowledge base available</li>\n<li>Not impossible to integrate other PHP software with</li>\n</ul>\n\n<p>This is a pretty generic definition, but all I'm looking for here is opinions.</p>\n\n<p>Edited: Here's a better way to ask this question:</p>\n\n<p><strong>You have two weeks to create a full scale booking and scheduling system that accepts Google Checkout payments (via the API) and integrates with an open source message board software.</strong></p>\n\n<p><strong>Which framework do you choose and why?</strong></p>\n\n<p>Edit two years later: Since the question seems to get a lot of views still, I figured I'd update it with my findings since then.\nI went with Zend Framework, and the project went fabulous -- although it was quite the learning process to fully understand and properly utilize ZF. I've since used ZF on literally dozens of projects since this one. I find ZF is a great tool to use when your requirements are a very custom application, but I lean towards CMS's with solid API's when the requirements are more simplistic. </p>\n\n<p>This isn't to downplay other frameworks, I've done some cool stuff with Kohana and have utilized a few components of Symfony. </p>\n\n<p>The chosen answer still stands as most correct. Frameworks are tools and each has their high points and low points. Pick the right one for the job, and the one that is going to be the <strong>most efficient for you</strong>.</p>\n"},{"tags":["php","xml","xml-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":531,"score":0,"question_id":8775669,"title":"How to parse XML file using php","body":"<p>I want to parse the following xml and get the value of metadata:description using php</p>\n\n<p>I know how to get the value of title</p>\n\n<pre><code>$item_title = $x -&gt; item($i) -&gt; getElementsByTagName('title') -&gt; item(0) -&gt; childNodes -&gt; item(0) -&gt; nodeValue;\n</code></pre>\n\n<p>but can not use this way to get metadata:description</p>\n\n<pre><code>&lt;item&gt;\n  &lt;title&gt;Jobs: Bullish Economy Confirmed?&lt;/title&gt;\n  &lt;metadata:title xmlns:metadata=\"http://search.cnbc.com/rss/2.0/modules/siteContentMetadata\"&gt;Jobs: Bullish Economy Confirmed?  06 Jan 2012&lt;/metadata:title&gt;\n  &lt;description&gt;Discussing whether the better than expected jobs number point to an economic rebound, and where to invest in this market, with Michael Farr, Farr, Miller, &amp;amp; Washington president.&lt;/description&gt;\n  &lt;metadata:description xmlns:metadata=\"http://search.cnbc.com/rss/2.0/modules/siteContentMetadata\"&gt;&lt;![CDATA[&lt;div class=\"rss_image\" style=\"float:left;padding-right:10px;\"&gt;&lt;img border=\"0\" vspace=\"0\" hspace=\"0\" width=\"93\" src=\"http://thumbnails.cnbc.com/VCPS/Y2012/M01D06/3000066213/6ED1-KR-Jobs_sm.jpg\"&gt;&lt;/div&gt;&lt;div class=\"rss_abstract\" style=\"font:Arial 12px;width:100%;float:left;clear:both\"&gt;Discussing whether the better than expected jobs number point to an economic rebound, and where to invest in this market, with Michael Farr, Farr, Miller, &amp;amp; Washington president.&lt;/div&gt;]]&gt;&lt;/metadata:description&gt;\n  &lt;pubDate&gt;Sat, 07 Jan 2012 00:24 GMT&lt;/pubDate&gt;\n  &lt;guid isPermaLink=\"false\"&gt;http://www.cnbc.com//id/15840232?video=3000066213&amp;amp;play=1&lt;/guid&gt;\n  &lt;link&gt;http://www.cnbc.com//id/15840232?video=3000066213&amp;amp;play=1&lt;/link&gt;\n&lt;/item&gt;\n</code></pre>\n\n<hr>\n\n<p>Original xml file link</p>\n\n<pre><code>http://www.cnbc.com/id/19838222/device/rss/rss.xml\n</code></pre>\n"},{"tags":["php","mysql","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13289869,"title":"PHPEXCEL rows layout","body":"<p>I would like to write into a csv file using PHPEXCEL in the following format. The class in bold and a space after every class group.</p>\n\n<p><img src=\"http://i.stack.imgur.com/cPEXM.png\" alt=\"Format wanted\"></p>\n\n<p>But i have not been able to find a way to do it.</p>\n\n<p>Here is what I could do.</p>\n\n<p><img src=\"http://i.stack.imgur.com/v4GPf.png\" alt=\"The format i have\"></p>\n\n<p>I generate the data from an sql and loop thought it. Here is my code</p>\n\n<pre><code>$sql=\"SELECT * FROM table ORDER BY typeclass\";\n$query=mysql_query($sql);\n\n$check='';\n$i=1;\nwhile($row=mysql_fetch_assoc($query))\n{       \n    if($row['class']!=$check)\n    {\n        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue('A'.$i,$row['Class']);\n        $check=$row['class'];\n    }\n\n    $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue('B' .$i,$row['Name']);\n    $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue('C' .$i,$row['score']);\n\n    $i++;                   \n}\n</code></pre>\n\n<p>Can anyone help me get the desired output.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13290436,"title":"AND operator behavior with/without brackets","body":"<pre><code>$a = true and false; //true\n$b = true &amp;&amp; false; //false\n$c = (true and false); //false\n$d = (true &amp;&amp; false); //false\n</code></pre>\n\n<p>Why gives case 'a'  true?</p>\n\n<p>I thought that and and &amp;&amp; has the same precedence but <a href=\"http://www.php.net/manual/en/language.operators.precedence.php\" rel=\"nofollow\">they don't</a>. </p>\n"},{"tags":["php","kohana","kohana-3"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13271122,"title":"Kohana 3.2 Concatenating % to variable when doing a 'where like'","body":"<h2>Answer:</h2>\n\n<p>I feel like a complete dummy =( I didn't realize it was adding a space at the end of the string in my code. After I rtrim the empty space from the string it all works.</p>\n\n<p>I'm very sorry to have wasted everyones time =S</p>\n\n<hr>\n\n<p>I came across an odd thing, here is an example:</p>\n\n<p>This returns the correct result with no problems.</p>\n\n<pre><code>ORM::factory('blog_post')-&gt;where('title', 'like', 'this is my 1 post%')-&gt;find();\n</code></pre>\n\n<p>This however, doesn't return anything at all...</p>\n\n<pre><code>$post_title = 'this is my 1 post';\nORM::factory('blog_post')-&gt;where('title', 'like', $post_title.'%')-&gt;find();\n</code></pre>\n\n<p>And this doesn't either, <strong>even though the text is the same in all 3 examples</strong></p>\n\n<pre><code>$post_title = 'this is my 1 post%';\nORM::factory('blog_post')-&gt;where('title', 'like', $post_title)-&gt;find();\n</code></pre>\n\n<p>Any ideas as to why?</p>\n\n<p>Thank you very much for any help =)</p>\n"},{"tags":["php","doctrine","yaml","fixtures","doctrine-1.2"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13288316,"title":"Human readable Array/Object data fixtures in Doctrine 1.2 using YAML","body":"<p>Is it possible to have fixtures with human readable, unserialized php arrays, without having to serialize them?</p>\n\n<p>Currently I serialize the data, but it's hard to read and edit. If I dump data I receive readable data, but it doesn't seem possible to import.</p>\n\n<p>Schema for the field in question:</p>\n\n<pre><code>    template_data: \n      type: object\n      default: null\n</code></pre>\n\n<p>This is the kind of entry I currently have in my data-fixtures YAML file. It is serialized (PHP) and works fine when loading fixtures into a database:</p>\n\n<pre><code>BannerCampaign:\n  BannerCampaign_1:\n    name: Frontpage\n    description: Frontpage\n    template_data: a:1:{s:7:\"banners\";a:3:{i:0;a:4:{s:6:\"target\";s:0:\"\";s:3:\"url\";s:32:\"/url/123\";s:10:\"image_path\";s:11:\"front_1.jpg\";s:3:\"alt\";s:0:\"\";}i:1;a:4:{s:6:\"target\";s:0:\"\";s:3:\"url\";s:39:\"/url/456\";s:10:\"image_path\";s:11:\"front_2.jpg\";s:3:\"alt\";s:0:\"\";}i:2;a:4:{s:6:\"target\";s:0:\"\";s:3:\"url\";s:18:\"/url/789\";s:10:\"image_path\";s:11:\"front_3.jpg\";s:3:\"alt\";s:0:\"\";}}}\n</code></pre>\n\n<p>This is the kind of fixtures I get when dumping a database to a fixture file (<code>doctrine.php dump-data</code>)</p>\n\n<pre><code>BannerCampaign:\n  BannerCampaign_1:\n    name: Frontpage\n    description: Frontpage\n    template_data:\n      banners:\n        -\n          target: ''\n          url: /url/123\n          image_path: front_1.jpg\n          alt: ''\n        -\n          target: ''\n          url: /url/456\n          image_path: front_2.jpg\n          alt: ''\n        -\n          target: ''\n          url: /url/789\n          image_path: front_3.jpg\n          alt: ''\n</code></pre>\n\n<p>The latter YAML is more readable, but I doesn't seem possible to import the fixtures to a database without the following error:</p>\n\n<pre><code>PHP Warning:  unserialize() expects parameter 1 to be string, array given in\n</code></pre>\n\n<p>Any idea if what I \"hope\" is achievable, is in fact, achieveable?</p>\n"},{"tags":["php","xhtml","web-frameworks"],"answer_count":11,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1329,"score":2,"question_id":637135,"title":"The best php basic framework","body":"<p>I'm wondering if there's any framework that I could use for a basic website with CMS features.</p>\n\n<p>Some features that I was looking for in the framework are:</p>\n\n<ul>\n<li>basic CMS editing features,</li>\n<li>possibly easy way of constructing web forms, (contact us, feedback, subscription)</li>\n<li>pretty URL with mod-rewrite.</li>\n</ul>\n\n<p>Maybe I'm asking too much. </p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":30,"score":-2,"question_id":13289895,"title":"Free Source Code – Twitter Database Server: get_tweets.php","body":"<p>I have this PHP code to get tweets from tweet Database server but I have no idea how to execute.</p>\n\n<p>I did the following steps and nothing happened.</p>\n\n<ol>\n<li>I installed the WAMPserver.</li>\n<li>I saved this PHP code in Notepad++</li>\n<li>I launched it in firefox browser</li>\n</ol>\n\n<p>Can anybody please try the code and let me know what the step that I missed?</p>\n\n<p>the code:</p>\n\n<p><a href=\"http://140dev.com/free-twitter-api-source-code-library/twitter-database-server/get-tweets-php/\" rel=\"nofollow\">http://140dev.com/free-twitter-api-source-code-library/twitter-database-server/get-tweets-php/</a></p>\n\n<p>Thanks..</p>\n"},{"tags":["php","arrays","array-filter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13290217,"title":"How to filter out even index values with array_filter?","body":"<p>I'm trying to filter out values by their even index numbers, but it isn't going well.\n$date is being return as the full array but with the last index missing. Is this because I'm using explode()?</p>\n\n<p>Here's my code;</p>\n\n<pre><code>$route = \"Dest A:0900:Dest B:0930:Dest C:1000\";\n\n$route_array = explode(\":\", $route);\n\nforeach($route_array as $key){\n    if(!($key &amp; 1)){\n        $date[] .= $key;\n    }\n}\nreturn $date;\n</code></pre>\n"},{"tags":["php","javascript","jquery","firefox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13289049,"title":"open jquery popup from ajax","body":"<p>I use jquery pop-up plugin that works perfectly on my page.</p>\n\n<p>But if I call this page from ajax, the Jquery pop-up doesn't works.</p>\n\n<p>Any suggetions?</p>\n\n<p>Thank you very much!! </p>\n\n<pre><code>$(document).ready(\n\nfunction(){\n//open popup\n$(\".pop\").click(function(){\n\nvar url = $(this).attr('name');\n\n $(\"#\"+url).fadeIn(1000);\n positionPopup(this);\n});\n\n//close popup\n$(\".close\").click(function(){\n\n  var url = $(this).attr('name');\n\n\n$(\"#\"+url).fadeOut(500);\n});\n});\n</code></pre>\n\n<p>maybe document.ready didnot call from ajax?\nhow should I call the function?</p>\n"},{"tags":["php","xml","simplexml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13290430,"title":"From SimpleXMLElement to SimpleXMLIterator","body":"<p>I have a nice function that converts a (simple, duh) xml to an array, and to do so it uses the <code>SimpleXmlIterator</code> class.</p>\n\n<p>It works quite well, but I'd like to make it accept not only xml source strings or <code>SimpleXmlIterator</code> objects, but <code>SimpleXmlElement</code>s too since I use them way more often that iterators (that I use just in that function, actually).</p>\n\n<p>What I did so far was</p>\n\n<pre><code>$iter = new SimpleXmlIterator($xml-&gt;asXML());\n</code></pre>\n\n<p>but to me it's like passing through Tokyo to get from Paris to London. After all, <code>SimpleXmlIterator</code> extends <code>SimpleXmlElement</code>, so is there a better way to convert a <code>SimpleXmlElement</code> object to a <code>SimpleXmlIterator</code>?</p>\n"},{"tags":["php","phpdoc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13290422,"title":"phpDoc @method argument basic type in namespace","body":"<p>For example we have class in some namespace</p>\n\n<pre>namespace Model;\n\n/**\n * @method Category setId(int $id)\n */\nclass Category\n{\n    // ...\n}</pre>\n\n<p>and then we use method</p>\n\n<pre>$category->setId(1);</pre>\n\n<p>Code inspection says <pre>setId expected \\Model\\int, got int</pre></p>\n\n<p>So question is - If phpDoc tags are in namespace and if I want to specify some basic type for argument like int, string and so on, should I do that like they in global namespace e.g. \\int, \\string or phpDoc should understand that basic types are not in any namespace?</p>\n"},{"tags":["php","sql","table"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13290044,"title":"I need to output my Access table to a website using PHP","body":"<p>Alright, I have no problem outputting multiple lines of data out of the database, I just have no idea how to get it out in the format I want. </p>\n\n<p>Here's my basic issue.</p>\n\n<pre><code>&lt;tr&gt;\n    &lt;?php               \n    //make connection to database, bail if no connection\n    $connection = odbc_pconnect('sitedata','','');\n    if (!$connection) { exit(\"Connection Failed: \" . $connection); }\n\n    //retrieve relevant data\n    $Date = \"SELECT EntryDate AS DT FROM TimeSheet WHERE EmployeeID = 'AA01'\";\n\n    $rs = odbc_exec($connection, $Date);\n\n    //output data\n    while(odbc_fetch_row($rs)) {\n        $Line1 = odbc_result($rs, 'DT');\n        printf(\"&lt;td&gt;&lt;center&gt;%s&lt;/center&gt;&lt;/td&gt;\", $Line1);                 \n    }\n    ?&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>What this will do is output a one row table, with each new date creating a new column.</p>\n\n<p>Now then, this is sort of useless to me as these need to be output into a single column, where each new datavalue is the beginning of a row. After this, I need to expand the table width wise, adding new data values such as:</p>\n\n<pre><code>$Time = \"SELECT TotalTime as EN FROM TimeSheet WHERE EmployeeID = 'AA01'\";\n$JobName = \"SELECT JobName as JN FROM TimeSheet WHERE EmployeeID = 'AA01'\";\n</code></pre>\n\n<p>Where Time is it's own column, JobName is it's own column, etc.</p>\n\n<p>How exactly do I do this? There obviously must be a way, I'm just new at this. Any help is greatly, greatly appreciated!</p>\n"},{"tags":["php","html","url","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12626308,"title":"Yii urlManager rewrite and route when url contains 'www'","body":"<p>I'm using the 'www' subdomain as a sort of start menu from which a user can select from multiple links leading to other areas <em>(subdomains)</em> of the website. <em>(Ex. <a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a> >> (click Dog link) >> go to <a href=\"http://dogs.example.com\" rel=\"nofollow\">http://dogs.example.com</a>)</em>. I short, I need Yii urlManager to do two things when the url contains 'www':</p>\n\n<p><strong>(1) Rewrite the Url:</strong> <br />\nIf the url contains 'www' lets remove any extras from the url so that only 'http://www.example.com' remains. <em>(Ex. if a user types in <a href=\"http://www.example.com/page1\" rel=\"nofollow\">http://www.example.com/page1</a> we correct/rewrite to <a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a>)</em></p>\n\n<p><strong>(2) Route to Action:</strong> <br />\nIf the url contains 'www', lets route to a specific controller/action to render the menu. <em>(Ex. <a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a> routes to site/menu)</em>.</p>\n\n<p>How to do this with Yii urlManager? Thanks in advance.</p>\n"},{"tags":["php","frameworks"],"answer_count":8,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":523,"score":1,"question_id":1096264,"title":"which is best framework or technolgy for a community site development?","body":"<p>which is the best framework to develop a community web site.\nFor the MVC architecture, is there any disadvantage while using frameworks.</p>\n\n<p>or is it better to develop that in a pure php with OOPs concept?</p>\n\n<p>thanks in advance!!</p>\n"},{"tags":["php","symfony2","fosrestbundle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13286716,"title":"REST Services For FOSRestBundle","body":"<p>I am Using FOSRestBundle For REST Services. Its Working fine . How can I Set the services for NewAction,UpdateAction,EditAction and DeleteAction For an Entity..? I didn't get any idea from the doc from github. Please Help me \nThanks in advance</p>\n"},{"tags":["php","kohana","kohana-3","kohana-3.2","kohana-db"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13270051,"title":"How can I get an indexed array from query result in Kohana 3.2?","body":"<p>How can I get the INDEXED array result?</p>\n\n<pre><code>$qry1 = DB::select('name')-&gt;from('people')-&gt;execute();\n\n$assoc_array = $qry1-&gt;as_array();\n$object      = $qry1-&gt;as_object();\n\n// $indexed_array = [...]\n</code></pre>\n\n<p>Only for learning purposes, thanks.</p>\n\n<p>It's like:</p>\n\n<pre><code>$indexed_result[0]; // Name\n// $indexed_result[1];\n// $indexed_result[2];\n</code></pre>\n"},{"tags":["php","sockets","netcat"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":306,"score":1,"question_id":10250003,"title":"How to avoid netcat from blocking, when using it as a client to send a file or pipelining output?","body":"<p>When I use netcat to talk to a server listening at a TCP socket using an input file or pipelining, the client then hangs and I cant send any input. Any idea how can I make it <strong>not block?</strong>\nAt the of this question there's the code of the 'server' I'm using for this, it runs on PHP.</p>\n\n<p>If I do from terminal this:</p>\n\n<pre><code>netcat 192.168.1.10 3320\n</code></pre>\n\n<p>Then I can talk to the server undefinetely, it just echoes back every line I send (LF). </p>\n\n<p>But If I do this:</p>\n\n<pre><code>netcat 192.168.1.10 3320 &lt; file\nor\necho \"Something\" | netcat 192.168.1.10 3320 \n</code></pre>\n\n<p>Then the server returns the contents of the file, but I can't communicate anymore with netcat. The [client] process just blocks.  Once the server is shutdown, then the client unblocks and everything written on console after the line above is interpreted by shell. </p>\n\n<p>I have been looking for an answer with no success, but from what I have read, this is an issue with netcat. It appears to treat the connection as closed once it sees an EOF. </p>\n\n<p>I have attempted the waiting option and keeps blocking:</p>\n\n<pre><code>netcat -q -1 192.168.1.10 3320 &lt; file\n</code></pre>\n\n<p>No success.\nWhat I am attemting to do is to do is to send the content of a file with netcat and then be able to send messages using the same console.</p>\n\n<p>The 'server':</p>\n\n<pre><code>&lt;?php\n\nset_time_limit(0);\n$address = \"192.168.1.10\";\n$port = 3320;\n$server_users = 3; \n$mysock = socket_create(AF_INET, SOCK_STREAM, SOL_TCP) or die(\"Could not create socket\\n\");\n$bind_result = socket_bind($mysock,$address, $port) or die(\"Could not bind to address\\n\"); \n$listen_result = socket_listen($mysock, $server_users)  or die(\"Could not set up socket listener\\n\");\n$client = socket_accept($mysock) or die(\"Could not accept the connection to socket\\n\");\n\ndo {\n    $input = socket_read($client,1024,PHP_BINARY_READ);\n    echo $input;\n} while(TRUE);\n?&gt;\n</code></pre>\n\n<p>If you need to now, I run it in terminal using:</p>\n\n<pre><code>$ php -q server.php\n</code></pre>\n"},{"tags":["php","jquery","cakephp","frameworks","prototypejs"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":949,"score":0,"question_id":3437997,"title":"Best Web-Framework with jQuery-Integration","body":"<p>I'm struggling to find out which PHP-Frameworks does the best job when it comes to integrate with jQuery as Frontend-Framework. Zend seems to work best with Dojo, CakePHP with Prototype, but my favorite one JQuery seems nowhere to be supported out of the box.</p>\n\n<p>For example CakePHP has a pagination helper, but it works only with Prototype and the one integrated in Zend Framework uses Dojo :( But my goal is not to mix multiple JS-Frameworks within the same project.</p>\n\n<p>Can anyone give me a hint? Thanks a lot in advance</p>\n"},{"tags":["php","time","timer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13290072,"title":"How can I check request day with php?","body":"<p>For example: x user booking ticket on monday and ticket status changing as book. After three days, ticket status will change as free(empty) automatically. How can I do this?</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":260,"score":0,"question_id":11113569,"title":"facebook php sdk: \"An error occurred with XXXXX. Please try again later\" error","body":"<p>I am using the faceabook php SDK in order to login users to my website. Now I tested this application several time on my computer and every thing is working just fine. I just tried to login to the website from my brother computer to test the login system. I got this error.</p>\n\n<pre><code>An error occurred with XXXXX. Please try again later.\n</code></pre>\n\n<p>in my code I am not using any <code>redirect_uri</code> </p>\n\n<pre><code>&lt;?php\nrequire_once('scripts/facebook.php');\n$config = array('appId' =&gt; 'xxx','secret' =&gt; 'xxx');\n$permissions = array('scope'=&gt;'publish_stream,email,offline_access,user_birthday');\n$facebook = new Facebook($config);\n$user_id = $facebook-&gt;getUser(); \n\n            if($user_id) {\n                try {\n\n            $user_profile = $facebook-&gt;api('/me','GET');\n            header('Location:'.$_COOKIE['link']);\n                    } catch(FacebookApiException $e) {\n                        $login_url = $facebook-&gt;getLoginUrl($permissions); \n                        echo '&lt;img src=\"assets/login.png\"&gt;';\n                        echo '&lt;a href=\"' . $login_url . '\"&gt;&lt;img src=\"assets/facebook_login.png\"&gt;&lt;/a&gt;&lt;br&gt;';\n                        error_log($e-&gt;getType());\n                        error_log($e-&gt;getMessage());\n          }   \n        } else { //if there user id\n            $login_url = $facebook-&gt;getLoginUrl($permissions);\n            echo '&lt;img src=\"assets/login.png\"&gt;&lt;br&gt;';\n            echo '&lt;a href=\"' . $login_url . '\"&gt;&lt;img src=\"assets/facebook_login.png\"&gt;&lt;/a&gt;';\n\n\n    }\n?&gt;\n</code></pre>\n\n<p>any ideas how to fix this problem ?</p>\n"},{"tags":["php","php4"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":5622,"score":1,"question_id":781949,"title":"How can I find out the date of the day before a date?","body":"<p>I have a system that compares fiscal year up to the current date to the same date range of the year before. You can adjust the year and month to look at and it always compares the same date range to the year previous. I have it set so if the current day is leap day it compares to the 28th of last year, and if last year was leap year and today is feb 28th it compares to last year up to 29th. if you look at a month other than the current month it shows up to the last day of that month, otherwise up to current date.</p>\n\n<p>OK that works fine right now, but now my employers don't want it to be up to the current date they want it to go up to yesterdays date. How can I do that, my main concerns are what if today is the 1st of the month, or what if today is the first day of the fiscal year.</p>\n\n<p>Here is the code I have now:</p>\n\n<pre><code>function create_YTD_XML()\n{\n    global $month;\n    global $year;\n\n    $last_year = $year - 1;\n\n    if($year == date('Y') &amp;&amp; $month == date('m'))\n    {\n        $this_day = date('d');\n    }\n    else\n    {\n        $this_day = date('t', mktime(0, 0, 0, $month, 1, $year)); // LAST DAY OF MONTH\n    }\n\n    if(is_leap_year($year) &amp;&amp; $this_day == 29)\n    {\n        $last_day = 28;\n    }\n    else if(is_leap_year($last_year) &amp;&amp; $this_day == 28)\n    {\n        $last_day = 29;\n    }\n    else\n    {\n        $last_day = $this_day;\n    }\n\n    if($month &gt;= 2)\n    {\n        $this_year_start = $year;\n        $last_year_start = $last_year;\n    }\n    else\n    {\n        $this_year_start = $year - 1;\n        $last_year_start = $last_year - 1;\n    }\n\n    $this_ytd_start = $this_year_start.'-02-01';\n    $last_ytd_start = $last_year_start.'-02-01';\n\n    $this_ytd_end = $year.'-'.str_pad($month, 2, \"0\", STR_PAD_LEFT).'-'.$this_day;\n    $last_ytd_end = $last_year.'-'.str_pad($month, 2, \"0\", STR_PAD_LEFT).'-'.$last_day;\n\n\n}\n</code></pre>\n\n<p>What would be the best solution?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","forms","codeigniter","popup"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13289884,"title":"Send Data from Popup to Main form","body":"<p>i have a popup window codeigniter, i want send IDSatker to my main form in form registration member</p>\n\n<p>here's my code</p>\n\n<pre><code>&lt;?php\nif (count($ListSatker) &gt; 0) {\n    echo \"&lt;table border='1' cellspacing='0' cellpadding='3' width='100%'&gt;\\n\";\n    echo \"&lt;tr valign='top'&gt;\\n\";\n    echo \"\n    &lt;th&gt;&lt;div align='center'&gt;ID&lt;/th&gt;\\n\n    &lt;th&gt;&lt;div align='center'&gt;Inst SatkerKD&lt;/th&gt;\n    &lt;th&gt;&lt;div align='center'&gt;Inst SatkerInduk&lt;/th&gt;\n    &lt;th&gt;&lt;div align='center'&gt;Nama Satker&lt;/th&gt;\n    &lt;th&gt;&lt;div align='center'&gt;Status&lt;/th&gt;\n    &lt;th&gt;&lt;div align='center'&gt;Pilhan&lt;/th&gt;\\n\";\n    echo \"&lt;/tr&gt;\\n\";\n    foreach ($ListSatker as $key =&gt; $list) {\n        echo \"&lt;tr valign='top'&gt;\\n\";\n        echo \"&lt;td&gt;&lt;div align='center'&gt;\" . $list['IDSatker'] . \"&lt;/td&gt;\\n\";\n        echo \"&lt;td&gt;&lt;div align='center'&gt;\" . $list['inst_satkerkd'] . \"&amp;nbsp;&lt;/td&gt;\\n\";\n        echo \"&lt;td&gt;&lt;div align='center'&gt;\" . $list['inst_satkerinduk'] . \"&lt;/td&gt;\\n\";\n        echo \"&lt;td&gt;\" . $list['inst_nama'] . \"&lt;/td&gt;\\n\";\n        echo \"&lt;td&gt;\" . $list['inst_akronim'] . \"&lt;/td&gt;\\n\";\n        echo \"&lt;td&gt;&lt;div align='center'&gt;\";\n        echo anchor('user/' . $list['IDSatker'], 'Pilih');\n            echo \"&lt;/td&gt;\\n\";\n        }\n        echo \"&lt;/table&gt;\";\n    } ?&gt;\n</code></pre>\n\n<p>i will send IDSatker when i clik \"Pilih\" to Main Form in apllication/view</p>\n\n<pre><code>&lt;input name=\"inst_satkerkd\" type=\"text\" size=\"30\" value=\"\" /&gt;&lt;?php echo anchor_popup('user/popup', 'Satker', $atts); ?&gt;\n</code></pre>\n\n<p>thank's before</p>\n"},{"tags":["php","loops"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13289555,"title":"PHP: group items a loop","body":"<p>The following loop groups the items into two groups: First group of 5 items in a li and then each group of 6 items. I'm trying to modify this to group first 3 items in a li and then next each 5 items in the li.</p>\n\n<pre><code>for ($i = 1; $i &lt; 20; $i++) {\n    echo ($i === 1 || $i % 6 === 0) ? \"&lt;li&gt;\" : null,\n        \"&lt;div&gt;item {$i}&lt;/div&gt;\",\n        ($i % 6 === 5) ? \"&lt;/li&gt;\" : null;\n}\nif ($i % 6 !== 0) echo \"&lt;/li&gt;\";\n</code></pre>\n\n<p>I'm trying to modify to following, but the grouping does not work fine (eg. wrong number of items goes in a li, some items do not get in li etc.)</p>\n\n<pre><code>for ($i = 1; $i &lt; 20; $i++) {\n    echo ($i === 1 || $i % 5 === 0) ? \"&lt;li&gt;\" : null,\n        \"&lt;div&gt;item {$i}&lt;/div&gt;\",\n        ($i % 5 === 3) ? \"&lt;/li&gt;\" : null;\n}\nif ($i % 5 !== 0) echo \"&lt;/li&gt;\";\n</code></pre>\n"},{"tags":["php","html"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13287816,"title":"How to grab checkbox value as integer and not string?","body":"<p>Here is my code:</p>\n\n<p><code>&lt;input type=\"checkbox\" name=\"name[]\" value=\"3\" /&gt;</code></p>\n\n<p>And this gets passed as:</p>\n\n<p><code>array(1) { [0]=&gt; string(1) \"3\" }</code></p>\n\n<p>But I would rather like it to be integer. Is this possible?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":37,"score":3,"question_id":13289866,"title":"Condensing PHP query","body":"<p>I have a piece of code which I suspect could be written in a more efficient way but I'm still a little rusty on some PHP queries.</p>\n\n<p>Is there a better way to write the following query:</p>\n\n<pre><code>&lt;?php \nif(qtrans_getLanguage()=='en'): echo 'Latest News'; endif;\nif(qtrans_getLanguage()=='it'): echo 'Ultime notizie'; endif; \nif(qtrans_getLanguage()=='de'): echo 'Aktuelle Nachrichten'; endif; \nif(qtrans_getLanguage()=='zh'): echo '最新消息'; endif;\nif(qtrans_getLanguage()=='es'): echo 'Últimas noticias'; endif;\nif(qtrans_getLanguage()=='fr'): echo 'Dernières nouvelles'; endif; \n?&gt;\n</code></pre>\n"},{"tags":["php","unit-testing","gearman"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":542,"score":4,"question_id":7078282,"title":"Remove all Gearman jobs from the Gearman Job Server","body":"<p>Is there a way to remove all Gearman jobs from the Gearman Job Server? I have a PHP application that runs Gearman jobs in the background. For my unit tests I need to ensure that a) there are no jobs waiting for a worker that executes it and b) that there is no worker working. The latter is not that important because it is easy to kill the workers but the former--I don't know how to implement this.</p>\n"},{"tags":["php","session","yii","webserver","session-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12958171,"title":"Yii Session Not Working","body":"<p>Some problem is coming when I am uploading site to online server. User authentication was working on my local computer but when I am trying to upload it to a server, it is not working. When I sign in, it redirects me back to the login page.</p>\n\n<p>I have checked out and come to the point that when the page refreshes, the user info from session flush away and it redirects back to login page.</p>\n\n<pre><code>$this-&gt;setState('username', $user-&gt;username);\n</code></pre>\n\n<p>setState method is also not giving information on next page.</p>\n\n<p>Please help me out with possible solution.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","xml","xml-parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":7035217,"title":"How to parse XML using PHP no code?","body":"<p>I am learning how to parse in various languages. Right now I am trying to learn PHP. Can anyone help get me started?</p>\n\n<p><a href=\"http://www.nfl.com/liveupdate/scorestrip/ss.xml\" rel=\"nofollow\">http://www.nfl.com/liveupdate/scorestrip/ss.xml</a></p>\n\n<p>is the page I would like to parse using PHP. Is this possible and how do you do it with PHP?</p>\n"},{"tags":["php","facebook","cron"],"answer_count":2,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":132,"score":6,"question_id":13217564,"title":"Facebook php post to fan page with cronjob?","body":"<p>I am using the following code to post to my facebook fan page and it is working fine. Now I want to use cronjob in order to post to Facebook. I know I have to use as access token but I am not sure how to set it up. I tried to use <code>echo</code> my own access token and the page's access token and use it in the post api but that did not work I got this error:</p>\n\n<pre><code>Uncaught OAuthException: An active access token must be used to query information about the current user.\n</code></pre>\n\n<p>Here is my code that I tried:</p>\n\n<pre><code>require_once('scripts/facebook.php');\n    $config = array('appId' =&gt; 'xxx','secret' =&gt; 'xxx');\n\n    $params = array('scope'=&gt;'user_likes,publish_actions,email,offline_access,publish_stream,manage_pages');\n    $facebook = new Facebook($config);\n    $user = $facebook-&gt;getUser();\n    if($facebook-&gt;getUser()) {\n    try {\n\n        $user_profile = $facebook-&gt;api('/me');\n        $access_token = $facebook-&gt;getAccessToken();\n        //echo \"1. \".$access_token;\n\n      } catch(FacebookApiException $e) {\n                        $login_url = $facebook-&gt;getLoginUrl($params);\n                        error_log($e-&gt;getType());\n                        error_log($e-&gt;getMessage());\n      }   \n    } else {\n        $login_url = $facebook-&gt;getLoginUrl($params);\n\n    }    \n\n$page_id = \"xxxxxxxxxxxxx\";\n            $page_access_token = \"\";\n            $result = $facebook-&gt;api(\"/me/accounts\");\n            foreach($result[\"data\"] as $page) {\n                if($page[\"id\"] == $page_id) {\n                $page_access_token = $page[\"access_token\"];\n                //echo '&lt;br&gt;';\n                //echo \"2. \".$page_access_token;\n                break;\n                    }\n                }\n\n\n        $args = array(\n            'access_token'  =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\n            'message'       =&gt; stripslashes($image_caption).$animaged_gif,\n            'name' =&gt; stripslashes($image_caption).$animaged_gif,\n            'link' =&gt; \"http://www.xxx.com/images.php?i=\".$image_name,\n            'picture' =&gt; \"http://www.xxx.com/thumbnails/\".$image_name.\".png\",\n            'actions' =&gt; array(\n            'name' =&gt; 'See Pic',\n            'link' =&gt; \"http://www.xxx.com/images.php?i=\".$image_name\n            )\n\n        );\n       $post = $facebook-&gt;api(\"/$page_id/feed\",\"post\",$args);\n</code></pre>\n\n<p>As you can see that I tried to use the actual access token that I got when I echo out my own access token. But that did not work. I also used the page's access token, but that also did not work. Can you please tell what I am missing here or what is the proper way to do this ?\nUPDATE: After some further search I did, I came across <code>setAccessToken</code> and <code>$page_info = $fb-&gt;api(\"/\".$sInfo['pageId'].\"?fields=access_token\");</code> but there is very limited resources on how to use them. I am not even sure if those will be appropriate to this problem. All I need to know is which access token I need to use and what is the appropriate code to set it up ?</p>\n"},{"tags":["php","jquery","jquery-ui","autocomplete"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1406,"score":0,"question_id":3790714,"title":"Jquery UI Autocomplete from remote source categorized","body":"<p>There are nice documentation on the jquery ui site on showing auto-complete options categorized <a href=\"http://jqueryui.com/demos/autocomplete/#categories\" rel=\"nofollow\">http://jqueryui.com/demos/autocomplete/#categories</a></p>\n\n<p>And there is also an example about showing remote suggestions.\n<a href=\"http://jqueryui.com/demos/autocomplete/#remote\" rel=\"nofollow\">http://jqueryui.com/demos/autocomplete/#remote</a>  </p>\n\n<p>But what I want is to load auto-complete options categorized from a remote source. How can I do that? Can any one point me to example or some code snippet? I have been trying this for long. If my search.php can generate that source needed for the categorized suggestion. How do i implement it in the front end? </p>\n\n<p>I'm able to generate return this from my php.(Thats how its needed for categorized autocomplete)</p>\n\n<pre><code>                    [\n   { label: \"anders\", category: \"\" },\n   { label: \"andreas\", category: \"\" },\n   { label: \"antal\", category: \"\" },\n   { label: \"annhhx10\", category: \"Products\" },\n   { label: \"annk K12\", category: \"Products\" },\n   { label: \"annttop C13\", category: \"Products\" },\n   { label: \"anders andersson\", category: \"People\" },\n   { label: \"andreas andersson\", category: \"People\" },\n   { label: \"andreas johnson\", category: \"People\" }\n   ];\n</code></pre>\n\n<p>But how do i implement in the front-end? \nThis is the code available for remotesource in the site.\nHow do i specify that the php will give results for categorized suggestion?</p>\n\n<pre><code> &lt;script&gt;\n $(function() {\n  function log( message ) {\n   $( \"&lt;div/&gt;\" ).text( message ).prependTo( \"#log\" );\n   $( \"#log\" ).attr( \"scrollTop\", 0 );\n  }\n\n  $( \"#birds\" ).autocomplete({\n   source: \"search.php\",\n   minLength: 2,\n   select: function( event, ui ) {\n    log( ui.item ?\n     \"Selected: \" + ui.item.value + \" aka \" + ui.item.id :\n     \"Nothing selected, input was \" + this.value );\n   }\n  });\n });\n &lt;/script&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13289896,"title":"Is using a cookie to store search choices a good idea?","body":"<p>I have a page where a user enters a search term, this then forwards to another page and runs a query based on this cookies contents. I was just wondering if it is good practice to do it this way? I know I can use a method=\"post (or get)\" but I need the information to be consistent across several pages and queries.</p>\n"},{"tags":["php","mysql","database","audio","html5-audio"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13289563,"title":"Audio Player: Load random song from database table without repeating","body":"<p>I've got a problem with my audio player (<a href=\"http://www.vegapohl.com/audio\" rel=\"nofollow\">http://www.vegapohl.com/audio</a>). I'm trying to have the player play a random track from a mysql database, but I don't want it to play a previous song. Only once all songs have been listened to or skipped, it should \"reset\" and play all tracks again.</p>\n\n<p>Here is my PHP:</p>\n\n<pre><code>&lt;?php\nmysql_connect(\"localhost\", \"db57276_11\", \"*****\")or die(\"cannot connect\"); \nmysql_select_db(db57276_11)or die(\"cannot select DB\");\n\n\n$sql = \"SELECT * FROM audio ORDER BY RAND()\";\n$result = mysql_query($sql);\nif (false === $result) {\n    echo mysql_error();\n}\n$row = mysql_fetch_row($result);\n$url = $row[0];\n$title = $row[1];\n$artist = $row[2];\n$albumart = $row[3];\n?&gt;\n</code></pre>\n\n<p>I found some answers to similar questions on stackoverflow, but none of them worked for me. To give you a better idea of the general functionality, here is the body markup:</p>\n\n<pre><code>&lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction playPause(soundId,getImg) {\nsetTimeout(swapImg,30000,getImg);\nsoundId.volume=.5;\n if (soundId.paused){\n     soundId.play();       \n getImg.src='pause.png';\n\n\n}\n   else {\n       soundId.pause();\n        getImg.src='play.png';\n   }\n\n}\n\nfunction swapImg(getImg){\ngetImg.src='play.png';\n}\n&lt;/script&gt;\n&lt;div class=\"wrapper\"&gt;\n&lt;div class=\"wrapmiddle\"&gt;\n    &lt;div class=\"middle\"&gt;\n\n        &lt;div class=\"track\"&gt;\n            &lt;h1&gt;&lt;?php echo $title; ?&gt;&lt;/h1&gt;\n            &lt;h2&gt;&lt;?php echo $artist; ?&gt;&lt;/h2&gt;\n            &lt;div id=\"buttons\"&gt;\n&lt;a href=\"javascript:window.location.reload()\" class=\"next\"&gt;Skip&lt;/a&gt;\n&lt;a href=\"#\"class=\"like\"&gt;Share&lt;/a&gt;&lt;a href=\"#\" class=\"view\"&gt;Visit Site&lt;/a&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"left\"&gt;\n&lt;div&gt;\n    &lt;audio id=\"track1\" onended = \"window.location.reload()\"&gt;\n    &lt;source src=\"&lt;?php echo $url; ?&gt;\" type=\"audio/mp3\"&gt;&lt;/source&gt;\n    Your browser does not support this content.&lt;/audio&gt;\n    &lt;a href=\"#\" onClick=\"playPause(track1,playImg1);\"&gt;\n&lt;img alt=\"\" class=\"playImg\"    src=\"play.png\" style=\"cursor: pointer;\" name=\"playImg1\" /&gt;   \n&lt;/a&gt;&lt;br /&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n  &lt;div class=\"right\"&gt;\n  &lt;div class=\"overlay\"&gt;&lt;img src=\"icon.png\" width=\"35\" height=\"34\" /&gt; &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Maybe someone knows of a better way of playing the next track (instead of refreshing the page/iframe). If it could play each track in the table in order and then start from the top again that would also work. Hope someone can help me with this. Thank you!</p>\n\n<p>Ciao,\nMatt</p>\n"},{"tags":["php","codeigniter"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":205,"score":1,"question_id":8725872,"title":"Percent character replaced in Codeigniter","body":"<p>In Codeigniter I'm sending a string using POST method as <code>\"%100\"</code> and it becomes <code>\"0\"</code>. I believe this is because they're being treated as encoded, but they're not.</p>\n\n<p>Is there anyway to cancel this while still keeping security high, as this seems be caused by <code>Security-&gt;xss_clean()</code> and <code>Common remove_invisible_characters()</code></p>\n"},{"tags":["php","facebook","connect","invision-power-board"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":5,"score":-2,"question_id":13289940,"title":"Facebook connect invision power boards","body":"<p>recently set up facebook connect for my forum. It worked fine for pre-existing accounts, those accounts can be connected to facebook and merged. Though whenever a user tries to create a new account using the facebook login, nothing particular happens, and the create account dialogue box simply closes.</p>\n\n<p>Slight change with the url, probably signifying a error in redirection or something.</p>\n\n<p>forum.mysite.com changes to \n    forum.mysite.com/#<em>=</em></p>\n\n<p>Any help in resolving the same would be appreciated.</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13285653,"title":"PHP How to Delete Multiple Records using Checkbox","body":"<p>I have a little problem regarding with deleting multiple records in my table. I used checkbox in order to delete them but it doesn't work. I don't know what would be the exact CODE for it. </p>\n\n<p>Here is my PHP code</p>\n\n<pre><code>&lt;?php   \n    echo \"&lt;form action='#'&gt;\n        &lt;fieldset&gt;\n            &lt;input type='text' name='search' value='' id='searchtalents' placeholder='Search Keywords..' size='40'/&gt;\n        &lt;/fieldset&gt; \n    &lt;/form&gt;\";\n\n    echo \"&lt;form name='tmsform' method='POST' action=''&gt;\";\n\n    $sql = \"SELECT * FROM talentinfo WHERE 1 LIMIT 10\";\n    $result = mysql_query($sql);\n    if (!$result) {\n        echo \"Could not successfully run query ({$sql}) from DB: \" . mysql_error();\n        exit;\n    }\n\n    if (mysql_num_rows($result) == 0) {\n        echo \"No rows found\";\n        exit;\n    }\n\n    echo\"&lt;div id='talentinfo'&gt;&lt;table id='mr_database' name='myform' style='border:1px solid #fff;' cellspacing=0 cellpading='2' class='pretty'&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;&lt;/th&gt;\n                &lt;th&gt;&lt;/th&gt;\n                &lt;th&gt;&lt;/th&gt;\n                &lt;th&gt;Mr Tracking Number&lt;/th&gt;\n                &lt;th&gt;First Name&lt;/th&gt;\n                &lt;th&gt;Middle Name&lt;/th&gt;\n                &lt;th&gt;Last Name&lt;/th&gt;\n                &lt;th&gt;Address&lt;/th&gt;\n                &lt;th&gt;Contact Number&lt;/th&gt;\n                &lt;th&gt;School&lt;/th&gt;\n                &lt;th&gt;Course&lt;/th&gt;\n                &lt;th&gt;Year Graduated&lt;/th&gt;\n                &lt;th&gt;Position Considered&lt;/th&gt;\n                &lt;th&gt;Referred Location&lt;/th&gt;\n                &lt;th&gt;Unit&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\";\n\n    $counter = 40000;\n    while ($row = mysql_fetch_assoc($result)) {\n    $filled = (($counter % 2) == 1) ? \"style='background-color:#BCD9E1;'\" : \"\" ;\n    $id = $row['talents_id'];\n\n    echo \"&lt;tbody&gt;&lt;tr {$filled} class='tmsdel'&gt;\";        \n    echo \"&lt;td&gt;&lt;a href ='#' rel='#edit_talents{$counter}'&gt;&lt;center&gt;&lt;img src='img/edit.gif' width='25' height='21' title='Edit'&gt;&lt;/center&gt;&lt;/a&gt;&lt;/td&gt;\";\n    echo \"&lt;td&gt;&lt;a href ='#'  id=\".$row['talents_id'].'&amp;idelete=talents'.\" class='delete'&gt;&lt;center&gt;&lt;img src='img/delete.png' width='25' height='21' title='Delete'&gt;&lt;/center&gt;&lt;/a&gt;&lt;/td&gt;\";\n    echo \"&lt;td&gt;&lt;input type='checkbox' name='checkbox[]' id='check\".$row['talents_id'].\"' value='\".$row['talents_id'].'&amp;idelete=talents'.\"'/&gt;&lt;/td&gt;\";          \n    echo \"&lt;td&gt;&lt;a href='#' rel='#tracing_number{$counter}' style='text-decoration:none; font-weight:bold; color:#444;'&gt;\" . $row ['mr_tracking_number'] . \"&lt;/a&gt;&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['firstname'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['middlename'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['lastname'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['address'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['contact_number'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['school'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['course'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['year_graduated'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['position_considered'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['referred_location'] . \"&lt;/td&gt;\";\n    echo \"&lt;td&gt;\" . $row['unit'] . \"&lt;/td&gt;\";\n    echo \"&lt;/tr&gt;&lt;/tbody&gt;\";\n?&gt;\n</code></pre>\n\n<p>And here is my Javascript</p>\n\n<pre><code>$(function(){\n    $(document).ready(function(){\n    });     \n\n    $(\"#delete-all\").click(function(){\n        $(\"#mr_database\").remove();\n        $.ajax({\n            url: \"modules/delete-all.php\",\n            type: \"get\",\n            async: false,\n            data: \"check\"\n        });\n    });\n});\n</code></pre>\n"},{"tags":["php","jquery","json","multidimensional-array"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13289339,"title":"Working with JSON and a multidimensional array (JS)","body":"<p>I've got the following issue: I wrote a search function which results are being saved into an array. As i handle the response of that function with the <a href=\"http://www.malsup.com/jquery/form/\" rel=\"nofollow\">jquery form plugin</a>, i created an additional array which is filled with all of the arrays created by the search. Then, i want to parse that multi-array to my jQuery script as a JSON object. So far so good, but how do i make the multi-array accessable to the script? (Like multiarray.array1.property)</p>\n\n<p>Here is my code so far: </p>\n\n<ul>\n<li>[HTML / JS]</li>\n</ul>\n\n<blockquote>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt; \n&lt;body&gt;\n&lt;div class=\"edit\"&gt;\n&lt;h2&gt;Editieren&lt;/h2&gt;\n&lt;form id=\"suchen\" method=\"post\"&gt;&lt;input type=\"text\" id=\"search\" name=\"id\"&gt;\n&lt;input type=\"submit\" value=\"Senden\"&gt;&lt;/form&gt;  \n&lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n</blockquote>\n\n<p>​</p>\n\n<pre><code>    $('#suchen').ajaxForm({\n\n    url: \"./php/search.php\",\n    dataType: 'json',\n    success: function(data){\n\n        alert(data[0]) ;\n\n    },\n        clearForm: true\n}) ;​\n</code></pre>\n\n<ul>\n<li><a href=\"http://codepad.org/3hzO85X1\" rel=\"nofollow\">PHP</a></li>\n</ul>\n\n<p>Thank you in advance</p>\n\n<p>Edit:</p>\n\n<p>Example of JSON:</p>\n\n<pre><code>{\n    \"id\": \"33\",\n    \"firma\": \"sls\",\n    \"strasse\": \"Industriegebiet Siebend\",\n    \"plz\": \"66663\",\n    \"ort\": \"Merzig\",\n    \"vorname\": \"\",\n    \"nachname\": \"Ruf\",\n        \"email\": \"ronny.ruf@web.de \",\n    \"bemerkung\": \"\",\n    \"partner\": \"\",\n    \"kinder\": \"1\",\n    \"nation\": \"D\",\n    \"betreuer\": \"Adam\",\n    \"anrede\": \"Herr\"\n}\n</code></pre>\n"},{"tags":["php","performance","design","optimization"],"answer_count":8,"favorite_count":5,"up_vote_count":11,"down_vote_count":0,"view_count":1451,"score":11,"question_id":3470990,"title":"Is micro-optimization worth the time?","body":"<p>I am a PHP developer and I have always thought that micro-optimizations are not worth the time. If you really need that extra performance, you would either write your software so that it's architecturally faster, or you write a C++ extension to handle slow tasks (or better yet, compile the code using HipHop). However, today a work mate told me that there is a big difference in </p>\n\n<pre><code>is_array($array)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$array === (array) $array\n</code></pre>\n\n<p>and I was like \"eh, that's a pointless comparison really\", but he wouldn't agree with me.. and he is the best developer in our company and is taking charge of a website that does about 50 million SQL queries per day -- for instance. So, I am wondering here is that could he be wrong or micro-optimization really worth the time and when?</p>\n"},{"tags":["php","jquery-ui","widget","linkedin","linkedin-glu"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13289654,"title":"Post a Badge to linkedin","body":"<p>I have a small PHP social media website,in there is public profile for users, all users can share his public profile in linkdin, my question is, Can we add a side wideget or a badge automatically add to linkdin public profile or home Please help </p>\n"},{"tags":["php","javascript","jquery","html","css"],"answer_count":12,"favorite_count":2,"up_vote_count":6,"down_vote_count":3,"view_count":368,"score":3,"question_id":12872558,"title":"Highlighting invalid form inputs","body":"<p>I have been working on creating a form with a set of fields like username, passwords etc.... \nI want to make validation when the SUBMIT button is clicked.</p>\n\n<p>I'm trying to get alert from my border color. All fields are valid my border must change into Green color If it has any errors it should change to red color.</p>\n\n<p>Any one has any ideas regarding to my problem  </p>\n\n<p>If anyone has any suggestion??</p>\n"},{"tags":["php","javascript","web","google-plus","google-plus-one"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13270465,"title":"Dynamic Google plus one +1 button (with changing url)","body":"<p>I have a website with a photo gallery and i want the plus one button to point to the photo page and not to the gallery itself, meaning that i will need to change it dynamically when the user flips through images. What would be the proper way of doing that?</p>\n"},{"tags":["php","arrays","foreach"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":97,"score":0,"question_id":13269292,"title":"PHP foreach if/else Issue","body":"<p>I've been struggling with the following code. What I'm trying to do is count the number of reviews based on the score. The information is being drawn from MYSQL and a calculation is being preformed before entering it to an array there will be a maximum of five results (after formatting). To be counted. </p>\n\n<p>The code I have is as follows:</p>\n\n<pre><code>   $myArray = str_split(554);\n    $newArray = array_count_values($myArray);\n\n    foreach ($newArray as $key =&gt; $value) {\n\n     $reviews_percentage = round($value/3*100);\n\n    if (array_key_exists(\"1\",$newArray)) {\n\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\";   \n    }\n\n    else {\n\n    echo \"1 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n\n    if (array_key_exists(\"2\",$newArray)) {\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\"; \n    }\n\n    else {\n\n    echo \"2 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n\n    if (array_key_exists(\"3\",$newArray)) {\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\"; \n    }\n\n    else {\n\n    echo \"3 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n    if (array_key_exists(\"4\",$newArray)) {\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\"; \n\n    }\n\n    else {\n\n    echo \"4 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n\n    if (array_key_exists(\"5\",$newArray)) {\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\"; \n    }\n\n    else {\n\n    echo \"5 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n\n\n    }\n</code></pre>\n\n<p>Which is giving the following result:</p>\n\n<pre><code>   1 - 0 as a percent its : 0 \n   2 - 0 as a percent its : 0 \n   3 - 0 as a percent its : 0 \n   5 - 1 as a percent its : 50 \n   5 - 1 as a percent its : 50 \n   1 - 0 as a percent its : 0 \n   2 - 0 as a percent its : 0 \n   3 - 0 as a percent its : 0 \n   4 - 1 as a percent its : 50 \n   4 - 1 as a percent its : 50 \n</code></pre>\n\n<p>I can see its running through the loop twice but cannot work out what I'm doing wrong.  </p>\n\n<p><strong>Added Database Structure</strong></p>\n\n<pre><code>    |------\n    |id|date_created|date_updated|ip_address|status|element_3|element_4|element_5|element_6|element_7|element_8|element_9|\n    |------\n    |1|2012-06-21 15:22:57|2012-06-21 16:06:04|::1|1|19|10|10|10|10|10|10|\n    |2|2012-06-21 16:21:23|2012-06-21 16:21:40|::1|1|19|10|9|9|9|10|\n    |3|2012-06-21 18:14:56|2012-06-21 18:15:19|::1|1|18| 5|5|5|5|5|\n</code></pre>\n\n<p><strong>UPDATED CODE</strong></p>\n\n<pre><code>    $result = mysql_query(\"SELECT * FROM ap_form_5 WHERE element_1='19'\") or die(mysql_error());\n\n    $num_rows = mysql_num_rows($result);\n\n        while($profile_rows = mysql_fetch_array($result)) {\n\n    $feature1 = $profile_rows['element_4'];\n    $feature2 = $profile_rows['element_5'];\n    $feature3 = $profile_rows['element_6'];\n    $feature4 = $profile_rows['element_7'];\n    $feature5 = $profile_rows['element_8'];        \n$overalladd  = $feature1+$feature2+$feature3+$feature4+$feature5;\n\n    $ratingsbar .= floor(round($overalladd/5/2, 15, PHP_ROUND_HALF_DOWN));\n\n    $myArray = str_split($ratingsbar);\n    $arrayCount = array_count_values($myArray);\n    }\n\n    function perc($total,$count){\n    $ans = (100/$total) * $count;\n    return($ans);\n\n\n    // this array is only being filled like this to to show my working out (your db will populate this)\n    $ratings[1]= $arrayCount[0]; // 1 star ratings - 2 votes\n    $ratings[2]= $arrayCount[1]; // 2 star rating - 1 votes\n    $ratings[3]= $arrayCount[2]; // 3 star rating - 2 votes\n    $ratings[4]= $arrayCount[3]; // 4 star rating - 0 votes\n    $ratings[5]= $arrayCount[4]; // 5 star rating - 5 votes\n\n    $total_votes = array_sum($ratings);\n\n    $i = 1;\n    foreach($ratings as $rating){\n    echo \"Stars \".$i.\": \".perc($total_votes,$rating).\"% $ratings[$i]&lt;br /&gt;\";\n    $i ++;\n    }\n\n    ?&gt;\n</code></pre>\n\n<p>Which is now giving the following result</p>\n\n<pre>\nStars 1: 0% \nStars 2: 0% \nStars 3: 50% 1\nStars 4: 0% \nStars 5: 50% 1</pre>\n"},{"tags":["php","unix","unix-timestamp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13288762,"title":"How to return the a unix-timestamp for the start of a month of a particular unix-timestamp PHP","body":"<p>I need a generic function that takes a unix-timestamp representation of a date-time and returns a representation for, say, midnight on the first of the month. </p>\n\n<p>i.e. I pass <code>1352376093</code> which represents now (Thu, 08 Nov 2012 12:01:33 GMT) and <code>1351728000</code> is returned which represents (Thu, 01 Nov 2012 00:00:00 GMT)</p>\n"},{"tags":["php","mysql","performance","indexing"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":1,"view_count":36,"score":2,"question_id":13289509,"title":"How to improve the query performance using indexing?","body":"<pre><code>SELECT t1 . * FROM table1 t1, table1 t2\n   WHERE t1.history_id &lt; t2.history_id\n     AND (t1.license_id = t2.license_id\n        OR (t1.license_id IS NULL AND t2.license_id IS NULL))\n     AND t1.op_id = t2.op_id\n     AND (t1.service_date = t2.service_date\n         OR (t1.service_date IS NULL AND t2.service_date IS NULL))\n     AND t1.customer_id = t2.customer_id\n     AND t1.serial_id = t2.serial_id.\n</code></pre>\n\n<p>The purpose of the query is to remove duplicated rows based on the above query conditions.The query join table 'table1' to itself.We have created index with group index for</p>\n\n<pre><code>  1.license_id\n  2.service_date\n  3.customer_id\n  4.history_id(primary key)\n  5.op_id.\n</code></pre>\n\n<p>It executes correctly but with the addition of ' <code>OR (t1.service_date IS NULL AND t2.service_date IS NULL)</code>' makes the query execution very slower.The table has more than <code>2lacks</code> of data.\nWe have used mysql EXPLAIN and here is the output</p>\n\n<p><img src=\"http://i.stack.imgur.com/FFNNA.png\" alt=\"enter image description here\"></p>\n\n<p>Please suggest how can I improve the query execution time?</p>\n"},{"tags":["php","html","redirect","screen-scraping","file-get-contents"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1402,"score":0,"question_id":5176520,"title":"PHP Scraping - file_get_contents redirect limit?","body":"<p>I'm trying to scrape the courses from ASU's schedule of classes page.</p>\n\n<p>I'm doing something like this:</p>\n\n<pre><code>$url = \"https://webapp4.asu.edu/catalog/classlist?s=PSY&amp;t=2117&amp;e=all&amp;hon=F\";\n$html = file_get_contents($url);\necho $html;\n</code></pre>\n\n<p>Now, when I go to a classes page loads listing all of the pysch classes. But, when I try to echo the above URL (which isn't broken) I get an error about \"redirect limit reached, aborting...\".</p>\n\n<p><strong>How can I fix this?</strong> </p>\n"},{"tags":["php","dll","compilation","x86","64bit"],"answer_count":2,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":168,"score":7,"question_id":12988997,"title":"How to compile PHP DLL extension x86 x64","body":"<p>I am trying to set up some sort of a nightly build environment that would compile both a x64 and x86 version of a PHP DLL extension.</p>\n\n<p>I have followed <a href=\"https://wiki.php.net/internals/windows/stepbystepbuild\">this</a> guide to set up the environment and build the extension and it works fine. </p>\n\n<p>At the moment I have two virtual machines, one with x86 and one with x64 versions of Windows (XP and 7). </p>\n\n<p>Is there a way to build both DLLs (32 and 64 bit) in the same virtual machine (I presume this would be the Windows 7 one) using a batch file?</p>\n\n<p>My goal is to set a nightly build \"server\" but also be able to compile DLLs with the push of a button.</p>\n\n<p>Thanks for any pointers.</p>\n\n<p>The machines that compile the DLLs have Visual Studio 2008 Express and Windows SDK 6 (for the x86) and 7 (for the x64)</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":66,"score":-7,"question_id":11167221,"title":"php variable inside string","body":"<p>I wanted to use a variable instead of setting the filename by string. It didn't work, so how can I do that?</p>\n\n<p>I tried like this:</p>\n\n<pre><code>header('Content-disposition: attachment; filename=$filename');\n</code></pre>\n\n<p>But it returns \"$filename\" as filename, not the variables value.</p>\n"},{"tags":["java","php","android","scala"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":11,"view_count":150,"score":-11,"question_id":13289658,"title":"PHP programmer want to spend his life time programming on Scala(Scala for web Apps and Scala for Android) Is this a good idea?","body":"<p>As a php programmer since January 1st 2012, I have learned a lot of things in programming, from Procedural to OOP to currently learning CodeIgniter. I also learned css, javascript and jQuery.  right now as 2013 is fast approaching, I have finally made up my mind to concentrate all my programming efforts on scala, I want to be very good in scala to use it for both webApps and Android Apps, In the future I want to be able to have an Android App that will rule all the way from Africa (I am from Nigeria) and be relevant across the entire world.</p>\n\n<p>I want you to give me advise on the decision i've taken if it's a brilliant idea, and if you think I am on the right track or not. Your Honest advise that will help me move towards my aim will be very much appreciated.</p>\n\n<p>What do you think?</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13289573,"title":"How to match something that begins with and something else that is exactly?","body":"<p>I am trying to match the following URIs:</p>\n\n<pre><code>/\n/login?id=random (random is any number or characters)\n/logout\n</code></pre>\n\n<p>but not</p>\n\n<pre><code>/anything-else (refers to all other pages)\n</code></pre>\n\n<p>In other words, I need something that matches both <code>/^(\\/|\\/logout)$/i</code> and <code>/^\\/login/i</code> but not anything else. Is this possible with a single regex?</p>\n"},{"tags":["php","compression"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13285340,"title":"Gz(un)compress in PHP and saving to file","body":"<p>Can someone please explain why this code:</p>\n\n<pre><code>$str = \"StackOverflow\"; \necho $str . \" - \";\n\n$strCompressed = gzcompress($str);\n//echo $strCompressed . \" - \";\n\n$strUncompressed = gzuncompress($strCompressed);\necho $strUncompressed . \" - \";\n</code></pre>\n\n<p>gives the expected output of: <code>StackOverflow - StackOverflow -</code></p>\n\n<p>but this code (writing and reading from file):  </p>\n\n<pre><code>$str = \"StackOverflow\";\n$strCompressed = gzcompress($str);\n\n$file = \"test.cache\";\n$fp = fopen($file, \"w\");\nfwrite($fp, $strCompressed);\nfclose($fp);\n\n$strCompressed = readfile($file);\necho gzuncompress($strCompressed);\n</code></pre>\n\n<p>does not produce the wated output of <code>StackOverflow</code>?</p>\n\n<p>Also, I'm wondering, if I uncoment the commented line of code in the first example (<code>//echo $strCompressed . \" - \";</code>) the script will output something like this: <code>StackOverflow - xś.ILÎö/K-JËÉ/</code>, so as you can see without the second <code>StackOverflow -</code> as with that line comented out. Any insight is appreciated.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":20,"score":-5,"question_id":13289505,"title":"Customize color for a value read from database in php","body":"<p>Code to give color for a value which is echo from database in php</p>\n"},{"tags":["php","oop","object","loops","csv"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":13249018,"title":"PHP: Searching through a CSV file the OOP way","body":"<p>I need to write a script that will search through a CSV file, and perform certain search functions on it;</p>\n\n<ol>\n<li>find duplicate entries in a column</li>\n<li>find matches to a list of banned entries in another column</li>\n<li>find entries through regular expression matching on a column specified</li>\n</ol>\n\n<p>Now, I have no problem at all coding this procedurally, but as I am now moving on to Object Orientated Programming, I would like to use classes and instances of objects instead.</p>\n\n<p>However, thinking in OOP doesn't come naturally to me yet, so I'm not entirely sure which way to go. I'm not looking for specific code, but rather suggestions on how I could design the script.</p>\n\n<p>My current thinking is this;</p>\n\n<ol>\n<li>Create a file class. This will handle import/export of data</li>\n<li>Create a search class. A child class of file. This will contain the various search methods</li>\n</ol>\n\n<p>How it would function in index.php:</p>\n\n<ol>\n<li>get an array from the csv in the file object in index.php</li>\n<li>create a loop to iterate through the values of the array</li>\n<li>call the methods in the loop from a search object and echo them out</li>\n</ol>\n\n<p>The problem I see with this approach is this;</p>\n\n<ul>\n<li>I will want to point at different elements in my array to look at particular \"columns\". I could just put my loop in a function and pass this as a parameter, but this kind of defeats the point of OOP, I feel</li>\n<li>My search methods will work in different ways. To search for duplicate entries is fairly straight forward with nested loops, but I do not need a nested loop to do a simple word or regular expression searchs.</li>\n</ul>\n\n<p>Should I instead go like this?</p>\n\n<ol>\n<li>Create a file class. This will handle import/export of data</li>\n<li>Create a loop class A child of class of file. This will contain methods that deals with iterating through the array</li>\n<li>Create a search class. A child class of loop. This will contain the various search methods</li>\n</ol>\n\n<p>My main issue with this is that it appears that I may need multiple search objects and iterate through this within my loop class.</p>\n\n<p>Any help would be much appreciated. I'm very new to OOP, and while I understand the individual parts, I'm not yet able to see the bigger picture. I may be overcomplicating what it is I'm trying to do, or there may be a much simpler way that I can't see yet.</p>\n"},{"tags":["php","file","codeigniter","session","login"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13288923,"title":"codeigiter admin panel file structure","body":"<p>I am having difficulty seting up a admin section with a codeigniter.</p>\n\n<p>I have just added a new folder in controller folder called fam_Admin.</p>\n\n<p>So structure is like following:</p>\n\n<p>-controllers <br>\n  --->fam_admin <br>\n     ---->-login.php <br></p>\n\n<p>in routes.php I added the following code:\n         <code>$route['fam_admin'] = \"fam_admin/login\";</code></p>\n\n<pre><code>&lt;?php\nclass Login extends CI_Controller {\n  public function index() {\n    //$login['main_content'] = '/fam_admin/login';\n    //$this -&gt; load -&gt; view('fam_admin/includes/template', $login);\n    $this -&gt; load -&gt; view('fam_admin/login');\n  }\n  public function validate_login() {\n    $username = $this -&gt; input -&gt; post('username');\n    $password = $this -&gt; input -&gt; post('password');\n    $this -&gt; load -&gt; library('form_validation');\n    $this -&gt; form_validation -&gt; set_rules('username', 'username', 'trim|required');\n    $this -&gt; form_validation -&gt; set_rules('password', 'password', 'trim|required|callback_credential_check');\n    if ($this -&gt; form_validation -&gt; run() == FALSE) {\n      $this -&gt; load -&gt; view('fam_admin/login');\n    }\n  }\n  public function credential_check() {\n    //Field validation succeeded.&amp;nbsp; Validate against database\n    $username = $this -&gt; input -&gt; post('username');\n    $password = $this -&gt; input -&gt; post('password');\n    $this -&gt; load -&gt; model('fam_admin/admin');\n    //query the database\n    $query = $this -&gt; admin -&gt; check_login($username, $password);\n    if (!$query) {\n      $this -&gt; form_validation -&gt; set_message('login_check', 'Invalid username or password');\n      return false;\n      $this -&gt; index();\n    } else {\n      $data = array(\n        'username' =&gt; $this -&gt; input -&gt; post('username'),\n        'is_logged_in' =&gt; true\n      );\n      $this -&gt; session -&gt; set_userdata($data);\n      //redirect('fam_admin/main_section');\n      redirect('site/logged_in');\n    }\n  }\n}\n?&gt;\n</code></pre>\n\n<p>Above is the code for login.php but when the login credentials are validated it gives following error in google chrome. You can try it by entering false credentials and it should give you errors and load the same login form.</p>\n\n<p>The website encountered an error while retrieving <a href=\"http://www.famtripsandinspectionvisits.com/index.php/fam_admin/login/validate_login\" rel=\"nofollow\">http://www.famtripsandinspectionvisits.com/index.php/fam_admin/login/validate_login</a>. It may be down for maintenance or configured incorrectly.</p>\n\n<p>I have been trying to get this to work since last night but still no success.</p>\n"}]}
{"total":298823,"page":5,"pagesize":100,"questions":[{"tags":["php","logic","membership"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":27,"score":1,"question_id":13289328,"title":"Membership site built, how do i scale user permission levels?","body":"<p>Hi i recently built a membership site.. i can change user permissions from admin Ex. User type (1) can contact up to (x) people per week before account expires... then they will get thrown to a payment page. </p>\n\n<p>Now there are all sorts of permission levels i can manipulate... one thing i didnt realize is this. What if one member signs up for this:</p>\n\n<p>Middle package ... user can contact (5) people per day.</p>\n\n<p>Now what if next month i say i want to make it (2) people per day for the Middle Package?</p>\n\n<p>I am pretty sure the new changes will reflect the old members? So they paid $19.99 to contact 5 people per day but now i changed it to contact 2 people per day? I guess i did not think that through, what is the proper way to go about this issue?</p>\n\n<p>Also how does it work with pricing in membership sites? I do not believe if i manipulate the pricing it will go in and actually change the old members pricing through my payment gateway but is it needed to put it in TOS that they must pay the price they have agreed to initially regardless of reductions later on? </p>\n\n<p>Thank you</p>\n"},{"tags":["php","c","arrays","string"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":68,"score":-1,"question_id":13289203,"title":"Is a string in php an character array?","body":"<p>Like in C, can I use string as array?\nFor example</p>\n\n<pre><code>$a=\"abcd\";\nfor($b=0;$b&lt;=3;$b++)\n{echo $a[$b];}\n</code></pre>\n\n<p>So is a string in php an array?\nor based on arrays in c?</p>\n"},{"tags":["php","arrays"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13289092,"title":"PHP - Most Efficient Way to build table for this array structure","body":"<p>I just asked a question about associative arrays and using foreach to retrieve the data but I am struggling to think of a way to build the table I want from this data structure.</p>\n\n<p>I have an array <code>$dailytotals</code> of the form</p>\n\n<pre><code>Array\n(\n    [204] =&gt; Array\n    (\n        [1] =&gt; Array\n           (\n               [leads] =&gt; 9\n           )\n\n        [2] =&gt; Array\n            (\n                [leads] =&gt; 15\n            )\n\n    )\n\n    [200] =&gt; Array\n    (\n        [1] =&gt; Array\n            (\n                [leads] =&gt; 7\n            )\n\n        [2] =&gt; Array\n            (\n                [leads] =&gt; 16\n            )\n\n        [3] =&gt; Array\n            (\n                [leads] =&gt; 5\n            )\n)\n</code></pre>\n\n<p>So I could have any number of sub arrays in the main array with any number of sub arrays within that.</p>\n\n<p>So far I've managed the grand task of building my table header:</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Clinic&lt;/th&gt;\n\n        &lt;?php\n         // get unique columns - not all clinics will have leads for all columns\n        $columns = array();\n        foreach ($dailytotals as $key =&gt; $arr) {\n            $columns = array_unique(array_merge($columns, array_keys($arr)));\n        }\n\n        foreach ($columns as $index =&gt; $campaignid) {\n           echo '&lt;th&gt;' . $campaignid . '&lt;/th&gt;';\n        }\n       ?&gt;\n    &lt;/tr&gt;\n</code></pre>\n\n<p>But I am completely stuck now how to build the table body.</p>\n\n<p>The structure I want to build is:</p>\n\n<pre><code>Clinic  |  1  |  2  |  3  |\n___________________________\n204     |  9  |  15 |  0  |\n200     |  7  |  16 |  5  |\n</code></pre>\n"},{"tags":["php","javascript","jquery","html","css"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13288472,"title":"Get elements under div position:absolute with jQuery","body":"<pre><code>&lt;table id=\"droppable\" border=\"1\" style=\"position: relative\"&gt;\n    &lt;tr&gt; \n      &lt;td&gt;a1&lt;/td&gt;\n      &lt;td&gt;b1&lt;/td&gt;\n      &lt;td&gt;c1&lt;/td&gt;\n      &lt;td&gt;d1&lt;/td&gt;\n      &lt;td&gt;e1&lt;/td&gt;\n      &lt;td&gt;f1&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt; \n      &lt;td&gt;a2&lt;/td&gt;\n      &lt;td&gt;b2&lt;/td&gt;\n      &lt;td&gt;c2&lt;/td&gt;\n      &lt;td&gt;d2&lt;/td&gt;\n      &lt;td&gt;e2&lt;/td&gt;\n      &lt;td&gt;f2&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n     &lt;td&gt;a3&lt;/td&gt;\n     &lt;td&gt;b3&lt;/td&gt;\n     &lt;td&gt;c3&lt;/td&gt;\n     &lt;td&gt;d3\n     &lt;div id=\"abs\" style=\"position: absolute; height: 50px; width: 50px;background-   color: red\"&gt;asdasd&lt;/div&gt;\n    &lt;/td&gt;\n    &lt;td&gt;e3&lt;/td&gt;\n    &lt;td&gt;f3&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt; \n     &lt;td&gt;a4&lt;/td&gt;\n     &lt;td&gt;b4&lt;/td&gt;\n     &lt;td&gt;c4&lt;/td&gt;\n     &lt;td&gt;d4&lt;/td&gt;\n     &lt;td&gt;e4&lt;/td&gt;\n     &lt;td&gt;f4&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt; \n    &lt;td&gt;a5&lt;/td&gt;\n    &lt;td&gt;b5&lt;/td&gt;\n    &lt;td&gt;c5&lt;/td&gt;\n    &lt;td&gt;d5&lt;/td&gt;\n    &lt;td&gt;e5&lt;/td&gt;\n    &lt;td&gt;f5&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt; \n     &lt;td&gt;a6&lt;/td&gt;\n     &lt;td&gt;b6&lt;/td&gt;\n     &lt;td&gt;c6&lt;/td&gt;\n     &lt;td&gt;d6&lt;/td&gt;\n     &lt;td&gt;e6&lt;/td&gt;\n     &lt;td&gt;f6&lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>​\n    ​\nLIVE: <a href=\"http://jsfiddle.net/qYNjP/1/\" rel=\"nofollow\">http://jsfiddle.net/qYNjP/1/</a></p>\n\n<p>How can i get all elements under div#abs with jQuery?</p>\n\n<p>In this example i would like receive object with td {d4, d5, d6, e4, e5, e6, f4, f5, f6}</p>\n"},{"tags":["php","xml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13289293,"title":"XML / PHP - If search response is empty","body":"<p>I have a function that when you search for a postcode or airport it displays an array of results in a textbox as follows (which is how it should work):</p>\n\n<p><img src=\"http://i.stack.imgur.com/2Uw7T.png\" alt=\"enter image description here\"></p>\n\n<p>This works fine until I put something 'random' in the address search, and for some reason it still populates the dropdown menu even though there are no results in the search list (see below):</p>\n\n<p><img src=\"http://i.stack.imgur.com/nqzyR.png\" alt=\"enter image description here\"></p>\n\n<p>From the above search, in the firebug console I get the following response: </p>\n\n<p><code>No results found, please try a different post code.)</code></p>\n\n<p>and the following XML response:</p>\n\n<p><code>XML Parsing Error: syntax error Location: moz-nullprincipal:{90e67c6c-c3a7-497c-a4df-6045472afde6} Line Number 1, Column 1:</code></p>\n\n<p><code>No results found, please try a different post code.</code></p>\n\n<p>Here is the code below:</p>\n\n<pre><code>public static function getAddressByPostcode($postcode) {\n\n    $addressArray = array();\n\n    $uri = 'http://[ipaddress]:[port]/?pc='.$postcode; // Send to Computer\n\n    $response = CurlController::request($uri);\n\n    if ($response != false) {\n\n        // Clean html\n        $response = strip_tags($response);\n\n        $deserializedAddressArray = unserialize($response); \n\n        // Get result set count\n        self::set_resultcount(count($deserializedAddressArray));\n\n        if (self::get_resultcount() &gt; 0) {\n\n            foreach ($deserializedAddressArray as $address) {\n\n                if(!isset($address['company']) || $address['company'] == '') {\n                    $address['company'] = '';\n                    $addr_cat = 1;\n                } else {\n                    $addr_cat = 2;\n                }\n\n                if(!isset($address['no'])) $address['no'] = '';\n                if(!isset($address['street'])) $address['street'] = '';\n                if(!isset($address['locality'])) $address['locality'] = '';\n                if(!isset($address['town'])) $address['town'] = '';\n                if(!isset($address['postcode'])) $address['postcode'] = '';\n\n                if(!isset($address['Longitude'])) {\n                    $address['Longitude'] = '';\n                } else {\n                    $address['Longitude'] = ($address['Longitude'] / 1000) / 3600;\n                }\n\n                if(!isset($address['Latitude'])) {\n                    $address['Latitude'] = '';\n                } else {\n                    $address['Latitude'] = ($address['Latitude'] / 1000) / 3600;\n                }\n\n\n\n                $addressObject = new Address($addr_cat,$address['company'],$address['no'],$address['street'],\n                                             $address['locality'],$address['town'],$address['postcode'],\n                                             $address['Latitude'],$address['Longitude']);\n\n                ## Swapped lat and long around as field spec on response is wrong\n\n                ## TODO - Add validation for address object\n\n                // Add address into addresses array\n                array_push($addressArray,$addressObject);\n\n            }\n\n            self::getAddressesAsXML($addressArray);\n\n        } else {\n\n            self::$text_response .= \"No results found, please try a different post code. \\r\\n\";\n            echo self::$text_response;\n\n        }\n\n    } else {\n\n        self::$text_response .= \"Address server is taking too long to respond, please try again later. \\r\\n\";\n        echo self::$text_response;\n\n    }\n\n}\n</code></pre>\n\n<p>If anybody could help me with this, it would be much appreciated. I can't seem to figure out why it is populating an empty array and not displaying an error alert message instead.</p>\n"},{"tags":["php","html","sql","database","escaping"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":13289166,"title":"Trouble inserting content to database, need help escaping PHP code","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3446216/difference-between-single-quote-and-double-quote-string-in-php\">Difference between single quote and double quote string in php</a>  </p>\n</blockquote>\n\n\n\n<p>Hey I'm having trouble inserting page content into my database.</p>\n\n<p>I'm trying to store:</p>\n\n<pre><code>&lt;p class=\\\"heading_large\\\"&gt;&lt;?php echo $Topic2C2A[data]; ?&gt;&lt;/p&gt;\n</code></pre>\n\n<p>Using this code:</p>\n\n<pre><code>$sql=\"UPDATE event SET \n  data='&lt;p class=\\\"heading_large\\\"&gt;&lt;?php echo $Topic2C2A[data]; ?&gt;&lt;/p&gt;' \n  WHERE id='2'\";\n</code></pre>\n\n<p>But when I look at the table all I see is:</p>\n\n<pre><code>&lt;p class=\"heading_large\"&gt;&lt;?php echo ; ?&gt;&lt;/p&gt;\n</code></pre>\n\n<p>I've obviously escaped the HTML with slashes, is there something similar I need to do with the PHP so <code>$Topic2C2A[data]</code> is displayed?</p>\n"},{"tags":["php","magento","magento-1.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13267367,"title":"Magento product page missing code for product and footer","body":"<p>I just moved my magento site to a new server and have hit a snag on product pages.\nMagento doesnt render any code after this (this is the last ten lines of html it delivers)</p>\n\n<pre><code>        ....\n        &lt;h2&gt;Quick Overview&lt;/h2&gt;\n        &lt;div class=\"std\"&gt;Add an extra hour of shooting time&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"product-img-box\"&gt;\n&lt;p class=\"product-image\"&gt;\n</code></pre>\n\n<p>I have cleared all caches and rebuilt indexes. I have also checked the error logs and nothing shows on the error log (I do have display errors turned on E_ALL). I have set my memory limit to 4096mb.</p>\n\n<p>Has anyone see this before? I'm stumped.</p>\n"},{"tags":["php","regex","space"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13288990,"title":"php regex to remove unwanted space within strings","body":"<p>I have a long list of codes:</p>\n\n<pre>\nBR 1111 \nBR 2222 \nCO 3333\n</pre>\n\n<p>I need to remove the space from within them so they end up:</p>\n\n<pre>\nBR1111 \nBR2222 \nCO3333\n</pre>\n\n<p>I've tried this to no avail:</p>\n\n<pre><code>preg_replace('/(\\D{2})\\s(\\d{4})')\n</code></pre>\n\n<p>Any ideas? Thanks!</p>\n"},{"tags":["php","mysql","ignore"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":285,"score":0,"question_id":7986846,"title":"How to ignore empty fields when inserting into MySQL database?","body":"<p>I am creating a very basic admin page to control content on another page.</p>\n\n<p>I have a few fields on the admin page, one of which is a file upload field. When the form is submitted the file gets uploaded to a folder and the filename is placed into the database. </p>\n\n<p>The problem is that when somebody goes to the admin page to update the content and they don't upload a file, the filename value gets erased from the database.</p>\n\n<p>Is there a way to do a MySQL query or something else that ignores empty values? </p>\n\n<pre><code>$headerimage=($_FILES['headerimage']['name']); \n$cktest = $_POST['editor1'];\n$LikeText = $_POST['editor2'];\n\n$sql = \"UPDATE installs SET noLikeText = '$cktest', LikeText = '$LikeText', headerImage = '$headerimage' WHERE pageID = '$page_id'\";\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":1195,"score":2,"question_id":5175029,"title":"How to set ajax returned value as a variable","body":"<p>I have the following ajax call which executes successfully:</p>\n\n<pre><code>function fnFormatDetails ( oTable, nTr )\n   {\n            var aData = oTable.fnGetData( nTr );\n\n            var memberid = 'memberid='+ aData[6];\n\n            $.ajax({\n                type: \"POST\",\n                url: \"shout.php\",\n                data: memberid,\n                success: function(html) {\n                    //$(\"#shout\").html(html);   \n                    var sOut = html.returned_val;\n                }\n            });\n\n            return sOut;\n        }\n</code></pre>\n\n<p>If I remove the commented out line ($(\"shout\").html(html) and use a div on my page, the results display fine. However, there is a second function which would use the HTML results from sOut and display accordingly in the proper position.</p>\n\n<p>The PHP file in shout.php simply 'echos' HTML to the page (which is then returned and displayed accordingly.</p>\n\n<p>I am unfortunately unable to set the variable sOut currently based on the results of my ajax call. What am I missing?</p>\n"},{"tags":["php","arrays"],"answer_count":5,"favorite_count":4,"up_vote_count":11,"down_vote_count":0,"view_count":2874,"score":11,"question_id":1783089,"title":"array_splice() for associative arrays","body":"<p>Say I have an associative array:</p>\n\n<pre><code>\"color\" =&gt; \"red\"\n\"taste\" =&gt; \"sweet\"\n\"season\" =&gt; \"summer\"\n</code></pre>\n\n<p>and I want to introduce a new element into it:</p>\n\n<pre><code>\"texture\" =&gt; \"bumpy\"\n</code></pre>\n\n<p>behind the 2nd item but preserving all the array keys:</p>\n\n<pre><code>\"color\" =&gt; \"red\"\n\"taste\" =&gt; \"sweet\"\n\"texture\" =&gt; \"bumpy\" \n\"season\" =&gt; \"summer\"\n</code></pre>\n\n<p>is there a function to do that? <a href=\"http://de.php.net/array%5Fsplice\">Array_splice()</a> won't cut it, it can work with numeric keys only.  </p>\n"},{"tags":["php","google-analytics"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13289184,"title":"Google Analytics: Report on users based on the presence of a specific cookie","body":"<p>Is it possible to report on users based on the presence of a specific cookie?</p>\n\n<p>In particular reporting on ecommerce sales with visitors who had a specific cookie?</p>\n"},{"tags":["php","debugging","xdebug","phpstorm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13289205,"title":"How tell PHPStorm debugger, that my project has document root other than project root","body":"<p>I'am trying to set up PHPStorm with xdebug. Everyting launches fine, but breakpoints just do not work and have  \"x\" symbol on them.</p>\n\n<p><img src=\"http://i.stack.imgur.com/6lnqh.png\" alt=\"enter image description here\"></p>\n\n<p>I'm using <a href=\"http://open-server.ru/\" rel=\"nofollow\">openserver</a> with PHP 5.4 and editing files directly on the local web server, so no file mapping is necessary.</p>\n\n<p>I think, that my problem is that web server root is located below the project root directory (for security reasons) and PHPStorm does not that.</p>\n\n<p>Project root: <strong>C:\\OpenServer\\domains\\mysite</strong></p>\n\n<p>Web server root (configured in nginx): <strong>C:\\OpenServer\\domains\\mysite\\httpdocs</strong></p>\n\n<p>How do I tell PHPStorm, that the index.php that webserver runs is actually <strong>C:\\OpenServer\\domains\\mysite\\httpdocs\\index.php</strong>, but not <strong>C:\\OpenServer\\domains\\mysite\\index.php</strong>?</p>\n"},{"tags":["php","json","viewmodel","zend-framework2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13256639,"title":"How to avoid wrapping response with \"content\" when returning ViewModel in controller action?","body":"<p>Using Zend Framework 2 and an AbstractRestfulController where the getList action is implemented like this:</p>\n\n<pre><code>public function getList() {\n    return new ViewModel(array(\n        'entities' = array(1 =&gt; array(/*..*/), 2 =&gt; array(/*..*/))\n    ));\n}\n</code></pre>\n\n<p>I've added the JsonStrategy to the view manager so when my UA sends <code>Accept: text/html</code> ZF2 uses the correct view to format the data. When my UA sends <code>Accept: application/json</code> ZF2 (correctly) responds with <code>application/json</code> and JSON encodes the data.</p>\n\n<p>But now the all the entities are wrapped inside a 'content' node (the <code>ViewModel::$captureTo</code> property).</p>\n\n<p>If the action controller returns a JsonModel I can avoid this. But then the JsonStrategy always responds with application/json, without checking Accept. </p>\n\n<p>Is there any way to avoid it while still using the ViewModel, and not the JsonModel?</p>\n"},{"tags":["php","jquery"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13288828,"title":"Form not submitting through outside button using Jquery","body":"<p>I have a form</p>\n\n<pre><code>&lt;div id='formdiv'&gt;\n&lt;form action='purchase.php' method=\"POST\" id=\"purchaseform\"&gt; \n......\n\n&lt;input type=\"submit\" value=\"Add Purchase\" /&gt;\n&lt;/form&gt;&lt;/div&gt;\n</code></pre>\n\n<p>After user submits the form..he is first made to confirm the enteries:</p>\n\n<pre><code>$('#purchaseform').submit(function(){\n    $('#formdiv').hide();\n    $('#confirmdiv').show();\n\nreturn false;   \n});\n</code></pre>\n\n<p>where the confirm div is:</p>\n\n<pre><code>&lt;div id='confirmdiv'&gt;\ndata to be confirmed....\n&lt;input type=\"button\" value=\"Confirm\" id = \"confirmform\"/&gt; \n&lt;input type=\"button\" value=\"Cancel\" id = \"cancelform\"/&gt;\n\n\n&lt;/div&gt;\n</code></pre>\n\n<p>I am trying to submit the form once user clicks on confirm button</p>\n\n<pre><code>$('#confirmform').click(function(){\n        $('#purchaseform').submit();\n        $('#formdiv').show();\n        $('#confirmdiv').hide();\n    });  \n</code></pre>\n\n<p>But the form is not submitting...anyone knows what am i doing wrong here?? </p>\n"},{"tags":["php","seo","keyword"],"answer_count":5,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":5699,"score":4,"question_id":819166,"title":"What is Keyword Density and how to create a script in PHP?","body":"<p>I am working on a project where I have to find out the keyword density of thepage on the basis of URL of that page. I googled a lot but no help and scripts were found, I found a paid tool <a href=\"http://www.selfseo.com/store/_catalog/php_scripts/_keyword_density_checker_php_script\" rel=\"nofollow\">http://www.selfseo.com/store/_catalog/php_scripts/_keyword_density_checker_php_script</a></p>\n\n<p>But I am not aware actually what \"keyword Density of a page\" actually means? and also please tell me how can we create a PHP script which will fetch the keyword density of a web page.</p>\n\n<p>Thanks</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13263361,"title":"PHP Session not holding values","body":"<p>After a good few hours of looking at posts and different forums I finally give up.\nI have been learning PHP for the last 24 hours by trying to create a registration and a login page.\nRegistration seems to be working (I am sure that there are some bugs etc, but as of right now everything seems to be in sql).\nAs far as my login page, this is where I am having some problems.</p>\n\n<h2>NEW EDIT</h2>\n\n<p>Here is my registration.php</p>\n\n<pre><code>&lt;?php\nerror_reporting(E_ALL);\nini_set('display_errors', '1');\n\n//Set error msg to blank\n$errorMsg = \"\";\n// Check to see if the form has been submitted\nif (isset($_POST['username'])) \n{\ninclude_once 'db_connect.php';\n$username = preg_replace('/[^A-Za-z0-9]/', '', $_POST['username']);\n$password = preg_replace('/[^A-Za-z0-9]/', '', $_POST['password']); \n$accounttype = preg_replace('/[^A-Za-z]/','', $_POST['accounttype']);\n$email = filter_var($_POST['email'], FILTER_VALIDATE_EMAIL);\n//validate email with filter_var\nif ((!$username) || (!$password) || (!$accounttype) || (!$email))\n    {\n    $errorMsg = \"Everything needs to be filled out\";\n    } \n    else {\n// if fields are not empty\n\n// check if user name is in use\n    $db_username_check = mysql_query(\"SELECT id FROM members WHERE          username='$username' LIMIT 1\");\n    $username_check = mysql_num_rows($db_username_check); \n// check if email is in use\n    $db_email_check = mysql_query(\"SELECT id FROM members WHERE email='$email' LIMIT 1\");\n    $email_check = mysql_num_rows($db_email_check);\n\n//if username is in use ... ERROR\n    if ($username_check &gt; 0)  { \n    $errorMsg = \"ERROR: username is already in use\";\n\n// if username is ok check if email is in use       \n    } else if ($email_check &gt; 0) {\n    $errorMsg = \"ERROR: email is already in use\"; \n\n    } else {\n\n    session_start();\n    $hashedPass = md5($password); \n// Add user info into the database table, claim your fields then values \n    $sql = mysql_query(\"INSERT INTO members (username, password, email, accounttype ) \n    VALUES('$username', '$hashedPass', '$email', '$accounttype')\") or die (mysql_error());\n    // Retrieves the ID generated for an AUTO_INCREMENT column by the previous query\n    $id = mysql_insert_id();\n    $_SESSION['id'] = $id; \n    mkdir(\"members/$id\", 0755); \n    header(\"location: member_profile.php?id=$id\");\n    $errorMsg = \"Registration Successful\";\n    exit();}\n\n    }\n// if the form has not been submitted\n} else { $errorMsg = 'To register please fill out the form'; }\n?&gt;\n</code></pre>\n\n<hr>\n\n<p>here's my Login.php</p>\n\n<pre><code>&lt;?php\n error_reporting(E_ALL);\n    ini_set('display_errors', '1');\n\n    // if the form has been submitted\n    $errorMsg = \"\";\n    if ($_POST['username']){\n\n            include_once('db_connect.php');\n            $username = stripslashes($_POST['username']);\n            $username = strip_tags($username);\n            $username = mysql_real_escape_string($_POST['username']);\n            $password = mysql_real_escape_string($_POST['password']); \n            $hashedPass = md5($password);\n\n\n            $sql = \"SELECT username,password FROM members WHERE username ='$username' AND password = '$hashedPass'\";\n            $login_check = mysql_query($sql);\n            $count = mysql_num_rows($login_check);\n            $row = mysql_fetch_array($login_check);\n            //var_dump($id, $username, $password);\n\n                if($count==1)\n                    {\n                        session_start();\n                        //$id = $row[\"id\"]; \n                        //                $_SESSION['id'] = $userid; \n                        //                $username = $row['username'];  \n                        //                $_SESSION['username'] = $username; \n                        //                header(\"location: member_profile.php?id=$userid\"); \n                         echo \"User name OK\";\n                         return true;\n        } else {\n            echo \"Wrong username or password\";\n            return false;\n\n                    }\n                }\n\n    ?&gt;\n</code></pre>\n\n<hr>\n\n<p>Whenever someone registers $id = mysql_insert_id();will pull the ID from the last query and start a $_SESSION['id']. However during a login right after if($count==1) I am completely lost. For some reason the name and the password is checked and does go through but the ID fails.\nI did try adding \"SELECT id FROM members WHERE id='$id'\" but my $id is always undefined. </p>\n\n<p>My member_profile.php is something like this:</p>\n\n<pre><code>&lt;?php\nsession_start();\n$toplinks = \"\";\nif(isset($_SESSION['id'])) {\n//If the user IS logged in show this menu\n$userid = $_SESSION['id'];\n$username = $_SESSION['username'];\n$toplinks = '\n&lt;a href=\"member_profile.php?id=' .$userid. '\"&gt; Profile &lt;/a&gt; &amp;bull;\n&lt;a href=\"member_account.php\"&gt;Account&lt;/a&gt; &amp;bull;\n&lt;a href=\"logout.php\"&gt;Logout&lt;/a&gt;\n';\n\n} else {\n// If the user IS NOT logged in show this menu\n$toplinks = '\n&lt;a href=\"register.php\"&gt;JOIN&lt;/a&gt; &amp;bull;\n&lt;a href=\"login.php\"&gt;LOGIN&lt;/a&gt;\n';\n\n}\n\n?&gt;\n</code></pre>\n\n<p>Thank you to everyone for any tips as far as security, structure and coding style. This is day #3 of php for me.</p>\n\n<p>Please excuse any errors.</p>\n"},{"tags":["php","database","foreach"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13288501,"title":"How to make a order list of raw database data","body":"<p>I have a big database which is already filled and contains order data. I have a table named order which contains all the orders. </p>\n\n<p>I need to make a list of all the ordered products which are the same. It's something like this:</p>\n\n<p>My data in the database</p>\n\n<pre><code>id = 1 | orderid = 1 | product = A \nid = 2 | orderid = 1 | product = A \nid = 3 | orderid = 1 | product = B \nid = 4 | orderid = 1 | product = B\nid = 5 | orderid = 1 | product = B \nid = 6 | orderid = 2 | product = A \n</code></pre>\n\n<p>In short: </p>\n\n<ul>\n<li>order 1 has 2 product A and 3 product B</li>\n<li>order 2 has 1 product A and 2 product B and 4 product C</li>\n<li>order 3 has 3 product A and 3 product C</li>\n</ul>\n\n<p>I would like to make a summary:</p>\n\n<pre><code>product A ordered 6 times\nproduct B ordered 5 times\nproduct C ordered 7 times\n</code></pre>\n\n<p>I can't find a way to iterate through the products which are ordered one by one. How can I count this or group them. I can't add an extra table because the database is not under my supervision. </p>\n"},{"tags":["php","script","transactions","marketplace","point-of-sale"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13289097,"title":"PHP marketplace script","body":"<p>I'm looking for a simple PHP-script which allow registered users to buy stuff from each other (NOT AN AUCTION). Let me give you an example;</p>\n\n<p>A guy want to sell an old book. He registers as a user, posts his book with the price he wants for it, and wait for someone to buy it. Suddenly another registered user find the book and click \"buy now!. The buyer completes the transaction and wait for his book to arrive.</p>\n\n<p><strong>The transaction:</strong>\nAt first, the money are  transfered to me (the website). When the buyer recieves his book I transfer the money to the salesman. The website charges 10% (or something) of the sales price as a transaction fee. (Is this the right way to do it?)</p>\n\n<p>Hope you get the idea?\nDo anyone know of a PHP-script that can do something like this or can anyone help me to program it? Suggestions are also very welcome!</p>\n\n<p>Regards Anton</p>\n"},{"tags":["php","post","get"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13288597,"title":"PHP - Not recieving URL variables with submitting form with GET","body":"<p>I have a form using the GET method and also I'm using the action method to also pass on some URL variables:</p>\n\n<pre><code>&lt;form action=\"items.php?a=1&amp;b=2\" method=\"get\"&gt;...&lt;/form&gt;\n</code></pre>\n\n<p>In <em><code>items.php</code></em> I use <code>$_REQUEST</code> to parse the contents of a,b vars but unless I use POST as method in the form, the variables appear empty or non-existent.</p>\n\n<p>I've read about the differences between POST, GET, REQUEST but I'm not sure how to tackle this issue. I need the form to use GET so that it caches the results and when a user selects a result and then clicks back in his browser, he returns to the result set.</p>\n"},{"tags":["php","objective-c","ios","video","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13288969,"title":"Uploading a large video from iphone to web server","body":"<p>I'm trying to upload a large video from iphone to a web server that has php script.</p>\n\n<p>I'm using <code>NSInputStream</code> to get file video chunks and I'm creating a request(POST) on each traversal of the</p>\n\n<pre><code>- (void)stream:(NSStream *)stream handleEvent:(NSStreamEvent)eventCode\n</code></pre>\n\n<p>method, with the read data passed as parameter.</p>\n\n<p>Here is the code I'm using to get chunks of data</p>\n\n<pre><code>- (void)stream:(NSStream *)stream handleEvent:(NSStreamEvent)eventCode \n{\nswitch(eventCode) \n{\n    case NSStreamEventHasBytesAvailable:\n    {\n        NSMutableData *dataSlice;\n\n        uint8_t buf[1048576];\n        unsigned int len = 0;\n        len = [(NSInputStream *)stream read:buf maxLength:1048576];\n        if(len) \n        {\n            dataSlice = [NSMutableData dataWithBytes:(const void *)buf length:len];\n\n\n            NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:folderNameForUpload, kFolderName,\n                                           @\"abcd.MOV\", kFileName,\n                                           @\"MOV\", kFileType,\n                                           nil];\n            MKNetworkOperation *op = [self.networkEngine operationWithPath:@\"upload.php\" params:params httpMethod:@\"POST\"];\n\n            [op addData:dataSlice forKey: @\"file\"\n                             mimeType: @\"image/mov\"\n                             fileName: @\"abcd\"];\n\n            [op onCompletion:^(MKNetworkOperation *completedOperation) {\n\n            } onError:^(NSError *error) {\n\n            }];\n\n            [[WebRequest sharedInstance].networkEngine enqueueOperation: op];\n\n\n        }\n        else \n        {\n            NSLog(@\"NO MORE BUFFER!\");\n        }\n        break;\n    }\n\n\n    case NSStreamEventEndEncountered:\n    {\n        [stream close];\n        [stream removeFromRunLoop:[NSRunLoop currentRunLoop]\n                          forMode:NSDefaultRunLoopMode];\n        [stream release];\n        stream = nil;\n        break;\n    }\n}\n}\n</code></pre>\n\n<p>It is sending the data to the server, and I'm able to  write the chunks into a file. But, the problem is that, if there are more than one chunk, the file will become corrupted and I'm not able to open the video file. </p>\n\n<p>I checked the file size on both server and client, and both are exactly same.</p>\n\n<p>Below is the php script, I'm using to merge video file chunks.</p>\n\n<pre><code>        $tmp_file = $_FILES['file']['tmp_name'];\n\n        $write_handle = fopen($fileURL, \"ab+\");\n        $read_handle = fopen($tmp_file, \"rb\");\n\n        $contents = fread($read_handle, filesize($tmp_file));\n        fwrite($write_handle, $contents);\n\n        fclose($write_handle);\n        fclose($read_handle);\n</code></pre>\n\n<p>What Am I doing wrong here?, Please help!</p>\n\n<p>I'm stuck over this problem!!</p>\n\n<p>Thanks in Advance,</p>\n\n<p>Suraj</p>\n"},{"tags":["php","string","str-replace"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13288004,"title":"php Swear code doesn't quite work","body":"<p>I have this code below which works ok ish.</p>\n\n<pre><code>$swearWords = file(\"blacklist.txt\");\nforeach ($swearWords as $naughty)\n{\n    $post = str_ireplace(rtrim($naughty), \"&lt;b&gt;&lt;i&gt;(oops)&lt;/i&gt;&lt;/b&gt;\", $post); \n}\n</code></pre>\n\n<p>The problem is with words that contain thee swear words..</p>\n\n<p>for instant \"Scunthorpe\" has a bad word within it. this code changes it to S(oops)horpe.</p>\n\n<p>Any ideas how i can fix this ? do I need to </p>\n"},{"tags":["php","email"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13289013,"title":"Return receipts in PHP (pop3 and imap)","body":"<p>Im writing small module to manage emails. One of important functionality in my system will have possibility to return receipt (or acknowledgement of receipt). </p>\n\n<p>I have problem with it because I don't know which header I should use that I want return-receipts (Now in POP3 and IMAP I set <strong>X-Confirm-Reading-To:</strong>). Also I don't know how I can change header or signed message that I returned-receipt in IMAP (against situation that system will ask about return receipts every time - I want to change header that I sended message or I didn't want send. In POP3 it is easy because I just change information in database).</p>\n"},{"tags":["php","sql","phpmyadmin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13288821,"title":"PHP: Missing value in the form","body":"<p>I am trying to import these sql statements.</p>\n\n<p>I get the error </p>\n\n<blockquote>\n  <p>Missing value in the form!</p>\n</blockquote>\n\n<pre><code>CREATE DATABASE IF NOT EXISTS `login`;\n\nCREATE TABLE IF NOT EXISTS `login`.`users` (\n  `user_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'auto incrementing user_id of each user, unique index',\n  `user_name` varchar(64) COLLATE utf8_unicode_ci NOT NULL COMMENT 'user''s name',\n  `user_password_hash` text COLLATE utf8_unicode_ci NOT NULL COMMENT 'user''s password in salted and hashed format',\n  `user_email` text COLLATE utf8_unicode_ci COMMENT 'user''s email',\n  PRIMARY KEY (`user_id`),\n  UNIQUE KEY `user_name` (`user_name`)\n) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='user data' AUTO_INCREMENT=1 ;\n</code></pre>\n"},{"tags":["php","string","oop"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":2,"view_count":892,"score":3,"question_id":2391768,"title":"How to make a natural String class in PHP","body":"<p>Hai. I was making this simple string class and was wondering if there was a more natural way of doing it.</p>\n\n<pre><code>class Str{\n    function __construct($str){\n        $this-&gt;value = $str;\n        $this-&gt;length = strlen($str);\n        ..\n    }\n\n    function __toString(){\n        return $this-&gt;value;\n    }\n    ..\n}\n</code></pre>\n\n<p>so now i have to use it like this:</p>\n\n<pre><code>$str = new Str('hello kitty');\necho $str;\n</code></pre>\n\n<p>But that doesnt look very 'natural' with the parentheses. So i was wondering if something like this, or similar was possible.</p>\n\n<pre><code>$str = new Str 'hello kitty'; # I dont believe this is possible although this is preferred.\n\n$str = new Str; # get rid of the construct param.\n$str = 'value here'; #instead of resetting, set 'value here' to Str::$value??\n</code></pre>\n\n<p>In the second method, is there a way i could possibly catch that variable bing set again and instead of reseting it, set this to Str::$value ? I have thought around and the closest i could come up to is the __destruct method. but there was no possible way to know how it was being destroyed. Is this possible or am i wasting my time?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":22,"score":-3,"question_id":13288460,"title":"PHP - Sign Up page - If signed in, send the user to account page","body":"<p>I'm creating a login system for my site and was wondering if anyone could help me with a problem? I would like for people who are already logged in that go onto the signup page to be redirected to the your account page.</p>\n\n<p>I have tried this, but it doesn't seem to work for me.</p>\n\n<pre><code>&lt;?php if (isset($_SESSION['id'])) { \n\n    header(\"location: youraccount\"); \n\n    } else {\n\n    header(\"location: signup\"); \n\n   exit(); \n\n} \n\n?&gt;\n</code></pre>\n\n<hr>\n\n<p>I have managed to do it after a bit off messing around. </p>\n\n<p>This is what finally worked for me-</p>\n\n<pre><code>&lt;?php if (isset($_SESSION['id'])) { \nheader('Location: youraccount?id=' . $userid . '');\n   exit(); \n} \n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","xmpp","chat","real-time"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13288903,"title":"XMPP PHP JavaScript web chat","body":"<p>I have a website(mini social network) and I want to create a chat between site members.\nI have openfire installed but I stil do not understand how it all works together(I mean php javascript and XMPP).I have read several articles about XMPP.</p>\n\n<p>Please give me some example code of javascript and php or links about: (how to connect to xmpp server, how to send message to certain member, how to get buddy list etc.)</p>\n\n<p>I am new to XMPP please help me!</p>\n\n<p>Sorry for my bad english.</p>\n"},{"tags":["php","database","query"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13282835,"title":"special character is giving null value","body":"<p>I am having 1 database.In that I am having one tabel.\n  I am doing json parsing in this code.<br>\n  I have used this php code for retrieving value:</p>\n\n<pre><code>&lt;head&gt;\n&lt;style type=\"text/css\"&gt;\n.auto-style1 {\n    text-align: right;\n}\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;?php\n\necho getdata($_REQUEST['lastupdate']);\n\nfunction getdata($lastupdatedate){\n\n\n    $obj = json_decode($json);\n\n\n\n    $con = mysql_connect(\"localhost\",\"root\",\"Password\");\n\n\n    if (!$con)\n    {\n        die('Could not connect: ' . mysql_error());\n    }\n    mysql_select_db(\"roster\", $con);\n\n    $query = \"select * from statedeathtax_v2 where LastUpdated &gt; '\".$lastupdatedate.\"' order by LastUpdated\";\n\n    $rs = mysql_query($query) or die($query);\n\n    //print_r($rs);\n\n    while($row=mysql_fetch_assoc($rs)){\n\n    $record[] = $row;\n\n    }\n\n\n\n    $data = json_encode($record);\n\n\n\n    header('Cache-Control: no-cache, must-revalidate');\n\n    header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');\n\n    header('Content-type: application/json');\n\n    return $data;\n\n}\n\n?&gt;\n</code></pre>\n\n<p>Here this code is not displaying special characters like \"$\".\n  When I am throwing query in this code,it showing null values for the columns which is having special characters.\nI am not getting the issue.</p>\n"},{"tags":["php","regex","unicode","multibyte","mbstring"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":515,"score":4,"question_id":10066647,"title":"Multibyte trim in PHP?","body":"<p>Apparently there's no <code>mb_trim</code> in the <a href=\"http://www.php.net/manual/en/book.mbstring.php\" rel=\"nofollow\"><code>mb_*</code> family</a>, so I'm trying to implement one for my own.</p>\n\n<p>I recently found this regex in a comment in <a href=\"http://php.net\" rel=\"nofollow\">php.net</a>:</p>\n\n<pre><code>/(^\\s+)|(\\s+$)/u\n</code></pre>\n\n<p>So, I'd implement it in the following way:</p>\n\n<pre><code>function multibyte_trim($str)\n{\n    if (!function_exists(\"mb_trim\") || !extension_loaded(\"mbstring\")) {\n        return preg_replace(\"/(^\\s+)|(\\s+$)/u\", \"\", $str);\n    } else {\n        return mb_trim($str);\n    }\n}\n</code></pre>\n\n<p>The regex seems correct to me, but I'm extremely noob with regular expressions. Will this effectively remove <strong>any</strong> Unicode space in the beginning/end of a string?</p>\n"},{"tags":["php","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13288785,"title":"mb_strtolower and utf8 strings","body":"<p>As you know, we need to use mb_strtolower() instead if strtolower() while we're working around utf-8 data:</p>\n\n<pre><code>$str = 'برنامه';\necho strtolower($str);\n----------------------\noutput: �����\n</code></pre>\n\n<p>It's all gone to undefined chars, now I use mb_strtolower()</p>\n\n<pre><code>$str = 'برنامه';\necho mb_strtolower($str);\n----------------------\noutput: �����\n</code></pre>\n\n<p>still the same results, now:</p>\n\n<pre><code>$str = 'برنامه';\necho mb_strtolower($str,  mb_detect_encoding($str));\n----------------------\noutput: برنامه\n</code></pre>\n\n<p>Now it's fixed, so the way to use mb_strtolower is to also having mb_detect_encoding.</p>\n\n<p>Now my problem is that I want to do the same thing with array_map:</p>\n\n<pre><code>$results_array = array_map('mb_strtolower', $results_array);\n</code></pre>\n\n<p>how I'm supposed to use <code>mb_detect_encoding</code> with the above line?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","curl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":227,"score":-2,"question_id":1569484,"title":"retrieving POST information from a cURL request","body":"<p>1234567890123456789012345678901234567890123456789012345678901234567890</p>\n"},{"tags":["php","jquery","ajax","pdf"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":62,"score":3,"question_id":13209897,"title":"using AJAX and Jquery to create pdf using FPDF","body":"<p>I am trying to create pdf file using FPDF. </p>\n\n<p>What I right now have is an HTML page with various lines of data and a print button next to it. When someone clicks Print, I am sending corresponding data using Jquery by making AJAX call..</p>\n\n<p>This is my JQUERY code:</p>\n\n<pre><code>$('.printbtn').live('click', function(){\n    var printdata = 'name=' + name_t + '&amp;address=' + address_t;        \n    $.post('print.php', printdata, function(){\n    });\n    return false;\n });\n</code></pre>\n\n<p>this is print.php\n    \n\n<pre><code> $name = $_POST['name'];\n $address = $_POST['address'];\n\n require (\"fpdf17/fpdf.php\");\n\n $pdf = new FPDF('P','mm',array(90,100));\n\n $pdf-&gt;AddPage();\n\n $pdf-&gt;SetFont('Arial','B',12);\n\n $pdf-&gt;Cell(0,10,'name: '.$name);\n $pdf-&gt;Cell(0,10,'address: '.$address);\n\n $pdf-&gt;Output();\n\n ?&gt;\n</code></pre>\n\n<p>But I am not getting PDF in return. Whats wrong?? In fact, nothings happening..\nI want to retreive the pdf file and send it to print</p>\n"},{"tags":["php","ocr"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13288767,"title":"Scan image to readable CSV or Spreadsheet using PHP","body":"<p>I have scanned invoice images in one folder. What i have to do is extract some information out of that invoice and insert into DB.</p>\n\n<p>Informatio i need is like:</p>\n\n<ol>\n<li>Client Details</li>\n<li>Invoice Number</li>\n<li>Invoice Date</li>\n<li>Product information (Name, quantity, price etc)</li>\n</ol>\n\n<p>I tried Google OCR tool (tesseract-ocr) but no luck. It works for normal text images but doesn't work properly for invoices. Some text comes in unreadable format.</p>\n\n<p>Please help me out ASAP. </p>\n"},{"tags":["php","data"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13288740,"title":"Detecting similar structure of strings in PHP","body":"<p>Assuming I have the following two strings:</p>\n\n<pre><code>START dsad COMMAND5 name\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>START hfhsaklk342cxz COMMAND8 name\n</code></pre>\n\n<p>&nbsp;</p>\n\n<p>I want to be able to analyze and find the common structure between the strings:</p>\n\n<pre><code>START ### COMMAND### name\n</code></pre>\n\n<p>(### marks changing data).</p>\n\n<p>(They all start with \"START \", followed by something, then \" COMMAND\", then something, then \" name\")</p>\n\n<p>&nbsp;</p>\n\n<p>Any ideas?</p>\n"},{"tags":["php","sphinx"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13288426,"title":"how can i create index without restart sphinx searchd serivice","body":"<p>I m new in sphinx search.i have installed sphinx in windows 7 .</p>\n\n<p>My question is how can i create new index in sphinx without start-stop searchd service ? </p>\n\n<p>Because Every time when i create a new index and then run query in php script it will display error unknown local index.</p>\n\n<p>Is it necessary to stop searchd when indexing ?</p>\n\n<p>I really appreciate any help I can get! Thanks!</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13288727,"title":"Updating content to the database onclick event","body":"<p>I spent the last 2 days trying to make the following code work.<br />\nI have three forms with content in different languages. For each of them there is an Edit button which popup a text editor. What I would like to do is when I click the button \"Save and close\" the edited content would be updated in the database using javascript (AJAX) and PHP/SQL but it gives me the following error: <b>Uncaught ReferenceError: xmlHttp is not defined</b>. So here is the code I have so far.</p>\n\n<pre><code>$mvccont .=\n    \"&lt;form action='edit_language/\".ID.\".raw' method='post' target='pop' class='comparelist' style='clear: both' onsubmit='window.open(\\\"\\\", \\\"pop\\\", \\\"width=0,height=0,resizeable,scrollbars\\\");'&gt;\".\n        \"&lt;input type='hidden' name='keyword' value='\".$keyword.\"'&gt;\".\n        \"&lt;table style='width:100%; border-collapse: collapse;' &gt;\".\n        \"&lt;tr&gt;&lt;td width='20%' &gt;&lt;div class='info' style='width:100%; border:none;' &gt;\".\n            substr($keyword, 0, 20).\"&lt;a title='\".$keyword.\"'&gt;&lt;input type='submit' value='Save' class='BUYN'/&gt;&lt;/a&gt;\".\n            \"&lt;a href='edit_language/\".$keyword.\"/delete'&gt;&lt;input type='button' value='Delete' class='NONA'/&gt;&lt;/a&gt;\".\n        \"&lt;/div&gt;&lt;/td&gt;\";\n\n        foreach($lan as $lang=&gt;$lame) {\n            $idk = str_replace(\" \", \"\", $keyword).$lang;\n            $mvccont .=\n            \"&lt;td&gt;&lt;div class='number3'\".(($red[$keyword][$lang]=='')?\" style='background: #fcc;'\":\"\").\" style='border:none;' &gt;\".\n                \"&lt;input type='hidden' name='touch\".$lang.$keyword.\"'/&gt;\".\n                \"&lt;input type='text' id='s\".$idk.\"' name='a\".$lang.\"' value='\".htmlentities($lame, ENT_QUOTES, \"UTF-8\").\"' onchange=\\\"this.style.borderColor='#ff0000'; document.getElementsByName('touch\".$lang.$keyword.\"')[0].value='true'\\\"/&gt;&lt;a onclick='popbox(false, \".$idk.\", true); mce();'&gt;&lt;input type='button' value='Edit' class='BUYN'/&gt;&lt;/a&gt;\".\n                \"&lt;br /&gt;\".($red[$keyword][$lang]).\n                \"&lt;script&gt;\".\n                    \"function falaffel\".$idk.\"(step) {\".\n                        \"var l\".$idk.\"=document.getElementById('s\".$idk.\"').value;\".\n                        \"if(step==1) {\".\n                            \"return '&lt;textarea&gt;'+l\".$idk.\"+'&lt;/textarea&gt;&lt;input type=\\\"button\\\" value=\\\"Save &amp; close\\\" class=\\\"NONA\\\" onclick=\\\"'+\\\"document.getElementById('s\".$idk.\"').value=tinyMCE.activeEditor.getContent(); \".$idk.\"=falaffel\".$idk.\"(1); popboxremove(); document.getElementById('s\".$idk.\"').style.borderColor='#ff0000'; updateValue(); document.getElementsByName('touch\".$lang.$keyword.\"')[0].value='true' \\\"+'\\\"&gt;';\".\n                        \"}\".\n                        \"return l\".$idk.\";\".\n                    \"}\".\n                    \"var \".$idk.\" = falaffel\".$idk.\"(1); \".\n                \"&lt;/script&gt;\".\n            \"&lt;/div&gt;&lt;/td&gt;\";\n        }\n        $mvccont .=\n    \"&lt;/tr&gt;&lt;/table&gt;&lt;/form&gt;\";\n</code></pre>\n\n<p>Then here is the AJAX code:</p>\n\n<pre><code>function updateValue(){\nif (window.XMLHttpRequest){\n    xmlhttp=new XMLHttpRequest();\n}\n\nxmlhttp.onreadystatechange=function(){\n    if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n        document.getElementById('confirm').innerHTML=xmlhttp.responseText;\n    }\n}\nvar url = \"administrator/comp/update_lang.php\";\n\nxmlHttp.open('GET', url, true);\nxmlHttp.onreadystatechange = callbackFunction;\nxmlHttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\nxmlHttp.send();\n}\n</code></pre>\n\n<p>And finally the PHP code:</p>\n\n<pre><code>&lt;?php\nforeach(array(1=&gt;\"en\", 2=&gt;\"it\", 3=&gt;\"pl\") as $id=&gt;$lang) {\n    if($_POST[\"touch\".$id.$_POST[\"keyword\"]]==\"true\") {\n        $sql = \"UPDATE translat SET value='\".mysql_real_escape_string($_POST[\"a\".$id]).\"', date=\".NOWTIME.\" WHERE lang=\".$id.\" AND keyword='\".urldecode($_POST[\"keyword\"]).\"'\";\n        $insert = $db-&gt;query($sql);\n        $insert-&gt;execute();\n        @unlink(TEMP.\"lang_\".$lang.\".cache\");\n    }\n}\n$mvccont .=\n\"&lt;script&gt;\".\n    \"window.close();\".\n\"&lt;/script&gt;\";\ndie($mvccont);\n?&gt;\n</code></pre>\n\n<p>Thank you so much for your help.</p>\n"},{"tags":["php","arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13288478,"title":"PHP Multidimensional Associative Array - how to get list of keys?","body":"<p>Here is an example of my data:</p>\n\n<pre><code>[204] =&gt; Array\n    (\n        [1] =&gt; Array\n            (\n                [leads] =&gt; 9\n            )\n\n        [2] =&gt; Array\n            (\n                [leads] =&gt; 15\n            )\n\n    )\n\n[200] =&gt; Array\n    (\n        [1] =&gt; Array\n            (\n                [leads] =&gt; 7\n            )\n\n        [2] =&gt; Array\n            (\n                [leads] =&gt; 16\n            )\n\n        [3] =&gt; Array\n            (\n                [leads] =&gt; 5\n            )\n\n    )\n</code></pre>\n\n<p>I am at the stage where I trying to output the array data into a table but how do I set up the table headers dynamically so that the columns will be <code>1 | 2 | 3</code>, even if some subsets don't have an array of that type?</p>\n\n<p>The array is constructed from the results of a database query like so:</p>\n\n<pre><code>$dailytotals[$store][$campaigntypeid] = array('leads'=&gt; $leads);\n</code></pre>\n\n<p>I tried a for each but just realised that it wouldn't work since not all subsets have all columns.</p>\n\n<p>Is there a way to get what I am trying to find?</p>\n"},{"tags":["php","paypal","integration-testing"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":6179,"score":3,"question_id":2324511,"title":"PHP Paypal integration test account","body":"<p>I am going to work on a project that involves Paypal function. My question what kind of account do I need to do the test? Do I need merchant account?</p>\n\n<p>And if you also have a good reference site please share it here.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","zend-framework"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13288663,"title":"ZF: How to render some action and fetch reponse into some variable?","body":"<p>is it possible to render some controller/action and fetch the response into some variable while doing it from a view script (.phtml) ?</p>\n"},{"tags":["php","mysql","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13288375,"title":"How to get value from sql of newly increment id PHP","body":"<p>I will first show you the code, it's easier to discuss this way.</p>\n\n<pre><code> $message = $_GET['r'];\n    $message = str_replace(\"%20\", \" \", $message);\n    echo $message;\n\n    mysql_query(\"INSERT INTO `uniform` (`note`,`cadetID) \n    VALUES ('$message','$cadet')\");\n\n    $query = mysql_query(\"SELECT `uniformID` FROM `cadets` WHERE id = '$cadet'\");\n    while ($row = mysql_fetch_array($query)) {\n      $uniformA = $row['uniformID'];\n    }\n\n    if($uniformA == \"0\"){\n      mysql_query(\"UPDATE `cadets` SET `uniformID` = '\" .  .\"'\n      WHERE id = '$cadet'\");\n    }\n</code></pre>\n\n<p>Don't worry about sanatisation for now.</p>\n\n<p>I got to the line: </p>\n\n<pre><code>mysql_query(\"UPDATE `cadets` SET `uniformID` = '\" .  .\"' WHERE id = '$cadet'\");\n</code></pre>\n\n<p>and  realised I need the ID of the sql insert</p>\n\n<pre><code>mysql_query(\"INSERT INTO `uniform` (`note`,`cadetID) VALUES ('$message','$cadet')\");\n</code></pre>\n\n<p>Is there an efficient way of getting the newly incremented ID from the database? Table structure as follows:</p>\n\n<p><code>cadet(id[primary key, auto increment],...,uniformID)</code></p>\n\n<p><code>uniform(id[prim key, auto inc], note, cadetID)</code></p>\n\n<p>Data:</p>\n\n<p><code>Cadet: 1,...,[1,2,3]</code> &lt;- all in the [] are in cadetID, array delimited by ','</p>\n\n<p><code>Uniform: 1, need a new blahh blahh, 1</code></p>\n\n<p><code>Uniform: 2, new shoes needed, 1</code></p>\n\n<p>And so forth.</p>\n\n<p>So, in E-R speak, one cadet can have many uniform ID's.</p>\n\n<p><strong>TL;DR</strong> I need to store the new ID in the database (auto incremented by SQL db) on a <code>insert into</code></p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13288232,"title":"Showing in a table the last different users","body":"<p>I'm working on a MySQL database like this:</p>\n\n<pre><code> ----------------------------------------------\n | ID |  Time  |    Typeop     |   Operator   |\n ----------------------------------------------\n |  1 |  10:01 |  withdrawal   |     John     |\n |  2 |  10:01 |  deposit      |     Mike     |\n |  3 |  10:01 |  deposit      |     Andrew   |\n |  4 |  10:02 |  check        |     John     |\n |  5 |  10:02 |  withdrawal   |     Simon    |\n |  6 |  10:03 |  withdrawal   |     Dorothy  |\n</code></pre>\n\n<p>The database is populated by each \"operator\" during his operations and shows an hypotetic bank operations database.</p>\n\n<p>My question is:\nHow can i organize a mysql query to show the activity of each different operator in the last 3 minutes?\nIn the case of this example the query must show:</p>\n\n<pre><code> -------------------------\n | Operator |   Typeop   |\n -------------------------\n | Dorothy  | withdrawal |\n |  Simon   | withdrawal |\n |   John   | check      |\n |  Andrew  | deposit    |\n |  Mike    | deposit    |\n -------------------------\n</code></pre>\n\n<p>Notice that John made two operations in the last 3 minutes but it is considered only the last one.\nRecords in this table are ordered from the last to the older operation within 3-min timeslot.</p>\n\n<p>May I show also a picture at the side of each operator's name? (john.jpg, Simon.jpg...) in the php table generated from the query?</p>\n"},{"tags":["php","image","upload","quality"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13288522,"title":"php upload images, how can i add quality to this code?","body":"<p>I want to add qualit=80 to my upload images file... but no success :(</p>\n\n<p>That' my code:</p>\n\n<p><a href=\"http://www.luxury-immobilien.at/upload.html\" rel=\"nofollow\">upload.phps</a></p>\n"},{"tags":["php","oop"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13288194,"title":"Invoke method in OOP PHP","body":"<p>I am very new at OOP, and i want to get things right at the first learning cycle.</p>\n\n<p>I have a HTML form:</p>\n\n<pre><code>&lt;?php\ninclude(\"classes/Gaestebog.php\");\n$gaestebog = new Gaestebog();\n?&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form action=\"\" method=\"post\"&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Navn:&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"text\" name=\"navn\" value=\"Patrick\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Besked:&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"text\" name=\"besked\" value=\"Hej med dig !!\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;input type=\"submit\" name=\"opret\" value=\"Opret\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and a Guestbook class: </p>\n\n<pre><code>&lt;?php\nclass Gaestebog {\n\n    public function Gaestebog() {\n\n    }\n\n    public function getPosts() {\n\n    }\n\n    public function addPost() {\n\n    }\n}\n?&gt;\n</code></pre>\n\n<p>I want the :Guestbook to invoke the addPost method on form submission. How would i approach this?</p>\n"},{"tags":["php",".htaccess","get"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13287889,"title":"Rejecting urls using PHP $_GET and .htaccess","body":"<p>I have <code>index.php</code> with only one line</p>\n\n<pre><code>&lt;?php echo $_GET['a']; ?&gt;\n</code></pre>\n\n<p>If I enter the <code>url</code>:</p>\n\n<pre><code>http://localhost/test/?a=abc.....\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>abc.....\n</code></pre>\n\n<p>but if I create <code>.htaccess</code> and write:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^([a-z]+)$ ?a=$1\n</code></pre>\n\n<p>And if I enter the <code>url</code>:</p>\n\n<pre><code>http://localhost/test/abc.....\n</code></pre>\n\n<p>I only get <code>abc</code> (without the dots <code>.....</code>)</p>\n\n<p>Why is this happening?</p>\n\n<p>I want to get an <code>404 error</code> if <code>abc.....</code> string is sent. How can I archieve this?</p>\n"},{"tags":["php","function","global"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13288365,"title":"Global Variables and Functions","body":"<p>if I have a function that needs to use $foo,</p>\n\n<p>And <code>global $foo</code> is so frowned upon,</p>\n\n<p>how can i get my function to access the variable without it being global?  Is there another way or method to do this that I am not aware of?</p>\n"},{"tags":["php","ajax","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13288433,"title":"How to save uploaded file in qq file uploader using php?","body":"<p>I am using <a href=\"https://github.com/valums/file-uploader\" rel=\"nofollow\">https://github.com/valums/file-uploader</a> uploader script on my website. I am searching for solution to save uploaded file in qq file uploader using php server side script.\nI tried to request file using    <code>$_FILES['qqfile']['tmp_name']</code>   but didn't works. Can anyone tell me php example to request and save file in qq file uploader?</p>\n"},{"tags":["php","mysql","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":13288180,"title":"query update or insert","body":"<p>hello I would like to update or insert an application but it shows me error. knowing that if I remove the update or query works</p>\n\n<pre><code>UPDATE OR INSERT  INTO stat_alert(`DAT`,`provider`,`CI`,`cell`,`BSC`,`cmts`,`nbr`,`TYPE`)\n     SELECT CC.DAT,CC.provider,CC.CI,CC.cell,CC.BSC,CC.cmts, CONCAT(CC.C,'C, ',MM.M ,'M') AS nbr,'C' AS TYPE  FROM \n     (SELECT DAT,provider,CI,cell,BSC,cmts,COUNT(*) AS C FROM alertes_bss2 WHERE Criticity = 'C' GROUP BY cell,Criticity ) AS CC,\n     (SELECT DAT,provider,CI,cell,BSC,cmts,COUNT(*) AS M FROM alertes_bss2 WHERE Criticity = 'M' GROUP BY cell,Criticity) AS MM WHERE MM.cell = CC.cell\n      UNION SELECT DAT,provider,CI,cell,BSC,cmts, CONCAT(COUNT(*) ,'C') AS nbr,'C' AS TYPE FROM alertes_bss2 WHERE Criticity = 'C' AND cell NOT IN\n       (SELECT cell FROM alertes_bss2 WHERE Criticity = 'M') GROUP BY DAT,provider,CI,cell,BSC,Criticity \n      UNION SELECT DAT,provider,CI,cell,BSC,cmts, CONCAT(COUNT(*) ,'M') AS nbr,'M' AS TYPE FROM alertes_bss2 WHERE Criticity = 'M' AND cell NOT IN \n      (SELECT cell FROM alertes_bss2 WHERE Criticity = 'C') GROUP BY DAT,provider,CI,cell,BSC,Criticity;\n</code></pre>\n\n<p>I have this error :</p>\n\n<pre><code>Query: UPDATE OR INSERT INTO stat_alert(`DAT`,`provider`,`CI`,`cell`,`BSC`,`cmts`,`nbr`,`TYPE`) SELECT CC.DAT,CC.provider,CC.CI,CC.cell...\n\nError Code: 1064\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OR INSERT  INTO stat_alert(`DAT`,`provider`,`CI`,`cell`,`BSC`,`cmts`,`nbr`,`TYPE' at line 1\n\nExecution Time : 0 sec\nTransfer Time  : 0 sec\nTotal Time     : 0.003 sec\n---------------------------------------------------\n</code></pre>\n\n<p>who can help me  </p>\n"},{"tags":["php","domdocument","domxpath"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":13219505,"title":"DOMDocument - how to replace nested elements","body":"<p>I've this html fragment:</p>\n\n<pre><code>&lt;font color=\"#ff0000\"&gt;Lorem &lt;font size=\"4\"&gt;ipsum dolor&lt;/font&gt; sit amet&lt;/font&gt;\n</code></pre>\n\n<p>and i want to replace each <code>font</code> tag with a <code>span</code>, using DOMDocument.\nThat's my function atm:</p>\n\n<pre><code>$fonts = $xPath-&gt;query('//font');\nforeach($fonts as $font){\n    $style = '';\n    $newFont = $dom-&gt;createElement('span',$font-&gt;nodeValue);\n    if($font-&gt;hasAttribute('size')){\n        $size = $font-&gt;getAttribute('size');\n        $style.='font-size:'.round($size/2,1).'em; ';\n    }\n    if($font-&gt;hasAttribute('color')){\n        $style.='color:'.$font-&gt;getAttribute('color').'; ';\n    }\n    if($style!='') $newFont-&gt;setAttribute('style',$style);\n    $font-&gt;parentNode-&gt;replaceChild($newFont,$font);\n}\n</code></pre>\n\n<p>I expected this output:</p>\n\n<pre><code>&lt;span style=\"color:#ff0000; \"&gt;Lorem &lt;span style=\"font-size:2em;\"&gt;ipsum etc..\n</code></pre>\n\n<p>But i get:</p>\n\n<pre><code>&lt;span style=\"color:#ff0000; \"&gt;Lorem ipsum dolor sit amet&lt;/span&gt;\n</code></pre>\n\n<p>Why? </p>\n\n<hr>\n\n<p>I guess it happens because <code>$font-&gt;parentNode-&gt;replaceChild($newFont,$font);</code> is somehow replacing the outer span with just its text value... Or maybe this query <code>$xPath-&gt;query('//font')</code> is wrong.  I'ld love an experienced suggestion... thanks</p>\n"},{"tags":["php","magento","get"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13287820,"title":"Magento get price including tax in a none-template file","body":"<p>At the moment i am trying to get the product price including tax in a php file for my product feed. I have this code at the moment:</p>\n\n<pre><code>$_product = Mage::getModel('catalog/product')-&gt;load($productId);\n$_priceIncludingTax = $this-&gt;helper('tax')\n                               -&gt;getPrice($_product, $_product-&gt;getFinalPrice());\n</code></pre>\n\n<p>Problem is that since that of course the '$this->' part doesn't work so well from the file.\nAnyone know how i can still get the price including tax in this file?</p>\n"},{"tags":["php","iframe","get","content","center"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":180,"score":1,"question_id":13105706,"title":"Center content that is inside of an iFrame with PHP $_get","body":"<p><em>Does anyone know how to center the content that is inside of an iFrame? I was thinking doing something with Javascript and innerHTML but I can't figure it out. Any help is appreciated :) Even setting the width of the iFrame to match the width of the content (maybe like a jpg url or something) would be great because then I can just center the iFrame on my page when it's the proper width of the page it's displaying.</em></p>\n\n<hr>\n\n<p>Edit: I figured out how to get that part to work (with code I found on google) but the problem is when I try to do it in PHP (using _get) it stops working... for example make a php file called test.php </p>\n\n<p>Here is the code for the php document:</p>\n\n<pre><code>&lt;?php\nprint '&lt;title&gt;blah blah blah&lt;/title&gt;&lt;body bgcolor=\"#505050\"&gt;&lt;br /&gt;\n&lt;script type=\"text/javascript\"&gt;document.domain=\"' . htmlspecialchars($_GET[\"image\"]) .  '\";&lt;/script&gt; &lt;SCRIPT LANGUAGE=\\'javascript\\'&gt; \nfunction resize_iframe(){ \ndocument.getElementById(\\'textoforo\\').height=100; \ndocument.getElementById(\\'textoforo\\').height=window.frames[\"textoforo\"].document.body.scrollHeight; \ndocument.getElementById(\\'textoforo\\').width=100; \ndocument.getElementById(\\'textoforo\\').width=window.frames[\"textoforo\"].document.body.scrollWidth; \n}\n&lt;/SCRIPT&gt;&lt;div style=\"z-index:99; position:absolute; top:0; left:0; width:100%; height:100%; background-color:#505050;\"&gt;&lt;table style=\"vertical-align:middle; text-align:center; height:90%; width:100%; background-color:#FFF\"&gt;&lt;center&gt;&lt;td style=\"vertical-align:middle; height:100%;\"&gt;&lt;center&gt;&lt;iframe id=\\'textoforo\\' \nname=\\'textoforo\\' \nborder=1 \nsrc=\\'' . htmlspecialchars($_GET[\"image\"]) . '\\' \nwidth=768 \nheight=800 \nMARGINWIDTH=0 \nMARGINHEIGHT=0 \nonload=\\'resize_iframe();\\' \n&gt; \n&lt;/iframe&gt;&lt;/center&gt;&lt;/td&gt;&lt;/center&gt;&lt;/table&gt;&lt;/center&gt;&lt;/div&gt;&lt;/body&gt;';\n?&gt;\n</code></pre>\n\n<p>and go to the url:</p>\n\n<p>\"//test.php?image=http://www.all2need.com/wp-content/uploads/2012/04/African-Daisy-Flower.jpg\"</p>\n\n<p>When you load the page it doesn't work, but if you copy the source code and past it into an html document it does work!!!!! ???? So I think the javascript is trying to retrieve the height and width variables before PHP has inputed the image URL (using _Get) so it returns nil values? I don't know... any thoughts?</p>\n"},{"tags":["php","sql","forms","post","insert"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13288330,"title":"Form: Insert multivalue answers ( one answer per row)","body":"<p>In this form I can build and show questions and answers (that are values inside of a tables in my data base) without problems. But now how can i insert answers selected?. Because i need insert one answer per row and answers would be multivalue on one question.</p>\n\n<p>The table where i want insert has this structure : Tbluseranswer<code>(</code>UserIDFKPK<code>,</code>AnswerIDFKPK<code>,</code>QuestionIDFK<code>,</code>AnswerValue`)</p>\n\n<pre><code> &lt;?php\n    $query_questionset= \"SELECT Constructor, QuestionIDFKPK, OnPage, QuestionValue, tblquestionset.SortOrder\n    FROM tblquestion, tblquestionset, tbluser\n    WHERE tbluser.QuestionSetIDPK = tblquestionset.QuestionSetIDPK\n    AND tblquestionset.QuestionIDFKPK = tblquestion.QuestionIDPK\n    AND tbluser.UserIDPK = \".@$UserId.\"\n    AND tblquestionset.OnPage= '\".@$Screen.\"'\n    ORDER BY tblquestionset.SortOrder\";\n\n    $QuestionSet_Constructors = mysql_query($query_questionset);\n\n\nif(isset($_POST['submit'])){\n\n//Inserts here\n\n}\n\n?&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;!--BUILDING QUESTIONARE --&gt;\n\n    &lt;?php  while( $row_questionset=mysql_fetch_array($QuestionSet_Constructors)){?&gt; \n\n            &lt;?php $QuestionID=$row_questionset['QuestionIDFKPK'];   \n\n\n                    $query_Answer=\"SELECT * FROM tblanswer WHERE tblanswer.QuestionIDFK = '\".@$QuestionID.\"'\";\n                    $AnswersValue= mysql_query($query_Answer);\n\n            ?&gt;\n        &lt;?php if($row_questionset['Constructor']==\"CheckBox\"){?&gt;\n\n\n                &lt;!--SPACE--&gt;\n                &lt;div&gt;\n                &lt;label class=\"desc\" &gt;\n                &lt;/label&gt;\n                &lt;/div&gt;\n                &lt;!--/SPACE--&gt;\n\n                        &lt;!--CHECK BOX--&gt;    \n\n                        &lt;div&gt;\n                        &lt;label class=\"desc\" name=\"question\" value= \"&lt;?php $row_questionset['QuestionIDFKPK'];?&gt;\" &gt;\n                        &lt;?php echo $row_questionset['QuestionValue']; ?&gt;\n\n                        &lt;/label&gt;\n                        &lt;/div&gt;\n\n                            &lt;!--SPACE--&gt;\n                            &lt;div&gt;\n                            &lt;label class=\"desc\" &gt;\n                            &lt;/label&gt;\n                            &lt;/div&gt;\n                            &lt;!--/SPACE--&gt;\n\n                                &lt;fieldset class=\"checkboxes\"&gt;\n                                &lt;?php while ($row_Answer=mysql_fetch_array($AnswersValue)){ ?&gt;  \n                                    &lt;label class=\"label_check\" &gt;\n                                    &lt;input name=\"samplecheckbox\"  value=\"&lt;?= $row_Answer['AnswerValue']; ?&gt;\" type=\"checkbox\" /&gt;\n\n\n\n\n                                    &lt;?php echo $row_Answer['AnswerValue']; ?&gt;   \n                                    &lt;/label&gt;    \n\n\n                                &lt;?php }  ?&gt; \n                                &lt;/fieldset&gt;\n\n                        &lt;!--/CHECK BOX--&gt;   \n\n    &lt;!--RADIO BUTTON--&gt; \n\n                        &lt;div&gt;\n                            &lt;label class=\"desc\"name=\"question\" value=\" &lt;?php $row_questionset['QuestionIDFKPK'];?&gt;\"&gt;\n                            &lt;?php echo $row_questionset['QuestionValue']; ?&gt;\n\n                            &lt;/label&gt;\n                        &lt;/div&gt;\n                            &lt;?php while ($row_Answer=mysql_fetch_array($AnswersValue)){ ?&gt;  \n                            &lt;fieldset class=\"radios\"&gt;\n\n                                &lt;label class=\"label_radio\"&gt;\n                                &lt;input name=\"sample-radio\"  value=\" &lt;?= $row_Answer['AnswerValue']; ?&gt;\" type=\"radio\" checked /&gt;\n                                &lt;?php echo $row_Answer['AnswerValue']; ?&gt; \n                                &lt;/label&gt;\n                                &lt;?php   \n\n                                &lt;?php $AnswerId=$row_Answer['AnswerIDPK'];  ?&gt;\n                                &lt;?php \n                            &lt;?php }  ?&gt;\n                            &lt;/fieldset&gt;\n\n                    &lt;!--RADIO BUTTON--&gt; \n\n        &lt;?php } ?&gt;\n\n    &lt;?php } ?&gt;\n\n    &lt;!--BUILDING QUESTIONARE --&gt;    \n\n\n\n\n&lt;input  name=\"submit\" type=\"submit\"  value=\"Next &amp;#8594\"  &gt;\n\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","xml","web-services","ms-office"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13288326,"title":"Writing custom research service for Office 2010 in PHP?","body":"<p>I try to write a custom research service for Office in PHP. I found this tutorial: <a href=\"http://msdn.microsoft.com/en-us/library/office/bb226691%28v=office.11%29.aspx\" rel=\"nofollow\">The Definitive Hello World Custom Research Service Tutorial</a> but this is writen in C#. So I setup an PHP enviroment and tried to return the XML like in an http request (setting content header to xml ...) but Word did not register the service. The returning xml is from the link above: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ProviderUpdate xmlns=\"urn:Microsoft.Search.Registration.Response\"&gt;\n   &lt;Status&gt;SUCCESS&lt;/Status&gt;\n    &lt;Providers&gt;\n      &lt;Provider&gt;\n        &lt;Message&gt;Registered&lt;/Message&gt;\n        &lt;Id&gt;{5A1AAF54-87F0-4f1d-A2D4-AB3E5D080DE1}&lt;/Id&gt;\n        &lt;Name&gt;Northwind Data Research Pane&lt;/Name&gt;\n        &lt;QueryPath&gt;http://localhost/nwindrr/query.asmx&lt;/QueryPath&gt;\n        &lt;RegistrationPath&gt;http://localhost/nwindrr/registration.asmx\n         &lt;/RegistrationPath&gt;\n        &lt;AboutPath&gt;http://localhost/nwindrr/about.aspx&lt;/AboutPath&gt;\n        &lt;Type&gt;SOAP&lt;/Type&gt;\n        &lt;Services&gt;\n          &lt;Service&gt;\n            &lt;Id&gt;{1698075D-E2F5-4254-87B2-7FC9E9AB0780}&lt;/Id&gt;\n            &lt;Name&gt;Northwind Source Data&lt;/Name&gt;\n            &lt;Description&gt;Acquire Northwind Information&lt;/Description&gt;\n            &lt;Copyright&gt;All content Copyright (c) 2003.&lt;/Copyright&gt;\n            &lt;Display&gt;On&lt;/Display&gt;\n            &lt;Category&gt;INTRANET_GENERAL&lt;/Category&gt;\n            &lt;/Service&gt;\n        &lt;/Services&gt;\n      &lt;/Provider&gt;\n    &lt;/Providers&gt;\n&lt;/ProviderUpdate&gt;\n</code></pre>\n\n<p>So can anyone tell me where to start with php?</p>\n"},{"tags":["php","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13287931,"title":"Validate if a file is selected for upload in codeigniter","body":"<p>Hi I'm having some trouble about the upload file part. Well basically I have a form with upload logo part wherein if a user doesn't select a logo he/she can still update his/her profile at the same time the user can also choose to upload a logo but it has some limitations. Now I don't know how I can validate that part to know if he/she chooses an image or not. Here's my code so far in CI controller:</p>\n\n<pre><code>if (//CHECK IF THERE IS A FILE FOR UPLOAD){\n                $new_name = $data['id'];\n\n                $config['upload_path'] = './Logos/';\n                $config['allowed_types'] = 'jpg|png|gif';\n                $config['max_size'] = '100';\n                $config['max_width']  = '100';\n                $config['max_height']  = '100';\n\n                $this-&gt;load-&gt;library('upload', $config);\n\n                    if ( ! $this-&gt;upload-&gt;do_upload())\n                    {\n                        array_push($data['error_message'], \"You have the following errors in your entry:\\n\");\n                        array_push($data['error_message'], \"- Logo must be 100x100 pixels in size not exceeding 100KB with JPG,PNG or GIF format\");\n                        array_push($data['error_message'], \"\\nLogo upload failed.\");\n                        $data['check_error'] = true;\n                    }\n                    else\n                    {\n                        $data = array('upload_data' =&gt; $this-&gt;upload-&gt;data());\n\n                        //DO UPDATE PART HERE\n                        $file = $data['upload_data']['file_name'];\n                        rename($config['upload_path'] . $file, $config['upload_path'] .$new_name.'.jpg');\n                        //GO TO SETTINGS\n                        $this-&gt;load-&gt;helper('url');  \n                        redirect($data['base'].'settings');\n                    }\n                }\n</code></pre>\n\n<p>The part in if is where I wanted to set a validations. I tried some tricks but all of those doesn't work properly.</p>\n\n<p>Here's my view part where if the logo of the certain ID already exists it's just display his/her logo or else displays the default logo:</p>\n\n<pre><code> &lt;tr&gt;\n    &lt;td&gt;&lt;p class=\"titles\"&gt;Logo&lt;/p&gt;&lt;/td&gt;\n    &lt;td&gt;\n    &lt;div&gt;\n        &lt;input type=\"text\" id=\"fileName\" class=\"file_input_textbox\" readonly=\"readonly\"&gt;\n\n        &lt;div class=\"file_input_div\"&gt;\n          &lt;input type=\"button\" value=\"Browse\" class=\"file_input_button\" /&gt;\n          &lt;input type=\"file\" class=\"file_input_hidden\" onchange=\"javascript: document.getElementById('fileName').value = this.value\" id=\"upload\" name=\"userfile\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n&lt;td&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;p class=\"titles\"&gt;100px x 100px jpg, png or gif only.&lt;/p&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n&lt;td&gt;&lt;p class=\"titles\"&gt;Current Logo&lt;/p&gt;&lt;/td&gt;\n&lt;td&gt;\n    &lt;img src=\"&lt;?php if(is_array(@getimagesize($base.\"Logos/\".$id.\".jpg\"))){echo $base.\"Logos/\".$id.\".jpg\";}else{echo $base.\"Logos/default.jpg\";} ?&gt;\"  style=\"margin:0px 0px 0px 90px;\"/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13287895,"title":"AJAX loading message","body":"<p>I want to display a loading message while retrieving results via AJAX, but I can't. Can anybody help please?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n$(function() {\n\n    $(\".search_button\").click(function() {\n        // getting the value that user typed\n        var searchString    = $(\"#search_box\").val();\n        // forming the queryString\n        var data            = 'search='+ searchString;\n\n        // if searchString is not empty\n        if(searchString) {\n            // ajax call\n            $.ajax({\n                type: \"POST\",\n                url: \"do_search.php\",\n                data: data,\n                beforeSend: function(html) { // this happens before actual call\n                    $(\"#results\").html('');\n                    $(\"#search_result_box\").show();\n                    $(\"#searchresults\").show();\n                    $(\".word\").html(searchString);\n               },\n               success: function(html){ // this happens after we get results\n                    $(\"#results\").show();\n                    $(\"#results\").append(html);\n              }\n            });   \n        }\n        return false;\n    });\n});\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","sass","compass-css"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13288298,"title":"Is there any way to use Compass with PHPSass compiler?","body":"<p>Our stylesheets are build in SCSS with Compass mixins. For development we used CodeKit as it's great tool and I really love it. But now we need to implement tools for auto compilation on server side. We used PHPSass (<a href=\"http://phpsass.com\" rel=\"nofollow\">phpsass.com</a>) as it supports pure SASS very well. Unfortunately, I have no idea how to attach Compass into it. It does not have build in support yet and Compass is available only as gem package - no way to just download it and put its mixins into project folder. Do someone have any experience with such problem?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13287197,"title":"How can I check the value of the Next Row while looping using PHP/MYSQL?","body":"<p>I got previousRow of record using this code</p>\n\n<pre><code>&lt;?php\n  $previousRow = array();\n  while ($temp = mysql_fetch_row($res2)) \n {\n\n     echo \"&lt;br&gt;currentRow:\".$temp[1];\n     echo \"previousRow:\".$previousRow[1];\n     $previousRow = $temp; \n\n  } \n ?&gt;\n</code></pre>\n\n<h2>oupout</h2>\n\n<p>currentRow:1previousRow: </p>\n\n<p>currentRow:5previousRow:1 </p>\n\n<p>currentRow:6previousRow:5 </p>\n\n<p>currentRow:7previousRow:6 </p>\n\n<p>currentRow:8previousRow:7</p>\n\n<p>How can I check the value of the next row replaced by Previous Row ?</p>\n\n<p>Any help would be grateful.</p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":461,"score":2,"question_id":10809665,"title":"Is it possible to do SQL injection (HIGH Level) on Damn Vulnerable Web App?","body":"<p>I searched all over google to see how it would be possible to bypass the following (it's from the high level of security from DVWA):</p>\n\n<pre><code>$id = $_GET['id']; \n    $id = stripslashes($id); \n    $id = mysql_real_escape_string($id); \n\n    if (is_numeric($id)){ \n\n    $getid = \"SELECT first_name, last_name FROM users WHERE user_id = '$id'\"; \n    $result = mysql_query($getid) or die('&lt;pre&gt;' . mysql_error() . '&lt;/pre&gt;' ); \n\n    $num = mysql_numrows($result); \n\n    $i=0; \n\n    while ($i &lt; $num) { \n\n        $first = mysql_result($result,$i,\"first_name\"); \n        $last = mysql_result($result,$i,\"last_name\"); \n\n        echo '&lt;pre&gt;'; \n        echo 'ID: ' . $id . '&lt;br&gt;First name: ' . $first . '&lt;br&gt;Surname: ' . $last; \n        echo '&lt;/pre&gt;'; \n\n        $i++; \n    } \n} \n</code></pre>\n\n<p>Is it possible to crack that?</p>\n\n<p>For those who aren't familiar with DVWA, here is a youtube video about it:\n<a href=\"http://www.youtube.com/watch?v=oMV0JZVxvdQ\" rel=\"nofollow\">http://www.youtube.com/watch?v=oMV0JZVxvdQ</a></p>\n\n<p>Also, my other concern is on Medium level. It does have the <code>mysql_real_escape_string()</code> working, but when you use the same SQL injection from Low level AND you remove the quotes, it bypasses the protection. Why is that? How come it was so easy to bypass <code>mysql_real_escape string</code>?</p>\n\n<p>The code (concise version) of the Medium level is this:</p>\n\n<pre><code>   $id = $_GET['id']; \n    $id = mysql_real_escape_string($id); \n    $getid = \"SELECT first_name, last_name FROM users WHERE user_id = $id\";\n</code></pre>\n\n<p>I want to use PDO's as it's probably much safer. Please let me know your thoughts on that.</p>\n\n<p>Thanks a lot in advance.</p>\n"},{"tags":["php","loops","for-loop"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":66,"score":-2,"question_id":13275461,"title":"Combining of array items","body":"<p>I have a problem with an advanced loop, this are my arrays</p>\n\n<pre><code>$array1 = array(1,2,3);\n$array2 = array(4,5);\n$array3 = array(6,7,8,9);\n$array4 = array(10,11);\n</code></pre>\n\n<p>I want to loop with the following result:</p>\n\n<ol>\n<li>1,4,6,10</li>\n<li>1,4,6,11</li>\n<li>1,4,7,10</li>\n<li>1,5,7,11</li>\n</ol>\n\n<p>With the last: 3,5,8,11</p>\n\n<p>How can I do that?</p>\n"},{"tags":["php","mysql","unique","auto-generate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13288161,"title":"PHP + MySQL - create ID based on current values in database","body":"<p>Google failed me, so I seek expert-help :)</p>\n\n<p>Let's say I have a database consisting of \"ID\" and \"Name\".\nCurrently in this database I have these records:</p>\n\n<p>001 - John</p>\n\n<p>002 - Eric</p>\n\n<p>003 - Kathy</p>\n\n<p>To generate the next ID i used COUNT in mysql and plussed 1 in php, but I obviously didn't take in account that users can be deleted. If 002 - Eric is deleted, the script will try to use the ID 003, which already exists. </p>\n\n<p>Any way to check this? I figured a while loop that goes through the values, but if the database is long, this would probably take too much resources (and I'm not sure what to loop through)?</p>\n\n<p>As of now, I have this:</p>\n\n<pre><code>SELECT COUNT(id) FROM users\n$id = $thecount + 1;\n</code></pre>\n"},{"tags":["php","jquery","firebug"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13287784,"title":"Auto complete not showing result jquery","body":"<p>I am trying to create an auto complete using jqueryui.I am echo ing a database result  from the remote file search.php.It is showing the correct word in the response of fire bug but the suggetion list is not at all showing in my html page.\nCan anybody please help me?</p>\n\n<p>i'm using the code of<a href=\"http://jqueryui.com/autocomplete/#multiple-remote\" rel=\"nofollow\"> multipile ,remote</a> demo in the jqueryui.com </p>\n\n<p>my php code</p>\n\n<pre><code>&lt;?php include(\"connection.php\");\n $q=mysql_real_escape_string($_GET['term']); \n$x=\"select fieldname from tablename where fieldname like '$q%'\"; \n$query=mysql_query($x); \nwhile($row=mysql_fetch_array($query)) { echo $row['fieldname'].\"\\n\"; } ?&gt;\n========================================================================\n\n    ------------------------------------------------------------------------\n\n    &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css\" /&gt;\n        &lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"http://code.jquery.com/ui/1.9.1/jquery-ui.js\"&gt;&lt;/script&gt;\n        &lt;link rel=\"stylesheet\" href=\"/resources/demos/style.css\" /&gt;\n        &lt;style&gt;\n        .ui-autocomplete-loading {\n            background: white url('images/ui-anim_basic_16x16.gif') right center no-repeat;\n        }\n        &lt;/style&gt;\n        &lt;script&gt;\n        $(function() {\n            function split( val ) {\n                return val.split( /,\\s*/ );\n            }\n            function extractLast( term ) {\n                return split( term ).pop();\n            }\n\n            $( \"#birds\" )\n                // don't navigate away from the field on tab when selecting an item\n                .bind( \"keydown\", function( event ) {\n                    if ( event.keyCode === $.ui.keyCode.TAB &amp;&amp;\n                            $( this ).data( \"autocomplete\" ).menu.active ) {\n                        event.preventDefault();\n                    }\n                })\n                .autocomplete({\n                    source: function( request, response ) {\n                        $.getJSON( \"search.php\", {\n                            term: extractLast( request.term )\n                        }, response );\n                    },\n                    search: function() {\n                        // custom minLength\n                        var term = extractLast( this.value );\n                        if ( term.length &lt; 2 ) {\n                            return false;\n                        }\n                    },\n                    focus: function() {\n                        // prevent value inserted on focus\n                        return false;\n                    },\n                    select: function( event, ui ) {\n                        var terms = split( this.value );\n                        // remove the current input\n                        terms.pop();\n                        // add the selected item\n                        terms.push( ui.item.value );\n                        // add placeholder to get the comma-and-space at the end\n                        terms.push( \"\" );\n                        this.value = terms.join( \", \" );\n                        return false;\n                    }\n                });\n        });\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n    &lt;div class=\"ui-widget\"&gt;\n        &lt;label for=\"birds\"&gt;Birds: &lt;/label&gt;\n        &lt;input id=\"birds\" size=\"50\" /&gt;\n    &lt;/div&gt;\n</code></pre>\n"},{"tags":["php","ssl","curl","file-get-contents","basic-authentication"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13287967,"title":"file_get_contents not work with authentication (IIS server)","body":"<p>When i try to get content of file on the IIS Server with authentication, it doesn't work, but when i use  the same code to get content of file on ubuntu server with authentication, it works.</p>\n\n<pre><code>&lt;?php\n$context = stream_context_create(array(\n    'http' =&gt; array(\n        'header'  =&gt; \"Authorization: Basic \" . base64_encode(\"MYLOGIN:MYPASSWORD\")\n    )\n));\n$data = file_get_contents(\"https://webservice.xxxx:60443/Service.asmx?WSDL\", false, $context);\necho \"resultat : \" . $data;\n?&gt;\n</code></pre>\n\n<p>i used before the CURL function, and it doens't work : </p>\n\n<pre><code> $ch=curl_init();\n curl_setopt($ch,CURLOPT_URL,'https://webservicexxxxxxx.fr:60443/xxService.asmx?WSDL');\ncurl_setopt($ch, CURLOPT_USERPWD, \"MYLOGIN:MYPASSWORD\");\n curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);   // no verify\n curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,5);\n curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);\n $buffer = curl_exec($ch);\n curl_close($ch);\n\n print $buffer;\n</code></pre>\n\n<p>Someone can help me ?</p>\n"},{"tags":["php","html","post","iframe","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13288091,"title":"HTML iframe Post switched automatically to GET","body":"<p>Hi i've got an question about the HTML iframe with the post method..</p>\n\n<p>If made an cms system with forms to POST data with the POST METHOD to an iframe where it will be handled bij an PHP script that puts all the data into mysql database.</p>\n\n<p>Everything worked fine for me until last week and there has not been an common answer on my question on google or whatever.</p>\n\n<p>The problem is this.. on submitting the form with the POST method, the iframe tells me it uses the GET method and nothing has been posted or whatever..</p>\n\n<p>Can tell anyone tell me something about the common problem..??\nIs it that some browsers don't use iframes anymore [ like safari ] or is this problem something else</p>\n\n<p>Here some example code [ what always used to be good ]</p>\n\n<p>form</p>\n\n<pre><code>&lt;form method=\"POST\" name=\"update\" id=\"update\" action=\"../plugins/ondernemers/updateit.php\" target=\"upload_target\"&gt;\nUsername\n&lt;input type=\"text\" name=\"username\" id=\"username\" value=\"\" class=\"input_normal\" /&gt;                                   \nPassword\n&lt;input type=\"text\" name=\"password\" id=\"password\" value=\"\" class=\"input_normal\" /&gt;                               \nBedrijf\n&lt;input type=\"text\" name=\"company\" id=\"company\" value=\"\" class=\"input_normal\" /&gt;                                 \n&lt;/form&gt;\n</code></pre>\n\n<p>iframe</p>\n\n<pre><code>&lt;iframe id=\"upload_target\" name=\"upload_target\" src=\"#\" style=\"width:0;height:0;border:0px solid #fff;\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>Would be appreciated if someone could help me out</p>\n\n<p>Regards Jay</p>\n"},{"tags":["php","algorithm","optimization"],"answer_count":5,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":163,"score":9,"question_id":13211189,"title":"Calculate which products together would deliver the requested power","body":"<p>Let's say I've got three products:</p>\n\n<p><strong>Product A</strong>\nWill deliver 5 power. Costs 50.</p>\n\n<p><strong>Product B</strong> Will deliver 9 power. Costs 80.</p>\n\n<p><strong>Product C</strong> Will deliver 15 power. Costs 140.</p>\n\n<p>I want to know what combination of products I could buy when I need 7 power. I could buy two of <strong>A</strong> but one of <strong>B</strong> is cheaper.</p>\n\n<p>When I'd need 65 power. I would need 4 times <strong>C</strong> and 1 time <strong>A</strong> (costs 680). But I could also go for seven <strong>B</strong> products and one <strong>A</strong> (costs 610).</p>\n\n<p>I am looking for a way to calculate the possible combinations of products for the given amount of power I need.</p>\n\n<p>The way I tried doing this doesn't give me what I want:</p>\n\n<pre><code>// $products are sorted DESC on their $power\n$power = 65\n while( $power &gt; 0 ) {\n    foreach( $products as $productPower ) {\n        if( ( $productPower &gt; $power &amp;&amp; $power - $productPower &gt; 0 ) || $productPower == end( $products ) ) {\n            // Add product to list\n            $power -= $productPower;\n            break;\n        }\n    }\n }\n</code></pre>\n\n<p>This sample code will only give me 4 times <strong>C</strong> and one time <strong>A</strong>. How should I go about it?</p>\n\n<p><strong>EDIT*</strong> The number of products is variable. Also, the specific cost and power is variable. So there may be 10 products with cheeper and more expensive price tags.</p>\n"},{"tags":["php","wordpress","select"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13284107,"title":"Displaying all pages in dropdown","body":"<p>I am new to wordpress, i want to display all pages in a select box with value of their id. I know get_pages() is the function get all pages, but dont know about listing with their id anyone can help?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13287904,"title":"strtotime UK date weirdness","body":"<p>Maybe I need more sleep but I have some weirdness with strtotime I cannot explain.</p>\n\n<p>The UK localised notation for a date is <code>d/m/Y</code> which is what I am getting within a CSV from an external source to insert into MySQL (format: <code>Y-m-d</code>). </p>\n\n<p>The immediate problem I saw, of course, was that PHP (when using <code>strtotime</code>) converted these wrong. Below is an example of a <code>var_dump</code> of the field value with the post-<code>strtotime</code> <code>var_dump</code> after:</p>\n\n<pre><code>string(10) \"13/07/1992\" string(19) \"1969-12-31 16:00:00\" // This one is odd\nstring(10) \"07/09/1992\" string(19) \"1992-07-09 00:00:00\"\nstring(10) \"09/11/1992\" string(19) \"1992-09-11 00:00:00\"\n</code></pre>\n\n<p>Originally I thought it was because PHP did not support the UK notation ( <a href=\"http://www.php.net/manual/en/datetime.formats.date.php\" rel=\"nofollow\">http://www.php.net/manual/en/datetime.formats.date.php</a> ) and believes it is an American date however that does not explain why if I change my function to replace <code>/</code> with <code>-</code>:</p>\n\n<pre><code>date('Y-m-d H:i:s', strtotime(str_replace('/', '-', $string_time)))\n</code></pre>\n\n<p>The same dates do work:</p>\n\n<pre><code>string(10) \"13/07/1992\" string(19) \"1992-07-13 00:00:00\"\nstring(10) \"07/09/1992\" string(19) \"1992-09-07 00:00:00\"\nstring(10) \"09/11/1992\" string(19) \"1992-11-09 00:00:00\"\n</code></pre>\n\n<p>I infact have a test set of 200 dates that all work under the <code>-</code> notation.</p>\n\n<p>Shouldn't the same rules apply here according to the documentation?</p>\n"},{"tags":["php","jquery-ui","jquery-ui-dialog"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13287992,"title":"Dynamic PHP pages in jQuery UI dialog box","body":"<p>I have a table that is built via PHP &amp; MS-SQL that shows a list of stocks that our clients hold (I work in a stockbrokers). The simplified table looks like this:</p>\n\n<pre>\n\n    | + | Google |\n    | + | Apple |\n    | + | Microsoft |\n\n</pre>\n\n<p>The plus sign is an image, and when I click it, it brings up a jQuery dialog box. This part works fine, but at the moment each dialog displays static data. What I need now is for the dialog to display another table, that shows the transactions for each stock.</p>\n\n<p>Here's the Javascript I have so far:</p>\n\n<pre><code>&lt;script&gt;\n $(function() {\n\n  $('div.dialog')\n  .dialog(\n    {\n        autoOpen: false,\n        modal: true\n    }\n    );\n\n  $('img.opener')\n  .css(\"cursor\",\"pointer\")\n  .click(function()\n    {\n        $('#' + this.id.replace(/opener/, 'dialog'))\n        .dialog('open');\n        return false;\n        }\n    );\n });\n&lt;/script&gt;\n</code></pre>\n\n<p>And the PHP to create the table:</p>\n\n<pre><code>&lt;?php                               \n\n  echo '&lt;tr&gt;';\n    echo '&lt;td&gt;&lt;img id=\"opener' . $row_counter . '\" class=\"opener\" src=\"../images/procedural/plus-white.png\" title=\"Click to show Transactions\"&gt;&lt;/td&gt;';\n    echo '&lt;td align=left&gt;' . htmlentities($stock_short_name) . '&lt;/td&gt;';\n    echo '&lt;td style=\"display: none\"&gt;&lt;div id=\"dialog' . $row_counter . '\" class=\"dialog\" title=\"Transactions for ' . $stock_sedol . '\"&gt;This is box ' . $row_counter . '&lt;/div&gt;&lt;/td&gt;';\n  echo '&lt;/tr&gt;';\n\n?&gt;\n</code></pre>\n\n<hr/>\n\n<p>I've found this script which I've modified a bit to bring back what I want from another PHP file:</p>\n\n<pre><code>&lt;!doctype html&gt;\n\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\" /&gt;\n&lt;title&gt;jQuery UI Dialog - Animation&lt;/title&gt;\n&lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css\" /&gt;\n&lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://code.jquery.com/ui/1.9.1/jquery-ui.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n  $(document).ready(function() {\n  $('#tire-specs th a').each(function() {\n    var $link = $(this);\n    var $dialog = $('&lt;div&gt;&lt;/div&gt;')\n    .load($link.attr('href') + ' #content')\n    .dialog({\n        autoOpen: false,\n        title: $link.attr('title'),\n        width: 600\n    });\n\n  $link.click(function() {\n    $dialog.dialog('open');\n\n    return false;\n    });\n  });\n});\n&lt;/script&gt;\n\n&lt;/head&gt;&lt;body&gt;\n\n\n&lt;table id=\"tire-specs\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Size&lt;/th&gt;\n      &lt;th&gt;&lt;a href=\"trans.php?client=62629&amp;stock=34935\" title=\"Transactions\"&gt;Transactions&lt;/a&gt;&lt;/th&gt;\n      &lt;th&gt;Max Load&lt;/th&gt;\n      &lt;th&gt;Max Inflation Pressure&lt;/th&gt;\n      &lt;th&gt;Tread Depth&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td&gt;205/65R15&lt;/td&gt;\n      &lt;td&gt;620 A A&lt;/td&gt;\n      &lt;td&gt;1477 lbs.&lt;/td&gt;\n      &lt;td&gt;44 psi&lt;/td&gt;\n      &lt;td&gt;11/32\"&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>And here is trans.php:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Transactions&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Transactions&lt;/h1&gt;\n\n&lt;div id=\"content\"&gt;\n\n&lt;?php\n\n  $client=$_GET[\"client\"];\n  $stock=$_GET['stock'];\n\n  $mssql_server= \"sql-primary\";\n  $mssql_database = \"FOUR_I_CORE\";\n\n  include(\"../index_files/mssql_include.php\");\n\n  $sql = \"SELECT * FROM [TRA_CORE] WHERE [CLIENT REC NO] = '$client' AND [STOCK REC NO] = '$stock' AND [QUANTITY] != 0\";\n  $stmt = sqlsrv_query($connnection, $sql);\n\n            while($row = sqlsrv_fetch_array($stmt, SQLSRV_FETCH_ASSOC))\n\n                {\n\n                    $cost = $row['COST/PROCEEDS'];\n\n                    echo $cost . '&lt;br&gt;';\n\n                }\n\n?&gt;\n\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>However, I can't work out how to make this second script integrate with the first, so that each dialog box is dynamic. Can anyone help?</p>\n\n<p>(Sorry for the lengthy post, figured more info was better than none)</p>\n\n<p>Cheers,\nDave</p>\n"},{"tags":["php","mysql","hierarchy","commenting"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13214714,"title":"Hierarchical commenting system in threaded view: PHP and MySQL","body":"<p>I have the need to render a threaded view of a 2-levels hierarchical commenting system. The comments are stored in a database. The information about the hierarchy is given by field 'parent_id' (which is 0 for the top-level comments). I cannot change the structure of the database.\nThe present solution is by means of multiple SQL queries: </p>\n\n<ol>\n<li>an SQL query is performed to fetch all top-level comments</li>\n<li>the code loops through the top-level comments and for each of them performs an SQL query to fetch its children</li>\n</ol>\n\n<p>Now I wonder if a solution with only one SQL query to fetch all the comments as they are followed by the code suggested <a href=\"http://stackoverflow.com/questions/7673044/nested-array-third-level-is-disappearing/7673415#7673415\">here</a> to sort them by threads could be more efficient.\nAny reccomendation?</p>\n\n<p>Thanks,\nLuciano</p>\n"},{"tags":["php","shellexecute"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2733,"score":4,"question_id":3407939,"title":"shell_exec() timeout management & exec()","body":"<p>I'm running a third party script by using a wrapper class I've written which calls <code>shell_exec()</code> and pipes into a file I parse later using php code. I should mention that this is working, but I am trying to enhance the functionality, having encountered a use case I hadn't thought of.</p>\n\n<p>How is it best to manage timeout on shell_exec()? I was thinking of wrapping it in a <code>try() catch()</code> but I'm not sure how to best handle the time component.</p>\n\n<p>I've been reading a few questions on here relating to <code>shell_exec()</code> and <code>exec()</code> and it seems that by passing output params to <code>exec()</code> you can get a return, but that does rely on the script finishing with a return status. Plus in my mini test page, I can't seem to get it to return any output!</p>\n\n<p>The other option I thought about was using a modal dialog, with an ajax style spinner whilst the script it working, and setting a manual timeout in javascript. Which then gave the user a model dialog message about it failing/timeout and ending.</p>\n\n<p>Are there any accepted methods for this use case?</p>\n\n<p>My mini test, consisted of the following,</p>\n\n<pre><code>public $e_return = array();\npublic $e_status = '';\n// Paths are absolute from /\npublic function execCheck($domain){\n    exec($this-&gt;ssl_check_path.\" -s \".$domain.\" -p 443 &gt; \".$this-&gt;folder.$this-&gt;filename.\" 2&gt;&amp;1 &amp;\", &amp;$this-&gt;e_return, &amp;$this-&gt;e_status);\n}\n\n// Returns\nArray\n(\n)\n\n0\n</code></pre>\n\n<p>Using this question as ref,\n <a href=\"http://stackoverflow.com/questions/566248/cant-execute-php-script-using-php-exec\">http://stackoverflow.com/questions/566248/cant-execute-php-script-using-php-exec</a></p>\n\n<p><a href=\"http://www.php.net/manual/en/function.exec.php\" rel=\"nofollow\">http://www.php.net/manual/en/function.exec.php</a></p>\n"},{"tags":["php","segmentation-fault","phpunit"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":20,"score":3,"question_id":13268942,"title":"PHPUnit Segmentation Fault 11","body":"<p>I tried running PHPUnit this morning and it's producing a Segmentation Fault 11 error (using the command <code>phpunit unit/</code> - If I run PHPUnit on my functional tests with Selenium then everything works fine, it's only the unit tests that are affected, I've tried the options in other threads here and those didn't fix the issue, and I have tried reinstalling MAMP locally and reinstalling PHPUnit through PEAR. I've also tried switching PHP versions on the command-line.</p>\n\n<p>The tests run fine on a colleagues laptop, and they run fine within Jenkins. Does anyone have any ideas as to the issue? I've included the output from the console.</p>\n\n<pre><code>Process:         php [2337]\nPath:            /Applications/MAMP/*/php\nIdentifier:      php\nVersion:         ???\nCode Type:       X86-64 (Native)\nParent Process:  bash [586]\nUser ID:         502\n\nDate/Time:       2012-11-07 11:09:51.924 +0000\nOS Version:      Mac OS X 10.8.2 (12C60)\nReport Version:  10\n\nCrashed Thread:  0  Dispatch queue: com.apple.main-thread\n\nException Type:  EXC_BAD_ACCESS (SIGSEGV)\nException Codes: EXC_I386_GPFLT\n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   php                             0x0000000100653e75 zend_hash_get_current_key_type_ex + 69\n1   php                             0x000000010044d783 zif_spl_autoload_call + 611\n2   php                             0x0000000100626111 zend_call_function + 5617\n3   php                             0x0000000100626b83 zend_lookup_class_ex + 1267\n4   php                             0x0000000100628116 zend_fetch_class_by_name + 86\n5   php                             0x000000010068bfb5 ZEND_FETCH_CLASS_SPEC_CONST_HANDLER + 261\n6   php                             0x00000001006866cc execute + 1788\n7   php                             0x000000010063cba3 zend_execute_scripts + 707\n8   php                             0x0000000100593e40 php_execute_script + 1232\n9   php                             0x00000001007e0c1a do_cli + 3642\n10  php                             0x00000001007e2765 main + 3461\n11  php                             0x0000000100001064 start + 52\n\nThread 0 crashed with X86 Thread State (64-bit):\n  rax: 0x737469762f656f73  rbx: 0x0000000000000000  rcx: 0x00007fff5fbfdb20  rdx: 0xffffffffffffff13\n  rdi: 0x0000000101a378c8  rsi: 0x00007fff5fbfdb20  rbp: 0x00007fff5fbfda90  rsp: 0x00007fff5fbfda90\n   r8: 0x00007fff5fbfd338   r9: 0x0000000000000002  r10: 0x0000000000000000  r11: 0x0000000102dd2138\n  r12: 0x0000000000000000  r13: 0x0000000000000000  r14: 0x0000000000000000  r15: 0x0000000000000000\n  rip: 0x0000000100653e75  rfl: 0x0000000000000202  cr2: 0x0000000101ba6e00\nLogical CPU: 0\n\nBinary Images:\n       0x100000000 -        0x100ec7fe7 +php (???) &lt;61B89CD8-FA9E-3D2B-BDCE-35DFCA7CC017&gt; /Applications/MAMP/*/php\n       0x10112d000 -        0x101143fff +libexslt.0.dylib (9.15) &lt;10AA2D0E-42B0-30DC-BC01-6C10BD757061&gt; /Applications/MAMP/*/libexslt.0.dylib\n       0x10114a000 -        0x101255fe7 +libiconv.2.dylib (8.1) &lt;19C34294-DBD8-3DA6-8663-35549D3A80BF&gt; /Applications/MAMP/*/libiconv.2.dylib\n       0x101263000 -        0x1012c7fff +libt1.5.dylib (7.2) &lt;BB17E324-EA0E-3716-88F8-4EDF9AC61B21&gt; /Applications/MAMP/*/libt1.5.dylib\n       0x1012ea000 -        0x1013b6fef +libfreetype.6.dylib (15) &lt;C6D12969-73A9-3C8D-ADCF-D2CDC72167AD&gt; /Applications/MAMP/*/libfreetype.6.dylib\n       0x1013cf000 -        0x10140cfef +libpng15.15.dylib (23) &lt;D5E80405-5E4B-38A9-B668-9E7112122A3E&gt; /Applications/MAMP/*/libpng15.15.dylib\n       0x101414000 -        0x10146dfef +libjpeg.8.dylib (13) &lt;253D68BC-090B-3FC1-BE0E-FB663612C639&gt; /Applications/MAMP/*/libjpeg.8.dylib\n       0x101475000 -        0x1014c1ff7 +libcurl.4.dylib (7) &lt;42B08966-8867-305A-9FEB-7D969D69A0C7&gt; /Applications/MAMP/*/libcurl.4.dylib\n       0x1014cf000 -        0x10169cfff +libxml2.2.dylib (10.8) &lt;3A40C660-9099-309E-A108-4B68471D1579&gt; /Applications/MAMP/*/libxml2.2.dylib\n       0x1016d3000 -        0x101706fef +libidn.11.dylib (18) &lt;73EAB24B-0A33-39C4-8FA5-FDAE0C99DC1E&gt; /Applications/MAMP/*/libidn.11.dylib\n       0x10170c000 -        0x101759ff7 +libxslt.1.dylib (3.26) &lt;F85DB243-D7D4-3C21-B94C-118754A6D9DD&gt; /Applications/MAMP/*/libxslt.1.dylib\n       0x101765000 -        0x101775fe7 +libintl.8.dylib (10.1) &lt;1024FD8E-208D-3620-8044-153D50FFE252&gt; /Applications/MAMP/*/libintl.8.dylib\n       0x1017dd000 -        0x1017e9fff +yaz.so (???) &lt;CCE413E9-517D-3273-8F1C-4F4555227B2B&gt; /Applications/MAMP/*/yaz.so\n       0x1017ee000 -        0x1017f8ff7 +mcrypt.so (???) &lt;AA475210-CD61-390F-B70D-45AD57D81E18&gt; /Applications/MAMP/*/mcrypt.so\n       0x101b8f000 -        0x101bb7fff +xcache.so (???) &lt;2BE6192A-B4F9-3BB5-9354-E63AC94C8A90&gt; /Applications/MAMP/*/xcache.so\n       0x101bc4000 -        0x101cbbff7 +imap.so (???) &lt;1F9C357E-C2E6-3696-BA29-B4289B570053&gt; /Applications/MAMP/*/imap.so\n       0x101cf1000 -        0x101dbdfe7 +libyaz.4.dylib (5) &lt;442CDE8C-28B0-38BF-BD96-50D5C3FD4891&gt; /Applications/MAMP/*/libyaz.4.dylib\n       0x101ea6000 -        0x101ee5ff7 +libmcrypt.4.dylib (9.8) &lt;AFF632C5-CB59-34B1-A1EE-930D3A7360C0&gt; /Applications/MAMP/*/libmcrypt.4.dylib\n       0x101ef8000 -        0x101f03fef +libltdl.7.dylib (11) &lt;06131575-5BE7-34DD-A39B-6384B31EF9B6&gt; /Applications/MAMP/*/libltdl.7.dylib\n       0x101f08000 -        0x101f09ff7 +gettext.so (???) &lt;49C7C695-9117-3405-919A-5AC4CEC8201E&gt; /Applications/MAMP/*/gettext.so\n       0x101f0c000 -        0x101f31fff +pgsql.so (???) &lt;9B7AC465-52F3-321F-BAB0-7DDEC76F89B7&gt; /Applications/MAMP/*/pgsql.so\n       0x101f3c000 -        0x101f68ff7 +libpq.5.dylib (5.2) &lt;1CDE4910-D92A-33B8-A891-C66A41F2E8C0&gt; /Applications/MAMP/*/libpq.5.dylib\n       0x101f72000 -        0x101f7bff7 +pdo_pgsql.so (???) &lt;441676E4-EA9A-35D3-ABFA-C00AF11D0489&gt; /Applications/MAMP/*/pdo_pgsql.so\n       0x101f80000 -        0x101f81fff  com.apple.heimdalodpac (10.8 - 198) &lt;AE9D93D6-C970-368B-A89C-2DA0EB225204&gt;     /System/Library/KerberosPlugins/KerberosFrameworkPlugins/heimdalodpac.bundle/Contents/MacOS/heimdalodpac\n       0x101f86000 -        0x101f88fff  com.apple.KerberosHelper.LKDCLocate (4.0 - 1.0) &lt;6276FDFA-EB44-374C-9BFC-2AB5F68F2145&gt;     /System/Library/KerberosPlugins/KerberosFrameworkPlugins/LKDCLocate.bundle/Contents/MacOS/LKDCLocate\n       0x101f8c000 -        0x101f8dff7  com.apple.kerberos.reachability (3.0 - 2.0) &lt;8DC5EA50-F572-31C7-9443-5F6C9363A58D&gt;     /System/Library/KerberosPlugins/KerberosFrameworkPlugins/Reachability.bundle/Contents/MacOS/Reachability\n       0x101f91000 -        0x101f92ff7  com.apple.kerberos.sckerberosconfig (3.0 - 1) &lt;6981ADC2-C901-3F8A-A3D0-7334DE61BF3E&gt;     /System/Library/KerberosPlugins/KerberosFrameworkPlugins/SCKerberosConfig.bundle/Contents/MacOS/SCKerberosConfig\n       0x102800000 -        0x102a42ff7 +pdo_mysql.so (???) &lt;941A3356-75E9-303B-A1BF-774B9458CB63&gt; /Applications/MAMP/*/pdo_mysql.so\n    0x7fff68009000 -     0x7fff6803d93f  dyld (210.2.3) &lt;A40597AA-5529-3337-8C09-D8A014EB1578&gt; /usr/lib/dyld\n    0x7fff8dffd000 -     0x7fff8e01fff7  com.apple.Kerberos (2.0 - 1) &lt;C49B8820-34ED-39D7-A407-A3E854153556&gt; /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos\n    0x7fff8e020000 -     0x7fff8e021ff7  libdnsinfo.dylib (453.18) &lt;E7595861-ECF9-336E-9901-BED2620FAA80&gt; /usr/lib/system/libdnsinfo.dylib\n    0x7fff8e0b7000 -     0x7fff8e413fff  com.apple.Foundation (6.8 - 945.11) &lt;A5D41956-A354-3ACC-9355-BE200072223B&gt; /System/Library/Frameworks/Foundation.    framework/Versions/C/Foundation\n    0x7fff8e819000 -     0x7fff8eae9fff  com.apple.security (7.0 - 55179.1) &lt;639641EF-8156-3190-890C-1053658E044A&gt; /System/Library/Frameworks/Security.framework/Versions/A/Security\n    0x7fff8eb02000 -     0x7fff8eb0afff  liblaunch.dylib (442.26.2) &lt;2F71CAF8-6524-329E-AC56-C506658B4C0C&gt; /usr/lib/system/liblaunch.dylib\n    0x7fff8eb12000 -     0x7fff8eb9fff7  com.apple.SearchKit (1.4.0 - 1.4.0) &lt;C7F43889-F8BF-3CB9-AD66-11AEFCBCEDE7&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit\n    0x7fff8eccd000 -     0x7fff8edcafff  libsqlite3.dylib (138.1) &lt;ADE9CB98-D77D-300C-A32A-556B7440769F&gt; /usr/lib/libsqlite3.dylib\n    0x7fff8edcb000 -     0x7fff8ede0ff7  libdispatch.dylib (228.23) &lt;D26996BF-FC57-39EB-8829-F63585561E09&gt; /usr/lib/system/libdispatch.dylib\n    0x7fff8ede1000 -     0x7fff8ede6fff  com.apple.OpenDirectory (10.8 - 151.10) &lt;CF44120B-9B01-32DD-852E-C9C0E1243FC0&gt; /System/Library/Frameworks/OpenDirectory.    framework/Versions/A/OpenDirectory\n    0x7fff8f5c8000 -     0x7fff8f8dfff7  com.apple.CoreServices.CarbonCore (1037.3 - 1037.3) &lt;DF7CABCA-F2CB-345B-8EFF-F0F4E937B7FF&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore\n    0x7fff8feb1000 -     0x7fff8fed0ff7  libresolv.9.dylib (51) &lt;0882DC2D-A892-31FF-AD8C-0BB518C48B23&gt; /usr/lib/libresolv.9.dylib\n    0x7fff9021c000 -     0x7fff90405fff  com.apple.CoreFoundation (6.8 - 744.12) &lt;EF002794-DAEF-31C6-866C-E3E3AC387A9F&gt; /System/Library/Frameworks/CoreFoundation.    framework/Versions/A/CoreFoundation\n    0x7fff90606000 -     0x7fff90641fff  com.apple.LDAPFramework (2.4.28 - 194.5) &lt;0190B746-F684-3F43-B4D0-148EFE386CA4&gt; /System/Library/Frameworks/LDAP.framework/Versions/A/LDAP\n    0x7fff90642000 -     0x7fff907b6fff  com.apple.CFNetwork (596.2.3 - 596.2.3) &lt;6A16C2BD-1035-30F9-AE96-D9E3BB54A976&gt; /System/Library/Frameworks/CFNetwork.    framework/Versions/A/CFNetwork\n    0x7fff907b7000 -     0x7fff907d9ff7  libxpc.dylib (140.41) &lt;FAC04D8B-680E-325F-8F0C-DD69859D0E01&gt; /usr/lib/system/libxpc.dylib\n    0x7fff9116b000 -     0x7fff9116bfff  libOpenScriptingUtil.dylib (148.2) &lt;B8061D13-C1B2-38D5-A723-9A98D64E67AC&gt; /usr/lib/libOpenScriptingUtil.dylib\n    0x7fff91295000 -     0x7fff9129afff  libcache.dylib (57) &lt;65187C6E-3FBF-3EB8-A1AA-389445E2984D&gt; /usr/lib/system/libcache.dylib\n    0x7fff91426000 -     0x7fff914a7fff  com.apple.Metadata (10.7.0 - 707.3) &lt;A45D75C1-B311-39F0-AF4A-63FCCC098C1D&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata\n    0x7fff91510000 -     0x7fff91547ff7  libssl.0.9.8.dylib (47) &lt;923945E6-C489-3406-903B-A362410753F8&gt; /usr/lib/libssl.0.9.8.dylib\n    0x7fff919f5000 -     0x7fff91a0cfff  com.apple.CFOpenDirectory (10.8 - 151.10) &lt;FFBBA538-00B5-334E-BA5B-C8AD6CDCDA14&gt; /System/Library/Frameworks/OpenDirectory.    framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory\n    0x7fff91bbb000 -     0x7fff91bc0fff  libcompiler_rt.dylib (30) &lt;08F8731D-5961-39F1-AD00-4590321D24A9&gt; /usr/lib/system/libcompiler_rt.dylib\n    0x7fff91dc4000 -     0x7fff91dd7ff7  libbsm.0.dylib (32) &lt;F497D3CE-40D9-3551-84B4-3D5E39600737&gt; /usr/lib/libbsm.0.dylib\n    0x7fff91dd8000 -     0x7fff91dd9ff7  libSystem.B.dylib (169.3) &lt;365477AB-D641-389D-B8F4-A1FAE9657EEE&gt; /usr/lib/libSystem.B.dylib\n    0x7fff91e09000 -     0x7fff91e0afff  libsystem_blocks.dylib (59) &lt;D92DCBC3-541C-37BD-AADE-ACC75A0C59C8&gt; /usr/lib/system/libsystem_blocks.dylib\n    0x7fff9208a000 -     0x7fff9208afff  libkeymgr.dylib (25) &lt;CC9E3394-BE16-397F-926B-E579B60EE429&gt; /usr/lib/system/libkeymgr.dylib\n    0x7fff92c04000 -     0x7fff92c04fff  com.apple.CoreServices (57 - 57) &lt;9DD44CB0-C644-35C3-8F57-0B41B3EC147D&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/CoreServices\n    0x7fff92c08000 -     0x7fff92d0afff  libcrypto.0.9.8.dylib (47) &lt;74F165AD-4572-3B26-B0E2-A97477FE59D0&gt; /usr/lib/libcrypto.0.9.8.dylib\n    0x7fff92d0b000 -     0x7fff92d2cff7  libCRFSuite.dylib (33) &lt;736ABE58-8DED-3289-A042-C25AF7AE5B23&gt; /usr/lib/libCRFSuite.dylib\n    0x7fff92d64000 -     0x7fff92e7c92f  libobjc.A.dylib (532.2) &lt;90D31928-F48D-3E37-874F-220A51FD9E37&gt; /usr/lib/libobjc.A.dylib\n    0x7fff92ee1000 -     0x7fff92f92fff  com.apple.LaunchServices (539.7 - 539.7) &lt;DA7C602E-5E01-31B8-925D-B45360CA089F&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices\n    0x7fff93062000 -     0x7fff9312efe7  libsystem_c.dylib (825.25) &lt;8CBCF9B9-EBB7-365E-A3FF-2F3850763C6B&gt; /usr/lib/system/libsystem_c.dylib\n    0x7fff9312f000 -     0x7fff9313cfff  libbz2.1.0.dylib (29) &lt;CE9785E8-B535-3504-B392-82F0064D9AF2&gt; /usr/lib/libbz2.1.0.dylib\n    0x7fff93289000 -     0x7fff9328aff7  libremovefile.dylib (23.1) &lt;DBBFAF35-AC78-3856-92F6-6E4FD9DF14A2&gt; /usr/lib/system/libremovefile.dylib\n    0x7fff9340c000 -     0x7fff9345bff7  libcorecrypto.dylib (106.2) &lt;CE0C29A3-C420-339B-ADAA-52F4683233CC&gt; /usr/lib/system/libcorecrypto.dylib\n    0x7fff93f5b000 -     0x7fff93f61fff  com.apple.DiskArbitration (2.5.1 - 2.5.1) &lt;F7DAF7CC-5893-3F06-9168-3B0192B66D15&gt; /System/Library/Frameworks/DiskArbitration.    framework/Versions/A/DiskArbitration\n    0x7fff93f63000 -     0x7fff93f94ff7  com.apple.DictionaryServices (1.2 - 184.4) &lt;054F2D6F-9CFF-3EF1-9778-25C551B616C1&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices\n    0x7fff94015000 -     0x7fff94066ff7  com.apple.SystemConfiguration (1.12.2 - 1.12.2) &lt;E095637C-457F-3D8F-AE32-A032F9D5A46C&gt; /System/Library/Frameworks/SystemConfiguration.    framework/Versions/A/SystemConfiguration\n    0x7fff94067000 -     0x7fff94164ff7  libxml2.2.dylib (22.3) &lt;47B09CB2-C636-3024-8B55-6040F7829B4C&gt; /usr/lib/libxml2.2.dylib\n    0x7fff94621000 -     0x7fff94623ff7  libunc.dylib (25) &lt;92805328-CD36-34FF-9436-571AB0485072&gt; /usr/lib/system/libunc.dylib\n    0x7fff946f7000 -     0x7fff948f7fff  libicucore.A.dylib (491.11.1) &lt;CC318A27-878A-38CE-9292-1B98353FA9C7&gt; /usr/lib/libicucore.A.dylib\n    0x7fff948f8000 -     0x7fff94903fff  libsystem_notify.dylib (98.5) &lt;C49275CC-835A-3207-AFBA-8C01374927B6&gt; /usr/lib/system/libsystem_notify.dylib\n    0x7fff94998000 -     0x7fff94a3eff7  com.apple.CoreServices.OSServices (557.4 - 557.4) &lt;841878A8-6F3E-300D-8F01-444B3CC1F41D&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices\n    0x7fff94d70000 -     0x7fff94dddff7  com.apple.framework.IOKit (2.0 - 755.18.10) &lt;142E19DD-1C8D-3D61-ABC8-83994A73279F&gt; /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit\n    0x7fff94e7a000 -     0x7fff94e88ff7  libsystem_network.dylib (77.10) &lt;0D99F24E-56FE-380F-B81B-4A4C630EE587&gt; /usr/lib/system/libsystem_network.dylib\n    0x7fff94e89000 -     0x7fff94e8bfff  libquarantine.dylib (52) &lt;4BE2E642-A14F-340A-B482-5BD2AEFD9C24&gt; /usr/lib/system/libquarantine.dylib\n    0x7fff95049000 -     0x7fff95077ff7  libsystem_m.dylib (3022.6) &lt;B434BE5C-25AB-3EBD-BAA7-5304B34E3441&gt; /usr/lib/system/libsystem_m.dylib\n    0x7fff955cc000 -     0x7fff95639fff  com.apple.datadetectorscore (4.0 - 269.1) &lt;C94C372B-3821-3A46-A8C2-091AB1CFF7F4&gt; /System/Library/PrivateFrameworks/DataDetectorsCore.    framework/Versions/A/DataDetectorsCore\n    0x7fff9563a000 -     0x7fff9563dff7  libdyld.dylib (210.2.3) &lt;F59367C9-C110-382B-A695-9035A6DD387E&gt; /usr/lib/system/libdyld.dylib\n    0x7fff956f8000 -     0x7fff956fcfff  libpam.2.dylib (20) &lt;C8F45864-5B58-3237-87E1-2C258A1D73B8&gt; /usr/lib/libpam.2.dylib\n    0x7fff9590a000 -     0x7fff95911fff  libcopyfile.dylib (89) &lt;876573D0-E907-3566-A108-577EAD1B6182&gt; /usr/lib/system/libcopyfile.dylib\n    0x7fff95b16000 -     0x7fff95b28ff7  libz.1.dylib (43) &lt;2A1551E8-A272-3DE5-B692-955974FE1416&gt; /usr/lib/libz.1.dylib\n    0x7fff95b4b000 -     0x7fff95b76fff  libxslt.1.dylib (11.3) &lt;441776B8-9130-3893-956F-39C85FFA644F&gt; /usr/lib/libxslt.1.dylib\n    0x7fff95b77000 -     0x7fff95badfff  libsystem_info.dylib (406.17) &lt;4FFCA242-7F04-365F-87A6-D4EFB89503C1&gt; /usr/lib/system/libsystem_info.dylib\n    0x7fff95bb3000 -     0x7fff95bbbff7  libsystem_dnssd.dylib (379.32.1) &lt;62AA0B84-188A-348B-8F9E-3E2DB08DB93C&gt; /usr/lib/system/libsystem_dnssd.dylib\n    0x7fff95cda000 -     0x7fff95cffff7  libc++abi.dylib (24.4) &lt;E7BD9363-1D25-3551-A68A-2E2FF6ABECD7&gt; /usr/lib/libc++abi.dylib\n    0x7fff95d00000 -     0x7fff95d69fff  libstdc++.6.dylib (56) &lt;EAA2B53E-EADE-39CF-A0EF-FB9D4940672A&gt; /usr/lib/libstdc++.6.dylib\n    0x7fff96e72000 -     0x7fff96e74fff  com.apple.TrustEvaluationAgent (2.0 - 23) &lt;A97D348B-32BF-3E52-8DF2-59BFAD21E1A3&gt; /System/Library/PrivateFrameworks/TrustEvaluationAgent.    framework/Versions/A/TrustEvaluationAgent\n    0x7fff96e75000 -     0x7fff96e86ff7  libsasl2.2.dylib (166) &lt;649CAE0E-8FFE-3C60-A849-BE6300E4B726&gt; /usr/lib/libsasl2.2.dylib\n    0x7fff96efc000 -     0x7fff96f7efff  com.apple.Heimdal (3.0 - 2.0) &lt;660A6C64-4912-32C8-A332-B64164032A2D&gt; /System/Library/PrivateFrameworks/Heimdal.framework/Versions/A/Heimdal\n    0x7fff972dd000 -     0x7fff972ebfff  libcommonCrypto.dylib (60026) &lt;2D6537F5-1B5E-305C-A1CF-D1FA80CA3939&gt; /usr/lib/system/libcommonCrypto.dylib\n    0x7fff97730000 -     0x7fff97798ff7  libc++.1.dylib (65.1) &lt;20E31B90-19B9-3C2A-A9EB-474E08F9FE05&gt; /usr/lib/libc++.1.dylib\n    0x7fff98016000 -     0x7fff9810bfff  libiconv.2.dylib (34) &lt;FEE8B996-EB44-37FA-B96E-D379664DEFE1&gt; /usr/lib/libiconv.2.dylib\n    0x7fff99a4b000 -     0x7fff99a62fff  com.apple.GenerationalStorage (1.1 - 132.2) &lt;3F5C87BD-D866-3732-8CB9-D23ED9784D6E&gt; /System/Library/PrivateFrameworks/GenerationalStorage.    framework/Versions/A/GenerationalStorage\n    0x7fff99d95000 -     0x7fff99d99ff7  com.apple.TCC (1.0 - 1) &lt;F2F3B753-FC73-3543-8BBE-859FDBB4D6A6&gt; /System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC\n    0x7fff99d9a000 -     0x7fff99da1fff  com.apple.NetFS (5.0 - 4.0) &lt;82E24B9A-7742-3DA3-9E99-ED267D98C05E&gt; /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS\n    0x7fff99da2000 -     0x7fff99dafff7  com.apple.NetAuth (4.0 - 4.0) &lt;F5BC7D7D-AF28-3C83-A674-DADA48FF7810&gt; /System/Library/PrivateFrameworks/NetAuth.framework/Versions/A/NetAuth\n    0x7fff99db4000 -     0x7fff99dcfff7  libsystem_kernel.dylib (2050.18.24) &lt;C0535565-35D1-31A7-A744-63D9F10F12A4&gt; /usr/lib/system/libsystem_kernel.dylib\n    0x7fff99e52000 -     0x7fff99e53ff7  libsystem_sandbox.dylib (220) &lt;3C3B03CF-C525-3CB3-8557-62E91B93AC95&gt; /usr/lib/system/libsystem_sandbox.dylib\n    0x7fff99e99000 -     0x7fff99e9ffff  libmacho.dylib (829) &lt;BF332AD9-E89F-387E-92A4-6E1AB74BD4D9&gt; /usr/lib/system/libmacho.dylib\n    0x7fff9a0fb000 -     0x7fff9a147ff7  libauto.dylib (185.1) &lt;73CDC482-16E3-3FC7-9BB4-FBA2DA44DBC2&gt; /usr/lib/libauto.dylib\n    0x7fff9a220000 -     0x7fff9a22eff7  libkxld.dylib (2050.18.24) &lt;7027CE49-007D-3553-8FFA-3E3B428B2316&gt; /usr/lib/system/libkxld.dylib\n    0x7fff9a241000 -     0x7fff9a242fff  liblangid.dylib (116) &lt;864C409D-D56B-383E-9B44-A435A47F2346&gt; /usr/lib/liblangid.dylib\n    0x7fff9a243000 -     0x7fff9a249ff7  libunwind.dylib (35.1) &lt;21703D36-2DAB-3D8B-8442-EAAB23C060D3&gt; /usr/lib/system/libunwind.dylib\n    0x7fff9a7aa000 -     0x7fff9a7b9ff7  libxar.1.dylib (105) &lt;370ED355-E516-311E-BAFD-D80633A84BE1&gt; /usr/lib/libxar.1.dylib\n    0x7fff9a867000 -     0x7fff9a8a1fff  com.apple.GSS (3.0 - 2.0) &lt;0BDF8090-5EF4-3759-94DE-8521D74188AA&gt; /System/Library/Frameworks/GSS.framework/Versions/A/GSS\n    0x7fff9a94d000 -     0x7fff9a9aaff7  com.apple.AE (645.3 - 645.3) &lt;FF867ACA-8628-3E5A-8FA0-AF429B42C5D7&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.    framework/Versions/A/AE\n    0x7fff9aa0f000 -     0x7fff9aa10fff  libDiagnosticMessagesClient.dylib (8) &lt;8548E0DC-0D2F-30B6-B045-FE8A038E76D8&gt; /usr/lib/libDiagnosticMessagesClient.dylib\n    0x7fff9aa11000 -     0x7fff9aa1cfff  com.apple.CommonAuth (3.0 - 2.0) &lt;74A86DDD-57D0-3178-AB74-E1F31DBFFC39&gt; /System/Library/PrivateFrameworks/CommonAuth.    framework/Versions/A/CommonAuth\n\nExternal Modification Summary:\n  Calls made by other processes targeting this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by all processes on this machine:\n    task_for_pid: 1596\n    thread_create: 0\n    thread_set_state: 0\n\nVM Region Summary:\nReadOnly portion of Libraries: Total=111.2M resident=43.1M(39%) swapped_out_or_unallocated=68.1M(61%)\nWritable regions: Total=27.0M written=6936K(25%) resident=9208K(33%) swapped_out=0K(0%) unallocated=18.0M(67%)\n\nREGION TYPE                      VIRTUAL\n===========                      =======\nMALLOC                             17.7M\nMALLOC guard page                    32K\nSTACK GUARD                        56.0M\nStack                              8192K\nVM_ALLOCATE                           4K\n__DATA                             6248K\n__LINKEDIT                         55.5M\n__TEXT                             55.6M\n__UNICODE                           544K\nshared memory                        12K\n===========                      =======\nTOTAL                             199.5M\n</code></pre>\n\n<p>I'm using PHP 5.4.4 (but have tried with 5.3.14 and 5.2.17), the PHPUnit version is 3.7.9.  </p>\n"},{"tags":["php","wordpress"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1990,"score":0,"question_id":4058737,"title":"wordpress - action hook 'pre publish post'?","body":"<p>need to change post content before it is published. I could overwrite the native publish function but don't want to do this.</p>\n\n<p>What i'd like to do is something like:</p>\n\n<pre><code>add_action('before_publish_post','my_func');\nfunction my_func($content){\n    $content = \"new content\";\n    return $content;\n}\n</code></pre>\n\n<p>I have had a look at the 'publish_post' hook, but this only allows me to change the post content afer it has been published, not before.</p>\n\n<p>any help would be appreciated,\ncheers</p>\n"},{"tags":["php","mysql","transactions"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13287723,"title":"Transactions MySql and php","body":"<p>I'm confused abt running transactions through php script.\nIn my MySql autocommit is set to 1,\nyet when I run a script </p>\n\n<p>ex: mysql_query(\"START TRANSACTION\");</p>\n\n<pre><code>$sql=\"INSERT INTO \n`address`(`Address_Id`, \n`Address_Line1`, \n`Address_line2`, \n`Zip`, \n`Created_By`,\n `Created_Date`, \n `Updated_By`, \n `Updated_Date`) \nVALUES ('2','this is test1','test2','210','SYSTEM','NOW()','SYSTEM','NOW()')\";\n\nmysql_query($sql);\n</code></pre>\n\n<p>When I don't give commit, inserted records in the table is zero.\nthe record comes up only if I give commit command.</p>\n\n<p><em><strong>Also please tell me what happens if in a php script I start transaction and then dont give either roll back or commit statements</em></strong></p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1947,"score":1,"question_id":4837278,"title":"Filter out numbers in a string in php","body":"<p>assuming i have these texts 'x34' , '150px' , '650dpi' , 'e3r4t5' ... how can i get only numbers ? i mean i want 34 , 150 , 650 , 345 without any other character . i mean get the numbers this string has into one variable .</p>\n"},{"tags":["php","sql","rowspan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13285861,"title":"Php - rowspan shows all records from database at the same row","body":"<p>i've a problem with rowspan , it prints out all the data from the database into one row!\neven though the one with different id! \nthe output should be Course name and all student that are taken that course , put my code take only the first course name in the database and print it out with all student names in the database!</p>\n\n<p>my code is </p>\n\n<pre><code>                      &lt;h2&gt; List of course Name with students names&lt;/h2&gt;\n\n&lt;?php\n\n\n        include('../connect.php');\n        $id=$_SESSION['login_user'];\n\n\n        $sql = \"SELECT C.CourseName ,GROUP_CONCAT(s.Studntname) AS Studntname\n                FROM course AS c\n                INNER JOIN student AS s\n                ON s.CourseID = c.CourseID\"; \n\n        $result = mysql_query ($sql, $connection); \n\n\n          echo \"&lt;center&gt;\";\n\n        echo \"&lt;table&gt;\";\n        echo \"&lt;tr&gt; &lt;th&gt;Course Name&lt;/th&gt; &lt;th&gt; Student Name&lt;/th&gt;  &lt;/tr&gt;\";\n\n        // loop through results of database query, displaying them in the table\n        while($row = mysql_fetch_array( $result )) {\n                // echo out the contents of each row into a table\n               echo \"&lt;tr&gt;\";\n\n                echo '&lt;td&gt;' . $row['CourseName'] . '&lt;/td&gt;';\n                echo \"&lt;td rowspan='' &gt;\" .$row['Studentname'] . \"&lt;/td&gt;\";\n\n\n                echo \"&lt;/tr&gt;\";\n\n\n        }\n        echo \"&lt;/table&gt;\"; \n         echo \"&lt;/center&gt;\";\n\n\n\n?&gt;\n</code></pre>\n\n<p>My two tables are:  </p>\n\n<p><strong>Course</strong></p>\n\n<pre><code>CourseName var(30)\nCourseID   int(7)\n</code></pre>\n\n<p><strong>Student</strong></p>\n\n<pre><code>Studentname var(30)\nStudentID   int(7) \nCourseID    int(7)  \n</code></pre>\n"},{"tags":["php","algorithm","datetime"],"answer_count":9,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":3493,"score":4,"question_id":958349,"title":"Next month, same day in PHP","body":"<p>I got a last time (and urgent) requeriment of an \"event\" that needs to be scheduled the same day of every month. </p>\n\n<p>Say of you set the start date on the 1st May you should get the next events on the 1st of Jun, 1 Jul etc. The problem comes with a start date on the 31st (the next ones could be 30 or 28 depending on the month)</p>\n\n<p>Considering that there are months with different numbers of days (28,30,31) depending on the month itself and the year... what would ba an easy way to setup this?</p>\n\n<p>Consider the following (and flawed) nextmonth function:</p>\n\n<pre><code>$events = array()\n\nfunction nextmonth($date) {\n   return $date+(60*60*24*30);\n}\n$curr = $start;\nwhile($curr &lt; $end) {\n    $events[ = $curr;\n    $curr = nextmonth($curr);\n}\n</code></pre>\n\n<p>Edited to add: The problem for me is, simply enought, is to solve what the number of days of any given month is and thus get the next corresponding date..</p>\n"},{"tags":["php","arrays","variables","loops","array-intersect"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12381085,"title":"array_intersect a variable amount of arrays","body":"<p>I am creating a faceted search, and I'm am trying to use <code>array_intersect</code> to compare the arrays and find the inputs that match.</p>\n\n<p>The problem is that I will have a variable amount of arrays at anytime depending on what filters the user has selected:</p>\n\n<p><code>$array_1, $array_2, $array_3</code> etc...</p>\n\n<p>How do I create an <code>array_intersect</code> function that is dynamic in this sense?</p>\n\n<p>This is what I've tried:</p>\n\n<pre><code>$next_array = 0;\nfor($i = 0; $i &lt; $array_count; $i++) {\n    $next_array++;\n    if ($i == 0) {\n        $full_array = ${array_.$i};\n    } else {\n        if(!empty(${cvp_array.$next_array})) {\n            $full_array = array_intersect($full_array, ${cvp_array_.$next_array});\n        }\n    }\n}\n</code></pre>\n\n<p>------------- EDIT -------------</p>\n\n<p>I'll try to narrow down my goal a bit more:</p>\n\n<p>If the user clicks three filters, this results in three arrays being created with each having individual results:</p>\n\n<p><code>Array_1 ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6 )</code></p>\n\n<p><code>Array_2 ( [0] =&gt; 1, [1] =&gt; 4, [2] =&gt; 6 )</code></p>\n\n<p><code>Array_3 ( [0] =&gt; 6, [1] =&gt; 7, [2] =&gt; 8 )</code></p>\n\n<p>I need code that will find the number that is in ALL of the arrays. And if there is no common number then it would end as false or something. In the case above, I'd need it to retrieve 6. If it was only the first two arrays, it would return 4 and 6.</p>\n"},{"tags":["php","command-line","export","output"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13287376,"title":"execute a script that outputs a result in a txt file or ini using the cmd line in php","body":"<p>i want to run a simple line in my commandline in windows to run a script that reads ip addresses and i want it to out output in a text file. </p>\n\n<p>This is the script</p>\n\n<pre><code>&lt;?php\n     $lines = file('ipaddresses.ini', FILE_IGNORE_NEW_LINES); \n     foreach($lines as $line){\n         echo $line;  \n\n         $host   = $line;\n         echo(\"Ping Output:\");\n         system(\"ping -n 4 $host\",$result);\n\n         if ($result == 0)\n             echo \"Ping successful!\";\n         else\n             echo \"Ping unsuccessful!\";\n\n     } \n ?&gt; \n</code></pre>\n\n<p>And this is the command line<BR></p>\n\n<pre><code>C:\\wamp\\bin\\php\\php5.3.13&gt;php.exe -f \"C:\\wamp\\www\\hello.php\"\n</code></pre>\n"},{"tags":["php","elasticsearch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13285250,"title":"How to query using Elastica","body":"<p>This is my first time using Elastica and querying data from the ElasticSearch</p>\n\n<p>For me, as starter I have a question on how to query the code below using Elastica?:</p>\n\n<pre><code>curl 'http://localhost:9200/myindex/_search?pretty=true' -d '{     \n  \"query\" : {\n    \"term\": {\n      \"click\": \"true\"\n    }   },   \"facets\" : {\n    \"matches\" : {\n      \"terms\" : {\n          \"field\" : \"pubid\",\n          \"all_terms\" : true,\n          \"size\": 200 \n      }\n    }   \n  } \n}'\n</code></pre>\n\n<p>Hope someone can lend me an arm here. </p>\n\n<p>Thanks,</p>\n"},{"tags":["php","class","domdocument"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13287737,"title":"Save string using DOMDocument","body":"<p>I have this code which finds an element by id using DOMDocument() and removes it:</p>\n\n<pre><code>$caption = \"blah blah &lt;p id = 'xmas_message'&gt;message&lt;p&gt;&lt;p&gt; more text&lt;/p&gt;\" ;\n$doc = new DOMDocument();\n$doc-&gt;loadHTML($caption);\n$xpath = new DOMXPath($doc);\n$nlist = $xpath-&gt;query(\"//p[@id='xmas_message']\");\n$node = $nlist-&gt;item(0);\n$newcaption = $doc-&gt;saveHTML();\necho $newcaption;\n</code></pre>\n\n<p>I want to save the stripped html to database but when I use $doc->saveHTML() it adds unwanted html and body tags, is there a way of saving without the html * body tags?</p>\n"},{"tags":["php","html","regex","html5","encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13283699,"title":"Sanitize Attribute Name","body":"<p>Based on the <a href=\"http://www.w3.org/TR/html-markup/syntax.html#syntax-attributes\" rel=\"nofollow\">html syntax docs</a> and trial and error in the <a href=\"http://html5.validator.nu/\" rel=\"nofollow\">validator</a> I believe that the allowed characters in HTML attribute names are: </p>\n\n<ul>\n<li>alphanumerics</li>\n<li>hyphens</li>\n<li>underscores</li>\n<li>periods</li>\n</ul>\n\n<p>For example these <strong>validate</strong>:</p>\n\n<pre><code>&lt;p data-éxample&gt;\n&lt;p data-1.5&gt;\n</code></pre>\n\n<p>I want to write a function for sanitizing attribute names:</p>\n\n<pre><code>&lt;?php \nfunction sanitize_attr_name ( $name ) {\n    return is_string($name) ? preg_replace( '/[^\\w\\-\\.]/', '', $name ) : '';\n}\n</code></pre>\n\n<p>That works except for the special alpha characters:</p>\n\n<pre><code>sanitize_attr_name( 'data-éxample' ); // 'data-xample'\n</code></pre>\n\n<p>Now it may seem crazy for someone to use characters like that but it <a href=\"http://jsfiddle.net/VfUU8/2/\" rel=\"nofollow\">does in fact work</a> albeit the css doesn't seem to validate <a href=\"http://mothereff.in/css-escapes\" rel=\"nofollow\">escaped or not</a>.</p>\n\n<p>How do you pull that off in PHP? How could the sanitizer be written to allow for the special alpha characters? Is that possible via regexp? And why is <code>ctype_graph('é')</code> false?</p>\n"},{"tags":["php","asp.net","e-commerce","webshop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":25,"score":-5,"question_id":13287705,"title":"Which web shop e-commerce solution should I start with?","body":"<p>I want to start a very small web shop for selling used stuff. The stuff will be sold at predetermined fixed prices. The web shop will complement a small physical store.</p>\n\n<p>As with all web shops, customers must be able to browse categories of products, search for products, buy, get billed, and pay.</p>\n\n<p>The store must launch within about 4 months from now.</p>\n\n<p>It must be easy to operate for someone else than me (adding/removing/modifying products, checking sums owed to different suppliers, exporting the accounting data).</p>\n\n<p>Multiple languages must be supported (2 to 5 languages).</p>\n\n<p>The look of the store must be customizable. A design agency will deliver images of the recommended look of the web shop, which I will then translate to HTML and CSS.</p>\n\n<p>Question: Which system should I start out with based on my limited budget and my very limited time for development? Actually I would like to minimize or avoid any initial custom development if possible.</p>\n\n<p>Thoughts so far:</p>\n\n<p>I have used osCommerce in the distant past, but that feels a little outdated for a new shop. Is ZenCart similar, active and more future proof?</p>\n\n<p>Magento seems nice but how hard is it so set up and maintain the community edition? Can it even be used commercially? The enterprise edition of $15000 per year is outside of the budget constraints.</p>\n\n<p>I have heard nice things about nopCommerce.</p>\n\n<p>If I have to make changes, I could do it in both PHP and C#/ASP.NET though I like C# more than PHP.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13287593,"title":"stdClass and type hinting","body":"<pre><code>$obj = new stdClass();\necho gettype($obj); //object\n\nfunction abc(object $obj) {\n    return;\n}\n\nabc($obj); //Catchable fatal error: Argument 1 passed to abc() must be an instance of object, instance of stdClass given\n</code></pre>\n\n<p>Why calling <code>abc($obj)</code> triggers error <strong>Catchable fatal error: Argument 1 passed to abc() must be an instance of object, instance of stdClass given</strong>?</p>\n"},{"tags":["php","mysql","arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13286991,"title":"PHP looping through an array to fetch a value for each key from database (third normal form)","body":"<p>I am building a system, mostly for consolidating learning but will be used in practice. </p>\n\n<p>I will try and verbally explain the part of the E-R diagram I am focusing on:</p>\n\n<p>Each cadet can have many uniformID's</p>\n\n<p>Each Uniform ID is a new entry in table uniform, so <code>cadets</code> (table) may look like:</p>\n\n<pre><code>id | name    | ... | uniformID\n\n1  | Example | ... | 1,2,3\n</code></pre>\n\n<p><code>uniform</code> table:  </p>\n\n<pre><code>id | notes             | cadet\n\n1  | Need new blahh    | 1\n\n2  | Some stuff needed | 1\n\n3  | Whatever you like | 1\n</code></pre>\n\n<p>On second thought, looks like I wont need that third column in the db.</p>\n\n<p>I am trying to iterate through each id in uniformID, code:</p>\n\n<pre><code>&lt;?php\n$cadet = $_GET['id']; // set  from URL\n\n$query = mysql_query(\"SELECT `uniformID` FROM `cadets` \n  WHERE id = '$cadet' LIMIT 1\") \n  or die(mysql_error()); // get uniform needed as string\n\n// store it\nwhile ($row = mysql_fetch_array($query)) {\n  $uniformArray = $row['uniformID']; \n}\necho $uniformArray . \"  \";\n$exploded = explode(\",\", $uniformArray); // convert into an array\n\n// for each key in the array perform a new query\nforeach ($exploded as $key =&gt; $value) {\n  $query(count($exploded));\n  $query[$key] = mysql_query(\"SELECT * FROM `uniform` WHERE `id` = '$value'\");\n}\n</code></pre>\n\n<p>?></p>\n\n<p>As I say, this is mainly for consolidation purposes but I have come up with a error, sql is saying:</p>\n\n<blockquote>\n  <p>Fatal error: Function name must be a string in C:\\wamp\\www\\intranet\\uniform.php on line 82</p>\n</blockquote>\n\n<p>line 82 is:</p>\n\n<pre><code>$query[$key] = mysql_query(\"SELECT * FROM `uniform` WHERE `id` = '$value'\");\n</code></pre>\n\n<p>I wasn't sure it would work so I tried it and now i'm stuck!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Thanks to everyone who has contributed to this! This is now the working code:</p>\n\n<pre><code>foreach ($exploded as $key =&gt; $value) {\n              //$query(count($exploded));\n              $query = mysql_query(\"SELECT * FROM `uniform` WHERE `id` = '$value'\");\n              while ($row = mysql_fetch_array($query)) {\n                echo \"&lt;tr&gt;\n                  &lt;td&gt;\" . $row['id'] . \"&lt;/td&gt;\n                  &lt;td&gt;\" . $row['note'] . \"&lt;/td&gt;\n                &lt;/tr&gt;\";\n              }\n            }\n</code></pre>\n\n<p>Added the while and did the iteration by nesting it in the foreach</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13286851,"title":"Properties in PHP","body":"<p>Since PHP has no notion of properties like C# what is the best way to expose certain attributes of a class? Is it recommended to have separate get and set functions or should the member variable be made public?\nI am designing a class whose objects will be contained in another class. There should be a way to set/get properties of the object. </p>\n"},{"tags":["php","postgresql"],"answer_count":1,"favorite_count":5,"up_vote_count":2,"down_vote_count":0,"view_count":2904,"score":2,"question_id":6588174,"title":"Enabling PostgreSQL support in PHP on Mac OS X","body":"<p>I'm having a terribly difficult time getting the command \"pg_connect()\" to work properly on my Mac. I'm currently writing a PHP script (to be executed from console) to read a PostgreSQL database and email a report. </p>\n\n<p>I've gone into my php.ini file and added </p>\n\n<pre><code>extension=pgsql.so\n</code></pre>\n\n<p>But, I'm met with the following error. </p>\n\n<pre><code>PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php/extensions/no-debug-non-zts-20090626/php_pgsql.so' - dlopen(/usr/lib/php/extensions/no-debug-non-zts-20090626/php_pgsql.so, 9): image not found in Unknown on line 0\nPHP Fatal error:  Call to undefined function pg_connect() in... (blah file here)\n</code></pre>\n\n<p>When running phpinfo(), I see nothing about PostgreSQL, so what is my issue here?</p>\n"},{"tags":["php","include","document-root"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13287491,"title":"PHP include seems to make page interpret itself as a directory","body":"<p>I have a page, <code>index.php</code>, like this (simplified):</p>\n\n<pre><code>&lt;img src=\"content/banner.png\"/&gt;\n</code></pre>\n\n<p>The image loads fine. But when I include a certain (WordPress) script, like so,</p>\n\n<pre><code>&lt;img src=\"content/banner.png\"/&gt;\n&lt;?php\n    include('template-loader.php');\n?&gt;\n</code></pre>\n\n<p>the image no longer loads! I also notice the URL in the browser becomes <code>index.php/</code>.</p>\n\n<p>How is this possible? The image of course won't load because I'm using relative paths and it's looking for <code>index.php/content/banner.jpg</code>. True, I can use absolute paths to fix this issue, but I'd like to know what could be happening and how the problem might be fixed in PHP.</p>\n\n<p>I'm testing on a local <code>wamp</code> installation and have disabled all <code>mod_rewrite</code>s and such, to be sure it's not something external causing the problem.</p>\n"},{"tags":["php","networking","dns","host","lan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12503580,"title":"PHP (Windows and Linux) - Getting Host names based on IP Address","body":"<p>Sometimes when I call gethostbyaddr() it returns the correct Host-name, however sometimes it returns the IP Address, which I know it's designed to do when the call fails to resolve the Host-name.</p>\n\n<p>It is absolutely <strong>crucial</strong> that I get the Host-names as all the IP address's are Dynamic (2 day lease) so I need the Host-name so that I can have a valid Primary Key when I save the Host-name and IP pair to a database. I literally have 2 printers and 2 computers side by side and one of each PHP can resolve into a host-name and the other printer and computer returns the IP Address.</p>\n\n<p>How do I get PHP to resolve the Host-name for all devices?</p>\n\n<p>Also, does anyone know how it resolves the Host-name? DNS? WINS?</p>\n\n<p>I can run any tests on these two printers to check their IPv4 configuration if necessary.</p>\n"},{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13285285,"title":"Required alert on wordpress form","body":"<p>The contact form it´s working, if you fill it all it sends the message. The problem if you don´t fill in the email box, the form doesn´t alert you about it, is there anyway that I can show a word or somekind of alert to the user?</p>\n\n<p>this is my markup:</p>\n\n<pre><code>&lt;div class=\"form\"&gt;\n        &lt;h2&gt;ESCRIBENOS&lt;/h2&gt;\n        &lt;form method=\"post\" action=\"process.php\"&gt;\n        &lt;div class=\"element\"&gt;\n            &lt;label&gt;Nombre (obligatorio):&lt;/label&gt;&lt;br/&gt;\n            &lt;input type=\"text\" name=\"name\" class=\"text\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"element\"&gt;\n            &lt;label&gt;Email (obligatorio):&lt;/label&gt;&lt;br/&gt;\n            &lt;input type=\"text\" name=\"email\" class=\"text\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"element\"&gt;\n            &lt;label&gt;Telefono:&lt;/label&gt;&lt;br/&gt;\n            &lt;input type=\"text\" name=\"website\" class=\"text\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"element\"&gt;\n            &lt;label&gt;Mensaje:&lt;/label&gt;&lt;br/&gt;\n            &lt;textarea name=\"comment\" class=\"text textarea\" /&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n        &lt;div class=\"element\"&gt;\n\n            &lt;input type=\"submit\" id=\"submit\"/&gt;\n            &lt;div class=\"loading\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/form&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>And this is my script:</p>\n\n<pre><code>$(document).ready(function() {\n\n//if submit button is clicked\n$('#submit').click(function () {        \n\n    //Get the data from all the fields\n    var name = $('input[name=name]');\n    var email = $('input[name=email]');\n    var website = $('input[name=website]');\n    var comment = $('textarea[name=comment]');\n\n    //Simple validation to make sure user entered something\n    //If error found, add hightlight class to the text field\n    if (name.val()=='') {\n        name.addClass('hightlight');\n        return false;\n    } else name.removeClass('hightlight');\n\n    if (email.val()=='') {\n        email.addClass('hightlight');\n        return false;\n    } else email.removeClass('hightlight');\n\n    if (comment.val()=='') {\n        comment.addClass('hightlight');\n        return false;\n    } else comment.removeClass('hightlight');\n\n    //organize the data properly\n    var data = 'name=' + name.val() + '&amp;email=' + email.val() + '&amp;website=' + \n    website.val() + '&amp;comment='  + encodeURIComponent(comment.val());\n\n    //disabled all the text fields\n    $('.text').attr('disabled','true');\n\n    //show the loading sign\n    $('.loading').show();\n\n    //start the ajax\n    $.ajax({\n        //this is the php file that processes the data and send mail\n        url: \"../process.php\",  \n\n        //GET method is used\n        type: \"GET\",\n\n        //pass the data         \n        data: data,     \n\n        //Do not cache the page\n        cache: false,\n\n        //success\n        success: function (html) {              \n            //if process.php returned 1/true (send mail success)\n            if (html==1) {                  \n                //hide the form\n                $('.form').fadeOut('slow');                 \n\n                //show the success message\n                $('.done').fadeIn('slow');\n\n            //if process.php returned 0/false (send mail failed)\n            } else alert('Sorry, unexpected error. Please try again later.');               \n        }       \n    });\n\n    //cancel the submit button default behaviours\n    return false;\n}); \n}); \n</code></pre>\n\n<p>Can someone help me out please?</p>\n"},{"tags":["php","zend-framework","zend-form","zend-validate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13283701,"title":"case insensitive inArray for Zend Form elements like Zend_Form_Element_MultiCheckbox and so on","body":"<p>By default, some form elements (such as Zend_Form_Element_MultiCheckbox\n and so on) register an InArray validator which validates against the array keys of registered options. This validator used case sensitive compaision. What is the simplest what to make case insensitive? \nThe only solution that occurs to me now looks something like this.\nTurn off this validator:</p>\n\n<pre><code>$element-&gt;setRegisterInArrayValidator(false);\n</code></pre>\n\n<p>Create new validator that will make case insensitive comparision and add this validation for the element. Is this the only way to solve this problem? It seems it would be nice if there is a standard way to make inArray validator to make case insensitive comparision.</p>\n"},{"tags":["php","string","str-replace"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13287162,"title":"php string replace baffled me","body":"<p>This is not working, what's going on it should be so simple :-(</p>\n\n<pre><code>    $test = \"hello naughty\";\n\n\n$swearWords = array(\"naughty\",\"notallowed\");\n\nforeach ($swearWords as $naughty)\n{\n    $post = str_ireplace($naughty, \"&lt;b&gt;&lt;i&gt;(oops)&lt;/i&gt;&lt;/b&gt;\", $test);\n\n}\n\necho $post;\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["php","zend-framework"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":7,"score":2,"question_id":13287573,"title":"findManyToManyRowset exclude columns","body":"<p>how to exclude columns from findManyToManyRowset() method result?</p>\n\n<pre><code>$servers = $this-&gt;findManyToManyRowset(\n                'Serverlog_Model_DbTable_Computer', \n                'Serverlog_Model_DbTable_Server');\n</code></pre>\n\n<p>$servers->toArray() gives me:</p>\n\n<pre><code>object(Serverlog_Model_Rowset_Computer)#458 (10) {\n[\"_data\":protected] =&gt; array(5) {\n[0] =&gt; array(27) {\n  [\"id\"] =&gt; int(462)\n  [\"name\"] =&gt; string(10) \"test\"\n  [\"key\"] =&gt; string(0) \"\"\n  [\"keyboard\"] =&gt; int(1)\n  [\"mouse\"] =&gt; int(0)\n  [\"serial_nr\"] =&gt; string(10) \"test\"\n  [\"status\"] =&gt; int(1)      \n}\n</code></pre>\n\n<p>I tried to overload methods toArray() inherited from Zend_Db_Table_Rowset_Abstract and Zend_Db_Table_Row_Abstract, but nothing has changed.</p>\n\n<pre><code>class Serverlog_Model_DbTable_Computer extends My_DbTable_Model {\n\n  protected $_name = 'computers';\n  protected $_dependentTables = array('Serverlog_Model_DbTable_Server');\n  protected $_rowClass = 'Serverlog_Model_Row_Computer';\n  protected $_rowsetClass = 'Serverlog_Model_Rowset_Computer';  \n\n\nclass Serverlog_Model_Rowset_Computer extends Zend_Db_Table_Rowset_Abstract {\npublic function toArray() {\n    foreach ($this-&gt;_rows as $i =&gt; $row) {\n        $this-&gt;_data[$i] = array($row-&gt;_data['id'] =&gt; $row-&gt;_data['name']);\n    }\n    return $this-&gt;_data;\n}\n\nclass Serverlog_Model_Row_Computer extends Zend_Db_Table_Row_Abstract {\n public function toArray() {\n    return array($this-&gt;_data['id'] =&gt; $this-&gt;_data['name']);\n}  \n}\n</code></pre>\n\n<p>I want to get result from $servers->toArray():</p>\n\n<pre><code>object(Serverlog_Model_Rowset_Computer)#458 (10) {\n[\"_data\":protected] =&gt; array(5) {\n[0] =&gt; array(27) {\n  [\"id\"] =&gt; int(462)\n  [\"name\"] =&gt; string(10) \"test\"  \n}\n</code></pre>\n"},{"tags":["php","gd"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":39,"score":3,"question_id":13086319,"title":"GD creating patterns","body":"<p>How to create patterns like these:</p>\n\n<p><img src=\"http://i.stack.imgur.com/GDHrU.png\"></p>\n\n<p><img src=\"http://i50.tinypic.com/2w7e1zt.png\"></p>\n\n<p><img src=\"http://i50.tinypic.com/y1ibl.png\"></p>\n\n<p>From a single image in PHP with GD?</p>\n\n<p>I've tried a lot but I think it can be done easier.</p>\n\n<p>My thoughts:\nFill with imagefilledrectangle for one line. For the second line fill it with a margin left and right (for my first example). Next cut the image in two pieces and fill the margins with it and repeat this for each line.</p>\n\n<p>I hope someone can help me out :)</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","session","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13287375,"title":"PHP LOST SESSION","body":"<p>It's the first time I have that problem.</p>\n\n<p>Basically, when I execute the login function, I create a session var which is passed to the index.php file.</p>\n\n<p>The problem is that if I refresh the browser, or click to other menu items, I lost the session.</p>\n\n<p>Here some code:</p>\n\n<pre><code>public function Login_Form()\n{\n    if(isset($_POST['login']))\n        $this-&gt;login($_POST);\n ?&gt;\n&lt;form action=\"&lt;?php $_SERVER['PHP-SELF']; ?&gt;\" method=\"POST\" id=\"form_login\"&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Username&lt;/td&gt;\n        &lt;td&gt;&lt;input type=\"text\" name=\"username\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Password&lt;/td&gt;\n        &lt;td&gt;&lt;input type=\"password\" name=\"password\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;td&gt;&lt;input type=\"submit\" name=\"login\" value=\"Login\" /&gt;&lt;/td&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n &lt;?php\n}\n\nprivate function login($p)\n{\n    // OTTENGO VALORI PASSATI DAL LOGIN FORM\n    $username = mysql_real_escape_string($p['username']);\n    $password = mysql_real_escape_string(md5($p['password']));\n    // CONTROLLO CHE ESISTA L'UTENTE\n    $control = mysql_query(\"SELECT * FROM tareado.user WHERE username='$username' AND password='$password'\");\n    if(mysql_affected_rows() &gt; 0)\n    {\n        while($x = mysql_fetch_array($control))\n        {\n            $id_utente = $x['iduser'];\n            $_SESSION['idutente'] = $id_utente;\n        }\n\n        $_SESSION['username'] = $username;\n        //session_write_close();            \n        header(\"Location: index.php\"); // REDIRECT TO INDEX.PHP, NOW WE ARE IN index.php?a=log\n        //exit();\n\n    }\n    else\n        echo \"Credenziali errate\";\n}\n</code></pre>\n\n<p>I put on the top of index.php SESSION_START(), but I always lose the session.</p>\n\n<p>Which could be the problem? The redirect?</p>\n"},{"tags":["php","mysql","activerecord","yii","many-to-many"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":30,"score":4,"question_id":13277296,"title":"Yii - Multiple relations to the same model","body":"<p>How can I in <code>YII</code> get the related model for each time it has been associated to a given model or at least get a count for how many times it has happened?</p>\n\n<p><strong>The problem:</strong><br>\nI have a table of <strong>Orders</strong> and a table of <strong>Products</strong>.<br>\n<em>Each product is associated to the order 0 or more times</em>.</p>\n\n<p>How do I through the standard relational tool in YII tell how many times a product is on an order?<br>\nI have created a many-to-many relationship through a joint-table and use it to declare my relations</p>\n\n<pre><code>'products'=&gt;array(self::MANY_MANY, 'Product', 'index_order_products(order_id, product_id)')\n</code></pre>\n\n<p>Problem is when I call <em>$order->products</em> it only returns the unique products, not a product for each time it is related.  </p>\n\n<p>I only need to know how many there are of each product on the order, so I've tried</p>\n\n<pre><code>'products'=&gt;array(self::MANY_MANY, 'Product', 'index_order_products(order_id, product_id)', 'select'=&gt;'*, COUNT(product_id) as count', 'group'=&gt;'product_id')\n</code></pre>\n\n<p>But if I then try calling <code>$order-&gt;products[0]-&gt;count</code> it says count hasn't been defined.<br>\nI've managed to circumvent this by creating a empty column count in the database. This way I get the number I need, but surely there must be a better way.  </p>\n\n<p>What would be the correct way of doing something like this in YII?</p>\n"},{"tags":["php","ldap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":185,"score":0,"question_id":8838680,"title":"Ldap Error 500 Issue","body":"<p>I'm trying to migrate a site from a Windows XP/PHP5.2.0/MySQL5.5.8 configuration to a Windows Server 2008/PHP5.3.8/MySQL5.5.8 one.</p>\n\n<p>The database and the index.php page are working fine. But for the login i am using a ldap_connect to get through. And this is when i get the Error 500.</p>\n\n<p>When i do the usual <code>phpinfo();</code> i see that the ldap module is not loaded. Fine i just have to edit my <code>php.ini</code> file, unquote <code>extension_dir = \"ext\"</code> and add <code>extension=php_ldap.dll</code> to it.</p>\n\n<p>But as i am restart my Apache server it crashes adding this entry to the Event journal (i translated it myself since it was in french) : </p>\n\n<pre><code>Name of the failing application httpd.exe, version : 2.2.21.0, timestamp : 0x4e6a3015\nName of the failing module : php5ts.dll, version : 5.3.4.0, timestamp : 0x4d014bae\nException Code : 0xc0000005\nError offset : 0x000e837c\nFailling Process ID : 0x7b8\nStarting time of failing application : 0x01ccd1405a22cca2\nPath to the faulty application : C:\\dev\\tools\\Apache2.2\\bin\\httpd.exe\nPath to the faulty module: C:\\dev\\tools\\PHP\\php5ts.dll\nReport ID : fa7f9585-3d37-11e1-84f3-005056bf005e\n</code></pre>\n\n<p>And i can't find a way to fix that, importing the PHP versions from my Windows XP and getting the latest 5.3.9 or older 5.2.0, nothing seems to work.</p>\n\n<p>I have seen somewhere that on Windows the php.ini is in the C:\\WINDOWS folder, i put a copy in there but php doesn't seem to use it since it always uses the modifications i put in the php.ini in the PHP folder.</p>\n"},{"tags":["php","mysql","database","query","random"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13286782,"title":"how to create two new lists from an existing mysql db in random order in PHP where the elements at the same positions are unequal?","body":"<p>Ok. Let's make it all a little clearer.</p>\n\n<p>What I am trying to do is the following:</p>\n\n<p>I have a table like this one...\n <pre>\n    +---------+--------------------+--------------------------+\n    |    id   |    name            | email                    |\n    +---------+--------------------+--------------------------+\n    | 1       |  karl              | karl@email.com           |\n    +---------+--------------------+--------------------------+\n    | 2       |  fred              | fred@email.com           |\n    +---------+--------------------+--------------------------+\n    | 3       |  christopher       | chris@email.com          |\n    +---------+--------------------+--------------------------+\n </pre></p>\n\n<p>What I want to end up with is a new table like the following:\n <pre>\n    +-----+---------------+---------------------+--------------+--------------------+\n    | id  | name1         | email1              | name2        | email2             |\n    +-----+---------------+---------------------+--------------+--------------------+\n    | 1   | fred          | fred@email.com      | christopher  | chris@email.com    |\n    +-----+---------------+---------------------+--------------+--------------------+\n    | 2   | christopher   | chris@email.com     | karl         | karl@email.com     |\n    +-----+---------------+---------------------+--------------+--------------------+\n    | 3   | karl          | karl@email.com      | fred         | fred@email.com     |\n    +-----+---------------+---------------------+--------------+--------------------+\n </pre></p>\n\n<p>The values are unique horizontally (id[1].name1 != id[1].name2) and vertically (id[1].name1 != id[2].name1).</p>\n\n<p>Therefore, this output should not be possible:</p>\n\n<p><pre>\n    +-----+---------------+---------------------+--------------+--------------------+\n    | id  | name1         | email1              | name2        | email2             |\n    +-----+---------------+---------------------+--------------+--------------------+\n    | 1   | fred          | fred@email.com      | christopher  | chris@email.com    |\n    +-----+---------------+---------------------+--------------+--------------------+\n    | 2   | fred          | fred@email.com      | karl         | karl@email.com     |\n    +-----+---------------+---------------------+--------------+--------------------+\n    | 3   | karl          | karl@email.com      | karl         | karl@email.com     |\n    +-----+---------------+---------------------+--------------+--------------------+\n </pre></p>\n\n<p>How can I achieve this in an easy way?</p>\n"},{"tags":["php","comments"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":516,"score":1,"question_id":7749444,"title":"Open source comment systems","body":"<p>I have a custom php cms managing multiple sites from one path with a wildcard configuration.  I'd like to add a comment system for each unique domain+uri, and am interested in what's currently available before attempting something custom.  Can you recommend any that you're aware of?</p>\n"},{"tags":["php","eclipse","apache","xampp","xdebug"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13286758,"title":"Wrong path in Eclipse PDT","body":"<p>Can someone help me out. I encounter a problem when I run a file (e.g. index.php) to either debug (Xdebug) or just view it in the browser on the development server . Every time when I want to run a file on the test server (XAMPP) Eclipse (PDT) adds the project name (e.g. testproject) after the server name (e.g. <code>http://testproject.dev</code>). Because I have setup a virtual host setup to automatically use a specific path (e.g. <code>http://testproject.dev</code> is linked to <code>http://localhost/testproject</code>) on the server this creates a problem. Eclipse adds the project name and then the URL becomes <code>http://testproject.dev/testproject/index.php</code>.  </p>\n\n<p>This are my configurations:</p>\n\n<p>XAMPP\nhttpd.conf (c:\\xampp\\conf\\httpd.conf)</p>\n\n<pre><code># Virtual hosts\nInclude \"conf/extra/httpd-vhosts.conf\"\n</code></pre>\n\n<p>httpd-vhosts.conf (c:\\xampp\\conf\\extra\\httpd-vhosts.conf)</p>\n\n<pre><code>NameVirtualHost 127.0.0.1\n\n&lt;VirtualHost 127.0.0.1&gt;\nDocumentRoot \"C:/xampp/htdocs/testproject\"\nServerName testproject.dev\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>Windows 7\nWindows vhost file (C:\\Windows\\System32\\drivers\\etc\\hosts)</p>\n\n<pre><code>127.0.0.1 testproject.dev\n</code></pre>\n\n<p>Eclipse\n-> Preferences -> PHP Server</p>\n\n<ul>\n<li><p>Tab \"Server\":  Name: \"Development_Server_Testproject\" URL: <code>http://testproject.dev</code></p></li>\n<li><p>Tab \"Path Mapping\": Path on server <code>http://testproject.dev</code> Path in workspace</p></li>\n</ul>\n\n<p>/testproject</p>\n"},{"tags":["php",".net","ssl","curl","basic-authentication"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13287469,"title":"PHP CURL and ssl authentication basic","body":"<p>I like to get content of file protected with authentication basic and ssl , using this code: </p>\n\n<pre><code>&lt;?php\n\n $ch=curl_init();\n curl_setopt($ch,CURLOPT_URL,'https://webservicexxx.com:60443/services.asmx?WSDL');\ncurl_setopt($ch, CURLOPT_USERPWD, \"MYLOGIN:MYPASSWORD\");\n curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);   // no verify\n curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,5);\n curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);\n $buffer = curl_exec($ch);\n curl_close($ch);\n\n print $buffer;\n\n?&gt;\n</code></pre>\n\n<p>But in the result, on my screen i haven't the content of the file that i woulk like to get, but i have this page :</p>\n\n<pre><code>Erreur HTTP 401.2 - Non autorisé : Accès refusé en raison de la configuration du serveur.\n</code></pre>\n\n<p>That means, that the authentication doesn't work. What can i do to get the content of the file ?</p>\n"},{"tags":["php","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":22,"score":-2,"question_id":13287371,"title":"Create a php date format using datestring","body":"<p>I  have a string like <code>2012-11-08</code>.</p>\n\n<p>I want to convert this string into php date format with time too.</p>\n\n<p>The output should be like </p>\n\n<pre><code> $smv =   date('Y-m-d H:i:s', time());\n print $smv //  2012-11-08 16:05:56  (If we consider India )\n</code></pre>\n\n<p>I tried </p>\n\n<pre><code>$day = '2012-10-08';\necho = date(\"Y-m-d H:i:s\",strtotime($day));\n</code></pre>\n\n<p>But it is printing the date as <code>2012-10-08 00:00:00</code> (current time is not printed).</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":12,"score":-1,"question_id":13287448,"title":"Information on foreign domain displayed on home domain?","body":"<p>In conjunction with this question: <a href=\"http://stackoverflow.com/questions/13282479/use-php-webform-to-request-url\">Use php webform to request URL</a></p>\n\n<p>I'd like to know if it's possible to take data from one webpage, such as:</p>\n\n<p>blablabla.com - available\nblablabla.net - not available    </p>\n\n<p>and have it dynamically displayed on a different domain address?</p>\n\n<p>I am not very familiar with PHP but would like to give visitors to my own site information contained on a different (but directly related) site. </p>\n\n<p>Any help much appreciated. </p>\n"}]}
{"total":298823,"page":6,"pagesize":100,"questions":[{"tags":["php","cakephp"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13283431,"title":"Want to insert data in two tables using one controller file in CakePhp","body":"<p>I want to add data in two tables form one controller file when i call function for add data in second one table ..error comes Error: Call to a member function save() on a non-object </p>\n\n<p>Here is my controller file </p>\n\n<pre><code>&lt;?php\nclass CountryController extends AppController {\n    var $name = 'Country';\n    var $helpers = array('Html', 'Form' );\n\n\n    // called index function \n    public function index() {\n        $this-&gt;render();\n    }\n\n    // Funtion for add countries in database\n    public function addCountry() {\n        if (empty($this-&gt;data)) {\n            $this-&gt;render();\n        } else {\n        //  $this-&gt;cleanUpFields();\n            if ($this-&gt;Country-&gt;save($this-&gt;data)) {\n                $this-&gt;Session-&gt;setFlash('The Counrty has been saved');\n                $this-&gt;redirect('/country/index');\n            } else {\n                $this-&gt;Session-&gt;setFlash('Please correct errors below.');\n            }\n        }\n    }\n\n    public function addCity() {\n        $cities = $this-&gt;set('country', $this-&gt;Country-&gt;find('all'));\n        $this-&gt;set(compact('cities'));\n        if(empty($this-&gt;data)){\n            $this-&gt;render();\n        } else {\n            print_r($this-&gt;data);// die();\n            if ($this-&gt;City-&gt;save($this-&gt;data)) {\n                $this-&gt;Session-&gt;setFlash('The City has been saved');\n                $this-&gt;redirect('/country/index');\n            } else {\n                $this-&gt;Session-&gt;setFlash('Please correct errors below.');\n            }\n        }\n    }\n\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","image","excel","graph","highcharts"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":216,"score":2,"question_id":11425862,"title":"Export HighChart as an image in excel file together with the other page contents","body":"<p>Export HighChart as an image in excel file together with the other page contents like tables, text, etc..When I click the export button the whole Page content will be save as excel file via header but instead of exporting all page content to excel file it excludes the HighChart Graph. I think the solution is to export the graph as image in excel but I dont have any idea how to that. Is there anyone know how to do it or have any idea how to solve this problem? Thanks in advance guys :)</p>\n"},{"tags":["php","drupal","module","drupal-7","drupal-modules"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13286983,"title":"How to get all the menu items below a certain parent in drupal 7?","body":"<p>I am currently working on a module that finds out the parent menu item by url path then displays the current tree structure of that related menu by finding the top parent and most important only displaying that menu item and submenus from within that menu.</p>\n\n<p>A simple solution would be having a foreach loop thru all items or an array with all items as keys.</p>\n\n<pre><code>path = '/system/menu/submenu';\nparent = 'system';\noutput = parent + parent submenus.\n</code></pre>\n\n<p>All menu items in \"Custom menu\":</p>\n\n<pre><code>- System\n   - Menu wrapper\n     - SubMenu 1A\n     - SubMenu 2A\n     - SubMenu 3A    \n- Main\n  - SubMenu 1B\n  - SubMenu 2B\n  - SubChildMenu 3B\n</code></pre>\n\n<p>PHP code should return this:</p>\n\n<pre><code>- System\n   - Menu wrapper\n     - SubMenu 1A\n     - SubMenu 2A\n     - SubMenu 3A    \n</code></pre>\n\n<p>My code (currently not working):</p>\n\n<pre><code> $menu = menu_tree('my-custom-menu');\n return = theme('my_custom_menu', array('system' =&gt; $menu_tree));\n</code></pre>\n\n<p>Notice: This needs to be php code and php code only, all other modules does not support this only thru manual selection. The content is displayed thru a block.</p>\n\n<blockquote>\n  <p>\"For the navigation, Drupal will call <strong>menu_tree_page_data</strong> via\n  <strong>menu_navigation_links</strong> which will only return a single level of links.\n  You can follow this function up to menu_main_menu and then\n  template_preprocess_page before it (which is how it ends up as a\n  variable in page.tpl.php)</p>\n  \n  <p>However, if you insert a menu as a <strong>block menu_tree_page_data</strong> is\n  called by <strong>menu_tree</strong> (which calls <strong>menu_tree_output</strong> immediately after\n  which does some additional work to the array for the final markup.)\n  After both have run you have your whole menu tree available as an\n  array which I then ran through some custom PHP code to loop through\n  the array and render it into an HTML list.\"</p>\n</blockquote>\n\n<p>People have asked this before but i've tried their solutions and no success probable cause would be those questions is for drupal 6. I'm currently working with drupal 7.</p>\n\n<p>Your help is very much appreciated, thanks...</p>\n\n<p>Related questions:</p>\n\n<hr>\n\n<p><a href=\"http://stackoverflow.com/questions/5218861/restrict-menu-tree-to-first-level\">Restrict menu tree to first level</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/2716787/how-to-get-all-the-menu-items-below-a-certain-parent-in-drupal\">how to get all the menu items below a certain parent in drupal?</a></p>\n\n<p><a href=\"http://drupal.stackexchange.com/questions/28654/how-to-display-submenus-separate-from-their-menu-tree-in-drupal-7\">http://drupal.stackexchange.com/questions/28654/how-to-display-submenus-separate-from-their-menu-tree-in-drupal-7</a></p>\n\n<p><a href=\"http://drupal.stackexchange.com/questions/30112/displaying-a-menus-child-links\">http://drupal.stackexchange.com/questions/30112/displaying-a-menus-child-links</a></p>\n"},{"tags":["php","mysql","search","sphinx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13287225,"title":"Sphinx Search - Where condition for attributes","body":"<pre><code>sql_attr_multi = uint categories from query; SELECT item_id, category_id FROM items_categories WHERE value=2\n</code></pre>\n\n<p>How could I proceed to <strong>pass the value</strong> variable through the <strong>sphinxapi</strong>? I need it to <strong>filter</strong> the <strong>attr</strong> and I <strong>can`t use setFilter</strong>.</p>\n\n<p>Thanks</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1808,"score":0,"question_id":5450713,"title":"Getting complete PATH of uploaded file - PHP","body":"<p>I have a form(HTML, PHP) that lets the end user upload a file to update the database(MySQL) with the records in the uploaded file(specifically .csv). However, in the phpscript, I can only get the filename and not the complete path of the file specificed. fopen() fails due to this reason. Can anyone please let me know how I can work on finding the complete path?</p>\n\n<p>HTML Code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form method=\"POST\" action=\"upload.php\" enctype=\"multipart/form-data\"&gt;\n    &lt;p&gt;File to upload : &lt;input type =\"file\" name = \"UploadFileName\"&gt;&lt;/p&gt;&lt;br /&gt;\n    &lt;input type = \"submit\" name = \"Submit\" value = \"Press THIS to upload\"&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>PHP Script:</p>\n\n<pre><code>&lt;?php\n   .....\n......\n   $handle = fopen($_FILES[\"UploadFileName\"][\"name\"], \"r\"); # fopen(test.csv) [function.fopen]: failed to open stream: No such file or directory\n?&gt;\n</code></pre>\n"},{"tags":["php","pdf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13286689,"title":"PHP function pdf_open","body":"<p>I copied php's sources from a debian server to a windows environment (with wamp). There is a couple of calls to pdf_open a function which isn't declare anywhere, even not in an included library. \nI'd like to make this code work on my environemnt but google researches didn't get me any answer.\nMaybe it is a PHP version issue since the debian runs PHP 4 and I have PHP 5.3 on local ?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","shopping-cart","shopping"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":18,"score":-2,"question_id":13287202,"title":"Is it possible to set a different price only for the second item in the shopping cart - php?","body":"<p>Could any one please help me to find out how to set a different price only for a second item</p>\n\n<p>in the shopping cart.Other items in the cart has the same price.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":8200527,"title":"How do I insert a value in between two keys in an array using php?","body":"<p>I have an array with 3 values:</p>\n\n<pre><code>$b = array('A','B','C');\n</code></pre>\n\n<p>This is what the original array looks like:</p>\n\n<blockquote>\n  <p>Array ( [0] => A [1] => B [2] => C )</p>\n</blockquote>\n\n<p>I would like to insert a specific value(For example, the letter 'X') at the position between the first and second key, and then shift all the values following it down one. So in effect it would become the 2nd value, the 2nd would become the 3rd, and the 3rd would become the 4th.</p>\n\n<p>This is what the array should look like afterward:</p>\n\n<blockquote>\n  <p>Array ( [0] => A [1] => X [2] => B [3] => C )</p>\n</blockquote>\n\n<p>How do I insert a value in between two keys in an array using php?</p>\n"},{"tags":["php","windows","command-line"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13286403,"title":"how to run my php file from command line","body":"<p>I would like my code to run in the command line (cmd) and then output the result to a text file. The text file should then contain 'hello world'.</p>\n\n<p>I tried</p>\n\n<pre><code>C:\\wamp\\bin\\php\\php5.3.13&gt;php.exe -f \"C:\\wamp\\www\\hello.php\"\n</code></pre>\n"},{"tags":["php","forms","post","paypal","ipn"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13287063,"title":"A solution for payments using php and paypal and store in a mysql db?","body":"<p>I looking for a solution for visitors to pay using Paypal for setup there ads on my website.\nI want when the visitor has fill in the form (POST) and then click on the Paypal Button they will leave my site to the Paypal site for pay and after a successful payment redirect to my thanks page like thanks.php and all information in the form will be stored in a mysql db.</p>\n\n<p>I have looked at the code example at the Paypal Developer site for Paypal (IPN), i don´t now if that is right solution to do?.</p>\n\n<p>i don´t actually know how the form will be stored in the db after a successfull payment using Paypal? Please can someone help me some code example how i can store the form inputs like name, email, adsinfo, price and a image to the db after the payment?.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","thumbnails"],"answer_count":5,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":604,"score":1,"question_id":531202,"title":"PHP Thumbnails","body":"<p>I was looking at a way to dynamically create thumbnails using PHP and GD but everytime i select a large image maybe 10MegaPixels about 4-5MB it gives the error</p>\n\n<pre><code>**images/Surabhi_Cow.jpgimages/tn/Surabhi_Cow.jpg\nFatal error: Allowed memory size of 31457280 bytes exhausted (tried to allocate 10368 bytes) in C:\\Program Files\\xampp\\htdocs\\MySite\\Staff\\test.php on line 51**\n</code></pre>\n\n<p>Changing the memory_limit in php.ini to 60 does the trick but my host only allows the memory_limit to 32M. What other options do I have to generate thumbnails on the fly?\nI checked phpThumb() but don't really get it. So any other options are welcome!</p>\n"},{"tags":["php","javascript","jquery","html5","css3"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13284756,"title":"Login Button similar to dropbox using images","body":"<p>I am currently trying to create a login button that is similar to that of dropbox. There is another <a href=\"http://stackoverflow.com/questions/8372525/how-to-do-dropbox-like-login-button\">thread</a> available on how to do this, but I wish to do it differently. Note I tried to follow the code provided in that thread as close as I can, but it was a failed attempt.</p>\n\n<p><strong>Rather than having a link written in text, my button refers to a link through an image. Furthermore, when the button is pressed, I want another image to popup right below it</strong>.</p>\n\n<p>Here is my code:</p>\n\n<p>html/ jquery /php code:                   </p>\n\n<pre><code>echo '&lt;div id = popup&gt;';\n  echo '&lt;a href=\"#\" id =\"logbutton\"&gt;&lt;/a&gt;';\n  echo '&lt;div id = \"popupimage\"&gt; &lt;/div&gt;';\necho '&lt;/div&gt;';\n\necho '&lt;script type=\"text/javascript src=\"jquery.js\"&gt;';\necho '$(\"#popup\").click(function(e){ \n$(\"#popupimage\").css(\"visibility\",\"visible\");\ne.stopPropagation();\n});';\necho '&lt;/script&gt;';\n</code></pre>\n\n<p>css code:</p>\n\n<pre><code>#logbutton{\n    top:50px;\n    left:850px;\n    position: absolute;\n    background-image: url(../images/buttons/loginbutton.png);\n    width:59px; \n    height:28px;   \n}\n\n#popupimage{\n    top:63px;\n    left:887px;\n    position: absolute;\n    background-image: url(../images/popupimage.png);\n    visibility: hidden;\n    width:400px; \n    height:600px;   \n}\n</code></pre>\n\n<p>If possible I would also like to know if this can be done using html 5 and css only?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13286695,"title":"Simple URL Rewrite with wildcard subdomain","body":"<p>I want to have unique subdomain address for every user like http://*.mywebsite.com where * can be any username like xyz, abc, john, deo etc.</p>\n\n<p>I want that whenever somebody opens the url like <a href=\"http://aswt.mywebsite.com\" rel=\"nofollow\">http://aswt.mywebsite.com</a>, its gets redirected to <a href=\"http://www.mywebsite.com/panels/users/index.php?subdomain=aswt\" rel=\"nofollow\">http://www.mywebsite.com/panels/users/index.php?subdomain=aswt</a>.</p>\n\n<p>Please help me in implement it as I am newbie with url rewriting. I do have tried searching on google and stack overflow but didnt found anything similarly to me or easy to use.</p>\n"},{"tags":["php","google-analytics","google-api"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":12053392,"title":"Pulling in Google Analytics data without authenticating as a user","body":"<p>I would like to pull in data from Google analytics for visits per day over the last month and show it on the dashboard of the CMS I am building.</p>\n\n<p>The problem is it seems you have to use Oauth2. I don't want to authenticate as a user as I want the information available to all users logging in. Whats the best way to accomplish what I am after? </p>\n\n<p>I only require read access and only need simple stats.</p>\n\n<p>I may also have multiple versions of this CMS running, would I need to register each one in the Google API console?</p>\n"},{"tags":["php","mysql","arrays"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13254645,"title":"adding elements at identical keys in multiple multidimensional arrays","body":"<p>I'm trying to do a web application with php and MySQL that can graph the estimate effort of a person based on the data stored in the data base</p>\n\n<pre><code>$luna_start = date('n',  strtotime($row_task['data_i']));\n$luna_end   = date('n',  strtotime($row_task['data_s']));\n$luna_curenta=$luna_start;\n$ultimazi_luna_curenta=  cal_days_in_month(CAL_GREGORIAN, $luna_curenta,\"2012\");\nwhile ($luna_curenta&lt;=$luna_end){\n//construieste vectorul\n    for ($i = 1; $i &lt;= $ultimazi_luna_curenta; $i++) {\n        $data_curenta=  date(\"Y-m-d\", mktime(0, 0, 0, $luna_curenta, $i, 2012));\n        if (($data_curenta&gt;=$row_task['data_i'])&amp;&amp;($data_curenta&lt;=$row_task['data_s'])){\n            $efort_a['a'.$row_task['task_id']][$data_curenta]=$efort_mediu;\n        }\n    }\n$luna_curenta++;\n}\n</code></pre>\n\n<p>all that trouble for getting an array so that i can graph. the array $efort_a looks like this:</p>\n\n<pre><code>Array(\n   [a19] =&gt; Array(\n        [2012-09-20] =&gt; 2.84\n        [2012-09-21] =&gt; 2.84\n       .......\n        [2012-10-21] =&gt; 2.84\n        [2012-10-22] =&gt; 2.84\n    )\n\n[a22] =&gt; Array\n    (\n        [2012-10-01] =&gt; 0.1\n        [2012-10-02] =&gt; 0.1\n       .....\n        [2012-11-05] =&gt; 0.1\n        [2012-11-06] =&gt; 0.1\n        [2012-11-07] =&gt; 0.1\n      ......\n        [2012-11-25] =&gt; 0.1\n      ......\n        [2012-11-30] =&gt; 0.1\n    )\n\n[a16] =&gt; Array\n    (\n        [2012-10-08] =&gt; 4\n        [2012-10-09] =&gt; 4\n        [2012-10-10] =&gt; 4\n        [2012-10-11] =&gt; 4\n       ......\n        [2012-10-18] =&gt; 4\n        [2012-10-19] =&gt; 4\n    )\n\n)\n</code></pre>\n\n<p>further more I'm doing a little more array processing.</p>\n\n<pre><code>extract($efort_a);\n$graf_data=  array_add($a19,$a22,$a16);\n$data = new GoogleChartData($graf_data);\n$chart-&gt;addData($data);\n</code></pre>\n\n<p>the problem with all this code is that it isn't a dynamic one. the arrays a19, a22, a16 are named statically and in this particular case the user had only 3 tasks (task id 19, 22 and 16) ... but what if the user has multiple tasks ?.</p>\n\n<ol>\n<li>so the questions is can this code be reorganized, maybe as a function i don't know how, to be a dynamic one ?</li>\n<li>could it be possible to do a function that graph's all the users effort (one graph, multiple lines- one for each user)</li>\n</ol>\n\n<p>ps: the function to do the adding of arrays based on keys is:</p>\n\n<pre><code> function array_add($a1, $a2) {\n            // adds the values at identical keys together\n            $aRes = $a1;\n            foreach (array_slice(func_get_args(), 1) as $aRay) {\n              foreach (array_intersect_key($aRay, $aRes) as $key =&gt; $val) $aRes[$key] += $val;\n              $aRes += $aRay; \n             }\n            return $aRes;\n    }\n</code></pre>\n\n<p>========================================= day 2 =======================</p>\n\n<p>after some thinking i thought to give another try... so in order to name the keys of array effort_a dynamically i need to know where to stop with the incrementation so :</p>\n\n<pre><code>$sql_nrtask='SELECT *, COUNT(user) AS nr_task\n                FROM task\n                WHERE user=\"ASD\"\n                ORDER BY data_i ASC\n               ';\n    $query_nrtask=  mysql_query($sql_nrtask) or die ('rrr');\n    while ($row_nrtask=  mysql_fetch_array($query_nrtask)) {\n        $nr_task=$row_nrtask['nr_task']; // no we know how many sub-arrays we'll have\n    }\nfor ($j++;$j&lt;=$nr_task;$j++){\nwhile ($luna_curenta&lt;=$luna_end){\n            //construieste vectorul\n            for ($i = 1; $i &lt;= $ultimazi_luna_curenta; $i++) {\n                $data_curenta=  date(\"Y-m-d\", mktime(0, 0, 0, $luna_curenta, $i, 2012));\n                if (($data_curenta&gt;=$row_task['data_i'])&amp;&amp;($data_curenta&lt;=$row_task['data_s'])){\n                    $efort_a['$a'.$j][$data_curenta]=$efort_mediu;\n                }\n            }\n            $luna_curenta++;\n        }\n}     \n</code></pre>\n\n<p>the problem is know that i don't know hot to merge the arrays within $efort_a with 2 conditions:</p>\n\n<ul>\n<li>keeping indexes where they are the same and adding values </li>\n<li>adding a new index where it is a new element </li>\n</ul>\n"},{"tags":["php","doctrine","symfony-1.4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13286515,"title":"Symfony: where should i put business logic in models?","body":"<p>Suppose I have this models </p>\n\n<ul>\n<li>User.class.php</li>\n<li>userTable.class.php</li>\n</ul>\n\n<p>I want to create a method to update the user </p>\n\n<p>Action</p>\n\n<pre><code>class userActions extends sfActions {\n\npublic function executeUpdateUser(sfWebRequest $request) {\n     $user_id = $request-&gt;getParameter('id');\n     // here i want to call function to update the user \n     // updateUser($id);\n}\n</code></pre>\n\n<p>Where should I put this function <code>updateUser($id)</code> ?</p>\n\n<p>ON <code>user.class.php</code> --> And call it like that <code>User::updateUser($id);</code></p>\n\n<p>OR ON <code>userTable.class.php</code> --> And call it like that <code>Doctrine_Core::getTable('User')-&gt;updateUser($id);</code></p>\n"},{"tags":["php"],"answer_count":8,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":724,"score":2,"question_id":1525528,"title":"how to make thumbnails with php","body":"<p>I was just wondering how I can make thumbnails of images stored in hdd and use them in an html page, also I need the thumbnails to be able to enlarge (to their original size) if clicked on preferably inside  a div tag on the same page, I would appreciate if anyone could put me in the right direction</p>\n\n<p>thanks</p>\n"},{"tags":["php","nginx","amazon-ec2","php.ini","ec2-ami"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13272964,"title":"Cannot change upload_max_filesize or post_max_size in php.ini","body":"<p>Bear in mind, I am no sysadmin, I am just a developer. I cannot find anyone with the <em>exact</em> problem as me, just similar, and none of their \"fixes\" seem to work.</p>\n\n<p>I am currently running an Amazon EC2 instance running.</p>\n\n<pre><code>CentOS 6.2\nNginx 1.2.2\nPHP 5.3.16 with APC\nPercona 5.5.24 // not currently using this as I am using an RDS\n</code></pre>\n\n<p>I have set my php.ini (/etc/php.ini) settings to the following</p>\n\n<pre><code>upload_max_filesize=10M\npost_max_filesize=20M\n</code></pre>\n\n<p>After reloading the config, using <code>php -i</code> via ssh, these settings seemed to be loaded. Showing <code>upload_max_filesize=10M</code>, etc.</p>\n\n<p>When using <code>phpinfo()</code> or <code>ini_get</code>, both options are returned as <code>4M</code></p>\n\n<p><code>phpinfo()</code> indicates that the file I am editing is the one loaded (<code>/etc/php.ini</code>).</p>\n\n<p>I have also run <code>php -i | grep \"\\.ini\"</code> to check which files are loaded, and there are no unnecessary loaded configs. I even went through each loaded file individually to check they didn't have the settings inside.</p>\n\n<p>Additionally, I have been suggested to try using a <code>.user.ini</code> config file. This did not change the values either.</p>\n\n<p><code>ini_set()</code> does not work either.</p>\n\n<p>I'm at a bit of a loss.</p>\n\n<p>EDIT: not sure this will help, but I am using this AMI <a href=\"http://megumi-cloud.com/\" rel=\"nofollow\">http://megumi-cloud.com/</a></p>\n"},{"tags":["php","arrays"],"answer_count":6,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":3649,"score":6,"question_id":4792673,"title":"PHP get previous array element knowing current array key","body":"<p>I have an array with specific keys:</p>\n\n<pre><code>array(\n    420 =&gt; array(...), \n    430 =&gt; array(...), \n    555 =&gt; array(...)\n)\n</code></pre>\n\n<p>In my application I know current key (for example <code>555</code>). And I want to get the previous array element. In this example it is array element with key <code>430</code>. How can I do this in PHP? I tried to work with <code>prev()</code>, but for this function we should know current array element. I didn't find function, what set the current array element. Help me.<br/><br/>Thank you in advance. Sorry for my english.</p>\n"},{"tags":["php","facebook","sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13285993,"title":"facebook->getUser return null with nginx","body":"<p>I'm use nginx as a Reverse Proxy:</p>\n\n<pre><code>location /facebook/\n{\n\n    proxy_pass  http://upload  #this is an nother server;\n    proxy_redirect off;\n}\n</code></pre>\n\n<p>and my code:</p>\n\n<pre><code>$facebook = new Facebook(array(\n 'appId'  =&gt; \"xx\", \n 'secret' =&gt; \"xxxxxxxx\", \n));\n\n\n$user = $facebook-&gt;getUser();\n\n\nif ($user){\n    $user_profile = $facebook-&gt;api('/me');\n    var_dump($user_profile);\n}\n\nelse\n{\n\n    $url=$facebook-&gt;getLoginUrl( array( 'scope' =&gt; $req_perms) );\n    //if I used nginx I must change redirect_uri \n    $url = str_replace('http%3A%2F%2Fupload%2F', 'http%3A%2F%2F'. $mydomian .'%2F',$url);\n    header(\"Location:\".$url);\n}\n</code></pre>\n\n<p>If I do not use nginx as Reverse Proxy,it works fine, but if I use it, it creates an endless loop because <code>$facebook-&gt;getUser()</code> returns 0. I have no idea what the problem is.</p>\n"},{"tags":["php","curl","wamp"],"answer_count":3,"favorite_count":6,"up_vote_count":23,"down_vote_count":0,"view_count":7648,"score":23,"question_id":10939248,"title":"PHP CURL not working - WAMP on Windows 7 64 bit","body":"<p>I got my wamp installed on my windows 7 64bit. \ncURL is not working still even i got it enable from the wamp tray.</p>\n\n<p>i have also uncommented extension=php_curl.dll in php.ini for both php and apache folder.</p>\n\n<p>windows give me an error message \"PHP Startup: unable to load dynamic library 'c:/wamp/bin/php/php5.4.3/ext/php_curl.dll'-the application has failed to start because its side-bysiede configuration is incorrect. please see the application event log or use the command-lin sxstrace.exe tool for more detail.\"</p>\n\n<p>anyone please help, i tried everything from google. still cannot find a solution.</p>\n"},{"tags":["php"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13285937,"title":"Get POST variable using wildcard or regex","body":"<p>How to get POST variable using regex like this:</p>\n\n<pre><code>$var = $_POST['foo?'];\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$var = $_POST['foo\\w{1}'];\n</code></pre>\n\n<p>Edit:</p>\n\n<p>My form has many buttons with separate names: file1, file2, file3. When pressing a button, of course it pass file1 or file2, ... I want to get the value using that name.</p>\n"},{"tags":["php","javascript","jquery","cakephp-2.0"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":51,"score":3,"question_id":13286247,"title":"javascript window.open is not working in IE","body":"<p>I want link to be open in new window but when i click on write_review in IE it is opening in new tab.\nI have checked for spaces in the arguments which are causing the problem. But no problem with that.</p>\n\n<p>I have checked on URL :- <a href=\"http://stackoverflow.com/questions/888964/javascript-window-open-is-blocked-by-ie-popup-blocker\">Javascript window.open is blocked by IE popup blocker</a></p>\n\n<p>But its not working for me..</p>\n\n<p>This is my working code in another browser.</p>\n\n<pre><code>    // Opening pop-up window for the write review\n    jQuery('a#write_review').click(function() {\n        var w = 1000;\n        var h = 650;\n        var left = (screen.width/2)-(w/2);\n        var top = (screen.height/2)-(h/2);\n        var planid=$(this).parent().parent().find('input[name=\"data[PlanIdsel]\"]').val();\n        var providerid=$(this).parent().parent().find('input[name=\"data[ProviderIdsel]\"]').val();\n        var rep=$(this).parent().parent().find('input[name=\"data[Repsel]\"]').val();\n        var url = \"&lt;?php echo $this-&gt;webroot ?&gt;\"+\"enrollments/write_rating/\"+planid+\"?Rep=\"+rep+\"&amp;providerId=\"+providerid;\n        window.open(url, 'subWind', 'status, scrollbars, resizable, dependent, width='+w+', height='+h+', left='+left+', top='+top);\n    });\n</code></pre>\n\n<p>Please guide me or correct me..</p>\n"},{"tags":["php","javascript","performance","html5"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13205729,"title":"Optimum way to insert external html content HTML5 compliant? php vs HTML5 vs javascript methods","body":"<p>I know how simple this probably seems to you gurus, but I have been searching for over an hour to no avail...</p>\n\n<p>Goal:  Use a single footer file and menu file for all my webpages.  Taking into account blocking, speed, etc.  The content of my menu is pure html/css and the content of my footer is pure html/css.  Would the optimal solution change based on the content being injected?  e.g.  If videos, jscript, etc. were involved.</p>\n\n<p>Two part question:\n1)  Which method is optimal?  Some kind of php include, using the  tag, using jscript, etc.\n2)  How precisely is this achieved keeping HTML 5 standards?  i.e.  For the php method to work, does my calling webpage need to be .php and then does that make the HTML5 standard a moot point?  e.g.  If I want to inject footer.php into index.html, does my index file also have to be .php?  Similarly for the  tag, can the external file be an .html file(I don't like the idea of reloading all the header information with .css calls) or should it be .php?  </p>\n\n<p>Within the index.html file I have tried the following:</p>\n\n<pre><code>&lt;object id=\"footerArea\" width=\"100%\" height=\"20%\" \n  type=\"text/html\" data=\"footer.html\"&gt;\n&lt;/object&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;?php include 'footer.php' ?&gt;\n</code></pre>\n\n<p>Neither of these seem to work for me.</p>\n\n<p>In case you are wondering...  Here is the code for my footer I am trying to inject with sample data to make it shorter and easier to read:</p>\n\n<pre><code>&lt;div class=\"footer box\"&gt;\n&lt;p class=\"f-right t-right\"&gt;\n &lt;a href=\"#\"&gt;www.mysite.com&lt;/a&gt;&lt;br /&gt;\n  Address: Medford, OR&lt;br /&gt;\n  Phone: (541) 555-5555\n&lt;/p&gt;\n\n&lt;p class=\"f-left\"&gt;\n Copyright &amp;copy;&amp;nbsp;2011 &lt;a href=\"#\"&gt;My Name&lt;/a&gt;&lt;br /&gt;\n&lt;/p&gt;\n\n&lt;p class=\"f-left\" style=\"margin-left:20px;\"&gt;\n &lt;a href=\"http://sampleurl.com\" target=\"_blank\"&gt;\n  &lt;img style=\"border:0;width:88px;height:31px\"\n   src=\"http://sampleurl.com\"\n   alt=\"Valid CSS3!\" /&gt;\n &lt;/a&gt;\n&lt;/p&gt;\n\n&lt;p class=\"f-left\" style=\"margin-left:20px;\"&gt;\n &lt;a href=\"http://sampleurl\" target=\"_blank\"&gt;\n &lt;img src=\"http://sample.png\" width=\"228\" height=\"50\" alt=\"sample alt\" title=\"sample title\"&gt;\n &lt;/a&gt;\n&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Please excuse my formatting.  I am still new to posting code in forums.  I tried my best :)</p>\n"},{"tags":["php","netbeans"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":15,"score":-2,"question_id":13286680,"title":"Netbeans 7.2.1 - Ctrl + Click on method does not work (should go to declaration)","body":"<p>Using Netbeans 7.2.1, Ctrl+Click on method does not work (should go to declaration) and also the code suggestions are not working.</p>\n"},{"tags":["php","jquery","screenshot","thumbnails","generate"],"answer_count":7,"favorite_count":6,"up_vote_count":3,"down_vote_count":0,"view_count":6837,"score":3,"question_id":4550947,"title":"generating a screenshot of a website using jquery","body":"<p>I would like to generate a screenshot thumbnail of any given url using strictly javascript.  If this can't be done can anyone point me in the right direction to do this with my own api?</p>\n\n<p>edit I just decided to cheat and use frames because it was for something I was doing for fun anyway, but thanks for all the great answers khtmltox is probably the best choice if you want to do something like this... they also have php bindings aswell.</p>\n"},{"tags":["php"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13286387,"title":"replacing quote in php","body":"<p>I want to replace <code>“</code> and <code>”</code> characters with the caharacter <code>\"</code> in php . I have written as follow but it doesn't change. How can I do this ?</p>\n\n<pre><code>$temp=str_replace(\"”\",\"\\\"\",$temp);\n$temp=str_replace(\"“\",\"\\\"\",$temp);\n</code></pre>\n"},{"tags":["php","barcode","barcode-scanner","php-gd","barcode-printing"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":30,"score":-2,"question_id":13284074,"title":"Barcode generation and decoding in PHP","body":"<p>I need to develop a PHP application that will be generating barcodes and also will have the ability to read those barcodes back.</p>\n\n<p>As my application will be a web based application and underlying technology is PHP which is a server side scripting language, I am feeling that barcode generation will not be an issue but the scanning and reading those barcodes may be a challenge.</p>\n"},{"tags":["php","jquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13286624,"title":"Do not getting all POST value in jquery.dataTables.js paging","body":"<p>Hello friends I have used the jquery.dataTables.js for paging... but when I am going to submit the from.. getting only current page $_POST values instead of all $_POST value... and when I am going to check view page source there are all inputs are available, any one can help me...</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13285894,"title":"Retrieve the extension of the URL","body":"<p>I want to hit a url: <a href=\"http://www.blahblah.com/on/demand\" rel=\"nofollow\">http://www.blahblah.com/on/demand</a>\nAfter each hit the aforementioned url will generate an extension.\ni.e. <a href=\"http://www.blahblah.com/on/demand/C1212\" rel=\"nofollow\">http://www.blahblah.com/on/demand/C1212</a>\nSo, that I want to do is to take the generated extension(C1212)\nI have no idea how can I do this. Does anyone know how can \nI do this with PHP?or knows a tutorial?</p>\n"},{"tags":["php","wordpress","wordpress-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13286467,"title":"wordpress wp_http class - data size big - error","body":"<p>My wordpress plugin sends data as postrequest using WP_HTTP class of wordpress . </p>\n\n<pre><code>  $myreq = new WP_Http;   \n  $myres = $myreq-&gt;request(\"url\", array('method' =&gt; \"POST\", 'body' =&gt; $mydata, 'timeout' =&gt; 'some value') );\n</code></pre>\n\n<p>Above code working fine when data size is small.When data size is large, it is throwing error. How can I know whether the error is just because of large size programatically ? Also what is the remedy? Do I have to ask the user to change his settings so that the required amount of data can be sent as post data ? Or Is there anything that can be done in plugin to allow posting more amount of data ?</p>\n"},{"tags":["php","phpunit","phpstorm","composer-php"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":199,"score":1,"question_id":12814263,"title":"PHPUnit via Composer and phpstorm","body":"<p>I'm now trying for hours to setup phpstorm for unit testing. Whatever I do, I get this</p>\n\n<pre><code>Process finished with exit code 1\nCannot find PHPUnit in include path ...\n</code></pre>\n\n<p>phpunit is (via commandline) asseccible from anywhere; I've set the correct include path and have added phpunit to the external libraries. No chance.</p>\n\n<p>Is it possible at all or does it only work with installations via pear? I've worked through all related questions here, am on mac and phpunit is running smoothly cia cli.</p>\n"},{"tags":["php","mysql","login","hotmail"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13286563,"title":"PHP Oauth API to login via Hotmail Account","body":"<p>Like a facebook , twitter, yahoo accounts, how we can login via MSN/Hotmail account instead to register for a new account? to get the username and save the data behalf this name, using <code>php/mysql</code>?</p>\n\n<p>Thank you for your suggestions.</p>\n"},{"tags":["php","database","set","sql-update"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13285746,"title":"How to Update Set from either a Text Input or a Dropdown","body":"<p>I have a drop down where users can select a part and update the database by either adding or removing parts by selecting the quantity via another drop down, and then choosing either the add or remove button. I'm attempting to implement a text input where users can scan the part number in rather than manually select from the drop down each time and I would like to allow for the use of either but not both</p>\n\n<pre><code>    $dropdown_contents = $_POST['drop'];\n    $part_no_from_form = $_POST['partnumber'];\n    $query =\"UPDATE inventory SET quantity = quantity + '\".$dropdown_contents.\"'  WHERE partnumber = '\".$part_no_from_form .\"'\";\n</code></pre>\n\n<p>I'm guessing I need to use an OR operator and possibly an IF statement to Update Set with either the text input or the drop down, I've made several attempts myself, either I'm just completely off base or there are syntax errors but I've been unsuccessful thus far. I'm back because I'm sure this is just another absolute beginner question with a simple solution. Any assistance is appreciated. Thanks!!</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1009,"score":0,"question_id":9767949,"title":"How to get the email address of a Facebook user using the graph API?","body":"<p>I have read through <a href=\"http://stackoverflow.com/questions/3611682/facebook-graph-api-how-to-get-users-email\">this post</a> over and over, and yet it doesn't make sense to me.</p>\n\n<p>What I am trying to do is acquire a Facebook user's email address so that I can store it in a string and compare to see if it matches the emails of existing users in my MySQL database. I only need to to do this when the user first grants access rights to the app.</p>\n\n<p>In the \"Authenticated Referrals\" section of my app developer interface, I have set \"User &amp; Friend Permissions\" to include \"email\".</p>\n\n<p>Within the \"canvas\" area of my site, I have this code:</p>\n\n<pre><code>include('facebook/base_facebook.php');\ninclude('facebook/facebook.php');\n$facebook = new Facebook(array(\n    'appId'  =&gt; \"XXXXXXXXXXXXXXX\",\n    'secret' =&gt; \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\",\n));\n$user = $facebook-&gt;getUser();\nif ($user)\n{\n    try {\n        $user_profile = $facebook-&gt;api('/me');\n    } catch (FacebookApiException $e) {\n        $user = null;\n    }\n}\n</code></pre>\n\n<p>If I var_dup() $user, I can see the user id (though not much else) which seems to be correct, so I believe I'm connecting to the right place on Facebook.</p>\n\n<p>But then there was <a href=\"http://stackoverflow.com/questions/3611682/facebook-graph-api-how-to-get-users-email#comment3792810_3611781\">this suggested line of code</a>, which implies that it returns an email address, but when I echo it out to see what it looks like, it doesn't return an email address: </p>\n\n<pre><code>echo \"&lt;br/&gt;\" . $facebook-&gt;getLoginUrl(array('req_perms' =&gt; 'email'));\n</code></pre>\n\n<p>I kind of thought it wouldn't, as it doesn't look quite right to me, but on the other hand, I just have no idea what else to do with it or where to put it.</p>\n\n<p>And then I also came across <a href=\"http://stackoverflow.com/questions/4072819/how-to-get-the-user-email-address-in-facebook-facebook-connect-or-graph-api\">this post</a>, which has code mixed in with the HTML in a way that baffles me even further.</p>\n\n<p>Assuming that my user has granted permission for my app to see their email, isn't there a simple way of getting at it? Something an inexperienced programmer like myself can grasp?</p>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":32,"score":-1,"question_id":13283198,"title":"PHP loading a view manually","body":"<p>I am deciding to have a little go at MVC without using a defined/commercial framework. I can handle creating models and controllers. The views are basic html in my case. The only thing I can't see a way of creating is when controller loads a view. </p>\n\n<p>In codeigniter for example I would use this: <code>$this-&gt;load-&gt;view('view_name');</code></p>\n\n<p>but if I am creating this feature, how would it be? </p>\n\n<p>p.s. any illustrating code would be greatly appreciated.</p>\n"},{"tags":["php","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":4527,"score":5,"question_id":6788472,"title":"Setting width of spreadsheet cell using PHPExcel","body":"<p>I'm trying to set the width of a cell in an Excel document generated with PHPExcel with:</p>\n\n<pre><code>$objPHPExcel-&gt;getActiveSheet()-&gt;getColumnDimensionByColumn('C')-&gt;setWidth('10');\n$objPHPExcel-&gt;getActiveSheet()-&gt;getColumnDimensionByColumn('C')-&gt;setAutoSize(false);\n</code></pre>\n\n<p>but that does not works.</p>\n\n<p>What is the method that I need to call here?</p>\n"},{"tags":["php","zend-framework","soap","wsdl","soap-client"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":53,"score":3,"question_id":13266890,"title":"classmap option not working while using php's SoapClient","body":"<p>Currently I am working on an internal soap service to control some internal processes. Which is normally not all that hard to do. I am however trying to use the soapClient classmap functionality to map objects instead of working with the stdClasses which are normally returned for non complextypes.</p>\n\n<p>Considering the fact that wsdl's and sources take up alot of space code-wise, i will link to relevant documents instead of spamming them in this question.</p>\n\n<p>First of all I am using Zend_Soap_Server and Zend_Soap_Server_Autodiscover for my Soap service  and wsdl generation. </p>\n\n<p>Soap server code: \n<a href=\"https://www.dropbox.com/s/eji7l50g42m2ixl/SoapServer.txt\" rel=\"nofollow\">https://www.dropbox.com/s/eji7l50g42m2ixl/SoapServer.txt</a></p>\n\n<p>WSDL result for ?wsdl request: \n<a href=\"https://www.dropbox.com/s/vyxbjz7wogd8suy/wsdl.txt\" rel=\"nofollow\">https://www.dropbox.com/s/vyxbjz7wogd8suy/wsdl.txt</a></p>\n\n<p>The soap service publishes a serviceclass. This class contains a method to obtain data from our soap service. This method is called getPackages. </p>\n\n<p>getPackages method form the soap service: \n<a href=\"https://www.dropbox.com/s/p5ddxpraju7ru6x/method_from_serviceclass.txt\" rel=\"nofollow\">https://www.dropbox.com/s/p5ddxpraju7ru6x/method_from_serviceclass.txt</a></p>\n\n<p>The getPackages method returns a DataObject which in turn returns contains references to other data objects. These objects exist on both server as client and are exactly the same on both ends.</p>\n\n<p>The main data object:\n<a href=\"https://www.dropbox.com/s/qt51pw3rpq7c2ba/dataobject.txt\" rel=\"nofollow\">https://www.dropbox.com/s/qt51pw3rpq7c2ba/dataobject.txt</a></p>\n\n<p>When connecting to this service and calling the getPackages method, I get the response as expected: a stdClass containing a vps and a shared property.</p>\n\n<p>Unfortionatly when adding the classmap, the result remains exactly the same.. a stdClass containing vps and a shared property. The expected result would be a Soho_Soap_DataObject_Packages object containing the vps and shared properties.</p>\n\n<p>This is the used SoapClient code: \n<a href=\"https://www.dropbox.com/s/ulnni84p8dawv97/SoapClient.txt\" rel=\"nofollow\">https://www.dropbox.com/s/ulnni84p8dawv97/SoapClient.txt</a></p>\n\n<p>When i call the getPackages method through Soap i get the following:</p>\n\n<pre><code>$SoapClient = \\Soho_Soap_Client::getInstance();\n$packages = $SoapClient-&gt;getPackages();\nprint_r($packages);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>stdClass Object\n(\n[shared] =&gt; Array\n    (\n        [0] =&gt; stdClass Object\n            (\n                [id] =&gt; \n                [title] =&gt; \n                [pricePerPeriod] =&gt; \n                [price] =&gt; \n                [minRegistrationMonths] =&gt; \n                [properties] =&gt; \n                [options] =&gt; Array\n                    (\n                    )\n            )\n    )\n[vps] =&gt; \n</code></pre>\n\n<p>)</p>\n\n<p>However, if I look at the response types I get the following:</p>\n\n<pre><code>print_r( $SoapClient-&gt;__getTypes() );\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    Array\n    (\n    [0] =&gt; Soho_Soap_DataObject_Package_Shared ArrayOfSoho_Soap_DataObject_Package_Shared[]\n    [1] =&gt; struct stdClass {\n\n    }\n    [2] =&gt; Soho_Soap_DataObject_Package_Shared_Option ArrayOfSoho_Soap_DataObject_Package_Shared_Option[]\n    [3] =&gt; struct Soho_Soap_DataObject_Package_Shared_Option {\n        string title;\n        string value;\n    }\n    [4] =&gt; struct Soho_Soap_DataObject_Package_Shared {\n        int id;\n        string title;\n        int pricePerPeriod;\n        int price;\n        int minRegistrationMonths;\n        stdClass properties;\n        ArrayOfSoho_Soap_DataObject_Package_Shared_Option options;\n    }\n    [5] =&gt; Soho_Soap_DataObject_Package_Vps ArrayOfSoho_Soap_DataObject_Package_Vps[]\n    [6] =&gt; Soho_Soap_DataObject_Package_Vps_Option ArrayOfSoho_Soap_DataObject_Package_Vps_Option[]\n    [7] =&gt; struct Soho_Soap_DataObject_Package_Vps_Option {\n        string title;\n        string value;\n    }\n    [8] =&gt; struct Soho_Soap_DataObject_Package_Vps {\n        int id;\n        string title;\n        int pricePerPeriod;\n        int price;\n        int minRegistrationMonths;\n        stdClass properties;\n        ArrayOfSoho_Soap_DataObject_Package_Vps_Option options;\n    }\n    [9] =&gt; struct Soho_Soap_DataObject_Packages {\n        ArrayOfSoho_Soap_DataObject_Package_Shared shared;\n        ArrayOfSoho_Soap_DataObject_Package_Vps vps;\n    }\n    )        \n</code></pre>\n\n<p>Google isn't helping me much since the classmapping documentiation isn't all too great to start with, so I hope the stack community can shine a light on my problem.</p>\n\n<p>2 days of staring at the same problem makes me desperate.</p>\n\n<p>A short while ago I used SoapClient in the same way to communicate with a vmware vsphere API which worked perfectly, so I do think the problem has something to do with the WDSL, but currently I am lost.</p>\n\n<p>I thank everyone that takes the time to look at my problem in advance for their time. I will ofcourse provide additional information when requested.</p>\n"},{"tags":["php","curl","login","remote-server"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":60,"score":1,"question_id":13266997,"title":"Login and get image from site using cURL","body":"<p>I am trying to get an chart image from a remote site.<br>\nBut the image seemed to be created dynamically from the site when called.<br>\nIt will return nothing when not logged in.  </p>\n\n<p>This is the image URL </p>\n\n<pre><code>&lt;img src=\"http://fuelbuyer.dtn.com/energy/view/energy/chart.do?width=150&amp;height=120&amp;chartType=0&amp;ts=1352196066175&amp;rackId=446&amp;productId=179&amp;points=8&amp;showExtraLine=True\"&gt;\n</code></pre>\n\n<p>I somehow managed to log in using this CODE and tried to display image.<br>\nBut it is not working. </p>\n\n<pre><code>$ch = curl_init();\n$url = 'http://fuelbuyer.dtn.com/energy/common/signin.do?';\n$login = 'username=$USER&amp;password=$pass&amp;autoLogin=true&amp;partnerId=0&amp;partnerName=';\ncurl_setopt($ch, CURLOPT_URL, $url.$login);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);\ncurl_setopt($ch, CURLOPT_HEADER, 0);\n$output = curl_exec($ch);\n$info = curl_getinfo($ch);\ncurl_close($ch); \n</code></pre>\n\n<p>Calling the image URL directly (on browser Addressbar ONLY WHEN LOGGED IN) , will give some code like  </p>\n\n<p>\"\n‰PNG  IHDR–xŸ-œGPIDATxÚílÇÇ IHKB-ËuÄØª!Eš°Š !ÈB IÀµ©…œ€ $@S‡8¶ ªÀ”D²œÐbR Æ`˜WjAx;~Äø…ç·ï±;³ýÎk×ûºÙÝ³™»Þ_+´Ü÷v÷·3óÿf¾™òqnAa@„ùÂM›6åÔ5}£¡kè¨šŽiè¸¶¾USž†Nh(_M'5tJC Á™°‚ðN?ÿ¼3>¾=5µîòåêÕô©V¢:‰ê%º+QƒD5õ©Y\"›D-Õ*Q›Dí}ê¨S¢.‰º%²Käè“³­Û¹“ß¸ÑUPà’ˆ“ˆ—õéôéÓ!rBP¸¡Ÿÿ¼®¨¨F\"ïò“\"´ÂOŠÐ4?G}=ŽŠ\"×ÎgdPòc!† #—[WB}\n\"</p>\n\n<p>but when called like </p>\n\n<pre><code>&lt;img src=\"http://fuelbuyer.dtn.com/energy/view/energy/chart.do?width=150&amp;height=120&amp;chartType=0&amp;ts=1352196066175&amp;rackId=446&amp;productId=179&amp;points=8&amp;showExtraLine=True\"&gt;\n</code></pre>\n\n<p>will give the correct image.</p>\n\n<p>I really dont know what to do next.   </p>\n\n<p><em>How can I log into the site using cURL and execute this line.<br>\n    <code>&lt;img src=\"http://fuelbuyer.dtn.com/energy/view/energy/chart.do?width=150&amp;height=120&amp;chartType=0&amp;ts=1352196066175&amp;rackId=446&amp;productId=179&amp;points=8&amp;showExtraLine=True\"&gt;</code><br>\nThe site will be redirected to the home page when successfully logged in.<br>\nSo, I have to prevent from redirection too.<br>\nThe session will be terminated after few seconds.</em>  </p>\n\n<p>Thanking you in advance,<br>\nEugine P J</p>\n\n<blockquote>\n  <p>I got it working.   Refer this comment.<br>\n  <a href=\"http://stackoverflow.com/questions/8632366/unable-to-fetch-my-schedule-data-from-my-schools-site-login-with-curl-wont-work/8632527#8632527\">Unable to fetch my schedule data from my schools site. Login with cURL wont work</a></p>\n</blockquote>\n"},{"tags":["php","api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13286414,"title":"How do I use Autoscout24 API (Car search portal) in php?","body":"<p>How do I use Autoscout24 API (Car search portal) in php? I read documentation in that website. I actually configured the config file and connected to API server.</p>\n\n<p>But am not able to get and display filter criteria like model, make etc with html template. Any one have good example to use this API in php?</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13285792,"title":"Date increase automatically in other Inputfield","body":"<p>I have 1 dropdown Box and 2 input fields.</p>\n\n<p>When i chose a value from the dropdown, (i put the values 12 Month and 60 Month inside) see the picture</p>\n\n<p><img src=\"http://i.stack.imgur.com/h6kKa.png\" alt=\"Select the number of months\"></p>\n\n<p>and when i take with the jquery datepicker a date like '08/11/2012' see the next picture</p>\n\n<p><img src=\"http://i.stack.imgur.com/giL0u.png\" alt=\"Select the Date with Datepicker\"></p>\n\n<p>Then i want to get automatically in the second inputfield a date with + 12 Month - '08/11/2013' see the picture</p>\n\n<p><img src=\"http://i.stack.imgur.com/u6Nvj.png\" alt=\"Increase the Date automatically from the value of the dropdown\"></p>\n\n<p>So when i take a value with 60 Month then it must count + 60 Month like '08/11/2017'</p>\n\n<p>I don't know how to realise that.\nAll the values comes from a MySQL DB</p>\n\n<p>Here is my code what i have now:</p>\n\n<pre><code>    &lt;table id=\"BLth1B\" cellspacing=\"0\" &gt;\n         &lt;tr&gt;\n          &lt;td id=\"BLth1\" colspan=\"3\"&gt;&amp;nbsp;&amp;nbsp;JUGEMENT&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;td id=\"mySaisie\"&gt;&amp;nbsp;Régime&lt;/td&gt;\n          &lt;td id=\"mySaisie\"&gt;&amp;nbsp;Date Jugement&lt;/td&gt;\n          &lt;td id=\"mySaisie\" &gt;&amp;nbsp;Date de Fin&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;td&gt;\n            &lt;select id=\"basic-combo\" name=\"basic-combo\"&gt;\n            &lt;option value=\"0\"&gt;&lt;/option&gt; \n    &lt;?php\n\n    $QryRegime = \"SELECT id_regimes, regimes_ref, mois_reg FROM amep_regimes\";\n    $ResRegime = mysql_query($QryRegime) OR die(mysql_error());\n\n    while($rowregime = mysql_fetch_assoc($ResRegime)) { \n    echo \"&lt;option  value=\". $rowregime['id_regimes'] .\"&gt;\" . $rowregime['regimes_ref'] . \" - \" . $rowregime['mois_reg'] . \"&amp;nbsp;&lt;/option&gt;\";  \n    }\n    ?&gt;\n            &lt;/select&gt; \n        &lt;/td&gt;\n          &lt;td&gt;&lt;input class=\"input20\" id=\"datumanfang\" /&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;input class=\"input20\"/&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n</code></pre>\n\n<p>If somebody can help me please??</p>\n\n<p>THX in advance</p>\n"},{"tags":["php","curl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13286311,"title":"PHP How to make Curl Request wait for sometime","body":"<p>How can I make curl request that will idle after make request ?</p>\n\n<p>I want to make condition same like user visiting any site then idle for a some time, I want to make that happen in PHP.</p>\n\n<p>Example is, www.siteblalala.com, then I want the php to be idle on that site using curl, how do I make it ?</p>\n"},{"tags":["php","curl"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13285704,"title":"Phpinfo() not showing curl","body":"<p>I have <code>php_curl.dll</code> in <code>xampp/php/ext/</code> folder and in <code>php.ini</code> file I set <code>extension=php_curl.dll</code> (removed ';'). I also set <code>extension_dir = \"C:\\xampp\\php\\extensions\\\"</code> in <code>php.ini</code> file. Then I restarted the Apache, even I restarted the system 2 times. But till in <code>Phpinfo()</code> I can<code>t see curl. and I am getting error like</code>\"Call to undefined function curl_init()\"`</p>\n\n<p>I have PHP version 5.2.4.</p>\n"},{"tags":["php","ajax","json","magento"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13269057,"title":"AJAX & JSON not working, no error or success handlers","body":"<p>I have some code which I plan on adding into a Magento store, once I have made it work on a test page, but unfortunately it isn't working on the test page.</p>\n\n<p>The Javascript is as follows:</p>\n\n<pre><code>function plusAddToCart(qty_textbox_id, prodID, highlight_div_id){\nvar qty = document.getElementById(qty_textbox_id).value;\nqty = parseInt(qty) + 1;\ndocument.getElementById(qty_textbox_id).value = qty;\n if(qty==0){\n     $(highlight_div_id).style.backgroundColor = \"#f7e9f4\";\n }else{\n     $(highlight_div_id).style.backgroundColor = \"#ebcde5\";\n }\n\n $.ajax({                                      \n  url: \"addtocart.php\",\n  data: \"prodID=\"+prodID,\n  type: \"POST\",\n  dataType: 'json',\n  success: function(data) {\n    alert(\"DONE\");\n  }\n});\n}\n&lt;/script&gt;\n\n&lt;div style=\"width:70px; margin:9px auto 0 auto;\"&gt;\n   &lt;input type='button' name='plus' onclick='plusAddToCart(\"qty1\", \"693\", \"product_highlight_693\");' id=\"plus\" class=\"cart-plus-minus\" value='+'/&gt;\n   &lt;input name=\"qty\" type=\"text\" id=\"qty0\" readonly=\"readonly\" maxlength=\"5\" value=\"0\" class=\"quantity-box\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code> header(\"Content-Type: text/html\");\n\n require_once 'app/Mage.php'; \n Mage::app(\"default\"); \n Mage::getSingleton(\"core/session\", array(\"name\" =&gt; \"frontend\")); \n $session = Mage::getSingleton(\"customer/session\"); \n\n $userData=Mage::helper('customer')-&gt;getCustomer()-&gt;getData(); \n $cart = Mage::getSingleton('checkout/cart'); \n $yourProId = $_POST['prodID']; \n $qty=1; \n $params = array( 'product' =&gt; $yourProId, 'related_product' =&gt; null, 'qty' =&gt; $qty );\n $product = new Mage_Catalog_Model_Product(); \n $product-&gt;load($yourProId); \n $cart-&gt;addProduct($product, $params); \n $cart-&gt;save(); \n Mage::getSingleton('checkout/session')-&gt;setCartWasUpdated(true); \n $message = ('Your cart has been updated successfully.'); \n Mage::getSingleton('checkout/session')-&gt;addSuccess($message);                    \n</code></pre>\n\n<p>Can anybody see a reason why this wouldn't work??</p>\n"},{"tags":["php","netbeans","annotations"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13286077,"title":"How do I annotate variables in an included PHP file?","body":"<p>In my controller I have code like this:</p>\n\n<pre><code>public function showStudent($id)\n{\n    $student = new Student();\n    $student-&gt;loadFromId($id);\n\n    /* call the view */\n    include '/path/to/student/view.php';\n}\n</code></pre>\n\n<p>In the view.php file I want my code editor (netbeans, of course) to know $student is an instance of the Student class so it can suggest and check methods and properties etc. Can I help the editor to know this with an annotation, like</p>\n\n<pre><code>&lt;?php\n/**\n* @magic Student $student\n*/\n?&gt;\n&lt;html&gt;\n....\n&lt;p&gt;Good day, &lt;?= $student-&gt;name; ?&gt;&lt;/p&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","rest","upload","existdb"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13286136,"title":"exist-db rest post files with PHP","body":"<p>Is it possible to push new <strong>xml / update</strong> files in <strong>exist-db</strong> through <strong>PHP</strong>?</p>\n\n<p>I've had a look around for an example but the only one I could really find was this <a href=\"http://www.ibm.com/developerworks/library/x-mxd5/\" rel=\"nofollow\">http://www.ibm.com/developerworks/library/x-mxd5/</a></p>\n\n<p>Is it possible to batch upload files to eXist with PHP?</p>\n"},{"tags":["php","zend-framework"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13286183,"title":"Zend Framework Add Route","body":"<p>I need to Add the route to Zend Framwork Application.</p>\n\n<p>I want to display All the Posts from the database where catagory = the controller name </p>\n\n<pre><code>domain.com/action \ndomian.com/drama\ndomain.com/thriller\n</code></pre>\n\n<p>How can i do this ? I gone through the ZF Routes Documentation. But found No Solution.</p>\n"},{"tags":["php","unicode","json-encode","json-decode","non-unicode"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13286040,"title":"PHP: Converting scandic characters to hex unicode","body":"<p>I'm working on a <strong>Joomla</strong> site with Fabrik and problem is that Fabrik serializes some data using json_encode() but does not take into account the possibility of åäö and such. Now when a database search is made, it tries to find stuff with åäö, but doesn't find anything, because</p>\n\n<blockquote>\n  <p>everything is \\u00e4 and \\u00f6</p>\n</blockquote>\n\n<p>and so forth.</p>\n\n<p>I'm not much for digging into Fabrik's code and inserting one flag somewhere and worry about accidentally overwriting it when I update Fabrik. So I figured, since I'm disappointed in Fabrik anyway, I could just write around it completely in a custom template. Easy. </p>\n\n<p>The problem is that I can't find a way or a function like htmlentities() that I can just feed the stuff to to make it match. I could just character replace them, but that's not a good solution.</p>\n\n<p>Paraphrase: <strong>I wanna make word Mörkö into -> M\\u00f6rk\\u00f6. How?</strong></p>\n"},{"tags":["php","jquery","codeigniter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13285556,"title":"Multiple select in CodeIgniter using jQuery plugin Chosen","body":"<p>I use <a href=\"http://harvesthq.github.com/chosen/\" rel=\"nofollow\">Chosen</a>, a jQuery plugin for forms. I want to have multiselect select field, like this:</p>\n\n<pre><code>&lt;select data-placeholder=\"Developer\" class=\"grid_6 alpha required chzn-select\" name=\"gameDeveloper\" id=\"gameDeveloper\" multiple=\"multiple\"&gt;\n    &lt;optgroup label=\"Developer\"&gt;&lt;/optgroup&gt;\n    &lt;optgroup label=\"A\" class=\"separator\"&gt;&lt;option value=\"36\"&gt;Arc System Works&lt;/option&gt;\n    &lt;option value=\"48\"&gt;Artificial Art &amp; Movement&lt;/option&gt;\n    &lt;option value=\"45\"&gt;AVE Productions&lt;/option&gt;\n    &lt;/optgroup&gt;&lt;optgroup label=\"B\" class=\"separator\"&gt;&lt;option value=\"28\"&gt;Bethesda Softworks&lt;/option&gt;\n    &lt;option value=\"27\"&gt;Black Isle&lt;/option&gt;\n    &lt;option value=\"1\"&gt;Blizzard&lt;/option&gt;\n    (...)\n&lt;/select&gt;\n</code></pre>\n\n<p>I used Chosen like this:</p>\n\n<pre><code>$('#gameDeveloper').chosen({\n    no_results_text: 'Brak wyników'\n});\n</code></pre>\n\n<p>It worked great, but when I want to have multiple choices, it returns something like this:\n<code>gameDeveloper=1&amp;gameDeveloper=2</code>. Problem is, my php script takes only the last part (here: <code>2</code>). </p>\n\n<p>I use CodeIgniter, so my code for this is simply <code>$devs = $this-&gt;input-&gt;post('gameDeveloper');</code>.</p>\n\n<p>What can I do?</p>\n"},{"tags":["php","e-commerce","payment-gateway"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13286128,"title":"HDFC Payment gateway script","body":"<p>Hi all i want to integrate hdfc gateway in my site if anyone have sample code reference for php script.please give me ..Thanks in advance.</p>\n"},{"tags":["php","arrays"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":540,"score":0,"question_id":4176541,"title":"Combine Two Arrays with numerical keys without overwriting the old keys","body":"<p>I don't want to use array_merge() <strike>as it results in</strike> i misunderstood that  all values with the same keys would be overwritten. i have two arrays</p>\n\n<pre><code>$array1 = array(0=&gt;'foo', 1=&gt;'bar');\n$array2 = array(0=&gt;'bar', 1=&gt;'foo');\n</code></pre>\n\n<p>and would like to combine them resulting like this</p>\n\n<pre><code>array(0=&gt;'foo', 1=&gt;'bar',2=&gt;'bar', 3=&gt;'foo');\n</code></pre>\n"},{"tags":["php","codeigniter","activerecord","image-processing","imagelibrary"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13085076,"title":"Resize image without distortion of image in codeigniter","body":"<p>I want to resize image without image being distorted.For example  if i have set the image height to be 100 and width as 200.The image resized must be of 100 height and 200 width.In order to achieve that i want to crop that image instead of getting it distorted.</p>\n\n<p>My config options:-</p>\n\n<pre><code>            $config['create_thumb'] = TRUE;\n            $config['maintain_ratio'] = FALSE;\n            $config['master_dim'] = 'auto';\n            $config['width'] = 100;\n            $config['height']= 100;\n\n            $this-&gt;image_lib-&gt;initialize($config);\n            $this-&gt;image_lib-&gt;resize();\n</code></pre>\n\n<p>Also is it possible without using any other library of image manipulation?</p>\n"},{"tags":["php","google","operators"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13285866,"title":"AND/OR Operator Precedence in Google Search","body":"<p>I need to do an advanced Google search, using their SiteSearch API. I'm currently using a string of the following format that is sent via curl to my search engine:</p>\n\n<pre><code>$search_url = \"http://www.google.com/search?start=0&amp;num=20&amp;as_qdr=\" . $as_qdr . \"&amp;q=\" . $q . \"&amp;sort=date&amp;client=google-csbe&amp;output=xml_no_dtd&amp;cx=\" . $cx;\n</code></pre>\n\n<p>The problem is that my query needs to be of the form:</p>\n\n<p>(\"MY SENTENCE\" AND \"JOHN DOE\") OR \"MIKE TYSON\"</p>\n\n<p>Unfortunately, I'm unable to find anything in Google Documentations to replace the usual sql parenthesis. I have tried using the parenthesis itself but although most results seem accurate, some of the results do not really match the query. For example, they contain \"MY SENTENCE\" and \"MIKE TYSON\", but not JOHN DOE. </p>\n\n<p>Is it even possible to do such complicated queries in Google?</p>\n\n<p><strong>Edit:</strong>\nI just forgot to mention that I tried the parenthesis directly on google.com (not using the API), for my testing.</p>\n"},{"tags":["php","linux","windows","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":13285806,"title":"PHP date function in Windows and Linux","body":"<p>Function date that I use:   </p>\n\n<pre><code> public function datetime() {\n        $today = getdate();\n        $datetime =  $today['year'].'-'.$today['mon'].'-'.$today['mday'].' '.\n                    ($today['hours']+8).':'.$today['minutes'].':'.$today['seconds'];\n        return $datetime;\n    }\n</code></pre>\n\n<p>There are two server [ A and B ]\n: Server A using Windows,\nServer B using Linux</p>\n\n<p>Both server are same for date and time but when I run this php code, the output of time is difference.</p>\n\n<p>Why is that ?</p>\n"},{"tags":["php","javascript","png","base64"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13265131,"title":"download base_64 string as png in browser","body":"<p>I edit a png image put some text on it and display is as</p>\n\n<pre><code>&lt;?php    \nob_start();\nimagepng($img, NULL);\n$rawImageBytes = ob_get_clean();\nimagedestroy($img);\necho \"&lt;img id='ca_image' src='data:image/png;base64,\" . base64_encode($rawImageBytes)     . \"' /&gt;\";\n\n?&gt;\n&lt;a href=\"#\" onclick=\"return download();\"&gt;Download&lt;/a&gt;\n&lt;script&gt;\nfunction download(){\nvar img =document.getElementById(\"ca_image\").src;\nvar url = img.replace(/^data:image\\/[^;]/, 'data:application/octet-stream');\nlocation.href = url;\n&lt;/script&gt;\n</code></pre>\n\n<p>as i change the content type of file,browser automatically pop up window to download but downloaded file type is PART . i want to download base_64 as png file.\nis this possible by this approach?\nis this the right approach to save file as png?\nif not Please suggest the right way to solve my problem.</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13284469,"title":"Wordpress blog redirect to another URL from google search engine result","body":"<p>My website is <a href=\"http://www.padmavatiwealth.com\" rel=\"nofollow\">www.padmavatiwealth.com</a>. When I reach directly to this website then It is working fine but when I go through google search engine It redirects me to another strange website. I used wordpress to develop this website. I don't understand what is happening here.</p>\n\n<p>Please help me. Below is google URL which redirects me to another URL, instead of padmavatiwealth.com.</p>\n\n<p><a href=\"http://www.google.co.in/url?sa=t&amp;rct=j&amp;q=padmavatiwealth.com&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CB0QFjAA&amp;url=http%3A%2F%2Fwww.padmavatiwealth.com%2F&amp;ei=Wl2bUI3YH4yqrAfyjIHwDw&amp;usg=AFQjCNE8ifN9KNmcMjPYwAAoZe0NjsvfgQ\" rel=\"nofollow\">http://www.google.co.in/url?sa=t&amp;rct=j&amp;q=padmavatiwealth.com&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CB0QFjAA&amp;url=http%3A%2F%2Fwww.padmavatiwealth.com%2F&amp;ei=Wl2bUI3YH4yqrAfyjIHwDw&amp;usg=AFQjCNE8ifN9KNmcMjPYwAAoZe0NjsvfgQ</a></p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","facebook","facebook-php-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13281655,"title":"Facebook Fatal error Session has expired","body":"<pre><code>&lt;?php\nrequire_once\"includes/strings.php\";\nrequire_once\"php/function.php\";\nrequire_once\"php/config.php\";\nrequire_once\"php/app.php\";\n\n$currentFBuserid = \"0\";\n\n///////FACEBOOK GET USER INFORMATION\nsession_start();\n// Enter the app id and secret below\ndefine('YOUR_APP_ID', '$fbAppID');\ndefine('YOUR_APP_SECRET', '$fbAppSecret');\n\nrequire_once\"php/fbsdk/src/facebook.php\";\n\n$facebook = new Facebook(array(\n  'appId'  =&gt; $fbAppID,\n  'secret' =&gt; $fbAppSecret,\n));\n\n$userId = $facebook-&gt;getUser();\nif($userId){\n    $userInfo = $facebook-&gt;api('/' + $userId);\n           }\n</code></pre>\n\n<p>Okay the issue is simple about every two hours I guess the session expires on my site and the error \"Fatal error: Uncaught OAuthException: Error validating access token: Session has expired at unix time 1352329200.</p>\n\n<p>The current unix time is 1352330589. thrown in /home/######/public_html/php/fbsdk/src/base_facebook.php on line 1238\" </p>\n\n<p>I'm having an impossible time figuring out what the issue is, no matter how long I scrape this site.</p>\n\n<p>BTW:(refreshing the page solves the issue)</p>\n\n<p>I really need help.\nThank you!</p>\n"},{"tags":["php","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13285927,"title":"Can't retrieve people tagged in a picture on FB. Using their php sdk","body":"<p>I am creating this app for Facebook with Heroku as my hosting site. In my app, I would like to analyze the user's photo tags and return the names of the people who are tagged along with the user. I can see the results when I run: <a href=\"https://graph.facebook.com/me/photos?accessToken=xyz\" rel=\"nofollow\">https://graph.facebook.com/me/photos?accessToken=xyz</a></p>\n\n<p>I ask for the <code>user_photos</code> and <code>friends_photos</code>  permission at the time of authentication.</p>\n\n<p>Now in my app, the code runs like this:</p>\n\n<pre><code>$photos = idx($facebook-&gt;api('/me/photos?limit=16'), 'data', array());\n$tagList = array();\n$fromName = \"\";\nforeach ($photos as $photo) {\n    $from = idx($photo, 'from');\n    $tags = idx($photo, 'tags', array());\n    $fromName = idx($from, 'name');\n    $tagsData = idx($tags, 'data', array());\n    foreach ($tagsData as $tagItem) {\n        $tagList[] = idx($tagItem, 'name');\n    }\n    break;\n}\n</code></pre>\n\n<p>This code is supposed to retrieve the details from the first photo returned. In my result, though, I only get the <code>$fromName</code> populated with data. The <code>taglist</code> is empty.</p>\n\n<p>More curiously, if the photo in question is posted by a group (such as a website or a community in FB), the code retrieves the people who are tagged. What is happening here? Is this a permissions issue? Or is there something wrong with the code? How is it that I can see the people who are tagged in there by running the same query and seeing the JSON result but can't get the same through my code?</p>\n"},{"tags":["php","jquery","iframe","canvas","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13285136,"title":"JQuery .load I need to load content from one url to another","body":"<p>I want to load content from a div with ID maininner from a URL on my own site <a href=\"http://www.salcombeyurts.com/stage/yurt1.html\" rel=\"nofollow\">http://www.salcombeyurts.com/stage/yurt1.html</a> into a div with id yurt1_avail on another url <a href=\"http://www.salcombeyurts.com/stage/availability.html\" rel=\"nofollow\">http://www.salcombeyurts.com/stage/availability.html</a> on the same site.</p>\n\n<p>I have tried a test outside the CMS and it works. I am using this JQuery:</p>\n\n<pre><code>&lt;div id=\"yurt1_avail\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$('#yurt1_avail').load('yurt1.html #maininner');\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Is it possible to do this when using CMS/MySQL and .htaccess rewrites for SEF URLs? Is this only possible on static content html pages?.</p>\n\n<p>If this method wont work, what alternatives do I have? I need to load the content of an availability table on one page onto a summary page that will display 3 different availability tables. I am using Joomla and the availability component I have chosen can only be directly linked to, it has no module option or short-code for embedding into articles or modules.</p>\n\n<p>Maybe iFrames could be used, but how would I CSS then to hide all the rest of the page content? I only need the content from #maininner.</p>\n\n<p>Or is there anything in the HTML5/CSS3 markup that will help me?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":20,"score":-3,"question_id":13285839,"title":"How to manage php session on mac machine?","body":"<p>`I got a serious problem. I have created session in my php login page ( used mac machine). But the data is not transmitted to other php page, as result I am not able manage session here. I am posting my code here...</p>\n\n<pre><code>if($count==1){\n\n//header(\"Location:HomePage.html\"); \n//session_register(\"UserName\");\n$_SESSION['login_user']=$UserName;\n//echo \"DT_login: \" . $_SESSION['login_user'];\necho \"&lt;META HTTP-EQUIV=\\\"refresh\\\" content=\\\"0;URL=HomePage.php\\\"&gt;\";\n</code></pre>\n\n<p>}</p>\n"},{"tags":["php","count","group"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13284036,"title":"Count by grouping Multidimensional arrays in PHP","body":"<p>I need some help in getting the count of the array element quantity by grouping it based on a date value part of a Multidimensional array in php</p>\n\n<p>Here's my original array</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array\n    (\n        [quantity] =&gt; 5\n        [dd] =&gt; 01-Nov-2012\n    )\n\n[1] =&gt; Array\n    (\n        [quantity] =&gt; 10\n        [dd] =&gt; 01-Nov-2012\n    )\n\n[2] =&gt; Array\n    (\n        [quantity] =&gt; 3\n        [dd] =&gt; 02-Nov-2012\n    )\n\n[3] =&gt; Array\n    (\n        [quantity] =&gt; 4\n        [dd] =&gt; 03-Nov-2012\n    )\n\n[3] =&gt; Array\n    (\n        [quantity] =&gt; 15\n        [dd] =&gt; 03-Nov-2012\n    )\n)\n</code></pre>\n\n<p>And this is the Output I'm expecting</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array\n    (\n        [quantity] =&gt; 15\n        [dd] =&gt; 01-Nov-2012\n    )\n\n[1] =&gt; Array\n    (\n        [quantity] =&gt; 3\n        [dd] =&gt; 02-Nov-2012\n    )\n\n[2] =&gt; Array\n    (\n        [quantity] =&gt; 19\n        [dd] =&gt; 03-Nov-2012\n    )\n)\n</code></pre>\n\n<p>Any help would greatly appreciated :)\n<br>Thanks in advance </p>\n"},{"tags":["php","api","soap","amazon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13285711,"title":"Accessing SOAP API Array string value","body":"<p>How do I access a string value inside an array/function from SOAP Api?</p>\n\n<p><a href=\"http://pastebin.com/HHxGGeBE\" rel=\"nofollow\">http://pastebin.com/HHxGGeBE</a></p>\n\n<p><a href=\"http://tinyurl.com/as5q84s\" rel=\"nofollow\">http://tinyurl.com/as5q84s</a></p>\n\n<pre><code>$client = new SoapClient($wsdl);\n$response = $client-&gt;__getFunctions();\n\n[102]=&gt; string(53) \"HelloWorldResponse HelloWorld(HelloWorld $parameters)\n</code></pre>\n"},{"tags":["php","soap"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13285716,"title":"SoapFault exception: [Client] looks like we got no XML document","body":"<p>I've hit an issue with the PHP SoapClient.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>$obj = new SoapClient(WEBSERVICE_ADDRESS,array('trace' =&gt; 1,'encoding'=&gt;'utf-8', 'exceptions' =&gt; 0)); \n\n$res_obj = ($obj-&gt;searchTextBySummaryAndDescription($params));\n</code></pre>\n\n<p><code>$res_obj</code>  is a object. It includes a bug list. Every bug has details such as <code>Bugdescription</code>. The issue is that one of the Bug Description has a special character \"<code>←</code>\", so I see an error as per my question's title when I try to run eg: <code>print $res_obj;</code></p>\n"},{"tags":["php","file-upload","moodle"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12127126,"title":"Moodle, upload and store files using moodle forms","body":"<p>I'm having some dificulties implementing a moodle upload mechanism using moodle forms. My goal is to let the user/administrator upload images, store them and access later in a block. </p>\n\n<p>Currently, I have this in the form:</p>\n\n<pre><code>$mform-&gt;addElement('filemanager', 'attachments', 'Pic:', null, array('subdirs' =&gt; 0, 'maxfiles' =&gt; 1,'accepted_types' =&gt; '*' ));\n</code></pre>\n\n<p>and this to save the file:</p>\n\n<pre><code>if ($draftitemid = file_get_submitted_draft_itemid('attachments')) {\nfile_save_draft_area_files($draftitemid, $context-&gt;id, 'mod_assignment', 'attachments', 0, array('subdirs' =&gt; false, 'maxfiles' =&gt; 1));\n}\n</code></pre>\n\n<p>and I try to access the file like this:</p>\n\n<pre><code>file_encode_url($CFG-&gt;wwwroot . '/pluginfile.php', '/' . $context-&gt;id . '/mod_assignment/attachments')\n</code></pre>\n\n<p>I don't receive any errors but I can't access the file either. I'm using moodle 2.0. </p>\n\n<p>Thanks in advance,\nTake care</p>\n"},{"tags":["php","templates"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13285013,"title":"PHP - Is it common to use include to template a page?","body":"<p>New to web programming. I was wondering if it was common to use includes to template a page. For example you have header, nav, and footer code all in separate files, and then you include them for a specific page with the content varying. How is this different from templating languages or templating engines like Smarty I've been coming across in my research?</p>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":28,"score":-5,"question_id":13285550,"title":"MySQL Categories and Subcategories select query","body":"<p>i am trying to build a category/subcategory class with php &amp; MySQL.</p>\n\n<p>category table</p>\n\n<pre><code>  category_id       category_parent        category_name\n ------------------------------------------------------\n   44               43               Parent sub cat 1\n   45               44               Parent sub cat 2\n   43               0                Parent cat 1   \n</code></pre>\n\n<p>articles table</p>\n\n<pre><code> article_id    article_category          article_name\n----------------------------------------------------\n   9             41                    sub1\n   16            45                    p2\n   17            43                    p2\n   15            44                    ps1\n   14            43                    p1\n</code></pre>\n\n<p>i want to get all count of parent categories and sub categories</p>\n"},{"tags":["php","mysql","phpmyadmin","html-form","whmcs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13284834,"title":"HTML Login Form for PHPMyAdmin","body":"<p>I am currently writing a php module for our billing software that will allow us to easily create/terminate/etc. databases for our customers as a free service. The module template supports the creation of quick login buttons and the example code uses an HTML form to post the data.</p>\n\n<p>Can PHPMyAdmin be logged into in this manner? Haven't found much from Google searches yet pertaining to this.</p>\n\n<pre><code>function module_AdminLink($params)\n{\n    $code = '&lt;form action=\\\"http://'.$params[\"serverip\"].'/controlpanel\" method=\"post\" target=\"_blank\"&gt;\n&lt;input type=\"hidden\" name=\"user\" value=\"'.$params[\"serverusername\"].'\" /&gt;\n&lt;input type=\"hidden\" name=\"pass\" value=\"'.$params[\"serverpassword\"].'\" /&gt;\n&lt;input type=\"submit\" value=\"PHPMyAdmin\" /&gt;\n&lt;/form&gt;';\n    return $code;\n}\n</code></pre>\n"},{"tags":["php","math","function","recursion"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":690,"score":2,"question_id":3448024,"title":"What is the simplest way to get a ratio in PHP of multiple numbers?","body":"<p>I've adapted this from an example that I found on the 'net...</p>\n\n<pre><code>function ratio($a, $b) {\n    $_a = $a;\n    $_b = $b;\n\n    while ($_b != 0) {\n\n        $remainder = $_a % $_b;\n        $_a = $_b;\n        $_b = $remainder;   \n    }\n\n    $gcd = abs($_a);\n\n    return ($a / $gcd)  . ':' . ($b / $gcd);\n\n}\n\necho ratio(9, 3); // 3:1\n</code></pre>\n\n<p>Now I want it to use <code>func_get_args()</code> and return the ratios for multiple numbers. It looks like a recursive problem, and recursion freaks me out (especially when my <em>solutions</em> infinitely loop)!</p>\n\n<p>How would I modify this to take as many parameters as I wanted?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","html","css"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13285466,"title":"<!--[if lte IE8]>< ![endif]--> appearing on site and dropdown issue","body":"<p>My url: <a href=\"http://bitly.com/Pa3xJS\" rel=\"nofollow\">http://bitly.com/Pa3xJS</a>  </p>\n\n<p>Issue #1: In IE, <code>&lt;!--[if lte IE8]&gt;&lt; ![endif]--&gt;</code> appears on the site? This should be correct markup, why is it appearing?</p>\n\n<p>Issue #2: In IE, when you hover over the dropdown \"shop\", you cannot click on the subnav's that sit above the jquery slider. Rather than re-coding, is there a quick CSS fix?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","javascript"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13285617,"title":"PHP once form valued saved show popupwindow","body":"<p>I am new to PHP.</p>\n\n<p>My requirement is once the form value save into mysql database, it need to show the entered value into popup window. </p>\n\n<p>I did this part .Problem is always open new tab &amp; show detail. It didn't open opoup window.</p>\n\n<pre><code>    &lt;?php\n\nerror_reporting(E_ALL);\nini_set('display_errors', 'On');\n//echo '&lt;pre&gt;';\n//echo print_r($_POST);\n//echo '&lt;/pre&gt;';\n\n$message = \"\";\n$firstname =\"\";\n$lastname = \"\";\n$email = \"\";\n$mobile = \"\";\n$nic = \"\";\n$msg =\"\";\n$genrateID = \"\";\n\nif ( isset ( $_POST['Submit'] ) ){\n    $firstname = $_POST['firstname'];\n    $lastname = $_POST['lastname'];\n    $email = $_POST['email'];\n    $mobile = $_POST['mobile'];\n    $nic = $_POST['nic'];\n\n    if($firstname ==''){\n        $message .= \"Enter firstname\";\n    }else if($lastname ==''){\n        $message .= \"Enter lastname\";\n    }else if($email==''){\n        $message = \"Enter email address\";\n    }else if(!is_valid_email($email)){\n        $message .= \"Enter valid email address\";\n    }else if($mobile==''){\n        $message = \"Enter email address\";\n    }else if(!is_valid_phone($email)){\n        $message .= \"Enter valid email address\";\n    }else if($nic==''){\n        $message = \"Enter nic number\";\n    }else if(!is_valid_nic($nic)){\n        $message .= \"Enter valid nic address\";\n\n    }else{\n        if(empty($message)){\n             $con = mysql_connect(\"192.168.1.5\",\"root\",\"root\");\n             if (!$con){\n                die('Could not connect: ' . mysql_error());\n                exit;\n             }\n             mysql_select_db(\"customerinfo\", $con);\n             $genrateID =uniqid (rand(), true);\n             // mysql_query(\"INSERT INTO customerinfo (firstname ,lastname,email,mobile,nic) VALUES ('$firstname', '$lastname','$email','$mobile','$nic')\" ) or die(mysql_error());\n             $status = mysql_query(\"INSERT INTO customer (firstname ,lastname,email,mobile,nic,customerID)\n             VALUES ('$firstname', '$lastname','$email','$mobile','$nic','$genrateID')\");\n            if($status =='1'){\n                $msg =\"Data has been saved successfully\";\n\n\n $link = \"&lt;script&gt;window.open('http://localhost/UserCRM/result.php?firstname=$firstname&amp;lastname=$lastname&amp;mobile=$mobile&amp;email=$email&amp;id=$genrateID','menubar=no,width=430,height=360,toolbar=no')&lt;/script&gt;\";\n                echo $link;\n                $message = \"\";\n                $firstname =\"\";\n                $lastname = \"\";\n                $email = \"\";\n                $mobile = \"\";\n                $nic = \"\";\n                $genrateID =\"\";\n               // $msg =\"\";\n\n            }else{\n                $msg = \"Data has been saved unsuccessfully!!\";\n            }\n            mysql_close($con);\n        }\n\n    }\n}\n\n\n?&gt; \n</code></pre>\n\n<p>My form is : </p>\n\n<pre><code>  &lt;form id=\"form\" method=\"post\" action=\"index.php\" style=\"width:700px;\" &gt;..... &lt;/form&gt;\n</code></pre>\n\n<p>Please indicate me what is wrong in my code.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","php","jquery","div","ckeditor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13284755,"title":"ckeditor does not show up in a page which has multiple divs","body":"<p>I am doing php programming and using some jquery adapter also in my page. I have two pages in one I am listing the questions which are coming from database. After clicking the button(lets say buttonA) next to the question I am bringing the second page into a div which is in the first page. In the second page I am listing all the answers, stored in the database, to that question. Below all the answers there is a button(which is placed in the second page and only toggles a div. And lets say buttonB) and when the user clicks that button the ckeditor appears. What I am doing is showing ckeditor if the user clicks on a button in my page. The problem is The first time I clicked buttonA and then buttonB the editor shows up. Whenever I click buttonA second time and then click buttonB the editor does not show up. </p>\n\n<p>Here what buttonA does:</p>\n\n<pre><code>   function DivGoster(questionid,divid)\n    {\n       jQuery.noConflict();\n       var editorname='editorname'+questionid;\n        $(\"#\"+divid).toggle();\n        var value=\"questionid=\"+questionid;\n        jQuery('#'+divid).showLoading();\n        $.ajax({\n                type: \"POST\",\n                url: \"thesecondpage.php\",\n                data: value,\n                error: function(){\n                alert('Error while loading!');\n            },\n            success: function(data){\n                  jQuery('#'+divid).hideLoading();\n                  $('#'+divid).html(data);\n            if (CKEDITOR.instances.editorname) CKEDITOR.instances.editorname.destroy();\n\n          }\n      });\n  }\n</code></pre>\n\n<p>Here what buttonB does:</p>\n\n<pre><code>        function ShowAnswerDiv(questionid)\n        {\n          jQuery.noConflict();\n          $(\"#answerdiv\"+questionid).toggle();  \n        }\n</code></pre>\n\n<p>In answerdiv+questionid div I placed the ckeditor like: </p>\n\n<pre><code>                $editorname=\"editor\".$questionid;\n            $ckeditor = new CKEditor();\n                $ckeditor-&gt;basePath  = 'ckeditor/' ;\n                CKFinder::SetupCKEditor( $ckeditor, 'ckfinder/' ) ;\n                $config['height'] = '300';\n                $config['width'] = '700';\n                $initialValue = $sorgusonucuhaber['icerikgorunen'];\n                $ckeditor-&gt;editor($editorname, $initialValue, $config);\n</code></pre>\n\n<p>Here ckeditor shows up irregularly(meaning not every time when I call that toggle function above.)</p>\n\n<p>Any help appreciated,</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","google-analytics"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13285348,"title":"how to add two different array in to simple for each loop","body":"<p>Hello Friend my Question is Quite simple but difficult to understand I think so.</p>\n\n<p>Here is some more code :-</p>\n\n<pre><code>    $graph1 = new gapi($ga_email,$ga_password);\n\n    $dimensions = array('date');\n    $metrics    = array('visits');\n\n    $graph1-&gt;requestReportData($ga_profile_id,\n                           $dimensions,\n                           $metrics,\n                            'date'\n                           );\n\n\n$graph2 = new gapi($ga_email,$ga_password);\n\n$dimensions = array('date');\n$metrics    = array('visits');\n\n$graph2-&gt;requestReportData($ga_profile_id,\n                       $dimensions,\n                       $metrics,\n                       'date',\n                       $filter, // Filter the data\n                       '2012-09-07', // Start Date\n                       '2012-10-07', // End Date\n                       1,  // Start Index\n                       500 // Max results\n\n                       );\n</code></pre>\n\n<p>I have an array lets say </p>\n\n<pre><code> $resultsg1 = $graph1-&gt;getResults();\n</code></pre>\n\n<p>and </p>\n\n<pre><code> $resultsg2 = $graph2-&gt;getResults();\n</code></pre>\n\n<p>and I am trying to fetch this value from for each loop code is here</p>\n\n<pre><code>data.addRows([\n          &lt;?php\n          foreach($results as $result)\n         {\n            echo '[\"'.date(\"l, F j, Y\",strtotime($result-&gt;getDate())).'\", '.$result-&gt;getVisits().',\" Visits :'.$result-&gt;getVisits().'\",\"'.date(\"l, F j, Y\",strtotime($result-&gt;getDate())).'\",'.$result-&gt;getVisits().',\" Visits :'.$result-&gt;getVisits().'\"],';\n          }\n\n          ?&gt;\n         ]);\n</code></pre>\n\n<p>Now My Question I need an output something like this :-</p>\n\n<pre><code>foreach($resultsg1 as $result1 and resultsg2 as $results2 )\n\n {\n                echo '[\"'.date(\"l, F j, Y\",strtotime($result1-&gt;getDate())).'\", '.$result1-&gt;getVisits().',\" Visits :'.$result1-&gt;getVisits().'\",\"'.date(\"l, F j, Y\",strtotime($result2-&gt;getDate())).'\",'.$result2-&gt;getVisits().',\" Visits :'.$result2-&gt;getVisits().'\"],';\n              }\n\n              ?&gt;\n             ]);\n</code></pre>\n\n<p>Any help is highly appreciated.... :)</p>\n\n<p><strong>Note</strong>:- Purpose of this code is to simply create a graph with two different months.</p>\n"},{"tags":["php","javascript","html","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13285514,"title":"delete row from table with href","body":"<p>I want to delete a row in the table and also delete  the database using a href link but when I click on the link line will not delete\nmy table:</p>\n\n<pre><code>&lt;table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"display\" id=\"example\"&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n\n&lt;th&gt; &lt;/th&gt;\n&lt;th&gt;Kpi&lt;/th&gt;\n&lt;th&gt;Criticity&lt;/th&gt;\n&lt;th&gt;Service&lt;/th&gt;\n&lt;th&gt;Condition Kpi&lt;/th&gt;\n&lt;th&gt;Condition 1&lt;/th&gt;\n&lt;th&gt;Condition 2&lt;/th&gt;\n&lt;th&gt;Condition 3&lt;/th&gt;\n&lt;th&gt;Edit&lt;/th&gt;\n&lt;th&gt;Delete&lt;/th&gt;\n\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n\n\n\n\n{% for kpi in KPIs %}\n&lt;tr class=\"gradeU\"&gt;\n&lt;td &gt;{{kpi.getid}}&lt;/td&gt;\n&lt;td&gt;{{ kpi.kpi }}&lt;/td&gt;\n&lt;td&gt;{{ kpi.criticity}}&lt;/td&gt;\n&lt;td&gt;{{ kpi.service }}&lt;/td&gt;\n&lt;td&gt;{{ kpi.conditionkpi }}&lt;/td&gt;\n&lt;td&gt;{{ kpi.num1 }}&lt;/td&gt;\n&lt;td&gt;{{ kpi.num2 }}&lt;/td&gt;\n&lt;td&gt;{{ kpi.num3 }}&lt;/td&gt;\n&lt;td&gt;&lt;a class=\"edit\" href=\"\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\n&lt;td value=\"{{kpi.getid}}\"&gt;&lt;a href=\"#\" onclick=\"suppLigne(this.parentNode.parentNode)\"&gt; Supprimer &lt;/a&gt;\n\n\n\n&lt;/tr&gt;\n{% endfor %}\n\n\n&lt;/tbody&gt;\n&lt;/table&gt;\nma fonction javascript:\nfunction suppLigne( ligne){\nligne.parentNode.removeChild( ligne);\n}\n</code></pre>\n\n<p>I also tried with this function in my controller but still no good answer</p>\n\n<pre><code>    public function supprimerkpiAction()\n{ \n        $session =$this-&gt;get('request')-&gt;getSession() ;\n        $user_name = $session-&gt;get('user_name');\n\n\n$repository = $this-&gt;getDoctrine()-&gt;getEntityManager()-&gt;getRepository('AdminBlogBundle:Conditionalertes');\n$id=$this-&gt;getRequest()-&gt;query-&gt;get('id');\n                $em = $this-&gt;getDoctrine()-&gt;getEntityManager();\n$uti=$repository-&gt;find($id);\n                $em-&gt;remove($uti);\n                $em-&gt;flush();\n\n   $KPIs =  $repository-&gt;findAll();\n\n      return $this-&gt;render('AdminBlogBundle:GestionKPI:supprimer.html.twig', array('user_name'=&gt;$user_name,'KPIs'=&gt;$KPIs));\n\n\n}\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13284124,"title":"backslash- what it mean","body":"<p>What is difference between <code>\\</code> and <code>\\\\</code>? </p>\n\n<pre><code> echo $path_1=\"C:\\wamp\\www\\practice\\\";\n</code></pre>\n\n<p>Output shows error:</p>\n\n<blockquote>\n  <p>Parse error: syntax error, unexpected $end, expecting T_VARIABLE or T_DOLLAR_OPEN_CURLY_BRACES or T_CURLY_OPEN</p>\n</blockquote>\n\n<pre><code> echo $path_1=\"C:\\\\wamp\\\\www\\\\practice\\\\\";\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>C:\\wamp\\www\\practice\\</p>\n</blockquote>\n\n<p>Instead of printing <code>C:\\\\wamp\\\\www\\\\practice\\\\</code> it prints <code>C:\\wamp\\www\\practice\\</code></p>\n"},{"tags":["php","jquery","mysql","highcharts"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12886370,"title":"Highcharts Pie Chart Slice Errors","body":"<p>Thank You very much for Read this and i apologize if my english is not very good.</p>\n\n<p>Well, i'm trying to do a highchart pie chart, but the labels don't appear, only the numbers. \ni've been searching, but i can't find the answer, and i'm new in this.</p>\n\n<p>This is my data_2.php file:</p>\n\n<pre><code>&lt;?php \n\n$con = mysql_connect(\"localhost\",\"root\",\"\"); \n\nif (!$con) {   die('Could not connect: ' . mysql_error()); } \n\nmysql_select_db(\"pymesonline\", $con); \n\n$result = mysql_query(\"SELECT descripcion_p, sum(cantidad_vendida) FROM venta_producto GROUP BY descripcion_p\"); \n\n    while($row = mysql_fetch_array($result)) {\n        echo $row['descripcion_p'] . \"\\t\" . $row['sum(cantidad_vendida)']. \"\\n\"; } \n    mysql_close($con); \n\n?&gt;\n</code></pre>\n\n<p>And this my script:</p>\n\n<pre><code>var a = jQuery.noConflict();\na(document).ready(function(){\n\nvar chart;\nvar options = {\n                    chart: {\n                        renderTo: 'container',\n                        plotBackgroundColor: null,\n                        plotBorderWidth: null,\n                        plotShadow: false\n                    },\n\n                    title: {\n                        text: 'Productos Mas Vendidos',\n                        x: -20 //center\n                    },\n\n                    subtitle: {\n                        text: 'Historico',\n                        x: -20\n                    },\n\n\n                    series: [{\n                        type: 'pie',\n                        name: 'Cantidad Vendida',\n\n                        }]\n\n                    }\n\n    jQuery.get('clases/data_2.php', null, function(tsv) {\n                    var lines = [];\n                    traffic = [];\n                    try {\n                        // split the data return into lines and parse them\n                        tsv = tsv.split(/\\n/g);\n                        jQuery.each(tsv, function(i, line) {\n                            line = line.split(/\\t/);\n                            date = Date.parse(line[0]);\n                            traffic.push([\n                                date,\n                                parseInt(line[1].replace(',', ''), 10)\n                            ]);\n                        });\n                    } catch (e) {  }\n                    options.series[0].data = traffic;\n                    chart = new Highcharts.Chart(options);\n                });\n});\n</code></pre>\n\n<p>The result is this, and i don't know what is wrong, everything it's ok, except by the labels.\nI appreciate too much the helps, thank you so much.</p>\n\n<p><a href=\"http://www.mediafire.com/conv/b277ade252e71e50dc1fcc5f2433f926633a1badb8a64fe75af6eb63907962f96g.jpg\" rel=\"nofollow\">This is the Result</a></p>\n"},{"tags":["php","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13285360,"title":"Cannot Upload Excel file in CodeIgniter","body":"<p>I would like to upload excel file many times in CodeIgniter, but not successfully</p>\n\n<p>(The filetype you are attempting to upload is not allowed.)</p>\n\n<p>Controller Coding:</p>\n\n<pre><code>                $this-&gt;load-&gt;library('upload');\n                $this-&gt;load-&gt;helper('file');\n                //$config['upload_path'] = XLS_PATH;\n                $config['upload_path'] = './public/test/files/test/';\n                $config['allowed_types'] = 'xls|xlsx';\n                $config['max_size'] = 0;\n\n                $this-&gt;upload-&gt;initialize($config);\n\n                echo $this-&gt;upload-&gt;file_type;\n\n                if (!$this-&gt;upload-&gt;do_upload('userfile'))\n                {\n\n                    echo $this-&gt;upload-&gt;display_errors();\n\n                }\n                else\n                {\n                      $this-&gt;upload-&gt;do_upload('userfile');\n\n                }\n</code></pre>\n\n<p>Views:</p>\n\n<pre><code>&lt;form method=\"post\" enctype=\"multipart/form-data\"&gt;\n&lt;input type=\"file\" id=\"userfile\" name=\"userfile\"/&gt;\n&lt;input type=\"submit\" name=\"submit\" id=\"sumit\" value=\"Test\" /&gt;\n &lt;/form&gt;\n</code></pre>\n"},{"tags":["php","apache","url","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":13284271,"title":"Re writing root in php","body":"<p>There is a list of options in my website home page for example assume <a href=\"http://abc.ca\" rel=\"nofollow\">http://abc.ca</a> and when a user clicks on option1, I want to show the URL as <a href=\"http://option1.abc.ca\" rel=\"nofollow\">http://option1.abc.ca</a> and not like <a href=\"http://abc.ca/xyz.php?opt=option1\" rel=\"nofollow\">http://abc.ca/xyz.php?opt=option1</a>. Any help or guidance would be appreciated. Please correct if it's not proper.</p>\n"},{"tags":["php","jquery","ajax","data","gd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13285601,"title":"how to display an image type in jquery ajax post returned via image.php as image/jpeg","body":"<p>jquery side code</p>\n\n<pre><code>function post(form)\n { loading(1); \n$.ajax({\n type: 'POST',\n url: 'collage.php', \ndataType:'image/jpeg',\n data: $('#'+form).serialize(),\n success: function(data)\n { $('#image').html('');\n\n     }\n});\nreturn false;\n} function loading(val) { if (val==1) { $('#image').html(''); } else { $('#image').html(''); } }\n</code></pre>\n\n<p>php side code</p>\n\n<pre><code> header('Content-Type: image/jpeg'); Imagejpeg($new);\n</code></pre>\n"},{"tags":["php","regex","replace","paragraph","html-heading"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":28,"score":0,"question_id":13284999,"title":"Regex for replacing <p class=\"someClass\"> with <h2> tag?","body":"<p>I need to replace all:</p>\n\n<pre><code>&lt;p class=\"someClass someOtherClass\"&gt;content&lt;/p&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;h2 class=\"someClass someOtherClass\"&gt;content&lt;/h2&gt;\n</code></pre>\n\n<p>in a string of content. Basically i just want to replace the <code>\"p\"</code> with a <code>\"h2\"</code>.</p>\n\n<p>This is what i have so far:</p>\n\n<pre><code>/&lt;p(.*?)class=\"(.*?)pageTitle(.*?)\"&gt;(.*?)&lt;\\/p&gt;/\n</code></pre>\n\n<p>That matches the entire <code>&lt;p&gt;</code> tag, but i'm not sure how i would go about replacing the <code>&lt;p&gt;</code> with <code>&lt;h2&gt;</code></p>\n\n<p>How would i go about doing this?</p>\n"},{"tags":["php","pdo","doctrine2","foreign-keys"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13285520,"title":"Doctrine 2: Custom Foreign Key names","body":"<p>is there any way to take a custom the Foreign Key in Doctrine 2?</p>\n\n<p>My Problem is, that i get an error, when i try to clone a table.\nBecause when i clone the tables, the Foreign Keys cloned too, and the names are the same and i get an error.</p>\n"},{"tags":["php","json-encode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":13282161,"title":"json_encode not including array value","body":"<p>I have array, when i print_r it's have value,\nbut when I echo json_encode($data) some field null value like this:</p>\n\n<pre><code>header('Content-type: application/json'); \necho json_encode($data).'&lt;br/&gt;---------&lt;br/&gt;';\nprint_r($data);\n</code></pre>\n\n<p>output is (look careful content in json_encode null, but in array have value):</p>\n\n<pre><code>{\"ID\":\"7\",\"content\":null}\n---------\n\n Array\n(\n[ID] =&gt; 7\n[content] =&gt; dknbsj fhsmnfbs fgbsjhdfg&lt;a href=\"http://abc.com/wordpress/wp-content/uploads/2012/11/vista.jpg\"&gt;&lt;img class=\"alignnone size-medium wp-image-9\" title=\"vista\" src=\"http://abc.com/wordpress/wp-content/uploads/2012/11/vista-300x200.jpg\" alt=\"\" width=\"300\" height=\"200\" /&gt;&lt;/a&gt; oggggg\n)\n</code></pre>\n\n<p></p>\n"},{"tags":["php","html","css","templates","joomla"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13285420,"title":"Apply A Joomla Template Based on Component","body":"<p>I'm currently hunting down a solution to my Joomla problem. I came across this 'thread' where someone has asked for something similar.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3269879/joomla-how-to-change-template-on-a-specific-article\">Joomla: How to change template on a specific article</a></p>\n\n<p>My issue is kind of similar. I would like to show a different template only when the visitor is viewing/using a component that I have installed.</p>\n\n<p>The component is known as 'Joomla Music Solutions' which has a component name of 'muscol' or something similar.</p>\n\n<p>However, I have had some work done to the component and there are certain pages where 'muscol' isn't in the url - well, not in the same format as the rest.</p>\n\n<p>So, for example - for most pages, it is '/site/component/muscol/'</p>\n\n<p>But for a select few, the url is a search string like this ;</p>\n\n<p>'/site/index.php?option=com_muscol&amp;view=search&amp;show=1&amp;search=albums&amp;tag_id=2'</p>\n\n<p>I've tried the second theory on that question, only to find I get an error saying</p>\n\n<h2>'The template for this display is not available. Please contact a Site administrator.'</h2>\n\n<p>So perhaps the code is for a previous version of Joomla, or I've done something wrong?</p>\n\n<p>Even if that did work - I'm not confident it would work with the search string (the second url above)</p>\n\n<p>I hope someone can help! </p>\n\n<p>Many thanks!</p>\n\n<p>Greg</p>\n"},{"tags":["php","html","parsing","dom"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13285412,"title":"Php code to parse table from aspx page to MySQL db","body":"<p>I need to parse an HTML table into a mysqldb \nI searched through the website and I saw some codes how to do it through DOMdocument,\nMy problem is that since its a dynamic table look like the php only get the HTML source code (the same you get when you right click on webpage and press show source) but the acttual HTML code which rended when the page appear on a browser doesn't load into the Domdocument variable, \nSamples and reference will be appreciated \nChaim</p>\n"},{"tags":["php","iframe","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13285230,"title":"Load website in Iframe using curl","body":"<p>I am new in Curl, how to load external website? I am using the following code:</p>\n\n<pre><code> function Get_Domain_Contents($url){\n        $ch = curl_init();\n        $timeout = 5;\n        curl_setopt($ch,CURLOPT_URL,$url);\n        curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);\n        curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,$timeout);\n        curl_setopt($ch, CURLOPT_TIMEOUT, 10);\n        $data = curl_exec($ch);\n        curl_close($ch);\n\n\n        return $data;   \n}\n</code></pre>\n\n<p>now I want to know that how load website in an <code>iframe</code>.</p>\n"},{"tags":["php","datetime","unix-timestamp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13277368,"title":"Why is getTimestamp() affected by setTimezone()","body":"<p>I've been struggling quite a while with PHP's DateTime classes. My understanding is that a UNIX-timstamp is always in UTC, regardless of the timezone.</p>\n\n<p>That's why I am quite confused with this code sample.</p>\n\n<pre><code>$date1 = new DateTime(\"@1351382400\"); // Sun Oct 28 2012 02:00:00 GMT+2 (DST)\nvar_dump($date1-&gt;getTimestamp()); //prints: 1351382400\n$date1-&gt;setTimezone(new DateTimeZone(\"Europe/Stockholm\"););\nvar_dump($date1-&gt;getTimestamp()); //prints: 1351386000\n</code></pre>\n\n<p>As you can see setTimezone() changes the result of getTimestamp(). </p>\n\n<p>Is it expected that setTimezone() affects getTimestamp()?</p>\n"},{"tags":["php","image"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":10219126,"title":"given two images, determine whether one is edited from the other (and which is the original)","body":"<p>suppose there is an image on web without watermark. And someone downloads it and makes some edits on it like adding watermark etc etc. Is it possible to write a script in php to compare these two images. Like when I submit these two images to the script, it should be able to output the original image and manipulated image. </p>\n\n<p>I read google's webmaster page which says</p>\n\n<blockquote>\n  <p>Google often finds multiple copies of the same image online. We use many different signals to identify the original source of the image\n  Blockquote</p>\n</blockquote>\n\n<p>This is the main concern of my question</p>\n\n<p>One more doubt is will there be any meta tags inside an image. if at all how to read them. Is it possible to edit them. Are there any information(not visual) inside an image which cannot be edited.</p>\n"},{"tags":["php","database","eclipse","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":21,"score":1,"question_id":13285311,"title":"Is there an easy way to create sql for php in eclipse?","body":"<p>I am learning PHP and I am trying to create sql statements and connect to database using eclipse.</p>\n\n<p>Is there easy way to create sql statements like any plugin or any document.  Please can anybody help me out in this?</p>\n"},{"tags":["php","json"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13285210,"title":"decode json from gnip with php","body":"<p>I have been at this for hours and cant for the life of me figure out how to decode this json file. I am using gnip to capture twitter data. Gnip is returning the data in JSON format. I need a way to decode this in php and be able to access each of the json objects. I have worked with json before but I am not able to wrap my mind around this one. One funny thing i came across during simple testing was if i have a json code like this</p>\n\n<pre><code>{\"foo\":123}\n</code></pre>\n\n<p>I can decode this using the json_decode() function. But if the json is formatted like this</p>\n\n<pre><code>{\n\n \"foo\":123\n\n\n}\n</code></pre>\n\n<p>it doesnt decode :/</p>\n\n<p>Here is a link to the json code:</p>\n\n<p><a href=\"https://dl-web.dropbox.com/get/Public/myjson.json?w=b7ad8e2c\" rel=\"nofollow\">https://dl-web.dropbox.com/get/Public/myjson.json?w=b7ad8e2c</a></p>\n\n<p>if this link doesnt work this should</p>\n\n<p><a href=\"https://dl.dropbox.com/u/57604377/myjson.json\" rel=\"nofollow\">https://dl.dropbox.com/u/57604377/myjson.json</a></p>\n\n<p>I tried to access it like this.</p>\n\n<p>i put all of this json code inside a file and read the file and put the contents into a variable called $json\nthen,</p>\n\n<pre><code>$obj = json_decode($json)\n</code></pre>\n\n<p>i tried both these methods to access the value of \"id\" for starters</p>\n\n<pre><code>echo $obj-&gt;id\n</code></pre>\n\n<p>and</p>\n\n<pre><code>echo $obj-&gt;{'id'}\n</code></pre>\n\n<p>it doesnt return anything</p>\n\n<p>I hope some of you brilliant people can give me some insights into this.</p>\n"},{"tags":["php","symfony2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13284085,"title":"Giving value to the controller via get without displaying it in the link - Symfony2","body":"<p>I need to pass two variables to the controller - var1 and var2, but I want the displayed link to be</p>\n\n<p><code>something/var1</code>, not <code>something/var1/var2</code> and in the controller I need </p>\n\n<pre><code>doSomethingAction($var1, $var2)\n{ \n    ...\n}\n</code></pre>\n\n<p>It there a way to achieve this?</p>\n"},{"tags":["php","google-api","picasa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4,"score":0,"question_id":13285290,"title":"Google Picasa search api","body":"<p>Can I search by keywords on Google Picasa by using API ?</p>\n\n<p><em>P.S. Sorry for my english.</em></p>\n"},{"tags":["php","heroku","background","timeout","facebook-apps"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13281858,"title":"Heroku PHP hosting timeout","body":"<p>I am currently hosting a research project on Heroku using PHP and the Facebook API. It is somewhat intensive, so it is running past Heroku's time limit of 30 seconds for a response. Using their support, they suggest to use a background process to do this (https://devcenter.heroku.com/articles/background-jobs-queueing), but they don't say how I should do this for PHP. Does anyone have any suggestions?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":36,"score":-5,"question_id":13285044,"title":"PHP escape single quote","body":"<p>I'm trying to make a colored box around certain words using php</p>\n\n<pre><code>echo '&lt;span style=\"background-color: &lt;?php echo $row[\\'color\\']; ?&gt;; padding:3px\"&gt;' \n\n. \"hello\" . '&lt;/span&gt;';\n</code></pre>\n\n<p>where in mysql, $row['color'] contains the color red.</p>\n\n<p>It doesn't seem to change the background color of \"hello\" to red, am I doing something wrong regarding the double and single quotes that are used within the echo?</p>\n"},{"tags":["php","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13285150,"title":"how to add the number of form by the user with php to input the data","body":"<p>i m design the form to record the payment plan for project by monthly\nso the user already know how long the project will spend\nsome project have 4 month so mean the user have to record 4 monthly payment\nand some project have 8 month so mean the user have to record 8 mothly payment\nwhat I want is the user can choose input form for record\nfor example if the choose 4 then the form will apprear for 4\nso any suggestion the coding with php </p>\n\n<p>thank you in advance</p>\n"},{"tags":["php","mysql","loops"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":13283023,"title":"PHP looping statement","body":"<p>Upon applying this code: <code>$lines = explode(\"\\n\", $val);</code> where <code>$val = $_POST['result'];</code> and <code>$_POST['result'];</code> is from a textarea where these strings are being exploded:</p>\n\n<blockquote>\n  <p>A - B -> 1:00</p>\n  \n  <p>B - A -> 1:30</p>\n</blockquote>\n\n<p>So <code>$lines[0] = \"A - B -&gt; 1:00\"</code> and <code>$lines[1] = \"B - A -&gt; 1:30\"</code> respectively. </p>\n\n<p>In <code>foreach ($lines as $line)</code> , I'll explode it again for every <code>-&gt;</code> meet. Like this:</p>\n\n<pre><code>    $fields = explode('-&gt;', $line);\n    $loc = trim($fields[0]);\n    $bltime = trim($fields[1]);\n</code></pre>\n\n<p>So <code>$loc</code>= \"A - B\" and <code>$bltime</code> = \"1:00\". Then I'll save these values in a table along with a value I stored in a session namely <code>$_SESSION[rno]</code> which is a primary key from another table and fetch another value from the same table. </p>\n\n<pre><code>    $e=mysql_query(\"select etd from reservation \n      where reservno = '$_SESSION[rno]'\") or die(mysql_error());\n    $f=mysql_fetch_array($e);\n    $g=$f['etd'];\n    mysql_query(\"insert into pdf(reservno, block, location, etd) \n      values ('$_SESSION[rno]', '\".mysql_escape_string($bltime).\"','\".\n      mysql_escape_string($loc).\"', '$g')\") or die(mysql_error()); \n</code></pre>\n\n<p>Then I need to add the values of <code>etd</code> and <code>block</code> for the value of <code>eta</code> then just update the table having the maximum <code>pdf_id</code> which is the primary key of <code>pdf</code> table after. </p>\n\n<pre><code>    $a=mysql_query(\"select pdf_id as 'maxpdf' from pdf where pdf_id in \n      (select max(pdf_id) from pdf where reservno = '$_SESSION[rno]')\") \n      or die(mysql_error());\n    $b=mysql_fetch_array($a);\n    $c=$b['maxpdf'];\n    $h=mysql_query(\"select addtime(etd, block) as 'eta' from pdf \n      where pdf_id = '$c'\") or die(mysql_error());\n    $j=mysql_fetch_array($h);\n    $k=$j['eta'];\n    mysql_query(\"update pdf set eta = '$k' where pdf_id = '$c'\") \n      or die(mysql_error());\n</code></pre>\n\n<p>So I'll have the following values in the <code>pdf</code> table upon running the whole codes I posted above still based on the above value of <code>$_POST['result'];</code>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/BpHz8.jpg\" alt=\"enter image description here\"></p>\n\n<p>What I want to do is to make this possible: have the first computed <code>eta</code> the value of the next <code>etd</code> then compute for it's <code>eta</code> (<code>etd</code> + <code>block</code>). And then the <code>waiting</code> column should have the value of first <code>eta</code> minus the next <code>etd</code>. Something like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/kKYEP.jpg\" alt=\"enter image description here\"></p>\n\n<p>What is crucial and important here is the passing of the first <code>eta</code> to the next <code>etd</code> and the computation. How can I get it done when I'm required to loop through the exploded values? Please help me. I'm sorry for the long explanation but I want all of you to understand what I am trying to achieve. Thanks! </p>\n"},{"tags":["php","mysql","oop","mysqli"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":13268143,"title":"Reuse MySQL connection PHP object inheritance","body":"<p>I'm writing a single PHP script to migrate topics from an old forums site to a new one.  </p>\n\n<ul>\n<li>The old forums site use database \"old_forums\"  </li>\n<li>Thew new forums site use database \"new_forums\"</li>\n<li>MySQL user \"forums\" has all privileges to both databases (I'm using 1 single user for convenience but I would not have any problems using 2 different users if required)</li>\n</ul>\n\n<p>I have both forum hosted on the the same host - localhost</p>\n\n<p>The script I have the following structure  </p>\n\n<pre><code>&lt;?php  \nclass Forum {  \n   //constants  \n   const HOST = \"localhost\";  \n   const DB_USER = \"forums\";  \n   const DB_PASS = \"forums\";  \n   ...  \n   //properties e.g. topic title, topic content\n}\nclass OldForum extends Forum {  \n   const DB_NAME_OLD = \"old_forums\";  \n   public static function exportTopics() {  \n       //some code\n   }  \n}\nclass NewForum extends Forum {\n   const DB_NAME_NEW = \"new_forums\";\n   public static function importTopics() {  \n       //some code\n   }\n}  \nOldForum::exportTopics();  \nNewForum::importTopics();  \n?&gt;   \n</code></pre>\n\n<p>I understand that I'm mixing procedural &amp; object-oriented programming PHP (OOPP) here.\nI'm new to object-oriented PHP but (I have experience with Java so I'm very open to some guide to make this pure OOPP)  </p>\n\n<p>I would like to ultilise 1 single MySQL connection for both OldForum and NewForum class.<br>\nWhere should I instantiate a mysqli object?<br>\ne.g. inside Forum class' constructor or have a new mysqli object as a property of class Forum<br>\nso that I would create a new Forum object to initiate a MySQL connection</p>\n\n<pre><code>$a_forum = new Forum();  \n</code></pre>\n"},{"tags":["php","javascript","json","post","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13191316,"title":"Symfony2 and Submit wit JavaScript: How to get html content","body":"<p>I have a form in Symfony2 project and I need to submit form. The first idea was to submit using ajax but the problem is that this will not pass the symfony2 required validation and I am getting the CSRF error message (see my precedant question : <a href=\"http://stackoverflow.com/questions/13154035/symfony2-the-csrf-token-is-invalid-please-try-to-resubmit-the-form\">Symfony2: The CSRF token is invalid. Please try to resubmit the form</a>).</p>\n\n<p>Thank's to @Elnur's answer, I am able now to submit the form using $post but have another problem.</p>\n\n<p>With Ajay, I am getting back an html response and I was able to asign this response to an HTML element:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    async: true,\n    url: href,\n    cache: false,\n    dataType: \"json\",\n    success: function(data) {\n        $(\"#content .contentwrap .itemwrap\").html( data.content );\n    }\n});\n</code></pre>\n\n<p>Here is the response I am getting from:</p>\n\n<pre><code>&lt;div class=\"item item-last\"&gt;\n&lt;h1&gt;Create Affiliation&lt;/h1&gt;\n        &lt;div class=\"error\"&gt;\n        &lt;ul&gt;&lt;li&gt;The CSRF token is invalid. Please try to resubmit the form&lt;/li&gt;&lt;/ul&gt;\n        &lt;ul&gt;&lt;li&gt;The Affiliation should not be blank&lt;/li&gt;&lt;/ul&gt;\n\n    &lt;/div&gt;\n\n&lt;/div&gt;\n&lt;div class=\"item item-last\"&gt;\n&lt;form action=\"/app_dev.php/user/submission/affiliation/create/4a0ad9f8020c5cd5712ff4c4c8921b32?ajax=no\" method=\"POST\" class=\"authorForm\" &gt;\n    &lt;div style=\"float:left;\"&gt;\n        &lt;table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\"&gt;\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;label for=\"submissionAffiliationForm_affiliation\" class=\" required\"&gt;Affiliation&lt;/label&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=\"text\" id=\"submissionAffiliationForm_affiliation\" name=\"submissionAffiliationForm[affiliation]\" required=\"required\"    size=\"40\" /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &amp;nbsp;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;div class=\"button button-left button-cancel\"&gt;\n                        &lt;img src=\"/bundles/sciforumversion2/images/design/new/button-red.png\"/&gt;\n                        &lt;a href=\"/app_dev.php/user/submission/author/edit/4a0ad9f8020c5cd5712ff4c4c8921b32/0\" class=\"submission_link\"&gt;cancel&lt;/a&gt;\n                    &lt;/div&gt;\n                    &lt;div style=\"float: left;\"&gt;&amp;nbsp;&lt;/div&gt;\n                    &lt;div class=\"button button-left button-cancel\"&gt;\n                        &lt;img src=\"/bundles/sciforumversion2/images/design/new/button.png\"/&gt;\n                        &lt;input type=\"submit\" name=\"login\" value=\"submit\" /&gt;\n                    &lt;/div&gt;\n                    &lt;div style=\"clear: both;\"&gt;&lt;/div&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n\n    &lt;input type=\"hidden\" id=\"submissionAffiliationForm__token\" name=\"submissionAffiliationForm[_token]\" value=\"de9690f61f0ee5f30fdcc5152f44e76787f34bbb\" /&gt;\n\n&lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>But now, when using post:</p>\n\n<pre><code>$.post($this.attr('action'), $this.serialize(), function (data) {\n    $(\"#content .contentwrap .itemwrap\").html( data );\n});\n</code></pre>\n\n<p>I am not getting anymore HTML but a JSON formated response and I don't know how to extract he right information from.</p>\n\n<p>Here is the response I am getting from the post:</p>\n\n<pre><code>{\"responseCode\":400,\"errors\":false,\"submitted\":false,\"content\":\"&lt;!DOCTYPE html&gt;\\n&lt;html&gt;\\n    &lt;head&gt;\\n        &lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text\\/html; charset=utf-8\\\" \\/&gt;\\n        &lt;meta http-equiv=\\\"refresh\\\" content=\\\"1;url=\\/app_dev.php\\/user\\/submission\\/4a0ad9f8020c5cd5712ff4c4c8921b32\\\" \\/&gt;\\n\\n        &lt;title&gt;Redirecting to \\/app_dev.php\\/user\\/submission\\/4a0ad9f8020c5cd5712ff4c4c8921b32&lt;\\/title&gt;\\n    &lt;\\/head&gt;\\n    &lt;body&gt;\\n        Redirecting to &lt;a href=\\\"\\/app_dev.php\\/user\\/submission\\/4a0ad9f8020c5cd5712ff4c4c8921b32\\\"&gt;\\/app_dev.php\\/user\\/submission\\/4a0ad9f8020c5cd5712ff4c4c8921b32&lt;\\/a&gt;.\\n    &lt;\\/body&gt;\\n&lt;\\/html&gt;\",\"notice\":\"\"}\n</code></pre>\n\n<p>Here is how it looks like th controller:</p>\n\n<pre><code>$em         = $this-&gt;getDoctrine()-&gt;getEntityManager();\n    // get the user object\n    $user       = $this-&gt;get('security.context')-&gt;getToken()-&gt;getUser();\n    $submission = $em-&gt;getRepository('SciForumVersion2Bundle:Submission')-&gt;findOneBy( array(\"hash_key\"=&gt;$hash_key) );\n    $author     = $em-&gt;getRepository('SciForumVersion2Bundle:SubmissionAuthor')-&gt;findOneBy( array(\"id\"=&gt;$author_id, \"hash_key\"=&gt;$hash_key) );\n    if( $author == null ) {\n        $author = new SubmissionAuthor();\n        $author-&gt;setPerson( new Person() );\n    }\n\n    $enquiry    = new Affiliation();\n    $formType   = new SubmissionAffiliationFormType();\n    $form       = $this-&gt;createForm($formType, $enquiry);\n\n    $request    = $this-&gt;getRequest();\n    $valid      = true;\n    $error      = '';\n    if( $request-&gt;get('cancel') == 'yes' ) return $this-&gt;redirect($this-&gt;generateUrl('SciForumVersion2Bundle_user_submission', array(\"key\"=&gt;$submission-&gt;getHashKey())));\n    if ($request-&gt;getMethod() == 'POST' &amp;&amp; $request-&gt;get('ajax') == 'no') {\n\n        $form-&gt;bindRequest($request);\n\n        if ($valid = $form-&gt;isValid()) {\n\n            if( $valid ) {\n\n                $em-&gt;persist($enquiry);\n                $em-&gt;flush();\n\n                $uAff = new UserAffiliation();\n                $uAff-&gt;setUserId( $user-&gt;getId() );\n                $uAff-&gt;setAffiliationId( $enquiry-&gt;getId() );\n                $uAff-&gt;setUser( $user );\n                $uAff-&gt;setAffiliation( $enquiry );\n                $em-&gt;persist($uAff);\n                $em-&gt;flush();\n\n                // Redirect - This is important to prevent users re-posting\n                // the form if they refresh the page\n                return $this-&gt;redirect($this-&gt;generateUrl('SciForumVersion2Bundle_user_submission', array(\"key\"=&gt;$submission-&gt;getHashKey())));\n            }\n        }\n</code></pre>\n"},{"tags":["php","api"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":9,"view_count":29,"score":-9,"question_id":13285064,"title":"List of API providers for Air Ticket Booking","body":"<p>I want the \"List of API providers for Air Ticket Booking\", I have a travel web site so i need to integrate that API in my website.</p>\n\n<p>My website built on PHP.</p>\n\n<p>Please help me out</p>\n"},{"tags":["php","html","joomla","content-management-system","joomla2.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13285108,"title":"Joomla 2.5 Modalizer plugin for the registration form","body":"<p>I'm using the standard registration form on Joomla 2.5</p>\n\n<p>I installed the \"modalizer-v3.1.3\" plugin.\nThis plugin creates a popup window. For it to work you have to wrap the link\nin a code:</p>\n\n<pre><code>{modal url=#}Всплывающее онко{/modal}\n</code></pre>\n\n<p>Where in Joomla files can I find the following links of the registration form?</p>\n\n<p>\"Forgot password?\"</p>\n\n<p>\"Forgot login\"</p>\n\n<p>\"Register\"</p>\n"},{"tags":["php","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13283978,"title":"Apply Effect same like xls or xlsx in csv using phpExcel","body":"<p>I am Exporting reports to csv and xls using PhpExcel. I can see the effects like color, Grouping, Width, Wraptext in cell, Font style, Font size, Bold etc.... in the xls format but when I pass this to csv writer object then data are properly placed in cells but no effects are applying in csv. I am using below code for export to csv.</p>\n\n<p>I have tried with 2 different ways but the result was the same</p>\n\n<pre><code>$objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'CSV');\n</code></pre>\n\n<p>and another</p>\n\n<pre><code>$objWriter = new PHPExcel_Writer_CSV($objPHPExcel);\n\n\n$objWriter-&gt;setDelimiter(',');\n$objWriter-&gt;setEnclosure('');\n$objWriter-&gt;setLineEnding(\"\\r\\n\");\n$objWriter-&gt;setSheetIndex(0);\n\nheader('Content-type: text/csv');\nheader('Content-Disposition: attachment;filename=\"export.csv\"');\nheader('Cache-Control: max-age=0');\n\n$objWriter-&gt;save('php://output');\n</code></pre>\n"},{"tags":["php","oop","design-patterns"],"answer_count":1,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":537,"score":4,"question_id":3209697,"title":"Questions about Command Pattern (PHP)","body":"<p>i did up a minimalistic Command Pattern example in PHP after reading up about it. i have a few questions ... </p>\n\n<p>i'll like to know if what i did is right? or maybe too minimal, thus reducing the point of the command pattern</p>\n\n<pre><code>interface ICommand {\n  function execute($params);\n}\nclass LoginCommand implements ICommand {\n  function execute($params) {\n    echo \"Logging in : $params[user] / $params[pass] &lt;br /&gt;\";\n    $user = array($params[\"user\"], $params[\"pass\"]);\n    // faked users data\n    $users = array(\n      array(\"user1\", \"pass1\"),\n      array(\"user2\", \"pass2\")\n    );\n\n    if (in_array($user, $users)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n\n$loginCommand = new LoginCommand();\n// $tries simulate multiple user postbacks with various inputs\n$tries = array(\n  array(\"user\" =&gt; \"user1\", \"pass\" =&gt; \"pass1\"),\n  array(\"user\" =&gt; \"user2\", \"pass\" =&gt; \"pass1\"),\n  array(\"user\" =&gt; \"user2\", \"pass\" =&gt; \"PaSs2\")\n);\n\nforeach ($tries as $params) {\n  echo $loginCommand-&gt;execute($params) ? \" - Login succeeded!\" : \" - Login FAILED!\";\n  echo \" &lt;br /&gt;\";\n}\n</code></pre>\n\n<p>i am wondering if there is any difference from simply putting this <code>LoginCommand</code> into a simple function say in the <code>Users</code> class? </p>\n\n<p>if <code>LoginCommand</code> is better fit for a class, won't it be better if it were a static class so i can simply call <code>LoginCommand::execute()</code> vs needing to instanciate an object 1st?</p>\n"}]}
{"total":298823,"page":7,"pagesize":100,"questions":[{"tags":["php","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13284723,"title":"What is the php regex to capture a set of strings 8, 9, and 10 chars long?","body":"<p>I am dealing with a spambot and in order to prevent its nonsense posts I have determined that it always posts in a specific manner of [8 characters a-zA-Z] [9 characters a-zA-Z] [10 characters a-zA-Z] ...</p>\n\n<p>I want to capture this exact pattern so I can block it. </p>\n\n<p>An example looks like this: </p>\n\n<blockquote>\n  <p>EifnBTVK zljhGBZty poozgzbdax JZBnNbbpt rbpdig LfpMXMEDqay LfjrLSDQ saxaUBPlc NjflPITJ gccuOZJph</p>\n</blockquote>\n\n<p>I'm thinking it's something like </p>\n\n<pre><code>/^[a-zA-Z]{8}[a-zA-Z]{9}[a-zA-Z]{10}.*/\n</code></pre>\n\n<p>Is that the right line of thinking?</p>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13284931,"title":"How to redirect to home.php after facebook oAuth login?","body":"<p>I tried to put  header( 'Location: home.php' ) ; into the function login with facebook but after I successfully login, the page still doesn't redirect to homepage.</p>\n\n<p>Anyone can help me out? Thanks!</p>\n\n<pre><code>function login(response, info){\n            if (response.authResponse) {\n\n               var accessToken =   response.authResponse.accessToken;\n\n                userInfo.innerHTML = '&lt;img src=\"https://graph.facebook.com/' + info.id + '/picture\"&gt;' + info.name\n                                                                 + \"&lt;br /&gt; Your Access Token: \" + accessToken;\n                button.innerHTML                               = 'Logout';\n                showLoader(false);\n                document.getElementById('other').style.display = \"block\";\n                header( 'Location: home.php' ) ;\n            }\n        }\n</code></pre>\n"},{"tags":["php","json","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13284511,"title":"Export row from CSV file to JSON","body":"<p>I want to export a row in CSV file to JSON file with require : 1 line in CSV export 1 file JSON. I success to export file,but can't filter the row that i want to export. Can anyone help me?</p>\n\n<pre><code> &lt;?php\n\nheader('Content-type: application/json');\n\n$feed = 'jsondata_palpad.csv';\n\n$keys = array();\n$newArray = array();\n\nfunction csvToArray($file, $delimiter) { \n  if (($handle = fopen($file, 'r')) !== FALSE) { \n    $i = 0; \n    while (($lineArray = fgetcsv($handle, 4000, $delimiter, '\"')) !== FALSE) { \n      for ($j = 0; $j &lt; count($lineArray); $j++) { \n        $arr[$i][$j] = $lineArray[$j]; \n      } \n      $i++; \n    } \n    fclose($handle); \n  } \n  return $arr; \n} \n\n$data = csvToArray($feed, ',');\n\n$count = count($data) - 1;\n$labels = array_shift($data);  \n\n\nforeach ($labels as $label) {\n  $keys[] = $label;\n}\n\n\n$keys[] = 'id';\nfor ($i = 0; $i &lt; $count; $i++) {\n  $data[$i][] = $i;\n}\n\n\nfor ($j = 0; $j &lt; $count; $j++) {\n $d = array_combine($keys, $data[$j]);\n  $newArray[$j] = $d;\n}\n\n//Xuat file JSON\nfor ($i = 0; $i &lt; 5; $i++) {\n    $json = json_encode($newArray[$i]);\n    echo $json . \"&lt;br /&gt;\\n\";    \n    $filename = $data[$i][1] . \".json\";\n    echo $filename . \"&lt;br /&gt;\\n\";\n    //echo \"title[\" . $data[$i][4] . \"]\";\n    $handle = fopen(\"./\" . $filename, \"w\");\n    fwrite($handle, $json);\n    fclose($handle);    \n}\n\n?&gt;\n</code></pre>\n\n<p>If recommend = 2,it will export line whre id=2.\nI want to export id,product_id,title,outline to JSON file.This is sample JSON file:\n<a href=\"http://img839.imageshack.us/img839/5277/21527799.png\" rel=\"nofollow\">http://img839.imageshack.us/img839/5277/21527799.png</a>\nThis is CSV file :\n<a href=\"http://img690.imageshack.us/img690/1526/43004273.png\" rel=\"nofollow\">http://img690.imageshack.us/img690/1526/43004273.png</a></p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13279806,"title":"Compacting string data for storage and retrieval","body":"<p>I have some text data I would like to store in a mysql database. I currently have the data stored in a variable as a string.</p>\n\n<p>I'm concerned that the table will become quite large due to the amount of text data I have for each row. </p>\n\n<p>Therefore, what is the most easiest way (preferably php built in functions) of compacting this string data in a format ideal for storage and retrieval?</p>\n"},{"tags":["php","joomla1.5"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":12,"score":0,"question_id":13282689,"title":"call_user_func_array() expects parameter 1 to be a valid callback","body":"<p>Everything was working fine but don<code>t know what has happened suddenly in my website, it</code>s been showing me multiples warning  which are:-</p>\n\n<pre><code>Warning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JCacheStorageApc' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/cache/cache.php on line 144\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JCacheStorageEaccelerator' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/cache/cache.php on line 144\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JCacheStorageFile' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/cache/cache.php on line 144\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JCacheStorageMemcache' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/cache/cache.php on line 144\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JCacheStorageXCache' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/cache/cache.php on line 144\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JSessionStorageApc' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/session/session.php on line 284\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JSessionStorageDatabase' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/session/session.php on line 284\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JSessionStorageEaccelerator' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/session/session.php on line 284\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JSessionStorageMemcache' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/session/session.php on line 284\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JSessionStorageNone' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/session/session.php on line 284\n\nWarning: call_user_func_array() expects parameter 1 to be a valid callback, class 'JSessionStorageXcache' does not have a method '‘test’' in /home/vividtec/chhathpuja_html/libraries/joomla/session/session.php on line 284\n</code></pre>\n\n<p>I`m using joomla version 1.5..Anyt help would be appreciated much....Waiting for my superman to help me out...</p>\n"},{"tags":["php","php-5.3"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":52,"score":0,"question_id":13282859,"title":"Can anyone explain this php code?","body":"<pre><code>&lt;?php\nerror_reporting(-1);\n$a = array('key' =&gt; '2');\n$a = $a['key'];\nvar_dump($a);\necho $a['key'], \"\\n\";\n?&gt;\n</code></pre>\n\n<p>I expected the code to throw empty string or a warning saying key isn't present, but the code prints 2;</p>\n\n<p>PHP 5.3.10-1</p>\n\n<p>Update1 : Adding var_dump and error_reporting.  </p>\n\n<p>Output is</p>\n\n<pre><code>hari@hari-laptop:~$ php run.php  \nstring(1) \"2\"  \n2  \n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13283643,"title":"How to keep only unique values and remove ALL duplicate values based on some flag from an array in PHP?","body":"<p>I am working on typical case where I want to sort URLs from multidimensional array based on case insensitive basis and also their is status associated with URL. If user set multiple urls with different status then I want to get the only one url with the status set to false out of duplicate urls. </p>\n\n<p>Original array:                    </p>\n\n<pre><code>Array\n(\n[0] =&gt; Array\n    (\n        [url] =&gt; www.abc.com\n        [status] =&gt; true\n    )\n\n[1] =&gt; Array\n    (\n        [url] =&gt; www.123.com\n        [status] =&gt; true\n    )\n\n[2] =&gt; Array\n    (\n        [url] =&gt; www.abc.com\n        [status] =&gt; true\n    )\n\n\n[3] =&gt; Array\n    (\n        [url] =&gt; www.Abc.com\n        [status] =&gt; false\n    )\n)\n</code></pre>\n\n<p>Final result I want:      </p>\n\n<pre><code>Array\n(\n[0] =&gt; Array\n    (\n        [url] =&gt; www.abc.com\n        [status] =&gt; false\n    )\n\n[1] =&gt; Array\n    (\n        [url] =&gt; www.123.com\n        [status] =&gt; true\n     )\n)\n</code></pre>\n"},{"tags":["php","imagemagick"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13285010,"title":"Create thumbnail for pdf file using php","body":"<p>I have been working to create thumbnail for pdf file. I have used below link for installation and configuration of ImageMagick\n<a href=\"http://www.elxsy.com/2009/07/installing-imagemagick-on-windows-and-using-with-php-imagick/\" rel=\"nofollow\">installation and configuration of ImageMagick</a> and code I have used below code to for conversion of pdf file to thumbnail</p>\n\n<pre><code>&lt;?php\n exec(\"C:/ImageMagick-6.8.0-Q16/convert.exe a.pdf -resize 546x274^ -quality 80 temp.jpg 2&gt;&amp;1\", $array);  \n\n?&gt;\n</code></pre>\n\n<p>It is not converting but it is converting images. The code is </p>\n\n<pre><code>&lt;?php\n exec(\"C:/ImageMagick-6.8.0-Q16/convert.exe a.jpg -resize 546x274^ -quality 80 temp.jpg 2&gt;&amp;1\", $array);  \n?&gt;\n</code></pre>\n\n<p>Can any one please help me to create thumbnail for pdf file .Thanks in advance.</p>\n"},{"tags":["php","excel-2007"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13283881,"title":"Reading excel 2007 in php Invalid file format","body":"<p>Hey I am trying to read data from excel 2003 but I want the system to load also 2007 excel file. The reason is that the excel 2007 file bring the file format exception .The code that checks the format is here</p>\n\n<pre><code>if ($this-&gt;header ['ident'] != \"\\xD0\\xCF\\x11\\xE0\\xA1\\xB1\\x1A\\xE1\")\n        throw new compoundDocumentException ('Invalid file format');\n</code></pre>\n\n<p>In this line I would like to add the header indent for excel 2007 which I didn't find wherever I tried . So any help would be apreciated.</p>\n"},{"tags":["php","html"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":38,"score":-5,"question_id":13284088,"title":"Check if a web page contains an article text","body":"<p>I was wondering whether anyone knows of a way in <strong>PHP</strong> to quick peek a web page URL in order to evaluate/understand if that page contains an article based text. Meaning, if the page has a nice highly condensed chunk of text content?</p>\n"},{"tags":["php","oop","doctrine","typo3","flow3"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13284546,"title":"How to create a new custom field in an existing package in flow3","body":"<p>At present I create a package named \"MyPackage\" it dynamically generate a page name <code>CoffeeBean.php</code> in it ..</p>\n\n<pre><code>&lt;?php\nnamespace MyPackage\\Domain\\Model;\n\n/*                                                                        *\n * This script belongs to the FLOW3 package \"MyPackage\".                  *\n *                                                                        *\n *                                                                        */\n\nuse TYPO3\\FLOW3\\Annotations as FLOW3;\nuse Doctrine\\ORM\\Mapping as ORM;\n\n    class CoffeeBean\n    { \n        protected $name;\n\n        public function getName() {\n            return $this-&gt;name;\n        }\n\n        public function setName($name) {\n            $this-&gt;name = $name;\n        }\n    }\n?&gt;\n</code></pre>\n\n<p>I need to create one more field in it named email. So can any one help me, I'm new to the flow3 concept.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13284891,"title":"sending body contents through email using phpmailer","body":"<p>I am trying to add fileds in phpmailer() in jobbersbase.</p>\n\n<p>but i am not getting how to add it properly </p>\n\n<p>i am using like this, but it is mailing only $mailer->Body = ($data['apply_location1']);, i mean the one just above the $mailer->AltBody = $msg; statement. but i want to send all the info through mail.</p>\n\n<pre><code>public function MailApplyOnline($data)\n{\n    $mailer = $this-&gt;getConfiguredMailer();\n    $subject = $this-&gt;emailTranslator-&gt;GetApplyOnlineSubject($data);\n\n    $msg = $data['apply_msg'];\n\n    $msg .= $this-&gt;emailTranslator-&gt;GetApplyOnlineMsg($_SERVER['HTTP_REFERER']);\n\n    $mailer-&gt;SetFrom($data['apply_email'], $data['apply_name']);\n    $mailer-&gt;AddAddress($data['company_email'], $data['company_name']);\n    $mailer-&gt;Subject = $subject;\n    $mailer-&gt;Body = $this-&gt;nl2br($msg);\n    $mailer-&gt;Body = ($data['apply_company']);\n    $mailer-&gt;Body = ($data['apply_contact']);\n    $mailer-&gt;Body = ($data['apply_title']);\n    $mailer-&gt;Body = ($data['apply_location']);\n    $mailer-&gt;Body = ($data['apply_location1']);\n    $mailer-&gt;AltBody = $msg;\n\n    if ($data['attachment_filename'] != '')\n    {\n        $mailer-&gt;AddAttachment($data['attachment_path'], $data['attachment_filename']);\n    }\n\n    if ($mailer-&gt;Send())\n    {\n        return true;\n    }\n    else\n    {\n        return false;\n    }\n} \n</code></pre>\n"},{"tags":["php","xpath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13275545,"title":"How to translate strings using xpath?","body":"<p>I have this piece of code:</p>\n\n<pre><code>$xpath = new DOMXPath($dom);\nforeach ($xpath-&gt;query(\"//text()\") as $q) {\n    foreach(preg_split(\"/(\\r?\\n)/\", $q-&gt;nodeValue) as $line) {\n        $str = trim($line);\n        $translation = search_in_db_for_translation($str);\n        if (!empty($translation) {\n            replace string previously found by $translation\n        }\n    }\n}\n</code></pre>\n\n<p>The script searches in an XML document for each string and if there is an available translation in the database (pairs {\"input language string\", \"input language string\"}) it must replace the string in the DOM document (after this translation there are more DOM manipulations). The problem is I'm unable to find a function to do this.</p>\n\n<p><strong>EDIT</strong>: In order to be clear, what I need is a way to modify the current line and only the current line ($line var or $q->nodeValue). Please see JWiley answer and my comment.</p>\n"},{"tags":["php","xml","wordpress"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13283019,"title":"Does an RSS feed have to be an XML file?","body":"<p>I ask this because I see only two xml files in a wordpress blog, wlwmanifest.xml and default.xml and neither look like an rss feed. However I do see a php file called feed-rss2.php that looks like an rss feed. Everything I've ever read says that rss feeds have to be xml files. Am I wrong? Can they be php files with xml code inside? </p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13284628,"title":"MySQL three tables, one table contain linked values of two other tables","body":"<p>I write php aplication with mysql support. Idea is based on form fields containing characteristics, that can be added and deleted from website template. Through form fields i insert values of created characteristics, and can be of all types: checkboxes, radio groups, selects, text ...etc, and some selects can be chained. That explanation was just for getting wider picture.</p>\n\n<p>My database design contain three tables:</p>\n\n<p>FIRST containing items content - products; </p>\n\n<p>SECOND containing values of characteristics - charact_values; </p>\n\n<p>THIRD must contain id's of first and second table, per row, that linking that two table values.</p>\n\n<p>So then I now values ​​that belong to each product. </p>\n\n<p>I don't want duplicate values, i only want link them in third table. I don't now how many characteristics user will add to product and with that shema it is possible.</p>\n\n<p>My fear is what will happen when user put 5 000 products and each product  will have about 100 characteristics, that will be about 500 000 rows in third table. </p>\n\n<p>Is it to much for third table? Maybe exist some other database design I can use for that funcionality. I can't figure out another shema that will not produce some huge amount of rows in some table.</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13284489,"title":"hover to show content of a name anchor in a popup instead of click to go to the content","body":"<p>I have a long html, the contents have references for other text.</p>\n\n<p>For example:</p>\n\n<pre><code>What is your &lt;a href=\"#A8\"&gt;favorite&lt;/a&gt; day?\n&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\n&lt;div id=\"A1\"&gt;Monday&lt;/div&gt;\n&lt;div id=\"A2\"&gt;Tuesday&lt;/div&gt;\n&lt;div id=\"A3\"&gt;Wednesday&lt;/div&gt;\n&lt;div id=\"A4\"&gt;Thursday&lt;/div&gt;\n&lt;div id=\"A5\"&gt;Friday&lt;/div&gt;\n&lt;div id=\"A6\"&gt;Saturday&lt;/div&gt;\n&lt;div id=\"A7\"&gt;Subday&lt;/div&gt;\n&lt;div id=\"A8\"&gt;It's a good day.&lt;/div&gt;\n</code></pre>\n\n<p>I hope to have a function to hover on an anchor tag to show the content in a popup or dialog of the anchor name instead of clicking to go to the content. No go back and forth.</p>\n\n<p>If hovering on <code>#A8</code>, it will show the content of <code>A8</code>, that's \"It's a good day. \"</p>\n"},{"tags":["php","caching","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":739,"score":1,"question_id":8607186,"title":"How can I disable caching via configuration in Yii?","body":"<p>In Yii, I have enabled APC caching through the config/main.php file:</p>\n\n<pre><code>'cache' =&gt; array(\n    'class' =&gt; 'system.caching.CApcCache',\n),\n</code></pre>\n\n<p>and it works just fine when I use Yii's built-in caching methods:</p>\n\n<pre><code>Yii::app()-&gt;cache-&gt;set('key', $value);\n</code></pre>\n\n<p>However, is there a way to temporarily turn this off based on configuration?  I don't want to have it enabled while <code>YII_DEBUG</code> is set to true, for example, and would like <code>$votes = Yii::app()-&gt;cache-&gt;get(\"key\");</code> to <em>always</em> return false as it does when it's empty.</p>\n\n<p>I've tried turning this off by just commenting-out the configuration setting, but it gives (not unreasonable) errors:  <code>Call to a member function get() on a non-object</code></p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13284054,"title":"Mysql Query- for each date max 3 datas","body":"<p><img src=\"http://i.stack.imgur.com/hHy6p.png\" alt=\"enter image description here\"></p>\n\n<p>these is my DB table data,{ i have maintained only one Table}</p>\n\n<p>I need to fetch max 3 data from each start_date,</p>\n\n<p>give me any idea to develop query,,</p>\n"},{"tags":["php","command-line","centos","xdebug"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13284795,"title":"Setting Xdebug breakpoints solely in command line","body":"<p>I'm struggling with a PHP maintenance script and I was looking for a way to use xdebug solely in command line (like gdb old-school), but I couldn't figure out how to set a breakpoint, do a step-into, step-over and continue. Xdebug is up and running, as <code>phpinfo();</code> says.</p>\n\n<p>I found a lot of documentation regarding how to do this using Eclipse and other tools, but none to CLI. Could anyone help me? My environment is Centos 6 and Bash.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13284759,"title":"conversion of json","body":"<p>hi guys i'm working to show weather updates on my website.\nfor that i'm sending some code which is returning me some thing like below</p>\n\n<pre><code>stdClass Object\n(\n    [data] =&gt; stdClass Object\n        (\n            [current_condition] =&gt; Array\n                (\n                    [0] =&gt; stdClass Object\n                        (\n                            [temp_C] =&gt; 26\n                            [temp_F] =&gt; 79\n                        )\n\n\n\n                )\n        )\n)\n</code></pre>\n\n<p>i want to fetch the temp_C which is somewhere beneath [o]=>stdClass Object\nfor that purpose i used the statment like this</p>\n\n<pre><code>//$returning is variable have all the json in it\n$celcius = $returning-&gt;data-&gt;current_condition-&gt;0-&gt;temp_c;\n</code></pre>\n\n<p>kindly guide me how to get temp_C,,,i'm currently working with php.\nThankx to all</p>\n"},{"tags":["php","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13284458,"title":"I want to add and minus year on click in php","body":"<p>This my code. </p>\n\n<pre><code>/*******************************PHP CODE*****************************************/\nif(isset($_GET['date'])){ //\n    $date = $_GET['date']; \n    $date = date('Y', strtotime($date));\n}\nelse{\n    $tomorrow = mktime(0, 0, 0, date(\"m\"), date(\"d\"), date(\"Y\"));\n    $date = date(\"Y\", $tomorrow);\n}\n\n\n/*************************************************************************/\n&lt;table width=\"214\" height=\"78\" border\"0\"&gt;\n    &lt;tr align=\"center\"&gt;\n    &lt;td colspan=\"10\"&gt;&lt;a href=\"?date=&lt;?= date(\"Y\", strtotime($date .'-1 year')) ?&gt;\"  title=\"Previous Day\" &gt;Previous Year&lt;/a&gt;&lt;/td&gt;\n\n    &lt;td width=\"95\" colspan=\"2\"&gt;&lt;a href=\"?date=&lt;?= date(\"Y\", strtotime($date . '+1 year')) ?&gt;\" title=\"Next Day\" &gt;Next Year&lt;/a&gt;&lt;/td&gt;\n\n    &lt;/tr&gt;\n    &lt;tr align=\"center\"&gt;\n    &lt;td colspan=\"12\" align=\"center\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n\n/***********************************************************/\n</code></pre>\n\n<p>It is working but if I press NEXT year it will take me to 2013 and then I press\n'PREVIOUS Year' it take me to 2011 instead of 2012.</p>\n"},{"tags":["php","arrays"],"answer_count":0,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13284746,"title":"I want to compare 2 arrays such as FIFO","body":"<p>I want to compare 2 arrays as below:</p>\n\n<p>array key 1 :</p>\n\n<pre><code>Array ( \n    [0] =&gt; Array ( \n                [kode] =&gt; AP260 \n                [kebutuhan] =&gt; 12 \n                [tersedia] =&gt; 30 \n                ) \n    [1] =&gt; Array ( \n                [kode] =&gt; KT \n                [kebutuhan] =&gt; 3 \n                [tersedia] =&gt; 30 \n                ) \n    [2] =&gt; Array ( \n                [kode] =&gt; AP260 \n                [kebutuhan] =&gt; 4 \n                [tersedia] =&gt; 30 \n                ) \n    [3] =&gt; Array ( \n                [kode] =&gt; KT \n                [kebutuhan] =&gt; 1 \n                [tersedia] =&gt; 30 \n                ) \n    ) \n</code></pre>\n\n<p>array key 2 :</p>\n\n<pre><code>Array ( \n    [0] =&gt; Array ( \n                [kode_bahan] =&gt; AP260 \n                [tersedia] =&gt; 10 \n                ) \n    [1] =&gt; Array ( \n                [kode_bahan] =&gt; AP260 \n                [tersedia] =&gt; 20 \n                ) \n    [2] =&gt; Array ( \n                [kode_bahan] =&gt; KT \n                [tersedia] =&gt; 10 \n                ) \n    [3] =&gt; Array ( \n                [kode_bahan] =&gt; KT \n                [tersedia] =&gt; 20 \n                ) \n    [4] =&gt; Array ( \n                [kode_bahan] =&gt; AP260 \n                [tersedia] =&gt; 10 \n                ) \n    [5] =&gt; Array ( \n                [kode_bahan] =&gt; AP260 \n                [tersedia] =&gt; 20 \n                ) \n    [6] =&gt; Array ( \n                [kode_bahan] =&gt; KT \n                [tersedia] =&gt; 10 \n                ) \n    [7] =&gt; Array ( \n                [kode_bahan] =&gt; KT \n                [tersedia] =&gt; 20 \n                ) \n    )\n</code></pre>\n\n<p>array to 1 as the query, while the second array to the inventory, please help me to:</p>\n\n<p>convert array to 2 by the array to 1, such as FIFO in inventory,</p>\n\n<p>for helping me say many thanks</p>\n"},{"tags":["php","http","authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":31,"score":0,"question_id":13283972,"title":"PHP HTTP Authentication if conditional statement","body":"<pre><code>&lt;?php\n   if (!isset($_SERVER['PHP_AUTH_USER'])) {\n      header('WWW-Authenticate: Basic realm=\"My Realm\"');\n      header('HTTP/1.0 401 Unauthorized');\n      echo 'Text to send if user hits Cancel button';\n      exit;\n   } else {\n      echo \"&lt;p&gt;Hello {$_SERVER['PHP_AUTH_USER']}.&lt;/p&gt;\";\n      echo \"&lt;p&gt;You entered {$_SERVER['PHP_AUTH_PW']} as your password.&lt;/p&gt;\";\n   }\n?&gt; \n</code></pre>\n\n<p>This piece of code kind of defies the logic behind the way an \"if\" control structure works. But I have seen the same thing in many pieces of code so for some reason it must be right. Yet my logic tells me otherwise.</p>\n\n<p>Of course the condition of <code>\"!isset($_SERVER['PHP_AUTH_USER']))</code> checks to see if this variable is set on the server. Let's say that it is not set. So the server sends a request to the client requiring HTTP Authentication <code>\"header('WWW-Authenticate: Basic realm=\"My Realm\"');\"</code> and let's say that I provide one that is correct. After this, somehow the <code>\"if\"</code> control structure skips the <code>\" header('HTTP/1.0 401 Unauthorized');\"</code> and the echo statement and the rest of the control structure. Why is this?</p>\n"},{"tags":["php","web-services","sharepoint","soap","sharepoint2007"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13284701,"title":"wsdl file generated for all lists or single list + share-point","body":"<p>I generated .wsdl file by using: </p>\n\n<pre><code>sharepoint.url/subsite/_vti_bin/Lists.asmx?WSDL.\n</code></pre>\n\n<p>And downloaded it locally where i am running the web-service with SOAP client. Is it fine if i am running the web-service on my local server and using the generated .wsdl file to retrieve lists which runs on a windows server available through LAN. Now, .wsdl file which gets generated is for a single list or multiple lists? My problem is, I keep getting the following error:</p>\n\n<pre><code>HTTPFault string: Unauthorized\n</code></pre>\n\n<p>I have anabled basic authentication in IIS on windows server also but the error remains.\n Any help is appreciated. Thanks.</p>\n"},{"tags":["php","mysql"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13284414,"title":"MYSQL and PHP INSERT NULL values","body":"<p>lets say my table only has these members - id (key) and date (which defaults to <strong>NULL</strong>) . \nNow when I want to insert a row with my php , do I need to check before my query whether date has a value or not or can I just insert like so - </p>\n\n<pre><code> $query = \"INSERT INTO mytable VALUES(3,{$_GET['date]})\" \n</code></pre>\n\n<p>And mysql would assign a NULL value to date ?</p>\n\n<p>And does this hold true to a table no matter how large ? </p>\n\n<p>e.g : can I insert many values that come from php and may be empty(or null) to a table , and mysql would automatically assign NULL to them (if I defined them as NULL by default of course) or do I need to do all kinds of checks before my inserts?</p>\n"},{"tags":["php","javascript","html","canvas","image-rotation"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13280104,"title":"Image in HTML Canvas is not rotating","body":"<p>I am creating a website in which I am showing some images. I have gone through many websites and there is no result.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;head&gt;&lt;/head&gt;\n&lt;body onload=init()&gt;\n    &lt;img id=\"imgID\" src=\"images/buttons/panda-wall.jpg\" alt=\"panda wall\" width=\"100\" height=\"100\"&gt;&lt;br&gt;&lt;/br&gt;\n    &lt;canvas id=\"myCanvas\" height=\"400px\" width=\"400px\" style=\"border:1px solid\"&gt;&lt;/canvas&gt;\n    &lt;button onclick=\"rotateImage()\"&gt;Clear canvas&lt;/button&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>function init()\n{\n    var c = document.getElementById(\"myCanvas\");\n    var context = c.getContext('2d');\n    var img = document.getElementById(\"imgID\");\n\n    context.drawImage(img,0,0,c.width, c.height);\n}\n\nfunction rotateImage()\n{\n    var c = document.getElementById(\"myCanvas\");\n    var context = c.getContext('2d');\n    var img = document.getElementById(\"imgID\");\n\n    context.save();\n\n    // Translate\n    context.translate(200, 200);\n\n    // Scale\n    context.scale(2,2);\n\n    // Rotate it\n    context.rotate(10*Math.PI/180);\n    context.translate(-200, -200);\n    context.drawImage(img,0,0);\n\n    // Finally draw the image data from the temp canvas.\n    context.restore();\n}               \n</code></pre>\n\n<p>Thanks in advance.</p>\n\n<hr>\n\n<p><strong>Update:-</strong>\nI have fixed my problem with the below changes:</p>\n\n<pre><code>function rotateImage()\n{\n   var c=document.getElementById(\"myCanvas\");\n   var context = c.getContext('2d');\n   var img = document.getElementById(\"imgID\");\n\n   //clear the context object rectangle.\n   context.clearRect(0, 0, c.width, c.height);              \n\n   //Save the context object.\n   context.save();\n\n   // Translate\n   context.translate(c.width/2, c.height/2);\n\n   // Rotate it with 90 degree\n   context.rotate(90*Math.PI/180);\n\n   //Translate the image on the basis of the center of the canvas.\n   context.translate(-(c.width/2), -(c.height/2));\n\n   // Draw the Image.\n   context.drawImage(img,0,0, c.width,c.height);\n\n   // Finally draw the image data from the temp canvas.\n   context.restore();               \n}\n</code></pre>\n\n<p>But still I am having issues to find the exact possition of my co-ordinates for larger images (e.g. width:800px and height:1280px). for small Images (e.g width:240 and height:400) I am using the below logic for getting X and Y co-ordinate values:</p>\n\n<blockquote>\n  <p>X=(Image.width/canvas.width)*current_mousePosition.X;\n  Y=(Image.height/canvas.height)*current_mousePosition.Y;</p>\n</blockquote>\n\n<p>but this logic fails for the larger images, width and height as mentioned above. Can anyone please help me what will be the logic to get the exact co-ordinates of the current mouse position respective to the original Image. Is there any default logic available for all in all size images? Any help, in terms of link or idea will be greatly appreciated. Thanks in advance</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":352,"score":0,"question_id":8465839,"title":"integrating barcode scanner into php application?","body":"<p>We have been developing web application in php.<br>\nWe need barcode scanner to be integrated into our application.</p>\n\n<p>Our application is divided into two modules, users and merchant.</p>\n\n<p>When user comes and scans the card, merchant should be identified the user by barcode number. Admin will give barcode number and that is being sent to the card manufacturer and the number will be assigned to the magnetic stripe.</p>\n\n<p>As i know scanner can acts as a key board, can you please tell the method to integrate barcode scanner into this php web based application?</p>\n"},{"tags":["php","php-5.3","autoload"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":13279848,"title":"PHP 5.3 OOP Class Namespaces","body":"<p>I would like see only: <strong>WAF-User;</strong>\nbut I see now: <strong>WCMS-User;WAF-User;</strong> Please help me! I don't use namespaces ago. Sorry, I speak a little english!</p>\n\n<pre><code>&lt;?php\n\n    class WCMS {\n\n        function __construct () {\n\n            spl_autoload_register ( array ( $this, 'autoload' ) );\n\n        }\n\n        function autoload ( $name ) {\n\n            print 'WCMS-' . $name . ';';\n\n        }\n\n    }\n\n    class WAF {\n\n        function __construct () {\n\n            spl_autoload_register ( array ( $this, 'autoload' ) );\n\n        }\n\n        function autoload ( $name ) {\n\n            print 'WAF-' . $name . ';';\n\n        }\n\n    }\n\n$WCMS = new WCMS ();\n$WAF = new WAF ();\n\ninclude ( __DIR__ . DIRECTORY_SEPARATOR . 'include.php' );\n\n?&gt;\n</code></pre>\n\n<p>Other file:</p>\n\n<pre><code>&lt;?php\n\n    $User = new WAF \\ User ();\n\n?&gt;\n</code></pre>\n\n<p>Sorry, I speak a little english.</p>\n"},{"tags":["php","ajax","caching"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":40,"score":4,"question_id":13246901,"title":"jQuery ajax not using browser cache for 2nd request","body":"<p>I want to cache the data in broswer so that broswer don't need to query the server in several minutes. I added php cache header but seems it doesn't work. Here is my ajax code and php code:\nAjax code:</p>\n\n<pre><code>function myAjax(name, callback) {\n    var url = './php/getJson.php?name=' + encodeURIComponent(name) + '&amp;callback=?';\n    jQuery.getJSON(url, function(data) {\n        callback(data);\n        jQuery.ajaxSetup({ cache: true });\n    });\n}\n</code></pre>\n\n<p>PHP code:</p>\n\n<pre><code>$seconds_to_cache = 3600;\n$ts = gmdate(\"D, d M Y H:i:s\", time() + $seconds_to_cache) . \" GMT\";\n$lm = gmdate(\"D, d M Y H:i:s\", time() - $seconds_to_cache/2) . \" GMT\";\nheader(\"Last-Modified: $lm\");\nheader(\"Expires: $ts\");\nheader(\"Pragma: cache\");\nheader(\"Cache-Control: public, max-age=$seconds_to_cache\");\n\ninclude_once('getData.php');\n\n$output = $_GET['name'];\n\necho $_GET['callback'].'('.$output.')';\n</code></pre>\n"},{"tags":["php"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13280448,"title":"reference object with key containing brackets","body":"<p>I'm doing a <code>print_r</code> on an object that is returned after running a query. Here is my <code>print_r</code> log. </p>\n\n<pre><code>stdClass Object\n(\n    [MAX(sort_order)] =&gt; 3\n)\n</code></pre>\n\n<p>I want to get the value inside <code>[MAX(sort_order)]</code> but I cant figure out how to target it from within php. </p>\n\n<p>Like <code>$sort_order = $object->[MAX(sort_order)];</code> (I know that won't work)</p>\n\n<p>Does anyone know how I can do this?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":23,"score":-5,"question_id":13283502,"title":"Fatal error: Call to undefined function checkErr() in C:\\wamp\\www\\crud_exer\\class_lib.php on line 22 though I made this function","body":"<p>I'm getting an error:</p>\n\n<blockquote>\n  <p>Fatal error: Call to undefined function checkErr() in\n  C:\\wamp\\www\\crud_exer\\class_lib.php on line 22</p>\n</blockquote>\n\n<p>though I have made this function like this:</p>\n\n<pre><code>class database{\n        private $db_host;\n        private $db_user;  \n        private $db_pass;  \n        private $emp_db = \"employee_db\";\n\n        var $connection;\n        var $db_select;\n        var $result;\n        var $row;\n\n        function __construct(){\n            $this-&gt;db_host = \"localhost\";\n            $this-&gt;db_user = \"root\";\n            $this-&gt;db_pass = \"\";\n        }\n\n        function connect(){\n            $this-&gt;connection = mysql_connect($this-&gt;db_host, $this-&gt;db_user, $this-&gt;db_pass);   //create connection\n                checkErr($this-&gt;connection);\n\n            $this-&gt;db_select = mysql_select_db($this-&gt;emp_db, $connection);\n                checkErr($this-&gt;db_select);\n        }\n\n        function checkErr($testVar){\n            if(!$testVar){\n                die(\"Database Failed: \" . mysql_error());\n            }\n        }\n</code></pre>\n\n<p>WHAT'S CAUSING THIS ERROR??</p>\n"},{"tags":["php","mysql","neo4j"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":26,"score":-4,"question_id":13284541,"title":"How to merge two databases mysql and neo4j?","body":"<p>Mysql will be stored messages, articles, posts, ads. Neo4jb will users and friends.\nhow to do this on PHP?</p>\n\n<p>p.s. Sorry for my english.</p>\n"},{"tags":["php","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13283064,"title":"How do I write a custom function in WordPress?","body":"<p>When I upload a featured image, I want to give it the a width of \"100%\" but only if it is over 1170px. If the width is between 1170px and 770px, I want it be get a width of \"770px\", otherwise the width will not be changed.</p>\n\n<p>So far this code is doing what I want:</p>\n\n<pre><code>if (intval($width) &gt;= 1170) {\n        $hwstring = 'width=100%';\n    } elseif ( (intval($width) &lt; 1170) &amp;&amp; (intval($width) &gt;= 770) ) {\n        $hwstring = 'width=770px';\n    } else {\n        $hwstring = image_hwstring($width, 0);\n    };\n</code></pre>\n\n<p>However I have modified the media.php file inside the \"wp-includes\" folder which is apparently not the right way to do it. So how could I create a function that does the same thing without modifying the existing Wordpress code?</p>\n\n<pre><code>function wp_get_attachment_image($attachment_id, $size = 'thumbnail', $icon = false, $attr = '') {\n\n$html = '';\n$image = wp_get_attachment_image_src($attachment_id, $size, $icon);\nif ( $image ) {\n    list($src, $width, $height) = $image;\n    $hwstring = image_hwstring($width, $height);\n    if ( is_array($size) )\n        $size = join('x', $size);\n    $attachment =&amp; get_post($attachment_id);\n    $default_attr = array(\n        'src'   =&gt; $src,\n        'class' =&gt; \"attachment-$size\",\n        'alt'   =&gt; trim(strip_tags( get_post_meta($attachment_id, '_wp_attachment_image_alt', true) )), // Use Alt field first\n        'title' =&gt; trim(strip_tags( $attachment-&gt;post_title )),\n    );\n    if ( empty($default_attr['alt']) )\n        $default_attr['alt'] = trim(strip_tags( $attachment-&gt;post_excerpt )); // If not, Use the Caption\n    if ( empty($default_attr['alt']) )\n        $default_attr['alt'] = trim(strip_tags( $attachment-&gt;post_title )); // Finally, use the title\n\n    $attr = wp_parse_args($attr, $default_attr);\n    $attr = apply_filters( 'wp_get_attachment_image_attributes', $attr, $attachment );\n    $attr = array_map( 'esc_attr', $attr );\n\n    if (intval($width) &gt;= 1170) {\n        $hwstring = 'width=100%';\n    } elseif ( (intval($width) &lt; 1170) &amp;&amp; (intval($width) &gt;= 770) ) {\n        $hwstring = 'width=770px';\n    } else {\n        $hwstring = image_hwstring($width, 0);\n    };\n\n    $html = rtrim(\"&lt;img $hwstring\");\n    foreach ( $attr as $name =&gt; $value ) {\n        $html .= \" $name=\" . '\"' . $value . '\"';\n    }\n    $html .= ' /&gt;';\n}\n\nreturn $html;\n}\n</code></pre>\n"},{"tags":["php","symfony-1.4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13274914,"title":"How do I get current user id in symfony?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6028718/how-to-catch-an-id-from-sfuser\">How to catch an id from sfUser?</a>  </p>\n</blockquote>\n\n\n\n<p>How can I get the current logged in user's id in symfony(1.4.17)?</p>\n\n<p>I tried that get guard user thing, but not working. I just wanna have the current user id in a variable.</p>\n"},{"tags":["php","codeigniter","session","login","logout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13282141,"title":"PHP Codeigniter isn't working properly","body":"<p>I am creating a website with php codeigniter. When I log-in it creates a session and redirects to the home page. When I log out, it destroys the session. When I write the url of the home page it works fine. But if i click on the 'Go back one page button' on the browser, it goes back to the home page. Even though the home page is supposed to check whether I am logged in or not. My code is given below. I hope I am clear in explaining my dilemma. If not, then please ask. Thanks in advance.</p>\n\n<pre><code>public function signin()\n{\n    $this-&gt;form_validation-&gt;set_rules('email2', 'E-mail', 'required|valid_email');\n    $this-&gt;form_validation-&gt;set_rules('password2', 'Password', 'required|min_length[5]');\n    $query = \"select password from user where email = '{$this-&gt;input-&gt;post('email2')}';\";\n\n    if($this-&gt;form_validation-&gt;run())\n    {\n        if($this-&gt;doj_database-&gt;check_signin($query, $this-&gt;input-&gt;post('password2')))\n        {\n            $query = \"select * from user where email = '{$this-&gt;input-&gt;post('email2')}';\";\n            $data['user'] = $this-&gt;doj_database-&gt;search_with_email($query);\n            $newdata = array('logged_in' =&gt; TRUE);\n            $this-&gt;session-&gt;set_userdata($newdata);\n            $url = \"/DIRTY_ONLINE_JUDGE/goto_home/{$data['user']['user_id']}\";\n            redirect($url);\n        }\n        else\n        {\n            $this-&gt;load-&gt;view('wrong_login');\n        }\n    }\n    else\n    {\n        $this-&gt;load-&gt;view('wrong_login');\n    }\n}\n\n\n\n\npublic function goto_home($id)\n{\n    if($this-&gt;session-&gt;userdata('logged_in'))\n    {\n        $data['user'] = $this-&gt;doj_database-&gt;search_with_id($id);\n        $data['user']['password'] = $this-&gt;encrypt-&gt;decode($data['user']['password']);\n        $this-&gt;load-&gt;view('home', $data);\n    }\n    else\n    {\n        $this-&gt;load-&gt;view('not_logged_in');\n    }\n}\n\n\n\npublic function logout()\n{\n    $this-&gt;session-&gt;sess_destroy();\n    $this-&gt;load-&gt;view('index');\n}\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13284133,"title":"Mysql_fetch_assoc() warning with my query using LIKE","body":"<p>Getting this error <code>mysql_fetch_assoc() expects parameter 1 to be resource, boolean given</code> when I return my query</p>\n\n<pre><code>$query = mysql_query(\"SELECT * FROM tempusers\n    WHERE 'firstname' LIKE '%$data%' \n    OR 'lastname' LIKE '%$data%'\n    OR 'description' LIKE '%$data%'\n    OR 'title' LIKE '%$data%'\");\n\nif (! $query){\n    echo'Database error: ' . mysql_error();\n}\nwhile($row=mysql_fetch_assoc($query)){\n    $description = $row['description'];\n    echo $description;\n}\n</code></pre>\n\n<p>Specifically, the while loop. Not understanding why I'm getting. I'm thinking it's because of my use of LIKE, I am unsure if I am using the <code>wildcard's %%</code> correctly with my query. I would appreciate knowing how to rid of this error and why it happened</p>\n"},{"tags":["php","mobile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13284334,"title":"STS Online Billing Interface","body":"<p>I am building a chat site for my client. Here, user registers by their mobile number as username. When they register an SMS is sent to the registered number. For this process I am using STS billing Interface. This interface sends an SMS with response URL where the user confirm or decline. I too have received an response URL as</p>\n\n<p><a href=\"http://vfl.vodacom.co.za/WASP/GSPPRequest?ServiceCode=WASP&amp;ServiceDerivativeCode=Kasichat+website&amp;OperationCode=SUBSCRIBE&amp;WaspId=SmartcalT&amp;Channel=WAP&amp;ReferenceNumber=5299046&amp;ServiceID=Z_Chat.2&amp;ServiceName=Kasichat+website&amp;Price=2.00&amp;BillingFrequency=Day&amp;CustomMessage=Day&amp;WaspName=smartcalltech&amp;logo=\" rel=\"nofollow\">http://vfl.vodacom.co.za/WASP/GSPPRequest?ServiceCode=WASP&amp;ServiceDerivativeCode=Kasichat+website&amp;OperationCode=SUBSCRIBE&amp;WaspId=SmartcalT&amp;Channel=WAP&amp;ReferenceNumber=5299046&amp;ServiceID=Z_Chat.2&amp;ServiceName=Kasichat+website&amp;Price=2.00&amp;BillingFrequency=Day&amp;CustomMessage=Day&amp;WaspName=smartcalltech&amp;logo=</a></p>\n\n<p>Its working fine for all other provider except for Vodacom. Please help.\nThanks in advance</p>\n"},{"tags":["php","jquery","mysql","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13284073,"title":"Creating a table with mysql, php and ajax (with jquery)","body":"<p>For my new project i want the so modern approach of not needing to reload a page on every database request. :) I want the script to query the database and create a table with the query information. </p>\n\n<p>I have tried different scripts i have found on the internet. The one below was closest to my needs. </p>\n\n<p><strong>index.php</strong></p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'&gt;\n&lt;html xmlns='http://www.w3.org/1999/xhtml'&gt;\n&lt;head&gt;\n&lt;title&gt;Display Page&lt;/title&gt;\n&lt;meta http-equiv='Content-Type' content='text/html; charset=utf-8' /&gt;\n&lt;script language='JavaScript' type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;button type='button' name='getdata' id='getdata'&gt;Get Data.&lt;/button&gt;\n\n&lt;div id='result_table'&gt;\n\n&lt;/div&gt;\n\n&lt;script type='text/javascript' language='javascript'&gt;\n$('#getdata').click(function(){\n\n$.ajax({\n        url: 'getdata.php',\n        type:'POST',\n        dataType: 'json',\n        success: function(output_string){\n                $('#result_table').append(output_string);\n            } // End of success function of ajax form\n        }); // End of ajax call    \n\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>getdata.php</strong></p>\n\n<pre><code>&lt;?php\ninclude('conn.inc.php');\n//Query of facebook database\n$facebook = mysql_query('SELECT * FROM users')\nor die(mysql_error());\n\n//Output results\nif(!$facebook)\n{\n    mysql_close();\n    echo json_encode('There was an error running the query: ' . mysql_error());\n}\nelseif(!mysql_num_rows($facebook))\n{\n    mysql_close();\n    echo json_encode('No results returned');\n}\nelse\n{\n    $output_string = '';\n    $output_string .=  '&lt;table border=\"1\"&gt;';\n    while($row = mysql_fetch_assoc($facebook))\n    {\n        $output_string .= '&lt;tr&gt;';\n        foreach($row as $value)\n        {\n            $output_string .= '&lt;td&gt;{$value}&lt;/td&gt;';\n        }\n        $output_string .= '&lt;/tr&gt;';\n    }\n    $output_string .= '&lt;/table&gt;';\n}\n\nmysql_close();\n// This echo for jquery \necho json_encode($output_string);\n\n?&gt;\n</code></pre>\n\n<p>But i only get a table with a bunch of {$value} inside the table. I've tried with only $value but got a bunch of zeros. </p>\n\n<p>I tried a simple script</p>\n\n<pre><code>$query = \"SELECT users_name, users_password FROM users WHERE users_name = 'name'\";\n$result = mysql_query($query) or die(mysql_error());\n\n$row = mysql_fetch_array($result);\n\necho $row['users_name'];\n</code></pre>\n\n<p>And then i get som results but with this script i have to refresh the page on every search. To be clear i want to be able to create a table with the information from a mysql database and display it on screen with reloading the page. </p>\n\n<p>Any ideas?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13284017,"title":"Exporting data to excel sheet in php","body":"<p>For my website  i want to give the user a new opportunity ,which is to export all user details in a excel file.It is possible to perform in php,if possible than may i get a link to this kind of work.</p>\n"},{"tags":["php","ip-address","ping"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13283674,"title":"how to ping ip addresses in php and give results","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8030789/pinging-an-ip-address-using-php-and-echoing-the-result\">Pinging an IP address using PHP and echoing the result</a>  </p>\n</blockquote>\n\n\n\n<p>How do you ping an ip addresses in php. and give the the results as if you are on cmd program in windows</p>\n\n<pre><code>&lt;?php\n\n  system(‘ping -c 192.168.0.104’); // Ping IP address.&lt;br&gt;\n\n   echo “pinged”;&lt;br&gt;\n\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","html"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13283260,"title":"multiple form redirect only on first form's action","body":"<p>I have used multiple form in single page bcz i have to work my page without javascript enable in my browser..but problem is that all form redirect on single page..i.e all forms goes to first forms's action..if u can change 1st form action then all form goes to that link...i know there is silly mistake but i failed to figure it out..plz help me...thnks in advance..</p>\n\n<pre><code>//html code\n\n&lt;div id=\"propertymenu\"&gt;\n        &lt;table cellspacing=\"20\"&gt;\n            &lt;tr&gt;\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"mainainancebills.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $buildname; ?&gt;\" name=\"bn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $flatno; ?&gt;\" name=\"fn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $area; ?&gt;\" name=\"area\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $pincode; ?&gt;\" name=\"pc\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $owner; ?&gt;\" name=\"owner\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $fullname; ?&gt;\" name=\"fname\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $email; ?&gt;\" name=\"email\"&gt;\n                    &lt;input type=\"submit\" value=\"PROPERTY DETAILS\"&gt;\n                &lt;/font&gt;&lt;/td&gt;\n\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"inspectionreport.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $buildname; ?&gt;\" name=\"bn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $flatno; ?&gt;\" name=\"fn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $area; ?&gt;\" name=\"area\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $pincode; ?&gt;\" name=\"pc\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $owner; ?&gt;\" name=\"owner\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $fullname; ?&gt;\" name=\"fname\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $email; ?&gt;\" name=\"email\"&gt;\n                    &lt;input type=\"submit\" value=\"INSPECTION REPORTS\"&gt;\n                &lt;/font&gt;&lt;/td&gt;\n\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"downloaddocument.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $buildname; ?&gt;\" name=\"bn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $flatno; ?&gt;\" name=\"fn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $area; ?&gt;\" name=\"area\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $pincode; ?&gt;\" name=\"pc\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $owner; ?&gt;\" name=\"owner\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $fullname; ?&gt;\" name=\"fname\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $email; ?&gt;\" name=\"email\"&gt;\n                    &lt;input type=\"submit\" value=\"DOWNLOAD DOCUMENTS\"&gt;\n                &lt;/font&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"downloaddocument.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $buildname; ?&gt;\" name=\"bn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $flatno; ?&gt;\" name=\"fn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $area; ?&gt;\" name=\"area\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $pincode; ?&gt;\" name=\"pc\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $owner; ?&gt;\" name=\"owner\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $fullname; ?&gt;\" name=\"fname\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $email; ?&gt;\" name=\"email\"&gt;\n                    &lt;input type=\"submit\" value=\"STATEMENT OF ACCOUNT\"&gt;\n                &lt;/font&gt;&lt;/td&gt;\n\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"electricitybills.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $buildname; ?&gt;\" name=\"bn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $flatno; ?&gt;\" name=\"fn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $area; ?&gt;\" name=\"area\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $pincode; ?&gt;\" name=\"pc\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $owner; ?&gt;\" name=\"owner\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $fullname; ?&gt;\" name=\"fname\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $email; ?&gt;\" name=\"email\"&gt;\n                    &lt;input type=\"submit\" value=\"ELECTICITY BILLS\"&gt;\n                &lt;/font&gt;&lt;/td&gt;\n\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"downloaddocument.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $buildname; ?&gt;\" name=\"bn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $flatno; ?&gt;\" name=\"fn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $area; ?&gt;\" name=\"area\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $pincode; ?&gt;\" name=\"pc\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $owner; ?&gt;\" name=\"owner\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $fullname; ?&gt;\" name=\"fname\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $email; ?&gt;\" name=\"email\"&gt;\n                    &lt;input type=\"submit\" value=\"OTHERS\"&gt;\n                &lt;/font&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"expensestracker.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $buildname; ?&gt;\" name=\"bn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $flatno; ?&gt;\" name=\"fn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $area; ?&gt;\" name=\"area\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $pincode; ?&gt;\" name=\"pc\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $owner; ?&gt;\" name=\"owner\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $fullname; ?&gt;\" name=\"fname\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $email; ?&gt;\" name=\"email\"&gt;\n                    &lt;input type=\"submit\" value=\"DETAIL OF EXPENSES\"&gt;\n                &lt;/font&gt;&lt;/td&gt;\n\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"mainainancebills.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $buildname; ?&gt;\" name=\"bn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $flatno; ?&gt;\" name=\"fn\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $area; ?&gt;\" name=\"area\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $pincode; ?&gt;\" name=\"pc\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $owner; ?&gt;\" name=\"owner\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $fullname; ?&gt;\" name=\"fname\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $email; ?&gt;\" name=\"email\"&gt;\n                    &lt;input type=\"submit\" value=\"MAINTENANCE BILLS\"&gt;\n                &lt;/font&gt;&lt;/td&gt;\n\n                &lt;td style=\"background-color:#94EEF2;\"&gt;\n                &lt;form method=\"post\" class='propertylist' action=\"ownerhome.php\"&gt;\n                    &lt;input type=\"hidden\" value=\"&lt;?PHP echo $property; ?&gt;\" name=\"pid\"&gt;\n                    &lt;input type=\"submit\" value=\"BACK\"&gt;\n                &lt;/form&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":36,"score":-2,"question_id":13283790,"title":"Getting 3 days data from mysql date field","body":"<p>I have a date_time field in mysql in the following format:</p>\n\n<pre><code>date_time\n-----------------\nWed Nov 08 2012 16:22:06 GMT 0 \n</code></pre>\n\n<p>How do i get the three days data from the current date. </p>\n"},{"tags":["php","javascript","jquery"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13282856,"title":"Change the price when value change from combo box PHP","body":"<p>I have a problem with my code. I want to change the price when the value of the combo box changes, but in the while-loop handler, only the first table row is processed.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $('#size').change(function () {\n            //alert(\"aaa\");\n            var x = $('#size').attr('value');\n            //alert(x);\n            $.ajax({\n                type: \"POST\",\n                url: 'sizeChange.php',\n                data: 'size =' + size,\n                success: function (data) {\n                    alert(data);\n                }\n            })\n        });\n    });\n&lt;/script&gt;\n\n\n\n&lt;div id=\"price\"&gt;\n    &lt;table border=\"1\" width=\"200px\"&gt;\n     &lt;tr&gt;\n        &lt;td&gt; Size &lt;/td&gt;\n        &lt;td&gt; Product&lt;/td&gt;\n        &lt;td&gt;Price&lt;/td&gt;\n     &lt;/tr&gt;\n    &lt;?\n       mysql_connect(\"localhost\",\"root\",\"\") or die(mysql_error()); \n       mysql_select_db(\"test\") or die(mysql_error());\n       $query = mysql_query(\"select * from pricetest\");\n       if(!$query)\n         { die(mysql_error());}\n         else\n        {\n         while($row = mysql_fetch_array($query))\n          {\n            echo \"&lt;tr&gt; \";\n                ?&gt;\n             &lt;td&gt;\n                 &lt;select name=\"size\" id=\"size\"&gt;\n                   &lt;option value=\"1\"&gt;1&lt;/option&gt;\n                   &lt;option value=\"2\"&gt;2&lt;/option&gt;\n                    &lt;option value=\"3\"&gt;3&lt;/option&gt;\n                  &lt;/select&gt;\n             &lt;/td&gt;\n             &lt;td&gt; &lt;? $row['pd_name']; ?&gt; &lt;/td&gt;\n             &lt;td&gt; &lt;? $row['price']; \n\n                    }\n                }?&gt;\n             &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What might I being doing wrong?</p>\n"},{"tags":["php","layout","magento","phtml"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5089,"score":1,"question_id":4626398,"title":"Magento login and register form one page","body":"<p>I am trying to combine the login form and create account form in Magento into one page. The reason is i just think the fewer pages the better. I find Magento confusing and have limited understanding of its layout and template system. I decided the easiest way to do this would be to just add the login form to the register account page. I found the login form and register form in login.phtml and register.phtml in template/customer/form/.</p>\n\n<p>I simply copied the PHTML code from login.phtml into the register.phtml file that is in the same directory. This is what I ended up with:</p>\n\n<p><a href=\"http://pastebin.com/fpkeBsxc\" rel=\"nofollow\">http://pastebin.com/fpkeBsxc</a></p>\n\n<p>After I fill in the email and password of an account and click login, the page returns with validation errors referring to the register account form bellow it. Basically, I'm not sure if this is because my approach is completely stupid/wrong and I can't just copy and paste code like this, or is this a simple html problem that I can't see? I think might be wrong way, as register form works. I'll post a screenshot of this in a comment, it won't let me paste more than one link. Thanks for any advice.</p>\n"},{"tags":["php","session","logout"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13283375,"title":"Logout script not working","body":"<p>I create a file logout.php and calling it by</p>\n\n<pre><code> &lt;a href='logout.php'&gt;log out&lt;/a&gt;\n</code></pre>\n\n<p>but the sessions are not destory or unset. Help me the logout.php file is given below </p>\n\n<pre><code>  &lt;?php session_start();\n\n  if(isset($_SESSION['user_id']) | isset($_SESSION['mem_id'])|                         \n   isset($_SESSION['fname']) | isset($_SESSION['lname'])) {\n\n   $_SESSION=array();\n   unset($_SESSION['user_id']);\n   unset($_SESSION['mem_id']);\n   unset($_SESSION['fname']);\n\n  if(isset($_COOKIE[session_name()]))  {\n\n  setcookie(session_name(), '' , time()-3600);\n } \n   session_destroy();\n    }\n  header(\"location:index.php\"); \n   ?&gt; \n</code></pre>\n\n<p>In my login file i genrate three session variable they are </p>\n\n<pre><code>   $_SESSION['user_id'])\n   $_SESSION['mem_id'])\n   $_SESSION['fname'])\n</code></pre>\n\n<p>Help me to destroy this session variable</p>\n"},{"tags":["php","android","session"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13283336,"title":"Maintaining Session while working with a web server","body":"<p>I am using the simplest way to maintain sessions, which is:</p>\n\n<p><strong>Just create 1 HttpClient and use it for every server call, which will automatically handle cookies etc..,</strong></p>\n\n<p>But the problem here is, when i close the application, the HttpClient object is being destroyed, as expected and hence i cannot login.</p>\n\n<p>So i fixed it, this way:</p>\n\n<p><strong>Store user-email and password in shared preferences, every time the application is launched make a call to the login function(this creates a new session) and use the same HttpClient.</strong></p>\n\n<p>The problem here is, every session in the web server has an expiry duration of 3 years. Where as i am creating a session (Since i am calling login every time user launches the app), every time user launches the app. Which causes session duplication or say unnecessary sessions being created on the server side.</p>\n\n<p>Am i doing it the right way? How can i solve this?</p>\n\n<p>Thank You</p>\n"},{"tags":["php","mysql","forms","validation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13283753,"title":"Trouble Validating Required Text in textarea with PHP/MySQL","body":"<p>I have a textarea that I am trying to validate whether someone has filled out or not before submitted the form. I'm doing all of my validation server side with PHP.</p>\n\n<p>I had two thoughts. Either:</p>\n\n<p>1) submit the form to itself and have the fields validate themselves on the same page and then redirect to the page where the form would update my database. The problem I had was that since it was posting to itself, once the page redirected, I couldn't carry out using the POST values because they were no longer valid.</p>\n\n<p>2) So I figured I'd just do the validation on the second page (the page that the form initially is set to post to). Here's my code for that page, where 'description' is the name of the textarea:</p>\n\n<pre><code>session_start();\nif(!$_POST['description']){\necho \"&lt;script&gt;alert(\\\"Please fill out all fields\\\");&lt;/script&gt;\";\nheader(\"location:post_job.php\");\n}\n</code></pre>\n\n<p>And then it redirects back to the page where the form is being filled. I get this error though:</p>\n\n<pre><code>Warning: Cannot modify header information - headers already sent by (output started at siteinfo/site/checkjob.php:4) in siteinfo/site/checkjob.php on line 5\n</code></pre>\n\n<p>Line five is the header line (so line four is obviously the echo line). I don't understand why it would create that error since I haven't sent a header yet. Any help would be greatly appreciated. Thanks!</p>\n"},{"tags":["php","email","printing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13283798,"title":"how to send mail that looks like a page with print option ?","body":"<p>Now i have to send mail with print option. \nthe mail should look like a page. contents of the mail should be inside the page. \nif i click on print like to take printout on a4 size paper.\nhelp me. </p>\n"},{"tags":["php","zend-framework","magento"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1377,"score":1,"question_id":5068201,"title":"magento sort attribute option collection by position?","body":"<p>Greetings,</p>\n\n<p>I am trying to sort an array of attribute option values by their \"position\" as entered in the manage attributes panel. I seem to have tried everything, does anyone know how this is possible?</p>\n\n<p>I thought for sure this would work:</p>\n\n<pre><code>    $_collection = Mage::getResourceModel('eav/entity_attribute_option_collection')\n        -&gt;setStoreFilter(0)\n        -&gt;setAttributeFilter($_productAttribute-&gt;getId())\n        -&gt;addAttributeToSort('position')\n        -&gt;load();\n</code></pre>\n\n<p>But it didn't. Any help would be greatly appreciated!</p>\n"},{"tags":["php","mod-rewrite","kohana","kohana-3"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":137,"score":1,"question_id":13121861,"title":"Kohana 3.3 Not working from Subdirectory","body":"<h2>Answer:</h2>\n\n<p>Kohana 3.3, they didn't take into account case-sensitivity on folders/files (they capitalized some directories/files) so this is going to drive some folks nuts when they start switching to the new Kohana (just like I did).</p>\n\n<p>I switched back to Kohana 3.2 until this has been fixed.</p>\n\n<hr>\n\n<p>Thank you very much for taking time in reading my huge post I had about this silly problem, and I hope this answer saves a poor souls life in the future =)</p>\n"},{"tags":["php","mysql","sql","database","schema"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13282377,"title":"How to structure my database for game stats tracking?","body":"<p>I have been over this issue for the last year or so, changing what I am doing and trying different things. The issue is to do with the schema so I can still order nicely in player/clan ladders but if we want to add a stat later it won't lock our table changing every row due to one stat per column. </p>\n\n<p>I see two options for how to do this but both don't seem to be right. One is one stat per column. There would be 4 tables, user_stat_summary (for basic stats shown on ladders), user_stat_beast (teams are human vs beast), user_stat_human and user_stat_overall. Stats are shown everywhere from the last 30 days. A cron job will take any dated stats by getting a query on matches that happened after the 30 days and taking away those stats from the 3 main tables and putting them into the overall one. Matches will have blobs for the stats each player got for that match. The issue I see here is when we have a lot of rows that we can't easily add more stats when say the game changes a little. What I was thinking was a extra_stats blob column on each table and if we add new stats they simply aren't going to be sortable on the ladders. </p>\n\n<p>The other option is an EAV model which is what I have been playing around with but can't seem to get it right. I would be getting many more rows per query and then grouping them into users and the order would work for the most part but I couldn't get limits right for pagination since there was generally an unknown number of rows selected. </p>\n\n<p>What I was thinking is the EAV model with a table that stores ranks per stats which could be used for ordering. So the EAV tables are currently as follows...</p>\n\n<pre><code>CREATE TABLE `user_stat` (\n    `user_id` int(10) unsigned NOT NULL,\n    `stat_id` varchar(50) NOT NULL,\n    `value` int(10) unsigned NOT NULL,\n    PRIMARY KEY (`user_id`,`stat_id`),\n    CONSTRAINT `user` FOREIGN KEY (`user_id`) REFERENCES `xf_user` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n\nCREATE TABLE `user_human_stat` (\n     `user_id` int(10) unsigned NOT NULL,\n     `stat_id` varchar(50) NOT NULL,\n     `value` int(10) unsigned NOT NULL,\n     PRIMARY KEY (`user_id`,`stat_id`),\n     CONSTRAINT `human_user` FOREIGN KEY (`user_id`) REFERENCES `xf_user` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n\nCREATE TABLE `user_beast_stat` (\n     `user_id` int(10) unsigned NOT NULL,\n     `stat_id` varchar(50) NOT NULL,\n     `value` int(10) unsigned NOT NULL,\n     PRIMARY KEY (`user_id`,`stat_id`),\n     CONSTRAINT `beast_user` FOREIGN KEY (`user_id`) REFERENCES `xf_user` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n\nCREATE TABLE `user_stat_overall` (\n     `user_id` int(10) unsigned NOT NULL,\n     `human` blob NOT NULL,\n     `beast` blob NOT NULL,\n     `total` blob NOT NULL,\n     PRIMARY KEY (`user_id`),\n     CONSTRAINT `user_overall` FOREIGN KEY (`user_id`) REFERENCES `xf_user` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n</code></pre>\n\n<p>So I was thinking I could add a user_stat_rank table which would be user_id, stat_id, rank. Then say I want to get the first page of the ladder ordered by the 'kills' stat I could get all the user_ids order by rank where stat_id is kills. Then make a second query to populate all the users stats. </p>\n\n<p>After writing all this out it seems like it would work fine but I might not be seeing something. I also understand this question is all over the place so if you would like me to edit in details at places just say so.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":4,"view_count":27,"score":-4,"question_id":13283408,"title":"File downloading in php","body":"<p>Presently I am working on a company's website on which if job seeker posts their CV, it will be visible in the admin panel with a download option.</p>\n\n<p>Now I need help in that download part. In admin section i am displaying information about the newly registered job seeker, along with a button which should allow administrator to download the job seeker's CV. I need at least one working example for doing this at least, if I got a good discussion about file downloading I will be very greatful.</p>\n\n<p>I worked on website having file download option in asp.net in C# but no idea how to achieve it in html PHP.</p>\n"},{"tags":["php","mysql","multiple","record"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":513,"score":0,"question_id":11960650,"title":"Inserting Multiple rows in Mysql table with PHP","body":"<p>I am in a fix here. I have code that does not insert multiple data into mysql table with one form. Here's my code-</p>\n\n<pre><code>&lt;?php\nif (isset($_POST['submitted'])) {\n  include('config.php');\n  foreach($_POST['name'] as $row=&gt;$nam) {\n    $name=$nam;\n    $class=$_POST['class'][$row];\n    echo \"&lt;br/&gt;\" . $name . \"&lt;br/&gt;\" . $class;\n    $sql=\"INSERT INTO multiple (name, class) VALUES ('$name','$class')\";\n  }\n  if (!mysql_query($sql)) die('Error: ' . mysql_error());\n  echo \"1 record added\";\n}\n?&gt;\n\n&lt;form action=\"&lt;?php echo $_SERVER['PHP_SELF']; ?&gt;\" method=\"post\"&gt;\n&lt;label&gt;Name1:\n&lt;input id=\"name\" name=\"name[]\" type=\"text\"&gt;\n&lt;input type=\"hidden\" name=\"submitted\" value=\"true\" /&gt;\n&lt;/label&gt;\n&lt;label&gt; Class1:\n&lt;input id=\"class\" name=\"class[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;label&gt;Name2:\n&lt;input id=\"name\" name=\"name[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;label&gt;Class2:\n&lt;input id=\"class\" name=\"class[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;label&gt;Name3:\n&lt;input id=\"name\" name=\"name[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;label&gt;Class3:\n&lt;input id=\"class\" name=\"class[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;label&gt;Name4:\n&lt;input id=\"name\" name=\"name[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;label&gt;Class4:\n&lt;input id=\"class\" name=\"class[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;label&gt;Name5:\n&lt;input id=\"name\" name=\"name[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;label&gt;Class5:\n&lt;input id=\"class\" name=\"class[]\" type=\"text\"&gt;\n&lt;/label&gt;\n&lt;input value=\"Add\" type=\"submit\"&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>When I press the submit button nothing inserts in the mysql table. Only empty fields are created. If I insert 5 text field I get 5 empty fields in sql table.</p>\n"},{"tags":["php","session"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13282776,"title":"Logut Session not destroyed","body":"<p>I created a log out page and calling it through a href link but it not working the session was not destroying. Help me, the code n link are below.</p>\n\n<p>logout.php</p>\n\n<pre><code> &lt;?php \n    session_start();\n    session_unset();\n    session_destroy();\n    header(\"location:index.php\"); \n ?&gt;\n</code></pre>\n"},{"tags":["php","magento","magento-1.6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13272862,"title":"How do I add a stock level updated date to the front end","body":"<p>I currently have the following code that displays the quantity of the product being viewed:</p>\n\n<pre><code>&lt;?php \necho intval(Mage::getModel('cataloginventory/stock_item')-&gt;loadByProduct($_product)-&gt;getQty()); \n?&gt;\n</code></pre>\n\n<p>This all works fine, but what I would like to do is get the last updated date of this Stock Quanity, is this possible?</p>\n\n<p>Thanks in advance for any help.</p>\n"},{"tags":["php","javascript","arrays","json"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13283319,"title":"Passing PHP array using json_encode method into external Javascript function gives result as 'undefined'","body":"<p>I have searched for that, i got some ideas from following site also.\n<a href=\"http://stackoverflow.com/questions/13116604/passing-php-array-into-external-javascript-function-as-array\">Passing PHP array into external Javascript function as array</a>\nMy sample code is below:</p>\n\n<pre><code> &lt;?php $array_sample = array(\"c1\",\"c2\"); $newArray = json_encode($array_sample); ?&gt;\n &lt;INPUT type=\"button\" value=\"Php Array\" onclick=\"Test(&lt;?php echo $newArray ?&gt;)\" /&gt;\n &lt;script language=\"javascript\"&gt; function Test(test_arr){    alert(test_arr); }&lt;/script&gt;\n</code></pre>\n\n<p>For above code, I am getting <code>undefined</code> as <code>alert message</code>.\nAny Help would be appreciated.</p>\n"},{"tags":["php","query","mongodb","find","eval"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13283619,"title":"How to use eval() to convert string to php code in mongodb php query?","body":"<p>I want to convert a string to php code.</p>\n\n<pre><code>$criteria = \"\\\"department\\\" =&gt; array('\\$in' =&gt; array(\\\"IT\\\"))\";\n</code></pre>\n\n<p>My actual Mongodb query is this,</p>\n\n<pre><code>$collection-&gt;find(array(\"name\" =&gt; $a, \"department\" =&gt; array('$in' =&gt; array(\"IT\")));\n</code></pre>\n\n<p>But what I need is, query should be based on criteria..</p>\n\n<pre><code>$collection-&gt;find(array(\"name\" =&gt; $a, $criteria);\n</code></pre>\n\n<p>But this doesn't seem to work for me.</p>\n\n<p>I even tried <code>eval($criteria)</code> and then tried it. Negative result.</p>\n\n<p>Where am I going wrong? Any help would be appreciated.</p>\n"},{"tags":["php","javascript","jquery","printing","printdialog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13283170,"title":"JavasScript/jQuery application to print 100 invoices with one click without opening print dialog","body":"<p>I am trying to create an application (jQuery or JavaScript) that will print 100 unique invoices with 1 click of a print button without calling the print dialog box. </p>\n\n<p>Requirement is that I don't want to allow website users to access soft copies of their invoices. \nProblem is that the JavaScript print command window.print opens a dialog box for each invoice and in my case it will ask 100 times to print next invoice. </p>\n\n<p>Any help will be highly appreciated, thanks in advance!</p>\n"},{"tags":["php","saml","saml-2.0","cmsmadesimple"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13168057,"title":"Integrating simpleSAMLphp (SAML 2.0) with CMS Made Simple (CMSMS)","body":"<p>I'm trying to build a service proviuder (SP) site for a client using a SAML2.0 based user ID system.</p>\n\n<p>I've been able to install simpleSAMLphp on my server and have tested it with an open IdP authentication network - all is working fine if I just create php files which demand authentication against this IdP. Simple adding this to any page makes it work.</p>\n\n<pre><code>require_once('../simplesamlphp/lib/_autoload.php');\n$auth = new SimpleSAML_Auth_Simple('default-sp');\n$auth-&gt;requireAuth();\n$attributes = $auth-&gt;getAttributes();\n</code></pre>\n\n<p>Within CMSMS however, if I add the above as a user defined smarty tag (the usual way of including php) I get a \"state lost\" error. I've tried adding it to the page meta data (via the content interface) as well as simply in the body of the page or at the head of the template.</p>\n\n<p>I always get:</p>\n\n<blockquote>\n<pre><code>State information lost\nState information lost, and no way to restart the request\n</code></pre>\n</blockquote>\n\n<p>Does anyone have any ideas what could be going wrong? I've tried the usual fixes for this error messages (adjusting the domain the cookies are assigned to in php.ini etc). No joy.</p>\n"},{"tags":["php","mysql","wordpress","mysqli","bbpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13283264,"title":"bbPress - forum does not show topic while topic shows forum","body":"<p>I have a forum \"Relationships\" and a topic \"abc\".\nWhat else do I need do to with the database to have topic \"abc\" listed under forum \"Relationships\", apart from the following?</p>\n\n<ol>\n<li><p>Topic \"abc\" clearly shows that it's in forum \"Relationships\"<br>\n1.1. In WP backend view<br>\n<img src=\"http://i.stack.imgur.com/58lIK.png\" alt=\"enter image description here\">\n1.2. On frontend<br>\n<img src=\"http://i.stack.imgur.com/NfRFQ.png\" alt=\"enter image description here\"><br>\n1.3. In database<br>\n<img src=\"http://i.stack.imgur.com/ODxzo.png\" alt=\"enter image description here\"></p></li>\n<li><p>However, forum \"Relationships\" shows 0 topics<br>\n2.1. On frontend<br>\n<img src=\"http://i.stack.imgur.com/izXWy.png\" alt=\"enter image description here\"></p></li>\n</ol>\n\n<p>wp_postmeta table<br>\n<img src=\"http://i.stack.imgur.com/ihdnq.png\" alt=\"enter image description here\"></p>\n\n<p>Background info<br>\nThe forum is created using WP backend.<br>\nThe topic and its postmetas and the forum's postmetas are added by my PHP script.<br>\n(this is because I'm migrating data from 1 old WordPress site to a new one using my PHP script;<br>\nthere are 2 WordPress databases here so I can't leverage on WordPress functions)</p>\n"},{"tags":["php","sql","relational-database","entity-relationship"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":282,"score":2,"question_id":8558777,"title":"SQL Members table to show family relationships between members","body":"<p>I've been trying for days to design this database. I'm designing it in access then implementing on MYSQL Server as a PHP Web Application.</p>\n\n<p>I have a table:</p>\n\n<p><strong>Members</strong></p>\n\n<ul>\n<li>MemberID (autoNumber, PK) </li>\n<li>MemberName </li>\n<li>MemberDetails</li>\n</ul>\n\n<p>Members can have many relationships with other members, this may be Child, Parent, Friend, Spouse etc. Looking at one Member, I'd like to be able to create new relationships with existing members and then have that relationship also be visible from the related member without further input. Members should also be able to list all their relationships.</p>\n\n<p>Can you please advise how I should do this? I've tried a few options but none seem to work as intended. I'm comfortable with SQL, I'm just having trouble with the Unary relationship design.</p>\n\n<p>-edit-\nAlso, I forgot to add, this is not going to be able to use INNODB due to server restrictions. Most likely will be MYISAM, though i still want referential integrity :(</p>\n"},{"tags":["php","smtp","phpmailer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1353,"score":0,"question_id":4006887,"title":"PHPMailer SMTP Error 550","body":"<p>I'm using PHPMailer to send email via SMTP on a shared server (my hosting service is Softsys). Email is being sent fine to email addresses on the same server (i.e. the @ domain is my webdomain). However, when I try to change the recipient to @gmail (or any external address) I get the following error log:</p>\n\n<pre><code>SMTP -&gt; get_lines(): $data was \"\"\nSMTP -&gt; get_lines(): $str is \"550 &lt;jDoe@gmail.com&gt; No such user here\"\nSMTP -&gt; get_lines(): $data is \"550 &lt;jDoe@gmail.com&gt; No such user here\"\nSMTP -&gt; FROM SERVER:550 &lt;jDoe@gmail.com&gt; No such user here\nSMTP -&gt; ERROR: RCPT not accepted from server: 550 &lt;jDoe@gmail.com&gt; No such user here\nSMTP -&gt; get_lines(): $data was \"\"\nSMTP -&gt; get_lines(): $str is \"250 OK\"\nSMTP -&gt; get_lines(): $data is \"250 OK\"\nSMTP -&gt; FROM SERVER: 250 OK\nMessage could not be sent.\nMailer Error: SMTP Error: The following recipients failed: jDoe@gmail.com\n</code></pre>\n\n<p>Is this an issue with my server or my code? Should I just contact my server admin? Thank you in advance for any help!</p>\n\n<p>Here's my code</p>\n\n<pre><code>require(\"class.phpmailer.php\");\n$mail = new PHPMailer();\n\n$mail-&gt;IsSMTP();\n$mail-&gt;Host = \"mail.mywebsite.com\";\n$mail-&gt;SMTPAuth = true;\n$mail-&gt;Username = \"myemail\";\n$mail-&gt;Password = \"********\";\n$mail-&gt;From = \"myemail@mywebsite.com\";\n$mail-&gt;FromName = \"John Doe\";\n$mail-&gt;AddAddress(\"jDoe@gmail.com\");    \n\n$mail-&gt;IsHTML(true);\n\n$mail-&gt;Subject = \"Here is the subject\";\n$mail-&gt;Body    = \"This is the HTML message body &lt;b&gt;in bold!&lt;/b&gt;\";\n$mail-&gt;AltBody = \"This is the body in plain text for non-HTML mail clients\";\n\nif(!$mail-&gt;Send())\n{\n   echo \"Message could not be sent. &lt;p&gt;\";\n   echo \"Mailer Error: \" . $mail-&gt;ErrorInfo;\n   exit;\n}\n\necho \"Message has been sent\";\n</code></pre>\n"},{"tags":["php","zend-guard"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":19,"score":-4,"question_id":13277988,"title":"Fatal Error must have to solve now so real quick?","body":"<p>What kind of error is it and how can i solve it??? Its some thing like zend error and please tell me how to fix this. <a href=\"http://themeoxygen.com/\" rel=\"nofollow\">http://themeoxygen.com/</a></p>\n\n<p>Error is:\nFatal error: Incompatible file format: The encoded file has format major ID 3, whereas the Loader expects 4 in public_html/engine/initEngine.php on line 0</p>\n\n<p>Code here:</p>\n\n<pre><code>&lt;?php @Zend;\n4123;\n/* ñ!This is not a text file!Þí  */\nprint &lt;&lt;&lt;EOM\n&lt;html&gt;&lt;body&gt;&lt;a href=\"http://www.zend.com/products/zend_guard\"&gt;&lt;img border=\"0\" src=\"http://www.zend.com/images/store/safeguard_optimizer_img.gif\" align=\"right\"&gt;&lt;/a&gt;&lt;center&gt;&lt;h1&gt;Zend Optimizer not installed&lt;/h1&gt;&lt;/center&gt;&lt;p&gt;This file was encoded by the &lt;a href=\"http://www.zend.com/products/zend_guard\"&gt;Zend Guard&lt;/a&gt;. In order to run it, please install the &lt;a href=\"http://www.zend.com/products/zend_optimizer\"&gt;Zend Optimizer&lt;/a&gt; (available without charge), version 3.0.0 or later. &lt;/p&gt;&lt;h2&gt;Seeing this message instead of the website you expected?&lt;/h2&gt;This means that this webserver is not configured correctly. In order to view this website properly, please contact the website's system administrator/webmaster with the following message:&lt;br&gt;&lt;br&gt;&lt;tt&gt;The component \"Zend Optimizer\" is not installed on the Web Server and therefore cannot service encoded files. Please download and install the Zend Optimizer (available without charge) on the Web Server.&lt;/tt&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Note&lt;/b&gt;: Zend Technologies cannot resolve issues related to this message appearing on websites not belonging to &lt;a href=\"http://www.zend.com\"&gt;Zend Technologies&lt;/a&gt;. &lt;h2&gt;What is the Zend Optimizer?&lt;/h2&gt;&lt;p&gt;The Zend Optimizer is one of the most popular PHP plugins for performance-improvement, and has been available without charge, since the early days of PHP 4. It improves performance by scanning PHP's intermediate code and passing it through multiple Optimization Passes to replace inefficient code patterns with more efficient code blocks. The replaced code blocks perform exactly the same operations as the original code, only faster. &lt;/p&gt;&lt;p&gt;In addition to improving performance, the Zend Optimizer also enables PHP to transparently load files encoded by the Zend Guard. &lt;/p&gt;&lt;p&gt;The Zend Optimizer is a free product available for download from &lt;a href=\"http://www.zend.com\"&gt;Zend Technologies&lt;/a&gt;. Zend Technologies also developed the PHP scripting engine, known as the &lt;a href=\"http://www.zend.com/products/zend_engine\"&gt;Zend Engine&lt;/a&gt;.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\nEOM;\nexit();\n__halt_compiler();\n?&gt;\n\n20040722033360712994xù\nŸ2•[K‹Ç.®eÆàYXHLF8ÎÂ03ÝUÕ]ÕŽK[D²Äh¢Etißé¹sñ}Œ»ûÊ#DVb0^xçe~@0ÁÁÞœH¼‰7yà³Ò\"CìœztuUwuÏÄ nªúê«óªSÕ\"ªï-æ7Òù&lt;;1:®äV   Žp‡àJdø?XÎf'[éÁA.B(èêAv8™g«!%˜D!§â|¡jXdåZ˜„4ŽBÊ°T1Ølò)ºa9™eo,æ™|t3â( qŠ&amp;Œ7ËóE&gt;Ì³ãE^NæãµM‚Äb ÐüI1Ló&lt;=Y)¢˜„šŽŽ²Ñ+0ÁËËñZ4á1†ØËO_Î×pAœ$Œ‹_f‘ü%\nBÂ™Œaà!òB&gt;šeE‘Ž³µMS†˜I_!XµV5‡0gŒ‹Ši\"V)  YÂK¾ë|9ËòÉh-Œ   x²PðQVã àÆ‘–§iGh@€rùÆÅ{jeEé×´—-æ‡“ñµ[*=‹Ñ[&amp;lDJ'e°¬¢þ£Srs”¡ŒíÎÇ|C.í™[Ó,-²\nØ•åñÆÉb™o¨‰6'Óì’ Šû5âÛ7„D!,VngîÎ\n-WoÞØ¹ö¢¶8í)úDŸÖ›â‹Y:™«t‚¢÷Œ‹‹ä¢t†i†¹(‡ 1·êý±1xN~\nž@v_|þÚ‹»Ã[;û/¸¸A[½¸E§LR;&lt;NË#5dÈð£Ð=è#ôk?úÈâ;FIƒïíÝ¼¹ï£ý”'(_,Jwl(ñãŽÑ¬wŒ°wbáfèbw„®ì\\ya×ÅÌ A1ëîÝ£jÌÝ•ê,;Âm‹€°=JÁklWÒIÓz°3sŸf±Í\"qP¯‘·5Œag\"ùÞw÷&lt;{Ä;Õ+–!\nüg~/Ë­½â§èïÕ1Þ¡c”ZëHš:&amp;Ø·Öá.!éP3ÑÉZ‚š?9EÓ’^MK:4òÚ¾!¸ØDOÐþî[×wö=ò~•³\n«¹KßˆL ‡Ó&lt;jYlWâ}\n'pv/Zk…­¥‚Y‰¡f`-…ƒ`U@üš,æ/^™@D–ÞÕ]2CýK®|w5üj#,…hKw¬$æ}K|=Kdè3ïc¡‹Õ¹ †lf–X¤÷”ûu—ÇÑ=ÿò´Ë©Fþ¦w7aß·õÛ•äƒ¾UrôfÏ*9ú¶w•[«LÐãÍ¤f•Ë\".æÓ“¡ÚÑÂ]¬m¬çôI;í}j–t¨¸AÛÑ£f]™§óbX˜Z‘šú=p¡¹ÄA{qÐê'ŽÇ´†¶‰PšÁé@.Ÿ–‹|,raYØŠ¢ú^:;þ¾0ìãZýÜ%am¢ûbBž'E  n}&lt;]¼œNÝ….àºyxèBÃ½Üa/w”EÜâŽ´¸YðtºxmGñááâ8sýôHNGFzI#^Ò(‹©¥pÔGÚ,OFÃW—‹2+†ãã‘ž…4ÚKí i‘Oáhùr.N?.¼è,ÌE½ÌEsØ¶p\"yTøâ6uí.sØÌíÛ‹ÃIêâŠÑÝŽ)Uk} #œ«\"¤š’‹yÝíîpçúõJêñ¦µ€íÂÑ—gN£]îÓ!ÚV§­ã£ãJøS}§a`Qß õáÙçM¸lÌ‹ ÚžÌGÓåAVl.ç£gQcˆÑ“=bô«³c`èç¸…A\\¶¦“Q6e5†~Ù„u„U/®è*2›'ý­\nGß=;”DT¡½œ$m(E6Zæ“ò¤F’ ?ô IÐgFg…¯ÎŽ¤ÌfÇÓ´¬·ºÿ«  ´†n¶&amp;,t”–££ÙµÃ;‹å•tn—b‚Þºp&gt;ÄÛF9ƒ¤“ [+Un¯*•ms‘ÛOÆ‹­­Jòí†yÂ0°Gú–·X®Z)ús;ÖÇë+­:Ð?8¡´1]˜2;}¦µçâT\\Ws#TÅŒuYS]ŸíwŽc³}´V+–B\\B`6„ûÍziÕcÔíÌÆ|QŠúŒS‹ak(‘,‡9ÍÌ\\EÔX0³Û?xDWâ¦f({T¾ÌDÍðã:É«’‡‘p=´Øç§UëKºu]\\Ð£z´ª9Ô7ÇUs*Š2ÍK%–X5¥ºÔlïL\"´#Z@ëÓºu],ªžFØÙ³Ï]¾*jˆ‚óNFYþÌ³ÛÏ]~ö¹½íËr~È‘4[Q;¢ÉŠ‚ä*‘Ù!­¹ŠW¤fº³ªõ%Ýº®ÂËœ¡\\=å“`ô—Æ µJ¨W'y%ùc ´#V­Å]ª”¢ZŠ w´!®«mu´ÖA›9±)â8š{ˆ«ÝÜí!Ž£™5Çmâ8:×¹{³“âÕ©nŽoÚD…Õ@Râ^Ge#P#\náð“Ë;9\\«²Q«¬øï)£§E!r=)ü 5vGóŽ`ßÕ`âÞ€(ÉvÁˆ¸C½{\n°£EQÖ’ÖhÔ­+‘Óýß2›Çš›'Ûï·Q‚°Ä(zÉh\"kh¢j6€7Íd~½®äB©JZ.qäª¡ÂÄ:Ô5'šuU&lt;dû\näÝ¾±³·gxõÚž«\n ý„7cö$\nRú+m²žø&gt;œáö¼çÉ¶éñFÓÖ±;ÿ¬Ã}bÕü°ž½&amp;=Y¯]Œª-    ²Jcd—'µxÖæAóS\\¨t    Î=Ÿ¶-X]Ðë¡º¯tó•2Šµµ´&gt;ì:Ú'búimWy\\1¬«Ñ²Ï×›s[Z î¶!(÷-åÿØé¿Us¥É­áˆNÞ¡é1z´U8²G„öŽÁTä5¤.c-ÌÐ•V©ÇŒ¡¿›ˆ-+’Ù'©¤’Ö!¾ºjPÒí¦”›÷BwUóg^ÔD”Q*Ôñ%Jû‚Å²÷üÀÅf)z¡;‘Ùi'vhþÈ‹‹q6¯ïUûüPÜâQ_¨hÕú¥t}™G=AŒTTÇBô;ýŠ°­Ó¬.¢U§G½$ì«€ŒòLp÷`R.škj•ÛDEGÉïg¯—;ð¿ªvû½)Ñu€Çâ±qu³ÞË‰d¤zÃªÍlÅ¼œ4íY# R4|~wß±/¢¿®¨n®°¨ÔŽ¦‹yv¸È³¢åâxXLDºª~]8‰•ž©\"Ï‡‰3öãÖ:Üw_…žŽ@÷«õ”YzÊÅqŽÔ£?rú…”Ûí*êKbv#Úºž±õÂ}§?Ù&lt;²7G^#~ÚßAëSú©l3u'.—Z\nwÐ“›ÑKÏÒKô`T7=Ø¢{èÁ‚ÜIF_Û—Ï:ªî2tûÊâŽš¸¶âwõ³wŸ­AófÃÖ|JÑ‰y¤K\nÅ\n\n+µ„¢÷/œ'å6LgðßžÁL)úÙÀo¦ÝtÇýj`G\"Ú™®4Ô€væ+A¥ú0.…/6ã£T\\8ÓNE ès‹u“bñóÍ†žµ˜=ÑÏ´šv«Ê¦™á(òrÛE‚#|:G2§³Ÿ_w›Jd1z’Ï&gt;ÂN†\"ôOc*aÛT\"q \nýµÙ|¢_¨µÝÈØ¸ÖÅÔ‡îÓín˜àÆ^p77Ìâ&amp;ðpÃ7A'7Ìâ&amp;hsÃ¬k•ê;††ëï:¼`Õü…fw]=ªåLâÉ´YÁHC7UŽ«%¸õ.+Ð*aK…9úMÃÛÁ)eWT7^›”GÅ(Ÿ——.]ªÞgÉÚÔ¨T­Ëb#-7ÒƒÙdþËIˆw¯®wIÐŒžqù€Ëizl`V‚õZÃÚ#»ŒX-$&amp;ÎÄ°˜XjDn.„@Œ‹RG=ÑŠ}n*'åT;Öˆ[UŽÀS3‰äóï@•œ©MŒì71'Ñw»Ç99ÎT©Ä’Ö8Äç~ÍÛT&amp;ÝßÐ£s9ÍOæ˜¦'ŽÌñ¼¦åúµ×öÝÕƒÜ¬Ç6 ù†mt1ßÌã}ÀÄ¡UºˆãÖ&gt;?šØ*q&lt;RE—ç8ö&lt;F ®ÀÅ¡™\n\\â‰¢`;4¾Ý2ÏSŽ57Â$ÏV]he&amp;q†ù¨Þ-ë?ˆ(•¯;Üï+¸”žñó!îõžåèÛêËê{g €æÇêEU±¢µ¨;ý`µÔý°Zäóg»õ×y¶y»é÷š`¼¯ÍsK[ÏÍÄ·{;Ïï6ÈIlã².Àî¨s\"rÁð´ÝJÐ¿§¨Pb\"—ß9À›}æ™ ?5C®CW,KAWJÛ¥›:..°ªÅ²vé!B·÷wö¶ËdÙÁÍeÚŒö“ò4vÞH&lt;ô'OÚe±ÂÍVV,¿ÍófN€]´}Ô@óûÕïâ|€©Ç­(åpÇmîpËûÔŽÙ'•ú2\n»\"wûðâ7œPjÁ!7ìÛJÒtÃmþHg”ÂªùKo–ç­&gt;3.^Sxr=ñB­ug½Ì§uº~ªs+³ÏVqšþ8Qgöáð=(˜¦óñ2gVÕx²]{l|ß¢$8A?é¼Â–Í+ê»Àù§?¤P7¼k›Œ2H—bÆçz^~/@01W_EÚWàÐ˜° HD\"TßÛÂÏ!cÐ   Ç²®&gt;Øq”ÐP|§PÝäÁoqÂàÀHäGúFn3ÎâˆòU7-«R„Çâû2Ø\nýªõ‡“i¶\n?ÂqŠET.kX•¶EÛäŸ„R¨—ÄªÔ%á aQ©o;®/F¯dâ“˜–à@|ÁþæâÑMà$9Å¸fðeðX;\n</code></pre>\n"},{"tags":["php","session","authentication","session-hijacking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13283279,"title":"PHP best practices to prevent session hijacking in authentication","body":"<p>I am coding up my login and authentication system for a <code>PHP</code> web application and looking for best practices to prevent session hijacking. The login page set's sessions:</p>\n\n<pre><code>$_SESSION['email_address'] = $_POST['email_address'];\n$_SESSION['ip_address'] = $_SERVER['REMOTE_ADDR'];\n</code></pre>\n\n<p>Then in every page and action I check to make sure the session exists, and the ip address stored in the session matches the ip address in $_SERVER['REMOTE_ADDR'].</p>\n\n<pre><code>if(isset($_SESSION['email_address']) &amp;&amp; isset($_SESSION['ip_address']) &amp;&amp; $_SESSION['ip_address'] == $_SERVER['REMOTE_ADDR']) {\n     //valid auth\n}\n</code></pre>\n\n<p>Reading online though, some people say simply checking the ip address is NOT good enough. What else is needed? Also, there is talk of using <code>session_regenerate_id()</code>. How does that factor into my code? Do I call <code>session_regenerate_id()</code> on every page?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","facebook","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13282815,"title":"Facebook's getUser() returns nothing","body":"<p>I am working on facebook login for my site(CI Version 2.1.3). I have downloaded the facebook and placed at <code>libraries/facebook/</code> </p>\n\n<p><strong>Library:</strong></p>\n\n<pre><code>include(APPPATH.'libraries/facebook/facebook.php');\n\nclass Fb_lib extends Facebook{\n\n    public  $user_id    =   NULL;\n    public  $user       =   NULL;\n    public  $fb         =   FALSE;\n    public  $fbSession  =   FALSE;\n    public  $appkey     =   0;\n\n\n    public function Fb_lib(){\n\n        $CI =&amp; get_instance();\n        $CI-&gt;config-&gt;load('facebook', TRUE);\n        parent::__construct($CI-&gt;config-&gt;item('facebook')); \n\n        $this-&gt;user_id  =   $this-&gt;getUser();\n        $me             =   NULL;\n        //Getting response\n        if($this-&gt;user_id){\n            try {\n                //parent :: $CURL_OPTS[CURLOPT_SSL_VERIFYPEER] = false; \n                //parent :: $CURL_OPTS[CURLOPT_SSL_VERIFYHOST] = 2;\n\n                $me =   $this-&gt;api('/me');\n                $this-&gt;user =   $me;\n\n            } catch(FacebookApiException $e) {\n                echo \"&lt;pre&gt;\"; print_r($e); echo \"&lt;/pre&gt;\";\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Controller:</strong> </p>\n\n<pre><code>class Fbconnect extends CI_Controller {\n\n    public function __construct(){\n\n        parent::__construct();\n\n        $this-&gt;load-&gt;library('Fb_lib');\n    }\n\n    public function request(){\n\n        $data   =   array(\n                'redirect_uri'  =&gt;  base_url().'fbconnect/response',\n                'scope'         =&gt;  array('email', 'user_birthday')\n            );\n\n        redirect($this-&gt;fb_lib-&gt;getLoginURL($data));\n    }\n\n    public function response(){\n\n        if($this-&gt;fb_lib-&gt;user){\n            echo \"&lt;pre&gt;\"; print_r($this-&gt;fb_lib-&gt;user); echo \"&lt;/pre&gt;jj\";\n        } else {\n            echo \"Failed to get data\";\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Problem:</strong></p>\n\n<p>It's working fine upto seeking permissions from the user but not returning results. In <strong>Fb_lib</strong> <code>$this-&gt;getUser()</code> returns nothing so in <code>response()</code> Its printing <strong>\"Failed to get data\"</strong></p>\n\n<p>What i am doing wrong here ?</p>\n"},{"tags":["php","javascript","html","css"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13281794,"title":"how to change text colour if current date and time has passed?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2832467/php-how-can-i-check-if-the-current-date-time-is-past-a-set-date-time\">PHP - How can I check if the current date/time is past a set date/time?</a>  </p>\n</blockquote>\n\n\n\n<p>I have a drop down menu below where it shows an exam's name, date and time.</p>\n\n<pre><code>$sessionHTML = '&lt;select name=\"session\" id=\"sessionsDrop\"&gt;'.PHP_EOL;\n$sessionHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;           \n\nwhile ( $sessionqrystmt-&gt;fetch() ) {\n    $sessionHTML .= sprintf(\"&lt;option value='%s'&gt;%s - %s - %s&lt;/option&gt;\", $dbSessionId, $dbSessionName, date(\"d-m-Y\",strtotime($dbSessionDate)), $dbSessionTime) . PHP_EOL;  \n}\n\n\n$sessionHTML .= '&lt;/select&gt;';\n</code></pre>\n\n<p>What I want to do is that if an exam's date and time is passed the current date and time, then display the text of those options in red, if they have not been passed make those options green color text.</p>\n\n<p>E.g Current Date/Time: 24/09/2012 09:00:00 (this is just an example, I want the actual current date and time.</p>\n\n<pre><code>AAA - 13/08/2012 - This text should be red\nBVF - 27/01/2013 - This text should be green\n</code></pre>\n\n<p>Does anyone know how to do this?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":30,"score":-5,"question_id":13283302,"title":"Displaying questions in a questionnaire using PHP?","body":"<p>I am building an online questionnaire. In this questionnaire, <strong>the user should see only one question at a time per page</strong>. When he sees the question, he will provide an answer and after that he will press on next to go to the second question and so on until the end of the questionnaire. I have already built the questionnaire but I am stuck now on the part\" how i can display only one question from the database?\". Also, when the user press on next, should i save the answer immediately to the database or I should wait until he completes answering all the questions and save them at the end to the database?</p>\n\n<p>If anyone can help in that, please provide me with the appropriate technique to do that in PHP. </p>\n"},{"tags":["php","wsdl","odata","nusoap"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2542,"score":1,"question_id":4661815,"title":"Best way to create PHP Web Service","body":"<p>Not really a PHP developer, but I have PHP hosting and would like to create a PHP Web Service on it to be consumed by a .NET Client, I am thinking of using WSDL with NUSoap. </p>\n\n<p>OR</p>\n\n<p>A more modern solution, which I am not sure would be easier, would be to use OData.  Which one would be easier?</p>\n"},{"tags":["php","mysql","email"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13283142,"title":"What are the benefit of using PHP & MySQL based email server?","body":"<p>Our small business requires a free email newsletter server. A lot of friends recommend us iKode Newsletter Server which is 100% web based, using PHP programing and MySqL database. But I want to know the advantages of PHP based?</p>\n"},{"tags":["php","api","e-commerce","credit-card"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":7,"score":-1,"question_id":13283165,"title":"Ecommerce credit card integration","body":"<p>I am aware of some third-party online payment processor. However, I've seen some sites who doesn't state which payment processor they use (eg. PayPal), the only field I see are registration details and credit card information fields. What are these type of payment processors?</p>\n\n<p>Example, in <a href=\"https://manager.linode.com/signup/\" rel=\"nofollow\">Linode</a> I wonder what they use as a credit card processor.</p>\n"},{"tags":["php","html"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13282899,"title":"simple captcha code implementation","body":"<p>The issue I am having is the form submits data to a payment processing company.</p>\n\n<p>the captcha I implemented is located here: \n<a href=\"http://www.php-help.ro/examples/math_captcha_image\" rel=\"nofollow\">http://www.php-help.ro/examples/math_captcha_image</a>\nfor this to work the form most submit to self or to a php page that I have access to\ninstead here is the form code:</p>\n\n<pre><code>&lt;form action=\"https://secure.bluepay.com/interfaces/bp10emu\" method=POST&gt;\n\n      &lt;input type=hidden name=MERCHANT value=\"100105032970\"&gt;\n      &lt;tr&gt;&lt;td&gt;Zipcode:&lt;/td&gt;&lt;td&gt;&lt;input type=text name=ZIPCODE&gt;&lt;/td&gt;&lt;/tr&gt;\n      &lt;tr&gt;&lt;td&gt;Phone:&lt;/td&gt;&lt;td&gt;&lt;input type=text name=PHONE&gt;&lt;/td&gt;&lt;/tr&gt;\n      &lt;tr&gt;&lt;td&gt;Email:&lt;/td&gt;&lt;td&gt;&lt;input type=text name=EMAIL&gt;&lt;/td&gt;&lt;/tr&gt;\n      &lt;tr&gt;&lt;td&gt;Captcha:&lt;/td&gt;&lt;td&gt;    &lt;input type=\"text\" name=\"secure\" value=\"what's the result?\" onClick=\"this.value=''\" /&gt;&lt;br&gt;&lt;br&gt;\n      &lt;img src=\"image.php\" alt=\"Click to reload image\" title=\"Click to reload image\" id=\"captcha\" onClick=\"javascript:reloadCaptcha()\" /&gt;\n      &lt;/td&gt;&lt;/tr&gt;\n      &lt;tr&gt;&lt;td colspan=2&gt;&lt;input type=SUBMIT value=\"Pay Now\"&gt;&lt;/td&gt;&lt;/tr&gt;\n\n    &lt;/table&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>the script works perfectly when implentated on a form that submits to self. but since its posting to bluepay.com I am not sure on how to get it to verify captcha BEFORE submitting. any ideas?</p>\n"},{"tags":["php","math"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":17,"score":-5,"question_id":13283005,"title":"Grant permissions like Linux","body":"<p>I grant permissions for persons like this:</p>\n\n<pre><code>$ARR_PERSON = array(\n     2 =&gt; \"Person B\",\n     4 =&gt; \"Person C\",\n     8 =&gt; \"Person D\",\n     16 =&gt; \"Person E\",\n     32 =&gt; \"Person F\",\n    );\n</code></pre>\n\n<p>The problem is I don't know how to get the permission when I have a number. For example: 24. How to split it into 8 and 16? I can't think out the solution.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13282974,"title":"Cannot modify header information - headers already sent by in php code","body":"<p>i creat web service for iphone app so that i write some code that fetch data from database and give output in form of XML,but data comes from database with warning \" Cannot modify header information - headers already sent by (output started at /home/content/s/o/u/soulcachaca/html/apc.php:1) in /home/content/s/o/u/soulcachaca/html/apc.php on line 3\"</p>\n\n<p>i also use <code>ob_start();</code> and <code>ob_end_flush()</code>.</p>\n\n<p>why this error comes ?\nsomebody give me proper solution to remove this from my code?</p>\n"},{"tags":["php","syntax-error","condition"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":302,"score":0,"question_id":3414760,"title":"OR in if condition raises \"unexpected T_VARIABLE\" error","body":"<p>I'm stuck. I just want a simple OR inside an if condition and php always raises an error:</p>\n\n<p>My Code:</p>\n\n<pre><code>if( ($value &gt; 0.01 || $seconds &lt; 100) ):\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Parse error: syntax error, unexpected T_VARIABLE\n</code></pre>\n"},{"tags":["php","mysql","sql","image","image-processing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13282975,"title":"Filtering the images from source folder to another folder","body":"<p>I have one folder named SOURCE.  In that folder around 10,000 images are there.  The folder containing images of various category.  For a particular category the image names are stored in a table.  Now i want to copy all the images which belongs to particular category from that folder and then copy all those images into another folder.</p>\n\n<p>Say there is a table like this,</p>\n\n<pre><code>id  imagename\n1    abc_1\n2    abc_2\n3    abc_3\n4    abc_4\n5    abc_5\n</code></pre>\n\n<p>All those images are in the same source folder.  I need to run a query to filter this category images and copy all those to another folder.  In that particular category i have around 1500 Images.  I am working in PHP &amp; MYSQL Environment.  How to do this? Hope my question is clear.</p>\n\n<p>Thanks in Advance !!</p>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13283109,"title":"Issue in searching","body":"<p>I am searching with the help of this query and it gets me the right result, But when i navigate to another page the search query is not running only simple query is running which is in the search else. please help me where is the issue. I don't understand where i am wrong.</p>\n\n<pre><code>&lt;form method=\"post\" action=\"\"&gt;&lt;input type='textbox' name=\"searchfield\" id='searchfield' $value style='height:25px; width:275px; border-radius:5px 5px 5px 5px; margin-top:50px; margin-bottom:50px;' /&gt;&lt;input type=\"hidden\" name=\"searchfield\" /&gt;&lt;input type=\"submit\" id='GetBtn' name=\"GetBtn\" class='GetBtn' value=\"Search\"&gt;&lt;/form&gt;\n\n\n if(isset($_POST['GetBtn'])){\n     $match = str_replace('-',' ',slugify($_POST['searchfield']));\n\n    $query_pag_data = \"SELECT * FROM `imported_deals` WHERE MATCH (`Name`, `Category` )\nAGAINST ('$match' IN BOOLEAN MODE)\";\n\n    }\n     else{   \n    $query_pag_data = \"SELECT * FROM `imported_deals` WHERE MATCH(`Name`, `Category` ) \nAGAINST ('$match' IN BOOLEAN MODE)\";\n     }\n   // echo $query_pag_data = \"SELECT * FROM imported_deals WHERE MATCH ( `Name`, `Description`, `Category` ) \n//AGAINST ('\\\"tools and equipment\\\" \\\"tools\\\" \\\"tool\\\" \\\"equipment\\\"' IN BOOLEAN MODE)\";\n    $PAGING         =   new PAGING($query_pag_data,10);\n    $query          =   $PAGING-&gt;sql;\n    $res                =   mysql_query($query);\n    if(!$res) die(mysql_error());\n\nwhile(){\n}\n\nif($show['subcat_name'] != '')\n    {\n         echo($PAGING-&gt;show_paging(\"http://yespricer.com/\",\"deals/\".slugify($fullname).\"/\".slugify($show['subcat_name']).\"/page\")); \n    }\n    else\n    {\n         echo($PAGING-&gt;show_paging(\"http://yespricer.com/\",\"deals/\".slugify($fullname).\"/page\")); \n    }\n</code></pre>\n"},{"tags":["php","variables"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":93,"score":3,"question_id":13244321,"title":"$this->value losing, well, its value","body":"<p>I have a problem with a PHP file I'm using, and I can't seem to find a solution.</p>\n\n<p>In one part of the code the value for <code>$this-&gt;value</code> is set, and the value is set correctly according to my testing.</p>\n\n<p>However, later in the same code <code>$this-&gt;value</code> is empty.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>&lt;?php\n\nclass Padd_Input_Advertisement {\n\n    protected $keyword;\n    protected $value;\n    protected $name;\n    protected $description;\n\n    function __construct($keyword,$name,$description='') {\n        $this-&gt;keyword = $keyword;\n        $this-&gt;value = unserialize(get_option($keyword));\n        $this-&gt;name = $name;\n        $this-&gt;description = $description;\n    }\n\n    public function get_keyword() {\n        return $this-&gt;keyword;\n    }\n\n    public function set_keyword($keyword) {\n        $this-&gt;keyword = $keyword;\n    }\n\n    public function get_value() {\n        return $this-&gt;value;\n    }\n\n    public function set_value($value) {\n        $this-&gt;value = $value;\n    }\n\n    public function get_name() {\n        return $this-&gt;name;\n    }\n\n    public function set_name($name) {\n        $this-&gt;name = $name;\n    }\n\n    public function get_description() {\n        return $this-&gt;description;\n    }\n\n    public function set_description($description) {\n        $this-&gt;description = $description;\n    }\n\n    public function  __toString() {\n\n        $strHTML  = '';\n        $strHTML .= '&lt;tr valign=\"top\"&gt;';\n        $strHTML .= '   &lt;th scope=\"row\"&gt;&lt;label for=\"' . $this-&gt;keyword . '\"&gt;' . $this-&gt;name . '&lt;/label&gt;&lt;/th&gt;';\n        $strHTML .= '   &lt;td&gt;';\n        $strHTML .= '       &lt;label for=\"' . $this-&gt;keyword. '_alt_desc\"&gt;Short Description&lt;/label&gt;&lt;br /&gt;';\n        $strHTML .= '       &lt;input name=\"' . $this-&gt;keyword . '_alt_desc\" type=\"text\" id=\"' . $this-&gt;keyword . '_alt_desc\" value=\"' . $this-&gt;value-&gt;get_alt_desc() . '\" size=\"80\" /&gt;&lt;br /&gt;';\n        $strHTML .= '       &lt;label for=\"' . $this-&gt;keyword. '_img_url\"&gt;Image URL&lt;/label&gt;&lt;br /&gt;';\n        $strHTML .= '       &lt;input name=\"' . $this-&gt;keyword . '_img_url\" type=\"text\" id=\"' . $this-&gt;keyword . '_img_url\" value=\"' . $this-&gt;value-&gt;get_img_url() . '\" size=\"80\" /&gt;&lt;br /&gt;';\n        $strHTML .= '       &lt;label for=\"' . $this-&gt;keyword. '_web_url\"&gt;Website&lt;/label&gt;&lt;br /&gt;';\n        $strHTML .= '       &lt;input name=\"' . $this-&gt;keyword . '_web_url\" type=\"text\" id=\"' . $this-&gt;keyword . '_web_url\" value=\"' . $this-&gt;value-&gt;get_web_url() . '\" size=\"80\" /&gt;';\n        $strHTML .= '       &lt;br /&gt;&lt;small&gt;' . $this-&gt;description . '&lt;/small&gt;';\n        $strHTML .= '   &lt;/td&gt;';\n        $strHTML .= '&lt;/tr&gt;';\n        return $strHTML;\n    }\n\n}\n\n?&gt;\n</code></pre>\n\n<p>At the top in <code>function __construct</code>, the value is set, and I confirmed that this happens.</p>\n\n<p>However, in the bottom function <code>function  __toString</code>, <code>$this-&gt;value</code> is blank.</p>\n\n<p>Any idea what could be causing this?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>So, to recap, $this->value is set properly in the __construct function, but is blank in the __toString function.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>I should also mention that other variables that are set in the __construct function are working in the __toString function, like $this->keyword. It's jut $this->value that is going blank.</p>\n\n<p><strong>Edit 3</strong>\nThe class is called like this </p>\n\n<pre><code>$padd_options['advertisements'] = array(\n    new Padd_Input_Advertisement(\n        PADD_NAME_SPACE . '_ads_125125_1',\n        'Square Ad 1 (125x125)',\n        'The advertisement will be posted at the side bar.'\n    ),\n    new Padd_Input_Advertisement(\n        PADD_NAME_SPACE . '_ads_125125_2',\n        'Square Ad 2 (125x125)',\n        'The advertisement will be posted at the side bar.'\n    ),\n    new Padd_Input_Advertisement(\n        PADD_NAME_SPACE . '_ads_125125_3',\n        'Square Ad 3 (125x125)',\n        'The advertisement will be posted at the side bar.'\n    ),\n    new Padd_Input_Advertisement(\n        PADD_NAME_SPACE . '_ads_125125_4',\n        'Square Ad 4 (125x125)',\n        'The advertisement will be posted at the side bar.'\n    ),\n);\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13283013,"title":"what's wrong with this query","body":"<pre><code>$deleteUser = $_POST['userId'];\n\n$query =    \"DELETE FROM users AS USERS\n           LEFT JOIN posts AS POSTS\n           ON USERS.id = POSTS.postAuthor\n           WHERE USERS.id = '$deleteUser' AND POSTS.postAuthor = '$deleteUser'\";\n</code></pre>\n\n<p>I'm trying to remove the user and any posts they may have created. what am i missing?</p>\n"},{"tags":["php","asp.net","html-form"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13282976,"title":"email id is not working from php to asp age","body":"<p>i am trying to send a emailid from php page to asp page...but its does not receive \n by my server. i am using form get method..but if i add @ in my mail id..then    its     show error..other wise its ok.... its my php page coding</p>\n\n<pre><code>         &lt;form action=\"Default.aspx\" method=\"GET\" name=\"frm\" title=\"demo\" enctype=\"multipart/form-data\"&gt;\n\n  Email&lt;br/&gt; &lt;input type=\"text\" name=\"email\"/&gt;&lt;br/&gt;&lt;br/&gt;\n\n        &lt;input type=\"submit\" name=\"submit\"/&gt;\n\n     &lt;/form&gt;\n</code></pre>\n"},{"tags":["php","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13282817,"title":"How To Get Variables Submitted by AJAX Using PHP Correctly?","body":"<p>I have this ajax/jquery code :</p>\n\n<pre><code>var headline = $(\"input#headline\").val();\nvar subheadline = $(\"textarea#subheadline\").val();\nvar pics = $(\"input#pics\").val();   \nvar dataString = 'headline='+ headline + '&amp;subheadline=' + subheadline + '&amp;pics=' + pics;\n\n$(\".save-notice\").hide();\n$.ajax({  \ntype: \"POST\",  \nurl: \"web-block/forms/process-001.php\",\ndata: dataString,\nsuccess: function() {             \n$(\".save-notice\").show();\n$(this).parents(\".manage-content-wrap\").next(\".ribbon-content\").fadeIn();\n}  \n});  \n</code></pre>\n\n<p>on the other side, I have this HTML form :</p>\n\n<pre><code>&lt;form action=\"\" id=\"select-block\" class=\"general-form\"&gt;\n&lt;div class=\"input-wrap\"&gt;\n    &lt;input class=\"clearme\" name=\"Headline\" value=\"&lt;?php echo $Headline;?&gt;\" id=\"headline\"/&gt;\n&lt;/div&gt;\n&lt;div class=\"input-wrap\"&gt;\n    &lt;textarea class=\"clearme\" name=\"Sub-Headline\" id=\"subheadline\"&gt;&lt;?php echo $SubHeadline;?&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n&lt;label&gt;Bottom Left Image&lt;/label&gt;\n&lt;div class=\"up-mask\"&gt;\n    &lt;span class=\"file-wrapper\"&gt;\n      &lt;input type=\"file\" name=\"Pics\" class=\"photo\" id=\"pics\" /&gt;\n      &lt;span class=\"button\"&gt;\n         &lt;span class=\"default-txt\"&gt;Upload Photo&lt;/span&gt;\n      &lt;/span&gt;\n    &lt;/span&gt;\n&lt;/div&gt;&lt;!-- .up-mask --&gt;\n\n&lt;input type=\"hidden\" name=\"Key\" value=\"&lt;?php echo $Key;?&gt;\"/&gt;\n&lt;input type=\"submit\" class=\"submit-btn\" value=\"SAVE\" /&gt;\n&lt;span class=\"save-notice\"&gt;Your changed has been saved!&lt;/span&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>as you can see process-001.php is the file which process all variables from HTML form. but I have difficulties to 'catch' <code>$Headline</code> and <code>$SubHeadline</code> submitted by that form, which actually 'manipulates' by Ajax too...</p>\n\n<p>I tried using this code on process-001.php :</p>\n\n<pre><code>$Headline = $_POST['Headline'];\n$SubHeadline = $_POST['Sub-Headline'];\n</code></pre>\n\n<p>but seems that those variables are empty... how to get variables submitted by AJAX correctly?</p>\n"},{"tags":["php","apache"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":24,"score":-3,"question_id":13264229,"title":"mod_rewrite not passing GET values","body":"<p>the php page is not receiving the GET variable and is producing an undefined index error for textSearch.\nI've turned off multiviews, and added QSA as suggested in related posts.</p>\n\n<p>my .htaccess looks like this</p>\n\n<pre><code>Options -MultiViews\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule ^(.*)$ index.php?id=$1 [QSA,L]\n</code></pre>\n\n<p>The <code>$_GET</code> variable should be named textSearch</p>\n\n<pre><code>&lt;form action='users/index.php' method\"GET\"&gt;\n   &lt;input type='text' name='textSearch'&gt;\n   &lt;input type='submit' value='submit'&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>[EDIT]\nAs mentioned in the comments, the form's location is in <code>localhost/Build_3/index.php</code>, and is passing the 'textSearch' variable to <code>localhost/Build_3/users/index.php</code> </p>\n\n<p><strong>[EDIT]</strong></p>\n\n<p>Directory structure is as follows:<br/>\ndefault home page is <code>Build_3/index.php</code><br/>\nuser home page is <code>Build_3/users/index.php</code></p>\n\n<p>The form in <code>Build_3/index.php</code> is supposed to go to <code>Build_3/users/index.php</code> and provide the variable textSearch.<br/>\nI have one <code>.htaccess</code> in <code>Build_3</code>, and one in the <code>Build_3/users</code> directory.</p>\n"},{"tags":["php","mysql","database","search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13282844,"title":"Search is not running on pagination","body":"<p>When i have to search any thing it gives me the right sesrch but when i click page 2 to navigate for showing more records it does not show thw right results. In short i applied paginatiion on it but after click on second page the search query does not run only simple query runs. Please tell me which is the issue?</p>\n\n<pre><code>    &lt;form method=\"post\" action=\"\"&gt;&lt;input type='textbox' name=\"searchfield\" id='searchfield' $value style='height:25px; width:275px; border-radius:5px 5px 5px 5px; margin-top:50px; margin-bottom:50px;' /&gt;    &lt;input type=\"submit\" id='GetBtn' name=\"GetBtn\" class='GetBtn' value=\"Search\"&gt;&lt;/form&gt;\n\n    &lt;?php \n\n    if(isset($_GET['GetBtn'])){\n         $match = str_replace('-',' ',slugify($_POST['searchfield']));\n\n       $query_pag_data = \"SELECT * FROM `imported_deals` WHERE MATCH ( `Name`, `Category` )\nAGAINST ('$match' IN BOOLEAN MODE)\";\n\n    }\n     else{   \n    $query_pag_data = \"SELECT * FROM `imported_deals` LIMIT $per_page ( `Name`, `Category` ) \nAGAINST ('$match' IN BOOLEAN MODE)\";\n     }\n\n     $PAGING        =   new PAGING($query_pag_data,10);\n    $query          =   $PAGING-&gt;sql;\n    $res                =   mysql_query($query);\n    if(!$res) die(mysql_error());\n\n\n    if($show['subcat_name'] != '')\n        {\n             echo($PAGING-&gt;show_paging(\"http://yespricer.com/\",\"deals/\".slugify($fullname).\"/\".slugify($show['subcat_name']).\"/page\")); \n        }\n        else\n        {\n             echo($PAGING-&gt;show_paging(\"http://yespricer.com/\",\"deals/\".slugify($fullname).\"/page\")); \n        }\n\n    ?&gt;\n</code></pre>\n"},{"tags":["php","mysql","database-design","open-source","erp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13265218,"title":"ERP Database Design and Architecture","body":"<p>Looking for any OpenSource ERP based in PHP - mainly to understand how to do Database Design and Architecture for the same. </p>\n\n<p>We are building a custom ERP to maintain a Shoe Manufacturing Unit and looking for a starting point where we can understand what details will go into place in building the ERP.</p>\n\n<p>What i am looking for is </p>\n\n<ol>\n<li>Architecture </li>\n<li>Database Design</li>\n</ol>\n\n<p>Do we need to Use a NoSQL based system or MySQL is a good choice</p>\n"},{"tags":["php","wamp","laravel"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13276298,"title":"Cannot install laravel bundle","body":"<p>If I type:</p>\n\n<pre><code>PS C:\\wamp\\www\\laravel-master&gt; php artisan bundle:install bootstrapper\n</code></pre>\n\n<p>I am getting:</p>\n\n<pre><code>PHP Warning:  file_get_contents(http://github.com/patricktalmadge/bootstrapper/zipball\n/master): failed to open stream: Unable to find the socket transport \"ssl\" -\ndid you forget to enable it when you configured PHP? in C:\\wamp\\www\\laravel-m\naster\\laravel\\cli\\tasks\\bundle\\providers\\provider.php on line 69\n</code></pre>\n\n<p>I am running WAMP Server and I have enabled <code>php_openssl</code> in <code>php.ini</code> and <code>ssl_module</code> in <code>httpd.conf</code>. I reckon that it is caused by localhost configuration issues and it is not the Laravel specific problem. What more can I check to get this working?</p>\n"},{"tags":["php","wordpress","wordpress-loop"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1861,"score":1,"question_id":5019325,"title":"WordPress: the_content not working on single.php","body":"<p>I have the following code inside my single.php file: <a href=\"http://pastebin.com/0Je0Vy8S\" rel=\"nofollow\">http://pastebin.com/0Je0Vy8S</a></p>\n\n<p>Everything else on the page works fine except that <code>the_content()</code> isn't outputting the post content? Even though there are several paragraphs of content in the post. The content is working fine on the home page and that JUST not on the single.php :/</p>\n\n<p>Any ideas why? Thanks</p>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13282709,"title":"week wise report","body":"<p>I need to get a week wise report from mysql and php.</p>\n\n<pre><code>Week 1: from 01/11/2012  to  07/11/2012\nWeek 2: from 08/11/2012  to  14/11/2012\nWeek 3: from 15/11/2012  to  21/11/2012\nWeek 4: from 22/11/2012  to  28/11/2012 OR \n        from 22/11/2012  to  29/11/2012 OR\n        from 22/11/2012  to  30/11/2012 OR\n        from 22/11/2012  to  31/11/2012 depending on end of each month.\n</code></pre>\n\n<p>Suppose today is 14/11/2012:</p>\n\n<pre><code>              Week 1   :: Week 2   :: Week 3  :: Week 4   :: Total ::    \nVisitor:        100    ::  150     ::    N/A  ::   N/A    ::  250  ::\n</code></pre>\n"},{"tags":["php","jquery","wordpress","action","hook"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13282503,"title":"Wordpress: How do I pass a variable to an action hook functon?","body":"<p>I have a function that will initialize an image slider in my wordpress theme, however I can't get the php variables to be passed into it.  Here is the code:</p>\n\n<pre><code>function slideshowSettings ($pause_time) {\n$code = \"&lt;script&gt;\njQuery(function(){\n    jQuery('#camera_wrap_3').camera({\n        height: '40%',\n        thumbnails: true,\n        time: \".$pause_time.\",\n        fx: '\".$transition_effect.\"',\n        transPeriod: \".$transition_speed.\",\n        autoAdvance: \".$auto_advance.\",\n        minHeight: '50px',\n        mobileNavHover: false,\n        imagePath: '\".get_template_directory_uri().\"/images/'\n    });\n});\n&lt;/script&gt;\";\n\necho $code;\n}\nadd_action('wp_head', 'slideshowSettings');\n</code></pre>\n\n<p>The variables are assigned above the function but the output I get from the function looks like this:</p>\n\n<pre><code>&lt;script&gt;\njQuery(function(){\n\n    jQuery('#camera_wrap_3').camera({\n        height: '40%',\n        thumbnails: true,\n        time: ,\n        fx: '',\n        transPeriod: ,\n        autoAdvance: ,\n        minHeight: '50px',\n        mobileNavHover: false,\n        imagePath: 'http://www.brainbuzzmedia.com/themes/simplybusiness/wp-content/themes/simplybusiness/images/'\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>How can I pass those variables?</p>\n"},{"tags":["php","authentication","oauth-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13282454,"title":"How do I merge user accounts when I use Login with Facebook, Google or Twitter?","body":"<p>In my website I have put up Login with Google, Login with Facebook and Login with Twitter. </p>\n\n<p>But  if the same user logs in using different providers, ie. the user first logs in using Facebook and then logs out and then logs in using Google I need to identify that both are the same person.</p>\n\n<p>Currently what I am doing is that if the Facebook and Google accounts has the same email id I combine the accounts. The problem is that if the user is logging in using Twitter I wont be getting their email Id which means I cant uniquely identify them.</p>\n\n<p>Does anyone have any other solution ? Thanks</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13280908,"title":"jquery calculation works in jsfiddle example, but not in main code","body":"<p>I have a jsfiddle <a href=\"http://jsfiddle.net/JWTQk/2/\" rel=\"nofollow\">here</a> where a jquery function is used in able to make a calculation between the number entered in the text input and subtracting the number with the \"Total Marks\" number per question.</p>\n\n<p>Have a play around in the jsfiddle, in question 1 change the values in the text input and you will see the total marks change with in the same question block. For question 2 it is a readonly box but the reason it is readonly is because it is a single answer. If a question has a single answer then the text input should be readonly else if multiple answers then it should  not be readonly.</p>\n\n<p>The fact is though is that I want the jquery function to work with the code below but it doesn't at the moment. These are the problems I have which needs to be fixed:</p>\n\n<ul>\n<li>The total marks should not equal 5, it should equal the value of <code>$searchMarks[$key]</code>, as each question could have a different total marks</li>\n<li>At the moment for the code below it does not perform the calculation</li>\n<li>Finally it is not making the text input readonly if question only contains single answer.</li>\n</ul>\n\n<p>My question is that how should the code below be setup so that it can work exactly the same as the jsfiddle?</p>\n\n<p>Below is the code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"jquery/jquery-1.7.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"jquery/jquery-ui-1.8.16.custom.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"jquery/basic.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n        $(document).ready(function() {\n\n    var $inputs = $('input.individualMarks');\n\n$inputs.filter(function() {\n    return $(this).prop('readonly') === true;\n}).each(function() {\n    var $input = $(this);\n\n});\n\n$inputs.filter('[data-q_group]').keyup(function() {\n    var $group = $inputs.filter('[data-q_group=\"' + $(this).data('q_group') + '\"]');\n    var $marks = $group.eq(0).closest('tr').find('td.noofmarkstd');\n    var markVal = &lt;?php $searchMarks ?&gt;;\n    $group.each(function() {\n        markVal -= ($(this).val() || 0)\n    })\n    $marks.text(markVal)\n\n})\n\n});\n\n    &lt;/script&gt;   \n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n    &lt;form id=\"QandA\" action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\"&gt;\n\n    &lt;?php \n\n    echo \"&lt;table border='1' id='markstbl'&gt;\n          &lt;tr&gt;\n          &lt;th class='questionth'&gt;Question No.&lt;/th&gt;\n          &lt;th class='questionth'&gt;Question&lt;/th&gt;\n          &lt;th class='answerth'&gt;Answer&lt;/th&gt;\n          &lt;th class='answermarksth'&gt;Marks per Answer&lt;/th&gt;\n          &lt;th class='noofmarksth'&gt;Total Marks&lt;/th&gt;\n          &lt;/tr&gt;\\n\";\n    $previous_question_id = null;\n    $rowspans = array_count_values($searchQuestionId);\n    foreach ($searchQuestionContent as $key=&gt;$question) {\n\n        // removed logic, not necessary to set empty strings if you're skipping them\n\n        echo '&lt;tr class=\"questiontd\"&gt;'.PHP_EOL;\n\n        if ($previous_question_id != $searchQuestionId[$key]) {\n            echo '&lt;td class=\"questionnumtd\" name=\"numQuestion\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($searchQuestionId[$key]).'&lt;/td&gt;' . PHP_EOL;\n            echo '&lt;td class=\"questioncontenttd\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($question).'&lt;/td&gt;' . PHP_EOL;\n        }\n\n        echo '&lt;td class=\"answertd\" name=\"answers[]\"&gt;';\n        echo $searchAnswer[$key];\n        echo '&lt;/td&gt;' ;\n        echo '&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" /&gt;&lt;/td&gt;' . PHP_EOL;\n\n        if ($previous_question_id != $searchQuestionId[$key]) {\n            echo '&lt;td class=\"noofmarkstd\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($searchMarks[$key]).'&lt;/td&gt;' . PHP_EOL;\n        }\n\n        // moved this to the end\n        if ($previous_question_id != $searchQuestionId[$key]) {\n            $previous_question_id = $searchQuestionId[$key];\n        }\n    }\n            echo '&lt;/tr&gt;';\n            echo \"&lt;/table&gt;\" . PHP_EOL;\n\n            ?&gt;\n\n\n    &lt;/form&gt;\n</code></pre>\n"},{"tags":["php","script"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13282621,"title":"is it a bad idea to load into memory 160000 variables in a php script?","body":"<p>im processing a large file with sentences, i only care about the lines that have english or japanese, so while im reading the file, if i find english or japanese sentence, i want to just save it in an array and after finished reading, open another file for writting and output all the sentences in the array. this would result in me setting about 160,000 variables. all strings, some short some long. just wondering if its a bad idea to for memeory to set so many values?</p>\n\n<p>example line from the file:\n\"1978033    jpn 彼女は口は悪いですけど根は優しい人ですよ。\"</p>\n"},{"tags":["php","multidimensional-array","matrix","cartesian-product"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13282688,"title":"Would cartesian product be the best approach for this","body":"<p>I have 25 individual validations that I need to test all possible combinations, I have seen a couple of questions related to what I'm looking for. The answers suggested something along the lines of using the cartesian product. Would that be the best method for finding the results I'm looking for or is there a better way?</p>\n\n<p>Example:</p>\n\n<p>Think about a 9 by 9 number grid starting from 0 - 9 on the X and Y axis:</p>\n\n<pre><code>|0|1|2|3|4|5|6|7|8|9|\n|1|\n|2|\n|3|\n|4|\n|5|\n|6|\n|7|\n|8|\n|9|\n</code></pre>\n\n<p>All the individual validations are boolean ( true = passed, false = failed ).</p>\n\n<p>The X Axis represents all the test results, Example:</p>\n\n<pre><code>|0|1|2|3|4|5|6|7|8|9|\n|1|T|T|T|T|T|T|T|T|T|\n|2|\n|3|\n|4|\n|5|\n|6|\n|7|\n|8|\n|9|\n</code></pre>\n\n<p>And the Y Axis represents all the possible combinations, Example:</p>\n\n<pre><code>|0|1|2|3|4|5|6|7|8|9|\n|1|T|T|T|T|T|T|T|T|T|\n|2|F|T|T|T|T|T|T|T|T|\n|3|F|F|T|T|T|T|T|T|T|\n|4|F|F|F|T|T|T|T|T|T|\n|5|F|F|F|F|T|T|T|T|T|\n|6|F|F|F|F|F|T|T|T|T|\n|7|F|F|F|F|F|F|T|T|T|\n|8|F|F|F|F|F|F|F|T|T|\n|9|F|F|F|F|F|F|F|F|T|\n</code></pre>\n\n<p>There will be more Y Axis combinations but I hope you get the point.</p>\n\n<p>My question is how would I go about solving all the possible combinations? </p>\n"},{"tags":["php","forms","url","redirect","web"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13282479,"title":"Use php webform to request URL","body":"<p>First time posting here. \nI have little to no experience with PHP. I do, however, provide simple, basic web design services to small businesses. </p>\n\n<p>I wonder if it's possible for a PHP web form to direct visitors to a URL based on the form's input. </p>\n\n<p>I ask this because I want to start clients off on my own domain when they search for available domain names and end up on my reseller platform's domain, as a result of performing a search. </p>\n\n<p>Having performed a search for 'blablabla' on my reseller platform, I end up at the URL: <a href=\"http://instinct-it.secureapi.com.au/system/domain/domain_register/?domain=blablabla&amp;tld%5B%5D=.com.au&amp;tld%5B%5D=.net.au&amp;tld%5B%5D=.com&amp;tld%5B%5D=.net&amp;tld%5B%5D=.co.uk\" rel=\"nofollow\">http://instinct-it.secureapi.com.au/system/domain/domain_register/?domain=blablabla&amp;tld%5B%5D=.com.au&amp;tld%5B%5D=.net.au&amp;tld%5B%5D=.com&amp;tld%5B%5D=.net&amp;tld%5B%5D=.co.uk</a></p>\n\n<p>Which appears to specify the domain suffix and the domain name itself, as well. </p>\n\n<p>Any help much appreciated. </p>\n"},{"tags":["php","xpath"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":28,"score":1,"question_id":13282425,"title":"Xpath code works in firepath but not in php script","body":"<pre><code>    $html = new DOMDocument();\n    @$html-&gt;loadHtmlFile($url);\n    $xpath = new DOMXPath( $html );\n            $q=\"//*[@id='empReview_2033516']//*[@class='review-microdata-heading']/meta[1]/@content\";\n    $nodelist = $xpath-&gt;query($q);\n    foreach ($nodelist as $n){\n        echo $n-&gt;nodeValue;\n    }\n</code></pre>\n\n<p>Is the query I'm attempting to run on the following XML:</p>\n\n<pre><code>&lt;div id=\"empReview_2055942\" class=\"employerReview\" itemscope=\"\" itemtype=\"http://schema.org/Review\"&gt;\n    &lt;h2 class=\"summary\"&gt;\n    &lt;h3 class=\"review-microdata-heading\"&gt;\n        &lt;span class=\"gdRatingStars\"&gt; &lt;/span&gt;\n        Former \n        &lt;span itemprop=\"author\"&gt;IT Engineer Intern in Santa Clarita, CA&lt;/span&gt;\n        &lt;meta content=\"4\" itemprop=\"reviewRating\"/&gt;\n</code></pre>\n\n<p>It goes right to the element when using Firepath, but is not echoing the value via my query in php.</p>\n\n<p>Any help would be greatly appreciated. </p>\n"},{"tags":["php","mysql","pdo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13282625,"title":"using $_GET to create custom links","body":"<p>I got this code below to work but I am wondering If there is a better way to do this It makes the url look sloppy even with just the two variables called in this example. I like my urls to look clean if possible and I am wondering if the way I am creating the custom link is dangerous or not In this example I really havent done any type of sanitization I was just getting it to work as quickly as possible. Basically I have a database that has different businesses listed in different categories and sub categories the user selects a main category and a sub category from a drop down list. The user is then directed to a page that has a list of all of those businesses as links each one unique so that when they click on it only the information in the database about that business shows up on a template page all pages have an identical layout only the content changes unique to the business. You can see where if I was to pass more then a couple variables the url would get extremely long and ridiculous to copy paste and share with others. Any help or advice is greatly appreciated I am new to PHP so every bit helps.</p>\n\n<pre><code>&lt;?php\nrequire 'DB.php';\nrequire 'functions.php';\nsession_start();\nsession_is_registered(myusername);\n$mainCat = $_POST['thing'];\n$subCat = $_POST['subCats'];\necho $mainCat;\necho \"&lt;br&gt;\" . $subCat;\ntry{\n$stmt = $conn-&gt;prepare('SELECT * FROM `CLL_businesses` WHERE `bCatID` = :bCategory AND `sCatID` = :sCategory');\n$stmt-&gt;bindValue(':bCategory', $mainCat);\n$stmt-&gt;bindValue(':sCategory', $subCat);\n$stmt-&gt;execute();\n} catch (PDOException $e){\n    echo 'Connection failed: ' . $e-&gt;getMessage();\n}\n\nwhile($row = $stmt-&gt;fetch())\n  {\n$name1 = trim($row['name']);\n$name = $row['name'];\n$logo = $row['logo'];\n$bCatID = $row['bCatID'];\n$sCatID = $row['sCatID'];\n$username = $row['username'];\n$website = $row['website'];\n  echo \"&lt;br&gt;\" . \"&lt;a href=\" .\"http://test.com/test/new/test12.php?string1=\".$name1 . \"&amp;string2=\" . $logo . \"&gt;\" . $name .\"&lt;/a&gt;\";\n\n\n  }\n\n?&gt;\n</code></pre>\n\n<p>Test12.php</p>\n\n<pre><code>&lt;?php\n\n$name = $_GET['string1'];\n$logo = $_GET['string2'];\n\necho $name;\necho \"&lt;br&gt;\" . $logo;\n?&gt;\n</code></pre>\n"},{"tags":["php","class","dom"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13281221,"title":"get all elements in class","body":"<p>I want to use PHP DOM to get all elements in a particular class.</p>\n\n<p>My HTML</p>\n\n<pre><code>&lt;tr&gt;\n  &lt;td&gt;&lt;ul class=\"up\"&gt;\n      &lt;li&gt;&lt;a href=\"/updown.html#ud1\"&gt;Russia&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"/updown.html#ud2\"&gt;Pakistan&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/updown.html#ud3\"&gt;Iran&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n\n  &lt;td valign=\"top\"&gt;&lt;ul class=\"down\"&gt;\n      &lt;li&gt;&lt;a href=\"/updown.html#ud4\"&gt;Spain&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"/updown.html#ud5\"&gt;France&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>Why won't this PHP work?</p>\n\n<pre><code>$elements = $xpath-&gt;query('//ul[@class=\"up\"]'); \n$elements = $elements-&gt;getElementsByTagName('li');\n</code></pre>\n"},{"tags":["php","javascript","website","cryptography","web-crawler"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13282492,"title":"Block automatic web content collector/crawler","body":"<p>everyone !</p>\n\n<p>I am wondering is there a simple way to block automatic content crawler on a shared web host (LAMP, no root access).</p>\n\n<p>For example. I have a large collection of jpg images, and someone decided to make a automatic program (php or others) to download all my image data.</p>\n\n<p>I was thinking of using javascript to decrypt the image at client-side, thus make it more difficult or more effort to collect all the data by the crawler. But I am not sure the impact on browsers without javascript support, and the effectiveness on preventing such crawler.</p>\n\n<p>Of course, good search engine crawler should be allowed.</p>\n\n<p>Apart from images, what about text, audio or video content ? How should I deal with them ?</p>\n"},{"tags":["php","database","oop","class","undefined"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":28,"score":-2,"question_id":13282441,"title":"Notice: Undefined variable: db_host in C:\\wamp\\www\\crud_exer\\class_lib.php on line 15 though i've defined it","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1663684/php-class-variable-problem\">PHP Class Variable problem</a>  </p>\n</blockquote>\n\n\n\n<p>I'm getting this error:</p>\n\n<blockquote>\n  <p>Notice: Undefined variable: db_host in\n  C:\\wamp\\www\\crud_exer\\class_lib.php on line 15</p>\n</blockquote>\n\n<p>though I have defined it like this: </p>\n\n<pre><code>class database{\n        private $db_host;\n        private $db_user;  \n        private $db_pass;  \n        private $emp_db = \"employee_db\";\n\n        var $connection;\n        var $db_select;\n        var $result;\n        var $row;\n\n        function __construct(){\n            $this-&gt;$db_host = \"localhost\";\n            $this-&gt;$db_user = \"root\";\n            $this-&gt;$db_pass = \"\";\n        }\n\n        function connect(){\n            $this-&gt;$connection = mysql_connect($this-&gt;$db_host, $this-&gt;$db_user, $this-&gt;$db_pass);   //create connection\n                checkErr($this-&gt;$connection);\n\n            $this-&gt;$db_select = mysql_select_db($this-&gt;$emp_db, $connection);\n                checkErr($this-&gt;$db_select);\n        }\n</code></pre>\n\n<p>And I have this on the other page to create the object:</p>\n\n<pre><code>&lt;?php include(\"class_lib.php\"); ?&gt;\n&lt;?php\n        $db = new database();\n        $db-&gt;connect();\n    ?&gt;\n</code></pre>\n\n<p>WHAT'S WRONG??</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12225157,"title":"PHP variables inside Xenforo template","body":"<p>I'm trying to include a PHP file in XenForo template , I think my params are wrong but anyway , it just doesn't output if I put {$varhere}. Can anyone help? My code:\nClass:\n<a href=\"http://codepad.org/BaImQd1O\" rel=\"nofollow\">http://codepad.org/BaImQd1O</a>\nListener:\n<a href=\"http://codepad.org/KrNxaN4z\" rel=\"nofollow\">http://codepad.org/KrNxaN4z</a>\nMy question is , what params I need to make it work in the template I need?</p>\n"},{"tags":["php","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13282237,"title":"url restriction in codeigniter","body":"<p>I am using Codeigniter. I am creating a shopping cart website. I have a product detail page where the url is 'localhost://shopcart/product/productid'. I copy this url and then logout from the site. Then I paste that url in the url it goes to that page. How could I restrict that?</p>\n"},{"tags":["php","applet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12381262,"title":"Signed Applet and PHP","body":"<p>I am looking for a Java applet to read a file from client machine and create a POST request for PHP server uploading.</p>\n\n<p>Now tell me whether i need tomcat to use along with apache for this purpose</p>\n\n<p>I have already made signed applet to create file in client machine now i want to upload files to root folder of website from fixed client location for example from \n    <pre>\n    E:/myfile.xsl\n    </pre>\nplease, guide me how to do it. i am using php codeigniter framework.</p>\n"}]}
{"total":298823,"page":8,"pagesize":100,"questions":[{"tags":["php","json"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":45,"score":-2,"question_id":13277587,"title":"Parse JSON array with PHP scipt","body":"<p>I try to read a JSON object and parse it. The code that I'm using is the following one:</p>\n\n<pre><code>&lt;?php\n\n$json_string2 = '{\"Products\":[\n                    {\"Size\":\"klklkkl\",\n                        \"No\":\"1352285923\",\n                        \"KnowDate\":true,\n                        \"Subdata\":[\n                        {\n                            \"item\" : \"1\",\n                        },\n                        {\n                            \"item\" : \"455\",\n                        }],\n                        \"Info\":true\n                    }]\n                }';\n\n$obj = json_decode($json_string2, true);\n\nforeach($obj as $key =&gt; $value)\n{\n    $size = $value-&gt;{'Size'};\n    $no = $value-&gt;{'No'};\n    $knowdate = $value-&gt;{'KnowDate'};\n    $info = $value-&gt;{'Info'};\n}\n.\n.\n?&gt;\n</code></pre>\n\n<p>But in the line into the for loop i receive the following error:</p>\n\n<pre><code>Notice: Trying to get property of non-object in C:\\xampp\\htdocs\\PhpProject2\\parseJson.php on line...\n</code></pre>\n\n<p>What is the solution to this problem?Does anyone knows?</p>\n"},{"tags":["java","php","forms","security","applet"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12684778,"title":"Applet Upload Error","body":"<p>I want to upload some files from client pc to my web server and I am using following code in Java applet I have also signed applet successfully and it prompt for Trust the applet see code here, but it does not uploads the file</p>\n\n<pre><code>import java.applet.Applet;\nimport java.net.*;\nimport java.io.*;\nimport java.util.*;\npublic class UploaderExample extends Applet\n{\nprivate static final String Boundary = \"--7d021a37605f0\";\n\npublic void upload(URL url, List&lt;File&gt; files) throws Exception\n{\n    HttpURLConnection theUrlConnection = (HttpURLConnection) url.openConnection();\n    theUrlConnection.setDoOutput(true);\n    theUrlConnection.setDoInput(true);\n    theUrlConnection.setUseCaches(false);\n    theUrlConnection.setChunkedStreamingMode(1024);\n\n    theUrlConnection.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\"\n            + Boundary);\n\n    DataOutputStream httpOut = new DataOutputStream(theUrlConnection.getOutputStream());\n\n    for (int i = 0; i &lt; files.size(); i++)\n    {\n        File f = files.get(i);\n        String str = \"--\" + Boundary + \"\\r\\n\"\n                   + \"Content-Disposition: form-data;name=\\\"file\" + i + \"\\\"; filename=\\\"\" + f.getName() + \"\\\"\\r\\n\"\n                   + \"Content-Type: image/png\\r\\n\"\n                   + \"\\r\\n\";\n\n        httpOut.write(str.getBytes());\n\n        FileInputStream uploadFileReader = new FileInputStream(f);\n        int numBytesToRead = 1024;\n        int availableBytesToRead;\n        while ((availableBytesToRead = uploadFileReader.available()) &gt; 0)\n        {\n            byte[] bufferBytesRead;\n            bufferBytesRead = availableBytesToRead &gt;= numBytesToRead ? new byte[numBytesToRead]\n                    : new byte[availableBytesToRead];\n            uploadFileReader.read(bufferBytesRead);\n            httpOut.write(bufferBytesRead);\n            httpOut.flush();\n        }\n        httpOut.write((\"--\" + Boundary + \"--\\r\\n\").getBytes());\n\n    }\n\n    httpOut.write((\"--\" + Boundary + \"--\\r\\n\").getBytes());\n\n    httpOut.flush();\n    httpOut.close();\n\n    // read &amp; parse the response\n    InputStream is = theUrlConnection.getInputStream();\n    StringBuilder response = new StringBuilder();\n    byte[] respBuffer = new byte[4096];\n    while (is.read(respBuffer) &gt;= 0)\n    {\n        response.append(new String(respBuffer).trim());\n    }\n    is.close();\n    System.out.println(response.toString());\n}\n\npublic static void main(String[] args) throws Exception\n {\n    List&lt;File&gt; list = new ArrayList&lt;File&gt;();\n    list.add(new File(\"C:\\\\square.png\"));\n    list.add(new File(\"C:\\\\narrow.png\"));\n    UploaderExample uploader = new UploaderExample();\n    uploader.upload(new URL(\"http://localhost/test2/upload.php\"), list);\n }\n\n}\n</code></pre>\n\n<p>Console Output is</p>\n\n<pre><code>security: User has granted the priviledges to the code for this session only\nsecurity: Adding certificate in Deployment session certificate store\nsecurity: Added certificate in Deployment session certificate store\nsecurity: Saving certificates in Deployment session certificate store\nsecurity: Saved certificates in Deployment session certificate store\nsecurity: Validate the certificate chain using CertPath API\nsecurity: The certificate hasnt been expired, no need to check timestamping info\nsecurity: Found jurisdiction list file\nsecurity: No need to checking trusted extension for this certificate\nsecurity: The CRL support is disabled\nsecurity: The OCSP support is disabled\nsecurity: This OCSP End Entity validation is disabled\nsecurity: Checking if certificate is in Deployment denied certificate store\nsecurity: Checking if certificate is in Deployment permanent certificate store\nsecurity: Checking if certificate is in Deployment session certificate store\nbasic: Plugin2ClassLoader.getPermissions CeilingPolicy allPerms\nsecurity: Validate the certificate chain using CertPath API\nsecurity: The certificate hasnt been expired, no need to check timestamping info\nsecurity: Found jurisdiction list file\nsecurity: No need to checking trusted extension for this certificate\nsecurity: The CRL support is disabled\nsecurity: The OCSP support is disabled\nsecurity: This OCSP End Entity validation is disabled\nsecurity: Checking if certificate is in Deployment denied certificate store\nsecurity: Checking if certificate is in Deployment permanent certificate store\nsecurity: Checking if certificate is in Deployment session certificate store\nbasic: Applet loaded.\nbasic: Applet resized and added to parent container\nbasic: PERF: AppletExecutionRunnable - applet.init() BEGIN ; jvmLaunch dt 121613 us,       pluginInit dt 29241825 us, TotalTime: 29363438 us\nbasic: Applet initialized\nbasic: Starting applet\nbasic: completed perf rollup\nbasic: Applet made visible\nbasic: Applet started\nbasic: Told clients applet is started\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":58,"score":-2,"question_id":13282386,"title":"how to display image from mysql database using php","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8758548/how-to-display-all-the-images-stored-inside-a-database\">How to display all the images stored inside a database</a>  </p>\n</blockquote>\n\n\n\n<p>syntax:</p>\n\n<p>table syntax:</p>\n\n<pre><code>create table users(id int, idimage blob);\n</code></pre>\n\n<p>how to retrieve image and display?</p>\n\n<pre><code>$sql =mysql_query(\"SELECT idimage FROM users WHERE 1d=3\");\n//$resultimg = mysql_fetch_row(\"$sql\");\nwhile( $row = mysql_fetch_row( $sql ) ){ $IMDs[] = $row[0]; }\necho \"&lt;img src='\".$IMDs[0].\"'/&gt;\";\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13272474,"title":"Sending image value to second form in php","body":"<p>I have the following scenario -</p>\n\n<p>User clicks on an image to search for a particular brand vehicle. The value of that image must then go the hidden box where I will post the value returned to another form. I just can't seem to get the value returned...</p>\n\n<p>My code...</p>\n\n<pre><code>&lt;form action=\"searchbrand.php\" method=\"POST\" name=\"frmbrand\"&gt;\n &lt;!--First row of logos...--&gt;   \n &lt;table class=\"whitelogo\"&gt;\n  &lt;tr&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Alfa Romeo\" src=\"images/carlogos/alfa.jpg\" height=\"55px\" width=\"55px\" title=\"View our Alfa Romeo Selection\" alt=\"Alfa Romeo\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Aston Martin\" src=\"images/carlogos/aston.jpg\" height=\"55px\" width=\"55px\" title=\"View our Aston Martin Selection\" alt=\"Aston Martin\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Audi\" src=\"images/carlogos/audi.gif\" height=\"55px\" width=\"55px\" title=\"View our Audi Selection\" alt=\"Audi\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Bentley\" src=\"images/carlogos/bentley.jpg\" height=\"55px\" width=\"55px\" title=\"View our Bentley Selection\" alt=\"Bentley\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"BMW\" src=\"images/carlogos/bmw.gif\" height=\"55px\" width=\"55px\" title=\"View our BMW Selection\" alt=\"BMW\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Cadillac\" src=\"images/carlogos/cadillac.jpg\" height=\"55px\" width=\"55px\" title=\"View our Cadillac Selection\" alt=\"Cadillac\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>As you will notice here I have named the images ALL 'brand' with seperate values for each.</p>\n\n<pre><code> &lt;input type=\"hidden\" name=\"hidbrand\" value=\"&lt;?=$_POST['brand'];?&gt;\"/&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>I'm trying to capture the value here from whichever image user clicked on...</p>\n\n<p>In my searchbrand.php page, which will then do stuff according to the returned value, the following...</p>\n\n<pre><code> &lt;?php\n include 'init.php';\n $vehicle_brand = $_POST['hidbrand'];\n echo $vehicle_brand, '&lt;/br&gt;';\n ?&gt;\n</code></pre>\n\n<p>Nothing gets returned, no error, no value, all blank like me :)\nAnyone have an idea where I'm going haywire?</p>\n"},{"tags":["php","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13265823,"title":"get_post won't work in custom PHP script while get_post_meta works WordPress","body":"<p>I have this custom PHP script under the root directory of my websitem  </p>\n\n<pre><code>/forums.local/import-old-forums.php\n</code></pre>\n\n<p>Inside this script, I would like to leverage on WordPress functions so I have  </p>\n\n<pre><code>require_once(\"wp-load.php\");\n</code></pre>\n\n<p>then  </p>\n\n<pre><code>var_dump(get_post_meta(9));\n</code></pre>\n\n<p>works perfectly</p>\n\n<p>while  </p>\n\n<pre><code>var_dump(get_post(9));\n</code></pre>\n\n<p>throws <code>HTTP Error 500 (Internal Server Error)</code></p>\n\n<p>What do I need to do to use <code>get_post()</code> in my custom PHP script?</p>\n\n<p>Update</p>\n\n<p>The reason it didn't work here is actually because I used mysqli to open connection to a separate database (WordPress database to be more specific) besides the database I'm using for my WordPress site (I'm trying to migrate data from an old site to this new site).<br>\nI'm pretty this confused WordPress as it didn't know from which database it should get the \"post\".  </p>\n\n<p>I believe in this particular situation I just can't use WordPress functions.<br>\nI'm writing a plain PHP &amp; MySQL script to deal with posts and their postmeta (such a pain).  </p>\n\n<p>I'm going to delete this question soon as a result.</p>\n"},{"tags":["php","curl","php-5.3","libcurl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":182,"score":0,"question_id":9381845,"title":"Call to undefined function curl_errorno(), but cURL is installed and works","body":"<p>I am trying to get at the cURL error number, but the <a href=\"http://php.net/manual/en/function.curl-errno.php\" rel=\"nofollow\"><code>curl_errorno()</code> function</a> doesn't seem to work.  If I make a one-line script:</p>\n\n<pre><code>curl_errorno();\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>Call to undefined function curl_errorno()...</p>\n</blockquote>\n\n<ul>\n<li>cURL is installed... I can use it to make requests just fine.</li>\n<li>PHP 5.3.6 (as reported by php.ini)</li>\n<li>cURL 7.19.7 (as reported by php.ini)</li>\n<li>My configure command contained <code>--with-curl</code></li>\n</ul>\n\n<p>Any thoughts as to why <code>curl_errorno()</code> isn't available?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13282330,"title":"Add wildcard to Access-Control-Allow-Origin header","body":"<p>I'm using the Access-Control-Allow-Origin header to allow cross-domain requests but how would I put a wildcard so that I can have multiple domains without having to list each one?\nI'm looking to allow multiple websites such as *.subdomain.com with * being the wildcard.</p>\n"},{"tags":["php","jquery","json","jquery-ui","autocomplete"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":144,"score":1,"question_id":12016126,"title":"jQuery UI Autocomplete not working when returned JSON data has line breaks in it","body":"<p>MY AIM</p>\n\n<p>Use jQuery UI Autocomplete to search for a book and when a book is clicked from the suggestion dropdown, populate the remainder of the HTML form with details of the book selected by using the <code>select</code> function of the autocomplete.</p>\n\n<p>THE PROBLEM</p>\n\n<p>As long as the returned data does not contain a line break (I have a table field called <code>description</code> in the database and it has line breaks in the stored data ) the autocomplete works like a charm. But if I include the <code>description</code> field data into the returned array, the suggestion dropdown fails to show up. However when checked with Firebug, data is being returned; just not showing up</p>\n\n<p>THE CODE</p>\n\n<pre><code>// STORING INFORMATION FROM THE DATABASE\n$items[$r['book_id']] = array('name'=&gt;$r['book_name'],\n                              'category'=&gt;$r['c_id'],\n                              'author'=&gt;$r['book_author'],\n                              'vendor'=&gt;$r['book_publisher'],\n                              'edition'=&gt;$r['book_edition'],\n            Culprit here --&gt;  'description'=&gt;$r['book_description'],\n                              'price'=&gt;$r['book_price'],\n                              'date'=&gt;$r['date']);\n\n\n\n // DATA FOR POPULATING THE HTML FORM (USING ui.item.&lt;index name&gt;)\n   $result = array();\n   foreach ($items as $key=&gt;$value)\n   {\n      array_push($result, array(\"id\"=&gt;$key,\n                                \"label\"=&gt;$key.\"-\".$value['name'],\n                                \"value\" =&gt; strip_tags($value['name']),\n                                \"name\" =&gt; $value['name'],\n                                \"cat\" =&gt; $value['category'],\n                                \"author\" =&gt; $value['author'],\n                                \"vendor\" =&gt; $value['vendor'],\n                                \"edition\" =&gt; $value['edition'],\n                                \"description\" =&gt; $value['description'],\n                                \"price\" =&gt; $value['price'],\n                                \"date\" =&gt; $value['date']));\n    }\n    // $result is then supplied to a function which converts the data to json\n</code></pre>\n\n<p>If I remove the <code>description</code> entry from the <code>$items</code> and <code>$result</code> arrays, everything works as expected. I tried a couple of things after going through SO threads here:</p>\n\n<p>WHAT I TRIED</p>\n\n<p>Tried <code>str_replace('\\n', '\\\\n', $r['book_description'])</code></p>\n\n<p>Tried <code>str_replace('&lt;br /&gt;', '\\\\n', $r['book_description'])</code></p>\n\n<p>Out of frustration even tried <code>urlencode($r['book_description'])</code></p>\n\n<p>But none of them seemed to work. Is there a workaround for this one?</p>\n\n<p>Thanks in advance.</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Using <code>json_encode</code> on the returned set is resulting into:</p>\n\n<p><img src=\"http://i.stack.imgur.com/incOF.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13282348,"title":"PHP glob count equals 1","body":"<p>I have code which looks at files using PHP's glob function</p>\n\n<pre><code>$image_thumbnail = glob($avatar_thumbnail . \"/*.{jpg,gif,png}\", GLOB_BRACE);\n</code></pre>\n\n<p>and I have just upgraded my PHP version to 5.4.8 on IIS and before the upgrade I was able to get count = 0 when there were no files and/or directories but now with the upgrade I am always getting count = 1 when it should be count = 0.</p>\n\n<p>If a folder exists but no files I would still like to receive as the count.</p>\n\n<p>Cheers</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":6,"up_vote_count":4,"down_vote_count":0,"view_count":4580,"score":4,"question_id":4755704,"title":"PHP Timezone List","body":"<p>I am looking for a way to generate a list of timezones for display in a <code>&lt;select&gt;</code> <a href=\"http://stackoverflow.com/questions/1727077/generating-a-drop-down-list-of-timezones-with-php/2839396#2839396\">Generating a drop down list of timezones with PHP</a> </p>\n\n<pre><code>    $list = DateTimeZone::listAbbreviations();\n    $idents = DateTimeZone::listIdentifiers();\n\n    $data = $offset = $added = array();\n    foreach ($list as $abbr =&gt; $info) {\n        foreach ($info as $zone) {\n            if ( ! empty($zone['timezone_id'])\n                AND\n                ! in_array($zone['timezone_id'], $added)\n                AND \n                  in_array($zone['timezone_id'], $idents)) {\n                $z = new DateTimeZone($zone['timezone_id']);\n                $c = new DateTime(null, $z);\n                $zone['time'] = $c-&gt;format('H:i a');\n                $data[] = $zone;\n                $offset[] = $z-&gt;getOffset($c);\n                $added[] = $zone['timezone_id'];\n            }\n        }\n    }\n\n    array_multisort($offset, SORT_ASC, $data);\n    $options = array();\n    foreach ($data as $key =&gt; $row) {\n        $options[$row['timezone_id']] = $row['time'] . ' - '\n                                        . formatOffset($row['offset']) \n                                        . ' ' . $row['timezone_id'];\n    }\n\n    // now you can use $options;\n\nfunction formatOffset($offset) {\n        $hours = $offset / 3600;\n        $remainder = $offset % 3600;\n        $sign = $hours &gt; 0 ? '+' : '-';\n        $hour = (int) abs($hours);\n        $minutes = (int) abs($remainder / 60);\n\n        if ($hour == 0 AND $minutes == 0) {\n            $sign = ' ';\n        }\n        return 'GMT' . $sign . str_pad($hour, 2, '0', STR_PAD_LEFT) \n                .':'. str_pad($minutes,2, '0');\n\n}\n</code></pre>\n\n<p>When I checked my country, the offset was wrong, I am in Asia/Singapore, it should be UTC/GMT +8 <a href=\"http://www.timeanddate.com/worldclock/city.html?n=236\" rel=\"nofollow\">http://www.timeanddate.com/worldclock/city.html?n=236</a> but according to the generated list its +9. Is there some kind of logic error? The time was correct tho</p>\n\n<p>Is there a better way to generate this list? from the same question in the link above, </p>\n\n<pre><code>static $regions = array(\n    'Africa' =&gt; DateTimeZone::AFRICA,\n    'America' =&gt; DateTimeZone::AMERICA,\n    'Antarctica' =&gt; DateTimeZone::ANTARCTICA,\n    'Aisa' =&gt; DateTimeZone::ASIA,\n    'Atlantic' =&gt; DateTimeZone::ATLANTIC,\n    'Europe' =&gt; DateTimeZone::EUROPE,\n    'Indian' =&gt; DateTimeZone::INDIAN,\n    'Pacific' =&gt; DateTimeZone::PACIFIC\n);\nforeach ($regions as $name =&gt; $mask) {\n    $tzlist[] = DateTimeZone::listIdentifiers($mask);\n}\n</code></pre>\n\n<p>This just gets the identifiers I want a friendly display name eg. UTC+8 Asia/Singapore or something similar. How can I get that?</p>\n"},{"tags":["php","add"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13281882,"title":"Add values depending on answer","body":"<p>I have these two files.</p>\n\n<p><em><strong>A.php</em></strong></p>\n\n<pre><code>&lt;?\n\n   echo \"\n       &lt;form action = 'B.php' method = 'post'&gt;\n          5+5 = ?\n          Write answer: &lt;input type = 'text' name = 'op1'&gt;\n\n           10+10 = ?\n           Write answer: &lt;input type = 'text' name = 'op2'&gt;\n       &lt;/form&gt;\n\n   \";\n?&gt;\n</code></pre>\n\n<p><em><strong>B.php</em></strong></p>\n\n<pre><code>&lt;?\n\n $op1 = $_REQUEST ['op1'];\n $op2 = $_REQUEST ['op2'];\n\n if ($op1 == '10'){\n     echo \"Right answer. 2p.\";\n     $mark = '2';\n }else{\n     echo \"Wrong answer. 0p.\";\n     $mark2 = '0';\n }\n\n if ($op2 == '20'){\n     echo \"Right answer. 2p.\";\n     $mark3 = '2';\n }else{\n     echo \"Wrong answer. 0p.\";\n     $mark4 = '0';\n }\n\n?&gt;\n</code></pre>\n\n<p>How can I make an expression to make a total add?\nI've written a simple example, mine has 20 operations, how can I do that depending on the answer add 2 points or 1 point or 0 and finally write the result?\n(It's like an exam from 0 to 10)</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","apache","tomcat","httpd"],"answer_count":7,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":25407,"score":3,"question_id":779246,"title":"Run a php app using tomcat?","body":"<p>Is it possible to run a php app using tomcat? Before you tell me to just use httpd, I already have a java application running on my webserver at host/myapp. Now I want to install RoundCube at host/roundcube. One is php however and one is java. I keep seeing offhand references saying this is possible but no real instructions. No, I do not want to put them on separate ports, I need the standard http and https ports. Does anyone have any resources for this?</p>\n"},{"tags":["php","mysql","facebook-php-sdk"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":13093018,"title":"mysql_fetch_array and facebok api","body":"<p>Working with the facebook php sdk. I have the same .php tag in 2 different files, in one it works but in the other it returns nothing. Any idea? I have the same confing.php file included in both.</p>\n\n<pre><code>include(\"config.php\");\ninclude(\"fbconnect.php\");   \n\n  if(!isset($_SESSION['user'])) \n\n  {\n\n  $valor_voto=mysql_query(\"select voto from $mes_id where email=$email\");\n  $row=mysql_fetch_array($valor_voto);\n  $valor=$row['voto'];\n\n    if ($valor==1)\n    {\n    echo '&lt;img class=\"icon\" src=\"/images/greencheck.png\"&gt;';\n    }\n    else\n    {\n    echo '&lt;img class=\"icon\" src=\"/images/check.png\"&gt;';\n    }\n  }\n\n    else\n    {\n    echo '&lt;img class=\"icon\" src=\"/images/check.png\"&gt;';\n    }\n</code></pre>\n\n<p>Look to me that <strong>$email</strong> is what fails because if i input the email manually it will return any of the 2 spectated values. </p>\n\n<p>Thanks for the time.</p>\n\n<p>$email comes from fbconnect.php:</p>\n\n<p>if($user){</p>\n\n<pre><code>    try{\n    // Proceed knowing you have a logged in user who's authenticated.\n    $user_profile = $facebook-&gt;api('/me');\n    //Connecting to the database. You would need to make the required changes in the common.php file\n    //In the common.php file you would need to add your Hostname, username, password and database name!\n    mysqlc();\n\n    $name = GetSQLValueString($user_profile['name'], \"text\");\n    $email = GetSQLValueString($user_profile['email'], \"text\");\n    $gender = GetSQLValueString($user_profile['gender'], \"text\");\n    $bio = GetSQLValueString($user_profile['bio'], \"text\");\n    $hometown  = GetSQLValueString($user_hometown['hometown'], \"text\");\n    $query = sprintf(\"SELECT * FROM newmember WHERE email = %s\",$email);\n    $res = mysql_query($query) or die('Query failed: ' . mysql_error() . \"&lt;br /&gt;\\n$sql\");\n    if(mysql_num_rows($res) == 0)\n    {\n        $iquery = sprintf(\"INSERT INTO newmember values('',%s,%s,%s,%s,'yes',%s)\",$name,$email,$gender,$bio,$hometown);\n        $ires = mysql_query($iquery) or die('Query failed: ' . mysql_error() . \"&lt;br /&gt;\\n$sql\");\n        $_SESSION['user'] = $user_profile['email'];\n        $_SESSION['id'] = $user_profile['id'];\n    }\n    else\n    {\n        $row = mysql_fetch_array($res);\n        $_SESSION['user'] = $row['email'];\n        $_SESSION['id'] = $user_profile['id'];\n    }\n    }catch(FacebookApiException $e){\n            error_log($e);\n            $user = NULL;\n        }\n\n}\n</code></pre>\n"},{"tags":["php","validation","model","yii","rules"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13278505,"title":"Yii: validation rules that always apply except one scenario","body":"<p>I know that you can have a validation rule that applies only for one scenario:</p>\n\n<pre><code>array('username', 'exist', 'on' =&gt; 'update'),\n</code></pre>\n\n<p>Now i would like to know if it's possible to do the opposite: a rule that applies everytime except for a given scenrio?</p>\n\n<p>The only solution that is see right now is list all the others scenario, but it's not pretty if we need to add some news scenarios later.</p>\n\n<pre><code>array('username', 'exist', 'on' =&gt; array('create', 'search', ...),//all the scenarios except update\n</code></pre>\n"},{"tags":["php","connection","db2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13282245,"title":"PHP DB2 connection error","body":"<p>I having the following error to connect IBM DB2.</p>\n\n<pre><code>Connection failed.[unixODBC][Driver Manager]Data source name not found, and no default driver specified SQLCODE=0\n</code></pre>\n\n<p>and this is the configuration for db2 in my phpinfo.</p>\n\n<pre><code>IBM DB2, Cloudscape and Apache Derby support:   enabled\nModule release :    1.9.4\nModule revision :   $Revision: 327944 $\nBinary data mode (ibm_db2.binmode) :    DB2_BINARY\nDB2 instance name (ibm_db2.instance_name) ; no value\n</code></pre>\n\n<p>Plz help me to connect the database.</p>\n\n<p>The script is as below.</p>\n\n<pre><code>$database = 'dbT';\n$user = 'user';\n$password = 'pswd';\n$hostname = '10.250.10.11';\n$port = 456;\n\n\n$conn_string = \"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=$database;\" .\n  \"HOSTNAME=$hostname;PORT=$port;PROTOCOL=TCPIP;UID=$user;PWD=$password;\";\n$conn = db2_connect($conn_string, '', '');\n\n\nprint $conn;\n\nif ($conn) {\n    echo \"Connection succeeded.\";\n    db2_close($conn);\n}\nelse {\nprint($conn);\n    echo \"Connection failed.\";\n    die(db2_conn_errormsg());\n}\n</code></pre>\n"},{"tags":["php","encoding","odbc","dbase"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13281899,"title":"Display Big5 encoding from dBase on the web","body":"<p>I have a dBase III file, the Chinese words inside is encoded in Big5.\nWith the help of PHP ODBC, I can retreieve/ insert record to/ from the dBase file.</p>\n\n<p>However, I couldn't diplay the chinese words (Big5) correctly.</p>\n\n<p>When I use mb_detect_encodingfunction to detect those chinese words, it appears as \"UTF-8\". I guess the odbc dump the data in the form of \"UTF-8\" instead of it's original encoding (ASCII/ Big5). </p>\n\n<p>I would like to ask, how can I display the words correctly? Thanks so much for your help. I have struggling for this problem for 2 days.</p>\n"},{"tags":["php","database","mysqli"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13281787,"title":"Syntax Help for Query","body":"<p>I'm trying to query my MySQL database to get information about a user. You submit a form on a previous page and then you go into the page and connect to the database and all that good stuff. I just have a quick question on syntax for the SELECT function for a query. I'm trying to say \"select from tbl_name where the field first name concatenated with the field last name (with a space in between) equals the variable $user.</p>\n\n<p>I figured with PHP I need to put slashes in front of the quotation marks. It doesn't seem to return any value though. Am I just using incorrect syntax?</p>\n\n<pre><code>$user=$mysqli-&gt;real_escape_string($_POST['user']);\n\n$sql=\"SELECT * FROM tbl_name WHERE firstname.\\\" \\\".lastname='$user'\";\n</code></pre>\n"},{"tags":["php","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13279460,"title":"Facebook social graph API call for authenticated user","body":"<p>I'm trying to grab data about a user in Facebook that can only be fetched if the app is authenticated (for example /likes).</p>\n\n<p>However, I can't seem to grab this data despite the fact that the user has authenticated the Facebook app (and the applicable specific permissions). I can only get data from a public context. </p>\n\n<p>I'm assuming I must be missing some sort of authentication step, but I can't figure out how. When I call <code>$fb-&gt;getAccessToken()</code>, it returns a string value, so it seems like it does get an access token for making requests. I see some solutions to force the user to click on a login URL to authenticate, but hasn't that already been done if they have authenticated the FB dialog previous (via Javascript)?\nBesides that, I need the script to run without any input from the user.</p>\n\n<p>Current code:</p>\n\n<pre><code>    $fbConfig = array(\n        'appId'     =&gt;  'xx',\n        'secret'    =&gt;  'xx',\n    );\n    //get facebook configuration parameters defined in admin backend\n    $fb = new facebook($fbConfig);\n\n    $access_token = $fb-&gt;getAccessToken();\n    $fbUid = '123456789'; // Known Facebook User Id\n\n    $likes = $fb-&gt;api('/' . $fbUid . '/likes&amp;access_token=' . $access_token);\n    var_dump($likes);\n    // Result is always: array(0) { }\n</code></pre>\n"},{"tags":["php","api","sms","gateway"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":936,"score":2,"question_id":3222414,"title":"Free to use api to access an sms gateway","body":"<p>Im a php developer in need of a free service that offers an api that enables me to send one of my users a simple text message.</p>\n\n<p>I have a web app that allows you to receive updates (through sms), much like facebook or twitter when something new happens you get a text message updating you.</p>\n\n<p>I dont want to pay to use a service like this in any way.\ni would display a warning to the user that once they sign up for the updates that standard text messaging rates may apply... cool.</p>\n\n<p>i am aware of using phps mail function with the mobile users number plus the service providers text gateway address. \nalso i know of some cheep alternatives but im not looking to spend money.</p>\n\n<p>i just need to know of a service that offers me an api free of charge so i can send simple updates. (without adding adverts would be amazing also)</p>\n\n<p>if anybody could help me out with this i would be grateful, thanks!</p>\n"},{"tags":["php","wordpress","frameworks","themes","wordpress-theming"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13217985,"title":"Set WordPress Default Template","body":"<p>I'm using the <em><a href=\"https://github.com/devinsays/options-framework-theme\" rel=\"nofollow\">Options Framework Theme</a></em> to put together my options page and would just like to know how would I set up/call the <em>Default Template</em> - for whichever one the user has selected. </p>\n\n<p>For example, on my <em>Theme Options</em> page, you can choose from the following:</p>\n\n<ol>\n<li>Full Page</li>\n<li>Side Bar Left</li>\n<li>Side Bar Right</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/mjQSI.png\" alt=\"enter image description here\"></p>\n\n<p>Once the user has selected one of these, when they go to create a  <em>New Page</em>, in the <em>Page Attributes > Template</em> drop-down menu, the \"<em>Default Template</em>\" should be the one that they chose from before...</p>\n\n<p><img src=\"http://i.stack.imgur.com/MCyXo.png\" alt=\"enter image description here\"></p>\n\n<p>In my <code>options.php</code> file:</p>\n\n<pre><code>$options[] = array(\n        'name' =&gt; \"Default Template\",\n        'desc' =&gt; \"The default layout when a new page is created.\",\n        'id' =&gt; \"layout_options\",\n        'std' =&gt; \"2c-r-fixed\",\n        'type' =&gt; \"images\",\n        'options' =&gt; array(\n            '1col-fixed' =&gt; $imagepath . '1col.png',\n            '2c-l-fixed' =&gt; $imagepath . '2cl.png',\n            '2c-r-fixed' =&gt; $imagepath . '2cr.png')\n    );\n</code></pre>\n\n<p>To call the output:</p>\n\n<pre><code>&lt;?php echo of_get_option('layout_options', 'no entry' ); ?&gt;\n</code></pre>\n\n<p>Where/what would I need to paste in throughout my theme files to grab the users selection and point it towards the <em>Default Template</em>, as currently it may only be saving the selected image?</p>\n"},{"tags":["php","html"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13281540,"title":"Processing dynamically generated text boxes which have variable names","body":"<p>I'm working on a script that writes out a form based on an uploaded CSV file. The CSV file contains sections that are separated by a line containing only ',,,,'. Each block contains information about a server that is going to be kickstarted. It looks like this:</p>\n\n<pre>\nhost,tctivt2r6ra03,,,\nint,eth0,10.153.196.248,255.255.255.0,10.153.196.1\nint,eth1,10.153.157.113,255.255.255.128,10.153.157.1\nint,eth2,10.153.157.241,255.255.255.128,10.153.157.129\nint,eth3,00:50:56:ac:69:cb,,\npart,/home,10,,\npart,swap,10,,\npart,/opt,60,,\npart,/data,30,,\n,,,,\n</pre>\n\n<p>This input is written to a div which contains a table. Each row of input being a unique row in the table. Some values end up in text boxes.</p>\n\n<p>The script generates output that looks like <a href=\"https://dl.dropbox.com/u/116457/upload_file_ouput.PNG\" rel=\"nofollow\">this</a>.</p>\n\n<p>Each box is generated dynamically and consists of the host ID starting at 0 and the box number also starting at 0. For example:</p>\n\n<pre><code>&lt;tr&gt;&lt;th&gt;eth0: &lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10.153.196.248\" name=\"host0Box0\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"255.255.255.0\" name=\"host0Box1\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10.153.196.1\" name=\"host0Box2\" /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;\n</code></pre>\n\n<p>The question I have is how to process a form that has a variable number of boxes. Specifically, when processing the 'part' lines of the input there can be six boxes or more.</p>\n\n<p>Example with four partitions:</p>\n\n<pre><code>&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /var&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host0Box9\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /home&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host0Box10\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; swap&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host0Box11\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /opt&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"60\" name=\"host0Box12\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"/data\" name=\"host0Box13\" /&gt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"30\" name=\"host0Box14\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Number of Disks: &lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"1\" name=\"host0Disks\" /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;span&gt;&lt;br /&gt;&lt;br /&gt;&lt;/span&gt;\n</code></pre>\n\n<p>Example with six partitions:</p>\n\n<pre><code>&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /var&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host1Box9\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /home&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host1Box10\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; swap&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host1Box11\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /opt&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"60\" name=\"host1Box12\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"/data\" name=\"host1Box13\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"30\" name=\"host1Box14\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"/test1\" name=\"host1Box15\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"30\" name=\"host1Box16\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"/test2\" name=\"host1Box17\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"20\" name=\"host1Box18\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Number of Disks: &lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"1\" name=\"host0Disks\" /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;span&gt;&lt;br /&gt;&lt;br /&gt;&lt;/span&gt;\n</code></pre>\n\n<p>This is a work in progress that I know I'm going to have to change in order to properly process each host section. In the meantime, I'm trying to sort out this one issue.</p>\n\n<p>My question right now is, when I I eventually do get to the point of processing the form, what approach should I use to account for dynamically allocated item names when the $_POST array is populated? Do I pull the array values out and place them in a different array? Can I iterate over the $_POST array like a normal array? Is there another option that I'm not aware of?</p>\n"},{"tags":["php","arrays","key"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13281202,"title":"How to select more than one key and use it in another function as variable","body":"<p>This code works fine, but I need more things from getList function to dtaus function</p>\n\n<p>I cut out the code and I left part of the code which I do not understand</p>\n\n<p>I want when I select something from a table set to use and others variables besides order_id for each selection in a function dtaus</p>\n\n<p>I'm new to php, and I don't know how i can do this... Any ideas?</p>\n\n<pre><code>class ControllerExtensionZanox extends Controller {  \n        public function index() {\n                $this-&gt;load-&gt;language('extension/zanox');\n                $this-&gt;document-&gt;setTitle($this-&gt;language-&gt;get('heading_title'));   \n                $this-&gt;load-&gt;model('extension/zanox');\n                $this-&gt;getList();\n            }\n\nprivate function getList() {\n\n        $this-&gt;data['zanoxs'] = array();\n\n        $results = $this-&gt;model_extension_zanox-&gt;getZanox($data);\n\n            foreach ($results as $result) {\n                $this-&gt;data['zanoxs'][] = array(\n                    'order_id'   =&gt; $result['order_id'],\n                    'amount'      =&gt; $result['amount'], \n                    'selected'   =&gt; isset($this-&gt;request-&gt;post['selected']) &amp;&amp; in_array($result['order_id'], $this-&gt;request-&gt;post['selected'])\n                );\n            }\n\n\n            $this-&gt;response-&gt;setOutput($this-&gt;render());\n        }\n\n        public function dtaus() { \n\n            if (isset($this-&gt;request-&gt;post['selected'])) {\n\n                foreach ($this-&gt;request-&gt;post['selected'] as $order_id) {\n\n\n                    $this-&gt;model_extension_zanox-&gt;dtausPay($order_id);\n\n                    echo $order_id//this show orderid\n                    echo $amount;//normally this is empty... How to use amount here in this function?\n                }\n\n            }\n\n        }\n</code></pre>\n\n<p>Here is a chekbox</p>\n\n<pre><code>              &lt;td style=\"text-align: center;\"&gt;&lt;?php if ($zanox['selected']) { ?&gt;\n                &lt;input type=\"checkbox\" name=\"selected[]\" value=\"&lt;?php echo $zanox['order_id']; ?&gt;\" checked=\"checked\" /&gt;\n                &lt;?php } else { ?&gt;\n                &lt;input type=\"checkbox\" name=\"selected[]\" value=\"&lt;?php echo $zanox['order_id']; ?&gt;\" /&gt;\n                &lt;?php } ?&gt;&lt;/td&gt;\n</code></pre>\n"},{"tags":["php","html"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13281442,"title":"populate form fields with php","body":"<p>I have a form for users to fill out information and am wondering how to retain the previously typed information if the user redirects back to the page.</p>\n\n<p>So, I have two files, </p>\n\n<ul>\n<li>form.html</li>\n<li>validate.php</li>\n</ul>\n\n<p>Under <code>form.html</code>:</p>\n\n<pre><code>&lt;form id=\"regForm\" action=\"index.php?validate\" method=\"post\" onsubmit=\"return regValidation();\" &gt;\n\n&lt;tr&gt;\n  &lt;td width=\"150px\" &gt;First Name: &lt;font color=\"red\"&gt;*&lt;/font&gt; &lt;/td&gt;\n  &lt;td&gt;&lt;input type=\"text\" name=\"firstNameField\" id=\"firstNameField\" value/ &gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>and under <code>validate.php</code>, I have stored the info with $_SESSION:</p>\n\n<pre><code>&lt;?php\n    session_start();\n\n    $_SESSION['first'] = $_POST['firstNameField'];\n?&gt;\n</code></pre>\n\n<p>but when I tried to populate the <code>firstNameField</code> with <code>$_SESSION['first']</code> as follow</p>\n\n<pre><code>&lt;td&gt;&lt;input type=\"text\" name=\"firstNameField\" id=\"firstNameField\" value=\"&lt;?php echo isset($_SESSION['first']) ? $_SESSION['first'] : NULL; ?&gt;\" /&gt;&lt;/td&gt;\n</code></pre>\n\n<p>The field will literally be replaced with <code>&lt;?php echo isset($_SESSION['first']) ? $_SESSION['first'] : NULL; ?&gt;</code></p>\n\n<p>Can someone tell me why and how to properly fix it?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","mysql","regex","search","comma"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13281179,"title":"Search string in comma separated list","body":"<p>I'm trying to search a table of recipes that DON'T include any of the search terms in it's ingredients.  The ingredients of each recipe are stored in one field, separated by commas.</p>\n\n<p>I've tried using WHERE NOT MATCH...AGAINST but that doesn't work in cases like when I search for Peas.  It will return results with pea protein in them.  I need to not have that.  This is also a problem with pluralization.</p>\n\n<p>I tried using NOT REGEXP but I'm not too familiar with regular expressions and all the Googling I've done for the last two days hasn't produced a result. </p>\n\n<p>Is there ANY way I can search this field in this table for multiple values and exclude them in the results?</p>\n"},{"tags":["php","apache"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":406,"score":1,"question_id":5908686,"title":"Security risk to auto_prepend_file in Apache?","body":"<p>I've implemented a PHP auto_prepend_file in Apache's httpd.conf file to password protect every page on the server. Let's assume the the prepended file is properly coded and secured. Are there any serious security risks to using an auto_prepend_file method? I'm worried this opens up  some sort of cross scripting attack or access can spoofed. Thanks for the help :)</p>\n\n<p>In httpd.conf:</p>\n\n<pre><code>php_value auto_prepend_file \"path/to/application/auth/include/secure.inc\"\n</code></pre>\n"},{"tags":["php","db2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13281639,"title":"How to establish a connection?","body":"<p>I am new to DB2. </p>\n\n<pre><code>$database = 'test';\n$user = 'user1';\n$password = 'pswd1';\n$hostname = '10.250.10.10';\n$port = 556;\n\n\n$conn_string = \"DRIVER={IBM DB2 ODBC DRIVER};DATABASE=$database;\" .\n  \"HOSTNAME=$hostname;PORT=$port;PROTOCOL=TCPIP;UID=$user;PWD=$password;\";\n$conn = db2_connect($conn_string, '', '');\n\n\nif ($conn) {\n    echo \"Connection succeeded.\";\n    db2_close($conn);\n}\nelse {\nprint($conn);\n    echo \"Connection failed.\";\n    die(db2_conn_errormsg());\n\n}\n</code></pre>\n\n<p>all the values are correct. But connection have been failed. Plz advise me. and How to check in the PHPINFO(). whether the DB2 have been installed successfully or not.</p>\n\n<p>I got the following error</p>\n\n<pre><code>Connection failed.[unixODBC][Driver Manager]Data source name not found, and no default driver specified SQLCODE=0\n</code></pre>\n"},{"tags":["php","xpath","domdocument"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13281805,"title":"Most Efficent way to Trasverse","body":"<p>I'm using XPath to scrape some data from a site.  Im wondering if I'm perhaps using too many <code>foreach() loops</code>, and could traverse through the hierarchy in a simpler way. I feel I may be using too many queries, and that there may be a better way just using one</p>\n\n<p>The hierarchy looks something like this.</p>\n\n<pre><code>&lt;ul class='the-list'&gt;\n    &lt;li class='item' id='12345'&gt;\n        &lt;div class='this-section'&gt;\n            &lt;a href='http://www.thissite.com'&gt;\n                &lt;img src='http://www.thisimage.com/image.png' attribute_one='4567' attribute-two='some-words' /&gt;\n        &lt;/div&gt;\n    &lt;/li&gt;\n    &lt;li class='item' id='34567'&gt;\n    &lt;li class='item' id='48359'&gt;\n    &lt;li class='item' id='43289'&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>im looking to grab</p>\n\n<p>Im looking to grab:</p>\n\n<pre><code>&lt;li&gt;: id \n&lt;a&gt;: href  \n&lt;img&gt; : all attributes\n</code></pre>\n\n<p>So I did the following:</p>\n\n<pre><code>$dom = new DOMDocument;\n@$dom-&gt;loadHTMLFile($file);\n$xpath = new DOMXPath($dom);\n\n$list = $xpath-&gt;query(\"//ul[@class='the-list']/li\");\n\nforeach($list as $list_item)\n{\n    $data['item_id'][] = $list_item-&gt;getAttribute('id');\n    $images = $xpath-&gt;query(\"div[@class='this-section']/a/img\", $list_item);\n\n    foreach($images as $image)\n    {\n        $data['preview'][] = $image-&gt;getAttribute('src');\n        $data['cost'][] = $image-&gt;getAttribute('attribute-one');\n        $data['category'][] = $image-&gt;getAttribute('attribute-two');            \n    }\n}\n</code></pre>\n\n<p>Do I need to constantly re-query to work my down the hierarchy, or is there a simpler way to accomplish this?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13281395,"title":"PHP SESSION HTML table carrying issue","body":"<p>I am adding items to my cart.php using an add in the URL. </p>\n\n<pre><code>    case \"add\":\nif (isset($_SESSION['cart'][$comic_id])) {\n$_SESSION['cart'][$comic_id]++;\n} else {\n$_SESSION['cart'][$comic_id] = 1;}\n</code></pre>\n\n<p>... My items are presented into an HTML table in the cart.php. I just want to then re-call specific variables from the array in the checkout.php so the customer can confirm the order total along with their personal details. </p>\n\n<p>I can only seem to carry the last added item/row over using SESSION variable when I use the following:</p>\n\n<pre><code>$_SESSION['totalnameqty']=$name . \" \" . $qty . \" \" . $cost;\n</code></pre>\n\n<p>...and then use an echo on the checkout.php page:</p>\n\n<pre><code>$totnamqty=$_SESSION['totnamqty'];\necho $totnamqty;\n</code></pre>\n\n<p>... I want to carry all items $name, $qty &amp; $cost added to the HTML table in the cart.php to the checkout.php not just 1 item/row. Unsure of how to do this or if it is possible. Can somebody help?</p>\n\n<p>Here is my cart.php:</p>\n\n<pre><code>if (isset($_SESSION['cart'][$comic_id])){\n\n    echo \"&lt;table border=\\\"0\\\" padding=\\\"10\\\" width=\\\"80%\\\"&gt;\";\n    echo \"&lt;td colspan=\\\"1\\\" align=\\\"left\\\"&gt;&lt;a href=\\\"title.php\\\"&gt;Continue Shopping&lt;/a&gt;&lt;/div&gt;\";\n    echo \"&lt;td colspan=\\\"6\\\" align=\\\"right\\\"&gt;&lt;a href=\\\"$_SERVER[PHP_SELF]?action=empty\\\" onclick=\\\"return confirm('Crystal Fusion: Are you sure you wish to empty your cart?');\\\"&gt;Empty Cart&lt;/a&gt;&lt;/td&gt;\";                  \n    echo \"&lt;tr height=\\\"20px\\\"&gt;\";\n    echo \"&lt;tr height=\\\"20px\\\"&gt;\"; \n    echo \"&lt;td align=center&gt;Image&lt;/td&gt;&lt;td align=center&gt;Title&lt;/td&gt;&lt;td align=center&gt;Description&lt;/td&gt;&lt;td colspan=3 align=center&gt;Copies (+/-)&lt;/td&gt;&lt;td align=center&gt;Price&lt;/td&gt;\";\n    echo \"&lt;tr height=\\\"20px\\\"&gt;\";\n\n\n    foreach($_SESSION['cart'] as $comic_id =&gt; $qty) {   \n\n        $sql = sprintf(\"SELECT title, description, cost, image_thumbnail\n                FROM comic \n                WHERE comic_id = %d;\",$comic_id); \n\n        $result = mysql_query($sql);\n\n        if(mysql_num_rows($result) &gt; 0) {\n\n            list($name, $description, $price, $image_thumbnail) = mysql_fetch_row($result);\n\n\n            $cost = $price * $qty; \n            $total = $total + $cost; \n\n            $cost = number_format($cost,2); \n            $total = number_format($total,2); \n            $description =  substr($description, 0, 250); \n\n            echo \"&lt;br&gt;&lt;tr&gt;\";\n            echo \"&lt;td width=\\\"10px\\\" align=\\\"center\\\"&gt;&lt;img height=100 align=center src=\\\"$image_thumbnail\\\"&gt;\";\n            echo \"&lt;td align=\\\"center\\\"&gt;$name&lt;/td&gt;\";\n            echo \"&lt;td width=\\\"40%\\\" align=\\\"center\\\"&gt;$description...&lt;a href=comic_dyn.php?comic_id=$comic_id&gt;More Info&lt;/td&gt;\";\n            echo \"&lt;td width=\\\"30px\\\" align=\\\"center\\\"&gt;&lt;a href=\\\"$_SERVER[PHP_SELF]?action=add&amp;comic_id=$comic_id\\\"&gt;+&lt;br&gt;&lt;/a&gt;&lt;td align=\\\"center\\\"&gt;$qty &lt;td width=\\\"20px\\\" align=\\\"center\\\"&gt;&lt;a href=\\\"$_SERVER[PHP_SELF]?action=remove&amp;comic_id=$comic_id\\\"&gt;-&lt;/a&gt;&lt;/td&gt;\";\n            echo \"&lt;td align=\\\"right\\\"&gt;$$cost&lt;/td&gt;\";\n            echo \"&lt;/tr&gt;\";           \n        }\n\n    }\n\n    echo \"&lt;br&gt;&lt;tr&gt;&lt;tr height=100px&gt;\";\n    echo \"&lt;td&gt;&lt;td&gt;&lt;td colspan=\\\"4\\\" align=\\\"right\\\"&gt;Total:&lt;/td&gt;\";\n    echo \"&lt;td width=\\\"60px\\\" align=\\\"right\\\"&gt;$$total&lt;/td&gt;\"; \n    echo \"&lt;tr&gt;&lt;td colspan=\\\"7\\\" align=\\\"right\\\"&gt;&lt;a href=\\\"checkout_html.php\\\"&gt;Proceed to Checkout&lt;/a&gt;\"; \n    echo \"&lt;tr height=\\\"50px\\\"&gt;\";\n    echo \"&lt;/table&gt;\";\n}else{\n\n    echo \"Your cart is currently empty.\"; \n    echo \"&lt;br&gt;&lt;br&gt;&lt;td colspan=\\\"1\\\" align=\\\"left\\\"&gt;&lt;a href=\\\"title.php\\\"&gt;Continue Shopping&lt;/a&gt;&lt;/div&gt;\"; \n\n}\n\n//session variables (to be carried to checkout.php\n$_SESSION['cost']=$cost;\n$_SESSION['name']=$name;\n$_SESSION['qty']=$qty;\n$_SESSION['totnamqty']=$name . \" \" . $qty . \" \" . $cost;\n</code></pre>\n"},{"tags":["php","html","mysql","query","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13281869,"title":"Why won't my new version using mysqli work?","body":"<p>I wrote this code, but it was pointed out by people here at stackoverflow that these functions will deprecate. So I'm updating it with mysqli functions. The new one won't return the image url i want to show though. </p>\n\n<p>Here's the old working code :</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n\n&lt;title&gt;My first PHP script&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt; \n\n&lt;?php\n\n$dbhost = 'access.website';\n$dbname = 'my_db';\n$dbuser = 'usr_nam';\n$dbpass = 'passwrd';\n\n$mysql_handle = mysql_connect($dbhost, $dbuser, $dbpass)\n    or die(\"Error Connecting To Database Server\");\n\nmysql_select_db($dbname, $mysql_handle)\n    or die(\"Error selecting database: $dbname\");\n\n$query = sprintf(\"SELECT image_url, Type FROM Pokemon \n    c WHERE c.name='%s'\", \n    mysql_real_escape_string($_GET[\"fname\"]));\n\n$result = mysql_fetch_assoc(mysql_query($query));   \n\necho '&lt;img height=\"450\" width=\"330\" src=\"'.$result['image_url'].'\" /&gt;';\n\nmysql_close($mysql_handle);\n\n?&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here is my new code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n\n  &lt;title&gt;My first PHP script&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt; \n\n&lt;?php\n\n$dbhost = 'access.website';\n$dbname = 'my_db';\n$dbuser = 'usr_nam';\n$dbpass = 'passwrd';\n\n$link = mysqli_connect($dbhost,$dbuser,$dbpass,$dbname);\n\nmysqli_select_db($link,$dbname);\n\n$query = sprintf(\"SELECT image_url, Type FROM Pokemon \n    c WHERE c.name='%s'\", \n    mysqli_real_escape_string($link,$_GET[\"fname\"]));\n\n$result = mysqli_query($link,$query);   \n\necho '&lt;img height=\"450\" width=\"330\" src=\"'.$result['image_url'].'\" /&gt;';\n\nmysqli_close($link);\n\n?&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","sql","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13281099,"title":"Single Quotes in PDO Prepared Statments","body":"<p>I have always had issues with getting single quotes into PDO prepared statements. Here is what I have:  </p>\n\n<pre><code>$query2 = $dbh2-&gt;prepare(\"SELECT um.uploadID,\n\nselCol = CASE WHEN linkID = 1 THEN 'uploadDataMapID' ELSE 'uploadData' END\n\nFROM UploadMappings as um\");\n</code></pre>\n\n<p>When this is passed to SQL it ends up with ' 'uploadDataMapID' ' and ' 'uploadData' ' </p>\n\n<p>What is the best way to pass single quotes to MSSQL server using PDO prepared statements?</p>\n\n<p>Any help would be great.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","gd"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":7426685,"title":"How can I write Arabic or Persian characters into an image?","body":"<p>How can I write Arabic or Persian characters to an image using PHP GD library?</p>\n\n<p>i.e. \"احسان\" </p>\n"},{"tags":["php","ajax","forms","drop-down-menu","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13281836,"title":"Using Ajax with PHP to auto-select from drop down list","body":"<p>I'm using a drop down list to select an option that with fill in a form based on items that have been saved. All I'm trying to do is obtain a form id from a drop down, then query the database for the correct values to go in the fields. The Ajax request works correctly, however ,since the form is called from a function, when a value is selected that same function is called again so there are 2 forms generated. </p>\n\n<p>So the flow of information is.</p>\n\n<ol>\n<li><p>when the page loads, function create_event is called which displays a form.</p></li>\n<li><p>If an item is selected from a drop down (in create_event) to fill out some options, that same create_event function is called again via ajax, so that same form loads again.</p></li>\n</ol>\n\n<p>Here's where the form is called</p>\n\n<pre><code>if($_GET['form_id']){ //a value was selected from the drop down list\n    if(isset($my_username)){  //make sure the user is signed in\n        $form_id = $_GET['form_id']; \n        $event-&gt;create_event($form_id);\n    }\n}\nif($uri_2 == \"create\" AND !$_GET['form_id']){ //checks URI for create page and no form_id has been selected\n    if(isset($my_username)){  //make sure the user is signed in\n        $form_id = \"\";\n        $event-&gt;create_event($form_id);\n    }\n}\n</code></pre>\n\n<p>How can I work around this? I'm fine with the page re-loading, but I don't know how to do that  without passing something visually through the URL (which I'd like to avoid).</p>\n"},{"tags":["php","array-key-exists"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13281476,"title":"Search multidimensional array with array_key_exists not working","body":"<p>I and trying to have an if else() statement look for 2 or more conditions before executing but its not working for me.. My ultimate goal for example is to search for array[Pack] and if [Type] == s45 &amp;&amp; [packageA1] exist then to use array_slice to add additional info to the [Type array]</p>\n\n<p>The if() condition works fine but not the else if()....</p>\n\n<p>$node:</p>\n\n<pre><code>Array\n(\n    [Pack] =&gt; Array\n        (\n            [Type] =&gt; s45\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; s45 info here\n                    [image] =&gt; \n                )\n\n        )\n\n    [Pack2] =&gt; Array\n        (\n            [Type] =&gt; s99\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; s99 info goes here\n                    [image] =&gt; \n                )\n\n        )\n)\n\n//more code...\n$i = 1;\nif(!array_key_exists($item[0], $node)){\n     $node[$row[0]] = array(\"Type\" =&gt; $item[0], \"package\".$item[1] =&gt; array(\"level\" =&gt; \"REMOVE FROM DB\", \"stage\" =&gt; \"REMOVE FROM DB\", \"description\" =&gt; $item[3], \"image\" =&gt; $item[4]));\n}else if(array_key_exists($item[0], $node) &amp;&amp; array_key_exists(\"package\".$item[1], $node)){\n     $i++;\n     $res = array_slice($node[$rowKey], 0, $i, true) +  array(\"my_key\" =&gt; \"my_value\") + array_slice($node[$rowKey], $i, count($node[$rowKey]) - 1, true);\n}\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>Array\n(\n    [Pack] =&gt; Array\n        (\n            [Type] =&gt; s45\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; s45 info here\n                    [image] =&gt; \n                )\n            [packageA2] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; blahhhhhh blah blahh\n                    [image] =&gt; \n                )\n            [packageE1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; moar random stuff inserted\n                    [image] =&gt; \n                )    \n        )\n\n    [Pack2] =&gt; Array\n        (\n            [Type] =&gt; s99\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; s99 info goes here\n                    [image] =&gt; \n                )\n\n        )\n)\n</code></pre>\n"},{"tags":["php","regex","preg-replace","preg-match"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13269187,"title":"Replace relative links with absolute links inside a given text using regex or str_replace","body":"<p>I have a text like:</p>\n\n<pre><code>61  me  xxxx.com\n60  aici    xxx.com/ \n59  here    9gag.com    \n</code></pre>\n\n<p>Some links have http:// in front of them, some don't.\nI want to replace the urls with </p>\n\n<pre><code>'http://'.$url\n</code></pre>\n\n<p>So here's what I've done:</p>\n\n<p>My links are in the following array:</p>\n\n<pre><code>$links\n</code></pre>\n\n<p>And I do this:</p>\n\n<pre><code>foreach($links as $link){\n    if (!preg_match(\"~^(?:f|ht)tps?://~i\", $link)) {\n        $links2[] = \"http://\" . $link;\n    }\n}\n</code></pre>\n\n<p>And afterwards:</p>\n\n<pre><code>$str=str_replace($links, $links2, $str);\n</code></pre>\n\n<p>My text now shows:</p>\n\n<pre><code>61      me      http://http://http://http://http://http:// \n60      aici    http://http://http://http://http://\n59      here    http://http://http://http://http://\n</code></pre>\n\n<p>Sorry for the formatting of the text.</p>\n\n<p>LATER EDIT:</p>\n\n<p>In other words it does not replace correctly the links, it just puts \"http://\" several times.\nAny ideas why it does that? Any better solutions for this?</p>\n"},{"tags":["php","validation","if-statement","form-validation","else"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13281679,"title":"Function to validate username and password not working","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8571226/regular-expression-matching-for-entire-string\">Regular Expression matching for entire string</a>  </p>\n</blockquote>\n\n\n\n<p>On my form page, I am trying to make it only accept alphanumeric characters for my username and password and require that they be from 6 to 15 characters. When I type in invalid data, it will insert it into the database rather than throw the user error that I defined in my CheckAlNum function. </p>\n\n<p>functions.php</p>\n\n<pre><code>function checkAlNum($whichField) \n{\n    if (preg_match('/[A-Za-z0-9]+/', $_POST[$whichField])){\n        if ( (!count(strlen($whichField) &gt;= 6)) OR (!count(strlen($whichField) &lt;= 15 ))) {\n            $message1 = '&lt;p&gt; Username and password must be between 6 and 15 characters &lt;/p&gt;';\n                return user_error($message1);\n        }\n        else{       \n            return true;\n        }           \n    }\n\n    else {\n        $message = '&lt;p&gt;Username and password can only be numbers or letters&lt;/p&gt;';\n            return user_error($message);\n     }\n\n\n } \n</code></pre>\n\n<p>Form.php<br>\n    \n\n<pre><code>        if (count($_POST) &gt; 0) {\n\n           //Validate the inputs\n            $errorMessages = array();\n\n            //Validate the username   \n            $item5 = checkAlNum('username');\n            if($item5 !== true) {\n                $errorMessages[] = $item5;\n            }\n\n            //Validate the password\n            $item6 = checkAlNum('password');\n            if($item6 !== true) {\n                $errorMessages[] = $item6;\n            }\n\n            //Validate the firstName and lastName\n            $item1 = checkNameChars('firstName');\n            if ($item1 !== true) {\n                $errorMessages[] = $item1;\n\n            }\n\n            $item2 = checkNameChars('lastName');\n            if ($item2 !== true) {\n                $errorMessages[] = $item2;\n\n            }   \n\n            //Validate the office name\n            $item3 = checkOfficeChars('office');\n            if ($item3 !== true) {\n                $errorMessages[] = $item3;\n\n            }\n\n            //Validate the phone number \n            $item4 = validate_phone_number('phoneNumber');\n            if($item4 !== true) {\n                $errorMessages[] = $item4;\n            }  \n\n\n            //Check to see if anything failed\n            if (count($errorMessages) == 0) {\n\n                $newEmployee = new Person;\n                    $newEmployee -&gt; insert();\n\n            }\n\n            else { //Else, reprint the form along with some error messages\n                echo \"&lt;h2&gt;&lt;span&gt;Error&lt;/span&gt;: &lt;/h2&gt;\";\n\n                foreach($errorMessages as $msg) {\n                    echo \"&lt;p&gt;\" . $msg . \"&lt;/p&gt;\";\n              }\n            }\n        }  \n\n        ?&gt;\n</code></pre>\n\n<p>I've tried playing around with the nesting of the if-else statements of the checkAlNum function and also the regex (although I'm pretty sure the regex is right). Maybe I'm just missing something really silly?</p>\n"},{"tags":["php","facebook","dynamic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13281431,"title":"php dynamic og:image for facebook","body":"<p>Now this is all over stackoverflow but I haven't come across a solution that has worked yet so here goes...</p>\n\n<p>Just trying to get facebook to recognise my og:image pretty simple. Everything outputs with the facebook object debugger except the thumbnail won't show. It does however show the correct url and when the blank thumbnail is clicked it loads the correct image.</p>\n\n<p>Image size is surely not an issue as I have another site that works with much larger images.</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;meta property=\"og:title\" content=\"&lt;? echo $product_name; ?&gt;\"/&gt;\n&lt;meta property=\"og:type\" content=\"website\"/&gt;\n&lt;meta property=\"og:url\" content=\"https://www.domain.com.au/product-tesst.php?id=&lt;?     echo $id ?&gt;\"/&gt;\n&lt;meta property=\"og:image\"content=\"https://www.domain.com.au/inventory_images/thumb_&lt;? echo $id ?&gt;.jpg\"/&gt;\n&lt;meta property=\"og:site_name\" content=\"Biz Name\"/&gt;\n&lt;meta property=\"fb:admins\" content=\"\"/&gt;\n&lt;meta property=\"og:description\" content=\"&lt;? echo stripslashes($details) ?&gt;\"/&gt;\n</code></pre>\n"},{"tags":["php","wordpress","e-commerce","woocommerce"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13281619,"title":"WooCommerce, manually add a product and price for purchase","body":"<p>I'm trying to figure out if there's a way to use the WooCommerce Cart and Checkout functionality if I need to purchase something that isn't technically a <code>product</code></p>\n\n<p>In other words, it's a completely independent \"membership\" that needs to be purchased, but isn't a product post.</p>\n\n<p>I'd love to be able to add an item in the cart manually ... manual name, manual price, manual meta data and then purchase.</p>\n\n<p>Does anyone have any idea how to do this?</p>\n"},{"tags":["php","date","yii","format"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13279482,"title":"How do I change the date format? (YII)","body":"<p>I'm using the YII framework... and I am displaying my date using the following code:</p>\n\n<pre><code>&lt;?php echo $classified-&gt;created_date ?&gt;\n</code></pre>\n\n<p>Problem is that it shows it like this:\n2012-11-04 09:34:03</p>\n\n<p>How can I remove the time and just show the date? </p>\n\n<p>And maybe if possible show it like this:\n20 Jan 2012 (with the month shortened)</p>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":5111,"score":0,"question_id":9196247,"title":"Facebook connect \"An error occurred. Please try again later.\"","body":"<p>I have a link on my page and the links has the href set by this <code>$facebook-&gt;getLoginUrl();</code> when I click on the link and go to facebook I get this error: <code>An error occurred. Please try again later.</code> :| ? Any help? Thanks!</p>\n\n<pre><code>&lt;?php\n\nclass iM_Action_Helper_FbData extends Zend_Controller_Action_Helper_Abstract\n{\n    public function direct(array $params = array())\n    {\n        return true;\n    }\n    /*\n    * Connecting to facebook\n    * It connects to facebook, this is used when you need to log a user out,\n    * or if you want to get some data about a user which uses facebook\n    * @return OBJ\n    */\n    public function fbConnect()\n    {\n        $getFB = Zend_Registry::get('FB');\n\n            $facebook = new Facebook(array(\n                'appId'  =&gt; $getFB-&gt;FB-&gt;APPID,\n                'secret' =&gt; $getFB-&gt;FB-&gt;SECRET,\n                'cookie' =&gt; true\n            ));\n\n            return $facebook;\n    }\n    /*\n    *   Checks to see if a user is loggedin\n    *   @param string  $redirect\n    */\n    public function checkIfLogged($redirect = \"/\")\n    {\n      $fbLogin = new Zend_Session_Namespace('fbLogin'); #Get Facebook Session\n      if(!$fbLogin-&gt;user) $this-&gt;getActionController()-&gt;getHelper('redirector')-&gt;gotoUrl($redirect); #Logout the user\n    }\n\n    public function fbLoginUrl()\n    {\n        $facebook = $this-&gt;fbConnect();\n        return $facebook-&gt;getLoginUrl();\n    }\n}\n</code></pre>\n\n<p>What I do in my action controller, I pass this <code>$this-&gt;getHelper('FbData')-&gt;fbLoginUrl();</code> to the view, what this does it return the facebook login url, so when the user clicks on the link, it redirect's it to facebook, and after that I want to be redirected back to my page so I can log the user in, is my whole concept wrong?</p>\n"},{"tags":["php","javascript","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13281562,"title":"Is it possible to transfer javascript value to PHP?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2338942/access-a-javascript-variable-from-php\">Access a JavaScript variable from PHP</a>  </p>\n</blockquote>\n\n\n\n<p>Let's say I have the following javascript:</p>\n\n<pre><code>&lt;script&gt;\n    var today = new Date();\n    var dd = today.getDate();\n    var mm = today.getMonth()+1; //January is 0!\n\n    var yyyy = today.getFullYear();\n    if(dd&lt;10){dd='0'+dd} if(mm&lt;10){mm='0'+mm} today = mm+'/'+dd+'/'+yyyy;\n&lt;/script&gt;\n</code></pre>\n\n<p>Now I want to get the value of today variable into PHP.</p>\n\n<pre><code>$cur_date = '&lt;script type=\"text/javascript\"&gt; document.write(today) &lt;/script&gt;';\n\necho \"current date: $cur_date\";\n\n$checkin = strtotime($cur_date);\n</code></pre>\n\n<p>Although I can output the current date but how can I transfer it to $checkin variable with strtotime function?</p>\n"},{"tags":["php","codeigniter","codeigniter-2","database-abstraction"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13281535,"title":"CodeIgnitor, Stored Procedures & Returning Custom Messages","body":"<p>So, I'm currently trying to get familiar with CodeIgnitor and I'm having trouble trying to wrap my head around how MVC works. Below is code I came up with to call a stored procedure and return a custom message from the stored procedure. For example, 'Student ID Already Exist' is a custom message. So far in CodeIgnitor I was able to create the model, view and controller to insert values into the database via the stored procedure but this was without returning any of the custom messages I created in the stored procedure. So, my questions are how would I convert what I have below into CI and what would I need to add to my current Model and Controller (and View) to return custom messages from the stored procedure.</p>\n\n<hr>\n\n<p>Original PHP Script</p>\n\n<pre><code>$studentID = $_POST['student_id'];\n$fname = $_POST['first_name'];\n$lname = $_POST['last_name'];\n$street = $_POST['street']; \n$city = $_POST['city']; \n$state = $_POST['state'];\n$zipcode = $_POST['zip_code']; \n$email = $_POST['email'];\n$tel = $_POST['telephone']; \n$grad_year = $_POST['graduation_year']; \n$department =$_POST['school_department']; \n$degree = $_POST['degree']; \n\n$stmt = $mysqli-&gt;prepare('CALL sp_add_alumni(?,?,?,?,?,?,?,?,?,?,?)'); \n\n$stmt-&gt;bind_param('issssssssss', $studentID, $fname, $lname, $street, $city,$state, $zipcode, $email, $tel, $degree, $department );\n\n$stmt-&gt;execute();\n$res = $stmt-&gt;get_result();\n$row = $res-&gt;fetch_array(MYSQL_NUM);\nprintf(\"%s\",$row[0]);\n</code></pre>\n\n<hr>\n\n<pre><code>CI Model\nfunction add_alumni($student_id, $first_name,$last_name,$address, $city, $state, $zip_code, $email, $telephone, $degree, $deparment)\n    {\n        $query=$this-&gt;db-&gt;query(\"CALL sp_add_alumni($student_id, '$first_name','$last_name','$address', '$city', '$state', '$zip_code', '$email', '$telephone', '$degree', '$deparment')\");\n        return $query-&gt;result_array();\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>CI Controller \nfunction add_alumni()\n    {\n        if($_POST)\n        {\n            $student_id =$_POST['student_id']; \n            $first_name=$_POST['first_name'];\n            $last_name=$_POST['last_name'];\n            $address=$_POST['street'];\n            $city=$_POST['city'];\n            $state=$_POST['state']; \n            $zip_code=$_POST['zip_code'];\n            $email=$_POST['email'];\n            $telephone=$_POST['telephone'];\n            $degree=$_POST['degree'];\n            $deparment=$_POST['school_department'];\n\n            $this-&gt;admins-&gt;add_alumni($student_id, $first_name,$last_name,$address, $city, $state, $zip_code, $email, $telephone, $degree, $deparment);\n\n        } else {\n            $this-&gt;load-&gt;view('inc/header.inc.php');\n            $this-&gt;load-&gt;view('add_alumni');\n            $this-&gt;load-&gt;view('inc/footer.inc.php');\n        }\n    }\n</code></pre>\n"},{"tags":["php","node.js","hosting","web-hosting","vps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13280897,"title":"Node.js + PHP + MySQL VPS hosting","body":"<p>I have a website that I am building that is coded in PHP and I use MySQL for the database, I am also using node.js for most everything, so my website cannot exist without it for the most part. </p>\n\n<p>I have been with a small company (One that a friend of mine started up) and they have given me cheap VPS hosting, and they even setup everything on the server that I needed done (because I have no clue how to set up a server myself) I currently pay $15 per month for hosting, and would not want to pay anymore than that at this time. (As my website is still in development, so it's just for my own personal usage and sharing among some friends for testing and such). </p>\n\n<p>I need a relatively cheap hosting provider that gives me basically 100% control of the server (as I have many needs that usually are not part of packages), and I would also like to be able to have them (or someone) set up the server for me.</p>\n"},{"tags":["php","mysql","database"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3439,"score":1,"question_id":8015098,"title":"How to check if value already exists in MySQL database","body":"<p>I know this is pretty basic.. but for some reason this is not working for me. I have a form that stores a Facebook user's ID to check if they already submitted the form. I have the form that submits the User ID into the database working perfectly. Its just this part of checking if the User ID value exists in the database that is tripping me up.</p>\n\n<p>Here's my code....</p>\n\n<pre><code>$user_id = 1234567890;\n\n$checkUserID = mysql_query(\"SELECT fbUserID from submissions WHERE fbUserID = '$user_id'\");\n\nif ($checkUserID) {\necho \"GTFO BRO\";\n} \n</code></pre>\n\n<p>Whenever I do an \"echo\" on the $checkUserID variable I get this returned.. \"Resource id #9\"</p>\n"},{"tags":["php","javascript","login"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13281385,"title":"password hashing for login solution with PHP and javaScript","body":"<p>I know that, for security reasons, it is necessary to hash (with salt) the user's password and comparing it to a stored hashed password, so if anybody else gets the hashed string, he will have no way to compute back the password or look it up in a rainbow table.</p>\n\n<p>There is one part of the method that I don't understand. Let's say I have this standard login form</p>\n\n<pre><code>&lt;form method='post' action='login.php'&gt;\n    &lt;input type='text' name='user' /&gt;\n    &lt;input type='password' name='password' /&gt;\n    &lt;input type='submit' name='submit' value='login' /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and then I use PHP for login</p>\n\n<pre><code>&lt;?php\n    if(isset($_POST['submit'])){\n        $username = $_POST['username'];\n        $password = sha1($_POST['password']);\n        $authorize = $login_object-&gt;login($username, $password);\n    }\n?&gt;\n</code></pre>\n\n<p>and, behind the scenes, the <code>$login_object</code> takes care of authenticating with the database and returning true/false. (I made this object up, I have real, useful objects to do this)</p>\n\n<p>but that means the password in the <code>POST request</code> traveled raw, un-hashed and unsafely! Anybody could have intercepted the real password! </p>\n\n<p>So what I am thinking is that I should use javascript to hash the password before it's sent. I would have a hidden field <code>&lt;input type='hidden' name='real_password' value='' /&gt;</code> and have javaScript copy the value of the input named password, hash it, put it in real_password hidden input and blank the password field. This way, the <code>POST request</code> would have the hashed password and not the raw, unsafe, original password.</p>\n\n<p>Am I right with what I'm saying, or should I just do the hashing on php?</p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13281439,"title":"Codeigniter routes and mod rewrite","body":"<p>for some reasons i've been having problems with mod rewrite, i have the index.php removed from the url ok but when i try to do the same for profiles it shows some contact webmaster page.\nNow i'm taking the routes option but i have a little problem.</p>\n\n<pre><code>My url is http://website.com/user/profile/user_profile/username \n</code></pre>\n\n<p>I have this in my routes </p>\n\n<pre><code>$route['profile/(:any)'] = 'user/profile/user_profile';\n</code></pre>\n\n<p>So when i type in website.com/profile/username, it works fine. My question is, what if i want to get rid of the /profile as well and have website.com/username, how do it go about it with routes?</p>\n\n<p>Just incase, i might as well put my trail with modrewrite on here so all you brilliant minds can tell me where i'm going wrong.</p>\n\n<pre><code>Options FollowSymLinks\nRewriteEngine on\n\nRewriteCond $1 !^(index\\.php|images|css|javascript|cron|sit-env|robots\\.txt)\n\nRewriteCond $1 !^(index\\.php|javascript|sit-env|robots\\.txt)\n\nRewriteRule ^(.*)$ /index.php/$1 [L]\n\nRewriteCond $1 !^(index\\.php|images|css|javascript|cron|sit-env|robots\\.txt)\n\nRewriteCond $1 !^(index\\.php|javascript|sit-env|robots\\.txt)\n\nRewriteRule ^([0-9a-zA-Z]+)([\\/]?)$ /user/profile.php/user_profile/$1 [L]\n</code></pre>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["php","isset"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13281269,"title":"PHP - Variable inside a nested if isset doesn't display","body":"<p>I have this two files</p>\n\n<p><em><strong>A.php</em></strong></p>\n\n<pre><code>&lt;?\n\n echo \"\n     &lt;form action = 'B.php' method = 'post'&gt;\n           Age: &lt;input type = 'text' name = 'age'&gt;\n           &lt;input type = 'submit' name = 'send' value = 'send'&gt;\n      &lt;/form&gt;\n \";\n\n?&gt;\n</code></pre>\n\n<p><em><strong>B.php</em></strong></p>\n\n<pre><code>&lt;?\n\n  $age = $_REQUEST ['age'];\n\n  if (isset($_POST['send'])){\n      echo \"Are you sure you wanna send this age?\";\n      echo \"\n             &lt;form action = 'B.php' method = 'post'&gt;\n             &lt;input type = 'submit' name = 'age2' value = 'YES'&gt;\n          \";\n\n                 if (isset($_POST['age2']) &amp;&amp; !isset($_POST['send'])){\n                     echo \"Your final age is\".$age; //It doesn't display!!! :(\n                 }\n            echo \"&lt;/form&gt;\";\n  }\n ?&gt;\n</code></pre>\n\n<p>If I delete the second if isset, $age will be displayed.</p>\n\n<p>If you realize, in the second isset i have two conditions, first one, that YES button must be clicked, second one, send button mustn't be clicked.</p>\n\n<p>I have tried many this and I don't get this :(</p>\n\n<p>P.S. I want to display it in the same page. No other pages.\nIf it's not possible this, then I'll make in other page.</p>\n"},{"tags":["php","xml","google-maps-api-3","infowindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13278368,"title":"google map info window multiple addresses via xml","body":"<p>I'm using the Google map code below to retrieve and plot markers for multiple addresses from an XML file dynamically created with PHP. The code is doing everything I need except for displaying the correct information in the Google map info window for the corresponding marker. I get the information of the last XML item/listing for all the markers.</p>\n\n<p>I've been searching and trying different variations to get it to work, but no luck.</p>\n\n<p>sample XML data</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;listings&gt;\n&lt;listing&gt;\n    &lt;address&gt;123 Street&lt;/address&gt;\n    &lt;city&gt;MANOTICK&lt;/city&gt;\n&lt;/listing&gt;\n&lt;listing&gt;\n    &lt;address&gt;456 Street&lt;/address&gt;\n    &lt;city&gt;MANOTICK&lt;/city&gt;\n&lt;/listing&gt;\n&lt;listing&gt;\n    &lt;address&gt;111 Avenue&lt;/address&gt;\n    &lt;city&gt;MANOTICK&lt;/city&gt;\n&lt;/listing&gt;\n&lt;listing&gt;\n    &lt;address&gt;777 Avenue&lt;/address&gt;\n    &lt;city&gt;Ottawa&lt;/city&gt;\n&lt;/listing&gt;\n&lt;listing&gt;\n    &lt;address&gt;333 Street&lt;/address&gt;\n    &lt;city&gt;Manotick&lt;/city&gt;\n&lt;/listing&gt;\n&lt;/listings&gt;\n</code></pre>\n\n<p>google map code</p>\n\n<pre><code>function initialize ()\n{\n    var myLatLng = new google.maps.LatLng(45.2340684, -75.6287287);\n    var myOptions =\n    {\n        zoom: 10,\n        mapTypeControl: true,\n        center: myLatLng,\n        zoomControl: true,\n        zoomControlOptions:\n        {\n            style: google.maps.ZoomControlStyle.SMALL\n        },\n        StreetViewControl: false,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n    }\n    var map = new google.maps.Map(document.getElementById('google_map'), myOptions);\n    var info_window = new google.maps.InfoWindow;\n    google.maps.event.addListener\n    (map, 'click',\n    function ()\n    {\n        info_window.close();\n    });\n\n\n    downloadUrl\n    ('listings.xml',\n    function (listings_data)\n    {\n        var markers = listings_data.documentElement.getElementsByTagName('listing');\n        var geocoder = new google.maps.Geocoder();\n        for (var i = 0; i &lt; markers.length; i++)\n        {\n            var address = markers[i].getElementsByTagName('address')[0].firstChild.data;\n            var city = markers[i].getElementsByTagName('city')[0].firstChild.data;\n            var address_google_map = address + ', ' + city + ', ON';\n            var info_text = address + '&lt;br /&gt;' + city + ' ON';\n\n            geocoder.geocode\n            ({'address': address_google_map},\n            function (results)\n            {\n                    var marker = new google.maps.Marker\n                    ({\n                        map: map, \n                        position: results[0].geometry.location\n                    });\n                    google.maps.event.addListener\n                    (marker, 'click',\n                    function()\n                    {\n                        info_window.setContent(info_text);\n                        info_window.open(map, marker);\n                    });\n            });\n        }\n    });\n}\n</code></pre>\n"},{"tags":["php","function","preg-replace"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13280934,"title":"Custom markup with preg_replace only limiting to 1","body":"<p><strong>PHP function:</strong>    </p>\n\n<pre><code>function b($text) {    \n  $body=\"&lt;b&gt;$text&lt;/b&gt;\";\n  return $body; \n}\n</code></pre>\n\n<p><strong>Preg_Replace:</strong>    </p>\n\n<pre><code>function replaceTags($body) {    \n  $body = preg_replace('!\\[b](.*?)\\[\\/b\\]!Uei', \"''.b('$1','$2').''\", $body, -1);    \n  return $body; \n}    \n</code></pre>\n\n<p>The code works... to a certain extent. It apparently only limits to the first instance every time. I accidentally broke this when I was copying code, inserted it within each other and it displayed the inner tags in bold.</p>\n\n<p><strong>Example:</strong>    </p>\n\n<pre><code>*Code:* [b]This is Hi.[/b] Hello world. [b]This is Hi2.[/b]    \n*Output:* **This is Hi.[/b] Hello world. [b]This is Hi2.**\n</code></pre>\n\n<p>I'm new to using <strong>preg_replace</strong>. I'm thinking the pattern is slightly off or possibly missing something. Which is why it displays the first instance only. I've also tried this with a MySQL query and that is limited to one row as well.</p>\n\n<p>I'm trying to utilize a simplistic markup for the user end, but I would like to use MySQL queries as a custom tag (again, works, but only displays first record) if need be.</p>\n\n<p>Thanks. Any help or advice is much appreciated.</p>\n"},{"tags":["php","random"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13281184,"title":"Php rand and repeat numbers","body":"<p>I create this php script for generate random numbers but my problem , these numbers repit in many cases and no get different number whitout repit </p>\n\n<pre><code>&gt; &lt;?php\n&gt; \n&gt; $products=array(\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\");\n&gt; \n&gt; for ($i=0;$i&lt;count($products);$i++) {\n&gt; \n&gt; $numbers_[$i]=rand(0,count($products));\n&gt; \n&gt; if ($numbers_[$i]==\"\") { $numbers_[$i]=\"1\"; } else { if\n&gt; ($numbers_[$i]&gt;count($products)) { $numbers_[$i]==\"10\"; } else {\n&gt; \n&gt; if ($numbers_[$i]==$numbers_[$i]) { $numbers_[$i]==\"*\"; }\n&gt; \n&gt; \n&gt; }\n&gt; \n&gt; \n&gt; }\n&gt; \n&gt; \n&gt; print \"\".$products[$numbers_[$i]].\"&lt;br&gt;\";\n&gt; \n&gt; } ?&gt;\n</code></pre>\n\n<p>Always i need get 5 different numbers .....</p>\n\n<p>This my one problem </p>\n\n<p>Thank´s Regards</p>\n"},{"tags":["php","javascript","jquery","html"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13281315,"title":"Issue with ajax update with mysql","body":"<p>I'm building a location finder application for a doctors office. In the app, there is a list of multiple patients waiting to be checked in.</p>\n\n<p>For example, the first patient is Patient X. Here's the step by step process (the easiest way to describe my problem)</p>\n\n<p>1) Next to Patient X's name is a button labeled <strong>Check In</strong>. Upon clicking Check In, the patient id (called selectid) is sent along via Ajax to <strong>changeloc.php</strong> where the time and date of check in are logged. </p>\n\n<p>2) Upon success, the user is then presented with a dropdown (replacing the initial button) with the multiple locations the user could choose. Upon selecting a location from the select, the variable <strong>locationSelect</strong> will be sent to <strong>changeloc.php</strong> where it will be logged.</p>\n\n<p>3) The user then might decide to choose multiple locations, repeating step 2</p>\n\n<p>4) At the end, when the user is done selecting locations, he clicks on the last option in the same select where the user had clicked locations in steps 2 and 3, titled <strong>Check Out</strong>. Upon clicking this, it is sent to <strong>checkloc.php</strong> and logged.</p>\n\n<p>5) Finally, the dropdown dissapears and the words <strong>Checked Out</strong></p>\n\n<p>Here's my code:</p>\n\n<p>PHP</p>\n\n<pre><code>&lt;?php\n\n date_default_timezone_set('America/Denver');\n\n $apptid = $_REQUEST['selectid'];\n $currentlocation = $_REQUEST['locationSelect'];\n $currentlocationstart = date(\"Y-m-d H:i:s\"); \n $checkin = $_REQUEST['checkIn'];\n $checkout = $_REQUEST['checkOut'];\n /*** mysql hostname ***/\n $hostname = 'localhost';\n\n /*** mysql username ***/\n $username = '***********';\n\n /*** mysql password ***/\n $password = '**********';\n\n\n$conn = new PDO(\"mysql:host=$hostname;dbname=sv\", $username, $password);\n    /*** The SQL SELECT statement ***/\n\nif(!empty($currentlocation)){\n   //$sql2 = \"UPDATE history SET \";\n   //$query = $conn-&gt;prepare($sql2);\n   //$query-&gt;execute(array(':apptid'=&gt;$apptid, ':locationstart'=&gt;$locationstart));\n   $sql = \"UPDATE schedule SET currentlocation = ?, currentlocationstart = ? WHERE apptid= ? \";\n   $q = $conn-&gt;prepare($sql);\n   $q-&gt;execute(array($currentlocation,$currentlocationstart, $apptid));\n\n}\n\nif(!empty($checkin)){\n   $sql = \"UPDATE schedule SET currentlocation = ?, currentlocationstart = ? WHERE apptid= ? \";\n   $q = $conn-&gt;prepare($sql);\n   $q-&gt;execute(array($checkin,$currentlocationstart, $apptid));\n   //$sql2 = \"insert into history (apptid, locationstart) VALUES (:apptid,:locationstart)\";\n   //$query = $conn-&gt;prepare($sql2);\n   //$query-&gt;execute(array(':apptid'=&gt;$apptid, ':locationstart'=&gt;$locationstart));\n}\n\nif(!empty($checkout)){\n   $sql = \"UPDATE schedule SET currentlocation = ?, currentlocationstart = ? WHERE apptid= ? \";\n   $q = $conn-&gt;prepare($sql);\n   $q-&gt;execute(array($checkout,$currentlocationstart, $apptid));\n}\n?&gt;\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$('.locationSelect').hide();  // Hide all Selects on screen\n$('.finished').hide();        // Hide all checked Out divs on screen\n\n$('.checkIn').click(function() {\n    var $e = $(this);\n    var data = $e.data(\"param\").split('-')[1] ;\n    // gets the id  of button  (1 for the first button)\n    // You can map this to the corresponding button in database...\n    $.ajax({\n        type: \"POST\",\n        url: \"changeloc.php\",\n        // Data used to set the values in Database\n        data: { \"checkIn\" : $(this).val(), \"buttonId\" : data},\n        success: function() {\n            // Hide the current Button clicked\n            $e.hide();\n            // Get the immediate form for the button\n            // find the select inside it and show...\n            $e.nextAll('form').first().find('.location').show();\n        }\n    });\n});\n\n$('.locationSelect').change(function() {\n    $e = $(this);\n    var data = $e.data(\"param\").split('-')[1] ;\n    // gets the id  of select (1 for the first select)\n    // You can map this to the corresponding select in database...\n    $.ajax({\n        type: \"POST\",\n        url: \"changeloc.php\",\n        data: { \"locationSelect\" : $(this).val(), \"selectid\" : data},\n        success: function() {\n            // Do something here\n        }\n    });\n});\n$('.locationSelect option[value=\"CheckOut\"]').click(function() {\n    var $e = $(this);\n    var data = $e.closest('select').data(\"param\").split('-')[1] ;\n    // gets the id  of select (1 for the first select)\n    // You can map this to the corresponding select in database...\n    // from which checkout was processed\n    $.ajax({\n        type: \"POST\",\n        url: \"changeloc.php\",\n        data: { \"checkOut\" : $(this).val(), \"selectid\" : data},\n        success: function() {\n            // Get the immediate form for the option\n            // find the first finished div sibling of form\n            // and then show it..\n            $e.closest('form').nextAll('.finished').first().show();\n            // Hide the current select in which the option was selected\n            $e.closest('.locationSelect').hide();\n            alert('done');\n        },\n        error: function(request) {\n            alert(request.responseText);\n        }\n    });\n});\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>and the html:</p>\n\n<pre><code>&lt;button class=\"checkIn\" data-param=\"button-1\"&gt;Check In&lt;/button&gt;\n\n   &lt;form method='post' class='myForm' action=''&gt;\n      &lt;select name='locationSelect' class='locationSelect' data-param=\"location-1\"&gt;\n        &lt;option value='1'&gt;Exam Room 1&lt;/option&gt;\n        &lt;option value='2'&gt;Exam Room 2&lt;/option&gt;\n        &lt;option value='3'&gt;Exam Room 3&lt;/option&gt;\n        &lt;option value='4'&gt;Exam Room 4&lt;/option&gt;\n        &lt;option value='CheckOut'&gt;Check Out&lt;/option&gt;\n      &lt;/select&gt;\n    &lt;/form&gt;\n\n&lt;div class='finished' style='color:#ff0000;'&gt;Checked Out&lt;/div&gt;\n</code></pre>\n\n<p>The problem is: </p>\n\n<p>1) When the user clicks the <strong>Check In</strong> button, the button dissapears like it should, but the dropdown doesn't appear (which probably means nothing else will appear after the dropdown) </p>\n\n<p>2) The database isn't being updated with anything.</p>\n\n<p>Thanks for any and all help! Please ask for details if you need any more!</p>\n"},{"tags":["php","php-5.3","semaphore","apc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":8,"score":0,"question_id":13281321,"title":"I'd like to use apc_inc in multi process","body":"<p>Should I code the following ?</p>\n\n<pre><code>&lt;?php\n    sem_acquire($SEM);\n    echo apc_inc('sensitive_count');\n    sem_release($SEM);\n</code></pre>\n\n<p>or shouldn't ?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":27,"score":3,"question_id":13280998,"title":"Finding and Echoing out a Specific ID from HTML document with PHP","body":"<p>I am grabbing the contents from google with PhP, how can I search $page for elements with the id of \"#lga\" and echo out another property? Say #lga is an image, how would I echo out it's source?</p>\n\n<p>No, i'm not going to do this with Google, Google is strictly an example and testing page.</p>\n\n<pre><code>&lt;body&gt;&lt;img id=\"lga\" src=\"snail.png\" /&gt;&lt;/body&gt;\n</code></pre>\n\n<p>I want to find the element named \"lga\" and echo out it's source; so the above code I would want to echo out \"snail.png\".</p>\n\n<p>This is what i'm using and how i'm storing what I found:</p>\n\n<pre><code>&lt;?php\n$url = \"https://www.google.com/\";\n$page = file($url);\n\nforeach($page as $part){\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","sql-server","pdo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":11,"score":-1,"question_id":13281344,"title":"Is it possible to use PDO with the mssql packages on CentOS the same way that Ubuntu allows with php5-sybase?","body":"<p>I'm needing to connect to an MSSQL server with PHP, and I can do this fine with PDO methods in Ubuntu having php5-sybase installed. I haven't attempted this on CentOS yet, but my production environment will be PHP5 on CentOS and I want to know if there will be any extra issues I need to be aware of.</p>\n"},{"tags":["php","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13265571,"title":"Display all images without category in JoomGallery","body":"<p>I am using JoomGallery but  i want to display all images instead of creating categories first and then place images in categories in this way only categories are being displayed on landing page .I want all images to be displayed landing page . I have searched a lot for it </p>\n"},{"tags":["php","jquery","ajax","codeigniter","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13281159,"title":"Why, when uploading files via Ajax, is CodeIgniter throwing a \"no file uploaded\" error?","body":"<p>All I'm trying to do is upload files using ajax to my CodeIgniter based website.  But for some reason CodeIgniter keeps giving the \"no file uploaded\" error. How can I resolve this?</p>\n\n<p>Here is the JavaScript:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction updatebgimage()\n    {   \n        regexp = /^[^[\\]]+/;\n        var imgfile = document.getElementById(\"imagetoresize\"); \n        var fileInputName = regexp.exec( imgfile['name'] ); \n        formdata = new FormData(); \n        formdata.append(\"imagetoresize\",imgfile.files[0]);\n        $.ajax({  \n            url: \"&lt;?php echo site_url('uploadbgimage'); ?&gt;\",  \n            type: \"POST\",  \n            data: formdata,  \n            dataType: \"json\",\n            processData: false,  \n            contentType: false,  \n            success: function (data) {  \n                    alert(data.message); \n            }  \n        });  \n    } \n&lt;/script&gt;\n</code></pre>\n\n<p>Here is the CodeIgniter controller being called:</p>\n\n<pre><code>public function uploadbgimage()\n{\n    $config['upload_path'] = './images/stores/'.$memberid.'/'; \n    $config['file_name'] = 'main_bg_image.jpg'; \n    $config['allowed_types'] = 'jpg|png'; \n    $config['overwrite'] = true;       \n    $this-&gt;load-&gt;library('upload', $config);  \n    $data = array();\n    if (! $this-&gt;upload-&gt;do_upload(\"bgimage\"))\n    {\n        $data['result'] = 'fail';\n    $data['message'] = $this-&gt;upload-&gt;display_errors();  \n    } \n    else \n    {\n         $data['result'] = 'success';\n     $data['message'] = 'file was uploaded fine';  \n    }\n    echo json_encode($data);\n}\n</code></pre>\n\n<p>Here is the HTML:</p>\n\n<pre><code>&lt;form method=\"post\" enctype=\"multipart/form-data\"&gt;\n     &lt;input type=\"file\" id=\"imagetoresize\" name=\"imagetoresize\" value=\"\" class=\"field1\" /&gt; \n     &lt;input type=\"button\" onclick=\"updatebgimage()\" value=\"UploadBGImage\" /&gt; \n&lt;/form&gt;\n</code></pre>\n"},{"tags":["php","javascript","image"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13280707,"title":"Inserting php into js file","body":"<p>I have a loading gif for the gallery on my website. In my js file I have this code to show the loader:</p>\n\n<pre><code>image: $(\"&lt;img src='images/loading.gif'/&gt;\"),\n</code></pre>\n\n<p>Currently this the image isn't appearing because I haven't put the full image path. But instead of putting the full image path, I would prefer to do this:</p>\n\n<pre><code>&lt;img src=\"&lt;?php bloginfo('url');?&gt;/images/loading.gif”&gt;\n</code></pre>\n\n<p>But I can't work out how to make this php work in my js file. How do I go about doing it in the easiest way?</p>\n"},{"tags":["php","unicode","hex","html-entities"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13280200,"title":"convert unicode to html entities hex","body":"<p>How to convert a Unicode string to HTML entities? (<code>HEX</code> not decimal)</p>\n\n<p>For example, convert <code>Français</code> to <code>Fran&amp;#xE7;ais</code>.</p>\n"},{"tags":["php","javascript","timer","redirect","countdown"],"answer_count":3,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":2980,"score":1,"question_id":4575789,"title":"Show Redirecting In.. CountDown Timer PHP","body":"<p>I have this code so far that redirects the user after 5 seconds to the correct URL:</p>\n\n<p><code>&lt;?php \n$url = $_GET['url'];\nheader(\"refresh:5;url=$url\"); \ninclude('ads.php');\n?&gt;</code></p>\n\n<p>Please could you tell me how i could display a countdown timer saying Redirecting In.. with .. being the amount of seconds left. I am new to web development so all code will be helpful!</p>\n\n<p>Thanks in advanced</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":40,"score":1,"question_id":13280262,"title":"How to add more than one new value to array via html form, in PHP?","body":"<p>I want to add new values in php array by html form. I wrote something like following in php:</p>\n\n<pre><code>$b=array();\n$b[]=$_POST['unos'];\n</code></pre>\n\n<p>and something like this in html:</p>\n\n<pre><code>&lt;form action=\"?\" method=\"post\"&gt;\n&lt;input type=\"number\" name=\"unos\"  id=\"unos\"&gt;\n&lt;/form&gt; \n</code></pre>\n\n<p>And that code do the job, but only for one value. In other words, I am asking how to import more than one value in array. I add value=\"3\"\n     <br>\nin html input form, but that does not works, of course, or it is just one part of the answer. How to tell php to allow adding more than one value in array via html form?</p>\n\n<p>UPDATE:</p>\n\n<p>I want to import more values in one input field, that would be separated with \",\" for example, or whatever convention is.</p>\n\n<p>UPDATE:</p>\n\n<pre><code> &lt;?php\n $unos=array();\n $unos[]=$_POST['unos'];\n $rezultat=count($unos); /*number of n's*/\n $zbir=array_sum($unos); /*total sum of n's*/\n $av=$zbir/$rezultat;    /*average value of n's*/\n echo \"average value is $av&lt;/br&gt;\";\n }\n ?&gt;\n &lt;form action=\"?\" method=\"post\"&gt;\n &lt;input type=\"number\" name=\"unos\"  id=\"unos\"&gt;\n &lt;input type=\"submit\" value=\"Submit\"&gt;\n &lt;/form&gt; \n</code></pre>\n\n<p>The code calculate average value of n's. I am beginner and just want to know how to add values of arrays by user via html.The reason I wanted to know how one can do that in 1 input file is because I do not want to limit number of values with number of input fields. I want make that user can add values as many as he want. Sorry, my English is not perfect.</p>\n"},{"tags":["php","swiftmailer"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3736,"score":1,"question_id":2595153,"title":"Swift Mailer Error","body":"<p>Im using the following code to send a message:</p>\n\n<pre><code>try\n{   \n    require_once \"lib/Swift.php\";\n    require_once \"lib/Swift/Connection/SMTP.php\";\n    $smtp =&amp; new Swift_Connection_SMTP(\"mail.somedomain.net\", 587);\n    $smtp-&gt;setUsername(\"username\");\n    $smtp-&gt;setpassword(\"password\");\n    $swift =&amp; new Swift($smtp);\n\n    //Create the sender from the details we've been given\n    $sender =&amp; new Swift_Address($email, $name);\n    $message =&amp; new Swift_Message(\"message title\");\n\n    $message-&gt;attach(new Swift_Message_Part(\"Hello\"));\n\n    //Try sending the email\n    $sent = $swift-&gt;send($message, \"$myEmail\", $sender);\n    //Disconnect from SMTP, we're done\n    $swift-&gt;disconnect();\n\n    if($sent)\n    {\n        print 'sent';\n\n    }\n    else \n    {\n        print 'not sent';\n    }\n\n}\n\ncatch (Exception $e) \n{\n    echo\"$e\";\n}\n</code></pre>\n\n<p>The issue is that it is working fine on my local server (which my xampp server) but not working when the file is uploaded on the real server.</p>\n\n<p>It throwing this error: </p>\n\n<pre><code>'The SMTP connection failed to start [mail.somedomain.net:587]: fsockopen returned Error Number 110 and Error String 'Connection timed out''\n</code></pre>\n\n<p>Please what should I do to correct this error. Thanks for reading </p>\n"},{"tags":["php","install"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":8,"score":-1,"question_id":13281145,"title":"please help for installing of Ushahidi","body":"<p>I got the following errors when install Ushahidi, I'll appreciate if you could help me, thanks! \nWarning: require(/core/Bootstrap.php) [function.require]: failed to open stream: No such file or directory in C:\\AppServ\\www\\ushahidi\\index.php on line 174\nFatal error: require() [function.require]: Failed opening required '/core/Bootstrap.php' (include_path='.;C:\\php5\\pear') in C:\\AppServ\\www\\ushahidi\\index.php on line 174</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13280711,"title":"How to set a value of input type after it was created","body":"<p>I have a basic question which I cant find an answer to.</p>\n\n<p>i have an input text\n</p>\n\n<p>I want to change the value by1 every time i click the button.\n</p>\n\n<p>so, when I make a new soldier, i want it to be shown in the soldiers count.</p>\n\n<p>I started programming in PhP recently.</p>\n\n<p>In Java, command Im looking for would be some setText or something like that.</p>\n"},{"tags":["php","floating-point"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":59,"score":3,"question_id":13279919,"title":"PHP anomaly/ weird behaviour","body":"<p>When I run:</p>\n\n<p><code>for($o=1;$o&lt;=655;$o++){\n$r = $r+0.01;\n   echo $r.\" \";}</code></p>\n\n<p>at some point I get:</p>\n\n<pre><code>...4.29 4.3 4.31 4.32 4.33 4.34 4.35 4.36 4.37 4.38 4.39 4.4\n4.41 4.42 4.4299999999999 4.4399999999999 4.4499999999999\n4.4599999999999 4.4699999999999 ...\n</code></pre>\n\n<p>But when I run:</p>\n\n<p><code>for($o=1;$o&lt;=5;$o+=0.01){\necho $o.\" \";\n}</code></p>\n\n<p>anomaly starts at:</p>\n\n<pre><code>4.34 4.35 4.36 4.37 4.38 4.3899999999999 4.3999999999999\n</code></pre>\n\n<p>Why is there a difference between the addition being part of the for loop, or within the for loop?</p>\n"},{"tags":["php","mysql","arrays","explode"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":327,"score":0,"question_id":6645523,"title":"Exploding String Then Fetching from Database","body":"<p>I have an array that has userid's. I want to explode that array and fetch everything from the database by that userid. It fetches only 1 entry by each user, rather than every entry from that user. Am I missing something? Thank you!</p>\n\n<hr>\n\n<p>Edit: Sorry for being so sparse, it's been a long night of frustration, i'll elaborate.</p>\n\n<pre><code>if ( $follower_array != \"\" ) {\n\n  $followArray = explode(\",\", $follower_array);\n  $followCount = count($followArray);   \n  $i = 0;\n  $display .= \"&lt;table&gt;\";\n\n  foreach( $followArray as $key =&gt; $value ) {\n\n    $i++;\n    $sql = mysql_query(\"\n        SELECT * \n          FROM database \n         WHERE mem_id='$value' \n      ORDER BY bc_date ASC \n         LIMIT 50\n    \") or die (\"error!\");\n\n    while ( $row = mysql_fetch_assoc($sql) ) {\n      $mem_id  = $row['mem_id'];\n      $content = $row['content'];\n\n      $display .= \"&lt;td&gt;' .$content. '&lt;/td&gt;&lt;/tr&gt;\";\n    }\n    display .= \"&lt;/table&gt;\";\n}\n</code></pre>\n\n<p>The Database tables are as follows:</p>\n\n<pre><code>members|content\n---------------\n            id |id\nfollower_array |mem_id\n               |content\n</code></pre>\n\n<p>follwer array looks like \"4,5,6,7\" etc.</p>\n\n<p>I have four member id's set in the dummy data. It retrieves those in $followArray</p>\n\n<p>The output is </p>\n\n<ul>\n<li>mem_id:1 - content</li>\n<li>mem_id:2 - content</li>\n<li>mem_id:3 - content</li>\n<li>mem_id:4 - content</li>\n</ul>\n\n<p>but then stops. It only retrieves one content per member when there are more for each user. Thanks I hope I cleared that up.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":23,"score":1,"question_id":13280901,"title":"How to display data from two data table in one table","body":"<p>I have two tables, <code>image</code> and <code>video</code>. I want to display all data from image and video in one table. I know how to display all data from video but how to display all data from image also in same table. There is table where I display all data from video but can someone please tell me how to display all data from images in same table when displaying data from video is finished.</p>\n\n<pre><code>&lt;table width=\"879\" border=\"2\" cellpadding=\"3\" cellspacing=\"1\"&gt;\n  &lt;tr&gt;\n    &lt;td colspan=\"11\" align=\"center\" &gt;&lt;strong&gt;All uploaded videos&lt;/strong&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td width=\"51\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Id&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"95\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Video&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"83\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Name&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"130\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Date&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"177\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"101\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Price&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"174\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Added by&lt;/strong&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n\n  &lt;?php $path= \"videoFile/\";\n    while($rows=mysql_fetch_array($result1)){\n  ?&gt;\n\n  &lt;tr&gt;  \n    &lt;td&gt;\n      &lt;?php if ( current_user_can( 'manage_options' ) ) { echo $rows['vid'];}else { echo \"For admins only!\"; }  ?&gt;\n    &lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"&lt;?php echo $path.$rows['filename'] ?&gt;\"&gt;View video&lt;/a&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $rows['alttext']; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $rows['imagedate']; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $rows['description']; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo \"$\".$rows['price']; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $rows['user_nicename']; ?&gt;&lt;/td&gt;    \n  &lt;/tr&gt;\n\n  &lt;?php\n    }\n  ?&gt;    \n&lt;/table&gt;\n</code></pre>\n"},{"tags":["php","sorting","encoding","collation","intl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13280438,"title":"I've got the 'intl' extension, but still cannot sort properly an array in spanish","body":"<p>yet again I'm posting a question about sorting in utf8 encoding. I've got some results from a database query that I'm trying to merge and then sort alphabetically. I installed the intl extension on my php ini and defined a new Collator. The function collator_asort works already, but it doesn't sort the records properly yet. I've read the posts about this same problem <a href=\"http://stackoverflow.com/questions/120334/how-to-sort-an-array-of-utf-8-strings\">in this site</a>, and also <a href=\"http://stackoverflow.com/questions/832709/natural-sorting-algorithm-in-php-with-support-for-unicode\">here (still in this site)</a>. I'm doing this on Windows x64 machine, so I think that should be a problem, according to the first post. However, some answers point that the encoding of the string passed to setlocale should be in utf8, and also that the character code should be appropiate to the OS.\nI'm currently using <code>$colar=setlocale(LC_COLLATE, 'esm');\n$COLAR=setlocale(LC_CTYPE, 'esm');</code> which is how spanish for Mexico is defined in the Microsoft site <a href=\"http://msdn.microsoft.com/en-us/library/39cwe7zf%28v=vs.90%29.aspx\" rel=\"nofollow\">here</a>.\nAnd the code to sort the array is like so: <code>$consulta_gral=array_merge($consulta_1, $consulta_2, $consulta_3);\nforeach($consulta_gral as $consulta_todos){\ncollator_asort($coll, $consulta_gral, SORT_STRING); \n};</code></p>\n\n<p>I wonder if someone can point out where should I find the appropiate character code for windows, specially as I'm looking for a simple solution which I think may be the configuration of the collator. I realize this may be a hard issue, but as some answers on the second post I mention, the solution should be in the intl extension of php. ¡At least I hope so! Thus: </p>\n\n<blockquote>\n  <p>Even better:</p>\n</blockquote>\n\n<pre><code>   if (extension_loaded('intl') === true)\n    {\n        collator_asort(collator_create('root'), $array);\n    }\n</code></pre>\n\n<p>As is pointed by @Alix Axel. \nCurrently the output I get is this: </p>\n\n<pre>\n\n    array(9) {\n      [6]=>\n      array(4) {\n        [0]=>\n        string(21) \"Añorve Baños Manuel\"\n        [1]=>\n        string(22) \"semestral / trimestral\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [7]=>\n      array(4) {\n        [0]=>\n        string(21) \"Añorve Baños Manuel\"\n        [1]=>\n        string(22) \"semestral / trimestral\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [8]=>\n      array(4) {\n        [0]=>\n        string(25) \"Bernal Calderón Gabriela\"\n        [1]=>\n        string(7) \"mensual\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [5]=>\n      array(4) {\n        [0]=>\n        string(25) \"Travel Ex, S. A. de C. V.\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [4]=>\n      array(4) {\n        [0]=>\n        string(34) \"Méndez y Flores Ruvalcaba Eduardo\"\n        [1]=>\n        string(7) \"mensual\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [1]=>\n      array(4) {\n        [0]=>\n        string(20) \"Frías Sainz Gonzalo\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n      [2]=>\n      array(4) {\n        [0]=>\n        string(20) \"Frías Sainz Gonzalo\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n      [3]=>\n      array(4) {\n        [0]=>\n        string(36) \"Hernández Hernández Flavio Gabriel\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [0]=>\n      array(4) {\n        [0]=>\n        string(25) \"Álvarez Gómez Francisco\"\n        [1]=>\n        string(10) \"trimestral\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n    }\n\n</pre>\n\n<p>which is obviously wrong even in english.\nI also have the following settings in setlocale: Spanish_Mexico.1252 (the latter being the character code page, which I wonder if is right for what I'm trying to do).\nThanks!</p>\n\n<p>I wish to add that what I'm trying to find is a simple way to effectively order alphabetically the array, the way this strings are treated in Mexico. I don't mean that there's something wrong with the way sort, asort or else work. In fact, if I simply do <code>collator_asort($coll, $consulta_gral, SORT_REGULAR)</code> I almost get a valid output. But I think if I'm using SORT_REGULAR theres no point in making an instance of the collator anyway. The output is like so in this last case: </p>\n\n<pre>\n\n    array(9) {\n      [6]=>\n      array(4) {\n        [0]=>\n        string(21) \"Añorve Baños Manuel\"\n        [1]=>\n        string(22) \"semestral / trimestral\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [7]=>\n      array(4) {\n        [0]=>\n        string(21) \"Añorve Baños Manuel\"\n        [1]=>\n        string(22) \"semestral / trimestral\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [8]=>\n      array(4) {\n        [0]=>\n        string(25) \"Bernal Calderón Gabriela\"\n        [1]=>\n        string(7) \"mensual\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [2]=>\n      array(4) {\n        [0]=>\n        string(20) \"Frías Sainz Gonzalo\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n      [1]=>\n      array(4) {\n        [0]=>\n        string(20) \"Frías Sainz Gonzalo\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n      [3]=>\n      array(4) {\n        [0]=>\n        string(36) \"Hernández Hernández Flavio Gabriel\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [4]=>\n      array(4) {\n        [0]=>\n        string(34) \"Méndez y Flores Ruvalcaba Eduardo\"\n        [1]=>\n        string(7) \"mensual\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [5]=>\n      array(4) {\n        [0]=>\n        string(25) \"Travel Ex, S. A. de C. V.\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [0]=>\n      array(4) {\n        [0]=>\n        string(25) \"Álvarez Gómez Francisco\"\n        [1]=>\n        string(10) \"trimestral\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n    }\n\n</pre>\n\n<p>Which should be fine except that I want all characters that include an 'A' or 'a' to appear first, regardless of them being accented or not. \nBy the way, I'm using utf8 encoding everywhere, in the header which is text/plain here, and in the database, and I understand PHP treats the output as utf8 encoded by default anyway.\nIt would be very nice, however, to know about how can the problem be overcome, especially since the sort function using the collator seems to output a very strange output.</p>\n\n<p>Also, I realize I could do this by simply querying an appropiate SQL statement that queryied fields from all the tables I need. (I'm getting results from various tables, that's why I merge the arrays later). But I would like to know how can this be done in PHP.</p>\n"},{"tags":["php","variables","loops","foreach"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13280951,"title":"PHP syntax that will set a variable within a foreach loop using an array of variable names","body":"<p>I am trying to define a set of variables by setting them from SESSION and POST variables of the same name. (I.e. I want to transfer $_SESSION['a'] to $a.</p>\n\n<p>I am trying to use an array of variables names (a, b, c) to define such a set using a foreach loop, but am having when trying to define them I end up with syntax like $$variable within the loop, which does not work. I've tried single and double quotes around the $variable, but no joy    </p>\n\n<pre><code>$data = array (\n        'a',\n        'b',\n        'c',\n              );\n\nforeach($data as $variable)\n {\n   if (isset($_POST['$variable'])) $_SESSION['$variable']=$_POST['$variable'];\n   if (isset($_SESSION['$variable'])) {$$variable=$_SESSION['$variable'];} else {$$variable=\"\";}\n }\n</code></pre>\n\n<p>Any help greatly appreciated.</p>\n\n<p>I'm trying end up with many instances of something like:</p>\n\n<pre><code> if (isset($_POST['$a'])) $_SESSION['$a']=$_POST['$a'];\n if (isset($_SESSION['$a'])) {$a=$_SESSION['$a'];} else {$a=\"\";}\n</code></pre>\n"},{"tags":["php","mysql","security"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13279578,"title":"Confused on htmlspecialchars, real_escape_string, etc","body":"<p>I've written a decent admin interface that includes inventory management, content management, and blogging. Now its time to lock it down and make it secure (Yes, I should have been doing it from the beginning...</p>\n\n<p>For blog creation/editing, I'm using ckeditor which posts HTML output to editblog.php. Also i'm using simple text inputs for Title, Author, etc...</p>\n\n<p>I'm concerned because the blog will have img src=\"uploads/etc.jpg\", as well as divs, spans, etc...</p>\n\n<p>SO! When I sanitize this data, how do I make sure that all those quotes and slashes can be safely shoved into my SQL database, and what do i do to spit it back out on the frontend? I'm also concerned because if the blogger \"quotes\" something, I don't want that to be messed with either.</p>\n\n<p>Simple input like title, author, etc I'm using $title = mysqli_real_escape_string($title)\nBut is that enough? How do I preserve the user's intended input while avoiding attack?</p>\n\n<p>I've done my research and yet I still don't get it. I hope someone can break it down nice and simple for me...</p>\n"},{"tags":["php","ftp","vps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13280992,"title":"Uploading files to a storage server from a web app","body":"<p>I have a webapp where by people are allowed to upload files, the webapp and upload form run on VPS1(24GB) I have another server called VPS2(1TB). I want user to use the webapp to upload files and for the files to be stored on the VPS2. How ever I'm not sure the best way to do this, would I upload the file to VPS1 and then transfer it to VPS2 via FTP(or other methods)? Or should I upload it directly to VPS2 using a post method on a webserver running on VPS2? This has to be scalable, I will be adding more webservers in the future.</p>\n\n<p>I had thoughts about putting all the storage VPS servers in an array in PHP an array and randomly selecting which one to post files to. But I'm not sure, really lost and would like some advanced help.</p>\n"},{"tags":["php","sql","flex","mobile-application"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":33,"score":-3,"question_id":13280729,"title":"Need various help building a flex mobile application that connects to a database","body":"<p>Need various help building a flex mobile application that connects to a database.  </p>\n\n<p>I know that I can ask my questions here, but the thing is I have a deadline ( :( ) and some of my questions are not being answered... don't get me wrong I DO appreciate your help and I know I should do  a lot myself. is there a place where I can ask for help from someone... for a small amount of money (I wish I was rich but I am not)</p>\n"},{"tags":["php","file","shell","redirect","shell-exec"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13280933,"title":"File redirect from shell_exec in PHP","body":"<p>Is there some secret to getting file redirection to work in shell_exec in PHP or is that a known limitation? I'm working on a program that converts a series of RTF files to PDFs and running system commands from within the PHP script like the following:</p>\n\n<pre><code>/usr/sbin/cupsfilter /Users/rick/htdocs/routes/temp/0103019.rtf -m application/pdf -o landscape -o page-left=0 -o page-right=0 &gt; /Users/rick/htdocs/routes/temp/0103019.pdf\n</code></pre>\n\n<p>The PDF files get created but they're all zero-length files. If I run the command in the terminal, the PDF gets created as expected, but if it's done via shell_exec, it's an empty file. At this point, the only thing I can figure is that > doesn't work in shell_exec or this is some bug with cupsfilter. </p>\n"},{"tags":["php","sockets","tcp","titanium","bind"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13280917,"title":"Titanium - Create a TCP client for chat application","body":"<p>I have created PHP back-end socket web application which binds some methods as:</p>\n\n<pre><code>...\nfunction wsOnOpen($clientID)\n{\n    // some code\n}\nfunction wsOnClose($clientID, $status) {\n    // some code\n}\nfunction wsOnMessage($clientID, $message, $messageLength, $binary) {\n    // some code\n}\n$Server = new PHPWebSocket();\n$Server-&gt;bind('message', 'wsOnMessage');\n$Server-&gt;bind('open', 'wsOnOpen');\n$Server-&gt;bind('close', 'wsOnClose');\n// for other computers to connect, you will probably need to change this to your LAN IP or external IP,\n// alternatively use: gethostbyaddr(gethostbyname($_SERVER['SERVER_NAME']))\n$Server-&gt;wsStartServer('192.168.1.4', 5000);\n</code></pre>\n\n<p>Now, my question is how can I bind <code>message</code>, <code>open</code> and <code>close</code> in TCP client in my titanium application</p>\n\n<blockquote>\n  <p><strong>Purpose of application : real-time chatting by using PHP back-end</strong></p>\n</blockquote>\n\n<p>Any help will be highly appreciable!</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","obfuscation"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":214,"score":0,"question_id":9512672,"title":"Any experience with PHP obfuscator on pipsomania.com","body":"<p>I'm looking for any php obfuscator solution, I found one\n<a href=\"http://www.pipsomania.com/best_php_obfuscator.do\" rel=\"nofollow\">http://www.pipsomania.com/best_php_obfuscator.do</a>\nbut I need to send our code to their service.</p>\n\n<p>Have you anyone any experience with this service? I'm little bit worried :-)</p>\n\n<p>PS. Our goal is to protect a code from easy observation and we don't want to install any php extension on every server where we sold our product. So I thing products like Zend Guard are out of the game.</p>\n\n<p>Thanks a lot,\nJaro.</p>\n"},{"tags":["php","csv"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1368,"score":4,"question_id":10498632,"title":"Converting HTML Table to a CSV automatically using PHP?","body":"<p>I am just in need to convert a this html table automatically in csv using PHP.\nCan someone provide any idea how to do this?\nThanks.</p>\n\n<pre><code>$table = '&lt;table border=\"1\"&gt;\n&lt;tr&gt;\n&lt;th&gt;Header 1&lt;/th&gt;\n&lt;th&gt;Header 2&lt;/th&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;row 1, cell 1&lt;/td&gt;\n&lt;td&gt;row 1, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;row 2, cell 1&lt;/td&gt;\n&lt;td&gt;row 2, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;';\n</code></pre>\n\n<p>Guys, I just need <strong>$table</strong> to convert in only <strong>.csv</strong> file, which could be automatically generated using some PHP function. We can define path for that csv file to <strong>/test/home/path_to_csv</strong></p>\n"},{"tags":["php","arrays"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13280738,"title":"Creating a dynamic PHP array","body":"<p>I am new PHP question and I am trying to create an array from the following string of data I have.  I haven't been able to get anything to work yet.  Does anyone have any suggestions?</p>\n\n<p>my string:</p>\n\n<pre><code>Acct_Status=active,signup_date=2010-12-27,acct_type=GOLD,profile_range=31-35\n</code></pre>\n\n<p>I want to dynamically create an array called \"My_Data\" and have id display something like my following, keeping in mind that my array could return more or less data at different times.</p>\n\n<pre><code>My_Data\n(\n    [Acct_Status] =&gt; active\n    [signup_date] =&gt; 2010-12-27\n    [acct_type] =&gt; GOLD\n    [profile_range] =&gt; 31-35\n)\n</code></pre>\n\n<p>First time working with PHP, would anyone have any suggestions on what I need to do or have a simple solution?  I have tried using an explode, doing a for each loop, but either I am way off on the way that I need to do it or I am missing something.  I am getting something more along the lines of the below result.</p>\n\n<pre><code>Array ( [0] =&gt; Acct_Status=active [1] =&gt; signup_date=2010-12-27 [2] =&gt; acct_type=GOLD [3] =&gt; profile_range=31-35} ) \n</code></pre>\n"},{"tags":["php","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13280720,"title":"Handle a associative array passed from PHP in Java","body":"<p>Hi I am trying to send an associative array to a JSP servlet in a POST request. How do I handle that array in the servlet. Can I even do it? I just want to convert that assoc array in to a hashset/table in  JSP.</p>\n"},{"tags":["php","sql-server","sql-server-2008","doctrine2","freetds"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13280717,"title":"SELECT problems with Doctrine and MS SQL 2008","body":"<p>We have written an application using Doctrine2, which works great when used with a MySQL or Postgres database.</p>\n\n<p>We now connected the application with a SQL Server 2008 database using <a href=\"http://de3.php.net/manual/en/ref.pdo-dblib.php\" rel=\"nofollow\">PDO Driver DBLib</a> which uses the <code>FreeTDS</code> implementation for the Tabular DataStream protocol, which is shared by SQL Server and Sybase.</p>\n\n<p>The initial schema creation, transactions and <code>INSERT</code>s into the tables work fine .. after some tweaking of the Doctrine <code>SQLServerPlatform</code> and our MSSQL Driver package. </p>\n\n<p>But when selecting data, we face the following error:</p>\n\n<pre><code>General error: 20019 Attempt to initiate a new Adaptive Server operation with results pending\n</code></pre>\n\n<p>After plenty of googling I found <a href=\"http://www.freetds.org/faq.html#pending\" rel=\"nofollow\">this detail in the FAQ of FreeTDS</a>:</p>\n\n<blockquote>\n  <p>If you are accustomed to programming with other database servers, you may be surprised when you first encounter this aspect of the TDS protocol.  [...]<br><br>The server requires the client either to read all the results from a query, or to indicate that no further rows are desired i.e., to issue a cancellation. Until one of those two things happens, the server will not accept new queries on that connection. It will complain about \"pending results\".</p>\n</blockquote>\n\n<p>So the cause for the error message is that for some reason, Doctrine (DBAL->PDO->FreeTDS) did not read all the result rows from the connection buffer, and the server / library doesn't allow the application to issue a new <code>exec()</code>/<code>execute()</code> until all rows are read.</p>\n\n<ul>\n<li>Is my understanding right that <code>$doctrinequery-&gt;getResults()</code> fetches all results before it returns?</li>\n<li>Is my understanding right that <code>$entity-&gt;getLinkedEntity()</code> (i.e. <code>$user-&gt;getGroupNames()</code>) fetches all results before it returns?</li>\n<li>How would you tackle down where exactly the problem is? <br>The stacktraces are not helping me and the codebase is already grown.</li>\n<li>Did anybody else already have this problem and can share some insights?</li>\n<li>Is there an alternative we can use to connect Doctrine to MSSQL which does not suffer this problem?</li>\n</ul>\n"},{"tags":["php","mysql","csv"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13280193,"title":"Import and Update CSV to MySQL","body":"<p>I have a scenario where the client has daily updates / inserts from a CSV file which is generally around 30,000 to 50,000 rows. This CSV will contain both new imports as well as need the ability to update existing rows.</p>\n\n<p>I am using PHP / MySQL.</p>\n\n<p>Currently I am having to check each row of the CSV and compare with what is in the database.</p>\n\n<p>This is obviously taking a really long time.</p>\n\n<p>If there is nothing in the database it does a straight import which is fast in itself.</p>\n\n<p>I have thought about the temp table and join, but did not know how that would work with the new rows compared to the update.</p>\n"},{"tags":["php","javascript","facebook-like","facebook-apps","facebook-page"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13280578,"title":"Check if user like a page without creating facebook app","body":"<p>I have to check in my script if a user like a facebook page.</p>\n\n<p>I would realize it without Facebook app. I would not create it.</p>\n\n<p>I founded some examples, but they require a Facebook app, and that user gives it the correct permission.</p>\n\n<p>Can you help me? Is it possible?</p>\n\n<p>Thanks for any suggestion.</p>\n"},{"tags":["php","session","authentication","symfony2","fosuserbundle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":19,"score":-1,"question_id":13280516,"title":"symfony2 login not working FOSUSerBundle","body":"<p>Help! I don't know why, but recently I can no longer log into my Symfony2 website. When I try to login, I simply get redirected back to the login page with no error, and no indication of what is wrong. I've cleared my apc cache, my prod and dev caches, and I've been able to reproduce the error in both dev and prod. I've set g+wrx and u+rwx recursively. </p>\n\n<p>How do I debug a login page when no exception is being thrown? The error occurs in multiple browsers on multiple machines.</p>\n"},{"tags":["php","jquery","html","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13280053,"title":"Not Getting Expected Response When Using Ajax With JSONP","body":"<p>I am experimenting with jsonp.</p>\n\n<p>Currently I have an html page with ajax on it listed below, which contains a drop box form, along with a table. Only the headers are there initially and it depends on ajax getting a jsonp response in order to populate the other cells.</p>\n\n<p>I then have my response php also hosted, and I thought everything was correct, but obviously not. </p>\n\n<p>All my id's appear to be correct unless I\"ve overlooked one, so I really do not understand why all I\"m getting is the error response from the jsonp page.</p>\n\n<p>html page: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n        &lt;title&gt;Car Queries&lt;/title&gt;\n        &lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function()\n        {\n                $(\"#submitbutton\").click(function()\n                {\n                        $.ajax(\n                        {\n                                url: \"https://example.com/jsonServer.php\",\n                                type: \"GET\",\n                                dataType: \"jsonp\",\n                                jsonp: \"callback\",\n                                data: { car: $(\"#carselection\").val()},\n                                success: function(data)\n                                {\n                                        if(data.name == \"error\")\n                                        {\n                                                $(\"#outputcarname\").text(\"There is no such car available\"),\n                                                $(\"#price\").text(\" \"),\n                                                $(\"#mpg\").text(\" \");\n                                        }\n                                        else\n                                        {\n                                                $(\"#outputcarname\").text(\"data.name\"),\n                                                $(\"#price\").text(\"data.price\"),\n                                                $(\"#mpg\").text(\"data.mpg \");\n                                        }\n                                },\n                                error: function()\n                                {\n                                        $(\"#outputcarname\").text(\"There is a problem with the server\"),\n                                        $(\"#price\").text(\" \"),\n                                        $(\"#mpg\").text(\" \");\n                                }\n                        });\n                return false;\n                });\n        });\n        &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n        &lt;h1&gt;Cars Cars Cars!&lt;/h1&gt;\n        &lt;form action=\"\" method=\"POST\"&gt;\n\n        &lt;select id=\"carselection\"&gt;\n                &lt;option selected=\"selected\"&gt;Pick a Car&lt;/option&gt;\n                &lt;option value=\"Maxima\"&gt;Maxima&lt;/option&gt;\n                &lt;option value=\"Element\"&gt;Element&lt;/option&gt;\n                &lt;option value=\"Prius\"&gt;Prius&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;/br&gt;&lt;/br&gt;\n        &lt;input type=\"submit\" id=\"submitbutton\" value=\"Submit\"&gt;\n        &lt;/form&gt;\n        &lt;/br&gt;\n        &lt;center&gt;&lt;table&gt;\n                &lt;tr&gt;\n                        &lt;th&gt;Car Name&lt;/th&gt;\n                        &lt;th&gt;Price&lt;/th&gt;\n                        &lt;th&gt;MPG&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td id=\"outputcarname\"&gt;&lt;/td&gt;\n                        &lt;td id=\"price\"&gt;&lt;/td&gt;\n                        &lt;td id=\"mpg\"&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;/table&gt;&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Response JSONP/PHP:</p>\n\n<pre><code>&lt;?php\n\n$cars = array('Maxima' =&gt; array('price' =&gt; '$32,780', 'mpg' =&gt; '24'),\n              'Prius' =&gt; array('price' =&gt; '$25,565', 'mpg' =&gt; '49'),\n              'Element' =&gt; array('price' =&gt; '$22,075', 'mpg' =&gt; '22'));\n\nif(array_key_exists($_GET['carselection'], $cars))\n{\n        $carname = $_GET['carselection'];\n        $results = array('name' =&gt; $carname, 'price' =&gt; $cars[$carname]['price'], 'mpg' =&gt; $cars[$carname]['mpg']);\n}\nelse\n{\n        $results = array('name' =&gt; 'error');\n}\n\n$callback = htmlentities($_GET['callback'], ENT_QUOTES);\nprint $callback . '(' . json_encode($results) . ')';\n?&gt;\n</code></pre>\n"},{"tags":["php","split"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13280524,"title":"Split replacement Syntax","body":"<p>What would be the command/syntax for replacing the depreciated split in the following syntax: </p>\n\n<pre><code>  $frags = split(\"\\/\", $the_image_src);\n</code></pre>\n"},{"tags":["php","dom"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13279875,"title":"PHP Simple HTML DOM - stepping through a page","body":"<p>I have been using the simple HTML DOM for some time, and have been loving what I can do with it. However I have run into a brick wall with something I would like to do.  First to give a basic idea of what the html looks like </p>\n\n<pre><code>&lt;html&gt;\n&lt;div&gt;&lt;div&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=\"alt2\"&gt; texty texty &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;\nText text\n&lt;div&gt;&lt;div&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=\"alt2\"&gt; texty2 texty2 &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;\nText2 text2\n&lt;div&gt;&lt;div&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=\"alt2\"&gt; texty3 texty3 &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;\nText2 text3\n&lt;/html&gt;\n</code></pre>\n\n<p>so basicly I need to take whats in the TD's bold that, and then place whats under each of this div under that.</p>\n\n<p>so I know i can just do  $text = $html->find('td[class=alt2]') for example to get the to get \"texty texty\" but how to I associate \"text text\" with that after, </p>\n\n<p>If I grab texty2 texty2, how do I associate text2 text 2 with that?</p>\n\n<hr>\n\n<p>in the end, the output I was aiming for was <code>&lt;p&gt;texty texty&lt;/p&gt;&lt;br&gt;text text</code>  kind of thing </p>\n\n<p>I should point out that the divs can have differnt classes and such, so simple reg expressions wouldnt work (and would like to stick with simple html dom if possible)</p>\n\n<p>--</p>\n\n<p>UPDATE:</p>\n\n<p>I have made this little bit of code</p>\n\n<pre><code>if ($html) {\n\n\n// Pulls the div that holds the links to the champion profiles (where they have the english names)\n$text = $html-&gt;find('td[class=\"alt2\"]');\n$count = 0;\nforeach ($text as $holder) {\n\n    $tdholder[] = $holder-&gt;innertext;\n    $html-&gt;find('div',$count*2)-&gt;innertext = $holder-&gt;innertext;\n    echo $holder.\"&lt;br&gt;&lt;br&gt;\";\n    $count++;\n}\n}\n</code></pre>\n\n<p>the only issue with this code, is it counts by the total number of divs. this is okay in my exmaple, as there are always 2. but if there are 2 or three, this makes an issue.  So now I just need to figure out how to grab just the first, or the second, or the third top level divs and I should be good.</p>\n"},{"tags":["php","push-notification","windows-phone","windows-phone-8","live-tile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13267261,"title":"Iconic LiveTile push notification via php results in PayloadFormatError","body":"<p>Final <strong>EDIT</strong> working code (Huge thanks to Claus for taking time and solving it):</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>class WindowsPhonePushDelay\n{\n    const Immediate=0;\n    const In450Sec=10;\n    const In900Sec=20;\n}\n\nclass WindowsPhonePushNotification\n{\n    private $notif_url = '';\n\n    function WindowsPhonePushNotification($notif_url)\n    {\n        $this-&gt;notif_url = $notif_url;\n    }\n\n    public function send_raw($msg,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)\n    {\n        return $this-&gt;send_push(NULL,$delay+3,$message_id, $msg);\n    }\n\n    public function send_normal_tile($image_url, $title, $count,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)\n    {\n        $msg =  \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;\" .\n                \"&lt;wp:Notification xmlns:wp=\\\"WPNotification\\\"&gt;\" .\n                \"&lt;wp:Tile&gt;\" .\n                \"&lt;wp:BackgroundImage&gt;$image_url&lt;/wp:BackgroundImage&gt;\" .\n                \"&lt;wp:Count&gt;$count&lt;/wp:Count&gt;\" .\n                \"&lt;wp:Title&gt;$title&lt;/wp:Title&gt;\" .\n                \"&lt;/wp:Tile&gt;\" .\n                \"&lt;/wp:Notification&gt;\";\n                return $this-&gt;send_push('token',$delay+1, $message_id,$msg);\n    }\n       public function send_iconic_tile($image_url_large, $image_url_small, $wide1, $wide2, $wide3, $title, $count,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)\n    {\n        $msg =  \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;\" .\n                \"&lt;wp:Notification xmlns:wp=\\\"WPNotification\\\" Version=\\\"2.0\\\"&gt;\" .\n                \"&lt;wp:Tile Id=\\\"\\\" Template=\\\"IconicTile\\\"&gt;\" .\n                \"&lt;wp:SmallIconImage&gt;$image_url_small&lt;/wp:SmallIconImage&gt;\" .\n                \"&lt;wp:IconImage&gt;$image_url_large&lt;/wp:IconImage&gt;\" .\n                \"&lt;wp:WideContent1&gt;$wide1&lt;/wp:WideContent1&gt;\" .\n                \"&lt;wp:WideContent2&gt;$wide2&lt;/wp:WideContent2&gt;\" .\n                \"&lt;wp:WideContent3&gt;$wide3&lt;/wp:WideContent3&gt;\" .\n                \"&lt;wp:Count&gt;$count&lt;/wp:Count&gt;\" .\n                \"&lt;wp:Title&gt;$title&lt;/wp:Title&gt;\" .\n                \"&lt;wp:BackgroundColor&gt;#00FFFFFF&lt;/wp:BackgroundColor&gt;\" .\n                \"&lt;/wp:Tile&gt;\" .\n                \"&lt;/wp:Notification&gt;\";\n       echo $msg;\n    return $this-&gt;send_push('token',$delay+1, $message_id,$msg);\n    }\n\n    public function send_toast($title, $message,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)\n    {\n        $msg =  \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;\" .\n                \"&lt;wp:Notification xmlns:wp=\\\"WPNotification\\\"&gt;\" .\n                \"&lt;wp:Toast&gt;\" .\n                \"&lt;wp:Text1&gt;$title&lt;/wp:Text1&gt;\" .\n                \"&lt;wp:Text2&gt;$message&lt;/wp:Text2&gt;\" .\n                \"&lt;/wp:Toast&gt;\" .\n                \"&lt;/wp:Notification&gt;\";\n\n        return $this-&gt;send_push('toast',$delay+2,$message_id, $msg);\n    }\n\n    private function send_push($target,$delay,$message_id,$msg)\n    {\n        $sendedheaders=  array(\n                            'Content-Type: text/xml; charset=utf-8 ',\n                            'Accept: application/*',\n                            \"X-NotificationClass: $delay\"\n                            );\n        if($message_id!=NULL)\n        $sendedheaders[]=\"X-MessageID: $message_id\";\n        if($target!=NULL)\n            $sendedheaders[]=\"X-WindowsPhone-Target:$target\";\n\n        $req = curl_init();\n        curl_setopt($req, CURLOPT_HEADER, true); \n        curl_setopt($req, CURLOPT_HTTPHEADER,$sendedheaders);\n        curl_setopt($req, CURLOPT_POST, true);\n        curl_setopt($req, CURLOPT_POSTFIELDS, $msg);\n        curl_setopt($req, CURLOPT_URL, $this-&gt;notif_url);\n        curl_setopt($req, CURLOPT_RETURNTRANSFER, 1);\n        $response = curl_exec($req);\n        curl_close($req);\n\n        $result=array();\n        foreach(explode(\"\\n\",$response) as $line)\n        {\n\n        $tab=explode(\":\",$line,2);\n        if(count($tab)==2)\n            $result[$tab[0]]=trim($tab[1]);\n        }\n\n        return $result;\n     }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: The XML (tried with both local image and remote image)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"?&gt;&lt;wp:Notification xmlns:wp=\"WPNotification\" Version=\"2.0\"&gt;&lt;wp:Tile Id=\"/\" Template=\"IconicTile\"&gt;&lt;wp:SmallIconImage Action=\"Clear\"&gt;/Images/LiveTiles/asot_iconic_small.png&lt;/wp:SmallIconImage&gt;&lt;wp:IconImage Action=\"Clear\"&gt;/Images/LiveTiles/asot_iconic_large.png&lt;/wp:IconImage&gt;&lt;wp:WideContent1 Action=\"Clear\"&gt;Test1&lt;/wp:WideContent1&gt;&lt;wp:WideContent2 Action=\"Clear\"&gt;Test2&lt;/wp:WideContent2&gt;&lt;wp:WideContent3 Action=\"Clear\"&gt;Test3&lt;/wp:WideContent3&gt;&lt;wp:Count Action=\"Clear\"&gt;1&lt;/wp:Count&gt;&lt;wp:Title Action=\"Clear\"&gt;Title&lt;/wp:Title&gt;&lt;wp:BackgroundColor Action=\"Clear\"&gt;#00FFFFFF&lt;/wp:BackgroundColor&gt;&lt;/wp:Tile&gt;&lt;/wp:Notification&gt;\n</code></pre>\n\n<p>EDIT2 Full error msg:</p>\n\n<pre><code>\"The XML payload contains invalid or improperly formatted XML or the notification type specified in the header does not match the payload type used.  The channel has been closed.  Check your XML payload for errors and reopen the channel to obtain a new URI.\"\n</code></pre>\n\n<p>EDIT3 Server response</p>\n\n<pre><code>HTTP/1.1 200 OK Cache-Control: private Server: Microsoft-IIS/7.5 X-DeviceConnectionStatus: Connected X-NotificationStatus: Received X-SubscriptionStatus: Active X-MessageID: 00000000-0000-0000-0000-000000000000 ActivityId: 5bd4c4b6-1d79-4964-9a56-7d49e2aa5972 X-Server: DB3MPNSM018 X-AspNet-Version: 4.0.30319 X-Powered-By: ASP.NET Date: Wed, 07 Nov 2012 19:35:59 GMT Content-Length: 0\n</code></pre>\n\n<p>I'm using the above code (made by Rudy Huyn) when trying to send a Push Notification. It works fine with sending a normal tile but I'm trying to update my app so it can receive a iconic tile instead. I've added the send_iconic_tile myself.</p>\n\n<p>However when I'm sending an iconic tile notification I'm getting a PayloadFormatError on the phone. I can't see any error in my code either since the payload seems to match what Microsoft has written here:\n<a href=\"http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207009(v=vs.105).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207009(v=vs.105).aspx</a></p>\n"},{"tags":["php","function","strip-tags"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13280451,"title":"php function advice needed","body":"<p>any advice would be helpful, thank you</p>\n\n<p>i'm trying to clean a piece of html tags with contents but for some reason it's not working properly</p>\n\n<pre><code>&lt;?php\n\nfunction cleaning($vclean)\n{\n$vclean = strip_tags($vclean);\n$vclean = rtrim($vclean);\n$vclean = trim($vclean);\n\n$vclean = str_replace(\"  \", \"\", $vclean);\n$vclean = preg_replace('/\\s\\s+/', ' ', $vclean);\n$vclean = str_replace(\"'\", \"\", $vclean);\n\necho \"function is cleaning&lt;br&gt;\";\n\n}\n\n\ncleaning($any_variable);\n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","mysql","joomla"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13280400,"title":"Joomla database memory leak","body":"<p>My client has got a pretty large Joomla-based website hosted on Amazon EC2 with 1.5GB of RAM. The server hosts both Apache and MySQL. Right now the database size is around 250MB and the website gets daily traffic of about 5000. It looks like there is a severe memory leak on the website as sometimes MySQL uses about 99% of CPU memory and then crashes. I have tried optimizing database tables, modifying my<code>.cnf</code>, but still there is no improvement.</p>\n\n<p>There are finder tables used by Joomla smart search which occupy over 100MB of db size. I have disabled smart search, but still the problem occurs.</p>\n\n<p>Friends, please throw some suggestions in fixing this.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13280352,"title":"I want to fire another kind of exception in this case. PHP","body":"<p>When I try to connect with the Redis server with this code I haven't any problem testing if the server is UP. The problem is when the server is DOWN. In that case I solved this escenario with the classic Try/catch. My problem is that I'd like to manage this exception with \"my_custom_exception\" class, which has more useful functions, instead of the class Exception. Is there anyway of making this?. I know how to extend the class Exception, but in this case is a library of third parts.</p>\n\n<pre><code>function show_status_redis_server(){\n    try{\n        $redis = RedisDB::fetch_instance();//this ...........................\n    }catch(Exception $e){\n        echo \"Redis server is down\"; \n    }\n}\n</code></pre>\n"},{"tags":["php","phpmail"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":582,"score":1,"question_id":9660057,"title":"Email Sending from Local Server in PHP","body":"<p>I have my file mail.php :</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;?php\nif (isset($_REQUEST['email']))\n//if \"email\" is filled out, send email\n  {\n  //send email\n  $email = $_REQUEST['email'] ;\n  $subject = $_REQUEST['subject'] ;\n  $message = $_REQUEST['message'] ;\n  mail(\"syedsamiruddin29@gmail.com\", $subject,\n  $message, \"From:\" . $email);\n  echo \"Thank you for using our mail form\";\n  }\nelse\n//if \"email\" is not filled out, display the form\n  {\n  echo \"&lt;form method='post' action='mail.php'&gt;\n  Email: &lt;input name='email' type='text' /&gt;&lt;br /&gt;\n  Subject: &lt;input name='subject' type='text' /&gt;&lt;br /&gt;\n  Message:&lt;br /&gt;\n  &lt;textarea name='message' rows='15' cols='40'&gt;\n  &lt;/textarea&gt;&lt;br /&gt;\n  &lt;input type='submit' /&gt;\n  &lt;/form&gt;\";\n  }\n?&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>but when i run it. i get this error :</p>\n\n<pre><code>Warning: mail() [function.mail]: Failed to connect to mailserver at \"127.0.0.1\" port 25, verify your \"SMTP\" and \"smtp_port\" setting in php.ini or use ini_set() in C:\\Program Files\\EasyPHP-5.3.8.1\\www\\safepay247\\mail.php on line 13\nThank you for using our mail form\n</code></pre>\n\n<p>what im trying to do is to send an email to my email id : syedsamiruddin29@gmail.com using php to the person's email written in the input type.</p>\n\n<p>Ive gone through many videos but none help me solve the php.ini problem.</p>\n"},{"tags":["php","javascript","wordpress"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13279611,"title":"Pass variable from URL through a php login redirect function into wp-login form inputs","body":"<p>This is a funny one, but only a genius can probably figure this out. It's an odd one.</p>\n\n<p>Requires a little javascript and a little adjustment to my existing php wordpress function.</p>\n\n<p>I have a wp site that is locked down from the public using this function...</p>\n\n<pre><code>add_action('get_header', 'wpq_member_only_site');\nfunction wpq_member_only_site() {\n\n    if ( !is_user_logged_in() ) {\n\n        $redirect_after_login = get_home_url();\n\n        $login_url = wp_login_url( $redirect_after_login );\n\n        wp_redirect( $login_url, 302 );\n        exit;\n    }\n\n}\n</code></pre>\n\n<p>...which redirects non-logged in users to the login form.</p>\n\n<p>My question is, I would like use URL variables like this...</p>\n\n<p><strong>http://example.com?user=media&amp;password=23747</strong></p>\n\n<p>...and somehow, (I guess) pass it through the function and into the login page URL...</p>\n\n<p><strong>http://example.com/wp-login.php?redirect_to=http%3A%2F%2Fexample.com&amp;user=media&amp;password=23747</strong></p>\n\n<p>...so then a script in my login_head can use, and automatically pre-populate the login form.</p>\n\n<p>I will insert the script into my login_head using this function...</p>\n\n<pre><code>function my_login_head() {\n  echo '\n\n      &lt;!-- script here --&gt;\n  ';\n}\nadd_action('login_head', 'my_login_head');\n</code></pre>\n\n<p>Does anyone think they can help me with this? Or know if its possible.</p>\n\n<p>The idea is, so I can use this URL to give people access without them having to know the username or password.</p>\n\n<p>Any ideas or help would be awesome, thanks!</p>\n"},{"tags":["php","e-commerce"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13280447,"title":"How to plan a structure for an online shop?","body":"<p>The task is to create an online shop that will be ran on a very specific PHP framework. But actually I don't want to refer my question to the task I'm given but just in theory: what would be the best method in writing framework of very common online shop from scratch, what class structure should it have? Links to topical articles are welcome. Thanks in advance!</p>\n"},{"tags":["php","redirect","header"],"answer_count":7,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":224,"score":2,"question_id":10504753,"title":"Can I cause a redirect to occur before my php script finishes?","body":"<p>I want to run a php script that will send out a bunch of emails (newsletters) but since it can take a while for that to run I want the user be immediately redirected to a page with a message like \"Your newsletters are queued to be sent out.\"<br>\nSo far the header redirects work but they do not cause the redirection until after all the emails get sent.  Can I close the connection after sending the redirect so the browser acts on the redirect immediately?   I tried stuff like this </p>\n\n<pre><code>\nob_start();\nignore_user_abort(true);\nheader( \"refresh:1;url=waitforit.php?msg=Newsletters queued up, will send soon.\");\nheader(\"Connection: close\");\nheader(\"Content-Length: \" . mb_strlen($resp));\necho $resp;\n//@ob_end_clean();\nob_end_flush();\nflush();\n</code>\n</pre>\n\n<p>in various permutations and combinations but to no avail.\nI suspect it cannot be done so simply but before I start messing with cron jobs or custom daemons I thought I'd look into this approach. \nThanks</p>\n\n<p>eg like blockhead suggests below, but no luck <pre><code>ob_start();\nignore_user_abort(true);\nheader( \"refresh:1;url=mailing_done.php?msg=Newsletters queued for sending.\");\nheader(\"Connection: close\");\nheader(\"Content-Length: 0\" );\n//echo $resp;\nob_end_flush();\nflush(); </code></pre></p>\n"},{"tags":["php","facebook","facebook-php-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":29,"score":-2,"question_id":13279890,"title":"How do I make a post using Facebook's v3 SDK and PHP?","body":"<p>I am trying to make a post on the user's Facebook wall using my application. I also want to be able to access and display the person's user information afterward - but I'm getting stuck.</p>\n\n<p>The code I have so far is below (with the sensitive parts masked, of course):</p>\n\n<pre><code>&lt;?php\ninclude(\"src/facebook.php\");\n\n$facebook = new Facebook(array(\n    'appId'  =&gt; ##############,\n    'secret' =&gt; #####################################,\n));\n\n$user = $facebook-&gt;getUser();\n\nif ($user) {\n  try {\n    $user_profile = $facebook-&gt;api('/me');\n  } catch (FacebookApiException $e) {\n    // The access token we have is not valid\n    $user = null;\n  }\n}\nif (!$user) {\n    $args['scope'] = 'offline_access, read_stream, friends_likes, email, read_stream, publish_stream, user_birthday,user_hometown, user_photos, uid, username, first_name';\n    $loginUrl = $facebook-&gt;getLoginUrl($args);\n}\n if (!$user): ?&gt;\n    &lt;a href=\"&lt;?php echo $loginUrl ?&gt;\"&gt;Login with Facebook&lt;/a&gt;\n&lt;?php endif ?&gt;\n</code></pre>\n\n<p>I can't figure out what's going wrong - and maybe I'm missing something critical? Any guidance would be appreciated.</p>\n"},{"tags":["php","facebook","oauth","facebook-php-sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":27,"score":-5,"question_id":13280133,"title":"Fatal error Session has expired","body":"<blockquote>\n  <p>Fatal error: Uncaught OAuthException: Error validating access token: Session has expired at unix time 1352329200.</p>\n  \n  <p>The current unix time is 1352330589. thrown in /home/######/public_html/php/fbsdk/src/base_facebook.php on line 1238</p>\n</blockquote>\n\n<p>I'm at my bleeding wits end! I have used practically every single fix suggested here and none has worked to date. It is too jarring for the user come back to the website and just see this error every 30 minutes to an hour after just having been there.</p>\n\n<p>As of now refreshing the page once ALWAYS fixed the problem but obviously that is not a solution. Can someone be clear please and really tell me what's going on here?</p>\n"},{"tags":["php","css","wordpress","themes","wordpress-theming"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13279991,"title":"Wordpress Theme Customizer find logic","body":"<p>I am looking for where this snippet is exectued. I want to update it to be on something other than the body tag.</p>\n\n<pre><code>&lt;style type=\"text/css\" id=\"custom-background-css\"&gt;\nbody.custom-background { background-color: #000000; background-image: url('http://example.com/wp-content/uploads/2012/11/sidebar-bg.jpg'); background-repeat: no-repeat; background-position: top left; background-attachment: fixed; }\n&lt;/style&gt;\n</code></pre>\n\n<p>It is using the new <strong>Theme Customizer</strong> page built into WordPress 3.4. The page I am referring to as Theme Customizer is when you go to WordPress admin dashboard, on the side is a menu for Appearances. Under that is an option called Customize (screen shot: <a href=\"http://d.pr/i/k6kL\" rel=\"nofollow\">http://d.pr/i/k6kL</a>). It shows you some settings and a live preview on the right. </p>\n\n<p>The specific part I am looking for is echoed out right before the closing <code>&lt;/head&gt;</code> tag. I looked in all my custom theme files, but I think it is WordPress core-driven. I want to basically switch it from body to a specific ID or class.</p>\n"},{"tags":["php","google-api","oauth-2.0","access-token","google-analytics-api"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":4628,"score":5,"question_id":9241213,"title":"How to refresh token with Google API client?","body":"<p>I've been playing around with the Google Analytics API (V3) and have run into som errors. Firstly, everything is set up correct and worked with my testing account. But when I want to grab data from another profile ID (Same Google Accont/GA Account) I get an 403 Error. The strange thing is that data from some GA accounts will return data whilst other generate this error.</p>\n\n<p>I've revoked the token and authenticated one more time, and now it seems like I can grab data from all of my accounts. Problem solved? Not. As the access key will expire, I will run into the same issue again.</p>\n\n<p>If I have understood things right, one could use the resfreshToken to get a new authenticationTooken.</p>\n\n<p>The problem is, when I run: </p>\n\n<pre><code>$client-&gt;refreshToken(refresh_token_key) \n</code></pre>\n\n<p>the following error is returned:</p>\n\n<pre><code>Error refreshing the OAuth2 token, message: '{ \"error\" : \"invalid_grant\" }'\n</code></pre>\n\n<p>I’ve checked the code behind the refreshToken method and tracked the request back to the “apiOAuth2.php” file. All parameters are sent correctly. The grant_type is hard coded to ‘refresh_token’ within the method, so it’s hard for me to understand what’s wrong. The parameter array looks like this:</p>\n\n<pre><code>Array ( [client_id] =&gt; *******-uqgau8uo1l96bd09eurdub26c9ftr2io.apps.googleusercontent.com [client_secret] =&gt; ******** [refresh_token] =&gt; 1\\/lov250YQTMCC9LRQbE6yMv-FiX_Offo79UXimV8kvwY [grant_type] =&gt; refresh_token )\n</code></pre>\n\n<p>The procedure is as follows.</p>\n\n<pre><code>$client = new apiClient();\n$client-&gt;setClientId($config['oauth2_client_id']);\n$client-&gt;setClientSecret($config['oauth2_client_secret']);\n$client-&gt;setRedirectUri($config['oauth2_redirect_uri']);\n$client-&gt;setScopes('https://www.googleapis.com/auth/analytics.readonly');\n$client-&gt;setState('offline');\n\n$client-&gt;setAccessToken($config['token']); // The access JSON object.\n\n$client-&gt;refreshToken($config['refreshToken']); // Will return error here\n</code></pre>\n\n<p>Is this a bug, or have I completely misunderstood something?</p>\n"},{"tags":["php","mysql","database","query"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13279604,"title":"What would be a sql query of \" USA State\" come first?","body":"<p>I have MySQL table named employees with </p>\n\n<pre><code> 1. id \n 2. employee \n 3. state\n</code></pre>\n\n<p>I am not getting an idea how I can query the database where state with the name \"New York\" will come first and all other records will come normally. Here is what I have so far </p>\n\n<pre><code>$sql = \"select * from employees order by\";\n</code></pre>\n"},{"tags":["php","symfony2","twig"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13277444,"title":"Using a custom function in twig","body":"<p>In my template I want to output the server timezone.</p>\n\n<p>My template has something like</p>\n\n<pre><code>{{ getservertimezone }}\n</code></pre>\n\n<p>Then in the services.yml config for that bundle I have</p>\n\n<pre><code>my.twig.extension:\n    class: My\\WebsiteBundle\\Extensions\\Twig\\SomeTemplateHelper\n    tags:\n           - { name: twig.extension }\n</code></pre>\n\n<p>And my <code>SomeTemplateHelper</code> looks like</p>\n\n<pre><code>namespace My\\WebsiteBundle\\Extensions\\Twig;\n\nclass SomeTemplateHelper extends \\Twig_Extension\n{\n\n    public function getFilters() \n    {\n        return array(\n            'getservertimezone'  =&gt; new \\Twig_Filter_Method($this, 'getServerTimeZone'),\n        );\n    }\n\n\n    public function getServerTimeZone()\n    {\n        if (date_default_timezone_get()) {\n            return date_default_timezone_get();\n        } else if (ini_get('date.timezone')) {\n            return ini_get('date.timezone');\n        } else {\n            return false;\n        }\n    }\n\n    public function getName()\n    {\n        return 'some_helper';\n    }\n\n}\n</code></pre>\n\n<p>But I can't call this method unless it's used like a filter <code>{{ someval | getservertimezone  }}</code>, is there a way to just do a straigh <code>{{ getservertimezone() }}</code> call?</p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13280111,"title":"Send Data from Database Into View","body":"<p>I'm trying to find the \"users\" current subscription on the database and display it's name in a view. Primary is the ID, so I'm using the User ID from session to find the appropriate row in the \"subscriptions\". This works as it should (I believe anyways). My problem is sending the selected data to the view. The only text that shows up in the view is \"array\".</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>    // displays current subscription in view\n    $userid = $this -&gt; session -&gt; userdata('user_id');\n\n    $this -&gt; db -&gt; select('subscription');\n    $this -&gt; db -&gt; where ('id', $userid);\n    $query = $this -&gt; db -&gt; get('subscriptions');\n\n    $data['packagename'] = $query -&gt; result_array();\n</code></pre>\n\n<p>Here's what I'm echoing in my view:</p>\n\n<pre><code>    &lt;? echo $packagename; ?&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong> I looked into the FOREACH function in the CI manual. I plugged this in and feel a bit closer. I don't want anything overly complex, code wise like some of you have posted, as I'm just learning. So now when the page is rendered, the following text is displayed: <code>string(9) \"mrpopular\"</code> </p>\n\n<pre><code>    // displays current subscription in view\n    $userid = $this -&gt; session -&gt; userdata('user_id');\n\n    $this -&gt; db -&gt; select('subscription');\n    $this -&gt; db -&gt; where ('id', $userid);\n    $query = $this -&gt; db -&gt; get('subscriptions');\n\n    foreach ($query-&gt;result() as $row)\n    {\n        $data['packagename'] = $row-&gt;subscription;\n    }   \n</code></pre>\n"},{"tags":["php","datetime","function"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":949,"score":0,"question_id":1853575,"title":"Why do I get 31 Dec 1969 as my last modified filename using filemtime in php?","body":"<p>I am newbie to php and so please do not mind me asking this question but am really getting confused as to why <code>filemtime(filename.txt)</code>gives me as 31 Dec 1969 as my last modified time ?</p>\n"},{"tags":["php","wordpress","twitter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13279788,"title":"\"Twitter seems too busy...\"","body":"<p>I keep getting \"Twitter seems too busy, cannot connect to twitter right now! Please try again later!\" for over a month now on my WordPress widget at <a href=\"http://victoriaparkci.ca/\" rel=\"nofollow\">http://victoriaparkci.ca/</a> and it seems to be an API issue (thought it was working fine earlier). How may I fix this?\nIf it affects it at all, I am running caching plugins.</p>\n\n<p>The code being used is:\n    \n\n<pre><code>class dv_twitterWidgets extends WP_Widget {\n  function dv_twitterWidgets() {\n     $widget_ops = array('classname' =&gt; 'twitter_widget', 'description' =&gt; __('Twitter Updates.', 'ft') );\n      $control_ops = array( 'width' =&gt; 400, 'height' =&gt; 200);\n      $this-&gt;WP_Widget('twitter_widget', 'Devvine - Twitter', $widget_ops, $control_ops);\n }\n\n\n\n\n    function widget($args, $instance) {\n        extract($args, EXTR_SKIP);\n\n      echo $before_widget;\n       $title = empty($instance['title']) ? 'Twitter updates' : apply_filters('widget_title', $instance['title']);\n        $uname = empty($instance['uname']) ? '' : apply_filters('widget_uname', $instance['uname']);\n       $number = empty($instance['number']) ? 6 : apply_filters('widget_number', $instance['number']);\n\n\n        echo $before_title; \n       echo $title;\n       echo $after_title;\n\n        echo _wip_display_tweets( $uname, $number ); \n\n     echo $after_widget;\n    }   \n\n\n\n\n\n  function update($new_instance, $old_instance) {\n        $instance = $old_instance;\n     $instance['title'] = strip_tags($new_instance['title']);\n       $instance['uname'] = strip_tags($new_instance['uname']);\n       $instance['number'] = stripslashes($new_instance['number']);\n\n       return $instance;\n  }\n\n\n\n\n   function form($instance) {\n     $instance = wp_parse_args( (array) $instance, array( 'title' =&gt; '', 'uname' =&gt; '', 'number' =&gt; '' ) );\n        $title = strip_tags($instance['title']);\n     $uname = strip_tags($instance['uname']);\n     $number = strip_tags($instance['number']);\n   ?&gt;\n          &lt;p&gt;&lt;label for=\"&lt;?php echo $this-&gt;get_field_id('title'); ?&gt;\"&gt;&lt;?php print __('Title:', 'ft'); ?&gt;&lt;input class=\"widefat\" id=\"&lt;?php echo $this-&gt;get_field_id('title'); ?&gt;\" name=\"&lt;?php echo $this-&gt;get_field_name('title'); ?&gt;\" type=\"text\" value=\"&lt;?php echo esc_attr($title); ?&gt;\" /&gt;&lt;/label&gt;&lt;/p&gt;\n           &lt;p&gt;&lt;label for=\"&lt;?php echo $this-&gt;get_field_id('uname'); ?&gt;\"&gt;&lt;?php print __('Twitter username:', 'ft'); ?&gt;&lt;input class=\"widefat\" id=\"&lt;?php echo $this-&gt;get_field_id('uname'); ?&gt;\" name=\"&lt;?php echo $this-&gt;get_field_name('uname'); ?&gt;\" type=\"text\" value=\"&lt;?php echo esc_attr($uname); ?&gt;\" /&gt;&lt;/label&gt;&lt;/p&gt;\n            &lt;p&gt;&lt;label for=\"&lt;?php echo $this-&gt;get_field_id('number'); ?&gt;\"&gt;&lt;?php print __('How many updates want to show:', 'ft'); ?&gt;&lt;input class=\"widefat\" id=\"&lt;?php echo $this-&gt;get_field_id('number'); ?&gt;\" name=\"&lt;?php echo $this-&gt;get_field_name('number'); ?&gt;\" type=\"text\" value=\"&lt;?php echo esc_attr($number); ?&gt;\" /&gt;&lt;/label&gt;&lt;/p&gt;\n   &lt;?php        \n   }\n}\nregister_widget('dv_twitterWidgets');\n</code></pre>\n"}]}
{"total":298823,"page":9,"pagesize":100,"questions":[{"tags":["php","curl"],"answer_count":3,"favorite_count":7,"up_vote_count":10,"down_vote_count":0,"view_count":23482,"score":10,"question_id":561816,"title":"PHP cURL, extract an XML response","body":"<p>I am invoking PHP cURL method on a server and the response is XML type. cURL is saving the output (after removing the tags) in a scalar type variable. Is there a way to store it in an object/hash/array so that it's easy to parse?</p>\n"},{"tags":["php","javascript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13279772,"title":"serialize and post array to a process file","body":"<p>I'm trying to post an array to another file to be processed. The array is below and it populates rows properly. I have it initialized at the beginning of the script tag to make it global.<br>\n In javascript:</p>\n\n<pre><code>var locationsall = new Array();\nlocationsall[counter] = new Array();\nlocationsall[counter][0] = address;\nlocationsall[counter][1] = lat;\nlocationsall[counter][2] = lng;\n</code></pre>\n\n<p>In my form i try to serialzie it and post it</p>\n\n<pre><code> &lt;input type=\"hidden\" name=\"result\" value=\"&lt;?php echo serialize($locationsall); ?&gt;\"&gt;\n</code></pre>\n\n<p>When i try to unserialize it, it doesn't have anything..</p>\n\n<pre><code>    $locations = unserialize($_POST['result']);\n</code></pre>\n\n<p>What am i doing wrong here?</p>\n"},{"tags":["php","mysql","drupal-7"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":36,"score":3,"question_id":13260914,"title":"Optimum php.ini and my.cnf settings for a small Drupal 7 site on a virtual server","body":"<p>I looking for advice on how to set up the default configuration of php.ini and my.cnf for a small site (100 pages) with very little traffic (300 visitors per day). All pages have a bit of text, some images, no video, no audio, no flash/silverlight, very little javascript and jquery. For tracking I'm using GA and Piwik. The main site database is around 50MB.</p>\n\n<p>The site is hosted on a virtual server with 20GB RAM and 6 vCPUs so there's hopefully a lot of muscle to make it run very fast.</p>\n\n<p>I don't know much about tweaking php and mysql settings and would appreciate it if your answers can be as detailed as possible.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","security","environment"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13279689,"title":"Is it unsafe to switch environments based on domain?","body":"<p>I am curious if doing something like setting your \"environment\" to Production, Dev, Staging, etc. based on a domain name such as dev.domain.com, staging.domain.com is a bad idea.</p>\n\n<p>Can somebody just edit their hosts file to point dev.domain.com to domain.com so now the system <em>thinks</em> it's in Dev when it really is in Prod? This would mean any Dev specific code will be ran by a complete stranger.</p>\n\n<p>Is this possible or is there a better way to determine your environment such as setting it manually in a server variable?</p>\n\n<p>For reference, I am using PHP.</p>\n"},{"tags":["php"],"answer_count":5,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1062,"score":1,"question_id":3395267,"title":"how to find out if csv file fields are tab delimited or comma delimited","body":"<p>how to find out if csv file fields are tab delimited or comma delimited. I need php validation for this. Can anyone plz help. Thanks in advance.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13279794,"title":"php and session: how get an associative array from a session variable?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6322084/able-to-see-a-variable-in-print-rs-output-but-not-sure-how-to-access-it-in-c\">Able to see a variable in print_r()&#39;s output, but not sure how to access it in code</a>  </p>\n</blockquote>\n\n\n\n<p>I need to work on an existing website with a connected user:</p>\n\n<pre><code>&lt;?php session_start();\nprint_r($_SESSION); ?&gt;\n</code></pre>\n\n<p>This code outputs:</p>\n\n<pre><code>Array([%http_user%] =&gt; Array\n    (\n        [profile_id] =&gt; 72\n        [username] =&gt; john\n        [session_id] =&gt; 4ek79umrrpael7vvb4ls3diaq4\n    )\n\n[registration_invite_code] =&gt; \n</code></pre>\n\n<p>)</p>\n\n<p>That's what I need. It try to get \"john\" into my <code>$username</code> variable:</p>\n\n<p>any idea how ?</p>\n\n<p>I've tried with:</p>\n\n<pre><code>$_SESSION[0]\n\n$_SESSION[\"%http_user%\"]\n\n$_SESSION-&gt;username\n</code></pre>\n\n<p>No way. </p>\n\n<p>Any way how to retrieve this username ?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13279896,"title":"Why wont this ajax script call the backend php using ajaxRequest.open?","body":"<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Loses&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\nfunction ajaxFunction() {\n    var ajaxRequest;\n    try{\n        // Opera 8.0+, Firefox, Safari\n        ajaxRequest = new XMLHttpRequest();\n    }catch (e){\n        // Internet Explorer Browsers\n        try{\n            ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n        }catch (e){\n            try {\n                ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }catch (e){\n                // Something went wrong\n                alert(\"Your browser broke!\");\n                return false;\n            }\n        }\n    }\n\n    // Receive data from the server to update div\n    ajaxRequest.onreadystatechange = function(){\n        if(ajaxRequest.readyState == 4){\n            var ajaxDisplay = document.getElementById('ajaxDiv');\n            ajaxDisplay.value = ajaxRequest.responseText;\n        }\n    }\n\n    // Get the value from user.\n    if (!target) target = document.getElementById(\"name\");\n    var queryString = \"?name=\" + escape(target.value);\n\n    var url = \"db.php\" + queryString;\n\n    ajaxRequest.open(\"GET\", url, true);\n    ajaxRequest.send(null); \n}\n&lt;/script&gt;\n\n&lt;form name=\"myForm\"&gt;\n    Victim: &lt;input type=\"text\" id=\"name\" name=\"name\"/&gt; &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;input type=\"button\" onclick=\"getLoses()\" value=\"Show Loses\"/&gt;\n&lt;/form&gt;\n\n&lt;div id=\"ajaxDiv\"&gt;Results:&lt;/div&gt;\n&lt;br&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Why doesn't this do anything?</p>\n\n<p>I've tried it under apache and lightpd. I'm getting no complaints or errors, but it's just not doing anything.</p>\n\n<p>If I call the backend manually, db.php?name=Player1 it works. So it can't be anything in db.php. Something is wrong with the code above and I just don't know what's missing. Can anyone help me?</p>\n"},{"tags":["php","locale","gettext"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":515,"score":1,"question_id":1776205,"title":"PHP: Gettext problems","body":"<p>I can't seem to get gettext working, here.</p>\n\n<p>I'm using MAMP Pro and <code>phpinfo();</code> says that gettext is enabled.</p>\n\n<p>I followed this tutorial: <a href=\"http://zez.org/article/articleview/42/1/\" rel=\"nofollow\">http://zez.org/article/articleview/42/1/</a></p>\n\n<ol>\n<li>I have my strings declared in my code like this: <code>_('test string');</code></li>\n<li>Then I ran <code>xgettest -L PHP test.php</code>, which generated my <code>messages.po</code> file.</li>\n<li>I opened this file in <a href=\"http://www.poedit.net/\" rel=\"nofollow\">poedit</a> and translated my strings, then saved the file, which made a <code>messages.mo</code> file.</li>\n<li>I took both the <code>.po</code> and <code>.mo</code> files and moved them to <code>[webroot]/locale/es/LC_MESSAGES/</code> (in this case, my translation was Spanish)</li>\n<li><p>In my code, I set the following:</p>\n\n<p><code>$lang = $_SESSION['lang']; // available to all views that include this file</code></p>\n\n<p><code>putenv('LC_ALL='.$lang);</code></p>\n\n<p><code>bindtextdomain('messages','./locale');</code></p>\n\n<p><code>textdomain('messages');</code></p>\n\n<p>... where <code>$_SESSION['lang']</code> I can easily toggle between <code>en</code> and <code>es</code>.</p></li>\n<li><p>I reload my page, then click on my link that toggles to <code>es</code>, but my strings are still showing up as the English versions and not the Spanish versions. Toggling back to <code>en</code> shows no change; it's always the English versions. </p></li>\n</ol>\n\n<p>I get no error message anywhere so I'm a bit lost as to why I'm having this problem. Can anyone give me some guidance/help? Did I miss something?</p>\n"},{"tags":["php","content-type"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13279776,"title":"Content type of the response currently being executed in PHP?","body":"<p>Let's say there is a library function that needs to know the exact MIME type of the HTTP response currently being generated by a PHP script, regardless of whether it was explicitly set via <code>header('Content-type: ...')</code> or not. Also, if possible, regardless of whether output has actually started or not (I doubt this one, but...).</p>\n\n<p>It could be, for example, a function that outputs diagnostics/debug information and wants to format its output depending on whether current content type is HTML, XML, or plain text.</p>\n\n<p>A script is aware if it's running from the command line (<code>php_sapi_name() == 'cli'</code>) and thus content type can be assumed <code>text/plain</code>, however, any way to accurately detect it when run under the server?</p>\n"},{"tags":["php","codeigniter","curl","slow-load"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":182,"score":4,"question_id":12907234,"title":"Why CodeIgniter's Curl library slower than using Curl in plain PHP?","body":"<p>Recently I moved my scraping code with Curl to CodeIgniter. I'm using Curl CI library from <a href=\"http://philsturgeon.co.uk/code/codeigniter-curl\" rel=\"nofollow\">http://philsturgeon.co.uk/code/codeigniter-curl</a>. I put the scraping process in a controller and then I found the execution time of my scraping is slower than the one I built in plain PHP.</p>\n\n<p>It took 12 seconds for CodeIgniter to output the result, whereas it only takes 6 seconds in plain PHP. Both are including the parsing process with the HTML DOM parser.</p>\n\n<p>Here's my Curl code in CodeIgniter:</p>\n\n<pre><code>function curl($url, $postdata=false)\n{\n  $agent = \"Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)\";\n\n  $this-&gt;curl-&gt;create($url);\n  $this-&gt;curl-&gt;ssl(false);\n  $options = array(\n    'URL'             =&gt; $url,\n    'HEADER'          =&gt; 0,\n    'AUTOREFERER'     =&gt; true,\n    'FOLLOWLOCATION'  =&gt; true,\n    'TIMEOUT'         =&gt; 60,\n    'RETURNTRANSFER'  =&gt; 1,\n    'USERAGENT'       =&gt; $agent,\n    'COOKIEJAR'       =&gt; dirname(__FILE__) . \"/cookie.txt\",\n    'COOKIEFILE'      =&gt; dirname(__FILE__) . \"/cookie.txt\",\n  );\n\n  if($postdata)\n  {\n    $this-&gt;curl-&gt;post($postdata, $options);\n  }\n  else\n  {\n    $this-&gt;curl-&gt;options($options);\n  }\n\n  return $this-&gt;curl-&gt;execute();\n}\n</code></pre>\n\n<p>non codeigniter (plain php) code :</p>\n\n<p>function curl($url ,$binary=false,$post=false,$cookie =false ){</p>\n\n<pre><code>    $ch = curl_init();\n\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); // Accepts all CAs\n    curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 2); \n\n    curl_setopt ($ch, CURLOPT_URL, $url );\n    curl_setopt ($ch, CURLOPT_HEADER, 0);\n    curl_setopt($ch, CURLOPT_REFERER, $url);\n    curl_setopt($ch, CURLOPT_ENCODING, 'gzip,deflate');\n    curl_setopt($ch, CURLOPT_AUTOREFERER, true);\n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);\n    curl_setopt($ch, CURLOPT_TIMEOUT, 60);\n    curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);\n\n\n\n    if($cookie){\n\n\n        $agent = \"Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)\";\n        curl_setopt($ch, CURLOPT_USERAGENT, $agent);\n        curl_setopt($ch, CURLOPT_COOKIEJAR, dirname(__FILE__) . \"/cookie.txt\");\n        curl_setopt($ch, CURLOPT_COOKIEFILE, dirname(__FILE__) . \"/cookie.txt\");\n\n    }\n\n\n    if($binary)\n        curl_setopt($ch, CURLOPT_BINARYTRANSFER, 1);\n\n\n    if($post){\n\n\n        foreach($post as $key=&gt;$value) \n            { \n        $post_array_string1 .= $key.'='.$value.'&amp;'; \n        }\n        $post_array_string1 = rtrim($post_array_string1,'&amp;');\n\n        //set the url, number of POST vars, POST data\n\n        curl_setopt($ch, CURLOPT_POST, true);\n        curl_setopt($ch, CURLOPT_POSTFIELDS, $post_array_string1);\n    }\n\n        return  curl_exec ($ch);\n</code></pre>\n\n<p>}</p>\n\n<p>Does anyone know why this CodeIgniter Curl is slower??  or maybe it's because the simple_html_dom parser??</p>\n"},{"tags":["php","html","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13278819,"title":"can't echo file input field on submitted page..?","body":"<p>i have an extremely large form that is being submitted to an 'update' page which runs some SQL queries and updates the fields and then redirects back to the original page. everything has been working properly. I'm using <code>$_POST</code> to send my variables to the update page.</p>\n\n<p>i recently needed to add a <code>&lt;input type='file' /&gt;</code> field to the page. Whenever the user selects a file, the form breaks, and nothing is getting submitted to the next page.</p>\n\n<p>I tried echoing my <code>$_POST</code> variables on the update page. They come through perfectly as long as the <code>file</code> field isn't set. If I choose a file, then none of the variables come though.</p>\n\n<p>i'm really stumped as to why this is happening. does anyone have any ideas why. here is an excerpt.</p>\n\n<p>An excerpt of the huge form:</p>\n\n<pre><code>&lt;form enctype=\"multipart/form-data\" method=\"post\"  action=\"editConfirm.php\"&gt;\n      .\n      .\n     &lt;input type=\"file\" name=\"new_file\" id=\"new_file\"  /&gt;                                           \n     &lt;input type='field' width='25px' name='fakeInput' id='fakeInput' value='' /&gt;\n     &lt;input type=\"hidden\" name=\"compressed_file_id\" id=\"compressed_file_id\"   value='&lt;? echo $compressedID; ?&gt;' /&gt;\n</code></pre>\n\n<p>And the confirmation page:</p>\n\n<pre><code>echo \"New File = \".$_POST['new_file'];\necho \"&lt;br /&gt;Master Title = \".$_POST['masterTitle'];\necho \"&lt;br /&gt;Compressed File ID = \".$_POST['compressed_file_id'];\n</code></pre>\n\n<p>So those all echo properly as long as New File isn't set. If I select a file and submit the form, they all break and nothing comes through.</p>\n"},{"tags":["php","c","regex","preg-match","phalcon"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":13276903,"title":"Regex with brackets","body":"<p>I am looking for some help with regex.</p>\n\n<p>I have this piece of code:</p>\n\n<pre><code>$router-&gt;add( \n    '/activate/{token:[a-zA-Z0-9]+}', \n    array (\n        'module' =&gt; 'frontend',\n        'controller' =&gt; 'user',\n        'action'     =&gt; 'activate'\n    )\n);\n</code></pre>\n\n<p>which works just fine. However the one below does not:</p>\n\n<pre><code>$router-&gt;add( \n    '/activate/{token:[a-zA-Z0-9]{32}}', \n    array (\n        'module' =&gt; 'frontend',\n        'controller' =&gt; 'user',\n        'action'     =&gt; 'activate'\n    )\n);\n</code></pre>\n\n<p>The matching mechanism that I have in C is (which works with preg_match_all also)</p>\n\n<pre><code>'#{([a-zA-Z][a-zA-Z0-9\\_\\-]*)(:([^}]+))*}#'\n</code></pre>\n\n<p>I would appreciate some pointers as to how to make the second example work.</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>preg_match_all(\n    '#{([a-zA-Z][a-zA-Z0-9\\_\\-]*)(:([^}]+))*}#',\n    '/manual/{language:[a-z]{2}}/{file:[a-z]+}.html',\n    $matches,\n    PREG_SET_ORDER\n);\n</code></pre>\n\n<p>I want it to return something like this:</p>\n\n<pre><code>Array\n(\n    [0] =&gt; Array\n        (\n            [0] =&gt; {language:[a-z]{2}}\n            [1] =&gt; language\n            [2] =&gt; :[a-z]{2}\n            [3] =&gt; [a-z]{2}\n        )\n    [1] =&gt; Array\n        (\n            [0] =&gt; {file:[a-z]+}\n            [1] =&gt; file\n            [2] =&gt; :[a-z]+\n            [3] =&gt; [a-z]+\n        )\n)\n</code></pre>\n"},{"tags":["php","locale","arabic","strftime"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":10279918,"title":"php setlocale arabic strftime","body":"<p>I've run <strong>locale -a</strong> on my server and can see that it's got Arabic locale settings installed:</p>\n\n<ul>\n<li>ar_AE</li>\n<li>ar_AE.iso88596</li>\n<li>ar_AE.utf8</li>\n</ul>\n\n<p>However, if I set the locale via:</p>\n\n<pre><code>$locale = array('ar_AE', 'ar_AE.iso88596', 'ar_AE.utf8', 'ar');\nsetlocale(LC_TIME, $locale);\n</code></pre>\n\n<p>and output it:</p>\n\n<pre><code>strftime('%A %d %B', $current_date)\n</code></pre>\n\n<p>The displayed date is in English, not Arabic.</p>\n\n<p>Arabic is the only language this isn't working for: the site I'm working on is in 15 languages and all the others display a translated date.</p>\n\n<p>What's going wrong?</p>\n"},{"tags":["php","iis-7.5","locale","regional-settings"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":159,"score":0,"question_id":8036678,"title":"How to set regional settings in PHP on IIS7.5 per site","body":"<p>I have this issue\nI have several web sites on a Windows server 2008 running PHP\nThe thing is some of them use regional settings for US and some for ES but setLocale() doesnt seem to be affecting the web site in this case</p>\n\n<p>So the only regional settings y get is the US as it seems is the default\nI tryed changing web.config on each site, but nothing happened</p>\n\n<p>How can I set regional settings per site on each PHP web site on IIS7.5?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13279858,"title":"Accessing POST data with file_get_contents","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8893574/php-php-input-vs-post\">PHP php://input vs $_POST</a>  </p>\n</blockquote>\n\n\n\n<p>I'm using the Facebook Real-time updates API to subscribe to changes. The docs state: </p>\n\n<p>\"Following a successful subscription, Facebook will proceed to call your endpoint every time that there are changes (to the chosen fields or connections). For each update, it will make an HTTP POST request.</p>\n\n<p>The request will have content type of application/json and the body will comprise a JSON-encoded string containing one or more changes.\"\n<a href=\"https://developers.facebook.com/docs/reference/api/realtime/\" rel=\"nofollow\">https://developers.facebook.com/docs/reference/api/realtime/</a></p>\n\n<p>I tried over and over to access the POSTed data use $_POST, which was always empty. After googling for a while, i found this <a href=\"https://developers.facebook.com/blog/post/2012/01/31/how-to--subscribing-to-data-changes-using-the-real-time-updates-api/\" rel=\"nofollow\">blog post</a> which contained this magical line: \"$post_body = file_get_contents('php://input');\".</p>\n\n<p>I've never seen 'php://input' before.... what is this? what does it do? What is Facebook doing on their side to create what i assume is a file with the json string in it? Why would they do this rather than send it through $_POST?</p>\n\n<p>Thanks! </p>\n"},{"tags":["php","locale"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":11323733,"title":"php setlocale misbehaviour","body":"<p>Hello and thank you for any insight/info/tip.</p>\n\n<p>We have one page that sends 2 different emails at once. \nEach email is in different language. \nAlmost all email content is from database except a small table that contains day names and numbers.</p>\n\n<p>For each email we use a function to send it. Something like:</p>\n\n<pre><code>function sendemail($locale, $var1, $var2, $var3)\n{\n    setlocale(LC_ALL, $locale); \n    // build email body text\n    //day names are presented like: strftime(\"%a, %d %b %Y %H:%M\", $checkDate)\n    //send email\n}\n</code></pre>\n\n<p>The main page uses these function to send the 2 emails</p>\n\n<pre><code>sendemail($locale1, $var1, $var2, $var3);\nsendemail($locale2, $var1, $var2, $var3);\n</code></pre>\n\n<p>The problem occurs with the second email only. The day names there are based on first locale and not the second one. So, if the first language is English and the second is French, the second email will have English day names instead of French.</p>\n\n<p>Is there a way to fix this? Or somehow destroy/unset/delete/reset the first locale so the second one applies normally?</p>\n\n<p>We are certain we pass different languages/locales in the function.</p>\n\n<p>We currently use the following locales: <code>en_EN.UTF8, fr_FR.UTF8, el_GR.UTF8, de_DE.UTF8, it_IT.UTF8, ru_RU.UTF8, zh_CN.UTF8, ko_KR.UTF8, es_ES.UTF8, sr_RS.UTF8</code></p>\n"},{"tags":["php","locale"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":9921777,"title":"multi-language site with multiple locales misbehaviour","body":"<p>In a project of my company there is a website available in 6 languages. The site sends some emails to customers/members. Every phrase/word is stored in database and all work well in the website. Our main problem appears in emails.</p>\n\n<p>In each email there are daily reports. We use set_locale() to define each language and \"show\" the day names (months also) to the proper selected language. This works ok.</p>\n\n<p>In some cases there are more than one emails to be send (in 2 different languages) - here we have problem.\nEvery info in email appears correct - texts/translations from database.\nDay names (and month also) appear only in the first language in both emails.\nSo, if the first email was in german and the second in french, the french email will have everything in french excpet the day names that will be in german (even though that we execute set_locale again before sending the second email)</p>\n\n<p>Why is that? Is this some set_locale bad behavior? How can we prevent/fix this? Thank you for any insight/tips</p>\n\n<p><strong>EDIT:</strong>\nthe code we use is: setlocale(LC_ALL, $setLocale);\nwhere setLocale would look like \"fr_FR.UTF8\"</p>\n"},{"tags":["php","text","download","text-files"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13279801,"title":"How can I download a string to the browser using php? Not a text file","body":"<p>My problem is that I have a string that gets generated from database queries, timestamps, and other random things and is always different so I don't have a \"file\" to download. How can I use this generated string to be downloaded as a <code>.txt</code> file in the browser for the user? I know that you can download a file to the browser using headers so maybe something like this:</p>\n\n<pre><code>$result = 'Generated string that is different every time. 20121107160322';\n\nheader(\"Content-Type: text/plain\");\nheader(\"Content-Disposition: attachment; content=$result\");\nheader(\"Content-Length: \" . strlen($result));\n</code></pre>\n\n<p>Obviously this doesn't work, but I don't even know where to start.</p>\n"},{"tags":["php","pdo","db2","locale"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":71,"score":4,"question_id":12921059,"title":"PHP - locale information gone after PDO connection (DB2)","body":"<p>Is there any reason why PHP loses all locale information after connecting to DB2 with PDO?</p>\n\n<p>I always have to set the locale information again after a connnection.</p>\n\n<pre><code>&lt;?PHP\n//set locale information\nsetlocale( LC_MONETARY,'en_US' );\n\n//print location information\nprint_r(localeconv());\n\n//    Array\n//    (\n//      [decimal_point] =&gt; .\n//      [thousands_sep] =&gt; \n//      [int_curr_symbol] =&gt; USD \n//      [currency_symbol] =&gt; $\n//      [mon_decimal_point] =&gt; .\n//      [mon_thousands_sep] =&gt; ,\n//      ...\n//    )\n\n//************************************************\n//create conenction to server\n$connection= new PDO(\"odbc:server\", 'username', 'password');\n//************************************************\n\n//see locale information after creating a connection\nprint_r(localeconv());\n\n//    Array\n//    (\n//      [decimal_point] =&gt; .\n//      [thousands_sep] =&gt; \n//      [int_curr_symbol] =&gt; \n//      [currency_symbol] =&gt; \n//      [mon_decimal_point] =&gt; \n//      [mon_thousands_sep] =&gt; \n//      ...\n//\n//    )\n?&gt;\n</code></pre>\n"},{"tags":["php","mysql","mysqli"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13278909,"title":"How can I display only incorrect answers and keep same table layout","body":"<p>Below I have 4 database tables, Session, Question, Answer and Option_Type.</p>\n\n<p><strong>Session Table:</strong></p>\n\n<pre><code>SessionId  SessionName\n1          AAA\n</code></pre>\n\n<p><strong>Question Table:</strong></p>\n\n<pre><code>SessionId   QuestionId  QuestionContent       OptionId\n1           1           What is 1+1 and 4+4   2\n1           2           Does 2+2 = 4          26\n1           3           What is 3+3 and 5+5   3\n</code></pre>\n\n<p><strong>Answer Table:</strong></p>\n\n<pre><code>AnswerId  SessionId QuestionId  Answer\n1         1         1           B\n2         1         1           C\n3         1         2           Yes\n4         1         3           A\n5         1         3           C\n</code></pre>\n\n<p><strong>Option_Type</strong></p>\n\n<pre><code>OptionId OptionType\n1        A-C\n2        A-D\n3        A-E\n4        A-F\n\n.... goes up to 24 where it goes up to A-Z\n\n25       True or False\n26       Yes or No\n</code></pre>\n\n<p>Now in a jsfiddle here I have created a demo html table which you can see <a href=\"http://jsfiddle.net/WHUkh/6/\" rel=\"nofollow\">here</a></p>\n\n<p>Now if you have a good look at the html table, you will realise that what I am trying to do is display the incorrect answers under the \"Incorrect Answer\" column.</p>\n\n<p>So for example for Question 1:</p>\n\n<ul>\n<li>Option type is A-D</li>\n<li>Correct Answer is B, C</li>\n<li>So Incorrect answers that should be dislayed in table is A and D</li>\n</ul>\n\n<p>So my question is that how in my php script can I select the option_type for a question, display all of the possible answers and remove the correct answers, displaying only the incorrect answers? The layout of the table must be the same as the layout in the jsfiddle.</p>\n\n<p>Below is the table output in the php script. At the moment it is displaying similar table as in jsfiddle except difference is that it is outputting correct answers, not incorrect answers.</p>\n\n<pre><code>   $query = \"SELECT q.SessionId, s.SessionName, q.QuestionId, q.QuestionContent, an.Answer, q.QuestionMarks \n   FROM Session s \n   INNER JOIN Question q ON s.SessionId = q.SessionId\n   JOIN Answer an ON q.QuestionId = an.QuestionId AND an.SessionId = q.SessionId\n   WHERE s.SessionName = ?\n   ORDER BY q.QuestionId, an.Answer\n   \";\n\n   // prepare query\n   $stmt=$mysqli-&gt;prepare($query);\n   // You only need to call bind_param once\n   $stmt-&gt;bind_param(\"s\", $assessment);\n   // execute query\n   $stmt-&gt;execute(); \n\n\n       // This will hold the search results\n    $searchQuestionId = array();\n    $searchQuestionContent = array();\n    $searchAnswer = array();\n    $searchMarks = array();\n\n    // Fetch the results into an array\n\n   // get result and assign variables (prefix with db)\n   $stmt-&gt;bind_result($dbSessionId, $dbSessionName, $dbQuestionId, $dbQuestionContent, $dbAnswer, $dbQuestionMarks);\n      while ($stmt-&gt;fetch()) {\n        $searchQuestionId[] = $dbQuestionId;\n        $searchQuestionContent[] = $dbQuestionContent;\n        $searchAnswer[] = $dbAnswer;\n        $searchMarks[] = $dbQuestionMarks;\n      } \n\n?&gt;      \n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form id=\"QandA\" action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\"&gt;\n\n&lt;?php \n\necho \"&lt;table border='1' id='markstbl'&gt;\n      &lt;tr&gt;\n      &lt;th class='questionth'&gt;Question No.&lt;/th&gt;\n      &lt;th class='questionth'&gt;Question&lt;/th&gt;\n      &lt;th class='answerth'&gt;Incorrect Answer&lt;/th&gt;\n      &lt;th class='answermarksth'&gt;Penalty per Incorrect Answer&lt;/th&gt;\n      &lt;/tr&gt;\\n\";\n$previous_question_id = null;\n$rowspans = array_count_values($searchQuestionId);\nforeach ($searchQuestionContent as $key=&gt;$question) {\n\n    // removed logic, not necessary to set empty strings if you're skipping them\n\n    echo '&lt;tr class=\"questiontd\"&gt;'.PHP_EOL;\n\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        echo '&lt;td class=\"questionnumtd\" name=\"numQuestion\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($searchQuestionId[$key]).'&lt;/td&gt;' . PHP_EOL;\n        echo '&lt;td class=\"questioncontenttd\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($question).'&lt;/td&gt;' . PHP_EOL;\n    }\n\n    echo '&lt;td class=\"answertd\" name=\"answers[]\"&gt;';\n    echo $searchAnswer[$key];\n    echo '&lt;/td&gt;' ;\n    echo '&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" /&gt;&lt;/td&gt;' . PHP_EOL;\n\n    // moved this to the end\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        $previous_question_id = $searchQuestionId[$key];\n    }\n}\n        echo '&lt;/tr&gt;';\n        echo \"&lt;/table&gt;\" . PHP_EOL;\n\n        ?&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>At the moment the code above is showing the correct answers under the \"Incorrect Answers\" column, not the incorrect answers.</p>\n"},{"tags":["php","sockets","printing","tcp","udp"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":69,"score":6,"question_id":13269790,"title":"Is it possible to access a local printer using TCP/IP sockets in PHP?","body":"<p>I know that PHP has it's own <a href=\"http://php.net/manual/en/book.printer.php\" rel=\"nofollow\">PECL to do this</a>, but I'm currently using PHP 5.4 and the <code>php_printer.dll</code> isn't compiled for this version.</p>\n"},{"tags":["php","mysql","mysqli"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13279518,"title":"Can I run a single SELECT rather than two nested to link two tables, omitting dupes, and return value if they match? MySQL / PHP","body":"<p>total n00b here, first post, so please be constructive! I've bought a book to teach myself PHP / MySQL - and not one which is universally praised, unfortunately - so my progress is a bit erratic. </p>\n\n<p>I have two tables which I want to link. I want to display all of the information held in table 1 (let's call it Records), but ONLY once. I then want to check whether each item in Records has a match to a specific field in table 2 (UserTable) and if it does, display a ticked checkbox, or an empty checkbox if there's no match.</p>\n\n<p>The issues I've had to date are only displaying the items from Records where there's a match, or displaying multiple instances of each item in Records where there are multiple matches. I've solved these with the code below - but I keep thinking there must be a better way to do this, perhaps with a single link?</p>\n\n<p>Anyway, here are some excerpts from the code:</p>\n\n<pre><code>$sql = \"SELECT * FROM Records\";\n$res = mysqli_query($mysqli,$sql);\n\nwhile ($iteminfo = mysqli_fetch_array($res, MYSQLI_ASSOC)) {\n$recordid2 = $iteminfo['record_id'];\n</code></pre>\n\n<p>I've omitted a section which pulls out the relevant data from Records and starts to build a table, then:</p>\n\n<pre><code>$sql2 = \"SELECT COUNT(*) AS matches FROM UserTable \nwhere usertable.item = '$recordid2' and User_ID = '$current_user_id'\";\n\n$res2 = mysqli_query($mysqli, $sql2);\n$matches = mysqli_fetch_array($res2, MYSQLI_ASSOC);\n$matches2 = $matches['matches'];\n\nif ($matches2) {\n        $output = \"&lt;input type='checkbox' name='test' checked&gt;\"; } else {\n        $output = \"&lt;input type='checkbox' name='test'&gt;\";\n</code></pre>\n\n<p>As I say, this works, but it feels a bit clumsy - I'm running a separate nested query for every item in Records, which over time could become really slow. Is there a way to run a single query for the whole which brings through all of the row info (once) and a 0 or 1 depending on whether there is a match in UserTable? I've tried using DISTINCT but couldn't get it to work.</p>\n"},{"tags":["php","symfony2","formbuilder"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13258352,"title":"Create array input field with form builder symfony2","body":"<p>I'm having a trouble with using Form builder in Symfony2.\nTo be exact, I need input field that is html array, but I can't create it with createFormBuilder->add.\nHere is what I tried:</p>\n\n<pre><code>$attributesForm = $this-&gt;createFormBuilder()\n        -&gt;add('attribute[0]', 'text') ...\n</code></pre>\n\n<p>And so on, but I get the following exception:</p>\n\n<blockquote>\n  <p>The name \"attribute[0]\" contains illegal characters. Names should start with a letter, >digit or underscore and only contain letters, digits, numbers, underscores (\"_\"), hyphens >(\"-\") and colons (\":\").</p>\n</blockquote>\n\n<p>Is there any nice solution or I have to create fields manually?</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: to clarify this further...\nI want something like this to be generated:</p>\n\n<pre><code>&lt;div id=\"msoft_adminbundle_offertype\"&gt;\n&lt;div&gt;Name &lt;input type=\"text\" name=\"name\"&gt;&lt;/div&gt;\n&lt;div&gt;...&lt;/div&gt;\n&lt;div&gt;Attribute 0 &lt;input type=\"text\" name=\"attribute[0]\"&gt;&lt;/div&gt;\n&lt;div&gt;Attribute 1 &lt;input type=\"text\" name=\"attribute[1]\"&gt;&lt;/div&gt;\n&lt;div&gt;Attribute 3 &lt;input type=\"text\" name=\"attribute[3]\"&gt;&lt;/div&gt;\n&lt;ul&gt;\n    &lt;/ul&gt;\n&lt;p&gt;\n    &lt;button type=\"submit\"&gt;Edit&lt;/button&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>Help?</p>\n"},{"tags":["php","wordpress","wordpress-plugin","wordpress-plugin-dev"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":117,"score":0,"question_id":13137127,"title":"Remove WordPress' license.txt using plugin","body":"<p>I want to write a plugin to return <code>HTTP 404</code> when user request   <code>license.txt</code>, what is the correct <code>action</code> to hook (both efficient and effective way to block)?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Because I don't have control to the web server, I must do this as a plugin</p>\n"},{"tags":["php","javascript","html"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13270901,"title":"select onchange issue","body":"<p>I am working on a brand filter. When I change the brand name from dropdown, I am not getting anything; it seems that no event was triggered.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>&lt;select onchange=\"location.href=[server.url type='fullpage' query='sort=price&amp;brand=$brand']\"&gt;\n\n&lt;?php \n  $brands = dfr_get_brands_list($category);\nforeach ($brands as $brand) : ?&gt;\n\n       &lt;option&gt;&lt;?php echo $brand; ?&gt;&lt;/option&gt;\n\n&lt;?php endforeach; ?&gt;\n\n&lt;/select&gt;\n</code></pre>\n\n<p><code>[server.url type='fullpage' query='']</code> returns the full URL of the current page, for example: <code>http://www.mysite.com/store/category/shoes/</code>. </p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":5928,"score":1,"question_id":8057030,"title":"Resource interpreted as image but transferred with MIME type text/html - Magento","body":"<p>I'm getting below error when uploading a new product image for my Magento shop.</p>\n\n<pre><code>Resource interpreted as image but transferred with MIME type text/html\n</code></pre>\n\n<p>Is there a reason why this is happening?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13279615,"title":"PHP Illegal offset type and strings issue","body":"<p>Each time I run my code I keep getting an <strong>Illegal offset type</strong> error. Any way I can fix it? </p>\n\n<p>Secondly the code keeps producing an output like this. I'm not sure how to describe it so I posted up a picture:</p>\n\n<p><img src=\"http://i.stack.imgur.com/DGk2D.png\" alt=\"enter image description here\"></p>\n\n<p>I would like it to just display one message per line i.e. Failed, Declined, Failed not join them up like this Failed, FailedDeclined, FailedDeclinedFailed. How do I go about doing this?</p>\n\n<pre><code>    $dateStart = new DateTime();\n    $dateStart-&gt;setDate(2012, 10, 01);\n    $dateEnd = new DateTime();\n    $dateEnd-&gt;setDate(2012, 12, 01);\n\n    $dates = array();\n    while ( $dateStart &lt; $dateEnd ) {\n    $rand[] = array_rand($status);\n    $text = $status[$rand];\n    foreach ( $rand as $key ) $text .= $status[$key];\n\n    printf(\n    \"&lt;li&gt;&lt;div id='activity_date'&gt;%s&lt;/div&gt;&lt;div id='activity_box'&gt;&lt;div id='activity_text'&gt;\" . $text . '&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;',\n    $dateStart-&gt;format(\"d/m/Y\")\n);\n\n$dateStart-&gt;modify(sprintf(\"+%d day\",mt_rand(1, 10)));\n}\n</code></pre>\n\n<p>Line 96 is <code>$text = $status[$rand];</code> btw</p>\n"},{"tags":["php","windows","symfony2","wamp","fosuserbundle"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13279606,"title":"Symfony 2.1 configuration of FOSUserBundle 'Class 'FOS\\UserBundle\\FOSUserBundle' not found in app/AppKernel.php","body":"<p>I am using symfony on Windows and I tried to configure FOSUserBundle as described in the <a href=\"https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/doc/index.md\" rel=\"nofollow\">official documentation</a></p>\n\n<p>When I run <code>php app/console doctrine:schema:update --force</code> I get this message:</p>\n\n<pre><code>Class 'FOS\\UserBundle\\FOSUserBundle' not found in app/AppKernel.php line 24;\n</code></pre>\n\n<p>I configured the AppKernel.php as I should:</p>\n\n<pre><code>public function registerBundles()\n{\n    $bundles = array(\n        // The rest\n        new FOS\\UserBundle\\FOSUserBundle(),\n    );\n\n    return $bundles;\n}\n</code></pre>\n\n<p>My<code>FOSUserBundle.php</code> file is located at <code>vendor/friendsofsymfony/user-bundle/FOS/UserBundle</code></p>\n"},{"tags":["php","upload","ftp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":32,"score":-5,"question_id":13279269,"title":"Upload remote picture to FTP using PHP","body":"<p>I want to upload a picture from another site to my FTP server using PHP.</p>\n\n<p>Example:</p>\n\n<p>File to upload(\"http://page.mi.fu-berlin.de/krudolph/stuff/stackoverflow.png\")</p>\n\n<p>FTP-path(\"pictures/\")</p>\n\n<p>This is what I've already tried:</p>\n\n<p>#</p>\n\n<pre><code>$image = file_get_contents(\"http://img.youtube.com/vi/Rz8KW4Tveps/1.jpg\");\nfile_put_contents(\"imgfolder/imgID.jpg\", $image);\n</code></pre>\n\n<p>#</p>\n\n<pre><code>copy('http://img.youtube.com/vi/Rz8KW4Tveps/1.jpg', 'imgfolder/imgID.jpg');\n</code></pre>\n\n<p>#</p>\n\n<p><a href=\"http://stackoverflow.com/questions/12489499/uploading-remote-url-to-server\">uploading remote url to server</a></p>\n\n<p>#</p>\n\n<p><a href=\"http://www.teckdevil.com/php-server-to-server-transfer-script-to-remotely-transfer-files/\" rel=\"nofollow\">http://www.teckdevil.com/php-server-to-server-transfer-script-to-remotely-transfer-files/</a></p>\n\n<p>#</p>\n\n<p>(kinda the same as first linked) <a href=\"http://stackoverflow.com/questions/12315223/download-files-directly-to-my-server\">Download files directly to my server</a></p>\n\n<p>#</p>\n\n<p>I don't get any errors when I'm running the scripts and I have chmod the directory to 777.</p>\n"},{"tags":["php","javascript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":30,"score":-2,"question_id":13279602,"title":"Javascript triple greater than in PHP","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3325640/php-shift-right\">PHP shift right</a>  </p>\n</blockquote>\n\n\n\n<p>What is the ability to get the same result of javascript's <a href=\"http://msdn.microsoft.com/en-us/library/342xfs5s%28v=vs.94%29.aspx\" rel=\"nofollow\">triple great than ( >>> )</a> in php ?</p>\n"},{"tags":["php","glob"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1042,"score":3,"question_id":1877524,"title":"Does glob() have negation?","body":"<p>I know I can do this...</p>\n\n<pre><code>glob('/dir/somewhere/*.zip');\n</code></pre>\n\n<p>...to get all files ending in <code>.zip</code>, but is there a way to return all files that are <em>not</em> ZIPs?</p>\n\n<p>Or should I just iterate through and filter off ones with that extension?</p>\n"},{"tags":["php","mysql","sql","mysqli","mysql-num-rows"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13279248,"title":"mysqli_num_rows = 0 when it should be 1","body":"<p>I've been trying to resolve this problem on my own and for the life of me can't fix it..</p>\n\n<pre><code>//If they are, retreive them from the Person table    \nvar_dump($_POST['username']);\nvar_dump($_POST['password']);\n$select = $this-&gt; doQuery(\"SELECT * FROM Person WHERE username = '{$_POST['username']}' AND password = '\".md5($_POST['password']).\"'\");\nvar_dump($select);  \n\ntry {    \n    if (mysqli_num_rows($select) &gt; 0){\n        var_dump(mysqli_num_rows($select));\n        //fetching username and password from database\n        $fetch_array = mysqli_fetch_assoc($select);\n        var_dump($fetch_array);     \n        //Building a session for the user\n        $_SESSION['username'] = $fetch_array['username'];\n\n        //var_dump($_SESSION['username']);\n\n        //Redirecting the user to the index page        \n        header('Location:index.php');\n        return true;\n    }\n</code></pre>\n\n<p>The two var_dumps on the username and password on the 4th and 5th lines returned this: </p>\n\n<pre><code>string(8) \"johnny03\" \nstring(9) \"password3\" \nobject(mysqli_result)#3 (5) { [\"current_field\"]=&gt; int(0) [\"field_count\"]=&gt; int(8) [\"lengths\"]=&gt; NULL [\"num_rows\"]=&gt; int(0) [\"type\"]=&gt; int(0) } \n</code></pre>\n\n<p>The values that I entered for both the password and username are both valid (they are in the database under the correct columns, trust me). I have a feeling that something is wrong with my select query because the var dump on mysqli_num_rows($select) doesn't return anything.That being said, I've tried just about every change to the query that I could think of to make it work and still nothing :[  Can anyone help? </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13279172,"title":"Why does it not find any sessions in the session drop down menu?","body":"<p>This is what is suppose to be happening in the code and application:</p>\n\n<ol>\n<li><p>When user opens the application, it will display 2 drop down menus, one for courses and the other for modules. The courses drops down menu will display a list of all the courses while in the mean time the modules drop down menu only shows the \"Please Select\" option. </p></li>\n<li><p>When the user selects a course, it will suddenly display the relevant modules in the modules drop down menu depending on the course chosen. The modules are displayed by the editsessionadmin.php file using the jquery function to navigate to the module.php page and displaying the relevant modules options.</p></li>\n<li><p>Now when the user submits the course and modules details, it outputs the Course Id and Course Name and display the Module Id and the Module Name. </p></li>\n<li><p>But the problem is that it is not displaying the session drop down menu. It keeps stating that it can not find any sessions. It should display a list of sessions in its drop down menu which belongs to the module selected.</p></li>\n</ol>\n\n<p>So my question is that why can't it find any sessions no matter which modules I have chosen?</p>\n\n<p>Below is the editsessionadmin.php page (I only included relevant code, not whole code to cut down on the code):</p>\n\n<pre><code>&lt;?php\n\nmoduleHTML = \"\";  \n$moduleHTML .= '&lt;select name=\"modules\" id=\"modulesDrop\"&gt;'.PHP_EOL; \n$moduleHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;  \n$moduleHTML .= '&lt;/select&gt;'; \n\n\n?&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction getModules() { \nvar course = jQuery(\"#coursesDrop\").val(); \njQuery('#modulesDrop').empty(); \njQuery('#modulesDrop').html('&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'); \njQuery.ajax({ \ntype: \"post\", \nurl:  \"module.php\", \ndata: { course:course }, \nsuccess: function(response){ \njQuery('#modulesDrop').append(response); \n} \n}); \n\n\n}\n\n\n&lt;/script&gt; \n\n&lt;form action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\" onsubmit=\"return validation();\"&gt;&lt;table&gt;\n&lt;tr&gt;\n&lt;th&gt;Module: &lt;?php echo $moduleHTML; ?&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;p&gt;&lt;input id=\"moduleSubmit\" type=\"submit\" value=\"Submit Course and Module\" name=\"moduleSubmit\" /&gt;&lt;/p&gt;\n&lt;div id=\"moduleAlert\"&gt;&lt;/div&gt;\n&lt;/form&gt;\n\n&lt;?php\n\nif (isset($_POST['moduleSubmit'])) {    \n\n$outputmodule = \"\"; \n\n$moduleInfo = explode(\"_\", $_POST['modules']);\n$moduleId = $moduleInfo[0];\n$moduleName = $moduleInfo[1];\n$outputmodule = sprintf(\"&lt;p&gt;&lt;strong&gt;Module:&lt;/strong&gt; %s - %s&lt;/p&gt;\", $moduleId, $moduleName);\n\necho $outputcourse;\necho $outputmodule;\n\n$sessionquery = \"\nSELECT SessionId, SessionName, SessionDate, SessionTime, ModuleId\nFROM Session\nWHERE\n(ModuleId = ?)\nORDER BY SessionDate, SessionTime \n\";\n\n$sessionqrystmt=$mysqli-&gt;prepare($sessionquery);\n// You only need to call bind_param once\n$sessionqrystmt-&gt;bind_param(\"s\",$_POST['modules']);\n// get result and assign variables (prefix with db)\n\n$sessionqrystmt-&gt;execute(); \n\n$sessionqrystmt-&gt;bind_result($dbSessionId,$dbSessionName,$dbSessionDate,$dbSessionTime, $dbModuleId);\n\n$sessionqrystmt-&gt;store_result();\n\n$sessionnum = $sessionqrystmt-&gt;num_rows();   \n\nif($sessionnum ==0){\necho \"&lt;p&gt;Sorry, You have No Assessments under this Module&lt;/p&gt;\";\n} else { \n\n$sessionHTML = '&lt;select name=\"session\" id=\"sessionsDrop\"&gt;'.PHP_EOL;\n$sessionHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;           \n\nwhile ( $sessionqrystmt-&gt;fetch() ) {\n$sessionHTML .= sprintf(\"&lt;option value='%s'&gt;%s - %s - %s&lt;/option&gt;\", $dbSessionId, $dbSessionName, date(\"d-m-Y\",strtotime($dbSessionDate)), $dbSessionTime) . PHP_EOL;  \n}\n\n\n$sessionHTML .= '&lt;/select&gt;';\n</code></pre>\n\n<p>Below is the module.php code:</p>\n\n<pre><code>&lt;?\n\n    $moduleHTML  = \"\";  \n\n     while($sqlstmt-&gt;fetch()) { \n         $moduleHTML .= sprintf('&lt;option value=\"%1$s_%2$s\"&gt;%1$s - %2$s&lt;/option&gt;'.PHP_EOL, $dbModuleId, $dbModuleName);\n    } \n\n\n    echo $moduleHTML; \n\n     $sqlstmt-&gt;execute(); \n\n?&gt;\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>Below is the old module.php code which worked when it comes to finding sessions which belonged to the selected module from the drop down menu, only reason I hanged it was because I wanted to echo the Module Name in editsessionadmin.php, and the only way I can do this was by changing the code to the one above. But maybe you can see why the old module.php code works and why the new code doesn't work when it comes to displaying sessions:</p>\n\n<pre><code> $moduleHTML  = \"\";  \n\n     while($sqlstmt-&gt;fetch()) { \n        $moduleHTML .= \"&lt;option value='$dbModuleId'&gt;\" . $dbModuleId . \" - \" . $dbModuleName . \"&lt;/option&gt;\".PHP_EOL;   \n    } \n\n\n    echo $moduleHTML; \n</code></pre>\n"},{"tags":["php","zip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13279418,"title":"How to detect a zip bomb using PHP?","body":"<p>I’m making a PHP script that retrieve user-given zip files, unzip it, and do some stuff with the files in it, using a <code>ZipArchive</code> object. How can I avoid zip bombs like <a href=\"http://www.unforgettable.dk\" rel=\"nofollow\">42.zip</a>?</p>\n"},{"tags":["php","apache","virtualhost","virtual-hosts"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":385,"score":1,"question_id":10146605,"title":"apache php Virtualhost","body":"<p>I am trying to implement virtual host in my system.</p>\n\n<p>I have used the below code for that.</p>\n\n<pre><code>NameVirtualHost *:80\n&lt;VirtualHost *:80&gt;\n    ServerAdmin webmaster@dummy-host.example.com\n    DocumentRoot \"/Users/shanker/Documents/content_booking/\"  \n    ServerName content.boking\n    Alias /booking \"/Users/shanker/Documents/content_booking/public/\"\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>also i have updated the hosts file as</p>\n\n<p>127.0.0.1 content.booking</p>\n\n<p>But I am getting the following errors:</p>\n\n<pre><code>---------------------------------------------------------\nAccess forbidden!\n\nYou don't have permission to access the requested directory. There is either no index document or the directory is read-protected.\n\nIf you think this is a server error, please contact the webmaster.\nError 403\n---------------------------------------------------------\n</code></pre>\n\n<p>Can anybody please fix this issue.</p>\n"},{"tags":["php","controller","cakephp-2.0","element"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13279464,"title":"cakephp 2: Pass variable from controller to element","body":"<p>I want to pass information from my controller into my element. What cakephp 2 function do I use prior to rendering my element so that my login_ajax element is aware of the value of $error.</p>\n\n<p>This is an abbreviated version of my controller function</p>\n\n<pre><code>public function login($_msg=null) {\n\n    $this-&gt;get_post('login');\n    $error = false;\n\n    if($this-&gt;request-&gt;is('post')) {\n        if($this-&gt;Auth-&gt;login()) {\n            // REDIRECT TO DASHBOARD\n            $this-&gt;redirect(array('controller' =&gt; 'users', 'action' =&gt; 'dashboard'));\n        } else {\n            $error = true;\n        }\n    }\n\n    // !! pass $error status to element here !!\n    $this-&gt;set('element', 'login_ajax');\n    $this-&gt;render('ajax_modal', 'ajax');\n}\n</code></pre>\n\n<p>And the variable doesn't need to be named $error if that would cause a conflict, it's just an example.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","session-variables"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13279092,"title":"requesting php image files in a loop","body":"<p>I have a php file that produces a graph, populated through the answers of 4 sql statements, in another php file i have a simple loop that requests the image by posting a variable through session to a variable nested within the sql of the image file.</p>\n\n<p>i have checked that the 'sent' variable is iterating through my loop... but the problem is that if i want to itterate by 2 the 2 images i get are of the last result instead of graph1, graph2, i get graph2, graph2...</p>\n\n<p>is their something i missing? Please any help - very new to PHP thanks :)\nheres the loop;</p>\n\n<pre><code>&lt;?php\nsession_start();\n\nfor ($i = 1; $i &lt; 3; $i++)\n{\n    $_SESSION['question'] = $i;\n    ?&gt;\n    &lt;div id=\"apDiv1\"&gt;&lt;img src=\"round.php\"&gt;&lt;/div&gt;\n    &lt;?php\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","android","amazon-s3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13279384,"title":"Android and PHP load website","body":"<p>i want to open <a href=\"https://www.amazon.com/ap/signin?_encoding=UTF8&amp;openid.assoc_handle=amzn_clouddrive_us&amp;openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;openid.mode=checkid_setup&amp;openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&amp;openid.pape.max_auth_age=0&amp;openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fclouddrive%2F%3F_encoding%3DUTF8%26action%3Dsign-out%26associationHandle%3Damzn_clouddrive_us%26pageId%3Dclouddrive_authportal_us%26path%3D%252Fclouddrive%252F%26ref_%3Dpd_irl_gw_r%26signIn%3D1%26useAuthPortal%3Dtrue%26useRedirectOnSuccess%3D1&amp;pageId=clouddrive_authportal_us\" rel=\"nofollow\">amazon login</a> in webview android. but i wanted this login automatically done with the help of code. As i am the android developer don't have much idea about PHP.</p>\n\n<p>please tell me the way i can automatically submit this form in php.\nhow to $_POST in php ?</p>\n"},{"tags":["php","javascript","css"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13279052,"title":"not cache image linked in stylesheet","body":"<p>when I am debugging to ensure that some files are not cached and therefore reloaded anew each time, I frequently link files with something like</p>\n\n<pre><code>&lt;script src=\"script/js.js?&lt;?=time()?&gt;\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Is there some way I can do something in css to ensure background images are reloaded every time the page loads without making the style something other than a .css file? (php with css header for example)</p>\n\n<pre><code>#bg_div{\nbackground: url(../images/darrow.png.....)\n}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["php","session","logging","tracking","logout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13279264,"title":"Detecting and storing logout times","body":"<p>My application currently stores some basic _SESSION events, such as login and each page/URI requested.  I've been asked to enhance event logging to include tracking when users log out. </p>\n\n<p>The trouble with logouts is that users don't always remember to click a dedicated Logout button.  Sometimes they just leave the browser open, or close the open browser windows, or simply shut down.  I can't always be guaranteed an exact logout event. </p>\n\n<p>I can get a rough idea of user logout times by querying my event table for periods of no activity, however this seems roughshod.  </p>\n\n<p>Is there a best practice for detecting passive logouts in PHP?</p>\n"},{"tags":["php","facebook-connect","logout","facebook"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3179,"score":1,"question_id":4240634,"title":"Facebook connect - logout + destroy session","body":"<p>I need to get an anchor tag to delete a session in php + log the user out of Facebook. Before I used Facebook connect, I was using this php code to destroy the session:</p>\n\n<pre><code>    if(isset($_GET['logoff'])){\n    $_SESSION = array();\n\n session_destroy();\n\n header(\"Location: /\");\n exit;\n}\n</code></pre>\n\n<p>And this for the anchor tag:</p>\n\n<pre><code>&lt;a href='?logoff'&gt;Log Out&lt;/a&gt;\n</code></pre>\n\n<p>I now need the same anchor tag to go to the $logoutUrl + destroy the session.</p>\n"},{"tags":["php","exception","doctrine","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13275478,"title":"QueryException shows error with the query in it","body":"<p>I'm using doctrine and its the best thing i have ever seen, but I have a little problem with it. I'm making a search for my webapplication and i need an query for that, because with the find function you cant search.</p>\n\n<p>Well I have no idea what I'm doing wrong. Because the QueryException shows an error even when its the simplest query. Here is some code of mine:</p>\n\n<pre><code>$this-&gt;_em-&gt;createQuery('SELECT * FROM parcel u WHERE u.parcel_id = \"1\"')\n                     -&gt;getResult();\n</code></pre>\n\n<p>I just want to get an parcel (just a test). And this is what i get:</p>\n\n<pre><code>Fatal error: Uncaught exception 'Doctrine\\ORM\\Query\\QueryException' with message 'SELECT * FROM parcel u WHERE u.parcel_id = \"1\"' \n</code></pre>\n\n<p>That's not an easy error. I dont know what i'm doing wrong.\nMaybe my bootstrap is something missing?</p>\n\n<p>I have doctrine with Codeigniter, maybe thats the deal!</p>\n"},{"tags":["php","android","image","file","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13279070,"title":"Saving a image to server after http post - android to php","body":"<p>Struggled with this for a few hours now so time to ask a question.</p>\n\n<p>Im sending a multipart http post from android to php server using apachehttpclient jar package.</p>\n\n<p>Once the info is posted to php im trying to save the image to a folder so I can work with it:</p>\n\n<pre><code>&lt;?php\n\nrequire(\"fpdf.php\");\n\n//Receive the data from android\n$name = $_POST['email'];\n$data = $_POST['data'];\n\n//Receive the file\n$file = $_FILES['image'];\n\n//$newpath = \"/\";\n//file_put_contents($newpath, $file);\n\nif(move_uploaded_file($file, $newpath)) {\n\necho json_encode(\n        array(\n            'result'=&gt;$data,\n            'msg'=&gt;'Report added successfully.'\n            )\n        );\n}else {\n//something else \n};\n\n?&gt;\n</code></pre>\n\n<p>I have tried <code>move_upload_file</code> <em>as above</em> and also <code>file_put_contents($newpath, $file);</code></p>\n\n<p>Any help greatly appreciated.</p>\n"},{"tags":["php","preg-replace"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":36,"score":-2,"question_id":13279061,"title":"What's the correct regular expression that I need?","body":"<p>I want to search and replace in a string using php's <code>preg_replace</code> in relative large text.</p>\n\n<p>Search: <code>[3,Name]</code>\nReplace: <code>&lt;a href=\"/Name/3/\"&gt;Name&lt;/a&gt;</code></p>\n\n<p>Could somebody help me building the right query?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13278627,"title":"PHP regular expression pattern allows unwanted literal asterisks","body":"<p>I have a regular expression that allows only specific characters from the name fields in an HTML form, namely letters, white space, single quotes, hyphens and periods. Here is the pattern:</p>\n\n<pre><code>return mb_ereg_match(\"^[\\w\\s'-\\.]+$\", $name);\n</code></pre>\n\n<p>Problem is this pattern, for some reason, returns true when there are literal asterisks in $name. This shouldn't be possible unless I'm missing something. I've done multiple searches on literal asterisks and all I found was the <code>\"\\*\"</code> pattern for intentionally matching them. </p>\n\n<p>The same pattern in preg_match() also returns a match when passed a string like \"*John\".</p>\n\n<p>What the heck am I missing?</p>\n"},{"tags":["php","mysql","json","google-charts","google-visualization"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":7462,"score":5,"question_id":7685745,"title":"Google Chart Tools with PHP & MySQl","body":"<p>I'm trying to create a chart using the Google Visualization API, with PHP &amp; MySQL in the background.</p>\n\n<p>What I'm doing is:</p>\n\n<ul>\n<li>getting the data from db using PHP / SQL <br /><br /><code>$sth = mysql_query(\"SELECT * FROM Chart\");</code><br /><br /></li>\n<li><p>creating JSON with PHP</p>\n\n<pre><code>$rows = array();\n\nwhile($r = mysql_fetch_assoc($sth)) {\n  $rows[] = $r;\n}\n\n$jdata = json_encode($rows);\n</code></pre></li>\n<li><p>and than feeding Google Visualization API with JSON </p>\n\n<pre><code>var data = new google.visualization.DataTable(&lt;?php echo $jdata ?&gt;); \n</code></pre></li>\n</ul>\n\n<p>Just to make sure the JSON is actually in the correct format I did:</p>\n\n<p><code>$jdata = json_encode($rows);\nprint $jdata;</code> </p>\n\n<p>which returned: </p>\n\n<p><code>[{\"id\":\"1\",\"quarters\":\"1\",\"salary\":\"1250\"},{\"id\":\"2\",\"quarters\":\"2\",\"salary\":\"2500\"},{\"id\":\"3\",\"quarters\":\"3\",\"salary\":\"4526\"},{\"id\":\"4\",\"quarters\":\"4\",\"salary\":\"4569\"}]</code></p>\n\n<p>So,</p>\n\n<ul>\n<li>db connection is OK.</li>\n<li>creating JSON from PHP array is OK.</li>\n<li>JSON format is OK.</li>\n</ul>\n\n<p>Firebug is returning an error saying: <code>Table has no columns.\n[Break On This Error] b,Sl),[b]}function Zq(a,b){var c=a[xc]...\"].\")):d(l(\"Table has no columns.\"))}</code></p>\n\n<p><strong>Thequastion is how can I create columns from JSON data?</strong></p>\n\n<p><br /><br /><br />\n<hr />\n<strong>UPDATE:</strong></p>\n\n<p>Code used to create the graph below: </p>\n\n<pre><code>    // SQL Quary                \n$sth = mysql_query(\"SELECT * FROM Chart\");\n//$rows = array();\n\nwhile($r = mysql_fetch_assoc($sth)) {\n   if(!isset($google_JSON)){    \n     $google_JSON = \"{cols: [\";    \n     $column = array_keys($r);\n     foreach($column as $key=&gt;$value){\n         $google_JSON_cols[]=\"{id: '\".$key.\"', label: '\".$value.\"'}\";\n     }    \n     $google_JSON .= implode(\",\",$google_JSON_cols).\"],rows: [\";       \n   }\n   $google_JSON_rows[] = \"{c:[{v: '\".$r['id'].\"'}, {v: '\".$r['quarters'].\"'}, {v: '\".$r['salary'].\"'}]}\";\n}    \n\n// you may need to change the above into a function that loops through rows, with $r['id'] etc, referring to the fields you want to inject..\n\n$data = $google_JSON.implode(\",\",$google_JSON_rows).\"]}\";\n</code></pre>\n\n<p><strong>Output HTML CODE:</strong></p>\n\n<pre><code>        &lt;!-- load Google AJAX API --&gt;\n    &lt;script type=\"text/javascript\" src=\"http://www.google.com/jsapi\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;  \n        //load the Google Visualization API and the chart  \n        google.load('visualization', '1', {'packages':['columnchart']});  \n\n        //set callback  \n        google.setOnLoadCallback (createChart);  \n\n        //callback function  \n        function createChart() {  \n\n            //create data table object  \n            var data = new google.visualization.DataTable({cols: [{id: '0', label: 'id'},{id: '1', label: 'quarters'},{id: '2', label: 'salary'}],rows: [{c:[{v: '1'}, {v: '1'}, {v: '1250'}]},{c:[{v: '2'}, {v: '2'}, {v: '2500'}]},{c:[{v: '3'}, {v: '3'}, {v: '4526'}]},{c:[{v: '4'}, {v: '4'}, {v: '4569'}]}]});  \n\n            //instantiate our chart objects  \n            var chart = new google.visualization.ColumnChart (document.getElementById('chart'));  \n\n            //define options for visualization  \n            var options = {width: 400, height: 240, is3D: true, title: 'Company Earnings'};  \n\n            //draw our chart  \n            chart.draw(data, options);  \n\n        }  \n    &lt;/script&gt;\n\n    &lt;div id=\"chart\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/Q7GyW.png\" alt=\"When using the code above the script is creating the graph, but something is wrong there\"></p>\n"},{"tags":["php","character-encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13277277,"title":"Recognize character set (php): ?É¬´","body":"<p>I am confronted with a database that contains codes like: ?É¬´ (which should be: ë). I can't find out which character set has been used. I would like everything be UTF8, so I need to convert these codes. I found php functions that converts character sets, but everything I have tried (mb_detect_encoding, iconv, utf8_decode, etc.) does not convert ?É¬´ to ë. The first problem is that I can't find out which character set is used. The second problem is how to convert that character set to UTF8.</p>\n"},{"tags":["php","database","excel","sqlite","data-manipulation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13277142,"title":"Using PHP to manipulate data, transforming an SQLite database to an excel spreadsheet","body":"<p>I have tables such as tbl_building, tbl_rooms, tbl_lighting. </p>\n\n<p>Each have their tuples so that there can be many buildings, many rooms within buildings and many lighting items within rooms. This is structured by giving each of the buildings/rooms/lighting their own ID.</p>\n\n<p>One of the tasks that I'm trying to achieve is to display a list of lights, for each room within each building in an excel spreadsheet. </p>\n\n<p>Here is my code. It is obviously wrong but I can't get my head around outputting the data. </p>\n\n<pre><code>function getLights($buildingID, $d, $objPHPExcel, $status){\n\n        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Please Enter Hours Of Usage: ');\n        include(\"setText.php\");$status[2]++;\n\n        $groupStart = $status[1].$status[2];\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Lights Used:');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Count');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'kWh/yr');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Energy Saving kWh/yr');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Saving(£)');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Cost');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Change To...');    \n        $groupEnd = $status[1].$status[2];\n\n        include(\"setHeadersText.php\");groupFill($objPHPExcel, $groupStart, $groupEnd, \"calc\");\n        $status[2]++;$status[1] = chr(65);\n\n        $query = \"SELECT r_id FROM tbl_roomDesc WHERE b_id = '$buildingID'\";\n        $result = $d-&gt;query($query);\n        $rooms = array();\n\n        array_push($rooms, 2);//echo \"&lt;br/&gt;\".$row['r_id'];\n\n\n\n            //echo \"&lt;br/&gt;Building:\";\n        /*while($row = $result-&gt;fetchArray(SQLITE3_ASSOC)){ \n            array_push($rooms, $row['r_id']);//echo \"&lt;br/&gt;\".$row['r_id'];\n        }*/\n\n        //echo \"&lt;br/&gt;\";\n        //var_dump($rooms);\n\n        $lightArray = array(\n            \"CFL\",\n            \"CFL Equivalent Halogen 100w spot\",\n            \"CFL Equivalent Halogen 50w spot\",\n            \"Double d\",\n            \"Halogen 100w spot\",\n            \"Halogen 50w spot\",\n            \"PL\",\n            \"T12 Single 4ft\",\n            \"T12 Single 5ft\",\n            \"T12 Single 6ft\",\n            \"T12 Single 8ft\",\n            \"T12 Twin 4ft\",\n            \"T12 Twin 5ft\",\n            \"T12 Twin 6ft\",\n            \"T12 Twin 8ft\",\n            \"T5 Quad 2ft\",\n            \"T5 Quad 4ft\",\n            \"T5 Single 4ft\",\n            \"T5 Single 5ft\",\n            \"T5 Triple 2ft\",\n            \"T5 Triple 4ft\",\n            \"T5 Triple 5ft\",\n            \"T5 Twin 2ft\",\n            \"T5 Twin 4ft\",\n            \"T5 Twin 5ft\",\n            \"T8 Quad 2ft\",\n            \"T8 Quad 4ft\",\n            \"T8 Single 4ft\",\n            \"T8 Single 5ft\",\n            \"T8 Single 6ft\",\n            \"T8 Twin 2ft\",\n            \"T8 Twin 4ft\",\n            \"T8 Twin 5ft\",\n            \"T8 Twin 6ft\", \n            \"Tungsten 60w\",\n            \"Other\"\n            );\n\n        //echo sizeof($lightArray);\n\n        //for each room, get quant wattage and hours of each light referenced by the room id\n\n        echo sizeOf($rooms);\n        echo \"&lt;br/&gt;\";\n        for($i=0; $i&lt;sizeof($rooms);$i++){\n\n            //set empty arrays\n            $size = 36;\n            $lightQuantityCount = array_fill(0, $size, 0);\n            $lightWattageCount = array_fill(0, $size, 0);\n            $lightHoursCount = array_fill(0, $size, 0);\n\n            //get all lighting data of particular room\n            $query2 = \"SELECT * FROM tbl_lightingData WHERE r_id = '$rooms[$i]'\";\n            $result2 = $d-&gt;query($query2);\n            $row2= $result2-&gt;fetchArray(SQLITE3_ASSOC);\n\n            //for each light type in the lightarray chechk if light type from query == light type in array, if so add quantity, wattage and hours to arrays\n\n\n            while($row2=$result2-&gt;fetchArray(SQLITE3_ASSOC)){\n\n                echo \"&lt;br/&gt;Room ID: \".$rooms[$i].\"&lt;br/&gt;\";\n                $lightID = $row2['l_id'];\n                $lightType = $row2['lightType'];\n                $lightQuantity = $row2['lightQuantity'];\n                $lightWattage = $row2['lightWattage'];\n                $lightHours = $row2['lightHours'];\n                echo \"Light Profile:&lt;br/&gt;Light ID:  \".$lightID.\"&lt;br/&gt;Light Type:  \".$lightType.\"&lt;br/&gt;Light Wattage:  \".$lightWattage.\"&lt;br/&gt;Light Hours:  \".$lightHours.\"&lt;br/&gt;\";\n\n                for($j=0; $j&lt;sizeof($lightArray); $j++){\n                    if($lightType == $lightArray[$j]){\n                        echo \"&lt;br/&gt;MATCH&lt;br/&gt;\";\n                        $lightQuantityCount[$j] = $lightQuantityCount[$j] + $lightQuantity;\n                        $lightWattageCount[$j] = $lightWattage;\n                        $lightHoursCount[$j] = $lightHoursCount[$j] + $lightHours;\n                    }\n                    else{\n                        echo \"&lt;br/&gt;NO MATCH&lt;br/&gt;\";\n                    }\n                }\n            }\n\n            //echo\"&lt;br/&gt;ARRAY DUMP START:&lt;br/&gt;\";\n            //var_dump($lightQuantityCount);\n            //echo\"&lt;br/&gt;ARRAY DUMP END:&lt;br/&gt;&lt;br/&gt;\";\n\n            echo \"&lt;br/&gt;ADFSDFADFA : \".sizeof($lightQuantityCount);\n            echo \"&lt;br/&gt;ADFSDFADFA : \";\n\n            for($k=0; $k&lt;sizeof($lightQuantityCount); $k++){\n\n                if($lightQuantityCount[$k] != 0){\n\n                    echo \"&lt;br/&gt;Light Type: \".$lightArray[$k].\"&lt;br/&gt;\";\n                    echo \"Light Quantity Count: \".$lightQuantityCount[$k].\"&lt;br/&gt;\";\n                    echo \"Wattage Count: \".$lightWattageCount[$k].\"&lt;br/&gt;\";\n                    echo \"Hours Count: \".$lightQuantityCount[$k].\"&lt;br/&gt;\";\n\n                    include(\"setText.php\");$status[2]++;\n\n                    $groupStart = $status[1].$status[2];\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $lightArray[$k]);\n                        $status[1]++;\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $lightQuantityCount[$k]);\n                        $status[1]++;\n\n                        $calc = $lightWattageCount[$k] * $lightQuantityCount[$k];\n                        $calc2 = $calc / 1000;\n\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $calc2);\n                    $groupEnd = $status[1].$status[2];\n\n                    include(\"setHeadersText.php\");groupFill($objPHPExcel, $groupStart, $groupEnd, \"calc\");\n                    $status[2]++;$status[1] = chr(65);\n                }\n            }\n        }\n\nreturn $status;\n</code></pre>\n\n<p>}</p>\n\n<p>Comment for more information, thanks</p>\n\n<p>Chris</p>\n"},{"tags":["php","shell"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13278573,"title":"php script to kill shell 'sleep' process","body":"<p>I need to write some scripts for some automation work,</p>\n\n<p>I put a php file on local apache server\ntest.php</p>\n\n<pre><code>&lt;?php\nsystem(\"bash inform.sh\");\n?&gt;\n</code></pre>\n\n<p>the content of inform.sh is:</p>\n\n<pre><code>#!/bin/bash\nproc_id=`ps -ef|grep \"sleep\"|grep -v \"grep\"|awk '{print $2}'`\nkill -9 $proc_id\n</code></pre>\n\n<p>I run sleep process on a shell, and open the php page on firefox :  localhost/test.php\nbut it doesn't kill the sleep process, \nif I run the php directly through shell, then it works\nwhat's wrong with this and how to deal with it? thanks</p>\n"},{"tags":["php","curl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":30,"score":-6,"question_id":13278920,"title":"CLI curl to PHP curl command","body":"<p>I am trying to replicate the this CLI curl command to php CLI. I can't seem to find a great tutorial on this. Here is the CLI version:</p>\n\n<blockquote>\n  <p>curl  -d api_version=1.0 -H 'X-API-VERSION: 1.0' <code>https://my.rightscale.com/api/acct/1234/servers/5678/start</code></p>\n</blockquote>\n\n<pre><code>    &lt;?php\n\n    $rs_api = array(\n        'version' =&gt; '1.0',\n        'account_id' =&gt; $acct_num,\n        'username' =&gt; $email,\n        'password' =&gt; $pass,\n        'cookie_file' =&gt; 'tmp/rs_api_cookie.txt',\n\n           );\n\n     $rs_api['url'] = \"https://my.rightscale.com/api/acct/\".$rs_api['account_id'];\n\n     $rs_api['login_url'] = $rs_api['url'].\"/login?api_version=\".$rs_api['version'];\n\n     $ch = curl_init($rs_api['login_url']);\n\n     curl_setopt($ch, CURLOPT_COOKIEJAR, $rs_api['cookie_file']);\n     curl_setopt($ch, CURLOPT_USERPWD,$rs_api['username'].':'.$rs_api['password']);\n\n     curl_exec($ch);\n     curl_close($ch);\n\n     $url = $rs_api['url'].\"/servers/\". $server. \"/start\";\n\n     $header = 'X-API-VERSION: 1.0';\n     $ch = curl_init($url);\n\n\n     curl_setopt($ch, CURLOPT_COOKIEFILE, $rs_api['cookie_file']);\n     curl_setopt($ch, CURLOPT_HTTPHEADER, $header);\n     curl_setopt($ch, CURLOPT_POST, 1);\n\n     $output = curl_exec($ch);\n     curl_close($ch);\n\n     echo $output;\n\n     ?&gt;\n</code></pre>\n\n<p>Here is the code that i am currently working with:</p>\n\n<p>The return that i get is a Nginx 411 Content Required.  Obviously i am missing something. I am trying to make an API call through the php curl lib commands in order to set a scheduled start and stop of our servers.</p>\n"},{"tags":["php","html"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":418,"score":1,"question_id":7218467,"title":"PHP Not loading rest of page after exit;","body":"<p>I'm very new to PHP, and I can't figure out why this is happening.</p>\n\n<p>For some reason, when <code>exit</code> fires the entire page stops loading, not just the PHP script. Like, it'll load the top half of the page, but nothing below where the script is included.</p>\n\n<p>Here's my code: </p>\n\n<pre><code>$page = $_GET[\"p\"] . \".htm\";\n  if (!$_GET[\"p\"]) {\n    echo(\"&lt;h1&gt;Please click on a page on the left to begin&lt;/h1&gt;\\n\");\n    // problem here\n    exit;\n  }\n  if ($_POST[\"page\"]) {\n    $handle = fopen(\"../includes/$page\", \"w\");\n    fwrite($handle, $_POST[\"page\"]);\n    fclose($handle);\n    echo(\"&lt;p&gt;Page successfully saved.&lt;/p&gt;\\n\");\n    // problem here\n    exit;\n  }  \n  if (file_exists(\"../includes/$page\")) {\n    $FILE = fopen(\"../includes/$page\", \"rt\");\n    while (!feof($FILE)) {\n        $text .= fgets($FILE);\n    }\n    fclose($FILE);\n  } else {\n    echo(\"&lt;h1&gt;Page &amp;quot;$page&amp;quot; does not exist.&lt;/h1&gt;\\n\");\n    // echo(\"&lt;h1&gt;New Page: $page&lt;/h1&gt;\\n\");\n    // $text = \"&lt;p&gt;&lt;/p&gt;\";\n    // problem here\n    exit;\n  }\n</code></pre>\n"},{"tags":["php","twitter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":16,"score":-5,"question_id":13279091,"title":"\"Tweetter get-search API\" navigate retweets to count followers of each user","body":"<p>Is there a way to navigate this API to count the number of followers of each user who make retweet?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":18,"score":-1,"question_id":13279039,"title":"Clicking on small image shows the image in a large image holder","body":"<p>I have an image holder:</p>\n\n<pre><code>&lt;p&gt;&lt;img src=\"\" alt=\"\" name=\"a\" width=\"286\" height=\"307\" id=\"a\" /&gt;&lt;/p&gt;\n</code></pre>\n\n<p>and I have 4 small images in page.</p>\n\n<p>The variables of the images are like <code>$img1, $img2, $img3, $img4</code>.</p>\n\n<pre><code>&lt;img src=\"images/&lt;?php echo $img1; ?&gt;.jpg\" width=\"81\" height=\"100\" alt=\"&lt;?php echo $product_name; ?&gt;\" /&gt;&lt;br /&gt;\n&lt;a href=\"images/&lt;?php echo $img1; ?&gt;.jpg\"&gt;Full Size&lt;/a&gt;\n</code></pre>\n\n<p>I want it so that if I click on \"Image\" or \"Full Size\", it shows the image in an image holder.</p>\n"},{"tags":["php","jquery","ajax","post","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13278804,"title":"How do I make a POST AJAX call without using jquery?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8567114/how-to-make-an-ajax-call-without-jquery\">How to make an ajax call without jquery?</a>  </p>\n</blockquote>\n\n\n\n<p>I have a function where I need to make an update to my database using an ajax call. For speed reasons, I would prefer it if I didn't have to include the jquery source file on this page and therefore use the $.ajax function to perform my post request to the php file, although this would make performing the ajax call via POST a lot easier. </p>\n\n<p>I have seen on here how to do this using the GET method but have not found any help for doing a non-jquery ajax call using the POST method. Since this call will make changes to my database, I do not want to use the GET method. </p>\n\n<p>UPDATE:</p>\n\n<p>Going the jquery route:\nThe actual task performed is lower priority to loading the rest of the page. Is there any way I can guarantee that the ajax call (including loading jquery) is the very last javascript thing to go off as the page loads?</p>\n"},{"tags":["php","kohana"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13242499,"title":"Using Kohana in File outside Kohana","body":"<p>Here's the situation:</p>\n\n<p>I have a catch-all on my domain email (so *@domain.com) redirecting to a piping script located at /home/domain/scripts/piper.php.  This piper script is not within the Kohana ORM, but all of my other files are.  I want to try to use Kohana inside this piper.php file.</p>\n\n<p>I have tried (unsuccessfully) all of the following:</p>\n\n<p><strong>Including Kohana</strong></p>\n\n<p>I couldn't figure out what needed to be included, and more importantly how to override the url variable that Kohana uses to determine the right controller.  Also, this is a catch-all piper, so it isn't using HTTP (to my knowledge), so much as executing a command.</p>\n\n<p><strong>Piping</strong></p>\n\n<p>I tried piping to the following:</p>\n\n<pre><code>/home/domain/public_html/index.php --uri=\"piper\"\n</code></pre>\n\n<p>But cPanel makes this impossible, as you can only specify the destination script, and not the proper flags and such (unless I am missing something).</p>\n\n<p><strong>PHP exec()</strong></p>\n\n<p>I tried using the following line:</p>\n\n<pre><code>exec(\"php /home/domain/public_html/index.php --uri=\\\"/piper\\\"\")\n</code></pre>\n\n<p>I was hoping that the stdin data would be maintained across the exec() command, but I could never get it to recognize the uri command, though I can run this on my localhost and it works just fine.</p>\n\n<p>I was using <a href=\"http://www.coderelic.com/2011/10/creating-cron-jobs-in-kohana-3-x-is-a-piece-of-cake/\" rel=\"nofollow\">http://www.coderelic.com/2011/10/creating-cron-jobs-in-kohana-3-x-is-a-piece-of-cake/</a> as a reference, but can't get anything to work.</p>\n\n<p>I'm happy with either one of these solutions such that I can see an incoming email, parse it, then send emails based on the parameters.</p>\n\n<p>Let me know if you need more information!  I'm le stumped.</p>\n"},{"tags":["php","null"],"answer_count":15,"favorite_count":10,"up_vote_count":37,"down_vote_count":1,"view_count":20115,"score":36,"question_id":137487,"title":"Null vs. False vs. 0 in PHP","body":"<p>I am told that good developers can spot/utilize the difference between Null and False and 0 and all the other good \"nothing\" entities.<br />\nWhat <em>is</em> the difference, specifically in PHP?  Does it have something to do with ===?</p>\n"},{"tags":["php","data","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13267395,"title":"PHPExcel append values to data in next available columns","body":"<p>How would I go about appending data to the end of a row on the next cell within a sheet that has already had data imported.    </p>\n\n<pre><code>$reader = PHPExcel_IOFactory::createReader( 'CSV' )-&gt;setDelimiter( ',' )-&gt;setEnclosure( '\"' )-&gt;setLineEnding( \"\\r\\n\" )-&gt;setSheetIndex( 0 );\n$reader-&gt;setSheetIndex( $sheet_index );\n$reader-&gt;loadIntoExisting( $input_dir . $file , $excel );\n$excel-&gt;getActiveSheet()-&gt;setTitle( $title_parts );\n\nreturn $excel;\n</code></pre>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":69,"score":-3,"question_id":13275645,"title":"how to convert ddmmyyyy to mm dd yyyy in php","body":"<p>how to convert string  <strong>130812</strong> to <strong>August 13 2012</strong> and string <strong>14082012</strong> to <strong>August 14 2012 in php</strong></p>\n\n<p>for files </p>\n\n<pre><code>$FileForTime= MR_20121018_V002.htm;  \n$retDate = date (\"F d Y\", strtotime(substr($FileForTime,3,8)));  \n</code></pre>\n\n<p>out put =<strong>October 18 2012</strong></p>\n\n<p>but for files</p>\n\n<p>LedgerV002130812.htm<br>\nDemat14082012D004.htm<br>\nwhich are in ddmmyy and ddmmyyyy format respectively</p>\n\n<pre><code>$retDate = date (\"F d Y\", strtotime(substr($FileForTime,10,6)));\n\n$retDate = date (\"F d Y\", strtotime(substr($FileForTime,5,8)));\n</code></pre>\n\n<p>output not coming??</p>\n\n<p>not getting time stamp for extracted dates.</p>\n"},{"tags":["php","mysql","query","sorting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2479,"score":0,"question_id":4537784,"title":"how to sort mysql result set after the query's done","body":"<p>I am writing a query for mysql database having 2 parameters.</p>\n\n<p>Its a basic search but the problem is I want to sort the order of the results on the basis of the selection.\nSo after I've clicked the <em>search</em> button and the browser displayied the result set I want to order this specific result set by <em>expiration-date</em> or by <em>price</em> depending wich button i click.</p>\n\n<pre><code>   //SELECTION DATA FORM \n   &lt;form action=\"EVENTS_SELECTION.PHP\"&gt;\n     &lt;select name=\"Type\"&gt;\n     &lt;option value=\"\"&gt;SPORT\n     &lt;option value=\"\"&gt;CULTURE       \n     &lt;option value=\"\"&gt;LEISURE\n     &lt;option value=\"\"&gt;GASTRONOMY\n     &lt;/select&gt;  \n\n     &lt;select name=\"WHERE\"&gt;\n     &lt;option&gt;ROME ALL\n     &lt;option&gt;ROME SOUTH\n     &lt;option&gt;ROME WEST\n     &lt;option&gt;ROME EAST\n     &lt;option&gt;ROME NORTH\n     &lt;/select&gt;\n\n     &lt;input type=\"submit\" value=\"search\"&gt;   \n &lt;/form&gt; \n</code></pre>\n\n<p>how can I achieve that??\nthanks\nLuca</p>\n"},{"tags":["php","arrays","image","hyperlink"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":32,"score":-1,"question_id":13278549,"title":"Link image array to a url","body":"<p>How would I link each image in the array below to different pages?\nThe array displays various banners on the website. I want each banner to link to a different page on the website. \nfor example small_header_01.jpg links to aboutus.html</p>\n\n<pre><code>$banner_small_images = array('small_header_01.jpg',\n                             'small_header_02.jpg',\n                             'small_header_03.jpg',\n                             'small_header_04.jpg',\n                             'small_header_05.jpg');            \n</code></pre>\n"},{"tags":["php","class","constants"],"answer_count":7,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":3033,"score":4,"question_id":1880148,"title":"How to get name of the constant?","body":"<p>Assuming you have a constant defined in a class:</p>\n\n<pre><code>class Foo {\n    const ERR_SOME_CONST = 6001;\n\n    function bar() {\n        $x = 6001;\n        // need to get 'ERR_SOME_CONST'\n    }\n}\n</code></pre>\n\n<p>Is it possible with PHP?</p>\n"},{"tags":["php","mysql","if-statement","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11376084,"title":"MySQL Query - WHERE and IF?","body":"<p>SOLVED:\nDatatypes in the table for country and OS were set to VARCHAR so in my where, I changed = 0 to = '0'.\nThanks to raina77ow for pointing this out! Appreciate it.</p>\n\n<p>I'm not quite sure how to write this query. Basically, I'm going to have a table with two columns (OS and country_code) - more columns too, but those are the conditional ones. These will be either set to 0 for all, or specific ones, separated by commas.</p>\n\n<p>Now, what I'm trying achieve is pull data from the table if the OS and country_code = 0, or if they contain matching data (separated by commas).</p>\n\n<p>Then, I have a column for time. I want to select rows where the time is GREATER than the time column, unless the column time_t is set to false, in which case this shouldn't matter.</p>\n\n<p>I hope I explained it right?</p>\n\n<p>This is what I kind of have so far:</p>\n\n<pre><code>$get = $db-&gt;prepare(\"SELECT * FROM commands \n    WHERE country_code = 0 OR country_code LIKE :country_code \n    AND OS = 0 OR OS LIKE :OS \n    AND IF (time_t = 1, expiry &gt; NOW())\n\");\n$get-&gt;execute(array(\n    ':country_code' =&gt; \"%{$data['country_code']}%\",\n    ':OS' =&gt;  \"%{$data['OS']}%\"\n));\n</code></pre>\n\n<p>EDIT: This is the code I'm using now, but I still can't seem to get the OS and Country_code part working:</p>\n\n<pre><code>$get = $db-&gt;prepare(\"SELECT * FROM commands \nWHERE (country_code = 0 OR country_code LIKE :country_code) \nAND (OS = 0 OR OS LIKE :OS) \nAND (time_t &lt;&gt; 1 OR expiry &gt; NOW())\n\");\n\n$get-&gt;execute(array(\n':country_code' =&gt; \"%{$data['country_code']}%\",\n':OS' =&gt;  \"%{$data['OS']}%\"\n));\n</code></pre>\n\n<p>Data sent to the DB would be: \nOS => Windows 7 \ncountry_code => GB \nONLY one would be being sent, not more than one. The issue I'm having right now is, it's working for OS and for the time thing, but it's not working for the country. I even tried a raw query, when the data in the table is \"FR, SA\" and I did LIKE '%GB%' it still returned the row</p>\n"},{"tags":["php","csv","export","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13264132,"title":"Export worksheets in a workbook to csv in phpexcel","body":"<p>I am trying to export worksheets in an Excel 2007 workbook to csv and save the csv as the worksheet name. I keep getting this error:</p>\n\n<pre><code>\"Object of class PHPExcel_Worksheet could not be converted to string in\"\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>require_once '../Classes/PHPExcel/IOFactory.php';\n$objReader = PHPExcel_IOFactory::createReader('Excel2007');\n$objReader-&gt;setReadDataOnly(false);\n//$xlsxfiles=$_SESSION['file'];\n//echo $xlsxfiles;\n$objPHPExcel = $objReader-&gt;load('../upload/Demobook.xlsx');\n$num=$objPHPExcel-&gt;getSheetCount() ;\n$sheetnames=$objPHPExcel-&gt;getSheetNames() ;\n$objWorksheet = $objPHPExcel-&gt;getActiveSheet();\n$highestRow = $objWorksheet-&gt;getHighestRow(); // e.g. 10\n$objWriter = new PHPExcel_Writer_CSV($objPHPExcel);\nforeach ($objPHPExcel-&gt;getWorksheetIterator() as $worksheet)\n{\n    $worksheet-&gt;getTitle();\n    $objWriter-&gt;setDelimiter(',');\n    $objWriter-&gt;setEnclosure('');\n    $objWriter-&gt;setLineEnding(\"\\r\\n\");\n}\n$objWriter-&gt;save(\"../\".\"CSV\".\"/\".$worksheet.\".\".'csv');\n</code></pre>\n"},{"tags":["php","memory-management"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":146,"score":2,"question_id":7418317,"title":"php if - is it so memory intensive?","body":"<p>Just now I was running scripts with preg_replace, over large set of datarows, I had this line of code:</p>\n\n<pre><code>$words = array(\"http\", \"www\", \"com\", \"org\", \"related\", \"cache\", \"asp\", \"php\", \"html\", \"wid\", \"roomid\", \"wmaster\", \"pcash\", \"sdk\", \"vippath\");\nforeach ($words as $seek):  \n    if ($row['title'] = preg_replace(\"/(\\S*)$seek(\\S*)/i\", \"\",$row['title'])):\n    endif;\nendforeach;\n</code></pre>\n\n<p>Now, when I ran this over 1000 rows, I would get memory_limit error, however, when I changed the code to this:</p>\n\n<pre><code>$words = array(\"http\", \"www\", \"com\", \"org\", \"related\", \"cache\", \"asp\", \"php\", \"html\", \"wid\", \"roomid\", \"wmaster\", \"pcash\", \"sdk\", \"vippath\");\nforeach ($words as $seek):  \n    $row['title'] = preg_replace(\"/(\\S*)$seek(\\S*)/i\", \"\",$row['title']);\nendforeach;\n</code></pre>\n\n<p>I was able to run it on 40,000 rows and not hitting the memory limit...</p>\n\n<p>Anyone has any insight on this?</p>\n\n<p>Edit:</p>\n\n<pre><code>if ($res = parent::dbDelta(\"SELECT id, title, used FROM \" . databaseConn::TITLE_TABLE . \" LIMIT 40000, 0\", true)):\n$query .= \"INSERT INTO tmp (title, used) VALUES \";\nwhile ($row = mysql_fetch_array($res)):\n$fail = false;\n    $words = array(\"http\", \"www\", \"com\", \"org\", \"related\", \"cache\", \"asp\", \"php\", \"html\", \"wid\", \"roomid\", \"wmaster\", \"pcash\", \"sdk\", \"vippath\");\n    foreach ($words as $seek):  \n            $row['title'] = preg_replace(\"/(\\S*)$seek(\\S*)/i\", \"\",$row['title']);\n    endforeach;\n\n    preg_match_all('/\\d+/', $row['title'], $matches); \n    $numbers = $matches[0];\n    $numbers = array_map('intval', $numbers);  \n    foreach ($numbers as $num):\n        if (($num &gt; 100) &amp;&amp;  ($num != 365) &amp;&amp; ($num != 247) &amp;&amp; ($num != 360) &amp;&amp; ($num != 1800) &amp;&amp; ($num != 800) &amp;&amp; ($num != 1900) &amp;&amp; ($num != 900)):\n            $fail = true;\n            $row['title'] = str_replace(\"$num\", \"\",$row['title']);\n        endif;\n    endforeach;\n\n    if ((str_word_count($row['title'])) &lt; 3):\n        $fail = true;\n    endif;\n\n    if (!$fail):\n        $row['title'] = trim($row['title']);\n        $query .= \"('$row[title]', '$row[used]'), \";\n    endif;\n\n\n$i++;\nendwhile;\n        $query = substr(trim($query), 0, -1);\n        $query .= \" ON DUPLICATE KEY UPDATE used='0'\";\n        mysql_query($query) or die(mysql_error());\nendif;\n}\n</code></pre>\n"},{"tags":["php","javascript","canvas","fabricjs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":735,"score":0,"question_id":9771986,"title":"Fabric.js canvas.toDataURL() sent to PHP by Ajax","body":"<p>I have a problem here when I need create a image with transparent background. I still don´t know if the problem is with fabricjs or with php. Everything works fine when I sent a image with colored background. The problem occurs when I send a image with transparent background.\nThe generated image is created with black background.\nSo, let me explain better:\nWhen the user click in save button, I´m sending the string representation of the canvas to php in the server-side, to be generated the image of the canvas. So I´m using the follow function to sending the string representation of the canvas by Ajax (POST function of jQuery):</p>\n\n<pre>\n\n    function sendStringRepresentation(){\n        var strDataURI = canvas.toDataURL();\n        strDataURI = strDataURI.substr(22, strDataURI.length);\n\n        $.post(\"action/createImage.php\",\n        { \n            str: strDataURI\n        },\n        function(data){\n            if(data == \"OK\"){\n                $(\"#msg\").html(\"Image created.\");\n        }\n        else{\n            $(\"#msg\").html(\"Image not created.\");\n            }\n        });\n    }\n\n</pre>\n\n<p>In PHP file I´m using the follow code to generate the image:</p>\n\n<pre>\n\n    // createImage.php\n\n    $data = base64_decode($_POST[\"str\"]);\n\n    $urlUploadImages = \"../uploads/img/\";\n    $nameImage = \"test.png\";\n\n    $img = imagecreatefromstring($data);\n\n    if($img) {\n        imagepng($img, $urlUploadImages.$nameImage, 0);\n        imagedestroy($img);\n\n        // [database code]\n\n        echo \"OK\";\n    }\n    else {\n        echo 'ERROR';\n    }\n\n</pre>\n\n<p>Again, the problem is just with background transparent canvas. With colored background everything works fine.</p>\n"},{"tags":["php","twitter-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":13278825,"title":"Using PHP how do I follow someone on Twitter","body":"<p>I have a customer database that I send Twitter messages to periodically using the API.  One thing I would like to do is programmatically follow them prior to tweeting a message.  I've read through the API documentation and I'm not able to get this working.</p>\n\n<p>Has some in the StackOverflow world found a dead simple approach to this using PHP?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","mysql","forms","input","eval"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":42,"score":-2,"question_id":13278290,"title":"Using php eval on code from database","body":"<p>I am attempting to auto-generate a form based on information in a Mysql database.  Right now, one table stores information about the fields that are needed - the field type, maxlength, default value, etc.</p>\n\n<p>A second table contains html / php code for displaying the proper form input, based on information retrieved from the previously mentioned table. Neither of these tables include any user-inputed data. In order to process and display this stored code, I have been trying to use php's eval function. Although I'm not sure this is a good solution, the only alternative I could think of was to have dozens of one or two line files which are retrieved by using php's include or using jquery to append the contents. The main reason I didn't want to do this was to avoid having the dozens of extra files.</p>\n\n<p>Here is the eval statement that I have so far</p>\n\n<pre><code>eval(\"\\$code=\\\"$field[input_code]\\\";\");echo\"&lt;td&gt;$code&lt;/td&gt;\";\n</code></pre>\n\n<p>Here is a sample of one of the contents of $field['input_code']</p>\n\n<pre><code>&lt;input name='\".$field['form_name'].\"'type='text'placeholder='\".ucwords(str_replace('_',' ',$field['form_name'])).\"'\".if($field['req']==1){echo\"class='textvalreq'required\";}else{echo\"class='textval'\";}.\"&gt;\n</code></pre>\n"},{"tags":["php","jquery","wordpress","initialization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13278523,"title":"How can I enqueue a PHP jQuery file in wordpress?","body":"<p>I have settings for an image slider in my wordpress admin panel that lets you change things such as the transition effect and speed, etc.  These settings (php variables) are passed to the standard initialization script for the slider which looks like this:</p>\n\n<pre><code>&lt;script&gt;\njQuery(function(){\n\n    jQuery('#camera_wrap_3').camera({\n        height: '40%',\n        thumbnails: true,\n        time: &lt;?php echo $pause_time; ?&gt;,\n        fx: '&lt;?php echo $transition_effect; ?&gt;',\n        transPeriod: &lt;?php echo $transition_speed; ?&gt;,\n        autoAdvance: &lt;?php echo $auto_advance; ?&gt;,\n        minHeight: '50px',\n        mobileNavHover: false,\n        imagePath: '&lt;?php echo get_template_directory_uri(); ?&gt;/images/'\n    });\n});\n</code></pre>\n\n<p></p>\n\n<p>I choose to save this as a separate php file to clean up the code.</p>\n\n<p>My problem is, I need to put wp_head() directly before the closing &lt; /head> tag and when I do this there is no way to implement the above script AFTER jQuery is loaded and therefor it does not work and the slider doesn't work either.</p>\n\n<p>I have tried attaching it with an action hook like I would with a js file like so:</p>\n\n<pre><code>&lt;?php function add_camera_init() {\nrequire_once('includes/sliders/camera/camera-init.php');\n}\nadd_action('wp_enqueue_scripts', 'add_camera_init'); ?&gt;\n</code></pre>\n\n<p>but this didn't seem to do anything.</p>\n\n<p>How can I add settings like this after jQuery and still have wp_head() immediately before &lt; /head>?</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13278088,"title":"inserting a dynamically generated $_POST values from a form into mysql from php","body":"<p>I'm trying currently to insert back into a database values from my form.</p>\n\n<pre><code> &lt;?php do { ?&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;?php echo $row_questions['question']; ?&gt;&lt;br /&gt;&lt;table&gt;&lt;tr&gt;&lt;td style=\n\n    \"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"1\" id=\"answers_1\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        Low&lt;/label&gt;\n      &lt;/td&gt;&lt;td style=\"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"2\" id=\"answers_2\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        Fairly Low&lt;/label&gt;\n      &lt;/td&gt;&lt;td style=\"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"3\" id=\"answers_3\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        Average&lt;/label&gt;\n      &lt;/td&gt;&lt;td style=\"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"4\" id=\"answers_4\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        Fairly High &lt;/label&gt;\n      &lt;/td&gt;&lt;td style=\"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"5\" id=\"answers_5\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        High&lt;/label&gt;\n      &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br /&gt;\n  &lt;/tr&gt;\n  &lt;?php } while ($row_questions = mysql_fetch_assoc($questions)); ?&gt;\n</code></pre>\n\n<p>the form gets the questions from a table in my database (called questions). they are in three categories and only one categories set of questions is pulled at any one time.</p>\n\n<p>I need to insert each answer individually into another table (called user_answers). </p>\n\n<p>I'm having trouble working out quite how to go about this and it's beginning to do my head in!</p>\n\n<p>the form manages to pass through $_POST a value that when I <code>print_r($_POST);</code> I get </p>\n\n<blockquote>\n  <p>Array ( [answers_90_5] => 3 [answers_91_5] => 3 )</p>\n</blockquote>\n\n<p>With 90 &amp; 91 being the question ids and 5 being the subcategory in both instances.</p>\n\n<p>From here I am stumped. </p>\n\n<p>How do I identify these parts of each individual post along with the answer and insert them as a row each in the table?</p>\n\n<p>I'm fine with doing the MySQL insert normally and a standard form passing values etc. but I'm completely stumped on how to do this!</p>\n\n<p>Many thanks in advance!</p>\n"},{"tags":["php","xml","rss","feed"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":16,"score":2,"question_id":13278577,"title":"Can't parse full RSS from a feedburner xml","body":"<p>I'm having problems into parsing a full RSS 2.0 content feed. I have already checked all the Wordpress and Feedburner settings and it is all right.</p>\n\n<p>I'm using simple_xml_load($link), PHP, but all I can get is a part of the full blog content.</p>\n\n<p>Thank you all.</p>\n"},{"tags":["php","random"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13278511,"title":"Php generate random and different numbers","body":"<p>I create this in php for generate random numbers</p>\n\n<pre><code>&gt; &lt;?php\n&gt; \n&gt; $products=array(\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\");\n&gt; \n&gt; for ($i=0;$i&lt;count($products);$i++) {\n&gt; \n&gt; $numbers=rand(0,count(products));\n&gt; \n&gt; print \"\".$products[$numbers].\"&lt;br&gt;\";\n&gt; \n&gt; } ?&gt;\n</code></pre>\n\n<p>I try generate in bucle different numbers but always show me the same numbers 1212121212 and nothing more , how i can generate this string or array and for example finally show 2 3 4 1 5 6 7 9 8 10 , and if reload script other combination </p>\n\n<p>Thank´s Regards !!!</p>\n"},{"tags":["php","jquery","html","css","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":49,"score":1,"question_id":13264787,"title":"Codeigniter issue","body":"<p><strong>Controller</strong></p>\n\n<pre><code>class Welcome extends CI_Controller\n{\n    public function index()\n    {   \n        $this-&gt;load-&gt;helper('url'); \n        $this-&gt;load-&gt;view('welcome_message');\n        $this-&gt;load-&gt;model('Home_model');\n        $data['query'] = $this-&gt;Home_model-&gt;getcategory(); \n        $this-&gt;load-&gt;view('userheader', $data); \n    }\n}\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>class Home_model extends CI_Model\n{\n    public function getcategory()\n    {           \n        $this-&gt;db-&gt;select('id, cat_value, cat_title','isactive');\n        $query = $this-&gt;db-&gt;get('js_job_categories');\n        return $query-&gt;result();\n    }\n}\n</code></pre>\n\n<p><strong>Views</strong></p>\n\n<p>I include the header and footer \nsame content displaying again below footer</p>\n\n<p>In top of the header it does not display the query result\nhow can solve the problem..</p>\n"},{"tags":["php","mysql","database","content-management-system","photo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":32,"score":0,"question_id":13278239,"title":"Databases and user's photos management","body":"<p>I was wondering the best option to build a website that will allow an user to send photos to be displayed on a open part of the site and I don't know if I should build a database in mysql to receive those photos and then to this table to be pushed on the screen and it grows. Is there any other options? Like getting these photos on a folder and then make a system to get them as I'd do if programming normal html and css...Thanks guys!</p>\n"},{"tags":["php","utf-8","shell","text-editor"],"answer_count":9,"favorite_count":31,"up_vote_count":34,"down_vote_count":0,"view_count":11442,"score":34,"question_id":204765,"title":"Elegant way to search for UTF-8 files with BOM?","body":"<p>For debugging purposes, I need to recursively search a directory for all files which start with a UTF-8 byte order mark (BOM). My current solution is a simple shell script:</p>\n\n<pre><code>find -type f |\nwhile read file\ndo\n    if [ \"`head -c 3 -- \"$file\"`\" == $'\\xef\\xbb\\xbf' ]\n    then\n        echo \"found BOM in: $file\"\n    fi\ndone</code></pre>\n\n<p>Or, if you prefer short, unreadable one-liners:</p>\n\n<pre><code>find -type f|while read file;do [ \"`head -c3 -- \"$file\"`\" == $'\\xef\\xbb\\xbf' ] && echo \"found BOM in: $file\";done</code></pre>\n\n<p>It doesn't work with filenames that contain a line break,\nbut such files are not to be expected anyway.</p>\n\n<p>Is there any shorter or more elegant solution?</p>\n\n<p>Are there any interesting text editors or macros for text editors?</p>\n"},{"tags":["php","facebook","graph","sdk"],"answer_count":16,"favorite_count":6,"up_vote_count":20,"down_vote_count":0,"view_count":18896,"score":20,"question_id":6790272,"title":"Why is Facebook PHP SDK getUser always returning 0?","body":"<p>I'm trying to work with a website that requires some information from a Facebook user, I'm using PHP and JS SDKs.</p>\n\n<p>I have a function in PHP:</p>\n\n<pre><code>public function isLoggedOnFacebook()\n{\n    $user = $this-&gt;_facebook-&gt;getUser();\n    if($user){\n        return $this-&gt;_facebook-&gt;api(\"/$user\");\n    }\n    return false;\n}\n</code></pre>\n\n<p>On a class that is holding the facebook object from the SDK in <code>$this-&gt;_facebook</code>.</p>\n\n<p>Then on a block I do this:</p>\n\n<pre><code>&lt;?php if(!$this-&gt;isLoggedOnFacebook()): ?&gt;\n&lt;div&gt;\n   &lt;fb:login-button show-faces=\"true\" perms=\"email\" width=\"500\" /&gt;\n&lt;/div&gt;\n&lt;?php endif ?&gt;\n</code></pre>\n\n<p>And the FB JS environment is properly set up (I think) so it works. So the user gets the pop up and authorizes the site.</p>\n\n<p>The problem is even after the app is been authorized by the user $user is always 0, meaning <code>$facebook-&gt;getUser()</code> always returns 0, and then lists the faces of users, including the logged user, but if I make it call <code>$facebook-&gt;api('/me')</code> or whatever, then it'll throw the invalid token exception.</p>\n\n<p>I've seen this problem, but I haven't seen a solution, I have no idea \nwhere the problem is and I run out of ideas.</p>\n\n<p>There's a Website tab on the developers' Facebook page in the apps section, where you can set up your Site URL and your Site Domain, and I'm thinking this are the cause of my problem, but I have no knowledge of exactly what these fields are supposed to contain.</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":5945,"score":2,"question_id":2363511,"title":"Problem with jQuery AJAX requests: relative vs. absolute urls","body":"<p>I'm having a hard time getting my AJAX requests to work on a staging server. It all worked fine on my development machine, but as soon as I uploaded it, all my AJAX requests stopped working. I found out that, if I change the relative urls (eg. \"index.php\") to absolute urls (\"http://mydomain.com/index.php\") the requests work again, but I do not understand why.</p>\n\n<p>Example request:</p>\n\n<pre>\njQuery.post('index.php', {id: 1234, action: 1, step: 1}, function(data) { // something });\n</pre>\n\n<p>This does not work, I does not even show up in the firebug console. The success handler is called though, which is very confusing.</p>\n\n<p>This works just fine:</p>\n\n<pre>\njQuery.post('http://mydomain.com/index.php', {id: 1234, action: 1, step: 1}, function(data) { // something });\n</pre>\n\n<p>Can anybody explain why AJAX requests behave in this way? x_X</p>\n"},{"tags":["php","javascript","gps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13277855,"title":"How I can extract coordinates from a GPS tracker device?","body":"<p>I have a GPS tracker device and I need to create an web app what display his current location.\nThe problem is how I can call this device to give me the coordinates.</p>\n\n<p>He work with a SIM card (I use Vodafone) what have the internet active. I know the ip for sim and I have a IMEI code from device. </p>\n\n<p>Is there a way to know the coordinates and use them in my web app?</p>\n\n<p>Thanks, and sorry for my bad English!</p>\n"},{"tags":["php","mysql","forms","date","select"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13277980,"title":"Match MySQL Time in PHP","body":"<p>This seems like a simple task, and I've seen others ask the same question, but I still can't return any results from my SQL query.  I've got a date column that's set by timestamp default current.  So it reads YYYY-MM-DD HH-MM-SS.  </p>\n\n<p>My SQL query is as follows: </p>\n\n<pre><code>select `paid` from customer_det where `office` = \"Blanding\" and `date`= CURDATE();\n</code></pre>\n\n<p>I return a result set when I get rid of the and date = curdate.  So I'm curious how to match the two dates.  I just need to pull results that have been inserted today, the actual time is irrelevant.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","xml","magento","magento-1.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13265143,"title":"Add link in Magento for custom module","body":"<p>I am creating a module for supplier in magento. I want to Supplier Login link at <code>top.links.</code></p>\n\n<p>How Can I add the link?</p>\n\n<p>Also,can anybody tell me the the meaning of the tags like  <code>&lt;customer_logged_out&gt;</code> and <code>&lt;customer_logged_in&gt;</code> in <code>magento/app/design/frontend/base/default/layout/customer.xml</code></p>\n\n<p>Beacause I used <code>&lt;supplier_logged_in&gt;</code> and <code>&lt;supplier_logged_out&gt;</code> in</p>\n\n<p><code>magento/app/design/frontend/default/default/layout/supplier.xml</code> its not working.</p>\n\n<p>this is sample code from my file</p>\n\n<pre><code>&lt;supplier_logged_in&gt;\n    &lt;reference name=\"top.links\"&gt;\n        &lt;action method=\"addLink\" translate=\"label title\" module=\"supplier\"&gt;&lt;label&gt;Log 11Out&lt;/label&gt;&lt;url helper=\"customer/getLogoutUrl\"/&gt;&lt;title&gt;Log Out&lt;/title&gt;&lt;prepare/&gt;&lt;urlParams/&gt;&lt;position&gt;100&lt;/position&gt;&lt;/action&gt;\n    &lt;/reference&gt;\n&lt;/supplier_logged_in&gt;\n</code></pre>\n\n<p>Also is there any reference for <code>&lt;customer_logged_in&gt;</code> file to make it working?</p>\n"},{"tags":["php","mysql","query","phpexcel"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13243332,"title":"Removing fields from excel using phpexcel after MYSQL query","body":"<p>I'm using PHPExcel to export data from a MYSQL database and import it into an excel file.</p>\n\n<p><strong>I've got a database that looks like this (this is also what my excel file currently looks like when I generate it using PHPExcel):</strong></p>\n\n<pre><code>======================================================\n|           Question                  |   Answer     |\n=========+===========+===============================|\n| Do you listen to music?             |    YES       |            \n|----------------------------------------------------|\n| Who is your favorite music artists? | Justin Beiber| \n|----------------------------------------------------|\n| &lt;p&gt; Select an Answer&lt;p&gt;             |              | \n|----------------------------------------------------|\n|Are you a Male or female             |      M       | \n|----------------------------------------------------|\n</code></pre>\n\n<p><strong>I want my excel file to look like this:</strong></p>\n\n<pre><code>======================================================\n|           Question                  |   Answer     |\n=========+===========+===============================|\n| Do you listen to music?             |    YES       |            \n|----------------------------------------------------|\n| Who is your favorite music artists? | Justin Beiber| \n|----------------------------------------------------|\n|Are you a Male or female             |      M       | \n|----------------------------------------------------|\n</code></pre>\n\n<p><strong>I'm using this code:</strong></p>\n\n<pre><code>$objPHPExcel = new PHPExcel();\n\n$col = 1; \nwhile($row_data = mysql_fetch_assoc($result)) {\n    $row = 1;\n    if ($col == 1) {\n        $row_headings = array_keys($row_data);\n        foreach($row_headings as $value) {\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValueByColumnAndRow($col, $row, $value);\n            $row++;\n        }\n        $row = 1;\n        $col++;\n    }\n    foreach($row_data as $value) {\n      if (!strstr('&lt;p&gt;', $value)){\n        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValueByColumnAndRow($col, $row, $value);\n\n    $row++;\n         }\n    }\n    $col++;\n}\n</code></pre>\n"},{"tags":["php","html","traversal","nested-sets"],"answer_count":7,"favorite_count":23,"up_vote_count":16,"down_vote_count":1,"view_count":6939,"score":15,"question_id":1310649,"title":"Getting a modified preorder tree traversal model (nested set) into a <ul>","body":"<p>I am trying to get my data which is hierarchically set up with a tree traversal model into an &lt; ul> in order to show on my site. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>function getCats($) {\n  // retrieve all children of $parent\n  $query = \"SELECT max(rght) as max from t_categories\";\n  $row = C_DB::fetchSingleRow($query);\n  $max = $row[\"max\"];\n  $result =\"&lt;ul&gt;\";\n  $query = \"SELECT * from t_categories where lft &gt;=0 and rght &lt;= $max\";\n  if($rs = C_DB::fetchRecordset($query)){\n    $p_right =\"\";\n    $p_left =\"\";\n    $p_diff=\"\";          \n    while($row = C_DB::fetchRow($rs)){\n      $diff = $row[\"rght\"] -$row[\"lft\"];\n\n      if($diff == $p_diff){\n        $result.= \"&lt;li&gt;\".$row['title'].\"&lt;/li&gt;\";\n      }elseif (($row[\"rght\"] - $row[\"lft\"] &gt; 1) &amp;&amp; ($row[\"rght\"] &gt; $p_right)){\n        $result. \"&lt;ul&gt;\";\n        $result.= \"&lt;li&gt;\".$row['title'].\"&lt;/li&gt;\";\n\n      }else{\n        $result.= \"&lt;li&gt;\".$row['title'].\"&lt;/li&gt;\";\n      } \n\n      $p_right = $row[\"rght\"];\n      $p_left = $row[\"lft\"];\n      $p_diff = $diff;\n    }\n  }\n  $result.= \"&lt;/ul&gt;\";\n  return $result;\n} \n</code></pre>\n\n<p>Here is my sample table:</p>\n\n<pre><code>|ID  |  TITLE | lft| rght |\n|1   | Cat 1  | 1      |    16       |\n|18  | Cat 2  | 3      |    4       |\n|22  | Cat 3  | 5      |    6       |\n|28  | Cat 4  | 7      |    8       |\n|34  | Cat 5  | 9      |    9       |\n|46  | Cat 6  | 11      |    10       |\n|47  | Cat 7  | 13      |    12       |\n|49  | Cat 8  | 15      |    14       | \n</code></pre>\n\n<p>Now it outputs something like:</p>\n\n<pre><code>    &lt;ul&gt;\n&lt;li&gt;Cat 1&lt;/li&gt;\n&lt;li&gt;Cat 2&lt;/li&gt;\n&lt;li&gt;Cat 3&lt;/li&gt;\n&lt;li&gt;Cat 4&lt;/li&gt;\n&lt;li&gt;Cat 5&lt;/li&gt;\n&lt;li&gt;Cat 6&lt;/li&gt;\n&lt;li&gt;Cat 7&lt;/li&gt;\n&lt;li&gt;Cat 8&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Can anyone tell me why or how it will output the list in hierarchical a structure?</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1300567/php-infinite-loop/1300599#1300599\">Related topic</a></p>\n"},{"tags":["php","login"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":37,"score":-5,"question_id":13278277,"title":"Hack password form that uses method post","body":"<p>My brother set up a simple PHP web page that uses an encrypted password stored inside the login.php page that compares it to the form submitted and if matched, the user is authorized as admin. I wanted to see if this is a secure method, but I didn't really get anywhere. Is there such a way to hack this simple login?</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":47,"score":-1,"question_id":13277554,"title":"Query doesn't work with WHERE AND only with WHERE","body":"<p>The single query for title works, but more than one song with the title exist. so the new query that includes artist doesn't work. ALthough EXACT search for the song title is correct and works with single query.</p>\n\n<p>what am i doing wrong</p>\n\n<pre><code>            //$checkTitle = mysql_query(\"SELECT * from lyrics WHERE title = '$querytitle'\");\n            $checkTitle = mysql_query(\"SELECT * FROM lyrics WHERE artist = '$queryArtist' AND title = '$queryTitle'\");\n            $result = mysql_fetch_array($checkTitle);\n            if (!$checkTitle) {\n                die('Query Failed');\n            } \n            if ($result['title'] == $querytitle)  {\n            ?&gt;&lt;div id='message'&gt;Song Titled Already Exist &lt;?php echo $cleanTitle; ?&gt; by Artist : &lt;? echo $artist; ?&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;?\n            } else {\n            ?&gt;&lt;div id=\"message\"&gt;Song Titled : &lt;?php echo $cleanTitle; ?&gt; has been added to the database! - &lt;a href=\"&lt;?php echo $siteURL; ?&gt;artist.php?aid=&lt;?php echo $artist; ?&gt;\" target=\"_Blank\"&gt;View Artist Page&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt; &lt;?php echo $queryArtist; ?&gt;&lt;?\n            print_r($result); // the data returned from the query\n            }\n</code></pre>\n"},{"tags":["php","generation"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":33,"score":4,"question_id":13277949,"title":"How to generate adaptive text that curves inside a circle in php?","body":"<p>I am trying to create an image with a circle and some text on it where the text curves around the inside of the circle. The circle is adaptive and I want the text inside it to be adaptive. </p>\n\n<p>Until now I have the following code that generates a text that curves: </p>\n\n<pre><code>    $row1=\"line1\";\n    $degrees = (130/strlen($row1));\n    imageellipse ( $im , 250 , 250 , 390 , 390 , $black );\n    imageellipse ( $im , 250 , 250 , 398 , 398 , $black );\n\n    for ($i=0;$i&lt;strlen($row1);$i++) \n    {\n    $a = ($degrees*$i)+126-strlen($row1)/3;\n    $cos = cos(deg2rad($a));\n    $sin = sin(deg2rad($a));\n    $x = 0;\n    $y = 180;\n    $xt = round($cos*($x) - $sin*($y));\n    $yt = round($sin*($x) + $cos*($y));\n    imagettftext($im,14,180-($a),250+$xt,270+$yt,$red,'fonts\\times.TTF',$row1[$i]);\n    }\n</code></pre>\n\n<p>Can you please tell me how can I make it adaptive, so it can adapt with the generated ellipse??</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13277412,"title":"Running Ajax From HTML list Issues","body":"<p>I am trying to run Ajax on a web application which is suppose to list associated data with HTML List from MySQL database using jQuery and PHP.I have two tables in MySQL database called Item and Items as below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/CiD22.png\" alt=\"enter image description here\"></p>\n\n<p>and I have to PHP file called index.php and result.php as:\n================================================================== index.php</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n &lt;?php\n  $mysqli = new mysqli('localhost', 'root', '', 'testdb');\n   if ($mysqli-&gt;connect_errno) \n   {\n     die('Unable to connect!');\n   }\n  else{\n$query = 'SELECT * FROM items';\nif ($result = $mysqli-&gt;query($query)) \n{\n    if ($result-&gt;num_rows &gt; 0) \n    {\n    ?&gt;  \n        &lt;p&gt;\n            Select a language\n            &lt;ul id=\"item\"&gt;\n      &lt;?php     \nwhile($row = $result-&gt;fetch_assoc()){\n?&gt;      \n&lt;li&gt;&lt;div id=\"selectLanguage\"&gt;&lt;?php echo $row['item']; ?&gt;&lt;/div&gt;&lt;/li&gt;     \n&lt;?php           \n        }\n ?&gt;\n            &lt;/ul&gt;\n    &lt;/p&gt;\n    &lt;p id=\"result\"&gt;&lt;/p&gt;\n  &lt;?php\n    }\n    else \n    {\n        echo 'No records found!';\n    }\n    $result-&gt;close();\n}\nelse \n{\n    echo 'Error in query: $query. '.$mysqli-&gt;error;\n}\n    }\n    $mysqli-&gt;close();\n    ?&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"     type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function()\n        {\n            $('#selectLanguage').click(function()\n            {\n            alert(\"hello\");\n                if($(this).val() == '') return;\n                $.get(\n                    'results.php',\n                    { id : $(this).val() },\n                    function(data)\n                    {\n                        $('#result').html(data);\n                    }\n                );\n            });\n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and the result.php is\n====================================================================== result.php</p>\n\n<pre><code>&lt;?php\n$mysqli = new mysqli('localhost', 'root', '', 'testdb');\n$resultStr = '';\n $query = 'SELECT type FROM item where name='.$_GET['item'];\n if ($result = $mysqli-&gt;query($query)) \n {\nif ($result-&gt;num_rows &gt; 0) \n{\n    $resultStr.='&lt;ul&gt;';\n    while($row = $result-&gt;fetch_assoc())\n    {\n        $resultStr.= '&lt;li&gt;&lt;strong&gt;'.$row['id'].'&lt;/strong&gt; - '.$row['type'];\n    '&lt;/li&gt;';\n    }\n    $resultStr.= '&lt;/ul&gt;';\n}\nelse\n{\n    $resultStr = 'Nothing found';\n}\n     }\n    echo $resultStr;\n    ?&gt;\n</code></pre>\n\n<p>now the first part(index.php) is rendering the list base on the items table but I can't click at the second or third item besides none of them not returning any values to the page.\nCan you please let me know what I am doing wrong here?    </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13278220,"title":"Sorting and comparing an array based off of another array?","body":"<p>I have what seems to be a pretty simple problem, but having difficulties arriving at the solution in an elegant way.</p>\n\n<p>I have a simple administration system for a client whereby they can log in order their videos on their website. It uses jQuery UI’s draggable component, and then the result is saved as a JSON file and parsed by the front-end. My problem now though is, the JSON file may become out of date if the client uploads any videos to their Vimeo account</p>\n\n<p>So now I’m fetching videos from their Vimeo account but left with the problem of, how do I order videos based on the previously-saved order, but appending any newly-uploaded videos to the end of the list for the client to be able to order?</p>\n\n<p>Answers in PHP please!</p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13277735,"title":"Create new table sans duplicate rows, preserve original order","body":"<p>A MySQL table has only 5 fields but hundreds of rows. With good advice (tks Lacoz) I have duplicated the table while ignoring the duplicate rows and now have a new table that does not contain the duplicated rows.</p>\n\n<p>Problem: the new table was inputted in a scrambled order (i.e. when observing the first field, called <code>rel_id</code>). While this doesn't matter in the real world, at this point it would be helpful to have them in the same order (for referring to past notes, etc).</p>\n\n<p>Example Row: (Note that <code>rel_id</code> is an auto-incrementing, primary key field)</p>\n\n<pre><code>'rel_id' =&gt; 1\n'host' =&gt; 17\n'host_type' =&gt; 'client'\n'rep' =&gt; 7\n'rep_type =&gt; 'cli_mgr'\n</code></pre>\n\n<p>Here is the method by which user Lacoz assisted me to create the new table, without duplicates:</p>\n\n<pre><code>mysql_query(\"create table rels2 like rels\");\nmysql_query(\"alter table rels2 add unique index(host,host_type,rep,rep_type)\");\nmysql_query(\"insert IGNORE into rels2 select * from rels\");\n</code></pre>\n\n<p>I tried adding \"ORDER BY\" to the final query, like this:</p>\n\n<pre><code>mysql_query(\"insert IGNORE into rels2 select * from rels ORDER BY rel_id\");\n</code></pre>\n\n<p>but it didn't solve the problem. Rows are still in scrambled order.</p>\n\n<p>First Question: Why did this happen?</p>\n\n<p>Second Question: How could I have ensured that the data was input in the correct order?</p>\n\n<p>Necessary Outcome: For various reasons I really need the data returned to its former appearance (but sans the duplicates). Can someone suggest another approach, even a php script, to accomplish this?</p>\n\n<p>PS: After several google searches I don't think it's possible to sort the table's raw data, only the output. Correct? (It is hard to be sure when a novice to both the concepts and the terminology - we all must start somewhere).</p>\n"},{"tags":["php","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13276140,"title":"Make Codeigniter 2.1.3 allow a Facebook backlink","body":"<p>It happens that I need to fix a Codeigniter issue urgently while being in no way familiar with the tool.</p>\n\n<p>Simple question: how do I allow <strong>links back from Facebook</strong> like <a href=\"http://www.xxx.de/?fb_action_ids=4811819099741&amp;fb_action_types=og.likes&amp;fb_source=timeline_og&amp;action_object_map=%7B%224811819099741%22%3A447766801925104%7D&amp;action_type_map=%7B%224811819099741%22%3A%22og.likes%22%7D&amp;action_ref_map=%5B%5D\" rel=\"nofollow\">http://www.xxx.de/?fb_action_ids=4811819099741&amp;fb_action_types=og.likes&amp;fb_source=timeline_og&amp;action_object_map=%7B%224811819099741%22%3A447766801925104%7D&amp;action_type_map=%7B%224811819099741%22%3A%22og.likes%22%7D&amp;action_ref_map=%5B%5D</a></p>\n\n<p>without creating either the infamous <em>The URI you submitted has disallowed characters</em> - which I can fix by setting $config['permitted_uri_chars'] - and neither a 404 because of the internal redirects of CI.</p>\n\n<p>I'd love to learn of a quick fix for that issue.</p>\n"},{"tags":["php","mysql","cpanel","elgg"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13277843,"title":"website log in page give error","body":"<p>i'm installing a elgg software. now i'm facing a problem on my website. </p>\n\n<p>when i'm going to log in page, enter my username and password, and after that enter then he showing this page. please see and help me</p>\n\n<blockquote>\n  <p>You don't have permission to access /engine/handlers/page_handler.php\n  on this server.</p>\n  \n  <p>Additionally, a 404 Not Found error was encountered while trying to\n  use an ErrorDocument to handle the request.</p>\n</blockquote>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13277959,"title":"Mysql query to show results from between two columns","body":"<p>Hi i have a mysql database, in which i have two columns Year_from &amp; Year_two.</p>\n\n<p>what i am trying to do is find a way where i can show the dates that are missing as buttons, for example if year from is 2006 and year to is 2008, i of course want to show 2006, <strong>2007</strong> and 2008. is this possible, as there isn't the value of 2007 in the database.</p>\n\n<p>I haven't worked on any code yet as i am not sure if this is possible, or how i would achieve it.</p>\n\n<p>Any ideas would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","frameworks","smarty","template-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13278106,"title":"smarty: why template not showing?","body":"<p>I am using smarty template engine.</p>\n\n<p>Here working/layout.tpl is showing url: <a href=\"http://example.com/index.php?module=front:working\" rel=\"nofollow\">http://example.com/index.php?module=front:working</a></p>\n\n<p>But no layout is showing for this: <a href=\"http://example.com/index.php?module=front:notworking\" rel=\"nofollow\">http://example.com/index.php?module=front:notworking</a> although I have made the notworking module and template from the working module and template. The module is working but it can not show the notworking/layout.tpl</p>\n\n<p>The system is showing like as it is showing the default layout.tpl but its not showing in the browser.</p>\n\n<p>I have tried using full path of the tpl but its not working :(</p>\n\n<p>Can anyone please help me?</p>\n"},{"tags":["php","mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13260945,"title":"Adding search filters to my table colums","body":"<p>I need someone to show me how you would create a simple table to search each colum of data that I insert from this form. I am looking for the easiest way to create a table with search boxes that can filter each colum. \nDB: Mysql\nField types: text\nBelow shows the variables I am using for my form that posts the data to the database.<br>\n  \n\n<pre><code>if (isset($_POST[\"submit\"]) &amp;&amp; $_POST[\"submit\"] == \"Submit\")\n{\n    for ($count = 1; $count &lt;= 9; $count++)\n    {\n        $fields[$count] = \"\";\n        if (isset($_POST[\"field\" . $count . \"\"]))\n        {\n            $fields[$count] = trim($_POST[\"field\" . $count . \"\"]);\n            //echo $fields[$count] . \"&lt;br /&gt;\";\n        }\n    }\n\n    $con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n    $fromzip = mysql_real_escape_string($_POST['fromzip']);\n    $tozip = mysql_real_escape_string($_POST['tozip']);\n\n    $insert = \"INSERT INTO Carriers (`fromzip` ,`tozip` ,`date`) VALUES('$fromzip' ,'$tozip' , NOW())\";\n    mysql_query($insert) or die(mysql_error());\n\n    $select = \"SELECT `fromzip` ,`tozip` , FROM `Carriers` ORDER BY `date` DESC;\";\n    $result = mysql_query($select) or die(mysql_error());\n\n}\n?&gt;\n&lt;style =\"text-align: center; margin-left: auto; margin-right: auto;\"&gt;&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div\n style=\"border: 2px solid rgb(0, 0, 0); margin: 16px 20px 20px; width: 400px; background-color: rgb(236, 233, 216); text-align: center; float: left;\"&gt;\n&lt;form action=\"\" method=\"post\";\"&gt;\n  &lt;div\n  style=\"margin: 8px auto auto; width: 300px; font-family: arial; text-align: left;\"&gt;&lt;br&gt;\n  &lt;table style=\"font-weight: normal; width: 100%; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n   &lt;table\n style=\"font-weight: normal; width: 100%; text-align: right; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n    &lt;tbody&gt;\n            &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Pick Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"fromzip\" name=\"fromzip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Drop Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"tozip\" name=\"tozip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;p style=\"text-align: center;\"&gt;&lt;input name=\"submit\" value=\"Submit\"\n class=\"submit\" type=\"submit\"&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;p style=\"margin-bottom: -20px;\"&gt;&amp;nbsp;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12768205,"title":"Can we store a database on a client machine?","body":"<p>I am looking for application development in such a way that it should work whether the user has an Internet connection or not. </p>\n\n<p>I am working on a mobile <a href=\"http://en.wikipedia.org/wiki/PHP\" rel=\"nofollow\">PHP</a>/<a href=\"http://en.wikipedia.org/wiki/MySQL\" rel=\"nofollow\">MySQL</a> based application. Sometimes an Internet connection is not available at the required place. I want to keep the database in a buffer and want to update it as it gets connected with the Internet, so that the application can work without any interruptions.</p>\n"},{"tags":["php","search","amazon-cloudsearch"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":11376838,"title":"alternative to amazon cloud search","body":"<p>We are looking for a search based solution for our website which will have millions of music records. \nWe are looking for amazon cloud search but it will be a bit costly as we have to pay 90$ per month. \nIs there any cheaper /open source solution ?</p>\n\n<p>Cheers</p>\n"},{"tags":["php","doctrine","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13277117,"title":"Manually Setting the ID , doctrine","body":"<p>I am new to doctrine. I have a following User class with annotations. The primary key is $userid, which is string. Instead of setting the $userid automatically, I want to set the id manually. How ever I am not sure how to do that?</p>\n\n<pre><code>&lt;?php\n\nnamespace models;\n\n/**\n * User\n *\n * @Table(name=\"user\")\n * @Entity\n */\nclass User\n{\n/**\n * @var string $userid\n *\n * @Column(name=\"userid\", type=\"string\", length=255, precision=0, scale=0, nullable=false, unique=false)\n * @Id\n * @GeneratedValue(strategy=\"IDENTITY\")\n */\nprivate $userid;\n\n/**\n * @var string $fullname\n *\n * @Column(name=\"fullname\", type=\"string\", length=255, precision=0, scale=0, nullable=false, unique=false)\n */\nprivate $fullname;\n\n/**\n * @var string $password\n *\n * @Column(name=\"password\", type=\"string\", length=255, precision=0, scale=0, nullable=false, unique=false)\n */\nprivate $password;\n\n/**\n * @var string $email\n *\n * @Column(name=\"email\", type=\"string\", length=255, precision=0, scale=0, nullable=false, unique=false)\n */\nprivate $email;\n\n/**\n * Get userid\n *\n * @return string $userid\n */\npublic function getUserid()\n{\n    return $this-&gt;userid;\n}\n\n/**\n * Set fullname\n *\n * @param string $fullname\n */\npublic function setFullname($fullname)\n{\n    $this-&gt;fullname = $fullname;\n}\n\n/**\n * Get fullname\n *\n * @return string $fullname\n */\npublic function getFullname()\n{\n    return $this-&gt;fullname;\n}\n\n/**\n * Set password\n *\n * @param string $password\n */\npublic function setPassword($password)\n{\n    $this-&gt;password = $password;\n}\n\n/**\n * Get password\n *\n * @return string $password\n */\npublic function getPassword()\n{\n    return $this-&gt;password;\n}\n\n/**\n * Set email\n *\n * @param string $email\n */\npublic function setEmail($email)\n{\n    $this-&gt;email = $email;\n}\n\n/**\n * Get email\n *\n * @return string $email\n */\npublic function getEmail()\n{\n    return $this-&gt;email;\n}\n}\n</code></pre>\n\n<p>If I even make the id public and set it myself, the doctrine 2 still inserts the default value, which is empty string, leading to Integrity constraint violation. Can someone provide me detailed solution for this.</p>\n"},{"tags":["php","php-5.3","json-encode"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":46,"score":-2,"question_id":13274130,"title":"json_encode PHP fail?","body":"<p>I have PHP code:</p>\n\n<pre><code>while($row=mysql_fetch_assoc($res))\n{\n    $data=$row;\n    $test=$row[\"content\"];\n}\nheader('Content-type: application/json'); \necho json_encode($data).'&lt;br/&gt;---------data[content]-&gt;';\necho($data[\"content\"]);\n</code></pre>\n\n<p>my output is:</p>\n\n<pre><code>{\"ID\":\"7\",\"content\":null}\n\ndata[content]-&gt;dknbsj fhsmnfbs fgbsjhdfg&lt;a href=\"http://abc.com:8080/wordpress/wp-content/uploads/2012/11/vista.jpg\"&gt;&lt;img class=\"alignnone size-medium wp-image-9\" title=\"vista\" src=\"http://abc.com:8080/wordpress/wp-content/uploads/2012/11/vista-300x200.jpg\" alt=\"\" width=\"300\" height=\"200\" /&gt;&lt;/a&gt; oggggg\n</code></pre>\n\n<p>why <code>$data[\"content\"]</code> have data but <code>json[\"content\"]</code> is null\nmy PHP version: 5.3.8</p>\n\n<p>Anybody know why?</p>\n"},{"tags":["php","facebook-timeline"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":3,"view_count":89,"score":1,"question_id":13249096,"title":"Show website activities on Facebook timeline?","body":"<p>How can I show website activity on the Facebook timeline?</p>\n\n<p>I integrated Facebook API and <a href=\"http://en.wikipedia.org/wiki/Facebook_Platform#Facebook_Connect\" rel=\"nofollow\">Facebook Connect</a>. Now, if any new user uploads a video on the website then I want to display this activity on the Facebook log. What function of Facebook API can I use for this?</p>\n"},{"tags":["php","json","amazon-web-services","amazon-cloudsearch"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13229426,"title":"display Amazon CloudSearch result of Json formate in php","body":"<p>hi i am using Amazon CloudSearch technology . so want to display Amazon CloudSearch result of Json formate in my  php file.below diplaying the code of Amazon CloudSearch result of Json formate  what i am getting when i submit that url.</p>\n\n<p>code starts from here</p>\n\n<pre><code>stdClass Object\n    (\n        [rank] =&gt; -text_relevance\n        [match-expr] =&gt; (label 'gold')\n        [hits] =&gt; stdClass Object\n            (\n                [found] =&gt; 2\n                [start] =&gt; 0\n                [hit] =&gt; Array\n                    (\n                        [0] =&gt; stdClass Object\n                            (\n                                [id] =&gt; ras_csv_540\n                                [data] =&gt; stdClass Object\n                                    (\n                                        [all_us_sic_codes] =&gt; Array\n                                            (\n                                                [0] =&gt; 55119901\n                                            )\n\n                                        [company_name] =&gt; Array\n                                            (\n                                                [0] =&gt; Gold Key Automotive Ltd\n                                            )\n\n                                    )\n\n                            )\n\n                        [1] =&gt; stdClass Object\n                            (\n                                [id] =&gt; saga_csv_540\n                                [data] =&gt; stdClass Object\n                                    (\n                                        [all_us_sic_codes] =&gt; Array\n                                            (\n                                                [0] =&gt; 55119901\n                                            )\n\n                                        [company_name] =&gt; Array\n                                            (\n                                                [0] =&gt; Gold Key Automotive Ltd\n                                            )\n\n                                    )\n\n                            )\n\n                    )\n\n            )\n\n        [facets] =&gt; stdClass Object\n            (\n                [contact_title] =&gt; stdClass Object\n                    (\n                        [constraints] =&gt; Array\n                            (\n                                [0] =&gt; stdClass Object\n                                    (\n                                        [value] =&gt; ATV Dealer\n                                        [count] =&gt; 2\n                                    )\n\n                            )\n\n                    )\n\n                [primary_city] =&gt; stdClass Object\n                    (\n                        [constraints] =&gt; Array\n                            (\n                                [0] =&gt; stdClass Object\n                                    (\n                                        [value] =&gt; Surrey\n                                        [count] =&gt; 2\n                                    )\n\n                            )\n\n                    )\n\n            )\n\n        [info] =&gt; stdClass Object\n            (\n                [rid] =&gt; e2467862eecf73ecc33b5ac97bb48a2ce547e09ccc6aef4ca2afe3b77febad30db8b184c072d5d32\n                [time-ms] =&gt; 3\n                [cpu-time-ms] =&gt; 0\n            )\n\n    )\n</code></pre>\n\n<p>want get only  [0] => Gold Key Automotive Ltd line in php</p>\n"},{"tags":["php","jquery","ajax","wordpress","html5-video"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":13080708,"title":"Initialize video.js after page/content loaded via ajax","body":"<p>I'm currently in the process of setting up <a href=\"http://www.infinite-scroll.com/\" rel=\"nofollow\">infinite scroll</a> on one of my wordpress sites which loads the next set of posts via ajax once you've scrolled to the bottom of the page. Because of this, I have been unable to get videojs working properly (readas: at all); so am hoping someone can help me with this.</p>\n\n<p>First and foremost, I'm using videojs code directly in my theme, which pulls data from a posts custom fields, and adds the post id to the video tags id attribute. Here's a sample of the template code:</p>\n\n<pre><code>&lt;video id=\"video_&lt;?php echo get_the_id(); ?&gt;\" class=\"video-js vjs-default-skin\"  \n  controls preload=\"auto\" width=\"640\" height=\"264\"  \n  poster=\"&lt;?php echo $poster; ?&gt;\"&gt;  \n &lt;source src=\"&lt;?php echo $mp4vid; ?&gt;\" type='video/mp4' /&gt;  \n&lt;/video&gt;\n</code></pre>\n\n<p>(To note, I'll add ogg/webm later)</p>\n\n<p>I've seen the docs page that says to add the following block:</p>\n\n<pre><code>_V_(\"example_video_1\", {}, function(){\n  // Player (this) is initialized and ready.\n});\n</code></pre>\n\n<p>but no matter where I add it (with the necessary attributes added), the player does not work. I mean, with the above I get standard html5 video player, but has none of the benefits of videojs.</p>\n\n<p>Anyone have a working solution for something like this?</p>\n"},{"tags":["php","mysql","amazon-s3","amazon-web-services","amazon-cloudsearch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13268566,"title":"how to get distinct record from table field in Amazon CloudSearch","body":"<p>hi i am new to Amazon CloudSearch.in mysql we are using Distinct keyword  to get  unique records.how to use this feature in  Amazon CloudSearch..please help me</p>\n"}]}
{"total":298823,"page":10,"pagesize":100,"questions":[{"tags":["php","forms"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13276598,"title":"storing checkbox on multi step form with php session","body":"<p>i have a form in three steps, from step 1 to step two there is a checkbox, i would like to keep the checkbox value in a session and also to show if it's checked or unchecked even if the user goes to step 3 of the form then comes back to step two,\nright now on form submit i have all the $_POST vars in $_SESSION vars but i cant make it work with checkboxes, this is what i got right now:</p>\n\n<pre><code>   &lt;input type=\"checkbox\" value=\"&lt;?php  echo isset($_POST['afficher_ddn'])? \"1\":\"0\";  ?&gt;\"\n   style=\"margin-left: 20px;\" name=\"afficher_ddn\" id=\"afficher_ddn\" \n&lt;?php echo $_SESSION['afficher_ddn']==\"1\" ? \"checked\" : \"\"; ?&gt; /&gt;\n</code></pre>\n\n<p>but this doesnt work.</p>\n"},{"tags":["php","sql","insert","condition"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13277663,"title":"Insert into“Table1” if a condition is met in “Table” 2 SQL","body":"<p><strong>I posted a similar question to this which was about deleting, This one is about inserting.</strong></p>\n\n<p>Hello,</p>\n\n<p>I'm making a little messaging application in PHP using a SQL database but have faced a small problem. I will try explain this as best as possible so here goes...</p>\n\n<p>I have a table called \"users\" as following:</p>\n\n<pre><code>ID | Username | Password | Email \n-------------------------------------------\n1  | Account1 | Pass 1   | email1@mail.com\n2  | Account2 | Pass 2   | email2@mail.com\n</code></pre>\n\n<p>I then have another called \"friends\" as following:</p>\n\n<pre><code>UserID | FriendID\n------------------\n   1   |     2    \n</code></pre>\n\n<p>So what I need is a query that will insert data into the \"friends\" table if a condition is met in the \"users\" table</p>\n\n<p>Example:</p>\n\n<pre><code>INSERT INTO 'friends' VALUES('$UserID', '$FriendID') IF (users.Password = $Password WHERE users.ID = $UserID)\n</code></pre>\n\n<p>I hope that was a good enough explanation but I'm finding this difficult to explain.</p>\n\n<p>Thank for your help :)</p>\n"},{"tags":["php","elgg"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13277807,"title":"Throttling PHPmailer for use in Elgg","body":"<p>I'll be using the social networking software, Elgg, for an organization that needs to send mass emails to specific groups when they need to.  The number of emails can range from 10-1000 depending on the group.  Web host only allows 500 emails per hour, so I need to throttle the script to send one email every 8 seconds.</p>\n\n<p>I'm using PHPmailer with Elgg.   PHPmailer says that I should use these two scripts (code below) in conjunction with each other in order to throttle the mailing.  I know how I'm going to use the code in the mailing script, I'm just unsure about a couple things.</p>\n\n<p>1) I don't really understand the purpose for the safemode</p>\n\n<p>2) After looking up set_time_limit, it looks like I should set this to an amount of time to allow all potential emails to be sent, whether it's 10 or 1000? Or is this a max of 30 seconds per loop in case it needs to timeout?</p>\n\n<p>3) How should I set this to get what I need?</p>\n\n<p>Links to PHPmailer describing code:</p>\n\n<p><a href=\"http://phpmailer.worxware.com/index.php?pg=tip_ext\" rel=\"nofollow\">http://phpmailer.worxware.com/index.php?pg=tip_ext</a></p>\n\n<p><a href=\"http://phpmailer.worxware.com/index.php?pg=tip_pause\" rel=\"nofollow\">http://phpmailer.worxware.com/index.php?pg=tip_pause</a></p>\n\n<pre><code> &lt;?php\n\n/* The following code snippet with set the maximum execution time\n * of your script to 300 seconds (5 minutes)\n * Note: set_time_limit() does not work with safe_mode enabled\n */\n\n$safeMode = ( @ini_get(\"safe_mode\") == 'On' || @ini_get(\"safe_mode\") === 1 ) ? TRUE : FALSE;\nif ( $safeMode === FALSE ) {\n  set_time_limit(300); // Sets maximum execution time to 5 minutes (300 seconds)\n  // ini_set(\"max_execution_time\", \"300\"); // this does the same as \"set_time_limit(300)\"\n}\n\necho \"max_execution_time \" . ini_get('max_execution_time') . \"&lt;br&gt;\";\n\n/* if you are using a loop to execute your mailing list (example: from a database),\n * put the command in the loop\n */\n\nwhile (1==1) {\n  set_time_limit(30); // sets (or resets) maximum  execution time to 30 seconds)\n  // .... put code to process in here\n  if (1!=1) {\n    break;\n  }\n}\n\n?&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;?php\n\n/* Note: set_time_limit() does not work with safe_mode enabled */\n\nwhile (1==1) {\n  set_time_limit(30); // sets (or resets) maximum  execution time to 30 seconds)\n  // .... put code to process in here\n\n  usleep(1000000); // sleep for 1 million micro seconds - will not work with Windows servers / PHP4\n  // sleep(1); // sleep for 1 seconds (use with Windows servers / PHP4\n  if (1!=1) {\n    break;\n  }\n}\n\n?&gt;\n</code></pre>\n"},{"tags":["php","ios","xml","xcode","nsarray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13277548,"title":"Empty NSArray when it should be filled","body":"<p>I have been trying to get a mysql entry into a nsarray on iOS using xml. I was getting an \"empty\" array from my log (though it was saying that I was downloading information from my website) and now believe that it is coming from the php below not producing a proper attribute, thereby sending nothing. However, I thought I was doing it correctly. <strong>What am I doing wrong that it is producing an \"empty\" output.</strong> The actual output in the xcode log is is {} at index 0. My original question can be found here but should not be necessary: <a href=\"http://stackoverflow.com/questions/13254934/nsarray-is-null-in-ios-despite-mysql-entry\">NSArray is empty in iOS despite mysql entry</a></p>\n\n<pre><code>&lt;?php\n\n$login = \"hello\";\n$dbh = new PDO('(censored)');\n$sql = \"SELECT oneam FROM login WHERE username = '$login'\";\n\n$q = $dbh-&gt;prepare( $sql );\n\n$doc = new DOMDocument();\n$r = $doc-&gt;createElement( \"oneam\" );\n$doc-&gt;appendChild( $r );\nforeach ( $q-&gt;fetchAll() as $row) {\n    $e = $doc-&gt;createElement( \"location\" );\n\n    $e-&gt;setAttribute( 'its', $row['oneam']);\n\n    $r-&gt;appendChild( $e );\n\n}\nprint $doc-&gt;saveXML();\n?&gt;\n</code></pre>\n"},{"tags":["php","class","object"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":7883029,"title":"Why are private variables in an object \"visible\" from the outside world?","body":"<p>Given this example:</p>\n\n<pre><code>class Database\n{\n    private $host,\n            $database, \n            $username, \n            $password,\n            $type;\n\n    public $active_connection;\n\n    //Some methods\n}\n\n\nclass Page\n{\n    private $db;\n\n\n    public function __construct($id)\n    {\n        // Some code\n\n        $this-&gt;db = new Database($id);\n    }\n\n    //Some Methods\n}\n\n\n$page = new Page(0);\n\nvar_dump($page);\n</code></pre>\n\n<p>This will output the private variables of Database Object, even though they are marked as private (and so, as I understand it, unusable by the outside world).</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Is this a security risk?</li>\n<li>Is there a way to effectively hide those variables marked as private?</li>\n</ol>\n\n<p>thanks in advance</p>\n\n<p>EDIT:\nIn this project, the admin section will provide the ability to create custom PHP scripts to incorporate in the site, as sections. Since this is being developed to a third party entity, my concern is that, for some reason, the costumer inadvertently dumps the $page object (which is, in our code, the main modifiable object) in order to \"explore\" it.</p>\n"},{"tags":["php","string","templates"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":131,"score":2,"question_id":7683133,"title":"Does PHP have a feature like Python's template strings?","body":"<p>Python has a feature called <a href=\"http://docs.python.org/release/2.5.2/lib/node40.html\" rel=\"nofollow\">template strings</a>.</p>\n\n<pre><code>&gt;&gt;&gt; from string import Template\n&gt;&gt;&gt; s = Template('$who likes $what')\n&gt;&gt;&gt; s.substitute(who='tim', what='kung pao')\n'tim likes kung pao'\n</code></pre>\n\n<p>I know that PHP allows you to write:</p>\n\n<pre><code>\"Hello $person\"\n</code></pre>\n\n<p>and have <code>$person</code> substituted, but the templates can be reused in various sections of the code?</p>\n"},{"tags":["php","jquery","frameworks"],"answer_count":9,"favorite_count":4,"up_vote_count":9,"down_vote_count":0,"view_count":13028,"score":9,"question_id":842886,"title":"PHP Framework with full jQuery integration?","body":"<p>i'm tired of reinventing the wheel on PHP and loving jQuery to death so which framework fits my needs?</p>\n"},{"tags":["php","sql","propel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13265518,"title":"Chaining filterByXXX bug?","body":"<p>I have the following code:</p>\n\n<pre><code>$somethingArray = array( 3, 4, 5 );\n\n$myObjects = MyObjQuery::create()\n  -&gt;filterBySomething( $somethingArray )\n  -&gt;filterById( array( 'min' =&gt; $minMyObjID ) )\n  -&gt;orderByObjTimestamp('DESC')\n  -&gt;find();\n</code></pre>\n\n<p>Which according to the Propel documentation, should result in a SQL command that ends up checking if the 'something' is IN the somethingArray array, and that the id is > $minMyObjID. But instead, the id is IN instead of >. </p>\n\n<p>If I do the following instead:</p>\n\n<pre><code>$myObjects = MyObjQuery::create()\n  -&gt;filterBySomething( $somethingArray )\n  -&gt;where( 'id &gt; ' . $minMyObjID )\n  -&gt;orderByObjTimestamp('DESC')\n  -&gt;find();\n</code></pre>\n\n<p>The resulting SQL is what I would expect. Is this a Propel bug, or am I misunderstanding the documentation when it comes to filterByXXX parameters?</p>\n"},{"tags":["php","arrays","multidimensional-array"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13274413,"title":"Move elements of multidimensional array","body":"<p>I'm receiving an array from a database - I have no control over what pieces of data are sent and in what order. This is what it currently looks like:</p>\n\n<pre><code>Array\n(\n    [itemCode] =&gt; Array\n        (\n            [0] =&gt; Array\n                (\n                    [code] =&gt; P\n                    [descShort] =&gt; Pepperoni\n                )\n\n            [1] =&gt; Array\n                (\n                    [code] =&gt; G\n                    [descShort] =&gt; Green Peppers\n                )\n\n            [2] =&gt; Array\n                (\n                    [code] =&gt; n\n                    [descShort] =&gt; No Sauce\n                )\n\n            [3] =&gt; Array\n                (\n                    [code] =&gt; x\n                    [descShort] =&gt; No Cheese\n                )\n\n            [4] =&gt; Array\n                (\n                    [code] =&gt; \n                    [descShort] =&gt; Regular Cheese\n                )\n\n            [5] =&gt; Array\n                (\n                    [code] =&gt; \n                    [descShort] =&gt; Regular Sauce\n                )\n\n        )\n\n)\n</code></pre>\n\n<p>In actual practice, there can be any number of elements before the No Sauce option (currently at index 3, but not always that way.) What the client wants is for the Cheese and Sauce items to always be at the end of the list and ordered this way: Regular Cheese, No Cheese, Regular Sauce, No Sauce.</p>\n\n<p>Again, keeping in mind that I have no control over how the array is initially created, and that there could be any number of other elements both before and between the elements in question, how can I make this happen? Something else to worry about is that at some point, there may be other options they want to include in this re-ordering (they may add an option for Extra Cheese and Extra Sauce, for example, and want them to be in specific positions as well.)</p>\n\n<p><strong>Added var_export</strong></p>\n\n<pre><code>array (\n  'itemCode' =&gt; \n  array (\n    0 =&gt; \n    array (\n      'code' =&gt; 'P',\n      'descShort' =&gt; 'Pepperoni',\n    ),\n    1 =&gt; \n    array (\n      'code' =&gt; 'G',\n      'descShort' =&gt; 'Green Peppers',\n    ),\n\n    2 =&gt; \n    array (\n      'code' =&gt; 'n',\n      'descShort' =&gt; 'No Sauce',\n    ),\n    3 =&gt; \n    array (\n      'code' =&gt; 'x',\n      'descShort' =&gt; 'No Cheese',\n    ),\n    4 =&gt; \n    array (\n      'code' =&gt; '',\n      'descShort' =&gt; 'Regular Cheese',\n    ),\n    5 =&gt; \n    array (\n      'code' =&gt; '',\n      'descShort' =&gt; 'Regular Sauce',\n    ),\n  ),\n)\n</code></pre>\n"},{"tags":["php","facebook-graph-api"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13271638,"title":"FB.api error on post when using Open Graph in PHP","body":"<p>I am using <a href=\"http://en.wikipedia.org/wiki/Facebook_Platform#Open_Graph_protocol\" rel=\"nofollow\">Open Graph</a> where Action Type is \"Repin\" and Object Types is \"Video\". When I try to post I get some error. How I can remove this error?</p>\n\n<p>Please see the code below. However, I have looked again and again on Open Graph action and object. In the error console, I am getting the response <code>HTTP//1.1 200 OK 1857</code>.</p>\n\n<pre><code>&lt;?php\n    require 'data/facebook/src/facebook.php';\n\n    $facebook = new Facebook(array(\n        'appId'  =&gt; 'xxxxxxxxxxxxxxx',\n        'secret' =&gt; 'xxxxxxxxxxxxxxxxxxx',\n    ));\n\n    // See if there is a user from a cookie\n    $user = $facebook-&gt;getUser();\n\n    if ($user) {\n        try {\n            // Proceed knowing you have a logged in user who's authenticated.\n            $user_profile = $facebook-&gt;api('/me');\n        }\n        catch (FacebookApiException $e) {\n            echo '&lt;pre&gt;'.htmlspecialchars(print_r($e, true)).'&lt;/pre&gt;';\n            $user = null;\n        }\n    }\n?&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" dir=\"ltr\" lang=\"en-US\"\n      xmlns:fb=\"https://www.facebook.com/2008/fbml\"&gt;\n    &lt;title&gt;OG Tutorial App&lt;/title&gt;\n    &lt;head prefix=\"og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# xxxxxxxxxx:                        http://ogp.me/ns/fb/xxxxxxxxxxx#\"&gt;\n        &lt;meta property=\"fb:app_id\" content=\"xxxxxxxxxxxxx\" /&gt;\n        &lt;meta property=\"og:type\"   content=\"&lt;namespace&gt;:&lt;action&gt;\" /&gt;\n        &lt;meta property=\"og:url\"    content=\"&lt;#### My URL ######&gt;\" /&gt;\n        &lt;meta property=\"og:title\"  content=\"Sample Video\" /&gt;\n        &lt;meta property=\"og:image\"  content=\"http://xxxxxxxxxxxxxxxxxxxximage.jpeg\" /&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            ########### MAIN FOCUS ON THESE BELOW LINES ###############################\n            function postCook()\n            {\n                FB.api(\n                    '/me/&lt;namespace&gt;:&lt;action&gt;',\n                    'post',\n                    {&lt;graph object&gt;: 'http://xxxxxxURLxxxxxxxxxxx' },\n                    function(response) {\n                        //alert(response.responseText);\n                        console.log(response);\n\n                        if (!response || response.error) {\n                            alert('An error occurred.');\n                        }\n                        else {\n                            alert('Cook was successful! Action ID: ' + response.id);\n                        }\n                });\n            }\n            ###################################################################################\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n        &lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n        &lt;script&gt;\n                FB.Event.subscribe('auth.login', function(response) {\n                    window.location.reload();\n                });\n                FB.Event.subscribe('auth.logout', function(response) {\n                    window.location.reload();\n                });\n            };\n            (function() {\n                var e = document.createElement('script'); e.async = true;\n                e.src = document.location.protocol +\n                        '//connect.facebook.net/en_US/all.js';\n                document.getElementById('fb-root').appendChild(e);\n            }());\n        &lt;/script&gt;\n        &lt;h3&gt;Stuffed Cookies&lt;/h3&gt;\n        &lt;p&gt;\n            &lt;img title=\"Stuffed Cookies\"\n                 src=\"http://xxxxxxxxxxxxxxxxxxxxxx.jpeg\"\n                 width=\"200\"/&gt;\n        &lt;/p&gt;\n        &lt;br&gt;\n        &lt;form&gt;\n            &lt;input type=\"button\" value=\"Cook\" onclick=\"postCook()\" /&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","mysql","sql","delete","condition"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13277225,"title":"Deleting from \"Table1\" if a condition is met in \"Table\" 2 SQL","body":"<p>I'm making a little messaging application in PHP using a SQL database but have faced a small problem. I will try explain this as best as possible so here goes...</p>\n\n<p>I have a table called \"users\" as following:</p>\n\n<pre><code>ID | Username | Password | Email \n-------------------------------------------\n1  | Account1 | Pass 1   | email1@mail.com\n2  | Account2 | Pass 2   | email2@mail.com\n</code></pre>\n\n<p>I then have another called \"friends\" as following:</p>\n\n<pre><code>UserID | FriendID\n------------------\n   1   |     2    \n</code></pre>\n\n<p>So what I need is a query that will delete A row from the \"Friends\" table if a condition is met in the second table.</p>\n\n<p>Example:</p>\n\n<pre><code>DELETE FROM 'friends' WHERE UserID = 1 AND (users.Password = $Password WHERE users.ID = 1)\n</code></pre>\n\n<p>I hope that was a good enough explanation but I'm finding this difficult to explain.</p>\n\n<p>Thank for your help :)</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13246854,"title":"Passing values from client to server and back to client, asynchronously","body":"<p>I've been trying to figure this problem out for quite a while. I know JavaScript is client side scripting and PHP is server-side scripting, but is it possible to pass a browsers epoch time into a PHP script to run some calculations then return geoJSON data based on the results; all asynchronously?</p>\n\n<p>The function I want to pass to the PHP script is something like:</p>\n\n<pre><code>function retreiveUTC() {\n  var now = new Date().getTime();\n  var browserUTC = Math.floor(now)/1000.0;  // this returns epoch time of the browser\n}\n</code></pre>\n\n<p>Then I would like to take the epoch time that is generated from the function and pass it to a php script to determine what JSON file to return.</p>\n\n<p>For example I will have the following files residing on the server:</p>\n\n<pre>\n1352188536.JSON\n1352187536.JSON\n1352177536.JSON\n</pre>\n\n<p>And I want to retrieve the one that is closest to the browsers epoch results. Thank you in advance.</p>\n\n<p>Updated code below:</p>\n\n<p>not sure what I am doing wrong, but I am getting success from the ajax call but the return value is undefined.</p>\n\n<p>ajax stuff:</p>\n\n<pre><code>    $.post ('timezone.php',\n    {\n        epochTime: browserUTC\n    }, \n    function (result) {\n       //do someting to result\n    }, \"json\");\n\n    var browserUTC = new Date().getTime();\n\n    $.post ('timezone.php',\n    {\n        epochTime: browserUTC\n    }, \n    function (result,status) {\n   //display file name returned by PHP\n        alert(result.file + \"\\n\" + status);\n   //console.log('test');\n    });\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>    &lt;?php\n    $epochTime = round($_POST['epochTime'] / 1000);\n    $res= array();\n    $res['file'] = $epochTime . '.JSON';\n    return json_encode($res);\n    ?&gt;\n</code></pre>\n"},{"tags":["php","shell","build","jenkins","status"],"answer_count":4,"favorite_count":1,"up_vote_count":11,"down_vote_count":0,"view_count":3028,"score":11,"question_id":8148122,"title":"How to mark a build unstable in Jenkins when running shell scripts","body":"<p>In a project I'm working on we are using shell scripts to execute different tasks. Some scripts are SH/Bash that runs Rsync and some are PHP scripts. One of the PHP scripts are running some integration tests that output to JUnit XML, code coverage reports and similar.</p>\n\n<p>Jenkins are able to <strong>mark the jobs as successful / failed based <a href=\"http://en.wikipedia.org/wiki/Exit_status\">exit status</a></strong>. In <strong>PHP the script exits with 1</strong> if it has detected that failed tests during the run. The other shell scripts runs commands and uses the exit codes from those to mark a build as failed.</p>\n\n<pre><code>// :: End of PHP script:\n// If any tests have failed, fail the build\nif ($build_error) exit(1);\n</code></pre>\n\n<p>In the <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Terminology\">Jenkins Terminology</a> a unstable build is defined as</p>\n\n<blockquote>\n  <p>A build is unstable if it was built successfully and one or more publishers report it unstable. For example if the JUnit publisher is configured and a test fails then the build will be marked unstable.</p>\n</blockquote>\n\n<p>How can I get Jenkins to mark a build as unstable instead of only success / failed when running shell scripts?</p>\n"},{"tags":["php","arrays","sorting"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13277365,"title":"How to sort an array of objects by a property of each object","body":"<p>I have an array of data returned from the eventbrite.com api stored in a variable called $restrictedEvents which looks like the data below. This is representative of just one event for the purposes of pasting here but it has a about 80 stdClass Objects like this in the full array.</p>\n\n<p>I want to sort this array alphabetically by the [title] key in each stdClass Object. I have tried using:</p>\n\n<pre><code>usort($restrictedEvents, \"title\");\n</code></pre>\n\n<p>However this returns the following error:</p>\n\n<pre><code>Warning: usort() [function.usort]: Invalid comparison function in model.php on line 109\n</code></pre>\n\n<p>My guess is it cannot find the title key as this is in the next level down. Any pointers on where I am going wrong and how I can sort by the title would be greatly appreciated. Many thanks.</p>\n\n<pre><code>Array \n(\n[4791063199] =&gt; stdClass Object\n    (\n        [box_header_text_color] =&gt; 393837\n        [link_color] =&gt; EE6600\n        [box_background_color] =&gt; FFFFFF\n        [box_border_color] =&gt; D9D4D0\n        [timezone] =&gt; Europe/London\n        [organizer] =&gt; stdClass Object\n            (\n                [url] =&gt; http://www.eventbrite.com/org/2866607767\n                [description] =&gt; \n                [long_description] =&gt; \n                [id] =&gt; 2866607767\n                [name] =&gt; B&amp;Q Manifestival\n            )\n\n        [background_color] =&gt; E3DFDC\n        [id] =&gt; 4791063199\n        [category] =&gt; \n        [box_header_background_color] =&gt; F0ECE9\n        [capacity] =&gt; 20\n        [num_attendee_rows] =&gt; 0\n        [title] =&gt; Closed Event Test\n        [start_date] =&gt; 2012-11-07 19:00:00\n        [status] =&gt; Live\n        [description] =&gt; Lorem ipsum\n        [end_date] =&gt; 2012-11-07 21:00:00\n        [tags] =&gt; \n        [timezone_offset] =&gt; GMT+0000\n        [text_color] =&gt; 393837\n        [title_text_color] =&gt; \n        [password] =&gt; \n        [tickets] =&gt; Array\n            (\n                [0] =&gt; stdClass Object\n                    (\n                        [ticket] =&gt; stdClass Object\n                            (\n                                [description] =&gt; \n                                [end_date] =&gt; 2012-11-07 17:00:00\n                                [min] =&gt; 1\n                                [max] =&gt; 1\n                                [price] =&gt; 0.00\n                                [quantity_sold] =&gt; 0\n                                [visible] =&gt; true\n                                [currency] =&gt; GBP\n                                [quantity_available] =&gt; 20\n                                [type] =&gt; 0\n                                [id] =&gt; 15940001\n                                [name] =&gt; Manifestival Event\n                            )\n\n                    )\n\n            )\n\n        [created] =&gt; 2012-11-07 10:40:36\n        [url] =&gt; http://www.eventbrite.com/event/4791063199\n        [box_text_color] =&gt; 393837\n        [privacy] =&gt; Private\n        [venue] =&gt; stdClass Object\n            (\n                [city] =&gt; \n                [name] =&gt; HR Training Room\n                [country] =&gt; \n                [region] =&gt; \n                [longitude] =&gt; 0\n                [postal_code] =&gt; \n                [address_2] =&gt; \n                [address] =&gt; \n                [latitude] =&gt; 0\n                [country_code] =&gt; \n                [id] =&gt; 2619469\n                [Lat-Long] =&gt; 0.0 / 0.0\n            )\n\n        [modified] =&gt; 2012-11-07 10:47:20\n        [repeats] =&gt; no\n    )\n</code></pre>\n"},{"tags":["php","ubuntu","cron","crontab"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13277497,"title":"Multiple Cron jobs in one crontab file","body":"<p>I wanted to implement two cronjobs with different execution time. One cron job is for sending emails and second cron job for validating my application subscriptions.</p>\n\n<p>I write one crontab file and write to two cronjob as follows:</p>\n\n<pre><code>2 * * * * path to mailCronjob mail.php\n20 * * * * path to check my application's subscriptions sub.php\n</code></pre>\n\n<p>The problem is first cronjob is working fine. Mail will delivers fine, but the second cronjob \nis not working. I tried to run second job manually, its also working fine.</p>\n\n<p>I am using command to set cronjob as:</p>\n\n<pre><code>crontab crontab_file\n</code></pre>\n\n<p>when I give command <code>crontab -l</code>\nit also shows both cronjob in command line.</p>\n\n<p>I wanted to ask, am I missing something here, or what should I do to run those cronjobs. </p>\n"},{"tags":["php","logic","puzzle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13276537,"title":"Reversed numbers puzzle","body":"<p>I'm are trying to teach myself to be better at programming. Part of this I have been taking puzzle that I find in newspapers and magazines and trying to find programming solutions</p>\n\n<p>Today I seen a puzzle regarding numbers that are the reversed when multiplied by a number from 2-9. The example given was 1089 * 9 = 9801.</p>\n\n<p>I have started to write a program in php to find the numbers this applies to and adds them to an array.</p>\n\n<p>First I created a loop to cycle through the possible numbers. I then reversed each of the numbers and created a function to compare the numbered and the reversed number. The function then returns numbers that meet the criteria and adds them to an array.</p>\n\n<p>This is what I have so far...</p>\n\n<pre><code>&lt;?php\n\n        function mul(){ // multiply number from loop\n\n            for($i=2;$i&lt;=9;$i++){\n\n                $new = $num * $i;\n\n                    if($new == $re){\n                    return $new;    \n                    }\n                    else{\n                    return;\n                    }\n            }\n        }\n\n        $arr =  array();\n\n        for ($num = 1000; $num &lt;10000; $num++) { //loop through possible numbers\n\n                      $re =  strrev($num); // get reverse of number\n                      func($re,$num); //multiply number and return correct numbers\n                      $arr.push($new); //add to array??\n         }\n ?&gt;\n</code></pre>\n\n<p>I'm still very new to php and I find understanding programming, any pointers on a more logical way of doing this puzzle would be greatly appreciated.</p>\n"},{"tags":["php","fwrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13277372,"title":"PHP - fwrite PHP Data With Set Variables","body":"<p>I am trying to figure out how to fwrite into a .php file with variables given through $_POST, or $_GET, supplied by the user to set variables and such. So, how would I go about getting the below code to work so that instead of fwriting the code, insert a $_GET variable for example, or in the below description, being $derp. </p>\n\n<pre><code>&lt;?php\n$derp = \"working!\";\n$something = '&lt;?php echo \"Well Thats {$derp}' ?&gt;';\n$file = fopen(\"worked.php\",\"w\");\nif (fwrite($file,$something) &gt; 0) {\necho \"Fwrite Successful!\";  \n}\nfclose($file);\n?&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13275954,"title":"Switching over from selecting multiple values from array to a single value in PHP","body":"<p>I currently have a piece of code that is selecting multiple values from an array and was just wondering how I can switch it over to only picking a single value from an array. </p>\n\n<p>So far I've tried changing <code>array_rand($status, rand(2,3))</code> to <code>array_rand($status, rand(1,1))</code> but it gives me the error message ** Invalid argument supplied for foreach()**. How can I resolve it?</p>\n\n<pre><code>$dateStart = new DateTime();\n$dateStart-&gt;setDate(2012, 10, 01);\n$dateEnd = new DateTime();\n$dateEnd-&gt;setDate(2012, 12, 01);\n\n$dates = array();\nwhile ( $dateStart &lt; $dateEnd ) {\n   $rand = array_rand($status, rand(2,3));\n   $text = '';\n   foreach ( $rand as $key ) $text .= $status[$key] . '&lt;br /&gt;';\n\n   printf(\"&lt;li&gt;&lt;div id='activity_date'&gt;%s&lt;/div&gt;\n           &lt;div id='activity_box'&gt;\n           &lt;div id='activity_text'&gt;\" . $text . ' request&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;',\n\n   $dateStart-&gt;format(\"d/m/Y\")\n   );\n\n   $dateStart-&gt;modify(sprintf(\"+%d day\",mt_rand(1, 10)));\n}\n</code></pre>\n"},{"tags":["php","jquery","google-maps-api-3","geolocation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13276864,"title":"Google Maps w/Database of Coord. Live Updates","body":"<p>I currently have deployed a webapp that shows locations of our field employees using geoLocation (HTML5) and ajax to post to a PHP script that stores the location in a database.</p>\n\n<p>The map updates the location of the employees if you do a full refresh of the page, but I can't figure out how to have the page show the markers moving in real time?</p>\n\n<p>HERE IS THE JS.</p>\n\n<pre><code>navigator.geolocation.getCurrentPosition(\n    function(position) {\n\n     //alert(\"position is: \" + position.coords.latitude + \", \" + position.coords.longitude);\n\n    $.ajax({  \n                type: \"POST\",  \n                url: \"/includes/functions/js.locationServices/locationServices.php\",  \n                data: \"latitude=\"+ position.coords.latitude +\"&amp;longitude=\"+ position.coords.longitude\n              });                  \n});\n</code></pre>\n\n<p>The php code is a simple get and update database.</p>\n\n<p>GOOGLE MAP CODE</p>\n\n<pre><code>function parseToXML($htmlStr) \n{ \n    $xmlStr=str_replace('&lt;','&amp;lt;',$htmlStr); \n    $xmlStr=str_replace('&gt;','&amp;gt;',$xmlStr); \n    $xmlStr=str_replace('\"','&amp;quot;',$xmlStr); \n    $xmlStr=str_replace(\"'\",'&amp;#39;',$xmlStr); \n    $xmlStr=str_replace(\"&amp;\",'&amp;amp;',$xmlStr); \n\nreturn $xmlStr; \n} \n\n    $sql = $dbh-&gt;prepare(\"SELECT * FROM authUsers JOIN techLocation ON authUsers.username = techLocation.username\");\n        $sql-&gt;execute();\n\n    header(\"Content-type: text/xml\");\n\n    echo '&lt;markers&gt;';\n\n    while ($row = $sql-&gt;fetch(PDO::FETCH_ASSOC))\n    {\n        // ADD TO XML DOCUMENT NODE\n        $time = date(\"g:i a\", strtotime($row['lastLocated']));\n        $tech = $row['id'];\n\n        if(is_numeric($row['id'])) { $tech = '#'.$row['id']; }\n\n        echo '&lt;marker ';\n        echo 'name=\"' . parseToXML($row['fullname']) . '\" ';\n        echo 'tech=\"' . parseToXML($tech) . '\" ';\n        echo 'phone=\"' . parseToXML($row['phone']) . '\" ';\n        echo 'email=\"' . parseToXML($row['email']) . '\" ';\n        echo 'time=\"' . parseToXML($time) . '\" ';\n        echo 'lat=\"' . $row['latitude'] . '\" ';\n        echo 'lng=\"' . $row['longitude'] . '\" ';\n        echo 'type=\"' . $row['dept'] . '\" ';\n        echo '/&gt;';\n    }\n\n    echo '&lt;/markers&gt;';\n</code></pre>\n\n<p>MAP PAGE</p>\n\n<pre><code>    &lt;script src=\"https://maps.google.com/maps/api/js?sensor=true\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    //&lt;![CDATA[\n    var customIcons = {\n      Installs: {\n        icon: '/location/images/installs.png',\n        shadow: '/location/images/shadow50.png'\n      },\n      Service: {\n        icon: '/location/images/service.png',\n        shadow: '/location/images/shadow50.png'\n      }\n    };\n\n    var markers = new Array();\n\n    function updateMarker(techSelectionList) {      \n            var selectedEmail = techSelectionList.options[techSelectionList.selectedIndex].value;\n            var selectedText = techSelectionList.options[techSelectionList.selectedIndex].text;\n\n\n            for (var i = 0; i &lt; markers.length; i++)\n            {\n                var techEmail = markers[i].getTitle();\n\n\n                if (techEmail == selectedEmail)\n                {\n                    google.maps.event.trigger(markers[i], 'click');\n                    break;\n                }\n            }\n    }\n\n    function load() {\n      var map = new google.maps.Map(document.getElementById(\"map\"), {\n        center: new google.maps.LatLng(&lt;?php echo $mapCenter; ?&gt;),\n        zoom: 12,\n        mapTypeId: 'roadmap'\n      });\n      var infoWindow = new google.maps.InfoWindow;\n\n      // Change this depending on the name of your PHP file\n      downloadUrl(\"genxml.php\", function(data) \n      {\n        var xml = data.responseXML;\n        var markersXml = xml.documentElement.getElementsByTagName(\"marker\");\n\n        var sidebar = document.getElementById('sidebar');\n        sidebar.innerHTML = '';\n\n        for (var i = 0; i &lt; markersXml.length; i++) \n        {          \n            var name = markersXml[i].getAttribute(\"name\");\n                var phone = markersXml[i].getAttribute(\"phone\");\n            var email = markersXml[i].getAttribute(\"email\");\n                var tech = markersXml[i].getAttribute(\"tech\");\n                var time = markersXml[i].getAttribute(\"time\");\n                var type = markersXml[i].getAttribute(\"type\");\n                var point = new google.maps.LatLng(\n                parseFloat(markersXml[i].getAttribute(\"lat\")),\n                parseFloat(markersXml[i].getAttribute(\"lng\"))\n            );\n\n            var html = \"&lt;h3&gt;\" + name + \" - \"+ tech + \" &lt;/h3&gt;&lt;br/&gt;Phone:&lt;b&gt; &lt;a href='tel:\" + phone + \"'&gt;\" + phone + \"&lt;/a&gt;&lt;/b&gt;&lt;br/&gt;Email:&lt;b&gt; &lt;a href='mailto:\" + email + \"'&gt;\" + email + \"&lt;/a&gt;&lt;/b&gt;&lt;br/&gt;Located:&lt;b&gt; \" + time + \"&lt;/b&gt;\";\n                var icon = customIcons[type] || {};\n\n                var marker = new google.maps.Marker({\n                map: map,\n                position: point,\n                icon: icon.icon,\n                shadow: icon.shadow\n            });\n\n            marker.setTitle(email);\n            markers.push(marker);\n\n            bindInfoWindow(marker, map, infoWindow, html);\n\n            var sidebarEntry = createSidebarEntry(marker, tech, name, email);\n            sidebar.appendChild(sidebarEntry);      \n        }           \n\n    });\n\n    function createSidebarEntry(marker, tech, name, email) \n    {\n        var text =  tech + \" - \" + name;                \n        var div = document.createElement('option');\n        div.text = text;\n        div.value = email;\n\n        return div;\n    }\n}\n\nfunction bindInfoWindow(marker, map, infoWindow, html) {\n  google.maps.event.addListener(marker, 'click', function() {\n    infoWindow.setContent(html);\n    infoWindow.open(map, marker);\n    });\n}\n\nfunction downloadUrl(url, callback) {\n  var request = window.ActiveXObject ?\n      new ActiveXObject('Microsoft.XMLHTTP') :\n      new XMLHttpRequest;\n\n  request.onreadystatechange = function() {\n    if (request.readyState == 4) {\n      request.onreadystatechange = doNothing;\n      callback(request, request.status);\n    }\n  };\n\n  request.open('GET', url, true);\n  request.send(null);\n}\n\nfunction doNothing() {}\n//]]&gt;\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","session"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":13578,"score":2,"question_id":878756,"title":"PHP Session not working in PHP5","body":"<p>I have 2 pages: login.php and index.php. Both pages start with </p>\n\n<pre><code>session_start();\n</code></pre>\n\n<p>When I set </p>\n\n<pre><code>$_SESSION['user'] = \"name\";\n</code></pre>\n\n<p>in login.php and than open index.php, my session object is empty. How come?</p>\n\n<p>EDIT:</p>\n\n<p>I found the problem: IE 7. I had to grand access to my domain. However, I thought a session is stored on the server, instead of the client? Than why do I have IE grand access to my domain? (<a href=\"http://www.pcwindowstips.com/2007/09/04/how-to-enable-cookies-in-internet-explorer-7/\" rel=\"nofollow\">http://www.pcwindowstips.com/2007/09/04/how-to-enable-cookies-in-internet-explorer-7/</a>)</p>\n"},{"tags":["php","curl","upload","youtube-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13274173,"title":"Upload video on Youtube using curl and api v3","body":"<p>I would upload a video using the Youtube API v3 with curl in PHP, as described here: <a href=\"https://developers.google.com/youtube/v3/docs/videos/insert\" rel=\"nofollow\">https://developers.google.com/youtube/v3/docs/videos/insert</a></p>\n\n<p>I've this function</p>\n\n<pre><code>function uploadVideo($file, $title, $description, $tags, $categoryId, $privacy)\n{\n    $token = getToken(); // Tested function to retrieve the correct AuthToken\n\n    $video-&gt;snippet['title']         = $title;\n    $video-&gt;snippet['description']   = $description;\n    $video-&gt;snippet['categoryId']    = $categoryId;\n    $video-&gt;snippet['tags']          = $tags; // array\n    $video-&gt;snippet['privacyStatus'] = $privacy;\n    $res = json_encode($video);\n\n    $parms = array(\n        'part'  =&gt; 'snippet',\n        'file'  =&gt; '@'.$_SERVER['DOCUMENT_ROOT'].'/complete/path/to/'.$file\n        'video' =&gt; $res\n    );\n\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, 'https://www.googleapis.com/upload/youtube/v3/videos');\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_POST, 1);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $parms);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array('Authorization: Bearer '.$token['access_token']));\n    $return = json_decode(curl_exec($ch));\n    curl_close($ch);\n\n    return $return;\n}\n</code></pre>\n\n<p>But it returns this</p>\n\n<pre><code>stdClass Object\n(\n    [error] =&gt; stdClass Object\n        (\n            [errors] =&gt; Array\n                (\n                    [0] =&gt; stdClass Object\n                        (\n                            [domain] =&gt; global\n                            [reason] =&gt; badContent\n                            [message] =&gt; Unsupported content with type: application/octet-stream\n                        )\n\n                )\n\n            [code] =&gt; 400\n            [message] =&gt; Unsupported content with type: application/octet-stream\n        )\n\n)\n</code></pre>\n\n<p>The file is an MP4.</p>\n\n<p>Anyone can help?</p>\n"},{"tags":["php","magento"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13277121,"title":"Return data back to dispatcher from event observer in Magento","body":"<p>I have an extension for product registration that dispatches an event after the registration is saved. Another extension uses that event to generate a coupon for a virtual product if it is related to the registered product.</p>\n\n<p>I need to get back data on the generated coupon to send to the user in an email along with the details of their product registration.</p>\n\n<p>Is there a way to return data from the observer back to where the event is dispatched?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13277460,"title":"get around allow_url_include=0 error","body":"<p>I am trying to include a file from a url, however I get the following error thrown up.</p>\n\n<pre><code>Warning: include(): http:// wrapper is disabled in the server configuration by allow_url_include=0 in /Applications/MAMP/htdocs/diningtime/testsite/salims/index1.php on line 58\n\nWarning: include(http://localhost/diningtime/templates/100/index.php): failed to open stream: no suitable wrapper could be found in /Applications/MAMP/htdocs/diningtime/testsite/salims/index1.php on line 58\n\nWarning: include(): Failed opening 'http://localhost/diningtime/templates/100/index.php' for inclusion (include_path='.:/Applications/MAMP/bin/php/php5.4.4/lib/php') in /Applications/MAMP/htdocs/diningtime/testsite/salims/index1.php on line 58\nTest\n</code></pre>\n\n<p>Just wondering if there is anyway around this?</p>\n\n<p>My PHP include code is </p>\n\n<pre><code>&lt;?php include \"$location/index.php\"; ?&gt;\n</code></pre>\n\n<p>I appreciate your help on this.</p>\n"},{"tags":["php",".htaccess","url","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13277467,"title":"htaccess url rewrite wont work on diffrent file","body":"<p>I'm using htaccess url rewrite this is my code </p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([^/]*)\\.html$ main.php?pagina=$1 [L]\n</code></pre>\n\n<p>(this one works)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;ID=$2 [L]\n</code></pre>\n\n<p>(this one works)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;artiest=$2&amp;ID=$3 [L]\n</code></pre>\n\n<p>(this one works, it shows video/artist/id.html)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;seo=$2&amp;ID=$3 [L]\n</code></pre>\n\n<p>(this one wont work I want this one to show news/seo-title/id.html)</p>\n\n<p>Can anyone help ?</p>\n"},{"tags":["php","jquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13271300,"title":"Get Session value based on ajax success","body":"<p>I have a PHP page that uses a jQuery ajax call.</p>\n\n<p>After I execute my AJAX and return a value on success, I need to use this value to pull an item from a PHP array, stored in session and update my SPAN with the new set. </p>\n\n<p>Here's what I've got so far. I tested and I do return correct <strong>data</strong> value. I guess my syntax in jQuery is off, because my original span fades out, but nothing comes back. </p>\n\n<p><strong>JS:</strong></p>\n\n<pre><code>$.ajax({ \n    ...\n},\nsuccess: function(data){\n    var nextItem = &lt;?php echo $_SESSION['items'][data]-&gt;desc; ?&gt;\n    $('.x').fadeOut();\n    $('.x').attr(id, data); \n    $('.x').text(nextItem).fadeIn();    \n}); \n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;span id=\"'.$_SESSION['items'][0]-&gt;id.'\" class=\"x\"&gt;'.$_SESSION['items'][0]-&gt;desc.'&lt;/span&gt;\n</code></pre>\n"},{"tags":["php","facebook","facebook-php-sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13206633,"title":"Facebook API error: An error occurred with [my Facebook API name]. Please try again later","body":"<p>I am using Facebook API in my code for a website. When a user visits the first time and go for login then it displays an error with an \"Okay\" button as below:</p>\n\n<blockquote>\n  <p>An error occurred with [name of my web app]. Please try again later.</p>\n</blockquote>\n\n<p>However, it works properly when the user further clicks on \"Okay\". I just want hide or remove this error. How can I do that?</p>\n\n<h3>Code</h3>\n\n<pre><code>require 'data/facebook/src/facebook.php';\n\n// Create our application instance (replace this with your appId and secret).\n$facebook = new Facebook(array(\n    'appId'  =&gt; JO_Registry::get('oauth_fb_key'),\n    'secret' =&gt; JO_Registry::get('oauth_fb_secret'),\n));\n\n$this-&gt;facebook-&gt;setNextUrl( WM_Router::create( $request-&gt;getBaseUrl() . '?controller=facebook&amp;action=login' . $next ) );\n$loginUrl = $facebook-&gt;getLoginUrl(array('req_perms' =&gt; 'user_status,publish_stream,user_photos,offline_access,read_friendlists'));\n</code></pre>\n"},{"tags":["php","parallel-processing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13190622,"title":"How to use PCNTL to call a php function in parallel","body":"<p>I have around 10 different requests for different servers and used to get the response sequentially in respective to the function call in my website.</p>\n\n<p>Now, I want to call my function in parallel for different server request. Once I get the first response from any of the servers, then want to stop the the remaining processes. </p>\n\n<p>Currently I am calling my function like so:</p>\n\n<pre><code>my_launch(1);\nmy_launch(2);\nmy_launch(3);\nmy_launch(4);\nmy_launch(5);\nmy_launch(6);\nmy_launch(7);\nmy_launch(8);\nmy_launch(9);\nmy_launch(10);  \n</code></pre>\n\n<p>This executes sequentially; how can I run this code in parallel using PCNTL?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":254,"score":-2,"question_id":11516189,"title":"Check if browser IE8 or less using PHP","body":"<p>I need to check whether the browser is IE8 or less using php, can someone pelase help me with it? Thanks.</p>\n"},{"tags":["php","url-rewriting"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13277263,"title":"URL Rewrite Help Needed","body":"<p>I want to redirect the users from a url like\n<a href=\"http://aswt.mywebsite.com/\" rel=\"nofollow\">http://aswt.mywebsite.com/</a>\nto\n<a href=\"http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt\" rel=\"nofollow\">http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt</a></p>\n\n<p>I need to have 2 variations of this redirect.</p>\n\n<ol>\n<li><p>Basic redirect which just redirects to url like <a href=\"http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt\" rel=\"nofollow\">http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt</a></p></li>\n<li><p>Second one is with url mask i.e it does redirect to <a href=\"http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt\" rel=\"nofollow\">http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt</a> but in the browser's address bar it should always show \n<a href=\"http://aswt.mywebsite.com/\" rel=\"nofollow\">http://aswt.mywebsite.com/</a></p></li>\n</ol>\n\n<p>As far I know modrewrite / url redirect is done using .htaccess file. Do I need to add any functionality to my website code beside .htaccess in order to make the url masking etc. work?</p>\n\n<p>Please let me know how can I achieve both of these feats. Kindly mention both of them seperately.</p>\n\n<p>I know this question has been asked numerous time but I am unable to find a clear solution and will appreciate if anybody can help me to achieve it.</p>\n"},{"tags":["php","xml","soap","wsdl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13277273,"title":"PHP: Error reading WSDL through SOAP","body":"<p>I'm having trouble connecting to a WSDL-feed through SOAP. I can easily access the file via my own browser [local], cURL [on the server] and file_get_contents() [on the server].</p>\n\n<p>I get the following SoapFault:</p>\n\n<blockquote>\n  <p>[WSDL] SOAP-ERROR: Parsing WSDL: Couldn't load from\n  'http://www.nimta.com/Gateway/Kunder/Opret/Gateway.asmx?WSDL' : failed\n  to load external entity\n  \"http://www.nimta.com/Gateway/Kunder/Opret/Gateway.asmx?WSDL\"</p>\n</blockquote>\n\n<p>Trying to connect via.:</p>\n\n<blockquote>\n  <p>$nimtaClient = new SoapClient($url, array(</p>\n\n<pre><code>       proxy_host =&gt; \"XXX\",\n       proxy_port =&gt; 3128,\n       proxy_login =&gt; null,\n       proxy_password =&gt; null\n   ));\n</code></pre>\n</blockquote>\n\n<p>With XXX being our proxy server (which works).</p>\n\n<p>Do any of you have any clues what it could be?</p>\n"},{"tags":["php","svn","composer-php","packagist","satis"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13277110,"title":"Composer is not reading my local Satis packages.json file","body":"<p>I have setup my local SVN repo to hold all external repos ( company policy ), using Satis I've created the packages.json file. when I run composer update how do I tell it to use my custom packages.json file and pull from my local repo instead of externals?</p>\n\n<p>This is a blurb from the packages.json file on where my svn repos are:</p>\n\n<pre><code>\"source\": {\n    \"type\": \"svn\",\n    \"url\": \"http://blah/packagist/foo/bar\",\n    \"reference\": \"/tags/2.3.0/@38\"\n}\n</code></pre>\n\n<p>but the url I would use to check this project out would be:</p>\n\n<pre><code>http://blah/packagist/foo/bar/tags/2.3.0    \n</code></pre>\n\n<p>in my composer.json file I have also added this:</p>\n\n<pre><code>\"repositories\": [\n    {\n        \"packagist\": false,\n        \"type\": \"composer\",\n        \"url\": \"http://local/packages.json\"\n    }\n]\n</code></pre>\n\n<p>but it's still pulling in from git and not my svn repo, what am I doing wrong???</p>\n"},{"tags":["php","table","service","account","fusion"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":6,"score":1,"question_id":13277240,"title":"Google API PHP Fusion table - Service account - Rowid from select to update?","body":"<p>I'm trying to update a Fusion table cell with service account. I'm using this <a href=\"https://github.com/odi86/GFTPrototype/blob/master/examples/php/UpdateTable.php\" rel=\"nofollow\">Odi's script I found from here</a>. It works fine. </p>\n\n<p>Now I'm trying to get the rowid from a row with specific cell, and put the rowid then to update query.  </p>\n\n<p>Like this:</p>\n\n<blockquote>\n  <p>$selectQuery= \"SELECT ROWID FROM tableid WHERE Text='something'\";</p>\n</blockquote>\n\n<p>So it gives me back the id of a row where text column says \"something\", I guess? But how I move this rowid to update query? Like:</p>\n\n<blockquote>\n  <p>$updateQuery = \"update tableid set Text = 'words' where rowid = '$rowid'\";</p>\n</blockquote>\n\n<p>Hope you got it. Question might be simple but I'm really stuck with this... I appreciate any help. Thanks a lot!</p>\n"},{"tags":["php","iphone","mysql","ios","json"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13276911,"title":"initWithObjectsAndKeys for JSON POST to MySQL via PHP - gets empty rows in DB","body":"<p>Like the title says..</p>\n\n<p>My NSDictionary initWithObjectsAndKeys for JSON, with the POST method, to do MySQL query via PHP code, by using the json_encoding and json_decoding creates empty data in my SQL database, just the ID int is auto increasing every time I post!</p>\n\n<p>My Xcode code:</p>\n\n<pre><code>-(IBAction)setJsonFromData:(id)sender\n{\n    NSDictionary *jsonDict = [[NSDictionary alloc] initWithObjectsAndKeys: @\"Welcome\", @\"title\", @\"Hello\", @\"article\", @\"123456789\", @\"timestamp\", nil];\n\n    if([NSJSONSerialization isValidJSONObject:jsonDict])\n        {\n           NSError *error = nil;\n           NSData *result = [NSJSONSerialization dataWithJSONObject:jsonDict     options:NSJSONWritingPrettyPrinted error:&amp;error];\n           if (error == nil &amp;&amp; result != nil) {\n           [self postJSONtoURL:result];\n        }\n    }\n}\n\n-(id)postJSONtoURL:(NSData *)requestJSONdata\n{\n    NSURL *url = [NSURL URLWithString:@\"http://test.com/json.php\"];\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:60.0];\n\n    [request setHTTPMethod:@\"POST\"];\n    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Accept\"];\n    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    [request setValue:[NSString stringWithFormat:@\"%d\", [requestJSONdata length]] forHTTPHeaderField:@\"Content-Length\"];\n    [request setHTTPBody: requestJSONdata];\n\n    NSURLResponse *response = nil;\n    NSError *error = nil;\n\n    NSData *result = [NSURLConnection sendSynchronousRequest:request returningResponse:&amp;response error:&amp;error];\n\n    NSLog(@\"RESULT: %@\", requestJSONdata);\n\n    if (error == nil)\n        return result;\n    return nil;\n}\n</code></pre>\n\n<p>My PHP code:</p>\n\n<pre><code>if (isset($_REQUEST))\n{\n    $json = $_REQUEST;\n    $data = json_decode($json);\n\n    $title = $_REQUEST['title'];\n    $article = $_REQUEST['article'];\n    $timestamp = $_REQUEST['timestamp'];\n\n    mysql_query(\"INSERT INTO news (title, article, timestamp) VALUES ('$title-&gt;title','$article-&gt;article','$timestamp-&gt;timestamp')\");\n}\n\nmysql_close();  \n</code></pre>\n"},{"tags":["c#","php","asp.net-mvc","drupal","authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13277128,"title":"Single authentication with Drupal and ASP.NET","body":"<p>I'm an experienced C# developer with a small amount of PHP experience.  I am looking at getting a Drupal instance up and running, but, I will need an ASP.NET instance running along with it since there is going to be custom development work that needs to be done.</p>\n\n<p>I was wondering if anyone had ideas for how to combine authentication for Drupal and ASP.NET so that I don't need to make users authenticate more than once while using the two sites together.</p>\n"},{"tags":["php","database","nosql","riak"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":15,"score":-2,"question_id":13277076,"title":"PHP Riak code examples and information","body":"<p>I would like to get some suggestions on websites that provides code snippets and examples on how to use Riak with PHP. Everything is interesting, if you have Riak-PHP solutions (search forms, different solutions of bucket listing etc.) you can also post them here. </p>\n\n<p>Thanks!</p>\n"},{"tags":["php","oop"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":41,"score":0,"question_id":13276315,"title":"PHP Mysqli Extension Warning","body":"<p>I have the following code and I can't explain why it outputs an error.</p>\n\n<pre><code>class User extends mysqli{\n\n    // property declaration\n    private $server;\n    private $user;\n    private $pass;\n    private $database;\n    private $conn;\n\n    function __construct($server, $user, $pass, $database){\n\n        $mysqli = new mysqli($server, $user, $pass, $database);\n        if ($mysqli-&gt;connect_errno) {\n            echo \"Connect failed: \". $mysqli-&gt;connect_error;\n            exit();\n        }\n\n        $this-&gt;conn = $mysqli;\n\n        return 0;\n\n    }\n\n    function __destruct(){\n\n        $conn = $this-&gt;conn;\n        $conn-&gt;close();\n\n    }\n}\n</code></pre>\n\n<p>and main code</p>\n\n<pre><code>include(\"global_config.php\");\n\nrequire \"User.php\";\n\n$u = new User($con['server'],$con['user'],$con['pass'],$con['db']);\n\n$u-&gt;query(\"SELECT * FROM users\");\n</code></pre>\n\n<p>returns this error</p>\n\n<pre><code>Warning: mysqli::query() [mysqli.query]: Couldn't fetch User in E:\\Xampp\\htdocs\\testphp\\testMysql.php on line 9\n</code></pre>\n\n<p>normally, it should behave as here <a href=\"http://stackoverflow.com/questions/9727062/php-inheritance-parent-functions-using-child-variables\">PHP inheritance, parent functions using child variables</a></p>\n\n<p>but it doesn't </p>\n\n<p>i've already exhausted my imagination thinking about most possible keywords I could use for a google search</p>\n\n<p>any ideas? </p>\n"},{"tags":["php","mysql","d3.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13201749,"title":"Draw simple timeline with D3","body":"<p>I have been trying to draw a timeline with <a href=\"http://d3js.org/\" rel=\"nofollow\">D3</a> for some days, but I never used it and now I realize I don't know how to do it. I also tried with <a href=\"http://code.shutterstock.com/rickshaw/\" rel=\"nofollow\">Rickshaw</a> but still with no success.<br>\nThis is what I'm trying to accomplish:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8epw8.png\" alt=\"Timeline\"></p>\n\n<p>In this example, I have a starting date (1º Jun 2011), an ending date (1º Jul 2012) and multiple events between this range.<br>\nEach event is related to one day of the calendar (although it is possible to have many events on a single day).  </p>\n\n<p>This data is fetched from a MySQL DB.</p>\n\n<p>Any help or suggestion will be highly appreciated.<br>\nThanks in advance.</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":21,"score":-2,"question_id":13276802,"title":"How do you undo delete all *your ap* activity on facebook","body":"<p>I have been testing my facebook app that posts to the user's newsfeed. User clicked delete all activity from <em>my app</em> once and it cleared all the activity from app, but not it does not show new activity either even though permissions are granted. What can the user do to reenable displaying of the app activity on their wall/activity feed?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","iphone","objective-c","youtube"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2233,"score":4,"question_id":6015962,"title":"How to get mp4/mov/m4v video link for a youtube video?","body":"<p>Can we get the file url for any video loaded on youtube? I am not happy using the youtube player in my application and would like to launch it using a instance of MPMoviePlayerController. </p>\n\n<p>PS: Will be tagging it php also as developers across domains would also have had this sort of requirement</p>\n"},{"tags":["php","arrays"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":865,"score":2,"question_id":5844518,"title":"check if an array have one or more empty values","body":"<p>I have the array $var, and I'd like to return FALSE if one or more element in the array are empty (I mean, the string are \"\").</p>\n\n<p>I think that <code>array_filter()</code> is the better way, but I don't know how to filter it in this manner.</p>\n\n<p>How can I do it?</p>\n"},{"tags":["java","php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":57,"score":0,"question_id":13267228,"title":"Restrain page access to one user at the time","body":"<p>I have two user: X and Y. And one page: Page Z. To access page Z I have a link.</p>\n\n<p>If page Z is already open in user X browser I want the link to be disabled and denied the access to the page to user Y.</p>\n\n<ul>\n<li>How can I do that?</li>\n<li>Which language is the most apropriate to do that (jQuery, Php, etc)?</li>\n</ul>\n"},{"tags":["php","arrays","foreach","ksort"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":34,"score":1,"question_id":13276197,"title":"How can I sort this array alphabetically using php and use foreach to loop through it","body":"<p>I have this data in an array stored as <code>$eventTitles</code>. I am trying to sort it alphabetically.</p>\n\n<pre><code>Array (\n    [Customer Challenge - Sustainability] =&gt; Customer Challenge - Sustainability\n    [Manifesto Stores] =&gt; Manifesto Stores\n    [Helpful Heroes] =&gt; Helpful Heroes\n    [Ben 5 places left test] =&gt; Ben 5 places left test\n    [Ben sold out test] =&gt; Ben sold out test\n    [Ben 1 space left test] =&gt; Ben 1 space left test\n    [Follow the Product] =&gt; Follow the Product\n    [Living the Operating Model] =&gt; Living the Operating Model\n    [Leaders Unplugged] =&gt; Leaders Unplugged\n    [Market Trends] =&gt; Market Trends\n    [FINAL MASTER EVENT CONFIG - DO NOT AMEND] =&gt; FINAL MASTER EVENT CONFIG - DO NOT AMEND\n    [You Can Do It] =&gt; You Can Do It\n    [Customer Challenge - Communicating EDLP] =&gt; Customer Challenge - Communicating EDLP\n) \n</code></pre>\n\n<p>Using:</p>\n\n<pre><code>$eventTitles = ksort($eventTitles);\n\nforeach($eventTitles as $title) {\n    $t = urlencode($title);\n    //if statement to check if the title is in the url param \n    //and if it is we can put selected in the left hand nav as a class\n    if($_GET[\"title\"] == $title ) {\n        $selected = ' class=\"selected\"';\n    } else {\n        $selected = ' ';\n    }\n    $rtnStr .= '&lt;li&gt;&lt;a'.$selected.'href=\"list.php?title='.urlencode($title).\n                       '\" data-value=\"'.$title.'\"&gt;'.$title.'&lt;/a&gt;&lt;/li&gt;';\n}\n</code></pre>\n\n<p>produces the following error when I try to loop through the titles and render them each out:</p>\n\n<blockquote>\n  <p>Warning: Invalid argument supplied for foreach() in model.php on line 281</p>\n</blockquote>\n\n<p>Any clues on what is going wrong would me much appreciated.</p>\n"},{"tags":["php","encoding","zip"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13267143,"title":"php zip contents encoding","body":"<p>I create some .txt files (with greek characters) via a php script, with UTF-8 encoding.\nWhen i am trying to download and read these files from ftp everything works fine (no encoding problems).</p>\n\n<p>When I zip these files to a zip archive, I am facing encoding problem with all greek characters and newLines chars.</p>\n\n<p>zip script:</p>\n\n<pre><code>    $zip = new ZipArchive();\n    $filename = \"my_zip.zip\";\n\n    if ($zip-&gt;open($filename, ZIPARCHIVE::CREATE)!==TRUE) {\n        exit(\"cannot open &lt;$filename&gt;\\n\");\n    }\n\n\n    $files = glob('users/'.$_SESSION['s_uid'].'/*'); // get all file names\n    foreach($files as $file){ // iterate files\n        if(is_file($file))\n            //$zip-&gt;addFile($thisdir . $file, basename($file));\n            $zip-&gt;addFile($thisdir . $file, iconv(\"UTF-8\",\"UTF-8\", basename($file)));\n            //echo $file; // delete file\n    }   \n    $zip-&gt;close();\n</code></pre>\n"},{"tags":["php","database","oop","class","session"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13276556,"title":"Custom PHP Session Class","body":"<p>What I want to do is write a custom PHP session class that stores sessions in the database without using <code>session_set_save_handler()</code>.</p>\n\n<p>The purpose of this is so I can easily store data using <code>serialize()</code> and return it using <code>unserialize()</code>.</p>\n\n<p>I've been looking all day, can't find anything on this subject. Can anyone help get me started or link me to a useful tutorial?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","html","forms"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13274403,"title":"Array from HTML forms - Internal Server Error","body":"<p>I try to make a requestform for our school. But if I transmit this form I get a \"Internal Server Error\". I searched but I found nothing like that. Also I don't get a only this error message \"Internal Server Error\", nothing more. Any ideas why?</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n\n        &lt;title&gt;&lt;/title&gt;\n\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta name=\"description\" content=\"\"&gt;\n\n        &lt;link rel=\"stylesheet\" href=\"../css/normalize.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"../css/bestellformular.css\" /&gt;\n\n\n\n        &lt;!-- HTML 5 in Internet Explorer 9 und kleiner aktivieren --&gt;\n        &lt;!--[if lt IE 9]&gt;\n            &lt;script type=\"textt/javascript\" src=\"js/html5shiv.js\"&gt;&lt;/script&gt;\n        &lt;![endif]--&gt;\n\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;section id=\"head\"&gt;\n\n        &lt;/section&gt;\n        &lt;form action=\"../php/einlesen.php\" method=\"post\"&gt;\n            &lt;section id=\"body\"&gt;\n                &lt;h1&gt;Bestellung&lt;/h1&gt;\n\n                &lt;table&gt;\n                &lt;colgroup&gt;\n                    &lt;col width=\"10%\"&gt;\n                    &lt;col width=\"80%\"&gt;\n                    &lt;col width=\"10%\"&gt;\n                 &lt;/colgroup&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;\n                            Artikel-Nr.\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            Artikel\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            Menge\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" placeholder=\"Artikel-Nr.\" name=\"articelnr[]\" required /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" placeholder=\"Name des Artikels\" name=\"articelname[]\" required /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" placeholder=\"Menge\" name=\"quantity[]\" required /&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/section&gt;\n\n            &lt;section id=\"info\"&gt;\n                &lt;div class=\"left\"&gt;\n\n                    &lt;hr /&gt;\n                    &lt;p&gt;\n                        Kundennummer &lt;input type=\"text\" /&gt;\n                    &lt;/p&gt; \n                &lt;/div&gt;\n                &lt;div class=\"right\"&gt;\n                    &lt;table&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Firma&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"company\"required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Ort, PLZ&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"place\" required /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"number\" name=\"plz\" class=\"number\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Straße, Nr.&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"street\"required /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"number\" name=\"streetnr\" class=\"number\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Telefon&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"tel\" name=\"tel\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Fax&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"fax\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;E-Mail&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"email\" name=\"email\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Datum&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"date\" name=\"date\" required placeholder=\"tt.mm.jj\"/&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;    \n                &lt;/div&gt;\n\n            &lt;/section&gt;\n\n            &lt;section id=\"submit\"&gt;\n                    &lt;input type=\"checkbox\" name=\"agb\" required /&gt; Ich habe die &lt;a href=\"../docs/agb.pdf\"&gt;AGB&lt;/a&gt; gelesen und akzeptiere diese.\n                    &lt;input type=\"submit\" value=\"Bestellung Abschicken\"/&gt;\n            &lt;/section&gt;\n        &lt;/form&gt;\n        &lt;section id=\"footer\"&gt;\n            &lt;hr /&gt;\n        &lt;/section&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Any Ideas why? The data is sent to a yet empty PHP document. The bracelets in the name tag are used to get an array. My PHP version is 5.3.8</p>\n\n<p>Here is the tail of the log:</p>\n\n<pre><code>[Wed Nov 07 16:48:13 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:50 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:51 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:51 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:52 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:52 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:50:22 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:50:26 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21\n[Wed Nov 07 17:28:05 2012] [error] [client ::1] PHP Warning:  phpinfo(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CET/1.0/no DST' instead in /Users/falkner_d2/Sites/info.php on line 3\n[Wed Nov 07 17:54:26 2012] [error] [client ::1] PHP Warning:  phpinfo(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CET/1.0/no DST' instead in /Users/falkner_d2/Sites/info.php on line 3\n</code></pre>\n\n<p>The two error here ('arrray' I have already resolved sometime ago, it's gone ignore it), the second one isn't related. Also 'config_bestellformular.php' is completely unrelated and used somewhere else.</p>\n\n<p>UPDATE:\nSeems there is a problem with the method=\"post\", method=\"get\" works without error...\nI really don't want to use the get method, so any ideas here.</p>\n\n<p>Also, if I send them per get I can't echo a variable out. I don't see a error in the 'einlese.php' (for those of you who can't understand german it means 'read.php'), but here is the code nonetheless:</p>\n\n<pre><code>&lt;?php\n    $company = $_GET['company'];\n\n    echo $company;\n?&gt;\n</code></pre>\n\n<p>UPDATE:\nSo the big problem was the name tag with []. Even if enough webseites said it should work ... it didn't so I used a simple workaround:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n\n        &lt;title&gt;&lt;/title&gt;\n\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta name=\"description\" content=\"\"&gt;\n\n        &lt;link rel=\"stylesheet\" href=\"../css/normalize.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"../css/bestellformular.css\" /&gt;\n\n\n\n        &lt;!-- HTML 5 in Internet Explorer 9 und kleiner aktivieren --&gt;\n        &lt;!--[if lt IE 9]&gt;\n            &lt;script type=\"textt/javascript\" src=\"js/html5shiv.js\"&gt;&lt;/script&gt;\n        &lt;![endif]--&gt;\n\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;section id=\"head\"&gt;\n\n        &lt;/section&gt;\n        &lt;form action=\"../php/einlesen.php\" method=\"post\"&gt;\n            &lt;section id=\"body\"&gt;\n                &lt;h1&gt;Bestellung&lt;/h1&gt;\n\n                &lt;table&gt;\n                &lt;colgroup&gt;\n                    &lt;col width=\"10%\"&gt;\n                    &lt;col width=\"80%\"&gt;\n                    &lt;col width=\"10%\"&gt;\n                 &lt;/colgroup&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;\n                            Artikel-Nr.\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            Artikel\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            Menge\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" placeholder=\"Artikel-Nr.\" name=\"articelnr[0]\" required /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" placeholder=\"Name des Artikels\" name=\"articelname[0]\" required /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" placeholder=\"Menge\" name=\"quantity[0]\" required /&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[1]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[1]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[1]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[2]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[2]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[2]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[3]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[3]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[3]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[4]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[4]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[4]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[5]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[5]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[5]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[6]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[6]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[6]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[7]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[7]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[7]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[8]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[8]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[8]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[9]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[9]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[9]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[10]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[10]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[10]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[11]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[11]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[11]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/section&gt;\n\n            &lt;section id=\"info\"&gt;\n                &lt;div class=\"left\"&gt;\n                    &lt;hr /&gt;\n                    &lt;p&gt;\n                        Kundennummer &lt;input type=\"text\" /&gt;\n                    &lt;/p&gt; \n                &lt;/div&gt;\n                &lt;div class=\"right\"&gt;\n                    &lt;table&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Firma&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"company\"required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Ort, PLZ&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"place\" required /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"number\" name=\"plz\" class=\"number\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Straße, Nr.&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"street\"required /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"number\" name=\"streetnr\" class=\"number\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Telefon&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"tel\" name=\"tel\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Fax&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"fax\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;E-Mail&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"email\" name=\"email\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Datum&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"date\" name=\"date\" required placeholder=\"tt.mm.jj\"/&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;    \n                &lt;/div&gt;\n\n            &lt;/section&gt;\n\n            &lt;section id=\"submit\"&gt;\n                    &lt;input type=\"checkbox\" name=\"agb\" required /&gt; Ich habe die &lt;a href=\"../docs/agb.pdf\"&gt;AGB&lt;/a&gt; gelesen und akzeptiere diese.\n                    &lt;input type=\"submit\" value=\"Bestellung Abschicken\"/&gt;\n            &lt;/section&gt;\n        &lt;/form&gt;\n        &lt;section id=\"footer\"&gt;\n            &lt;hr /&gt;\n        &lt;/section&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","security"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13276225,"title":"Can I restrict website access to specific computers?","body":"<p>I realize that mac addresses or machine ids aren't transferred over the internet, however, I would like to lock down our subscription-based website security so that only specific computers can register and have access to its resources.</p>\n\n<p>Large organizations will subscribe to our service and will undoubtedly have more than one ip for their organization.  As well, we'd like to give the ability for their qualified employees to access the website on devices outside of their physical organization (for road-trip presentations, etc.). </p>\n\n<p>Is there a sure-fire way to achieve this end (beyond the username/password assigned to each account)?  If not, what would be the most effective approach?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","get","friendly-url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13275740,"title":"Using RewriteRule on Friendly-URL - Get Variables with Redirect 301","body":"<p>I'm having some problems. I searched a lot, tried variations, and still can't get this working.</p>\n\n<p>My aim is simply this:</p>\n\n<p>Redirect:\n<a href=\"http://site.com/folder1/folder2/\" rel=\"nofollow\">http://site.com/folder1/folder2/</a><strong>page</strong></p>\n\n<p>To:\n<a href=\"http://site.com/folder1/folder2/\" rel=\"nofollow\">http://site.com/folder1/folder2/</a><strong>Page</strong></p>\n\n<p>Notice that I'm using \"Friendly URLs\".</p>\n\n<p>Now here are the methods I tried, and the problems I came accross.</p>\n\n<p>1) <strong>Redirect 301</strong></p>\n\n<pre><code>Redirect 301 /folder1/folder2/page http://site.com/folder1/folder2/Page\n</code></pre>\n\n<p>This Redirect works, the problem is, my Get Variables from \"page\" are appearing at the end of the URL, which is bad for SEO:</p>\n\n<p><a href=\"http://site.com/folder1/folder2/Page?get=page\" rel=\"nofollow\">http://site.com/folder1/folder2/Page?get=page</a></p>\n\n<p>2) <strong>RewriteRule</strong></p>\n\n<p>RewriteRule of mod_rewrite is supposed to fix the problem of the Get Variables appearing (From what I've read).</p>\n\n<p>The problem is, I'm not getting it to work for my Fancy URL structure.</p>\n\n<pre><code>RewriteRule ^/folder1/folder2/page$ http://site.com/folder1/folder2/Page [R=301,L]\n</code></pre>\n\n<p>It simply doesn't work. The Redirect isn't carried out, so something must be wrong here. I tried many variations to that code.</p>\n\n<p>Can't you use RewriteRule directly on Friendly URLs?</p>\n\n<p><em>(Friendly URL meaning I stripped off the .php extension)</em></p>\n\n<p>Looking forward to some help!\nThanks!</p>\n\n<hr>\n\n<p>Update 1:</p>\n\n<p>Please note that Case Sensitivity is Not the issue here.</p>\n\n<p>Even if my example was: <strong>Page1 => Page 2</strong></p>\n\n<p>Instead of: <strong>page => Page</strong></p>\n\n<p>The problems still persist.</p>\n\n<hr>\n\n<p>Update 2:</p>\n\n<p>This is the closest solution I got so far (but still not there yet):</p>\n\n<pre><code>Redirect 301 /folder1/folder2/page http://site.com/folder1/folder2/Page?\n</code></pre>\n\n<p>I added a \"?\" at the end.</p>\n\n<p>This will give me the landing URL of:\n<a href=\"http://site.com/folder1/folder2/Page\" rel=\"nofollow\">http://site.com/folder1/folder2/Page</a>?</p>\n\n<p>It removes the Get Variables, but still not as SEO friendly as I would like.</p>\n"},{"tags":["php","pdo","slim"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13262780,"title":"what is the way to use PDO in slim framework?","body":"<p>I start a new slim project with twig support, I want to use PDO as database layer, what is the way to integrate? or just use GLOBAL $db?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","doctrine2","many-to-many"],"answer_count":2,"favorite_count":3,"up_vote_count":11,"down_vote_count":1,"view_count":403,"score":10,"question_id":12077084,"title":"Doctrine2 ManyToMany Self referencing","body":"<p>I got problems with persisting many to many self referencing relations.\nI receive error: </p>\n\n<blockquote>\n  <p>The class 'Doctrine\\ORM\\Persisters\\ManyToManyPersister' was not found in the chain configured namespaces</p>\n</blockquote>\n\n<p>This happens when I remove all children form item saved with them.\nLeaving at least one don't make error happen. Also if I initially save entity with no children everything works fine.</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>/**\n  * West\\AlbumBundle\\Entity\\Album\n  *\n  * @ORM\\Table(name=\"albums\")\n  * @ORM\\Entity(repositoryClass=\"West\\AlbumBundle\\Entity\\AlbumRepository\")\n  * @ORM\\HasLifecycleCallbacks\n  */\n class Album extends Entity implements CrudEntity\n {\n\n     /**\n      * @ORM\\ManyToMany(targetEntity=\"Album\")\n      * @ORM\\JoinTable(name=\"albums_relations\",\n      *         joinColumns={@ORM\\JoinColumn(name=\"album_id\", referencedColumnName=\"id\")},\n      *         inverseJoinColumns={@ORM\\JoinColumn(name=\"related_album_id\", referencedColumnName=\"id\")}\n      * ) \n      * @var ArrayCollection\n      */\n      protected $related_albums;\n}\n</code></pre>\n\n<p>If you're testing with Symfony2 forms remember to set</p>\n\n<blockquote>\n  <p>\"by_reference\" => false</p>\n</blockquote>\n"},{"tags":["php","apache"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13276324,"title":"PHP Strict Standards errors on localhost","body":"<p>I keep receiving strict standards errors on my local machine (mac os 10.8) when I am trying to install RoundCube.</p>\n\n<p>I tried turning them off by editing the php.ini line to this</p>\n\n<pre><code>error_reporting = E_ALL &amp; ~E_NOTICE &amp; ~E_STRICT\n</code></pre>\n\n<p>After restarting Apache, all of the error messages still get displayed</p>\n\n<p>I am using the php installer found here at <a href=\"http://php-osx.liip.ch/\" rel=\"nofollow\">http://php-osx.liip.ch/</a></p>\n\n<p>When I run phpinfo() the php.ini location is set to here /usr/local/php5/lib/php.ini</p>\n\n<p>This is the file that I have been editing but no changes I make there appear to happen. What am I doing wrong?</p>\n"},{"tags":["php","curl","blogs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13259883,"title":"posting to pingomatic with curl is not allowed","body":"<p>I posted to pingomatic using curl with code like this</p>\n\n<pre><code>$curl = curl_init($this-&gt;buildURL());\ncurl_exec($curl);\n</code></pre>\n\n<p>But got the reply</p>\n\n<pre><code>You are too awesome for Ping-o-matic\n</code></pre>\n\n<p>Why am I too awesome for Ping-o-matic?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I am posting to pingomatic but not <code>POST</code>ing to pingomatic. Their setup just takes a simple <code>GET</code> request</p>\n"},{"tags":["php","oop","zend-framework","design","dependency-injection"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":61,"score":8,"question_id":13275709,"title":"Making this class comply with the Dependency Inversion principle","body":"<p>The definition of DI quoted from Wikipedia states:</p>\n\n<blockquote>\n  <p>A. High-level modules should not depend on low-level modules. Both should depend on abstractions.\n          B. Abstractions should not depend upon details. Details should depend upon abstractions.</p>\n</blockquote>\n\n<p>I'm trying to apply that principle to my code:</p>\n\n<pre><code>class Printer{\n        private $logger;    \n        function __construct(Zend_Log $logger){\n            $this-&gt;logger=$logger;\n        }    \n       function print(){\n          //Some code\n          $this-&gt;logger-&gt;log('Logger in action ;)');\n       }        \n    }\n</code></pre>\n\n<p>Now since why <code>Printer</code> class depends on <code>Zend_Log</code> which is neither an abstract class nor an interface then I'm violating the Dependency Inversion principle.</p>\n\n<p>How can I fix that knowing that <code>Zend_Log</code> doesn't extend an abstract class nor implement an interface?</p>\n"},{"tags":["php","http-headers"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13274847,"title":"Displaying output before headers are set in PHP","body":"<p>I have an HTML form that submits its data via POST to a server page:</p>\n\n<pre><code>&lt;form id='report-inputs' method='post' action='generate.php'&gt;...&lt;/form&gt;\n</code></pre>\n\n<p><code>generate.php</code> is does a lot of work with the data its given, to finally dump out an Excel file for download. It does this by cleaning the buffer and setting the headers:</p>\n\n<pre><code>ob_end_clean();\nheader('Set-Cookie: fileDownloadToken='.$token); \nheader('Content-type: application/vnd.ms-excel');\nheader('Content-Disposition: attachment; filename=\"'.$_DATA['title'].'.xlsx\"');\n$objWriter-&gt;save('php://output');\n</code></pre>\n\n<p>Without <code>ob_end_clean()</code> the file downloads as corrupt. I would like to display some sort of confirmation or something when the page finishes its processing, but the caveat there is that any page output is cleared before render with <code>ob_end_clean()</code>. </p>\n\n<p>What can I do to display some content AND deliver the file successfully?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13276128,"title":"Find duplicate rows in mysql simplified example","body":"<p>Confession: a mysql newb requires simple example to locate duplicate rows in somewhat large table. I have searched for and read many other threads with similar titles, but the examples are so complex that I cannot apply them to my basic situation.</p>\n\n<p>A MySQL table has only 5 fields, but there are hundreds of rows. I wish to locate duplicate rows -- I know there is one for sure and wonder if there are others.</p>\n\n<p>Example Row: (rel_id is auto-incrementing, primary key field)</p>\n\n<pre><code>'rel_id' =&gt; 1\n'host' =&gt; 17\n'host_type' =&gt; 'client'\n'rep' =&gt; 7\n'rep_type =&gt; 'cli_mgr'\n</code></pre>\n\n<p>My approach was to:<br>\n1. Read entire table into mysql query<br>\n2. row-by-row compare the 4 data fields to those of previous (\"done\") rows<br>\n3. after comparing a \"new\" row, append it to array of \"done\" rows<br></p>\n\n<p>Here is what I have tried. I am sure that there must be a much simpler solution. You will see that I am bogged down in trying to append the \"new\" row to the array of \"done\" rows:</p>\n\n<pre><code>$rRels = mysql_query(\"SELECT * FROM `rels`\");\n$a = array();\n$e = array();\n$c1 = 0;\n$c2 = 0;\nWhile ($r = mysql_fetch_assoc($rRels)) {\n    $i = $r['rel_id'];\n    $h = $r['host'];\n    $ht = $r['host_type'];\n    $r = $r['rep'];\n    $rt = $r['rep_type'];\n\n    foreach($a as $row) {\n        $xh = $row['host'];\n        $xht = $row['host_type'];\n        $xr = $row['rel'];\n        $xrt = $row['rel_type'];\n\n        if (($h==$xh) &amp;&amp; ($ht==$xht) &amp;&amp; ($r==$xr) &amp;&amp; ($rt==$xrt)) {\n            echo 'Found one&lt;br&gt;';\n            $e[] = $r;\n        }\n        $c2++;\n    }\n    $a = array_merge(array('rel_id'=&gt;$i, 'host'=&gt;$h, 'host_type'=&gt;$ht, 'rep'=&gt;$r, 'rep_type'=&gt;$rt), $a);\n    $c1++;\n}\n\necho '&lt;h3&gt;Duplicate Rows:&lt;/h3&gt;';\nforeach ($e as $row) {\n    print_r($row);\n    echo '&lt;br&gt;';\n}\necho '&lt;br&gt;&lt;br&gt;';\necho 'Counter 1: ' . $c1 . '&lt;br&gt;';\necho 'Counter 2: ' . $c2 . '&lt;br&gt;';\n</code></pre>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13275659,"title":"PHP file_exists is lying to me (saying file exists but it doesnt)","body":"<p>Doing this:</p>\n\n<pre><code>php -r 'unlink(\"path\"); clearstatcache(); echo file_exists(\"path\");'\n</code></pre>\n\n<p>Where path is a full absolute path to a file on my linux machine.  Command is returning '<code>1</code>' even though the file is clearly not there.  You can run this command a million times, it will always tell you the file is there.</p>\n\n<p>Running:</p>\n\n<pre><code>ls path\n</code></pre>\n\n<p>Tells you there's no such file.</p>\n\n<p>what gives?</p>\n\n<p>Update:\nI know about clearstatcache().  That does not help in this case.  Additionally, I'm running this with the cli.  Nothing changes from run to run.  I'm also on a 64-bit VM running ubuntu 11.10.</p>\n\n<p>Path is just a path on the filesystem: /var/www/yo.txt.  www is a nfs shared mount, not sure if that has something to do with it.  The file was removed from a remote machine, but the local machine seems to know its not there.  'ls' on the directory shows no files, and ls with the path claims says that the file is not there.  The file was just a few kb, nothing huge.</p>\n"},{"tags":["php","arrays"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13276226,"title":"Generate URL with parameters from an array","body":"<p>I need to take an array like I have below:</p>\n\n<pre><code>$subids = Array\n    (\n        [s1] =&gt; one\n        [s2] =&gt; two\n        [s3] =&gt; three\n        [s4] =&gt; four\n        [s5] =&gt; five\n        [s6] =&gt; six\n    )\n</code></pre>\n\n<p>and generate a URL such as <a href=\"http://example.com?s1=one&amp;s2=two&amp;s3=three=&amp;s4=four&amp;s5=five&amp;s6=six\" rel=\"nofollow\">http://example.com?s1=one&amp;s2=two&amp;s3=three=&amp;s4=four&amp;s5=five&amp;s6=six</a></p>\n\n<p>All of the subids are not always defined, so sometimes s3 may not be defined, so it shouldn't be appended to the URL. Additionally, whatever the first subid is, it has to have the ? preceding it instead of the ampersand (&amp;)</p>\n\n<p>So if the array is just:</p>\n\n<pre><code>$subids = Array\n    (\n        [s2] =&gt; two\n        [s6] =&gt; six\n    )\n</code></pre>\n\n<p>then the URL needs to be <a href=\"http://example.com?s2=two&amp;s6=six\" rel=\"nofollow\">http://example.com?s2=two&amp;s6=six</a></p>\n\n<p>I have the following so far:</p>\n\n<p>$url = 'http://example.com'</p>\n\n<pre><code>    foreach ($subids AS $key =&gt; $value) {\n        $result[$id]['url'] .= '&amp;' . $key . '=' . $value;\n    }\n</code></pre>\n\n<p>However, I'm not sure what the best way would be to append the ? at the beginning of the first key/value pair.</p>\n\n<p>I feel like there's a PHP function to help with this but I'm not finding much. I'm using Codeigniter if there's anything I can use that is provided by CI.</p>\n"},{"tags":["php","database","global-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13275053,"title":"global Tag Stopped Working : Wrong way to define global variable?","body":"<p>I'm trying to pull data from the server without having to repeat <code>$parentQ</code>, <code>$parentResult</code>, and <code>$link</code>. I thought adding global inside each function would fix it, and it did.. but for whatever reason just stopped working. </p>\n\n<p>If I put them back inside the function, it works. I'm confused. Why did it work, and now, isn't working. I didn't change anything that I know of. Here's the code:</p>\n\n<pre><code>//URL in Reference\n  $URL = 'path/file.php';\n\n//Initialize Query for Table Data\n$parentQ = \"select * from cdi_content where URL=\\\"$URL\\\"\";\n$parentResult = mysql_query($parentQ); // Run the Query\n$link = mysql_fetch_assoc($parentResult); // Query Result\n\n// Write Main Content\nfunction writeContent($URL){\nglobal $parentQ, $parentQuery, $link;\necho $link['Content']; // Pull Data From Server\n</code></pre>\n"},{"tags":["php","rest","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13275563,"title":"REST for PHP 5.1.6 for use with Backbone","body":"<p>I am working on a project where I don't have SSH access to the linux server but just the FTP access to public_html folder. I am relatively new to backbone and want to utilize its full capabilities. However, the server runs on:</p>\n\n<blockquote>\n  <p>PHP 5.1.6 APACHE 2.0 Modules: core prefork http_core mod_so\n  mod_auth_basic mod_auth_digest mod_authn_file mod_authn_alias\n  mod_authn_anon mod_authn_dbm mod_authn_default mod_authz_host\n  mod_authz_user mod_authz_owner mod_authz_groupfile mod_authz_dbm\n  mod_authz_default util_ldap mod_authnz_ldap mod_include mod_log_config\n  mod_logio mod_env mod_ext_filter mod_mime_magic mod_expires\n  mod_deflate mod_headers mod_usertrack mod_setenvif mod_mime mod_dav\n  mod_status mod_autoindex mod_info mod_dav_fs mod_vhost_alias\n  mod_negotiation mod_dir mod_actions mod_speling mod_userdir mod_alias\n  mod_rewrite mod_proxy mod_proxy_balancer mod_proxy_ftp mod_proxy_http\n  mod_proxy_connect mod_cache mod_suexec mod_disk_cache mod_file_cache\n  mod_mem_cache mod_cgi mod_version mod_ssl mod_jk mod_auth_pgsql\n  mod_authz_ldap mod_nss mod_perl mod_php5 mod_proxy_ajp mod_python\n  mod_dav_svn mod_authz_svn</p>\n</blockquote>\n\n<p>Is it possible by any means to implement REST api on the backend? I have been looking at many frameworks in PHP but they mostly require > PHP 5.2  Any help would be highly appreciated. Thanks.</p>\n"},{"tags":["php",".htaccess","seo"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13267188,"title":"PHP SEO optimized address and physical page address conflict","body":"<p>I have a static website that I am planning to move towards php. I will be using php to just load the navigation.htm and main contents page and combine to form a single html file. </p>\n\n<ol>\n<li><p>Actual Page is here: <a href=\"http://abubakar.zxq.net/html/0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm\" rel=\"nofollow\">http://abubakar.zxq.net/html/0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm</a></p></li>\n<li><p>How It is accessed through php:\n<a href=\"http://abubakar.zxq.net/index.php?page=0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm\" rel=\"nofollow\">http://abubakar.zxq.net/index.php?page=0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm</a></p></li>\n</ol>\n\n<p>I want the page to look like 2 when site is addressed with URL in 1. It is needed to keep the already shared URLs remain working.</p>\n\n<p>Here is how I defined httaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^html/([a-zA-Z0-9_-]+)$ index.php?page=$1\n</code></pre>\n\n<p>Kindly inform is it possible to do it in present form? I have a solution in mind that old files should be shifted to a new folder and the design php so that it works on old link. Thanks in advance for your kind help.</p>\n"},{"tags":["php","zend-framework","routes","zend-route","zend-router"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13137540,"title":"ZEND - Custom routing issues","body":"<p>I'm using Zend framework 1.12, trying to come up with custom routes.</p>\n\n<p>I'm trying to create something that looks like facebook's profile URL (http://facebook.com/username). So, at first I tried something like that:</p>\n\n<pre><code>$router-&gt;addRoute(\n            'eventName',\n            new Zend_Controller_Router_Route(\n                '/:eventName', \n                array(\n                    'module' =&gt; 'default', \n                    'controller' =&gt; 'event', \n                    'action' =&gt; 'detail'\n                )\n            )\n        );\n</code></pre>\n\n<p>I kept getting the following error anytime I tried running mydomain.com/something:</p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'Zend_Controller_Router_Exception'\n  with message 'eventName is not specified' in\n  /var/desenvolvimento/padroes/zf/ZendFramework-1.12.0/library/Zend/Controller/Plugin/Broker.php\n  on line 336</p>\n</blockquote>\n\n<p>Not only I was unable to make that piece of code work, all my default routes were (obviously) overwritten. So I have, for example, stuff like \"mydomain.com/admin\" that should send me to the \"admin\" module, on the Index controller, but was now returning the same error (as it fell in the same pattern as /:eventName).</p>\n\n<p>What I need to do is to create this custom route, without overwriting the default ones and actually working (dûh).</p>\n\n<p>I have already checked the online docs and a lot (A LOT) of stuff on google, but I didn't find anything related to the error I'm getting or how to not overwrite the default routes. I'd appreciate anything that could point me the right direction.</p>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p>EDIT¹:\nI managed to get it working, but I didn't use any routing at all. I just made a plugin with the following:</p>\n\n<pre><code>public function preDispatch(\\Zend_Controller_Request_Abstract $request) {\n\n    if (!\\Zend_Controller_Front::getInstance()-&gt;getDispatcher()-&gt;isDispatchable($request)) {\n\n        $request-&gt;setModuleName($this-&gt;_eventRouter[\"module\"]);\n        $request-&gt;setControllerName($this-&gt;_eventRouter[\"controller\"]);\n        $request-&gt;setActionName($this-&gt;_eventRouter[\"action\"]);\n\n    }\n\n}\n</code></pre>\n\n<p>It feels like an ugly workaround, though... As <a href=\"http://stackoverflow.com/users/105019/tim-fountain\">Tim Fountain</a> pointed out, my events are dynamic (I load them from a database), so I can't hardcode it. Also, my current implementation prevents me from having to hardcode every module/controller/action combination.</p>\n\n<p>I'd just like to know if there's a way to avoid using a plugin.</p>\n\n<hr>\n\n<p>EDIT²: I'm not doing that crappy plugin thing anymore. I figured out what was causing the router error. My routing definition did not have a valid default value for variable 'eventName'. My fix was:</p>\n\n<pre><code>$router-&gt;addRoute(\n        'eventName',\n        new Zend_Controller_Router_Route(\n            '/:eventName', \n            array(\n                'module' =&gt; 'default', \n                'controller' =&gt; 'event', \n                'action' =&gt; 'detail',\n                'eventName' =&gt; ''\n            )\n        )\n    );\n</code></pre>\n\n<p>I am still unable to create routes with \"conflicting\" patterns, such as <strong>/admin</strong> and <strong>/:eventName</strong>. If only there was a way to make <strong>/admin</strong> override <strong>/:eventName</strong>...</p>\n"},{"tags":["php","git","version-control"],"answer_count":4,"favorite_count":18,"up_vote_count":21,"down_vote_count":0,"view_count":5552,"score":21,"question_id":645814,"title":"Reading a Git repository, without Git","body":"<p>I'm researching the idea of building a super-small (preferably PHP) web app, which will serve (among other things) as a minimal front-end to a git repository.</p>\n\n<p><strong>Any library/article for reading a git repository</strong> (\".git\" folder) <strong>without having to execute the \"git\" process?</strong> I'm looking for an API to manage a git repository. I'm only interested in basic functions, such as reading last commits (name of commiter, commit note, date), displaying and traversing branches...</p>\n\n<p>Thanks,\nANaimi</p>\n"},{"tags":["php","reference"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13265617,"title":"PHP and Reference: What is deprecated and what is not?","body":"<p>PHP as declared refusing the use of reference variable (E_DEPRECATED in 5.3, E_STRICT in 5.4).\nInitially, I thought it was the use of &amp; in all the cases, but it seems not.</p>\n\n<p>So I was wondering, what kind of code using reference is still allowed, and what now throws a E_DEPRECATED/STRICT error?</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13275938,"title":"Facebook Video API not Uploading Video","body":"<p>It authenticates and redirects to thankyou.com like it should, but no  video is ever posted on my timeline. The video is on <code>www.mydomain.com/video.mp4</code>  </p>\n\n<pre><code> &lt;?php\n $app_id = \"2363xxxxxxx\";\n $app_secret = \"e4cd5bbxxxxxxxxxxxxxxx\";\n $my_url = \"http://thankyou.com\";\n $video_title = \"Test\";\n $video_desc = \"Test\";\n\n $code = $_REQUEST[\"code\"];\n\n if(empty($code)) {\n $dialog_url = \"http://www.facebook.com/dialog/oauth?client_id=\"\n . $app_id . \"&amp;redirect_uri=\" . urlencode($my_url)\n . \"&amp;scope=publish_stream\";\n echo(\"&lt;script&gt;top.location.href='\" . $dialog_url . \"'&lt;/script&gt;\");\n }\n\n $token_url = \"https://graph.facebook.com/oauth/access_token?client_id=\"\n . $app_id . \"&amp;redirect_uri=\" . urlencode($my_url)\n . \"&amp;client_secret=\" . $app_secret\n . \"&amp;code=\" . $code;\n $access_token = file_get_contents($token_url);\n\n $post_url = \"https://graph-video.facebook.com/me/videos?\"\n . \"title=\" . $video_title. \"&amp;description=\" . $video_desc\n . \"&amp;\". $access_token;\n\n//CURL CODES START\n\n    $ch = curl_init();\n    $data = array('name' =&gt; 'file', 'file' =&gt; '@'.realpath(\"video.mp4\"));// use realpath\n    curl_setopt($ch, CURLOPT_URL, $post_url);\n    curl_setopt($ch, CURLOPT_POST, 1);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);\n    $res = curl_exec($ch);\n\n    if (curl_errno($ch) == 60) { // CURLE_SSL_CACERT\n        curl_setopt($ch, CURLOPT_CAINFO,\n                  dirname(__FILE__) . '/src/fb_ca_chain_bundle.crt'); // path to the certificate\n        $res = curl_exec($ch);\n    }\n\n    if( $res === false ) {\n        echo curl_error($ch);\n    }\n    curl_close($ch);\n\n//CURL ENDS\n?&gt;\n</code></pre>\n"},{"tags":["php","json","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13213591,"title":"How to parse JSON passing in PHP web service","body":"<p>I want to pass a JSON: <code>{\"name\":\"jason\",\"age\":\"20}</code> in PHP though <strong>POST</strong></p>\n\n<p>In RoR, I can get the two values by using <code>params[\"name\"]</code> &amp; <code>params[\"age\"]</code> </p>\n\n<p>But I don't know how to get them in PHP.</p>\n\n<p>I understand that I can 'translate' the JSON string into associative array by using <code>json_decode</code> but I don't know how to get the JSON string.</p>\n\n<p>In my <strong>PHP code</strong>, I has tried something like this:</p>\n\n<pre><code>&lt;?php\n    $json_string = $_POST['params'];\n\n    $json_object= json_decode($json_string);\n    print_r($json_object);\n\n    echo $json_object-&gt;name;\n    echo \" \";\n    echo $json_object-&gt;age;\n?&gt;\n</code></pre>\n\n<p>Then I has tested the PHP with terminal and I got the <strong>correct</strong> result</p>\n\n<pre><code>curl -d 'params={\"name\":\"jason\", \"age\":\"20\"}' xxxx/test_json_decode.php\n</code></pre>\n\n<p>It works but it seems strange to me, because I didn't set the <code>'Content-Type: application/json'</code></p>\n\n<p>Is it the correct way to parse JSON in PHP?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":29,"score":-1,"question_id":13276134,"title":"PHP executing header:location regardless IF statement parameters","body":"<p>Can anyone tell me why, when using the code below, I am getting redirected to elephant.com rather than seeing a 'giraffe!</p>\n\n<pre><code>&lt;?php\n$foo=\"giraffe\";\nif($foo=\"elephant\"){\nheader(\"location:http://www.elephant.com\");\nexit();\n}else{\n echo $foo;}\n?&gt;\n</code></pre>\n\n<p>Thanks for looking</p>\n\n<p>J</p>\n"},{"tags":["java","php","linux","dns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":13276100,"title":"How can I show PHP and Java applications running on different servers under the same domain name?","body":"<p>Java application runs on one server and available at domain.com\nPHP application (WordPress) runs on another server and should be available at domain.com/blog</p>\n\n<p>I do not want to install PHP stack, or wordpress on Java server for security reasons, my Java application is security-sensitive.</p>\n\n<p>blog.domain.com won't do either, for SEO reasons: I need application-related content under the same domain.</p>\n"},{"tags":["php","xml","api","curl","highrise"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":324,"score":0,"question_id":10148895,"title":"why is this cURL request working on the command line, but not in PHP?","body":"<p>I wrote a really basic wrapper class for Highrise's API. It works perfectly for Reads (GET), and I'm just starting to test it for Creates (POST). As far as I can tell, these two requests (one on the command line, one via PHP's cURL library) are identical. Same XML, same options set....just one works, and the other doesn't.</p>\n\n<p>Any help is appreciated. I posted this question to 37signals developer mailing list also, but stackoverflow is generally faster at spotting my dumb mistakes...</p>\n\n<p>This is the error I get with PHP's cURL (makes me think Highrise is having a problem parsing the XML string):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;errors&gt; &lt;error&gt;First name can't be blank&lt;/error&gt; &lt;/errors&gt; \n</code></pre>\n\n<p>This is what works on the command line:</p>\n\n<pre><code>curl -u 'my_api_key:X'\n    -H 'Content-type: application/xml'\n    -d '&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;person&gt;&lt;first-name&gt;Savos&lt;/first-name&gt;&lt;last-name&gt;Aren&lt;/last-name&gt;&lt;title&gt;Archmage&lt;/title&gt;&lt;company-name&gt;Winterhold College&lt;/company-name&gt;&lt;contact-data&gt;&lt;email-addresses/&gt;&lt;phone-numbers&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Home&lt;/location&gt;&lt;/phone-number&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Work&lt;/location&gt;&lt;/phone-number&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Mobile&lt;/location&gt;&lt;/phone-number&gt;&lt;/phone-numbers&gt;&lt;addresses&gt;&lt;address&gt;&lt;city&gt;Winterhold&lt;/city&gt;&lt;country&gt;Tamriel&lt;/country&gt;&lt;state&gt;Skyrim&lt;/state&gt;&lt;street&gt;Hall of the Elements, College of Winterhold&lt;/street&gt;&lt;zip&gt;99999&lt;/zip&gt;&lt;location&gt;Work&lt;/location&gt;&lt;/address&gt;&lt;/addresses&gt;&lt;/contact-data&gt;&lt;/person&gt;'\n    https://myuserid.highrisehq.com/people.xml\n</code></pre>\n\n<p>Here's my wrapper class:</p>\n\n<pre><code>class HighriseAPICall {\n    protected $_timeout = 120;\n    protected $_url_prefix = 'https://';\n    protected $_url_suffix = '.highrisehq.com';\n    protected $_password = 'X';\n\n    protected $_userpwd;\n    protected $_url;\n\n    public function __construct($api_key, $username) {\n        $this-&gt;_userpwd= $api_key . ':' . $this-&gt;_password;\n        $this-&gt;_url = $this-&gt;_url_prefix . $username . $this-&gt;_url_suffix;\n    }\n\n    /**\n     * Make the specified API call.\n     * @param string $action one of the four HTTP verbs supported by Highrise\n     * @param string $resource_name the Highrise resource to be accessed\n     * @param string $xml a well-formed XML string for a Highrise create, update, or delete request\n     * \n     * $xml parameter should include any query parameters as suggested by Highrise API documentation\n     * eg, if you want to GET all People, pass in \"/people.xml\"\n     * and if you want to get People by search term where field=value,\n     * then pass in \"/people/search.xml?criteria[field]=value\"\n     */\n    public function makeAPICall($action,$resource_name,$xml=null) {\n        /* initialize curl session and set defaults for new API call */\n        $curl = curl_init();\n        curl_setopt($curl, CURLOPT_URL, $this-&gt;_url . $resource_name);\n        curl_setopt($curl, CURLOPT_USERPWD, $this-&gt;_userpwd);\n        curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);\n        curl_setopt($curl, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);\n        curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, $this-&gt;_timeout);\n        /* if xml was passed in, set header and postfields */\n        if (isset($xml)) {\n            curl_setopt($curl, CURLOPT_HTTPHEADER, 'Content-type: application/xml');\n            curl_setopt($curl, CURLOPT_POSTFIELDS, \"$xml\");\n        }\n        /* set action as custom request */\n        curl_setopt($curl, CURLOPT_CUSTOMREQUEST, $action);\n        /* get the string response from executing the curl session */\n        $result = curl_exec($curl);\n        curl_close($curl);\n\n        // return the response as a simpleXMLElement\n        try {\n                $result_simplexml = new SimpleXMLElement($result);\n        }\n        catch (Exception $e) {\n                throw new Exception(\"Highrise API Call Error: \" . $e-&gt;getMessage() . \", Response: \" . $result);\n        }\n        if (!is_object($result_simplexml)) {\n                throw new Exception(\"Highrise API Call Error: Could not parse XML, Response: \" . $result);\n        }\n        return $result_simplexml;\n    }\n\n}\n?&gt;\n</code></pre>\n\n<p>And the simple testpage I'm using:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n        &lt;title&gt;&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;?php\n            require_once('HighriseAPICall.class.php');\n            $highrise_api_key = 'OBSCURED';\n            $highrise_username = 'OBSCURED';\n            $highrise_api = new HighriseAPICall($highrise_api_key, $highrise_username);\n\n            $person_xml ='&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;person&gt;&lt;first-name&gt;Savos&lt;/first-name&gt;&lt;last-name&gt;Aren&lt;/last-name&gt;&lt;title&gt;Archmage&lt;/title&gt;&lt;company-name&gt;Winterhold College&lt;/company-name&gt;&lt;contact-data&gt;&lt;email-addresses/&gt;&lt;phone-numbers&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Home&lt;/location&gt;&lt;/phone-number&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Work&lt;/location&gt;&lt;/phone-number&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Mobile&lt;/location&gt;&lt;/phone-number&gt;&lt;/phone-numbers&gt;&lt;addresses&gt;&lt;address&gt;&lt;city&gt;Winterhold&lt;/city&gt;&lt;country&gt;Tamriel&lt;/country&gt;&lt;state&gt;Skyrim&lt;/state&gt;&lt;street&gt;Hall of the Elements, College of Winterhold&lt;/street&gt;&lt;zip&gt;99999&lt;/zip&gt;&lt;location&gt;Work&lt;/location&gt;&lt;/address&gt;&lt;/addresses&gt;&lt;/contact-data&gt;&lt;/person&gt;';\n\n            $response = $highrise_api-&gt;makeAPICall('POST', '/people.xml', $person_xml);\n            echo htmlentities($response-&gt;asXML());\n        ?&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":284,"score":2,"question_id":7503716,"title":"PHP validate form validation with HTML select","body":"<p>I have a simple select box which is like this,</p>\n\n<pre><code>&lt;label for=\"gender\"&gt;Gender:&lt;/label&gt;&lt;select id=\"gender\" name=\"gender\"&gt;\n&lt;option value=\"Male\"&gt;Male&lt;/option&gt;\n&lt;option value=\"Female\"&gt;Female&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>And in my php I cannot validate to make sure it is a correct value using,</p>\n\n<pre><code>if ($_POST['gender'] !== 'Male' || $_POST['gender'] !== 'Female') {\n\n      // perform redirect\n}\n</code></pre>\n\n<p>I have also used the operator <b>!=</b> to, why is this happening?</p>\n\n<p>Many regards,</p>\n"},{"tags":["php","oop","constructor","initialization"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":203,"score":3,"question_id":3837924,"title":"Is there a special object initializer construct in PHP like there is now in C#?","body":"<p>I know that in C# you can nowadays do:</p>\n\n<pre><code>MyObject a = new MyObject()\n{\n    Property1 = 1,\n    Property2 = 2\n};\n</code></pre>\n\n<p>Is there something like that in PHP too? Or should I just do it through a constructor or through multiple statements;</p>\n\n<pre><code>$a = new MyObject(1, 2);\n\n$a = new MyObject();\n$a-&gt;property1 = 1;\n$a-&gt;property2 = 2;\n</code></pre>\n\n<p>If it is possible but everyone thinks it's a terrible idea, I would also like to know.</p>\n\n<p>PS: the object is nothing more than a bunch of properties. </p>\n"},{"tags":["php","session-cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13275710,"title":"Expired session cookie appears to still exist","body":"<p>I am trying to delete a session cookie.  These are the steps I am following</p>\n\n<pre><code>        // Find the session - I believe this is doing a resume rather than starting a fresh session thus identifying the session.\n        session_start();\n\n        // Unset all the session variables enmasse by assigning an empty array\n        $_SESSION = array();\n\n        // find the session name that has been allocated then destroy the session cookie\n        if(isset($_COOKIE[session_name()])){\n            setcookie(session_name(),'', time()-42000, '/');\n           // set content of found session to null, with a past time, at the root\n        }\n\n        // Destroy the session \n        session_destroy();\n</code></pre>\n\n<p>This definitely logs me out.  However the actual cookie still exists and can be viewed in the browser (firefox).</p>\n\n<pre><code>$_COOKIE[session_name()]\n</code></pre>\n\n<p>appears to be returning the encrypted content string as opposed to the session name.</p>\n\n<p>Questions:</p>\n\n<p>if $_COOKIE[session_name()] is not the correct way to get the session name what is?</p>\n\n<p>Should I be setting a session_name instead of allowing it to default?</p>\n\n<p>Am I seeing the session because it is waiting for some kind of garbage collection?</p>\n"},{"tags":["php","shell","hosting","apc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13268091,"title":"Why Custom php install is needed to install APC","body":"<p>I don't know it is the right place to ask this question but still for me it is the best place to ask question so i am asking this </p>\n\n<p>\"My Aim is to install alternative php cache (apc) on my website (hosted by dreamhost) \"</p>\n\n<p>My problem is it is not installing by following the wiki <a href=\"http://wiki.dreamhost.com/Pecl_APC\" rel=\"nofollow\">http://wiki.dreamhost.com/Pecl_APC</a> .That wiki clearly specified that i need to run a custom php install in order to install APC but whyy?? isn't there a way to install APC in existing php version .My site uses php 5.2.17. Please help me i am stuck into this from a very long time now.The dreamhost wiki is not helpful at all i need answer from someone who has installed APC on their server please help </p>\n\n<p>thanks in advance</p>\n"},{"tags":["php","linux","shell","script","concurrency"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":107,"score":5,"question_id":13268392,"title":"Linux concurrency scripting with mutexes","body":"<p>On my Linux server, I need to synchronize multiple scripts (written in BASH and PHP) so that only one of them is able to start a system-critical job, which is a series of BASH/PHP commands, that would mess things up if performed simultaneously by two or more scripts. From my experience with multithreading in C++, I'm familiar with the notion of mutex, but how do I implement a mutex for a bunch of scripts that run in separate processes and, of course, aren't written in C++?</p>\n\n<p>Well, the first solution that comes into mind would be making sure that each of the scripts initially creates a \"lock flag\" file to let other scripts know that the job is \"locked\" and then deletes the file after it's done with the job. But, as I see it, the file writing <em>and</em> reading operations are required to be <em>completely atomic</em> to let this approach work out with a 100% probability, and the same requirement would apply to any other synchronization method. And I'm pretty sure that file writing/reading operations are not atomic, they are not atomic across all existing Linux/Unix systems at least.</p>\n\n<p>So what is the best way to synchronize concurrent Linux scripts? Should I go with \"lock flag\" files or is there a more reliable solution?</p>\n"},{"tags":["php","mysql","math","time"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13275706,"title":"Get average time between several dates for one entry","body":"<p>I am not really sure how to explain this, but basically what I am trying to do is get the average time that it takes between a set of dates. This is what the database table looks like</p>\n\n<pre><code>id | offer_id | user |    date    | date_completed\n----------------------------------------------------\n1  |   123    | test | 1352265988 |   1352265995\n2  |   123    | admin| 1352266004 |   1352266022\n3  |   123    | kira | 1352264754 |   1352271946\n</code></pre>\n\n<p>I need to get the average time between the 2 timestamps and calculate them together so I can echo it out in my code. I am sure this would be done with a <code>foreach</code> statement, but I have no idea how to go about doing it. If there is anyone that can point me in the right direction that would be great!</p>\n"},{"tags":["php","mysql","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13255226,"title":"Loading mysql calls into arrays","body":"<p>Normally have not had to do this alot but my process didn't seem to work correctly this time so I am asking for some clarification</p>\n\n<p>This works for a single item in the query:</p>\n\n<pre><code>    $query=\"SELECT data1 as product FROM Products ORDER BY Title\"; \n    $result = mysql_query($query)\n        or die(\"Query failed -\".$query);        \n    $rows=array();\n    while($row = mysql_fetch_array($result, MYSQL_BOTH)) {\n        $rows[] = $row;\n    }\n</code></pre>\n\n<p>As I said this works fine for a single item being returned all of the items returned in the query end up in an array called $rows</p>\n\n<pre><code>    $query=\"SELECT data1 as product, data2 as info FROM Products ORDER BY Title\"; \n    $result = mysql_query($query)\n        or die(\"Query failed -\".$query);        \n    $i=0;\n    $data1=array();\n    $data2=array();\n\n    while($row = mysql_fetch_array($result, MYSQL_BOTH)) {\n        $data1[$i] = $row[0];\n        $data2[$i++] = $row[1];\n    }\n</code></pre>\n\n<p>This does not seem to do the same thing or I missed something.</p>\n\n<p>Am I missing something? \nIf not then I need to look at something else as my issue but need to make sure about this.</p>\n\n<p>The result I desire is two arrays one containing the all of first items from the query result and the second array containing all of the second items from the query result.</p>\n"},{"tags":["php","php-errors"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":3,"view_count":30,"score":-3,"question_id":13275504,"title":"Concatenating print_f gives Parse error: syntax error, unexpected T_VARIABLE error","body":"<p>I'm trying to concatenate my print_f code but with little success. I keep getting the following error: <code>Parse error: syntax error, unexpected T_VARIABLE on line 98</code>. Is it possible to concatenate print_f? Here is my code so far:</p>\n\n<pre><code>    $dateStart = new DateTime();\n    $dateStart-&gt;setDate(2012, 10, 01);\n    $dateEnd = new DateTime();\n    $dateEnd-&gt;setDate(2012, 12, 01);\n\n    $dates = array();\n    while ( $dateStart &lt; $dateEnd ) {\n        printf(\"&lt;li&gt;&lt;div id='activity_date'&gt;%s&lt;/div&gt;\n            &lt;div id='activity_box'&gt;\n                &lt;div id='activity_text'&gt;\"\n\n                $rand = array_rand($status, rand(2, 3));\n                foreach ( $rand as $key ) {\n                print($status[$key] . \"&lt;br /&gt;\");\n                }\n                \" \n                                    request\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/li&gt;\",$dateStart-&gt;format(\"d/m/Y\"));\n        $dateStart-&gt;modify(sprintf(\"+%d day\",mt_rand(1, 10)));\n    }\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13275227,"title":"AJAX: PHP vs Javascript View - Dupliacte View Logic?","body":"<p>I am currently working on a small web application which includes a calendar displaying its entries. When the page gets loaded, the calendar gets generated through PHP.</p>\n\n<p>On the same page, there is a form which allows one to edit the entries. The command to change gets sent by AJAX, and then the calendar has to be reloaded in some way.</p>\n\n<p>What I am wondering about currently is the following:</p>\n\n<p>I have two possibilities of updating the Calendar through AJAX. </p>\n\n<ul>\n<li><strong>One is to send the Calendar's HTML Markup anew,</strong> whether it means reloading the entire calendar or the element of the calendar entry. <br>This is probably not optimal, since it requires quite a bit of (raw) data sent through the AJAX call. <br>On the other side, all it requires is for me to call the same PHP function which generates the markup again, return that and then replace the DOM Element on the clientside, so neccesary work is roughly 5 lines of code. <br>This is the way I am currently using since it feels \"easier\".</li>\n<li><strong>The other is to send the Data of the new Calendar entry JSON encoded</strong>, and then make the neccesary changes through a javascript function into the existing markup. <br>This also feels not optimal, since I would have to use a lot knowledge of the markup twice: Once in the PHP code and once in the JS Code. I can see this redundant code causing problems as soon as the markup would change in any way. <br>It also feels like a more 'complicated' solution, which includes easily 4-5 as much code considering I have to manipulate a good amount of fields (roughly 10+).<br>On the other hand, a lot less data gets transmitted since only the content gets sent.</li>\n</ul>\n\n<p><strong>Which is the better solution?</strong> Am I missing a third (or even fourth) option? </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13275669,"title":"PHP Domian API Key","body":"<p>So I am looking to use this api script:</p>\n\n<p><a href=\"http://blog.andreaolivato.net/programming/create-your-first-api-set-in-php.html\" rel=\"nofollow\">http://blog.andreaolivato.net/programming/create-your-first-api-set-in-php.html</a></p>\n\n<p>However the results have a link that has a variable lets call it assoc.</p>\n\n<p>What I am looking to do is to release a script that users can put on there websites and use the call to get products in Json like the script, but when they get the link to the product for the script to figure out what the domain name is match it in my database when the api call is made and return the products but with the links that include the assoc id from the domain that makes the call. </p>\n\n<p>Example.com   will return  a link www.mydomain.com/products.php?tv/assoc=exampleid</p>\n\n<p>Anybody has an example to do this. I wanted to use the <code>$_SERVER['HTTP_REFERER']</code></p>\n\n<p>Anybody know an example that will check the domain. </p>\n\n<p>I figured I can send the domain name with the api call. and use get on the server side, will this be a good approach?  </p>\n\n<p>I have two options, release a code that stores all the data on the clients server and i have nothing to do with it. Or i can release a script that only keep some data but most of the products and such are on my server but change there link with the users ID. </p>\n\n<p>The reason I am looking for this is because I think this will be a bit easier then using ION Cube to encode the script. Mostly because is so dam expensive. </p>\n"},{"tags":["php","soap","namespaces"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":698,"score":0,"question_id":5906486,"title":"PHP Change SOAP NameSpace","body":"<p>I am attempting to change the namespace as it needs to match the .NET web service namespace it is attempting to call however am unable to. How do I change the name space?</p>\n\n<pre><code>class MSWCF extends SoapClient\n{\n    function __doRequest($request, $location, $action, $version, $one_way = 0) \n    {\n        /*\n         * $request is a XML string representation of the SOAP request\n         * that can e.g. be loaded into a DomDocument to make it modifiable.\n         */\n\n        $domRequest = new DOMDocument();\n        $domRequest-&gt;loadXML($request);\n\n        // modify XML using the DOM API, e.g. get the &lt;s:Header&gt;-tag \n        // and add your custom headers\n        $xp = new DOMXPath($domRequest);\n        $xp-&gt;registerNamespace('SOAP-ENV', 'http://schemas.xmlsoap.org/soap/envelope/');\n        // fails if no &lt;s:Header&gt; is found - error checking needed\n        $envelope = $xp-&gt;query('/SOAP-ENV:Envelope')-&gt;item(0);\n\n        // now add your custom header\n        $header = $domRequest-&gt;createElement('SOAP-ENV:header');\n        $security = $domRequest-&gt;createElement('o:Security');\n        $usernameToken = $domRequest-&gt;createElement('o:UsernameToken');\n        $usernameTokenuid = new DOMAttr('u:Id','uuid-4d9bf7e6-da00-4f72-8383-6037f12a0fb5-5');\n        $username = $domRequest-&gt;createElement('o:Username','');\n        $password = $domRequest-&gt;createElement('o:Password','');\n        $passwordtype = new DOMAttr('Type','http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText');\n        $password-&gt;appendChild($passwordtype); \n        $usernameToken-&gt;appendChild($username);\n        $usernameToken-&gt;appendChild($password);\n        $usernameToken-&gt;appendChild($usernameTokenuid);\n\n    $timestamp = $domRequest-&gt;createElement('u:TimeStamp');\n    $timestampuid = new DOMAttr('u:Id','_0');\n\n    $interval = new DateInterval(\"PT5M\");\n    $dateCreated = new DateTime();\n    $dateExpires = new DateTime();\n    $dateExpires-&gt;add($interval);\n    $created = $domRequest-&gt;createElement('u:Created', $dateCreated-&gt;format(DATE_ISO8601));\n    $expires = $domRequest-&gt;createElement('u:Expires', $dateExpires-&gt;format(DATE_ISO8601));\n    $timestamp-&gt;appendChild($timestampuid); \n    $timestamp-&gt;appendChild($created);  \n    $timestamp-&gt;appendChild($expires);  \n\n    $security-&gt;appendChild($timestamp);\n    $security-&gt;appendChild($usernameToken);\n\n    $securitymust = new DOMAttr('SOAP-ENV:mustUnderstand','1');\n    $securityxml= new DOMAttr('xmlns:o','http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd');\n    $security-&gt;appendChild($securitymust);\n    $security-&gt;appendChild($securityxml);\n\n        $header-&gt;appendChild($security);\n    $envelope-&gt;appendChild($header);\n\n        $request = $domRequest-&gt;saveXML();\n\n    echo $request;\n\n        return parent::__doRequest($request, $location, $action, $version, $one_way = 0);\n    }\n}\n</code></pre>\n"},{"tags":["php","image","colors","replace","gd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13275526,"title":"How to change same colours in different parts of the image?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1548534/php-replace-colour-within-image\">PHP - Replace colour within image</a>  </p>\n</blockquote>\n\n\n\n<p>Is there any function in php to change all the colours with same RGB code to any other color ?</p>\n\n<p>Eg: if an image have black colour in different parts of the image and I need to change all those black part to blue.\nI used <a href=\"http://php.net/imagefill\" rel=\"nofollow\"><code>imagefill()</code></a>, but it will stop its working when a boundary is reached and all other portions remain unchanged.</p>\n\n<p>Can anyone help me to find a solution ?</p>\n"},{"tags":["php","config","mamp","localserver"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":14,"score":-1,"question_id":13275384,"title":"Configuring PHP Website and Connecting mySQL Files Onto Local Server","body":"<p>My current work station is on a Mac OS X using MAMP as my local server, which has PHP 5.4.44 and mySQL configured.</p>\n\n<p>I recently looked into the phpinfo() and made a test site to make sure the PHP was working properly on the server, and my PHP is working correctly. On both of these sites, they're configured in CakePHP and see that it runs a couple of mySQL files. All of the folder system was held in tact during the transfer.</p>\n\n<p>First, how am I able to connect these mySQL files through myPHPAdmin?</p>\n\n<p>Second, I transferred another site from the same server the same way I did the site I'm having trouble show anything on the page. Though many of the core PHP and CSS files were mislinked, the page I just transferred showed some of the items on the page. All of the files are linked properly, so I'm wondering what solutions to try.</p>\n\n<p>Any ideas or suggestions is appreciated! This is my first time messing with purely a CakePHP built website so I apologize if I'm not clear in this explanation.</p>\n"},{"tags":["php","tcpdf","moodle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":32,"score":-8,"question_id":13275323,"title":"How to print $OUTPUT->user_picture($user) output in tcpdf","body":"<p>$OUTPUT->user_picture($user) in tcpdf but picture is not visible in the pdf file.</p>\n"},{"tags":["php","caching","if-statement","file-get-contents"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13275131,"title":"How to avoid a possible missing cache file in PHP?","body":"<p>I have a simple caching system as</p>\n\n<pre><code>if (file_exists($cache)) {\necho file_get_contents($cache);\n// if coming here when $cache is deleting, then nothing to display\n}\nelse {\n// PHP process\n}\n</code></pre>\n\n<p>We regularly delete outdated cache files, e.g. deleting all caches after 1 hour. Although this process is very fast, but I am thinking that a cache file can be deleted right between the <code>if statement</code> and <code>file_get_contents</code> processes.</p>\n\n<p>I mean when <code>if statement</code> checks the existence of cache file, it exists; but when <code>file_get_contents</code> tries to catch it, it is no longer there (deleted by simultaneous cache deleting process).</p>\n\n<p><code>file_get_contents</code> locks the file to avoid the undergoing delete process during the read process. But the file can be deleted when the <code>if statement</code> sends the PHP process to the first condition (before start of the <code>file_get_contents</code>).</p>\n\n<p>Is there any approach to avoid this? Is the cache deleting system different?</p>\n\n<p><strong>NOTE:</strong> I did not face any practical problem, as it is not very probable to catch this event, but logically it is possible, and should happen on heavy loads.</p>\n"},{"tags":["php","symfony2"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13275509,"title":"Symfony2 configuration component not merge my configs","body":"<p>Here's an example of one of my configs (I have a bunch):</p>\n\n<pre><code>menu:\n    admin:\n        -\n            id:       products\n            label:    Products\n            route:    _manage_products\n            class:    menu-icon-products\n            position: 200\n            children:\n                -\n                    id:       all-products\n                    label:    All Products\n                    route:    _manage_products\n                    position: 10\n                -\n                    id:       add-product\n                    label:    Add Product\n                    route:    _add_product\n                    position: 20\n</code></pre>\n\n<p>Here is my configuration builder:</p>\n\n<pre><code>class MenuConfiguration implements ConfigurationInterface\n{\n    public function getConfigTreeBuilder()\n    {\n        $treeBuilder = new TreeBuilder();\n        $rootNode = $treeBuilder-&gt;root('menu');\n\n        $rootNode\n            -&gt;prototype('array')\n                -&gt;useAttributeAsKey('id', false)\n                -&gt;prototype('array')\n                    -&gt;useAttributeAsKey('id', false)\n                    -&gt;prototype('array')\n                        -&gt;children()\n                            -&gt;scalarNode('id')\n                                -&gt;isRequired()\n                                -&gt;cannotBeEmpty()\n                            -&gt;end()\n                            -&gt;scalarNode('label')\n                                -&gt;isRequired()\n                                -&gt;cannotBeEmpty()\n                            -&gt;end()\n                            -&gt;scalarNode('route')\n                                -&gt;isRequired()\n                                -&gt;cannotBeEmpty()\n                            -&gt;end()\n                            -&gt;scalarNode('routeParams')\n                                -&gt;defaultValue(array())\n                            -&gt;end()\n                            -&gt;scalarNode('class')\n                                -&gt;defaultValue('')\n                            -&gt;end()\n                            -&gt;scalarNode('position')\n                                -&gt;defaultValue(100)\n                            -&gt;end()\n                            -&gt;scalarNode('type')\n                                -&gt;defaultValue('menu_link')\n                            -&gt;end()\n                            -&gt;arrayNode('children')\n                                -&gt;useAttributeAsKey('id', false)\n                                -&gt;prototype('array')\n                                    -&gt;children()\n                                        -&gt;scalarNode('id')-&gt;isRequired()-&gt;end()\n                                        -&gt;scalarNode('label')-&gt;isRequired()-&gt;end()\n                                        -&gt;scalarNode('route')-&gt;isRequired()-&gt;end()\n                                        -&gt;scalarNode('position')-&gt;end()\n                                    -&gt;end()\n                                -&gt;end()\n                            -&gt;end()\n                        -&gt;end()\n                    -&gt;end()\n                -&gt;end()\n            -&gt;end()\n        ;\n\n        return $treeBuilder;\n    }\n}\n</code></pre>\n\n<p>And the resulting array, not merged:</p>\n\n<pre><code>Array\n(\n    [0] =&gt; Array\n        (\n            [admin] =&gt; Array\n                (\n                    [products] =&gt; Array\n                        (\n                            [id] =&gt; products\n                            [label] =&gt; Products\n                            [route] =&gt; _manage_products\n                            [class] =&gt; menu-icon-products\n                            [position] =&gt; 200\n                            [children] =&gt; Array\n                                (\n                                    [all-products] =&gt; Array\n                                        (\n                                            [id] =&gt; all-products\n                                            [label] =&gt; All Products\n                                            [route] =&gt; _manage_products\n                                            [position] =&gt; 10\n                                        )\n\n                                    [add-product] =&gt; Array\n                                        (\n                                            [id] =&gt; add-product\n                                            [label] =&gt; Add Product\n                                            [route] =&gt; _add_product\n                                            [position] =&gt; 20\n                                        )\n\n                                )\n\n                            [routeParams] =&gt; Array\n                                (\n                                )\n\n                            [type] =&gt; menu_link\n                        )\n\n                )\n\n        )\n\n    [1] =&gt; Array\n        (\n            [admin] =&gt; Array\n                (\n                    [users] =&gt; Array\n                        (\n                            [id] =&gt; users\n                            [label] =&gt; Users\n                            [route] =&gt; _manage_users\n                            [class] =&gt; menu-icon-users\n                            [position] =&gt; 1000\n                            [children] =&gt; Array\n                                (\n                                    [all-users] =&gt; Array\n                                        (\n                                            [id] =&gt; all-users\n                                            [label] =&gt; All Users\n                                            [route] =&gt; _manage_users\n                                            [position] =&gt; 10\n                                        )\n\n                                    [add-user] =&gt; Array\n                                        (\n                                            [id] =&gt; add-user\n                                            [label] =&gt; Add User\n                                            [route] =&gt; _opinions_user_add_user\n                                            [position] =&gt; 20\n                                        )\n\n                                )\n\n                            [routeParams] =&gt; Array\n                                (\n                                )\n\n                            [type] =&gt; menu_link\n                        )\n\n                )\n\n        )\n\n)\n</code></pre>\n\n<p>I've been trying to get this for hours with no luck.</p>\n"},{"tags":["php","reflection","visibility"],"answer_count":2,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1411,"score":8,"question_id":6448551,"title":"Is there any way to set a private/protected static property using reflection classes?","body":"<p>I am trying to perform a backup/restore function for static properties of classes. I can get a list of all of the static properties and their values using the reflection objects <code>getStaticProperties()</code> method. This gets both <code>private</code> and <code>public static</code> properties and their values.</p>\n\n<p>The problem is I do not seem to get the same result when trying to restore the properties with the reflection objects <code>setStaticPropertyValue($key, $value)</code> method. <code>Private</code> and <code>protected</code> variables are not visible to this method as they are to <code>getStaticProperties()</code>. Seems inconsistent.</p>\n\n<p>Is there any way to set a private/protected static property using reflection classes, or any other way for that matter?</p>\n\n<p><strong>TRIED</strong></p>\n\n<pre><code>class foo {\n    static public $test1 = 1;\n    static protected $test2 = 2;\n\n    public function test() {\n        echo self::$test1 . '&lt;br /&gt;';\n        echo self::$test2 . '&lt;br /&gt;' . '&lt;br /&gt;';\n    }\n\n    public function change() {\n        self::$test1 = 3;\n        self::$test2 = 4;\n    }\n}\n\n        $test = new foo();\n        $test-&gt;test();\n\n        // backup\n        $test2 = new ReflectionObject($test);\n        $backup = $test2-&gt;getStaticProperties();\n\n        $test-&gt;change();\n\n        // restore\n        foreach ($backup as $key =&gt; $value) {\n            $property = $test2-&gt;getProperty($key);\n            $property-&gt;setAccessible(true);\n            $test2-&gt;setStaticPropertyValue($key, $value);\n        }\n\n        $test-&gt;test();\n</code></pre>\n"},{"tags":["php","codeigniter","google-custom-search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13267009,"title":"Get data from Google Custom Search Api in PHP","body":"<p>this is the response i am getting from google custom search api</p>\n\n<p>i want to to insert TITLE of website, url and other information in my Database directly.</p>\n\n<p>i use json_decode but seems unable to get the response</p>\n\n<p>Please help me guys</p>\n\n<pre><code>    {\n\"kind\": \"customsearch#search\",\n\"url\": {\n    \"type\": \"application/json\",\n    \"template\": \"https://www.googleapis.com/customsearch/v1?q={searchTerms}&amp;num={count?}&amp;start={startIndex?}&amp;lr={language?}&amp;safe={safe?}&amp;cx={cx?}&amp;cref={cref?}&amp;sort={sort?}&amp;filter={filter?}&amp;gl={gl?}&amp;cr={cr?}&amp;googlehost={googleHost?}&amp;c2coff={disableCnTwTranslation?}&amp;hq={hq?}&amp;hl={hl?}&amp;siteSearch={siteSearch?}&amp;siteSearchFilter={siteSearchFilter?}&amp;exactTerms={exactTerms?}&amp;excludeTerms={excludeTerms?}&amp;linkSite={linkSite?}&amp;orTerms={orTerms?}&amp;relatedSite={relatedSite?}&amp;dateRestrict={dateRestrict?}&amp;lowRange={lowRange?}&amp;highRange={highRange?}&amp;searchType={searchType}&amp;fileType={fileType?}&amp;rights={rights?}&amp;imgSize={imgSize?}&amp;imgType={imgType?}&amp;imgColorType={imgColorType?}&amp;imgDominantColor={imgDominantColor?}&amp;alt=json\"\n},\n\"queries\": {\n    \"nextPage\": [\n        {\n            \"title\": \"Google Custom Search - online shopping mall\",\n            \"totalResults\": \"35200000\",\n            \"searchTerms\": \"online shopping mall\",\n            \"count\": 10,\n            \"startIndex\": 11,\n            \"inputEncoding\": \"utf8\",\n            \"outputEncoding\": \"utf8\",\n            \"safe\": \"off\",\n            \"cx\": \"013036536707430787589:_pqjad5hr1a\"\n        }\n    ],\n    \"request\": [\n        {\n            \"title\": \"Google Custom Search - online shopping mall\",\n            \"totalResults\": \"35200000\",\n            \"searchTerms\": \"online shopping mall\",\n            \"count\": 10,\n            \"startIndex\": 1,\n            \"inputEncoding\": \"utf8\",\n            \"outputEncoding\": \"utf8\",\n            \"safe\": \"off\",\n            \"cx\": \"013036536707430787589:_pqjad5hr1a\"\n        }\n    ]\n},\n\"context\": {\n    \"title\": \"Custom Search\"\n},\n\"searchInformation\": {\n    \"searchTime\": 0.324098,\n    \"formattedSearchTime\": \"0.32\",\n    \"totalResults\": \"35200000\",\n    \"formattedTotalResults\": \"35,200,000\"\n},\n\"items\": [\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online Shopping Mall-Shopping &amp; Business Social Network\",\n        \"htmlTitle\": \"&lt;b&gt;Online Shopping Mall&lt;/b&gt;-Shopping &amp;amp; Business Social Network\",\n        \"link\": \"http://onlineshoppingmall.ning.com/\",\n        \"displayLink\": \"onlineshoppingmall.ning.com\",\n        \"snippet\": \"A One-Stop shopping &amp; business social network created by a family of merchants   offering value, unique treasures, and convenience!\",\n        \"htmlSnippet\": \"A One-Stop &lt;b&gt;shopping&lt;/b&gt; &amp;amp; business social network created by a family of merchants &lt;br&gt;  offering value, unique treasures, and convenience!\",\n        \"cacheId\": \"5uXNYD4cCQ0J\",\n        \"formattedUrl\": \"onlineshoppingmall.ning.com/\",\n        \"htmlFormattedUrl\": \"&lt;b&gt;onlineshoppingmall&lt;/b&gt;.ning.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://i43.tinypic.com/15wm45e.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"100\",\n                    \"height\": \"100\",\n                    \"src\": \"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQy2PZIPYcAjBAPOYgKgqnWfb9kJLCW4Xx7_QZcdRmfP_MeGPH9HZNnlA\"\n                }\n            ],\n            \"metatags\": [\n                {\n                    \"title\": \"Online Shopping Mall-Shopping &amp; Business Social Network\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online shopping malls - Wikipedia, the free encyclopedia\",\n        \"htmlTitle\": \"&lt;b&gt;Online shopping malls&lt;/b&gt; - Wikipedia, the free encyclopedia\",\n        \"link\": \"http://en.wikipedia.org/wiki/Online_shopping_malls\",\n        \"displayLink\": \"en.wikipedia.org\",\n        \"snippet\": \"Online shopping malls are websites that have a directory of online shopping   stores. Stores may include Best Buy, Aeropostale, Home Depot, Sears, Expedia, ...\",\n        \"htmlSnippet\": \"&lt;b&gt;Online shopping malls&lt;/b&gt; are websites that have a directory of online shopping &lt;br&gt;  stores. Stores may include Best Buy, Aeropostale, Home Depot, Sears, Expedia, &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"dA73fRSS6KMJ\",\n        \"formattedUrl\": \"en.wikipedia.org/wiki/Online_shopping_malls\",\n        \"htmlFormattedUrl\": \"en.wikipedia.org/wiki/&lt;b&gt;Online&lt;/b&gt;_&lt;b&gt;shopping&lt;/b&gt;_&lt;b&gt;malls&lt;/b&gt;\"\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Shop for Home, Outdoor, Electronics and Apparel Products at ...\",\n        \"htmlTitle\": \"&lt;b&gt;Shop&lt;/b&gt; for Home, Outdoor, Electronics and Apparel Products at &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://www.skymall.com/\",\n        \"displayLink\": \"www.skymall.com\",\n        \"snippet\": \"SkyMall shopping magazine is your home for the best online catalog shopping!   Browse from home living, décor, audio, ipod, electronics and apparel. Purchase ...\",\n        \"htmlSnippet\": \"SkyMall &lt;b&gt;shopping&lt;/b&gt; magazine is your home for the best &lt;b&gt;online&lt;/b&gt; catalog &lt;b&gt;shopping&lt;/b&gt;! &lt;br&gt;  Browse from home living, décor, audio, ipod, electronics and apparel. Purchase &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"GWXI7WmQ2UUJ\",\n        \"formattedUrl\": \"www.skymall.com/\",\n        \"htmlFormattedUrl\": \"www.sky&lt;b&gt;mall&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://www.skymall.com/images/feature_a1a.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"239\",\n                    \"height\": \"210\",\n                    \"src\": \"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTljZ4YcdN7ZRJlVMeTlYF8sbuwLm0VRhg0oZnLDX1elV3j-dmO22t68do\"\n                }\n            ],\n            \"metatags\": [\n                {\n                    \"copyright\": \"Copyright © 2012 SkyMall, Inc. All right reserved.\",\n                    \"designer\": \"www.objectinnovation.com\",\n                    \"classification\": \"online shopping, shopping, gifts, catalog sales\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Sassy Shops, Your Premiere Online Mall for All Things Fabulous!\",\n        \"htmlTitle\": \"Sassy &lt;b&gt;Shops&lt;/b&gt;, Your Premiere &lt;b&gt;Online Mall&lt;/b&gt; for All Things Fabulous!\",\n        \"link\": \"http://www.sassyshops.com/\",\n        \"displayLink\": \"www.sassyshops.com\",\n        \"snippet\": \"Sassy Shops, Your Premiere Online Mall for All Things Fabulous! Throw on some   comfy pj's, grab a cup of hot cocoa or java and enjoy shopping from the ...\",\n        \"htmlSnippet\": \"Sassy &lt;b&gt;Shops&lt;/b&gt;, Your Premiere &lt;b&gt;Online Mall&lt;/b&gt; for All Things Fabulous! Throw on some &lt;br&gt;  comfy pj&amp;#39;s, grab a cup of hot cocoa or java and enjoy &lt;b&gt;shopping&lt;/b&gt; from the &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"jaAQALpU96oJ\",\n        \"formattedUrl\": \"www.sassyshops.com/\",\n        \"htmlFormattedUrl\": \"www.sassy&lt;b&gt;shops&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://sassyshops.com/images/pinkbug/headerlogo.gif\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"268\",\n                    \"height\": \"188\",\n                    \"src\": \"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ4-X6hJVkuF_fFclW9e8IXDKtqXJ-JTF64QwI4xfTawHkMsnsOAuGCXsQv\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Home Page - Shop Online at MileagePlus Shopping\",\n        \"htmlTitle\": \"Home Page - &lt;b&gt;Shop Online&lt;/b&gt; at MileagePlus &lt;b&gt;Shopping&lt;/b&gt;\",\n        \"link\": \"https://www.mileageplusshopping.com/\",\n        \"displayLink\": \"www.mileageplusshopping.com\",\n        \"snippet\": \"Home Page - Shop Online at MileagePlus Shopping.\",\n        \"htmlSnippet\": \"Home Page - &lt;b&gt;Shop Online&lt;/b&gt; at MileagePlus &lt;b&gt;Shopping&lt;/b&gt;.\",\n        \"formattedUrl\": \"https://www.mileageplusshopping.com/\",\n        \"htmlFormattedUrl\": \"https://www.mileageplus&lt;b&gt;shopping&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"https://a248.e.akamai.net/f/248/35975/5d/i.mallnetworks.com/images/global/40cf5e879cc6088d7d2086a512fd79b19b0aaa2a.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"96\",\n                    \"height\": \"72\",\n                    \"src\": \"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSDE8da0POrgf12M_3zBGdueaQfT0AHYBbz7Dkxnm7QQbHUegSwMEPleg\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"We-Care.com Online Shopping Mall :: Shop With Purpose :: Macy's ...\",\n        \"htmlTitle\": \"We-Care.com &lt;b&gt;Online Shopping Mall&lt;/b&gt; :: Shop With Purpose :: Macy&amp;#39;s &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://www.we-care.com/\",\n        \"displayLink\": \"www.we-care.com\",\n        \"snippet\": \"The online shopping mall that provides coupons for your favorite merchants and   donates a percentage of what you spend to your favorite nonprofit, school, ...\",\n        \"htmlSnippet\": \"The &lt;b&gt;online shopping mall&lt;/b&gt; that provides coupons for your favorite merchants and &lt;br&gt;  donates a percentage of what you spend to your favorite nonprofit, school, &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"RgiiDvqLcscJ\",\n        \"formattedUrl\": \"www.we-care.com/\",\n        \"htmlFormattedUrl\": \"www.we-care.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://cdn.we-care.com/Content/images/addCause.gif\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"249\",\n                    \"height\": \"100\",\n                    \"src\": \"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQoOFWkNEJQDtz21dtLqwegJiXYruxvZ8UFLaFWH27knH2sIYqfvmPZOg\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online Shopping vs. Driving to the Mall: The Greener Way to Buy ...\",\n        \"htmlTitle\": \"&lt;b&gt;Online Shopping&lt;/b&gt; vs. Driving to the &lt;b&gt;Mall&lt;/b&gt;: The Greener Way to Buy &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://www.treehugger.com/culture/online-shopping-vs-driving-to-the-mall-the-greener-way-to-buy.html\",\n        \"displayLink\": \"www.treehugger.com\",\n        \"snippet\": \"Feb 13, 2009 ... When it comes to the way we procure the goods we use in our lives, there are   some mixed messages out there. Buying local is advertised as a ...\",\n        \"htmlSnippet\": \"Feb 13, 2009 &lt;b&gt;...&lt;/b&gt; When it comes to the way we procure the goods we use in our lives, there are &lt;br&gt;  some mixed messages out there. Buying local is advertised as a &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"9gBcwLGsuq8J\",\n        \"formattedUrl\": \"www.treehugger.com/.../online-shopping-vs-driving-to-the-mall-the-greener- way-to-buy.html\",\n        \"htmlFormattedUrl\": \"www.treehugger.com/.../&lt;b&gt;online&lt;/b&gt;-&lt;b&gt;shopping&lt;/b&gt;-vs-driving-to-the-&lt;b&gt;mall&lt;/b&gt;-the-greener- way-to-buy.html\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://media.treehugger.com/assets/images/2011/10/shopping-mall-online-shopping-which-greener.jpg.400x300_q90_crop-smart.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"259\",\n                    \"height\": \"194\",\n                    \"src\": \"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRQ2PXb8tGbfICgwAmSS9m1XtEq117PujeITme8mBELX6zW3JfzgGVHEYw\"\n                }\n            ],\n            \"metatags\": [\n                {\n                    \"og:title\": \"Online Shopping vs. Driving to the Mall: The Greener Way to Buy\",\n                    \"og:type\": \"article\",\n                    \"og:url\": \"http://www.treehugger.com/culture/online-shopping-vs-driving-to-the-mall-the-greener-way-to-buy.html\",\n                    \"og:image\": \"http://media.treehugger.com/assets/images/2011/10/shopping-mall-online-shopping-which-greener.jpg.400x300_q90_crop-smart.jpg\",\n                    \"og:site_name\": \"TreeHugger\",\n                    \"og:description\": \"When it comes to the way we procure the goods we use in our lives, there are some mixed messages out there. Buying local is advertised as a green way to go -- and it can be -- but so is acquiring\",\n                    \"fb:app_id\": \"133255656700169\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Shabby Lane Shops - Great online Shopping Mall &amp; Unique Web ...\",\n        \"htmlTitle\": \"Shabby Lane Shops - Great &lt;b&gt;online Shopping Mall&lt;/b&gt; &amp;amp; Unique Web &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://shabbylaneshops.com/\",\n        \"displayLink\": \"shabbylaneshops.com\",\n        \"snippet\": \"Shabby Lane Shops Great online shopping mall and Web design. Let us   advertise for you. Come shop with us, come join us.\",\n        \"htmlSnippet\": \"Shabby Lane Shops Great &lt;b&gt;online shopping mall&lt;/b&gt; and Web design. Let us &lt;br&gt;  advertise for you. Come shop with us, come join us.\",\n        \"cacheId\": \"FhVJ8g2L5i8J\",\n        \"formattedUrl\": \"shabbylaneshops.com/\",\n        \"htmlFormattedUrl\": \"shabbylane&lt;b&gt;shops&lt;/b&gt;.com/\"\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online Shopping Malls, Discount Stores, Outlet Malls, Shopping ...\",\n        \"htmlTitle\": \"&lt;b&gt;Online Shopping Malls&lt;/b&gt;, Discount Stores, Outlet Malls, Shopping &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://www.milehimall.com/\",\n        \"displayLink\": \"www.milehimall.com\",\n        \"snippet\": \"Shop at online shopping malls, discount stores and gift shops at Mile Hi Mall.   Browse home and garden, beauty, electronics, sporting goods, jewelry and ...\",\n        \"htmlSnippet\": \"Shop at &lt;b&gt;online shopping malls&lt;/b&gt;, discount stores and gift shops at Mile Hi Mall. &lt;br&gt;  Browse home and garden, beauty, electronics, sporting goods, jewelry and &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"PaF59OCuEJ4J\",\n        \"formattedUrl\": \"www.milehimall.com/\",\n        \"htmlFormattedUrl\": \"www.milehi&lt;b&gt;mall&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://www.shareasale.com/image/27020/child-costumes125x125.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"100\",\n                    \"height\": \"100\",\n                    \"src\": \"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSmvuJxRjL6C_aprr--I7detJud6l_jKXdgwrQP43bZkm449F-vp2T-\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online Shopping Mall - Online Stores | Shopping Centers | Outlet Malls\",\n        \"htmlTitle\": \"&lt;b&gt;Online Shopping Mall&lt;/b&gt; - Online Stores | Shopping Centers | Outlet Malls\",\n        \"link\": \"http://www.online-internet-shopping-mall.com/\",\n        \"displayLink\": \"www.online-internet-shopping-mall.com\",\n        \"snippet\": \"Many Online Stores on this shopping mall website, online shopping malls,   shopping centers, outlet malls are just a click away at online shopping mall.\",\n        \"htmlSnippet\": \"Many Online Stores on this shopping mall website, &lt;b&gt;online shopping malls&lt;/b&gt;, &lt;br&gt;  shopping centers, outlet malls are just a click away at &lt;b&gt;online shopping mall&lt;/b&gt;.\",\n        \"cacheId\": \"5CzLC80fRAkJ\",\n        \"formattedUrl\": \"www.online-internet-shopping-mall.com/\",\n        \"htmlFormattedUrl\": \"www.&lt;b&gt;online&lt;/b&gt;-internet-&lt;b&gt;shopping&lt;/b&gt;-&lt;b&gt;mall&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://www.online-internet-shopping-mall.com/images/online-internet-shopping-mall1.png\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"225\",\n                    \"height\": \"225\",\n                    \"src\": \"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQGTMNDeUWOwQ5ODDgGfav35KPGyn0ijbSXrhgSdgkNb097NT4HCJOz-2Yo\"\n                }\n            ]\n        }\n    }\n]\n</code></pre>\n\n<p>}</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":63,"score":-1,"question_id":12181651,"title":"Code not responding accordingly to the parameters passed via the browser","body":"<p>I put the following code in the browser <code>?phase=1&amp;step=0&amp;fot=false</code> and I get a black page.\nwith the PHP error </p>\n\n<blockquote>\n  <p>Undefined variable: fOT in C:\\Program Files\n  (x86)\\Zend\\Apache2\\htdocs\\Proj11\\1.php on line 219</p>\n</blockquote>\n\n<p>This is the <code>$this-&gt;createTablePages ($fOT);</code> line. If I change it to <code>$this-&gt;createTablePages ($this-&gt;fOT)</code> I get the following error </p>\n\n<blockquote>\n  <p>Undefined property: phase2::$fOT in C:\\Program Files\n  (x86)\\Zend\\Apache2\\htdocs\\Proj11\\1.php on line 219</p>\n</blockquote>\n\n<p>I know that <code>$this-&gt;IDB3 = $this-&gt;handleDatabase()-&gt;$IDB3;</code> in the __constructor is right. How do I do that?</p>\n\n<pre><code>class phase2 {\n        function __construct () {\n\n        $dbFile = 'dbconfig.php';\n        $this-&gt;dbFile = $dbFile;\n        include_once (\"$this-&gt;dbFile\"); \n\n\n        $step = $_GET[\"step\"];\n\n        $username = $DB_USER;\n        $password = $DB_PASS;\n        $server = $DB_SERVER;\n        $dbName = $DB_NAME;\n\n        $this-&gt;step = $step;\n        $this-&gt;dbFile = $dbFile;\n        $this-&gt;username = $username;\n        $this-&gt;password = $password;\n        $this-&gt;server = $server;\n        $this-&gt;dbName = $dbName;\n\n        $db = new PDO ('mysql:host=' .$server.';dbname='.$this-&gt;dbName,$this-&gt;username,$this-&gt;password);\n\n        $this-&gt;db = $db;\n\n        if (empty ($_GET['fot']) ) { \n        $fOT = 'false'; \n        } elseif ($_GET['true']) { $fOT = 'true'; }\n\n        $this-&gt;IDB = $this-&gt;handleDatabase()-&gt;$IDB;\n        $this-&gt;IDB2 = $this-&gt;handleDatabase()-&gt;$IDB2;\n        $this-&gt;IDB3 = $this-&gt;handleDatabase()-&gt;$IDB3;\n        }\n\n\n\npublic function handleDatabase (){\n// Prepare SQL Statements\n    $IDB = $this-&gt;db-&gt;prepare( \n         \"CREATE TABLE pages (\n          id int(11) NOT NULL auto_increment,\n         subject_id int(11) NOT NULL,\n          menu_name varchar(30) NOT NULL,\n          position int(3) NOT NULL,\n          visible tinyint(1) NOT NULL,\n          content text NOT NULL,\n          PRIMARY KEY  (id)\n    )ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT CHARSET=utf8\");\n\n    $IDB2 = $this-&gt;db-&gt;prepare(\"\n        CREATE TABLE subjects (\n          id int(11) NOT NULL auto_increment,\n          menu_name varchar(30) NOT NULL,\n          position int(3) NOT NULL,\n          visible tinyint(1) NOT NULL,\n          PRIMARY KEY  (id)\n    )ENGINE=MyISAM AUTO_INCREMENT=6 DEFAULT CHARSET=utf8\");\n\n    $IDB3 = $this-&gt;db-&gt;prepare(\"\n        CREATE TABLE users (\n          id int(11) NOT NULL auto_increment,\n          username varchar(50) NOT NULL,\n          hashed_password varchar(40) NOT NULL,\n          PRIMARY KEY  (id)\n    )ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8\");\n}\n//Set Option to True or False\n\nfunction createTablePages ($fOT){\n\n    $r1 = $this-&gt;db-&gt;query('SHOW TABLES LIKE \\'page\\'');\n    if (count($r1-&gt;fetchAll()) &gt; 0 &amp;&amp; $fOT === 'false') {\n        echo \"The table PAGE exists\";\n\n    } elseif ($fOT === 'true') {\n        $this-&gt;IDB-&gt;execute;\n                $this-&gt;stepFunction (1,false);\n    }\n}\nfunction createTableSubjects ($fOT){\n\n    $r2 = $this-&gt;db-&gt;query('SHOW TABLES LIKE \\'subjects\\'');\n    if (count($r2-&gt;fetchAll()) &gt; 0  &amp;&amp; $fOT === 'false') {\n        echo \"The table SUBJECTS exists \";\n\n    } elseif ($fOT === 'true') {\n\n        $this-&gt;IDB2-&gt;execute;\n        $this-&gt;stepFunction (2,false);\n\n    }\n}\n\nfunction createTableUsers ($fOT){\n\n    $r3 = $this-&gt;db-&gt;query('SHOW TABLES LIKE \\'users\\'');   \n    if (count($r3-&gt;fetchAll()) &gt; 0  &amp;&amp; $fOT === 'false') {\n        echo \"The table USERS exists\";\n    } elseif ($fOT === 'true') {\n        $this-&gt;IDB3-&gt;execute;\n        echo \"Would you like to populate all the tables?\";\n    }   \n}\n\n\npublic function stepFunction ($step, $fOT){\n\nswitch ($step) {\n    case 0: \n            $this-&gt;createTablePages ($fOT);\n            break;\n    case 1: \n            $this-&gt;createTableSubjects($fOT);\n            break;\n    case 2: $this-&gt;createTableUsers ($fOT);\n            break;\n    }\n\n\n}\n\n    }\n</code></pre>\n"},{"tags":["php","dom"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13257146,"title":"PHP to get current page specific content","body":"<p>I am trying to find out if it's possible &amp; what code to use: to load the current page's contents and echo out a relative path to a specific page (c.html) that's w/in \"#navbar a\" using PHP or <a href=\"http://simplehtmldom.sourceforge.net/\" rel=\"nofollow\">PHP Simple Html DOM Parser.</a></p>\n\n<p>My code so far:</p>\n\n<pre><code>&lt;?php\n$pg = 'c.html';\ninclude_once '%resource(simple_html_dom.php)%';\n/* $cpath = $_SERVER['REQUEST_URI']; Old version */  // Path to current pg from root\n$cpath = \"http://www.\".$_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'];\necho var_dump($cpath).\": Current Root Path\".\"&lt;br /&gt;\";  // \"http://www.partiproductions.com/copyr/index.php\" - Correct\n$cfile = basename($cpath);\necho 'Current File: ' . $cfile . \"&lt;br /&gt;\"; // \"index.php\" - Current pg, Correct\n\n$html = file_get_html($cpath); // Getting Warning: URL file-access is disabled in the server configuration &amp; failed to open stream: no suitable wrapper could be found in.. &amp; Fatal error: Call to a member function find() on a non-object in...\nforeach($html-&gt;find(sprintf('#navbar a[href=%s]', $pg)) as $path) {\n  echo 'Path: ' . $path.\"&lt;br /&gt;\";\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","api","connection","e-commerce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13116818,"title":"Bigcommerce API connection error","body":"<p>I am new to the Big-commerce.</p>\n\n<p>I am try to connect the PHP API of the Big-commerce  below is my code.</p>\n\n<pre><code>BigCommerce_Api::configure(array(\n    'store_url' =&gt; 'mystore url',\n    'username'  =&gt; 'admin',\n    'api_key'   =&gt; 'my apikey'\n));\n\n$ping = BigCommerce_Api::getTime();\nif ($ping) \n{\n    echo $ping-&gt;format('H:i:s');\n}\nelse\n{\n    echo \"error in connection\";\n}\n</code></pre>\n\n<p>i am try to display the time if connection is completed but getting error.</p>\n\n<p>is there any problem in my code?</p>\n\n<p>Please help me out form this problem.</p>\n"},{"tags":["php","mysql","web-services"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13274691,"title":"Coverting Hex to Image in PHP?","body":"<p>I am developing mobile app which talks with server via <code>PHP Webservice</code>. This is my first time using PHP. I managed to upload data in to database. Now i need to send an image to store it in ftp server. For that i converted <code>image-&gt;hex</code> and sent from my app.   </p>\n\n<p><strong>Server Side</strong></p>\n\n<p>I got the hex code but not sure how to convert it in to an image and store in in ftp server. I am really struggling here. I googled it but couldn't find exact one.</p>\n\n<p>Any help is much appreciated.</p>\n"},{"tags":["php","curl","pear"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13275250,"title":"HTTP_Request: malformed response","body":"<p>When i try open connection <code>HTTP_Request</code> throws: </p>\n\n<blockquote>\n  <p>Malformed response:<br>\n  <code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;</code></p>\n</blockquote>\n\n<p>Only if site located on the same server as script.</p>\n\n<p>Does anyone know why this is happening or how to fix it?</p>\n"},{"tags":["php","redis","php-session","session-handling","phpredis"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13274226,"title":"Using redis as a SESSION handler does not work with phpredis, how to fix?","body":"<p>in my php.ini I have the following entries:</p>\n\n<pre><code>extension=redis.so\nsession.save_handler = redis\nsession.save_path = \"tcp://10.100.0.80:6379?weight=1\"\n</code></pre>\n\n<p>But, when I do <code>session_start()</code> I get:</p>\n\n<blockquote>\n  <p>PHP Warning:  session_start():\n  open(tcp://10.100.0.80:6379?weight=1/sess_dci962uta51pec6pjci40l0jk0,\n  O_RDWR) failed: No such file or directory (2) in /home/itay/test.php\n  on line 2</p>\n</blockquote>\n\n<p>But, on the exact same machine, exact same ini file, I have the following code which is working:</p>\n\n<pre><code>$redis = new Redis();\n$redis-&gt;connect('10.100.0.80');\necho $redis-&gt;ping();\n$redis-&gt;set('itay','here');\necho $redis-&gt;get('itay');\n$redis-&gt;close();\n</code></pre>\n\n<p>I am using redis as session handler on other machines, and do not have same issue.\nAny help?</p>\n\n<p>I am using the latest redis, php5.3 and <a href=\"https://github.com/nicolasff/phpredis\" rel=\"nofollow\">phpredis extension</a></p>\n"},{"tags":["php","encoding","compression"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13274511,"title":"compressing information into a short code","body":"<p>I need to group a number of parameters into a short, non-predictable, spellable code. Ex:</p>\n\n<ul>\n<li>serial: WJ-JHA5JK7E9RTAS</li>\n<li>date: 04/02/2013</li>\n<li>days: 30</li>\n<li>valid: true</li>\n</ul>\n\n<p>Compressed code could look like this: <strong>3xy9b0laiph3s</strong></p>\n\n<p>My goal is to make the code as short as possible (without losing any information, of course). The algorithm must be easily implemented in other languages as well (so it can't have crazy specific dependencies). Any thoughts?</p>\n"},{"tags":["java","php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13274978,"title":"Need advice on how to make java calculation for my website instead of using cronjobs","body":"<p>First of all thank you for looking into my question.</p>\n\n<p>The situation: I am making an online game that includes racing in several divisions.\nWhen the game becomes bigger there could be over 20 divisions, in each division there are 20 players. The leader of a division can set up 1 contest each day at a time he chooses.</p>\n\n<p>What needs to happen (code):\nIf a leader of a division sets up a game at 14.00u, the calculation for the race starts.\nI want to have an updated score/position update every 5 seconds. This is impossible with PHP and cronjobs (1min). I have made this code in PHP and it works but it is not efficient and as soon as there are more contests going on at the same time my server will be overloaded so this also a big downside for using cronjobs every minute that executes the php script with the calculation.</p>\n\n<p>My question to you:\nWhat do I need to focus on on java side? And how can it replace a cronjob? Or does it work together with a cronjob?</p>\n\n<p>Extra:\nSomeone told me that java is good as a back-end language of the website and php for front-end. But I really have no knowledge of java.</p>\n\n<p>Thank you for reading :)</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":5448351,"title":"Losing unicode during passing unicode char","body":"<p>I want to store in array pairs of unicode chars (char, number of instances of the char), but I have some problem with passing unicode chars:</p>\n\n<p>This code:</p>\n\n<pre><code>$str = 'ółś';\n\nvar_dump(str_split($str));\n</code></pre>\n\n<p>displays: </p>\n\n<pre><code>array(6) {\n  [0]=&gt;\n  string(1) \"�\"\n  [1]=&gt;\n  string(1) \"�\"\n  [2]=&gt;\n  string(1) \"�\"\n  [3]=&gt;\n  string(1) \"�\"\n  [4]=&gt;\n  string(1) \"�\"\n  [5]=&gt;\n  string(1) \"�\"\n}\n</code></pre>\n\n<p>And i don't understand what's wrong</p>\n\n<p>But this code:</p>\n\n<pre><code>$arr = array('ó' =&gt; 1, 'ł' =&gt; 1, 'ś' =&gt; 1);\nvar_dump($arr);\n</code></pre>\n\n<p>displays:</p>\n\n<pre><code>array(3) {\n  [\"ó\"]=&gt;\n  int(1)\n  [\"ł\"]=&gt;\n  int(1)\n  [\"ś\"]=&gt;\n  int(1)\n}\n</code></pre>\n\n<p>and for me it is a result, which I want to achive.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Replacement for str_split (length=1) for unicode chars:</p>\n\n<pre><code>function mb_str_split( $string ) {\n    # Split at all position not after the start: ^\n    # and not before the end: $\n    return preg_split('/(?&lt;!^)(?!$)/u', $string );\n} \n</code></pre>\n\n<p><a href=\"http://fr2.php.net/manual/en/function.mb-split.php#99851\" rel=\"nofollow\">source</a></p>\n"},{"tags":["php","orm","doctrine","lazy-loading"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13275196,"title":"how to deal with doctrine's lazy loading when having null-objects?","body":"<p>i have a question about the correct way to handle doctrine's lazy loading mechanism. I have an entity that references another one via @ManyToOne:</p>\n\n<pre><code>class Entity {\n    ...\n    /**\n     * @ManyToOne(targetEntity=\"AnotherEntity\")\n     * @JoinColumn(name=\"anotherEntityId\", referencedColumnName=\"id\")\n     */\n    protected $anotherEntity;\n    ...\n}\n\nclass AnotherEntity {\n    /**\n     * @var integer $id\n     * @Column(name=\"id\", type=\"integer\", nullable=false)\n     * @Id\n     * @GeneratedValue(strategy=\"IDENTITY\")\n     */\n    private $id;\n\n    /**\n     * @var string $someValue\n     * @Column(name=\"someValue\", type=\"string\")\n     */\n    private $someValue;\n    ...\n}\n</code></pre>\n\n<p>Doctrine now generates a proxy for AnotherEntity that implements lazy loading on its getters:</p>\n\n<pre><code>public function getSomeValue()\n{\n    $this-&gt;__load();\n    return parent::getSomeValue();\n}\n</code></pre>\n\n<p>If I now have some instances of Entity that do not have a reference counterpart of AnotherEntity ($anotherEntityId is 0 or null). Then doctrine seems to generate ONE null-Object of AnotherEntity and makes the $anotherEntity variables of all Entity object point to it. The null-object is uninitialized since we want lazy loading.\nI now get an EntityNotFoundException when I do this:</p>\n\n<pre><code>$entiy-&gt;getAnotherEntity()-&gt;getSomeValue();\n</code></pre>\n\n<p>That's great! The AnotherEntity I access does not exist in the database and so I get this exception.\nBUT when I do the same with the second Entity (and all others afterwards) I do not get this exception, since they are all pointing to the same instance of AnotherEntity and doctrine marked it as initialized in the first call. So now I'm accessing an object that does not exist logically but do not get any exception - I just get the uninitialized variable from getSomeValue(), e.g. an empty string.</p>\n\n<p>Do you have any idea how I can make my application to recognize that the object does not exist instead of just accepting the empty value?</p>\n"},{"tags":["php","strtotime"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13263353,"title":"strtotime not working in php for HH:MM:SS format","body":"<p>I have a duration like this: 211:30:24. I have to compare whether it's greater than other duration like 01:00:00. I am using strtotime function to change duration into int and then comparing it. </p>\n\n<p>But the problem is strtotime(211:30:24) is returning false. Up to 24:00:00, it's working fine.</p>\n\n<p>I am using below code: </p>\n\n<pre><code>$duration = strtotime('211:30:24');\nif($duration &gt;= strtotime ( '01:00:00' )){\n  return true;\n}else{\n return false;\n}\n</code></pre>\n\n<p>$duration is false.</p>\n\n<p>I am using php5.1. Anybody have idea why it's happening.</p>\n"},{"tags":["php","file","directory","str-replace"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":13275099,"title":"str_replace in file names","body":"<p>I have a PHP code that displays the file contents of a directory in a list. Each file is linked so that if clicked, it will download or open. The files inside the directory will be files uploaded by customers. If the file name contains spaces, the link is broken and will not open, so I would like to have the spaces replaced with underscores.</p>\n\n<p>I know that str_replace does what I'm looking for, but I'm not sure how to apply it to this code (which I did not write).</p>\n\n<pre><code>// Define the full path to your folder from root \n$path = \"uploads/artwork\"; \n\n\n// Open the folder \n$dir_handle = @opendir($path) or die(\"Unable to open $path\"); \n\n// Loop through the files \nwhile ($file = readdir($dir_handle)) { \n\nif($file == \".\" || $file == \"..\" || $file == \"index.php\" ) \n\n    continue; \n    echo \"&lt;a href=uploads/artwork/$file&gt;$file&lt;/a&gt;&lt;br /&gt;\"; \n\n} \n// Close \nclosedir($dir_handle); \n</code></pre>\n\n<p>All help is greatly appreciated. Thank you!</p>\n"},{"tags":["php","json","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":47,"score":-2,"question_id":13275004,"title":"Can't access JSON element in PHP","body":"<p>I'm having problem acessing a JSON element after a sqlite query.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>$queryIdClient = \"SELECT seq FROM sqlite_sequence WHERE name = 'clientes';\";\n$id;\n\nif($result = $db-&gt;query($queryIdClient)) {\n    $row = $result-&gt;fetch(PDO::FETCH_ASSOC);\n    $row = json_encode($row);\n    echo $row;\n}\nelse {\n    die($error);\n}\n</code></pre>\n\n<p>The <code>echo $row</code> gives me {\"seq\" : \"10\"}.</p>\n\n<p>I want to pass the value 10 to the $id variable. I've tried a lot of ways, but I can't get it to work.</p>\n\n<p>Shouldn't it work with <code>$id = $row-&gt;seq;</code> ?</p>\n"},{"tags":["php","javascript","ajax","instagram"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13274948,"title":"Reload an array without reloading the page","body":"<p>Hey I have a little problem.... </p>\n\n<p>Im making a page that uses pictures from instagram as background. To display the pictures i use the jquery plugin <a href=\"http://www.buildinternet.com/project/supersized/\" rel=\"nofollow\">Supersized</a>. </p>\n\n<p>The pictures that i use is from a hashtag, so I would like the page to reload the array, where supersized gets the pictures from, so its updated seamless with the newest pictures.</p>\n\n<p>Its it enough just to reload the array every 5 mins, will the slideshow this work this way or shall I go another way with this? </p>\n\n<p>And can give me a little example on how to do this ?</p>\n"},{"tags":["php","rest","post"],"answer_count":2,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":1214,"score":7,"question_id":8945879,"title":"How to get body of a POST in php?","body":"<p>I submit as POST to a php page the following: </p>\n\n<pre><code>{a:1}\n</code></pre>\n\n<p>This is the body of the request (a POST request).<br>\nIn php, what do I have to do to extract that value?  </p>\n\n<pre><code>var_dump($_POST); \n</code></pre>\n\n<p>is not the solution, not working.</p>\n"}]}
{"total":298830,"page":11,"pagesize":100,"questions":[{"tags":["php","mysql","web-services"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13274691,"title":"Coverting Hex to Image in PHP?","body":"<p>I am developing mobile app which talks with server via <code>PHP Webservice</code>. This is my first time using PHP. I managed to upload data in to database. Now i need to send an image to store it in ftp server. For that i converted <code>image-&gt;hex</code> and sent from my app.   </p>\n\n<p><strong>Server Side</strong></p>\n\n<p>I got the hex code but not sure how to convert it in to an image and store in in ftp server. I am really struggling here. I googled it but couldn't find exact one.</p>\n\n<p>Any help is much appreciated.</p>\n"},{"tags":["php","curl","pear"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13275250,"title":"HTTP_Request: malformed response","body":"<p>When i try open connection <code>HTTP_Request</code> throws: </p>\n\n<blockquote>\n  <p>Malformed response:<br>\n  <code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;</code></p>\n</blockquote>\n\n<p>Only if site located on the same server as script.</p>\n\n<p>Does anyone know why this is happening or how to fix it?</p>\n"},{"tags":["php","redis","php-session","session-handling","phpredis"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13274226,"title":"Using redis as a SESSION handler does not work with phpredis, how to fix?","body":"<p>in my php.ini I have the following entries:</p>\n\n<pre><code>extension=redis.so\nsession.save_handler = redis\nsession.save_path = \"tcp://10.100.0.80:6379?weight=1\"\n</code></pre>\n\n<p>But, when I do <code>session_start()</code> I get:</p>\n\n<blockquote>\n  <p>PHP Warning:  session_start():\n  open(tcp://10.100.0.80:6379?weight=1/sess_dci962uta51pec6pjci40l0jk0,\n  O_RDWR) failed: No such file or directory (2) in /home/itay/test.php\n  on line 2</p>\n</blockquote>\n\n<p>But, on the exact same machine, exact same ini file, I have the following code which is working:</p>\n\n<pre><code>$redis = new Redis();\n$redis-&gt;connect('10.100.0.80');\necho $redis-&gt;ping();\n$redis-&gt;set('itay','here');\necho $redis-&gt;get('itay');\n$redis-&gt;close();\n</code></pre>\n\n<p>I am using redis as session handler on other machines, and do not have same issue.\nAny help?</p>\n\n<p>I am using the latest redis, php5.3 and <a href=\"https://github.com/nicolasff/phpredis\" rel=\"nofollow\">phpredis extension</a></p>\n"},{"tags":["php","encoding","compression"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13274511,"title":"compressing information into a short code","body":"<p>I need to group a number of parameters into a short, non-predictable, spellable code. Ex:</p>\n\n<ul>\n<li>serial: WJ-JHA5JK7E9RTAS</li>\n<li>date: 04/02/2013</li>\n<li>days: 30</li>\n<li>valid: true</li>\n</ul>\n\n<p>Compressed code could look like this: <strong>3xy9b0laiph3s</strong></p>\n\n<p>My goal is to make the code as short as possible (without losing any information, of course). The algorithm must be easily implemented in other languages as well (so it can't have crazy specific dependencies). Any thoughts?</p>\n"},{"tags":["java","php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13274978,"title":"Need advice on how to make java calculation for my website instead of using cronjobs","body":"<p>First of all thank you for looking into my question.</p>\n\n<p>The situation: I am making an online game that includes racing in several divisions.\nWhen the game becomes bigger there could be over 20 divisions, in each division there are 20 players. The leader of a division can set up 1 contest each day at a time he chooses.</p>\n\n<p>What needs to happen (code):\nIf a leader of a division sets up a game at 14.00u, the calculation for the race starts.\nI want to have an updated score/position update every 5 seconds. This is impossible with PHP and cronjobs (1min). I have made this code in PHP and it works but it is not efficient and as soon as there are more contests going on at the same time my server will be overloaded so this also a big downside for using cronjobs every minute that executes the php script with the calculation.</p>\n\n<p>My question to you:\nWhat do I need to focus on on java side? And how can it replace a cronjob? Or does it work together with a cronjob?</p>\n\n<p>Extra:\nSomeone told me that java is good as a back-end language of the website and php for front-end. But I really have no knowledge of java.</p>\n\n<p>Thank you for reading :)</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":5448351,"title":"Losing unicode during passing unicode char","body":"<p>I want to store in array pairs of unicode chars (char, number of instances of the char), but I have some problem with passing unicode chars:</p>\n\n<p>This code:</p>\n\n<pre><code>$str = 'ółś';\n\nvar_dump(str_split($str));\n</code></pre>\n\n<p>displays: </p>\n\n<pre><code>array(6) {\n  [0]=&gt;\n  string(1) \"�\"\n  [1]=&gt;\n  string(1) \"�\"\n  [2]=&gt;\n  string(1) \"�\"\n  [3]=&gt;\n  string(1) \"�\"\n  [4]=&gt;\n  string(1) \"�\"\n  [5]=&gt;\n  string(1) \"�\"\n}\n</code></pre>\n\n<p>And i don't understand what's wrong</p>\n\n<p>But this code:</p>\n\n<pre><code>$arr = array('ó' =&gt; 1, 'ł' =&gt; 1, 'ś' =&gt; 1);\nvar_dump($arr);\n</code></pre>\n\n<p>displays:</p>\n\n<pre><code>array(3) {\n  [\"ó\"]=&gt;\n  int(1)\n  [\"ł\"]=&gt;\n  int(1)\n  [\"ś\"]=&gt;\n  int(1)\n}\n</code></pre>\n\n<p>and for me it is a result, which I want to achive.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Replacement for str_split (length=1) for unicode chars:</p>\n\n<pre><code>function mb_str_split( $string ) {\n    # Split at all position not after the start: ^\n    # and not before the end: $\n    return preg_split('/(?&lt;!^)(?!$)/u', $string );\n} \n</code></pre>\n\n<p><a href=\"http://fr2.php.net/manual/en/function.mb-split.php#99851\" rel=\"nofollow\">source</a></p>\n"},{"tags":["php","orm","doctrine","lazy-loading"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13275196,"title":"how to deal with doctrine's lazy loading when having null-objects?","body":"<p>i have a question about the correct way to handle doctrine's lazy loading mechanism. I have an entity that references another one via @ManyToOne:</p>\n\n<pre><code>class Entity {\n    ...\n    /**\n     * @ManyToOne(targetEntity=\"AnotherEntity\")\n     * @JoinColumn(name=\"anotherEntityId\", referencedColumnName=\"id\")\n     */\n    protected $anotherEntity;\n    ...\n}\n\nclass AnotherEntity {\n    /**\n     * @var integer $id\n     * @Column(name=\"id\", type=\"integer\", nullable=false)\n     * @Id\n     * @GeneratedValue(strategy=\"IDENTITY\")\n     */\n    private $id;\n\n    /**\n     * @var string $someValue\n     * @Column(name=\"someValue\", type=\"string\")\n     */\n    private $someValue;\n    ...\n}\n</code></pre>\n\n<p>Doctrine now generates a proxy for AnotherEntity that implements lazy loading on its getters:</p>\n\n<pre><code>public function getSomeValue()\n{\n    $this-&gt;__load();\n    return parent::getSomeValue();\n}\n</code></pre>\n\n<p>If I now have some instances of Entity that do not have a reference counterpart of AnotherEntity ($anotherEntityId is 0 or null). Then doctrine seems to generate ONE null-Object of AnotherEntity and makes the $anotherEntity variables of all Entity object point to it. The null-object is uninitialized since we want lazy loading.\nI now get an EntityNotFoundException when I do this:</p>\n\n<pre><code>$entiy-&gt;getAnotherEntity()-&gt;getSomeValue();\n</code></pre>\n\n<p>That's great! The AnotherEntity I access does not exist in the database and so I get this exception.\nBUT when I do the same with the second Entity (and all others afterwards) I do not get this exception, since they are all pointing to the same instance of AnotherEntity and doctrine marked it as initialized in the first call. So now I'm accessing an object that does not exist logically but do not get any exception - I just get the uninitialized variable from getSomeValue(), e.g. an empty string.</p>\n\n<p>Do you have any idea how I can make my application to recognize that the object does not exist instead of just accepting the empty value?</p>\n"},{"tags":["php","strtotime"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13263353,"title":"strtotime not working in php for HH:MM:SS format","body":"<p>I have a duration like this: 211:30:24. I have to compare whether it's greater than other duration like 01:00:00. I am using strtotime function to change duration into int and then comparing it. </p>\n\n<p>But the problem is strtotime(211:30:24) is returning false. Up to 24:00:00, it's working fine.</p>\n\n<p>I am using below code: </p>\n\n<pre><code>$duration = strtotime('211:30:24');\nif($duration &gt;= strtotime ( '01:00:00' )){\n  return true;\n}else{\n return false;\n}\n</code></pre>\n\n<p>$duration is false.</p>\n\n<p>I am using php5.1. Anybody have idea why it's happening.</p>\n"},{"tags":["php","file","directory","str-replace"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":13275099,"title":"str_replace in file names","body":"<p>I have a PHP code that displays the file contents of a directory in a list. Each file is linked so that if clicked, it will download or open. The files inside the directory will be files uploaded by customers. If the file name contains spaces, the link is broken and will not open, so I would like to have the spaces replaced with underscores.</p>\n\n<p>I know that str_replace does what I'm looking for, but I'm not sure how to apply it to this code (which I did not write).</p>\n\n<pre><code>// Define the full path to your folder from root \n$path = \"uploads/artwork\"; \n\n\n// Open the folder \n$dir_handle = @opendir($path) or die(\"Unable to open $path\"); \n\n// Loop through the files \nwhile ($file = readdir($dir_handle)) { \n\nif($file == \".\" || $file == \"..\" || $file == \"index.php\" ) \n\n    continue; \n    echo \"&lt;a href=uploads/artwork/$file&gt;$file&lt;/a&gt;&lt;br /&gt;\"; \n\n} \n// Close \nclosedir($dir_handle); \n</code></pre>\n\n<p>All help is greatly appreciated. Thank you!</p>\n"},{"tags":["php","json","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":47,"score":-2,"question_id":13275004,"title":"Can't access JSON element in PHP","body":"<p>I'm having problem acessing a JSON element after a sqlite query.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>$queryIdClient = \"SELECT seq FROM sqlite_sequence WHERE name = 'clientes';\";\n$id;\n\nif($result = $db-&gt;query($queryIdClient)) {\n    $row = $result-&gt;fetch(PDO::FETCH_ASSOC);\n    $row = json_encode($row);\n    echo $row;\n}\nelse {\n    die($error);\n}\n</code></pre>\n\n<p>The <code>echo $row</code> gives me {\"seq\" : \"10\"}.</p>\n\n<p>I want to pass the value 10 to the $id variable. I've tried a lot of ways, but I can't get it to work.</p>\n\n<p>Shouldn't it work with <code>$id = $row-&gt;seq;</code> ?</p>\n"},{"tags":["php","javascript","ajax","instagram"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13274948,"title":"Reload an array without reloading the page","body":"<p>Hey I have a little problem.... </p>\n\n<p>Im making a page that uses pictures from instagram as background. To display the pictures i use the jquery plugin <a href=\"http://www.buildinternet.com/project/supersized/\" rel=\"nofollow\">Supersized</a>. </p>\n\n<p>The pictures that i use is from a hashtag, so I would like the page to reload the array, where supersized gets the pictures from, so its updated seamless with the newest pictures.</p>\n\n<p>Its it enough just to reload the array every 5 mins, will the slideshow this work this way or shall I go another way with this? </p>\n\n<p>And can give me a little example on how to do this ?</p>\n"},{"tags":["php","rest","post"],"answer_count":2,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":1214,"score":7,"question_id":8945879,"title":"How to get body of a POST in php?","body":"<p>I submit as POST to a php page the following: </p>\n\n<pre><code>{a:1}\n</code></pre>\n\n<p>This is the body of the request (a POST request).<br>\nIn php, what do I have to do to extract that value?  </p>\n\n<pre><code>var_dump($_POST); \n</code></pre>\n\n<p>is not the solution, not working.</p>\n"},{"tags":["php","mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":13274605,"title":"how to create stored procedure to update product stock when customer order is created","body":"<p>There is this stored procedure that I'm trying to modify. I have the following tables tables:</p>\n\n<ol>\n<li>Product (product_id, name, description,price, discounted_price, stock, image)</li>\n<li>orders (order_id, total_amount, created_on, shipped_on, customer_id)</li>\n<li>order_details (item_id, order_id, product_id, product_name, quantity, unit_cost)</li>\n</ol>\n\n<p>This stored procedure is called when a customer creates an order. </p>\n\n<pre><code>CREATE  PROCEDURE `shopping_cart_create_order`(IN inCartId CHAR(32),\n  IN inCustomerId INT, IN inShippingId INT, IN inTaxId INT)\nBEGIN\n  DECLARE orderId INT;\n\n  -- Insert a new record into orders and obtain the new order ID\n  INSERT INTO orders (created_on, customer_id, shipping_id, tax_id) VALUES\n         (NOW(), inCustomerId, inShippingId, inTaxId);\n  -- Obtain the new Order ID\n  SELECT LAST_INSERT_ID() INTO orderId;\n\n  -- Insert order details in order_detail table\n  INSERT INTO order_detail (order_id, product_id, attributes,\n                            product_name, quantity, unit_cost)\n  SELECT      orderId, p.product_id, sc.attributes, p.name, sc.quantity,\n              COALESCE(NULLIF(p.discounted_price, 0), p.price) AS unit_cost\n  FROM        shopping_cart sc\n  INNER JOIN  product p\n                ON sc.product_id = p.product_id\n  WHERE       sc.cart_id = inCartId AND sc.buy_now;\n\n\n  -- Save the order's total amount\n  UPDATE orders\n  SET    total_amount = (SELECT SUM(unit_cost * quantity) \n                         FROM   order_detail\n                         WHERE  order_id = orderId)\n  WHERE  order_id = orderId;\n\n  -- Clear the shopping cart\n  CALL shopping_cart_empty(inCartId);\n\n  -- Return the Order ID\n  SELECT orderId;\nEND$$ \n</code></pre>\n\n<p>How can I create a stored procedure that modifies the above to update the stock (in the product table) based on the quantity of products in a customer's order?</p>\n"},{"tags":["php","symfony1","doctrine","sfguard"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":587,"score":1,"question_id":6028718,"title":"How to catch an id from sfUser?","body":"<p>I'm working with symfony 1.4 &amp; i use sfDoctrineGuardPlugin as a tool for authentifications.</p>\n\n<p>I want to catch the Id of user in order te store it in my table.</p>\n\n<p>After a small research, I guess I have to use that expression : <code>getUser()-&gt;getGuardUser()-&gt;getId()</code>.</p>\n\n<p>What i looking for is how to invest that expression for my target.</p>\n"},{"tags":["php","zend-framework","zend-form"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13272163,"title":"Zend_Form values are lost when using multiple forms in same page","body":"<p>I use Zend Framework 1.12 on one of my projects. I need to use multiple forms in one page, and successfully managed to place them with the help of \"render\" function.</p>\n\n<pre><code>    $this-&gt;oneAction();\n    $this-&gt;render('one');\n\n    $this-&gt;anotherAction();\n    $this-&gt;render('another');\n</code></pre>\n\n<p>There are two different actions for two forms, and in my indexAction() I call them like above. Two actions have their own scripts, and this code works well for placing 2 forms in one page. </p>\n\n<p>Problem is; 2 different forms, with their own submit buttons (with different names), when second form is submitted, page reloads as a whole (naturally), but values in the first form's fields are lost.. I wrote a function to load some default values (for some fields of 1st form, taken from db) , and then it takes the values, but gives the error (Value is required and can't be empty) even they're filled by my function. I have to create a complex page with many forms, and can not go further with this problem.. \nI'd like to get a solution for this problem, or just little understanding about Zend Form's behavior about these multiple form submissions. </p>\n\n<p>(There are many pages about these issues, but most of them just consider about placing multiple forms in same page, and no much more..)</p>\n\n<p>Thanks in advance..</p>\n"},{"tags":["php","mongodb","mongodb-php"],"answer_count":0,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":35,"score":3,"question_id":13274910,"title":"PHP+MongoDB: Uncaught exception 'MongoCursorException' with message 'No such file or directory'","body":"<p>I'm working on a web application which is trying to connect to a MongoDB database from PHP.\nIn the 90% of page loads everything works fine, but in the other 10% it throws the following exception when I try to update a collection:</p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'MongoCursorException' with message 'No such file or directory' in D:\\webDev\\webSites\\str\\dev3_global_classes\\User.php:40 Stack trace: #0 D:\\webDev\\webSites\\str\\dev3_global_classes\\User.php(40): MongoCollection->update(Array, Array, Array) #1 D:\\webDev\\webSites\\str\\dev3_init_init.php(8): User->__construct(NULL) #2 D:\\webDev\\webSites\\str\\dev3\\index.php(3): include('D:\\webDev\\webSi...') #3 {main} thrown in D:\\webDev\\webSites\\str\\dev3_global_classes\\User.php on line 40</p>\n</blockquote>\n\n<p>PHP code:</p>\n\n<pre><code>public function __construct($SESSIONID = null) {        \n    User::$_users_collection = Main::$_mongo-&gt;selectCollection(\"users\");\n\n     ...   \n\n    $query = array('session_id' =&gt; session_id());\n\n    $expiry = time() + Main::$_lifetime;\n    $data = array(\n        'session_id' =&gt; session_id(),\n        'expiry' =&gt; (string)$expiry,\n        'ip' =&gt; $_SERVER['REMOTE_ADDR']\n    );\n\n    $options = array(\n        'upsert' =&gt; true,\n        'safe' =&gt; true\n    );\n\n    try {\n        User::$_users_collection-&gt;update($query, array('$set' =&gt; $data), $options);\n    } catch (Exception $e) {\n        throw $e;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Mongo version:</p>\n\n<pre><code>Wed Oct 17 10:53:48 /usr/bin/mongos db version v2.0.7, pdfile version 4.5 starting (--help for usage)\nWed Oct 17 10:53:48 git version: 875033920e8869d284f32119413543fa475227bf\nWed Oct 17 10:53:48 build info: Linux ip-10-2-29-40 2.6.21.7-2.ec2.v1.2.fc8xen #1 SMP Fri Nov 20 17:48:28 EST 2009 x86_64 BOOST_LIB_VERSION=1_41\n</code></pre>\n\n<p>My mongo cluster has only one shard, my php version is: 5.4.4, and my mongo driver version is: 1.2.12.</p>\n\n<p>I thank you in advance for your reply.</p>\n\n<p>--\nNorbert</p>\n"},{"tags":["php","jquery","html","sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13274593,"title":"PHP, Jquery and DOM manipulation","body":"<p>I have a list that's being populated from the database it's sorted using the time field by ASC dates. I'm using the <code>&lt;?php foreach() :?&gt;</code> to loop through and populate the list .</p>\n\n<pre><code>&lt;li id=\"events\"&gt;\nTime: &lt;?php echo $venue['time']; ?&gt; \nEvent: &lt;?php echo $venue['location']; ?&gt; \n&lt;/li&gt; \n</code></pre>\n\n<p>I have a variable in php called ($time_left ) that keeps track of the days left till <em>each</em> event begins I calculate this by taking the time field from the database subtracting today's current date with <code>php date()</code> <strong>when this reaches 0 how can I remove the expired event from the start of the list and append it to the end.</strong></p>\n\n<p>This can be done on page refresh I don't need it to be asynchronous.  Can I do this just in PHP with DOM manipulation?  or should I use Jquery and if so how do I pass the $time_left variable from PHP to my Jquery script?</p>\n"},{"tags":["php","jquery-ajax","ubuntu-10.04","apc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13235069,"title":"Intalling PECL APC on ubuntu and dreamhost hosting","body":"<p>Basically My aim is to use the following script on my website</p>\n\n<p><a href=\"http://www.johnboy.com/php-upload-progress-bar/\" rel=\"nofollow\">php-upload-progress-bar</a></p>\n\n<p>I want to first of all set it up on my local server which is on ubuntu 10.04 and i am using xampp1.7.7 and then upload it on my website which is hosted by dreamhost web hosting which uses php5.2 </p>\n\n<p>The main requirement of above script is to have <a href=\"http://pecl.php.net/package/APC\" rel=\"nofollow\">APC</a> .</p>\n\n<p>My problem is that i am unable to set up APC on both server (my local and on dreamhost)</p>\n\n<p>I have followed many tutorials to install it but coudn't install it</p>\n\n<p>Can someone give me some idea about using APC and installing it to run above script??</p>\n\n<p>I have already followed following tutorials and guides</p>\n\n<p><a href=\"http://wiki.dreamhost.com/Pecl_APC\" rel=\"nofollow\">Dreamhost wiki</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/4720666/sudo-pecl-install-apc-returns-error\">Stack answer</a></p>\n\n<p>PS;I am not using apache2 service.my php path is /opt/lampp/htocs</p>\n\n<p>Please help me i am stuck in this and also i am using that upload script because i can not use flash,html5 or php5.3 acording to client requirement so i need a solution for upload progress bar using APC so that it will run in all browser and with php5.2</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["php","database","module","moodle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13157163,"title":"Moodle module no database","body":"<p>I want to develop a <strong>module</strong> for Moodle 2.0 that <strong>doesn't need database</strong>. </p>\n\n<p>How should I fill the <strong>install.xml</strong> file when I will not have tables in the database?</p>\n\n<p>Thanks for the help.</p>\n\n<p>Greetings!</p>\n"},{"tags":["php","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13274780,"title":"How to call a function which is outside of CodeIgniter application in Controller?","body":"<p>Hi I have a doubt about how to call a function which is defined in normal core php file. Now i want to call this function in controller of Codeigniter application. </p>\n\n<p>What i mean is for example there is a function named with getdetails() in test.php in some directory. Now there is a codeIgniter application which has controller email.php.</p>\n\n<p>Now i want to call getdetails() function in email.php.</p>\n\n<p>Can anyone help me with some ideas.</p>\n"},{"tags":["php","algorithm","combinations"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13272723,"title":"Create indexable non-repeating combinations with fixed length","body":"<p>Based on this question</p>\n\n<p><a href=\"http://stackoverflow.com/questions/12035147/ordered-fixed-length-combinations-of-a-string\">Ordered Fixed Length Combination of a String</a></p>\n\n<p>I created a PHP algorithm that creates combinations of characters on a fixed length (basically a rewrite of the Java-answer)</p>\n\n<pre><code>private function getCombination($length, $input) {\n    $result = array();\n\n    if ($length == 0) {\n        return $result;\n    }\n\n    $first = substr($input, 0, $length);\n    $result[] = $first;\n\n    if (strlen($input) == $length) {\n        return $result;\n    }\n\n    $tails = $this-&gt;getCombination($length - 1, substr($input, 1));\n\n    foreach ($tails as $tail) {\n        $tmp = substr($input, 0, 1) . $tail;\n\n        if (!in_array($tmp, $result)) {\n            $result[] = $tmp;\n        }\n    }\n\n    return array_merge($result, $this-&gt;getCombination($length, substr($input, 1)));\n}\n</code></pre>\n\n<p>For another question, <a href=\"http://stackoverflow.com/questions/13175257\">Create fixed length non-repeating permutation of larger set</a>, I was given a (brilliant) algorithm that would make permutations indexable, effectively making them adressable by providing a \"key\" that would always produce the exact same permutation, when given the same set of characters and the same length.</p>\n\n<p>Well, now I basically need the same but for combinations, in contrast to permutations as in my other question.</p>\n\n<p>Can the algorithm above be modified in the same way? Meaning to create a function like</p>\n\n<pre><code>public function getCombinationByIndex($length, $index);\n</code></pre>\n\n<p>That will return <strong>one</strong> combination out of the thousand possible that is created with the algorithm <strong>without creating them beforehand</strong>?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":30,"score":-4,"question_id":13274726,"title":"Your script possibly relies on a session side-effect","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/175091/php-session-side-effect-warning-with-global-variables-as-a-source-of-data\">PHP session side-effect warning with global variables as a source of data</a>  </p>\n</blockquote>\n\n\n\n<p>I got this error while working on a PHP script, what can I do to resolve it?</p>\n\n<blockquote>\n  <p>Warning: Unknown: Your script possibly relies on a session side-effect which existed until PHP 4.2.3. Please be advised that the session extension does not consider global variables as a source of data, unless register_globals is enabled. You can disable this functionality and this warning by setting session.bug_compat_42 or session.bug_compat_warn to off, respectively in Unknown on line 0</p>\n</blockquote>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13274487,"title":"What's the complete / correct method of sending email via PHP?","body":"<p>I've tried the <code>mail</code> function and it works fine. Now what all I need to add to it? When the content of mail is formed by user input.</p>\n\n<p><a href=\"http://php.net/manual/en/function.mail.php\" rel=\"nofollow\">Doc</a> says that lines (separated by <code>\\n</code>) shouldn't be larger than 70 characters. So should I do wordwrap before using the mail function? Should I take care of full stops at the start of the lines? What else?</p>\n\n<p>The doc also recommends PEAR's mail package for complex mails and sending large volumes of mail together. I've never used PEAR, how it's? What are the alternatives and how to choose among them?</p>\n"},{"tags":["php","oop","class","design-patterns","object"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":13274650,"title":"Determining the Proper Object Design Pattern for a PHP Application","body":"<p>We are having some debatable thoughts in our heads as far as what OOP Design Pattern best suites our desire. I am not allowed to be copy/pasting our code anywhere, so I will do my best to describe our setup. </p>\n\n<p>We currently have been using the <strong>Object Pooling Pattern</strong>.</p>\n\n<p>We have the <code>Main Class</code> file which pools all the necessary subclasses we will need to use later.</p>\n\n<p>We then setup the <code>Main Class</code> file to have a method, which handles developer requests made from anywhere in the website. For example, we have a <code>Sub Class</code> file that generates HTML for us, saving us time in areas that would require rewriting the same HTML code again.</p>\n\n<p>We also have created a wrapper function called <code>run()</code>. We use this wrapper function for interacting anywhere in the website. <code>run()</code>, will make a request to the <code>Main Class</code> and ask for access to <code>Sub Class</code> method.</p>\n\n<p>The <code>Main Class</code> will determine whether or not that <code>Sub Class</code> file, and <code>Sub Class</code> method exists and is callable. If everything succeeds, the request made from anywhere in the website is then sent to the <code>Sub Class</code> from the <code>Main Class</code>. <em>Keeping in mind of course that the original request was sent to the <code>run()</code> method, and was then validated by the <code>Main Class</code>, before the request was actually sent to the <code>Sub Class</code> AND... has already been instantiated by the <code>Main Class</code>.</em></p>\n\n<p>However, as we amend our code, this setup has seemingly drifted beyond our control. I feel that our current setup is making our code smell... and I don't mean smell good, I mean smell BAD.</p>\n\n<p>We are basically looking for an ideal set of <strong>Object Design Patterns</strong> to use, in order to best suite our needs.</p>\n\n<p>We would like some form of control over our sub classes, so that they cannot be directly accessed, but instead must be accessed through come sort of control class. </p>\n\n<p>We like the idea of everything already being per-instantiated and ready for use, without having to always create a new object.</p>\n\n<p>We would also need some form of permissions and organization. Separating the website admin back end from the member front end.</p>\n\n<p>Would it be suitable to have two wrapper functions to be used anywhere in the website? One for accessing anything on the front end, and another for accessing anything on the back end?</p>\n\n<p>We are in dire need of a better setup. Our current system works, I just feel like it could be better. We are in the process of revamping the entire setup to something that's efficient, maintainable, organized and doesn't smell like a bag of garbage.</p>\n\n<p>I'm not looking for a full code solution here, and I know that I don't have any code provided, but given what you have if you could perhaps provide an explanation of why our current setup is rapidly decaying and possibly (if it's not too much to ask...) what would be a better approach, and why?</p>\n"},{"tags":["php","regex","search"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":5221947,"title":"str_ireplace does not work with non ASCII charecters","body":"<p>I need to highlight search result in text in Russian, but str_ireplace() just does not work when query has different case. I've tried everything that I've fould in the <a href=\"http://php.net/manual/en/function.str-ireplace.php\" rel=\"nofollow\">manual</a>, but nothing works. Here what I have tried:</p>\n\n<pre><code>&lt;?php\nsetlocale (LC_ALL, 'ru_RU');\n$query = 'ПрОбЛеМа';\n$result = 'Эта проблема нам не знакома.';\n\n$result = str_ireplace($query, \"&lt;strong&gt;$query&lt;/strong&gt;\", $result); // does not work\n$result = preg_replace(\"/($query)/i\", '&lt;strong&gt;$1&lt;/strong&gt;', $result); // does not work\n$result = mb_eregi_replace(\"$query\", \"&lt;strong&gt;$query&lt;/strong&gt;\", $result); // does not work\n$result = ext_str_ireplace($query, \"&lt;strong&gt;$query&lt;/strong&gt;\", $result); // from php.net - does not work\n$result = highlightStr($result, $query); // from php.net - does not work\n\n?&gt;\n</code></pre>\n\n<p>Is there any way to make it work? I'm getting desperate here.</p>\n\n<p>PHP 5.3.3</p>\n"},{"tags":["php","mysql","joomla","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":21,"score":-2,"question_id":13272918,"title":"How to create an article with php in joomla 2.5","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12643725/create-a-jooma-article-programatically\">Create a Jooma! Article Programatically</a>  </p>\n</blockquote>\n\n\n\n<p>I need to know, how can I create a new article in Joomla 2.5 with php code.</p>\n\n<p><em><strong>EDIT</em></strong></p>\n\n<p><strong>I found this:\n<a href=\"http://stackoverflow.com/questions/12643725/create-a-jooma-article-programatically?lq=1\">Create a Jooma! Article Programatically</a>\nit works in also joomla 2.5</strong></p>\n"},{"tags":["php","apache","hosting","pecl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13274376,"title":"Disabling a PHP extension the easy way?","body":"<p>I am using an open source library ( <a href=\"http://hybridauth.sourceforge.net\" rel=\"nofollow\">http://hybridauth.sourceforge.net</a> ) that does not support the PECL OAuth extension of PHP. If you try to run code with it, it says \"Exception: Hybridauth Library not compatible with installed PECL OAuth extension. Please disable it.\"</p>\n\n<p>Easier said than done.</p>\n\n<p>I am hosting my site via Amazon AWS Elastic Beanstalk ( <a href=\"https://aws.amazon.com/elasticbeanstalk/\" rel=\"nofollow\">https://aws.amazon.com/elasticbeanstalk/</a> ). I chose this solution because it allows you to get started quickly with no configuration, no SSH, no custom AMI, ...</p>\n\n<p>Which means I can't easily modify the original php.ini file or delete the extension file.</p>\n\n<p>Is there an easier way? Disabling an extension on the fly? Via a php method? Via an htaccess file? A trick?</p>\n"},{"tags":["php","javascript","jquery","ajax","xhtml"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":13261654,"title":"Finding multiple PHP generated inputs with Jquery/Javascript","body":"<p>I can't seem to figure this one out.. \nI am trying to use Javascript to select an input value. The problem is that the form is being looped through a php array that gets eve which makes every single form the same name and the inputs the name. The javascript will only let me get the value of the first form. I have tried putting the forms into arrays with <code>[]</code> but I cant't get it.. please help.</p>\n\n<pre><code>    $find = mysql_query(\"\n       SELECT `name`, `desc`, LEFT(`desc`, 80),`price`, `page`, `id`\n       FROM `bang` \n       ORDER BY id ASC LIMIT 2 \") or die(mysql_error());\n\n       while($resultt= mysql_fetch_array($find)){\n          echo '&lt;form id=\"linkcenter\" action=\"\"&gt;';\n          echo '&lt;input type=\"hidden\" value=\"'.$resultt['id'].'\" id=\"linkcenterr\" name=\"linkcenterr\"';\n          echo '&lt;input type=\"button\" name=\"butn\" value=\"Send\" onClick=\"loadInfoo()\"&gt;';\n          echo '&lt;/select&gt;';\n          echo '&lt;/form&gt;';\n    }\n</code></pre>\n\n<p>Javascript and jQuery in seperate file:</p>\n\n<pre><code>    function loadInfoo() {  \n       var id = document.getElementById('linkcenterr').value;\n       //ajax and more java bellow that i know is working..\n    } \n</code></pre>\n\n<p>All I am using the jquery for is to animate a box and then this input is going throught the javascript and sent to a php file which runs a sqlquery and echos all of the data from the database. </p>\n\n<p>I know all the other code is working the problem is I don't know how to format these forms into an array so that the javascript can get each ones values when its clicked.</p>\n"},{"tags":["php","ftp","centos"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":13274190,"title":"php ftp_get function has permission denied","body":"<p>I have a centos 6 server with php, apache. i need to get files from other server and save them in my server.</p>\n\n<p>i wrote below php to get them</p>\n\n<p>ftp.php file</p>\n\n<pre><code>    &lt;?php\n// define some variables\ninclude_once 'ftp_class.php';\ninclude_once 'include/config.php';\n                ini_set(\"memory_limit\",\"42M\");\n                ini_set(\"max_execution_time\", \"4800\"); \n// set up basic connection\n$conn_id = ftp_connect($ftp_server) or die (\"couldn't connect to $ftp_server\");\n// login with username and password\necho $conn_id;\n$login_result = ftp_login($conn_id, $ftp_user, $ftp_user_pass);\nftp_pasv( $conn_id, true ); \n\n# check connection\nif ((!$conn_id) || (!$login_result)) {\n    echo \"FTP connection has failed!\";\n    echo \"Attempted to connect to $ftp_server for user $ftp_user\";\n} else {\n    echo \"Connected to $ftp_server, for user $ftp_user\";\n}\necho \"&lt;br&gt;\";\necho \"Currently in \".ftp_pwd($conn_id);\necho \"&lt;br&gt;\";\nif (ftp_chdir($conn_id, $path)) {\n    echo \"Current directory is now: \" . ftp_pwd($conn_id) . \"&lt;br&gt;\";\n} else {\n    echo \"Couldn't change directory\\n\";\n}\n\n// enabling passive mode\n//var_dump(ftp_rawlist($conn_id, '.'));\n\nFTP::download('data', '.', $conn_id);\n\nftp_close($conn_id);\n\n?&gt;\n</code></pre>\n\n<p>ftp_class.php</p>\n\n<pre><code>    &lt;?php\n# FTP Class for performing file downloads\nclass FTP {\n\n   /**\n     * Download() performs an automatic syncing of files and folders from a remote location\n     * preserving folder and file names and structure\n     *\n     * @param   $local_dir: The directory to put the files, must be in app path and be writeable\n     * @param   $remote_dir: The directory to start traversing from. Use \".\" for root dir\n     *\n     * @return  null\n     */\n    public static function download($local_dir, $remote_dir, $conn_id)\n    {\n\n\n        $contents = ftp_nlist($conn_id, \".\");\n        foreach ($contents as $file) {\n                if (!file_exists(\"$local_dir/$file\") &amp;&amp; !file_exists(\"$local_dir/$file\".\".old\")){\n    if(!is_dir($file)){\n        //    echo $file.\"&lt;br&gt;\";\n            $hello =   ftp_get($conn_id, \"$local_dir/$file\", $file, FTP_BINARY);\n\n        }}}\n\n    }\n\n}\n?&gt;\n</code></pre>\n\n<p>but get below error</p>\n\n<blockquote>\n  <p>Resource id #4Connected to 10.76.2.52, for user ftpadmin Currently in\n  / Current directory is now: /opt/U2000/server/var/dump/PerfLog\n  Warning: ftp_get(data/Schedule_pfm_SDH_2012042816195440.txt): failed\n  to open stream: Permission denied in\n  /var/www/html/soliton/etisalatmeter/txperformance_oc/ftp_class.php on\n  line 23 Warning: ftp_get(): Error opening\n  data/Schedule_pfm_SDH_2012042816195440.txt in\n  /var/www/html/soliton/etisalatmeter/txperformance_oc/ftp_class.php on\n  line 23 Warning: ftp_get(data/Schedule_pfm_SDH_2012042818274645.txt):\n  failed to open stream: Permission denied in\n  /var/www/html/soliton/etisalatmeter/txperformance_oc/ftp_class.php on\n  line 23 Warning: ftp_get(): Error opening</p>\n</blockquote>\n\n<p>note that i can access the server normally from web browser and also can download them normally\nalso i adjust the permission of my folders to allow any one read and write</p>\n\n<p>if i run the code from my windlows laptop (with apache server and php) the code run normally and get all files in my folder, so the problem in my centos server</p>\n\n<p>please support</p>\n"},{"tags":["php","wordpress","google"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13274405,"title":"Google toolbar truncating site","body":"<p>Hi I've got a site I'm working on it's just a html site with Wordpress integrated to allow a few dynamic features for the client. For some reason IE with Google Toolbar enabled truncates the information and strips the css. In other words it's like it does read anything until it get half way down the page. When you refresh a few times it will change what it does and doesn't display. If I remove the wordpress code fragment at the top(see below) it works, but of course all the dynamic content goes away. The weird thing is that if it's WP generated page it works just fine.</p>\n\n<pre><code>&lt;?php\nrequire('./cms/wp-blog-header.php');\n?&gt;\n</code></pre>\n\n<p>I'm a little lost on this. I'm not doing anything I haven't done several times before with fine results and I can't find anything about it online. Any help would be great, thanks.</p>\n"},{"tags":["php","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":74,"score":1,"question_id":13145518,"title":"Array of objects top 5 unique values","body":"<p>I have an array of arrays with two specific key/value pairs. What I am trying to do is to get the top 5 unique <code>cause</code> values decided by <code>qty</code>. Meaning that it would group the <code>cause</code> keys together by unique values, then total up the <code>qty</code> keys for each cause, and return the top 5 causes and the total qty for each cause.</p>\n\n<p>Here is what the print_r(array_values($array)) prints out.</p>\n\n<pre><code>Array ( \n[0] =&gt; Array ( [cause] =&gt; Other (please comment) [qty] =&gt; 0.417 ) \n[1] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.430 ) \n[2] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.430 ) \n[3] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.513 ) \n[4] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.513 ) \n[5] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.750 ) \n[6] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.750 ) \n[7] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.816 ) \n[8] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.816 ) \n[9] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.828 ) \n[10] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.828 ) \n[11] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.681 ) \n[12] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.681 ) \n[13] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.918 ) \n[14] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.918 ) \n[15] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.926 ) \n[16] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.937 ) \n[17] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.809 ) \n[18] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.809 ) \n[19] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.891 ) \n[20] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.891 ) \n[21] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.884 ) \n[22] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.884 ) ) \n</code></pre>\n\n<p>Thank you in advance for your help.</p>\n"},{"tags":["php","forms","security","post"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13274305,"title":"Bare minimum to secure a PHP form","body":"<p>There are a lot of 'secure PHP form' questions out there, but I wasn't able to find a simple definitive 'bare-minimum needed' answer.</p>\n\n<p>How would I go about making a form 100% safe? Is it as simple as running a function on the output like so:</p>\n\n<pre><code>$text = $_POST['text'];\n$text = doThisToMakeSafe($text);\n</code></pre>\n\n<p>or are there other ways someone can get malicious access via a form without submitting?</p>\n\n<p>Ideally, I'd like a snippet of code I can throw into all forms so that I never have to worry about any security issues. Is this possible?</p>\n"},{"tags":["php","database","security","query","hash"],"answer_count":7,"favorite_count":2,"up_vote_count":14,"down_vote_count":0,"view_count":3442,"score":14,"question_id":3665247,"title":"Fastest hash for non-cryptographic uses?","body":"<p>I'm essentially preparing phrases to be put into the database, they may be malformed so I want to store a short hash of them instead (I will be simply comparing if they exist or not, so hash is ideal).</p>\n\n<p>I assume MD5 is fairly slow on 100,000+ requests so I wanted to know what would be the best method to hash the phrases, maybe rolling out my own hash function or using <code>hash('md4', '...'</code> would be faster in the end?</p>\n\n<p>I know MySQL has MD5(), so that would complement a bit of speed on the query end, but maybe there's further a faster hashing function in MySQL I don't know about that would work with PHP..</p>\n"},{"tags":["php","c++"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":47,"score":0,"question_id":13274298,"title":"strange behaviour of php","body":"<p>Today I noticed an ambiguity in php. I ran this code</p>\n\n<pre><code>$i = 5;\n$i = $i ++;\nvar_dump($i); //output 5 instead of 6 \n</code></pre>\n\n<p>Let us assume the initial value of <code>$i is 5</code>. Now the new value should be 6 but it in fact turns out to be <code>5</code>. When I did the same thing in <code>C++</code> I got <code>6</code> as expected.\nIs it some bug in php which went unnoticed for so many years or is it some thing else. Can some one please explain it?</p>\n"},{"tags":["php","javascript","jquery","zend-framework","jquery-ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":79,"score":6,"question_id":13242409,"title":"JQuery.post callback data is null","body":"<p>I am having an issue with ZEND, JQuery, PHP, and Javascript. I am very new to these languages, and I am just trying to work my way around them.</p>\n\n<p>I have had jquery.post work in other cases, but I cannot get it to do a simple call right now.</p>\n\n<p>phtml File (/admin/user.phtml)</p>\n\n<pre><code>function testJquery()\n{\nvar url = \"&lt;?php echo $myHome2Url.'/admin/newusercallback/sessionid/'.$_SESSION['mySessionId'].'/lang/'.$_SESSION['language']?&gt;\";\nconsole.log(url);\n$.post(url,{},\nfunction(data)\n{\n    window.alert(\"Call successful!\");\n    window.alert(data);\n},\"json\");\n</code></pre>\n\n<p>}</p>\n\n<p>PHP File: (AdminController.php)</p>\n\n<pre><code>public function newusercallbackAction()\n{\n     echo json_encode(\"Test\");\n}\n</code></pre>\n\n<p>A /admin/newusercallback.phtml file exists. </p>\n\n<pre><code>  &lt;?php ?&gt;\n</code></pre>\n\n<p>When run, the console has the following messages printed to it:</p>\n\n<pre><code>POST https://dev.myurl.ca/admin/newusercallback/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG\nhttps://dev.myurl.ca/admin/newusercallback/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG\nGET https://dev.myurl.ca/admin/user/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG/report_id/0/\n</code></pre>\n\n<p>I have 2 popup boxes appearing, which say Call Successful! and Null</p>\n\n<p>The issue is that the second popup box should say \"Test\" instead of Null.</p>\n\n<p>If I browse to the URL <a href=\"https://dev.myurl.ca/admin/newusercallback/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG\">https://dev.myurl.ca/admin/newusercallback/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG</a> directly, my browser displays a window with the text</p>\n\n<pre><code>\"Test\"\n</code></pre>\n\n<p>(quotation marks inclusive)</p>\n\n<p>My question is, why is the callback data for testJquery Null, when browing directly to the page is displaying the data \"Test\" correctly?\nFurther to that, how can I fix it!</p>\n"},{"tags":["php","hash"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":252,"score":1,"question_id":7340615,"title":"fast, collisionless hash algorithm for path caching?","body":"<p>I'm working on converting a website using php. Part of my process is verify that image paths don't point to non-existant images (i.e. there are no broken images). Since many pages share certain images, I set up a cache array to see if I've already checked for the existence of an image file for a given path. </p>\n\n<p>Using raw path string as the array index didn't work, so I used <code>md5()</code>, and that does the trick. However, the conversion script is taking a long time, and it seems clear that that's because of the md5 calculation ( I've been running the conversion frequently over the past few days, and I noticed right away that as soon as my caching started working, the script took much longer to run.)</p>\n\n<p>So I'm wondering if there is a faster hash algorithm that I can use in my cache, and of course I need one that won't produce collisions. Since this is a one-off script, I don't need a super-secure unbreakable algorithm, just one that gets the job done a little faster. </p>\n\n<p><a href=\"http://www.php.net/manual/en/function.hash.php#104987\" rel=\"nofollow\">This comment</a> apparently is a list of all the hashing functions that php has available to it.</p>\n\n<p><strong>Edit</strong> I didn't draw a lot of attention to this in my comment, but when I use the plain string of the path as the index for the cache array, it didn't work. As soon as I changed it to md5 hash, it worked. If I had more time I would troubleshoot this, but this is a one-off project that I can't spend more time than I absolutely must one. </p>\n\n<p><strong>Post Edit</strong> Okay, apparently I'm doing something way wrong with my caching; I must have changed something when I changed the indexes to hashes that caused the cache to start working, irrespective of the hashing. People are saying my hash should be okay with file path strings, and that md5s don't take that long anyway. So, I don't know what I'm doing wrong and I don't have time to figure it out in this project. I would delete this question but it already has answers.</p>\n"},{"tags":["php","ajax","ckeditor"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13263289,"title":"Attaching CKEditor in ajax page","body":"<p>I was try to attach the <em>ckeditor</em> to a textarea in php page, which is being called by ajax in a html page, but ckeditor is not appearing in textarea. Can any one have any idea, Why it is not happening, it just making me freak.</p>\n\n<p>TRY1.HTML\n\n</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n    function load()\n    {\n  if (window.XMLHttpRequest)\n      {// code for IE7+, Firefox, Chrome, Opera, Safari\n       xmlhttp=new XMLHttpRequest();\n      }\n   else\n      {// code for IE6, IE5\n          xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n       }\n     xmlhttp.onreadystatechange=function()\n      {\n        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n          {\n             document.getElementById(\"div_content\").innerHTML=xmlhttp.responseText;\n          }\n      }\n       xmlhttp.open(\"GET\",\"try2.php?\",true);\n       xmlhttp.send();\n      }\n     &lt;/script&gt;\n     &lt;!--end tinymcs--&gt;\n\n       &lt;/head&gt;\n       &lt;body&gt;\n       &lt;input type=\"button\" onclick=\"load()\"&gt;\n       &lt;div id=\"div_content\"&gt;\n\n       &lt;/div&gt;\n\n\n       &lt;/body&gt;\n       &lt;/html&gt;\n</code></pre>\n\n<p>TRY2.PHP</p>\n\n<pre><code>      &lt;textarea id=\"txt1\"&gt; &lt;/textarea&gt;\n</code></pre>\n"},{"tags":["php","pdo","prepared-statement"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13274065,"title":"PDO prepared statement wont work with this query","body":"<p>Im having this query:</p>\n\n<pre><code>$query = $db-&gt;query(\"SELECT\n\n                      posts.post_topic_id,\n                      posts.post_content,\n                      posts.post_id,\n                      posts.post_date,\n                      posts.post_by,    \n                      posts.post_votes_total,\n                      posts.post_suggested_amount, \n                      posts.post_accepted,\n                      posts.post_last_edited,\n                      posts.post_edit_sum,\n                      users.user_id,\n                      users.username\n\n                    FROM\n                      posts\n\n                    JOIN\n                      users\n                    ON\n                      posts.post_by = users.user_id\n                    WHERE\n                      posts.post_topic_id = :topic_id\n                    ORDER BY\n                      :sort\n                    LIMIT :start , :per_page\n                  \");\n\n$query-&gt;bindParam(':topic_id', $topic_id, PDO::PARAM_INT);\n$query-&gt;bindParam(':sort', $sort, PDO::PARAM_STR);\n$query-&gt;bindParam(':start', $start, PDO::PARAM_INT);\n$query-&gt;bindParam(':per_page', $per_page, PDO::PARAM_INT);\n$query-&gt;execute();\n</code></pre>\n\n<p>But it wont execute and give me and error instead:</p>\n\n<blockquote>\n  <p>exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':topic_id ORDER BY posts.post_id ASC ' at line 25' in C:\\htdocs\\lr\\topic.php:577 Stack trace: #0 C:\\htdocs\\lr\\topic.php(577): PDO->query('SELECT???? ...') #1 {main}</p>\n</blockquote>\n\n<p>If I don't prepare the statements, and I use the normal variables, the query executes just fine. </p>\n\n<p>What's my mistake?</p>\n"},{"tags":["php","sql-server","stored-procedures","parameters"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13274261,"title":"php sqlsrv_query stored procedure with naming parameters","body":"<p>Im using php 5.4 with sqlsrv extension and I'm trying to call this sample stored procedure (NorthWind database):</p>\n\n<pre><code>create  PROCEDURE [dbo].[GetCategories] \n@CategoryID int = null\nAS\nSELECT * from dbo.Categories where CategoryID= IsNull(@CategoryID,CategoryID)\n</code></pre>\n\n<p>And I'm using this sqlsrv_query syntax:</p>\n\n<pre><code>$sql = \"{ call dbo.GetCategories (?)}\";\n$catID=2;\n$params = array($catID);\n$stmt = sqlsrv_query( $conn, $sql,$params);\n</code></pre>\n\n<p>I want to specify parameter name and value in $params, just like this:</p>\n\n<pre><code>$sql = \"dbo.GetCategories\";\n$catID=2;\n$params = array(\"@CategoryID\"=&gt;$catID);\n$stmt = sqlsrv_query( $conn, $sql,$params);\n</code></pre>\n\n<p>It return this error: String keys are not allowed in parameters arrays.</p>\n\n<p>How can i solve this problem?\nThanks</p>\n"},{"tags":["php","image","image-processing"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":183,"score":-2,"question_id":7607657,"title":"Change the color of an image in php?","body":"<p>How can i change the color of a clipart in a image ,this image has red color heart in it <a href=\"http://www.tutorialpark.com/wp-content/uploads/3/Heart-Blending.jpg\" rel=\"nofollow\">http://www.tutorialpark.com/wp-content/uploads/3/Heart-Blending.jpg</a> i want to change from red to blue in php Thanks. Mostly my images will be in png format.</p>\n"},{"tags":["php","database","web-applications","cookies"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":9,"score":-1,"question_id":13274257,"title":"set each database data element to a Cookie in web app","body":"<p>i had developed mobile webapp which set fullscreen option for like native feel, there is user login page also, when user resume this webapp section expired, in my mobile safari no problem, but when i run fullscreen mode webbapp its expired my login section.</p>\n\n<p>i used this php code for resume my webapp previous position</p>\n\n<pre><code>&lt;?php     \n    $pageUrl = 'http://mydomain.com/index.php?route=customer/account';\n    setcookie('lastPage', $pageUrl, time()+86400, '/');\n?&gt;\n</code></pre>\n\n<p>how to set each database data element to a Cookie,? when resume webapp in iphone check if the Cookie exists...</p>\n\n<p>any idea.?</p>\n"},{"tags":["php","regex","dom","web-scraping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13274150,"title":"regex - scraping javascript","body":"<p>I am trying to scrape some data out of an HTML page that I'm getting with cURL. I've been using a PHP DOM lib called ganon; but in this case, the number I need is in Javascript.</p>\n\n<pre><code>{\n  label: \"Views&lt;span class='Footnote'&gt;*&lt;/span&gt;\",\n  type: \"other\",\n  id: \"Views\",\n  value: \"7\"\n}\n</code></pre>\n\n<p>I only need the <code>7</code>. So if I could match on <code>id: \"Views\",</code> and get everything up to the closing <code>}</code> and only return numbers; I believe this is possible -- I've been working on it but REGEX is certainly not my strong suite.</p>\n"},{"tags":["php","mysql","database","cakephp","cakephp-1.2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13271267,"title":"Change id from autoincrement to char 36 in CakePHP","body":"<p>I have web application built on CakePHP 1.2.11. and mysql database. In this application I have two tables, namely, users and actions. Users hasMany actions and the user_id (id in users tables) is the foreign key in actions table. The id field is autoincrement integer.</p>\n\n<p>CakePHP documentation said that setting the id field to be Char(36) will make CakePHP able to generate Unique string for each record to be the id.</p>\n\n<p>My application is running and I don't want to loss the data records that my application already has. I need to know if it is safely possible to migrate from autoincrement integer id to char(36) keeping in mind the related table?</p>\n\n<p>In other word, How could I change integer value to the unique string id that cakephp do? Is there any rules? If there any tool automate this kind of migration, I will be appreciated to know it.</p>\n"},{"tags":["php","date"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":57,"score":-7,"question_id":13267053,"title":"Getting error in coding PHP","body":"<p>I'm trying to display username for a certain time and I wrote also in PHP. But it is showing error. Please help me to fix error:</p>\n\n<pre><code>&lt;?php\n    include(\"config.php\");\n    if(time() &lt;= strtotime(\"2012-11-10\")) {\n        $link=mysql_connect($db_host,$db_username) ;\n        mysql_select_db($db_name,$link) ;\n        $query = mysql_query(\"SELECT * FROM tbluser\");\n        while($v = mysql_fetch_array($query)) {\n            $username = $v['username'];\n            echo(\"&lt;center&gt;&lt;table border='1' cellpadding='0' cellspacing='0' style='border-collapse: collapse' bordercolor='#111111' width='343' id='AutoNumber1'&gt;\");\n            echo(\"&lt;tr&gt;&lt;td&gt;&lt;b&gt;UserName&lt;/b&gt;&lt;/td&gt;\");\n            echo(\"&lt;/tr&gt;\");\n            echo(\"&lt;tr&gt;&lt;td&gt;$username&lt;/td&gt;\");\n            echo(\"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\");\n        }\n    else\n        echo 'testing period dated ended';\n    }\n?&gt;\n</code></pre>\n"},{"tags":["php","regex"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":31,"score":0,"question_id":13273938,"title":"RegEx To Validate 4 and 5 Digit Numbers?","body":"<p>I have this regex : </p>\n\n<pre><code>if(preg_match(\"@^\\d{4}$@\", basename($entry, \".php\"))) {\n--do something here--\n}\n</code></pre>\n\n<p>that condition works only for 4 digits number. but I need to validate 4 digits and also 5 digits. how to make it work to validate 5 digits number too? thanks!</p>\n"},{"tags":["php","asp.net","redirect","post"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":50,"score":-1,"question_id":13273440,"title":"send post data from php to webadress without redirecting","body":"<p>I have a PHP page at a site <code>www.aaa.com</code> and on that page when I click the send button it should send textbox data as post data to a ASPX webpage at <code>www.bbb.com</code>.</p>\n\n<p>I need the relevant ASPX code for retrieving post data into textbox and submitting automatically.</p>\n\n<p>How do i do that?</p>\n"},{"tags":["java","php","html","mysql","centos"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13262632,"title":"Find string between 2 points & move between another 2 points","body":"<p>I have a lot of urls that are sadly static, to change them I need to use some type of application or script.. I have about 400 files with urls ranging from 15-150 on each.</p>\n\n<p>Here is an example of what I'm trying to do:</p>\n\n<pre><code>Change:\n&lt;td class=\"SELECTX\"&gt;&lt;strong&gt;Text example 1 &lt;a href=\"\"&gt;&lt;/a&gt;Text Example 2 &lt;/strong&gt;&lt;/td&gt;\n\nTo:\n&lt;td class=\"SELECTX\"&gt;&lt;strong&gt; &lt;a href=\"\"&gt;&lt;/a&gt;Text example 1 Text Example 2 &lt;/strong&gt;&lt;/td&gt;\n</code></pre>\n\n<p>I would love a way to change this on all files at once, but if I can't then at least a way to where I can change all urls on 1 file without having to do manual cut and paste.</p>\n\n<p>I searched and searched for over 3 hours and found nothing... I hope someone can help.</p>\n\n<p>Edit:\nBasically I'm trying to find the text/string between <code>&lt;strong</code> and <code>&lt;a href=</code> which would be <code>\"Text example 1\"</code> then move it to go after <code>\"\"&gt;&lt;/a&gt;</code> . Which would now come before <code>\"Text Example 2\"</code></p>\n"},{"tags":["php","oop","php-errors"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13273905,"title":"PHP Cannot access empty property error","body":"<p>I am getting the following error and I can't seem to figure out why or how it's getting triggered.</p>\n\n<p><code>Fatal error:  Cannot access empty property in /home/content/p/l/a/plai1870/html/com/php/Bone/Compiler.php on line 18</code></p>\n\n<p>Line 18 is </p>\n\n<pre><code>throw new LogicException($this-&gt;$compilers[$language].\" is not a supported compiler.\");\n</code></pre>\n\n<p>Here is Compiler.php</p>\n\n<pre><code>&lt;?php\nnamespace Bone;\nuse LogicException;\n\nclass Compiler implements \\Bone\\Interfaces\\Compiler {\n\n    protected $compiler;\n\n    protected $compilers = array(\n        \"php\"           =&gt; \"PHP\",\n        \"as3\"           =&gt; \"ActionScript3\",\n        \"javascript\"    =&gt; \"Javascript\"\n    );\n\n    public function __construct($language) {\n        $language = strtolower($language);\n        if (!isset($this-&gt;$compilers[$language])) {\n            throw new LogicException($this-&gt;$compilers[$language].\" is not a supported compiler.\");\n        }\n        $compiler = \"\\Bone\\Compilers\\\\\".$this-&gt;$compilers[$language].\"\\Compiler\";\n        $this-&gt;compiler = new $compiler();\n    }\n\n    public function buildDefinition($object, $path = null) {\n        return $this-&gt;compiler()-&gt;buildInterface($object, $path);\n    }\n\n    public function buildObject($object, $path = null) {\n        return $this-&gt;compiler-&gt;buildObject($object, $path);\n    }   \n\n    public function parameters($method) {\n        return;\n    }\n\n    public function save($data, $path) {\n        return;\n    }\n}\n?&gt;\n</code></pre>\n\n<p><strong>EDIT</strong>\nAnd I'm calling it with:</p>\n\n<pre><code>$compiler = new \\Bone\\Compiler(\"php\");\n</code></pre>\n"},{"tags":["php","joomla"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13143712,"title":"Where is the function that displays the PDFs in the search function?","body":"<p>I researched extensively and I couldn't find the solution to my problem. </p>\n\n<p>The site I am working on is using Joomla 1.5 and the latest version of PDF Indexer + Rokajaxsearch.</p>\n\n<p>Everything works great but I am having serious problems trying to <strong>change the order the results are displayed</strong>. By default it shows the PDF results first and then the page results, but <strong>I would like it to show the page results first and then the PDF results.</strong>  In order to do this, I need to rewrite the search function to switch the ordering.</p>\n\n<p>I have been trying to find where the code for the search function, but I cannot figure out where it is. Could anyone point me in the right direction? </p>\n"},{"tags":["php","javascript","jquery","post"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13273159,"title":"$.post function is not returning the correct data","body":"<p>I'm using $.post to deliver data to my main page from droppable elements. Yet when I echo out the the data I'm getting my toolbar echoed out to me as well as the data I fetched.</p>\n\n<pre><code>if (isset($_POST['data'])){\n$data = $_POST['data'];\necho $data;\n</code></pre>\n\n<p>The javascript containing the $.post is below</p>\n\n<pre><code>if(dropbox &amp;&amp; dropbox1 !== ''){\n        $.post(\"account_main.php\", \n          {data: $(this).text()}, \n          function(data) {\n                $('#demo').html(data);\n          });       \n        }\n</code></pre>\n\n<p>And a visual for the script using the droppable elements is <a href=\"http://jsfiddle.net/Kxtvg/247/\" rel=\"nofollow\">HERE</a>, but the problem is not shown here, can't duplicate it. I am open to any suggestions.</p>\n"},{"tags":["php","javascript","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13268795,"title":"Take IE6 Users to a specific page on first visit and only on home page","body":"<p>I'm using PHP includes on a static website, I'm using the same header.php for all pages and changing things like page title etc using php.</p>\n\n<p>For IE6 users I just on the home page I want them to be redirected to unsupported.php where they get prompted to upgrade their browser.</p>\n\n<p>They get a text only style sheet and I feel that I need to explain why the site looks unstyled.</p>\n\n<p>Can anyone provide an idea of how to do this?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":3,"view_count":135,"score":2,"question_id":12815108,"title":"How to properly retrieve a JSON string with PHP?","body":"<p>I am trying to send a JSON to my PHP script and for some reason is returning <code>null</code> in the alert message. </p>\n\n<p>I've searched throughout Stack Overflow and other forums and used other people's examples but somehow I keep getting it wrong. I checked in Firebug and the request is being sent. I am very new to handling JSON queries.</p>\n\n<p>Could anyone point at what I am doing wrong so that I can learn for the next time?</p>\n\n<p>My JQuery Code:</p>\n\n<pre><code>  var name = $('#formName').val();\n  var regno = $('#formRegNo').val();\n  var charityinfo = $('#formCharityInfo').val();\n  var searchimprove = $('#formSearchImprove').val();\n  var finantialaid = $('#formFinantialAid').val();\n  var contactname = $('#formContactName').val();\n  var contactphonenumber = $('#formContactPhoneNumber').val();\n  var contactfaxnumber = $('#formContactFaxNumber').val();\n  var contactemail = $('#formContactEmail').val();\n  var website = $('#formWebsite').val();\n  var address = $('#formAddress').val();\n  var postcode = $('#postCode').val();\n\n    var arrayData = {\"name\":name,\"regno\":regno,\"charityinfo\":charityinfo,\"searchimprove\":searchimprove,\"finantialaid\":finantialaid,\"contactname\":contactname,\"contactphonenumber\":contactphonenumber,\"contactfaxnumber\":contactfaxnumber,\"contactemail\":contactemail,\"website\":website,\"address\":address,\"postcode\":postcode};\n    console.log(name);\n\n    $.ajax({  \n  url: \"test.php\",  \n  type: \"POST\",  \n  dataType: \"json\",  \n  contentType: \"json\",  \n  async: false,\n  data: arrayData,\n success : function(response) {                            \n                    alert(response);            \n              },\n              error: function(){\n                    alert(\"error\");\n              }\n  }); //End AJAX\n</code></pre>\n\n<p>My PHP Code:</p>\n\n<pre><code>&lt;?php\n$return = $_POST;\necho json_decode($return);\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","shell"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13273181,"title":"Is it possible for shell script to detect whether JavaScript is running on firefox?","body":"<p>I wrote an HTML page with JavaScript, a PHP file and a shell script\nthey are all on the same machine\nI run the shell script, it will open the html page with Firefox,\nwhen the JavaScript finishes, it will POST to a getdata.php </p>\n\n<pre><code>&lt;form id=\"hidden_form\" method=\"POST\" action=\"getdata.php\" &gt;&lt;/form&gt;\n</code></pre>\n\n<p>The getdata.php will do something and then it will send a signal to the shell script</p>\n\n<p>the above is the normal behaviour, I'm afraid at some time, the PHP or JavaScript run into error and don't send signal to the shell script</p>\n\n<p>are there any good and simple way for shell script to detect whether JavaScript is running?</p>\n\n<p>a guy below mentioned that I can let javascript send request to the server periodically, like once every 2 minutes, but how to let shell script notice this/get the signal?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":27,"score":-3,"question_id":13271393,"title":"how to rewrite the xyz.php to city_name.xyz.php?","body":"<p>I am trying to build a ad site in php. My requirement is i had a page where in each state we had a list of cities. When we click on the city name then the page has to go to <a href=\"http://www.cityname.adlist.php\" rel=\"nofollow\">http://www.cityname.adlist.php</a>, but currently it is showing as <a href=\"http://www.adlist.php\" rel=\"nofollow\">http://www.adlist.php</a>.</p>\n\n<p>Can anybody advice me how to get my requirement.</p>\n"},{"tags":["php","php-cli","opensuse","php-5.4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13270862,"title":"How to enable pdo_pgsql on opensuse in PHP-CLI mode","body":"<p>I have opensuse 12.2 installed with php 5.4.x, pdo and pdo_pgsql works well under apache, but it does not work with inner server $php -S localhost:8080</p>\n\n<p>$php -m</p>\n\n<pre><code>[PHP Modules]\nCore\nctype\ndate\ndom\nereg\nfileinfo\nfilter\ngd\nhash\niconv\ninterbase\njson\nlibxml\nmbstring\npcre\nPDO\npdo_sqlite\nPhar\nposix\nReflection\nsession\nSimpleXML\nsockets\nSPL\nsqlite3\nstandard\ntokenizer\nxml\nxmlreader\nxmlrpc\nxmlwriter\nzlib\n\n[Zend Modules]\n</code></pre>\n\n<p>$php --ini</p>\n\n<pre><code>Configuration File (php.ini) Path: /etc/php\nLoaded Configuration File:         /etc/php/php.ini\nScan for additional .ini files in: (none)\nAdditional .ini files parsed:      (none)\n</code></pre>\n\n<p>I add the following two lines in php.ini</p>\n\n<pre><code>extension=pgsql.so\nextension=pdo_pgsql.so\n</code></pre>\n\n<p>then I get:</p>\n\n<pre><code>PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib64/php/extensions/pgsql.so' - /usr/lib64/php/extensions/pgsql.so: cannot open shared object file: No such file or directory in Unknown on line 0\nPHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib64/php/extensions/pdo_pgsql.so' - /usr/lib64/php/extensions/pdo_pgsql.so: cannot open shared object file: No such file or directory in Unknown on line 0\n</code></pre>\n\n<p>but I am sure pgsql.so and pdo_pgsql.so are all both located under /usr/lib64/php/extensions/</p>\n\n<p>Anybody know what's the issue?</p>\n"},{"tags":["php","javascript","flotr"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":992,"score":1,"question_id":11248927,"title":"Putting timestamp onto x axis in Flotr2 line graph","body":"<p>I am fairly new to Flotr2 and I have just been building some simple line graphs. That is simple enough and very cool. However, I need to put a timestamp (month day year plus time of day) as my x axis. I am getting the time from my database so its in php code and I am just echoing out the data like so:</p>\n\n<pre><code>while($stmt11-&gt;fetch()){\n                echo \" [\" . $date_of_completion . \", \" . $score . \"]\";\n                echo \",\";\n                $i++;\n                $total_score += $score;\n            }\n            echo \"];\";\n</code></pre>\n\n<p>And I have made the mode of the xaxis be \"time\" and I've tried \"date\", and it just never works. It keeps putting everything between 2001-2002 which is completely wrong, so I assume it just doesn't know what to do with the data I've given it. Has anyone else encountered this problem? I've looked through the example they give on time, but it makes no sense to me. </p>\n\n<p>Any help at all would be really appreciated. Thanks</p>\n\n<p>EDIT\nOk here is some more code. This is exactly what I'm doing to get the data out of the php and convert it to the format that flotr2 wants. </p>\n\n<pre><code>if(!($stmt11 = $mysqliprivate-&gt;prepare(\"SELECT date_of_completion, score FROM \". $shs . \" WHERE id = ? ORDER BY date_of_completion ASC\"))){\n            echo \"Prepare Failed: (\" . $mysqliprivate-&gt;errno . \") \" . $mysqliprivate-&gt;error;\n        }\n        else{\n            $total_score = 0;\n            $stmt11-&gt;bind_param(\"s\", $id);\n            $stmt11-&gt;execute();\n            $stmt11-&gt;bind_result($date_of_completion, $score);\n            $time = time();\n\n            echo \"var dataset = [\";\n            $i = 0;\n            while($stmt11-&gt;fetch()){\n                $date = date(\"U\", strtotime($date_of_completion));\n                echo \" [\" . $date . \", \" . $score . \"]\";\n                echo \",\";\n                $i++;\n            }\n            echo \"];\";\n            $stmt11-&gt;close();\n        }\n</code></pre>\n\n<p>And here is the javascript that I am running:</p>\n\n<pre><code>graph = Flotr.draw(container, [ \n            { data : dataset, label : 'Historical Patient Scores', lines:{show:true}, points: {show:true}}\n            ], {\n            xaxis: {\n                minorTickFreq: 4,\n                title : 'Date of Completion',\n                tickDecimals: 0,\n                noTicks: 10,\n                mode : 'time',\n                timeformat : '%y/%m/%d'\n            }, \n            yaxis : {\n                max : 30,\n                title : 'Score',\n                tickDecimals:0,\n                min: 0\n            },\n            grid: {\n                minorVerticalLines: true\n\n            },\n            legend : {\n                position : 'nw'\n            },\n            mouse: {\n                track: true,\n                relative:true,\n                trackDecimals:0,\n                sensibility: 5\n            }\n        });\n    })(document.getElementById(\"editor-render-0\"));\n</code></pre>\n"},{"tags":["php","html","mysql","order","results"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":41,"score":0,"question_id":13272201,"title":"Display mysql results with php in columns and sorted per column","body":"<p>I have the following code to display some brands per category.</p>\n\n<pre><code>&lt;?\n$con = mysql_connect(\"localhost\",\"baba\",\"passsss\");//database connection\nmysql_select_db(\"gr_brands_igi\") or die(mysql_error());\nmysql_set_charset('utf8',$con);     \n$query = \"SELECT * FROM brands ORDER BY category_anchor ASC, brand_anchor ASC\";\n\n$result = mysql_query($query);\n\n$lasteventname = \"\";\n\necho \"&lt;table border='0' width='100%' cellspacing='0' cellpadding='0'&gt;\";\n$cell_ctr = 0;\nwhile($row=mysql_fetch_array($result))\n{\n    if($row[0] != $lasteventname){\n        $title = $row[0];\n        $lasteventname = $row[0];\n        echo \"&lt;tr&gt;&lt;td colspan=5&gt;&lt;h2&gt;$title&lt;/h2&gt;&lt;/td&gt;&lt;/tr&gt;\";\n    }\n    if(($cell_ctr % 5) == 4) // 2 is the number of columns\n    {\n        echo\"&lt;/tr&gt;\";\n        echo \"&lt;tr&gt;\";\n        $cell_ctr = 0;\n    }\n  echo \"&lt;td align='justify' cellspacing='2' cellpadding='2'&gt;\";\n  echo \"&lt;h3&gt;&lt;a href='http://www.example.com/search/search.asp?txtsearch=$row[2]&amp;catg=$row[3]&amp;intitleanddesc=1&amp;isnavbarsearch=1&amp;gallery=1'&gt;\" . $row[2] . \"&lt;/a&gt;&lt;/h3&gt;\";\n  echo \"&lt;/td&gt;\";\n  $cell_ctr++;\n}\n\nif($cell_ctr == 1)\n{\n  echo \"&lt;/tr&gt;\";\n}\nelse if($cell_ctr == 2)\n{\n  echo \"&lt;/tr&gt;\";\n}\necho\"&lt;/table&gt;\";\n?&gt;\n</code></pre>\n\n<p>right now it displays this</p>\n\n<p>Jewels</p>\n\n<ul>\n<li>1 2</li>\n<li>3 4</li>\n<li>5 6</li>\n<li>7 8</li>\n</ul>\n\n<p>But i want to order it per column like this:</p>\n\n<p>Jewels</p>\n\n<ul>\n<li>1 5</li>\n<li>2 6</li>\n<li>3 7</li>\n<li>4 8</li>\n</ul>\n\n<p>The fields in the database are:</p>\n\n<pre><code>category_anchor\nkeyword\nbrand_anchor\ncategory_id\n</code></pre>\n\n<p>I have only one while loop and with the $lasteventname i print the category only once</p>\n\n<p>Any Ideas?</p>\n"},{"tags":["php","xml","magento","feed","product"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13273831,"title":"Magento create product feed xml","body":"<p>I've run into a problem which i can't seem to solve.\nI am building a Magento Webshop, which until so far has gone quite well.</p>\n\n<p>Now i need to create a product feed xml for affiliate sites.\nSo my employer gave me this feed.php file.</p>\n\n<p>And told me to use this file to create the feed.\nBut i seriously can not find a way to get this working.</p>\n\n<p>Here is the file:</p>\n\n<pre><code>    &lt;?php session_start();\n\n// Preconfigs\nini_set('memory_limit', '1536M');\nrequire_once dirname(__FILE__).'/app/Mage.php';\nMage::app('default');\n\n$scriptName = $_SERVER[\"SCRIPT_NAME\"];\n$startTime = time();\n$iterator = 0;\n$maxProducts = 0;\n\n// Set full path to the cache file\n$cachePath = dirname(__FILE__).'/var/tmp/';\n$cacheFile = $cachePath.'feed.cache.xml';\n\n// Set correct header for the xml\nheader(\"content-type: text/xml; charset=utf-8\");\n\n// Get timestamp of the cache file, if it does exists\nif (file_exists($cacheFile) &amp;&amp; (time() - filemtime($cacheFile)) &lt; 82800) {\n\n    header('Content-type: text/xml; charset=UTF-8');\n    header('Content-disposition: inline; filename=feed.xml');\n    readfile($cacheFile);\n    exit;\n} else {\n\n    try {\n        // Check if the 'tmp' folder exists' or create it otherwise\n        if (!file_exists($cachePath)) mkdir($cachePath);\n\n        // Create or start with a new file and save\n        // the contents\n        $cacheFileHandler = fopen($cacheFile, 'w');\n        //fwrite($cacheFileHandler, $cacheFileContents);\n\n        //---------------------- GET THE PRODUCTS\n        /* @var $products Mage_Catalog_Model_Resource_Product_Collection */\n        $products = Mage::getModel('catalog/product')-&gt;getCollection()\n            -&gt;addAttributeToSelect('id')\n            -&gt;addAttributeToFilter('status', 1) //enabled\n            -&gt;addAttributeToFilter('visibility', 4) //catalog, search\n            -&gt;addAttributeToFilter('price', array('gt' =&gt; 0))\n            -&gt;setStoreId(1)\n            -&gt;addStoreFilter(1);\n\n        //$products-&gt;addAttributeToFilter('type_id', array('eq' =&gt; 'configurable'));\n\n        $prodIds = $products-&gt;getAllIds();\n\n        fwrite($cacheFileHandler, \"&lt;?xml version=\\\"1.0\\\"?&gt;\\n\");\n        fwrite($cacheFileHandler, \"&lt;productFeed&gt;\\n\");\n\n        // Set output buffering to catch the xml contents\n        ob_start();\n\n        // Products can be iterated\n        foreach ($prodIds as $productId) {\n\n            /* @var $product Mage_Catalog_Model_Product */\n            $product = Mage::getModel('catalog/product')-&gt;load($productId);\n\n            $sku = $product-&gt;getSku();\n            $name = $product-&gt;getName();\n            $image = Mage::getBaseUrl(Mage_Core_Model_Store::URL_TYPE_MEDIA).'catalog/product'.$product-&gt;getImage();\n            $description = $product-&gt;getShortDescription();\n            $collectionDate = date('Y-m-d', strtotime($product-&gt;getCreatedAt()));\n\n            // Set lowest price and an array with sizes\n            $lowestPrice = $product-&gt;getPrice();\n            $fromPrice = $lowestPrice;\n\n            if ($product-&gt;getSpecialPrice()) {\n                //$fromPrice = $lowestPrice;\n                $lowestPrice = $product-&gt;getSpecialPrice();\n                $sale = 'Ja';\n            } else {\n                $sale = 'Nee';\n            }\n\n            echo sprintf(\"\\t&lt;product id=\\\"%s\\\"&gt;\\n\", $product-&gt;getId());\n\n                echo sprintf(\"\\t\\t&lt;name&gt;%s&lt;/name&gt;\\n\", htmlspecialchars($name, ENT_COMPAT, 'UTF-8'));\n                echo sprintf(\"\\t\\t&lt;price&gt;%s&lt;/price&gt;\\n\", number_format ($lowestPrice * 1.19, 2, '.', ''));\n                echo sprintf(\"\\t\\t&lt;productURL&gt;&lt;![CDATA[%s]]&gt;&lt;/productURL&gt;\\n\", str_replace($scriptName, '', $product-&gt;getProductUrl()));\n                echo sprintf(\"\\t\\t&lt;imageURL&gt;&lt;![CDATA[%s]]&gt;&lt;/imageURL&gt;\\n\", $image);\n                echo sprintf(\"\\t\\t&lt;description&gt;&lt;![CDATA[%s]]&gt;&lt;/description&gt;\\n\", $description);\n\n                echo \"\\t\\t&lt;additional&gt;\\n\";\n\n                    echo sprintf(\"\\t\\t\\t&lt;SKU&gt;%s&lt;/SKU&gt;\\n\", htmlspecialchars($product-&gt;getSku(), ENT_COMPAT, 'UTF-8'));\n                    //echo sprintf(\"\\t\\t\\t&lt;EAN&gt;%s&lt;/EAN&gt;\\n\", htmlspecialchars($product-&gt;getSku(), ENT_COMPAT, 'UTF-8'));\n\n                    //echo sprintf(\"\\t\\t\\t&lt;width&gt;%s&lt;/width&gt;\\n\", htmlspecialchars($product-&gt;getWidth(), ENT_COMPAT, 'UTF-8'));\n                    //echo sprintf(\"\\t\\t\\t&lt;depth&gt;%s&lt;/depth&gt;\\n\", htmlspecialchars($product-&gt;getLength(), ENT_COMPAT, 'UTF-8'));\n                    //echo sprintf(\"\\t\\t\\t&lt;height&gt;%s&lt;/height&gt;\\n\", htmlspecialchars($product-&gt;getHeight(), ENT_COMPAT, 'UTF-8'));\n\n                    echo sprintf(\"\\t\\t\\t&lt;lichtbron&gt;%s&lt;/lichtbron&gt;\\n\", htmlspecialchars($product-&gt;getLightSource(), ENT_COMPAT, 'UTF-8'));\n                    echo sprintf(\"\\t\\t\\t&lt;wattage&gt;%s&lt;/wattage&gt;\\n\", htmlspecialchars($product-&gt;getMaxWattage(), ENT_COMPAT, 'UTF-8'));\n                    echo sprintf(\"\\t\\t\\t&lt;fitting&gt;%s&lt;/fitting&gt;\\n\", htmlspecialchars($product-&gt;getSocket(), ENT_COMPAT, 'UTF-8'));\n\n                    echo sprintf(\"\\t\\t\\t&lt;designer&gt;%s&lt;/designer&gt;\\n\", htmlspecialchars($product-&gt;getAttributeText('designer'), ENT_COMPAT, 'UTF-8'));\n\n                    echo sprintf(\"\\t\\t\\t&lt;fromprice&gt;%s&lt;/fromprice&gt;\\n\", number_format($fromPrice * 1.19, 2, '.', ''));\n                    echo sprintf(\"\\t\\t\\t&lt;sale&gt;%s&lt;/sale&gt;\\n\", $sale);\n\n                    echo sprintf(\"\\t\\t\\t&lt;color&gt;%s&lt;/color&gt;\\n\", htmlspecialchars($product-&gt;getColorMaterial(), ENT_COMPAT, 'UTF-8'));\n\n                    //echo \"\\t\\t\\t&lt;deliverycost&gt;1.75&lt;/deliverycost&gt;\\n\";\n                    //echo \"\\t\\t\\t&lt;deliverytime&gt;3-4 werkdagen&lt;/deliverytime&gt;\\n\";\n                    echo sprintf(\"\\t\\t\\t&lt;collection_date&gt;%s&lt;/collection_date&gt;\\n\", $collectionDate);\n\n                    $brand = $product-&gt;getAttributeText('brand_id');\n                    echo sprintf(\"\\t\\t\\t&lt;brand&gt;%s&lt;/brand&gt;\\n\", htmlspecialchars($brand, ENT_COMPAT, 'UTF-8'));\n                    /*if (isset($brand) &amp;&amp; !empty($brand)) {\n\n                        $brandObj = Mage::getModel('aitmanufacturers/aitmanufacturers')-&gt;loadByManufacturer($brand);\n                        if (isset($brandObj)) {\n\n                            echo sprintf(\"\\t\\t\\t&lt;brand&gt;%s&lt;/brand&gt;\\n\", htmlspecialchars($brandObj-&gt;getManufacturer(), ENT_COMPAT, 'UTF-8') );\n                            echo sprintf(\"\\t\\t\\t&lt;brandURL&gt;%s&lt;/brandURL&gt;\\n\", htmlspecialchars($brandObj-&gt;getNiceUrl(), ENT_COMPAT, 'UTF-8') );\n                            unset($brandObj);\n                        }\n                    }*/\n\n                    $i = 0;\n                    //foreach ($product-&gt;getCategoryId() as $_categoryId) {\n                    if ($_categoryId = $product-&gt;getCategoryIds()) {\n\n                        /* @var $category Mage_Catalog_Model_Category */\n                        $category = Mage::getModel('catalog/category')-&gt;load($_categoryId[0]);\n                        $categories = $category-&gt;getPathIds();\n\n                        foreach ($categories as $categoryId) {\n\n                            // Skip base and default categories\n                            if ($categoryId &lt;= 2) continue;\n\n                            $category = Mage::getModel('catalog/category')-&gt;load($categoryId);\n                            $sub = str_repeat('sub_', $i);\n\n                            if ($category-&gt;getName() &amp;&amp; $category-&gt;getName() != 'Default Category') {\n                                echo sprintf(\"\\t\\t\\t&lt;%scategory&gt;%s&lt;/%scategory&gt;\\n\", $sub, htmlspecialchars($category-&gt;getName(), ENT_COMPAT, 'UTF-8'), $sub);\n                                echo sprintf(\"\\t\\t\\t&lt;%scategoryURL&gt;%s&lt;/%scategoryURL&gt;\\n\", $sub, str_replace($scriptName, '', $category-&gt;getUrl()), $sub);\n                                $i++;\n                            }\n\n                            unset($category);\n                        }\n                    }\n\n                echo \"\\t\\t&lt;/additional&gt;\\n\";\n\n            echo \"\\t&lt;/product&gt;\\n\";\n\n            fwrite($cacheFileHandler, ob_get_contents());\n            ob_clean();\n\n            unset($product);\n\n            $iterator++;\n            if (isset($maxProducts) &amp;&amp; $maxProducts &gt; 0 &amp;&amp; $iterator == $maxProducts) break;\n        }\n\n        ob_end_clean();\n        fwrite($cacheFileHandler, \"&lt;/productFeed&gt;\");\n        fclose($cacheFileHandler);\n\n        // Chmod the file\n        chmod($cacheFile, 0777);\n\n        // Eventually return the file\n        header('Content-type: text/xml; charset=UTF-8');\n        header('Content-disposition: inline; filename=feed.xml');\n        readfile($cacheFile);\n        //die(sprintf('Rendered %d products in approx. %d seconds', $iterator, (time() - $startTime)));\n        exit;\n\n    } catch(Exception $e) {\n\n        die($e-&gt;getMessage());\n    }\n}\n\nexit;\n</code></pre>\n\n<p>I know this is quite a difficult question. But i need to have this before the end of the day Friday and i spend the entire day trying this with no result.. :(</p>\n\n<p>Hope someone can help me:)</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13273463,"title":"MySQL Query to take Stock data from one table and update LIKE data on a second table","body":"<p>Ok lets see if I can put this in words. I have 2 tables, with like data. They are meant to serve as Stock data for the rest of the system to use. One of the tables is a recent addition, and 2 columns worth of data on said table need to match the data on the other tables so I can attempt to make faster running queries. That said. The columns I need to fix have very similar data to that of the one I want it to be like. As in I could do a select query from the second table onto the first one using <code>like</code> and actually get the data I want, but I can't do that in reverse. </p>\n\n<p>So Heres what I want to know if its even possible just doing it query based. Essentially I want to run over the second table that I want 2 columns of data to match that of the one in the first table. They are varchar columns, as whats in them are just strings. But using sports I guess as an example in the first table I have:</p>\n\n<p>New York Giants</p>\n\n<p>New England Patriots</p>\n\n<p>in the Second table I have:</p>\n\n<p>Patriots</p>\n\n<p>Giants</p>\n\n<p>And while this query is going on I want to update the rows in the second column to match the data in the first table. Is this possible just query based alone or is this something I have to come up with some level of server side logic to over come?</p>\n\n<p>In one table I am working with about 4000 rows in the other I am working with 1001, not sure if that helps any but worth mentioning.</p>\n"},{"tags":["php","wordpress","search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13272934,"title":"Have wordpress search results on the same page","body":"<p>I am trying to display the results of my custom post search in the page I am currently in.   I am posting back to the same page, here's my form:</p>\n\n<pre><code>&lt;form role=\"search\" method=\"get\" id=\"searchform-conferences\" action=\"&lt;?php the_permalink();?&gt;\"&gt;\n    &lt;input type=\"text\" name=\"search\"  value=\"Enter keywords ...\" onfocus=\"if(this.value==this.defaultValue)this.value='';\" onblur=\"if(this.value=='')this.value=this.defaultValue;\"/&gt;&lt;br /&gt;\n    &lt;input type=\"hidden\" name=\"post_type\" value=\"posttypeconference\" /&gt;\n    &lt;input type=\"submit\" id=\"searchsubmit\" value=\"Search\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Yet, whenever I submit the search, it comes up with a 404 even although the page url is the same one except with the search query, i.e. <code>mydomain.com/page_where_my_search_form_is.php?search=searchterm</code></p>\n"},{"tags":["php","html","css","html5","css3"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":13256143,"title":"How to create a dotted shadowy effect on an image with CSS?","body":"<p>I would like to create the effect that can be seen on the website <a href=\"http://www.murmure.me/\" rel=\"nofollow\">http://www.murmure.me/</a> when you hover on their images.</p>\n\n<p>I know They use two different images but I would like to be able to this effect without 2 images, just with ONE picture (the one without the dots) and by using CSS. Is it possible ? </p>\n"},{"tags":["php","url","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13273039,"title":"URL rewrie inside a php plugin","body":"<p>Can I dynamically rewrite an URl of a wordpress site. It is not actually a post or a page. I created a plugin and I need to push the url into the browser. \n<a href=\"http://www.signaturecarleasing.co.uk/carsearch.php?a=man&amp;man=1\" rel=\"nofollow\">http://www.signaturecarleasing.co.uk/carsearch.php?a=man&amp;man=1</a></p>\n\n<p>I have only 1 plugin page and the value of man will change according to the car manufacture. So\nsimply can I do dynamic url for web pages?</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["php","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13272775,"title":"Assign Phone Numbers to their Lables with a Regular Expression","body":"<p>I have the following text:</p>\n\n<pre><code>Main: (555) 551-0341 Pharmacy: (555) 551-4304\n</code></pre>\n\n<p>I'd like to separate this out to two variables:</p>\n\n<pre><code> $main = (555) 551-0341\n $pharm = (555) 551-4304\n</code></pre>\n\n<p>I'm not familiar with regular expressions enough to move around these words. Any help would be awesome!</p>\n"},{"tags":["php","zend-framework","smarty"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13273571,"title":"Zend Framework + Smarty for a high traffic website","body":"<p>I'm considering integrating smarty with Zend Framework for a large project. The goals I want to achieve are: increase code readability and speed up development. Zend is quite heavy on it's own plus I also use PropelORM which adds to the weight. I'm not super concerned about PHP performance as there is Alternative PHP Cache which will cache the source code however I still prefer to have a good think before adding another big library to the project. </p>\n\n<p>Do you have any experience with smarty under high traffic? Are there any issues I should be aware of?</p>\n\n<p>Thank you.</p>\n"},{"tags":["php","html","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":41,"score":1,"question_id":13273302,"title":"SQL PHP form error on line 23","body":"<p>I have been trying to write code to insert into different tables but it keeps giving me error on line 23.</p>\n\n<p>This is for a college project registration form.</p>\n\n<pre><code>&lt;?php\n\n$con = mysql_connect(\",\"\",\"\");\nif (!$con)\n{\ndie('Could not connect: ' . mysql_error());\n}\n\nmysql_select_db(\"HNDGeorgeMason\", $con);\n\n$firstname=$_POST['firstname'];\n$surname=$_POST['surname'];\n$username=$_POST['username'];\n$password=$_POST['password'];\n$address=$_POST['address'];\n$postcode=$_POST['postcode'];\n$userid=$_POST['userid'];\n$type=$_POST['type'];\n\nswitch ($_POST['type'])\n{\ncase guides\n $sql=\"INSERT INTO Guides (firstname, surname, type, username, password)\n VALUES ('$firstname', '$surname', '$type', '$username', '$password')\";\n\ncase parents\n $sql=\"INSERT INTO Parents (firstname, surn ame, type, username, password)\nVALUES ('$firstname', '$surname', '$type', '$username', '$password')\"; \n\ncase leaders\n $sql=\"INSERT INTO Leaders (firstname, surname, type, username, password)\n VALUES ('$firstname', '$surname', '$type', '$username', '$password')\"; \n}\n\n mysql_close($con);\n?&gt;\n</code></pre>\n"},{"tags":["php","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13272129,"title":"format routing symfony2 format","body":"<p>I have the routing this:</p>\n\n<pre><code>nueva_ventau:\n   pattern:  /ventau/{id}\n   defaults: { _controller: miomioBundle:Usuario:ventau, _format: pdf}\n   options:\n        expose: true\n</code></pre>\n\n<p>How could the redirect response with a format?</p>\n\n<pre><code>if ($pieces[0] == 0)//html\n    return new RedirectResponse($this-&gt;generateUrl('homepage')); ??????????????\nelse\nreturn $this-&gt;forward('miomioBundle:Venta:hello', array('id' =&gt; $venta-&gt;getId()));\n</code></pre>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13271663,"title":"Delete all but one filetype from directory using glob php","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1877524/does-glob-have-negation\">Does glob() have negation?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to delete all files from a directory (could be any number of file extentions) apart from the single index.html in there.</p>\n\n<p>I'm using:</p>\n\n<pre><code>$path = \"/assets/cache/\";\n\nforeach(glob($path .\"*.*\") as $file) {\n    unlink($file);\n}\n</code></pre>\n\n<p>But can't for the life of me how to say unlink, if not .html!</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","soap","salesforce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13271557,"title":"Salesforce: Creating OpportunityLineItems as part of the Opportunity in PHP","body":"<p>I am trying to bulk upload 'Opportunities' into Salesforce using PHP Toolkit 20.0 and the Enterprise SOAP API.</p>\n\n<p>The way I have found to do it is to create an Opportunity object and then create it in Salesforce via the SOAP API, then on the response I take the <code>Id</code> and use that for each 1..n OpportunityLineItems that exists for that Opportunity.</p>\n\n<p>This isn't very efficient as it use 2 SOAP API calls and when done in bulk uses a lot of resources and is liable to timeouts. (I do not want to reduce the amount sent in one go as the API calls are limited)</p>\n\n<p><strong>Therefore is there a way to create both the Opportunity and it's OpportunityLineItems in a single API call?</strong></p>\n\n<p>I tried the following:</p>\n\n<pre><code>$opp = new stdClass();\n$opp-&gt;Name = 'Opp1';\n$opp-&gt;StageName = 'Closed Won';\n$opp-&gt;Account = new stdClass();\n$opp-&gt;Account-&gt;Custom_ID__c = '1234';\n$opp-&gt;Pricebook2Id = '...'; \n$opp-&gt;OpportunityLineItems = array();\n$opp-&gt;OpportunityLineItems[0] = new stdClass();\n$opp-&gt;OpportunityLineItems[0]-&gt;Description = 'Product name';\n$opp-&gt;OpportunityLineItems[0]-&gt;Quantity = 1;\n$opp-&gt;OpportunityLineItems[0]-&gt;UnitPrice = 10.00;\n...\n$opp-&gt;OpportunityLineItems[n] = new stdClass();\n$opp-&gt;OpportunityLineItems[n]-&gt;Description = 'Product name';\n$opp-&gt;OpportunityLineItems[n]-&gt;Quantity = 1;\n$opp-&gt;OpportunityLineItems[n]-&gt;UnitPrice = 10.00;\n</code></pre>\n\n<p>But it resulted in:<br>\n<code>INVALID_FIELD: No such column 'OpportunityLineItems' on entity 'Opportunity'. If you are attempting to use a custom field, be sure to append the '__c' after the custom field name. Please reference your WSDL or the describe call for the appropriate names.</code><br>\nWhich was to be expected as the WSDL file states that OpportunityLineItems is of type <code>tns:QueryResult</code> rather than an <code>ens:</code></p>\n"},{"tags":["php","wordpress","plugins"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":3942893,"title":"Expertise required to create a wordpress plugin?","body":"<p>I was wondering how extensive your knowledge of php should be to write a decent wordpress plugin? Can you create a wordpress plugin with just basic knowledge and little experience with the language?</p>\n\n<p>thanks.</p>\n"},{"tags":["php","email","smtp","swiftmailer","worker"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13257114,"title":"How to close Smtp connection in SwiftMailer","body":"<p>I use SwiftMailer to send emails from a gearman worker process. I'm using the <code>Swift_SmtpTransport</code> class to send emails.</p>\n\n<p>The problem is that if this worker process stays idle for sometime, the SwiftMailer smtp connection times out. Now when the next job arrives, SwiftMailer fails to send emails as the connection has been timed out.</p>\n\n<p>Ideally, I would want to close the smtp connection after every job. I'm unable to locate a api in the class which does this specifically. Neither does <code>unset()</code> object works since this is a static class.</p>\n"},{"tags":["php","facebook-apps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13272319,"title":"Facebook open graph api action type error in FB._callbacks.__gcb2","body":"<p>I have created object and action type by using open Open graph in facebook API. When I request for a post, it is showing successful message only with my Facebook account where I create this FB web app. </p>\n\n<p>If FBlogin by any other Facebook account I have this below error:</p>\n\n<blockquote>\n  <p>/**/ FB.<em>callbacks.</em>_gcb2({\"error\":{\"message\":\"(#100) The action type\n  colorbooty:Repin does not exist or is not approved, so app\n  XXXXXXXXXXXX can only publish to administrators, developers, and\n  testers of the app.  User 100004423773779 is not one of those\n  roles.\",\"type\":\"OAuthException\",\"code\":100}});</p>\n</blockquote>\n\n<p>How I can allow it for any other Facebook users?</p>\n"},{"tags":["php","api","curl","fastcgi","plesk"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":13207937,"title":"Plesk API and cURL doesnt work","body":"<p>I have a script wich uses the Plesk API to create FTP accounts. The script worked perfectly untill we moved to new VPS at a new provider.</p>\n\n<p>The script doesnt work anymore and I get an error like this:</p>\n\n<p>cURL error number:7 cURL error:Failed to connect to xx.xx.xxx.xxx permission denied.</p>\n\n<p>It seems that cURL doesnt work. What i've tried is changing the php support from fastCGI to Apache module in PLESK and the error message is gone but the PLESK API does nothing though the load time of the page is much longer then when I'm using fastCGI so it looks like it does something.</p>\n\n<p>I also added port 8443 to the firewall for incoming and outgoing.</p>\n\n<p>I'm using PLESK 11 and my script looks like this.</p>\n\n<pre><code>// Plesk login gegevens\n$host   = \"**********\";\n$login  = \"**********\";\n$pass   = \"**********\";\n$port   = 8443;\n\n\n// Maak de FTP map aan\n$data =&lt;&lt;&lt;EOF\n&lt;packet version=\"1.6.3.5\"&gt;\n&lt;ftp-user&gt;\n&lt;add&gt;\n&lt;name&gt;John&lt;/name&gt;\n&lt;password&gt;Doe1234&lt;/password&gt;\n&lt;home&gt;/private/John_Doe/&lt;/home&gt;\n&lt;create-non-existent&gt;true&lt;/create-non-existent&gt;\n&lt;webspace-id&gt;1&lt;/webspace-id&gt;\n&lt;/add&gt;\n&lt;/ftp-user&gt;\n&lt;/packet&gt;\n\nEOF;\n\nsendCommand($data, $login, $pass, $host, $port);\n\nfunction write_callback($ch, $data) \n{\n    // echo $data;\n    return strlen($data);\n}\n\nfunction sendCommand($data, $login, $passwd, $host, $port=8443) \n{\n    echo $data;\n\n    $script = \"enterprise/control/agent.php\";\n    $url = \"https://$host:$port/$script\";\n    $headers = array(\n    \"HTTP_AUTH_LOGIN: $login\",\n    \"HTTP_AUTH_PASSWD: $passwd\",\n    \"HTTP_PRETTY_PRINT: TRUE\",\n    \"Content-Type: text/xml\",\n    );\n\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, &amp;$headers);\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_WRITEFUNCTION, 'write_callback');\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);\n    curl_setopt($ch, CURLOPT_VERBOSE, 1);\n    $result = curl_exec($ch);\n\n    if (!$result) \n    {\n         echo \"\\n\\n-------------------------\\ncURL error number:\".curl_errno($ch);\n         echo \"\\n\\ncURL error:\".curl_error($ch);\n    }\n\n    curl_close($ch);\n    return;\n}\n</code></pre>\n"},{"tags":["php","api","soap","wsdl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13250841,"title":"PHP SOAP Request for 3PL Central","body":"<p>Can anyone guide me how to make a PHP SOAP request using 3PL Central API?</p>\n\n<p>I have 3PL KEY, Login, Password, and Facility ID. The files given by the client are WSDL file, a XML Request file, a XML Response file, and a C# example, which is not helping in anyway.</p>\n\n<p>I am newbie in SOAP... so, I guess... a link to a good tutorial about PHP and SOAP would also be appreciated.</p>\n\n<p>A bundle of thanx in advance for the help.</p>\n\n<p>Regards!</p>\n"},{"tags":["php","javascript","database"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":50,"score":-2,"question_id":13273244,"title":"Is there a script I can use to create multiple web pages? One for each day of the year?","body":"<p>I'm creating a website that displays different content each day of the year, and includes Social buttons to share the content. </p>\n\n<p>As the social buttons are sharing the <em>content</em> and not the <em>website</em>, I figured the easiest way to do this is to create 365 different webpages and make the index page load a different one each day - but obviously I don't want to create 365 different webpages if I can help it.</p>\n\n<p>I know very little PHP, but I noticed in the Wordpress install, there seems to be a way of actually creating pages on the server. Maybe I'm wrong, but if I'm not, surely it means my problem can be solved fairly simply?</p>\n\n<p>Any help is very much appreciated.</p>\n"},{"tags":["php","session","symfony-1.4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":13248557,"title":"PHP session in Symfony","body":"<p>I have been using a php script for generating captcha for a symfony form. As the form is html and not using symfony form class I am not able to use symfony plugins. Now the issue is I am setting a session in the captcha file and this is not accessible in symfony action file. How can I make accessible here..?</p>\n\n<p>I am using the following php captcha </p>\n\n<p><a href=\"http://www.w3schools.in/php-tutorial/php-captcha/\" rel=\"nofollow\">http://www.w3schools.in/php-tutorial/php-captcha/</a></p>\n"},{"tags":["php","arrays","loops","foreach"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13273133,"title":"Dynamically add arrays in PHP foreach loop","body":"<p>I am trying to add new arrays to an existing array dynamically from a database but my loop is only adding the last row from mysql_fetch_row. I think it is actually overwriting the same array.</p>\n\n<p><strong>PHP Code</strong></p>\n\n<pre><code>&lt;?php\n$con = require_once('./dbconnect.php');\n\nglobal $con;\nmysql_select_db(\"packages\", $con);\n$packages = mysql_query(\"SHOW TABLES FROM packages\");\n\nwhile($row = mysql_fetch_row($packages)){\n    $node = array();\n\n    foreach($row as $key2 =&gt; $value2){\n        $node[$row[0]] = array(\"Item1\" =&gt; \"Other dynamic Info here\");\n    }\n}\n\nprint_r($node);\n\nmysql_close($con);\n?&gt;\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>Array\n(\n    [Pack1] =&gt; Array\n        (\n            [Item1] =&gt; Other dynamic Info here\n        )\n\n)\n</code></pre>\n\n<p>It should be outputting:</p>\n\n<pre><code>Array\n(\n    [Pack1] =&gt; Array\n        (\n            [Item1] =&gt; Other dynamic Info here\n        )\n\n)\nArray\n(\n    [Pack2] =&gt; Array\n        (\n            [Item2] =&gt; Other dynamic Info here\n        )\n\n)\n</code></pre>\n\n<p><strong>I have been trying to get this foreach() loop to work for about a day now...what am i doing wrong?</strong></p>\n"},{"tags":["php","isp"],"answer_count":8,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":6256,"score":4,"question_id":855967,"title":"How do I retrieve the visitor's ISP through PHP?","body":"<p>How do I find out the ISP provider of a person viewing a PHP page?</p>\n\n<p>Is it possible to use PHP to track or reveal it?</p>\n\n<p>If I use something like the following:</p>\n\n<pre><code>gethostbyaddr($_SERVER['REMOTE_ADDR']);\n</code></pre>\n\n<p>it returns my IP address, not my host name or ISP.</p>\n"},{"tags":["php","frameworks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":578,"score":0,"question_id":4462273,"title":"How to use KLogger?","body":"<p><strong>Common handler i used</strong></p>\n\n<pre><code>&lt;?php\nfunction error_msg($err_type,$err_msg,$err_file,$err_line)\n{\n$fh=fopen(\"error/errorlog.txt\",\"a\");\n$date1=date(\"Y-m-d H:i:s\");\n$er=\"\n===============================================================================================================\n\".\"\nError: Type: \".$err_type.\"Message: \".$err_msg.\"ErrorFile: \".$err_file.\"Errorline: \".$err_line.\"Time: \".$date1.\n\"\n===============================================================================================================\n\";\nfwrite($fh,$er);\nfclose($fh);\n}\nset_error_handler(\"error_msg\");\n?&gt;\n</code></pre>\n\n<p>These codes Log error perfectly. Since i am using framework i cant use this codes. so i am using KLogger. KLogger perfectly logs my error but it also display error in front screen to user.    </p>\n\n<p><strong>How to log error using KLogger If any one use this KLogger Help me how to use with simple examples.</strong></p>\n"},{"tags":["php","nginx","phpmyadmin","ubuntu-12.04"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13273145,"title":"phpMyAdmin's links will not function after viewing a table's structure","body":"<p>When any user logs into phpMyAdmin to view/edit tables, navigates to any table, and views the structure, they can no longer click on any links to navigate to any other part of phpMyAdmin until they reload the page, or open a link in a new tab / page.</p>\n\n<p>The rest of the interface works without issue, as long as you do not try to view a tables structure. As soon as you view the tables structure, the links cease to work with a normal click.</p>\n\n<p>I have no idea where to even begin with this one, let me know what code samples or logs would be helpful.</p>\n\n<p>Configuration:</p>\n\n<p>Ubuntu 12.04 (fully updated)<br>\nnginx (from Ubuntu Repo)<br>\nmysql (from Ubuntu Repo)<br>\nphp5 and mysql extensions (from Ubuntu Repo)<br>\nphpMyAdmin (from GitHub Repo)</p>\n"},{"tags":["php","curl","header"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13272900,"title":"how to send header using php curl comand line","body":"<p>I am using curl to post xml to a webservice the code is below</p>\n\n<pre><code>exec(\"/usr/bin/curl -s -m 120 -d  \\\"$xml\\\" $URL -L\", $return_message_array, $return_number);\n</code></pre>\n\n<p>I want to add this customer header to it</p>\n\n<pre><code>$headers = array(            \n        \"Content-type: application/soap+xml; charset=utf-8\",\n        \"SOAPAction: http://loantree.com/webservices/InsertLead\",\n    );\n</code></pre>\n\n<p>I have tried</p>\n\n<pre><code>exec(\"/usr/bin/curl -s -m 120 -H $headers -d  \\\"$xml\\\" $URL -L\", $return_message_array, $return_number);\n</code></pre>\n\n<p>But that just returns the page am ring to post to.</p>\n\n<p>Any one know how i can achieve this</p>\n\n<p>thanks in advance</p>\n"},{"tags":["php","smarty"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13273071,"title":"complex php site debugging with smarty: some tips required","body":"<p>I am new to smarty.\nI have to add new features to a website that was written in smarty and using some quite farmework.</p>\n\n<ul>\n<li>What would be the good practise to debug it ? to add new features ?</li>\n<li>how to know what are the php files that I should modify ? (it looks liek dozens of INLCUDE files) </li>\n</ul>\n\n<p>Any good practises to mix php and smarty ?</p>\n\n<p>regards</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":79,"score":0,"question_id":13260499,"title":"Learning how to refactor PHP code","body":"<p>I'm using PHP 5.2.9 at the very moment. Is there a way to refactor this code this way it's easier to read and better organized?</p>\n\n<pre><code>  if ($is_read_only == true) {\n      echo ($affiliate['affiliate_gender'] == 'm') ? MALE : FEMALE;\n  } elseif ($error == true) {\n      if ($entry_gender_error == true) {\n            echo tep_draw_radio_field('a_gender', 'm', $male) . '&amp;nbsp;&amp;nbsp;' . MALE . '&amp;nbsp;&amp;nbsp;' . tep_draw_radio_field('a_gender', 'f', $female) . '&amp;nbsp;&amp;nbsp;' . FEMALE . '&amp;nbsp;' . ENTRY_GENDER_ERROR;\n      } else {\n            echo ($a_gender == 'm') ? MALE : FEMALE;\n            echo tep_draw_hidden_field('a_gender');\n      }\n  } else {\n      echo tep_draw_radio_field('a_gender', 'm', $male) . '&amp;nbsp;&amp;nbsp;' . MALE . '&amp;nbsp;&amp;nbsp;' . tep_draw_radio_field('a_gender', 'f', $female) . '&amp;nbsp;&amp;nbsp;' . FEMALE . '&amp;nbsp;' . ENTRY_GENDER_TEXT;\n  }\n</code></pre>\n"},{"tags":["php","apache","aborted"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13272981,"title":"Cannot declare self-referencing constant","body":"<p>I have an error during send request to my apache server and get an Aborted response. What's the problem? </p>\n\n<p>After restart apache code works well but some times stop the process and give Aborted and I must restart apache then.</p>\n\n<blockquote>\n  <p>[Tue Nov 06 08:19:46 2012] [error] [client 37.63.173.114] PHP Fatal error:  Cannot declare self-referencing constant '(null)' in /home/sweb/project/library/Zend/File/Transfer/Adapter/Abstract.php on line 339, referer: <a href=\"http://sweb.net/uploader/\" rel=\"nofollow\">http://sweb.net/uploader/</a></p>\n</blockquote>\n"},{"tags":["php","javascript","jquery-ajax","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":13215979,"title":"How can I grab data from more than one droppable element","body":"<p>In my script I'm experimenting with jquery draggable &amp; droppable, <a href=\"http://jsfiddle.net/Kxtvg/184/\" rel=\"nofollow\">See here</a>. I'm trying to grab the data (to eventually put in a database) from each draggable element that's dropped into the droppable div. Right now I have it so that I can only get the data from the div the was last dropped. </p>\n\n<pre><code>    $('#sortcard, #dropbox, #dropbox1').droppable({\n        accept: '.sorting',\n        hoverClass: 'border',\n        tolerance: 'touch',\n        drop: function(e, ui) {\n          $(this).append(ui.draggable.html() + '&lt;br/&gt;');\n          $(\"#add_friend\").show().fadeOut(12000);\n          $(e.target).droppable(\"disable\");\n          $(e.target).append(\"&lt;input type='button' name='Sub' value='clear'/&gt;\").click(function() {\n            $(this).empty().droppable(\"enable\");\n             });\n\n            var dropbox = $('#dropbox').html();\n            var dropbox1 = $('#dropbox1').html();\n\n            if(dropbox &amp;&amp; dropbox1 !== '') {\n                 $.post(\"account_main.php\", {data: $(this).text()}, function(data) {\n                    $('#demo').html(data);\n                });     \n             }\n          }\n      });\n</code></pre>\n\n<p>I'm thinking the culprit may be </p>\n\n<pre><code>{data: $(this).text()}, function(data) {\n    $('#demo').html(data);\n});     \n</code></pre>\n\n<p>I have toyed with it and still not getting the results I desire. I feel maybe my coding on this is sketchy and needs a makeover, but I just need some ideas to push me in the right direction to make it efficient and would be very appreciative as well of any tips.</p>\n"},{"tags":["php","memory"],"answer_count":5,"favorite_count":2,"up_vote_count":14,"down_vote_count":0,"view_count":6339,"score":14,"question_id":2192657,"title":"How to determine the memory footprint (size) of a variable?","body":"<p>Is there a function in PHP (or a PHP extension) to find out how much memory a given variable uses? <code>sizeof</code> just tells me the number of elements/properties.</p>\n\n<p>EDIT: <code>memory_get_usage</code> helps in that it gives me the memory size used by the <em>whole</em> script. Is there a way to do this for a single variable?</p>\n"},{"tags":["php","javascript","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13262826,"title":"How do you deal with ', single quote in person's names in php, javascript","body":"<p>I noticed that some of name entries, like O'Rourke or O'reilly breaks javascript in some cases. I wonder how you deal with it. I pull these names out of PHP/MYSQL and put them in javascript.</p>\n\n<p>Do you replace them before entering to database or after pulling out of database?</p>\n\n<p>Thanks in advance </p>\n\n<pre><code>google.load('visualization', '1', {packages:['table']});\n      google.setOnLoadCallback(drawTable);\n      function drawTable() {\n        var data = new google.visualization.DataTable();\n        data.addColumn('string', 'First Name');\n        data.addColumn('string', 'Last Name');\n        data.addColumn('string', 'email');\n        data.addColumn('string', 'Parent email 1');\n        data.addColumn('string', 'Parent email 2');\n        data.addColumn('string', 'Advisor');\n        data.addColumn('string', 'Active');\n        data.addColumn('string', 'Edit');\n        //data.addColumn('number', '');\n        data.addRows([\n     &lt;?php\n   if(count($items))\n   {\n        foreach($items as $item)\n        {\n            foreach($advisors as $key=&gt;$advisor)\n            {\n                if($item['advisor']==$advisor['id'])\n                {\n                    $ad=$advisor['last_name'];\n                }\n            }\n            $active_icon = ($item['active']=='1'?'tick':'cross');\n            $editlink = anchor('auth/admin/members/form/'.$item['id'],$this-&gt;bep_assets-&gt;icon('pencil'));\n            echo \"['\".$item['first_name'].\"', '\".$item['last_name'].\"', '\".$item['email']\n            .\"', '\".$item['parent_email1'].\"', '\".$item['parent_email2'].\"', '\".$ad.\"', '\".$this-&gt;bep_assets-&gt;icon($active_icon).\"','\".$editlink.\"'],\";\n        }\n   }\n\n    ?&gt;\n\n        ]);\n\n        var table = new google.visualization.Table(document.getElementById('table_div'));\n        table.draw(data, {showRowNumber: true, allowHtml:true});\n      }\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13272760,"title":"Do I have to loop over a mysqli-resultset if I know it's only one row?","body":"<p>I have a mysqli-resultset, which will only contain 1 row. I get the value like this at the moment:</p>\n\n<pre><code>$result = mysqli_query($link,$query)-&gt;fetch_array(MYSQLI_NUM);\n$result = $result[0];\n</code></pre>\n\n<p>Isn't there a more straight-forward way to do this?</p>\n"},{"tags":["php","sql","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":58,"score":0,"question_id":13272591,"title":"Can't fetch results of an SQL statement in PHP","body":"<p>i'm working on a search function in <strong>PHP</strong>, so i do want to be able to research any keyword in all database tables, but i can't fetch the result of the SQL statement which will do :</p>\n\n<pre><code>SELECT * FROM All_Tables\n</code></pre>\n\n<p>here's my code :</p>\n\n<pre><code>$getTables = $this-&gt;db-&gt;query(\"show tables\");\n$tmpString = '';\n\nwhile ($table_data = $getTables-&gt;fetch(PDO::FETCH_NUM))\n{\n    $tmpString.=$table_data[0].',';\n}\n\n$ALL_DATABASE_TABLES = substr($tmpString,0,strlen($tmpString)-1); //Remove the last ,\n\necho \" $ALL_DATABASE_TABLES \"; //  Works, it shows all database tables\n\n$query = \"SELECT * FROM $ALL_DATABASE_TABLES\" ; \n\n$stmt = $this-&gt;db-&gt;query($query) or die(print_r($this-&gt;db-&gt;errorInfo())) ;\n\necho \"Cool1\"; // Works\necho \"$ALL_DATABASE_TABLES \"; //Works\n\n// This Loop doesn't work-----------------------\nwhile ($row = $stmt-&gt;fetch(PDO::FETCH_NUM)) \n{\n    echo \"Cool2\"; // Doesn't work\n\n    echo \"$row[0]\" ; // Doesn't work\n}\n//----------------------------------------------\n\n$stmt-&gt;closeCursor();\n</code></pre>\n\n<p>Do you have any idea about that ? Thank you guys</p>\n"},{"tags":["php","sql-injection","sql-insert"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":47,"score":-2,"question_id":13272786,"title":"Is my script vulnerable to sql injections?","body":"<p>First thank you for reading my question.</p>\n\n<p>During this days, i saw that there are a lot of \"malicious\" url query running at my website,so i was afraid if my php script is vulnerable to sql injections.</p>\n\n<p>My url structure is: <a href=\"http://mywebsite.com/post.php?id=7573\" rel=\"nofollow\">http://mywebsite.com/post.php?id=7573</a>\nTo get all info i need from a post i use the post id from URL.</p>\n\n<p>To \"clear\" this ID i use this method:</p>\n\n<pre><code>$id = mysql_real_escape_string ($id);\n$safeID = intval(preg_replace(\"/[^0-9]/\", \"\", $id));\n$sql = \"SELECT * FROM web_content WHERE state = '1' AND ID = '$safeID'\";\n$res = mysql_query($sql) or die (mysql_error());\n$row = mysql_fetch_assoc($res);\n.........\n</code></pre>\n\n<p>Please i need to know if the safeID, that is sent to database, is really \"SAFE\".</p>\n\n<p>Thank you</p>\n"},{"tags":["php","cakephp","file-upload","cakephp-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":625,"score":2,"question_id":9637450,"title":"CakePHP multiple file upload field only uploading one image","body":"<p>I am trying to upload some files using the multiple upload file field. The POST information gets sent correctly and looks like this:</p>\n\n<pre><code>Array\n(\n    [Uploads] =&gt; Array\n        (\n            [photos] =&gt; Array\n                (\n                    [0] =&gt; Array\n                        (\n                            [name] =&gt; image - Copy - Copy.jpg\n                            [type] =&gt; image/jpeg\n                            [tmp_name] =&gt; /tmp/phpALAMwT\n                            [error] =&gt; 0\n                            [size] =&gt; 60892\n                        )\n\n                    [1] =&gt; Array\n                        (\n                            [name] =&gt; image - Copy.jpg\n                            [type] =&gt; image/jpeg\n                            [tmp_name] =&gt; /tmp/phpoIGtta\n                            [error] =&gt; 0\n                            [size] =&gt; 60892\n                        )\n\n                    [2] =&gt; Array\n                        (\n                            [name] =&gt; image.jpg\n                            [type] =&gt; image/jpeg\n                            [tmp_name] =&gt; /tmp/phpERTogu\n                            [error] =&gt; 0\n                            [size] =&gt; 60892\n                        )\n\n                )\n</code></pre>\n\n<p>And i loop through and insert each one into the database, then upload them using the ID from the database, like this:</p>\n\n<pre><code>// Upload Photos\nif (!empty($this-&gt;request-&gt;data['Uploads']['photos'][0]['tmp_name'])){\n\n    foreach($this-&gt;request-&gt;data['Uploads']['photos']as $photo){\n\n        $property_id = $this-&gt;request-&gt;data['Property']['ID'];\n        $file_name = $photo['name'];\n        $file_size = $photo['size'];\n        $file_ext = pathinfo($photo['name'], PATHINFO_EXTENSION);\n\n        // Save to DB\n        $this-&gt;Property-&gt;PropertyImage-&gt;save(array(\n            'PropertyImage' =&gt; array(\"Live\"=&gt;1, 'Number'=&gt;99, \"Type\"=&gt;'L', \"FileType\"=&gt;$file_ext, \"PropertyID\"=&gt;$property_id, 'Source'=&gt;$file_name, 'Size=&gt;'.$file_size)\n        ));\n\n        // Upload\n        $id = $this-&gt;Property-&gt;PropertyImage-&gt;getLastInsertID();\n        $path = intval($id/1000) . '/' . $id . '.' . $file_ext;\n        move_uploaded_file($photo['tmp_name'], $_SERVER['DOCUMENT_ROOT'].'/imgp/F/'.$path);\n\n    }\n}\n</code></pre>\n\n<p>But only one image gets put into the database and uploaded each time, cant work out why the look isn't working right.</p>\n\n<p>Any ideas? Thanks.</p>\n"},{"tags":["php","permutation"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13175257,"title":"Create fixed length non-repeating permutation of larger set","body":"<p>I know this topic is much discussed but I can't seem to find any implementation that fits my needs.</p>\n\n<p>I have the following set of characters:</p>\n\n<blockquote>\n  <p>a b c d e f g h</p>\n</blockquote>\n\n<p>I want to get all possible permutations or combinations (non repeating), <strong>but on a limited (variable) set of characters</strong>, meaning if I input the characters and the number <code>2</code>, the results should look like</p>\n\n<pre><code>ab ba ac ca ad da ae ea af fa ag ga ah ha\nbc cb bd db be eb bf fb bg gb bh hb\ncd dc ce ec cf fc cg gc ch hc\nde ed df fd dg gd dh hd\nef fe eg ge eh he\nfg gf fh hf\ngh hg\n</code></pre>\n\n<p>I hope you understand where I'm going with this. I currently have an implementation that gives me the permutations of <strong>all</strong> characters, but I can't wrap my head around how to implement a <strong>limited space</strong> for those permutations:</p>\n\n<pre><code>public function getPermutations($letters) {\n    if (strlen($letters) &lt; 2) {\n        return array($letters);\n    }\n\n    $permutations = array();\n    $tail = substr($letters, 1);\n\n    foreach ($this-&gt;getPermutations($tail) as $permutation) {\n        $length = strlen($permutation);\n\n        for ($i = 0; $i &lt;= $length; $i++) {\n            $permutations[] = substr($permutation, 0, $i) . $letters[0] . substr($permutation, $i);\n        }\n    }\n\n    return $permutations;\n}\n</code></pre>\n"},{"tags":["php","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13252533,"title":"What regular expression in PHP can handle backslash of internal double quotes?","body":"<p>I have data that looks literally like this:</p>\n\n<pre><code>\"manager1\": \"Richard \"Dick\" Smith, MD, MBA\",\n</code></pre>\n\n<p>But it needs to look literally like this for it to work with JSON:</p>\n\n<pre><code>\"manager1\": \"Richard \\\"Dick\\\" Smith, MD, MBA\",\n</code></pre>\n\n<p>Note: The difference are backslashes only for the internal double-quotes of the nickname of Dick, while leaving the rest of the string without changes.</p>\n\n<p>I'm having trouble dealing with the credentials (MD, MBA) separated by commas. How can this be done in PHP with regular expressions while only backslashing the internal double-quotes while preserving the rest of the string? Thanks!</p>\n\n<p>This is not a duplicate of \n<a href=\"http://stackoverflow.com/questions/13236819/how-to-fix-badly-formatted-json-in-php\">How to fix badly formatted JSON in PHP?</a> \nbecause that routine can't handle the additional commas from the credentials. </p>\n"},{"tags":["php","debugging","yii"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13252681,"title":"Tracing a PHP \"out of memory\" error","body":"<p>I'm building an application with the Yii framework and am trying to determine the cause of an out of memory error.  Is it possible to get a stack trace?  I've tried doing something like... </p>\n\n<pre><code>function handleShutdown() {\n    debug_print_backtrace();\n    $error = error_get_last();\n    $info = \"[SHUTDOWN] file:\".$error['file'].\" | ln:\".$error['line'].\" | msg:\".$error['message'] .PHP_EOL;\n    echo $info;\n}\nregister_shutdown_function('handleShutdown');\n</code></pre>\n\n<p>But the debug_print_backtrace() doesn't show anything but </p>\n\n<pre><code>#0 handleShutdown()\n[SHUTDOWN] file:C:\\Users\\bkuhl\\htdocs\\instaLabel\\yii-1.1.12\\base\\CModule.php | ln:530 | msg:Allowed memory size of 67108864 bytes exhausted (tried to allocate 65488 bytes)\n</code></pre>\n\n<p>I've checked CModule.php and there's no line number 530 in that file.  It only goes to 518.</p>\n"},{"tags":["php","apache","codeigniter","https","nginx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13271137,"title":"Codeigniter on Nginx generates https action for form, but not Apache","body":"<p>I have a Codeigniter app with a login form. I ran it both on Apache and Nginx. On Apache, everything works fine, and the form action is normal. But on Nginx, the form action uses <code>https</code> instead of <code>http</code>(which I don't want at the moment).</p>\n\n<p>I generate the form using this:</p>\n\n<pre><code>&lt;?php echo form_open(site_url('/user/do_login')); ?&gt;\n</code></pre>\n\n<p>and it produces this:</p>\n\n<pre><code>&lt;form action=\"https://example.com/index.php/user/do_login\" method=\"post\" accept-charset=\"utf-8\"&gt;\n</code></pre>\n\n<p>How can I force it to generate <code>http</code> instead of <code>https</code> on Nginx?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":49,"score":-1,"question_id":13272513,"title":"PHP link only passing part of a mysql result","body":"<p>OK i have a php link which is made up of several variables</p>\n\n<pre><code>&lt;a href=\\year.php? manufacturer='.$manufacturer.'&amp;fuel_type='.$fuel_type.'&amp;model_type='.$model_type.'&gt;'.$model_type.'&lt;/a&gt;\n</code></pre>\n\n<p>The whole code is really long as it has a lot of pagination, so i will just include the basic query and the loop part.</p>\n\n<pre><code>$query1 = \"SELECT Distinct model_type from $tableName where manufacturer='$manufacturer' AND fuel='$fuel_type' LIMIT $start, $limit\";\n$result = mysql_query($query1);\n</code></pre>\n\n<p>And then the bottom part where i get and show the results.</p>\n\n<pre><code> $count = 0;\n $max = 2;\n while($row = mysql_fetch_array($result))\n    {\n$model_type = $row['model_type'];               \n$count++;\necho '&lt;td class=\"manu\"&gt;&lt;div align=\"center\"&gt;'.'&lt;a href=\\year.php?    manufacturer='.$manufacturer.'&amp;fuel_type='.$fuel_type.'&amp;model_type='.$model_type.'&gt;'.$model_type.'&lt;/a&gt;'.'&lt;/div&gt;&lt;/td&gt;';\n\n if($count &gt;= $max){\n  //reset counter\n   $count = 0;\n  //end and restart\n  echo '&lt;/tr&gt;&lt;tr&gt;';\n  }\n\n  }\n</code></pre>\n\n<p>now this works fine except when i take the mode type variable from the database it shows as 1 series, however when it is passed in this link it only gets the 1 and doesn't pick up the series.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","json"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13271354,"title":"How to correct an invalid JSON in php?","body":"<p>I have a problem.\nFor a mistake I have a lot of not valid JSON strings like this:</p>\n\n<pre><code>{\n    \"d\": {\n        \"results\": [\n            {\n                \"__metadata\": {\n                    \"uri\": \"https://api.datamarket.azure.com/Data.ashx/Bing/Search/Web?Query=u0027non supporting iframesu0027&amp;Market=u0027it-ITu0027&amp;Adult=u0027Offu0027&amp;Options=u0027DisableLocationDetectionu0027&amp;WebSearchOptions=u0027DisableQueryAlterationsu0027&amp;$skip=0&amp;$top=1\",\n                    \"type\": \"WebResult\"\n                },\n                \"ID\": \"7858fc9f-6bd5-4102-a835-0fa89e9f992a\",\n                \"Title\": \"something good\",\n                \"Description\": \"something \"WRONG\" here!\",\n                \"DisplayUrl\": \"www.devx.com/Java/Article/27685/1954\",\n                \"Url\": \"http://www.devx.com/Java/Article/27685/1954\"\n            }\n        ],\n        \"__next\": \"https://api.datamarket.azure.com/Data.ashx/Bing/Search/Web?Query=u0027non%20supporting%20iframesu0027&amp;Market=u0027it-ITu0027&amp;Adult=u0027Offu0027&amp;Options=u0027DisableLocationDetectionu0027&amp;WebSearchOptions=u0027DisableQueryAlterationsu0027&amp;$skip=50\"\n    }\n}\n</code></pre>\n\n<p>As you can see the field Description contains a bad string (\" into \"), so I'm not able to parse the json using php's json_decode, infact it returns NULL.\nI've 1 million of wrong json, much more big than this (10 times).\nHow can I do in php?</p>\n"},{"tags":["php","mysql","sql"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":57,"score":1,"question_id":13270945,"title":"MySql multiple queries or temporary table?","body":"<p>I need help from a SQL guru here...</p>\n\n<p>I have data in the following format:</p>\n\n<pre><code>Key  Value\n100  A\n100  B\n300  A\n400  B\n500  A\n500  B\n500  C\n600  B\n600  W\n</code></pre>\n\n<p>If I want to find all keys with A or B and A and B, but not AB with anything else...how would I do this?  Would I need a temp table or can I somehow join the table to itself?</p>\n\n<p>EDIT:  The desired output would be Key 100 since it has A &amp; B, Key 300 since it has A, Key 400 since it has B.  Not Key 500 because it also contains a C, and not key 600 because it also contains a W</p>\n"},{"tags":["php","google","login","calendar","autologin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":12,"score":-1,"question_id":13272706,"title":"Google account auto login","body":"<p>Ok so i have been through endless pages of documentation all over the internet for the past few days and looked right through the </p>\n\n<p><a href=\"https://developers.google.com/accounts/docs/OpenID?hl=en-US\" rel=\"nofollow\">https://developers.google.com/accounts/docs/OpenID?hl=en-US</a></p>\n\n<p>and I cant find what I need.  Either I don't understand what Google is going on about or I've just completely missed the point.</p>\n\n<p>Basically my site has a Google calender.  Many different users can log into my site and see the calender but I need them all to be able to add to the calender.  </p>\n\n<p>Now its not a problem if they all use the same Google account to do it but what they have asked for is that they click a button and it automatically logs them into a certain account and opens the Google calender index page without the need for inputting credentials.</p>\n\n<p>I found a example which sends your username and password to Google's login page with a hidden field with a value ac which meant calender but I didn't save it at the time and have never been able to find it since.</p>\n\n<p>Does anyone know of a solution to my problem or even another way to implement it.  </p>\n"},{"tags":["php","mysql","database","cart","shopping"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13272617,"title":"Php code for shopping cart with pricing by weight or quantity","body":"<p>i'm building a shopping cart that selects items from a list which is pulled from the database. As the cashier selects the item, they can indicate the quantity and weight and discount if any. Some items are priced by weight whilst the others by quantity. The cart should loop all these criterias and instantly list the items in the cart, computes the total with discounts and tax. Can someone help me with this code to make it be able to calculate the pricing correctly depending on what is priced by weight or quantity and displays it in the cart also.</p>\n\n<p>Currently, I was trying to use an if statement in the for loop. Then I calculate the price and store it in a table and then fetch the value from the table and display in the cart. But the displayed value is not up to date and the calculations are mixed up sometimes.</p>\n\n<p>Code:</p>\n\n<p><pre></p>\n\n<code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=windows-1252\"&gt;\n&lt;title&gt;Customer Purchases&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;?php\n$time = time();\n\n  // Check if there is a cookie, if there isn't then redirect to login screen\n  if (!isset($_COOKIE['cookie_info'])) {\n      include (\"index.htm\");\n      exit;\n  }\n\n  // If there is a cookie, validate the cookie\n  else {\n\n      // Use Connect Script\n      include(\"connect.php\");\n\n      // Include the validation of user file\n      include(\"validateuser.php\");\n\n      // If user and password are correct\n      if (validateuser() == true) {\n\n          // Header\n          include(\"header.php\");\n          login();\n\n          // Use cookie and Extract the cookie data (Username and Password)\n          $cookie_info = explode(\"-\", $_COOKIE['cookie_info']);\n          $namecookie = $cookie_info[0];\n          $passcookie = $cookie_info[1];\n\n          // Get username from Database and it in a variable\n          $query = mysql_query(\"SELECT * FROM userdata WHERE userid = '$namecookie'\");\n          $nameuser = mysql_result($query,0,13);\n\n  // Check the level of the user\n  $checklevel = mysql_query(\"SELECT * FROM userdata WHERE userid = '$namecookie'\");\n  $checklevel1 = mysql_result($checklevel,0,14);\n\n  // If the user is staff\n  if (($checklevel1 == 2)||($checklevel1 == 1)) {\n\n          echo \"&lt;b&gt;&lt;center&gt;&lt;font face='Verdana'&gt;Customer Purchases&lt;/font&gt;&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;\";\n?&gt;\n\n&lt;body&gt;\n&lt;form action=\"customerpurchases.php\" method=\"POST\"&gt;\n&lt;table border=\"0\"  id=\"table1\" height=\"145\"&gt;\n        &lt;tr&gt;\n                &lt;td width=\"268\" height=\"33\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"33\"&gt; &lt;font face=\"Verdana\"&gt;ITEM ID:&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"187\" height=\"33\"&gt;\n                &lt;select size=\"1\" name=\"itemid\"&gt;\n&lt;?php\n  // Get all the items from the database and allow user to choose one\n  $items = mysql_query(\"SELECT * FROM items\");\n  $items1 = mysql_num_rows($items);\n  for ($x = 0; $x &lt; $items1; $x++) {\n          $itemid1= mysql_result($items,$x,0);\n?&gt;\n           &lt;option&gt;&lt;?php echo \"$itemid1\"; ?&gt; &lt;/option&gt;\n&lt;?php\n  }\n?&gt;\n                &lt;/select&gt; \n                &lt;/td&gt;\n\n                &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Quantity:&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"quantity\" value=\"1\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n         &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Weight (lb):&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"weight\" value=\"1\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Discount($):&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"discount\" value=\"\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;&lt;input type=\"hidden\" name=\"tax\" value=\"0\"/&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\" height=\"47\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"47\"&gt; &amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"47\" width=\"157\"&gt;\n &lt;input type=\"submit\" value=\"Add Item\"&gt;\n &lt;input type=\"reset\" value=\"Reset\"&gt;&lt;/form&gt; &lt;/tr&gt;\n                &lt;td height=\"47\" width=\"450\"&gt;\n                        &lt;form action=\"customerpurchases_processtransaction.php\" method=\"POST\"&gt;\n                        &lt;input type=\"submit\" value=\"Checkout\"/&gt;&lt;/form&gt;&lt;/td&gt;\n\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\" height=\"28\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"28\"&gt; &amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"28\" width=\"157\"&gt;\n                &lt;/form&gt;\n                &lt;/tr&gt;\n                &lt;td height=\"28\" width=\"450\"&gt;\n &lt;/td&gt;\n        &lt;/p&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;?php\n\n  $itemid = $_POST[\"itemid\"];\n  $quantity = $_POST[\"quantity\"];\n  $weight2 = $_POST[\"weight\"];\n  $discount = $_POST[\"discount\"];\n  $tax= $_POST[\"tax\"];\n\n  // Check that item exists in database\n  $checkitem = mysql_query(\"SELECT * FROM items WHERE itemno = '$itemid'\");\n  $checkitem1 = mysql_num_rows($checkitem);\n\n  // If there is no such item as the one typed in\n  if ($checkitem1 == 0) {\n\n      // If something was actually typing in the itemid\n      if ($itemid{1}) {\n          echo \"&lt;font face='Verdana' size='3'&gt;&lt;center&gt;No such item as $itemid&lt;BR&gt;&lt;BR&gt;\";\n      }\n  }\n\n  else {\n\n      $data = file('temp.txt'); // read the file\n\n      // If there is something in the file then use the number in the file as\n      // the table number and add the item there\n      if ($data[0]) {\n\n          // Check if the item is already in the table\n          $checkifitemexists = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n          $checkifitemexists1 = mysql_num_rows($checkifitemexists);\n\n          // If item is already in the table then add this quantity to the previous quantity\n          if ($checkifitemexists1 &gt;= 1) {\n              $oldquantity = mysql_result($checkifitemexists,0,1);\n              $newquantity = $oldquantity + $quantity;\n\n              $oldquantity11 = mysql_result($checkifitemexists,0,2);\n              $newquantity22 = $oldquantity11 + $weight2;\n\n              $oldquantity111 = mysql_result($checkifitemexists,0,3);\n              $newquantity222 = $oldquantity111 + $discount;\n\n              $oldquantity1111 = mysql_result($checkifitemexists,0,4);\n              $newquantity2222 = $oldquantity1111 + $tax;\n\n              mysql_query(\"UPDATE temp$data[0] SET quantity = '$newquantity', weight2= '$newquantity22', discount2 = '$newquantity222', tax = '$newquantity2222' WHERE itemid = '$itemid'\");\n              echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item updated: $itemid&lt;br&gt;Quantity added: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n          }\n\n          // Else insert the item into the table\n          else {\n\n\n\n\n\n\n\n\n              mysql_query(\"INSERT INTO temp$data[0] VALUES ('$itemid','$quantity','$weight2', '$discount', '$tax','0')\");\n              echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item inserted: $itemid&lt;br&gt;Quantity: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n          }\n      }\n\n      // Make a temporary table\n      else {\n\n\n\n\n\n\n      // Make a temporary table and find if there is a temp table with the same\n      // name as we are about to name it\n      for ($x = 1; $x &lt; 1000000; $x++) {\n          if (mysql_query(\"SELECT * FROM temp$x\")) {\n              $temptabledone = 0;\n          }\n          else {\n              $temptabledone = 1;\n              break;\n          }\n      }\n\n      // Check if there is a temp table done\n      if ($temptabledone == 1) {\n          mysql_query(\"CREATE TABLE temp$x (itemid VARCHAR (50), quantity INT (10), weight2 FLOAT, discount2 FLOAT, tax FLOAT, cost FLOAT)\");\n\n          // Add the temp table number to a new file\n          $filename =\"temp.txt\";\n          $handle= fopen($filename,'a');\n          $string = \"$x\";\n          fputs($handle, $string);\n          fclose($handle);\n\n          $temptabledone = 2;\n      }\n\n      // Else print a error message\n      else {\n          echo \"An error occurred.\";\n      }\n\n      // Add the item and quantity to the Temp table\n      if ($temptabledone == 2) {\n\n\n\n\n\n\n\n\n\n     // $weight2 = $weight * $quantity;\n          mysql_query(\"INSERT INTO temp$x VALUES ('$itemid','$quantity','$weight2','$discount2', '$tax', '0')\");\n          echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item inserted: $itemid&lt;br&gt;Quantity: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n\n      }\n\n      // Print the number of items in the temp table\n      $countitem = mysql_query(\"SELECT * FROM temp$x\");\n      $countitem1 = mysql_num_rows($countitem);\n\n      }\n  }\n\n  /* Print the items in the table */\n\n  $data = file('temp.txt'); // read the file\n\n  // If there is a number in the file then use that as the temp table number\n  if ($data[0]) {\n\n      // Print the items in the temp table\n      $countitem = mysql_query(\"SELECT * FROM temp$data[0]\");\n      $countitem1 = mysql_num_rows($countitem);\n      echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;There are $countitem1 items in the cart&lt;br&gt;&lt;br&gt;\";\n      echo \"\n      &lt;div align='center'&gt;\n        &lt;table border='1' id='table2' width='100%' cellspacing='0'&gt;\n                &lt;tr&gt;\n                        &lt;td width='106' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Item ID&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='348' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Description&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='92' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Quantity&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='92' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Weight&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Item Price&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Stock after Sale&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Weight after Sale&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Discount&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Price&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Tax&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Remove?&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                &lt;/tr&gt;\";\n\n      $fullcost = 0;\n\n      // Loop for all the times already in the temptable and print them out\n      for ($y = 0; $y &lt; $countitem1; $y++) {\n          for ($z = 0; $z &lt; 2; $z++) {\n              $query = mysql_query(\"SELECT * FROM temp$data[0]\");\n              $itemandquantity = mysql_result($query,$y,$z);\n             // $itemandweight = mysql_result($query,$y,$z);\n              //$query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n\n              if ($z == 0) {\n\n                  echo \"&lt;tr&gt;&lt;td width='106' align='center'&gt;&lt;font face='Verdana' size='3'&gt;$itemandquantity&lt;/font&gt;&lt;/td&gt;\";\n                  $theitemid = $itemandquantity;\n                  $itemdes = mysql_query(\"SELECT * FROM items WHERE itemno = '$itemandquantity'\");\n                  $itemdes1 = mysql_result($itemdes,0,1);\n                  echo \"&lt;td width='348' align='center'&gt;&lt;font face='Verdana'&gt;$itemdes1&lt;/font&gt;&lt;/td&gt;\";\n\n                 // $query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n              }\n\n              else {\n                  echo \"&lt;td width='92' align='center'&gt;&lt;font face='Verdana'&gt;$itemandquantity&lt;/font&gt;&lt;/td&gt;\";\n\n                  // \n                  $query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n                   $weightnn= mysql_result($query,0,2);\n\n                   // $ddvvq = mysql_result($query,$y,5);\n\n\n                  // echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$newquantity22 &lt;/font&gt;&lt;/td&gt;\";\n                  echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$weightnn&lt;/font&gt;&lt;/td&gt;\";\n\n                  $itemprice1 = mysql_result($itemdes,0,3);\n                  echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$$itemprice1&lt;/font&gt;&lt;/td&gt;\";\n\n                  // Check the stock and print either low, medium or high\n                  $checkstock = mysql_result($itemdes,0,2);\n                  if ($checkstock == 0) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Out of Stock($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt;= 1 &amp;&amp; $checkstock &lt;= 5) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Low($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt;= 6 &amp;&amp; $checkstock &lt;= 20) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Medium($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt; 20) {\n\n                    $ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;High($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n\n\n\n                   $checkweight = mysql_result($itemdes,0,4);\n                  if ($checkweight == 0) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Out of Stock($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt;= 1 &amp;&amp; $checkstock &lt;= 5) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Low($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt;= 6 &amp;&amp; $checkweight &lt;= 20) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Medium($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt; 20) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;High($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n\n                  $ddc = mysql_result($query,0,3);\n                  // $dcost= mysql_result($query,$y,5);\n\n                   $query2 = mysql_query(\"SELECT SUM(discount2) FROM temp$data[0] \");\n                   $rowc = mysql_fetch_array($query2);\n                   $ddvv = $rowc[0];\n\n                    echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$ddc&lt;/font&gt;&lt;/td&gt;\";\n\n        //$itemid = $_POST[\"itemid\"];         \n\n                   if (($_POST['itemid']=='Small Fish Soup')) {\n\n\n                  $cal = $weightnn;\n\n\n\n\n                  }\n\n\nelse \n\n        {\n                  $cal = $itemandquantity;          \n\n\n\n                  }\n\n\n\n                  $totalprice = $itemprice1*$cal;\n\n                  $bnm = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n\n              $cost = mysql_result($bnm,0,5);\n              $cow = $cost + $totalprice ;\n\n\n\n                   mysql_query(\"UPDATE temp$data[0] SET cost = '$cow' WHERE itemid = '$itemid'\");\n\n                    echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$cow&lt;/font&gt;&lt;/td&gt;\";\n\n                       $fullcost = $fullcost + $totalprice;\n                 $fullcost2 = $fullcost-$ddvv;\n                  $fulltax = 0.175*($fullcost2);\n                  $finalcost = $fulltax + $fullcost2;\n\n              $tax1 = ($totalprice-$ddc)*0.175;\n\n\n\n\n              $dcost= mysql_result($query,0,5);\n\n\n\n\n                  mysql_query(\"UPDATE temp$data[0] SET tax = '$tax1' WHERE itemid = '$itemid'\");\n\n                  echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$tax1&lt;/font&gt;&lt;/td&gt;\";\n\n                  echo \"&lt;td width='91' align='center'&gt;&lt;font face='Verdana'&gt;\n                  &lt;a href='customerpurchases_removeitem.php?itemid=$theitemid'&gt;Remove&lt;/a&gt;\n                  &lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;\";     \n\n\n              }\n          }\n\n\n      }\n\n\n\n      echo \"&lt;/table&gt;&lt;/div&gt;\";\n\n      // Print the total of all the items\n      echo \"&lt;div align='center'&gt;\n        &lt;table border='1' id='table3' width='100%' cellspacing='0'&gt;\n\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Cost:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$fullcost&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Discount:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$ddvv&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Tax:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$fulltax&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='579' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Grand Total:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$finalcost&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='71' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;/table&gt;\n      &lt;/div&gt;\";\n  }\n  }\n\n      // If user and password are not correct print error message\n      }\n      else {\n          echo \"Incorrect username/password\";\n          exit;\n      }\n  }\n?&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["php","javascript","jquery","image","resize"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13271290,"title":"Uploadify: Defining maximum image width and height","body":"<p>I want to restrict the maximum width and/or height of an uploaded image (jpg, png, gif, bmp, ...). How can this be done with Uploadify?</p>\n\n<p>I can think of two general possibilities:</p>\n\n<ul>\n<li>check the image size before upload and output an error</li>\n<li>resize image after upload</li>\n</ul>\n\n<p>How have you done this with uploadify?</p>\n\n<p>The only way now I can think of is to extend the code in <code>uploadify.php</code> and resize the image afterwards. The problem here is that different images should have different image size limits ...</p>\n"}]}
{"total":298830,"page":12,"pagesize":100,"questions":[{"tags":["php","tdd","phpunit","pear"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13269136,"title":"command not found error while running php test code in command prompt","body":"<p>I followed the site <a href=\"http://elentok.blogspot.com/2011/10/install-phpunit-on-wampserver.html\" rel=\"nofollow\">http://elentok.blogspot.com/2011/10/install-phpunit-on-wampserver.html</a> for installing PHPUnit framework for unit testing in PHP. I have downloaded both pear and PHPUnit. I have installed both of them by following the steps described in above website. That worked also. but at last, i tried to run the php program:::</p>\n\n<pre><code>class MyTest extends PHPUnit_Framework_TestCase\n{\n    public function testOneEqualsOne()\n    {\n      $this-&gt;assertEquals(1, 1);\n    }\n}\n</code></pre>\n\n<p>-> I typed the command phpunit Mytest.php in command prompt, but doesn't run. And showed the error phpunit is not recognized as internal or external command,operable program or batch file. I have tried it on c:\\wampp\\www\\myproject> . How to run this code and use PHPUnit testing framework properly? Is there anything wrong in installation? I have installed PHPUnit on wampp server. If I am wrong, please help me for installing PHPUnit and using it properly. My system is Windows 07 64-bit, and I am using wampp server.</p>\n"},{"tags":["php","apache2","vhosts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13272360,"title":"file-exists check for php's auto_prepend_file","body":"<p>I currently have the situation that in my <code>vhost.conf</code> i have an entry to automatically include a file to start profiling:</p>\n\n<pre><code>php_value auto_prepend_file /home/xhprof/include/xhprof.php\n</code></pre>\n\n<p>This thing is in SVN and might be checked out by people who don't have xhprof installed on their system. The consequence is, that <code>xhprof.php</code> is not found and PHP throws an error. </p>\n\n<p>Does anybody know, if there's a possibility to check, if this file is there, before including?</p>\n\n<p>thx in advance :)</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13272347,"title":"SQL select rows only once","body":"<p>I have table <code>pro</code> like this :</p>\n\n<pre><code>id    category   details\n1         f        weqweq\n2         m        dqweq\n3         f        xcxzc\n4         m        eqweqw\n5         f        asweq\n6         c        xzsda\n</code></pre>\n\n<p>Now if i try something like :</p>\n\n<pre><code>SELECT DISTINCT category FROM pro\n</code></pre>\n\n<p>i get only <code>m</code> and <code>c</code> </p>\n\n<p>if i try :</p>\n\n<pre><code>  SELECT category FROM pro GROUP BY category\n</code></pre>\n\n<p>i get only <code>f</code> and <code>c</code></p>\n\n<p>How i can query to get all <code>m,f,c</code> only once?!</p>\n"},{"tags":["php","editor","tinymce"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":37,"score":3,"question_id":13230707,"title":"Tiny MCE how to get a tag properties?","body":"<p>I'm using TinyMCE for text formatting. I have HTML code like:</p>\n\n<pre><code>&lt;span class=\"ps_bonus_text_wide_t\" style=\"font-family: Michroma;\"&gt;\nmy text\n&lt;/span&gt;\n</code></pre>\n\n<p>When I select that text and <code>class=\"ps_bonus_text_wide_t\"</code> i need to change it to</p>\n\n<pre><code>&lt;div class=\"effect\"&gt;\n&lt;span class=\"ps_bonus_text_wide_t\" style=\"font-family: Michroma;\"&gt;\nmy text\n&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How can I verify <code>class=\"ps_bonus_text_wide_t\"</code> ?</p>\n\n<p>My plugin code is:</p>\n\n<pre><code>// Creates a new plugin class and a custom listbox\ntinymce.create('tinymce.plugins.fonteffect', {\n    createControl: function(n, cm) {\n        switch (n) {\n            case 'fonteffect':\n                var mlb = cm.createListBox('fonteffect', {\n                     title : 'Font effects',\n                     onselect : function(v) {\n                        // n.selection.setContent(v);                            \n                         var ed=this.control_manager.editor;\n                        ed.focus();\n//to do something here\n\n                     }\n                });\n\n                // Add some values to the list box\n                mlb.add('anaglyph', 'anaglyph');\n                mlb.add('brick-sign', 'brick-sign');\n                mlb.add('canvas-print', 'canvas-print');\n                mlb.add('crackle', 'crackle');\n                mlb.add('decaying', 'decaying');\n                mlb.add('destruction', 'destruction');                  \n                // Return the new listbox instance\n                return mlb;\n        }\n\n        return null;\n    }\n});\n</code></pre>\n"},{"tags":["php","javascript","google-analytics","domdocument"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13272250,"title":"JS, PHP Dynamic Content and Google Crawlers","body":"<p>I have a series of about 25 static sites I created that share the same info and was having to change inane bits of copy here and there so i wrote this javascript so all the sites pulled the content from one location. (shortened to one example)</p>\n\n<pre><code>var dataLoc = \"&lt;?=$resourceLocation?&gt;\";\n$(\"#listOne\").load(dataLoc+\"resources.html #listTypes\");\n</code></pre>\n\n<p>When the page loads, it will find the div id listOne then replace it with the contents of the div in the file resources.html and only the contents of the div labeled listTypes there. </p>\n\n<p>My Question: Google is not crawling this dynamic content at all, I am told Google will crawl dynamically imported information so what i'm curious to find out is <strong>what it is that i am currently doing that needs to be improved?</strong></p>\n\n<p>I assumed js just was skipped by the google spider so i used PHP to access the same HTML file used before and it is working slightly, but it's not working how i need it. This will return the text, but i need the markup as well, the <code>&lt;li&gt;, &lt;p&gt;&lt;img&gt;</code> tags, and so on. Perhaps i could tweak this? (i am not a developer so I have just tried a few dozen things i read in the PHP online help and this is as close as i got) </p>\n\n<pre><code>function parseContents($divID)\n    {\n\n\n    $page = file_get_contents('content/resources.html');\n    $doc = new DOMDocument();\n\n    @$doc-&gt;loadHTML($page);\n    $divs = $doc-&gt;getElementsByTagName('div');\n\n    foreach($divs as $div) \n        {\n        if ($div-&gt;getAttribute('id') === $divID) \n            {\n            echo $div-&gt;nodeValue;\n            }\n        }\n\n\n    }\n\nparseContents('listOfStuff');\n</code></pre>\n\n<p>Thanks for your help in understanding this a little better, let me know if I need to explain it any better :)</p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13272096,"title":"Sending $data Variable From Model To View","body":"<p>Okay, so I have this snippet of code in a controller. However, it's all DB driven and should really be in model - I get that. However, as you can see in the IF statement, I need to pass along $data to my view. Based on the outcome. I tried pasting this chuck of coding in a method in my model (calling the model method via controller), however the $data[update_prompt] string is not getting called by the view...</p>\n\n<p>How would I translate this code into a model - sending the $data values back to my controller to embed in my view?</p>\n\n<pre><code>    // show appropriate upgrade message if user has free account\n\n    $id = $this-&gt;session-&gt;userdata('user_id'); \n\n    $this-&gt;db-&gt;select('subscription'); // select the subscription column\n    $this-&gt;db-&gt;where('id', $id); //find id in table that matches session id\n    $query = $this-&gt;db-&gt;get(\"subscriptions\"); // connect to this database\n    $subscribe = $query-&gt;result_array(); //returns the result of the above\n\n    if($subscribe[0]['subscription'] == 'freebie') // if subscription column equals 'freebie' in the $subscribe array, do this:\n    {\n        $data['update_prompt'] = $this -&gt; load -&gt; view('shared/upgrade_subscription', '', TRUE); // adds view within view, $update_prompt\n    }\n    else \n    {\n        $data['update_prompt'] = '';\n    }\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13272252,"title":"why does this search of a mysql database produce no results? Using LIKE for the first time","body":"<p>Editing someone else's code here, so I can't change the field in the database called <code>title</code> or change to MySQLi etc :/</p>\n\n<p>The code connects to the DB without problems, but always pulls in zero results.</p>\n\n<pre><code>$strSQL = \"SELECT * FROM newproducts WHERE 'title' LIKE ('%$q%')\";\n$sql = mysql_query($strSQL) or die(mysql_error());\n$num_rows = mysql_num_rows($sql);\n\nif ( $q == '' ) {\n    echo '&lt;p class=\"black-text\"&gt;Please provide a search term.&lt;/p&gt;';\n}\n\nelse if ( $num_rows &lt;= 0 ) {\n    echo '&lt;p class=\"black-text\"&gt;Your search for &lt;b&gt;'.$q.'&lt;/b&gt; returned &lt;b&gt;0&lt;/b&gt; results.&lt;/p&gt;';\n}\n\nelse { \n\n    echo '&lt;p class=\"black-text\"&gt;Your search for &lt;b&gt;'.$q.'&lt;/b&gt; returned &lt;b&gt;'.$num_rows.'&lt;/b&gt; result(s).&lt;br/&gt;&lt;br/&gt;';  \n    while($row = mysql_fetch_assoc($sql)) {\n        echo '- '.$row['title'].' &lt;a href=\"'.$row['link'].'.html\" class=\"search-link\"&gt;[Read more]&lt;/a&gt;&lt;br/&gt;';\n    }\n    echo '&lt;/p&gt;';\n}\n</code></pre>\n\n<p>Could it be a case issue? I've tried searching for lower and upper strings, but still zero results.</p>\n"},{"tags":["php","querypath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13271336,"title":"Querypath Extract Elements from Table","body":"<p>I'm using Querypath to extract name and location information from a table. I've been able to extract the table itself using innerhtml() but now I'm trying to gather the text into variables. Here's my code:</p>\n\n<pre><code>$searchpage = my_curl($mypage);\n$searchqp = htmlqp($searchpage,'body');\n$storeinfo = $searchqp-&gt;branch()-&gt;find('table[class=\"kwrestuls_table\"]');\n$storename = $storeinfo-&gt;innerhtml();\nreturn $storename;\n</code></pre>\n\n<p>This gives me the core information that I need. Now I need to grab the store name. I've tried using:</p>\n\n<pre><code>$storeinfo = $searchqp-&gt;branch()-&gt;find('table[class=\"kwrestuls_table\"]');\n$storestuff = $storeinfo-&gt;innerhtml();\n$storename = $storestuff-&gt;top('a[href]')-&gt;attr('href')-&gt;text();\nreturn $storename;\n</code></pre>\n\n<p>But this isn't returning anything. Unfortunately I'm on a shared host and I can't see errors but I suspect QueryPath is throwing one.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13272206,"title":"PHP Session Cookie Not Being Cleared On Browser Close","body":"<p>The following occurs on Chrome, but works perfectly on IE.</p>\n\n<p>a.php</p>\n\n<pre><code>&lt;?php\nsession_start();\n$_SESSION['name1'] = 'value1';\n</code></pre>\n\n<p>b.php</p>\n\n<pre><code>&lt;?php\nsession_start();\necho $_SESSION['name1'];\n</code></pre>\n\n<p>After running <code>a.php</code>, I closed the browser and opened a new Chrome window to run <code>b.php</code>.\nI was surprised it displayed <code>value1</code>.</p>\n\n<p>The problem is why the session is still alive when I close the browser?\nHow to fix it? I want the session being killed when the browser closed.</p>\n"},{"tags":["php","mvc","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":135,"score":1,"question_id":12477833,"title":"YII backend implementation","body":"<p>I have created frontend-backend structre following <a href=\"http://www.yiiframework.com/wiki/33/\" rel=\"nofollow\">http://www.yiiframework.com/wiki/33/</a>\nso my structure is</p>\n\n<pre><code>wwwroot/\n    index.php\n    backend.php\n    assets/\n    images/\n    js/\n    protected/\n        config/\n            main.php\n        components/\n        controllers/\n        models/\n        modules/\n        views/\n        runtime/\n        backend/\n            config/\n                main.php\n            components/\n            controllers/\n            models/\n            modules/\n            views/\n            runtime/\n</code></pre>\n\n<p>and my backend config is </p>\n\n<pre><code>$backend = dirname(dirname(__FILE__));\n$frontend = dirname($backend);\nyii::setPathOfAlias('backend',$backend);\nreturn array(\n    'basePath' =&gt; $frontend,\n    'controllerPath' =&gt; $backend.'/controllers',\n    'viewPath' =&gt; $backend.'/views',\n...\n    'import'=&gt;array(\n    'backend.modules.rights.*',\n    'backend.modules.rights.components.*',\n    'backend.models.*',\n    'backend.components.*',\n    'application.modules.user.models.*',\n    'application.modules.user.components.*',\n),...\n</code></pre>\n\n<p>Now I need to access controllers,models and views at backend from frontend\nlike <strong>backend.php/discussion</strong>\nand discussion is at protected/controllers/DiscussionController\nwhich right now only accesable from <strong>index.php/discussion</strong></p>\n\n<p>One Solution is \nset <strong>'controllerPath'=>$frontend.'/controllers'</strong>\nbut now i loose backend controllers.\nSo is there is way that when i call a controller, first it looks in backend controllers and then look in frontend controllers(in case not found in backend controllers)?</p>\n"},{"tags":["php","arrays","array-merge","strtr"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13213727,"title":"array_merge & strtr() doesn't work","body":"<p>Hi I have a problem with strtr().</p>\n\n<p>I am creating a website where users can add their emoticons, and call them inside their posts by typing in the specialcode for an emoticon.</p>\n\n<p>This is what I have done and it works to some extend:</p>\n\n<pre><code>//FETCH FROM THE DB\n\nwhile ( $row = mysql_fetch_array($fetch)) {\n$table[] = array(\n$row['shortcuttag1'] =&gt; \"&lt;img class='x' src='\" . $row['tag1smilo'] . \"' /&gt;\",\n$row['shortcuttag2'] =&gt; \"&lt;img class='x' src='\" . $row['tag2smilo'] . \"' /&gt;\",\n$row['shortcuttag3'] =&gt; \"&lt;img class='x' src='\" . $row['tag3smilo'] . \"' /&gt;\",\n$row['shortcuttag4'] =&gt; \"&lt;img class='x' src='\" . $row['tag4smilo'] . \"' /&gt;\",\n$row['shortcuttag5'] =&gt; \"&lt;img class='x' src='\" . $row['tag5smilo'] . \"' /&gt;\"\n);\n</code></pre>\n\n<p>This creates a multidimensional array with emoticons uploaded by one user.</p>\n\n<p>Then when I use </p>\n\n<pre><code>strtr($txt,$table[0])\n</code></pre>\n\n<p>it works with the array[0] and the other\nbut I want to change special code to emoticons that are located around in all the subarrays.</p>\n\n<p>Therefore what I have done is </p>\n\n<pre><code>$oneDim = call_user_func_array('array_merge',$table);\n</code></pre>\n\n<p>To merge the array and I got the one dimensional array with all SpecialCode => Image fields.</p>\n\n<p>But the </p>\n\n<pre><code>strtr($txt,$oneDim) \n</code></pre>\n\n<p>stopped working with that, it is not showing anything.</p>\n\n<p>I am worried because I have tried few different ways to merge the array except <code>call_user_func_array()</code> and it gives the same result.</p>\n\n<p>Maybe there is someone that could help me with that I will be very grateful.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","string","variables","input"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":55,"score":0,"question_id":13271969,"title":"How to assign input string as a variable","body":"<p>I don't know what it calls technically but here what I am trying achieve where user can insert one define word as a string from form text input than it should replace with defined variable.</p>\n\n<p>Example:</p>\n\n<pre><code>$username = myfunction();\n</code></pre>\n\n<p>Now I want allow to user to enter one defined word like <code>username</code> in input field which will replace with $username variable.</p>\n\n<p>So I want to use it for like <code>Contact to '.$username.'</code> So user can enter and change $username placement with that string keyword and they can play like <code>$username .'info'</code> etc.</p>\n\n<p>Hope I explained properly and not in funny way.</p>\n"},{"tags":["php","windows","apache","upload","windows-xp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13272231,"title":"How to safely prevent uploaded file from being run via PHP on any server?","body":"<p>I noticed that it's possible to run a file via PHP even if its extension wasn't <code>.php</code>, for example file <code>test.xyz.php.whatever.zyx</code> can be still run with PHP even when the extension isn't <code>.php</code> ! It just happens to have <code>.php.</code> in anywhere the filename, and that's enough for my Apache to run the PHP script.</p>\n\n<p>I tried (as someone suggested) to put this in a <code>.htaccess</code> file on that folder:</p>\n\n<pre><code>php_flag engine off\n</code></pre>\n\n<p>But it didn't work on my machine.</p>\n\n<p>The only solutions I know for now are:</p>\n\n<ul>\n<li>Rename to known file extension, which is not run via PHP, such as <code>.txt</code>.</li>\n<li>Remove all dots from the filename, thus making it extensionless.</li>\n</ul>\n\n<p>But I'm still not sure how these solutions would work on other servers than my Windows server (with Apache).</p>\n\n<p>Is there any other solutions which doesn't need the filenames to be renamed in any way?</p>\n"},{"tags":["php","linux","ffmpeg","watermark"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13271099,"title":"unrecognized option '-vf' in ffmpeg","body":"<p>I am running this command </p>\n\n<pre><code>ffmpeg -i \"video_in.mp4\" -vf \"movie=watermark.png [watermark]; [in][watermark] overlay=main_w/2-overlay_w/2:main_h/2-overlay_h/2 [out]\" outputvideo.mp4\n</code></pre>\n\n<p>also tried</p>\n\n<pre><code>/usr/local/bin/ffmpeg -i \"video_in.mp4\" -vf \"movie=watermark.png [watermark]; [in][watermark] overlay=main_w/2-overlay_w/2:main_h/2-overlay_h/2 [out]\" outputvideo.mp4\n</code></pre>\n\n<p><strong>Error</strong> : unrecognized option '-vf' in ffmpeg</p>\n"},{"tags":["php","javascript","drop-down-menu"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13270699,"title":"Drop-down menu based on the selection of radio button","body":"<p>I have four radio buttons and I would like to get the drop-down menu based on the selected radio button. Is it best if I just write all those drop-downs ready and display them based on the selection or is there a way to do it with ajax (because the drop-down values are coming from database) ?\nHere are the radio buttons:</p>\n\n<pre><code>&lt;input type=\"radio\" name=\"some\" value=\"someValue1\"&gt;\n&lt;input type=\"radio\" name=\"some\" value=\"someValue2\"&gt;\n&lt;input type=\"radio\" name=\"some\" value=\"someValue3\"&gt;\n&lt;input type=\"radio\" name=\"some\" value=\"someValue4\"&gt;\n</code></pre>\n\n<p>Here is the drop-down:</p>\n\n<pre><code>&lt;select name=\"reason\"&gt;\n&lt;?php\n$data = WorkReason::all();\nforeach ($data as $d) {\n?&gt;\n &lt;option value=\"&lt;?php echo $d-&gt;code; ?&gt;\"&gt;&lt;?php echo $d-&gt;reason; ?&gt;&lt;/option&gt;\n&lt;?php\n}\n?&gt;\n&lt;/select&gt; \n</code></pre>\n\n<p>I am using php ActiveRecords to get the values from database.\nSo if anybody knows a good way of doing this I would appreciate some help.</p>\n"},{"tags":["php","mysql","search","sphinx"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13271656,"title":"Sphinx search sql_attr_multi - where condition","body":"<p>I need to set an index.</p>\n\n<p>sql_attr_multi = uint categories from query; SELECT item_id, category_id FROM connections WHERE value=2</p>\n\n<p>It works fine If I set the value static.</p>\n\n<p>That value is a variable so I want to assign it through a filter but it doesn`t work because I want to filter \"sql_attr_multi\" not the $sql.</p>\n\n<p>$cl->setFilter(\"value\", array(2));</p>\n\n<p>Thanks</p>\n"},{"tags":["php","ajax","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":255,"score":0,"question_id":11912332,"title":"Can you refine my routes and ajax requests?(php/laravel)","body":"<p>I am a newbie laravel user and tried to write my code with tutorials and docs.\nWhen I try to open the site a loading animation occurs and after that, the menu and contentt split  into either side of the page.\nI want only to change content division   when I click menu buttons. </p>\n\n<p>These are my routes.php:</p>\n\n<pre><code>Route::controller(Controller::detect());\nRoute::get('articles', array('uses'=&gt;'articles@index'));\nRoute::get('articles/(:any)', array('as'=&gt;'article','uses'=&gt;'articles@view'));\nRoute::get('abouts', array('as'=&gt;'abouts','uses'=&gt;'abouts@index'));\n</code></pre>\n\n<p>This is my  default.blade.php menu part:</p>\n\n<pre><code>&lt;div id=\"sidebar-content\"&gt;\n   &lt;ul id=\"menu\"&gt;\n   &lt;li class=\"current\"&gt;&lt;a href=\"&lt;?php echo URL::to('articles'); ?&gt;\"&gt;ANASAYFA&lt;/a&gt;&lt;/li&gt;\n   &lt;li&gt;&lt;a href=\"&lt;?php echo URL::to('abouts'); ?&gt;\"&gt;HAKKIMIZDA&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>Are the links correct here ?</p>\n\n<p>My ajax.js </p>\n\n<pre><code>$(document).ready( function() {\n$(\"#sidebar-content ul li a\").click( function(e){\n     e.preventDefault();\n     $('#content').load(this.href);\n     console.log('This href =='+this.href);\n     return false;\n});\n});\n</code></pre>\n\n<p>When I click links, I get a loading animation and the content is not shown.<br>\nThis is my articles controller :</p>\n\n<pre><code>class Articles_Controller extends Base_Controller {\n\n            public $restful = true;\n            public $layout = 'layouts.default';\n\n         public function get_index(){\n             $this-&gt;layout-&gt;title = \"Anasayfa\";\n             $this-&gt;layout-&gt;content = View::make('articles.index')\n             -&gt;with('articles',Article::order_by('id')-&gt;get());\n         }\n</code></pre>\n\n<p>These are the console.logs :</p>\n\n<pre><code>GET http://localhost/~ytsejam/laravel/public/index.php/abouts  jquery.min.js (line 4)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts   ajax.js (line 6)\nGET http://localhost/~ytsejam/laravel/public/js/basic.js?_=13446   jquery.min.js (line 4)\nGET http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 5)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts ajax.js (line 6)\nGET http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 5)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 7)\n</code></pre>\n\n<p>Can you help me?</p>\n"},{"tags":["php","ical"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13270816,"title":"Ical sync dynamically with google calender","body":"<p>I have created iCal event by using iCalcreator. I want to make the google calendar so that it syncs automatically. I can create the .ical file that I will be importing or adding by URL. After I login into Gmail it is working. How can I make my events to automatically add to calendar by using the URL dynamically?</p>\n"},{"tags":["php","phpmailer","dompdf"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13209415,"title":"How do I attach a generated pdf by dompdf and mail it in phpmailer?","body":"<p>I'm using dompdf to genearate a pdf and I need to attach it to phpmailer and mail it.\nHelp would be gladly appreciated.</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\nrequire_once(\"../../dompdf/dompdf_config.inc.php\");\n\n$templateFile = 'prog_report.php';\n$content = file_get_contents($templateFile);\n$dompdf = new DOMPDF();\n$dompdf-&gt;load_html($content);\n\n$dompdf-&gt;render();\n$dompdf-&gt;stream(\"sample.pdf\");\n\n?&gt;\n</code></pre>\n\n<p>and this is the phpmailer attachement moudule..</p>\n\n<pre><code>$mail-&gt;AddAttachment(\"images/phpmailer.gif\");\n</code></pre>\n\n<p>I want to attach the generated pdf here and the pdf should not be saved on the hard disk drive.</p>\n"},{"tags":["c#","java","php","website","interop"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":78,"score":4,"question_id":13271772,"title":"How does PHP website communicate with Java and C# programs efficiently","body":"<p>I have a website written in PHP, the website accepts code snippets written in different programming languages (Java and C#) and perform some static analysis and returns the results to the user. I already wrote different analyzers for Java and C# respectively. The Java analyzer is written in Java; the C# analyzer is written in C#. </p>\n\n<p>My problem is how the PHP website can communicate with those analyzers written in different languages in an efficient way. That is: when the PHP website receives some Java code, it can invokes the Java analyzer, etc. I can of course use PHP’s exec to launch the analyzer process, but that is too slow.</p>\n"},{"tags":["php","fuelcms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":83,"score":-2,"question_id":11721918,"title":"Turkish characters blocks admin panel in Codeigniter(FUEL_CMS)","body":"<p>I am writing a site with fuel_cms(content management system)  . My problem is that when i use turkish characters like \"ı,ö\" in the edit panels,  admin panel does not view the text after editing. Is there anyway to make fuel-php. accept turkish special characters in?  </p>\n\n<p>edit : I had some mails with the creators of fuel cms. Even the admin panel links does not work with some turkish characters . We could not find a solution. </p>\n"},{"tags":["php","class"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13271472,"title":"Optimal way to handle \"return\"?","body":"<p>I need an advice how to handle function with lots of different return's better. <br />\nI have this simple log in function in my class:</p>\n\n<pre><code>public function login($email, $password){\n\n$record = // Go to database and find what we need.\n\nif($record){\n   // Check pass, $user_match = TRUE;\n} else {\n   return 1;         //No such user. Please register!\n}\n\n$active = (1 == $record['is_active']) ? TRUE : FALSE;\n$verified = (1 == $record['is_verified']) ? TRUE : FALSE;\n\n//User email and password matched:\nif($user_match == true){\n   if($verified === true){\n       // Start session and insert to db table \"online_users\"\n   // Check that user was inserted to table: $confirm = $stmt-&gt;rowCount();\n\n         if($confirm !== 1){\n           return 2; //Unexpected technical error. Please try again in a moment.\n         }\n\n       return 0;     //0 means that all clear, we good to go.\n\n       } else {\n           return 3; //not verified\n       }\n    } else {\n        return 4;    // no match with email and pass, reject!\n    }\n}\n</code></pre>\n\n<p>The problem is, that now all the time I need to check all return's, something like that:</p>\n\n<pre><code>$log = $user-&gt;login($_POST['email'], $_POST['pass']);\nif($log === 0) {\n    //Log in &amp; edirect\n} elseif ($log === 1) {\n    //No such user. Tell to register\n} elseif($log === 2){\n    //technical error, try again\n} elseif($log === 3){\n    //Not verified\n} elseif($log === 4){\n    //wrong password\n</code></pre>\n\n<p>It's really annoying right now, and imagine if I would need to check like 20 return's? Is there any better way? How to do it more efficient and faster?<br />\nThanks in advance.</p>\n"},{"tags":["php","android","service","mqtt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13235477,"title":"how to set up android mqtt push server","body":"<p>I install xampp-v9   on Windows7 platform   ,android open sql  apache ,and   install  mqtt broker ,sure mqtt service  is  opened,use    mqtt php  manager server  ,when  i  run ,just show   as  follos</p>\n\n<p>Tokudu Android Push Demo\nServer status: connect(SAM_MQTT, array(SAM_HOST => '127.0.0.1', SAM_PORT => 1883)); if ($result) { $conn->disconnect(); print_r(\"Online\"); } else { print_r(\"Offline\"); } ?> </p>\n\n<p>so   why?</p>\n"},{"tags":["php","function","if-statement"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13271960,"title":"Order of items in compare","body":"<p>I was reading PHP's Array man and I saw this:</p>\n\n<pre><code>&lt;?php\n// fill an array with all items from a directory\n$handle = opendir('.');\nwhile (false !== ($file = readdir($handle))) {\n    $files[] = $file;\n}\nclosedir($handle); \n?&gt;\n</code></pre>\n\n<p>In the readdir man page, it says \"Correctly way of looping\".</p>\n\n<p>I'd like to know if there's a difference between <code>X !== false</code> and <code>false !== X</code>. Thanks!</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":13257076,"title":"Regex pattern to match emails inline reply heading","body":"<p>I'm having a little trouble figuring out the pattern to identify the beginning of inline replies/forwards in an email body, there are some easier ones that simply begin with something like \"Begin forwarded message\" but the replies are a little more complicated:</p>\n\n<pre><code>On 12-06-13 10:56 AM, \"John Doe\" &lt;john.doe@some.tld&gt; wrote:\n</code></pre>\n\n<p>Obviously the constants will be \"On\" and \"wrote:\".  I'd like to be able to find only the first match and then either wrap everything after it in a div with display:none applied or even just eliminate it using substr($body,0, POSITION_OF_MATCH).  </p>\n\n<p>One of the issues I'm having is that it's not catching the FIRST occurrence, and second is that I can't get the greediness to work properly.</p>\n\n<p>My progress (having fallen back to at least a partially working version) so far is:</p>\n\n<pre><code>preg_match(\"/On [^&gt;]* wrote:/i\",$content,$matches,PREG_OFFSET_CAPTURE);\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["php","sugarcrm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12295067,"title":"'mass update' option in subpannel(in detailview) in sugarCRM","body":"<p>I have to make 'mass update' option in subpannel(in detailview) just like it is in listview(by default).\nI have searched alot from sugar-forum and all possible links but found nothing helpful. Can anyone help how to use default include/massupdate.php or listview etc to accomplish this.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13271644,"title":"Pass mysqli object to class","body":"<p>I want to pass a mysqli object to a class. I create the object in one file:</p>\n\n<pre><code>$host = 'host';\n$user = 'username';\n$pw = 'pw';\n$db = 'db';\n\n$link = new mysqli($host,$user,$pw,$db);\n</code></pre>\n\n<p>which is included in one page:</p>\n\n<pre><code>include 'php/mysql.php';\ninclude 'php/classes/Class.Dataconnector.php';\n$dc = new Dataconnector($link);\n</code></pre>\n\n<p>and the class looks like this:</p>\n\n<pre><code>class Dataconnector {\n    protected $_link;\n    protected $_stub;\n\n    function __construct(mysqli $link) {\n        $_link = $link;\n    }\n\n    public function getPageContent($stub) {\n        $query = \"select * from contents where pageId = (select id from pages where stub = '$stub')\";\n        $result = mysqli_query($_link,$query);\n        return $result;\n    }\n}\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>Warning: mysqli_query() expects parameter 1 to be mysqli, null given in \\php\\classes\\Class.Dataconnector.php on line 18\n</code></pre>\n\n<p>What is wrong ?</p>\n"},{"tags":["php","optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13271532,"title":"Could this php-iteration be written any shorter/better?","body":"<p>The code works perfect, but since I'm repeating myself (which I like to avoid while programming), I was wondering if this could be written any shorter/better?</p>\n\n<pre><code>$start = getLocaleDate($item[0]['start_day']);\n$start = $start['day_int'] . ' ' . $start['month_string'];\nif ($item[0]['start_houre'] !== '00:00:00') {\n    $houre = stripLeadingZero(substr($item[0]['start_houre'], 0, 2));\n    $minute = substr($item[0]['start_houre'], 3, 2);\n    $start .= ' at' . $houre . 'u' . $minute;\n}\n\n$end = getLocaleDate($item[0]['end_day']);\n$end = $end['day_int'] . ' ' . $end['month_string'];\nif ($item[0]['end_houre'] !== '00:00:00') {\n    $houre = stripLeadingZero(substr($item[0]['end_houre'], 0, 2));\n    $minute = substr($item[0]['end_houre'], 3, 2);\n    $end .= ' at' . $houre . 'u' . $minute;\n}\n</code></pre>\n"},{"tags":["php","json","json-decode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13271402,"title":"Sending Data via curl json only require specific response data back","body":"<p>I'm sending some data via curl as json_encode from php to a .net server.\nAll of above working fine and I get result back like this.</p>\n\n<pre><code>HTTP/1.1 201 Created \nCache-Control: private \nContent-Type: application/json; charset=utf-8 \nServer: Microsoft-IIS/7.5 \nX-AspNetMvc-Version: 3.0 \nX-AspNet-Version: 4.0.30319 \nX-Powered-By: ASP.NET \nDate: Wed, 07 Nov 2012 13:15:43 GMT \nContent-Length: 205 {\"BetId\":166312,\"Description\":\"Your Prediction: UK222222. Your Code: 0073CN98914. Winners will be notified by on Monday. Keep your code safe. Good Luck!\",\"SerialNumber\":\"0073CN98914\"}\n</code></pre>\n\n<p>I know they sending back json format. I tried json_decode just to grab the data in {} back into a php array.</p>\n\n<p>BUT, what I really only want and need is the SerialNumber. Currently I'm just dumping it all into a MySQL table.</p>\n\n<p>Please advise how to just get SerialNumber.</p>\n\n<p>I'm using curl json example found on stackoverflow and it works great.</p>\n"},{"tags":["php","symfony2","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":11642157,"title":"Doctrine preUpdate Listener not setting field values in database","body":"<p>I have this code</p>\n\n<pre><code>public function preUpdate(PreUpdateEventArgs $args)\n{\n    $entity = $args-&gt;getEntity();\n    $em = $args-&gt;getEntityManager();\n    $uow = $em-&gt;getUnitOfWork();\n    $args-&gt;isActive = false;\n\n    $meta = $em-&gt;getClassMetadata(get_class($entity));\n    $uow-&gt;recomputeSingleEntityChangeSet($meta, $entity);\n}\n</code></pre>\n\n<p>I tried many times but its not updating the field.</p>\n"},{"tags":["php","oop","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13271617,"title":"What is the state of numerical fields[properties] in PHP","body":"<p>I am initially creating an object:</p>\n\n<pre><code>car{gearNumber,tyres}\n</code></pre>\n\n<p>Where the gearNumber, and tyres are car properties... and save it in database(mysql) without assigning any value to gearNumber, and tyres.</p>\n\n<p>When I fetch the car object and try to increase the gear number nothing happens..the work around  would be to set default values(<code>0</code>) on object creation but I dont want to go back again to edit the car class since somehow php assign value on the fly...</p>\n"},{"tags":["php","html","radio-button","survey"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":50,"score":-4,"question_id":13271554,"title":"How to put radio button values in database?","body":"<p>I have to make a website for school and one of the tasks is to make a survey that storage values of radio buttons into a database and afterwards the user can get the values back from the database? </p>\n\n<p>I want to use PHP to do this, can anyone help me please?\nThanks!</p>\n"},{"tags":["php","html","drupal","css3","drupal-7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13270243,"title":"Use two databases to synchronise users in drupal 7","body":"<p>I am working on magazine site in drupal 7 and it already has a forum site that is linked up with a menu link.This forum site is in core php and i am working in drupal 7 now have to fetch all the records from forum database and to save all of them into drupal users table.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","osx-mountain-lion","apache2.2","oci8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13071768,"title":"How to install the OCI8 PHP extension on Mac OS X 10.8 Mountain Lion","body":"<p>I need to use the OCI8 module for PHP on Mountain Lion which will use the oracle instant client, which is currently only supported as 32 bit.</p>\n\n<p>I have installed the 32bit version of the oracle instant client and tested it with sqlplus and all seems well.</p>\n\n<p>Now however I need to get the PHP extension OCI8 working, which has led me to build a 32 bit PHP module for apache with homebrew. Again this seems to be working but as I understand it this will now require a 32 bit build of Apache, the built-in version seems to be 64 bit only. I can't work out how to build Apache as 32 bit and I'm not even certain this is required so am at somewhat of a loss. Any help much appreciated\nAlastair</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>For now I have abandoned a native install in favour of virtualised development using Vagrant and Ubuntu: <a href=\"https://github.com/afhole/vagrant-lamp\" rel=\"nofollow\">https://github.com/afhole/vagrant-lamp</a></p>\n"},{"tags":["php","symfony2","doctrine2","querybuilder"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12436312,"title":"I need to put SQL native in query Builder Doctrine2","body":"<p>i need to work with SQL NATIVE in query Builder doctrine 2 for using SQL Function (CONCAT,REPLACE,LDAP) . please Help me.</p>\n"},{"tags":["php","custom-exceptions"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13271555,"title":"bubling up the exceptions in PHP?","body":"<p>Supposing I have this scenario:</p>\n\n<pre><code>function1() call to function2(), and function2() call to function3().\n</code></pre>\n\n<p>if function3() throws an exception, can I capture the exception from function1()?</p>\n\n<p>And in the case in which maybe, some of these functions is in a different class?, can I continue capturing from function1?</p>\n"},{"tags":["php","javascript","local-storage","simplecart"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13260522,"title":"Retrieve stored values of selected restaurant from localstorage using simplecart","body":"<p>Im trying to retrieve the cart items stored in the local storage based on the selected restaurant.</p>\n\n<p>First, in the console log it looks like the \"each\" loop is running twice.</p>\n\n<p>Second, the indexOf is working! But the is a problem with the following two lines:</p>\n\n<blockquote>\n  <p><code>simpleCart.get(item).show();</code></p>\n  \n  <p>AND</p>\n  \n  <p><code>simpleCart.get(item).hide();</code></p>\n</blockquote>\n\n<p>The first one kinda seams to work but the second is compitely ignored and returns all the results from the localstorage.</p>\n\n<p>How can i hide the selected item from showing in the cart???????? HELP!!!</p>\n\n<hr>\n\n<p><strong><code>$restName</code></strong> = the selected restaurant. (a php variable)</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nsimpleCart.bind(\\'load\\', function(){\n    var items = localStorage.getItem(\"simpleCart_items\");\n    if (!items) {\n        return;\n    } try {\n        simpleCart.each(JSON.parse(items),function(item) {\n            var id_found = item.itmid.indexOf(\"' . $restName . '\");\n            if (id_found &gt;= 0){\n                simpleCart.get(item).show();\n            } else {\n                simpleCart.get(item).hide();\n            }\n        });\n    } catch (e){\n        simpleCart.error(\"Error Loading data: \" + e);\n    }\n});\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","oop","class","interface"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13271068,"title":"PHP class constructor in interface or class","body":"<p>I'm having some issues thinking out a good structure to build my classes and objects.\nIn the code below I make use of an interface to define my class methods, but I also want to pass a database connection to my constructor so the class had this connection to work with.\nIs it correct as I coded it below that the constructor is placed within my class and the methods in my interface?</p>\n\n<pre><code>interface IDataItem\n{\n    public function saveItem(Item $theItem);\n}\n\nclass DataItem implements IDataItem{\n    public function __construct(Database $database) \n    { \n        $this-&gt;database = $database;\n    }\n\n    public function saveItem(Item $item) \n    {       \n        //save the item\n    }\n}\n\n\n$db = new Database(); //from a database class\n$dataItem = new DataItem($db);          \n$dataItem-&gt;saveItem($anItem);   \n</code></pre>\n"},{"tags":["php","javascript","string"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13271351,"title":"javascript substring extract","body":"<p>I have a javascript script where there are lines, a example is :</p>\n\n<pre><code>http://www.youtube.com/watch?v=FOeLP1WdjFc&amp;feature=related\n</code></pre>\n\n<p>I want to extract the substring that is after \"watch?=\" and before \"&amp;feature\",\nits pattern is:</p>\n\n<p>1) it is  after \"watch?=\"</p>\n\n<p>2) it is before \"&amp;feature\",</p>\n\n<p>3) it is a 11-character string</p>\n\n<p>I know other scripts could be easy, but now I only need javascript, \nif it is really impossible, then php is acceptable, \nhow to achieve this?\nthanks!</p>\n"},{"tags":["php","mysql","forms","select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13271389,"title":"MySQL Value Returns Null After Select","body":"<pre><code>if (! empty ( $fname ) &amp;&amp; ! empty ( $lname )) {\n        $query5 = \"select * from \" . $db_prefix . \"customer_det where (fname = '\" . $fname . \"' and lname = '\" . $lname . \"')\";\n            $result5 = $mysqli-&gt;query ( $query5, MYSQLI_STORE_RESULT ) or die ( mysql_error () );\n    } else {\n        $query5 = \"select * from \" . $db_prefix . \"customer_det where phone = '\" . $phone . \"'\";\n        $result5 = $mysqli-&gt;query ( $query5, MYSQLI_STORE_RESULT ) or die ( mysql_error () );\n\n    }\n    while ($row=$result5-&gt;fetch_assoc) {\n        $uid = $row['id'];\n            $visits = $row['visits'];\n        }\n        var_dump($uid);\n        var_dump($visits);\n            var_dump($result5);\n            var_dump($fname);\n            var_dump($lname);\n</code></pre>\n\n<p>I'm not sure where I'm going wrong here.  I run both of those queries in the phpMyAdmin SQL query box and it returns a row set.  Then when I run it in PHP, and var_dump the variables, $uid returns NULL as well as $visits.  Here's the var dump:</p>\n\n<pre><code>NULL NULL object(mysqli_result)#4 (5) { [\"current_field\"]=&gt; int(0) [\"field_count\"]=&gt; int(34) [\"lengths\"]=&gt; NULL [\"num_rows\"]=&gt; int(1) [\"type\"]=&gt; int(0) } string(6) \"Wesley\" string(6) \"Snipes\"\n</code></pre>\n\n<p>Any advice would be great.</p>\n"},{"tags":["php","arrays","function"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13271015,"title":"changing array keys in array_walk function?","body":"<p>I am using array functions to convert my pipe delimited string to an associative array.</p>\n\n<pre><code>$piper = \"|k=f|p=t|e=r|t=m|\";\n\n$piper = explode(\"|\",$piper);\n\n$piper = array_filter($piper);\n\nfunction splitter(&amp;$value,$key) {\n\n    $splitted = explode(\"=\",$value);\n    $key = $splitted[0];\n    $value = $splitted[1];\n\n}\n\narray_walk($piper, 'splitter');\n\nvar_dump($piper);\n</code></pre>\n\n<p>this gives me </p>\n\n<pre><code>array (size=4)\n  1 =&gt; string 'f' (length=1)\n  2 =&gt; string 't' (length=1)\n  3 =&gt; string 'r' (length=1)\n  4 =&gt; string 'm' (length=1)\n</code></pre>\n\n<p>where i want:</p>\n\n<pre><code>array (size=4)\n  \"k\" =&gt; string 'f' (length=1)\n  \"p\" =&gt; string 't' (length=1)\n  \"e\" =&gt; string 'r' (length=1)\n  \"t\" =&gt; string 'm' (length=1)\n</code></pre>\n\n<p>but the keys are unaltered. Is there any array function with which i can loop over an array and change keys and values as well?</p>\n"},{"tags":["php","c"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":38,"score":-4,"question_id":13268033,"title":"how to pass value from php to c","body":"<p>now I'm do some project. that i want to pass value (e.g. string int ) from php to c for use c to call shell script on centos and return value back to php for display the result of it. </p>\n\n<p>Who can be help me I want to see sample sourcecode of c &amp; php  </p>\n\n<p>hop anyone help thank</p>\n\n<p>I'm try to Control Shell script for start or stop virtual machine in my Project And return the value that back to php page by pass value from c I'm don't know how to do it please help. it is my final project </p>\n"},{"tags":["php","jquery","plupload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13271407,"title":"How to get image height & width with plupload","body":"<p>I am using the plupload tool to have multiple image uploads - how using the API can i return the image height &amp; width for each image.</p>\n\n<pre><code>// rest of plupload code..\nFileUploaded: function(up, file, info) {\n    // Called when a file has finished uploading\n    //console.log('[FileUploaded] File:', file, \"Info:\", info);\n    // do some plupload logic to get image width &amp; height\n}\n</code></pre>\n"},{"tags":["php","sql-server","iis","windows-server-2003","php-extension"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":13,"score":2,"question_id":13271075,"title":"sqlsrv hangs in windows with php 5.4","body":"<p>I know this was asked alot of times but all the answers are outdated.</p>\n\n<p>As of PHP 5.3, as we all know mssql is <strong>not</strong> supported, so went on installing Microsoft's <a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=20098\" rel=\"nofollow\">sqlsrv</a>\ndriver for this, as it seems to be the only option out there (I'm open to suggestions!).</p>\n\n<p>Now I'm using PHP 5.4 on a Windows server 2003, SQL Server 2005 with IIS as webserver.</p>\n\n<p>I've followed about a million guides and i've installed everything accordingly, but the driver just wont load, <code>sqlsrv</code> won't show on <code>phpinfo()</code> or it hangs.</p>\n\n<p>This is what i've done in php.ini :</p>\n\n<pre><code> extension=php_sqlsrv_54_nts.dll\n</code></pre>\n\n<p>And the <code>extension_dir</code> is set to <code>C:\\PHP\\ext</code>, though phpinfo() shows its loading a php.ini file from progrem files, so i'm editing 2 php.ini files every time as i'm not sure which one is active.\nFor the same reason i've put the dll files in both locations.</p>\n\n<p>There is no information for this problem!\nall the solutions are for people who have used the wrong versions, etc.</p>\n\n<p>I've tried applying every single dll and all with the same result, including Threaded and non-threaded.</p>\n\n<p>What can i do?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13267348,"title":"I am new to PHP & Codeigniter i need some suggestions on Array","body":"<p>I have following code in external Library....</p>\n\n<pre><code>for($this-&gt;i=0;$this-&gt;i&lt;$length;$this-&gt;i++) {\n    $attendee_idTag=$objDOM-&gt;getElementsByTagName(\"attendee_id\");\n    echo \"&lt;br&gt;attendee_id=\".$attendee_id=$attendee_idTag-&gt;item($this-&gt;i)-&gt;nodeValue;\n    $this-&gt;attendee_id=$attendee_idTag-&gt;item($this-&gt;i)-&gt;nodeValue;\n    $attendee_urlTag=$objDOM-&gt;getElementsByTagName(\"attendee_url\");\n    echo \"&lt;br&gt;attendee_url=\".$this-&gt;attendee_url=$attendee_urlTag-&gt;item($this-&gt;i)-                        &gt;nodeValue;\n    $this-&gt;attendee_url=$attendee_urlTag-&gt;item($this-&gt;i)-&gt;nodeValue;\n}\n</code></pre>\n\n<p>so what i wanted to know, how can store the loop values into array then call it in another class functions...\nso kindly give me some example...</p>\n"},{"tags":["php","html","json","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13271215,"title":"Pass data from a php script to html form","body":"<p>I have an iphone app. The user can complete a form. Then the data of the form are passed to a php script. There I parse.</p>\n\n<p>Now, question is:</p>\n\n<p>Is it possible to pass data from a php script to an html form(on a web site this time)?</p>\n\n<p>I.e.</p>\n\n<p>Json sent from the mobile to the php scipt:</p>\n\n<pre><code>{\n  \"Email\":\"klklkkl\",\n  \"DueDate\":\"1454\"\n}\n</code></pre>\n\n<p>The php parse the aforementioned Json.</p>\n\n<p>Now there is on the web site the same form. And I want to pass to the two input boxes that are contained there the aforementioned data. Is this possible?</p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13270608,"title":"Magento - Update Prices Script - Multiple Stores","body":"<p>I am trying to update some (but not all ) prices from one store to another. For example one line of shirts should be 1.2 times the price in the second store</p>\n\n<p>I would like to update some groups of items only, based on entity label but am struggling to pull all the data from magento (asside what i can get out in the code below). The bits I am missing are price and entity label. I know what tables they live in but not sure the correct magento syntax to access them eg Mage::getModel('catalog/product') and I am trying to achieve this using Magento friendly code and not queries  </p>\n\n<p>Using enterprise 1.11, not looking at buying a plugin at this stage, any advice greatly appreciated</p>\n\n<pre><code>$mageFilename = 'app/Mage.php';\nrequire_once $mageFilename;\nMage::app()-&gt;setCurrentStore(Mage_Core_Model_App::ADMIN_STORE_ID); #important\n$product_id = '8782';\n$collection = Mage::getModel('catalog/product')\n         -&gt;load($product_id);\n        echo \"Collection: \" . $collection-&gt;getName();\n        echo \"&lt;br&gt;\";\n        echo \"Attribute Set: \" . $collection-&gt;getAttributeSetId() . \" SKU: \" . $collection-&gt;getSku();\n        echo \"&lt;br&gt;\"; \n        echo \"Entity ID: \" . $collection-&gt;getEntity_id() . \" Product Type (Attribute Label): \" . $collection-&gt;getProducttype();\n</code></pre>\n"},{"tags":["php"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13271323,"title":"I have tried few steps but no resolutions..i wanted to know about array in php","body":"<p>i have following code, and same i have asked before but nobody had answered to my question...</p>\n\n<pre><code>for($i=0;$i&lt;$length;$i++) {\n    $attendee_idTag=$objDOM-&gt;getElementsByTagName(\"attendee_id\");\n    echo \"&lt;br&gt;attendee_id=\".$attendee_id=$attendee_idTag-&gt;item($i)-&gt;nodeValue;\n    $this-&gt;attendee_id=$attendee_idTag-&gt;item($i)-&gt;nodeValue;\n    $attendee_urlTag=$objDOM-&gt;getElementsByTagName(\"attendee_url\");\n    echo \"&lt;br&gt;attendee_url=\".$this-&gt;attendee_url=$attendee_urlTag-&gt;item($i)-&gt;nodeValue;\n    $this-&gt;attendee_url=$attendee_urlTag-&gt;item($i)-&gt;nodeValue;\n    'url'=&gt;$this-&gt;attendee_url);\n}\n</code></pre>\n\n<p>So i wanted to store $attendee_id and <code>$attendee_url</code> values into array and same values i want to retrieve from another class, now i have tried following code inside forloop but its giving on</p>\n\n<pre><code>$this-&gt;results = array('id'=&gt;$this-&gt;attendee_id,'url'=&gt;$this-&gt;attendee_url); \n</code></pre>\n\n<p>and in another code file i am retrieving by following way....</p>\n\n<pre><code>foreach ($this-&gt;addattendee-&gt;results as $key=&gt;$value) {\n   echo $key. \" :- \". $value;\n} \n</code></pre>\n\n<p>but i am getting only 1 value at a time.... can anybody give me solution to solve the problem plz.</p>\n"},{"tags":["php","javascript","json","codeigniter","datatable"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13270920,"title":"codeigniter datatable send variable to datatable query","body":"<p>i used library datatable and codeigniter</p>\n\n<p>i have a variable in view</p>\n\n<pre><code>$afd = \"1\"\n</code></pre>\n\n<p>and in this view i have a javascript </p>\n\n<pre><code>&lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n\n$(document).ready(function() {\n$('#datatables').dataTable( {\n\"bJQueryUI\":true,\n\n\"bProcessing\": true,\n\n\"bServerSide\": true,\n\n\"sPaginationType\":\"full_numbers\",\n\n\"sAjaxSource\": \"&lt;?=base_url()?&gt;index.php/report/report/ajax_view_panen/\",\n\n\"aaSorting\": [[ 0, \"asc\" ]]\n\n});\n\n});  &lt;/script&gt;\n</code></pre>\n\n<p>to call datatables in controller codeigniter . the function controller is \"ajax_view_panen\"</p>\n\n<p>this is my controller</p>\n\n<pre><code>function ajax_view_panen()\n{\n$this-&gt;load-&gt;library('Datatables');\n$this-&gt;datatables-&gt;from('panen');\n$this-&gt;datatables-&gt;select('id,jml_panen,hariff_blok_id,hariff_afdeling_id,tgl_panen,bulan');\n$this-&gt;datatables-&gt;where('id', $afd);\necho $this-&gt;datatables-&gt;generate();\n}\n</code></pre>\n\n<p>the question is how to send variable <code>$afd</code> to my controller. so the variable is inside query <code>$this-&gt;datatables-&gt;where('id', $afd);</code> so the datatables show <code>id = 1</code></p>\n\n<p>sory for my bad english.</p>\n\n<p>BR</p>\n\n<p>Alex</p>\n"},{"tags":["php","soap","dynamics-crm","dynamics-crm-2011"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13269533,"title":"Get updated records from Dynamics CRM 2011 via SOAP","body":"<p>We're writing a web-frontend for at Dynamics CRM 2011 system, using PHP and SOAP (NuSOAP). \nIn the process of doing so we need to retrieve entities that has been updated since our last import. </p>\n\n<p>I've looked around the existing CRM Frontend, to see if anything there might give a hint as what to add as criteria, but to no avail.</p>\n\n<p>The xml for a standard query looks like this:</p>\n\n<pre><code>&lt;RetrieveMultiple xmlns=\"http://schemas.microsoft.com/crm/2007/WebServices\"&gt;\n&lt;query xmlns:q1=\"http://schemas.microsoft.com/crm/2006/Query\" xsi:type=\"q1:QueryExpression\"&gt;\n    &lt;q1:EntityName&gt;new_arrangement&lt;/q1:EntityName&gt;\n    &lt;q1:ColumnSet xsi:type=\"q1:ColumnSet\"&gt;\n        &lt;q1:Attributes&gt;\n            &lt;q1:Attribute&gt;subject&lt;/q1:Attribute&gt;\n            &lt;q1:Attribute&gt;activitytypecode&lt;/q1:Attribute&gt;\n            &lt;q1:Attribute&gt;regardingobjectid&lt;/q1:Attribute&gt;\n            &lt;q1:Attribute&gt;scheduledstart&lt;/q1:Attribute&gt;\n            &lt;q1:Attribute&gt;scheduledend&lt;/q1:Attribute&gt;\n        &lt;/q1:Attributes&gt;\n    &lt;/q1:ColumnSet&gt;\n    &lt;q1:Criteria&gt;\n        &lt;q1:FilterOperator&gt;And&lt;/q1:FilterOperator&gt;\n            &lt;q1:Condition&gt;\n                &lt;q1:AttributeName&gt;statecode&lt;/q1:AttributeName&gt;\n                &lt;q1:Operator&gt;Equal&lt;/q1:Operator&gt;\n                &lt;q1:Values&gt;\n                    &lt;q1:Value xsi:type=\"xsd:string\"&gt;Open&lt;/q1:Value&gt;\n                &lt;/q1:Values&gt;\n            &lt;/q1:Condition&gt;\n        &lt;/q1:Conditions&gt;\n    &lt;/q1:Criteria&gt;\n    &lt;q1:Orders&gt;\n        &lt;q1:Order&gt;\n            &lt;q1:AttributeName&gt;subject&lt;/q1:AttributeName&gt;\n            &lt;q1:OrderType&gt;Ascending&lt;/q1:OrderType&gt;\n        &lt;/q1:Order&gt;\n    &lt;/q1:Orders&gt;\n    &lt;q1:Distinct&gt;false&lt;/q1:Distinct&gt;\n    &lt;q1:PageInfo&gt;\n        &lt;q1:PageNumber&gt;1&lt;/q1:PageNumber&gt;\n        &lt;q1:Count&gt;20&lt;/q1:Count&gt;\n    &lt;/q1:PageInfo&gt;\n&lt;/query&gt;\n</code></pre>\n\n<p></p>\n\n<p>So I'm looking for help with regards to which attribute I should add as a Condition.</p>\n"},{"tags":["php","url","path","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13269053,"title":"Yii - how to access the base URL in main config","body":"<p>I am working on a Yii application. I am trying to set some paths in my main config params like this:</p>\n\n<pre><code>// application-level parameters that can be accessed\n// using Yii::app()-&gt;params['paramName']\n'params'=&gt;array(\n       'paths' =&gt; array(\n            'imageTemp'=&gt; Yii::getPathOfAlias('webroot').'/files/temp-',\n            'image'=&gt; Yii::getPathOfAlias('webroot').'/files/',\n            ...\n        ),\n\n        'urls' =&gt; array(\n            'imageTemp'=&gt; Yii::app()-&gt;getBaseUrl().'/files/temp-',\n            'image'=&gt; Yii::app()-&gt;getBaseUrl().'/files/',\n            ...\n        ),\n</code></pre>\n\n<p>But I am getting this error:</p>\n\n<pre><code>Fatal error: Call to a member function getBaseUrl() on a non-object in ..blahblah../base/CApplication.php on line 553\n</code></pre>\n\n<p>I think I cannot use Yii::app() in config file since the app is not initialized yet here, or something like this. So, how can I replace <code>Yii::app()-&gt;getBaseUrl()</code> in the config file and get the same results?</p>\n"},{"tags":["php","ajax","google-charts","google-charts-api"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":857,"score":1,"question_id":8448372,"title":"Load a Google Chart from an asynchronous AJAX response","body":"<p>In the old Google Chart API it was possible to use PHP to render a chart, there was even a wrapper to do it:\n<a href=\"http://code.google.com/p/gchartphp/\" rel=\"nofollow\">http://code.google.com/p/gchartphp/</a></p>\n\n<p>But with the new Chart API\n<a href=\"http://code.google.com/apis/chart/\" rel=\"nofollow\">http://code.google.com/apis/chart/</a> \nwhich produces much fancier chart, but loads only with javascript in the browser.</p>\n\n<p>The effect I am trying to achieve is submitting a multiple choice form to the server via AJAX, have the PHP update the DB serverside, then return the updated chart.</p>\n\n<p>In the old API way I could have done this. But in the new way I would be returning javascript to the browser and appending it to the document in order to render the chart. It wouldn't execute because of this. I believe I could eval() this javascript but that is bad form isn't it because someone could do some nasty stuff with that couldn't they - eval()ing a serverside response?</p>\n\n<p>How can I overcome this? Is there a PHP wrapper to help this? Or is there another why which I have overlooked?</p>\n\n<p>Many thanks</p>\n"},{"tags":["php","zend-framework","pdo","while-loop","fetch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13271272,"title":"Zend Framework Using fetch() statement in a loop, internal query doesn't work","body":"<p>I can't solve this one.</p>\n\n<p>I have multiple while, and the one inside fetch only the first result and stop ...</p>\n\n<p>Here is the code : </p>\n\n<p>$categories is an array </p>\n\n<pre><code>array(18) {\n  [0] =&gt; array(7) {\n[\"category_id\"] =&gt; string(1) \"1\"\n[\"category_name\"] =&gt; string(5) \"pizza\"\n[\"category_display\"] =&gt; string(5) \"pizza\"\n[\"category_active\"] =&gt; string(1) \"1\"\n[\"category_parent\"] =&gt; string(1) \"0\"\n[\"category_position\"] =&gt; string(1) \"1\"\n[\"category_user_discount\"] =&gt; string(2) \"50\"\n}\n[1] =&gt; array(7) {\n[\"category_id\"] =&gt; string(1) \"2\"\n[\"category_name\"] =&gt; string(4) \"menu\"\n[\"category_display\"] =&gt; string(4) \"menu\"\n[\"category_active\"] =&gt; string(1) \"1\"\n[\"category_parent\"] =&gt; string(1) \"0\"\n[\"category_position\"] =&gt; string(1) \"2\"\n[\"category_user_discount\"] =&gt; string(2) \"30\"\n}\n}\n\n$stmt = $db-&gt;query(\"SELECT sell_id FROM sell WHERE sell.sell_status = 'close' AND sell_period_id &gt;= '\".$liste[0].\"' AND sell_period_id &lt;= '\".$liste[1].\"' \");\n\nforeach ($categories as $cat)\n{\n    while ($sell2 = $stmt-&gt;fetch())\n    {\n        $stmt2 = $this-&gt;db-&gt;query(\"SELECT * FROM sellcart WHERE sellcart_status = 'close' AND sellcart_sell_id =  '\".$sell2['sell_id'].\"' \");\n\n        while ($sellitem = $stmt2-&gt;fetch())\n        {\n            echo $sellitem['sellcart_item_category'];\n        }\n    }\n}\n</code></pre>\n\n<p>The first loop is OK, but it doesn't loop into the second $cat ...</p>\n\n<p>Any idea ?</p>\n\n<p>Thanks for your help !!!</p>\n"},{"tags":["php","uploadify"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1632,"score":1,"question_id":7363317,"title":"uploadify - rename uploaded file ","body":"<p>Hy , i was looking at uploadify.php and did'n understand a thing.</p>\n\n<p>I have a form like this : </p>\n\n<pre><code>&lt;form id=\"formid\" name=\"upload_pic\" action=\"upload.php\"&gt;\n&lt;select name=\"product_id\"&gt;\n&lt;option value=\"1\"&gt;Apples&lt;/option&gt;\n&lt;option value=\"2\"&gt;Oranges&lt;/option&gt;\n... etc\n&lt;/select&gt;\n&lt;input id=\"file_upload\" name=\"file_upload\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and my uploadify settings are :</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n  $('#file_upload').uploadify({\n    'uploader'  : 'uploadify/uploadify.swf',\n    'script'    : 'uploadify/uploadify.php',\n    'cancelImg' : 'uploadify/cancel.png',\n    'folder'    : '../images/level3/tabv_all/tab_header/',\n    'auto'      : false,\n    'multi'     : true,\n    'fileExt'     : '*.jpg',\n    'fileDesc'    : 'ONLY JPG (.JPG)',\n    'removeCompleted' : false\n  });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>What i want to do is that if the user select <code>Apples</code> wich has the <code>id=1</code> and <code>browse for a file like Tasty_apples.jpg</code>  -> the uploaded file to  be renames to <code>product@1@Tasty_apples.jpg</code> and then to be inserted in mysql like that? </p>\n\n<p>The main question is how to add the extra <code>product@id@</code> to a file based on a <code>&lt;select&gt;&lt;option&gt; value</code> ?</p>\n\n<p>Thank you very much </p>\n\n<p>The uploadify.php is this :</p>\n\n<pre><code>if (!empty($_FILES)) {\n    $tempFile = $_FILES['Filedata']['tmp_name'];\n    $targetPath = $_SERVER['DOCUMENT_ROOT'] . $_REQUEST['folder'] . '/';\n    $targetFile =  str_replace('//','/',$targetPath) . $_FILES['Filedata']['name'];\n\n    move_uploaded_file($tempFile,$targetFile);\n    echo str_replace($_SERVER['DOCUMENT_ROOT'],'',$targetFile);\n}\n</code></pre>\n"},{"tags":["php","json","null","json-encode"],"answer_count":5,"favorite_count":9,"up_vote_count":30,"down_vote_count":0,"view_count":13744,"score":30,"question_id":1972006,"title":"json_encode is returning NULL?","body":"<p>For some reason the item \"description\" returns <code>NULL</code> with the following code:</p>\n\n<pre><code>&lt;?php\ninclude('db.php');\n\n$result = mysql_query('SELECT * FROM `staff` ORDER BY `id` DESC LIMIT 2') or die(mysql_error());\n$rows = array();\nwhile($row = mysql_fetch_assoc($result)){\n    $rows[] = $row;\n}\n\necho json_encode($rows);\n?&gt;\n</code></pre>\n\n<p>Here is the schema for my database:</p>\n\n<pre><code>CREATE TABLE `staff` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` longtext COLLATE utf8_unicode_ci,\n  `description` longtext COLLATE utf8_unicode_ci,\n  `icon` longtext COLLATE utf8_unicode_ci,\n  `date` longtext COLLATE utf8_unicode_ci,\n  `company` longtext COLLATE utf8_unicode_ci,\n  `companyurl` longtext COLLATE utf8_unicode_ci,\n  `appurl` longtext COLLATE utf8_unicode_ci,\n  PRIMARY KEY (`id`)\n) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\n</code></pre>\n\n<p>Here is what is echoed out on the page:</p>\n\n<pre><code>[{\"id\":\"4\",\"name\":\"Noter 2\",\"description\":null,\"icon\":\"http:\\/\\/images.apple.com\\/webapps\\/productivity\\/images\\/noter2_20091223182720-thumb.jpg\",\"date\":\"1262032317\",\"company\":\"dBelement, LLC\",\"companyurl\":\"http:\\/\\/dbelement.com\\/\",\"appurl\":\"http:\\/\\/noter2.dbelement.com\"},{\"id\":\"3\",\"name\":\"Noter 2\",\"description\":null,\"icon\":\"http:\\/\\/images.apple.com\\/webapps\\/productivity\\/images\\/noter2_20091223182720-thumb.jpg\",\"date\":\"1262032317\",\"company\":\"dBelement, LLC\",\"companyurl\":\"http:\\/\\/dbelement.com\\/\",\"appurl\":\"http:\\/\\/noter2.dbelement.com\"}]\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["php","oop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13271142,"title":"PHP OOP message not displaying","body":"<p>I just started studying OOP and I have a question/problem.</p>\n\n<p>My script is suppose to display \"The message is Failed\", but <code>$db-&gt;displayMessage()</code> is empty or display nothing. Why is that?</p>\n\n<pre><code>&lt;?php\nclass Database {\n\n    private $connection, $message;\n\n    public function __contruct($server, $username, $password, $database) {\n        /**\n        $this-&gt;connection = mysql_connect($server, $username, $password);\n        mysql_select_db($database, $this-&gt;connection);\n        **/\n\n        if(mysql_connect($server, $username, $password)) {\n            $this-&gt;message = 'Success';\n        }\n        else {\n            $this-&gt;message = 'Failed';\n        }\n    }\n\n    public function displayMessage() {\n        return $this-&gt;message;\n    }\n\n}\n\n$db = new Database('localhost444', 'user', '', 'cart');\n\necho 'The message is ' . $db-&gt;displayMessage();\n\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","tinymce"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13268748,"title":"TinyMCE Change language","body":"<p>Goodmoring,</p>\n\n<p>Today i have installed TinyMCE on my custom made CMS. \nNow i want to change the language to dutch, my whole tinyMCE textbox will disappear.</p>\n\n<p>I have uploaden the dutch files to the locations specified by TinyMCE. When i don't add the language : \"nl\", line to my TinyMCE javascript it will work (language is English). But when I add the line, the whole textbox disappear from my page.</p>\n\n<p>This is my Code</p>\n\n<pre><code> &lt;script type=\"text/javascript\" src=\"jscripts/tiny_mce/jquery.tinymce.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $().ready(function() {\n            $('textarea.tinymce').tinymce({\n\n                // Location of TinyMCE script\n                script_url : 'jscripts/tiny_mce/tiny_mce.js',\n\n                // General options\n                theme : \"advanced\",\n\n                relative_urls : false,\n                plugins : \"youtubeIframe,jbimages,autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,images,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,advlist,jbimages\",\n\n                // Theme options\n                theme_advanced_buttons1 : \"code,preview,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,formatselect\",\n                theme_advanced_buttons2 : \"cut,copy,paste,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,|,insertdate,inserttime\",\n                theme_advanced_buttons3 : \"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,iespell,youtubeIframe,jbimages,advhr,|,print,|,ltr,rtl,|,fullscreen\",\n\n\n                //COMPLETE LIJST VAN FUNCTIES\n                //theme_advanced_buttons1 : \"save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect\",\n                //theme_advanced_buttons2 : \"cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor\",\n                //theme_advanced_buttons3 : \"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen\",\n                //theme_advanced_buttons4 : \"insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,pagebreak\",\n\n\n\n                theme_advanced_toolbar_location : \"top\",\n                theme_advanced_toolbar_align : \"left\",\n                theme_advanced_statusbar_location : \"bottom\",\n                theme_advanced_resizing : true,\n                language : \"nl\",\n                // Example content CSS (should be your site CSS)\n                content_css : \"css/style.css\",\n\n                // Drop lists for link/image/media/template dialogs\n                template_external_list_url : \"lists/template_list.js\",\n                external_link_list_url : \"lists/link_list.js\",\n                external_image_list_url : \"lists/image_list.js\",\n                media_external_list_url : \"lists/media_list.js\",\n\n                // Replace values for the template plugin\n                template_replace_values : {\n                    username : \"Some User\",\n                    staffid : \"991234\",\n                width : \"858\"\n                }\n            });\n        });\n    &lt;/script&gt;\n    &lt;!-- /TinyMCE --&gt;\n</code></pre>\n\n<p>I have tried to place the line in other places, but nothing helps. </p>\n\n<p>Has anybody an idea to solve this problem, i really need the dutch language.</p>\n\n<p>PS. I'm working with the jQuery version of TinyMCE</p>\n\n<p>No I have tried to rename the nl file to en.js en changed the 2 letters inside of the file. But now nothing show up. The only thing I see now is as example print.print_desc instead of printing or print.</p>\n"},{"tags":["php","cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13271139,"title":"Best method to keep user logged in?","body":"<p>I want to know in my application which is mainly php, which is best method in order to keep a user logged into a site until they have logged off. Could it be tokens, sessionlife, cookies etc?</p>\n\n<p>At the moment this is how my login and logoff system works:</p>\n\n<p>When a user logs in, it stores in their details in a $_SESSION:</p>\n\n<pre><code>if (isset($_SESSION['teacherid'])) {\n\n      $userid = $_SESSION['teacherid'];\n\n  }\n\nif (isset($_SESSION['teacherusername'])) {\n\n      $username = $_SESSION['teacherusername'];\n\n  }\n</code></pre>\n\n<p>Then in every script it contains the code below where the sessionlife lasts for 12 hours:</p>\n\n<pre><code>&lt;?php\n\nini_set('session.gc_maxlifetime',12*60*60);\nini_set('session.gc_divisor', '1');\nini_set('session.gc_probability', '1');\nini_set('session.cookie_lifetime', '0');\nrequire_once 'init.php'; \n\nsession_start();\n\n?&gt;\n</code></pre>\n\n<p>init.php is this below:</p>\n\n<pre><code> &lt;?php\n session_save_path('Session'); \n ?&gt;\n</code></pre>\n\n<p>Now after 12 hours the next time the user refreshes the page, as the session will be destroyed, it goes to the logoff page:</p>\n\n<pre><code>    if ((isset($username)) &amp;&amp; (isset($userid))){\n        session_destroy();\n        echo \"You have been Logged Out | &lt;a href='./home.php'&gt;Home&lt;/a&gt;\";\n    }\n\n    else {\n\n        echo \"You are Not Logged In\";\n\n    }\n</code></pre>\n\n<p>Obviously if the user clicks on the logout page then it navigates to script above.</p>\n\n<p>But is this a good way of doing it? Is there a much more convenient way because if you look at proper web applications, they can keep users logged in for days, but how do they do this?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","xml","curl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13251049,"title":"PHP remote CURL to be forced to read instead of download the file","body":"<p>I have been searching in google and in Stackoverflow for an answer to my issue here.</p>\n\n<p>Idea: Building a personal RSS feed reader (For my personal use).</p>\n\n<p>The goal is: To read an xml file from a remote server.</p>\n\n<p>Tools: Using CURL to read the xml file and do some parsing to meet my needs.</p>\n\n<p>The remote server (issue): The remote server builds the xml file on the fly based on my query, AND THEN, download a .rss file which contains the xml text!</p>\n\n<p>My problem is that I would like to JUST read the file that's returned from the query, instead of having the file downloaded! Like any CURL request.\nThe CURL fail to do this for me where the remote server force the dot rss file to download, and not displayed.</p>\n\n<p>I hope I have been as clear as I could in the explanation of my issue.</p>\n\n<p>The current code that I have is:</p>\n\n<pre><code>$ch = curl_init(); \n\n// set url \ncurl_setopt($ch, CURLOPT_URL, \"www.example.com/rss.php?q=latest_news_of_programming\"); \n\n//return the transfer as a string \ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); \n\n// $output contains the output string \n$output = curl_exec($ch); \necho $output;\n// close curl resource to free up system resources \ncurl_close($ch);  \n</code></pre>\n"},{"tags":["php","javascript","geolocation","location"],"answer_count":4,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":9685,"score":6,"question_id":4179000,"title":"best way to detect country / location of visitor?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2574542/location-detecting-tecniques-for-ip-addresses\">Location detecting tecniques for IP addresses</a>  </p>\n</blockquote>\n\n\n\n<p>For our website it's important to know from exactly which country our visitor is coming from.</p>\n\n<p>I guess the best answer for my question would be the simple geo location feature of current browser systems, which just ask the user if the website is allowed to see his geographic location: <a href=\"http://dev.w3.org/geo/api/spec-source.html\">http://dev.w3.org/geo/api/spec-source.html</a></p>\n\n<p>but i don't want want to bother visitor with questions, i would love to automatically detects the visitor's location (country should be enough.)</p>\n\n<p>What's the best way to do this?\n- what ip database would be the best?\n- is the browser header trustable enough to detect his country? (en-us en-en en-ca?)\nWhat's the best solution?</p>\n"},{"tags":["php","mysql","pdo"],"answer_count":4,"favorite_count":5,"up_vote_count":12,"down_vote_count":0,"view_count":11088,"score":12,"question_id":1819592,"title":"Error when connecting to MySQL using PHP/PDO","body":"<p>My code was working all fine yesterday and today it suddenly just don't want to connect to my database. I have changed no settings on it or on the code and I haven't updated any software either. All I do is this:</p>\n\n<p><code>\nnew PDO('mysql:host=localhost;port=3306;dbname=test', 'username', 'password');\n</code></p>\n\n<p>And I get a nice exception message saying this:</p>\n\n<p><code>\nWarning: PDO::__construct(): [2002] No such file or directory (trying to connect via unix:///tmp/mysql.sock) in ...\n</code></p>\n\n<p>The thing is: I'm clearly not trying to connect using a unix socket but using TCP/IP. What am I doing wrong? Is there something I'm missing here?</p>\n\n<p>Thanks for any help.</p>\n"},{"tags":["php","yii"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":55,"score":-4,"question_id":13270902,"title":"Yii Rule Age + 18","body":"<p>I tried to make a rule to accept only +18, but its not working.\nThat rule is simply ignored, and all dates accepted.\nHow do I make this rule works?</p>\n\n<pre><code> array(\n    'birthday',\n    'compare',\n    'compareValue' =&gt; date('d/m/Y', strtotime('-18 year')),\n    'operator'     =&gt; '&lt;',\n    'message'      =&gt; 'You need to be + 18.'\n ),\n</code></pre>\n"},{"tags":["php","javascript","jquery"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":101,"score":2,"question_id":10226778,"title":"Making Subids And Postback Tracking Work","body":"<p>I am coding a Bounty Script in Php. (Reward Script),using open source code from Prosper202.Trying to track leads with Subids and Postbacks.I am not able to get this stuff to work.\nExample.</p>\n\n<p>I would like to append Unique id at end of url.\nLike <code>http://google.com/c3={unique_id}</code></p>\n\n<p>Here Unique id needs to be generated randomly atleast vaild for 15 minutes and needs to be stored in Mysql database.</p>\n\n<p>When Successful third party server sends postback in format.</p>\n\n<pre><code>http://watever.com/c3={unique_id}\n</code></pre>\n\n<p>We then need to compare both in real time. (this needs to be as fast as possible to avoid delays to end user.)</p>\n\n<p>What should we use in this Case?</p>\n\n<p>JavaScript to use for Postback or php?</p>\n\n<p>And how to manipulate the postback in php script.</p>\n\n<p>As i mentioned. This Script Prosper202 also have same feature of tracking postbacks.\nBut i am not able to extract useful code from it.</p>\n\n<p><strong>Resources:-</strong></p>\n\n<pre><code>http://prosper.tracking202.com/apps/\nhttp://prosper.tracking202.com/forum/6/21/tracking-subids#7848\n</code></pre>\n"},{"tags":["php","arrays","loops","foreach"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13270870,"title":"Wrapping a div around every third item in a foreach loop PHP","body":"<pre><code>//set the array\n$info = array(\n'andy' =&gt; 'blue',\n'andrew' =&gt; 'black',\n'mark' =&gt; 'green',\n'jane' =&gt; 'orange',\n'simon' =&gt; 'red',\n'joan' =&gt; 'pink',\n'sue' =&gt; 'yellow',\n'alan' =&gt; 'black') \n\n\n$i = 1;\n\nforeach($info as $key =&gt; $val){\n\n    &lt;div class=\"holder\"&gt;\n        &lt;div class=\"name\"&gt;\n            &lt;?php echo $Name ?&gt; \n        &lt;/div&gt;\n        &lt;div class=\"colour\"&gt;\n            &lt;?php echo $colour ?&gt; \n        &lt;/div&gt;\n    &lt;/div&gt;\n} \n</code></pre>\n\n<p>This dispalys each \"holder\" class... but what I am wanting to do is wrap a container around the \"holder\" class and have 3 \"holder\" in each \"container\". \neg: </p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;div class=\"holder\"&gt;\n            &lt;div class=\"name\"&gt;\n                &lt;?php echo $Name ?&gt; \n            &lt;/div&gt;\n            &lt;div class=\"colour\"&gt;\n                &lt;?php echo $colour ?&gt; \n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;div class=\"holder\"&gt;\n            &lt;div class=\"name\"&gt;\n                &lt;?php echo $Name ?&gt; \n            &lt;/div&gt;\n            &lt;div class=\"colour\"&gt;\n                &lt;?php echo $colour ?&gt; \n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;div class=\"holder\"&gt;\n            &lt;div class=\"name\"&gt;\n                &lt;?php echo $Name ?&gt; \n            &lt;/div&gt;\n            &lt;div class=\"colour\"&gt;\n                &lt;?php echo $colour ?&gt; \n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I cant find out how to either get the index of the associative array, or how to break a foreach loop once %3 == 0. </p>\n\n<p>Any suggestions would be awesome! </p>\n\n<p>-Ved</p>\n"},{"tags":["php","css"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":45,"score":-3,"question_id":13270506,"title":"PHP: Determine Text Colour based on value","body":"<p>I've stored values in an array and I want to apply conditional formatting to the output when I access them.\nI want the text of the values, less than or equal to 10, displayed in red or, greater than 10, displayed in green.</p>\n\n<p>For example, below, I would like the resultant value of 5 to be displayed in red.</p>\n\n<p>I'm a newbie to this but would assume I would need the help of CSS to achieve this.</p>\n\n<p>Any advice would be appreciated.</p>\n\n<pre><code>&lt;?php\n\n$total_sql=array();\n$total_sql[]=5;\n$total_sql[]=10;\n$total_sql[]=15;\n$total_sql[]=20;\n\nprint($total_sql[0]);\n\n?&gt;\n</code></pre>\n"},{"tags":["php","yii"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":651,"score":0,"question_id":10780917,"title":"yii CGridView encoded the value","body":"<p>I'm following the documents here <a href=\"http://www.yiiframework.com/wiki/278/cgridview-render-customized-complex-datacolumns/\" rel=\"nofollow\">http://www.yiiframework.com/wiki/278/cgridview-render-customized-complex-datacolumns/</a></p>\n\n<p>So I have the following in view</p>\n\n<pre><code>$this-&gt;widget('zii.widgets.grid.CGridView', array(\n'id'=&gt;'item-table-grid',\n'dataProvider'=&gt;$model-&gt;search(),\n'itemsCssClass'=&gt;'item-table-grid',\n'columns'=&gt;array(\n    'customer_name',\n    array(\n        'name'=&gt;'Edit',\n        'value'=&gt;array($model, 'editLink'),\n    ),\n),\n));\n</code></pre>\n\n<p>And here is the editLink function in model</p>\n\n<pre><code>public function editLink($data, $row) {\n    $link = '';\n    if ($data-&gt;is_draft) {\n        $link = '&lt;a href=\"customer/update/'.$data-&gt;id.'\"&gt;Edit&lt;/a&gt;';\n    }\n    return $link;\n}\n</code></pre>\n\n<p>The problem that I'm having is that the return value is encoded so I get &lt;a href=...></p>\n\n<p>Is there a way to tell CGridView not to encode the value?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","facebook-php-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13269610,"title":"App authentication failing on mobile devices only","body":"<p>I have a Facebook app using the PHP SDK. This is all working fine, except that when a user visits it on a mobile device (by visiting <code>apps.facebook.com/myappname/</code> using their web browser), the login is getting stuck in an infinite redirect loop (presumably continually redirecting them back to the Facebook login page).</p>\n\n<p>The login code is pretty standard:</p>\n\n<pre><code>$userID = $facebook-&gt;getUser();\nif ($userID) {\n    [store stuff in session]\n\n} else {\n    [Javascript redirect to $facebook-&gt;getLoginUrl()]\n}\n</code></pre>\n\n<p>this was working before but must have been broken with one of Facebook's recent changes. </p>\n"},{"tags":["php","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13266349,"title":"php,symfony 2 filter case sensitive","body":"<p>I want to ignore case in a filter , My code:</p>\n\n<pre><code>if (strtolower(isset($filterObject['name'])) &amp;&amp; null !== strtolower(($filterObject['name']))) {\n    $queryFilter-&gt;addStringFilter(\"name\", ($filterObject['name']));\n}\n</code></pre>\n"},{"tags":["php","memory","memory-management"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13270594,"title":"exhausted memory while allocating","body":"<p><strong>CODE:</strong></p>\n\n<pre><code>if (flock($fp, LOCK_EX))\n{\n    fwrite($fp, serialize($this-&gt;_contents));\n    flock($fp, LOCK_UN);\n}\n</code></pre>\n\n<p><strong>ERROR:</strong></p>\n\n<pre><code>Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 17805286 bytes).....\n</code></pre>\n\n<p><strong>ERROR LINE:</strong></p>\n\n<pre><code>fwrite($fp, serialize($this-&gt;_contents));\n</code></pre>\n\n<p>Any idea how to solve the issue? My site hosted on shared hosting so I have no chance changing memory settings.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","html","mysql","post","file-upload"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13270210,"title":"Upload multiple files to server and","body":"<p>My first post so be gentle! I've tried searching for this and there are many similar posts, but I can't seem to find anything exactly like my problem and I have been at this for hours! :-/</p>\n\n<p>I'm building a system in PHP (5.3) and MySQL and part of the functionality is that a user is required to upload some files based on some previous selections. An example form is as follows:</p>\n\n<pre><code>&lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\" id=\"uploadFiles\"&gt;\n&lt;p&gt;\n&lt;label for=\"file1\"&gt;Upload file 1:&lt;/label&gt;\n&lt;input type=\"file\" name=\"file1\" id=\"image\"&gt;\n&lt;/p&gt;\n&lt;p&gt;\n&lt;label for=\"file2\"&gt;Upload file 2:&lt;/label&gt;\n&lt;input type=\"file\" name=\"file2\" id=\"image2\"&gt;\n&lt;/p&gt;\n&lt;p&gt;\n&lt;input type=\"submit\" name=\"upload\" id=\"upload\" value=\"Upload\"&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>In this instance the user is required to upload two different documents. This all works for me and I can save the 2 files to the server and then insert 2 records to a table in the database with the file name, file type (pdf, jpg) and user id etc by looping through \"$_FILES\" in my Upload class.</p>\n\n<p>What I am trying to do however is somehow add the name attribute <code>&lt;input name=\"foo\"&gt;</code> to the inserted row so that \"File 1\" would have \"file1\" in a column called document_type and \"File 2\" would have \"file2\". That way I can do a basic check in MySQL to see if the user has uploaded the appropriate files.</p>\n\n<p>To cut to the chase, is there a way to assign or associate the INPUT \"name\" attribute to each file in $_FILES in my Upload class so that when when I loop through $_FILES, there is a unique document_type? </p>\n\n<p>Please let me know if you require further information regarding my setup.</p>\n"},{"tags":["php","cookies","affiliate"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13270499,"title":"Is there a way to check if a website places cookies based on there URL?","body":"<p>Is there a way to check if a website places cookies based on their URL? I would prefer to do this in PHP. Wonder if I would need to use CURL?</p>\n\n<p>Just trying to figure out how to ping a url to see if it would place a cookie on my machine and then get a little info about that cookie. The reason I am doing this is because I am trying to find an easy way to catch typo squatters for my brand so I want to see if affiliate pixels are being placed for my affiliate programs.</p>\n"},{"tags":["c#","php","md5sum"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":13200767,"title":"c# hash and php MD5 file/folder hash not the same","body":"<p>I have to MD5 hash files/folders on both a client(C#) and a server(PHP) file structure. (Server land is PHP and client land is c#.) The problem is while they work they do not match. Any ideas would be greatly appreciated</p>\n\n<p>Here are my two algorithms</p>\n\n<p>C#</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Security.Cryptography;\nusing System.Text;\n\nnamespace nofolder\n{\n    public class classHasher\n    {\n        /**********\n         *  recursive folder MD5 hash of a dir\n         */\n        MD5 hashAlgo = null;\n        StringBuilder sb;\n        public classHasher()\n        {\n            hashAlgo = new MD5CryptoServiceProvider();\n        }\n        public string getHash(String path)\n        {\n            // get the file attributes for file or directory\n            if (File.Exists(path)) return getHashOverFile(path);\n            if (Directory.Exists(path)) return getHashOverFolder(path);\n            return \"\";\n        }\n        public string getHashOverFolder(String path)\n        {\n            sb = new StringBuilder();\n            getFolderContents(path);\n            return sb.ToString().GetHashCode().ToString();\n        }\n        public string getHashOverFile(String filename)\n        {\n            sb = new StringBuilder();\n            getFileHash(filename);\n            return sb.ToString().GetHashCode().ToString();\n        }\n        private void getFolderContents(string fold)\n        {\n            foreach (var d in Directory.GetDirectories(fold))\n            {\n                getFolderContents(d);\n            }\n            foreach (var f in Directory.GetFiles(fold))\n            {\n                getFileHash(f);\n            }\n        }\n        private void getFileHash(String f)\n        {\n            using (FileStream file = new FileStream(f, FileMode.Open, FileAccess.Read))\n            {\n                byte[] retVal = hashAlgo.ComputeHash(file);\n                file.Close();\n                foreach (var y in retVal)\n                {\n                    sb.Append(y.ToString());\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>PHP</p>\n\n<pre><code>function include__md5_dir($dir){\n    /**********\n    *   recursive folder MD5 hash of a dir\n    */\n    if (!is_dir($dir)){\n        return  md5_file($dir);\n    }\n\n    $filemd5s = array();\n    $d = dir($dir);\n\n    while (false !== ($entry = $d-&gt;read())){\n        if ($entry != '.' &amp;&amp; $entry != '..'){\n             if (is_dir($dir.'/'.$entry)){\n                 $filemd5s[] = include__md5_dir($dir.'/'.$entry);\n             }\n             else{\n                 $filemd5s[] = md5_file($dir.'/'.$entry);\n             }\n         }\n    }\n    $d-&gt;close();\n    return md5(implode('', $filemd5s));\n}\n</code></pre>\n\n<p><strong>EDIT.</strong></p>\n\n<p>I have decided <em>the c# must change</em>. <strong>the PHP is fine as it is</strong>. The first code that works 100% gets the bounty</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":3119,"score":2,"question_id":5420156,"title":"mysql move row between tables","body":"<p>I have 2 tables, table1 and table2.</p>\n\n<p>I have a row in table1 and want to move it to table2 and remove it from table1.  Basically, a cut+paste.</p>\n\n<p>I am using php.  My current plan is to select from table1, store data in php, insert into table2, then delete from table1.  This seems like a very long process.</p>\n\n<p>Is this really the best way to do this?</p>\n"},{"tags":["php","xml","parsing","structure"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":42,"score":-4,"question_id":13270605,"title":"Parsing xml in php?","body":"<p>I want to parse the following xml , I have tried, but nothing is displayed.</p>\n\n<pre><code>This is my xml structure:\n    &lt;counties&gt;\n&lt;county couid=\"01037\" stuid=\"01\" statename=\"Alabama\" name=\"Coosa\" pop=\"11706\" hhds=\"4794\" hvac_csp=\"361257\" dealer_sales=\"30849.8691546544\" dealer_pen=\"0.0853959069434071\" latitude=\"32.9362354377436\" longitude=\"-86.2476641013554\" multi=\"0\"&gt;\n&lt;point lng=\"-86.174369999999911\" lat=\"33.104393999999964\"/&gt;&lt;point lng=\"-86.162540999999919\" lat=\"33.104451999999974\"/&gt;\n&lt;point lng=\"-86.146682999999911\" lat=\"33.104493999999974\"/&gt;&lt;point lng=\"-86.145256999999916\" lat=\"33.104500999999964\"/&gt;\n&lt;point lng=\"-86.086237999999895\" lat=\"33.104701999999968\"/&gt;&lt;point lng=\"-86.079661999999914\" lat=\"33.104695999999961\"/&gt;\n&lt;point lng=\"-86.069885999999912\" lat=\"33.104686999999963\"/&gt;\n&lt;/county&gt;\n&lt;/counties&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13270214,"title":"PHP header shows blank page - how to trace it sent any other header before this?","body":"<p>I tried with making <code>display_errors</code> to 1 and <code>error_reporting(E_ALL)</code> to check whether any error or something. Code looks fine but it fails to redirect the page. It shows just blank page . If I use echo <code>'&lt;script&gt; window.location = 'someusrl'; &lt;/script&gt;'</code> it works.</p>\n\n<p>How can I trace the code where it exactly sends a header already ? Its a huge code and it includes thousands of files </p>\n\n<p>When I do header_list() i am getting </p>\n\n<pre><code>array(6) {\n  [0]=&gt;\n  string(23) \"X-Powered-By: PHP/5.3.5\"\n  [1]=&gt;\n  string(38) \"Expires: Mon, 26 Jul 1997 05:00:00 GMT\"\n  [2]=&gt;\n  string(44) \"Last-Modified: Wed, 07 Nov 2012 13:00:58 GMT\"\n  [3]=&gt;\n  string(50) \"Cache-Control: no-store, no-cache, must-revalidate\"\n  [4]=&gt;\n  string(40) \"Cache-Control: post-check=0, pre-check=0\"\n  [5]=&gt;\n  string(16) \"Pragma: no-cache\"\n}\n</code></pre>\n\n<p>Here anything that blocks redirection ?</p>\n\n<p><code>header_remove()</code>  also didn't worked. I have added this function just before the redirection call.</p>\n"},{"tags":["php","wordpress","internet-explorer-9","file-download"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13265126,"title":"Window Security pop up while downloading word document from Wordpress Website","body":"<p>I have a wordpress website which provides a download link to a word document. When user clicks on the download link in IE-9 a windows security pop up is shown to user. It works fine in all the other browsers. </p>\n\n<p>I have done some search and found that it is due to some security settings in IE-9. \nIs there any way I can overcome this setting because all the users will mostly have this security setting?</p>\n\n<p><strong>UPDATE</strong> This problem comes only if user selects open. If user selects save or save as option from the Save dialog it works fine.</p>\n\n<p>This is the security pop up</p>\n\n<p><img src=\"http://i.stack.imgur.com/XaH87.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","database","table","rowspan"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13270137,"title":"Php- Get records from database in table with rowspan","body":"<p>I've try a lot of ways to get this table print as good as it should but i failed\ni know it's simple thing so i hope u help me with it<br>\nhere's my code</p>\n\n<pre><code>&lt;?php\n    include('../connect.php');\n    $id=$_SESSION['login_user'];\n    $sql = \"Select CourseName , Studentname from course p natural join student t\"; \n    $rs_result = mysql_query ($sql, $connection); \n\n    echo \"&lt;center&gt;\";\n    echo \"&lt;table&gt;\";\n    echo \"&lt;tr&gt; &lt;th&gt;Course Name&lt;/th&gt; &lt;th&gt; Students Name&lt;/th&gt;  &lt;/tr&gt;\";\n\n    // loop through results of database query, displaying them in the table\n    while($row = mysql_fetch_array( $rs_result )) {\n        // echo out the contents of each row into a table\n        echo \"&lt;tr&gt;\";\n        echo '&lt;td&gt;' . $row['CourseName'] . '&lt;/td&gt;';\n        echo \"&lt;td rowspan=''&gt; $row[Studentname] &lt;/td&gt; \";\n        echo \"&lt;/tr&gt;\";\n    }\n\n    echo \"&lt;/table&gt;\"; \n    echo \"&lt;/center&gt;\";\n</code></pre>\n\n<p>?></p>\n\n<p>I want to be something like this</p>\n\n<pre><code>Course   |  Name   |   Student name  |\nMath101  |  john, Mike               |\n...\n</code></pre>\n\n<p>Also, is the JOIN query between the two tables CORRECT or not ???</p>\n\n<p>The two tables are:\nCourse ( Course name - Course id )\nStudent ( Student name - Course id )</p>\n"},{"tags":["php","javascript","jquery","ajax","browser"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":57,"score":-1,"question_id":13270407,"title":"Can we navigate to a different page if the user clicks on the back browser button?","body":"<p>I recieved a very helpful answer from Eric on how to display a confirmation is the user clicks on a browser back button, giving the user the choice if they want to go back or not.</p>\n\n<p>Below was his answer:</p>\n\n<p>You can use the <code>beforeunload</code> event to achieve this.</p>\n\n<pre><code>$(window).bind(\"beforeunload\", function() {\n    return \"HI\"; // Return whatever message you want\n});​\n</code></pre>\n\n<h2><a href=\"http://jsfiddle.net/CDSAF/\" rel=\"nofollow\">Fiddle</a></h2>\n\n<p><em>(To use the fiddle, just reload the page or navigate away or whatnot.)</em></p>\n\n<p>I would also suggest you unbind this upon someone leaving the page in the desired way (a cancel button?), or you may run into undesirable behavior.</p>\n\n<p>For example:</p>\n\n<pre><code>$(\"a\").click(function() {\n    $(window).unbind(\"beforeunload\");\n});\n</code></pre>\n\n<p><strong>QUESTION</strong></p>\n\n<p>Now below is something we discussed and we don't know if there is a clean way to do this but what I want to try and achieve is that if the user does confirm that they want to leave the page, then I want to navigate the user to a different script (Text4.php) and in this script it simply destroys the session and logs the user out. But I want to know if first of all if this is possible and second of all what is your ideas in order to answer this question?</p>\n"},{"tags":["php","mysql","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13268300,"title":"Reverse wildcard search in codeigniter","body":"<p>I am implementing a snippet-based content management system into my current project. Snippets can be associated with a page either by exact match of the full url falling back to a wildcard match on a partial url or finally a default snippet.</p>\n\n<p>To implement this I have a created table of page associations with a wildcard flag, the system first checks the current url against the non-wildcard associations and if it doesn't find a match it checks against the partial url's where the wildcard flag is set.</p>\n\n<p>In order to achieve this I am getting all the partial url's from the database and putting them into an array then walking the array to check for a match against the current url:</p>\n\n<pre><code>protected function _check_wildcard($url = NULL)\n{\n    if($url)\n    {\n        $q = $this-&gt;db-&gt;where('wildcard' ,'Y')\n                -&gt;from('content')\n                -&gt;get();\n        $wildcards = $q-&gt;result_array();\n\n        foreach($wildcards AS $wildcard)\n        {\n            if(strpos($url,$wildcard['url']) !== FALSE )\n            {\n                return $wildcard['snippet_id'];\n            }\n        }\n    }\n    else\n    {\n        return NULL;\n    }\n}\n</code></pre>\n\n<p>Can anyone suggest a better way to do this - preferably one that doesn't involve having to constantly download the full list of all the wildcards each time I load a page as I am afraid that this will have a negative effect on the scalability of the system down the line?</p>\n"},{"tags":["php","caching","magento","redis"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":849,"score":6,"question_id":10988132,"title":"Why Does Magento Invalidation of Full Page Caching on Product save actually make a page not cached and what does refresh do since it is not cached","body":"<p>So Caching of course is what confuses me the most in Magento, as it does for most others I am sure. Currently one of the sites we work on is on Enterprise and utilizes FPC of course. The problem is, we have an inventory update that runs every 15 minutes. A lot of orders are placed to CSR's over the phone and through a catalog into an external system outside of Magento.</p>\n\n<p>Every 15 minutes a script is ran to check any inventory in that system and to see if it differs then what is in Magento. If there is a difference then the inventory is updated in Magento. Using all Magento methods, no sql or anything like that.</p>\n\n<p>We have always had caching issues and have tried all of the latest techniques when they come out. The latest one we are trying is Redis, and we have had good success on other sites with it. However, we are still seeing crazy load on the server and it is apparent that pages aren't cached. </p>\n\n<p>After digging into the code it appears that after ever every model save or admin product controller save it looks to see if cache needs to be invalidated. It appears that changing any attribute, well at least inventory will mark FPC as needing to be invalidated.</p>\n\n<p>I am confused about what invalidation means, because a while back we had a question out to customer support about something similar and this was the response</p>\n\n<blockquote>\n  <p>Full Page cache will get to\n  invalidated state upon any changes on the products, categories, CMS\n  even when the stock is decreased after a sale.</p>\n  \n  <p>Now when full page cache gets to invalidated state this does not mean\n  that something is changed on your frontend however any changes applied\n  after the last refresh will not be shown on the frontend.</p>\n  \n  <p>However if having the FPC validated at all times is a must for your\n  business logic you could certainly set your Magento Installation to\n  refresh it automatically through cron functionality as often as you\n  desire.</p>\n</blockquote>\n\n<p>However on all of the tests that I have done, on both 1.9 and 1.11 Enterprise, it appears when FPC is invalidated, the response isn't being pulled in from cache. Which is contradictory to what they have said about it just not having the newer updates. </p>\n\n<p>Is there something I am missing? Does anyone have a good explanation for how the invalidation works in Magento specifically for FPC or any good links to fully understand the process and the code?</p>\n\n<p>You can try this yourself for any page that is full page cached. But it is my understanding that the method <code>processRequest</code> in <code>/app/code/core/Mage/Core/Model/Cache.php</code> should set the body content with the cached response and return true if the page is cached. </p>\n\n<p>To test go to any page make sure you got it cached and returning true. Go in and edit a product, in our case quantity. This will invalidate FPC. However now when you load the page that was cached before it will return false in this method and not be a cached page. I don't know if this is accurate to be able to tell if a page is cached or not but that is where my investigation lead me. Please correct me if I am wrong.</p>\n\n<p>UPDATE:\nUpon further investigation I have found that when you save a product in the admin, the controller action </p>\n\n<p><code>Mage_Adminhtml_Catalog_ProductController::saveAction()</code> </p>\n\n<p>will call the following method </p>\n\n<p><code>Mage::getModel('catalogrule/rule')-&gt;applyAllRulesToProduct($productId)</code> </p>\n\n<p>Then in the <code>Mage_CatalogRule_Model_Resource_Rule</code> class, the <code>applyAllRulesForDateRange</code> method is called and that fires off the event </p>\n\n<p><code>catalogrule_after_apply</code></p>\n\n<p>Which the Full Page Cache module is observing and firing the clean cache method for the FPC tag. Essentially deleting all FPC cache records.</p>\n\n<p>I don't see why this is necessary if previous to this the logic is clearing the FPC records that are tied to the product and category tags. Is this a bug?</p>\n"},{"tags":["php","apache","joomla","hacking"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13270555,"title":"Site is being re-hacked! How to show list of files being run (Apache)?","body":"<p>I have Apache installed on my big dedicated Windows server. </p>\n\n<p>I have a Joomla 2.5 site that keeps being re-hacked. I have restored the site (to a point long before it was hacked) and updated everything Joomla element and disabled everything that is not needed.</p>\n\n<p>But the hacker (a Russian bot) is hour after hour coming back and is re-hacking the site (must be a BOT).</p>\n\n<p>Is there any way I can see what files are being run at Apache server for a specific site? Because the hacker bot must periodic run a PHP file (giving the backend) in order to re-hack the site.</p>\n\n<p>Does Apache offer this listing of files being run? </p>\n\n<p>Any other tips to debugging the hacking? I have looked into the Apache Error file but I cannot find anything of importance.</p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13269381,"title":"Getting error on invoice details page","body":"<p>I have recently upgraded magento from 1.4.0.1 to 1.7.0.2. Now I am getting error on invoice details page.</p>\n\n<p>Fatal error: Call to a member function updateBackButtonUrl() on a non-object in D:\\xampp\\htdocs\\magento171\\app\\code\\core\\Mage\\Adminhtml\\controllers\\Sales\\Order\\InvoiceController.php on line 151</p>\n\n<p>The code on line 151 is </p>\n\n<pre><code> $this-&gt;getLayout()-&gt;getBlock('sales_invoice_view')-&gt;updateBackButtonUrl($this-&gt;getRequest()-&gt;getParam('come_from'));\n</code></pre>\n\n<p>Can anyone help, how to solve this issue.</p>\n"},{"tags":["php","apache2","cgi","shared-hosting"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":66,"score":1,"question_id":13186069,"title":"sys_get_temp_dir in shared hosting environment","body":"<p><em>Note: This could also fit in superuser.</em></p>\n\n<p>I am setting up PHP 5.3.10 on a shared host with apache2 mpm itk and open_basedir in a way, that each user may not see or change the files of another user. In the apache2 vhost settings, I add the appropriate entries to restrict the user:</p>\n\n<pre><code>    AssignUserId     userA userA\n    php_admin_value  open_basedir      /home/userA/www/\n    php_admin_value  upload_tmp_dir    /home/userA/www/tmp/\n    php_admin_value  session.save_path /home/userA/www/tmp/\n    SetEnv           TMPDIR            /home/userA/www/tmp/\n</code></pre>\n\n<p>Now, the first line sets the linux user to use for apache2, the next three lines define the basedir, upload directory and session savepath to be in the user directory. I'll get back to the last line in a sec.</p>\n\n<p>Now for the problem: <code>sys_get_temp_dir()</code> should give back the temporary directory for php, which is /tmp be default on a linux system. For security reasons, this directory should reside in the open_basedir of userA. According to the php-source of 5.3.10, the <code>sys_get_temp_dir()</code>-function uses the environment variable TMPDIR to get this directory:</p>\n\n<pre><code>     // php-src/main/php_open_temporary_file.c:217-219\n     /* On Unix use the (usual) TMPDIR environment variable. */\n     {\n             char* s = getenv(\"TMPDIR\");\n</code></pre>\n\n<p>This is what the fifth line in the configuration above should do. However, <code>sys_get_temp_dir()</code> simply returns the global system directory, ignoring the environmental variable (which is perfectly set in $_SERVER, also viewable via <code>phpinfo()</code>).</p>\n\n<p>This results in some nasty bugs with various software relying on <code>sys_get_temp_dir()</code>, as that directory is outside of the <code>open_basedir</code> setting. I've tried to set the variable directly into $_ENV and $_SERVER without a change in behaviour. I've tried a <code>putenv('TMPDIR=/home/userA/www/tmp')</code> without change. </p>\n\n<p>However, I am able to change the output by defining the variable into /etc/apache2/envvars - which is useless for me, as I want each VHOST to have its own temporary folder.</p>\n\n<p>The only solution I have found so far is overwriting the internal <code>sys_get_temp_dir()</code> through an extension like <a href=\"http://no2.php.net/manual/en/function.runkit-function-redefine.php\" rel=\"nofollow\">runkit</a> and enforcing its inclusion via <a href=\"http://www.php.net/manual/en/ini.core.php#ini.auto-prepend-file\" rel=\"nofollow\">auto_prepend_file</a>. But that solution is so dirty, I simply can't believe, that there is no better solution around.</p>\n\n<p><strong>So, my question: Is there any way to change the result of <code>sys_get_temp_dir()</code> to be set in an apache2 vhost setting, without reimplementing the function with runkit?</strong></p>\n"},{"tags":["php","apache","cakephp","dns","subdomains"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13269152,"title":"Setting a variable depending on ServerName in CakePHP","body":"<p>I'm building a little app where people can build some sort of portfolio.</p>\n\n<p>At the moment every user can link to their portfolio using the url <code>www.example.com/USERNAME</code> and to handle everything in CakePHP this is the Router rule I'm using:</p>\n\n<pre><code>Router::connect('/:user/:action/*', array('controller'=&gt;'pages'), array('named' =&gt; array('user')));\n</code></pre>\n\n<p>so links are formed this way: <code>www.example.com/USERNAME/home</code> or <code>www.example.com/USERNAME/contact</code></p>\n\n<p>Here comes my question. I'd like for a user to be possible to point his domain's DNS to my IP and change the URLs in <code>www.mypersonalsite.com/home</code> and <code>www.mypersonalsite.com/contact</code> and so on.</p>\n\n<p>Just like tumblr does...</p>\n\n<p>What's the best way to accomplish this? </p>\n\n<p>Thanks everybody :)</p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13269654,"title":"Show price layered navigation after selecting price filter","body":"<p>I would like to show price filter option after selecting price filter already. So, I would like to keep all price filters, even if price filter is already selected. Is this possible?</p>\n\n<p>magento uses the layered navigation system where when u filter a category with something say price, all the other possible selection in the price disappears in that filter, so if you want to pick another price range, you have to go back to the previous page or deselect the filter. </p>\n"},{"tags":["php","apache","api","header","sinemacula"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":60,"score":4,"question_id":13270013,"title":"Remove headers sent to server from the browser","body":"<h2>The Problem and My Question</h2>\n\n<p>I am currently trying to optimize a page on my site that returns a large amount of minified javascript.</p>\n\n<p>By optimize, I mean speed up :-)</p>\n\n<p>One of the ways I am trying to speed this page up is by reducing the headers sent to the server by the browser. 24 hours ago I would not have thought this to be possible, however, I have since then discovered a page that does just this and would like to know how and whether it is worth investigating further.</p>\n\n<p>My page is located at <a href=\"https://libraries.sinemaculammviii.com/\" rel=\"nofollow\">https://libraries.sinemaculammviii.com/</a></p>\n\n<p>The page I am comparing to is <a href=\"https://www.google.com/jsapi\" rel=\"nofollow\">https://www.google.com/jsapi</a></p>\n\n<p><strong>I have used <a href=\"http://tools.pingdom.com\" rel=\"nofollow\">http://tools.pingdom.com</a> to test the speed of both of these pages, and one of the things that clearly shows is the lack of <em>request headers</em> that the Google page sends</strong></p>\n\n<p><strong>How do they do this? Should I be doing it?</strong></p>\n\n<p><strong>Does anyone have any other suggestions as to how I can speed up this page?</strong></p>\n\n<p>I am currently using:</p>\n\n<ol>\n<li>gzip to compress the page</li>\n<li>JSPacker to minify the javascript</li>\n<li>I will be applying caching headers (<strong>I have not done this yet</strong>)</li>\n<li>Although this probably wont make a difference as the page is not static, I have routed my site through the CloudFlare CDN</li>\n</ol>\n\n<h2>Evidence of the Solution</h2>\n\n<p>If you compare the headers (shown in the expanded results) in the following links, you can clearly see that there are no request headers sent by the Google page:</p>\n\n<p><strong><a href=\"http://tools.pingdom.com/fpt/#!/NY9ZnxDZ7/https://libraries.sinemaculammviii.com/\" rel=\"nofollow\">My Page</a></strong></p>\n\n<p><strong><a href=\"http://tools.pingdom.com/fpt/#!/kIHgA861d/https://www.google.com/jsapi\" rel=\"nofollow\">Google's Page</a></strong></p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>I think I may have figured out the first step, or at least a possible first step. <strong>Is it possible that Apache is just removing the headers?</strong></p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/0Qn8f.png\" alt=\"My Page\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/8vByn.png\" alt=\"Google's Page\"></p>\n"},{"tags":["php","http-headers","ms-word","file-download"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":13262789,"title":"force file download of msword failing","body":"<p>I currently have the following:</p>\n\n<pre><code>if (headers_sent()) {\n\n    echo 'HTTP header already sent';\n} else {\n    if (!is_file($path)) {\n        header($_SERVER['SERVER_PROTOCOL'].' 404 Not Found');\n        echo 'File not found';\n    } else if (!is_readable($path)) {\n        header($_SERVER['SERVER_PROTOCOL'].' 403 Forbidden');\n        echo 'File not readable';\n    } else {\n        ob_start();\n        header($_SERVER['SERVER_PROTOCOL'].' 200 OK');\n        header('Content-Description: File Transfer');\n        header(\"Content-Type: octet-stream\");\n        header(\"Content-Transfer-Encoding: binary\");\n        header('Expires: 0');\n        header('Cache-Control: must-revalidate');\n        header('Pragma: public');\n        header(\"Content-Length: \".filesize($path));\n        header(\"Content-Disposition: attachment; filename=\\\"\".basename($path).\"\\\"\");\n        ob_clean();\n        ob_flush();\n        readfile($path);\n\n        exit;\n</code></pre>\n\n<p>The above code produces a file download of the correct file name, but with a twist.  </p>\n\n<p>The downloaded file has some html from the download page (headers being sent incorrectly?) then later in the downloaded document there is gibberish text (ex. OJQJ^J.??. WW8Num2z0) taking up several pages.  Finally at the end of the .doc I can read some English which appears to be the correct text of the .doc, but with no formatting.</p>\n\n<p>These issues persist in Chrome and Mozilla.</p>\n\n<p>Any help would be greatly appreciated. Thanks in advance.</p>\n"},{"tags":["php","windows","command-line","filesystems","software-tools"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":22,"score":1,"question_id":13269184,"title":"How to find duplicate files i.e. with same name that exist in same parent directory in PHP?","body":"<p>I am doing clean up in my project. There are some modules in project which are being renamed or newly created or copied directly. In that process I have directly made copied renamed directory or created new directory. And now I want to delete old directory files. So I want to all files with their path which are having same name. (count > 2). There are 500+ of that type of files. That can be css, tpl, php or js files.</p>\n\n<p>i.e. </p>\n\n<ol>\n<li>Main/Games/troy.php</li>\n<li>Main/Games/Child Games/troy.php</li>\n<li>Main/Games/Sports/troy.php</li>\n</ol>\n\n<p>If search is done on Main directory then search should return all 3 files and their paths.</p>\n\n<p>So question is - How to find duplicate files i.e. with same name that exist in same parent directory?</p>\n\n<p>I am using Windows SP2 and PHP. I need only search result no matter how it is provided. Anything like Command prompt, PHP logic, javascript logic, or any software giving results.</p>\n\n<p>I have gone through some questions but they are not helpful to me.</p>\n\n<ol>\n<li><a href=\"http://stackoverflow.com/questions/2109056/how-to-find-duplicate-files-with-same-name-but-in-different-case-that-exist-in-s\">How to find duplicate files with same name but in different case that exist in same directory in Linux?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/6470258/how-do-i-find-all-files-with-the-same-name-in-all-subdirectories\">how do i find all files with the same name in all subdirectories</a></li>\n</ol>\n"},{"tags":["php","image","image-processing","imagemagick","dcraw"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":166,"score":0,"question_id":10727381,"title":"convert dcraw to jpeg with imagemagick too dark/light","body":"<p>I am using dcraw (http://www.cybercom.net/~dcoffin/dcraw/) to handle camera raw files and piping it to imagemagick to convert it to a jpg for web use. I have done a few different test\nand the jpeg never produces the exact same colours/brightness as I see in Adobe Lightroom 3. Even when I do just strait tiff from dcraw, the tiff doesn't have the same colour. So, i think there are a few things I need to tweak in the draw part of the command.</p>\n\n<p>What is the best way to replicate correct colour and brightness of a raw file on a jpeg. I'm currently doing this:</p>\n\n<pre><code>dcraw -c -w 7_1337801236.orf | convert -compress lzw - 7_1337801236.jpg\n</code></pre>\n\n<p>Thanks for any suggestions.</p>\n"},{"tags":["php","sybase"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13269777,"title":"Issues with php tags","body":"<p>I have a strange PHP issue. This was working before but suddenly it is not working as expected.</p>\n\n<pre><code>&lt;?php\nif($_POST['submit']){\nexec(\"/opt/sybase/ASE-15_0/bin/ddlgen -Usa -Pxxx -SFEDORA -TU -Dpubs -N\" . $_POST['optsel'] . \" -O /var/www/html/work/MysqlDDL/tmp/\". $_POST['optsel'],$out);\n$size = filesize(\"/var/www/html/work/MysqlDDL/tmp/\" . $_POST['optsel']);\nheader('Pragma: Public');\nheader('Content-type: text/plain');\nheader(\"Content-Length: $size\");\nheader(\"Content-Disposition: attachment; filename=\".$_POST['optsel'].\";\" ); \nreadfile(\"/var/www/html/work/MysqlDDL/tmp/\".$_POST['optsel']);\n\nexit();\n}\nif($_POST['procsubmit']){\nexec(\"/opt/sybase/ASE-15_0/bin/ddlgen -Usa -Pxxx -SFEDORA -TP -Dpubs -N\" . $_POST['procsel'] . \" -O /var/www/html/work/MysqlDDL/tmp/\". $_POST['procsel'],$out);\n $size = filesize(\"/var/www/html/work/MysqlDDL/tmp/\" . $_POST['procsel']);\nheader('Pragma: Public');\nheader('Content-type: text/plain');\nheader(\"Content-Length: $size\");\nheader(\"Content-Disposition: attachment; filename=\".$_POST['procsel'].\";\" ); \nreadfile(\"/var/www/html/work/MysqlDDL/tmp/\".$_POST['procsel']);\n\nexit();\n}\n?&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;?php\n$sy = sybase_connect('FEDORA','sa','xxx');\nif (!$sy)        {\necho \"&lt;h1&gt;Faled to connect.&lt;/h1&gt;\";\ndie();\n        }\n</code></pre>\n\n<p>The weird thing is that it only parses the first line after the second opening php tag and never completes the whole script. It worked before. This may be a simple question but I appreciate any answers.</p>\n"},{"tags":["php","html","css","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13270005,"title":"Joomla 2.5 check current page","body":"<p>In Joomla 2.5 how would i check which page the user is currently on? I have this which checks if they are on the home page:</p>\n\n<pre><code>$menu = $app-&gt;getMenu();\nif ($menu-&gt;getActive() == $menu-&gt;getDefault()) {\n</code></pre>\n\n<p>I need something similar which will check if they are on another page in the site and return a different template. How would this be done?</p>\n"},{"tags":["php","sql-server-2008","svg"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":7,"score":1,"question_id":13270185,"title":"Connecting SQL Server 2008 Spatial with PHP for SVG Maps on website","body":"<p>I know GIS but I am new to SQL Server 2008 Spatial, SVG or PHP: I am planing to display an SVG map online embedded with 2 other online applications developed using JAVA and other one with .NET. </p>\n\n<p>Beside the map there are other attribute information stored in SQL Server in a different table based on Zipcode, I want to connect those attributes also with each Zipcode based polygon in my SVG Map.</p>\n\n<p>I do not know how to connect SQL Server using PHP/ASP/Java/Java Script or any server side scripting.</p>\n\n<p>I am not a programmer but I have basic idea about JavaScript and little bit of PHP. I am looking for mouse-over, Zoom in Zoom Out, PAN functions.\nAny help about SQL Server 2008 connection, rendering SVG.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":37,"score":-4,"question_id":13266594,"title":"Get the first image in a page with class foo","body":"<p>I'm trying to get the first image with specific class from page by php\n<br></p>\n\n<pre><code>&lt;?php\n$document = new DOMDocument();\n@$document-&gt;loadHTML(file_get_contents('http://www.cbsnews.com/8301-501465_162-57471379-501465/first-picture-on-the-internet-turns-20/'));\n$lst = $document-&gt;getElementsByTagName('img');\n\nfor ($i=0; $i&lt;$lst-&gt;length; $i++) {\n    $image = $lst-&gt;item($i);\n    echo $image-&gt;attributes-&gt;getNamedItem('src')-&gt;value, '&lt;br /&gt;';\n}\n?&gt;\n</code></pre>\n\n<p>this code get all images from the page, i'm trying now to get the images with class \"cnet-image\" from <a href=\"http://www.cbsnews.com/8301-501465_162-57471379-501465/first-picture-on-the-internet-turns-20/\" rel=\"nofollow\">this page</a></p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13268239,"title":"Search and remove from result?","body":"<p>I got this result and i want extraction first image from folder clear just the first</p>\n\n<p>Example of the result</p>\n\n<pre><code>http://i.i.com.com/cnwk.1d/i/tim/2012/07/12/Les_Horribles_Cernettes_in_1992_620x350.jpg\nhttp://i.i.com.com/cnwk.1d/i/tim/2012/07/03/IBM-350-publicdomain_220x157.jpg\nhttp://cbsdigitalmedia.112.2o7.net/b/ss/cbscbsnewscomatlantisuat/1/H.21--NS.png\nhttp://dw.com.com/clear/c.gif\nhttp://i.i.com.com/cnwk.1d/i/tim/2012/07/03/IBM-350-publicdomain_220x157.jpg\nhttp://dw.com.com/clear/test2.gif\nhttp://cbsdigitalmedia.112.2o7.net/b/ss/cbscbsnewscomatlantisuat/1/H.21--NS.png\nhttp://dw.com.com/clear/test.gif\n</code></pre>\n\n<p>The image i want</p>\n\n<pre><code>http://dw.com.com/clear/c.gif\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":13268355,"title":"htaccess allow only right domain name in ip dedicated website","body":"<p>i'm trying to allow only my domain name to view my website...\ni have a dedicated ip and Anyone can basically set your domain to my ip, It creates duplicate content of my website.</p>\n"},{"tags":["php","mysql","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13270086,"title":"How do I alert multiple results with ajax from json arrray","body":"<p>I have this query </p>\n\n<pre><code>$result = mysql_query(\"SELECT * FROM ship_data WHERE id = $ship\") or die(mysql_error());\n$rows = array();\nwhile($r = mysql_fetch_assoc($result)) {\n    $rows = $r; \necho json_encode($rows);\n}\n</code></pre>\n\n<p>And this bit of ajax to return the results</p>\n\n<pre><code> $.ajax({\n            type: \"POST\",\n            dataType: \"json\",\n            data: \"ship=\" + ship,\n            cache: false,\n            url: \"/getdata.php\",\n            success: function (data) {\n                alert(data.carrier);\n            }\n        });\n</code></pre>\n\n<p>If there is just one result in the array it works, if the array has multiple results in the array nothing is alerted.</p>\n"},{"tags":["php","xml","json","performance"],"answer_count":7,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":5178,"score":4,"question_id":993282,"title":"PHP: is JSON or XML parser faster?","body":"<p>I'm building classes that interface with the Twitter API, and I'm wondering whether PHP's built-in XML or JSON parser is faster? Twitter will send me the same data in either format, so  PHP performance will determine my choice. I'm using php_apc, so you can disregard parse time and assume I'm running off bytecode.</p>\n\n<p>Thanks!</p>\n\n<p>more: I'm just looking to get associative arrays from the data. I'm not doing tree walking, node iteration or anything too complex. The format will always be the same. (I hope!)</p>\n"},{"tags":["php","mysql","pdo","doctrine","doctrine2"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13269385,"title":"Doctrine Backuptables","body":"<p>is there any way to make Backup Tables in Doctrine 2.</p>\n\n<p>I have an XML and want to import it every day with an cron job.\nFirst I create a new Schema with the end _new.</p>\n\n<pre><code>if ($newTables) {\n    $tablePastfix = new \\DoctrineExtensions\\TablePastfix('_new');\n    $evm-&gt;addEventListener(\\Doctrine\\ORM\\Events::loadClassMetadata, $tablePastfix);\n    }\n\n    $entityManager = \\Doctrine\\ORM\\EntityManager::create($conn, $config, $evm);\n\n    if ($newTables) {\n    $tool = new \\Doctrine\\ORM\\Tools\\SchemaTool($entityManager);\n    $classes = array (\n        $entityManager-&gt;getClassMetadata('MyClasses'),\n        $entityManager-&gt;getClassMetadata('MyClasses'),\n        $entityManager-&gt;getClassMetadata('MyClasses'),\n    );\n        $tool-&gt;createSchema($classes);\n}\n</code></pre>\n\n<p>After it i import the data from xml.\nAnd is all okay, i rename the Tables</p>\n\n<pre><code>$dm = Doctrine\\DBAL\\DriverManager::getConnection($conn);\n$sql = \"DROP TABLE `mytable_old`;\";\n$stmt = $dm-&gt;query($sql);\n$stmt-&gt;execute();\n\n$dm = Doctrine\\DBAL\\DriverManager::getConnection($conn);\n$sql = \"ALTER TABLE `mytable` RENAME `mytable_old`;\";\n$stmt = $dm-&gt;query($sql);\n$stmt-&gt;execute();\n\n$dm = Doctrine\\DBAL\\DriverManager::getConnection($conn);\n$sql = \"ALTER TABLE `mytable_new` RENAME `mytable`;\";\n$stmt = $dm-&gt;query($sql);\n$stmt-&gt;execute();\n</code></pre>\n\n<p>But when i want to import again, i get the following error . . . . . :(</p>\n\n<pre><code>Fatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[HY000]: General error: 1005 Can't create table 'databasename.#sql-220_87' (errno: 121)' in /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/ORM/Tools/ToolsException.php on line 33\n\nPDOException: SQLSTATE[HY000]: General error: 1005 Can't create table 'databasename.#sql-220_87' (errno: 121) in /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/DBAL/Connection.php on line 646\n\nCall Stack:\n    0.0011     761296   1. {main}() /path/to/jobs/import.php:0\n    0.0014     767024   2. require_once('/path/to/jobs/config.php') /path/to/jobs/import.php:7\n    0.0017     770536   3. require_once('/path/to/jobs/bootstrap.php') /path/to/jobs/config.php:3\n    0.0020     796264   4. require_once('/path/to/jobs/bootstrap_doctrine.php') /path/to/jobs/bootstrap.php:5\n    0.1468    7673040   5. Doctrine\\ORM\\Tools\\SchemaTool-&gt;createSchema() /path/to/jobs/bootstrap_doctrine.php:53\n    1.1216    9445080   6. Doctrine\\DBAL\\Connection-&gt;executeQuery() /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/ORM/Tools/SchemaTool.php:90\n    1.1216    9445656   7. PDO-&gt;query() /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/DBAL/Connection.php:646\n\nDoctrine\\DBAL\\DBALException: An exception occurred while executing 'ALTER TABLE doc_consultant_practice_new ADD CONSTRAINT FK_60C69DE344F779A2 FOREIGN KEY (consultant_id) REFERENCES doc_xml_consultant_new (id) ON DELETE CASCADE':\n\nSQLSTATE[HY000]: General error: 1005 Can't create table 'databasename.#sql-220_87' (errno: 121) in /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/DBAL/DBALException.php on line 47\n\nCall Stack:\n    0.0011     761296   1. {main}() /path/to/jobs/import.php:0\n    0.0014     767024   2. require_once('/path/to/jobs/config.php') /path/to/jobs/import.php:7\n    0.0017     770536   3. require_once('/path/to/jobs/bootstrap.php') /path/to/jobs/config.php:3\n    0.0020     796264   4. require_once('/path/to/jobs/bootstrap_doctrine.php') /path/to/jobs/bootstrap.php:5\n    0.1468    7673040   5. Doctrine\\ORM\\Tools\\SchemaTool-&gt;createSchema() /path/to/jobs/bootstrap_doctrine.php:53\n    1.1216    9445080   6. Doctrine\\DBAL\\Connection-&gt;executeQuery() /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/ORM/Tools/SchemaTool.php:90\n\nDoctrine\\ORM\\Tools\\ToolsException: Schema-Tool failed with Error 'An exception occurred while executing 'ALTER TABLE doc_consultant_practice_new ADD CONSTRAINT FK_60C69DE344F779A2 FOREIGN KEY (consultant_id) REFERENCES doc_xml_consultant_new (id) ON DELETE CASCADE':\n\nSQLSTATE[HY000]: General error: 1005 Can't create table 'databasename.#sql-220_87' (errno: 121)' while executing DDL: ALTER TABLE doc_consultant_practice_new ADD CONSTRAINT FK_60C69DE344F779A2 FOREIGN KEY (consultant_id) REFERENCES doc_xml_consultant_new (id) ON DELETE CASCADE in /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/ORM/Tools/ToolsException.php on line 33\n\nCall Stack:\n    0.0011     761296   1. {main}() /path/to/jobs/import.php:0\n    0.0014     767024   2. require_once('/path/to/jobs/config.php') /path/to/jobs/import.php:7\n    0.0017     770536   3. require_once('/path/to/jobs/bootstrap.php') /path/to/jobs/config.php:3\n    0.0020     796264   4. require_once('/path/to/jobs/bootstrap_doctrine.php') /path/to/jobs/bootstrap.php:5\n    0.1468    7673040   5. Doctrine\\ORM\\Tools\\SchemaTool-&gt;createSchema() /path/to/jobs/bootstrap_doctrine.php:53\n</code></pre>\n\n<p>Do anybody know my mistake or have an better idea to realize backup tables?</p>\n"},{"tags":["php","apache","configuration","vps","open-basedir"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":21,"score":-2,"question_id":13270116,"title":"How to change Open_basedir Local Value to: NULL","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13261074/open-basedir-master-value-0-but-it-has-a-local-value\">Open_Basedir Master value: 0, but it has a local value</a>  </p>\n</blockquote>\n\n\n\n<p>I have a serious problem which I had since 2 days, and I have tried to figure it out, but I just couldn't. I have spent 2 days with nothing, and I'm really desperate...</p>\n\n<p>I have a VPS server with CentOS 5 installed. I have Kloxo panel on it. My problem is that somehow the <code>open_basedir</code> LOCAL value has changed to the following:  </p>\n\n<pre><code>/home/admin:/home/admin/kloxoscript:/home/***.com:/home/***.com/httpdocs:/tmp:/usr/share/pear:/var/lib/php/session/:/home/kloxo/httpd/script\n</code></pre>\n\n<p>Now its value is not null, so I cannot use my cURL function on the server. I have already read about this issue, and I have tried to find all php.ini on my server with the following command via SSH: <code>find / -name php.ini</code>  I have got some file, I have browsed them, and searhed for: <code>open_basedir</code> It was commented out everywhere, except at /home/httpd/<em>*</em>.com, where I have found a line with the following:  <code>/home/admin:/home/admin/kloxoscript:/home/***.com:/home/***.com/httpdocs:/tmp:/usr/share/pear:/var/lib/php/session/:/home/kloxo/httpd/script</code></p>\n\n<p>I have just deleted that line and saved, but unforunately nothing happened. I have checked all PHP.ini but there is no more open_basedir line in those files. I have read that I might have to change it in my vhosts file, but I couldn't find anything like that.</p>\n\n<p>Can someone please help me? I'm really desperate.</p>\n"},{"tags":["php","arrays"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":13268388,"title":"how to sort an array whoose row contains an structure of an object","body":"<pre><code>[a] =&gt; Array\n        (\n            [0] =&gt; a Object\n                (\n                 [Sequence] =&gt; 5\n                 [Type] =&gt; 50\n                    [Hierarchy] =&gt; Array\n                        (\n                        )\n                )\n\n            [1] =&gt;  a Object\n                (  [Sequence] =&gt; 3\n                    [Type] =&gt; 50\n                    [Hierarchy] =&gt; Array\n                        (\n                        )\n</code></pre>\n"}]}
{"total":298830,"page":13,"pagesize":100,"questions":[{"tags":["php","xml","symfony2","xml-schema"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13268434,"title":"Processing Symfony Bundle Resources automatically","body":"<p>I'm developing a XML Validation service that uses multiple XML Schema files for validation of XML files in my application. XML Schema files use imports heavily. For that reason I need a service, that would associate namespaces to their schema definitions (file locations).</p>\n\n<p>Each XML namespace is defined in separate XSD.</p>\n\n<p>I know I could use <em>schemaLocation</em> attributes to connect schemas with their files, but that would require using lots of relative paths and wouldn't work well with arbitrary project structures:</p>\n\n<pre><code>&lt;-- schema.xsd --&gt;\n&lt;xsd:import namespace=\"urn.my.namespace\" schemaLocation=\"...\"/&gt;\n\n&lt;-- actual.xml --&gt;\n&lt;root xmlns=\"urn.my.namespace\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"urn.my.namespace schema.xsd\"&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>I would like to create a service that walks throughout bundles, discovers xsd files and registers their namespace - file location association into some kind of registry that would\nbe available for other XML services.</p>\n\n<p>My Symfony project has the following structure:</p>\n\n<pre><code>AbcBundle/\n    Resources/config/services.xml\n    Resources/xsd/\n        schema.xsd\n        ns1.xsd\n        ns2.xsd\n        ...\n    AbcBundle.php\nXyzBundle/\n    [same structre]\n</code></pre>\n\n<p>Planned usage:</p>\n\n<pre><code>$nsLocator = $container-&gt;get('xml.ns_locator');\n$nsLocator-&gt;getNamespaceMap();\n/* returns array(\n    'urn:my:ns1' =&gt; '/realpath/to/ns1.xsd',\n    'urn:my:ns2' =&gt; '/otherpath/to/ns2.xsd',\n*/\n</code></pre>\n\n<p>The <em>$nsLocator</em> should build that map automatically from Bundle/Resources/xsd/ directories.\nI like the way that Symfony registers Bundle/Command or Bundle/Controller with its stack.</p>\n\n<p>I was thinking of some kind of event listener that would hook into Kernel and once all Bundles are registered it would scan all XSDs and create a map. If done this way, It would require a caching so it doesn't rescan all the files every time a new request or a command is executed.</p>\n\n<p>How do I build that component and hook it into kernel? Where is the correct connection point for this component? Is it generally a good approach?</p>\n"},{"tags":["php","preg-match"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":14,"score":-2,"question_id":13269928,"title":"Finding an appropriate preg_match regular expression","body":"<p>I have got a little problem, while coding.  I have a text string like </p>\n\n<pre><code>\"This is a {cat} with {big} eyes.\"\n</code></pre>\n\n<p>What I want to do is, I want an appropriate preg_match regular expression, so that I could extract the words written in curly braces from a sentence. I would be very thankful for any help.</p>\n"},{"tags":["php","opencart"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13247606,"title":"Opencart- Check if user is on category page","body":"<p>I've a requirement where the product search and Login/Register links must be displayed only if the user is on Category Pages. That block should not be displayed while on the Static Footer pages as Contact Us or other static footer links.</p>\n\n<p>Weird as it may be the client has very specific requirements regarding this thing.</p>\n\n<p>I've worked on my own with the help in community as much as I can get. But so far I've been able to enable or disable the block completely.</p>\n"},{"tags":["php","outofmemoryexception","jpgraph"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13253185,"title":"PHP / JpGraph - Memory not freed on completion of function","body":"<p>My application needs to generate a pdf file with a bunch of graphs in it.</p>\n\n<p>The situation: I'm using FPDF for pdf generation and JpGraph for the graphs. My code gets the graph data from a database and iterates through, calling a function for each graph that contains all the JpGraph code for setting up, styling the graph and caching it as a png file in a cache folder on the server. FPDF then places these images in the pdf, which is served to browser.</p>\n\n<p>The problem: I'm getting PHP out of memory errors when the number of graphs exceeds a certain number. AFAICT this is not an FPDF problem: in trying to diagnose the problem I have generated much larger documents with many more (pre-generated) graphs and images of equivalent size. The problem seems to be that the memory used to render the graph in the graph rendering function is not freed when the function is completed. This is based on the fact that if I call memory_get_peak_usage in the function I get a bunch of increasing numbers, one from each time the function is called, up to the limit of 64MB where it stops.</p>\n\n<p>My graph generation script looks something like this:</p>\n\n<pre><code>function barChart($filename, $ydata, $xdata){\n\n// Create the graph. These two calls are always required\n$graph = new Graph(900,500);\n$graph-&gt;SetScale('textlin');\n\n//(bunch of styling stuff)\n\n// Create the bar plot\n$bplot=new BarPlot($ydata);\n\n// Add the plot to the graph\n$graph-&gt;Add($bplot);\n\n//(more styling stuff)\n\n\n// Display the graph\n$graph-&gt;Stroke($filename);\n\n$graph = null;\n$bplot = null;\n\nunset($graph);\nunset($bplot);\n\necho \"&lt;br&gt;&lt;br&gt;\".(memory_get_peak_usage(true)/1048576).\"&lt;br&gt;&lt;br&gt;\";\n}\n</code></pre>\n\n<p>As you can see, I've tried unsetting and nullifying the graph and bplot objects, although my understanding is that this shouldn't be necessary. Shouldn't all the memory used by the Graph and Bplot instances be freed up when the function finishes? Or is this perhaps a JpGraph memory leak? (I've searched high and low and can't find anyone else complaining about this). This is my first remotely resource-heavy PHP project, so I could be missing something obvious.</p>\n\n<p>I'd really appreciate any ideas anyone could offer on what's going wrong here. I'm not really accustomed to asking questions here so please let me know if there's any more info I should be giving.</p>\n"},{"tags":["php","wordpress","plugins","registration","hook"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":2761235,"title":"Is it possible to register a user and submit a comment with one form with Wordpress?","body":"<p>Is it possible to do both registering for an account and submit a comment at the same time? I want the user to be able to do this all on one page to ecourage the registration rather than be discouraged about typing something, not realizing they had to be registered and thus having to leave the page. </p>\n\n<p>I think that this could be done by adding register user action to the submit comment action, but not sure how to do it with the prebuilt wordpress add_action or do_action functions. Has anyone tried this, or know of any plug-ins that do this already? I searched but couldn't find anything helpful.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","drupal","amazon-ec2","amazon-web-services","open-atrium"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13255396,"title":"Migrate a Drupal Site with AWS","body":"<p>I'm trying to migrate a open atrium (based on drupal) site to a new AWS EC2 instance.\nI was following the steps of migrating a site from <a href=\"http://drupal.org\" rel=\"nofollow\">http://drupal.org</a>. I'm sure that the <code>settings.php</code> and new database is configured right. But when I try to open the new site it always shows a blank page. Can anyone help me identify the problem?</p>\n\n<p>Ps, I did try a fresh install and it works fine.</p>\n"},{"tags":["php","ajax","tinymce"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13265316,"title":"TinyMce integration in ajax php page","body":"<p>I create an html page having 1 buttons clicking on the first will call a php file \"1.php\" via ajax where there is a tinymce editor attached with a text area.When after opening the page i'm pressing the button the editor is appearing on the screen but problem arrives when i press the button for the second time the editor just vanished and a simple text area took it's place.Any idea why this error is occurring,</p>\n\n<p>Also i tried to add a check portion before attaching the tiny editor for checking if there is already an editor attached then the older one will be removed and the newer one will took place.This code is running 100% successfully in google chrome but not in firefox / ie.This problem is just screwing me up,need ideas.</p>\n\n<hr>\n\n<p>FOR CHECKING THE PREVIOUS INTEGRATION OF TINYMCE AND REMOVE THE FOLLOWING CODE IS WORKING FINE</p>\n\n<pre><code> var oldEditor = tinyMCE.get('message');\n    if (oldEditor != undefined) {\n    tinymce.remove(oldEditor);\n   }\n    tinyMCE.execCommand('mceAddControl', false, 'message');\n     //MESSAGE IS THE NAME OF TEXT AREA ON WHICH TINYMCE IS GOING TO BE INTEGRATED\n</code></pre>\n"},{"tags":["php"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13269984,"title":"CSS paths are changes in Url rewriting in php","body":"<p>When i am using htaccess file css is not loading. Can anyone tell me code for working css.\nthanks in advance.\ncode of .htaccess file</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule ^products/([a-zA-Z]+)$ /products/$1 [R]\nRewriteRule ^products/([a-zA-Z]+)/$ productinfo.php?prodID=$1\n</code></pre>\n"},{"tags":["php","colors","range"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13269211,"title":"use a range of colors from the value of RGB value","body":"<p>I want to use a range of colors using the value of RGB values</p>\n\n<p>Suppose rbg of black color in ideal condition is rgb(0,0,0) but when  i scan any image.It's color range varies from 0 to 51 like rgb(31,31,31),rgb(49,49,49) etc</p>\n\n<p>what i required to use a  color range for condition </p>\n\n<p>if(r=0 to 51 &amp;&amp; g=0 to 51 &amp;&amp; b=0 to 51)\ncondition execute</p>\n\n<p>Another thing all three values ie rgb should have similar value for example:-rgb(0,0,0) rgb(31,31,31)etc\nso that combine color resembles black color</p>\n\n<p>Making sense?</p>\n\n<p>Im using PHP</p>\n"},{"tags":["php","xpath"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13269783,"title":"XPath put results in MySQL","body":"<p>I am executing an <code>$res = $xpath-&gt;query(\"something\");</code><br>\nand getting for let's say <code>$res-&gt;item(10)-&gt;nodeValue</code>  </p>\n\n<p>Output:</p>\n\n<pre><code>7/11/12  \nmanchester utd  \n2.00  \nx  \n3.10  \narsenal  \n2.40  \n</code></pre>\n\n<p>That's one <code>nodeValue</code>. Now I want to filter the lines to input the different values in different fields in mysql tables.</p>\n\n<p>Any simple way to do that?</p>\n"},{"tags":["php","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13269732,"title":"Deep array !empty check in php","body":"<p>I need to check array value, but when array is empty, I get this: Error: Cannot use string offset as an array</p>\n\n<pre><code>if (!empty($items[$i]['tickets']['ticket'][0]['price']['eur'])) {  //do something  }\n</code></pre>\n\n<p>How to do it correctly?</p>\n"},{"tags":["php","boolean","logical-operators"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13269330,"title":"Is !$festive the same as $festive==FALSE?","body":"<p>I have a doubt with a few lines of PHP.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>// returns TRUE if a day is festive, FALSE otherwise\n$festive = isFestive();\n// \n$workingDay = $d&gt;0 &amp;&amp; !$festive;\n</code></pre>\n\n<p>Is <code>$workingDay = $d&gt;0 &amp;&amp; !$festive</code> the same as writing <code>$workingDay = $d&gt;0 &amp;&amp; $festive==FALSE;</code> ?</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["php","symfony2","composer-php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13228582,"title":"Error installing symfony2 vendors locally with composer","body":"<p>I hope I have phrased that correctly, but I am trying to install vendors into my symfony2 project, which I have just downloaded from SVN, but I keep getting this error, </p>\n\n<pre><code>  [Symfony\\Component\\Config\\Exception\\FileLoaderLoadException]                                                                        \n  Cannot import resource \"parameters.ini\" from \"/Users/john/Sites/trunk/awesome/app/zone/config/../../config/config.yml\".  \n\n  [InvalidArgumentException]                                                                                                 \n  The file \"parameters.ini\" does not exist (in: /Users/john/Sites/trunk/awesome/app/zone/config/../../config, ).  \n\nScript Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::clearCache handling the post-install-cmd event terminated with an exception\n\n  [RuntimeException]                                                         \n  An error occurred when executing the \"'cache:clear --no-warmup'\" command.  \n</code></pre>\n\n<p>Obviously it seems to be looking in the wrong directory, but I am not sure what file is pointing to those files.</p>\n\n<p>Also, I am quite new to Symfony, so I am unsure of where to look to start fixing the problem...</p>\n"},{"tags":["php","rest","curl","clickbank"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13269844,"title":"Rest-ClickBank sandbox post api not working","body":"<p>I am trying to use Sandbox Api of clickBank which accepts a post request.\nBut somehow it doesnot work.</p>\n\n<p>I am calling clickBank's Prepare Api (https://sandbox.clickbank.com/rest/1.2/sandbox/prepare) using a POST method.</p>\n\n<p>But it giving me this error\n    HTTP/1.1 405 Method Not Allowed Date: Wed, 07 Nov 2012 12:08:32 GMT Server:     Apache/2.2.22 (FreeBSD) mod_jk/1.2.32 mod_ssl/2.2.22 OpenSSL/0.9.8q Allow: POST,OPTIONS Content-Length: 1034 Content-Type: text/html;charset=utf-8 1</p>\n\n<p>Here is my code.</p>\n\n<pre><code>$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL,\"https://sandbox.clickbank.com/rest/1.2/sandbox/prepare\");\ncurl_setopt($ch, CURLOPT_HEADER, true); \ncurl_setopt($ch, CURLOPT_POST, true); \ncurl_setopt($ch, CURLOPT_NOBODY, true);\n//curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\n\ncurl_setopt($ch, CURLOPT_HTTPHEADER, array(\"Accept: application/xml\", \"Authorization:\". $dev_key .\":\" .$api_key ));\n$result = curl_exec($ch);\ncurl_close($ch);\nprint $result;\n</code></pre>\n\n<p>I tried everything but it doesnot seem to work.\nAny help would be highly appreciated.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","php","ftp","client","apache-commons"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13269746,"title":"Java ftp upload and matching the file to website member","body":"<p>So I have a java webapp that lets the user upload a file to a server. I am using apache commons library FtpClient to do that. </p>\n\n<p>I want to be able to match the uploaded file with the user of my website (the web app is only accessible from within the user area on the website). The website and whole user-interaction and management is in PHP / MySQL. So basically, I want to match the file uploaded in the Java webapp with the user in MySQL table who uploaded it. </p>\n\n<p>How should I use PHP on the server to grab that file and match it with the user? Or maybe it's more convenient to do that from Java application somehow? Which approach do you suggest?</p>\n"},{"tags":["php","phpmail"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":68,"score":4,"question_id":13072482,"title":"PHPMail sending attachment but they are empty","body":"<p>Basically, I am trying to send a PDF via PHPMail.\nthe email is sent and I receive it in outlook perfectly. the problem is that the attachment is broken and it doesnt open. I even tried sending a HTML and is also empty. </p>\n\n<p>I tried researching in the forum, tried several \"working codes\" and other people got it working with this code... I have no clue why is not working for me.\nI am using the lastest version of PHPMail 5.2.2</p>\n\n<pre><code>$mail = new PHPMailer();\n        $staffEmail = \"staffemail\";\n        $mail-&gt;From = $staffEmail;\n        $mail-&gt;FromName = \"name\";\n        $mail-&gt;AddAddress('my@email.com');\n        $mail-&gt;AddReplyTo($staffEmail, \"name\");\n\n        $mail-&gt;AddAttachment('test.pdf');\n        $mail-&gt;Subject = \"PDF file attachment\";\n\n        $mail-&gt;Body = \"message!\";\n        $mail-&gt;Send();\n</code></pre>\n"},{"tags":["php","soap","proxy","wsdl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13269794,"title":"PHP Soap over Proxys","body":"<p>I already asked a question related to this topic here, but nothing really helped. Now i know a bit more about SOAP and can give further information and i hope someone of you might have a good idea why it doesn't work.</p>\n\n<ol>\n<li>I am trying to set up a little SoapClient in PHP to access an extern Web Service.</li>\n<li>This SoapClient needs to run at my local university behind a proxy.</li>\n<li>The extern WSDL file is secured via IP-Check.</li>\n</ol>\n\n<p>This is what i know:</p>\n\n<pre><code>$ExternWSDLFile = \"http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl\";\n$LocalUniversityProxy = \"proxy.krz.uni-heidelberg.de:8080\";\n</code></pre>\n\n<p>After i always tried to access the WSDL via User / Password and i didn't work for a long time they told me, that User / Password is not necessary and the WSDL Authentification is only done via IP-Check. So i don't have to give the SoapClient any User/Password Combination any longer as i thought and tried before.</p>\n\n<p>This is what i tried first from the University Computer with the registered IP-Adress:</p>\n\n<pre><code>$wsdl = \"http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl\";    \n$Client = new SoapClient($wsdl,array('trace' =&gt; 1, 'exception' =&gt; 0, 'cache_wsdl' =&gt; 0));\n$Authentification = $Client-&gt;authenticate();\nvar_dump($Client);\nvar_dump($Authentification);\n</code></pre>\n\n<p>Still didn't work, while the same Code run from an extern private PC, gave at least no Error  Message, but an fully initialized Soap-Object. This Code on the University-PC only generated  an Error-Message like that:</p>\n\n<pre><code>Fatal error: Uncaught SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl' : failed to load external entity \"http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl\" in E:\\xampp\\htdocs\\test.php:17 Stack trace: #0 E:\\xampp\\htdocs\\test.php(17): SoapClient-&gt;SoapClient('http://search.w...', Array) #1 {main} thrown in E:\\xampp\\htdocs\\test.php on line 17 \n</code></pre>\n\n<p>So this definetely broke because of the University-Proxy!</p>\n\n<p>Next i tried to fetch the WSDL file locally since that was often i tip from Google.</p>\n\n<pre><code>$auth = base64_encode('KHD\\user:pass');\n$header = array(\"Authorization: Basic $auth\");\n$Proxy = 'proxy.krz.uni-heidelberg.de:8080';\n$Context = stream_context_create(array('http' =&gt; array('proxy' =&gt; $Proxy,'request_fulluri' =&gt; True,'header' =&gt; $header,),));\n\n$wsdl = file_get_contents(\"http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl\",false,$Context);\n</code></pre>\n\n<p>Using print_r() on $wsdl gave me the correct locally cached WSDL file. But now setting up the SoapClient with that $wsdl it broke again with the message:</p>\n\n<pre><code>Fatal error: Uncaught SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL: Couldn't load from '&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;wsdl:definitions name=\"WOKMWSAuthenticateService\" targetNamespace=\"http://auth.cxf.wokmws.thomsonreuters.com\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=\"http://auth.cxf.wokmws.thomsonreuters.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt; &lt;wsdl:types&gt; &lt;xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"unqualified\" targetNamespace=\"http://auth.cxf.wokmws.thomsonreuters.com\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=\"http://auth.cxf.wokmws.thomsonreuters.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt; &lt;xs:element name=\"authenticate\" type=\"tns:authenticate\" /&gt; &lt;xs:element name=\"authenticateResponse\" type=\"tns:authenticateResponse\" /&gt; &lt;xs:element name=\"closeSession\" type=\"tns:closeSession\" /&gt; &lt;xs:ele in E:\\xampp\\htdocs\\test.php on line 12\n</code></pre>\n\n<p>I have absolutely no clue why this doesn't work. I've totally followed the manual and tried a lot of things. The proxy keeps destroying my work and on private / extern PCs this Script is not useable since the IPs doesn't match.</p>\n\n<p>What can i do to finally make this run?</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","mysql","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":18,"score":-1,"question_id":13268903,"title":"character set issue while importing CSV (windows OS)","body":"<p>I am trying to insert data from CSV file into mysql But, I am not able to save languages other than English. It shows '???????' in csv file instead I want to save it as it is in csv file as well as in mysql. Its properly working on ubuntu but creating problem on windows.</p>\n"},{"tags":["php","segmentation-fault","pear","mail-queue"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":91,"score":3,"question_id":13079513,"title":"How do I diagnose this PHP segmentation fault?","body":"<p>I am running a command-line PHP job that is resulting in a Segmentation Fault. This job has worked for a long time, but it processes something that is emailed in. Apparently there's something in this email that's break it, but I have no idea what. If I put the core file in gdb, it's really no help:</p>\n\n<pre><code>$ gdb /usr/local/bin/php core.20381 \nGNU gdb (GDB) 7.1-ubuntu\nCopyright (C) 2010 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;...\nReading symbols from /usr/local/bin/php...done.\n[New Thread 20381]\n\nwarning: Can't read pathname for load map: Input/output error.\nReading symbols from /lib/libcrypt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcrypt.so.1\nReading symbols from /lib/librt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/librt.so.1\nReading symbols from /usr/lib/libmysqlclient_r.so.15...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libmysqlclient_r.so.15\nReading symbols from /lib/libpthread.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libpthread.so.0\nReading symbols from /lib/libz.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libz.so.1\nReading symbols from /usr/lib/libmcrypt.so.4...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libmcrypt.so.4\nReading symbols from /usr/lib/libltdl.so.7...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libltdl.so.7\nReading symbols from /lib/libpng12.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libpng12.so.0\nReading symbols from /lib/libm.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libm.so.6\nReading symbols from /lib/libdl.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libdl.so.2\nReading symbols from /lib/libnsl.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnsl.so.1\nReading symbols from /usr/lib/libcurl-gnutls.so.4...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libcurl-gnutls.so.4\nReading symbols from /usr/lib/libxml2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libxml2.so.2\nReading symbols from /lib/libc.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libc.so.6\nReading symbols from /lib/libresolv.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libresolv.so.2\nReading symbols from /lib64/ld-linux-x86-64.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib64/ld-linux-x86-64.so.2\nReading symbols from /usr/lib/libidn.so.11...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libidn.so.11\nReading symbols from /usr/lib/liblber-2.4.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/liblber-2.4.so.2\nReading symbols from /usr/lib/libldap_r-2.4.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libldap_r-2.4.so.2\nReading symbols from /usr/lib/libgssapi_krb5.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgssapi_krb5.so.2\nReading symbols from /usr/lib/libgnutls.so.26...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgnutls.so.26\nReading symbols from /lib/libgcrypt.so.11...(no debugging symbols found)...done.\nLoaded symbols for /lib/libgcrypt.so.11\nReading symbols from /usr/lib/libsasl2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libsasl2.so.2\nReading symbols from /usr/lib/libkrb5.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libkrb5.so.3\nReading symbols from /usr/lib/libk5crypto.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libk5crypto.so.3\nReading symbols from /lib/libcom_err.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcom_err.so.2\nReading symbols from /usr/lib/libkrb5support.so.0...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libkrb5support.so.0\nReading symbols from /lib/libkeyutils.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libkeyutils.so.1\nReading symbols from /usr/lib/libtasn1.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libtasn1.so.3\nReading symbols from /lib/libgpg-error.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libgpg-error.so.0\nReading symbols from /lib/libgcc_s.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libgcc_s.so.1\nReading symbols from /lib/libnss_files.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_files.so.2\nCan't read symbols from system-supplied DSO at 0x7fffb4bfc000: File truncated\nCore was generated by `/usr/local/bin/php /src/prod/current/utils/cron.php --run=/utils/proces'.\nProgram terminated with signal 11, Segmentation fault.\n#0  match (\n    eptr=0x1370a887 \"/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\\t\"..., ecode=0x133dc3aa \"N\", \n    mstart=0x13708600 \"&lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=utf-8\\\" /&gt;\\n&lt;meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1, maximum-scale=1\\\"&gt;\\n\\n&lt;/head&gt;\\n\\n&lt;body style=\\\"padding\"..., markptr=0x0, offset_top=4, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=17680) at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:470\n470 {\n</code></pre>\n\n<p>If I do a 'bt', I just get this \"match\" statement over and over again. Here are the first few:</p>\n\n<pre><code>#1  0x000000000046ef1e in match (\n    eptr=0x1370a887 \"/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\\t\"..., ecode=0x133dc3a5 \"_\", mstart=&lt;value optimized out&gt;, markptr=&lt;value optimized out&gt;, \n    offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=17679) at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:803\n#2  0x0000000000479789 in match (\n    eptr=0x1370a887 \"/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\\t\"..., ecode=0x133dc5ca \"V\\002%\\033U\\002.\", mstart=&lt;value optimized out&gt;, \n    markptr=&lt;value optimized out&gt;, offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=&lt;value optimized out&gt;)\n    at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:1623\n#3  0x000000000046ef1e in match (\n    eptr=0x1370a886 \"&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\"..., ecode=0x133dc3a5 \"_\", mstart=&lt;value optimized out&gt;, markptr=&lt;value optimized out&gt;, \n    offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=17677) at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:803\n#4  0x0000000000479789 in match (\n    eptr=0x1370a886 \"&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\"..., ecode=0x133dc5ca \"V\\002%\\033U\\002.\", mstart=&lt;value optimized out&gt;, \n    markptr=&lt;value optimized out&gt;, offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=&lt;value optimized out&gt;)\n    at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:1623\n#5  0x000000000046ef1e in match (\n    eptr=0x1370a885 \"\\t&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\"..., ecode=0x133dc3a5 \"_\", mstart=&lt;value optimized out&gt;, markptr=&lt;value optimized out&gt;, \n    offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=17675) at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:803\n</code></pre>\n\n<p>I'm really at a loss here. I've tried running the command in strace, and it seems to be seg-faulting in the PEAR Mail_Queue library. Here's the end of the strace (some identifying information has been removed):</p>\n\n<pre><code>lstat(\"/src/prod/releases/20121025202143/www/application/pear/MDB2/Driver/mysql.php\", {st_mode=S_IFREG|0770, st_size=55723, ...}) = 0\nlstat(\"/src/prod/releases/20121025202143/www/application/pear/MDB2/Driver\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nlstat(\"/src/prod/releases/20121025202143/www/application/pear/MDB2\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nlstat(\"/src/prod/releases/20121025202143/www/application/pear\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nopen(\"/src/prod/releases/20121025202143/www/application/pear/MDB2/Driver/mysql.php\", O_RDONLY) = 6\nfstat(6, {st_mode=S_IFREG|0770, st_size=55723, ...}) = 0\nfstat(6, {st_mode=S_IFREG|0770, st_size=55723, ...}) = 0\nfstat(6, {st_mode=S_IFREG|0770, st_size=55723, ...}) = 0\nmmap(NULL, 55723, PROT_READ, MAP_SHARED, 6, 0) = 0x2b49f7bb4000\nbrk(0x987b000)                          = 0x987b000\nbrk(0x98bb000)                          = 0x98bb000\nmunmap(0x2b49f7bb4000, 55723)           = 0\nclose(6)                                = 0\nsocket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 6\nfcntl(6, F_SETFL, O_RDONLY)             = 0\nfcntl(6, F_GETFL)                       = 0x2 (flags O_RDWR)\nfcntl(6, F_GETFL)                       = 0x2 (flags O_RDWR)\nfcntl(6, F_SETFL, O_RDWR|O_NONBLOCK)    = 0\nconnect(6, {sa_family=AF_INET, sin_port=htons(3306), sin_addr=inet_addr(\"IP ADDRESS TO DB SERVER REMOVED\")}, 16) = -1 EINPROGRESS (Operation now in progress)\nfcntl(6, F_SETFL, O_RDWR)               = 0\npoll([{fd=6, events=POLLIN|POLLPRI}], 1, 60000) = 1 ([{fd=6, revents=POLLIN}])\nsetsockopt(6, SOL_SOCKET, SO_RCVTIMEO, \"\\2003\\341\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\", 16) = 0\nsetsockopt(6, SOL_SOCKET, SO_SNDTIMEO, \"\\2003\\341\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\", 16) = 0\nsetsockopt(6, SOL_IP, IP_TOS, [8], 4)   = 0\nsetsockopt(6, SOL_TCP, TCP_NODELAY, [1], 4) = 0\nsetsockopt(6, SOL_SOCKET, SO_KEEPALIVE, [1], 4) = 0\npoll([{fd=6, events=POLLIN}], 1, 60000) = 1 ([{fd=6, revents=POLLIN}])\nread(6, \"C\\0\\0\\0\\n5.1.37-1ubuntu5.5-log\\0Q\\257\\3\\0009\"..., 16384) = 71\nwrite(6, \"=\\0\\0\\1\\205\\242\\2\\0\\0\\0\\0@\\10\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 65) = 65\nread(6, \"\\7\\0\\0\\2\\0\\0\\0\\2\\0\\0\\0\", 16384) = 11\npoll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\nwrite(6, \"\\10\\0\\0\\0\\2xxxxx\", 12)      = 12\nread(6, \"\\7\\0\\0\\1\\0\\0\\0\\2\\0\\0\\0\", 16384) = 11\nlstat(\"/src/prod/current/www/application/pear/Mail/mime.php\", {st_mode=S_IFREG|0770, st_size=50252, ...}) = 0\nlstat(\"/src/prod/current/www/application/pear/Mail\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nlstat(\"/src/prod/current/www/application/pear\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nlstat(\"/src/prod/current/www/application\", {st_mode=S_IFDIR|0776, st_size=4096, ...}) = 0\n--- SIGSEGV (Segmentation fault) @ 0 (0) ---\n+++ killed by SIGSEGV +++\nSegmentation fault\n</code></pre>\n\n<p>If anyone has any ideas or pointers to lines of investigation, I'd truly appreciate it. I'm really stumped on this one.</p>\n"},{"tags":["php","cakephp","cron","cpanel","cakephp-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":470,"score":0,"question_id":8866784,"title":"Cakephp 2.0, CPanel and Shell scripts","body":"<p>I have cPanel on a shared server and I need to run a shell script everyday.</p>\n\n<p>This script has to call a controller function that scraps a webpage everyday.</p>\n\n<p>My problem is that I don't know how to do a shell script that calls this function and add it at cron jobs in cpanel. How do I do all of this?</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p>I'm going to extend my question.</p>\n\n<p>I have this code \"TestTask.php\":</p>\n\n<pre><code>class TestTask extends Shell {\n\n    function main() {\n         $this-&gt;out('Hello world.');\n    }\n\n    function execute() {\n         $this-&gt;out('Hello world 2.');\n    }\n}\n</code></pre>\n\n<p>It's located in: <code>/home/myuser/public_html/app/Console/Command/Task</code></p>\n\n<p>And then, my cronjob is like this:</p>\n\n<pre><code>* * * * * php /home/myuser/public_html/app/Console/cake.php test -app /home/myuser/public_html/app &gt;&gt; /home/myuser/public_html/file.log\n</code></pre>\n\n<p>The last part it's to log the output in a file.</p>\n\n<p>It doesn't work at all.</p>\n\n<p>Help please!!!</p>\n"},{"tags":["php","phpmailer","phpmail"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13268432,"title":"PHP mail returns true but email is not delivered","body":"<p>I am trying to send an email in following way -   </p>\n\n<pre><code>from : xyz@domain1.com  \nreply-to : xyz@domain1.com  \nto : abc@domain2.com  \ncc : abc@domain3.com  \n</code></pre>\n\n<p>My email is getting delivered to the address mentioned in CC (If I replace the emails to and cc, then email is sent to the address mentioned in to)</p>\n\n<p>For some reason, email is not getting delivered to the address abc@domain2.com. If I send the email manually to this address using outlook or gmail, then email is actually delivered. How can I debug this issue ?</p>\n\n<p>I checked spam/junk directories as well, no emails over there. I tried using php mail() function as well as phpmailer class. Both of them return TRUE. What could the reason ? Please help.</p>\n\n<pre><code>$mail-&gt;From = \"xyz@domain1.com\";   \n$mail-&gt;AddReplyTo(\"xyz@domain1.com\");  \n$mail-&gt;AddAddress(\"abc@domain2.com\");  \n$mail-&gt;AddCC(\"abc@domain3.com\");  \n$mail-&gt;Subject = $subject;  \n$mail-&gt;Body = $message;  \n\nif(! $mail-&gt;Send()) {  \n    echo \"Message was not sent\";  \n    echo \"Mailer Error: \" . $mail-&gt;ErrorInfo;  \n    exit; \n} \n</code></pre>\n"},{"tags":["php","javascript","mysql","database","mongodb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":59,"score":-2,"question_id":13268270,"title":"Suggestion needed for developing enormous web application","body":"<p>I have been given the contract of making a big web application for a private bus transport company. Before I elaborate the question, here's a few things:</p>\n\n<p>It is a complete web based and application that will be used to:</p>\n\n<ul>\n<li>Manage Vehicles, Routes, Bus Stoppages</li>\n<li>Current location using GPS and calculations.</li>\n<li>Print tickets</li>\n<li>Online Purchase</li>\n<li>Membership</li>\n<li>Full accounts management (i.e. income, expenses, graphical reports etc)</li>\n<li>A website working simultaneously allowing to book/cancel tickets, and live chat.</li>\n</ul>\n\n<p>All that said, my question is that what would be the appropriate environment and tools to build the app?</p>\n\n<ol>\n<li>Programming Lingo: (My choice, MVC based JavaScript framework with PHP in the back to provide data and views) Give me your suggestions.</li>\n<li>DataBase: This is where I am mostly confused. Should I use mysql? or something OOP like mongoDB?</li>\n<li>Other tools: What other tools may aid me? suggest please.</li>\n</ol>\n\n<p>And, I have to do this alone. Hiring people/outsourcing/teaming is not an option.</p>\n"},{"tags":["php","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13269342,"title":"Yii Format textField Datetime Model","body":"<p>The <code>$model-&gt;datetime</code> is <code>d-m-Y H:i:s</code>.</p>\n\n<pre><code>&lt;?php echo $form-&gt;textField($model,'datetime'); ?&gt;\n</code></pre>\n\n<p>I would like the value of the input just be d-m-Y, how can I format it?</p>\n"},{"tags":["php",".htaccess"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13269692,"title":"limit GET using .htaccess in a KISSMVC php based site","body":"<p>I have a KISSMVC php based site with the following .htaccess to allow only authenticated users to see the site</p>\n\n<pre><code>RewriteEngine On\n\nRewriteBase /myphpsite/\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\n# Protect app files\nRewriteRule ^((app|system|scripts).*)$ index.php/$1 [L]\n\nAuthName \"Please enter your username and password\"\nAuthType Basic\n&lt;Limit GET&gt;\nrequire user THEUSERNAME\n&lt;/Limit&gt;\n</code></pre>\n\n<p>This works with no problem.</p>\n\n<p>The problem is that I want to allow clients to retrieve a value from the site with no authentication. This value is obtained through the index.php function because it is calculated per client, plus there is no folder structure where these values are stored.</p>\n\n<p>as an example this URL should not prompt:</p>\n\n<pre><code>http://fancywebsite.com/myphpsite/index.php/inventory/hash/variable\n</code></pre>\n\n<p>but this one should still be prompting:</p>\n\n<pre><code>http://fancywebsite.com/myphpsite\n</code></pre>\n\n<p>If I could somehow specify in the .htaccess file to bypass or satisfy the authentication when the requested URL contains \"index.php/inventory/hash\" that would be perfect.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","doctrine","symfony-1.4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13269511,"title":"Image URL issue with symfony","body":"<p>I created a route in my routing.yml</p>\n\n<pre><code>showfriend:\n  url:     /friend/:id/:username\n  class:   sfDoctrineRoute\n  options: { model: profile, type: object }\n  param:   { module: friend, action: index }\n  requirements:\n    id: \\d+\n    sf_method: [get]\n</code></pre>\n\n<p>and I use it in my <code>friendsSuccess.php</code> like this</p>\n\n<pre><code>&lt;a href=\"&lt;?php echo url_for('showfriend', array( \"id\"=&gt; $friend['friend_id'], \"username\" =&gt; $a)) ?&gt;\"&gt;&lt;?php echo $a ?&gt;&lt;/a&gt;\n</code></pre>\n\n<p>it works fine and I get this route </p>\n\n<pre><code>http:// localhost/Partytime/web/friend/2/admin\n</code></pre>\n\n<p>all still works fine but my images wont display properly and this is image route I get</p>\n\n<pre><code>http://localhost/Partytime/web/friend/2/admin/uploads/banners/d993c1a802cc21317a5ae627ed874d44af240d2c.png\n</code></pre>\n\n<p>thing is it puts <code>/friend/2/admin</code> path in the route ....</p>\n\n<p>and this is how I display my image : </p>\n\n<pre><code>&lt;?php $banner=\"/uploads/banners/\" . $banner-&gt;getImage();?&gt;\n&lt;?php echo image_tag($banner);?&gt;\n</code></pre>\n"},{"tags":["php","mobile","symfony1","symfony-1.4"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":12349375,"title":"How to implement Mobile version in Symfony 1.4?","body":"<p>What is the best way to implement the MobileVersion of an WebApplication Developed in Symfony 1.4? I searched on google but had no success. </p>\n\n<p>Don't really know how to start or if there is any standard to follow. Should I just implement different templates or an entirely different application (like frontend/backend).</p>\n\n<p>My first quess is to implement a filter which will act like a onRequest listener and if user-agent is mobile to redirect to the mobile app. But I think in this way (with different apps) it's very difficult to migrate from mobile to browser version and vice-versa.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13269194,"title":"File not save on Database","body":"<p>I'm working on a little project and now i face with save problem. When i type something on text editor and when i click on save button (for save in database), it reply nothing.</p>\n\n<p>here's the process code :</p>\n\n<pre><code>case \"Publish\":\n    $fileName=$_FILES[\"image\"][\"name\"];\n\n        if($fileName)\n        {\n            $filePath=\"images/news_img/\".$fileName;\n            if(file_exists($filePath))\n            {\n                $a=gmdate(\"Yzhis\");\n                move_uploaded_file($_FILES[\"image\"][\"tmp_name\"], \"images/news_img/\".$a.$_FILES[\"image\"][\"name\"]);\n                $fileName=$a.$_FILES[\"image\"][\"name\"];\n\n            }\n            else\n            {\n                move_uploaded_file($_FILES[\"image\"][\"tmp_name\"], \"images/news_img/\".$_FILES[\"image\"][\"name\"]);\n\n            }\n        }\n        if($arttitle==\"\" || $date==\"\" || $category==\"\" || $status==\"\" )\n        {\n            $_SESSION['error_msg']=\"You Must Fill All The Required fileds\";\n            $go=\"add_articles.php\";\n        }\n        else\n        {\n        /*for username check*/\n            $checksql=mysql_query(\"select * from articles where arttitle='$arttitle'\");\n            $checkdata=mysql_fetch_array($checksql);\n\n            if($checkdata['arttitle']!=$arttitle)\n            {\n                $inssql=mysql_query(\"INSERT INTO articles VALUES(NULL,'$arttitle','$date','$category','$status','$fileName','$articale',0)\");\n            }\n            else\n            {\n                $_SESSION['username_msg']=\"Articale Name Already Exists.\";\n            }\n        }\n        $go=\"add_articles.php\";\n\n    break;\n\n    case\"Edit\":\n    $updatesql=mysql_query(\"UPDATE articles SET \narttitle='$arttitle',date='$date',category='$category',status='$status',articale='$articale' where aid = '$hiddenid'\");\n    $_SESSION['success_msg']=\"Update Successful!\";\n        $go=\"add_articles.php\";\n    break;\n</code></pre>\n"},{"tags":["php","iis","windows-server-2003","php-ini"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13269509,"title":"IIS Loading wrong php.ini file?","body":"<p>I'm not sure if that's what suppoused to happen but when i do <code>phpinfo()</code> \nI see that Loaded Configuration File is :</p>\n\n<pre><code>C:\\Program Files\\PHP\\v5.4\\php.ini\n</code></pre>\n\n<p>And not the one inside the php path (C:\\PHP)</p>\n\n<p>Is this how it should be? if not how can i control that?</p>\n\n<p>Because my changes dosen't seem to be applied, EVEN when i edit that file.</p>\n\n<p>I'm using PHP 5.4, IIS 6, Windows Server 2003.</p>\n\n<p>I've followed a tutorial and set the following registery:</p>\n\n<pre><code>    [HKEY_LOCAL_MACHINE\\SOFTWARE\\PHP]\n\"IniFilePath\"=\"C:\\\\PHP\"\n</code></pre>\n\n<p>So it should load that one right?</p>\n"},{"tags":["php","xml","simplexml"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":311,"score":3,"question_id":6776488,"title":"How can I handle a huge XML file using SimpleXML but to prevent memory and performance problems?","body":"<p>I am trying to avoid XMLReader for an app I build that has a huge XML file.\nSimpleXML is easy to write and I was wondering if there is any way to successfully handle it (memory and performance issues) in a quite busy server.\nWhat I will do, is to echo some data from that XML mainly from a search form.</p>\n"},{"tags":["php","javascript","mysql","google"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13269008,"title":"How to track url visitors who come from google?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13268514/how-can-i-create-url-tracking\">How can I create URL tracking?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to track my URL visitors who come from Google to my landing page form</p>\n\n<p>JavaScript code I used:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction update_tracking_id(field_id)\n{\nname = 'tid';\nvar regexS = \"[\\\\?&amp;]\"+name+\"=([^&amp;#]*)\";\nvar regex = new RegExp( regexS );\nvar results = regex.exec( window.location.href );\nif( results == null )\nreturn;\nelse\ndocument.getElementById(field_id).value = results[1];\n}\nupdate_tracking_id('meta_adtracking');\n&lt;/script&gt;\n</code></pre>\n\n<p>Input code for form:</p>\n\n<pre><code> &lt;input type=\"hidden\" name=\"date_add\" id=\"meta_adtracking\" value=\"\"&gt;\n</code></pre>\n\n<p>then i add new row to database called tid.</p>\n\n<p>I want tid result move automatic to this row !!</p>\n\n<pre><code>issue is i want to do maulti url's to one form like this www.url.com/ld/?tid=google www.url.com/ld/?tid=fb www.url.com/ld/?tid=1 www.url.com/ld/?tid=2 and when client visit any on of this locations ... like \"tid=google\" i want location \"google\" to storage in database with other data in form – Kawabry 10 mins ago \n</code></pre>\n\n<p><strong>here is a website explain what i want exactly</strong> \n<a href=\"http://www.fastwebcoach.com/add-a-tracking-code-to-a-url-and-track-your-autoresponder-aweber-leads/\" rel=\"nofollow\">http://www.fastwebcoach.com/add-a-tracking-code-to-a-url-and-track-your-autoresponder-aweber-leads/</a> </p>\n"},{"tags":["php","time"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":38,"score":-5,"question_id":13268546,"title":"how to subtract time in php?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2774158/add-and-subtract-time\">Add and Subtract Time</a>  </p>\n</blockquote>\n\n\n\n<p>i have two variables <code>$logintm</code> and <code>TIME</code>. when i echo <code>$logintm</code> is gives the value as <code>hh:mm:ss</code> that is login time of user in sql. and TIME its the current time its also gives the same value <code>hh:mm:ss</code> but when i want subtract both it gives the value 1. if there is diffrence between 1 minute so result should come in <code>00:01:00</code>. plz tell me any way how to subtract ?</p>\n\n<pre><code>$result = $db-&gt;get_row($strQuery);\n\n//login time\n$logintm= $result-&gt;login_time; \n\n$totaltime= TIME-$logintm; \n</code></pre>\n"},{"tags":["php","regex","preg-replace"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13269198,"title":"preg_replace is not working as expected","body":"<p>I want to remove HTML tags, also contents of style and script tag but my code is not removing style tag contents, don't know why. any idea about this ?</p>\n\n<pre><code>$search = array('@&lt;script[^&gt;]*?&gt;.*?&lt;/script&gt;@si',  // Strip out javascript \n               '@&lt;[\\/\\!]*?[^&lt;&gt;]*?&gt;@si',            // Strip out HTML tags \n               '@&lt;style[^&gt;]*?&gt;.*?&lt;/style&gt;@si',    // Strip style tags properly \n               '@&lt;![\\s\\S]*?--[ \\t\\n\\r]*&gt;@'         // Strip multi-line comments including CDATA \n               ); \n\n$htmlstring = 'Which brand(s) of single serve coffee brewer do you own? &lt;style type=\"text/css\"&gt; #answer67627X49X1159other {display:none;}&lt;/style&gt;';\n$htmlstring .= '&lt;style&gt; #answer67627X49X1159999 {display:none;}&lt;/style&gt;&lt;script&gt;alert(123);&lt;/script&gt;';\n\n$htmlstring = preg_replace($search,'',$htmlstring);\n\necho '&lt;input style=\"width:90%\" type=\"text\" value=\"'.$htmlstring.'\" /&gt;';\n</code></pre>\n\n<p>Following is the output in input tag.</p>\n\n<p><strong>Which brand(s) of single serve coffee brewer do you own?  #answer67627X49X1159other {display:none;} #answer67627X49X1159999 {display:none;}</strong></p>\n"},{"tags":["php","joomla","nested-sets","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":399,"score":0,"question_id":11098960,"title":"How to create joomla user group in joomla 2.5","body":"<p>I am working on my component in joomla 2.5 and i need to create user groups dynamically through my code.</p>\n\n<p>As i know in 2.5 joomla is using nested sets for maintaining hierarchical structure so it may affect the whole table when we insert any new entry.</p>\n\n<p>Does joomla provide any function that can be directly used to create user group ?\nsomething in which we can specify the parent group and new group will be created under it.</p>\n"},{"tags":["php","jquery","html","smarty"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":59,"score":3,"question_id":13268447,"title":"jquery search and replace","body":"<p>This is the function that I have </p>\n\n<pre><code>function set(sub) {\n    var input = prompt(\"Insert your desired \" + sub + \" information, leave blank if you use an automated system to generate this information.\");\n    $('#' + sub).html(input).show();\n    var textarea = $('textarea');\n    textarea.html(textarea.html().replace(sub+\"=\",sub+\"=\"+input));\n}\n</code></pre>\n\n<p>Usually the sub is s1, or s2, or s3. Now the issue is that I want the replaced value to reset if the input is blank.</p>\n\n<p>So lets say I input that I want to set s1 to equal a, so in the text area it will replace s1= with, s1=a, now if the input is empty I want the s1=a to revert back to s1=</p>\n"},{"tags":["php","javascript","jquery","html"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13269132,"title":"Alert While moving to another page","body":"<p>I have an application where people can take on line test , When the user moves to another page the page should alert like you may lost the details if u go out of the page...\nI tried of <code>window.unload()</code> but what i need is it should show alert only when the user moves to another page </p>\n\n<p>Ex : My Page id <code>test.php</code>\nif user clicks next button for next question the page will redirect to <code>test.php?queNumber=2</code>\nso when the redirection happens to test.php it should not show alert if it redirects to other page like about.php or help.php it should alert , How to achive this ???</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","unit-testing","phpt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13269326,"title":".phpt: Check exit code?","body":"<p>We're using <a href=\"http://qa.php.net/phpt_details.php\" rel=\"nofollow\">.phpt</a> to test our PHP code.</p>\n\n<p>To verify its behavior, I need to check the <strong>exit code of a CLI tool</strong> that uses <code>exit()</code> calls.</p>\n\n<p>How can I do that? I don't see such a section in the <a href=\"http://qa.php.net/phpt_details.php\" rel=\"nofollow\">phpt spec</a>. The <code>php-src</code> unit tests also don't have an example</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13232713,"title":"Check to see if Facebook post exists","body":"<p>I have an app (or link really) that allows my customer to share a certain product to their wall/timeline through this protocol:</p>\n\n<p><a href=\"http://www.facebook.com/dialog/feed?app_id=APP_ID&amp;link=\" rel=\"nofollow\">http://www.facebook.com/dialog/feed?app_id=APP_ID&amp;link=</a>....</p>\n\n<p>Upon successful share, the customer gets a coupon code, once he/she is directed back to my site.</p>\n\n<p>I'd like to be able to verify the existence of the share post to determine if the rebate code is valid or not. I have the post id, looking like this:</p>\n\n<p>704745000_513399762010000 (random example)</p>\n\n<p>I kind of figured out that I need permission to query for a specific post using graph-api in a users timeline, but how can I get the permission? Any pointers and examples (in php) are appreciated, thanks.</p>\n"},{"tags":["php","mysql","sql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13269067,"title":"Constructing UPDATE statements using associative arrays in PHP","body":"<p>What is the best way to construct an UPDATE statement using associative arrays in PHP?</p>\n\n<p>For example, say I have a function like so:</p>\n\n<pre><code>/**\n * For update queries\n * \n * @param string $tableName Name of the table we're wanting to update.\n * @param array $values Associative array of columns / values to update. e.g. array('name' =&gt; 'John', 'age' =&gt; 29)\n * @param array $conditions Associative array of conditions. e.g. array('user_id' =&gt; 1) equates to \"WHERE user_id = 1\"\n */\n public function update($tableName, $values, $conditions = array()){\n      //Construct SQL\n }\n</code></pre>\n\n<p>So far, I've been able to construct simple UPDATE statements such as:</p>\n\n<pre><code>UPDATE `myTableName` SET `name` = :name, `age` = :age WHERE `user_id` = :user_id\n</code></pre>\n\n<p>Now I'm left wondering: What is the best way to approach constructing the WHERE clause? Are there similar implementations in other libraries and code bases that I can look into? For example: How do I approach the construction of WHERE clauses that have OR and AND and IN() etc? </p>\n\n<pre><code>UPDATE example SET col = :val WHERE user_id = :user_id AND (age = :age OR name = :name)\n</code></pre>\n"},{"tags":["php","mysql","propel"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":11,"score":2,"question_id":13269305,"title":"How can I get extra columns when hydrating Propel objects with custom SQL?","body":"<p>I am using custom SQL to join two tables, apply some business logic to dates, then use the results to hydrate a propel object (collection). Here's my code:</p>\n\n<pre><code>$testtypes = TesttypeQuery::create()-&gt;find();\n\nforeach ($testtypes as $testtype) {\n\n  /* work out what most recent schedule */\n  $con = \\Propel::getConnection(SchedulePeer::DATABASE_NAME);\n  $sql = \"SELECT `schedule`.*, (`schedule`.`last` + INTERVAL `duration`.`weeks` WEEK + INTERVAL `duration`.`months` MONTH + INTERVAL `duration`.`years` YEAR) AS `dueDate` FROM `schedule` LEFT JOIN `duration` ON `schedule`.`duration_id` = `duration`.`id` HAVING `schedule`.`testtype_id` = {$testtype-&gt;getId()} AND `dueDate` &lt; NOW() ORDER BY `dueDate` ASC LIMIT 1\";\n  $stmt = $con-&gt;prepare($sql);\n  $stmt-&gt;execute();\n  $formatter = new \\PropelObjectFormatter();\n  $formatter-&gt;setClass(SchedulePeer::OM_CLASS);\n  $schedules = $formatter-&gt;format($stmt);\n\n  // more stuff here ... \n}\n</code></pre>\n\n<p>This question comes in several parts, because there might be a completely better way of doing this - so please feel free to make suggestions other than just answering my specific questions:</p>\n\n<ul>\n<li>I am using <code>HAVING</code> instead of <code>WHERE</code> so that I can use the aliased column <code>dueDate</code>, which I want to use as part of the check and order, as well as returning it as part of the result-set to use later. Is there a way to grab this value but still hydrate the propel object? When I use <code>fetch()</code> or other PDO methods on <code>$stmt</code> I can no longer use this with the call to <code>format()</code>.</li>\n<li>Alternatively is there a better way to do this with pure Propel?</li>\n</ul>\n"},{"tags":["php","javascript"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13269243,"title":"Change iframe text to other language","body":"<p>i have an iframe :\n<a href=\"http://www.vantagewire.com/quotes_clients.php?ticker=THG:CA&amp;chscale=1m&amp;stylesheet=http://www.vantagewire.com/_resources/app/general/quotetab_chart_small_hosted.css\" rel=\"nofollow\">http://www.vantagewire.com/quotes_clients.php?ticker=THG:CA&amp;chscale=1m&amp;stylesheet=http://www.vantagewire.com/_resources/app/general/quotetab_chart_small_hosted.css</a></p>\n\n<p>i would like to embed this to a site but what i encounter is some users see it in french language other in english.</p>\n\n<p>i would like to make control of the iframe output in a code like this:</p>\n\n<pre><code> if(language==en){\n   iframe here which is english form\n }\n if(language==fr){\n   iframe here which is french form\n }\n</code></pre>\n\n<p>or any idea how to make the link above make to french and en that i can control ? </p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","jquery","smarty"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":910,"score":2,"question_id":4931273,"title":"What is wrong when I try to add jquery script to smarty tpl files?","body":"<p>It gives me blank page...</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n{if $tplSeoFile}{include file=\"$modulePath/$tplSeoFile\"}{/if}   \n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;meta name=\"Author\" content=\"\" /&gt;\n&lt;meta name=\"Robots\" content=\"index, follow\" /&gt;\n&lt;meta name=\"Revisit-after\" content=\"10 days\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"img/cms/css/reset.css\" type=\"text/css\" media=\"all\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"img/cms/css/960.css\" type=\"text/css\" media=\"all\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"img/cms/css/master.css\" type=\"text/css\" media=\"all\" /&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n\n    //Default Action\n    $(\".tab_content\").hide(); //Hide all content\n    $(\"ul.tabs li:first\").addClass(\"active\").show(); //Activate first tab\n    $(\".tab_content:first\").show(); //Show first tab content\n\n    //On Click Event\n    $(\"ul.tabs li\").click(function() {\n        $(\"ul.tabs li\").removeClass(\"active\"); //Remove any \"active\" class\n        $(this).addClass(\"active\"); //Add \"active\" class to selected tab\n        $(\".tab_content\").hide(); //Hide all tab content\n        var activeTab = $(this).find(\"a\").attr(\"href\"); //Find the rel attribute value to identify the active tab + content\n        $(activeTab).fadeIn(); //Fade in the active content\n        return false;\n    });\n\n});\n&lt;/script&gt;\n\n\n&lt;/head&gt;\n</code></pre>\n"},{"tags":["php","string","text"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":18,"score":-2,"question_id":13269043,"title":"PHP find a string and get corresponding data","body":"<p>have this text</p>\n\n<p><strong>\"Number\":\"X0011\",\"Name\":\"aaaaaaaaaaaaaa\",\"Adress\":\"12345\",\"Phone\":\"56976585\",\"Number\":\"X0044\",\"Name\":\"bbbbbbbbbbbbbbbbbbb\",\"Adress\":\"786487647\",\"Phone\":\"34214234\",.......</strong></p>\n\n<p>And want to return with PHP something like this (just names and codes, and ignore all others fields)</p>\n\n<p>Number:X0011</p>\n\n<p>Name:aaaaaaaaaaaaaa</p>\n\n<p>Number:X0044</p>\n\n<p>Name:bbbbbbbbbbbbbbbbbbb</p>\n\n<p>....</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","jquery","ajax","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13268884,"title":"Ajax sign-up form strange behaviour","body":"<p>I have this inexplicable issue with sign-up for newsletter ajax form on main page . If I open for the first time on <a href=\"http://bit.ly/LP3phc\" rel=\"nofollow\">http://bit.ly/LP3phc</a> and try to use sign-up form  on right bottom page , form not working . When I click on logo and the main page reload form works correctly .</p>\n\n<p>thank you in advance for any help !</p>\n"},{"tags":["php","javascript","string","url"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13268009,"title":"Google Analytics Code according to string [javascript]","body":"<p>I want to create a string in javascript for my users so that they can track the users sent by them on my site via Google Analytic</p>\n\n<p>e.g. A person named bobby has a anaytics code UA-20566931-2 . He referrs many people to my site via any site like facebook, but he want to know how many people did he referred. so I want to create a string in the url like <a href=\"http://www.mysite.com/?code=ANALYTICS-CODE-HERE\" rel=\"nofollow\">http://www.mysite.com/?code=ANALYTICS-CODE-HERE</a> such that when person open via that url, anaylitcs code in my site has Bobby's Analytic code</p>\n\n<p>I have added 'ANALYTICS-CODE-HERE' in Anaylitcs code!</p>\n\n<pre><code>var _gaq = _gaq || [];\n_gaq.push(['_setAccount', 'ANALYTICS-CODE-HERE']);\n_gaq.push(['_trackPageview']);\n\n(function () {\n    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n})();\n</code></pre>\n\n<p>I have tried some code..... like</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n      &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;\n      &lt;title&gt; Made by me!&lt;/title&gt;\n\n\n\n    &lt;script type='text/javascript'&gt;\n\n\n    &lt;/script&gt;\n\n\n\n\n\n    &lt;/head&gt;\n    &lt;body&gt;\nSome text\n    &lt;script&gt;\n    function getUrlVars() {\n        var vars = {};\n\n        return vars;\n    }\n\n    var texxt = getUrlVars()[\"text\"];\n\n     document.write(texxt);  \n    &lt;/script&gt;\n\n\n    &lt;/body&gt;\n\n\n    &lt;/html&gt;\n</code></pre>\n\n<p>I have made the code...... Put status </p>\n\n<pre><code>function getUrlVars() {\n    var vars = {};\n    var parts = window.location.href.replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m,key,value) \n\n{\n        vars[key] = value;\n    });\n    return vars;\n}\n\nvar texxt = getUrlVars()[\"code\"];\n\n document.write(\"&lt;script type='text/javascript'&gt;\"+\"var _gaq = _gaq || [];\"+\" _gaq.push\n\n(['_setAccount', '\"+texxt+\"']);\"+\" _gaq.push(['_trackPageview']);\"+\" (function () {\"+\" var ga \n\n= docu ment createElement('script'); ga.type = 'text/javascript'; ga.async = true; \"+\" ga.src \n\n= ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-\n\nanalytics.com/ga.js';\"+\" var s = document.getElementsByTagName('script')[0]; \n\ns.parentNode.insertBefore(ga, s);\"+\"})();\"+\"&lt;/javascript&gt;\"); \n</code></pre>\n\n<p>add the above code in javascript and then add ?code=............. in url  the users code</p>\n"},{"tags":["php","jquery","html","ajaxform"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13265550,"title":"how to update image src on success using jquery.form.js","body":"<p>i am using jquery.form.js to ajax submit form and get response.</p>\n\n<p>my php page is set to echo image url like \"images/thumbs/071112130957.jpg\"</p>\n\n<p>heres my jquery:</p>\n\n<pre><code>$(\"#imageform\").ajaxForm(\n{ \ntarget: '#preview'\n}).submit();\n});\n</code></pre>\n\n<p>heres my html form </p>\n\n<pre><code>&lt;form action=\"cropscript.php\" id=\"imageform\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n&lt;input type=\"file\" name=\"image\" id=\"image\" /&gt; &lt;br/&gt;\n&lt;input type=\"submit\" name=\"submit\" value=\"upload image\" /&gt;\n&lt;/form&gt;\n\n&lt;div id=\"preview\" &gt; &lt;/div&gt;\n&lt;img src = \"thumbs/default.jpg\" id=\"thumb_img\" /&gt;\n</code></pre>\n\n<p>now my question is how do i update the img#thumb_img src after ajaxform success ?</p>\n"},{"tags":["php","azure","windows-azure-storage","azure-storage-blobs","use"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13264005,"title":"Connecting to Windows Azure Storage Blob with PHP","body":"<p>I am trying to upload files to Windows Azure with PHP.</p>\n\n<p>I installed it manually by downloading/extracting the .zip from github and copying the files to my server via ftp. I have been following the tutorial: <a href=\"https://www.windowsazure.com/en-us/develop/php/how-to-guides/blob-service/\" rel=\"nofollow\">https://www.windowsazure.com/en-us/develop/php/how-to-guides/blob-service/</a>\nI have just copied the sample PHP code, tried to make it work</p>\n\n<p>But I get the error - </p>\n\n<p><b>Parse error</b>: syntax error, unexpected T_STRING, expecting T_CONSTANT_ENCAPSED_STRING or '(' in <b>/home/USERNAME/public_html/FOLDER/FOLDER/FILENAME.php</b> on line 8</p>\n\n<p>I have replaced unnecessary folder/file names above for privacy reasons.\nI am using the folder that FILENAME.php is located in as a test folder for mucking around with things like this on my server, it is essentially a copy of public_html with the new unpublished content Im working on added to it.</p>\n\n<p>The file in the error I am calling 'FILENAME.php' is almost a copy of the code from the tutorial which looks like this.</p>\n\n<pre><code>require_once 'WindowsAzure/WindowsAzure.php';\n//commented out code\n//commented out code    \n//commented out code\n//commented out code\n\n\nuse WindowsAzure\\Common\\ServicesBuilder;\nuse WindowsAzure\\Common\\ServiceException;\n\nfunction SaveBlobAzura()\n{\n    // Create blob REST proxy.\n    $blobRestProxy = ServicesBuilder::getInstance()-&gt;createBlobService($connectionString);\n\n\n    $content = fopen(\"c:\\myfile.txt\", \"r\");\n    $blob_name = \"myblob\";\n\n    try {\n        //Upload blob\n        $blobRestProxy-&gt;createBlockBlob(\"mycontainer\", $blob_name, $content);\n    }\n    catch(ServiceException $e){\n        // Handle exception based on error codes and messages.\n        // Error codes and messages are here: \n        // http://msdn.microsoft.com/en-us/library/windowsazure/dd179439.aspx\n        $code = $e-&gt;getCode();\n        $error_message = $e-&gt;getMessage();\n        echo $code.\": \".$error_message.\"&lt;br /&gt;\";\n    }\n}\n</code></pre>\n\n<p>Line 8 in the file the error references is a reference to a php class.</p>\n\n<pre><code>use WindowsAzure\\Common\\ServicesBuilder;\n</code></pre>\n\n<p>There exists a file called \"ServicesBuilder.php\" in WindowsAzure\\Common\\ which indeed has a class called \"ServicesBuilder\".</p>\n\n<p>But that is where I am stuck. </p>\n\n<p>The Host I am using is <a href=\"http://www.000webhost.com\" rel=\"nofollow\">http://www.000webhost.com</a> the free plan.\nMaybe their server has some restriction that prohibit class reference? (I don't think so) But it might say that in an about way that I cant see. The plan spec is on the home page at the bottom.</p>\n\n<p>Any help would be greatly appreciated. :) </p>\n"},{"tags":["php","regex","unicode","utf-8"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":176,"score":6,"question_id":10496953,"title":"Allow only some letters, ban special characters ($% etc.) except others (' -)","body":"<p>I need a <strong>Regex</strong> for <strong>PHP</strong> to do the following:</p>\n\n<p>I want to allow <strong>[a-zα-ωá-źа-яա-ֆა-ჰא-ת]</strong> and chinese, japanese (more utf-8) letters;\nI want to ban <strong>[^٩٨٧٦٥٤٣٢١٠۰۱۲۳۴۵۶۷۸۹]</strong> (arabic numbers);</p>\n\n<p>This is what i've done:</p>\n\n<pre><code>function isValidFirstName($first_name) {\n    return preg_match(\"/^(?=[a-zα-ωá-źа-яա-ֆა-ჰא-ת]+([a-zα-ωá-źа-яա-ֆა-ჰא-ת' -]+)?\\z)[a-zα-ωá-źа-яա-ֆა-ჰא-ת' -]+$/i\", $first_name);\n}\n</code></pre>\n\n<p>It looks like it works, but if I type letters of more than 1 language, it doesn't validate.</p>\n\n<p>Examples: Авпа Вапапва á-ź John - doesn't validate.\nJohn Gger - validates, á-ź á-ź - validates.</p>\n\n<p>I would like to this all of these.</p>\n\n<p>Or if there's a way, to echo a message if user entered more lingual string.</p>\n"},{"tags":["php","javascript","jquery","ajax","json"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13268963,"title":"How can I retrieve my JSON output into a JavaScript variable?","body":"<p>I have my jsonOutput.php page like this :</p>\n\n<pre><code> $response['imgsrc'] =  $filename[1];\n echo json_encode($response);\n</code></pre>\n\n<p>It outputs a filename like <code>{\"imgsrc\":\"071112164139.jpg\"}</code></p>\n\n<p>Now my question is, how can I use jQuery in my index.php to get the filename into a variable using ajax ?</p>\n"},{"tags":["php","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13268812,"title":"Change model attributes labels","body":"<p>I have a model class, and i use it in many views. </p>\n\n<pre><code>class Translations extends CActiveRecord\n{\n...\n    public function attributeLabels()\n    {\n        return array(\n            'row_id' =&gt; 'Row',\n            'locale' =&gt; 'Locale',\n            'short_title' =&gt; 'Short Title',\n            'title' =&gt; 'Title',\n            'sub_title' =&gt; 'Sub Title',\n            'description' =&gt; 'Description',\n            'content1' =&gt; 'Content1',\n            'content2' =&gt; 'Content2',\n            'com_text1' =&gt; 'Com Text1',\n            'com_text2' =&gt; 'Com Text2',\n            'com_text3' =&gt; 'Com Text3',\n            'com_text4' =&gt; 'Com Text4',\n            'com_text5' =&gt; 'Com Text5',\n            'com_text6' =&gt; 'Com Text6',         \n        );\n    }\n...\n}\n</code></pre>\n\n<p>Can i change model attributes labels value for each view?</p>\n"},{"tags":["php","oop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":28,"score":-6,"question_id":13269045,"title":"How to call a class variable based on a member function variable?","body":"<pre><code>$this-&gt;one = 1;\n$this-&gt;two = 2;\n\nfunction get($what){\n echo $this-&gt;$what;\n}\n</code></pre>\n\n<p>Is there a way I can echo 1 if $what was 'one'?</p>\n"},{"tags":["php","arrays","forms","input","multi-select"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13268811,"title":"How to access value of multiselect with an array?","body":"<p>I got my multiple select fields:</p>\n\n<pre><code>&lt;select name=\"cars[]\" id=\"cars\" multiple=\"multiple\"&gt;\n     &lt;option value=\"yellow\"&gt;Yellow&lt;/option&gt;\n     &lt;option value=\"black\"&gt;Black&lt;/option&gt;\n     [..]\n&lt;/select&gt;\n</code></pre>\n\n<p>and this one:</p>\n\n<pre><code>&lt;select name=\"cars[]\" id=\"cars\" multiple=\"multiple\"&gt;\n     &lt;option value=\"audi\"&gt;Audi&lt;/option&gt;\n     &lt;option value=\"volk\"&gt;Volkswagen&lt;/option&gt;\n     [..]\n&lt;/select&gt;\n</code></pre>\n\n<p>when I select a random options and submit the form, do the <code>print_r</code> on the <code>$_POST</code> the output is:</p>\n\n<pre><code>[group] =&gt; Array\n(\n    [0] =&gt; audi\n    [1] =&gt; volk\n    [2] =&gt; black\n)\n</code></pre>\n\n<p>I want to access the color now (it that case it would be the key no. <code>2</code> from the array), but the problem is that it may change, when I select other fields, eg. I select one car brand and one color... when then it looks like:</p>\n\n<pre><code>[group] =&gt; Array\n(\n    [0] =&gt; audi\n    [1] =&gt; yellow\n)\n</code></pre>\n\n<p>So the question is: Is there any way to always access the selected cars colour and cars brand? It would be nice if it would be separated, but its not and the array key is changeable.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13268685,"title":"PHP Save Time HH:MM in MySQL","body":"<p>I need to save time <code>HH:MM</code> in MySQL.</p>\n\n<p>Better option is to save using <code>strtotime</code> PHP function as TIMESTAMP or <code>HH:MM:00</code> as TIME?</p>\n"},{"tags":["php","forms","checkbox","getmethod"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13268843,"title":"Php checkbox using the get method","body":"<p>thanks in advanced for your help..</p>\n\n<p>well i've got this :</p>\n\n<pre><code>&lt;form action=\"index.php\" method=\"get\"&gt;\n     &lt;input  type=\"checkbox\" name=\"Convs_revenue\"\n      &lt;? echo (isset($_GET['extra_Data'])?\"value='yes'\":\"value='no'\");?&gt;  \n      &lt;? if (isset($_POST['extra_Data']) ) echo 'checked=\"checked\"'; ?&gt; &gt;extra_Data &lt;/input&gt;\n      &lt;input type=\"submit\" value=\"send\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>now i need to keep the value of tp keep the value of the checkbox, and to unset it when its unchecked. i MUST use the GET method for this form, and this need to be at the same page as well. </p>\n\n<p>what happen is that its alawys seem to be checked no matter what i do, and the get array alawys keep this at on...\nthanks for your help</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":70,"score":-2,"question_id":13262284,"title":"How to perform a calculation function to calculate the difference?","body":"<p>In my application I have a table which looks like this below for example:</p>\n\n<pre><code>Question No.    Question                 Answer     Marks per Answer    Total Marks\n1               Here are 2 answers       B          (text input)            5\n                                         D          (text input)\n2               Here is a single answer  True       (text input)            5\n</code></pre>\n\n<p>In the table above I have a text input which belongs to each answer. Now each question has its own amount of total marks. What I want to do is that if the user enters in a number in the text input, it should do a calculation on the difference between the number entered in the text input and the number under the \"Total Marks\" column. So if you look at the example below:</p>\n\n<pre><code> Question No.   Question                 Answer     Marks per Answer    Total Marks\n 1              Here are 2 answers       B          (text input) = 2        2\n                                         D          (text input) = 1\n 2              Here is a single answer  True       (text input) = 5        0\n</code></pre>\n\n<p>As you can see in the table above, the text inputs for the answers in question 1 equals 3 altogether. So 5 (from total marks for question 1) minus 3 = 2 (Total marks now equals 2)</p>\n\n<p>For question 2, the text input for the answer in question 2  equals 5, so 5 (from total marks for question 2) minus 5 = 0 (Total marks now equals 0).</p>\n\n<p><strong>MY QUESTIONS:</strong></p>\n\n<ol>\n<li>How and what is the best method to use in order to perform these calculations? </li>\n</ol>\n\n<p>2.What I also want is that if a question only contains a single answer (like question 2 in the above example only has one answer), then I want the text input to become readonly and the text input should display the same number as the total marks as that it has to equal the same marks anyway, so it would look like this below:</p>\n\n<pre><code>Question No.   Question                  Answer     Marks per Answer             Total Marks\n 2              Here is a single answer  True       (text input(readonly)) = 5        0\n</code></pre>\n\n<p>Here is a jsfiddle <a href=\"http://jsfiddle.net/AeT6E/4/\" rel=\"nofollow\">demo</a> so you know what the HTML code looks like. In the jsffidle what I have done is that in the textboxes I inserted the values in them, but I left the \"Total marks\" for questions to \"5\" when really they should both make \"0\" if you calculate the difference between the total marks and the numbers entered in the text inputs. Also question 2's text input is readonly, this is because it is just a single answer to this question</p>\n\n<p>Below is the html code which is in the jsfiddle:</p>\n\n<pre><code>&lt;table border='1' id='markstbl'&gt;\n&lt;tr&gt;\n&lt;th class='questionth'&gt;Question No.&lt;/th&gt;\n&lt;th class='questionth'&gt;Question&lt;/th&gt;\n&lt;th class='answerth'&gt;Answer&lt;/th&gt;\n&lt;th class='answermarksth'&gt;Marks per Answer&lt;/th&gt;\n&lt;th class='noofmarksth'&gt;Total Marks&lt;/th&gt;\n&lt;/tr&gt;\n&lt;tr class=\"questiontd\"&gt;\n&lt;td class=\"questionnumtd\" rowspan=\"2\"&gt;1&lt;/td&gt;\n&lt;td class=\"questioncontenttd\" rowspan=\"2\"&gt;Here are 2 Answers Question&lt;/td&gt;\n&lt;td class=\"answertd\"&gt;B&lt;/td&gt;\n&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" value=\"3\" /&gt;&lt;/td&gt;\n&lt;td class=\"noofmarkstd\" rowspan=\"2\"&gt;5&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class=\"questiontd\"&gt;\n&lt;td class=\"answertd\"&gt;D&lt;/td&gt;\n&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" value=\"2\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class=\"questiontd\"&gt;\n&lt;td class=\"questionnumtd\" rowspan=\"2\"&gt;2&lt;/td&gt;\n&lt;td class=\"questioncontenttd\" rowspan=\"2\"&gt;Here is single Answer Question&lt;/td&gt;\n&lt;td class=\"answertd\"&gt;True&lt;/td&gt;\n&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" value=\"5\" readonly=\"readonly\"/&gt;&lt;/td&gt;\n&lt;td class=\"noofmarkstd\" rowspan=\"2\"&gt;5&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Let me just say that there are can be numerous questions and numerous answers, please don't just provide an answer that fits for only this example. It needs to work if there are numerous answers in a question.</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13267558,"title":"facebook graph api search doesn't return all checkins","body":"<p>There are some people who their checkins cannot be seen through the 'checkins' of the graph api, and neither through the search?q=checkins</p>\n\n<p>Those people's checkins will only be published in their /fbid/feed as type 'status'\nbut if i want to get their checkins with all my friends as i do in the 'search' function, i cannot.</p>\n\n<p>I have all the permissions with the access key..</p>\n\n<p>Anyone else experienced this problem?\nThanks.</p>\n"},{"tags":["php","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13268919,"title":"Magento Cart:Checking if the items in cart are reordered items","body":"<p>It is possible to check if the items  in the cart are reordered items or not.When the store is changed by the customers the cart items of previous store is removed. When the reorder is done from the user area, I have redirected to the respective stores from where the items was purchased.So  the problem is that, the reordered items are also removed from the cart when I redirect it to original store from where it was bought.Is there any solution to check if the items of the cart are reordered and not deleting those items.  I am using magento 1.7\nAny help will be appreciated.</p>\n"},{"tags":["php","javascript","web-applications","web","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13268797,"title":"PHP and mysql simple grading quiz","body":"<p>I've created a simple quiz page for simple java program \nas follow</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form name=\"marking\" method=\"post\" action=\"input.php\"&gt; \nName: &lt;input type=\"text\" name=\"name\" /&gt;&lt;br/&gt; \nID: &lt;input type=\"text\" name=\"id\" /&gt;&lt;br&gt;\n&lt;pre&gt;\nQ:Write a simple Java program that outputs the string Hello World. \n\nThe marking scheme is as follows:\ncorrect class declaration 10 marks\ncorrect declaration of main method 10 marks\ncorrect declaration of printing statement 10 marks&lt;/pre&gt;\n\nWrite your program in textarea bellow: \n&lt;br/&gt; &lt;textarea rows=\"20\" cols=\"40\" name=\"answer\" &gt;public class HelloWorld\n{\n/*\nWrite your program here\n*/\n}\n&lt;/textarea&gt;&lt;br/&gt;&lt;br/&gt; \n&lt;input type=\"submit\"/ &gt; \n&lt;/form&gt; \n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>now how I create grading script for this type of question, I search a lot and I got many and plenty pages in this site and google explaining multiple choice quiz grading system with many tutorial and example about true/false grading system but couldnt find useful website or tutorial about(\"long answer\") grading system like my program above. So essentially what I want when I write the (answer)program where i said /* write your program here */ I should get marks based on the marking schemes I specified with the question.\nNote: Im using localhost in case someone wondering where the grade should store, it would be really helpful if anyone guide me to the correct direction or some one has done similar simple type of quiz( Not multiple choices please).</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13235740,"title":"Email script sending emails but throwing up Cannot redeclare spamcheck() error","body":"<p>I have a script that send emails to multiple email addresses, the script is suppose to redirect to a success page upon completion, the emails are being sent fine with no problems, however I am getting up the following error instead of redirection.</p>\n\n<blockquote>\n  <p>Fatal error: Cannot redeclare spamcheck() (previously declared in\n  /websites/123reg/LinuxPackage22/br/ig/ht/MYSITE.co.uk/public_html/admin/mailinglistsend.php:87)\n  in\n  /websites/123reg/LinuxPackage22/br/ig/ht/MYSITE.co.uk/public_html/admin/mailinglistsend.php\n  on line 87</p>\n</blockquote>\n\n<p>The code is as follows</p>\n\n<pre><code>&lt;?php\n//initialize the session\nif (!isset($_SESSION)) {\n  session_start();\n}\n\nrequire_once('../Connections/BrightLights.php'); \n\nif (!function_exists(\"GetSQLValueString\")) {\nfunction GetSQLValueString($theValue, $theType, $theDefinedValue = \"\", $theNotDefinedValue = \"\") \n{\n  if (PHP_VERSION &lt; 6) {\n    $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;\n  }\n\n  $theValue = function_exists(\"mysql_real_escape_string\") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);\n\n  switch ($theType) {\n    case \"text\":\n      $theValue = ($theValue != \"\") ? \"'\" . $theValue . \"'\" : \"NULL\";\n      break;    \n    case \"long\":\n    case \"int\":\n      $theValue = ($theValue != \"\") ? intval($theValue) : \"NULL\";\n      break;\n    case \"double\":\n      $theValue = ($theValue != \"\") ? doubleval($theValue) : \"NULL\";\n      break;\n    case \"date\":\n      $theValue = ($theValue != \"\") ? \"'\" . $theValue . \"'\" : \"NULL\";\n      break;\n    case \"defined\":\n      $theValue = ($theValue != \"\") ? $theDefinedValue : $theNotDefinedValue;\n      break;\n  }\n  return $theValue;\n}\n}\n\nmysql_select_db($database_BrightLights, $BrightLights);\n$query_mailinglist = \"SELECT * FROM mailing_list WHERE subscribed = ''\";\n$mailinglist = mysql_query($query_mailinglist, $BrightLights) or die(mysql_error());\n$row_mailinglist = mysql_fetch_assoc($mailinglist);\n$totalRows_mailinglist = mysql_num_rows($mailinglist);\n\nerror_reporting(E_ALL &amp; ~E_NOTICE);\nini_set('display_errors', TRUE);\nini_set('display_startup_errors', TRUE);\n\n\n\n\n?&gt;\n&lt;?php \n\n\n\n$subject = $_POST['subject'];\n$body = $_POST['body'];\n\ndo {\n\n$name = $row_mailinglist['name'];\n$email = $row_mailinglist['email'];\n\n\n\n    $email_from = 'mailinglist@MYSITE.com';\n    $email_subject = \"$subject\";\n    $email_body = \"\n    $name,\n\n    $body\n\n\n\n    You have received this email because you have subscribed via our website, to unsubscribe go to MYSITE/mailing-list.php?unsubscribe=$email\";\n\n\n    $to = \"$email\";\n    $headers = \"From: $email_from\";\n    mail($to, $email_subject, $email_body, $headers);\n\n\n\n\n\n    function spamcheck($field)\n    {\n        //filter_var() sanitizes the e-mail\n        //address using FILTER_SANITIZE_EMAIL\n        $field=filter_var($field, FILTER_SANITIZE_EMAIL);\n\n        //filter_var() validates the e-mail\n        //address using FILTER_VALIDATE_EMAIL\n        if(filter_var($field, FILTER_VALIDATE_EMAIL))\n        {\n            return TRUE;\n        }\n        else\n        {\n            return FALSE;\n        }\n    }\n\n    } while ($row_mailinglist = mysql_fetch_assoc($mailinglist));\n\n\nmysql_free_result($mailinglist);\n\n    header('Location: mailinglist-new.php?sent');\n\n?&gt;\n</code></pre>\n\n<p>I appreciate your help :-)</p>\n"},{"tags":["php","object","closures","lazy-loading"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13268887,"title":"How to lazy load closure assigned to object variable?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4535330/calling-closure-assigned-to-object-property-directly\">Calling closure assigned to object property directly</a>  </p>\n</blockquote>\n\n\n\n<p>I have an array of item objects, each with some properties. Now because of performace I want to add a couple of object variables (like $obj->children) that are lazy loaded only when called... I tried a couple of solutions but can't find the right one...</p>\n\n<p>I want to assign this variable to already created objects something like this:</p>\n\n<p><code>$obj->children = function(){ // Return array of child objects };</code></p>\n\n<p>and after that I want to be able to get list of children just by calling:</p>\n\n<p><code>var_dump($obj->children);</code></p>\n\n<p>How can this be done?</p>\n"},{"tags":["php","magento","category"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13268616,"title":"Display different product images for categories in magento","body":"<p>I am developing a magento website for a company solely selling jumpers.\neach jumper can have three images, </p>\n\n<p>image 1: jumper with no model\nimage 2. male model wearing jumper\nimage 3: female model wearing jumper</p>\n\n<p>some jumpers will have all 3 and some will have either the base image and either the male or female image</p>\n\n<p>On the homepage i display the jumper images with no model.</p>\n\n<p>I want to create 2 categories (male , female)</p>\n\n<p>when lets say the male category page is selected, i would like to show the male images in this page.</p>\n\n<p>any ideas how i would do this?</p>\n"},{"tags":["php","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13268818,"title":"Magento: Allow users to enter message on cart which is added to order","body":"<p>I was wondering if it was possible to allow users on the shopping cart to enter a message that will be added to the order.  A screenshot below shows what I mean:</p>\n\n<p><a href=\"http://i46.tinypic.com/3523rll.jpg\" rel=\"nofollow\">http://i46.tinypic.com/3523rll.jpg</a></p>\n\n<p>Is this possible?</p>\n\n<p>Many thanks</p>\n"},{"tags":["php","mysql","xml","data"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13268407,"title":"Storing Huge Amount of Data from XML to MYSQL database for PDF","body":"<p>I need an advice to convert XML data to pdf format using php.I want to provide am option to download pdf whenever the download link is clicked.</p>\n\n<p>I have an XML file that contains thousand of records.I want to convert my XML records into pdf format.Previously,i used to generate pdfs from mysql.I dont know how i can convert my xml data directly to pdf using php.</p>\n\n<p>One option is to retrieve each and every XML record one by one and insert it into the database using php and mysql.</p>\n\n<p><strong>My question is :</strong> </p>\n\n<p><strong>Wont it be less efficient if i will <em>Parse xml record and run mysql insert statement</em> thousand of times to store thousand of records into the database ??</strong></p>\n\n<p>Also,more time would be required to retrieve those records from the database to generate pdf. Is there any other way around to deal with this problem efficiently and effectively ???? Please suggest me . </p>\n"},{"tags":["php","website","gd","captcha","freetype"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13268662,"title":"captcha not showing on the host server","body":"<p>i have a form in wich i'm using a captcha image , it works on my computer but when i hosted it that capctha won't show (shows the little icone like the image doesn't exist), somone suggested to comment a couple of lines to see the errors wich gave me:</p>\n\n<blockquote>\n  <p>Warning: imagettfbbox() [function.imagettfbbox]: Could not find/open\n  font in /home/a7754846/public_html/alansari/view/captcha_code_file.php\n  on line 74</p>\n</blockquote>\n\n<p>witch is this line:</p>\n\n<pre><code>$textbox = imagettfbbox($font_size, 0, $font, $code);\n</code></pre>\n\n<p>I checked the server , the GD and FreeType are installed.</p>\n\n<p>here is the <code>phpinfo</code>  <code>http://server45.000webhost.com/phpinfo.php</code></p>\n\n<p>I'm calling the captcha like this</p>\n\n<pre><code>&lt;td&gt;\n  &lt;img src=\"view/captcha_code_file.php?rand=&lt;?php echo rand(); ?&gt;\" id='captchaimg' &gt;\n  &lt;input id=\"6_letters_code\" name=\"6_letters_code\" type=\"text\" onblur=\"verifEmpty(this);\" &gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>and the captcha php file :</p>\n\n<pre><code>&lt;?php \n\nsession_start();\n//Settings: You can customize the captcha here\n$image_width = 120;\n$image_height = 40;\n$characters_on_image = 6;\n$font = 'monofont.ttf';\n\n//The characters that can be used in the CAPTCHA code.\n//avoid confusing characters (l 1 and i for example)\n$possible_letters = '23456789bcdfghjkmnpqrstvwxyz';\n$random_dots = 0;\n$random_lines = 20;\n$captcha_text_color=\"0x142864\";\n$captcha_noice_color = \"0x142864\";\n\n$code = '';\n\n\n$i = 0;\nwhile ($i &lt; $characters_on_image) { \n$code .= substr($possible_letters, mt_rand(0, strlen($possible_letters)-1), 1);\n$i++;\n}\n\n\n\n$font_size = $image_height * 0.75;\n$image = @imagecreate($image_width, $image_height);\n\n\n/* setting the background, text and noise colours here */\n$background_color = imagecolorallocate($image, 255, 255, 255);\n\n$arr_text_color = hexrgb($captcha_text_color);\n$text_color = imagecolorallocate($image, $arr_text_color['red'], \n$arr_text_color['green'], $arr_text_color['blue']);\n\n$arr_noice_color = hexrgb($captcha_noice_color);\n$image_noise_color = imagecolorallocate($image, $arr_noice_color['red'], \n$arr_noice_color['green'], $arr_noice_color['blue']);\n\n\n/* generating the dots randomly in background */\nfor( $i=0; $i&lt;$random_dots; $i++ ) {\nimagefilledellipse($image, mt_rand(0,$image_width),\nmt_rand(0,$image_height), 2, 3, $image_noise_color);\n}\n\n\n/* generating lines randomly in background of image */\nfor( $i=0; $i&lt;$random_lines; $i++ ) {\nimageline($image, mt_rand(0,$image_width), mt_rand(0,$image_height),\nmt_rand(0,$image_width), mt_rand(0,$image_height), $image_noise_color);\n}\n\n\n/* create a text box and add 6 letters code in it */\n$textbox = imagettfbbox($font_size, 0, $font, $code); \n$x = ($image_width - $textbox[4])/2;\n$y = ($image_height - $textbox[5])/2;\nimagettftext($image, $font_size, 0, $x, $y, $text_color, $font , $code);\n\n\n/* Show captcha image in the page html page */\nheader('Content-Type: image/jpeg');// defining the image type to be shown in browser widow\nimagejpeg($image);//showing the image\nimagedestroy($image);//destroying the image instance\n$_SESSION['6_letters_code'] = $code;\n\nfunction hexrgb ($hexstr)\n{\n$int = hexdec($hexstr);\n\nreturn array(\"red\" =&gt; 0xFF &amp; ($int &gt;&gt; 0x10),\n\"green\" =&gt; 0xFF &amp; ($int &gt;&gt; 0x8),\n\"blue\" =&gt; 0xFF &amp; $int);\n}\n?&gt;\n</code></pre>\n\n<p>thank you</p>\n"},{"tags":["php","html","image","gd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13267846,"title":"How to add text to an image with PHP GD library","body":"<p>I have image creation code in image_creator.</p>\n\n<pre><code>&lt;?php\nheader(\"Content-Type: image/jpeg\");\n$im = ImageCreateFromGif(\"photo.gif\"); \n$black = ImageColorAllocate($im, 255, 255, 255);\n$start_x = 10;\n$start_y = 20;\nImagettftext($im, 12, 0, $start_x, $start_y, $black, 'verdana.ttf', \"text to write\");\nImagejpeg($im, '', 100);\nImageDestroy($im);\n?&gt; \n</code></pre>\n\n<p>The file for image output is image.php and has below code</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;img src=\"http://localhost/image_creator.php\"/&gt; \n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>When I run image.php, I just get a blank page. Why is it so?</p>\n"},{"tags":["php","javascript","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":41,"score":-4,"question_id":13268514,"title":"How can I create URL tracking?","body":"<p>How can I create URL tracking like this?</p>\n\n<pre><code>www.url.com/ld/?tid=google\nwww.url.com/ld/?tid=fb\n</code></pre>\n\n<p>Here I want to make track in my form page if hits come from Google automatic get the <code>tid</code> result and through it in database with another option in my form!</p>\n\n<p>Here is my code but it dosn't work </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction update_tracking_id(field_id)\n{\nname = 'tid';\nvar regexS = \"[\\\\?&amp;]\"+name+\"=([^&amp;#]*)\";\nvar regex = new RegExp( regexS );\nvar results = regex.exec( window.location.href );\nif( results == null )\nreturn;\nelse\ndocument.getElementById(field_id).value = results[1];\n}\nupdate_tracking_id('meta_adtracking');\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>and i put this input in form</strong> </p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<p><strong>and make row in database called \"tid\"</strong></p>\n"},{"tags":["php","arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":38,"score":-5,"question_id":13268642,"title":"How to sum up all the numbers in an array in php","body":"<p>Hello guy pls i really need your help asap, i have a function that calculates allowances and puts them in an array. i want to sum up all the numbers in that array and put it in a variable. Check out the code below that has the array</p>\n\n<pre><code>// Calculate the salary breakdown into the options\n    $salary_breakdown = self::calc_salary_options($gross_salary,$branch_id/*,$pay_band_id*/);\n\n    // Store the keys\n    if (is_array($salary_breakdown))\n        $this-&gt;optionKeys = array_keys($salary_breakdown);\n</code></pre>\n"},{"tags":["php","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13268615,"title":"Export table to excel symfony2","body":"<p>I am trying to use Symfony2\nhow can I export an html table to an Excel file with php\nwho can help me </p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13268171,"title":"PHP class_exists always returns true","body":"<p>I have a PHP class that needs some pre-defined globals before the file is included:</p>\n\n<p>File: includes/Product.inc.php</p>\n\n<pre><code>if (class_exists('Product')) {\n    return;\n}\n\n// This class requires some predefined globals\nif ( !isset($gLogger) || !isset($db) || !isset($glob) ) {\n    return;\n}\n\nclass Product\n{\n   ...\n}\n</code></pre>\n\n<p>The above is included in other PHP files that need to use Product using <strong>require_once</strong>. Anyone who wants to use Product must however ensure those globals are available, at least that's the idea.</p>\n\n<p>I recently debugged an issue in a function within the Product class which was caused because $gLogger was null. The code requiring the above Product.inc.php had not bothered to create the $gLogger. So The question is how was this class ever included if $gLogger was null?</p>\n\n<p>I tried to debug the code (xdebug in NetBeans), put a breakpoint at the start of Product.inc.php to find out and every time it came to the if (class_exists('Product')) clause it would simply step in and return thus never getting to the global checks. So how was it ever included the first time?</p>\n\n<p>This is PHP 5.1+ running under MAMP (Apache/MySQL). I don't have any auto loaders defined.</p>\n\n<blockquote>\n  <p>Thanks for the informative answers guys. My belief was that when you\n  include a file PHP starts executing it line by line from line one, so\n  it would not allow me to include the file if the globals were not\n  defined. I will move the checks into the constructor. Based on the\n  original question, I accept the answer from @deceze</p>\n</blockquote>\n"},{"tags":["php","http","get"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":41,"score":-2,"question_id":13268173,"title":"How does PHP handle duplicated URL parameters?","body":"<p>Quick question: if I submit a form like the following</p>\n\n<pre><code>&lt;form action='something.php'&gt;\n   &lt;input type='text' name='a' /&gt;\n   &lt;input type='text' name='a' /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>what would $_GET['a'] output?</p>\n"},{"tags":["php","header"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":46,"score":-5,"question_id":13266294,"title":"how to use variables passed through header() in php","body":"<p>I'm using <code>header()</code> to pass var <code>user</code> from one page to another as:</p>\n\n<pre><code>header( \"Location: temp.php? user = $user\" );\n</code></pre>\n\n<p>the variable is getting passed and is shown on the url of another page. </p>\n\n<p>But i dont know how to use these var <code>user</code> in that page. Please help.</p>\n"},{"tags":["php","magento","cron"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13266706,"title":"Magento cron job expression dynamically","body":"<p>i am trying to set up a cron job dynamically in my custom module. but this do not save the job_code to cron_schedule table. </p>\n\n<pre><code>  &lt;config&gt;\n    &lt;crontab&gt;\n    &lt;jobs&gt;\n    &lt;bookingreservation_summary&gt;    \n         &lt;!--&lt;schedule&gt;&lt;cron_expr&gt;*/5 * * * *&lt;/cron_expr&gt;&lt;/schedule&gt;--&gt;     \n        &lt;run&gt;&lt;model&gt;bookingreservation/observer::sendBookingSummaryEmail&lt;/model&gt;&lt;/run&gt;\n    &lt;/bookingreservation_summary&gt;\n    &lt;/jobs&gt;\n   &lt;/crontab&gt;\n &lt;/config&gt;\n</code></pre>\n\n<p>And the cron_expr is commented, because i am generating it from configurations. and this saves expression and model in config_data table like,</p>\n\n<pre><code> path: crontab/jobs/process_bookingreservation_summary/schedule/cron_expr  \n value: 0 17 * * *\n\n path : crontab/jobs/process_bookingreservation_summary/run/model\n value : bookingreservation/observer::sendBookingSummaryEmail\n</code></pre>\n\n<p>this class executes and saves into config_data</p>\n\n<pre><code> class ABC_Bookingreservation_Model_Config_Backend_Cron extends Mage_Core_Model_Config_Data\n    {\nconst CRON_STRING_PATH  = 'crontab/jobs/process_bookingreservation_summary/schedule/cron_expr';\nconst CRON_MODEL_PATH   = 'crontab/jobs/process_bookingreservation_summary/run/model';\n\n/**\n * Cron settings after save\n *\n * @return Mage_Adminhtml_Model_System_Config_Backend_Log_Cron\n */\nprotected function _afterSave()\n{\n    $enabled    = $this-&gt;getData('groups/booking_summary/fields/enabled/value');\n    $time       = $this-&gt;getData('groups/booking_summary/fields/time/value');\n    $frequncy   = $this-&gt;getData('groups/booking_summary/fields/frequency/value');\n\n    $frequencyDaily     = Mage_Adminhtml_Model_System_Config_Source_Cron_Frequency::CRON_DAILY;\n    $frequencyWeekly    = Mage_Adminhtml_Model_System_Config_Source_Cron_Frequency::CRON_WEEKLY;\n    $frequencyMonthly   = Mage_Adminhtml_Model_System_Config_Source_Cron_Frequency::CRON_MONTHLY;\n\n    if ($enabled)\n{\n        $cronDayOfWeek = date('N');\n        $cronExprArray = array(\n            intval($time[1]),                                   # Minute\n            intval($time[0]),                                   # Hour\n            ($frequncy == $frequencyMonthly) ? '1' : '*',       # Day of the Month\n            '*',                                                # Month of the Year\n            ($frequncy == $frequencyWeekly) ? '1' : '*',        # Day of the Week\n        );\n        $cronExprString = join(' ', $cronExprArray);\n    }\n    else{\n\n        $cronExprString = '';\n    }\n\n    try\n    {\n        Mage::getModel('core/config_data')\n            -&gt;load(self::CRON_STRING_PATH, 'path')\n            -&gt;setValue($cronExprString)\n            -&gt;setPath(self::CRON_STRING_PATH)\n            -&gt;save();\n\n        Mage::getModel('core/config_data')\n            -&gt;load(self::CRON_MODEL_PATH, 'path')\n            -&gt;setValue((string) Mage::getConfig()-&gt;getNode(self::CRON_MODEL_PATH))\n            -&gt;setPath(self::CRON_MODEL_PATH)\n            -&gt;save();\n    }\n    catch (Exception $e)\n    {\n        Mage::throwException(Mage::helper('adminhtml')-&gt;__('Unable to save the cron expression.'));\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>can any one help where is issue with my code, because whenever i run cron.php through browser cron_scedule table updates, but do not save job_code from this job.</p>\n"},{"tags":["php","zend-framework2","includepath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13248683,"title":"How to set a new includePath in application.ini","body":"<p>I am using Zend framework 2 and i am trying to make a Custom includePath in the application.ini file.\nThe includePath should include all the files in the selected folder and all files in all it's subfolders.</p>\n\n<p>I already have</p>\n\n<pre><code> includePaths.models = APPLICATION_PATH \"/models\"\n</code></pre>\n\n<p>but this only includes the files in the models folder and not the files in the models subfolders.</p>\n\n<p>can anyone help me please ?</p>\n"},{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13267917,"title":"Copy Ajax request function, that calls a php function, noob stuff","body":"<p>I found a JS-Jquery File what does almost what i need. If you click the checkbox it calls a php function. Now i wanna add another checkbox wich calls another php function. </p>\n\n<p>So i tried to copy the function. And change the values but that didn't work.</p>\n\n<p>I'm sure you will see the mistake in 1-2 seconds, so thanks for a short look in the <a href=\"http://jsfiddle.net/JszZ9/3/\" rel=\"nofollow\">JS-Fiddle</a>!</p>\n\n<p>This part i would like to copy, also see my tryings in the JS-Fiddle</p>\n\n<pre><code>$('input[name=\"ive-read-this\"]').change(function (evt) {\n    alert(\"markiere als gelesen.\");\n\n    // We can retrieve the ID of this post from the &lt;article&gt;'s ID. \n    // This will be required\n    // so that we can mark that the user has read this particular post and \n    // we can hide it.\n    var sArticleId, iPostId;\n\n    // Get the article ID and split it - the second index is always \n    // the post ID in twentyeleven\n    sArticleId = $(\"article\").attr('id');\n    iPostId = parseInt(sArticleId.split('-')[1]);\n\n    // Initial the request to mark this this particular post as read\n    $.post(ajaxurl, {        \n        action:  'mark_as_read',\n        post_id: iPostId      \n    }\n</code></pre>\n"},{"tags":["php","xml","arrays","simplexml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":472,"score":0,"question_id":2726487,"title":"SimpleXMLElement to PHP Array","body":"<p>Variable $d comes from file_get_contents function to a url.</p>\n\n<pre><code>$answer = @new SimpleXMLElement($d);\n</code></pre>\n\n<p>Below is output of the print_r($answer):</p>\n\n<pre><code>SimpleXMLElement Object\n(\n    [Amount] =&gt; 2698\n    [Status] =&gt; OK\n    [State] =&gt; FL\n    [Country] =&gt; USA\n)\n</code></pre>\n\n<p>How can I retrieve value of each element and add to an array? can't figure it out.</p>\n"},{"tags":["php","mysql","facebook","apache","browser"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":16,"score":-3,"question_id":13268525,"title":"Setting up facebook app local dev environment in php","body":"<p>I am trying to learn facebook app development. I created an app and want to deploy it locally. It's in PHP. I set the env for app id and app secret in apache virtual host as well.</p>\n\n<p>However when I tries to run it in browser I get a blank page. </p>\n\n<p>Any help will be deeply appreciated.</p>\n"},{"tags":["php","object","simplexml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13268130,"title":"Where is the data in this PHP object hiding?","body":"<p>I am debugging my code to inspect the current object.</p>\n\n<p>It is a SimpleXml load from xml that looks like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;epreuves&gt;&lt;epreuve id=\"467\" noteSur=\"20\"&gt;&lt;![CDATA[Civil Engineering China 2012]]&gt;&lt;/epreuve&gt;&lt;/epreuves&gt;\n</code></pre>\n\n<p>I am using this code to load the object.</p>\n\n<pre><code>$result=simplexml_load_string($xml_string,null,LIBXML_NOCDATA);\n</code></pre>\n\n<p>And when I debug my code i see this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/WNAGU.jpg\" alt=\"enter image description here\"></p>\n\n<p>When I convert the object to string, it gives me the data I want, but why do I not see \"Civil Engineering China 2012\" somewhere in the object's guts?</p>\n"},{"tags":["php","javascript","google-maps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13268148,"title":"White grid in google map on safari","body":"<p>I have included Google map in my website. Its working fine in all browsers. But It shows white grid line in safari, chrome and iPad. Is there any way to avoid that lines on the maps. </p>\n\n<p>I have searched in some form they suggested me to change the API. I have changed the API still I'm unable to resolve this problem please guide me.</p>\n"},{"tags":["php","arrays","object","loops","foreach"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":26,"score":-2,"question_id":13268497,"title":"How to loop through below object?","body":"<p>Here is a <code>var_dump($data)</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/hZ0kr.png\" alt=\"Array\"></p>\n\n<p>What I want to do is create dropdowns(Select) as below.</p>\n\n<p>1st dropdown -> <strong>Name</strong> - Option Name, \n<strong>Attributes</strong> should be Attribute 1,Attribute 2</p>\n\n<p>2nd dropdown -> <strong>Name</strong> - Option Name X, \n<strong>Attributes</strong> should be Attribute X 1,Attribute X 2,Attribute X 3</p>\n\n<p>And so on.</p>\n\n<p>Worst problem is I don't know how many dropdown should be created. It depends on the result set I get.</p>\n\n<pre><code>foreach($data as $attr)\n{                   \n}\n</code></pre>\n\n<p>I'm really sorry I can not figure out how to loop through the array. That's all I have tried up to now. Hope someone will help me out.</p>\n"},{"tags":["php","xml","line-breaks","docx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13268495,"title":"PHP - generating docx - line breaker","body":"<p>Hello I have code script that is taking my .docx file and it is using it as template to fill out only some information from databse to docx. What I need is to insert line breaker achter data are loaded from DB</p>\n\n<p>here I am sending data from DB to my template:</p>\n\n<p>(PHP code)</p>\n\n<p><code>$document-&gt;setValue('_name', $this-&gt;preloz($row['first_name']. \" \" . &amp;row['last_name']));</code></p>\n\n<p>And here is my template which I am filling out:</p>\n\n<p><code>Hello ${_name} how are you???</code></p>\n\n<p>I need that my php script will add new line, because I will be loading many names in loop, and I do not want theme to be in block but every name on new line.</p>\n"},{"tags":["php","xml","arrays","simplexml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13268485,"title":"Get attributes from childs with the same node name","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6188551/simplexml-and-xml-collections-how-to-get-the-attribute-value-as-an-array-key\">SimpleXML and XML collections - how to get the attribute value as an array key?</a>  </p>\n</blockquote>\n\n\n\n<p>i have this array:</p>\n\n<pre><code>&lt;fooxml Version=\"1.0.0\"&gt;\n&lt;rows&gt;\n    &lt;row&gt;\n        &lt;fields&gt;\n            &lt;field name=\"fooCode\"&gt;ABCD&lt;/field&gt;\n            &lt;field name=\"fooType\"&gt;TYP1&lt;/field&gt;\n            &lt;field name=\"fooDesc\"&gt;Lorem Ipsum&lt;/field&gt;\n            &lt;field name=\"fooDate\"&gt;today&lt;/field&gt;\n        &lt;/fields&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;fields&gt;\n            &lt;field name=\"fooCode\"&gt;XYZ&lt;/field&gt;\n            &lt;field name=\"fooType\"&gt;TYP2&lt;/field&gt;\n            &lt;field name=\"fooDesc\"&gt;Lorem Ipsum DOLOR&lt;/field&gt;\n            &lt;field name=\"fooDate\"&gt;tomorrow&lt;/field&gt;\n        &lt;/fields&gt;\n    &lt;/row&gt;\n&lt;/rows&gt;\n&lt;/fooxml&gt;\n</code></pre>\n\n<p>and i will it convert into an assoc array like this:</p>\n\n<pre><code>result = array(\n    0 =&gt; array(\n        \"fooCode\" =&gt; ABCD,\n        \"fooType\" =&gt; TYP1,\n        \"fooDesc\" =&gt; Lorem Ipsum,\n        \"fooDate\" =&gt; today\n    ),\n    1 =&gt; array(\n        \"fooCode\" =&gt; XYZ,\n        \"fooDesc\" =&gt; Lorem Ipsum DOLOR,\n        \"fooDate\" =&gt; tomorrow\n    )\n\n)\n</code></pre>\n\n<p>But simpleXML returns me an array without the keys... only integers. So i can't access the value because the returned fields are different to other queries. This is the return from simpleXML:</p>\n\n<pre><code>result = array(\n    0 =&gt; array(\n        \"0\" =&gt; ABCD,\n        \"1\" =&gt; TYP1,\n        \"2\" =&gt; Lorem Ipsum,\n        \"3\" =&gt; today\n    ),\n    1 =&gt; array(\n        \"0\" =&gt; XYZ,\n        \"1\" =&gt; TYP2,\n        \"2\" =&gt; Lorem Ipsum DOLOR,\n        \"3\" =&gt; tomorrow\n    )\n\n)\n</code></pre>\n\n<p>This XML is from an API... i can't edit the XML.</p>\n\n<p>Greetings from Germany!</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13268472,"title":"Scrape Page & Separate Internal & external links","body":"<p>Building a little PHP scrapper, I'm writing a little function which should separate my Internal &amp; External links, </p>\n\n<p>I'm passing the function a copy of the html source code along with the base host address</p>\n\n<pre><code>$source = file_get_contents('http://www.mysite.com');\n$host   = \"mysite.com\";\n</code></pre>\n\n<p>here is my function so far...</p>\n\n<pre><code>function find_page_links($source, $host){\n\n    if($source){\n\n    $htmlDoc = new DomDocument();\n    @$htmlDoc-&gt;loadhtml($source);\n\n    $int_links = array();\n    $ext_links = array();\n\n    // GET LINKS\n    foreach($htmlDoc-&gt;getElementsByTagName('a') as $link) {\n\n        $url   = trim($link-&gt;getAttribute('href'));\n        $title = trim($link-&gt;getAttribute('title'));\n        $text  = trim($link-&gt;nodeValue);\n        $rel   = trim($link-&gt;getAttribute('rel'));\n\n        $pos = strpos($url,$host);\n\n        if( $pos === false ){ // NO MATCH EXTERNAL              \n            if( (substr($url, 0, 1) == '/') || \n                        (substr($url, 0, 1) == '#') )\n                    {\n            // INTERNAL\n            $int_links[] = array( 'link_url' =&gt; $url, \n                                          'link_text' =&gt; $text, \n                                          'link_title' =&gt; $title, \n                                          'link_rel' =&gt; $rel \n                                        );\n            }else{\n            // EXTERNAL\n            $ext_links[] = array( 'link_url' =&gt; $url, \n                                          'link_text' =&gt; $text, \n                                          'link_title' =&gt; $title, \n                                          'link_rel' =&gt; $rel \n                                        );\n            }\n        }else{\n             if( $pos &lt; 20 ){\n             // INTERNAL\n             $int_links[] = array( 'link_url' =&gt; $url, \n                                       'link_text' =&gt; $text, \n                                       'link_title' =&gt; $title, \n                                       'link_rel' =&gt; $rel );\n             }else{\n             // EXTERNAL\n             $ext_links[] = array( 'link_url' =&gt; $url, \n                                         'link_text' =&gt; $text, \n                                         'link_title' =&gt; $title, \n                                         'link_rel' =&gt; $rel \n                                        );  \n             }\n        } // end else\n    } // end foreach\n\n    $content = array();\n    $content['int_links'] = $int_links;\n    $content['ext_links'] = $ext_links;\n\n    return $content ;\n  }\n}\n</code></pre>\n\n<p>So whats happening is the function loads the HTML via DomDocument\nI create 2 arrays to store both internal &amp; external</p>\n\n<p>Loop through the document and getElementsByTagName('a')</p>\n\n<p>It then uses strpos to check if the host address \"mysite.com\" is within the link URL if there is NO match/false then it's external, but we do a further check to make sure the link URL doesnt start with a forward slash ie: \"<strong>/contact-us.php</strong>\" that would mean its an internal, also in that check we check for a \"<strong>#</strong>\" tag at the begining which would be an anchor link on the page...</p>\n\n<p>so that was IF pos === false / no match\nnow If host is in the link URL its a match, I do another check to see if the position of the host is lower down in the string, which would be internal ie:\n<a href=\"http://mysite.com/about/\" rel=\"nofollow\">http://mysite.com/about/</a></p>\n\n<p>but if the position is greater than 20 (just a number plucked from the air) then..\nlike a google plus link or facebook link the host url will be present in the link but much further along the string which would mean its an external, </p>\n\n<p>ie: <a href=\"http://www.facebook.com/plugins/like.php?href=http://mysite.com/\" rel=\"nofollow\">http://www.facebook.com/plugins/like.php?href=http://mysite.com/</a></p>\n\n<p>phew...</p>\n\n<p>if you guys have any other BETTER ways to spot an external or internal link please let me know..my results, really vary depending on the site, if links are using the full path, </p>\n"},{"tags":["php","mediawiki","mediawiki-api"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13268379,"title":"Mediawiki integrating with existing site","body":"<p>Hi to all i'm having the site which is fully having the video contents in it. What i want to do is i have to integrate mediawiki pages with my site. I have downloaded the mediawiki package and i have installed in in my system.Now i want to display the video files which is from my site using my own player in site. But the site functionalities should be like the mediawiki like. That means if any users access my page and edit it means it should be saved in media wiki history. Is that possible to use the media wiki functionalities in  our site.Please suggest me any solutions.</p>\n"},{"tags":["php","http","file","get","contents"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1615,"score":0,"question_id":3797596,"title":"PHP file get contents with URL returns getaddrinfo failure","body":"<p>I am trying to get the (pre-processed) content of an external PHP file:</p>\n\n<pre><code>file_get_contents('http://www.example.org/myfile.php');\n</code></pre>\n\n<p>When I do this, I get an error:</p>\n\n<blockquote>\n  <p>Warning: file_get_contents() [function.file-get-contents]: php_network_getaddresses: getaddrinfo failed: nodename nor servname provided, or not known in /Applications/XAMPP/xamppfiles/htdocs/...localfile.php on line 13</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <p>Warning: file_get_contents(http://www.example.org/myfile.php) [function.file-get-contents]: failed to open stream: php_network_getaddresses: getaddrinfo failed: nodename nor servname provided, or not known in /Applications/XAMPP/xamppfiles/htdocs/.../localfile.php on line 13</p>\n</blockquote>\n\n<p>Any ideas what I could do?</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: I do have allow_url_fopen set to \"On\".</p>\n"},{"tags":["php","testing","symfony2","phpunit"],"answer_count":3,"favorite_count":5,"up_vote_count":4,"down_vote_count":0,"view_count":48,"score":4,"question_id":13255350,"title":"Creating a fake user in Symfony2 for testing purposes","body":"<p>I'm somewhat new to testing in PHP. I've done quite a bit of testing on Rails using Cucumber, RSpec, Capybara and Factory Girl, but I've barely done any testing with PHP.</p>\n\n<p>I'll ask a question about my current challenge in the most general way possible, since I've gone down a few specific paths and been met only with frustration.</p>\n\n<p><strong>I want to write a functional test for signing a user in. What's a good way to create the test user object that I would need in order to try to sign in?</strong></p>\n\n<p>Even more generally, what's the de facto standard for creating test objects in Symfony2? Fixtures? Some kind of factory?</p>\n\n<p>In Ruby, I would use Factory Girl, since it lets you handle any object's dependencies in a clean, DRY way. There seems to be a Factory Girl equivalent in PHP in Phactory, but unfortunately it seems that that tool is not widely used and no longer maintained.</p>\n"},{"tags":["php","sorting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":13187768,"title":"sorting functions don't sort the array correctly","body":"<p>I want to sort whole bunch of keys in an array. The key-value pairs are of a large number and a name. It sorts arrays incorrectly on small numbers and it gets even worse when numbers get too big to be stored as integers. If the integers are too big they are stored as strings in an array. And those strings don't sort at all staying in the same place. </p>\n\n<p>All i want to do is to sort the Key-value pairs from largest to smallest. \nI have no idea how to do that since the sorting functions fail completely.<br>\nI'll appreciate any help I can get. </p>\n\n<p>Here is my code: </p>\n\n<pre><code>&lt;?php\n\n$encodedNames = $_GET['names']; //names array from a html input encoded with  JSON.stringify(nameArray);\n\n$names=json_decode($encodedNames); //decode the names\n\n$namesLegacy = (array) NULL;  //array that will store key-value pairs (number=&gt;name)\n\n//for each name gets a large number and assigns it as a key\nforeach($names as $name){\n    $name = trim($name);\n    array_push($namesLegacy, array(getFameNumber($name)=&gt;$name)) ; \n}\n\necho var_dump($namesLegacy) . \"&lt;br /&gt;\";//dumps the array before it is sorted\nkrsort($namesLegacy);\necho var_dump($namesLegacy) . \"&lt;br /&gt;\";//dumps the array after its sorted\n\n//simply prints each name in a list format\nfor ($i = 0; $i &lt; sizeof($namesLegacy); $i++) {\n   $keys =  array_values($namesLegacy[$i]);\n    echo $i+1 .\". \".$keys[0] . \"&lt;br/&gt;\" ;\n}\n\n\n//gets the large number that will become a key and returns it , as a string ? \nfunction getFameNumber($name)\n{\n    $resultTagId = \"resultStats\"; \n    $name = str_replace(\" \", \"+\", trim($name));\n\n    $url='url that will return the large number';\n    /*can be tested with google url \n    $url='http://www.google.com/search?q='.$name.'&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t';*/   \n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);\n    $data = curl_exec ($ch);\n    curl_close ($ch);\n\n    $dom = new DOMDocument();\n    @$dom-&gt;loadHTML( $data );\n    $resultsTag =  $dom-&gt;getElementById($resultTagId)-&gt;nodeValue;\n\n    $results =  preg_replace(\"/[^0-9]/\",\"\",$resultsTag);\n    return $results;\n}\n?&gt;\n</code></pre>\n\n<p><strong>Update:</strong>\nI have run more examples to test if it will sort all non string values correctly and it turns out that it doesnt. (where previously it has worked now it fails)\nI have an array</p>\n\n<pre><code>array(3) { [0]=&gt; array(1) { [1800000000]=&gt; string(6) \"Robert\" } [1]=&gt; array(1) { [591000000]=&gt; string(6) \"albert\" } [2]=&gt; array(1) { [1100000000]=&gt; string(4) \"Anna\" } } \n</code></pre>\n\n<p>and when i run krsort() on it it returns </p>\n\n<pre><code>array(3) { [2]=&gt; array(1) { [1100000000]=&gt; string(4) \"Anna\" } [1]=&gt; array(1) { [591000000]=&gt; string(6) \"albert\" } [0]=&gt; array(1) { [1800000000]=&gt; string(6) \"Robert\" } }\n</code></pre>\n\n<p>which is not the correct result correct result is \n1800000000,\n1100000000,\n591000000</p>\n\n<p>I tried to converting those string into floats but it mostly made them come out as negative numbers. So i tried going the other way converting small ints to strings, but the strange thing is that they were already strings. It seems that they are converted to ints when i form a key value pair inside an array. </p>\n\n<p>anybody knows what is going on? am i using krsort incorrectly is the problem still because the numbers are too big?</p>\n\n<p>also I will give an example of how it looks like when i have a really big number in my array</p>\n\n<pre><code>array(1) { [0]=&gt; array(1) { [\"4430000000\"]=&gt; string(3) \"son\" } } \n</code></pre>\n\n<p>notice the \"\" marks around the number where in previous arrays its not there </p>\n\n<p><strong>Update2:</strong></p>\n\n<p>Ok so i know it has nothing to do with how big the integers are. \nI placed this code to test it <code>$results = substr($results, 0, -3);</code>\nbut i still get incorrect results </p>\n\n<pre><code>array(3) { [2]=&gt; array(1) { [1550]=&gt; string(5) \"Reeta\" } [1]=&gt; array(1) { [1800000]=&gt; string(6) \"Robert\" } [0]=&gt; array(1) { [1090000]=&gt; string(4) \"Anna\" } }\n</code></pre>\n\n<p>I also reversed keys and values and tried sorting with <code>arsort()</code> with same results</p>\n\n<p>If anyone could explain why strings get converted to ints when they are set as keys in the arrays that would be greatly appreciated as well. </p>\n\n<p>here is a <a href=\"http://php.net/manual/en/function.krsort.php\" rel=\"nofollow\">krsort</a> manual. </p>\n"},{"tags":["php","javascript","html"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":25,"score":-3,"question_id":13268194,"title":"Put Two Textbox Between ToolBar and Textarea for Tinyeditor in PHP","body":"<p>I want to first postion the tinymce toolbar and then on the second postion I need two textbox(Name,Subject) and third is textarea(For Message field) for tinymce.When user will select the toolbar so it can affect content in the textarea.This is URL: <a href=\"http://tinymce.com/tryit/full.php\" rel=\"nofollow\">tinymce.com/tryit/full.php</a></p>\n\n<p>Thanx</p>\n"},{"tags":["php","facebook"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":13065649,"title":"PHP-SDK too many redirects","body":"<p>I'm using the <a href=\"https://github.com/facebook/facebook-php-sdk\" rel=\"nofollow\">PHP-SDK</a> for Facebook and got the example to work on my localhost. However, when building a script on a server the script stays quite busy with redirecting from my script to facebook and back. (Error: Fout 310 (net::ERR_TOO_MANY_REDIRECTS):)</p>\n\n<p>It seems that many more people have got this issue (<a href=\"http://stackoverflow.com/questions/8771833/not-getting-access-token-or-too-many-redirects\">here</a>, <a href=\"http://stackoverflow.com/questions/10200749/url-has-too-many-redirects-facebook-wont-be-able-to-scrape-this-url-until-the\">here</a>, <a href=\"http://stackoverflow.com/questions/10573199/facebook-connect-gives-a-redirect-loop\">here</a>, <a href=\"http://www.zymic.com/forum/lofiversion/index.php/t24244.html\" rel=\"nofollow\">here</a>). Though, I can't find a clear answer what goes wrong. </p>\n\n<p>Redirect to facebook (response 302):</p>\n\n<pre><code>https://www.facebook.com/dialog/oauth?client_id=166958180001271&amp;redirect_uri=http%3A%2F%2Fdomain.com%2Fscripts%2FGateway.php%3Faction%3DAllowFacebookAccessAction%26app%3D14&amp;state=0dbc178a375595da4751265a7147c01e#_=_\n</code></pre>\n\n<p>Redirect to mydomain (response 302):</p>\n\n<pre><code>http://domain.com/scripts/Gateway.php?action=AllowFacebookAccessAction&amp;app=14&amp;state=0dbc178a375595da4751265a7147c01e&amp;code=AQD-dTeyns0OWpGb_PzfHxUy2iRmpc1XgP6Q24DDRX8MiRTE10lV-b-aSNIlOLVHk576vRs3H8Pf9n0kGwU827MrkzUCUoQGFGEQBkkOJnCy9zb6hZs7TVBsKL2iSuZIhDjLsCOPeKy3zfb37Q6LGhtMICCdB_IQAvU0uRvAkSAX8tdVJ65PEv8imx-2yvLaMoGJleZwKogh7m03vlhV8hJk#_=_\n</code></pre>\n\n<p>Part of the code that creates this issue</p>\n\n<pre><code>...            \n    $facebook = new FacebookApi(array(\n            'appId' =&gt; $app-&gt;getProperty('apiKey'),\n            'secret' =&gt; $app-&gt;getProperty('secretKey'),\n        ));\n    $user = $facebook-&gt;getUser();\n    if (!$user) {    \n        header('location: ' . $facebook-&gt;getLoginUrl());\n        exit;\n    }\n...\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>I ruled out that its a server setting. I was able to run the original example script on that server. </p>\n"},{"tags":["php","mysql","sql","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13268233,"title":"Product Name Print Several times, How to fix.?","body":"<p>i had added the following Opencart module for my order report list...\n<a href=\"http://www.opencart.com/index.php?route=extension/extension/info&amp;extension_id=3597&amp;filter_search=order%20list%20filter%20model&amp;page=4\" rel=\"nofollow\">http://www.opencart.com/index.php?route=extension/extension/info&amp;extension_id=3597&amp;filter_search=order%20list%20filter%20model&amp;page=4</a></p>\n\n<p>I have problems with the column \"Products\". If there are more than one option the products name prints several times. So if I got a product with three options the product name prints three times. Is there any way to fix this problem?</p>\n\n<p>i want print product name and model number only once, any idea.?</p>\n\n<p><strong>i will attach the results what i got now...</strong>\n<img src=\"http://i.stack.imgur.com/6U18X.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>this is my sql query...</strong></p>\n\n<pre><code>public function getOrders($data = array()) { \n$sql = \"select o.order_id,o.email,o.telephone,CONCAT(o.shipping_address_1, ' ', o.shipping_address_2) AS address,CONCAT(o.firstname, ' ', o.lastname) AS customer,o.payment_zone AS state,o.payment_address_2 AS block, o.payment_address_1 AS address,o.payment_postcode AS postcode,(SELECT os.name FROM \" . DB_PREFIX . \"order_status os WHERE os.order_status_id = o.order_status_id AND os.language_id = '\" . (int)$this-&gt;config-&gt;get('config_language_id') . \"') AS  status,o.payment_city AS city,GROUP_CONCAT(pd.name) AS pdtname,GROUP_CONCAT(op.model) AS model,o.date_added,sum(op.quantity) AS quantity,GROUP_CONCAT(opt.value ) AS options, GROUP_CONCAT(opt.order_product_id )  AS ordprdid,GROUP_CONCAT(op.order_product_id )  AS optprdid, GROUP_CONCAT(op.quantity) AS opquantity from `\" . DB_PREFIX . \"order` o LEFT JOIN \" . DB_PREFIX . \"order_product op ON (op.order_id = o.order_id)  LEFT JOIN \" . DB_PREFIX . \"product_description pd ON (pd.product_id = op.product_id and pd.language_id = '\" . (int)$this-&gt;config-&gt;get('config_language_id') . \"') LEFT JOIN \" . DB_PREFIX . \"order_option opt ON (opt.order_product_id = op.order_product_id) \";\n</code></pre>\n\n<p>Product Name = <code>GROUP_CONCAT(pd.name) AS pdtname,</code></p>\n"},{"tags":["php","zend-framework","twitter-api","twitter-oauth"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13264585,"title":"Could not retrieve a valid Token response from Token URL + Twitter API","body":"<p>I am doing the login using twitter in my zend framework application. But after authenticating from twitter it showing the following error :</p>\n\n<pre><code>Message:Could not retrieve a valid Token response from Token URL: /oauth/access_token?oauth_consumer_key=xxxxxxxxxxxxxxx&amp;oauth_nonce=xxxxxxxxxxxxxxxxxxxx&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=1352270857&amp;oauth_token=xxxxxxxxxxxxx&amp;oauth_version=1.0\n&amp;oauth_verifier=xxxxxxxxxxxxxxxxxxxxx&amp;oauth_signature=wv5gdop77NA9BeZI7ilQcEFsqGH8CeR4%3D Invalid / expired Token\n</code></pre>\n\n<p>Following is my code : </p>\n\n<pre><code>    public function twittercallbackAction() {\n            $path = realpath(APPLICATION_PATH . '/../library/');\n            set_include_path($path);\n            $config = array(\n                \"callbackUrl\" =&gt; \"http://\" . $_SERVER['HTTP_HOST'] . \"/register/twittercallback\",\n                \"siteUrl\" =&gt; \"http://twitter.com/oauth\",\n                \"consumerKey\" =&gt; \"xxxxxxxxxxxxxx\",\n                \"consumerSecret\" =&gt; \"xxxxxxxxxxxxxxxxxxxx\"\n            );\n\n            $consumer = new Zend_Oauth_Consumer($config);\n            if (!empty($_GET) &amp;&amp; isset($_SESSION['TWITTER_REQUEST_TOKEN'])) {            \n                $token = $consumer-&gt;getAccessToken($_GET, unserialize($_SESSION['TWITTER_REQUEST_TOKEN']));\n                // Now that we have an Access Token, we can discard the Request Token\n                // get users timeline            \n                // $_SESSION['TWITTER_REQUEST_TOKEN'] = null;\n            } else {\n                // Mistaken request? Some malfeasant trying something?\n                exit('Invalid callback request. Oops. Sorry.');\n            }\n}\n</code></pre>\n\n<p>I am searching this issue on google but not getting any solution.</p>\n\n<p>How can I deal with this issue.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","oop","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13268123,"title":"PHP PDO check for mysql error","body":"<p>I have this problem that drives me crazy. All i want is just check a query for an error, if so display error, otherwise run the query.</p>\n\n<p>I have the following almost (since it runs the insert query twice) working</p>\n\n<pre><code>[..]\n\n$dbdata = new mySQLAccessData();\n$db = new PDO($dbdata-&gt;hostname,$dbdata-&gt;username,$dbdata-&gt;password);\n$defaults = new Defaults();\n\n[..]\n\nif(!$db-&gt;exec($sql)){\n    echo($defaults-&gt;throwError('MySql error',implode(\":\",$db-&gt;errorInfo())));\n}else{\n    $db-&gt;exec($sql);\n    $defaults-&gt;writeLog($table,$db-&gt;lastInsertId(),'add');\n}\n</code></pre>\n\n<p>I tried numerous things (amongst others the <code>try(){}catch(){}</code> method) but nothing worked except for the code above. It shows the error the way i want, and only when an error occurs, but runs the <code>exec()</code> twice...</p>\n\n<p>Can someone bail me out?</p>\n"},{"tags":["php","typo3","typoscript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13267778,"title":"Call a function inside class when unhide a Record in Typo3","body":"<p>Is it possible somehow in Typo3 if a Backend User is unhiding a Record to call a php function inside a class?</p>\n\n<p>In my Case:\nFE User is creating a Record hidden. If the Backend User checks this Record and unhide it to show it in frontend I need to send data to the CRM of my client via a class->function</p>\n"},{"tags":["php","ajax","file","upload","progress"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1488,"score":1,"question_id":10252309,"title":"AJAX/PHP based upload with progress bar for large files","body":"<p>I've been trying to create a non-flash upload panel which also shows a progress bar.\nOn our server we have PHP 5.3 (cannot upgrade to 5.4 for now, so the new upload progress feature cannot be used => <a href=\"http://php.net/manual/en/session.upload-progress.php\" rel=\"nofollow\">http://php.net/manual/en/session.upload-progress.php</a>).\nWe cannot use flash based solutions, extensions or similar. </p>\n\n<p>Hence I've tried using an XMLHttpRequest combined with AJAX.\nThe problem here is that I've only achieved partial success.</p>\n\n<p>I've managed to upload and save on the server a file of about 380 MB, however, when trying with a larger file like 4 GB, it won't be saved on the server (if I check with Firebug at one point it would say \"POST aborted\").</p>\n\n<p>Another strange thing is that with the same file the xhr.upload.loaded starts with the same dimension of xhr.upload.total and starts counting from there.</p>\n\n<p>Does anyone know how to solve this problem or has an alternative solution?</p>\n\n<p>The client code is: \n</p>\n\n<pre><code>&lt;script type=\"application/javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"application/javascript\"&gt;\n\nfunction uploadToServer()\n{\n    fileField = document.getElementById(\"uploadedFile\");\n    var fileToUpload = fileField.files[0]; \n\n    var xhr = new XMLHttpRequest();\n    var uploadStatus = xhr.upload;\n\n    uploadStatus.addEventListener(\"progress\", function (ev) {\n            if (ev.lengthComputable) {\n                $(\"#uploadPercentage\").html((ev.loaded / ev.total) * 100 + \"%\");\n            }\n        }, false);\n\n    uploadStatus.addEventListener(\"error\", function (ev) {$(\"#error\").html(ev)}, false);\n    uploadStatus.addEventListener(\"load\", function (ev) {$(\"#error\").html(\"APPOSTO!\")}, false);\n\n    xhr.open(\n            \"POST\",\n            \"serverUpload.php\",\n            true\n            );\n        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n        xhr.setRequestHeader(\"Content-Type\", \"multipart/form-data\");\n        xhr.setRequestHeader(\"X-File-Name\", fileToUpload.fileName);\n        xhr.setRequestHeader(\"X-File-Size\", fileToUpload.fileSize);\n        xhr.setRequestHeader(\"X-File-Type\", fileToUpload.type);\n        //xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n        xhr.send(fileToUpload);\n}\n\n\n\n$(function(){\n\n    $(\"#uploadButton\").click(uploadToServer);\n\n});\n\n\n&lt;/script&gt;\n</code></pre>\n\n<p>HTML part:\n</p>\n\n<pre><code>&lt;form action=\"\" name=\"uploadForm\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n\n  &lt;input id=\"uploadedFile\" name=\"fileField\" type=\"file\" multiple /&gt;\n\n&lt;input id=\"uploadButton\" type=\"button\" value=\"Upload!\"&gt;\n\n&lt;/form&gt;\n\n&lt;div id=\"uploadPercentage\"&gt;&lt;/div&gt;\n&lt;div id=\"error\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Server side code:\n</p>\n\n<pre><code>&lt;?php\n\n$path = \"./\";\n$filename = $_SERVER['HTTP_X_FILE_NAME'];\n$filesize = $_SERVER['CONTENT_LENGTH'];\n\n\n$file = \"log.txt\";\n$fo= fopen($file, \"w\");\nfwrite($fo, $path . PHP_EOL);\nfwrite($fo, $filename . PHP_EOL);\nfwrite($fo, $filesize . PHP_EOL);\nfwrite($fo, $path . $filename . PHP_EOL);\n\nfile_put_contents($path . $filename, \nfile_get_contents('php://input')\n);\n\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12417982,"title":"validate radio button","body":"<p>How to validate radio button through javascript?</p>\n\n<pre><code>Male &lt;input type=\"radio\" name=\"sex\" value=\"male\" /&gt;\nfemale &lt;input type=\"radio\" name=\"sex\" value=\"female\" /&gt;\n</code></pre>\n"},{"tags":["php","jquery"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13265918,"title":"response from server width jquery Ajax","body":"<p>i can use this below code for sending any data to server and getting successful result, but my code dont sent respond <code>$data</code> is true or false.\ncode is can successful insert to database\nlocalhost PHP file:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n&lt;META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html; charset=utf-8\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n        $.post(\"http://www.test.com/index.php\",  {userCode:\"ttt-ddd-fff\"},\n            function(data){  \n                alert (data.message);\n            },'json');  \n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>&lt;?php\ninclude_once ('./AFactory.class.php');\n$database= new AFactory;\n$db=new AFactory();\n$link=$db-&gt;getDBO();\n$query=array('id'=&gt;NULL,'userCode'=&gt;$_POST['userCode']);\n$sql=$db-&gt;insertQuery(' `test`.`users`',$query);\nif ( mysql_query($sql) ) \n    {$data['success']=true;$data['message']='ok';}\nelse \n    {$data['success']=false;$data['message']='no';}\n\necho json_encode($data);\n\n?&gt;\n</code></pre>\n"},{"tags":["php","protocol-buffers"],"answer_count":2,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":1458,"score":2,"question_id":6224584,"title":"Protocol Buffer for PHP","body":"<p>What are the avaliable libraries for using protobuf in PHP? </p>\n"},{"tags":["php","windows","iis","batch-file"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":30,"score":3,"question_id":13263929,"title":"php exec() hangs","body":"<p>I'm running php 5.2.0 on IIS 7.</p>\n\n<p>Within this environment I tried to fork a process using php exec method as follows.\nexec(\"background_processes\\process_sePos_report.bat) </p>\n\n<p>It runs fine for sometime but then the process in this case cmd.exe hangs in the server. It won't do anything until the server is restarted.</p>\n\n<p>I also changed the code according to the below bug but the issue didn't resolve.\n<a href=\"https://bugs.php.net/bug.php?id=44942\" rel=\"nofollow\">https://bugs.php.net/bug.php?id=44942</a></p>\n\n<p>Can someone please help me on this issue.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","debugging","symfony2","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13267049,"title":"A good practice on how to debug a Symfony2 controller","body":"<p>I have an Symfony2 project and from time to time, I have PHP errors in my controller.  In order to find out where is the error, I would like to debug the PHP code in the controller.</p>\n\n<p>What do you think is the best practice to debug a controller in Symfony2?</p>\n"},{"tags":["php","excel"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13266146,"title":"Excel csv export into a php file with fgetcsv","body":"<p>I'm using excel 2010 professional plus to create an excel file.\nLater on I'm trying to export it as a UTF-8 .csv file. \nI do this by saving it as CSV (symbol separated.....<em>sry I know not the exact wording there\nbut I don't have the english version and I fear it is translated differently than 1:1</em>).\nThere I click on tools->weboptions and select unicode (UTF-8) as encoding.\nThe example .csv is as follows:</p>\n\n<pre><code>ID;englishName;germanName\n1;Austria;Österreich\n</code></pre>\n\n<p>So far so good, but if I open the file now with my php code:</p>\n\n<pre><code> header('Content-Type: text/html; charset=UTF-8');\n iconv_set_encoding(\"internal_encoding\", \"UTF-8\");\n iconv_set_encoding(\"output_encoding\", \"UTF-8\");\n setlocale(LC_ALL, 'de_DE.utf8');\n $fp=fopen($filePathName,'r');\n while (($dataRow= fgetcsv($fp,0,\";\",'\"') )!==FALSE)\n {\n     print_r($dataRow);\n }\n</code></pre>\n\n<ul>\n<li>I get: �sterreich as a result on the screen (as that is the \"error\" I cut all other parts of the result).</li>\n<li>If I open the file with notedpad++ and look at the encoding I see \"ANSI\" instead of UTF-8.</li>\n<li>If I change the encoding in notepad++ to UTF8....the ö,ä,... are replaced by special chars, which I have to correct manually.</li>\n</ul>\n\n<p>If I go another route and create a new UTF-8 file with notedpad++ and put in the same data as in the excel file I get shown \"Österreich\" on screen when I open it with the php file.</p>\n\n<p>Now the question I have is, why does it not function with excel, thus am I doing something wrong here? Or am I overlooking something?</p>\n\n<p>Tnx</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":52,"score":0,"question_id":13267823,"title":"PHP Array to represent Minutes","body":"<p>I want to create an array to represent minutes:</p>\n\n<pre><code> array {01,02,03,04,...,60}\n</code></pre>\n\n<p>How can I automatic do that?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":4,"view_count":54,"score":-2,"question_id":13266689,"title":"How send with post method in code behind?","body":"<p>I have a param A and its  25000 characters long.\nHow to send param A with <code>GET</code> method in php?</p>\n\n<pre><code> $kq=0;\n $msg1= strtr(base64_encode($msg), '+/=', '-_,');              \n $Title1=strtr(base64_encode($Title), '+/=', '-_,'); \nheader(\"Location:\".JRoute::_('./index.php/i0702?'.'kq='.$kq.\"&amp;Title=\".$Title1.\"&amp;Msg=\".$msg1));\n</code></pre>\n\n<p>Note: strlen($msg1)> 25000 characters. Now, How send with post method?</p>\n"}]}
{"total":298830,"page":14,"pagesize":100,"questions":[{"tags":["php","session"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13252994,"title":"what can cause a PHP session to fail on the first login attempt?","body":"<p>My script creates a new PHP session and immediately redirects the user to another page.</p>\n\n<p>This works perfectly every time except for the first time after the server has been idle for an hour or so. On the second attempt and after that it works perfectly again. After the server has been idle it always fails, and after the first attempt it always works. </p>\n\n<p><strong>Edit</strong>\nWhen the server has been idle, the session does not work. Everything works fine after that.</p>\n\n<p>Theoretically, what could cause the session to fail on the first attempt like this? </p>\n\n<p>I don't want to post any code here because there's simply because I don't know which part of the code to post. This is on IIS 7 with PHP 5.3. Same result both using CGI and FastCGI.</p>\n\n<p><strong>Edit</strong>\nsession_start(); is called on both scripts. The user will not see the first page as it redirects immediately to the next page. There's less than a second between the scripts. </p>\n"},{"tags":["php","google-analytics"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":16,"score":3,"question_id":13267688,"title":"How to show Search Overview in google analytics in php","body":"<p>How to show Search Overview in google analytics in php ??</p>\n\n<p>Google analytics page shown</p>\n\n<p><strong>Visits\n76</strong> </p>\n\n<p>I am using this function <strong>ga:organicSearches</strong> link is here <a href=\"https://developers.google.com/analytics/devguides/reporting/core/dimsmets#cats=visitor,session,trafficsources,adwords,goalconversions,platform,geonetwork,system,socialactivities,pagetracking,internalsearch,sitespeed,apptracking,eventtracking,ecommerce,socialinteractions,usertimings,exceptions,customvars,time\" rel=\"nofollow\">developers.google.com/analytics/devguides/reporting/core</a></p>\n\n<p>I want to show this data inside my new analytics website but this function shows me <strong>74 Visits</strong> </p>\n\n<p>May I know where I am wrong.</p>\n\n<p>Here is my Code so far :-</p>\n\n<pre><code>$ga1 = new gapi($ga_email,$ga_password);\n\n/* We are using the 'source' dimension and the 'visits' metrics */\n$dimensions = array('source');\n$metrics    = array('visits','organicSearches');\n\n/* We will sort the result be desending order of visits, \n    and hence the '-' sign before the 'visits' string */\n\n\n$ga1-&gt;requestReportData($ga_profile_id,\n                       $dimensions,\n                       $metrics,\n                       '-visits', // Sort by 'visits' in descending order\n                       $filter, // Filter the data\n                       '2012-10-05', // Start Date\n                       '2012-11-04', // End Date\n                       1,  // Start Index\n                       500 // Max results\n                       );\n\n$gaResults = $ga1-&gt;getResults();\n\n$i=1;\n\nforeach($gaResults as $result)\n{\n    printf(\"%-4d %-40s %5d\\n\",\n           $i++,\n           $result-&gt;getSource(),\n           $result-&gt;getVisits());\n}\n\necho \"\\n-----------------------------------------\\n\";\necho \"Total Results : {$ga1-&gt;getTotalResults()}\";    \n\necho \"getOrganicSearches:\".$ga1-&gt;getOrganicSearches().'&lt;br /&gt;';\n</code></pre>\n\n<p>Is there any other function to show this data ??? </p>\n\n<p>Thanks</p>\n"},{"tags":["php","sms"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":2650,"score":-1,"question_id":7360010,"title":"SMS sending through free gateway","body":"<p>Please guide me with sample code for sending sms through website. How to include sms gateway. Please tell me, can i use way2sms.com as gateway?</p>\n\n<p>is it the right way to use? please suggest me only this much of code works?</p>\n\n<pre><code>&lt;?php\nerror_reporting(E_ALL);\nob_implicit_flush(true);\n\n\ninclude_once \"class.curl.php\";\ninclude_once \"class.sms.php\";\n\n$smsapp=new sms();\n$smsapp-&gt;setGateway('way2sms'); \n\n\necho \"Logging in  ... \";\n$smsapp-&gt;login('10 digit number','way2sms password');\n\necho \"Sending SMS ... \";\n$result=$smsapp-&gt;send('receipient number','text message');\n\nif($result=='true')\n{\n    echo \"Message sent\";\n}\nelse\n{   \n    echo \"Error encountered : \".$smsapp-&gt;getLastError();\n}\n\n?&gt;\n</code></pre>\n\n<p>here is my class.curl.php</p>\n\n<pre><code>&lt;?php\nclass sms\n{\n    var $username;\n    var $password;\n    var $curl;\n    var $server;\n    var $loginDone;\n    var $debugMode;\n    var $data;\n    var $error;\n    public function __construct()\n    {\n        $this-&gt;curl=new cURL();\n    //  $this-&gt;curl-&gt;setProxy(\"\");\n        $this-&gt;loginDone=false;\n        $this-&gt;debugMode=false;\n        $this-&gt;data=array();\n    }\n    public function setGateway($serverName)\n    {\n        switch($serverName)\n        {\n            case '160by2':\n            $this-&gt;server='160by2';\n            break;\n\n            case 'way2sms':\n            $this-&gt;server='way2sms';\n            break;\n\n            case 'airtel':\n            $this-&gt;server='airtel';\n            break;\n\n            default :\n            $this-&gt;server='way2sms';\n\n        }\n    }\n    public function login($username,$password)\n    {\n        $server=$this-&gt;server;\n\n        call_user_func(array($this,\"login_$server\"),$username,$password);\n        $this-&gt;loginDone=true;\n\n    }\n    public function send($number,$msg)\n    {\n        $server=$this-&gt;server;\n        if($this-&gt;loginDone)\n        return call_user_func(array($this,\"send_$server\"),$number,$msg);\n        else\n        {\n            echo \"&lt;h2&gt;Please login first before sending SMS&lt;/h2&gt;\";\n        }\n\n    }\n    private function login_way2sms($username,$password)\n    {\n        $out=($this-&gt;curl-&gt;post(\"http://www.way2sms.com\",\"1=1\"));\n        $pattern=\"/Location:(.+?)\\n/\";\n        preg_match($pattern,$out,$matches);\n        $domain=trim($matches[1]);\n\n        $this-&gt;data['domain']=$domain;\n\n        $out= $this-&gt;curl-&gt;post(\"{$domain}auth.cl\",\"username=$username&amp;password=$password&amp;Submit=Sign+in\");\n\n        $pattern=\"/Location:(.+?)\\n/\";\n        preg_match($pattern,$out,$matches);\n        $referer=trim($matches[1]);\n        $this-&gt;data['referer']=$referer;\n\n\n    }\n\n\n    private function send_way2sms($number,$msg)\n    {\n        $domain=$this-&gt;data['domain'];\n        $html=$this-&gt;curl-&gt;post(\"{$domain}jsp/InstantSMS.jsp?val=0\",\"1=1\",$this-&gt;data['referer']);\n        if($this-&gt;debugMode)\n        {\n        echo \"&lt;h2&gt;After logging in, the HTML returned by server is&lt;/h2&gt;\";\n        echo $html;\n        }\n\n        $pattern = '/name=\"Action\".+?value=\"(.*)\"/';\n        preg_match($pattern, $html, $matches);\n\n        $custfrom=$matches[1];\n        $msg=urlencode($msg);\n        $html=$this-&gt;curl-&gt;post(\"{$domain}FirstServletsms?custid=\",\"custid=undefined&amp;HiddenAction=instantsms&amp;Action={$custfrom}&amp;login=&amp;pass=&amp;MobNo=$number&amp;textArea=$msg\");\n        $pattern = '/class=\"style1\"&gt;(.+?)&lt;\\/span&gt;/';\n        preg_match($pattern, $html, $matches);\n        $out=($matches[1]);\n\n        if(!preg_match(\"/successfully/\",$out))\n        {\n        $this-&gt;setError($out);\n        return false;\n        }\n        else\n        {\n        return true;\n        $this-&gt;setError(\"No errors\");\n        }\n\n    }\n    public function getLastError()\n    {\n        return $this-&gt;error;\n\n    }\n    private function setError($error)\n    {\n        $this-&gt;error=$error;\n    }\n    private function login_160by2($username,$password)\n    {\n    //  $out2=$this-&gt;curl-&gt;get(\"http://m.160by2.com\");\n        $out=$this-&gt;curl-&gt;post(\"http://m.160by2.com/LoginCheck.asp?l=1&amp;txt_msg=&amp;mno=\",\"txtUserName=$username&amp;txtPasswd=$password&amp;RememberMe=Yes&amp;cmdSubmit=Login\");\n        $pattern=\"/MyMenu.asp\\?Msg=(.+?)&amp;/\";\n\n        preg_match($pattern,$out,$matches);\n        $id=trim($matches[1]);\n        $this-&gt;data['id']=$id;\n\n    }\n\n    private function send_160by2($number,$msg)\n    {\n        $msg=urlencode($msg);\n        $id=$this-&gt;data['id'];\n        $out1=$this-&gt;curl-&gt;post(\"http://m.160by2.com/SaveCompose.asp?l=1\",\"txt_mobileno=$number&amp;txt_msg=$msg&amp;cmdSend=Send+SMS&amp;TID=&amp;T_MsgId=&amp;Msg=$id\");\n        //echo $out1;\n        $pattern = '/\\&lt;table.+?\\&gt;(.+)\\&lt;\\/table/s';\n        preg_match($pattern, $out1, $matches);\n\n        $out=strip_tags(@$matches[1]);\n        if(count($matches)&lt;1)\n        {\n        $pattern=\"/\\&lt;div.+?background:.+?yellow.+?\\&gt;(.+?)\\&lt;\\/div\\&gt;/s\";\n\n        preg_match($pattern,$out1,$matches);\n\n        $out=strip_tags($matches[1]);\n        }\n\n//\n    //  echo \"out is $out\";\n\n        if(!preg_match(\"/successfully/i\",$out))\n        {\n\n        $this-&gt;setError($out);\n\n        return false;\n        }\n        else\n        {\n        return true;\n        $this-&gt;setError(\"No errors\");\n        }\n\n    }\n\n    private function login_airtel($username,$password)\n    {\n        $this-&gt;data['username']=$username;\n        $this-&gt;data['password']=$password;\n\n    }\n\n\n    private function send_airtel($number,$msg)\n    {\n\n    }\n}\n\n?&gt;\n</code></pre>\n\n<p>in the place of username and password, which username and password i should use?</p>\n"},{"tags":["php","mysql","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13266068,"title":"Update column with select","body":"<p>hello I would like to set a table column I tried with the update query but I have syntax error</p>\n\n<pre><code>  $cmts=\"UPDATE stat_alert INNER  JOIN cell_cmt  ON stat_alert.cell = cell_cmt.cell SET stat_alert.`cmts` = cell_cmt.`Cmts`\";\n$cmt= mysql_query($cmts)OR DIE(\"Erreur sur la requete\");\n</code></pre>\n\n<p>I have erreur sur la requete \nwho can help me </p>\n"},{"tags":["php","sublimetext","sublimetext2","code-intelligence"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":441,"score":1,"question_id":11569702,"title":"SublimeText 2 CodeIntel for PHP on Windows?","body":"<p>Just installed <a href=\"https://github.com/Kronuz/SublimeCodeIntel\" rel=\"nofollow\">SublimeCodeIntel</a> via PackageControll plugin on my Windows 7 x64 PC for the latest (v 2.0.1) SublimeText 2, and there has no effect when I try autocomplete simple class method 'foo':</p>\n\n<pre><code>&lt;?php\n    class Foo {\n        public function foo($a) { echo $a; }\n    }\n    $f = new Foo();\n    $f-&gt;\n?&gt;\n</code></pre>\n\n<p>Any suggestions?\nP.S. Also .codeintel directory doesn't contain any log files and yes, I'd restarted SublimeText 2 after plugin install.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":271,"score":0,"question_id":12140559,"title":"Error with .htaccess and mod_rewrite","body":"<p>I'm trying to host a php based application with the following .htaccess values.</p>\n\n<pre><code>Options +FollowSymLinks\nOptions -Indexes\nDirectoryIndex index.php\n\nRewriteEngine On\nRewriteBase /easydeposit\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n\n<p>However, I keep facing the following two errors,</p>\n\n<pre><code>[access_compat:error] [pid 25330:tid 27] AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/system/\n[access_compat:error] [pid 25330:tid 27]  AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/private/\n[access_compat:error] [pid 25330:tid 27] AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/application/\n[authz_core:error] [pid 25330:tid 27]  AH01630: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/.htaccess\n</code></pre>\n\n<p>I'm not sure why this is happening. Any help is appreciated.</p>\n"},{"tags":["php","sphinx","oscommerce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":13267372,"title":"how can i use sphinx with oscommerce website?","body":"<p>I need to integrate sphinx with my oscommerce website but i dont understand how to start it.how to implement sphinx php api and use it with oscommrece php mysql queries. </p>\n\n<p>I really appreciate any help I can get! Thanks!</p>\n"},{"tags":["php","google-maps-api-3"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":6256,"score":3,"question_id":8633574,"title":"Get latitude and longitude automatically using php, API","body":"<p>In one of my php applications I have to find out the latitude and longitude of the place from  address.</p>\n\n<p>I tried this code: </p>\n\n<pre><code>$json = file_get_contents(\"http://maps.google.com/maps/api/geocode/json?address=$address&amp;sensor=false&amp;region=$region\");\n$json = json_decode($json);\n\n$lat = $json-&gt;{'results'}[0]-&gt;{'geometry'}-&gt;{'location'}-&gt;{'lat'};\n$long = $json-&gt;{'results'}[0]-&gt;{'geometry'}-&gt;{'location'}-&gt;{'lng'};\n</code></pre>\n\n<p>But it is showing the following Error :</p>\n\n<blockquote>\n  <p>Warning: file_get_contents(http://maps.google.com/maps/api/geocode/json?address=technopark, Trivandrun, kerala,India&amp;sensor=false&amp;region=IND) [function.file-get-contents]: failed to open stream: HTTP request failed! HTTP/1.0 400 Bad Request in D:\\Projects\\lon.php on line 4</p>\n</blockquote>\n\n<p>Please help me to solve this issue.</p>\n"},{"tags":["php","html","excel"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":6153,"score":1,"question_id":3437745,"title":"HTML table to excel - PHP","body":"<p>I am creating a report in Table format. \nThis report is displayed on the browser.\nI want to provide a download report in excel format link so that the report can be available in excel file also.\nHow can I do this</p>\n"},{"tags":["php","html","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13267597,"title":"An efficient way to store <select>'s options in a database?","body":"<p>I'm making a website where there are thousands of <code>&lt;select&gt;&lt;/select&gt;</code> inputs. their <code>&lt;option&gt;&lt;/option&gt;</code> can be changed dinamicaly by an administrator at any time. I'm actually storing each select input's options on separate tables, associating an Id and a value but this is heavy and not really great because i have ~= 100 tables and i need ~= 100 queries to display all the inputs on one page.</p>\n\n<p>Is there any better storage solution ?</p>\n\n<p>Current table exemple :</p>\n\n<pre><code>Table : selectanimaltype\n\nID     NAME\n1       pig\n2       cow\n3       sheep\n4       fox\n...     ...\n</code></pre>\n\n<p>And i have a thousands of table like this one</p>\n"},{"tags":["php","codeigniter","twitter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13265020,"title":"Error while implementing XTA2 code for twitter in CodeIgniter","body":"<p>I am using Eric Bae's third party twitter login implementation in CodeIgniter(<a href=\"https://github.com/ericbae/XTA2\" rel=\"nofollow\">https://github.com/ericbae/XTA2</a>)</p>\n\n<p>The Twitter Library(tweet.php)</p>\n\n<pre><code>class tweet {\n\n    private $_oauth = NULL;\n\n    function __construct()\n    {\n        $this-&gt;_oauth = new tweetOauth();\n    }\n\n    function __call($method, $args)\n    {\n        if ( method_exists($this, $method) )\n        {\n            return call_user_func_array(array($this, $method), $args);\n        }\n\n        return call_user_func_array(array($this-&gt;_oauth, $method), $args);\n    }\n\n    function logged_in()\n    {\n        return $this-&gt;_oauth-&gt;loggedIn();\n    }\n\n    function set_callback($url)\n    {\n        $this-&gt;_oauth-&gt;setCallback($url);\n    }\n\n    function login()\n    {\n        return $this-&gt;_oauth-&gt;login();\n    }\n\n    function logout()\n    {\n        return $this-&gt;_oauth-&gt;logout();\n    }\n\n    function get_tokens()\n    {\n        $tokens = array(\n                        'oauth_token' =&gt; $this-&gt;_oauth-&gt;getAccessKey(),\n                        'oauth_token_secret' =&gt; $this-&gt;_oauth-&gt;getAccessSecret()\n                    );\n\n        return $tokens;\n    }\n\n    function set_tokens($tokens)\n    {\n        return $this-&gt;_oauth-&gt;setAccessTokens($tokens);\n    }\n}\n\nclass tweetException extends Exception {\n\n    function __construct($string)\n    {\n        parent::__construct($string);\n    }\n\n    public function __toString() {\n        return \"exception '\".__CLASS__ .\"' with message '\".$this-&gt;getMessage().\"' in \".$this-&gt;getFile().\":\".$this-&gt;getLine().\"\\nStack trace:\\n\".$this-&gt;getTraceAsString();\n    }\n}\n\nclass tweetConnection {\n\n    // Allow multi-threading.\n\n    private $_mch = NULL;\n    private $_properties = array();\n\n    function __construct()\n    {\n        $this-&gt;_mch = curl_multi_init();\n\n        $this-&gt;_properties = array(\n            'code'      =&gt; CURLINFO_HTTP_CODE,\n            'time'      =&gt; CURLINFO_TOTAL_TIME,\n            'length'    =&gt; CURLINFO_CONTENT_LENGTH_DOWNLOAD,\n            'type'      =&gt; CURLINFO_CONTENT_TYPE\n        );\n    }\n\n    private function _initConnection($url)\n    {\n        $this-&gt;_ch = curl_init($url);\n        curl_setopt($this-&gt;_ch, CURLOPT_RETURNTRANSFER, TRUE);\n    }\n\n    public function get($url, $params)\n    {\n        if ( count($params['request']) &gt; 0 )\n        {\n            $url .= '?';\n\n            foreach( $params['request'] as $k =&gt; $v )\n            {\n                $url .= \"{$k}={$v}&amp;\";\n            }\n\n            $url = substr($url, 0, -1);\n        }\n\n        $this-&gt;_initConnection($url);\n        $response = $this-&gt;_addCurl($url, $params);\n\n        return $response;\n    }\n\n    public function post($url, $params)\n    {\n        // Todo\n        $post = '';\n\n        foreach ( $params['request'] as $k =&gt; $v )\n        {\n            $post .= \"{$k}={$v}&amp;\";\n        }\n\n        $post = substr($post, 0, -1);\n\n        $this-&gt;_initConnection($url, $params);\n        curl_setopt($this-&gt;_ch, CURLOPT_POST, 1);\n        curl_setopt($this-&gt;_ch, CURLOPT_POSTFIELDS, $post);\n\n        $response = $this-&gt;_addCurl($url, $params);\n\n        return $response;\n    }\n\n    private function _addOauthHeaders(&amp;$ch, $url, $oauthHeaders)\n    {\n        $_h = array('Expect:');\n        $urlParts = parse_url($url);\n        $oauth = 'Authorization: OAuth realm=\"' . $urlParts['path'] . '\",';\n\n        foreach ( $oauthHeaders as $name =&gt; $value )\n        {\n            $oauth .= \"{$name}=\\\"{$value}\\\",\";\n        }\n\n        $_h[] = substr($oauth, 0, -1);\n\n        curl_setopt($ch, CURLOPT_HTTPHEADER, $_h);\n    }\n\n    private function _addCurl($url, $params = array())\n    {\n        if ( !empty($params['oauth']) )\n        {\n            $this-&gt;_addOauthHeaders($this-&gt;_ch, $url, $params['oauth']);\n        }\n\n        $ch = $this-&gt;_ch;\n\n        $key = (string) $ch;\n        $this-&gt;_requests[$key] = $ch;\n\n        $response = curl_multi_add_handle($this-&gt;_mch, $ch);\n\n        if ( $response === CURLM_OK || $response === CURLM_CALL_MULTI_PERFORM )\n        {\n            do {\n                $mch = curl_multi_exec($this-&gt;_mch, $active);\n            } while ( $mch === CURLM_CALL_MULTI_PERFORM );\n\n            return $this-&gt;_getResponse($key);\n        }\n        else\n        {\n            return $response;\n        }\n    }\n\n    private function _getResponse($key = NULL)\n    {\n        if ( $key == NULL ) return FALSE;\n\n        if ( isset($this-&gt;_responses[$key]) )\n        {\n            return $this-&gt;_responses[$key];\n        }\n\n        $running = NULL;\n\n        do\n        {\n            $response = curl_multi_exec($this-&gt;_mch, $running_curl);\n            if ( $running !== NULL &amp;&amp; $running_curl != $running )\n            {\n                $this-&gt;_setResponse($key);\n\n                if ( isset($this-&gt;_responses[$key]) )\n                {\n\n                    $response = new tweetResponseOauth( (object) $this-&gt;_responses[$key] );\n                    if ( $response-&gt;__resp-&gt;code !== 200 )\n                    {\n                        throw new tweetException($response-&gt;__resp-&gt;code.' | Request Failed: '.$response-&gt;__resp-&gt;data-&gt;request.' - '.$response-&gt;__resp-&gt;data-&gt;error);\n                    }\n\n                    return $response;\n                }\n            }\n\n            $running = $running_curl;\n\n        } while ( $running_curl &gt; 0);\n\n    }\n\n    private function _setResponse($key)\n    {\n        while( $done = curl_multi_info_read($this-&gt;_mch) )\n        {\n            $key = (string) $done['handle'];\n            $this-&gt;_responses[$key]['data'] = curl_multi_getcontent($done['handle']);\n\n            foreach ( $this-&gt;_properties as $curl_key =&gt; $value )\n            {\n                $this-&gt;_responses[$key][$curl_key] = curl_getinfo($done['handle'], $value);\n\n                curl_multi_remove_handle($this-&gt;_mch, $done['handle']);\n            }\n      }\n    }\n}\n\nclass tweetResponseOauth {\n\n    private $__construct;\n\n    public function __construct($resp)\n    {\n        $this-&gt;__resp = $resp;\n\n        if ( strpos($this-&gt;__resp-&gt;type, 'json') !== FALSE )\n        {\n            $this-&gt;__resp-&gt;data = json_decode($this-&gt;__resp-&gt;data);\n        }\n    }\n\n    public function __get($name)\n    {\n        if ($this-&gt;__resp-&gt;code &lt; 200 || $this-&gt;__resp-&gt;code &gt; 299) return FALSE;\n\n        if ( is_string($this-&gt;__resp-&gt;data ) )\n        {\n            parse_str($this-&gt;__resp-&gt;data, $result);\n        }\n        else\n        {\n            $result = $this-&gt;__resp-&gt;data;\n        }\n\n        foreach($result as $k =&gt; $v)\n        {\n            $this-&gt;$k = $v;\n        }\n\n        if ( $name === '_result')\n        {\n            return $result;\n        }\n\n        return $result[$name];\n    }\n}\n\nclass tweetOauth extends tweetConnection {\n\n    private $_obj;\n    private $_tokens = array();\n    private $_authorizationUrl  = 'http://api.twitter.com/oauth/authorize';\n    private $_requestTokenUrl   = 'http://api.twitter.com/oauth/request_token';\n    private $_accessTokenUrl    = 'http://api.twitter.com/oauth/access_token';\n    private $_signatureMethod   = 'HMAC-SHA1';\n    private $_version           = '1.0';\n    private $_apiUrl            = 'http://api.twitter.com';\n    private $_searchUrl         = 'http://search.twitter.com/';\n    private $_callback = NULL;\n    private $_errors = array();\n    private $_enable_debug = FALSE;\n\n    function __construct()\n    {\n        parent::__construct();\n\n        $this-&gt;_obj =&amp; get_instance();\n        //$this-&gt;_obj-&gt;load-&gt;config('tweet'); // this is now in config file for easy access\n        //$this-&gt;_obj-&gt;load-&gt;library('session'); // we already loaded this for tank auth!\n        $this-&gt;_obj-&gt;load-&gt;library('unit_test');\n        //$this-&gt;_obj-&gt;load-&gt;helper('url'); // this is also loaded already!\n\n        $this-&gt;_tokens =    array(\n                                'consumer_key'      =&gt; $this-&gt;_obj-&gt;config-&gt;item('tweet_consumer_key'),\n                                'consumer_secret'   =&gt; $this-&gt;_obj-&gt;config-&gt;item('tweet_consumer_secret'),\n                                'access_key'        =&gt; $this-&gt;_getAccessKey(),\n                                'access_secret'     =&gt; $this-&gt;_getAccessSecret()\n                            );\n\n        $this-&gt;_checkLogin();\n    }\n\n    function __destruct()\n    {\n        if ( !$this-&gt;_enable_debug ) return;\n\n        if ( !empty($this-&gt;_errors) )\n        {\n            foreach ( $this-&gt;_errors as $key =&gt; $e )\n            {\n                echo '&lt;pre&gt;'.$e.'&lt;/pre&gt;';\n            }\n        }\n    }\n\n    public function enable_debug($debug)\n    {\n        $debug = (bool) $debug;\n        $this-&gt;_enable_debug = $debug;\n    }\n\n    public function call($method, $path, $args = NULL)\n    {\n        $response = $this-&gt;_httpRequest(strtoupper($method), $this-&gt;_apiUrl.'/'.$path.'.json', $args);\n\n        // var_dump($response);\n        // die();\n\n        return ( $response === NULL ) ? FALSE : $response-&gt;_result;\n    }\n\n    public function search($args = NULL)\n    {\n        $response = $this-&gt;_httpRequest('GET', $this-&gt;_searchUrl.'search.json', $args);\n\n        return ( $response === NULL ) ? FALSE : $response-&gt;_result;\n    }\n\n    public function loggedIn()\n    {\n        $access_key = $this-&gt;_getAccessKey();\n        $access_secret = $this-&gt;_getAccessSecret();\n\n        $loggedIn = FALSE;\n\n        if ( $this-&gt;_getAccessKey() !== NULL &amp;&amp; $this-&gt;_getAccessSecret() !== NULL )\n        {\n            $loggedIn = TRUE;\n        }\n\n        $this-&gt;_obj-&gt;unit-&gt;run($loggedIn, TRUE, 'Logged In');\n        return $loggedIn;\n    }\n\n    private function _checkLogin()\n    {\n        if ( isset($_GET['oauth_token']) )\n        {\n            $this-&gt;_setAccessKey($_GET['oauth_token']);\n            $token = $this-&gt;_getAccessToken();\n\n            $token = $token-&gt;_result;\n\n            $token = ( is_bool($token) ) ? $token : (object) $token;\n\n            if ( !empty($token-&gt;oauth_token) &amp;&amp; !empty($token-&gt;oauth_token_secret) )\n            {\n                $this-&gt;_setAccessKey($token-&gt;oauth_token);\n                $this-&gt;_setAccessSecret($token-&gt;oauth_token_secret);\n            }\n\n            redirect(current_url());\n            return NULL;\n        }\n    }\n\n    public function login()\n    {\n        if ( ($this-&gt;_getAccessKey() === NULL || $this-&gt;_getAccessSecret() === NULL) )\n        {\n            header('Location: '.$this-&gt;_getAuthorizationUrl());\n            return;\n        }\n\n        return $this-&gt;_checkLogin();\n    }\n\n    public function logout()\n    {\n        $this-&gt;_obj-&gt;session-&gt;unset_userdata('twitter_oauth_tokens');\n    }\n\n    public function getTokens()\n    {\n        return $this-&gt;_tokens;\n    }\n\n    private function _getConsumerKey()\n    {\n        return $this-&gt;_tokens['consumer_key'];\n    }\n\n    private function _getConsumerSecret()\n    {\n        return $this-&gt;_tokens['consumer_secret'];\n    }\n\n    public function getAccessKey(){ return $this-&gt;_getAccessKey(); }\n\n    private function _getAccessKey()\n    {\n        $tokens = $this-&gt;_obj-&gt;session-&gt;userdata('twitter_oauth_tokens');\n        return ( $tokens === FALSE || !isset($tokens['access_key']) || empty($tokens['access_key']) ) ? NULL : $tokens['access_key'];\n    }\n\n    private function _setAccessKey($access_key)\n    {\n        $tokens = $this-&gt;_obj-&gt;session-&gt;userdata('twitter_oauth_tokens');\n\n        if ( $tokens === FALSE || !is_array($tokens) )\n        {\n            $tokens = array('access_key' =&gt; $access_key);\n        }\n        else\n        {\n            $tokens['access_key'] = $access_key;\n        }\n\n        $this-&gt;_obj-&gt;session-&gt;set_userdata('twitter_oauth_tokens', $tokens);\n    }\n\n    public function getAccessSecret(){ return $this-&gt;_getAccessSecret(); }\n\n    private function _getAccessSecret()\n    {\n        $tokens = $this-&gt;_obj-&gt;session-&gt;userdata('twitter_oauth_tokens');\n        return ( $tokens === FALSE || !isset($tokens['access_secret']) || empty($tokens['access_secret']) ) ? NULL : $tokens['access_secret'];\n    }\n\n    private function _setAccessSecret($access_secret)\n    {\n        $tokens = $this-&gt;_obj-&gt;session-&gt;userdata('twitter_oauth_tokens');\n\n        if ( $tokens === FALSE || !is_array($tokens) )\n        {\n            $tokens = array('access_secret' =&gt; $access_secret);\n        }\n        else\n        {\n            $tokens['access_secret'] = $access_secret;\n        }\n\n        $this-&gt;_obj-&gt;session-&gt;set_userdata('twitter_oauth_tokens', $tokens);\n    }\n\n    private function _setAccessTokens($tokens)\n    {\n        $this-&gt;_setAccessKey($tokens['oauth_token']);\n        $this-&gt;_setAccessSecret($tokens['oauth_token_secret']);\n    }\n\n    public function setAccessTokens($tokens)\n    {\n        return $this-&gt;_setAccessTokens($tokens);\n    }\n\n    private function _getAuthorizationUrl()\n    {\n        $token = $this-&gt;_getRequestToken();\n        return $this-&gt;_authorizationUrl.'?oauth_token=' . $token-&gt;oauth_token;\n    }\n\n    private function _getRequestToken()\n    {\n        return $this-&gt;_httpRequest('GET', $this-&gt;_requestTokenUrl);\n    }\n\n    private function _getAccessToken()\n    {\n        return $this-&gt;_httpRequest('GET', $this-&gt;_accessTokenUrl);\n    }\n\n    protected function _httpRequest($method = null, $url = null, $params = null)\n    {\n        if( empty($method) || empty($url) ) return FALSE;\n        if ( empty($params['oauth_signature']) ) $params = $this-&gt;_prepareParameters($method, $url, $params);\n\n        $this-&gt;_connection = new tweetConnection();\n\n        try {\n            switch ( $method )\n            {\n                case 'GET':\n                    return $this-&gt;_connection-&gt;get($url, $params);\n                break;\n\n                case 'POST':\n                    return $this-&gt;_connection-&gt;post($url, $params);\n                break;\n\n                case 'PUT':\n                    return NULL;\n                break;\n\n                case 'DELETE':\n                    return NULL;\n                break;\n            }\n        } catch (tweetException $e) {\n            $this-&gt;_errors[] = $e;\n        }\n    }\n\n    private function _getCallback()\n    {\n        return $this-&gt;_callback;\n    }\n\n    public function setCallback($url)\n    {\n        $this-&gt;_callback = $url;\n    }\n\n    private function _prepareParameters($method = NULL, $url = NULL, $params = NULL)\n    {\n        if ( empty($method) || empty($url) ) return FALSE;\n\n        $callback = $this-&gt;_getCallback();\n\n        if ( !empty($callback) )\n        {\n            $oauth['oauth_callback'] = $callback;\n        }\n\n        $this-&gt;setCallback(NULL);\n\n        $oauth['oauth_consumer_key']        = $this-&gt;_getConsumerKey();\n        $oauth['oauth_token']               = $this-&gt;_getAccessKey();\n        $oauth['oauth_nonce']               = $this-&gt;_generateNonce();\n        $oauth['oauth_timestamp']           = time();\n        $oauth['oauth_signature_method']    = $this-&gt;_signatureMethod;\n        $oauth['oauth_version']             = $this-&gt;_version;\n\n        array_walk($oauth, array($this, '_encode_rfc3986'));\n\n        if ( is_array($params) )\n        {\n            array_walk($params, array($this, '_encode_rfc3986'));\n        }\n\n        $encodedParams = array_merge($oauth, (array)$params);\n\n        ksort($encodedParams);\n\n        $oauth['oauth_signature'] = $this-&gt;_encode_rfc3986($this-&gt;_generateSignature($method, $url, $encodedParams));\n        return array('request' =&gt; $params, 'oauth' =&gt; $oauth);\n    }\n\n    private function _generateNonce()\n    {\n        return md5(uniqid(rand(), TRUE));\n    }\n\n    private function _encode_rfc3986($string)\n    {\n        return str_replace('+', ' ', str_replace('%7E', '~', rawurlencode(($string))));\n    }\n\n    private function _generateSignature($method = null, $url = null, $params = null)\n    {\n        if( empty($method) || empty($url) ) return FALSE;\n\n        // concatenating\n        $concatenatedParams = '';\n\n        foreach ($params as $k =&gt; $v)\n        {\n            $v = $this-&gt;_encode_rfc3986($v);\n            $concatenatedParams .= \"{$k}={$v}&amp;\";\n        }\n\n        $concatenatedParams = $this-&gt;_encode_rfc3986(substr($concatenatedParams, 0, -1));\n\n        // normalize url\n        $normalizedUrl = $this-&gt;_encode_rfc3986($this-&gt;_normalizeUrl($url));\n        $method = $this-&gt;_encode_rfc3986($method); // don't need this but why not?\n\n        $signatureBaseString = \"{$method}&amp;{$normalizedUrl}&amp;{$concatenatedParams}\";\n        return $this-&gt;_signString($signatureBaseString);\n    }\n\n    private function _normalizeUrl($url = NULL)\n    {\n        $urlParts = parse_url($url);\n\n        if ( !isset($urlParts['port']) ) $urlParts['port'] = 80;\n\n        $scheme = strtolower($urlParts['scheme']);\n        $host = strtolower($urlParts['host']);\n        $port = intval($urlParts['port']);\n\n        $retval = \"{$scheme}://{$host}\";\n\n        if ( $port &gt; 0 &amp;&amp; ( $scheme === 'http' &amp;&amp; $port !== 80 ) || ( $scheme === 'https' &amp;&amp; $port !== 443 ) )\n        {\n            $retval .= \":{$port}\";\n        }\n\n        $retval .= $urlParts['path'];\n\n        if ( !empty($urlParts['query']) )\n        {\n            $retval .= \"?{$urlParts['query']}\";\n        }\n\n        return $retval;\n    }\n\n    private function _signString($string)\n    {\n        $retval = FALSE;\n        switch ( $this-&gt;_signatureMethod )\n        {\n            case 'HMAC-SHA1':\n                $key = $this-&gt;_encode_rfc3986($this-&gt;_getConsumerSecret()) . '&amp;' . $this-&gt;_encode_rfc3986($this-&gt;_getAccessSecret());\n                $retval = base64_encode(hash_hmac('sha1', $string, $key, true));\n            break;\n        }\n\n        return $retval;\n    }\n\n}\n</code></pre>\n\n<p>My Controller (auth_other.php)</p>\n\n<pre><code>class auth_other extends CI_Controller\n{   \nfunction __construct()\n{\n    parent::__construct();\n    $this-&gt;load-&gt;model('user_model');\n    $this-&gt;load-&gt;model('tank_auth/users');\n\n    // for google open id\n    parse_str($_SERVER['QUERY_STRING'],$_GET);      \n}\n\n// function to allow users to log in via twitter\nfunction twitter_signin()\n{\n\n    if ($this-&gt;input-&gt;get('denied')) {\n\n        echo 'User denied twitter authorization';\n        // Possibly redirect to home page or show generic deneied message\n\n    }else{\n\n        // It really is best to auto-load this library!\n        //$this-&gt;load-&gt;library('tweet'); // automatically loaded in the autoload!\n\n        // Enabling debug will show you any errors in the calls you're making, e.g:\n        $this-&gt;tweet-&gt;enable_debug(TRUE);\n\n        // If you already have a token saved for your user\n        // (In a db for example) - See line #37\n        // \n        // You can set these tokens before calling logged_in to try using the existing tokens.\n        // $tokens = array('oauth_token' =&gt; 'foo', 'oauth_token_secret' =&gt; 'bar');\n        // $this-&gt;tweet-&gt;set_tokens($tokens);\n        if ( !$this-&gt;tweet-&gt;logged_in() )\n        {\n            // This is where the url will go to after auth.\n            // ( Callback url )\n\n            $this-&gt;tweet-&gt;set_callback(site_url('auth_other/twitter_signin'));\n\n            // Send the user off for login!\n            $this-&gt;tweet-&gt;login();\n        }\n        else\n        {\n            // You can get the tokens for the active logged in user:\n            // $tokens = $this-&gt;tweet-&gt;get_tokens();\n\n            // \n            // These can be saved in a db alongside a user record\n            // if you already have your own auth system.\n\n            // get the user id from twitter authentication and save to session\n            $user = $this-&gt;tweet-&gt;call('get', 'account/verify_credentials');\n            $twitter_id = $user-&gt;id;\n            $this-&gt;session-&gt;set_userdata('twitter_id', $twitter_id);    \n\n            // now see if the user exists with the given twitter id \n            $user = $this-&gt;user_model-&gt;get_user_by_sm(array('twitter_id' =&gt; $twitter_id), 'twitter_id');\n            if( sizeof($user) == 0 ) \n            { \n                redirect('auth_other/fill_user_info', 'refresh'); \n            }\n            else\n            {\n                // simulate what happens in the tank auth\n                $this-&gt;session-&gt;set_userdata(array( 'user_id' =&gt; $user[0]-&gt;id, 'username' =&gt; $user[0]-&gt;username,\n                                                    'status' =&gt; ($user[0]-&gt;activated == 1) ? STATUS_ACTIVATED : STATUS_NOT_ACTIVATED));\n                //$this-&gt;tank_auth-&gt;clear_login_attempts($user[0]-&gt;email); can't run this when doing twitter\n                redirect('auth', 'refresh');    \n            }           \n        }\n\n    }\n}\n\n// called when user logs in via twitter for the first time\nfunction fill_user_info()\n{\n    // load validation library and rules\n    $this-&gt;load-&gt;config('tank_auth', TRUE);\n    $this-&gt;load-&gt;library('form_validation');\n    $this-&gt;form_validation-&gt;set_rules('username', 'Username', 'trim|required|xss_clean|min_length['.$this-&gt;config-&gt;item('username_min_length', 'tank_auth').']|callback_username_check');\n    $this-&gt;form_validation-&gt;set_rules('email', 'Email', 'trim|required|xss_clean|valid_email|callback_email_check');\n\n    // Run the validation\n    if ($this-&gt;form_validation-&gt;run() == false ) \n    {\n        $this-&gt;load-&gt;view('auth_other/fill_user_info'); \n    }\n    else\n    {\n        $username = mysql_real_escape_string($this-&gt;input-&gt;post('username'));\n        $email = mysql_real_escape_string($this-&gt;input-&gt;post('email'));\n\n        /*\n         * We now must create a new user in tank auth with a random password in order\n         * to insert this user and also into user profile table with tank auth id\n         */\n        $password = $this-&gt;generate_password(9, 8);\n        $data = $this-&gt;tank_auth-&gt;create_user($username, $email, $password, false);\n        $user_id = $data['user_id'];\n        if( $this-&gt;session-&gt;userdata('facebook_id')) \n        { \n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('facebook_id' =&gt; $this-&gt;session-&gt;userdata('facebook_id')));\n        }\n        else if( $this-&gt;session-&gt;userdata('twitter_id'))\n        {\n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('twitter_id' =&gt; $this-&gt;session-&gt;userdata('twitter_id')));\n        }\n        else if( $this-&gt;session-&gt;userdata('gfc_id'))\n        {\n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('gfc_id' =&gt; $this-&gt;session-&gt;userdata('gfc_id')));\n        }\n        else if( $this-&gt;session-&gt;userdata('google_open_id'))\n        {\n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('google_open_id' =&gt; $this-&gt;session-&gt;userdata('google_open_id')));\n        }\n        else if( $this-&gt;session-&gt;userdata('yahoo_open_id'))\n        {\n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('yahoo_open_id' =&gt; $this-&gt;session-&gt;userdata('yahoo_open_id')));\n        }           \n        // let the user login via tank auth\n        $this-&gt;tank_auth-&gt;login($email, $password, false, false, true);\n        redirect('auth', 'refresh');\n    }\n}\n\n// a logout function for 3rd party\nfunction logout()\n{\n    $redirect = site_url('auth/logout');\n    if( $this-&gt;session-&gt;userdata('gfc_id') &amp;&amp; $this-&gt;session-&gt;userdata('gfc_id') != '') { $redirect = null; }\n\n    // set all user data to empty\n    $this-&gt;session-&gt;set_userdata(array('facebook_id' =&gt; '', \n                                       'twitter_id' =&gt; '', \n                                       'gfc_id' =&gt; '',\n                                       'google_open_id' =&gt; '',\n                                       'yahoo_open_id' =&gt; ''));\n    if( $redirect ) { redirect($redirect, 'refresh'); } \n    else { $this-&gt;load-&gt;view('gfc_logout'); }\n}\n\n// function to validate the email input field\nfunction email_check($email)\n{\n    $user = $this-&gt;users-&gt;get_user_by_email($email);\n    if ( sizeof($user) &gt; 0) \n    {\n        $this-&gt;form_validation-&gt;set_message('email_check', 'This %s is already registered.');\n        return false;\n    }\n    else { return true; }\n}\nfunction username_check($username)\n{\n    $user = $this-&gt;users-&gt;get_user_by_username($username);\n    if ( sizeof($user) &gt; 0) \n    {\n        $this-&gt;form_validation-&gt;set_message('username_check', 'This %s is already registered.');\n        return false;\n    }\n    else { return true; }\n}\n// generates a random password for the user\nfunction generate_password($length=9, $strength=0) \n{\n    $vowels = 'aeuy';\n    $consonants = 'bdghjmnpqrstvz';\n    if ($strength &amp; 1) { $consonants .= 'BDGHJLMNPQRSTVWXZ'; }\n    if ($strength &amp; 2) { $vowels .= \"AEUY\"; }\n    if ($strength &amp; 4) { $consonants .= '23456789'; }\n    if ($strength &amp; 8) { $consonants .= '@#$%'; }\n\n    $password = '';\n    $alt = time() % 2;\n    for ($i = 0; $i &lt; $length; $i++) \n    {\n        if ($alt == 1) \n        {\n            $password .= $consonants[(rand() % strlen($consonants))];\n            $alt = 0;\n        } \n        else \n        {\n            $password .= $vowels[(rand() % strlen($vowels))];\n            $alt = 1;\n            }\n        }\n        return $password;\n    }\n}\n</code></pre>\n\n<p>The error i get is \n    A PHP Error was encountered</p>\n\n<pre><code>Severity: Notice\n\nMessage: Undefined property: stdClass::$request\n\nFilename: libraries/tweet.php\n\nLine Number: 204\n\nA PHP Error was encountered\n\nSeverity: Notice\n\nMessage: Undefined property: stdClass::$error\n\nFilename: libraries/tweet.php\n\nLine Number: 204\n</code></pre>\n\n<p>can anybody please provide any inputs on this..?</p>\n"},{"tags":["php","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13267430,"title":"How to call an external api from codeIgniter?","body":"<p>Hi I am facing a big problem right now in developing my application. Actually there is a function developed already in one of our previous application class file. Now we want to use that function in our new application. How can we call that function in our new controller using codeIgniter.</p>\n\n<p>Note: our old application is in core PHP.</p>\n\n<p>old file report.class.php....in this there is a function name <code>get_report()</code>\nNew controller ro_manager.php.......in this there is a function <code>order_details()</code>...</p>\n\n<p>I want to call <code>get_report()</code> function in <code>order_details()</code> function......i need help in this any idea.......</p>\n"},{"tags":["php"],"answer_count":10,"favorite_count":0,"up_vote_count":6,"down_vote_count":1,"view_count":641,"score":5,"question_id":542995,"title":"What is += used for?","body":"<p>I think this is a dumb question but I could not find it on php. Why is a + with the = in the following code:</p>\n\n<pre><code>function calculateRanking()\n{\n    $created = $this-&gt;getCreated();\n\n    $diff = $this-&gt;getTimeDifference($created, date('F d, Y h:i:s A'));\n\n    $time = $diff['days'] * 24;\n    $time += $diff['hours'];\n    $time += ($diff['minutes'] / 60);\n    $time += (($diff['seconds'] / 60)/60);\n\n    $base = $time + 2;        \n\n    $this-&gt;ranking = ($this-&gt;points - 1) / pow($base, 1.5);\n\n    $this-&gt;save();\n}\n</code></pre>\n\n<p>Is this so $time has all those values or rather it is adding all the values to $time?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","html","web-services","soap","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13267198,"title":"Curl CURLOPT_RETURNTRANSFER not returns an array","body":"<p>i am using curl request it should return me an array but its returns plain text with no space no comma now the issue is how can i get each array indexes separately ?\nit was working perfectly the server where wsdl code is hosted were updates their server to ssl version 3 and this issue comes.\nhere is my code is there any option in curl to get array or array to plain text ? i am confused about it </p>\n\n<pre><code>    $header = array(\n        \"Content-type: text/xml;charset=\\\"UTF-8\\\"\",\n        \"Accept: text/xml\",\n        \"Cache-Control: no-cache\",\n        \"Pragma: no-cache\",\n        \"SOAPAction: \\\"getInfo\\\"\",\n        \"Content-length: \" . strlen($post_string),\n    );\n\n    $request = curl_init('wsdl URL here');\n    curl_setopt($request, CURLOPT_HEADER, 0);\n    curl_setopt($request, CURLOPT_POSTFIELDS, $post_string);\n    curl_setopt($request, CURLOPT_SSL_VERIFYPEER, FALSE);\n    curl_setopt($request, CURLOPT_RETURNTRANSFER, 0);\n    curl_setopt($request, CURLOPT_SSLVERSION, 3);\n    curl_setopt($request, CURLOPT_SSL_CIPHER_LIST, 'RC4-SHA');\n    curl_setopt($request, CURLOPT_HTTPHEADER, $header);\n    $result = curl_exec($request);\n    curl_close($request);\n    var_dump($result);\n</code></pre>\n"},{"tags":["php","html","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13267254,"title":"push slash to url with form","body":"<p>I have a form and when you hit search it writes the url out with <code>%2F</code> instead of a slash. How can I fix this?</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;form name=\"cdsearch\" method=\"get\" action=\"\"&gt;\n&lt;input type=\"hidden\" name=\"route\" value=\"database/comics\" /&gt; &lt;-- This is where the slash is needed\n&lt;input style=\"width: 100%;\" type=\"text\" name=\"q\" value=\"&lt;?php echo $q ?&gt;\" /&gt;&lt;br/&gt;\n&lt;input style=\"width: 100%;\" type=\"submit\" value=\"Search Comic Database\" /&gt;      \n&lt;/form&gt;\n</code></pre>\n"},{"tags":["php","sms"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":927,"score":0,"question_id":694091,"title":"Using SMS Gateway API in PHP","body":"<p>i couldnt send sms using the following code,  but i can sent sms using the same url, while i paste the url($murl) it into browser address bar</p>\n\n<p>connection timed out, takes too much time to execute, but no result </p>\n\n<p>what is the problem?</p>\n\n<pre><code>$amount=\"500\";\n$d=\"23-03-09\";\n\n$mNumber=\"98689988898\";\n$mName=\"TEST\";\n$mMessage =\"\\\"We have debited Rs.$amount. Your account on $d.  Thank you for your valuable support.\";\n$u1 = 'http://bulksms.mysmsmantra.com:8080/WebSMS/SMSAPI.jsp?';\n$u2= 'username='.urlencode('some').'&amp;password='. urlencode('some').'&amp;sendername='.urlencode('some') .'&amp;mobileno='\n. urlencode($mNumber).'&amp;message='.urlencode($mMessage).'&amp;submit=Submit';\n\n$murl=$u1.$u2;\n\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL, $murl);\n//curl_setopt($ch, CURLOPT_HEADER, 1); \n//curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);\n/*curl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $u2);\n*/$response = curl_exec($ch);\nprint \"Respons : $response\";\ncurl_close($ch);\n</code></pre>\n"},{"tags":["php","facebook"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13267488,"title":"Error when run iframe check user id of facebook from other domain?","body":"<p>I have a sample code:</p>\n\n<p>In domain1:</p>\n\n<pre><code>index.php\nlib/facebook.php\nlib/base_facebook.php\nlib/fb_ca_chain_bundle.crt\n</code></pre>\n\n<p>And index.php of domain 1</p>\n\n<pre><code>&lt;?php \nrequire_once('lib/facebook.php');\nif($user_id) {\n  try {\n    $user_profile = $facebook-&gt;api('/me','GET');\n    echo \"Name: \" . $user_profile['name'];\n\n  } catch(FacebookApiException $e) {\n    $login_url = $facebook-&gt;getLoginUrl(); \n    echo 'Please &lt;a href=\"' . $login_url . '\"&gt;login.&lt;/a&gt;';\n  }   \n} else {\n  // No user, print a link for the user to login\n}\n?&gt;\n</code></pre>\n\n<p>In domain 2 I call it using iframe:</p>\n\n<pre><code>&lt;iframe src=\"domain 1\" width=\"300\" height=\"250\"&gt; \n&lt;/iframe&gt;\n</code></pre>\n\n<p>When I run domain 2 is result not show user id test, I think cross domain ? How to ideas to fix it !!</p>\n"},{"tags":["php","regex","preg-replace"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13183199,"title":"Match and Replace first <p> paragraph contents of output?","body":"<p>I have content that is being outputted via Wordpress, and it wraps paragraph <code>&lt;p&gt;</code> tags around the content. I need to remove the content within the first <code>&lt;p&gt;&lt;/p&gt;</code> .. How can I do this?</p>\n\n<p>For example, output is:</p>\n\n<pre><code>&lt;p&gt;Posted by Bob&lt;/p&gt;\n&lt;p&gt;This is the content here&lt;/p&gt;\n&lt;p&gt;This is the second paragraph&lt;/p&gt;\n</code></pre>\n\n<p>I'd like to remove the line <code>&lt;p&gt;Posted by Bob&lt;/p&gt;</code> and leave the rest. </p>\n"},{"tags":["php","drupal","module"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13267400,"title":"Drupal features recreate issue with CCK fields","body":"<p>I have created a form using CCK with conditional fields on my development machine. If I use the features module to recreate and export the new settings to my staging machine the form comes out flat.</p>\n\n<p>So for example my form is set up to expand other options based on a selection (second option on a drop down box will show different form fields). </p>\n\n<p>After recreating and sending the files over to staging, same deployment, version and all that for some reason the CCK form appears flat. All the fields that are supposed to be hidden behind certain field selections now appear flat. I am not sure why this is the case.</p>\n\n<p>So the files that I might have transferred for example after downloading the feature:</p>\n\n<pre><code>support_tickets_v2.features.conditional_fields.inc\nsupport_tickets_v2.features.content.inc\nsupport_tickets_v2.features.fieldgroup.inc\nsupport_tickets_v2.info\nsupport_tickets_v2.strongarm.inc\nsupport_tickets_v2.views_default.inc\n</code></pre>\n"},{"tags":["php","tdd","phpunit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13267052,"title":"Test Driven Development in PHP without using PHPUnit","body":"<pre><code>class TestCase\n{\n    public function multiply($a,$b)\n    {\n        return $a*$b;\n    }\n}\n</code></pre>\n\n<p>I need to use test cases in PHP. Some websites suggests that to use TDD in PHP, we need to install PHPUnit. For now, I need only knowledge of test cases and using them in PHP to test a program. Is that possible for above PHP code(without installing PHPUnit)?\nI have WAMPP to run php.</p>\n"},{"tags":["php","uuid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13267191,"title":"What is the correct way to format a mac address node for an RFC 4122 Version 1 UUID?","body":"<p>I'm trying to create a Version 1 UUID based on a mac address as defined on <a href=\"http://www.ietf.org/rfc/rfc4122.txt\" rel=\"nofollow\">page 8 of RFC 4122</a> using only PHP. <a href=\"http://stackoverflow.com/a/9321579/594137\">Another answer</a> on this site recommended <a href=\"https://github.com/fredriklindberg/class.uuid.php\" rel=\"nofollow\">this</a> implementation which seems to fit the bill.</p>\n\n<p>I'm testing the usage of this class as follows:</p>\n\n<pre><code>&lt;?php\n    echo UUID::generate(UUID::UUID_TIME, UUID::FMT_STRING, '000000000000');\n?&gt;\n</code></pre>\n\n<p>But I'm getting the following output:</p>\n\n<pre><code>6c10f140-28c0-11e2-a210-303030303030\n</code></pre>\n\n<p>My understanding of the standard is that the node (last part) should be the mac address verbatim. Looking at <a href=\"https://github.com/fredriklindberg/class.uuid.php/blob/master/class.uuid.php#L250\" rel=\"nofollow\">the source code</a> it seems to use <a href=\"http://php.net/manual/en/function.ord.php\" rel=\"nofollow\"><code>ord()</code></a> which looks like it gets the ASCII value of the characters in the string provided to generate the node instead of using the address itself?</p>\n\n<p>Is my understanding of the spec wrong or is the code wrong?</p>\n"},{"tags":["php","forms","dreamweaver","contact"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":94,"score":3,"question_id":12859615,"title":"My contact form sends blank body_messages","body":"<p>I’m new to PHP so bear with me. My form is sending empty emails when I press submit. Any help would be great.</p>\n\n<p>This is my form:</p>\n\n<pre><code>    &lt;form class=\"contact_form\" action=\"kontakt.php\" method=\"post\"&gt;\n        &lt;p&gt;&lt;input type=\"text\" required=\"required\" id=\"name\" name=\"name\" class=\"text_input\" value=\"\" size=\"22\"  /&gt;\n        &lt;label for=\"name\"&gt;Namn *&lt;/label&gt;&lt;/p&gt;\n\n        &lt;p&gt;&lt;input type=\"text\" required=\"required\" id=\"company\" name=\"company\" class=\"text_input\" value=\"\" size=\"22\"  /&gt;\n        &lt;label for=\"company\"&gt;Företag *&lt;/label&gt;&lt;/p&gt;\n\n        &lt;p&gt;&lt;input type=\"email\" required=\"required\" id=\"email\" name=\"email\" class=\"text_input\" value=\"\" size=\"22\"  /&gt;\n        &lt;label for=\"email\"&gt;Epost *&lt;/label&gt;&lt;/p&gt;\n\n        &lt;p&gt;&lt;textarea required=\"required\" name=\"content\" class=\"textarea\" cols=\"30\" rows=\"5\"&gt;&lt;/textarea&gt;&lt;/p&gt;\n\n        &lt;p&gt;&lt;button type=\"submit\" class=\"button white\"&gt;&lt;span&gt;Skicka&lt;/span&gt;&lt;/button&gt;&lt;/p&gt;\n        &lt;input type=\"hidden\" value=\"info@web.se\" name=\"contact_to\"/&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>And my PHP code so far is:</p>\n\n<pre><code>&lt;?php\n\n$name = $_POST['name'];\n$company = $_POST['company'];\n$email = filter_input(INPUT_POST, 'email', FILTER_VALIDATE_EMAIL);\n$content = $_POST['content'];\n\n\n\n$mail_to = 'info@web.se';\n\n$subject = 'Lilla form'.$name;\n\n\n\n$body_message = 'From: '.$name.\"\\n\";\n\n$body_message .= 'E-mail: '.$email.\"\\n\";\n\n$body_message .= 'Message: '.$content;\n\n\n\n$headers = 'From: '.$email.\"\\r\\n\";\n\n$headers .= 'Reply-To: '.$email.\"\\r\\n\";\n\n\n\n$mail_status = mail($mail_to, $subject, $body_message, $headers);\n\n?&gt;\n</code></pre>\n\n<p>Please help me, I’m really stuck.</p>\n\n<p>Thank you all!</p>\n"},{"tags":["php","html"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13266645,"title":"export multiple table in one div from php to excel","body":"<p>i have more than one table in one div now wants to export all tables in excel.for one table it is possible but unable for multiple tables.</p>\n\n<p>code:-</p>\n\n<pre><code>&lt;form action='exporttoexcel.php' method='post' onsubmit='$(\"#datatodisplay\").val( $(\"&lt;div&gt;\").append( $(\"#frm\").eq(0).clone() ).html() )'&gt;\n&lt;div id=\"frm\"&gt;\n&lt;table  border=2 height='10%' width='40%' align='center'  cellpadding=4 cellspacing=0 bgcolor='#BDBDBD'&gt;\n    &lt;tr&gt; \n        &lt;th align=center height=25&gt; Form &lt;/th&gt;\n    &lt;/tr&gt;   \n    &lt;tr&gt; \n        &lt;th align=center height=25&gt; detail&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;input type='submit' name='export' value='Export' style='margin-top: 5px; margin-left: 90%; '&gt;\n&lt;/table&gt;\n&lt;br&gt;\n</code></pre>\n\n<p><strong>export button</strong></p>\n\n<p>table1</p>\n\n<p>table2</p>\n"},{"tags":["php","mysql","updates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13267193,"title":"Pulling data from one table, modifying the data, and inserting it into two others?","body":"<p>I'm trying to figure out how to modify data I copy from one table into another two.</p>\n\n<p>Currently I have it working so my form submits it pulls the data from 'prices' and puts it into 'pricestwo' and 'pricesthree'.</p>\n\n<p>However I need to modify the data before hand to make one 10% less on price, and one 20% less on price.</p>\n\n<pre><code>&lt;?php\n$priceid = $_POST['priceid'] ; \n$name = $_POST['productname'] ;\n$weight = $_POST['productweight'];\n$price = $_POST['productprice'];\nif(isset($_POST['updateprices'])) { \n\nfor($i=0;$i&lt;$count;$i++){\n\n$sql1= mysqli_query($myConnection, \"UPDATE pricestwo SET productname='$name[$i]', productweight='$weight[$i]', productprice='$pricetwo[$i]' WHERE priceid='$priceid[$i]'\");\n\n$sql2= mysqli_query($myConnection, \"UPDATE pricesthree SET productname='$name[$i]', productweight='$weight[$i]', productprice='$price[$i]' WHERE priceid='$priceid[$i]'\");\n}\necho \"&lt;meta http-equiv=\\\"refresh\\\" content=\\\"0;URL=edit_product_prices.php\\\"&gt;\";\n} \n?&gt;\n</code></pre>\n\n<p>This currently works to copy just the data, I've tried something like:</p>\n\n<pre><code>    $pricetwo = $price - ($price * 0.15);\n</code></pre>\n\n<p>to modify the data, but there are multiple rows been transferred so this just returns a 0.00 value. </p>\n\n<p>Anyone have any ideas on how to do this?</p>\n"},{"tags":["php","wcf","wsdualhttpbinding"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13262768,"title":"How to consume wcf service with callback in web?","body":"<p>I have a project that requires PHP to connect into WCF self host. The structure was, I have a selfhost wcf with tcp and WSDualHttpBinding protocols. I've used PHP SOAP version 1 and wcf has EnvelopVersion Soap12. I tried to test PHP code below but unfortunately couldn't make it work. I try to type the Url in my browser \"http://...:8009/Service/Service/?wsdl\" to test if my WCF was up and xml was appeared so it means wcf is up and running. Is it possible to notify web client if I have callback in the my self host service? Thanks in advance.</p>\n\n<pre><code>    &lt;?php\n\ntry\n{\n    $client = new SoapClient('http://...:8009/Service/Service/?wsdl',\n    array(\n                'location' =&gt; 'http://...:8009/Service/Service/',\n                'trace' =&gt; true,\n                'soap_version' =&gt; SOAP_1_1,\n                'cache_wsdl' =&gt; WSDL_CACHE_MEMORY\n        )); \n        .\n        .\n        .\n\n} catch ( Exception $e )\n{\n    echo \"Error:\".$e-&gt;getMessage();\n}\n\n?&gt;\n</code></pre>\n"},{"tags":["php","zend-framework","php-cli"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":5050,"score":2,"question_id":4863574,"title":"Fatal error:  Access to undeclared static property","body":"<p>I'm trying to use some extended <code>Zend_Db_Table</code> class from PHP CLI (Command Line Interface).</p>\n\n<p>Everything is working as expected, when used via Apache. But when used from CLI I get the following error:</p>\n\n<blockquote>\n  <p>[01-Feb-2011 14:41:34] PHP Fatal error:  Access to undeclared static property: <code>KidsclubIdentities::$tableName</code> in /home/www/</p>\n</blockquote>\n\n<p>If I <code>var_dump($tableVariables); die();</code> in the <code>col()</code> function of the class below I get a printout as expected, but <strong>NOT INCLUDING</strong> the <code>public static</code> variables of my model (<code>KidsclubIdentities</code>).</p>\n\n<p>So my best guess is that the scope is different, when using CLI vs. Apache</p>\n\n<pre><code>class My_Db_Table extends Zend_Db_Table\n{\n    public function col($varname) {\n        $tableVariables = get_class_vars(get_class($this));\n        if(array_key_exists($varname, $tableVariables)) {\n            return $tableVariables[$varname];\n        } else if(array_key_exists($varname . 'Column', $tableVariables)) {\n            return $tableVariables[$varname . 'Column'];\n        }\n        return $varname;\n    }\n\n[...]\n</code></pre>\n\n<p>My model</p>\n\n<pre><code>class KidsclubIdentities extends My_Db_Table\n{\n    protected $_name = 'kidsclub_identities';\n    protected $_rowClass = 'KidsclubIdentity';\n\n    public static $tableName = 'kidsclub_identities';\n    public static $primaryColumn = 'kidsclub_identity_id';\n    public static $statusColumn = 'kidsclub_identity_status';\n    public static $userIdColumn = 'user_id';\n    public static $identityIdColumn = 'identity_id';\n    public static $identityLocationTypeColumn = 'identity_location_type';\n</code></pre>\n\n<p>I was planning to use CLI to execute some operations from crontab. But I will move my focus onto apache based cron-script.</p>\n"},{"tags":["php","html","string"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":266,"score":2,"question_id":3388836,"title":"PHP - How to replace a phrase with another?","body":"<p>How can i replace this <code>&lt;p&gt;&lt;span class=\"headline\"&gt;</code>  with this <code>&lt;p class=\"headline\"&gt;&lt;span&gt;</code>\neasiest  with PHP.</p>\n\n<pre><code>$data = file_get_contents(\"http://www.ihr-apotheker.de/cs1.html\");\n$clean1 = strstr($data, '&lt;p&gt;');\n$str = preg_replace('#(&lt;a.*&gt;).*?(&lt;/a&gt;)#', '$1$2', $clean1);\n$ausgabe = strip_tags($str, '&lt;p&gt;');\necho $ausgabe;\n</code></pre>\n\n<p>Before I alter the html from the site I want to get the class declaration from the span to  the  <code>&lt;p&gt;</code> tag.</p>\n"},{"tags":["php","javascript","google-analytics"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13267162,"title":"Remove Google Analytics Tracking Parameters From Url","body":"<p>Is it possible to remove these parameters?\nI'm talking about this:</p>\n\n<pre><code>http://www.example.com/home/\n?__utma=1231312.12321312331.1231312313.1231231313.12321321313.5\n&amp;__utmb=123131313.3.9.132313123\n&amp;__utmc=123123132131\n&amp;__utmx=-\n&amp;__utmz=1232131313.31231321313.5.2.utmcsr=example.net|utmccn=(referral)|utmcmd=referral|utmcct=/home/\n&amp;__utmv=-\n&amp;__utmk=1231233131\n</code></pre>\n\n<p>I found this but it only works on HTML 5 browsers.</p>\n\n<pre><code>if (window.history &amp;&amp; history.replaceState &amp;&amp; location.search.match(/__utma/)) {\n    _gaq.push(function(){\n        history.replaceState({}, \"\", location.pathname);\n    });\n}\n</code></pre>\n\n<p>Is there a better way to do this. Maybe in php?</p>\n"},{"tags":["php","javascript","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":51,"score":-6,"question_id":13266863,"title":"Online Exam using PHP and MySQL with TIMER","body":"<p>Guys I am creating an <strong>Online exam using PHP and MYSQL</strong>. But i have a problem, how can I check the answers of the examinees in the previous page... i have next and previous button. But my codes only compute the correct answers on the <strong>last page</strong>. it doesn't include the scores in the previous pages. </p>\n\n<p>Second, <strong>my timer resets</strong> when the next page was clicked. The exam is good for 30 minutes. I want that 30 minutes from first page until to the last page without resetting and start counting again from 30 minutes.</p>\n"},{"tags":["php","sockets","fsockopen"],"answer_count":9,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":7543,"score":1,"question_id":2367458,"title":"PHP Post data with Fsockopen","body":"<p>I am attempting to post data using fsockopen, and then returning the result.\nHere is my current code:</p>\n\n<pre><code>&lt;?php\n$data=\"stuff=hoorah\\r\\n\";\n$data=urlencode($data);\n\n$fp = fsockopen(\"www.website.com\", 80, $errno, $errstr, 30);\nif (!$fp) {\n    echo \"$errstr ($errno)&lt;br /&gt;\\n\";\n} else {\n    $out = \"POST /script.php HTTP/1.0\\r\\n\";\n    $out .= \"Host: www.webste.com\\r\\n\";\n    $out .= 'Content-Type: application/x-www-form-urlencoded\\r\\n';\n    $out .= 'Content-Length: ' . strlen($data) . '\\r\\n\\r\\n';\n    $out .= \"Connection: Close\\r\\n\\r\\n\";\n    fwrite($fp, $out);\n    while (!feof($fp)) {\n        echo fgets($fp, 128);\n    }\n    fclose($fp);\n}\n?&gt; \n</code></pre>\n\n<p>It is supposed to echo the page, and it is echoing the page, but here is the script for script.php</p>\n\n<pre><code>&lt;?php\necho \"&lt;br&gt;&lt;br&gt;\";    \n$raw_data = $GLOBALS['HTTP_RAW_POST_DATA'];  \n parse_str( $raw_data, $_POST );\n\n//test 1\nvar_dump($raw_data);\necho \"&lt;br&gt;&lt;br&gt;\":\n//test 2\nprint_r( $_POST );  \n?&gt;\n</code></pre>\n\n<p>The outcome is:</p>\n\n<blockquote>\n  <p>HTTP/1.1 200 OK Date: Tue, 02 Mar 2010\n  22:40:46 GMT Server: Apache/2.2.3\n  (CentOS) X-Powered-By: PHP/5.2.6\n  Content-Length: 31 Connection: close\n  Content-Type: text/html; charset=UTF-8\n        string(0) \"\" Array ( )</p>\n</blockquote>\n\n<p>What do I have wrong? Why isn't the variable posting its data?</p>\n"},{"tags":["php","javascript","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":30,"score":0,"question_id":13265817,"title":"get value from popup page and insert it in parent page codeigniter","body":"<p>I had a popup page which had a form with field </p>\n\n<pre><code>name,discription , date etc\n</code></pre>\n\n<p>when the form submit successfully popup page close . it work fine till now.</p>\n\n<p>but know i want to get the value of </p>\n\n<pre><code>NAME field \n</code></pre>\n\n<p>from popup page and insert it in the parent page form . both page had a different controller . please tell how i procceed further.</p>\n"},{"tags":["php","mvc","cakephp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13258397,"title":"List posts by category in CakePHP","body":"<p>I'm new to CakePHP. Please help me to write a function to retrieve posts under a particular category for my blog app built using CakePHP.</p>\n\n<p>My table structure:</p>\n\n<p>posts: id, post, body, created, category_id\ncategory: id, group</p>\n\n<p>Also I had defined:\nInside post model - <code>var $belongsTo = 'Category';</code>\nInside category model - <code>var $hasMany = 'Post';</code></p>\n"},{"tags":["php","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12760034,"title":"Wordpress search with Tags not working","body":"<p>I have WordPress site with a tag cloud widget and search widget displayed. </p>\n\n<p>When I perform a search I see a list of the blog articles I'm interested in. When I use the tag widget to do the same, I don't see a list of results.</p>\n\n<p>Where have I gone wrong?</p>\n"},{"tags":["php","mysql","sql","query","opencart"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":13257360,"title":"Using quotation mark in MySQL","body":"<p>I have a list of 1000 products I am currently importing into OpenCart. Some of the product titles contains an quotation mark to symbolise the inches (for example 5\").</p>\n\n<p>I have imported all of these products successfully using this query:</p>\n\n<pre><code>$data['name'] = mysql_escape_string($data['name']);\n$sql = \"INSERT INTO \".DB_PREFIX.\"product-description SET language_id = '1', name = '\".$data['name'].\"'\";\n$query = mysql_query($sql);\n</code></pre>\n\n<p>When I am in OpenCart the list of products also show proberly however when I go to edit the product the title input field (which is meant to show the title) cuts out the title from the \" symbol onwards.</p>\n\n<p>Here is a visual example:\n<img src=\"http://i.stack.imgur.com/HIpsV.png\" alt=\"enter image description here\"></p>\n\n<p>Here we see the title is complete\n<img src=\"http://i.stack.imgur.com/93t7G.png\" alt=\"enter image description here\"></p>\n\n<p>Here we see the title as been cut out after the \".</p>\n\n<p>I can confirm it is not an OpenCart coding error because if I manually insert products from the interface with a \" it works fine. The error must lie within my query.</p>\n\n<p>If there is a problem with my query, is there a query where I can update all the products rather than re-insert them?</p>\n"},{"tags":["php","javascript","random"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":65,"score":-1,"question_id":13264821,"title":"PHP return \"Array\" instead of Array data","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4287654/php-pass-array-to-javascript\">Php pass array to Javascript</a><br>\n  <a href=\"http://stackoverflow.com/questions/6502107/how-to-pass-php-array-parameter-to-javascript-function\">How to pass PHP array parameter to Javascript Function?</a>  </p>\n</blockquote>\n\n\n\n<p>So I'm trying to pull an individual element at random from an array consisting of data pulled from a database. This is a simplified version of the php code.</p>\n\n<pre><code>        function getID() {\n                $result = array('1','2','3','4');\n\n                $id = $result[array_rand($result)];\n                return $id;\n        }\n</code></pre>\n\n<p>From here, I'm defining a JavaScript variable using the returned ID.</p>\n\n<p>Here's the weird thing, when I define the JS variable using the passed return $id, the javascript variable is defined as = \"Array\" instead of the $id data.</p>\n\n<p>IF I change the php code to this:</p>\n\n<pre><code>        function getID() {\n                $result = array('1','2','3','4');\n\n                $id = array_rand($result);\n                return $id;\n        }\n</code></pre>\n\n<p>The javascript variable is defined as the $id, which is the array key, not the array data.</p>\n\n<p>So I tried changing the php code to this:</p>\n\n<pre><code>        function getID() {\n                $result = array('1','2','3','4');\n\n                return $result[0];\n        }\n</code></pre>\n\n<p>But the javascript gets defined as \"Array\" again.</p>\n\n<p>It's as if the php won't take an array marker.</p>\n\n<p>Any ideas here are welcome.</p>\n"},{"tags":["php","web","web-crawler"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13249754,"title":"web crawler: fetch only useful html content to speed up fetching in php","body":"<p>I am designing a web crawler to fetch a list of products from a site. I have tried <strong>simple HTML DOM parser</strong> and <strong>file_get_contents()</strong> to fetch HTML and parse it. But it is taking too much time to fetch the HTML content. Also a lots of parsing overhead as it is a huge size page. I am looking for a way if possible to fetch only required HTML content to speed up fetching. like.. using offset and maxlen parameters in file_get_contents(). but Seeking (offset) is not supported with remote files.</p>\n\n<pre><code> string file_get_contents ( string $filename,false, 9000, 5000)\n</code></pre>\n\n<p>Does there any other way to do this? </p>\n"},{"tags":["php","curl","dns","libcurl"],"answer_count":7,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":2607,"score":11,"question_id":2177274,"title":"How do I CURL www.google.com - it keeps redirecting me to .co.uk","body":"<p>I am using CURL to check for the existence of a URL (HEAD request) but when I test it with <code>www.google.com</code>, it redirects me to <code>www.google.co.uk</code> - probably because my server is UK-based.</p>\n\n<p>Is there a way you can stop this from happening?  I don't want to remove the <code>CURLOPT_FOLLOWLOCATION</code> option as this is useful for 301 redirects etc.</p>\n\n<p>Part of my code is below;</p>\n\n<pre><code>$ch = curl_init();\n\n    // set URL and other appropriate options\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);\n    curl_setopt($ch, CURLOPT_MAXREDIRS, 5);\n    curl_setopt($ch, CURLOPT_NOBODY, true);\n    curl_setopt($ch, CURLOPT_AUTOREFERER, true);\n    curl_setopt($ch, CURLOPT_FORBID_REUSE, true);\n    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 4);\n    curl_setopt($ch, CURLOPT_TIMEOUT, 4);\n\n    $output = curl_exec($ch);\n\n    // get data     \n$data = curl_getinfo($ch);\n</code></pre>\n\n<p><code>$data['url']</code> contains <code>www.google.co.uk</code> when I set <code>$url</code> as <code>www.google.com</code></p>\n"},{"tags":["php","replace","domdocument"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13266164,"title":"How to replace a node with a string using DOMDocument","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3388836/php-how-to-replace-a-phrase-with-another\">PHP - How to replace a phrase with another?</a>  </p>\n</blockquote>\n\n\n\n<p>I need to transform this piece of html</p>\n\n<pre><code>&lt;html&gt;\n   &lt;body&gt;\n      Lorum ipsum &lt;a href=\"http://google.com\"&gt;click here&lt;/a&gt; dolores lorem.\n      Lorum ipsum &lt;a href=\"http://stackoverflow.com\"&gt;click here too&lt;/a&gt; dolores lorem.\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n       Lorum ipsum @@1@@ dolores lorem.\n       Lorum ipsum @@2@@ dolores lorem.\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>How can this be achieved using Domdocument (I'm not interested in een regex solution)?</p>\n"},{"tags":["php","javascript","jquery","wordpress","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13266779,"title":"Control what addthis shares","body":"<p>i´m working on a wordpress template.</p>\n\n<p>I have this markup for the sharer:</p>\n\n<pre><code>        &lt;div class=\"addthis_toolbox addthis_default_style addthis_32x32_style\"\"&gt;\n            &lt;a class=\"addthis_button_facebook\" style=\"cursor:pointer\"&gt;&lt;/a&gt;\n            &lt;a class=\"addthis_button_twitter\" style=\"cursor:pointer\"&gt;&lt;/a&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>The problem is that when I click to share on facebook it displays this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/UACfb.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, the title, url and image it´s ok, but it also shows the content in a weird way... is it possible to delete it or modify to share it in clean way?</p>\n"},{"tags":["php","image","image-processing","imagemagick","gd"],"answer_count":3,"favorite_count":8,"up_vote_count":31,"down_vote_count":2,"view_count":8228,"score":29,"question_id":5282072,"title":"GD vs ImageMagick vs Gmagick for jpg?","body":"<p>I am in the step to abandon GD for manipulating image in my website, they <em>just sux</em>.</p>\n\n<p>Everyone saying to use ImageMagick because they are better than GD, but what about ImageMagick vs Gmagick (<em>Swiss Army knife of image processing</em>)? </p>\n\n<p>Zend has a pretty article here <a href=\"http://devzone.zend.com/article/10531\" rel=\"nofollow\">http://devzone.zend.com/article/10531</a> talking about them.</p>\n\n<p>Before I will leave for ImageMagick are there any motivation to use gmagick instead?</p>\n\n<p>(PHP 5.3+)</p>\n\n<p>Edit: What's wrong with asking which is better between 2 libs? I think it's a fair question. If someone could explain the good-point of one lib over the other would help me and other poeple reading this question. Why close such a question??</p>\n\n<p>Edit2: For everyone asking what I need to do: I think it's oblivious: users uploads images (than can be png/gif/bmp w/e) I need to convert in JPG and then store it in the database, eventually if they are too big i need to resize down them a bit.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","api","magento","xml-rpc","magento-1.7"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13266600,"title":"how to create configurable associated products in magento using API?","body":"<p>I am creating 2 configurable products and 10 simple products in <code>Magento</code> using API. I have assigned size and colors value in simple products and it's working fine. Now how do I assign specific attribute to configurable product? and same like that I want to assign simple product to configurable product. Does anyone know how we can add simple product to configurable product? I have already tried this:</p>\n\n<p><a href=\"http://www.magentocommerce.com/api/soap/catalog/catalogProductLink/catalog_product_link.assign.html\" rel=\"nofollow\">http://www.magentocommerce.com/api/soap/catalog/catalogProductLink/catalog_product_link.assign.html</a></p>\n\n<p>but it's not working to assign simple products to configurable product with attribute.\nI know which tables contains configurable attribute. </p>\n\n<pre><code>catalog_product_super_attribute\ncatalog_product_super_attribute_label\n</code></pre>\n\n<p>I am able to modify existing API but I don't know which table contains configurable and simple products mapping.</p>\n"},{"tags":["php","javascript"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13266612,"title":"Get Country, GMT, City by IP address using PHP","body":"<p>I have tried to get the <strong>Country</strong>, <strong>City</strong>, and <strong>GMT</strong> using <code>js</code> by set it to cookies, and then I fetch it with <code>PHP</code> to save into <code>Database</code>.\nBut the method I used, is does not work sometimes,\nSo, is there anyway to get them by using PHP alone?\nor is there another way by using JS?</p>\n\n<p>I using this <code>js</code> provided by <strong>maxmind</strong></p>\n\n<pre><code>&lt;script language=\"JavaScript\" src=\"http://j.maxmind.com/app/geoip.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>But I often fail to save the data.</p>\n"},{"tags":["php","email","cakephp","cakephp-1.2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13266631,"title":"EmailComponent used outside of CakePHP 1.2 (SOAP request), doesn't load correct configuration","body":"<p>I have a SOAP server (Nusoap), which when called registers and calls a function (<code>register_donation()</code>) independently of cakePHP.  </p>\n\n<p><code>register_donation()</code> saves all the details and sends out an email. Currently the <code>EmailComponent</code> cannot locate the correct <code>layout</code> &amp; <code>template</code> (Because this class is being called outside of CakePHP).</p>\n\n<p>I am using the following code (as suggested on a number of other SO posts):</p>\n\n<pre><code>// Import our stuff\nApp::import('Core', 'Controller');\nApp::import('Component', 'Email');\n\n// Initialize the imports - This is where something is wrong!\n// It doesn't load my template &amp; layout\n$this-&gt;Controller =&amp; new Controller();\n$this-&gt;Email =&amp; new EmailComponent(null);\n$this-&gt;Email-&gt;initialize($this-&gt;Controller);\n\n// setup everything else\n$this-&gt;Email-&gt;from = $from;\n$this-&gt;Email-&gt;to = $to;\n$this-&gt;Email-&gt;replyTo = $replyTo;\n$this-&gt;Email-&gt;subject = $subject;\n\n// it doesnt use these, if I omit these, it defaults to the cakephp template\n// 'This email was sent using the cakePHP framework'\n$this-&gt;Email-&gt;layout = 'app/views/elements/email/html/';\n$this-&gt;Email-&gt;template = 'donation/donor'; # problem, doesnt load donation/donor\n\n$this-&gt;Email-&gt;sendAs = 'both';\n\n$sent = $this-&gt;Email-&gt;send();\n\nif($sent)\n    $this-&gt;log('Email was sent!: '.$sent, 'donation');\n</code></pre>\n\n<p>I am using <code>cakePHP 1.2</code>, I cannot use the new <code>CakeEmail</code> class. (I am not in the position to update right now).</p>\n\n<p><strong>So basically</strong>, I am using the <code>EmailComponent</code> outside of PHP, it doesn't load the correct <code>layout</code> and <code>template</code>. Depending on how I code it, I get the following results:</p>\n\n<ol>\n<li>Sends the default cakePHP template.   <code>or</code></li>\n<li>Doesnt send a email (fails at <code>$this-&gt;Email-&gt;send()</code>).</li>\n</ol>\n\n<p>How can I initialise this <code>EmailComponent</code> properly to send emails using my cakePHP settings (I also need to use the <code>$this-&gt;set('variable', '$used_in_view')</code>, So I can pass variables to the Email template (as I normally do)?  </p>\n\n<p>This answer kind of explains my situation: <a href=\"http://stackoverflow.com/a/1629049/711308\">http://stackoverflow.com/a/1629049/711308</a></p>\n"},{"tags":["php","drupal","internationalization","drupal-7"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":985,"score":0,"question_id":7646068,"title":"Drupal 7 get localized taxonomy data in custom php code","body":"<p>I'm working on a drupal site, and I need to have an information page for taxonomy data.</p>\n\n<p>The taxonomy data has some extra fields that are displayed, including a custom link.</p>\n\n<p>The default taxonomy page does not allow a custom link, and it will show the content assiociated to the term, I don't want that.</p>\n\n<p>I made a module that outputs a block, and I'm basicly using this code </p>\n\n<pre><code>$term = taxonomy_term_load($termId);\n</code></pre>\n\n<p>This works fine, but I can't get the translated version of the taxonomy! I'm using the i18n module.</p>\n\n<p>How can I get the localized version of the taxonomy? </p>\n\n<p>Thanks in advance,</p>\n\n<p>Jorik</p>\n"},{"tags":["php","json","web-services","curl","callback"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13261929,"title":"How do I call a JSON web service from PHP with parameters and callback?","body":"<p>I call a webservice from a JQuery $.getJSON function, it works fine.</p>\n\n<pre><code>    var p = {\n       'field1': 'value1',\n       'field2': 'value2',\n       'field3': 'value3'\n    };\n\n    $.getJSON('https://service:xxx@xxx.xxx.yyyyy.com.xx/service/search?callback=?', p, function(data) {\n    if (data[0]) {      \n        // print results\n    } else  {\n        // no results found\n    }\n});\n</code></pre>\n\n<p>I am trying to connect from PHP and CURL, however it does not work, it always return false.</p>\n\n<p>//FIRST TRY</p>\n\n<pre><code>$params = array(  'field1' =&gt; 'value1',  'field2' =&gt; 'value2', 'field3'=&gt; 'value3');\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_URL, 'https://service:xxx@xxx.xxx.yyyyy.com.xx/service/search?callback=?');\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $params);\n$result = curl_exec($ch); // return false instead of my JSON\n</code></pre>\n\n<p>// SECOND TRY</p>\n\n<pre><code>    $data_string = json_encode($params);                                                                                   \n    $ch = curl_init('https://https://service:xxx@xxx.xxx.yyyyy.com.xx/service/search?callback=?');                                                                      \n    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, \"POST\");                                                                     \n    curl_setopt($ch, CURLOPT_POSTFIELDS, $data_string);                                                                  \n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);                                                                      \n    curl_setopt($ch, CURLOPT_HTTPHEADER, array(                                                                          \n    'Content-Type: application/json',                                                                                \n    'Content-Length: ' . strlen($data_string))                                                                       \n);                                                                                                                   \n\n    $result2 = curl_exec($ch); //return false instead of my JSON\n</code></pre>\n\n<p>What I am doing wrong? </p>\n\n<p>many thanks,</p>\n"},{"tags":["php","http","https"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":451,"score":0,"question_id":7334491,"title":"Check whether the URL scheme is HTTP or HTTPS","body":"<p>I'm using the following code to add <code>http://</code> to the URL.</p>\n\n<pre><code>(substr(strtolower($url), 0, 7) == 'http://'?\"\":\"http://\").$url\n</code></pre>\n\n<p>but how can I check whether the original URL contains <code>https</code>? I don't want to use an <em>OR</em> clause.</p>\n"},{"tags":["php","pdf"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":8442,"score":3,"question_id":2025586,"title":"How to make PDF viewer in PHP","body":"<p>I want to open PDF file with PHP. Don't want to use Flash. Like google doc viewer. I just want to open PDF file. Can I do with PHP ?</p>\n"},{"tags":["php","drupal","drupal-views"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13264224,"title":"Drupal Image as image with link to a node","body":"<p>OK<br />\nI've actually spent 3 hours searching for how should I get images correctly on my drupal site so please don't get annoyed with this easy question. (sob...)<br />\nI want to upload an image to my front page as a button for redirecting to login page.<br />\nHow CAN I achieve this?????<br />I mean how should I store image as in Drupal and how can I get it in the position I want on the page???<br />\nI tried creating a content type called image and then created a View of block type but it doesn't seems correct to me.<br />\nWhat is the correct set of steps for storing and handling images in drupal??</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","jquery","html","css"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13266441,"title":"jQuery dynamic class add","body":"<p>in my website there is a jQuery function for rotating images, i want to add a my own class in to its for some customization the actual code is  </p>\n\n<pre><code>c.append(\"&lt;ul class=\"+b.paginationClass+\"&gt;&lt;/ul&gt;\")\n</code></pre>\n\n<p>I want to add/append  a class \"<strong>test</strong>\" into it  like the following </p>\n\n<pre><code>c.append(\"&lt;ul class=\"+b.paginationClass+\" test\"+\"&gt;&lt;/ul&gt;\")\n</code></pre>\n\n<p>i put a space because want a space after   paginationClass class, but i got result is </p>\n\n<pre><code>&lt;ul class=\"pagination\" test=\"\" &gt;\n</code></pre>\n\n<p>i expect <code>&lt;ul class=\"pagination test\" &gt;</code> like this Please help </p>\n"},{"tags":["php","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":1,"view_count":53,"score":4,"question_id":13266372,"title":"I'd like to use Perl regular expression in PHP","body":"<p>I wanto use perl reqexp in PHP.</p>\n\n<p>For example, </p>\n\n<p>Perl:</p>\n\n<pre><code>$url =~ qr{https?://([^\\/\\?&amp;:#]+\\.)?example.com};\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>preg_match(\"/https?:\\/\\/([^\\/\\?&amp;:#]+\\.)?example\\.com/\", $url);\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":38,"score":-2,"question_id":13266487,"title":"PHP-@ in while(@$rows = mysql_fetch_array($result))","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3737139/reference-what-does-this-symbol-mean-in-php\">Reference - What does this symbol mean in PHP?</a>  </p>\n</blockquote>\n\n\n\n<p>I have some php code like </p>\n\n<pre><code>$query=\"SELECT RollNo,Name FROM student\" ;\n$result = $mysql-&gt;execute_sql_query($query);\nwhile(@$rows = mysql_fetch_array($result))\n{\n        $studentArray[] = array(\"rollNo\" =&gt; $rows['RollNo'], \"name\" =&gt; $rows['Name']);      \n }\n</code></pre>\n\n<p>My doubt is why use @ in the line</p>\n\n<p>while(@$rows = mysql_fetch_array($result)) </p>\n"},{"tags":["php","oracle","oracle11g","oci"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13266028,"title":"MERGE INTO doesn't work in PHP?","body":"<p>My <code>MERGE INTO</code> statement works in SQL using SQL Developer:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>MERGE INTO EMAIL_LIST d USING (SELECT 'stackoverflowuser95@gmail.com' EMAIL FROM DUAL) s ON (d.EMAIL = s.EMAIL) WHEN NOT MATCHED THEN INSERT (EMAIL) VALUES (s.EMAIL);\n</code></pre>\n\n<p>But doesn't work when attempted in PHP:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$update_or_insert_list = oci_parse($conn,\n                                   \"MERGE INTO EMAIL_LIST d USING (SELECT :email EMAIL FROM DUAL) s ON (d.EMAIL = s.EMAIL) WHEN NOT MATCHED THEN INSERT (EMAIL) VALUES (s.EMAIL);\"\n); // Also tried with ':email' and/or with ; inside the SQL statement\n\noci_bind_by_name($update_or_insert_list, ':email', $email);\n\noci_execute($update_or_insert_list);\n</code></pre>\n\n<p>Here is the table:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE EMAIL_LIST ( \n    EMAIL VARCHAR2 (100)  NOT NULL\n);\nALTER TABLE EMAIL_LIST\n    ADD CONSTRAINT PK_EMAIL_LIST PRIMARY KEY ( EMAIL ) ;\n\n-- And yes, this is a test-case!\n</code></pre>\n\n<h3>How do I get MERGE INTO working in PHP?</h3>\n"},{"tags":["php","mysql","phpmyadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13265104,"title":"phpmyadmin cannot Export procedure","body":"<p>When I export MySQL database using phpMyAdmin its exports all the table data perfectly but does not export <code>PROCEDURES</code> properly. What I get is:</p>\n\n<pre><code>DELIMITER $$\n--\n-- Procedures\n--\nDROP PROCEDURE IF EXISTS `sp_users_get`$$\n$$\n\nDROP PROCEDURE IF EXISTS `sp_users_save`$$\n$$\n</code></pre>\n\n<p>It should be more code like </p>\n\n<pre><code>CREATE PROCEDURE `sp_user_get`......\n</code></pre>\n\n<p>till the procedure ends.</p>\n\n<p>Can anyone help me to successfully export database from phpMyAdmin?</p>\n"},{"tags":["php","javascript","jquery","ajax","colorbox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13058797,"title":"ajax in colorbox and array of html","body":"<p>I'm trying to force colorbox to work with array of htmls given by ajax response, but still it does not work. </p>\n\n<p>javascript code: </p>\n\n<pre><code>$.post($('#createForm').attr('action'),{\n        'id' : 1\n    },function(data){\n        var $trash = $('&lt;div&gt;').hide().appendTo('body');\n\n        $.each(data, function(i){\n            $(data[i]).appendTo($trash);\n            alert(data[i]);\n        });\n\n        $trash.find('div').colorbox({rel:'mygroup', open:true});\n    }, 'json');\n</code></pre>\n\n<p>php code:</p>\n\n<pre><code>    $content = '&lt;div class=\"page\" rel=\"mygroup\"&gt;&lt;p class=\"kkk\"&gt;item1&lt;/p&gt;&lt;/div&gt;';\n    $content2 = '&lt;div class=\"page\" rel=\"mygroup\"&gt;&lt;p class=\"kkk\"&gt;item2&lt;/p&gt;&lt;/div&gt;';\n    $return = json_encode(array($content, $content2));\n    return new Response($return);\n</code></pre>\n\n<p>response is correct, becouse alerts work correct. I need to present a html document consisting of multiple pages.</p>\n\n<p>I will be grateful for any help</p>\n"},{"tags":["php","api","zend-framework","youtube","zend-gdata"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2401,"score":4,"question_id":4653894,"title":"Get Youtube VideoID details in array","body":"<p>I've been struggling with this for hours and i have no idea why is not working.\nI need to get Details from a VideoID using YouTube API and Zend, so i created a function like this</p>\n\n<pre><code>function listYoutubeVideo($id) {\n$videos = array();\n\ntry {   \n    $yt = new Zend_Gdata_YouTube();\n\n\n    $videoFeed = $yt-&gt;getVideoEntry($id);\n    foreach ($videoFeed as $videoEntry) {\n        $videoThumbnails = $videoEntry-&gt;getVideoThumbnails();\n        $videos[] = array(\n            'thumbnail' =&gt; $videoThumbnails[0]['url'],\n            'title' =&gt; $videoEntry-&gt;getVideoTitle(),\n            'description' =&gt; $videoEntry-&gt;getVideoDescription(),\n            'tags' =&gt; implode(', ', $videoEntry-&gt;getVideoTags()),\n            'url' =&gt; $videoEntry-&gt;getVideoWatchPageUrl(),\n            'flash' =&gt; $videoEntry-&gt;getFlashPlayerUrl(),\n            'dura' =&gt; $videoEntry-&gt;getVideoDuration(),\n            'id' =&gt; $videoEntry-&gt;getVideoId()\n        );\n    }\n} catch (Exception $e) {\n}\n\nreturn $videos;\n}\n</code></pre>\n\n<p>The reason im doing it with an array and a function is because i wanna cache the function.</p>\n\n<p>I have no idea what is wrong with the code, i use exactly the same one just changing getVideoEntry for other types of feeds and it works.</p>\n"},{"tags":["php","python","json","post","http-post"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13265726,"title":"Pass data Python to PHP via JSON","body":"<p>the scope of my project is to pass certain values from a python script to a remote php script.</p>\n\n<p>i've a python script that generate an associatve array. For example (already JSON encoded):</p>\n\n<pre><code>{\"FRONT\": \"19.50\", \"RACK\": \"17.63\", \"REAR\": \"21.06\", \"ROOM\": \"15.6\"}\n</code></pre>\n\n<p>I need to pass this associative array to a remote PHP script i followed this tutorial:\n<a href=\"http://nonstopblah.wordpress.com/2010/07/13/python-to-php-via-json/\" rel=\"nofollow\">http://nonstopblah.wordpress.com/2010/07/13/python-to-php-via-json/</a></p>\n\n<p>I get 200 for HTTP Response but in the php script the POST variable seems to be empty</p>\n\n<p>Here my code:</p>\n\n<pre><code>bulkData = json.dumps(temp, ensure_ascii = 'False')\n# ensure_ascii is false as data is in unicode and not ascii encoding , use this if data is in any other encoding\nprint bulkData\n\nprint '\\nHTTP Response'\n\nheaders = { \"charset\":\"utf-8\",\n\"Accept\": \"text/plain\"}\nconn = httplib.HTTPConnection(report_host)\npostData = urllib.urlencode({'results':bulkData})\nconn.request(\"POST\", report_path, postData,headers)\nresponse = conn.getresponse()\ntext = response.read()\nprint \"Response status: \",response.status,\"\\n\",text\nconn.close()\n</code></pre>\n\n<p>this is the PHP script:</p>\n\n<pre><code>if( isset($_POST['results']) )\n{\n    $data = json_decode($_POST['results']);\n\n    print_r($data);\n}\nelse\n{\n    echo 'Nothing to listen.';\n    print_r($_POST);\n}\n</code></pre>\n\n<p>and this is the output of my python script (with the remote response):</p>\n\n<pre><code>{\"FRONT\": \"20.44\", \"RACK\": \"18.88\", \"REAR\": \"21.25\", \"ROOM\": \"17.7\"}\n\nHTTP Response\nResponse status:  200 \nNothing to listen.Array\n(\n)\n</code></pre>\n\n<p>is there a smarter way to do it? What am i missing here?</p>\n\n<p>Thank you in advance for your kind answers.</p>\n"},{"tags":["php","mysql","sql","pdo","mysqli"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13263094,"title":"MYSQL select field1, field2 only where field1 or field2 does not equal text","body":"<p>I have the following 2 SQL syntax that I'm looking to combine into 1 SQL syntax</p>\n\n<pre><code>SELECT sentFrom \nFROM tableName \nWHERE id = :varid \nAND sentFrom != :vartext\n\nSELECT sentTo \nFROM tableName \nWHERE id = :varid \nAND sentTo != :vartext\n</code></pre>\n\n<p>I guess I should give an example:</p>\n\n<p>MYSQL TABLE</p>\n\n<pre><code>-----------------------------------\nsentFrom          sentTo\n1                 2\n1                 3\n2                 1\n2                 3\n</code></pre>\n\n<p>query </p>\n\n<pre><code>select sentFrom where sentFrom != 1 and select sentTo where sentTo != 1\n</code></pre>\n\n<p>Returns:</p>\n\n<p>sentTo 2 but not sentFrom 1</p>\n\n<p>sentTo 3 but not sentFrom 1</p>\n\n<p>sentFrom 2 but not sentTo 1</p>\n\n<p>sentFrom 2 and sentTo 3</p>\n"},{"tags":["php","call","overloading"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13265944,"title":"php overload _call doesn't trigger","body":"<p>I'm just new in PHP and using PHP 5.3.13, I'm struggle with overload in php. </p>\n\n<p>I write tiny code to verify <code>_call</code> is triggered but it simply doesn't work. </p>\n\n<p>Anyone have any idea?</p>\n\n<pre><code>        class Foo{\n            function _call($methodName, $argument){\n                echo \"_call()\";\n            }\n        }\n\n        $foo = new Foo;\n        $foo-&gt;runtest();\n</code></pre>\n\n<blockquote>\n  <p>Error: Fatal error: Call to undefined method Foo::runtest() in</p>\n  \n  <p>C:\\wamp\\www\\tutorial\\part2\\testfunctions.php on line 77</p>\n</blockquote>\n\n<p>Thanks u very much</p>\n"},{"tags":["php","javascript","textfield"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13265359,"title":"PHP populated text field is not changed by JavaScript","body":"<p>I have a text input field, which is populated by PHP at page load.</p>\n\n<pre><code>&lt;?php\n$product_price = 10000;\n?&gt;\n\n&lt;input type='text' name='product_price' value='&lt;?=$product_price?&gt;' &gt;\n</code></pre>\n\n<p>I have some JavaScript code that checks if the product price is less than 12000. If it is, I will make an alert.</p>\n\n<pre><code>if(product_price &lt;= 12000){\n    alert(\"product price must be above 12000\");\n}\n</code></pre>\n\n<p>The alert is working fine, but the problem is if I change the value of the input field product_price to 50000, it is still prompting me to that \"product price must be above 12000\"</p>\n\n<p>Why the JS is not able to take the value I entered into the field?\nWhy the PHP populated value is not changing?</p>\n"},{"tags":["php","api","rest","sms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":489,"score":0,"question_id":1346959,"title":"use off sms gateway third party api","body":"<p>I have a question about the use off the http api from the company clickatell.</p>\n\n<p>They actually have several api that you can use, amongst are xml and smtp also.</p>\n\n<p>Does anyone have any experience with those, especially with the http api.</p>\n\n<p>For the http api:</p>\n\n<p>Does this php code actually doing the work in the background?</p>\n\n<p>This line <strong>$ret = file($url);</strong> -\nI am sorry, I haven't setup anything yet to test it. I am just trying to find out wich api I can start testing with -.</p>\n\n<p>Also, is there a performance difference between using smtp api and http api?</p>\n\n<pre><code>// SMS gateway script\n    $user = \"XXXX\";\n    $password = \"XXXXXX\";\n    $api_id = \"XXXXXX\";\n    $baseurl =\"http://api.clickatell.com\";\n    $text = urlencode(\"HTTP://WWW.TIMES.COM/DOWNLOADS/SUGRAFREE.SISX\");\n    $to = $_POST[\"phone number\"];\n // auth call\n    $url = \"$baseurl/http/auth?user=$user&amp;password=$password&amp;api_id=$api_id\";\n    // do auth call\n    $ret = file($url);\n    // split our response. return string is on first line of the data returned\n    $sess = split(\":\",$ret[0]);\n    if ($sess[0] == \"OK\") {\n    $sess_id = trim($sess[1]); // remove any whitespace\n    $url = \"$baseurl/http/sendmsg?session_id=$sess_id&amp;to=$to&amp;text=$text\";\n    // do sendmsg call\n    $ret = file($url);\n    $send = split(\":\",$ret[0]);\n    if ($send[0] == \"ID\")\n    echo \"An Email with account details and SMS has been sent..\n</code></pre>\n\n<p>thanks, Richard</p>\n"},{"tags":["php","loops","while-loop"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13265950,"title":"PHP grouping items in a loop","body":"<p>In a loop, I want to wrap first 5 items in a <code>li</code>, and after that every 6 items in a <code>li</code>. I'm trying following code, but it is not working properly, it wraps first 5 items in a <code>li</code>, and after that it wraps only every sixth item in the li, but 7th - 12th without li.</p>\n\n<pre><code>$i = 0;\nwhile ($i &lt; 19){\n    $i++;\n    if($i == 1 ){ echo '&lt;li&gt;'; }\n    if (($i &gt; 5) AND ( $i % 6 == 0)){echo \"&lt;li&gt;\";}\n    echo \"&lt;div&gt;item \" . $i . \"&lt;/div&gt;\"; \n    if( $i == 5 ){ echo '&lt;/li&gt;'; }\n    if(($i &gt; 5) AND ( $i % 6 == 0)) { echo \"&lt;/li&gt;\"; }\n}\nif ($i &lt; 5 ) { echo \"&lt;/li&gt;\"; }\nif (($i &gt; 5) AND ($i % 6 != 0)) { echo \"&lt;/li&gt;\"; }\n</code></pre>\n"},{"tags":["php","apache"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13266023,"title":"setting the document root in the apache","body":"<p>I have php(wamp) installed in 'E' drive. Actually, my project in the 'F:' drive.</p>\n\n<p>How do i set the document root in apache httpd.conf file to access the project in F: drive.</p>\n\n<p>For example, if i enter \"http://127.0.0.1/projectname\", it should point to the 'F' drive project.</p>\n"},{"tags":["php","arrays","string","properties","concatenation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":9616822,"title":"PHP error, concatenation in array() in member initialiser","body":"<p>I'm getting an error with the following code:</p>\n\n<pre><code>public $arr = array('email' =&gt; 'admin@' . str_replace('http://', '', SERVER_ROOT));\n\nParse error: syntax error, unexpected '.', expecting ')' \n</code></pre>\n\n<p>Am I being really stupid? Surely I can concatenate strings here? </p>\n\n<p>This is a variable declared in a class.</p>\n"},{"tags":["php","properties"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":35,"score":0,"question_id":13265670,"title":"PHP4 variables: concatenate array in declaration","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/9616822/php-error-concatenation-in-array-in-member-initialiser\">PHP error, concatenation in array() in member initialiser</a>  </p>\n</blockquote>\n\n\n\n<p>I have this sort of code:</p>\n\n<pre><code>var $compSQL = array(\n        '0' =&gt; \"#FIELD# LIKE '%#VALUE#%'\",\n        '1' =&gt; \"#FIELD# NOT LIKE '%#VALUE#%'\",\n        '2' =&gt; \"#FIELD# LIKE '#VALUE#%'\",\n        '3' =&gt; \"#FIELD# NOT LIKE '#VALUE#%'\",\n        '4' =&gt; \"#FIELD# LIKE '%#VALUE#'\",\n        '5' =&gt; \"#FIELD# NOT LIKE '%#VALUE#'\",\n        '6' =&gt; \"#FIELD# = '#VALUE#'\",\n        '7' =&gt; \"#FIELD# != '#VALUE#'\"\n);\n</code></pre>\n\n<p>and I need to change the values of the string with some concatenation operation, sorta like this:</p>\n\n<pre><code>var $compSQL = array(\n        '0' =&gt; \"#FIELD# LIKE \".$somevalue,\n        ...\n);\n</code></pre>\n\n<p>But that is not allowed. How should I do it?</p>\n"},{"tags":["php","mysql","sql","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":57,"score":-4,"question_id":13262882,"title":"How to display incorrect answers in example below","body":"<p>Below I have 4 database tables, Session, Question, Answer and Option_Type.</p>\n\n<p><strong>Session Table:</strong></p>\n\n<pre><code>SessionId  SessionName\n1          AAA\n</code></pre>\n\n<p><strong>Question Table:</strong></p>\n\n<pre><code>SessionId   QuestionId  QuestionContent       OptionId\n1           1           What is 1+1 and 4+4   2\n1           2           Does 2+2 = 4          26\n1           3           What is 3+3 and 5+5   3\n</code></pre>\n\n<p><strong>Answer Table:</strong></p>\n\n<pre><code>AnswerId  SessionId QuestionId  Answer\n1         1         1           B\n2         1         1           C\n3         1         2           Yes\n4         1         3           A\n5         1         3           C\n</code></pre>\n\n<p><strong>Option_Type</strong></p>\n\n<pre><code>OptionId OptionType\n1        A-C\n2        A-D\n3        A-E\n4        A-F\n\n.... goes up to 24 where it goes up to A-Z\n\n25       True or False\n26       Yes or No\n</code></pre>\n\n<p>Now in a jsfiddle here I have created a demo html table which you can see <a href=\"http://jsfiddle.net/WHUkh/6/\" rel=\"nofollow\">here</a></p>\n\n<p>Now if you have a good look at the html table, you will realise that what I am trying to do is display the incorrect answers under the \"Incorrect Answer\" column.</p>\n\n<p>So what I want to do is that for example for Question 1, if you look in the database table, the \"OptionId\" for Question 1 is 2, which means if you look up \"OptionId\" under the \"Option_Type\" table that \"OptionType\" for this OptionId is \"A-D\". So the options are \"A\", \"B\", \"C\" and \"D\". The answers for Question 1 are \"B\" and \"C\". So I don't want to display these answers in the table as they are correct but I want to display the other options \"A\" and \"D\" as that they are incorrect.</p>\n\n<p>Does this make sense? My question is virtually how can I not show the correct answers under the \"Incorrect Answer\" column but instead show the other options under this column per question in the code below:</p>\n\n<pre><code>   $query = \"SELECT q.SessionId, s.SessionName, q.QuestionId, q.QuestionContent, an.Answer, q.QuestionMarks \n   FROM Session s \n   INNER JOIN Question q ON s.SessionId = q.SessionId\n   JOIN Answer an ON q.QuestionId = an.QuestionId AND an.SessionId = q.SessionId\n   WHERE s.SessionName = ?\n   ORDER BY q.QuestionId, an.Answer\n   \";\n\n   // prepare query\n   $stmt=$mysqli-&gt;prepare($query);\n   // You only need to call bind_param once\n   $stmt-&gt;bind_param(\"s\", $assessment);\n   // execute query\n   $stmt-&gt;execute(); \n\n\n       // This will hold the search results\n    $searchQuestionId = array();\n    $searchQuestionContent = array();\n    $searchAnswer = array();\n    $searchMarks = array();\n\n    // Fetch the results into an array\n\n   // get result and assign variables (prefix with db)\n   $stmt-&gt;bind_result($dbSessionId, $dbSessionName, $dbQuestionId, $dbQuestionContent, $dbAnswer, $dbQuestionMarks);\n      while ($stmt-&gt;fetch()) {\n        $searchQuestionId[] = $dbQuestionId;\n        $searchQuestionContent[] = $dbQuestionContent;\n        $searchAnswer[] = $dbAnswer;\n        $searchMarks[] = $dbQuestionMarks;\n      } \n\n?&gt;      \n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form id=\"QandA\" action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\"&gt;\n\n&lt;?php \n\necho \"&lt;table border='1' id='markstbl'&gt;\n      &lt;tr&gt;\n      &lt;th class='questionth'&gt;Question No.&lt;/th&gt;\n      &lt;th class='questionth'&gt;Question&lt;/th&gt;\n      &lt;th class='answerth'&gt;Incorrect Answer&lt;/th&gt;\n      &lt;th class='answermarksth'&gt;Penalty per Incorrect Answer&lt;/th&gt;\n      &lt;/tr&gt;\\n\";\n$previous_question_id = null;\n$rowspans = array_count_values($searchQuestionId);\nforeach ($searchQuestionContent as $key=&gt;$question) {\n\n    // removed logic, not necessary to set empty strings if you're skipping them\n\n    echo '&lt;tr class=\"questiontd\"&gt;'.PHP_EOL;\n\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        echo '&lt;td class=\"questionnumtd\" name=\"numQuestion\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($searchQuestionId[$key]).'&lt;/td&gt;' . PHP_EOL;\n        echo '&lt;td class=\"questioncontenttd\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($question).'&lt;/td&gt;' . PHP_EOL;\n    }\n\n    echo '&lt;td class=\"answertd\" name=\"answers[]\"&gt;';\n    echo $searchAnswer[$key];\n    echo '&lt;/td&gt;' ;\n    echo '&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" /&gt;&lt;/td&gt;' . PHP_EOL;\n\n    // moved this to the end\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        $previous_question_id = $searchQuestionId[$key];\n    }\n}\n        echo '&lt;/tr&gt;';\n        echo \"&lt;/table&gt;\" . PHP_EOL;\n\n        ?&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>At the moment the code above is showing the correct answers under the \"Incorrect Answers\" column, not the incorrect answers.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13265980,"title":"Compare results of different php versions online","body":"<p>There is a page where you can compare results of php code in different php versions but I just can't find it. Found it on Stackoverflow some time ago. It was nice because you did not select a version. It just runs the code in all versions and compares the output.</p>\n\n<p>Does someone know what page I am looking for?</p>\n"},{"tags":["php","get","sms","gateway"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":427,"score":0,"question_id":6640782,"title":"SMS Gateway and API in php","body":"<p>I'm trying to send user credentials via sms after registration.The gateway can be accessed using GET method via HTTP API.So I want to integrate it into my registration_process.php file so that as soon as the details are entered in db the sms should be delivered .</p>\n\n<p>The GET method is similar to</p>\n\n<pre><code>http://gatewayprovider?user=&lt;username&gt;&amp;password=&lt;password&gt;&amp;msg=&lt;$my msg&gt;&amp;no=&lt;$receiver no&gt;\n</code></pre>\n\n<p>So how can I call this url without any knowledge to the user. That is in a secure manner</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","gd","vector-graphics","imagick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13263323,"title":"Which is the best option to create vector images using php?","body":"<p>I am planning to make an online sticker design site for a company.That is the users can login to the site and enter the text for the sticker then change the font,color,shadow,outline color.</p>\n\n<p>I am using PHP's GD library for creating images.\nI am also using php's Imagick plugin to apply some text warp to the image.</p>\n\n<p>But the problem I am facing is what the images created from this method are low quality images.</p>\n\n<p><strong>I want to make such site like this:-\n<a href=\"http://www.speedysigns.com/tool/lt/index/index/product_id/31990/\" rel=\"nofollow\">http://www.speedysigns.com/tool/lt/index/index/product_id/31990/</a></strong></p>\n\n<p>I think that images created from this are vector images.</p>\n\n<p>I tried <strong>Imagick</strong> to create vector images.But I can't find a better tutorial to create vector images using Imagick.</p>\n\n<p>So can you please suggest which library I may use to create such high quality images.\nOtherwise suggest a good tutorial to use Imagick to create vector images.</p>\n\n<p>Thanks friends.\n By Sukesh B R</p>\n"},{"tags":["php","html","include","navigation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13265847,"title":"PHP 'include' Navigation automatically add '../' when used in subfolders","body":"<p>I have spent days searching the solution to this question and there have been many given already in the past years but I still can't get my head around it. I am a beginner in PHP so any help is appreciated.</p>\n\n<p>I am not sure if there's a common solution that will work with the WAMP localhost AND the online website at the same time.</p>\n\n<p>My <code>navMain.php</code> file is the <code>/includes</code> folder.</p>\n\n<p>Lets say I have <code>index.php</code> and <code>contact.php</code> in the root folder (<code>wamp/www/SITENAME/</code> on the PC and <code>httpdocs/</code> on the server). I also will have <code>books.php</code> in the <code>/media</code> folder.</p>\n\n<p>What code do I created in the <code>navMain.php</code> file so that when <code>index.php</code> reads it its resulting navigation links to <code>contact.php</code> as <code>&lt;a href=\"contact.php\"&gt;</code> but when <code>books.php</code> reads it it's <code>&lt;a href=\"../contact.php\"&gt;</code> or something more foolproof?</p>\n\n<p>I found solutions like <code>$path = $_SERVER['DOCUMENT_ROOT'];</code> but still not sure if that's meant for questions like mine and supposed to be put in the <code>navMain.php</code> file or if it's to properly link to the <code>navMain.php</code> file when used in the 'include' command in files like <code>index.php</code>.</p>\n\n<p>Also, when I tried the solutions I found, I don't know how to make it work well on the localhost AND/OR the web server.</p>\n"},{"tags":["php","vim","symfony2","twig"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":288,"score":2,"question_id":10464879,"title":"Symfony2 and Vim recommendations","body":"<p>I already work with Symfony2 and of course with vim but in different projects. I would like to know which plugins, tips, recommendations do you use in Vim for working with Symfony2?</p>\n\n<p>This also goes to Twig template, themes, debugging, etc.</p>\n"},{"tags":["php","mysql","database"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1750,"score":0,"question_id":2400126,"title":"Using PHP variable inside a query","body":"<p>I am using a query inside <a href=\"http://en.wikipedia.org/wiki/PHP\" rel=\"nofollow\">PHP</a> as:</p>\n\n<pre><code> $query =  'SELECT * from #__chronoforms_UploadAuthor where text_6 like \"%'.$_GET['title'].'%\" and text_7 like \"%'.$_GET['author'].'%\" limit 0,1';\n</code></pre>\n\n<p>Where I am trying to insert a PHP variable instead of 1 in the limit..</p>\n\n<pre><code>   $query =  'SELECT * from #__chronoforms_UploadAuthor where text_6 like \"%'.$_GET['title'].'%\" and text_7 like \"%'.$_GET['author'].'%\" limit 0,\"'.$_GET['limit'].'\"';\n</code></pre>\n\n<p>but it shows me an error. There are some errors in keeping <code>$_GET['limit']</code>.</p>\n"},{"tags":["php","xslt"],"answer_count":2,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":655,"score":4,"question_id":4662762,"title":"XSL: Get variable data without exslt:node-set","body":"<p>Using native XSL lib in PHP. Is it possible to get a node value inside a variable without having to call it through exslt:node-set every time.... it long and ugly. </p>\n\n<pre><code>&lt;xsl:variable name=\"mydata\"&gt;\n    &lt;foo&gt;1&lt;/foo&gt;\n    &lt;bar&gt;2&lt;/bar&gt;\n&lt;/xsl:variable&gt;\n\n\n&lt;!-- How currently being done --&gt;\n&lt;xsl:value-of select=\"exslt:node-set($mydata)/foo\" /&gt;\n\n\n&lt;!-- I want to be able to do this --&gt;\n&lt;xsl:value-of select=\"$mydata/foo\" /&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":13265508,"title":"Xp and leveling system PHP MYSQL","body":"<p>Ive looked at all the question that have been asked and with the answer, but i cannot seem to find a answer that suits me the best. What im trying to do is work on making a system that when a user is at a certain xp limit that go to the next level. and it shows how much xp is needed till the next xp.</p>\n\n<p>So</p>\n\n<pre><code>lvl1 = 0 =&gt; lvl2 = 256 =&gt; lvl3 = 785 =&gt; lvl4 = 1656 =&gt; lvl5 = 2654\n</code></pre>\n\n<p>how would i go about doing that, so if xp is at certain amount show the amount and how much xp is needed for the next level.</p>\n"},{"tags":["php","dompdf"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3275,"score":2,"question_id":3331422,"title":"background image doesn't show in dompdf","body":"<p>For some reason, the background image doesn't show in dompdf no matter what I try.  I've put the direct url as well.  None of them worked.  Can someone with dompdf experience tell me what I need to do?  </p>\n\n<p>It's important to note that other images appear just fine.  It's only the bakground images that are causing issues.  Here is one of the background images:</p>\n\n<pre><code>body{\n font-size:15px;\n background:url(bg.jpg) repeat-x bottom left;\n}\n</code></pre>\n"},{"tags":["php","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":147,"score":1,"question_id":7944516,"title":"How does PHP merge or push onto an array when I use $array[] = $new_value?","body":"<p>Sorry, I'm very new to PHP, and I can't find anything about this in The Manual. I understand that to add a new item to the end of an array I can use <code>array_merge($array, $new_value_array)</code>, or <code>array_push($array, $new_value)</code>, but the manual says this \"has the same effect as:\"</p>\n\n<pre><code>$array[] = $var;\n</code></pre>\n\n<p>repeated for each <code>var</code>\".</p>\n\n<p>I find the <code>[] =</code> technique much neater and more readable, but I'm very curious as to how it works. Is <code>[]=</code> an undocumented combination assignment operator or what?</p>\n"},{"tags":["php","zend-studio"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":872,"score":0,"question_id":4737843,"title":"Zend Studio 8 PHP Core function not reconized (remote projects)","body":"<p>I'v recently upgraded from Zend Studio 7 to ZS 8 and i can not get ZS8 to reconize default PHP5 functions like explode(), split(), etc. It simply says \"call to undefined function\" and adds a yellow (warning) line under the call.</p>\n\n<p>Google didn't provide me with any information that actually worked. The .buildpath looks fine:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n  &lt;buildpath&gt;\n      &lt;buildpathentry kind=\"src\" path=\"\"/&gt;\n      &lt;buildpathentry kind=\"con\" path=\"org.eclipse.php.core.LANGUAGE\"/&gt;\n  &lt;/buildpath&gt;\n</code></pre>\n\n<p>And the .projects file looks fine too:</p>\n\n<p><code>&lt;nature&gt;org.eclipse.php.core.PHPNature&lt;/nature&gt;</code></p>\n\n<p>Now i'v noticed that when i start a new project LOCALLY it works fine and the \"PHP language library\" is added fine, but as soon as i open the 'remote systems' tab and right click on a folder and pick \"Create remote project\" The \"PHP Language Library\" is simply not filled. Which explains why it doesnt work.</p>\n\n<p>Now the question is, why doesn't it fill up? How do i fix this? (without having to switch to another editor).</p>\n"},{"tags":["php","ubuntu","version"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":592,"score":1,"question_id":4787566,"title":"A simple way to update PHP","body":"<p>I'm using Ubuntu 10.10 with PHP 5.3.3 and would like to update to PHP 5.3.5. Is there a simple way to update the PHP version to 5.3.5? Something like <code>apt-get install php5=5.3.5</code>?</p>\n\n<p>Best regards,\nJambo</p>\n"},{"tags":["php","architecture","high-load"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13265751,"title":"Array or not Array [PHP]","body":"<p>I want to implement emails blacklist for my system. In that list I would like to store emails which are not deliverable.</p>\n\n<p>When my system can't deliver email, I would like to save it, and later never send them again.</p>\n\n<p>There are two possible easiest solution what I could see:</p>\n\n<p>When recipient is non exist,</p>\n\n<ol>\n<li>I could set mark about that in User table</li>\n<li>Or collect such bad emails in specific table  </li>\n</ol>\n\n<p>2nd solution is more easiest seems to me (because easier can be cached), but there is a question about choosen approach...</p>\n\n<p>In MyMail function I will implement a call to search current email in bad emails list (table) first and then if it is not there send it out, otherwise cancel sending.</p>\n\n<p>So main question what is could be faster:\n1. Making query each time to DB to search particular key like, <code>SELECT 1 FROM table WHERE email='checking_email'</code>. And of course that table will have only one field <code>email</code> and that field will be indexed(unique). And I will use only strict comparision.\n2. or cache that table content in ONE array and making query to array to check is particular element|key exist or not ?</p>\n\n<p>In case when bad email list could be as long as much, for example 10 million records.</p>\n\n<p>What will be faster ? and better for high loading project ?</p>\n\n<p>P.S. I know that PHP array's eat too much memory, But doing a lot of DB queries in case when newsletter sending is started is also not so good.</p>\n\n<p>P.P.S. I'm going to cache bad emails in one variable this is why in PHP it will be present as array.</p>\n\n<p>P.P.S. Another approach is caching each bad email in each cache key and checking only if such key exist in cache or not, but in that case purging the cache will be more complicated. I'm thinking this is the best solution. Keys in cache can be like, bad_email_. And logic of that pre sending call could be: check if required email exist in cache, if not exist, then check in DB if it is not present and there too, then it is good email. From other point if system detect bad email then it will be saved in DB and in Cache in the same time.</p>\n"},{"tags":["php","mysql","yii","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13264359,"title":"STAT Relation on a related model's STAT relation, Yii","body":"<p>I am having a problem with STAT relation in Yii. I am not sure whether what I am looking for is possible with native Yii relations. I will try my best to describe my issue, Please ask for any specific details if something is not clear. </p>\n\n<p>I have three table and hence three models</p>\n\n<pre><code>| tablea         |\n| tableb         |\n| tablec         |\n\n\nmysql&gt; select * from tablea;\n+----+--------+\n| id | name   |\n+----+--------+\n|  1 | Item 1 |\n|  2 | Item 2 |\n+----+--------+\n2 rows in set (0.00 sec)\n\nmysql&gt; select * from tableb;\n+----+------+----------+\n| id | Aid  | name     |\n+----+------+----------+\n|  1 |    1 | B Item 1 |\n|  2 |    2 | B Item 2 |\n|  3 |    1 | B Item 3 |\n+----+------+----------+\n3 rows in set (0.00 sec)\n\nmysql&gt; select * from tablec;\n+----+------+----------+-------+\n| id | Bid  | name     | value |\n+----+------+----------+-------+\n|  1 |    1 | C Item 1 |    10 |\n|  2 |    2 | C Item 2 |    20 |\n|  3 |    1 | C Item 3 |    15 |\n|  4 |    2 | C Item 4 |     5 |\n|  5 |    3 | C Item 5 |    12 |\n+----+------+----------+-------+\n5 rows in set (0.00 sec)\n</code></pre>\n\n<p>The relation is like TableA HAS_MANY TableB and TableB HAS_MANY TableC.</p>\n\n<p>I have a value field in TableC. I am able to get the STAT relation for the sum of value from TableB. What I want is the sum of all the TableC items from TableA. I need to used= them in the GridView with sorting capability.</p>\n\n<p>Any Idea on how to implement this?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13265814,"title":"How to tag user to a pic via php sdk?","body":"<p>I am using this code. It does not do anything. :(</p>\n\n<pre><code>$post_url = \"https://graph.facebook.com/\".$photo_id.\"/tags/\".$random_friend['id'].\"?access_token=\".$access_token.\"&amp;x=22&amp;y=22&amp;method=POST\";   \n\n $response = file_get_contents($post_url);\n</code></pre>\n\n<p>I have defined everything.. but it still not works.\nI want to know how to tag user or his friends in a pic uploaded by my app.</p>\n\n<p>I am using all necesarry permissions required.\nuser_photos, friends_photos, publish_stream </p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13265838,"title":"Print Successfully Saved Code in Php","body":"<p>I am using below code, how do i do the message as saved successfully, after submitting all the values in database. </p>\n\n<pre><code>$query = \"INSERT INTO applyonline (name, email, gender, phone, dob, applicationintake, applicationintake2, degree, ielts, experience, experience2) VALUES ('\".$name.\"', '\".$email.\"','\".$gender.\"','\".$phone.\"','\".$dob.\"','\".$applicationintake1.\"','\".$applicationintake2.\"','\".$degree.\"','\".$ielts.\"','\".$experience1.\"','\".$experience2.\"')\";\n$result = mysql_query($query);\n</code></pre>\n"},{"tags":["php","datetime"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":13264185,"title":"PHP Date Convert","body":"<p>Whats the problem in that code that output the wrong date?</p>\n\n<pre><code>$date = \"1990-05-07\"; // Y-m-d\n$date1 = date(\"d/m/Y\", strtotime($date)); // Here is fine.\n$date2 = date(\"Y-m-d\", strtotime($date1)); // Here is wrong.\n\necho $date2; // output: 1990-07-05\n</code></pre>\n\n<hr>\n\n<p><strong>The code above is a simple demonstration, the exactly code is:</strong> (Yii Framework)</p>\n\n<p>Model.php</p>\n\n<pre><code>public function afterFind()\n{\n    if ($this-&gt;birthday)\n    {\n        $this-&gt;birthday = date(\"d/m/Y\", strtotime($this-&gt;birthday));\n    }\n}\n\npublic function beforeSave()\n{\n    if ($this-&gt;birthday)\n    {\n        $this-&gt;birthday = date(\"Y-m-d\", strtotime($this-&gt;birthday));\n    }\n}\n</code></pre>\n"},{"tags":["php","substring","multibyte","mbstring"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13265900,"title":"substring utf-8 characters with alphanumeric character up to 10 words","body":"<p>I have a problem with getting a substring of this string:</p>\n\n<pre><code>GMOクラウドの芦田です。前回、OpenSocialに対応したSNSの「OpenPNE」をインストールしたので、今回はソーシャルアプリを作ってOpenPNE上で公開してみます。また、作ったアプリをmixiアプリとしてmixiにも登録してみましょう。\n</code></pre>\n\n<p>I just wanted to display up to nth character or at least does not display broken/incomplete words.</p>\n\n<p>at first i tried.</p>\n\n<pre><code>$content = \"GMOクラウドの芦田です。前回、OpenSocialに対応したSNSの「OpenPNE」をインストールしたので、今回はソーシャルアプリを作ってOpenPNE上で公開してみます。また、作ったアプリをmixiアプリとしてmixiにも登録してみましょう。\";\n$content = mb_substr($content, 0, 10, 'UTF-8');\n</code></pre>\n\n<p>but it results to:</p>\n\n<pre><code>GMOクラウドの芦田です。前回、OpenSo\n</code></pre>\n\n<p>the word is not complete</p>\n\n<p>i also tried using regex:</p>\n\n<pre><code>$content = \"GMOクラウドの芦田です。前回、OpenSocialに対応したSNSの「OpenPNE」をインストールしたので、今回はソーシャルアプリを作ってOpenPNE上で公開してみます。また、作ったアプリをmixiアプリとしてmixiにも登録してみましょう。\";\nif (preg_match('/^.{1,40}\\b/s', $content, $match))\n{\n    print_r($match);\n}\n</code></pre>\n\n<p>resulted to:</p>\n\n<pre><code>Array ( [0] =&gt;GMO )\n</code></pre>\n\n<p>what could have been done to get something like</p>\n\n<pre><code>GMOクラウドの芦田です。前回、OpenSocial\n</code></pre>\n\n<p>word should be complete. is there an mb_ function in php i could use to accomplish this?</p>\n"},{"tags":["php"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13259547,"title":"How to use the value of one variable when checking the existence of another","body":"<p>I want to be able to check the existence of up to, but often less than, 6 consecutively named variables using a FOR loop thus:</p>\n\n<pre><code>for ($i = 0; $i &lt;= 5; $i++) {\n   $vartocheck = \"$var_\".$i;\n   if ($vartocheck) {\n      echo $vartocheck.\" exists!\";\n   }\n}\n</code></pre>\n\n<p>Now I know the above doesn't work but I can't figure out how to reference and check the existence of $var_0 through to $var_5 by using the value of $i.</p>\n\n<p>I have tried isset and call_user_func to construct and return the variable name I am after but I have had no success thus far.</p>\n\n<p>I am trying to avoid an eval statement.</p>\n"},{"tags":["php","mysql","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":73,"score":0,"question_id":13265567,"title":"SQL for getting sum of a column","body":"<p>I have three tables linked each other.</p>\n\n<pre><code>mysql&gt; select * from tablea;\n+----+--------+\n| id | name   |\n+----+--------+\n|  1 | Item 1 |\n|  2 | Item 2 |\n+----+--------+\n2 rows in set (0.00 sec)\n\nmysql&gt; select * from tableb;\n+----+------+----------+\n| id | Aid  | name     |\n+----+------+----------+\n|  1 |    1 | B Item 1 |\n|  2 |    2 | B Item 2 |\n|  3 |    1 | B Item 3 |\n+----+------+----------+\n3 rows in set (0.00 sec)\n\nmysql&gt; select * from tablec;\n+----+------+----------+-------+\n| id | Bid  | name     | value |\n+----+------+----------+-------+\n|  1 |    1 | C Item 1 |    10 |\n|  2 |    2 | C Item 2 |    20 |\n|  3 |    1 | C Item 3 |    15 |\n|  4 |    2 | C Item 4 |     5 |\n|  5 |    3 | C Item 5 |    12 |\n+----+------+----------+-------+\n5 rows in set (0.00 sec)\n</code></pre>\n\n<p>TableA is linked to TableB with Aid, TableC is linked with TableB with Bid.</p>\n\n<p>What I want is the id of tableA and the sum of values of all the TableC items comes under it.</p>\n\n<p>The result set I expect for the above example is </p>\n\n<pre><code>+-----------+--------+\n| tablea.id | sum    |\n+-----------+--------+\n|         1 |     37 |\n|         2 |     25 |\n+-----------+--------+\n</code></pre>\n"},{"tags":["php","mysql","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13265599,"title":"CSV line break issue","body":"<p>I have this CSV file that contain this following,</p>\n\n<pre><code>10000,hello\n10000,bye\n10000,good\n</code></pre>\n\n<p>And, my code below for reading CSV file, and send them to database.</p>\n\n<pre><code>if ($_FILES[csv][size] &gt; 0) { \n\n    //get the csv file \n    $file = $_FILES[csv][tmp_name]; \n    $handle = fopen($file,\"r\"); \n\n    //loop through the csv file and insert into database \n    do { \n        if ($data[0]) { \n            mysql_query(\"INSERT INTO table_name (table_column1, table_column2) VALUES \n                ( \n                    '\".$data[0].\"', \n                    '\".$data[1]. \"'\n                ) \n            \");         \n        }\n    } while ($data = fgetcsv($handle,1000,\",\")); \n\n} \n</code></pre>\n\n<p>With the above, the data from CSV cannot go into database because, it read the file something like this below,</p>\n\n<pre><code>10000 hello 10000\nbye 10000\ngood\n</code></pre>\n\n<p><strong>May i know, what the is problem with this? Is there something wrong with the codes?</strong></p>\n\n<p>However, if the format for my CSV file is like this below (A blank line in between each line),</p>\n\n<pre><code>10000,hello\n\n10000,bye\n\n10000,good\n</code></pre>\n\n<p>All the data can go into database successsfully.</p>\n"},{"tags":["php","facebook","api","request"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":138,"score":0,"question_id":12153912,"title":"is it possible to get  sender id(friend request) on facebook?","body":"<p>Say I'm Obama. And Obama sends invite to Bush. When Bhush ,accepts my friend request,then i am geting request id on my page but how do i get A UID of Mine(Obama) on my php page? </p>\n\n<p>Please help me. Am struggling since 4hrs for this. </p>\n\n<p>I am using these(see below) code for getting request_Id. But from these How can i get the    SENDERS ID?</p>\n\n<pre><code> require_once('phps/fbsdk/src/facebook.php');\n$config = array\n(\n'appId' =&gt; 'XXXXXXXXXXXXXXXX',\n'secret' =&gt; 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXX',\n);\n$facebook = new Facebook($config);\n$user_id = $facebook-&gt;getUser();\n$request_ids = explode(',', $_REQUEST['request_ids']);\nfunction build_full_request_id($request_id, $user_id)\n{ \n return $request_id . '_' . $user_id;  }\n  foreach ($request_ids as $request_id)\n   {\n   echo (\"request_id=\".$request_id.\"&lt;br&gt;\");\n    $full_request_id = build_full_request_id($request_id, $user_id); \n    try\n      {\n       $delete_success = $facebook-&gt;api(\"/$full_request_id\",'send me request sender Id');\n         //i have doubt in this line how to get the senders id\n         //i have doubt,that \" how i will get the  senders id and name to store in my db\"\n\n      if ($delete_success)\n         {\n        echo \"Successfully added senderid into db \" . $full_request_id;}\n     else {\n       echo \"addtion failed failed\".$full_request_id;}\n    }\n  catch (FacebookApiException $e) {\n  echo \"error\";}\n}\n</code></pre>\n\n<p>Thanks\n-Ashutosh</p>\n"},{"tags":["php","javascript","jquery","mysql","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":13238340,"title":"Jquery $.post is returning the wrong data","body":"<p>When my ajax is processed</p>\n\n<pre><code>$.post(\"main.php\", \n          {data: $(this).text()}, \n          function(data) {\n               //alert(\"Data saved.\");\n               $('#demo').html(data);\n          });   \n</code></pre>\n\n<p>instead of getting what I specified in the below query</p>\n\n<pre><code>if (isset($_POST['data'])){\n$data = $_POST['data'];\n\n    $query = mysql_query(\"SELECT * FROM tempusers\n    WHERE 'firstname' LIKE '%$data%' \n        OR 'lastname' LIKE '%$data%' \n        OR 'title' LIKE '%$data%'\");\n\n    while($row=mysql_fetch_assoc($query)){\n                $firstname=$row['firstname'];\n                $lastname=$row['lastname'];\n                $grade=$row['grade'];\n\n\n    echo $grade;\n</code></pre>\n\n<p>Instead I get all the elements in my page returned. So in other words in the div below</p>\n\n<pre><code> &lt;div id=\"demo\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I'm  returning my page. So it shows as a website within a website. It won't even show <code>echo $grade;</code> I thought it was my query acting up, but I tried commenting out the query and just <code>echo $data</code> <strong><em>see below</em></strong></p>\n\n<pre><code>if (isset($_POST['data'])){\n$data = $_POST['data'];\necho $data; \n</code></pre>\n\n<p>And doing so gave me the same result as stated previously \"echoing out the website within the website\" and also echoed the $data I wanted. I would be overjoyed to understand how this happened as well as what I can do to fix this problem and get my isset function/ajax corrected. Any other tips would be greatly appreciated. I know I need to change the query to PDO and plan on it. </p>\n"},{"tags":["php","sockets","soap","tcp","raw"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13265435,"title":"Raw text SOAP message with PHP","body":"<p>I´m trying to do an integration between my own PHP application, and other external software which is 'waiting for' (listening) SOAP messages. But the key question on my situation is that this software which is listening for SOAP messages only accepts RAW contents and has no method which could be called, or Wsdl to be used.</p>\n\n<p>Yes I know... it´s quite strange because with SOAP you usually should send a method request with some parameters, but in this case the only that I have is a URL where I should send with SOAP message that should contain only an string (formatted in a special way which is not a problem), and then this server will return to my PHP application another SOAP message that will contain a string. And that´s all. </p>\n\n<p>Seems that in my case I can not use a PHP SOAP library because I have no method (or function) to call; the only thing that I have is a URL and a string that I should pass like a parameter. I´ve been thinking of using PHP sockets to create a basic SOAP message to that 'strange soap server', but I have no clue about how to do it, or how I woule create with PHP a way to keep my application waiting for the answer comming from that external server.</p>\n\n<p>Thank you so much for your help in advance.</p>\n"},{"tags":["php","session","symfony2","php-session"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13265691,"title":"Symfony2 session loss on one specific machine","body":"<p>I keep losing sessions on one of my development machines. At first it would happen at a couple of random moments, but the problem got worse and now it happens immediately after logging in.</p>\n\n<p>I can see that there is one session file created upon landing on the website, one is created when logging in (containing the appropriate roles etc) and one is create directly thereafter (without the auth information) effectively logging me out.</p>\n\n<p>It only happens on one dev machine, everything is fine on another dev machine and in production.</p>\n\n<p>Does anyone have a clue?</p>\n"},{"tags":["php","regex","parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13264693,"title":"Regex to match all top-level functions","body":"<p>I'd like to parse PHP code with a regex to find all the top-level functions declared in our codebase.</p>\n\n<p>The simple:</p>\n\n<pre><code>^\\s*function\\s*([\\w_-]+)\\(\n</code></pre>\n\n<p>works pretty well, but catches the extra</p>\n\n<pre><code>class Foo {\n  function bar() {...}\n}\n</code></pre>\n\n<p>Any ideas on how to skip non-top-level functions that don't have scope delcared?</p>\n\n<p>Note: I know, I know, I should use a real parser but I want something quick and dirty that can run in <code>grep -R -P</code> over a very large codebase.</p>\n"},{"tags":["php","cookies","subdomain","setcookie"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13264436,"title":"setcookie path url doesn't work in PHP?","body":"<p>When the following code is called from <code>/foo/controllers/</code>:</p>\n\n<pre><code>setcookie(\n    \"email\", $email, time() + 100 * 60 * 60 * 24 * 30, \n    \"/foo/\", \"bar.com\", false\n);\n</code></pre>\n\n<p>It gets value (copied from FireBug):</p>\n\n<pre><code># line-breaks added for aesthetics\nemail=stackoverflowuser95%40gmail.com; \n    expires=Sun, 24 Jan 2021 06:25:33 GMT; \n    path=/foo/controllers/; domain=bar.com\n</code></pre>\n\n<p>How do I set it so that the cookie is valid for <code>/foo/controllers/</code> and <code>/foo/views/</code>?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13247821,"title":"read data from open upd and tcp port in php","body":"<p>I have no experience of network programming. I have received the feed on my notebook. I want to read the data from this udp  and tcp port on my machine and store in database.I want this in php and store data in mysql. </p>\n\n<p>How to acheive this ?</p>\n"},{"tags":["php","twitter","stdclass"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13248241,"title":"Getting strings from stdClass","body":"<p>I'm trying to get my latest tweets to display on my webpage and found and am using this peice of code. </p>\n\n<pre><code>            &lt;?php\n            function buildBaseString($baseURI, $method, $params) {\n                $r = array();\n            ksort($params);\n            foreach($params as $key=&gt;$value){\n                $r[] = \"$key=\" . rawurlencode($value);\n            }\n            return $method.\"&amp;\" . rawurlencode($baseURI) . '&amp;' . rawurlencode(implode('&amp;', $r));\n            }\n\n            function buildAuthorizationHeader($oauth) {\n            $r = 'Authorization: OAuth ';\n            $values = array();\n            foreach($oauth as $key=&gt;$value)\n                $values[] = \"$key=\\\"\" . rawurlencode($value) . \"\\\"\";\n            $r .= implode(', ', $values);\n            return $r;\n            }\n\n            $url = \"https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name=jameskrawczyk\";\n            $oauth_access_token = \"SECUIRTY\";\n            $oauth_access_token_secret = \"SECURITY\";\n            $consumer_key = \"SECURITY\";\n            $consumer_secret = \"SECURITY\";\n\n            $oauth = array( 'oauth_consumer_key' =&gt; $consumer_key,\n                        'oauth_nonce' =&gt; time(),\n                        'oauth_signature_method' =&gt; 'HMAC-SHA1',\n                        'oauth_token' =&gt; $oauth_access_token,\n                        'oauth_timestamp' =&gt; time(),\n                        'oauth_version' =&gt; '1.0');\n\n\n\n            $base_info = buildBaseString($url, 'GET', $oauth);\n            $composite_key = rawurlencode($consumer_secret) . '&amp;' .     rawurlencode($oauth_access_token_secret);\n            $oauth_signature = base64_encode(hash_hmac('sha1', $base_info, $composite_key, true));\n            $oauth['oauth_signature'] = $oauth_signature;\n\n\n\n            $header = array(buildAuthorizationHeader($oauth), 'Expect:');\n            $options = array( CURLOPT_HTTPHEADER =&gt; $header,\n                          //CURLOPT_POSTFIELDS =&gt; $postfields,\n                          CURLOPT_HEADER =&gt; false,\n                          CURLOPT_URL =&gt; $url,\n                          CURLOPT_RETURNTRANSFER =&gt; true,\n                          CURLOPT_SSL_VERIFYPEER =&gt; false);\n\n\n\n            $feed = curl_init();\n            curl_setopt_array($feed, $options);\n            $json = curl_exec($feed);\n            curl_close($feed);\n            $twitter_data = json_decode($json);\n?&gt;\n</code></pre>\n\n<p>Problem is I can't seem to figure out how to actually print the data once received.</p>\n"},{"tags":["php","email"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":41,"score":-1,"question_id":13252491,"title":"Mail sent with mail() function does not get sent","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2757113/php-mail-function\">php mail function</a>  </p>\n</blockquote>\n\n\n\n<p>I am doing this website where I send emails to users when they for example forget their password or similar, but for some reason I can not send emails with the following function:</p>\n\n<pre><code>$email = 'somemail@mail.com';\n$subject = 'subject';\n$message = 'message blablablablabla';\n\n\nmail($email, $subject, $message);\n</code></pre>\n\n<p>Am I doing something wrong or missing something in the code, or is it the hosting company's fault? (I make my website on x10hosting.com). I checked in the manual about mail() but it didn't help me. \nThanks in advance.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks for the help guys, but it turned out to be a problem on the web hosting company I'm on. Everything's working fine now.</p>\n"},{"tags":["php","arrays","search","php-5.3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":54,"score":-1,"question_id":13248620,"title":"Reording array by index of first key?","body":"<p>I would like to reorder my element index aligned array so that I can get elements per unique <code>CATEGORY</code> rather than manually by index.</p>\n\n<h3>Pre-condition</h3>\n\n<pre class=\"lang-php prettyprint-override\"><code>$products = array(\n    'CATEGORY' =&gt;\n    array(\n        0 =&gt; 'book',\n        1 =&gt; 'book',\n        2 =&gt; 'desk',\n    ),\n    /* FYI: Other keys have been removed for conciseness */\n    'DESCRIPTION' =&gt; \n    array(\n        0 =&gt; 'Bar',\n        1 =&gt; 'sdfadasfdasfas',\n        2 =&gt; 'Barrrr',\n    ),\n);\n</code></pre>\n\n<h3>Post-condition</h3>\n\n<pre class=\"lang-php prettyprint-override\"><code>$products = array(\n    'CATEGORY' =&gt;\n    array(\n        'book' =&gt;\n        array(\n            0 =&gt;\n            array(\n                'DESCRIPTION' =&gt; 'Bar',\n            ),\n            1 =&gt;\n            array(\n                'DESCRIPTION' =&gt; 'sdfadasfdasfas',\n            ),\n        ),\n        'desk' =&gt;\n        array(\n            0 =&gt;\n            array(\n                'DESCRIPTION' =&gt; 'Barrrr',\n            ),\n        ),\n    ),\n)\n</code></pre>\n\n<h3>Attempt</h3>\n\n<pre><code>$cat_to_index = '';\n\nforeach (array_values(array_unique($products['CATEGORY'])) as $category =&gt; $uniq_cat) {\n    for($i=array_search($uniq_cat, $products['CATEGORY']);\n        $i!==FALSE; $i=array_search($uniq_cat, $products['CATEGORY']))\n            $cat_to_index .= $i; // just for debugging\n}\n</code></pre>\n\n<p>See running on <a href=\"http://codepad.org/J6XSraLH\" rel=\"nofollow\">codepad</a>.</p>\n\n<h3>Error</h3>\n\n<p>Out of memory (infinite loop). Preferably looking for an <code>O(n)</code> solution to this problem.</p>\n"},{"tags":["php","api","twitter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13249083,"title":"Twitter API PHP Get latest tweets not authenticating","body":"<p>I'm using this peice of code to try and get all my latest tweets for printing on my site but it's returning an error about being not authenticated. I've created an app in the Dev section and get my consumer and OAuth keys, and added them in the right place in the code. </p>\n\n<pre><code>    &lt;?php\n        function buildBaseString($baseURI, $method, $params) {\n            $r = array();\n        ksort($params);\n        foreach($params as $key=&gt;$value){\n            $r[] = \"$key=\" . rawurlencode($value);\n        }\n        return $method.\"&amp;\" . rawurlencode($baseURI) . '&amp;' . rawurlencode(implode('&amp;', $r));\n        }\n\n        function buildAuthorizationHeader($oauth) {\n        $r = 'Authorization: OAuth ';\n        $values = array();\n        foreach($oauth as $key=&gt;$value)\n            $values[] = \"$key=\\\"\" . rawurlencode($value) . \"\\\"\";\n        $r .= implode(', ', $values);\n        return $r;\n        }\n\n        $url = \"https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name=jameskrawczyk\";\n        $oauth_access_token = \"SECURITY\";\n        $oauth_access_token_secret = \"SECURITY\";\n        $consumer_key = \"SECURITY\";\n        $consumer_secret = \"SECURITY\";\n\n        $oauth = array( 'oauth_consumer_key' =&gt; $consumer_key,\n                    'oauth_nonce' =&gt; time(),\n                    'oauth_signature_method' =&gt; 'HMAC-SHA1',\n                    'oauth_token' =&gt; $oauth_access_token,\n                    'oauth_timestamp' =&gt; time(),\n                    'oauth_version' =&gt; '1.0');\n\n\n\n        $base_info = buildBaseString($url, 'GET', $oauth);\n        $composite_key = rawurlencode($consumer_secret) . '&amp;' .     rawurlencode($oauth_access_token_secret);\n        $oauth_signature = base64_encode(hash_hmac('sha1', $base_info, $composite_key, true));\n        $oauth['oauth_signature'] = $oauth_signature;\n\n\n\n        $header = array(buildAuthorizationHeader($oauth), 'Expect:');\n        $options = array( CURLOPT_HTTPHEADER =&gt; $header,\n                      //CURLOPT_POSTFIELDS =&gt; $postfields,\n                      CURLOPT_HEADER =&gt; false,\n                      CURLOPT_URL =&gt; $url,\n                      CURLOPT_RETURNTRANSFER =&gt; true,\n                      CURLOPT_SSL_VERIFYPEER =&gt; false);\n\n\n\n        $feed = curl_init();\n        curl_setopt_array($feed, $options);\n        $json = curl_exec($feed);\n        curl_close($feed);\n        $twitter_data = json_decode($json, true);\n        foreach ($twitter_data as $elem)\n        {\n          print_r($elem);\n          echo '&lt;br&gt;';\n        }\n</code></pre>\n\n<p>Error returned on page</p>\n\n<pre><code>Array ( [0] =&gt; Array ( [message] =&gt; Could not authenticate you [code] =&gt; 32 ) ) \n</code></pre>\n"},{"tags":["php","regex","irc","lda"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13251791,"title":"Extracting text from IRC logs","body":"<p>I'd like to extract texts from irc logs. I have regular IRC log from irssi like this:</p>\n\n<pre><code>00:12 -!- Barbora [post@gw1-nat-041.roburnet.sk] has joined #post.sk\n00:12 -!- mirinda [~post@195.91.55.136] has quit [Broken pipe]\n00:12 -!- rogue1 [post@86-41-114-24-dynamic.b-ras2.lmk.limerick.eircom.net] has joined #post.sk\n00:12 -!- Komunista is now known as Anonym9901\n00:13 -!- ajka [~post@78.141.102.209] has quit [Client exited]\n00:16 &lt; blackmamba&gt; no fuj\n00:16 &lt; blackmamba&gt; Komunista: lol\n00:16 &lt; blackmamba&gt; \"este trochu\"\n00:16 &lt; blackmamba&gt; \"je taky velky\"\n00:17 -!- majopo [post@adsl-d192.84-47-63.t-com.sk] has quit [Client exited]\n00:19 -!- Anonym9901 is now known as Komunista\n00:19 -!- dido84 [post@BSN-143-83-49.dial-up.dsl.siol.net] has quit [Client exited]\n00:19 &lt; Komunista&gt; no?\n00:20 &lt; Komunista&gt; ja by som*nadavka*l\n00:20 &lt; Komunista&gt; ako pes\n00:20 -!- Komunista is now known as Anonym53560 \n</code></pre>\n\n<p>What I need is output like this:</p>\n\n<pre><code>no fuj lol este trochu je taky velky no ja by som*nadavka*l ako pes\n</code></pre>\n\n<p>So, just words separated by whitespace, nothing else, no nicks, no quotationmarks, questionmarks etc. I need it as input for LDA.</p>\n\n<p>Nicks I will remove by postprocessing, it will be easier I think, or?</p>\n\n<p>I prefer PHP with regex, I'm not good at it, that's why I ask you all for help.</p>\n\n<p>Thank you for your time!</p>\n\n<p>EDIT:</p>\n\n<p>Now I use this code (Thank to m.buettner):</p>\n\n<pre><code>$input = ... ;\n$smiles = [\"&gt;:]\", \":-)\", \":)\", \":o)\", \":]\", \":3\", \":c)\", \":&gt;\", \"=]\", \"8)\", \"=)\", \":}\", \":^)\", \"&gt;:D\", \":-D\", \":D\", \"8-D\", \"x-D\", \"X-D\", \"=-D\", \"=D\", \"=-3\", \"8-)\", \"&gt;:[\", \":-(\", \":(\", \":-c\", \":c\", \":-&lt;\", \":-[\", \":[\", \":{\", \"&gt;.&gt;\", \"&lt;.&lt;\", \"&gt;.&lt;\", \"&gt;;]\", \";-)\", \";)\", \"*-)\", \"*)\", \";-]\", \";]\", \";D\", \";^)\", \"&gt;:P\", \":-P\", \":P\", \"X-P\", \"x-p\", \":-p\", \":p\", \"=p\", \":-Þ\", \":Þ\", \":-b\", \":b\", \"=p\", \"=P\", \"&gt;:o\", \"&gt;:O\", \":-O\", \":O\", \"°o°\", \"°O°\", \":O\", \"o_O\", \"o.O\", \"8-0\", \"&gt;:\\\\\", \"&gt;:/\", \":-/\", \":-.\", \":\\\\\", \"=/\", \"=\\\\\", \":S\", \":'(\", \";'(\"];\n\n$input = str_replace($smiles, '', $input);\n$resultStr = '';\npreg_match_all('/^\\d\\d:\\d\\d\\s+&lt;[%|\\s|@|+][_a-zA-Z0-9]*&gt;\\s([^\\r\\n]*)/m', $input, $matches);\n$resultStr = implode(' ', $matches[1]);\n$resultStr = preg_replace('/[^\\w\\s*]+/', '', $resultStr);\n\npreg_match_all('/&lt;[%|\\s|@|+][_a-zA-Z0-9]*&gt;/m', $input, $nicks);\n$nicks[0] = str_replace(['&lt;', '&gt;', ' ', '%', '+', '$', '@'], '', $nicks[0]);\n$resultStr = str_replace($nicks[0], '', $resultStr);\n</code></pre>\n\n<p>Any suggestions to improve it will be appreciated ;)</p>\n"},{"tags":["php","zend-framework","multilingual"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13251863,"title":"Zend Translate + custom url","body":"<p>So here is what I have in my bootstrap file</p>\n\n<pre><code>/*\n* Here the Translator is enabled and passed to\n* Zend_Registry so can be accesed from anywhere\n*/\npublic static function translateOption()\n{\n    Zend_Loader::loadClass('Zend_Translate');\n    $translate = new Zend_Translate(\n            'Zend_Translate_Adapter_Csv', \n            self::$root.\"/lang/en/language.csv\", \n            'en');\n    self::$registry-&gt;translate = $translate;\n}\n</code></pre>\n\n<p><strong>What I'm trying to achive is a URL like mysite.com/language/controller/action</strong></p>\n\n<p>Here is my route.</p>\n\n<pre><code>;Multilang routes\nlang_default.type                                = \"iM_Controller_Router_Route_Language\"\nlang_default.route               = \":language/:controller/:action/*\"\nlang_default.defaults.module     = default\nlang_default.defaults.controller = index\nlang_default.defaults.action     = index\nlang_default.defaults.language   = en\nlang_default.reqs.language       = \"(ro|en)\"\n</code></pre>\n\n<p>And here is the Route controller plugin that I found on the internet: </p>\n\n<pre><code>&lt;?php\n\n/**\n* Front Controller Plugin; Created by Gabriel Solomon (http://www.gsdesign.ro/blog/optimizing-zend-routing/)\n*\n* @uses       Zend_Controller_Plugin_Abstract\n* @category   iM\n* @package    iM_Controller\n* @subpackage Plugins\n*/\nclass iM_Controller_Plugin_Router extends Zend_Controller_Plugin_Abstract{\n    protected $_dir;\n    protected $_default = array();\n    protected $_request;\n\n    protected $_initialConfig;\n    protected $_remainingConfig;\n\n\n    public function routeStartup(Zend_Controller_Request_Abstract $request)\n    {\n        // define some routes (URLs)\n        $router = Zend_Controller_Front::getInstance()-&gt;getRouter();       \n        $this-&gt;setRequest($request);       \n\n        $config = $this-&gt;getInitial();\n        $router-&gt;addConfig($config);\n    }\n\n\n    public function routeShutdown(Zend_Controller_Request_Abstract $request)\n    {\n        $router = Zend_Controller_Front::getInstance()-&gt;getRouter();\n\n        $config = $this-&gt;getRemaining();\n\n        $router-&gt;addConfig($config);\n    }\n\n    public function setDir($dir) {\n        $this-&gt;_dir = $dir;\n    }\n\n\n    public function setDefault($default) {\n        if (is_array($default)) {\n            $this-&gt;_default = array_merge($this-&gt;_default, $default);\n        } else {\n            $this-&gt;_default[] = $default;\n        }\n    }\n\n\n    public function setRequest(Zend_Controller_Request_Abstract $request) {\n        $this-&gt;_request = $request;\n        //return $this;\n    }\n\n    public function getInitial() {\n        if ($this-&gt;_initialConfig == null) {\n            $this-&gt;parseIniDir();\n        }\n\n        return $this-&gt;_initialConfig;\n\n    }\n\n\n    public function getRemaining() {\n        if ($this-&gt;_remainingConfig == null) {\n            $this-&gt;parseIniDir();\n        }\n\n        return $this-&gt;_remainingConfig;\n    }\n\n    protected function parseIniDir() {\n        $files = $this-&gt;getFiles();\n        $this-&gt;_default;\n\n        $this-&gt;_default[] = $this-&gt;determineInitial();\n\n        $this-&gt;_initialConfig = new Zend_Config(array(), true);\n        $this-&gt;_remainingConfig = new Zend_Config(array(), true);       \n\n        if (is_array($files)) {\n\n            foreach ($files as $file) {\n                $routerFile = $this-&gt;compilePath($file);\n\n                if (in_array($file, $this-&gt;_default)) {\n                    $this-&gt;_initialConfig-&gt;merge(new Zend_Config_Ini($routerFile));\n\n                } else {\n                    $this-&gt;_remainingConfig-&gt;merge(new Zend_Config_Ini($routerFile));\n                }\n            }\n        }\n    }\n\n    protected function getFiles() {\n        if (is_dir($this-&gt;_dir)) {\n            $dir = new DirectoryIterator($this-&gt;_dir);\n            $files = array();\n            foreach($dir as $fileInfo) {\n                if(!$fileInfo-&gt;isDot() &amp;&amp; $fileInfo-&gt;isFile()) {\n                    $files[] = $fileInfo-&gt;__toString();\n                }\n            }\n\n            return $files;\n        }\n\n        return false;\n    }\n\n\n    protected function getOtherRoutes() {\n        $routes-&gt;merge(new Zend_Config_Ini($routerFile));\n    }\n\n\n    protected function determineInitial() {\n        if ($this-&gt;_request) {\n            $uri = $this-&gt;_request-&gt;getRequestUri();\n            $base = $this-&gt;_request-&gt;getBasePath() . '/';\n\n            $request = str_replace($base, '', $uri);\n            $requestParts = explode('/', $request);\n\n            $lang = $requestParts[0];\n            (array_key_exists(1,$requestParts) ? $section = $requestParts[1] : $section = '');\n\n            if (!empty($section) &amp;&amp; $section == 'user') {\n                return 'user.ini';\n            }\n\n        }\n        return false;\n    }\n\n\n    protected function compilePath($file) {\n        return $this-&gt;_dir . '/' . $file;\n    }\n}\n</code></pre>\n\n<p>Now my question is how do I change the language, if the url is /en or /ro or /de I guess I have to change it in the bootstrap function <code>translateOption</code>but how, I will also like to mention that this has some bugs too...but I will be happy for now If you could help me how to change the language if the url changes, thank you!</p>\n\n<p>I don't know if someone will read this...but hope so</p>\n"},{"tags":["php","ios","ios6","mobile-webkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13041895,"title":"Photo uploads using iOS6 WebKit, processing is unresponsive","body":"<p>Since iOS6 now supports photo/video uploads, I thought to use it in my mobile app. A problem is occurring where neither a photo or video are uploaded to the designated folder provided by the upload script. Not sure what I am doing wrong.</p>\n\n<p>Here's what I'm using to grab the file or capture it...</p>\n\n<pre><code>&lt;form action=\"\" method=\"POST\"&gt;\n&lt;input type=\"file\" accept=\"image/* capture=\"camera\"&gt;&lt;br&gt;&lt;br&gt;\n&lt;input type=\"submit\" value=\"Upload\" class=\"login-button\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This processes the photo on the same page...</p>\n\n<pre><code>&lt;?php\n function findexts ($filename) \n { \n $filename = strtolower($filename) ; \n $exts = split(\"[/\\\\.]\", $filename) ; \n $n = count($exts)-1; \n $exts = $exts[$n]; \n return $exts; \n } \n  $ext = findexts ($_FILES['uploaded']['name']) ; \n $ran = rand () ;\n $ran2 = $ran.\".\";\n $target = \"files/\";\n $target = $target . $ran2.$ext; \nif(move_uploaded_file($_FILES['uploaded']['tmp_name'], $target)) \n {\n echo \"The file has been uploaded as \".$ran2.$ext;\n } \n else\n {\n echo \"Sorry, there was a problem uploading your file.\";\n }\n ?&gt; \n</code></pre>\n"}]}
{"total":298830,"page":15,"pagesize":100,"questions":[{"tags":["php","iis","webserver","iis6","windows-server-2003"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13252098,"title":"\"The specified procedure could not be found\" IIS 6.0 and PHP5","body":"<p>I am trying to make PHP5 work over IIS 6.0 on Windows server 2003 and i am following this steps:\n<a href=\"http://www.iisadmin.co.uk/?p=4\" rel=\"nofollow\">http://www.iisadmin.co.uk/?p=4</a></p>\n\n<p>The thing is, there's no file named \"<em><code>php5isapi.dll</code></em>\" inside the php folder, so I am using php5isapi.dll instead. Is it correct? Or should I try to download the php5isapi.dll from somewhere.</p>\n\n<p>Well, then, I keep following the steps and when I try to execute my php file, I get this message:</p>\n\n<blockquote>\n  <p>The specified procedure could not be found.</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks.</p>\n\n<h1>UPDATE</h1>\n\n<p>I downloaded php5isapi.dll and tried to make it work with it but i am getting this error:</p>\n\n<blockquote>\n  <p>The specified module could not be found. </p>\n</blockquote>\n\n<p>Also, after any change, i restart the <em>Default Web Site</em> clicking on stop and play.</p>\n\n<h1>UPDATE 2</h1>\n\n<p>Now, after rebooting, when trying to access the PHP file, the browser shows a 500 error:</p>\n\n<blockquote>\n  <p>The page cannot be displayed</p>\n</blockquote>\n"},{"tags":["php","html","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":55,"score":-5,"question_id":13258704,"title":"display mysql database in html table","body":"<p>I want to get all the data from my database and put it in a HTML table. My database looks like this:</p>\n\n<pre><code>username password q1 q2 q3 q4 q5 hscore lscore\n</code></pre>\n\n<p>I would like to get all of the usernames and put them with their hscore (stands for high score) with the highest highscore at the top and the smallest at the bottom. this is basicly a leaderboard. (the database is called users)</p>\n\n<p>I had a go myself but I just couldn't get anything productive. if you need more info please ask.</p>\n"},{"tags":["php","soap","soap-client"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13259084,"title":"SOAP request from xml to php","body":"<p>I need to send this request via php SoapClient but I'm not sure how to structure the options and variables that need to be passed.</p>\n\n<p>Request:</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:tran=\"http://transfirst.com\" xmlns:erep=\"http://schemas.datacontract.org/2004/07/eReportsDC\" xmlns:erep1=\"http://schemas.datacontract.org/2004/07/eReportsEnum\"&gt;\n    &lt;soapenv:Header/&gt;\n    &lt;soapenv:Body&gt;\n        &lt;tran:GetRecurringProfiles&gt;\n            &lt;tran:objRecurringProfilesPageRequest&gt;\n                &lt;erep:Credential&gt;\n                    &lt;erep:MerchantInfo&gt;\n                        &lt;erep:MerchantID&gt;******&lt;/erep:MerchantID&gt;\n                        &lt;erep:RegistrationKey&gt;******&lt;/erep:RegistrationKey&gt;\n                    &lt;/erep:MerchantInfo&gt;\n                    &lt;erep:UserInfo&gt;\n                        &lt;erep:Password xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                        &lt;erep:UserID xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                    &lt;/erep:UserInfo&gt;\n                &lt;/erep:Credential&gt;\n                &lt;erep:PageRequest&gt;\n                    &lt;erep:PageCount&gt;1&lt;/erep:PageCount&gt;\n                    &lt;erep:PageSize&gt;20&lt;/erep:PageSize&gt;\n                &lt;/erep:PageRequest&gt;\n                &lt;erep:RecurringProfileSearchCriteria&gt;\n                    &lt;erep:AccountName xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                    &lt;erep:CustomerReferenceID xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                    &lt;erep:GroupID xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                    &lt;erep:MerchantID&gt;******&lt;/erep:MerchantID&gt;\n                    &lt;erep:PaymentTypeCol&gt;\n                        &lt;erep1:PaymentTypeEnum&gt;All&lt;/erep1:PaymentTypeEnum&gt;\n                    &lt;/erep:PaymentTypeCol&gt;\n                    &lt;erep:RecurringStatusCol&gt;\n                        &lt;erep1:RecurringStatusEnum&gt;All&lt;/erep1:RecurringStatusEnum&gt;\n                    &lt;/erep:RecurringStatusCol&gt;\n                    &lt;erep:SortCriteriaRecurringProfile&gt;\n                        &lt;erep:SortColumnNumRecurringProfile&gt;RecurringProfileID&lt;/erep:SortColumnNumRecurringProfile&gt;\n                    &lt;/erep:SortCriteriaRecurringProfile&gt;\n                &lt;/erep:RecurringProfileSearchCriteria&gt;\n            &lt;/tran:objRecurringProfilesPageRequest&gt;\n        &lt;/tran:GetRecurringProfiles&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13264194,"title":"how to get text from pdf file and save it into DB","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4780697/php-pdf-to-string\">php: pdf to string</a>  </p>\n</blockquote>\n\n\n\n<p>i am trying to save text content of pdf file in to DB. I found this link helpful <a href=\"http://stackoverflow.com/questions/4780697/php-pdf-to-string\">php: pdf to string</a>, and worked on it. But it only converts very less amount of data :( why is it so ?</p>\n\n<p>Or any other solution on how to convert complex pdf file (containing header, footer, tables, nd two column layout in some pages etc etc.) in to string and save it to DB ?</p>\n"},{"tags":["php","javascript","jquery","ajax","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13265363,"title":"Site Switching Automatically","body":"<p>I have 4 Websites that I want to <strong>loop</strong> and showcase sort of like a slideshow but without any extra framework/added styling.</p>\n\n<p>I just want to be able to go from Site 1 URL and then 5-10minutes later... it goes to Site 2, then 3 then 4 and then BACK to Site 1. In a never ending loop!</p>\n\n<p>Is this possible and what is the best way to do this smoothly and efficiently??</p>\n\n<p>Appreciate all the help guys.</p>\n"},{"tags":["php","regex","curl","preg-match"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13264459,"title":"PHP undefined index on first request","body":"<p>I have a script that uses regex to get some value on a page retrieved with curl.</p>\n\n<p>the code: <code>preg_match('/&lt;h2&gt;([\\d\\,]+)&lt;\\/h2&gt;/', $curl_exec, $matches);</code></p>\n\n<p>When I <code>print_r($matches)</code> in my browser, it's always there.</p>\n\n<p>I'm using this script in a cron job to get the results every 10 minutes. when I test it myself and use 'php script.php', it always says undefined index for the data i want to get, but if i do 'php script.php' a second time, it works. Does anyone know what could be causing this? Any work arounds?</p>\n\n<pre><code>$CurlHandle = curl_init($StatsUrl);\ncurl_setopt($CurlHandle, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($CurlHandle, CURLOPT_SSL_VERIFYPEER, false);\ncurl_setopt($CurlHandle, CURLOPT_USERAGENT, \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Firefox/17.0\");\n\n$Data = curl_exec($CurlHandle);\n\npreg_match(\"/&lt;h2&gt;([\\d\\,]+)&lt;\\/h2&gt;/\", $Data, $Matches);\n\nprint_r($Data);\n\nif(!isset($Matches[1])) exit('Irrecoverable error.');\n\n$PlayerCount = str_replace(\",\", \"\", $Matches[1]);\n\n$CurrentTime = time();\n</code></pre>\n"},{"tags":["php","google-maps","iframe","popup"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":47,"score":5,"question_id":13265024,"title":"display another website into div in my website","body":"<p>Am using the following code to show map in a popup window. But map does not show in the popup. It is working properly if i use <a href=\"http://www.w3schools.com\" rel=\"nofollow\">http://www.w3schools.com</a> instead of <a href=\"http://maps.google.co.uk/?q=USA\" rel=\"nofollow\">http://maps.google.co.uk/?q=USA</a>.. Anybody please help.</p>\n\n<pre><code>&lt;?php\n    echo \"&lt;div id='login-box' class='login-popup'&gt;\n            &lt;a href='#' class='close'&gt;&lt;img src='binc/close_pop.png' class='btn_close' title='Close Window' alt='Close' /&gt;&lt;/a&gt;&lt;br&gt;\n\n    &lt;iframe src='http://maps.google.co.uk/?q=USA'&gt;&lt;/iframe&gt;&lt;/div&gt;\";\n\n    &lt;a class='login-window' style='color: #0000FF;font: 14px Helvetica;' href='#login-box'&gt;USA&lt;/a&gt;\n\n    ?&gt;\n</code></pre>\n\n<p>incuding the script jquery-1.6.4.js</p>\n\n<pre><code>&lt;script&gt;\n$(document).ready(function() {\n    $('a.login-window').click(function() {\n\n                //Getting the variable's value from a link \n        var loginBox = $(this).attr('href');\n\n        //Fade in the Popup\n        $(loginBox).fadeIn(300);\n\n        //Set the center alignment padding + border see css style\n        var popMargTop = ($(loginBox).height() + 24) / 2; \n        var popMargLeft = ($(loginBox).width() + 24) / 2; \n\n        $(loginBox).css({ \n            'margin-top' : -popMargTop,\n            'margin-left' : -popMargLeft\n        });\n\n        // Add the mask to body\n        $('body').append('&lt;div id=\"mask\"&gt;&lt;/div&gt;');\n        $('#mask').fadeIn(300);\n\n        return false;\n    });\n\n    // When clicking on the button close or the mask layer the popup closed\n    $('a.close, #mask').live('click', function() { \n      $('#mask , .login-popup').fadeOut(300 , function() {\n        $('#mask').remove();  \n    }); \n    return false;\n    });\n});\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","bitwise"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13265448,"title":"php bitwise flag detection operation","body":"<p>// Hi, I want to exclude a flag with bitwise operations, but I don't know how :\n// Here are the flags (they come from filesystemiterator)</p>\n\n<pre><code>define('CURRENT_AS_FILEINFO', 0);\ndefine('CURRENT_AS_SELF', 16);\ndefine('CURRENT_AS_PATHNAME', 32);\ndefine('CURRENT_MODE_MASK', 240);\ndefine('KEY_AS_PATHNAME', 0);\ndefine('KEY_AS_FILENAME', 256);\ndefine('FOLLOW_SYMLINKS', 512);\ndefine('KEY_MODE_MASK', 3840);\ndefine('NEW_CURRENT_AND_KEY', 256);\ndefine('SKIP_DOTS', 4096);\ndefine('UNIX_PATHS', 8192);\n</code></pre>\n\n<p>The user can potentially set any combination of flags.\nI need to detect if CURRENT_AS_SELF or CURRENT_AS_PATHNAME was set,\nso here is my function so far:</p>\n\n<pre><code>function containsPathnameOrSelfFlag($flags) {\n    if ($flags &amp; (CURRENT_AS_PATHNAME | CURRENT_AS_SELF)) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>And here is a test suite :</p>\n\n<pre><code>var_dump(containsPathnameOrSelfFlag(CURRENT_MODE_MASK | CURRENT_AS_PATHNAME)); // true, ok\nvar_dump(containsPathnameOrSelfFlag(CURRENT_AS_FILEINFO)); // false, ok\nvar_dump(containsPathnameOrSelfFlag(CURRENT_MODE_MASK | CURRENT_AS_FILEINFO)); // true, but false was expected, because neither CURRENT_AS_SELF nor CURRENT_AS_SELF were set, so my function is wrong\n</code></pre>\n\n<p>Is it possible to use bitwise operators to make the function pass the third case \n( it should return false )\n?</p>\n\n<p>The problem I see here is that the CURRENT_MODE_MASK's bit overlap the CURRENT_AS_SELF\nand CURRENT_AS_PATHNAME's bits :</p>\n\n<pre><code>0000000000010000 : CURRENT_AS_SELF \n0000000000100000 : CURRENT_AS_PATHNAME \n0000000011110000 : CURRENT_MODE_MASK \n0000000100000000 : KEY_AS_FILENAME\n0000001000000000 : FOLLOW_SYMLINKS\n0000111100000000 : KEY_MODE_MASK\n0000000100000000 : NEW_CURRENT_AND_KEY\n0001000000000000 : SKIP_DOTS\n0010000000000000 : UNIX_PATHS\n</code></pre>\n\n<p>So every time the user add the CURRENT_MODE_MASK to the flags, my function\nwill think that the CURRENT_AS_SELF and the CURRENT_AS_PATHNAME were set too, though it's not the case.\nI don't know how to solve this.</p>\n"},{"tags":["php","jquery","html","symfony2","twig"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13265566,"title":"Export table CSV css3","body":"<p>I have a table that I'll export csv: I tried with this code: I have the next result exacte design but not well.\nI tried to put the column names in tags with css3 but when I have the export i have displays these tags <p> eg\nwho can help me\nmy twig:</p>\n\n<pre><code>  {% block contenu%} id ,CI,CELL , BSC,provider,nbr,cmts,TYPE,analyste {% for row in listes %}{{ row.id }},{{ row.CI }},{{ row.CELL }},{{row.BSC}},{{ row.PROVIDER }},{{ row.nbr }},{{ row.Cmts }},{{row.TYPE}},{{row.user_name}}\n{% endfor %} {% endblock %}\n\nin my controller:\n\n\n\npublic function adminCsvAction() { \n$session =$this-&gt;get('request')-&gt;getSession() ;\n    $user_name = $session-&gt;get('user_name');\n\n$host = \"172.25.1.140\"; \n$user = \"stgzouaoui\"; \n$password = \"stg\"; \n$bdd = \"stg_zouaoui_dev\";\n    mysql_connect($host, $user, $password) or die (\"impossible de se connecter au serveur\" ); \n        mysql_select_db($bdd) or die (\"impossible de se connecter a la base de donnees\" );\n    $sql=\"SELECT stat_alert.id,DAT,PROVIDER,CI,CELL,Cmts,nbr,TYPE,user_name,BSC,id_user FROM stat_alert LEFT OUTER JOIN user_qdf  ON user_qdf.`id` = id_user  WHERE user_qdf.`id`=id_user OR id_user IS NULL\"; \n     $p = mysql_query($sql)OR DIE(\"Erreur sur la requete\");\n\n     $listes = array();\n     while ($row = mysql_fetch_array($p)) {\n     $listes[] = $row;\n }  \n\n\n$filename = \"export_\".date(\"Y_m_d\").\".csv\"; \n\n$response = $this-&gt;render('AdminBlogBundle:GestionAlerte:ok.html.twig', array('listes'=&gt;$listes)); \n$response-&gt;headers-&gt;set('Content-Type', 'text/csv');\n\n$response-&gt;headers-&gt;set('Content-Disposition', 'attachment; filename='.$filename); \nreturn  $response; \n\n\n}\n</code></pre>\n"},{"tags":["php","xml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13243794,"title":"PHP: How to display child node defined in XML xpath?","body":"<p>Hi I want to find a xml node with a text string \"CAT1\" and display but I seems to not able to get it right.  Can someone advise me what's wrong.</p>\n\n<p>---catalog.xml---</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n&lt;Catalog&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT1&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt; Alpha &lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT2&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt; Bravo &lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT3&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt; Charlie &lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT4&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt; Delta &lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n&lt;/Catalog&gt;\n</code></pre>\n\n<p>---arr0.php---</p>\n\n<pre><code>&lt;?php\n$catalog = simplexml_load_file(\"catalog.xml\");\n$category = $catalog-&gt;Category;\n$name = $category-&gt;Name;\n$location = $category-&gt;Location;\n$room = $location-&gt;Room;\n\nfor ($i = 0; $i &lt;= 22; $i++)\n{\n$display = $catalog-&gt;xpath(\"//Category/Name[contains(text(\"CAT1\"),'\".$category[$i]-&gt;$name.\"']/parent::\");\n{\necho $display;\necho $room;\n}\n}\n?&gt;\n</code></pre>\n\n<hr>\n\n<p>The result is to display all details listed under Node [Category][Name] = CAT1, [Location][Room] but I got error in display</p>\n\n<p>Parse error: syntax error, unexpected T_STRING in /home/a3440614/public_html/arr0.php on line 11</p>\n\n<hr>\n\n<p>Any help to correct and simplify it appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mvc","frameworks","kohana","web-frameworks"],"answer_count":8,"favorite_count":7,"up_vote_count":7,"down_vote_count":1,"view_count":1212,"score":6,"question_id":6386800,"title":"Learning Kohana","body":"<p>I'm a reasonable intelligent guy and have been involved in a lot of stuff, like html, php, java, c#, c, c++, assembly, and so on and so forth. All in all I think that there's very little I don't have basic understanding of, though of course I'm by no mean an expert in all the subjects, it's simply to illustrate that I'm not as green as I may very well sound.</p>\n\n<p>Now, the thing is that I've been instructed to learn about the Kohana framework, in order to help with some web development at work. Well, that's all well and good, especially as I'm kinda tired of spending my time correcting other peoples HTML/CSS mess. To do some proper coding for a change would indeed be nice.</p>\n\n<p>So I set out to learn, what I thought would be easy as pie, and not only did I think so, I was told so. Imagine my disappointment when after making an effort, I still didn't have the most basic understanding of the subject.</p>\n\n<p>The documentation is unsatisfying to say the least, and I have yet to find a proper explanation of the subject as a whole.</p>\n\n<p>In short, I understand close to nothing, and the harder the effort I make, the more confused I get. I honestly don't know where to begin and end.</p>\n\n<p>I can't really tell you what I need to get going, as my understanding isn't even significant enough to know what I need to learn. I suppose a tutorial explaining, step by step, how to make something useful, would be in order, but I've been unable to find anything in the many hours I've spend searching.</p>\n\n<p>This is my last way out, and the only possibly solution I could come up with. To ask you how you initially leaned to use Kohana.</p>\n\n<p>I do apologize for the lag of an actual question, but I do hope that you'll do your best to help anyway.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13265344,"title":"Form POST data loop how to assign in a variable and compare to a DB","body":"<p>I have a shopping cart form that once I submit the form I loop the POST values to print it on a table.Here is the loop for the items sold</p>\n\n<pre><code>&lt;?php\n    for($i = 0; $i &lt; count($_POST[\"id\"]); $i++){\n        echo \"&lt;tr&gt;\";\n        echo \"&lt;td&gt;\".$_POST[\"name\"][$i].\"&lt;/td&gt;\";\n        echo \"&lt;td&gt;$ \".$_POST[\"price\"][$i].\"&lt;/td&gt;\";      \n        echo \"&lt;td&gt;\".$_POST[\"quantity\"][$i].\"&lt;/td&gt;\";\n        $total[$i] = $_POST[\"price\"][$i]*$_POST[\"quantity\"][$i];\n        echo \"&lt;td&gt;$ \".$total[$i].\"&lt;/td&gt;\";\n        echo \"&lt;/tr&gt;\"; \n ?&gt;\n</code></pre>\n\n<p>My question is based on this loop I need to compare it to a product DB that has the following fields</p>\n\n<p>|Name | Price | QtyLeft | QtySold | where QtyLeft is the current quantity in stock. So based on the code above how do I query my table to subtract the quantity of the item sold to the QtyLeft and update QtySold?</p>\n"},{"tags":["php","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13265140,"title":"php: Routing in CI (Codeigniter)","body":"<p>Im new to CI framework and i really have a hard time understanding the URL/URI reouting in CI, i've managed to understand some concepts but when i tried testing them, some wont work, in this instance, i have two links, one is Home and the other is Panel, Home links to main/index and panel links to main/panel, heres the snippet to better understand.</p>\n\n<pre><code>&lt;a href=\"main/index\"&gt; Home &lt;/a&gt;\n&lt;a href=\"main/panel\"&gt; Panel &lt;/a&gt;\n</code></pre>\n\n<p>and this is the code for the controller <code>main.php</code></p>\n\n<pre><code>class Main extends CI_Controller\n{\n    public function index()\n    {\n        $this-&gt;load-&gt;helper('url');\n        $this-&gt;load-&gt;helper('form');\n        $this-&gt;load-&gt;view('templates/header');\n        $this-&gt;load-&gt;view('home');\n        $this-&gt;load-&gt;view('templates/footer');\n    }\n\n    public function panel()\n    {\n        $this-&gt;load-&gt;helper('url');\n        $this-&gt;load-&gt;helper('form');\n        $this-&gt;load-&gt;view('templates/header');\n        $this-&gt;load-&gt;view('panel');\n        $this-&gt;load-&gt;view('templates/footer');\n    }\n}   \n</code></pre>\n\n<p>and heres my <code>routes (config/routes.php)</code></p>\n\n<pre><code>$route['main/index'] = \"main/index\";\n$route['main/panel'] = \"main/panel\";\n$route['default_controller'] = \"main/index\";\n</code></pre>\n\n<p>At first run, it will automatically go to main/index, it works fine, but when i click the panel link it says <strong>Object not found</strong> so does the Home link <strong>Object no found</strong></p>\n\n<p>I really have a hard time understanding rounting in CI, please do enlighten me with some of your knowledge. tnx</p>\n\n<p><strong>NOTE</strong>\ni've read some thread but im having a hard time understanding them, their example are too andvance for me to comprehend, so i rather have my own example to help me gain something</p>\n"},{"tags":["java","php",".net","mysql","jsf"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":44,"score":-3,"question_id":13265458,"title":"How to build a standalone application for a dynamic PHP website","body":"<p>Is it possible to build a standalone desktop application to perform the administrator operations of a dynamic website programmed in PHP and uses MySql database. The desktop app should have access to the contents of the database over internet and allow read and write operations. Which platform is better to do this, PHP or .net or Java ?</p>\n"},{"tags":["php","mysql","paging","undefined-index"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2142,"score":0,"question_id":2776514,"title":"paging php error - undefined index","body":"<p>i've a search form with paging. when the user enters the keyword initially, it works fine and displays the required output; however, it also shows this error:</p>\n\n<pre><code>Notice: Undefined index: page in C:\\Users\\user\\Documents\\Projects\\Pro\\search.php on line 21 Call Stack: 0.0011 372344 1. {main}() C:\\Users\\user\\Documents\\Projects\\Pro\\search.php:0 \n</code></pre>\n\n<p>. .and if the user clicks on the 'next' page, it shows no output with this error thrown:</p>\n\n<pre><code>Notice: Undefined index: q in C:\\Users\\user\\Documents\\Projects\\Pro\\search.php on line 19 Call Stack: 0.0016 372048 1. {main}() C:\\Users\\user\\Documents\\Projects\\Pro\\search.php:0\n</code></pre>\n\n<p>this is my code:</p>\n\n<pre><code>&lt;?php\n\nini_set('display_errors',1);\nerror_reporting(E_ALL|E_STRICT);\n\ninclude 'config.php';\n\n\n$search_result = \"\";\n\n$search_result = trim($_GET[\"q\"]);\n\n$page= $_GET[\"page\"]; //Get the page number to show\nif($page == \"\") $page=1;\n\n$search_result = mysql_real_escape_string($search_result);\n\n//Check if the string is empty\nif ($search_result == \"\") {\n  echo  \"&lt;p class='error'&gt;Search Error. Please Enter Your Search Query.&lt;/p&gt;\" ;\n  exit();\n      }\n\nif ($search_result == \"%\" || $search_result == \"_\" || $search_result == \"+\" ) {\n  echo  \"&lt;p class='error1'&gt;Search Error. Please Enter a Valid Search Query.&lt;/p&gt;\" ;\n  exit();\n      }\n\nif(!empty($search_result))\n{\n\n\n\n  // the table to search\n  $table = \"thquotes\";\n  // explode search words into an array\n  $arraySearch = explode(\" \", $search_result);\n  // table fields to search\n  $arrayFields = array(0 =&gt; \"cQuotes\");\n  $countSearch = count($arraySearch);\n  $a = 0;\n  $b = 0;\n  $query = \"SELECT cQuotes, vAuthor, cArabic, vReference FROM \".$table.\" WHERE (\";\n  $countFields = count($arrayFields);\n  while ($a &lt; $countFields)\n  {\n    while ($b &lt; $countSearch)\n    {\n      $query = $query.\"$arrayFields[$a] LIKE '%$arraySearch[$b]%'\";\n      $b++;\n      if ($b &lt; $countSearch)\n      {\n        $query = $query.\" AND \";\n      }\n    }\n    $b = 0;\n    $a++;\n    if ($a &lt; $countFields)\n    {\n      $query = $query.\") OR (\";\n    }\n  }\n  $query = $query.\")\";\n\n     $result = mysql_query($query, $conn)\n      or die ('Error: '.mysql_error());\n\n     $totalrows = mysql_num_rows($result);\n\n     if($totalrows &lt; 1)\n        {\n             echo '&lt;span class=\"error2\"&gt;No matches found for \"'.$search_result.'\"&lt;/span&gt;';\n         }\n        else\n        {\n\n            $limit = 3; //Number of results per page\n            $numpages=ceil($totalrows/$limit);\n\n            $query = $query.\" ORDER BY idQuotes LIMIT \" . ($page-1)*$limit . \",$limit\";\n            $result = mysql_query($query, $conn)\n             or die('Error:' .mysql_error());\n?&gt;\n\n&lt;div class=\"caption\"&gt;Search Results&lt;/div&gt;\n&lt;div class=\"center_div\"&gt;\n&lt;table&gt;\n    &lt;?php while ($row= mysql_fetch_array($result, MYSQL_ASSOC)) {\n        $cQuote =  highlightWords(htmlspecialchars($row['cQuotes']), $search_result);\n        ?&gt;\n        &lt;tr&gt;\n        &lt;td style=\"text-align:right; font-size:15px;\"&gt;&lt;?php h($row['cArabic']); ?&gt;&lt;/td&gt;\n            &lt;td style=\"font-size:16px;\"&gt;&lt;?php echo $cQuote; ?&gt;&lt;/td&gt;\n            &lt;td style=\"font-size:12px;\"&gt;&lt;?php h($row['vAuthor']); ?&gt;&lt;/td&gt;\n            &lt;td style=\"font-size:12px; font-style:italic; text-align:right;\"&gt;&lt;?php h($row['vReference']); ?&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;?php } ?&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n\n&lt;?php\n   //Create and print the Navigation bar\n       $nav=\"\";\n       if($page &gt; 1) {\n            $nav .= \"&lt;a href=\\\"search.php?page=\" . ($page-1) . \"&amp;string=\" .urlencode($search_result) . \"\\\"&gt;&lt;&lt; Prev&lt;/a&gt;\";\n        }\n\n       for($i = 1 ; $i &lt;= $numpages ; $i++) {\n            if($i == $page) {\n                $nav .= \"&lt;B&gt;$i&lt;/B&gt;\";\n            }else{\n                $nav .= \"&lt;a href=\\\"search.php?page=\" . $i . \"&amp;string=\" .urlencode($search_result) . \"\\\"&gt;$i&lt;/a&gt;\";\n            }\n        }\n\n        if($page &lt; $numpages) {\n            $nav .= \"&lt;a href=\\\"search.php?page=\" . ($page+1) . \"&amp;searchstring=\" .urlencode($search_result) . \"\\\"&gt;Next &gt;&gt;&lt;/a&gt;\";\n        }\n\n        echo \"&lt;br /&gt;&lt;br /&gt;\" . $nav;\n\n\n    }\n    }\n    else {\n        exit();\n    } \n\n?&gt;\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":4,"favorite_count":25,"up_vote_count":39,"down_vote_count":0,"view_count":24577,"score":39,"question_id":804399,"title":"CodeIgniter: Create new helper?","body":"<p>I need to loop lot of arrays in different ways and display it in a page. The arrays are generated by a module class. I know that its better not to include functions on 'views' and I want to know where to insert the functions file.</p>\n\n<p>I know I can 'extend' the helpers, but I don't want to extend a helper. I want to kind of create a helper with my loop functions.. Lets call it loops_helper.php</p>\n\n<p>Can I do it?? How?? \nThanks!!</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13265353,"title":"double dot in html name file","body":"<p>I'm curious about this naming file with double dots just like this: \"file.name.php\".</p>\n\n<p>Will this be still a valid url even if it is working inside my page where PHP include call this filename like this setup:</p>\n\n<pre><code>&lt;?php include ('includes/pages/file.name.php'); ?&gt;\n</code></pre>\n\n<p>Am I going to have problem / conflict if i implement this to my site over to server &amp; browsers?</p>\n"},{"tags":["php","xml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13264612,"title":"PHP: Search for a string in XML","body":"<p>I try the search code below but it is only showing the first child node. Is something missing from my code?</p>\n\n<p>----catalog.xml----</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Catalog&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT1&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt;Alpha&lt;/Room&gt;\n        &lt;/Location&gt;\n        &lt;Location&gt;\n            &lt;Room&gt;Bravo&lt;/Room&gt;\n        &lt;/Location&gt;  \n        &lt;Location&gt;\n            &lt;Room&gt;Charlie&lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT2&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt;Delta&lt;/Room&gt;\n        &lt;/Location&gt;  \n        &lt;Location&gt;\n            &lt;Room&gt;Eagle&lt;/Room&gt;\n        &lt;/Location&gt;  \n        &lt;Location&gt;\n            &lt;Room&gt;Falcon&lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n&lt;/Catalog&gt;\n</code></pre>\n\n<p>----arr0.php----</p>\n\n<pre><code>&lt;?php\n$catalog = simplexml_load_file(\"catalog.xml\");\n$category = $catalog-&gt;Category;\n\nforeach($category-&gt;Name as $name)\n{\n    $menu = (string)$name;\n    $i = 0;\n    if ($menu == \"CAT1\" )\n{\n        echo $category-&gt;Location-&gt;Room[$i];\n        $i++;       \n}\nelse \n{\n        echo \"No result\";\n}\n}\n?&gt;\n</code></pre>\n\n<p>---------Output----------</p>\n\n<p>Alpha</p>\n\n<hr>\n\n<p>Bravo and Charlie is missing from display.  Need someone advise where am I missing something?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","xml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":17,"score":-3,"question_id":13265335,"title":"How to update XML file with PHP?","body":"<p>I have the following code in an XML file:</p>\n\n<pre><code>&lt;resources&gt;\n &lt;string name=\"a_n\"&gt;&lt;/string&gt;\n &lt;string name=\"p_i\"&gt;&lt;/string&gt;\n &lt;string name=\"j_b\"&gt;&lt;/string&gt;\n &lt;string name=\"b_b\"&gt;&lt;/string&gt;\n &lt;color name=\"b_c\"&gt;&lt;/color&gt;\n &lt;color name=\"b_c_2\"&gt;&lt;/color&gt;\n &lt;color name=\"t_c\"&gt;&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>I would like to add some words between the tags for each node with PHP. I can't get simpleXML to work. Can someone please give me a bit of help?</p>\n"},{"tags":["php","mysql","sql","date"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13192083,"title":"combining results of 3 queries in one result","body":"<p>i have 3 queries and i want all result be in only one result using array_merge and array_unique.</p>\n\n<p>here's the queries:</p>\n\n<pre><code>            $query1 = mysql_query(\"SELECT * FROM prereservation where '$arival' BETWEEN arrival and departure and room_id ='11' and status = 'active'\");  \n        while($rows1 = mysql_fetch_assoc($query1)){\n        echo $rows1['id']. \" - \". $rows1['qty'];\n        echo \"&lt;br /&gt;\";\n        }\n\n        $query2 = mysql_query(\"SELECT * FROM prereservation where '$departure' BETWEEN arrival and departure and room_id ='11' and status = 'active'\");\n        while($rows2 = mysql_fetch_assoc($query2)){\n        echo $rows2['id']. \" - \". $rows2['qty'];\n        echo \"&lt;br /&gt;\";\n        }\n\n        $query3 = mysql_query(\"SELECT * FROM prereservation where arrival &gt; '$arival' and departure &lt; '$departure' and room_id ='11' and status = 'active'\");\n        while($rows3 = mysql_fetch_assoc($query3)){\n        echo $rows3['id']. \" - \". $rows3['qty'];\n        echo \"&lt;br /&gt;\";\n        }\n\nexample result is:    \nfor       $rows1     |     $rows2     |     $rows3\n        id  |  qty   |   id  |  qty   |   id  |  qty\n       -----|--------|-------|--------|-------|------\n        01  |   1    |   01  |   1    |   02  |   1\n        03  |   1    |   02  |   1    |   03  |   1\n        04  |   1    |   03  |   1    |   04  |   1\n        08  |   1    |   05  |   1    |   05  |   1\n</code></pre>\n\n<p>i dont know if this is right? </p>\n\n<pre><code>$sample = array_unique(array_merge($rows1['id'], $rows2['id'], $rows3['id']))\n</code></pre>\n\n<p>i want to use array_merge and array_unique for id's of each results\nso the final result for id's that will be left is </p>\n\n<pre><code>01, 02, 03, 04, 05, 08.\n</code></pre>\n\n<p>and for the next query all i want is the sum(qty) of those id's.\nbut i don't know how to write a query for this, here's my sample:</p>\n\n<pre><code>$query = mysql_query(\"SELECT sum(qty) FROM prereservation where id = $sample\");\n\n        while($rows = mysql_fetch_array($query))\n          {\n          $total_qty = $rows['sum(qty)'];\n          }     \n</code></pre>\n\n<p>so the sum(qty) is equal to 6.\nplease correct my mistakes for coding, thanks guys...</p>\n\n<p><strong>Finally i found the solution, here it is..</strong></p>\n\n<pre><code>$a = $p['id'];\n        $query1 = mysql_query(\"SELECT DISTINCT id, SUM(qty)\n        FROM prereservation \n        WHERE \n        (\n            ( '$arival1' BETWEEN arrival AND departure ) OR \n            ( '$departure1' BETWEEN arrival AND departure ) OR \n            ( arrival &gt; '$arival1' AND departure &lt; '$departure1' )\n        )\n            AND room_id ='$a' \n            AND STATUS = 'active'\");  \n        while($rows1 = mysql_fetch_assoc($query1)){\n        $set1 = $rows1['SUM(qty)'];\n        }   \n        ?&gt; \n        &lt;select id=\"select\" name=\"qty[]\" style=\" width:50px;\" onchange=\"checkall()\"&gt;\n        &lt;option value=\"0\"&gt;&lt;/option&gt;\n        &lt;? $counter = 1; ?&gt;\n        &lt;? while ($counter &lt;= ($p['qty']) - $set1){ ?&gt;\n        &lt;option value=\"&lt;?php echo $counter ?&gt;\"&gt;&lt;?php echo $counter ?&gt;&lt;/option&gt;\n        &lt;? $counter++;\n        }?&gt;\n        &lt;/select&gt;\n</code></pre>\n\n<p><strong>solution was made by combining all of your answers, thank you guys..</strong></p>\n"},{"tags":["php","mysql","date","datetime","timezone"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13264846,"title":"convert timezone to another timezone","body":"<p>I want to convert the date I fetched from the database, which is generated via <code>CURRENT_TIMESTAMP</code> and stored in a <code>timestamp</code> column type, from GMT+8 to GMT+1.</p>\n\n<pre><code>$time = \"2012-11-07 15:05:26\"; // fetch from database\n$date = new DateTime($time, new DateTimeZone('Europe/Berlin'));\necho $date-&gt;format('Y-m-d H:i:s');\n</code></pre>\n\n<p>However this will yield an output of <strong>\"2012-11-07 15:05:26\"</strong>, which I'm pretty sure is wrong.</p>\n\n<p>What could be I'm missing in here?</p>\n"},{"tags":["php","mysql"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":11686805,"title":"echo info from a database as a link","body":"<p>is it possible to echo info from a database as a link, I tried the code below but got a parse error. is there some other way of doing it. Thanks</p>\n\n<pre><code>&lt;?php\nsession_start();\nif(isset($_SESSION['email'])){\n\n    $connect = mysql_connect(\"localhost\",\"root\",\"\") or die(\"Couldn't connect!\");\n    mysql_select_db(\"test\") or die(\"Couldn't find database\");\n    $email=$_SESSION['email'];\n    $sql = mysql_query(\"SELECT *  FROM users WHERE email='$email'\");\n    $info = mysql_fetch_assoc($sql);\n\necho\"&lt;a href='home.php'&gt; $info['firstname']&lt;/a&gt;\"\n   }\n\n      ?&gt;\n</code></pre>\n"},{"tags":["php","mysql","sql","query"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13242249,"title":"Sorting mysql results by times from 3 tables","body":"<p>I have 3 tables: <code>questions</code>, <code>articles</code> and <code>pictures</code></p>\n\n<p>The rows in each table contain a current_timestamp column <code>posted</code>, and link to an id. I'd like to sort the results of the rows of all three by their timestamp and only echo the newest of the three (for example: if the question is newest from the ID, display that only)</p>\n\n<pre><code>if(count($interests) != 0){ foreach($interests as $interests_following){\n    $interestid = mysql_result(mysql_query(\"SELECT `id` FROM `interests` WHERE `name` = '$interests_following'\"),0);\n    $interestquestions = @mysql_result(mysql_query(\"SELECT `question_text`, `posted` FROM `questions` WHERE `interest` = '$interests_following'\"),0);\n    $interestarticles = @mysql_result(mysql_query(\"SELECT `article_title`, `posted` FROM `articles` WHERE `interest_id` = '$interestid'\"),0);\n    $interestpictures = @mysql_result(mysql_query(\"SELECT `interest_pic_title`, `posted` FROM `interest_pictures` WHERE `interest_id` = '$interestid'\"),0);\n\necho '.$interests_following.': //&lt;Only display 1 newest item (article/picture/question here&gt;\n</code></pre>\n"},{"tags":["php","mysql","sql","date"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":13089536,"title":"Query for hotel reservation","body":"<p>I have three queries in a hotel reservation system where reserves are automatic deducted from the total number of rooms. All I want those three queries goes all in only one query. My query looks like this: </p>\n\n<p><code>$p =</code> is in a <code>foreach</code> loop where <code>$p['id']</code> is the <em>id</em> of each room class and <code>$p['qty']</code> is the maximum rooms of each room class.</p>\n\n<pre><code>$a = $p['id'];\n$query = mysql_query(\"SELECT sum(qty) FROM prereservation where '$arrival' BETWEEN arrival and departure and room_id ='$a' and status = 'active'\");\n        while($rows = mysql_fetch_array($query))\n          {\n          $inogbuwin=$rows['sum(qty)'];\n          }\n$query = mysql_query(\"SELECT sum(qty) FROM prereservation where departure BETWEEN '$arrival' and '$departure' and room_id ='$a' and status = 'active'\");\n        while($rows = mysql_fetch_array($query))\n          {\n          $inogbuwin2=$rows['sum(qty)'];\n          }\n$query = mysql_query(\"SELECT sum(qty) FROM prereservation where '$departure' BETWEEN arrival and departure and room_id ='$a' and status = 'active'\");\n        while($rows = mysql_fetch_array($query))\n          {\n          $inogbuwin3=$rows['sum(qty)'];\n          }\n\n&lt;select&gt;\n &lt;option value=\"0\"&gt;&lt;/option&gt;\n &lt;? $counter = 1; ?&gt;\n &lt;? while ($counter &lt;= ($p['qty'])-($inogbuwin + $inogbuwin2 + $inogbuwin3)){ ?&gt;\n &lt;option value=\"&lt;?php echo $counter ?&gt;\"&gt;&lt;?php echo $counter ?&gt;&lt;/option&gt;\n &lt;? $counter++;\n }?&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Every time I put a date between the range of those three queries, the total deducted is also tripled which is the reason I want those three queries to be all in one.</p>\n\n<p>for example i have a record in database of \n<code>arrival = 27/10/2012 and departure = 29/10/2012</code></p>\n\n<p>and the input dates that are not available in range is</p>\n\n<pre><code> $arrival = 27/10/2012 and $departure = 29/10/2012 \n $arrival = 26/10/2012 and $departure = 27/10/2012 \n $arrival = 29/10/2012 and $departure = 30/10/2012 \n $arrival = 26/10/2012 and $departure = 30/10/2012 \n $arrival = 29/10/2012 and $departure = 29/10/2012 \n</code></pre>\n\n<p>so each date that in rance of those three queries are also the deductions, so i want those queries to be in one. thanks guys</p>\n\n<p>after all i fixed the errors but only one preblem left. i fixed the reservation dates in only a single month, the problem is when the inputs of arrival and departure are not in the same month it does'nt work either. here's my code again below.</p>\n\n<pre><code>&lt;?\n$a = $p['id'];\n    $query = mysql_query(\"SELECT\n    SUM(IF('$arrival' BETWEEN arrival and departure, qty, 0)) AS bu1,\n    SUM(IF('$departure' BETWEEN arrival and departure, qty, 0)) AS bu2,\n    SUM(IF(arrival &gt; '$arrival' and departure &lt; '$departure', qty, 0)) AS bu3\n    FROM prereservation WHERE room_id ='$a' and status = 'active'\");\n    $row = mysql_fetch_array($query);\n\n    $test1 = $row['bu1'];\n    if ($row['bu1'] == $row['bu2']){\n        $test2 = $row['bu2'] - $row['bu1'];\n    }else{\n        $test2 = $row['bu2'];\n    }       \n        $test3 = $row['bu3'];\n    ?&gt;      \n&lt;select id=\"select\" name=\"qty[]\" style=\" width:50px;\" onchange=\"checkall()\"&gt;\n&lt;option value=\"0\"&gt;&lt;/option&gt;\n    &lt;? $counter = 1; ?&gt;\n&lt;? while ($counter &lt;= ($p['qty']) - ($test1 + $test2 + $test3)){ ?&gt;\n    &lt;option value=\"&lt;?php echo $counter ?&gt;\"&gt;&lt;?php echo $counter ?&gt;&lt;/option&gt;\n    &lt;? $counter++;\n    }?&gt;\n</code></pre>\n\n<p>please help me guys how to solve this reservation query, or maybe there's an other way to solve this in php code. thanks guys.</p>\n\n<p><strong>Finally i'm finished and found the solution, here it is:</strong></p>\n\n<pre><code>            $a = $p['id'];\n        $query1 = mysql_query(\"SELECT DISTINCT id, SUM(qty)\n        FROM prereservation \n        WHERE \n        (\n            ( '$arival1' BETWEEN arrival AND departure ) OR \n            ( '$departure1' BETWEEN arrival AND departure ) OR \n            ( arrival &gt; '$arival1' AND departure &lt; '$departure1' )\n        )\n            AND room_id ='$a' \n            AND STATUS = 'active'\");  \n        while($rows1 = mysql_fetch_assoc($query1)){\n        $set1 = $rows1['SUM(qty)'];\n        }   \n        ?&gt; \n        &lt;select id=\"select\" name=\"qty[]\" style=\" width:50px;\" onchange=\"checkall()\"&gt;\n        &lt;option value=\"0\"&gt;&lt;/option&gt;\n        &lt;? $counter = 1; ?&gt;\n        &lt;? while ($counter &lt;= ($p['qty']) - $set1){ ?&gt;\n        &lt;option value=\"&lt;?php echo $counter ?&gt;\"&gt;&lt;?php echo $counter ?&gt;&lt;/option&gt;\n        &lt;? $counter++;\n        }?&gt;\n        &lt;/select&gt;\n</code></pre>\n\n<p><strong>thank you guys for sharing your ideas, this solution is the combinations of your answers.. thanks again!!</strong></p>\n"},{"tags":["php","performance"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":37,"score":-1,"question_id":13265093,"title":"Using too many if blocks is good ? what are possible alternatives?","body":"<p>I have been designing a shopping website lately in PHP. Now in Checkout page i have to check many times if the user is logged in. i.e If the user is logged in <em>hide the Signin div</em> and <em>show the Shipping div</em>.</p>\n\n<pre><code>&lt;section class=\"panels &lt;?php if(!isset($_SESSION['username'])) echo\"unactivepanel\"; else echo\"activepanel\";?&gt;\" id=\"Sign In\"&gt;\n        &lt;div class=\"wrapper1\" &gt;\n            &lt;ul&gt;\n            &lt;li&gt;&lt;input type=\"email\" placeholder=\"Enter your email address\" required/&gt;&lt;/li&gt;\n            &lt;li class=\"inf\"&gt;(will only be used for sending you order information.)&lt;/li&gt;\n            &lt;fieldset&gt;&lt;legend class=\"orb\"&gt; OR&lt;/legend&gt;\n            &lt;li&gt;&lt;input type=\"button\" value=\"Sign In to booksmore\" class=\"sb si llb\" /&gt;&lt;/li&gt;&lt;/fieldset&gt;\n            &lt;fieldset&gt;&lt;legend class=\"orb\"&gt; OR&lt;/legend&gt;\n            &lt;li&gt;Sign In using any of following service:&lt;/li&gt;\n            &lt;li&gt;\n                &lt;div class=\"box1 fc\"&gt;Facebook&lt;/div&gt;\n                &lt;div class=\"box1 tw\"&gt;Twitter&lt;/div&gt;\n                &lt;div class=\"box1 gg\"&gt;Google&lt;/div&gt;\n                &lt;div class=\"box1 oi\"&gt;Open Id&lt;/div&gt;\n            &lt;/li&gt;&lt;/fieldset&gt;\n\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/section&gt;\n    &lt;section class=\"panels &lt;?php if(!isset($_SESSION['username'])) echo\"unactivepanel\"; else echo\"activepanel\";?&gt;unactivepanel\" id=\"Shipping\"&gt;&lt;/section&gt;\n    &lt;section class=\"panels unactivepanel\" id=\"Confirm\"&gt;&lt;/section&gt;\n</code></pre>\n\n<p>What i have studied is using too many <strong>if</strong> block slows down the executions speed, So am I right using too many <strong>if</strong> blocks ? if I am not coding it right(<em>what i feel right now</em>) then what may be the possible alternatives to <strong>if</strong> blocks ? (I was thinking of using <strong>switch</strong> block.)</p>\n"},{"tags":["php","rectangles"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13265044,"title":"How can I generate a rectangle and a text center aligned in the rectangle in php?(not a text box)","body":"<p>I am trying to create a function that generates an rectangle with some text on it.</p>\n\n<p>I have the following function:</p>\n\n<pre><code>&lt;?php\nfunction  create_image()\n{\n $im = @imagecreate(190, 190)or die(\"Cannot Initialize new GD image stream\");\n $background_color = imagecolorallocate($im, 255, 255, 255);\n imagerectangle($im, 5, 5, $_SESSION['lungime'], 5+$_SESSION['latime'], $black);\n\n for ($i=1, $k=0; $i&lt;=$_SESSION['rand'] ; $i++, $k=$k+12)\n imagettftext($im, 12, 0,5+x/2-(strlen($_SESSION['rand'.$i]))/2, 12+$k, $black, $_SESSION['fontr'.$i], $_SESSION['rand'.$i]);\n\n imagepng($im,\"image.png\");\n imagedestroy($im);\n}\n?&gt;\n</code></pre>\n\n<p>I want the text that is generated within the for loop to be centered in the rectangle. I can't do it with strlen because it returns the number of characters that the string has. How cand I do that?</p>\n\n<p>What about generating a center-aligned text in a generated circle?</p>\n\n<p>Please help me !\nThank you !</p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13264850,"title":"Input keyword & hit Enter key to get result from mysql","body":"<p>here is an idea to select ID from combo box &amp; then it will automatically print data in html form field so that the field can be edit easily. i have 2 files so far- index.html &amp; showData.php. here is the index.html file:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n\n    &lt;script&gt;\n\n        function showData(str)\n        {\n            if (str==\"\")\n            {\n                document.getElementById(\"ajax-content\").innerHTML=\"\";\n                return;\n            } \n\n            // Code for IE7+, Firefox, Chrome, Opera, Safari\n            if (window.XMLHttpRequest)\n            {\n                xmlhttp=new XMLHttpRequest();\n            }\n\n            // Code for IE6, IE5\n            else\n            {\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n\n            xmlhttp.onreadystatechange=function()\n            {\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n                {\n                    document.getElementById(\"ajax-content\").innerHTML=xmlhttp.responseText;\n                }\n            }\n\n            xmlhttp.open(\"GET\",\"showData.php?id=\"+str,true);\n\n            xmlhttp.send();\n        }\n\n    &lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form&gt;\n\n&lt;select name=\"register\" onchange=\"showData(this.value)\"&gt;\n        &lt;option value=\"\"&gt;Select ID:&lt;/option&gt;\n        &lt;option value=\"001\"&gt;001&lt;/option&gt;\n        &lt;option value=\"002\"&gt;002&lt;/option&gt;\n        &lt;option value=\"003\"&gt;003&lt;/option&gt;\n    &lt;/select&gt;   \n\n&lt;/form&gt;\n\n&lt;div id=\"ajax-content\"&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>and here is my showData.php file:</p>\n\n<pre><code>&lt;?php\n\n    // Receive variable from URI\n    $id=$_GET[\"id\"];\n\n    // Connect to your database\n    $con = mysql_connect('localhost', 'root', '');\n    if (!$con)\n    {\n        die('Could not connect: ' . mysql_error());\n    }\n\n    // Select your database\n    mysql_select_db(\"test_01\", $con);\n\n    // Select all fields from your table\n    $sql=\"SELECT * FROM staffdetails WHERE id = '\".$id.\"'\";\n\n    $result = mysql_query($sql);\n\n    while($row = mysql_fetch_array($result))\n    {\n\n        echo \"Staff Name:\" . \"&lt;input type='text' value='\" . $row['name'] . \"'&gt;\";\n        echo \"&lt;/br&gt;\";\n        echo \"Contact No.:\" . \"&lt;input type='text' value='\" . $row['number'] . \"'&gt;\";\n    }\n\n    // Close the connection\n    mysql_close($con);\n\n?&gt;\n</code></pre>\n\n<p>now, what i'm trying to do is to type ID into form field (<em>rather than 'select from list'</em>) and press enter (<strong>without having any 'submit' button</strong>) to get the result on the form's field. anyone can help please?</p>\n"},{"tags":["php","localhost","osx-mountain-lion","php.ini","sessionid"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12976457,"title":"PHP Session ID in URL on localhost","body":"<p>For some reason, my local install of a project I'm working on is adding the PHP session ID to the URLs. This doesn't happen on any other servers. Is there a setting I can change on my end to alter this? I'm using PHP 5.4 on Mac OS 10.8.2</p>\n\n<p>Sample URL: <code>http://localhost/project/subfolder/index.php/admin/game?PHPSESSID=mhnpc0g2c8rijqpkf8lhpfshh7</code></p>\n\n<p>Should be: <code>http://localhost/project/subfolder/index.php/admin/game</code></p>\n\n<p><strong>Update:</strong> I've checked my PHP.ini file and I have the following settings correct, but I'm still getting the session ID in the URL.</p>\n\n<pre><code>session.use_cookies = 1\nsession.use_only_cookies = 1\nsession.use_trans_sid = 0\n</code></pre>\n\n<p>Oh, and for good measure I'm restarting Apache after each change to PHP.ini :-)</p>\n\n<p><strong>2nd Update:</strong> Where else on my mac could an ini file be hiding? Is PEAR messing with this maybe? Thanks all!</p>\n"},{"tags":["c#","php","jquery","xml","rss"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13262991,"title":"Item section of an rss xml - any unique field","body":"<p>I have a specification not to include the description element in a returned rss items to a mobile device. This is because the client claims the description text is too big for the mobile device to handle. The client is now asking there should be a unique field to identify each item that when sent to my application would retrieve the description for that item section.</p>\n\n<p>My question is which of these elements value can be used to identify the item? I read that the <code>&lt;guid&gt;</code> element is not reliable and is an optional element.</p>\n\n<pre><code>  &lt;item&gt;\n    &lt;title&gt;RSS Tutorial&lt;/title&gt;\n    &lt;link&gt;http://www.w3schools.com/rss&lt;/link&gt;\n    &lt;description&gt;New RSS tutorial on W3Schools&lt;/description&gt;\n    &lt;guid&gt;http://www.w3schools.com/rss/item0768&lt;/guid&gt;\n    ...\n    ...\n  &lt;/item&gt;\n</code></pre>\n\n<p>What I currently have in mind now is assume the items will always have a fixed position [1,2,3,4,5]. items[1] will always be items[1]. So I want to add another element <code>&lt;index&gt;i&lt;/index&gt;</code>. Any suggestion? Thanks.</p>\n\n<p><strong>update</strong></p>\n\n<p>I think I need to focus on the implementation at hand. According to the rss specification, sub-elements in the item element are optional, and so is guid. Now it is present in the rss am working with, and I think I'll use that</p>\n"},{"tags":["php","mysql","pdo","parameter-passing","session-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13265072,"title":"Passing PHP Session variable through MySQL command in PDO","body":"<p>I have the following code in PHP. I am trying to pass the log-in value from the session variable into my SELECT command in my database. The ? represents the log-in created in the session. :\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>try {    \n    $conn = new PDO(A_DB_HOST, A_DB_USER, A_DB_PASSWORD);\n    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\n    echo 'Connection failed: ' . $e-&gt;getMessage();\n}\n$member['login'] = $_SESSION['SESS_login'];\n$qry=$conn-&gt;prepare(\"SELECT * FROM {?}_clients WHERE login=?\");\n$qry-&gt;bindParam(1, $_SESSION['SESS_login']);\n$qry-&gt;execute();\n</code></pre>\n\n<p>Currently, I am getting the following error:    </p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[HY093]: Invalid parameter number: number of bound variables does not match number of tokens' in /home/content/14/9957114/html/agent-member-index.php:15 Stack trace: #0 /home/content/14/9957114/html/agent-member-index.php(15): PDOStatement->execute() #1 {main} thrown in /home/content/14/9957114/html/agent-member-index.php on line 15</p>\n</blockquote>\n\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["php","mysql","ajax","select"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13264965,"title":"Return value from select box","body":"<p>I have 3 select boxes drop_1,drop_2 and drop_3. The last 2 are added dynamically on the selection of the previous one. create_promo.php is the page that loads all the boxes. But i have used func.php to load dynamic select boxes.Hence I am not getting drop_2 and drop_3 values in my form processing page promo_process.php called by create_promo.php.I want to send back my drop_2 and drop_3 values back to my create_promo.php. </p>\n\n<p><strong>create_promo.php</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$('#wait_1').hide();\n$('#drop_1').change(function(){\n$('#wait_1').show();\n$('#result_1').hide();\n    $.get(\"func.php\", {\n    func: \"drop_1\",\n    drop_var: $('#drop_1').val()\n    }, function(response){\n    $('#result_1').fadeOut();\n        setTimeout(\"finishAjax('result_1', '\"+escape(response)+\"')\", 400);\n    });\nreturn false;\n});\n});\n\nfunction finishAjax(id, response) {\n    $('#wait_1').hide();\n    $('#'+id).html(unescape(response));\n    $('#'+id).fadeIn();\n}\nfunction finishAjax_tier_three(id, response) {\n    $('#wait_2').hide();\n    $('#'+id).html(unescape(response));\n    $('#'+id).fadeIn();\n}\n&lt;/script&gt;\n\n&lt;form action=\"promo_process.php\" method=\"post\"&gt;\n&lt;tr&gt;\n    &lt;td class=\"normalfont\"&gt;SELECTION 1&lt;/td&gt;\n    &lt;td&gt;\n        &lt;select name=\"drop_1\" id=\"drop_1\"&gt;\n        &lt;option value=\"\" selected=\"selected\" disabled=\"disabled\"&gt;Select 1&lt;/option&gt;\n        &lt;?php getTierOne(); ?&gt;\n        &lt;/select&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;    \n     &lt;td class=\"normalfont\"&gt;SELECTION 2&lt;/td&gt;    \n &lt;td&gt;\n     &lt;span id=\"wait_1\" style=\"display: none;\"&gt;\n     &lt;img alt=\"Please Wait\" src=\"images/ajax-loader.gif\"/&gt;\n     &lt;/span&gt;\n     &lt;span id=\"result_1\" style=\"display: none;\"&gt;&lt;/span&gt;\n     &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n     &lt;td class=\"normalfont\"&gt;SELECTION 3:&lt;/td&gt;\n &lt;td&gt;\n    &lt;span id=\"wait_2\" style=\"display: none;\"&gt;\n        &lt;img alt=\"Please Wait\" src=\"images/ajax-loader.gif\"/&gt;\n    &lt;/span&gt;\n    &lt;span id=\"result_2\" style=\"display: none;\"&gt;&lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/form&gt;\n&lt;?php\n     include('connect.php');\n     function getTierOne()\n     {\n         $result = mysql_query(\"SELECT s_name FROM selection1\") or die(mysql_error());\n         while($tier = mysql_fetch_array( $result )) \n     {\n         echo '&lt;option value=\"'.$tier['s_name'].'\"&gt;'.$tier['s_name'].'&lt;/option&gt;';\n         }\n     }\n?&gt;\n</code></pre>\n\n<p><strong>func.php</strong></p>\n\n<pre><code>&lt;?php\n     include('connect.php');\n     if($_GET['func'] == \"drop_1\" &amp;&amp; isset($_GET['func'])) {\n          drop_1($_GET['drop_var']); \n     }\n     function drop_1($drop_var)\n     {\n          $result = mysql_query(\"SELECT DISTINCT a_name FROM select_2 WHERE s_id=(select s_id from s_name where s_name='$drop_var')\") or die(mysql_error());\n          echo '&lt;select name=\"drop_2\" id=\"drop_2\"&gt;\n                   &lt;option value=\" \" disabled=\"disabled\" selected=\"selected\"&gt;Select 2&lt;/option&gt;\n                   &lt;option value=\"ALL\" &gt;ALL&lt;/option&gt;';\n          while($drop_2 = mysql_fetch_array( $result ))\n          {\n              echo '&lt;option value=\"'.$drop_2['a_name'].'\"&gt;'.$drop_2['a_name'].'&lt;/option&gt;';\n          }\n      echo '&lt;/select&gt;';\n      echo \"&lt;script type=\\\"text/javascript\\\"&gt;\n       $('#wait_2').hide();\n       $('#drop_2').change(function(){\n       $('#wait_2').show();\n       $('#result_2').hide();\n               $.get(\\\"func.php\\\", {\n            func: \\\"drop_2\\\",\n            drop_var: $('#drop_2').val()\n               }, function(response){\n               $('#result_2').fadeOut();\n               setTimeout(\\\"finishAjax_tier_three('result_2', '\\\"+escape(response)+\\\"')\\\", 400);\n               });\n           return false;\n           });\n           &lt;/script&gt;\";\n   }\n   if($_GET['func'] == \"drop_2\" &amp;&amp; isset($_GET['func'])) {\n          drop_2($_GET['drop_var']);\n   }\n   function drop_2($drop_var)\n   {\n          if($drop_var==\"ALL\")\n              $result = mysql_query(\"SELECT DISTINCT h_name FROM select_3\")or die(mysql_error());\n      else  \n      $result = mysql_query(\"SELECT DISTINCT h_name FROM select_3 WHERE a_id=(select a_id from select_2 where a_name='$drop_var')\")or die(mysql_error());\n      echo '&lt;select name=\"drop_3\" id=\"drop_3\"&gt;\n                &lt;option value=\" \" disabled=\"disabled\" selected=\"selected\"&gt;Select 3&lt;/option&gt;\n            &lt;option value=\"ALL\"&gt;ALL&lt;/option&gt;';\n      while($drop_3 = mysql_fetch_array( $result ))\n     {\n    echo '&lt;option value=\"'.$drop_3['h_name'].'\"&gt;'.$drop_3['h_name'].'&lt;/option&gt;';\n         }\n     echo '&lt;/select&gt; ';\n   }\n\n?&gt;\n</code></pre>\n\n<p><strong>promo_process.php</strong></p>\n\n<pre><code>&lt;?php\ninclude 'connect.php';\n$errmsg = array(); //Array to store errors\n$errflag = false; //Error flag\n\n$drop = mysql_real_escape_string($_POST['drop_1']);\n$drop_2 = mysql_real_escape_string($_POST['drop_2']);\n$drop_3 = mysql_real_escape_string($_POST['drop_3']);\nif($drop== ' ' &amp;&amp; $drop_2== ' ' &amp;&amp; $drop_3==' ')\n{\n    $errmsg[] = 'SELECT PLEASE'; //Error\n    $errflag = true; //Set flag so it says theres an error\n}\n\nif($errflag) {\n    $_SESSION['ERRMSG'] = $errmsg; //Write errors\n    session_write_close(); //Close session\n    header(\"location: create_promo.php\"); //Rediect\n    exit(); //Block scripts\n}\n?&gt;\n</code></pre>\n\n<p>I'm getting error saying \"Undefined index drop_1 and drop_2\" in promo_process.php. How do i retain those values?</p>\n"},{"tags":["php","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13264041,"title":"Wordpress Template - \"Catchable fatal error: Object of class __PHP_Incomplete_Class could not be converted to string\"","body":"<p>I'm using the latest version of Wordpress and while writing a new post, i'm getting a following error in place of the optional boxes, located below the writing area:</p>\n\n<blockquote>\n  <p>Catchable fatal error: Object of class __PHP_Incomplete_Class could\n  not be converted to string in\n  /home/xxx/public_html/wp-content/themes/xxx/functions/meta-boxes.php\n  on line 466</p>\n</blockquote>\n\n<p>I've pasted a the problem code below taken from meta-boxes.php</p>\n\n<p>Also, below, i've commented on the 466th line of code to let you know where the point if error is:  </p>\n\n<pre><code> &lt;?php  \n    // get review-specific meta fields\n    global $oswcPostTypes; \n    $postTypeId = get_post_type( $post-&gt;ID );   \n    $postType = $oswcPostTypes-&gt;get_type_by_id($postTypeId);\n    $meta_fields = $postType-&gt;meta_fields;\n    foreach($meta_fields as $meta){\n        //make backwards compatible\n        if(is_object($meta)){\n            $metaName = $meta-&gt;name;\n        }else{\n            $metaName = $meta;\n        }\n        $metaNameSafe = str_replace(\" \",\"_\",$metaName); // **466th line of error**\n        $theMeta = get_post_meta($post-&gt;ID, $metaName, $single = true); ?&gt;      \n        &lt;p&gt;\n        &lt;label for=\"&lt;?php echo $metaNameSafe; ?&gt;\"&gt;&lt;?php echo $metaName; ?&gt;&lt;/label&gt; &lt;/td&gt;\n        &lt;textarea class=\"widefat\" id=\"&lt;?php echo $metaNameSafe; ?&gt;\" name=\"&lt;?php echo $metaNameSafe; ?&gt;\"&gt;&lt;?php echo $theMeta; ?&gt;&lt;/textarea&gt;\n        &lt;/p&gt;\n\n    &lt;?php \n</code></pre>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":11885760,"title":"Page getting loaded multiple times when mod_rewrite enabled (and css missing)","body":"<p>I have enabled <code>mod_rewrite</code> and am using a <code>.htaccess</code> file to pass all requests through <code>index.php</code>.</p>\n\n<p>If I visit the URL's </p>\n\n<pre><code>http://localhost/mysite\n\nhttp://localhost/mysite/abc\n</code></pre>\n\n<p>the page loads once.</p>\n\n<p>However, if I add extra parts to the path, the page loads three times and my css files dont get included:</p>\n\n<pre><code>http://localhost/mysite/abc/xyz\n\nhttp://localhost/mysite/abc/xyz/ttt\n</code></pre>\n\n<p>etc...</p>\n\n<p>All cause the page to load three times. I can see this as I have a breakpoint set in <code>index.php</code> in <strong>Eclipse</strong>.</p>\n\n<p>Here is my <code>.htaccess</code> file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n\n  # Block access to \"hidden\" directories whose names begin with a period. \n  # Files whose names begin with a period are protected by the FilesMatch directive\n  # above.\n  RewriteRule \"(^|/)\\.\" - [F]\n\n  # Pass all requests not referring directly to files in the filesystem to\n  # index.php. Clean URLs are handled in drupal_environment_initialize().\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^ index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Any ideas why the page is getting loaded multiple times and the css is missing?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13264373,"title":"PHP fopen forloops","body":"<p>I'm not exactly sure why this isn't working I tried googling it to see if there was a answer a lot of them came up with a foreachloop instead of regular for loops can someone explain to me why this isn't working.</p>\n\n<pre><code>&lt;?php\n$list = array(\"GOOG\", \"AAP\", \"MSFT\");\n\n    for($i=0; $i&lt;3; $i++)\n    {\n        echo \"why isn't this working &lt;br&gt;\";\n\n        $fp = fopen (\"http://finance.yahoo.com/d/quotes.csv?s=GOOG&amp;f=sl1ve1x&amp;e=.csv\",\"r\");\n        $data = fgetcsv ($fp, 1000, \",\");\n        $exit = str_replace('\"',\"\",$data[3]);\n        $exchange = str_replace('\"',\"\",$data[4]);\n\n        echo \"$data[0] &lt;br&gt;\";\n        echo \"$data[1] &lt;br&gt;\";\n        echo \"$data[2] &lt;br&gt;\";\n\n    }\n?&gt;\n</code></pre>\n\n<p>I expected it to print google info 3 times it doesn't if I take fopen out by itself once it works but if I do it multiple times it just doesn't do anything what I expected is </p>\n\n<p>output ex </p>\n\n<pre><code>why isn't this work\nGoog\n8398\n789\nwhy isn't this work\nGoog\n8398\n789\nwhy isn't this work\nGoog\n8398\n789\n</code></pre>\n"},{"tags":["php","kohana"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13147768,"title":"Kohana ORM update, insert or delete to return number of affected rows","body":"<p>How can I get the number of affected rows after create, update or delete using ORM for Kohana?  I checked the main class but don't return that value... </p>\n\n<p>If there any possible solution to do this, please let me know.  If it is possible not use the Query Builder, i prefer use only the ORM class.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","php","eclipse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13225583,"title":"have common eclipse feature project for 2 different sub projects","body":"<p>I have an eclipse plugin project one for java and another for PHP. Both have some classes in common. \nRight now I am creating two separate feature projects for both of them. Is there a way or is it good to separate out the common classes and make a feature. Then have two dependent feature one each for java and php.</p>\n\n<p>how can i separate out the common classes and make a feature, and have two other features dependent on it?</p>\n"},{"tags":["php","date"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":33,"score":-6,"question_id":13264721,"title":"PHP specified date is greater than today","body":"<p>I want php codes which will be like this:\n<strong>if a specified date (2012-11-30) is greater than today then it will show echo \"valid\" else echo \"not valid\"</strong></p>\n"},{"tags":["php","eclipse"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":38,"score":-6,"question_id":13264297,"title":"How to install eclipse for php on windows7","body":"<p>I want to install Eclipse for PHP.</p>\n\n<p>I download Eclipse \"PDT 3.0.2 w/Eclipse indigo\" to my folder \"c:\\eclipse\" and extract the zip file.</p>\n\n<p>I am also download \"jre-6u37-windows-94.exe\" and install it successfully.</p>\n\n<p>The problem is when I try to run the file eclipse.exe I get error.</p>\n\n<p><strong>A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:\nc:\\eclipse\\jre\\bin\\javaw.exe\njavaw.exe in your current PATH</strong></p>\n\n<p>The jre installed in directory.</p>\n\n<p><strong>c:\\Program Files (x86)\\java\\jre7\\bin</strong></p>\n\n<p>What should I do for running successfully the eclipse.</p>\n\n<p>this is my confog.ini</p>\n\n<pre><code>#This configuration file was written by: org.eclipse.equinox.internal.frameworkadmin.equinox.EquinoxFwConfigFileParser\n#Mon Jun 11 14:17:27 IDT 2012\norg.eclipse.update.reconcile=false\neclipse.p2.profile=pdtProfile\nosgi.framework=file\\:plugins/org.eclipse.osgi_3.7.2.v20120110-1415.jar\nequinox.use.ds=true\nosgi.bundles=reference\\:file\\:org.eclipse.equinox.simpleconfigurator_1.0.200.v20110815-1438.jar@1\\:start\norg.eclipse.equinox.simpleconfigurator.configUrl=file\\:org.eclipse.equinox.simpleconfigurator/bundles.info\neclipse.product=org.zend.php.product\nosgi.splashPath=vplatform\\:/base/plugins/org.zend.php\nosgi.framework.extensions=\nosgi.bundles.defaultStartLevel=4\neclipse.p2.data.area=@config.dir/../p2\neclipse.application=org.eclipse.ui.ide.workbench\n\norg.zend.php.customization.site.url=http\\://downloads.zend.com/studio-eclipse/updates-extra/9_0,http\\://downloads.zend.com/studio-eclipse/updates/9_0\n</code></pre>\n\n<p>should I add the line <code>-vm Path=c:\\Program Files(86)\\Java\\jre7\\bin</code> to top file ?</p>\n\n<p>Becose it is not working</p>\n\n<p>Many Thanks.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":72,"score":8,"question_id":13245118,"title":"Project Euler #19 code seems right. What am I missing?","body":"<p>** Please stop reading right now if you have any interest in working through this exercise on your own! **</p>\n\n<p><strong>Problem 19:</strong></p>\n\n<blockquote>\n  <p>You are given the following information, but you may prefer to do some\n  research for yourself.</p>\n  \n  <p>1 Jan 1900 was a Monday. </p>\n  \n  <p>Thirty days has September, April, June and\n  November. </p>\n  \n  <p>All the rest have thirty-one, Saving February alone, Which\n  has twenty-eight, rain or shine. And on leap years, twenty-nine. </p>\n  \n  <p>A leap year occurs on any year evenly divisible by 4, but not on a\n  century unless it is divisible by 400. </p>\n  \n  <p><strong>How many Sundays fell on the\n  first of the month during the twentieth century (1 Jan 1901 to 31 Dec\n  2000)?</strong></p>\n</blockquote>\n\n<p>I thought that using PHP for this would be a breeze since it has so many built in time and date functions. My code is really quite simple, so I'm having a hard time seeing what I'm doing that's wrong. </p>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>&lt;?php\n\necho \"&lt;pre&gt;\";\n\n$sunday_count = 0;\n\nfor( $year = 1901; $year &lt;= 2000; $year++ ) {\n\n    for( $month = 1; $month &lt;= 12; $month++ ) {\n\n        // Produces a date in format: 1/1/2000\n        $date = $month . \"/1/\" . $year;\n\n        $time = strtotime( $date );\n\n        $is_sunday = ( date( 'l', $time ) == \"Sunday\" );\n\n        echo \"$date \"\n           . ( $is_sunday ? 'was a Sunday. ' : '' )\n           . \"&lt;br&gt;\";\n\n        if( $is_sunday ) $sunday_count++;\n\n    }\n\n}\n\necho \"Answer: $sunday_count\";\n\necho \"&lt;/pre&gt;\";\n\n?&gt;\n</code></pre>\n\n<p>The solution my code comes up with is 169, which is not correct. Any idea?</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>The solution is supposed to be 171.</p>\n\n<p>Using Wolfram Alpha and my Windows clock, I've doubled checked several of the Sundays which my code reports. All of them check out OK.</p>\n\n<p>So it seems my code is reporting valid and legitimate Sundays, but somehow it has missed two of them.</p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>I made the following minor change to the formatting of the date in my code:</p>\n\n<pre><code>$date = sprintf('%d-%02d-01', $year, $month); // formats yyyy-mm-dd\n</code></pre>\n\n<p>I then used @MadaraUchiha's code to generate an array containing the 171 correct dates.</p>\n\n<p>After comparing his dates with mine, these are the two missed dates:</p>\n\n<blockquote>\n  <p>1901-09-01</p>\n  \n  <p>1901-12-01</p>\n</blockquote>\n\n<p><strong>Edit 3</strong></p>\n\n<p><a href=\"http://codepad.org/hHHKqJQ6\" rel=\"nofollow\">Codepad also shows</a> that these dates are not Sundays (but they really should be).</p>\n\n<p>And I am certain that the dates are correctly being interpreted as YYYY-MM-DD because one of the dates my code offers to the solution is 2000-10-01, which would only be a Sunday if 10 is the month, not the day.</p>\n\n<p><strong>Edit 4</strong></p>\n\n<p>So apparently if on a 32 bit system, Unix timestamps won't work outside of the range:</p>\n\n<p>Fri, 13 Dec 1901 20:45:54 GMT </p>\n\n<p>to </p>\n\n<p>Tue, 19 Jan 2038 03:14:07 GMT</p>\n\n<p>Thanks Emil.</p>\n"},{"tags":["php","xml","simplexml"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":7759,"score":1,"question_id":1347033,"title":"Parsing google calendar XML feed","body":"<p>I've got XML feed from public google calendar. Looks like this:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n    &lt;feed xmlns='................' xmlns:gd='http://schemas.google.com/g/2005'&gt;\n    \t&lt;id&gt;http://www.google.com/calendar/feeds/........./public/full&lt;/id&gt;\n    \t&lt;updated&gt;2009-08-24T10:57:00.000Z&lt;/updated&gt;\n    \t&lt;category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/g/2005#event'/&gt;\n    \t\t&lt;title type='text'&gt;Sports Events&lt;/title&gt;\n    .....\n\t\t&lt;entry&gt;\n\t\t\t&lt;id&gt;...........&lt;/id&gt;\n\t\t\t&lt;published&gt;2009-08-14T00:29:58.000Z&lt;/published&gt;\n\t\t\t&lt;updated&gt;2009-08-14T00:29:58.000Z&lt;/updated&gt;\n\t\t\t&lt;category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/g/2005#event'/&gt;\n..............\n\t\t\t&lt;georss:where&gt;\n\t\t\t\t&lt;gml:Point&gt;\n\t\t\t\t\t&lt;gml:pos&gt;11.111111 -22.22222&lt;/gml:pos&gt;\n\t\t\t\t&lt;/gml:Point&gt;\n\t\t\t&lt;/georss:where&gt;\n\t\t\t&lt;gd:eventStatus value='http://schemas.google.com/g/2005#event.confirmed'/&gt;\n\t\t\t&lt;gd:transparency value='http://schemas.google.com/g/2005#event.transparent'/&gt;\n\t\t\t&lt;gCal:uid value='.........@google.com'/&gt;\n\t\t\t&lt;gCal:sequence value='0'/&gt;\n\t\t\t&lt;gd:when startTime='2009-10-03' endTime='2009-10-04'/&gt;\n\n.............\n</code></pre>\n\n<p>Now to PHP:</p>\n\n<pre><code>$calendar = simplexml_load_file('http://my.feed.com');\nforeach ($calendar-&gt;entry as $item) {\n    //here I get the whole &lt;entry&gt; node\n    $gd = $item-&gt;children('http://schemas.google.com/g/2005');\n    // now in $gd I have all nodes like &lt;gd:XXXXX&gt;\n}\n</code></pre>\n\n<p>The problem is how to get value from here?</p>\n\n<pre><code>&lt;gml:pos&gt;11.111111 -22.22222&lt;/gml:pos&gt;\n</code></pre>\n\n<p>Its not present in my $gd variable, how to get this node?</p>\n"},{"tags":["php","class","redeclare"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13264377,"title":"Cannot redeclare classX in classX.php?","body":"<p>I've searched for similar questions but didn't find any. The usual problem is that a certain class cannot be redeclared in another class, and so the solution is to use \"require_once\" or \"include_once\". But my error is not allowing the class itself to redeclared!</p>\n\n<p>Let me explain, I have two classes, <code>Design</code> and <code>DesignSide</code>.\nI have a bunch of PHP files where I use these two classes.\n- build_design.php,\n- browse_designs.php, which gives an AJAX call to\n- load_designs.php </p>\n\n<p>Each design can have a few sides to it, so all 3 files above include the line:</p>\n\n<pre><code>require_once(\"Design.php\");\n</code></pre>\n\n<p>and <code>Design.php</code> has the line:</p>\n\n<pre><code>require_once(\"DesignSide.php\");\n</code></pre>\n\n<p>But on build_design.php, my error is:</p>\n\n<pre><code>Fatal error: Cannot redeclare class DesignSide in ../classes/DesignSide.php on line 4\n</code></pre>\n\n<p>i.e. it's objecting to DesignSide declaring itself! These are the beginning lines of DesignSide:</p>\n\n<pre><code>&lt;?php\n\nclass DesignSide\n{\nprivate $id;\nprivate $data;\nprivate $designtag;\nprivate $side;\n</code></pre>\n\n<p>What's wrong? </p>\n"},{"tags":["php","xml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13222424,"title":"How do I process XML string in order using PHP","body":"<p>I have an XML file which contains text with some very simple layout constructs:</p>\n\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;page&gt;\n  &lt;section&gt;\n    &lt;header&gt;Header&lt;/header&gt;\n    &lt;par&gt;Some paragraph&lt;/par&gt;\n    &lt;par&gt;Another paragraph with &lt;emph&gt;formatting&lt;/emph&gt;&lt;/par&gt;\n  &lt;/section&gt;\n&lt;/page&gt;\n</code></pre>\n\n<p>In PHP then I read this file using SimpleXML (Note that I intentionally strip other tags!):</p>\n\n<pre><code>$page = file_get_contents(\"page.xml\");\nif ($page) {\n  $stripped = strip_tags($page, \"&lt;?xml&gt;&lt;page&gt;&lt;section&gt;&lt;header&gt;&lt;par&gt;&lt;emph&gt;\");\n  $xml = new SimpleXMLElement($stripped);\n}\n</code></pre>\n\n<p>Now I would like to iterate over the XML elements and print them <em>in order</em> as HTML for my website. The final result should be the following snippet:</p>\n\n<pre><code>&lt;h1&gt;Header&lt;/h1&gt;\n&lt;p&gt;Some paragraph\n&lt;p&gt;Another paragraph with &lt;i&gt;formatting&lt;/i&gt;\n</code></pre>\n\n<p>I've noodled through SimpleXML and XPath and tried to figure out how I can iterate over the XML tree <em>in order</em> so that I can digest the original XML file into HTML output.  I can produce a somewhat desired result but the <code>&lt;emph&gt;&lt;/emph&gt;</code> is just gone; how do I descent further into the tree?  My code so far:</p>\n\n<pre><code>foreach ($xml-&gt;section as $s) {\n  echo \"&lt;h1&gt;\" . $s-&gt;header . \"&lt;/h1&gt;\";\n  foreach ($s-&gt;par as $p) {\n    echo \"&lt;p&gt;\" . $p;\n    //  Do some magic here to ensure &lt;emph&gt; tags are recognized and responded to properly.\n  }\n}\n</code></pre>\n\n<p>Any hints and pointers are appreciated! Thanks :-)</p>\n"},{"tags":["php","ajax","zend-framework","zend-form"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13263901,"title":"Zend form/subform partial render","body":"<p>I am building a form using Zend_Form ... i need to add some fields to the form dynamically (jquery/ajax) ... i created a subform for each set of fields that need to be created at runtime ...\nto get my elements in an array with correct names like <code>subform1[index][element]</code> , i added 2 more subform :\nsubform1 : a wrapper rendered as a field set \nsubform2 : a container that plays the <code>index</code> part of the names\nelements subform : this is main subform that holds the elements</p>\n\n<p>the subform2 and elements part gets repeated for each set of new elements ... </p>\n\n<p>now everything works fine when form is created and rendered in the view , i get the correct names (<code>subform1[index][element]</code>) ...</p>\n\n<p>but when i use ajax to generate new elements i don't know how to render the form and get the subform2 part with correct names ...</p>\n\n<p>this is the function that creates the subforms :</p>\n\n<pre><code>    private function makeSubForm($id, $legend)\n    {\n        $wrapper = new Zend_Form_SubForm();\n        $wrapper-&gt;setOptions(array('legend' =&gt; $legend, 'class' =&gt; 'ui-corner-all multi_value'))\n            -&gt;setIsArray(true);\n\n        $array = $this-&gt;_getArray($id);\n        //-------------------------LOOP--------------------------\n        $form_name = \"Application_Form_Employ_$id\";\n//        var_dump($array);\n        foreach ($array as $key =&gt; $value) {\n\n            $form = new $form_name();\n\n            $container = new Zend_Form_SubForm();\n            $container-&gt;setOptions(array('class' =&gt; 'subform'))\n                -&gt;setIsArray(true)\n                -&gt;addSubForm($form, 'xxxxx');\n\n            $wrapper-&gt;addSubForm($container, $key);\n        }\n        Zend_Registry::get('session')-&gt;{$id} = $array;\n        //----------------------------------------------------------\n\n        $this-&gt;addSubForm($wrapper, $id);\n    }\n</code></pre>\n\n<p>and this is my action method :</p>\n\n<pre><code>    public function newElementAction()\n    {\n        $this-&gt;_disableView();\n        $id = $this-&gt;getRequest()-&gt;getParam('id');\n        $form = new Application_Form_Employment();\n        $params = array();\n        $keys = Zend_Registry::get('session')-&gt;{$id};\n        $lastKey = end(array_keys($keys));\n        $keys[++$lastKey] = array();\n\n        $params[$id] = $keys;\n//        var_dump($params);\n        $form-&gt;create($params);\n//        $form-&gt;render();\n\n        $this-&gt;_response-&gt;appendBody($form-&gt;getSubForm($id)-&gt;getSubForm($lastKey));\n    }\n</code></pre>\n\n<p>with this code i get <code>subform2[element]</code> as my names ...\nbut if i uncomment <code>$form-&gt;render();</code> i get <code>subform1[subform2][subform1][subform2][element]</code></p>\n\n<p>so how can i get the second subform's HTML with correct names ?</p>\n\n<hr>\n\n<p>well i found a hack to get what i want but i am looking for a better way ...</p>\n\n<pre><code>public function newElementAction()\n{\n    $this-&gt;_disableView();\n    $id = $this-&gt;getRequest()-&gt;getParam('id');\n    $form = new Application_Form_Employment();\n    $params = array();\n    $keys = Zend_Registry::get('session')-&gt;{$id};\n    $lastKey = end(array_keys($keys));\n    $keys = array(++$lastKey =&gt; array());\n\n    $params[$id] = $keys;\n    $form-&gt;create($params, $id);\n\n    $this-&gt;_response-&gt;appendBody($form-&gt;{$id});\n}\n</code></pre>\n\n<p>i created only the last child and outputed the parent\nand in the client side removed the parents markup before inserting into page ...</p>\n\n<p>there has to be a solid way to just render the subform with its parents indexes intact !!??</p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13264656,"title":"Find ID in Database Table and Select Value from Column","body":"<p>Okay, so first allow me to outline what I'm trying to do. I want to display a DIV in my view that's only displayed to users of a certain 'subscription' type.</p>\n\n<p>So I'm searching the 'subscriptions' table using the user's session ID to find their subscription on the database (subscriptions are stored with user id as primary). Once their row is found with their subscription, I want to grab the value from the \"subscription\" column. If the value equals \"freebie\" I want to echo a statement (I will add a function here once i get it to work obviously).</p>\n\n<p>Here's what I've come up with...what am I doing wrong? Not working and I'm receiving no error.</p>\n\n<pre><code>    // show appropiate upgrade message if user has free account\n\n    $id = $this-&gt;session-&gt;userdata('user_id'); \n\n    $this-&gt;db-&gt;select('subscription');\n    $this -&gt; db -&gt; where('id', '$id');\n    $query = $this -&gt; db -&gt; get(\"subscriptions\");\n    $subscribe = $query -&gt; result();\n\n    if($subscribe == 'freebie')\n    {\n        echo 'function goes here';\n    }\n</code></pre>\n"},{"tags":["php","linux","unix","exec"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13228974,"title":"exec(\"touch\"); Not running in PHP","body":"<p>I need to modify the file date change using my php script. At my localhost, I used XAMPP running in Windows 7. I had no problem using PHP <a href=\"http://www.php.net/manual/en/function.touch.php\" rel=\"nofollow\">touch</a> and is working properly as I want it to be. </p>\n\n<p>Yet, when I uploaded it to my production, LINUX OS the PHP <code>touch</code> is not working anymore. I investigated it and found that, Linux, doesn't allow PHP <code>touch</code> or doesn't allow anybody to change file mod date. </p>\n\n<p>That's why I use <a href=\"http://php.net/manual/en/function.exec.php\" rel=\"nofollow\">exec(\"touch filename.txt\")</a> instead and it working properly, but when I use this code</p>\n\n<pre><code>exec(\"touch -t 201204040000.00 filename.txt\");\n</code></pre>\n\n<p>It doesn't do what it must, am I missing something here?</p>\n\n<p>These are my references:</p>\n\n<ul>\n<li><a href=\"http://linux.about.com/library/cmd/blcmdl_touch.htm\" rel=\"nofollow\">Linux / Unix Command: touch</a></li>\n<li><a href=\"http://linux.101hacks.com/unix/touch/\" rel=\"nofollow\">3 UNIX / Linux touch Command Examples</a></li>\n</ul>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>ls -l filename.txt\n-rw-r--r-- 1 2012-11-04 12:00 filename.txt //supposed that 2012-11-04 12:00 is the original mod date of the file\n</code></pre>\n\n<p>If i run this code: </p>\n\n<pre><code>exec(\"touch filename.txt\");\nls -l filename.txt\n-rw-r--r-- 1 2012-11-05 11:00 filename.txt //supposed that 2012-11-05 11:00 is the current timestamp\n</code></pre>\n\n<p>The above code is working properly on me as everyone see.\nBut if i run it like this:</p>\n\n<pre><code>exec(\"touch -t 201204040000.00 filename.txt\");\nls -l filename.txt\n-rw-r--r-- 1 2012-11-05 11:00 filename.txt //The mod date doesn't changed at all.\n</code></pre>\n"},{"tags":["php","linux","graphics","lamp"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":849,"score":4,"question_id":7708534,"title":"Create a thumbnail preview of documents (PDF, DOC, XLS, etc.) in PHP (LAMP)","body":"<p>When users upload certain files to my site (such as .doc, .xls, .pdf, etc) I'd like to be able to generate a preview thumbnail (of the first page of the document). I'm working with PHP in a LAMP stack but would be happy with any library or command-line tool that can do the job (Linux highly preferred).</p>\n"},{"tags":["php","javascript","facebook"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4133,"score":2,"question_id":5789964,"title":"Check Facebook login status: Client side vs Server side","body":"<p>In the website that I am building, I need to check whether or not the user is logged in to facebook. I have two possibilities. I can either do it on the server side, using PHP code like following:</p>\n\n<pre><code>$facebook = new Facebook(array(\n                'appId'  =&gt; _FACEBOOK_APP_ID,\n                'secret' =&gt; _FACEBOOK_SECRET,\n                'cookie' =&gt; true));\n$me = $facebook-&gt;api(\"/me\");\nif (isset($me[\"id\"]) {\n    // User is logged in.\n} else {\n    // User is not logged in.\n}\n</code></pre>\n\n<p>Alternatively, I can do it on the client side, using javascript like following:</p>\n\n<pre><code>FB.getSession();\nif (session != null) {\n    // User is logged in.\n} else {\n    // User is not logged in\n}\n</code></pre>\n\n<p>I am wondering what are the pros and cons of the two approaches.</p>\n"},{"tags":["php","mongodb"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13264554,"title":"Mongoexport remove ellipsis","body":"<p>I am trying to export data from MongoDB using this query..</p>\n\n<pre><code>mongoexport -d dbName -c myCollection -f title,meta,contents --csv -o test_export.csv \n</code></pre>\n\n<p>the problem is,when I open the generated csv file, the content field data has ellipsis and doesn't get the exact content, how can I able to remove this ellipsis and get the exact data content?</p>\n"},{"tags":["php","arrays"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13251045,"title":"array sorting in DESC order","body":"<p>How can I sort inner array keys in DESC order?</p>\n\n<p>I can sort 11, 12 in DESC order with <code>arsort()</code> but inner array remains same. I tried <code>array_multisort()</code>, <code>usort()</code> and others but without luck.</p>\n\n<pre><code>Array\n(\n    [11] =&gt; Array\n        (\n            [4] =&gt; apr11timetable.php\n            [8] =&gt; aug11timetable.php\n            [6] =&gt; jun11timetable.php\n            [11] =&gt; nov11timetable.php\n            [10] =&gt; oct11timetable.php\n        )\n    [12] =&gt; Array\n        (\n            [4] =&gt; apr12timetable.php\n            [8] =&gt; aug12timetable.php\n            [2] =&gt; feb12timetable.php\n            [6] =&gt; jun12timetable.php\n            [10] =&gt; oct12timetable.php\n        )\n)\n</code></pre>\n"},{"tags":["php","mysql","oop","session","handler"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":13258311,"title":"custom database session handler - specific read issue","body":"<p>i have a very specific problem regarding a custom session handler using a mysql database. I looked through other topics since there are some topics here involving custom session handler but no one of them answered my question. \nI use a custom session handler in a class called \"sessions\":</p>\n\n<pre><code>require_once \"mySQL.php\";\n\nclass sessions {\nprivate $db;\npublic function __construct(){\n    $this-&gt;db=new mySQL('localhost', user, pw, database);\n    session_set_save_handler(array(&amp;$this,\"open\"),\n                     array(&amp;$this,\"close\"),\n                     array(&amp;$this,\"read\"),\n                     array(&amp;$this,\"write\"),\n                     array(&amp;$this,\"destroy\"),\n                     array(&amp;$this,\"gc\"));\n    register_shutdown_function('session_write_close');\n    session_start();\n} \npublic function read($sessionID){\n    $abfrage=\"SELECT * FROM sessions WHERE id='\".$sessionID.\"'\";\n    $result= $this-&gt;db-&gt;query($abfrage);\n    if ($result == false){\n        return '';\n    }\n    if (count($result) &gt; 0){\n        return $result[0][\"value\"];\n    }\n    else{ \n    return '';\n    }\n}\n</code></pre>\n\n<p>In \"mySQL.php\" there is just a class \"mySQL\" written which creates a mysqli connection to the database. This is working and not the problem. I would like to draw the focus to the \"read\" routine because this seems to be the primary problem. If i now create a session via</p>\n\n<pre><code>require_once \"classes/sessions.php\";\n$SESSION=new sessions();\n$token=hash(\"sha256\",session_id().time());\n$_SESSION['token']=$token;\n$_SESSION['running']=1\n</code></pre>\n\n<p>and write values into the session the right database value is created:</p>\n\n<pre><code>id (varchar 64) = 54ul84nhc3aimqc55efcs49js4\nlastUpdated (int 11) = 1352226239\nstart (int 11) = 1352226233\nvalue (varchar 20000) =     token|s:64:\"2b92aa848a86741ef11d800c3dce527fdcee264f50de10381941241c3d9cc9ee\";running|i:1;\n</code></pre>\n\n<p>and even the garbage collector works fine but when i reload the page and try to echo </p>\n\n<pre><code>$_SESSION['running']\n</code></pre>\n\n<p>i get the error \"Notice:Undefined index: running\". A debugger run informed that the above posted read routine returns 1 (which would be equal to the boolean \"true\"?!) instead of the value. I checked that the \"sessionID\" in the read routine for that case was the one in the session table, so i'm basically lost. It would be very nice if you can help me, because so far i'm already impressed of the possibilities offered by such custom session handler.</p>\n\n<p>Perhaps it's possible to pose also a side question here. Is it right that when i reload the page the constructor of sessions is called by \"$SESSION=new sessions();\" even when there is already a session running (however this behaviour does not change the session_id)? Or is this due to my broken session read routine?</p>\n\n<p>Thank you for your help.</p>\n\n<p>EDIT: I'm using PHP/5.4.4 and MySQL 5.5.25a in a xampp distribution along with phpmyAdmin 3.5.2 to set up the database. The session table is a table of format \"MEMORY\", that's why i'm using a varchar 20000 field instead of a text field. I just saw this article <a href=\"http://stackoverflow.com/questions/6208156/why-does-mysql-query-return-true-with-a-select-statement\">Why does mysql_query() return TRUE with a SELECT statement?</a>\nstating that a mysql_query returns true from time to time when the server interrupts connections suddenly. However i can't fiddle out what may be the reason for this.\nI'm adding now the mySQL class, perhaps a error in there is involved in this problem:</p>\n\n<pre><code>&lt;?php\nclass mySQL\n{\npublic $mySQLiObj;\npublic $lastSQLQuery;\npublic $lastSQLStatus;\npublic $lastInsertID;\npublic function __construct($server,$user,$password,$db,$port=\"3306\"){\n    //erstelle db-objekt\n    $this-&gt;mySQLiObj= new mysqli($server,$user,$password,$db,$port);\n    if (mysqli_connect_errno()){\n        echo \"Keine Verbindung zum MySQL-Server möglich.\";\n        trigger_error(\"MYSQL-Connection-Error\",E_USER_ERROR);           \n        die();\n    }\n    //Zeichensatz auf utf8 setzen\n    $this-&gt;query(\"SET NAMES utf8\");\n}\npublic function __destruct(){\n    $this-&gt;mySQLiObj-&gt;close();\n}\npublic function query($sqlQuery,$resultset=false){\n    $this-&gt;lastSQLQuery=$sqlQuery;\n    $result=$this-&gt;mySQLiObj-&gt;query($sqlQuery);\n    if($resultset == true){\n        if($result == false) {\n            $this-&gt;lastSQLStatus=false;\n        }\n        else\n        {\n            $this-&gt;lastSQLStatus = true;\n        }\n        return $result;\n    }\n    if($resultset == false) {\n        $return = $this-&gt;makeArrayResult($result);\n        return $return;\n    }\n}\nprivate function makeArrayResult($ResultObj){\n    if ($ResultObj==false){\n        //Fehler aufgetreten\n        $this-&gt;lastSQLStatus=false;\n        return false;\n    }\n    else if ($ResultObj == true) {\n        //UPDATE,INSERT etc. statement es wird nur true zurückgegeben\n        $this-&gt;lastSQLStatus = true;\n        $this-&gt;lastInsertID = $this-&gt;mySQLiObj-&gt;insert_id;\n        return true;\n    }\n    else if ($ResultObj-&gt;num_rows == 0){\n        //Kein Ergebnis bei SELECT,SHOW,DESCRIBE oder EXPLAIN Statement\n        $this-&gt;lastSQLStatus = true;\n        return array();\n    }\n    else {\n        $array = array();\n        while($line = $ResultObj-&gt;fetch_array(MYSQLI_ASSOC)){\n            array_push($array,$line);\n        }\n        $this-&gt;lastSQLStatus=true;\n        return $array;\n    }\n}\n</code></pre>\n\n<p>}\n?></p>\n"},{"tags":["php","magento"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13263663,"title":"Magento call cms page through anchor tag","body":"<p>I want something like this <br>\n <code>&lt;a href=\"&lt;?php echo getcmsurl('Faqs')\"&gt;FaQ's&lt;/a&gt;</code></p>\n\n<p>means on clicking FAQ's ,cms page created named <code>faqs</code> from admin panel would be linked (called) and displayed.<br>Or is there any other way ?<br>Thanks.</p>\n"},{"tags":["php","wordpress","wordpress-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13263302,"title":"Wordpress Custom tables plugin","body":"<p>How to resolve this warning which is shown when I use \"<strong>custom tables</strong>\" plugin for Wordpress?\nCan anybody help me please</p>\n\n<p><strong>Warning: Invalid argument supplied for foreach() in ..\\wp-content\\plugins\\custom-tables\\pages\\show_table.php on line 378</strong></p>\n\n<p>URL of this plugin\n<a href=\"http://wordpress.org/extend/plugins/custom-tables/\" rel=\"nofollow\">http://wordpress.org/extend/plugins/custom-tables/</a> </p>\n"},{"tags":["php","session","login","undefined","notice"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":58,"score":-1,"question_id":13264263,"title":"PHP Undefined constant notice","body":"<p>Error:</p>\n\n<pre><code>Notice: Use of undefined constant password - assumed 'password' in \n/vagrant/web/NewProject/Person.php on line 171 Call Stack: 0.0010 636808 1. {main}()\n/vagrant/web/NewProject/login.php:0 0.0019 654112 2. Person-&gt;login() \nvagrant/web/NewProject/login.php:37 \n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>public function login()\n{\n $errorArray = array();   \n\n    $expectedValues = array(\n        \"username\"   =&gt; \"Username\",\n        \"password\"   =&gt; \"Password\",\n                      );\n\n   //Checking to see if all fields are filled in \n    try{\n        foreach ($expectedValues as $field =&gt; $humanName) { \n        if (empty($_POST[$field])) { \n                $errorArray[] = $humanName . \", \";\n            }\n        }   \n\n    if (count($errorArray) &gt; 0) {  \n          $result = rtrim(implode(' ', $errorArray), ', ');\n              throw new Exception(\"&lt;h2&gt;\" . \"&lt;span&gt;\" . \"Error\" . \"&lt;/span&gt;\" . \": The following fields are empty- \" . $result . \"&lt;/h2&gt;\");\n    }\n\n\n    else{\n\n       //If they are, retreive them from the Person table    \n\n        $select = $this-&gt; doQuery(\"SELECT * from Person where username = '$_POST[username]' and password = '\".md5($_POST['password']).\"'\"); &lt;---- Line 171\n         var_dump($select);  \n\n            try {    \n                if ($select){\n                    if (mysqli_num_rows($select) &gt; 0){\n\n                        //fetching username and password from database\n                        $fetch_array = mysqli_fetch_assoc($select);\n\n                        //Building a session for the user\n            $_SESSION['username'] = $fetch_array['username'];\n                        //$_SESSION['user_id'] = $fetch_array['id'];\n            var_dump($_SESSION['username']);\n\n                        //Redirecting the user to the index page        \n            header('Location:index.php');\n            return true;\n                    }\n                }\n\n\n              //If not, throw an exception    \n\n                else {\n                    throw new Exception\n                    (\"&lt;h3&gt;\" . \"&lt;span&gt;\" . \"Error\" . \"&lt;/span&gt;\" . \": Query was unsuccessful: No record found.\" .  \"&lt;/h3&gt;\");\n                }\n            }\n\n            catch (Exception $e){\n                echo $e-&gt;getMessage();\n            }   \n    }\n\n   }\n   catch (Exception $x){\n        echo $x-&gt;getMessage();\n        }    \n\n}\n</code></pre>\n\n<p>I tried changing this:</p>\n\n<pre><code>'\".md5($_POST[password]).\"'\n</code></pre>\n\n<p>to this: </p>\n\n<pre><code>'\".md5($_POST['password']).\"'\n</code></pre>\n\n<p>And the notice went away but it didn't redirect me to the index page when I typed in a valid username and pass like I wanted my code to do. When I typed in an invalid username and pass, it just did the same thing as when I typed in a valid one, which was nothing. That makes me think (correct me if I'm wrong) that the session is not actually being created.</p>\n\n<p>This is what I get when I var_dump $select:</p>\n\n<pre><code>object(mysqli_result)#3 (5) { [\"current_field\"]=&gt; int(0) [\"field_count\"]=&gt; int(8) [\"lengths\"]=&gt; NULL [\"num_rows\"]=&gt; int(0) [\"type\"]=&gt; int(0) } \n</code></pre>\n\n<p>I get nothing when I var_dump $fetch_array or $_SESSION['username']</p>\n\n<p>If anyone has any idea where I'm screwing up (and I know I am badly), your help would be most appreciated :]</p>\n"},{"tags":["php","loops","joomla","blank-page"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":34,"score":0,"question_id":13264237,"title":"Showing blank page in php when i am loading huge loop","body":"<p>I have 5 loops in my page. my code is php in joomla. when count of results is not many (for example 100 , or 110 records) it works fine.\nBut when my result is more than this , it will show just a blank page.\nI added this codes too :</p>\n\n<pre><code>ini_set('display_errors',1);\nini_set('error_reporting',E_ALL);\n</code></pre>\n\n<p>but it could not help me and I will see just a blank page.</p>\n\n<p>Point: I moved my site to new server. old server worked fine.</p>\n\n<p>Can you help me?</p>\n\n<p>Thank you so much</p>\n"},{"tags":["php","warnings"],"answer_count":8,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13264062,"title":"Ignore PHP Warnings","body":"<p>I have a PHP code . when i run the code , it works properly but there appears some warnings , that is -<code>Warning: Cannot modify header information - headers already sent by (output started at /home/fundumob/public_html/app_create/nav_class.php:119) in /home/fundumob/public_html/app_create/profile.php on line 32</code></p>\n\n<p>what can i do ??? ,my code is given below..</p>\n\n<pre><code> &lt;?php session_start(); error_reporting(E_ALL ^ E_WARNING);?&gt;\n &lt;?php\n  //include(\"local_config.php\");\n  include(\"lib/config.php\");\n  include(\"nav_class.php\");\n  $obj=new navig();\n\n  if(isset($_SESSION['user_id']))\n  {\n  $user_id=$_SESSION['user_id'];\n  $pic=\"select Picture from Profile where user_id=$user_id \";\n  $pic_result=mysql_query($pic) or die (\"sorry\".$pic);\n  $count=mysql_num_fields($pic_result);\n\n  if($count==1)\n  {\n\n   $rows=mysql_fetch_row($pic_result);\n\n   $_SESSION['picture']=$rows[0];\n   $profile_pic=$_SESSION['picture'];\n\n   $photo=\"profile/\".$profile_pic;\n    }\n   else\n   {\n    $photo=\"profile/img.jpg\";\n   }\n   }\n   else\n   {\n   header(\"location:index.php?er=3\");\n    }\n\n    ?&gt;\n\n   &lt;div id=\"templatemo_header_wrapper\"&gt;\n\n&lt;div id=\"templatemo_header\"&gt;\n\n    &lt;div id=\"site_logo\"&gt;&lt;/div&gt;\n\n\n      &lt;div id=\"menu_nav\" &gt;\n    &lt;ul id=\"css3menu1\" class=\"topmenu\"&gt;\n    &lt;li class=\"topfirst\"&gt;&lt;a href=\"profile.php?apps=1\" style=\"height:15px;line-\n     height:15px;\"&gt;Dashboard&lt;/a&gt;&lt;/li&gt;\n     &lt;li class=\"topmenu\"&gt;&lt;a href=\"#\" style=\"height:15px;line-height:15px;\"&gt;Profile&lt;/a&gt;      \n       &lt;/li&gt;\n  &lt;li class=\"topmenu\"&gt;&lt;a href=\"#\" style=\"height:15px;line-height:15px;\"&gt;Settings&lt;/a&gt;  \n   &lt;/li&gt;\n  &lt;li class=\"toplast\"&gt;&lt;a href=\"#\" style=\"height:15px;line-height:15px;\"&gt;Prateek    \n\n&lt;/ul&gt;\n&lt;/div&gt;  &lt;/div&gt;&lt;!-- end of header --&gt;\n &lt;/div&gt;\n\n  &lt;div id=\"tempatemo_content_wrapper\"&gt;\n\n   &lt;div id=\"templatemo_content\" align=\"center\"&gt;\n\n    &lt;div class=\"recent_projects\"&gt;\n\n          &lt;div align=\"right\"&gt;\n           &lt;table width=\"50%\" border=\"0\"&gt;\n           &lt;tr&gt;\n           &lt;td width=\"85%\" height=\"20\" style=\"border-right:1px solid #D0D0D0;\"&gt;&lt;div    \n         align=\"right\"&gt;Welcome&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;?php echo $_SESSION['fname'].\"&amp;nbsp;\". \n      $_SESSION['lname']; ?&gt;&lt;/div&gt;&lt;/td&gt;\n           &lt;td width=\"15%\" &gt; &lt;div align=\"center\"&gt;&lt;a href=\"logout.php\"&gt;Log Out&lt;/a&gt;&lt;/div&gt;\n          &lt;/td&gt;\n           &lt;/tr&gt;\n           &lt;/table&gt;\n          &lt;/div&gt;\n\n    &lt;/div&gt;\n  &lt;!--end of recent project--&gt;  \n</code></pre>\n"},{"tags":["php","lan"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13264022,"title":"How can i get IP address of systems in a local network which accessing the webpage from local server using php","body":"<p>I have a local network which connected to internet through a proxy server, The proxy server IP address is <code>192.168.0.1</code>. All systems in the network assigned IP address manually like 192.168.0-6.1-255 ,Subnet mask 255.255.248.0, <code>Default gateway 192.168.0.1</code></p>\n\n<p>and i created another server in local network for accessing my website locally and its IP address is <code>192.168.0.25</code>, Subnet Mask 255.255.255.0, Default gateway 192.168.0.25</p>\n\n<p>All the systems in the local network can now access the website using the address </p>\n\n<p><code>http://192.168.0.25/</code></p>\n\n<p>I have to track all the systems accessing my website so i used the function <code>$_SERVER['REMOTE_ADDR']</code>  in php. But i getting the IP address of all system  which accessing my website is as same as the proxy server IP address(<code>192.168.0.1</code>).<br><br>\nPlease help me to get the correct IP address of each system.  </p>\n"},{"tags":["php","mysql","variables","pdo","sqlbindparameter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13264216,"title":"Checking variables against MySQL data using PDO and PHP","body":"<p>I have the following variables that were inputted in the previous login form and submitted:<br>\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$login = $_POST['login'];\n$password = $_POST['password'];\n</code></pre>\n\n<p>I connect to my MySQL Database using a PDO as follows:<br>\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>require_once('agent-config.php');\n    try {\n$conn = new PDO(A_DB_HOST, A_DB_USER, A_DB_PASSWORD);\n$conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\necho 'Connection failed: ' . $e-&gt;getMessage();\n}\n</code></pre>\n\n<p>Next, I use the variables $login and $password to select the matching username and password:\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>//Create SELECT query    \n$qry = $conn-&gt;prepare(\"SELECT * FROM members WHERE login=? AND passwd=?\");\n    $qry-&gt;bindParam(1, $login);\n    $qry-&gt;bindParam(2, $password);\n</code></pre>\n\n<p>Lastly, I check whether the query was successful or not using:\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>//Check whether the query was successful or not\n    if($qry-&gt;execute())\n    $count = $qry-&gt;rowCount();\n    echo $count;\n    print_r($qry);\n    if($count &gt;0) {\n        //Login Successful\n        session_regenerate_id();\n        $member = $qry-&gt;fetch(POD::FETCH_ASSOC);\n        $_SESSION['SESS_AGENT_ID'] = $member['member_id'];\n        $_SESSION['SESS_login'] = $member['login'];\n        session_write_close();\n        header(\"location: agent-member-index.php\");\n        exit();\n    }else {\n        //Login failed\n        header(\"location: login-failed.php\");\n        exit();\n    }\n</code></pre>\n\n<p>However, the login and password are not being passed through correctly, and my result for $count is 0. I know one problem is that the password stored in the database is the .md5 encrypted version of the password, so I tried changing <code>$password</code> to<br>\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$password = '.md5($_POST['password']).';   \n</code></pre>\n\n<p>but I received errors T-STRING errors. Any help would be greatly appreciated!</p>\n"},{"tags":["php","pdf","text","text-files"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":468,"score":1,"question_id":5546546,"title":"convert pdf to text \"Can not open file pdf\"","body":"<p>I tried to convert pdf to text with <a href=\"http://www.pdf2text.com/download/P2TServerT.zip\" rel=\"nofollow\">http://www.pdf2text.com/download/P2TServerT.zip</a>\ni ran \"regsvr32 P2TServer.dll\" but this code did'not work</p>\n\n<pre><code>&lt;?php\n$p2t = new COM(\"P2TServer.P2T\");\n$p2t-&gt;VerifyLicense(\"4747457\", \"345srwr242342423\");\n$p2t-&gt;EngageProcessor(64+32,\"5,10,11-15\", \"\");\nprint $p2t-&gt;Convert (\"c:\\test\\test1.pdf\", \"c:\\box\\test1.txt\");\n$p2t = null;\n?&gt;\n</code></pre>\n\n<p>The result like this : </p>\n\n<p>Can not open file: c: est est1.pdfDone!</p>\n\n<p>Everyone can help me? please..</p>\n"},{"tags":["php","android","parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":9,"view_count":46,"score":-9,"question_id":13264071,"title":"parse the content of website designed in PHP and display it in the android app.","body":"<p>My website had been designed using php, now i want to parse the content of website and make it displayed in the android app, which parser should i have to use?? i heared about Json parser and XML parser, i dont have any idea about that, please give me the suggestions,</p>\n"},{"tags":["php","pdf","text"],"answer_count":4,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":2285,"score":2,"question_id":2052548,"title":"Convert text to PDF in PHP","body":"<p>What would be the simplest, shortest way to turn a text file into a PDF file with PHP? With some basic example code if possible.</p>\n\n<p>I've seen this but the examples don't show how to use a text file as input. </p>\n\n<p><a href=\"http://uk3.php.net/manual/en/book.pdf.php\" rel=\"nofollow\">http://uk3.php.net/manual/en/book.pdf.php</a></p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13263947,"title":"Passing a big string data from JavaScript to php","body":"<p>I have a very long string variable(2000+ characters) in JavaScript and I need to pass it to a <code>Php</code> page so that I can store it in a Database. Which would be The BEST technique to pass this string variable along with some other data from <code>JavaScript</code> to a <code>Php</code> page ?</p>\n"},{"tags":["php","magento","override","magento-1.7","mage"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13228235,"title":"Controller override in Magento","body":"<p>Hello friend i need to over ride magento core controller </p>\n\n<p>i want to override a <code>Mage\\ImportExport\\controllers\\Adminhtml\\ExportController.php</code></p>\n\n<p>In my <code>community\\compnyname\\modulename\\controllers\\Adminhtml</code></p>\n\n<p>this is my <code>config.xml in \\compnyname\\modulename\\etc</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;config&gt;\n    &lt;modules&gt;\n        &lt;company_module&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/company_module&gt;\n    &lt;/modules&gt;\n    &lt;global&gt;\n        &lt;rewrite&gt;\n            &lt;company_module&gt;\n                &lt;from&gt;&lt;![CDATA[#^/controller/adminhtml/#]]&gt;&lt;/from&gt;\n                &lt;to&gt;/controller/adminhtml/&lt;/to&gt;\n            &lt;/company_module&gt;\n        &lt;/rewrite&gt;\n    &lt;/global&gt;\n&lt;/config&gt;\n</code></pre>\n\n<p>this is my controller code in <code>\\compnyname\\modulename\\controllers\\Adminhtml\\ExportController.php</code></p>\n\n<pre><code>&lt;?php\nrequire_once('/Mage/ImportExport/controllers/Adminhtml/ExportController.php');\nclass company_module_ImportExport_Controller_Adminhtml_ExportController extends Mage_ImportExport_Adminhtml_ExportController\n{\n    function indexAction()\n    {\n        echo \"i am called\";die;\n    }\n}\n?&gt;\n</code></pre>\n\n<p>Please help me in override a controller</p>\n\n<p>Where is problem in my code?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","javascript","iframe","document","getelementbyid"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13262402,"title":"Javascript inside PHP not working (document.getElementById)","body":"<p>So something weird is happening but I can't seem to get the javascript code \"document.getElementById\" working inside of php...</p>\n\n<p>For example, load the following php code (below) into a php file and run it, there is no javascript alert? But if you copy the source-code that the php echoed (or printed) and run it as an html file there is a javascript alert??? So any element that is created inside of PHP tags doesn't run in javascript, even if the javascript is kept outside of the php tags?</p>\n\n<p>Here is the php demo code:</p>\n\n<pre><code>&lt;?php\n\nprint \"\n&lt;iframe id='my_id' name='my_id' src='http://www.php.com/'&gt;&lt;/iframe&gt;\n\n&lt;SCRIPT LANGUAGE='javascript'&gt; \ndocument.getElementById('my_id').contentWindow.onload = function(){\n    alert('content loaded');\n}\n&lt;/SCRIPT&gt;\n\";\n\n\n?&gt;\n</code></pre>\n\n<p>It even doesn't work if just this is your code:</p>\n\n<pre><code>&lt;iframe id='my_id' name='my_id' src='&lt;?php echo\"http://www.php.com/\"; ?&gt;'&gt;&lt;/iframe&gt;\n\n&lt;SCRIPT LANGUAGE='javascript'&gt; \ndocument.getElementById('my_id').contentWindow.onload = function(){\n    alert('content loaded');\n}\n&lt;/SCRIPT&gt;\n</code></pre>\n\n<p><code></code></p>\n\n<p><code></code></p>\n\n<p><code></code></p>\n\n<p>Here is the source code that appears (upon request) (Also the contentWindow.onLoad is working fine for content that is not on the same domain as mine in Safari):</p>\n\n<pre><code>&lt;iframe id='my_id' name='my_id' src='http://www.php.com/'&gt;&lt;/iframe&gt;\n\n&lt;SCRIPT LANGUAGE='javascript'&gt; \ndocument.getElementById('my_id').contentWindow.onload = function(){\n    alert('content loaded');\n}\n&lt;/SCRIPT&gt;\n</code></pre>\n\n<p><code></code></p>\n\n<p><code></code></p>\n\n<p><code></code></p>\n\n<p>My issue is that in HTML this code works fine and the alert is called.... in PHP the code does not work and the alert is never called... There is something wrong with the way PHP handles \"document.getElementById\", there is nothing wrong with \".contentWindow.onload\"</p>\n\n<p>Thankyou :)</p>\n"},{"tags":["php","datetime"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13264056,"title":"DateTime::createFromFormat","body":"<p>I need to enter dates and time(input as strings) into my database but there's no change (remains as 0000-00-00 for the date and 00:00:00 for the time). I know I'm supposed to use DateTime::createFromFormat() but I'm not sure how to go about it. Please be patient and explain to me how I'm supposed to go about it and what is happening in each step and if I want to return the date from the database on later on, how will I go about it? I'm using     <code>$date</code> and <code>$starttime</code> , <code>$endtime</code>.</p>\n"},{"tags":["php","domain-driven-design","aggregate","aggregateroot","aggregates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13254657,"title":"Implement sorting/filtering business logic into DDD aggregates","body":"<p>I am fairly new to DDD and for me I search in practical terms to a good function for an aggregate. I have a long list of users (<code>User</code>) and a create an aggregate (<code>UserAggregate</code>) for that.</p>\n\n<p>Now in my view I might display users based on different criteria. Let's assume here I don't sort the list in my database query, it is OK to have sorting in an aggregate? I cannot come up with another part of the application where I can do this properly, but I might misunderstand the function of an aggregate.</p>\n\n<pre><code>$users = new UserAggregate(array(\n $user1, $user2, $user3, $user4\n));\n\nforeach ($users-&gt;sortBySurname(), $user) {\n //\n}\n\nforeach ($users-&gt;sortByLastLoggedIn(), $user) {\n //\n}\n</code></pre>\n\n<p>The same holds for filtering by the way. When I read about DDD aggregates, I immediately thought of the <code>Doctrine\\Common\\Collections\\Collection</code> (<a href=\"https://github.com/doctrine/common/blob/master/lib/Doctrine/Common/Collections/Collection.php\" rel=\"nofollow\">link</a>). That sort-of looks like an aggregate to me. So DDD experts, please enlighten me :-)</p>\n\n<p><strong>Update</strong></p>\n\n<p>The only way I was thinking btw was making aggregates rather immutual and have helpers to create new aggregates. But this seems not the way to go:</p>\n\n<pre><code>$aggregate = new UserAggregate(array($user1, $user2));\n$helper    = new FilterSomething;\n$aggregate = $helper-&gt;filter($aggregate);\n</code></pre>\n\n<p>The second aggregate is a new instance, so the helper looks like this:</p>\n\n<pre><code>class FilterSomething\n{\n  public function filter(Aggregate $aggregate)\n  {\n    $items = $aggregate-&gt;getItems();\n    $items = $this-&gt;doFilter($items);\n\n    return new Aggregate($items);\n  }\n}\n</code></pre>\n"},{"tags":["php","sql","sql-server","query"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13263569,"title":"Getting only the same result to appear in SQL","body":"<p>This is my code, later I will be putting it into php, but for the time being I am using it in a provided Query tester. We are doing the first degree of kevin bacon instead of the 6th.</p>\n\n<p><strong>My query is as follow:</strong> </p>\n\n<pre><code>SELECT name,year\nFROM actors\nJOIN roles ON roles.actor_id = actors.id\nJOIN movies ON movies.id=roles.movie_id\nWHERE actors.first_name= 'kevin' AND actors.last_name='bacon' OR actors.first_name= 'sean' AND actors.last_name='penn'\nORDER BY movies.name;\n</code></pre>\n\n<p><strong>it results in</strong> </p>\n\n<pre><code>Animal House 1978\nApollo 13 1995 \nFew Good Men, A 1992 \nFootloose 1984 \nHollow Man 2000 \nJFK 1991 \nMystic River 2003 \nMystic River 2003 \nPlanes, Trains &amp; Automobiles 1987 \nStir of Echoes 1999 \n</code></pre>\n\n<p><strong>How do I get it to show only Mystic River?</strong></p>\n"},{"tags":["php","javascript","html"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":47,"score":3,"question_id":13263752,"title":"web pages using javascript cant work if user's browser has javascript disable...so is there any way to run command like onclick without javascript?","body":"<p>plz anyone help me give me solution to run command like onclick without javascript....thanks\n//javascript code:</p>\n\n<pre><code>                function selectedproperty(id)\n                {\n                document.getElementById(\"pid\").value=id;\n                document.getElementById(\"form1\").submit();\n                }\n\n                function singleproperty(id)\n                {\n                document.getElementById(\"pid\").value=id;\n                document.getElementById('form1').action=\"singlepropertydetail.php\"\n                document.getElementById(\"form1\").submit();\n                }  \n\n// html/php code \n\n &lt;ul&gt;\n    &lt;?PHP\n    $sql=mysql_query(\"select build_name,flat_no,property_id from new_property where owner='\".$ownerid.\"'\") or die(mysql_error());\n    while($row=mysql_fetch_row($sql))\n    {\n    echo \"&lt;li onclick='singleproperty(\".$row[2].\");' &gt;\".$row[0].\" \".$row[1].\"&lt;/li&gt;\";\n    }\n    ?&gt;\n    &lt;/ul&gt;\n</code></pre>\n"},{"tags":["php","jquery","jquery-ui"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13229473,"title":"Jquery UI date-picker Set default date","body":"<p>I used jQuery UI for datepicker i want to show current date in the field as default following is my code please help </p>\n\n<pre><code>    &lt;script&gt;\n        $(function() {\n         $( \"#datepicker\" ).datepicker({\n        dateFormat: 'dd-mm-yy',\n        currentText: \"Now\"\n         });\n\n        $( \"#datepicker2\" ).datepicker({\n        dateFormat: 'dd-mm-yy',\n        currentText: \"Now\"\n        });\n\n    });\n        &lt;/script&gt;\n\nFrom Date: &lt;input type='text' id='datepicker' name='date_from' /&gt;\nTo Date:   &lt;input type='text' id='datepicker2' name='date_to' /&gt;\n</code></pre>\n\n<p>But I could not set default date </p>\n"},{"tags":["php","internet-explorer-8","google-charts"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1796,"score":4,"question_id":7673156,"title":"Google Pie Chart not displaying Internet Explorer 8","body":"<p>I'm using a Google Pie chart which displays as expected in Firefox but doesn't display in IE8 and gives the following error in the console:</p>\n\n<pre><code>SCRIPT5022: Every row given must be either null or an array. \nformat+en,default,corechart.I.js, line 202 character 63\n</code></pre>\n\n<p>I'm using a Google Line Chart on another page and this displays fine.</p>\n\n<p>Appreciate any pointers.</p>\n"},{"tags":["php","pdf","text","text-files"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1065,"score":0,"question_id":10219076,"title":"convert pdf to text file in php (note : shell_exec is disabled)","body":"<p>the best way to solve this was to use \"pdftotext\" that is in the \"xpdf\" package but in all shared hosts that i googled shell_exec is disabled . i found alternative metods that used only php like a function called pdf2string() (on php.net) but none of those functions didn't work as expected (with some pdf files they just didn't output correct text and with some other pdf they didn't output nothing and some other versions of this function just didnt work at all so i excluded this option). any way to convert that open source pdftotext into a php script ? (source is in c++ i think and can be found here : <a href=\"http://www.foolabs.com/xpdf/download.html\" rel=\"nofollow\">http://www.foolabs.com/xpdf/download.html</a>) . any other solution will be accepted as far as it gives to me text output of the pdf (the correct one)  </p>\n"},{"tags":["php","mysql","gmt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13263921,"title":"GMT time and mysql NOW() is giving 2 minutes difference","body":"<p>When i was checking the GMT time <a href=\"http://wwp.greenwichmeantime.com/info/current-time/\" rel=\"nofollow\"><strong><code>here</code></strong></a> it was <strong>05:40:00</strong>, at the same time i ran the below query in mysql,</p>\n\n<pre><code>SET time_zone='+00:00'; // to get GMT time\nSELECT NOW();\n</code></pre>\n\n<p>It was <strong>05:37:50</strong> from above query. So in mysql i am getting around 2 minutes time difference from <strong><a href=\"http://wwp.greenwichmeantime.com/info/current-time/\" rel=\"nofollow\">GMT</a></strong>. It has to give <strong>05:40:00</strong> instead of <strong>05:37:50</strong>. How to resolve this?</p>\n\n<p>Thanks for your valuable time.</p>\n"},{"tags":["php","javascript","html"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13263741,"title":"how to remove a value from comma separated string variable?","body":"<p>I want to remove one value from comma separated string variable\nEg hdnListCL =\"'ABC','PQR','XYZ'\"\ni want to remove any one of them, how i can do this without converting this into array? \nhtml code </p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"hdnlistCL\" id=\"hdnlistCL\"/&gt;\n&lt;table&gt;\n &lt;tr&gt;\n    &lt;td&gt;\n            &lt;div id=\"ProjList\"&gt;&lt;?php print $strLocName; ?&gt;&lt;/div&gt;&lt;br/&gt;\n         &lt;input type=\"text\" name=\"txtCommonLocation\" id=\"txtCommonLocation\" size=\"40\" value=\"\"/&gt;\n         &lt;img src=\"images/plus.gif\" title=\"Click Here\" onclick=\"AddNewLocation()\" style='cursor:pointer;' align=\"right\"/&gt;  &lt;/td&gt;    \n     &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>javascript</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"../scripts/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction AddNewLocation()\n{\n    var listCL = \"\";\n    this.strProjName;\n    if ( typeof strProjName == 'undefined' ) {\n          strProjName = '';\n    }\n    var newLoc = document.getElementById('txtCommonLocation').value;\n    document.getElementById('txtCommonLocation').value = \"\";\n    if(document.getElementById('hdnlistCL').value == '')\n    { \n       document.getElementById('hdnlistCL').value =newLoc;\n    }\n    else\n    {\n      document.getElementById('hdnlistCL').value += \",\"+newLoc;\n    }\n      listCL  = newLoc; \n      if(listCL != '')  \n        {\n             strProjName = strProjName + '&lt;div id=\"'+listCL+'\"&gt;'+listCL+'&lt;div  class=\"close\" onclick=\"removeLocation(\\''+listCL+'\\')\"&gt;&lt;/div&gt;&lt;/div&gt;';            \n        }\n    //  alert(strProjName);\n        $('#ProjList').html(strProjName);   \n}\nfunction removeLocation(pLocation)\n{\n    var hdnListLocation = document.getElementById('hdnlistCL').value;\n    if(window.confirm(\"Are you sure you want to delete this?\"))\n                {      \n                            url = 'test_st.php';\n                            $.post(\n                                url,\n                                {\"act\":\"Delete\",\"DelLocation\":pLocation,\"hdnListLocation\": hdnListLocation},\n                                function(responseText){\n                                    alert(responseText);\n                                    return false;\n                                  window.location=\"test_st.php\";                    \n                                },\n                                \"html\"\n                            );\n                            return false;\n                }   \n}\n&lt;/script&gt;\n</code></pre>\n\n<p>php code</p>\n\n<pre><code>&lt;?php\n if(isset($_POST['act']))   \n       $act = $_POST['act'];\n\n        if($act == \"Delete\")\n        {\n            $arrhdnListLocation     = explode(\",\", $_POST['hdnListLocation']);\n            if(in_array($_POST['DelLocation'],$arrhdnListLocation))\n            {\n            print(\"I want to remove'\".$_POST['DelLocation'].\"' from hdnlistCL\");        \n                    exit();\n            }\n            else\n            {\n                print(\"No\");\n                exit();\n            }\n\n        }\n?&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/mmhtA.jpg\" alt=\"enter image description here\"></p>\n\n<p>when i click close button i want to remove that location from hdnlistCL. how i can do this?\nvalue of hdnListCL is ABC,PQR,XYZ i want to remove PQR from this  </p>\n"},{"tags":["php","pass"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13170904,"title":"How to pass date_from and date_to from one php to another one to do a db query","body":"<p>I use a jquery ui calendar let user choose the start and end date, click a link in first php page to do a mydql query in second php page to export the query result as a download csv file (some guys said it's impossible to do this in one page, it have to be two php pages).</p>\n\n<p>My question is how to pass $date_from and $date_to from first php and how to get those value in second page.</p>\n\n<p>thx</p>\n\n<p>this works!\nquery string like this: check.php?date_from=2012-09-01&amp;date_to=2012-09-30</p>\n\n<p>and in check.php, the value can get like this:</p>\n\n<pre><code>$export_type = $_GET['export_type'];\n$date_from = $_GET['date_from'];\n$date_to = $_GET['date_to'];\n</code></pre>\n"},{"tags":["php","javascript","html","jsfiddle"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13263481,"title":"How to display data from drop down menu into text inputs","body":"<p>I am having trouble displaying the <code>SessionName</code>, <code>SessionDate</code> and <code>SessionTime</code> in their respective text inputs. </p>\n\n<p>What should happen is that the user is suppose to select a Session (Assessment) from the drop down menu. Now when they submit the drop down menu, the details of the Session which are <code>SessionName</code>, <code>SessionDate</code> and <code>SessionTime</code>, should be displayed in their text inputs. But they are not being displayed in their text inputs, the text inputs remain empty.</p>\n\n<p>How can I get the <code>SessionName</code>, <code>SessionTime</code> and <code>SessionDate</code> to be displayed in their respective text inputs?</p>\n\n<p>Here is a <a href=\"http://jsfiddle.net/Ypcpe/5/\" rel=\"nofollow\">jsfiddle</a> which contains dummy data and relevant features to show what the application should look like:</p>\n\n<p><strong>Here is my code:</strong></p>\n\n<pre><code>$sessionquery = \"\nSELECT SessionId, SessionName, SessionDate, SessionTime, ModuleId\nFROM Session\nWHERE\n(ModuleId = ?)\nORDER BY SessionDate, SessionTime \n\";\n\n$sessionqrystmt=$mysqli-&gt;prepare($sessionquery);\n// You only need to call bind_param once\n$sessionqrystmt-&gt;bind_param(\"s\",$_POST['modules']);\n// get result and assign variables (prefix with db)\n\n$sessionqrystmt-&gt;execute(); \n\n$sessionqrystmt-&gt;bind_result($dbSessionId,$dbSessionName,$dbSessionDate,$dbSessionTime, $dbModuleId);\n\n$sessionqrystmt-&gt;store_result();\n\n$sessionnum = $sessionqrystmt-&gt;num_rows();   \n\nif($sessionnum ==0){\necho \"&lt;p&gt;Sorry, You have No Assessments under this Module&lt;/p&gt;\";\n} else { \n\n$sessionHTML = '&lt;select name=\"session\" id=\"sessionsDrop\"&gt;'.PHP_EOL;\n$sessionHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;           \n\nwhile ( $sessionqrystmt-&gt;fetch() ) {\n    $sessionHTML .= sprintf(\"&lt;option value='%s'&gt;%s - %s - %s&lt;/option&gt;\", $dbSessionId, $dbSessionName, $dbSessionDate, $dbSessionTime) . PHP_EOL;  \n}\n\n$sessionHTML .= '&lt;/select&gt;';\n\n$assessmentform = \"&lt;form action='\".htmlentities($_SERVER['PHP_SELF']).\"' method='post' onsubmit='return sessionvalidation();'&gt;\n&lt;p&gt;Assessments: {$sessionHTML} &lt;/p&gt;\n&lt;p&gt;&lt;input id='sessionSubmit' type='submit' value='Submit Assessment' name='sessionSubmit' /&gt;&lt;/p&gt;  \n&lt;div id='sessionAlert'&gt;&lt;/div&gt;    \n&lt;/form&gt;\";\n\necho $assessmentform;\n\n}\n\n}\n\n if (isset($_POST['sessionSubmit'])) {\n\n$currentsession = \"&lt;form action='\".htmlentities($_SERVER['PHP_SELF']).\"' method='post'&gt;\n&lt;p&gt;Current Assessment's Date/Start Time:&lt;/p&gt;\n&lt;p&gt;Assessment: &lt;input type='text' id='currentAssessment' name='Assessmentcurrent' readonly='readonly' value='{$dbSessionName}'/&gt; &lt;/p&gt;\n&lt;p&gt;Date: &lt;input type='text' id='currentDate' name='Datecurrent' readonly='readonly' value='{$dbSessionDate}'/&gt; &lt;/p&gt;\n&lt;p&gt;Start Time: &lt;input type='text' id='currentTime' name='Timecurrent' readonly='readonly' value='{$dbSessionTime}'/&gt; &lt;/p&gt;\n&lt;input type='hidden' id='hiddenId' name='hiddenAssessment' value='{$dbSessionId}'/&gt;\n&lt;/form&gt;\n\";  \n\necho $currentsession;\n\n    }\n</code></pre>\n"},{"tags":["php","string"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":52,"score":-2,"question_id":13263523,"title":"Getting first two words from string in php","body":"<p>I have string like:</p>\n\n<pre><code>$message=\"AB 1234 Hello, how are you?\n</code></pre>\n\n<p>I want to get like this:</p>\n\n<pre><code>$message[0] = AB\n$message[1] = 1234\n$message[2] = Hello, how are you?\n</code></pre>\n\n<p>Please don't suggest substr function because length of first two words may vary but they will have spaces in between.\nAny other suggestion?</p>\n"},{"tags":["php","paypal","integration","payment-gateway"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":455,"score":1,"question_id":7499019,"title":"How to secure paypal integration for website","body":"<p>I have been using paypal in the past for selling stuff through my website ( e.g. memberships ) but I always had to verify through paypal whether the user really bought the membership (for example) before I could assign it to his/her account. Now I was wondering if there's a way that I can put a paypal purchase button onto my webpage to ( for example ) purchase a membership and then once the user paid, he'll automaticly be assigned the membership on my website ( e.g. there's a page purchase_result.php which assigns the membership, but ONLY if the user really bought it through paypal ). How can I make sure the user actually bought the item through paypal on the return page on my website?</p>\n\n<p>Thanks in advance,\nSkyfe.</p>\n\n<p>btw, I hope my question can be understood</p>\n"},{"tags":["php","apache"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13263496,"title":"apache httpd cannot browse through browser","body":"<p>i've setup apache and php on a virtual machine. everything works fine in the virtual machine. im able to execute php files and run up phpmyadmin connecting to mysql. on my host machine, im able ping and ssh into the remote machines. however, im unable to browse the php files on the host browser using the ip address.</p>\n\n<p>in my httpd.conf, im listening to port 80. i enabled the ServerName 192.168.75.102:80</p>\n\n<p>am i missing some settings? port settings maybe?</p>\n"},{"tags":["php","paypal","paypal-sandbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13263529,"title":"Paypal sandbox return url is not getting the response from paypal","body":"<p>I am working on localhost and testing payment for paypal sandbox. But I am not able to get the response from paypal.</p>\n\n<p>Thanks  </p>\n"},{"tags":["php","phalcon"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13261618,"title":"Using Phalcon Tags to dynamically load CSS and Javascript files","body":"<p>I guess this question might have the same outcome as <a href=\"http://stackoverflow.com/questions/12951048/how-do-i-use-main-layout-views-in-a-multi-module-phalcon-application\">How do I use &quot;Main Layout&quot; views in a multi module Phalcon application?</a></p>\n\n<p>My <strong>Main Layout</strong> view has the basic html structure of my entire app and I'm using the <strong>controller layout</strong> view to present the content of that controller. I believe I am doing it right so far?</p>\n\n<p>But now I have a problem with needing to load specific JS and CSS files relevant to just that module controller in my <strong>Main Layout</strong> view.</p>\n\n<p>Currently I am loading all CSS and JS in my <strong>Main Layout</strong> file but this completely goes against the multi module approach. Each module should be able to load css/js files without having to modify a core layout file.</p>\n\n<p>Ideally I would love to follow the same approach as setting page titles</p>\n\n<p><strong>Controller:</strong>\nPhalcon\\Tag::setStylesheetLink(\"http://fonts.googleapis.com/css?family=Rosario\", false);</p>\n\n<p><strong>Views:</strong> echo Phalcon\\Tag::getStylesheetLink();</p>\n\n<p>Is there any other way I can accomplish this that I might be missing?</p>\n"},{"tags":["php","billing","inventory","sales"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":809,"score":0,"question_id":6540741,"title":"Open Source Solution for inventory,Billing In PHP","body":"<p>I am developing an application for my client in which he want to manage his medium size company sales/Purchase/expenditures/stock and he also want to provide online billing(without online payment) facility.</p>\n\n<p>He also want to set different access levels for different persons.</p>\n\n<p>I know that i can develop this app from scratch but i don't want to waste my time so i am searching for an open source solution in PHP using mysql as backend.</p>\n\n<p>I hope if found any good open source solution then  i can modify it as per my need.</p>\n\n<p>So suggest me any good solution for this purpose.</p>\n\n<p>If you find anything unclear in question than please comment  on question i will make it clear.</p>\n\n<p>-Thanks in advance.   </p>\n"},{"tags":["php","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":24,"score":-4,"question_id":13263213,"title":"ajax function doesn't return large amount of value","body":"<p>I have a php web site. I have used POST method. I have to fetch large amount of data from my Ajax page (ajax.php).  I.e. have to display a contact form, in which there is a country drop down and it contain 250 values... </p>\n\n<p>When I reduced the country count then my Ajax form returns the entire field. But when I wrote all the country it's again return partial form...</p>\n\n<p>I need complete form...</p>\n\n<p>Does anyone know this how I get all the fields...?</p>\n\n<p>Thanks in advance </p>\n\n<p>Ya\nI got the mistake. There was an extra symbol in my country list , so the ajax out put is stopped</p>\n"},{"tags":["php","magento","e-commerce"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13248293,"title":"how to show reviews on tabcontent?","body":"<p>In my <code>magento details</code> page there is a <code>tabcontent</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/BD4Fb.png\" alt=\"enter image description here\"></p>\n\n<p>When i clicking the <strong><code>review</code></strong>  <strong>(see on fig)</strong>  i want to show my reviews on the tab under <strong>review</strong>  of the particular product</p>\n\n<p>Please help me to get a solution</p>\n"},{"tags":["php","architecture","parallel-processing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":35,"score":0,"question_id":13263434,"title":"The architecture of a PHP web application","body":"<p><strong>Hello everyone!</strong></p>\n\n<p>We are working on a web application in PHP that is composed by several and different modules. One of this modules is a web crawler, the rest are mostly different proves that will be done once the crawler finishes it's job.</p>\n\n<p>Each one of these modules need to be controlled from a main file that would initially trigger the crawler.We need to establish a communication between the crawler.php and the main.php in order to receive and send real time information from the crawler and also to inform when it finishes so we can trigger the other modules (in parallel) when it does. Long story short, each one of the modules should be able to talk with the supposed main.php file.</p>\n\n<p>At this moment, all the modules are done and fully working, but not the main file.</p>\n\n<p><strong>Among the needs, the system need to be able to:</strong></p>\n\n<ol>\n<li>The main.php need to send instructions to the different modules.</li>\n<li>Such as start working, pause, or stop the job.</li>\n<li>Each one of the modules need to send information back to the main.php.</li>\n<li>Mostly in order to track the progress and trigger different actions.</li>\n<li>It would be great that the system doesn't need the user's browser to be\nopen in order to work, in order works, we would like the entire\napplication to be able to run as a background process.</li>\n</ol>\n\n<p><strong>So, here comes the questions!</strong></p>\n\n<p>First of all, I understand this could be done using web sockets, Javascript or even HTML5, how do you find this approach? In case we go for PHP, which possibilities do we have besides using fsockopen or pcntl_fork? Is there any recommendation or better solution that we are missing?</p>\n\n<p>Thanks a lot to anyone helping us out on this complex question.\n<strong>All the best!</strong></p>\n"},{"tags":["php","javascript","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":71,"score":-1,"question_id":13246459,"title":"php mysql dynamic table display with numbring","body":"<p>i have page where i populate table from mysql using php. I have 10 tables. \nIf there is no data in table then the table is not displayed.</p>\n\n<p>i have displayed numbering like \"1\" for table one 2 for table 2 and so on . now if table 3,6,9 have no data then page will display table of numbers 1,2,4,5,7,8,10. but i want that numbring according to the number of tables displayed.</p>\n\n<pre><code>$tbl2= \"SELECT * FROM wp_health_aanvullend_moduliar WHERE health_id=$hid\";\n$rs2 = mysql_query($tbl2);\n$count2 = mysql_num_rows($rs2);\n\n &lt;?php if($count2 &gt; 0){?&gt;\n\n&lt;table class=\"sub_front_efect\" cellpadding=\"0\" cellspacing=\"0\" style=\" border:none; margin:10px 0;\"&gt;\n&lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th colspan=\"100%\" class=\"health_sub_front\"&gt;Aanvullend moduliar&lt;/th&gt;&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n\n&lt;?php  $wp_health_aanvullend_moduliar = \"wp_health_aanvullend_moduliar\";\n             $crows = $wpdb-&gt;get_results( \"SELECT * FROM $wp_health_aanvullend_moduliar WHERE health_id=$hid\");\n              foreach ($crows as $crow) {\n                 $type          = $crow-&gt;type ;\n                 $price         = $crow-&gt;price;\n\n\n              ?&gt;\n    &lt;tr data-price=\"&lt;?php echo $price; ?&gt;\"&gt;&lt;td width=\"65%\"&gt;&lt;?php echo $type; ?&gt;&lt;/td&gt;&lt;td style=\"border-right:1px solid #ccc;\"&gt;&amp;euro; &lt;?php echo $price; ?&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;?php \n              }\n    ?&gt;\n  &lt;/tbody&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;?php } ?&gt;\n</code></pre>\n\n<p>if all the table has data then all displayed.<img src=\"http://i.stack.imgur.com/J2t1l.png\" alt=\"tables with numbers\">\nwhat can be the logic </p>\n\n<p>thanks  </p>\n"},{"tags":["php","jquery","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":828,"score":0,"question_id":9780879,"title":"submit form using Jquery Ajax Form Plugin and php?","body":"<p>this a simple example in how to submit form using the Jquery form plugins and retrieving data using html format\nhtml Code</p>\n\n<pre><code>&lt;html&gt; \n&lt;head&gt; \n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js\"&gt;&lt;/script&gt; \n    &lt;script src=\"http://malsup.github.com/jquery.form.js\"&gt;&lt;/script&gt; \n\n    &lt;script&gt; \n // prepare the form when the DOM is ready \n    $(document).ready(function() { \n        // bind form using ajaxForm \n        $('#htmlForm').ajaxForm({ \n            // target identifies the element(s) to update with the server response \n            target: '#htmlExampleTarget', \n\n            // success identifies the function to invoke when the server response \n            // has been received; here we apply a fade-in effect to the new content \n            success: function() { \n                $('#htmlExampleTarget').fadeIn('slow'); \n            } \n        }); \n    });\n    &lt;/script&gt; \n&lt;/head&gt; \n&lt;body&gt;\n&lt;form id=\"htmlForm\" action=\"post.php\" method=\"post\"&gt; \n    Message: &lt;input type=\"text\" name=\"message\" value=\"Hello HTML\" /&gt; \n    &lt;input type=\"submit\" value=\"Echo as HTML\" /&gt; \n&lt;/form&gt;\n&lt;div id=\"htmlExampleTarget\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>PHP Code</p>\n\n<pre><code>&lt;?php \necho '&lt;div style=\"background-color:#ffa; padding:20px\"&gt;' . $_POST['message'] . '&lt;/div&gt;'; \n?&gt;\n</code></pre>\n\n<p>this just work fine\nwhat i need to know if what if i need to Serialize the form fields so how to pass this option through the JS function\nalso i want show a loading message while form processed\nhow should i do that too\nthank you </p>\n"},{"tags":["php","api","service"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":3,"view_count":24,"score":-2,"question_id":13263390,"title":"Online Mobile Recharge Services for PHP site","body":"<p>I want to include online mobile recharge facilities for india on my PHP site. so please tell me the way how can i include this facility on my site or is there any service or API for this.</p>\n"},{"tags":["php","javascript","html","mysql","parameter-passing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13232944,"title":"Autofill of fields in a form depending on the selection from a select tag (drop down menu)","body":"<p>I have a form which has a select tag; on selection of an item from the drop down rest of the form fields should get filled accordingly.Note that all the form data comes from mysql database. Below is my code :</p>\n\n<pre><code>    &lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n            function populateData($id)\n            {\n                alert('in populateData');\n                y = document.getElementById(\"selectCard\");\n                document.getElementById(\"to_address\").value = to_address[y.selectedIndex];\n                document.getElementById(\"subject\").value = subject[y.selectedIndex];\n                document.getElementById(\"email_content\").value = email_content[y.selectedIndex];\n            }\n    &lt;/script&gt;\n    &lt;body&gt;\n        &lt;?php\n            mysql_connect(\"localhost\", \"someUser\", \"password\") or die(\"Connection Failed\");\n            mysql_select_db(\"mns\")or die(\"Connection Failed\");\n            $query = \"SELECT * FROM table\";\n            $result = mysql_query($query);\n        ?&gt;              \n        &lt;select id=\"selectCard\" class=\"dropdown\" onchange=\"populateData($id)\"&gt;\n            &lt;?php\n                while ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {\n            ?&gt;  \n            &lt;option value=\"&lt;?php echo $line['source_name'];?&gt;\"&gt; &lt;?php echo $line['source_name'];?&gt;\n            &lt;?php\n                $id = $line['source_id'];           \n                $source_name = $line['source_name'];\n                $source_email = $line['source_email'];\n                $phone_no = $line['source_id'];\n                $disteller_function = $line['disteller_function'];\n                }\n            ?&gt;\n        &lt;/select&gt;               \n        &lt;P&gt;&lt;INPUT ID=\"to_address\" TYPE=\"TEXT\" NAME=\"to_address\" SIZE=\"25\"&gt;&lt;/P&gt;    \n        &lt;P&gt;&lt;INPUT ID=\"subject\" TYPE=\"TEXT\" NAME=\"subject\" SIZE=\"25\"&gt;&lt;/P&gt;         \n        &lt;P&gt;&lt;INPUT ID=\"email_content\" TYPE=\"TEXT\" NAME=\"email_content\" SIZE=\"500\"&gt;&lt;/P&gt;         \n        &lt;P&gt;&lt;INPUT TYPE=\"SUBMIT\" VALUE=\"Submit\" NAME=\"B1\"&gt;&lt;/P&gt;                       \n    &lt;/body&gt;\n</code></pre>\n\n<p>When am passing '$id' as parameter, the 'populateData($id)' function is not getting called.And When i remove the parameter the code works but i get 'undefined' in rest of the form fields.          </p>\n\n<p>Any help is much appreciated.</p>\n\n<p>Nanashi         </p>\n"},{"tags":["php","api","magento","rest","magento-1.7"],"answer_count":0,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":15,"score":2,"question_id":13263343,"title":"How to get Access Token and Access Token Secret from Magento 1.7 REST API","body":"<p>I've registered my application on my magento admin.</p>\n\n<p>already got the Consumer Key and Consumer Secret.</p>\n\n<p>but i have no luck to get the access token and access token secret.</p>\n\n<p>it said </p>\n\n<blockquote>\n  <p>oauth_problem=parameter_absent&amp;oauth_parameters_absent=oauth_consumer_key</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/DpGmA.png\" alt=\"Simple REST API\"></p>\n\n<p>i'm testing based on this link</p>\n\n<p><a href=\"http://www.magentocommerce.com/api/rest/testing_rest_resources.html\" rel=\"nofollow\">http://www.magentocommerce.com/api/rest/testing_rest_resources.html</a></p>\n\n<p>What i need to know the answer is</p>\n\n<ol>\n<li>What must i fill to Header &amp; Data textfield?</li>\n<li>How to get the Access Token and Access Secret Token (on Mozilla)?</li>\n<li>Is there any tutorial step by step to test any REST API?</li>\n</ol>\n"},{"tags":["php","caching","joomla"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13263327,"title":"caching for a specific resource","body":"<p>some times it will be a stupid question!!!.</p>\n\n<p>I have found this in google page speed test</p>\n\n<p>The following cacheable resources have a short freshness lifetime. Specify an expiration at least one week in the future for the following resources:</p>\n\n<pre><code>http://ladydecosmetic.com/.../opensans-semibold-webfont.woff (expiration not specified)\nhttp://ladydecosmetic.com/.../sansation_bold-webfont.woff (expiration not specified)\nhttp://cdn.api.twitter.com/.../count.json?... (15 minutes)\nhttp://connect.facebook.net/en_US/all.js (17.6 minutes)\nhttp://platform.twitter.com/widgets.js (30 minutes)\nhttps://apis.google.com/js/plusone.js (30 minutes)\nhttp://ajax.googleapis.com/.../jquery-ui.css (60 minutes)\nhttp://www.google-analytics.com/ga.js (12 hours)\n</code></pre>\n\n<p>so my question is can we specify expiration for those mentioned resources? or what is the general way to pass this test?</p>\n\n<p>thanks in advance</p>\n"},{"tags":["php","javascript","jquery","ajax","browser"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":77,"score":-1,"question_id":13263051,"title":"How to display confirmation if user clicks on a back browser button?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/136937/is-there-a-way-to-catch-the-back-button-event-in-javascript\">Is there a way to catch the back button event in javascript?</a>  </p>\n</blockquote>\n\n\n\n<p>In my application I want only a certain number of scripts (Text1.php, Text2.php and Text3.php) to contain a piece of code where that if the user clicks on the back browser button, it will display a confirmation box like the one below:</p>\n\n<pre><code>confirm(\"You have clicked on the browser's back button. If you confirm to go back via the browser back button, you will be logged out and lose your current assessment details.\" + \"\\n\" + \"\\n\" + \"Are you sure you want to go back and lose current assessment details?\" + \"\\n\" );\n</code></pre>\n\n<p>The requirments are the following:</p>\n\n<ol>\n<li>How to show the confirm if the user clicks on the back browser button?</li>\n<li>If user confirms the confirmation then navigate to Text4.php (This is where it logs out user)</li>\n<li>If user cancels confirmation then just close confirmation box so user can continue what they are doing (guessing this is something to do with <code>return false;</code></li>\n<li>Only want this to happen for scripts (Text1.php, Text2.php and Text3.php) </li>\n<li>Need it to work on all major browsers (IE, Chrome, Firefox, Safari, Opera)</li>\n</ol>\n\n<p>Thank you</p>\n"},{"tags":["php","memory","xlsx"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13262877,"title":"simplexlsx out of memory","body":"<p>I am using simplexlsx class to read 38879 rows of data (on 1 sheet) and I had a problem with memory (Out of Memory). My server's memory size is 48 GIGS and I set the memory_limit (php.ini) on 9000MB, but the problem is still there! Can you tell me what I am supposed to do?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":7651004,"title":"Session_start failing because lack of permissions","body":"<p>I'm using Windows 7 with an Administrator account. I have Xampp installed at C:\\xampp.</p>\n\n<p>I have the same problem that <a href=\"http://stackoverflow.com/questions/670595/php-session-start-fails\">this situation</a>, and I tried:</p>\n\n<ul>\n<li>Uncheck \"read only\" boxes to all files and folders</li>\n<li>attrib -r -a C:\\xampp\\tmp /S /D (without the /D gives file not found)</li>\n<li>Selected \"everyone\" in security just to make sure. </li>\n</ul>\n\n<p>My xampp and tmp folder are now probably the unsafest folder in my computer, but I still get</p>\n\n<blockquote>\n  <p>Warning: session_start() [function.session-start]:\n  open(\\xampp\\tmp\\sess_1fcpeje5cqaopevmlclif9ejc0, O_RDWR) failed: No\n  such file or directory (2)</p>\n</blockquote>\n\n<p>Which I think it means that the folder is still not writable.\nMy code is just as </p>\n\n<pre><code>&lt;?php\nsession_start();\n....\n&gt;\n</code></pre>\n"},{"tags":["c#","php","wcf","flash","real-time"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13262992,"title":"real-time web update using WCF","body":"<p>I have been reading a lot of forums regarding the use of WCF in web, most specifically, this topic: <a href=\"http://stackoverflow.com/questions/3306744/wcf-with-flash-tutorial\">WCF with Flash tutorial</a>, but I am really confused. </p>\n\n<p>I have an existing feed server that is using WCF service. It is, with no problems, supplying real-time information to its windows applications clients. What i would like to do is to have a web application to subscribe to the feeds that i am supplying to the windows application clients. With the forum that i have read (the one i have indicated), it seems like it will be a request reply method. And i think, using that, i wouldn't be able to achieve the real-time transfer of feeds for it. </p>\n\n<p>I would like to know if there is an equivalent for the callback function in web development.</p>\n"},{"tags":["php","arrays","wordpress","foreach"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13263082,"title":"Storing Array in Wordpress API Setting Field","body":"<p>I am currently trying to develop a backend to manage a slider. I am using the wordpress settings API and media uploader to upload the images. Right now everything saves correctly and as I expected, but I am using Appendo to be able to add however many slides needed. Right now it will only save one.</p>\n\n<p>So for example there would be three different li elements in the slide_settings function after a user added 3 slides.</p>\n\n<p>Is it possible to store these values in an array I can access? Also, would it run through the whole array and save them? Do I run a foreach on the li element? I am still somewhat new to PHP and how foreach loops work.</p>\n\n<p>Here is the code for the wrapper:</p>\n\n<pre><code>function slider_options_page() {\n?&gt;\n&lt;div class=\"wrap\" id=\"manager_wrap\"&gt;    \n    &lt;div class=\"icon32\" id=\"icon-tools\"&gt;&lt;/div&gt;\n    &lt;h2&gt;Slider Settings&lt;/h2&gt;\n        &lt;form method=\"post\" action=\"options.php\"&gt;\n        &lt;?php settings_fields('slider_options'); ?&gt;\n        &lt;ul id=\"manager_form_wrap\"&gt;\n        &lt;?php do_settings_sections(__FILE__); ?&gt;\n        &lt;/ul&gt;           \n        &lt;input type=\"submit\" value=\"Submit\" class=\"button-primary\" value=\"&lt;?php esc_attr_e('Save Changes'); ?&gt;\" /&gt;          \n        &lt;/form&gt;\n&lt;/div&gt;\n&lt;?php   \n}\n</code></pre>\n\n<p>And the code for the setting field:</p>\n\n<pre><code>function slide_setting() { \n$options = get_option('slider_options');\n?&gt;\n&lt;li class=\"slide\"&gt;\n    &lt;input name='slider_options[slide]' type='text' value='&lt;?php echo $options['slide'] ?&gt;' /&gt;\n    &lt;input class=\"upload_button\" type=\"button\" class=\"button\" value=\"&lt;?php _e( 'Choose Slide' ); ?&gt;\" /&gt;\n        &lt;div class=\"upload_preview\" style=\"min-height: 100px;\"&gt;\n            &lt;img style=\"max-width:100%;\" src=\"&lt;?php echo $options['slide'] ?&gt;\" /&gt;\n        &lt;/div&gt;                  \n    &lt;button class=\"remove_slide button-secondary\"&gt;Remove This Slide&lt;/button&gt;                    \n&lt;/li&gt;   \n &lt;?php\n }\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13262187,"title":"Jquery/PHP $.post not working with SheepIT fields","body":"<p>I'm trying to make a calculator using the <a href=\"http://www.mdelrosso.com/sheepit/index.php?sec=demo3&amp;lng=en_GB\" rel=\"nofollow\">Jquery SheepIT plugin</a>.</p>\n\n<p>SheepIT clones input fields, which I have working fine. After generating these fields I want to post a total of fields with JQUERY using something like this:</p>\n\n<pre><code>    [SheepIT generated fields with names and values]                \n\n    &lt;script&gt;\n    function calc() {\n        $.post('process/calculate-charges.php', $(\"form\").serialize(), function(data) { $('#result').html(data); });\n    }\n    &lt;/script&gt;\n\n    &lt;input type=\"button\" value=\"Calculate Total\" onclick=\"calc()\" /&gt;\n    &lt;div id=\"result\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>My problem is jquery will not $.post the fields that have been cloned/dynamically generated with SheepIt! It's only posting the fields that were there on the page when the page first loaded.</p>\n\n<p>When i manually put a form around the fields and submitted them straight to a php file the $_POST array contains all the fields (from SheepIT!) like I need it to. I just want Jquery to give me the same results as this does.</p>\n\n<p>Can anyone provide any advice or an example. Thank you. If you require any additional information please let me know.</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":38,"score":-2,"question_id":13262794,"title":"PHP Range Function","body":"<p>I need some help w/ range function:</p>\n\n<p>Code: <code>range(1,4)</code></p>\n\n<p>Output:</p>\n\n<pre><code>Array\n(\n    [0] =&gt; 1\n    [1] =&gt; 2\n    [2] =&gt; 3\n    [3] =&gt; 4\n)\n</code></pre>\n\n<hr>\n\n<p>How can I get an output like:</p>\n\n<pre><code>Array\n(\n    [01] =&gt; 01\n    [02] =&gt; 02\n    [03] =&gt; 03\n    [04] =&gt; 04\n)\n</code></pre>\n"},{"tags":["php","json","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13262904,"title":"Read row from CSV file and export to JSON","body":"<p>I want to export CSV file to JSON file,require is read value at recommend field and write to JSON file. Exapmle : IN row 1,recomnend =2 will read the row that id=2 and print to JSON file that values : id,product_id,title.</p>\n\n<pre><code>$json = array();\n\n        $json['id'] = $row['id'];\n        $json['product_id'] = $row['product_id'];\n        $json['title'] = $row['title'];\n        $json['outline'] = $row['outline'];\n        $recom[] = $json;  \nprint json_encode($recom);\n</code></pre>\n\n<p><a href=\"http://ns0.upanh.com/b6.s33.d3/3a3ebb93a87c5703f673b399d5613ec2_50639320.untitled.png\" rel=\"nofollow\">http://ns0.upanh.com/b6.s33.d3/3a3ebb93a87c5703f673b399d5613ec2_50639320.untitled.png\n</a></p>\n"},{"tags":["php","mysql","sql","phpmyadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13244406,"title":"MySQL Tables for School Website","body":"<p>Right now I have 40+ tables for my website and I don't think I'm using MySQL to it's full power quite right. I am making a website similar to Moodle. It basically just holds tests for students grouped by courses.</p>\n\n<p><strong>Origonal Tables</strong>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>courses - Lists all courses (ID, Name)\nc_$id   - Lists all the Tests (ID, Name, etc) for course number $id\na_$id   - Lists all questions for the test number $id (Question, A, B, C, D)\ng_$id   - Lists all grades for the course with course number $id.\nc_a     - Lists course ID and assignment ID pairs ex: (1,2) (1,3) (2,2) (2,3)\n</code></pre>\n\n<p><strong>Tables Revision 1:</strong>\n</p>\n\n<pre><code>courses   - Lists all courses (ID, Name, etc)\ntests     - Lists all tests (ID, Name, etc)\nquestions - Lists all questions from all tests (ID, Ques, Ans)\ngrades*   - Lists all grades (studentID, courseID, testID, grade)\nstudents* - Lists all students and their courses (StudentID, courseID)\n</code></pre>\n\n<p>The grades* table, it's basically 3 primary keys and a value. Something seems odd about it. Is there a better way? Same goes for the students table. Both are basically connections of the other tables. Primary key for fast searching is not possible?</p>\n\n<p><strong>Origonal Post:</strong></p>\n\n<p>What is the most efficient way to recreate this to utilize the power of MySQL?</p>\n\n<p>As of right now when a new course is made it creates a new table for that course (<code>c_$id</code>), then a table for each assignment and a list of grades for that course <code>g_$id</code>. Then when creating an assignment it creates a new <code>a_$id</code> table,adding that course and assignment pair to <code>c_a</code>.</p>\n\n<p>I have removed the \"<code>*</code>\" from most of my select statements and added \"<code>LIMIT 1</code>\" to any that are selecting a primary key, next is solving this OOP issue.</p>\n"},{"tags":["php","javascript","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":14,"score":-5,"question_id":13262898,"title":"Cant open Watch action link. Gives server error","body":"<p>I submitted an action link which is the built-in <code>Watch</code> and i got a response that there are things needed to be replace or changed. I tried opening the the said action link but i get a server error. In the facebook account that I'm using, I got a notification there saying, again, I need to make some changes in the action link. I was not able to read everything there because it too gives me a server error when I try to open it.</p>\n\n<p>So what I did is I removed the action link in the open graph and the objects there. Created a new one, still the built-in watch action link. But still it gives me a server error.</p>\n\n<p>What am I suppose to do now?</p>\n"},{"tags":["php","ajax"],"answer_count":4,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":986,"score":4,"question_id":2126410,"title":"xajax alternative?","body":"<p>I really love the simplicity of xajax calls from PHP, however xajax project seems dead by now... Is there any nice alternative or equivalent to xajax which is actively in development?</p>\n"}]}
{"total":298830,"page":16,"pagesize":100,"questions":[{"tags":["php","symfony1","symfony-1.4","propel"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":44,"score":1,"question_id":13234058,"title":"Symfony/Propel 1.4: Read from one, write to other DB","body":"<p>We have an existing project (SNS website+android/Iphone games) in Symfony 1.4/ Propel 1.4</p>\n\n<p>We are experiencing extra load on DB server (say DB1). We are doing DB Optimization but as immediate solution we decided to create one more DB server in the way DB2 is exact replica of DB1 all the time. Currently we have only DB1, used for both read and write operations.</p>\n\n<p>Now we need to move all read operations to DB2 and keep write operations (generally in transactions) on DB1 as it is now.</p>\n\n<p>What are the possible ways to make those changes (On production server without much downtime) and if possible, with minimal code changes.</p>\n\n<p><strong>Edit after first comment</strong></p>\n\n<p>Based on link given by J0k and some other links, I'd done following on local dev environment.</p>\n\n<ol>\n<li>Created a test symfony 1.4 project  </li>\n<li><p>Updated database.yml as follow</p>\n\n<pre><code>all:\n  propel:\n    class: sfPropelDatabase\n    param:\n      classname: PropelPDO\n      dsn: 'mysql:host=localhost;dbname=wzo;'\n      username: root\n      password: mysql\n      encoding: utf8\n      persistent: true\n      pooling: true\n    slaves:\n      slave1:\n        dsn:      'mysql:host=localhost;dbname=wzoslv;'\n        username: root\n        password: mysql\n        encoding: utf8\n</code></pre>\n\n<p><em>Where database <code>wzoslv</code> is exact replica of database <code>wzo</code> except change in one test entry. On table <code>odd_play</code> row 26 (PK) column <code>result</code> entries are <code>WON1</code> and <code>WON</code> respectively.</em></p></li>\n<li><p>run symfony tasks</p>\n\n<pre><code>php symfony propel:build-schema\nphp symfony propel:build-model\nphp symfony cc\n</code></pre></li>\n<li><p>Created a module and added following code:</p>\n\n<pre><code>class wzoActions extends sfActions\n{\n  public function executeIndex(sfWebRequest $request)\n  {\n    $con_write = Propel::getConnection(OddPlayPeer::DATABASE_NAME, Propel::CONNECTION_WRITE);\n    $con_read = Propel::getConnection(OddPlayPeer::DATABASE_NAME, Propel::CONNECTION_READ);\n    $oddPlay = OddPlayPeer::retrieveByPK(26,0,$con_write);\n    echo \"on write connection, result=\".$oddPlay-&gt;getResult();\n    $oddPlayRead = OddPlayPeer::retrieveByPK(26,0,$con_read);\n    echo \"&lt;br/&gt;on Read connection, result=\".$oddPlayRead-&gt;getResult();\n    exit;\n    $this-&gt;setLayout('layout');\n  }\n}\n</code></pre>\n\n<p>Run <code>http://local.sftest.com/index.php/wzo/index</code> in the browser, output was,</p>\n\n<blockquote>\n  <p>on write connection, result=WON //Correct expected output</p>\n  \n  <p>on Read connection, result=WON //Not correct. That should be WON1</p>\n</blockquote></li>\n</ol>\n\n<p>I guess passing <code>OddPlayPeer::DATABASE_NAME</code> while creating both read/write connection is the issue but that how it was suggested in online examples. Can someone please suggest where I'm making the mistake?</p>\n\n<p><strong>Edit: Few more input</strong></p>\n\n<p>I updated debug echos  in <code>lib\\vendor\\symfony\\lib\\plugins\\sfPropelPlugin\\lib\\vendor\\propel\\Propel.php</code> to check how it is returning the connection. Found that it is entering in following if (line 544-549)</p>\n\n<pre><code>$slaveconfigs = isset(self::$configuration['datasources'][$name]['slaves']) ? self::$configuration['datasources'][$name]['slaves'] : null;\n\nif (empty($slaveconfigs)) {\n  echo \"inelseifif&lt;br/&gt;\";// no slaves configured for this datasource\n  self::$connectionMap[$name]['slave'] = false;\n  return self::getConnection($name, Propel::CONNECTION_WRITE); // Recurse to get the WRITE connection\n}\n</code></pre>\n\n<p>where <code>$slaveconfigs</code> are empty so returning write connection. Now the question is, why slaveconfigs is empty?</p>\n\n<p>I also try editing sfDatabaseConfigHandler.class.php as defined in <a href=\"http://forum.symfony-project.org/viewtopic.php?t=22380\" rel=\"nofollow\">old forums</a> but doing so, break symfony somewhere and nothing gets display on web and even in logs.</p>\n"},{"tags":["php","service","affiliate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":20,"score":-5,"question_id":13262960,"title":"I would like looking for an affiliate service provider?","body":"<p>I'm looking for an affiliate service provider which can be:\n- Return APIs that support PHP and allow me manage my data such as fee.\n- It has APIs's documents, tutorials in English.\n- It must has English interface.</p>\n\n<p>Any suggestion for me? Thank you in advance.</p>\n"},{"tags":["php","jquery","ajax","return-value"],"answer_count":3,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":8972,"score":5,"question_id":4594265,"title":"multiple return values from PHP with jQuery AJAX","body":"<p>I'm using this jQuery code:</p>\n\n<pre><code>$.ajax\n({\n    type: \"POST\",\n    url: \"customerfilter.php\",\n    data: dataString,\n    cache: false,\n    success: function(html)\n    {\n        $(\".custName\").html(html);\n    }\n});\n</code></pre>\n\n<p>How can i do something like this: <code>$(\".projDesc\").html(html1);\n</code>\nSo i can split the returned results into two html elements?</p>\n\n<pre><code>echo \"&lt;p&gt;\" .$row['cust_name']. \"&lt;/p&gt;\";\n</code></pre>\n\n<p>thats the PHP i'm using and i want to echo another statement which i can put into another HTML element</p>\n\n<p>Does this make sense?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":13250725,"title":"Pyramid of asterisks in php","body":"<p>I am having problem creating a pyramid of asterisk.\nPlease see my code.</p>\n\n<pre><code>  &lt;?php\n\n    for($i=1;$i&lt;=5;$i++){\n        for($j=1;$j&lt;=$i;$j++){\n                    echo \"*\";\n        }\n        echo \"&lt;br /&gt;\";\n    }\n\n    ?&gt;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>*\n**\n***\n****\n*****\n</code></pre>\n\n<p>My question is how I am going to make that like.</p>\n\n<pre><code>    *\n   * *\n  * * *\n * * * * \n* * * * *\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":8,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":8216830,"title":"MySQL Query in PHP - Not Correct?","body":"<p>What is wrong with this query? It appears to be correct to me:</p>\n\n<pre><code>mysql_query(\"UPDATE culture SET cult_desc=$culture WHERE cult_id is $UID\");\n</code></pre>\n\n<p>Modified it, NetBeans is still giving me an error. Here's my total code for the page:</p>\n\n<pre><code>$culture = $_POST[\"culture\"];\nif (isset($_POST[\"id\"]))\n    $UID = $_POST[\"id\"];\n    mysql_query(\"UPDATE culture SET cult_desc='$culture' WHERE cult_id=$UID\");\nelse\n     mysql_query(\"INSERT INTO culture\n             VALUES(cult_desc='$culture')\");\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13262733,"title":"How do I check to see if \"title\" exist in mysql database","body":"<p>First stackoverflow question ever woot!</p>\n\n<p><strong>FUNCTION :</strong> To check and see if data exist before allowing INSERT - trying to make it non-case senstive and as open as possbile since the title I'm trying to avoid a dup is only for a specifc artistid (explained below)</p>\n\n<p>The table row structure is as follows</p>\n\n<ul>\n<li>id (auto_increment) </li>\n<li>artist (specfic id number only assigned to that artist) </li>\n<li>title (what we are trying to make sure we don't get a dupicate only for this artist</li>\n</ul>\n\n<p><strong>ISSUE :</strong> Does not get needed data from database or post defined error, might be wrong in if statement = unknown exactly what is issue</p>\n\n<p>$_POST['title']; is passed from user input</p>\n\n<pre><code>            if (isset($submit)) {\n                $date = date(\"Ymd\");\n                $cleanTitle =  $_POST['title'];\n                $querytitle = mysql_real_escape_string($_POST['title']);\n                $queryalbum = mysql_real_escape_string($_POST['album']);\n\n                // Check to see if Title exist for specfic Artist\n                $checkTitle = mysql_query(\"SELECT * from lyrics WHERE artist = '$artist'\");\n                if (!$checkTitle) {\n                    die('Query Failed');\n                } \n                if ($checkTitle == $cleanTitle)  {\n// do whatever\n}\n                print_r($checkTitle); // the data returned from the query\n</code></pre>\n\n<p><strong>UPDATE :</strong> INSERT IGNORE wouldn't work sicne I'm inserting the data via $artist and need to check and see if title exist on that artist first. or i might be wrong. i'm unsure on how to do it \n$artist is a specfic ID number defined higher in the code</p>\n"},{"tags":["php","eclipse","xampp","localhost","pdt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":11,"score":0,"question_id":13262832,"title":"Using eclipse as php IDE how to copy files to external folder - localhost","body":"<p>I installed eclipse IDE with PDT plugin to work with php on eclipse. \nI want the feature like netbeans, i.e. copy files to external folder (For me it is xampp/htdocs) so I can run my php files as I code.</p>\n"},{"tags":["php","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":35,"score":1,"question_id":13262327,"title":"How to get original URL from a specific Controller + Action","body":"<p>I've been working on a project and everything's fine until my partner wants to request to an original URL without rewriting.</p>\n\n<p>For example:\nHe wants to call to </p>\n\n<blockquote>\n  <p><a href=\"http://mydomain.com/index.php?module=default&amp;controller=check&amp;action=index\" rel=\"nofollow\">http://mydomain.com/index.php?module=default&amp;controller=check&amp;action=index</a></p>\n</blockquote>\n\n<p>instead of </p>\n\n<blockquote>\n  <p><a href=\"http://mydomain.com/default/controller/index\" rel=\"nofollow\">http://mydomain.com/default/controller/index</a>.<br /></p>\n</blockquote>\n\n<p>Is there any way that i can make the above URL working?</p>\n"},{"tags":["php","mysql","email","marketing"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":12195741,"title":"Email marketing statistics implementation","body":"<p>I will soon be tasked with making an email campaign manager, and part of it will be a statistics screen that will show how many emails were delivered successfully, how many were not, and how many people actually opened the email.</p>\n\n<p>The main thing I can't get my head around is how to code the part that deals with people opening the email.</p>\n\n<p>I know you could probably do it with a 1x1 white pixel, and then perhaps somehow have the server detect that it was loaded based on the image file name and trigger a script from that. But not all email clients have images enabled and in some cases they are disabled completely etc. I also think this method is quite dated?</p>\n\n<p>I would like to know how the big players do this like Cheetah Mail etc.</p>\n\n<p>What is the best way to do this using PHP/MySQL? </p>\n\n<hr>\n\n<p>Thanks for your reply.\nThese are opted in subscribers and there will be afew links in the body of the email that will go to certain places on our websites. Tracking of those is easy because the link will have a string appended to it which will make it easy to detect if they visit the site from an email.</p>\n\n<p>If whitepixel is the way to go at the moment, how do I go about linking the loading of that pixel to a script that is triggered on my server?</p>\n"},{"tags":["php","mysql","sql","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13244328,"title":"Updating a MySQL database via PDO and tokens - all parameters being set to last value in dataset","body":"<p>As the title states: I am trying to update specific records in a MySQL data base using PDO and tokens to secure against any injection.</p>\n\n<p>Here is my code:</p>\n\n<p>Some arrays to help build the query:</p>\n\n<pre><code>$id = 1234\n$values = array ('a','b','c',);\n$variables = array ($A, $B, $C);\n</code></pre>\n\n<p>The query built via loop:</p>\n\n<pre><code>$sql =  \"UPDATE table1 SET \";   \n        foreach($values as $value)\n        {\n        $sql .=\"$value = :$value, \";\n        }\n        $sql = rtrim($sql,', ');    \n        $sql .=\" WHERE id = '$id'\";\n</code></pre>\n\n<p>Execution of query via PDO:</p>\n\n<pre><code>try     \n{\n$pdo = new PDO('mysql:host=localhost; dbname=db01', $username, $password);\n$pdo-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n$stmt = $pdo-&gt;prepare($sql);\nforeach(array_combine($values, $variables) as $value=&gt;$variable)\n{\n$stmt-&gt;bindParam(\":$value\", $variable);\n}\n\n$stmt-&gt;execute();\n</code></pre>\n\n<p>The result:\nEvery field in the specified record (matching $id) is set to the same value, which is always equal to the contents of the last variable listed in the array (in this example they would all contain the value held in $C)</p>\n\n<p>echoing the SQL query shows it has been constructed correctly.</p>\n\n<p>Any ideas? Thanks for your consideration</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":27,"score":0,"question_id":13262560,"title":"compare the values of a two dimensional array and return a single dimension array in php","body":"<p>how can create a function in php that accept a two dimension array as parameter , something like this:</p>\n\n<pre><code>function check_the_length (array[$a_string][$length]){\n\nreturn $result\n}\n</code></pre>\n\n<p>and return an array as an result , like this:</p>\n\n<pre><code>$result=(true,false,true,false);\n</code></pre>\n\n<p>By the way if you have any better solution to making such a function please let me know</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","cakephp","encoding","json-encode","php-5.2"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":4,"view_count":45,"score":-1,"question_id":13261723,"title":"json_encode ENT_QUOTES alternative &quot; for PHP lower 5.3","body":"<p>My problem is to get the correct output on a server with php 5.2, where I can't set the second parameter for <code>json_encode</code> because it was added in 5.3 which is still not available on the server. I'm using cakephp by the way. </p>\n\n<p>The reason why I used the second parameter <code>json_encode($array, ENT_QUOTES)</code> was that:</p>\n\n<pre><code>&lt;img src=\"image/path\" alt=\"\" /&gt; \n</code></pre>\n\n<p>ended up encoded: </p>\n\n<pre><code>&lt;img src=\"&amp;quot;image/path&amp;quot;\" alt=\"&amp;quot;&amp;quot;\" /&gt; \n</code></pre>\n\n<p>but with <code>json_encode($array, ENT_QUOTES)</code> everything worked fine. </p>\n\n<p>So is there an alternative way to do the same thing? </p>\n\n<p>I already tried to use <code>htmlentities_decode(json_encode($array), ENT_QUOTES)</code> but it didn't remove the quotes. Only with preg_replace I could remove the <code>&amp;quot;</code> but then in javascript I still got errors because of some wrong place slashes and it's a very dirty way to do it. </p>\n\n<p>So I hope someone has a good Idea about it.</p>\n\n<hr>\n\n<p>Addition info:</p>\n\n<p><code>echo $this-&gt;Html-&gt;image('../images/thumbs/'.$pic['filename']);</code> \noutputs the image markup I used for my description. (cakephp function) then I get the content with the following code and print the json_encoded array. </p>\n\n<pre><code>$content = $this-&gt;fetch('content');\n\necho json_encode(array(\n    'content' =&gt; $content,\n    'request' =&gt; $this-&gt;request,\n    'data' =&gt; $this-&gt;request-&gt;data,\n    'message' =&gt; strip_tags($this-&gt;Session-&gt;flash())\n   )\n);\n</code></pre>\n\n<p>I once just copied the ENT_QUOTE solution from somewhere and it worked, but JSON_HEX_TAG I just notice works too. But when I have to use json_encode without any parameters I have the described problem.</p>\n"},{"tags":["php","hotlinking"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13262436,"title":"hotlink protection","body":"<p>i made this simple code to prevent hotlinking my files from my php download file :</p>\n\n<pre><code>if ((strpos($_SERVER['HTTP_REFERER'],'www.domain.com')!==0)) {\n    $redirect='index.php';\n    header(\"Location: $redirect\");\n    exit;\n}\n</code></pre>\n\n<p>it's not working , it always redirect me to index.php even if i clicked the link inside my wbesite.\ni tried to change the domain to many types like :</p>\n\n<blockquote>\n  <p><a href=\"http://www.domain.com\" rel=\"nofollow\">http://www.domain.com</a> <br> www.domain.com <br> domain.com <br> domain</p>\n</blockquote>\n\n<p>but still the same problem</p>\n"},{"tags":["php","image","image.createimage"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3236,"score":2,"question_id":5577903,"title":"problem with imagecreatefromjpeg() php","body":"<p>I'm using imagecreatefromjpeg() function to merge two pictures..</p>\n\n<p>now the problem which i'm facing is that when i use the pictures from my server, it works perfectly and when i use pictures from some other website, it doesn't work.</p>\n\n<p>For eg: when i use this php file <a href=\"http://coolfbapps.in/test/merger.php\" rel=\"nofollow\">http://coolfbapps.in/test/merger.php</a> with function</p>\n\n<pre><code> imagecreatefrompng('http://coolfbapps.in/test/1.png');\n</code></pre>\n\n<p>It works perfectly fine as the image is at my own server</p>\n\n<p>but when i alter this funtion n put the link of an image which is not on my server,</p>\n\n<p>for eg. </p>\n\n<pre><code>  imagecreatefrompng('http://www.businesseconomics/Test.png');\n</code></pre>\n\n<p>it doesnt work. (the image file is not on my server)</p>\n\n<p>please suggest me an alternative to this function or a solution as i want to use this with facebook apps..</p>\n\n<p>Fuctions like file-get-contents are also showing the same error. i hope its not server end problem..\n       allow_url_fopen is on but \n       allow_url_include is off</p>\n\n<p><strong>Update...Actual code. I'm using this to merger two pictures</strong></p>\n\n<pre><code> $dest = imagecreatefrompng('http://coolfbapps.in/test/1.png');\n\n $src = imagejpeg('http://img.allvoices.com/thumbs/image/111/111/75152279-pic.jpg');\n\n imagealphablending($dest, false);\n imagesavealpha($dest, true);\n\n imagecopymerge($dest, $src, 10, 9, 0, 0, 181, 180, 100); \n\n header('Content-Type: image/png');\n imagepng($dest);\n\n imagedestroy($dest);\n imagedestroy($src);\n</code></pre>\n"},{"tags":["php","android","popup"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13260516,"title":"Dealing with php popup windows in an Android WebView","body":"<p>I'm working on the following project</p>\n\n<p><a href=\"http://code.google.com/p/openemr-app/\" rel=\"nofollow\">http://code.google.com/p/openemr-app/</a></p>\n\n<p>Its a specialized client browser for OpenEMR.</p>\n\n<p>In OpenEMR, there are lots of php buttons that open up other windows with selections to choose from.  Once a selection is chosen, it is supposed to open the corresponding information in the  proper frame of the main window.</p>\n\n<p>In my webview, this doesn't work at all.  No popup is generated, so, for instance, when searching, no patient list is brought up.</p>\n\n<p>I turned on javascript and javascript popup, and multiple window support in my webchromeclient, I also have the onJsAlert method overridden as prescribed in another post regarding this subject, but still I'm not getting any joy.</p>\n\n<p>This is a free and open source project that helps doctors all over the world.\nCan you help?</p>\n\n<p>[edited for completeness]</p>\n"},{"tags":["php","security"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13262185,"title":"MD5 the id in URL and get the id to other page using PHP","body":"<p>Suppose that I have code as below:</p>\n\n<pre><code>&lt;td&gt;&lt;a href=\"view_edit_form.php?id=&lt;?php echo md5($row[0]);?&gt;\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\n</code></pre>\n\n<p>And in page <code>view_edit_form.php</code> I get the id by using this code <code>$ID = $_GET['id'];</code></p>\n\n<p><strong>The problem</strong></p>\n\n<p>I can not get the <code>id</code> if I <code>md5</code> it like this.Anyone help me please, Thanks.</p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":475,"score":1,"question_id":11860695,"title":"load images dynamically in php from mysql database into a jquery slider","body":"<p>I have written a web application that involves having users upload pictures to the site. On the homepage, I dynamically show the newest pictures/items uploaded in PHP, limiting it to ten. However, the page looks so static and I have searched on Google, bing, ask, yahoo, etc for days now and haven't had any answers. </p>\n\n<p>I have written the code to store store the images, and get them from the db.\nThe images are shown on the homepage, and the only thing i have left to do is load it in a slider.</p>\n\n<pre><code>$sql = mysql_query(\"SELECT * FROM items ORDER BY item_date_added DESC LIMIT 10\")or die(mysql_error());\n\nwhile($row = mysql_fetch_array($sql)){\n    //$user_id = $row['user_id'];\n    $item_name = $row['item_name'];\n    $item_id = $row['item_id'];\n\n    $check_pic = \"users/$item_name.jpg\";\n\n\n\n        if (file_exists($check_pic)) {\n\n              $show_pic = \"&lt;img src=\\\"users/$item_name.jpg\\\" width=\\\"100px\\\" height=\\\"100px\\\" border=\\\"5\\\" id='img'/&gt;\";\n\n             //$user_pic3 = \"&lt;img src=\\\"users/$rid/image01.jpg\\\" width=\\\"50px\\\" height=\\\"50px\\\" border=\\\"1\\\" /&gt;\";\n              //$MemberDisplayList .= '&lt;a href=\"profile2/index.php?id=' . $rid . '\"&gt;' . $user_pic3 . '&lt;/a&gt;';\n\n\n              $i++;\n               $show_new_items .= \"&lt;a href='item_view?item_id=$item_id&amp;&amp;session_item=$item_id'&gt;$show_pic&lt;/a&gt;\";\n\n        }\n\n$newly_listed_names .= \" &lt;a href='item_view?item_id=$item_id&amp;&amp;session_item=$item_id'&gt; $item_name &lt;/a&gt; | \";\n\n\n\n}\n</code></pre>\n\n<p>///////// END  SHOW NEWLY ADDED ITEMS ///////////////////////////////////////////////////</p>\n\n<p>the newly added items in echoed in a div in the body. this is the website : <a href=\"http://www.clicktradeghana.com\" rel=\"nofollow\">http://www.clicktradeghana.com</a> </p>\n\n<p>Can anyone help me please! it's been bothering me for a while now. Thanks.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":61,"score":-3,"question_id":13262119,"title":"My website does not have Site Title","body":"<p>I used seo validator to check my website, but it says my website does not have site title. I have these header codes below:</p>\n\n<pre><code>&lt;head profile=\"http://gmpg.org/xfn/11\"&gt;\n&lt;meta name=\"google-site-verification\" content=\"RR4KnVDyxKEeBxQg8Qwphb0E2RuBTxVE3y-NrLS_tsw\" /&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"&lt;?php bloginfo('html_type'); ?&gt;; charset=&lt;?php bloginfo('charset'); ?&gt;\" /&gt;\n\n    &lt;title&gt;&lt;?php bloginfo('name'); ?&gt; &lt;?php if ( is_single() ) { ?&gt; &amp;raquo; &lt;?php } ?&gt; &lt;?php wp_title(); ?&gt;&lt;/title&gt;\n    &lt;meta name=\"Description\" content=\"Davao Property For Sale is the desired partner of Filipino families in finding and owning a HOME in Davao City, Philippines every step of the way.\" /&gt;\n    &lt;meta name=\"Keywords\" content=\"Davao City, real estate, House for sale, rush house, brand new, ready for occupancy, Davao Property\" /&gt;\n</code></pre>\n\n<p>Please help!</p>\n"},{"tags":["php","wordpress"],"answer_count":6,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":8173,"score":7,"question_id":4090698,"title":"Wordpress: include content of one page in another","body":"<p>How do I include the page content of one or more page in another page?</p>\n\n<p>ex. I have <strong><em>pageA</em></strong>, <strong><em>pageB</em></strong> and <strong><em>pageC</em></strong> and I want to include the contents of these pages in <strong><em>pageX</em></strong></p>\n\n<p>is there a wordpress function that loads the post of a specified page/post?<br>\nlike show_post(\"pageA\")??</p>\n"},{"tags":["php","variables","include"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13255552,"title":"Using outside variables inside an included file (PHP)","body":"<p>My goal is to have multiple sites run off the same files, but have a set of variables that determine which database to access:</p>\n\n<pre><code>&lt;?php \n\n$siteDB = \"this\";\n$domainName = \"thisdomain\";\n$twitterName = \"thistwitter\";\n$facebookName = \"thisfacebook\";\n\ninclude 'http://www.mysite.com/site_files/index.php'; \n\n?&gt;\n</code></pre>\n\n<p>When I try to access the variables in the <code>site_files/index.php</code> they return NULL. I also tried using <code>$GLOBALS['siteDB']</code>, but no luck, which didn't surprise me. </p>\n\n<p>I know there are a couple similar questions out there to this one, but I also wanted to ask if this is even the best way to go about doing this. Should I be using some type of configuration file, or session variables?</p>\n\n<hr>\n\n<p>I have my site files organized like:</p>\n\n<p><code>www.mysite.com/site1</code></p>\n\n<p><code>www.mysite.com/site2</code></p>\n\n<p><code>www.mysite.com/site3</code></p>\n\n<p><code>www.mysite.com/site4</code></p>\n\n<p><hr>\nThe files for the sites are located at:</p>\n\n<p><code>www.mysite.com/site_files</code></p>\n\n<p><hr>\nWhen the files are updated, and because all sites access the same file, they all update. The file above would be at:</p>\n\n<p><code>www.mysite.com/siteX/index.php</code></p>\n"},{"tags":["php","html","parsing","url","dom"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":32,"score":-6,"question_id":13262002,"title":"HTML documents parsing (title, keywords, description, h1 tags) in real-time efficiently?","body":"<p>I got search results from Yahoo API. I want to parse each result which is HTML document grabbing (title, keywords, description and h1 tags anchor texts). When I test this for a single document it works fine. But, with a list of HTML documents (search results 'url'), it takes long time (3-6 mins). I want to do that efficiently?</p>\n\n<p>What should I do in this situation? Any idea?</p>\n"},{"tags":["php","mysql","mysqli"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13262128,"title":"How to output module's names as an echo?","body":"<p>Ok, this is what is happening:</p>\n\n<ol>\n<li><p>When user opens the application, it will display 2 drop down menus, one for courses and the other for modules. The courses drops down menu will display a list of all the courses while in the mean time the modules drop down menu only shows the \"Please Select\" option. </p></li>\n<li><p>When the user selects a course, it will suddenly display the relevant modules in the modules drop down menu depending on the course chosen. The modules are displayed by the editsessionadmin.php file using the jquery function to navigate to the module.php page and displaying the relevant modules options.</p></li>\n<li><p>Now when the user submits the course and modules details, it is suppose to output the Course Id and Course Name and display the Module Id and the Module Name. Now it displays everything but the Module Name. </p></li>\n</ol>\n\n<p>My question is how can I get the Module Name to be displayed.</p>\n\n<p>Below is the editsession.php script where it contains the courses drop down menu and the module drop down menu with the \"Please Select\" option:</p>\n\n<pre><code>   &lt;?php\n\n    // connect to the database\n    include('connect.php');\n\n    /* check connection */\n    if (mysqli_connect_errno()) {\n    printf(\"Connect failed: %s\\n\", mysqli_connect_error());\n    die();\n    }\n\n    $sql = \"SELECT CourseId, CourseName FROM Course ORDER BY CourseId\"; \n\n    $sqlstmt=$mysqli-&gt;prepare($sql);\n\n    $sqlstmt-&gt;execute(); \n\n    $sqlstmt-&gt;bind_result($dbCourseId, $dbCourseName);\n\n    $courses = array(); // easier if you don't use generic names for data \n\n    $courseHTML = \"\";  \n    $courseHTML .= '&lt;select name=\"courses\" id=\"coursesDrop\" onchange=\"getModules();\"&gt;'.PHP_EOL; \n    $courseHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;  \n\n    while($sqlstmt-&gt;fetch()) \n    { \n    $course = $dbCourseId;\n    $coursename = $dbCourseName; \n    $courseHTML .= \"&lt;option value='\".$course.\"'&gt;\" . $course . \" - \" . $coursename . \"&lt;/option&gt;\".PHP_EOL;  \n\n    $outputcourse = \"\"; \n    $outputcourse .= \"&lt;p&gt;&lt;strong&gt;Course:&lt;/strong&gt; \" . $course .  \" - \"  . $coursename . \"&lt;/p&gt;\";\n\n    } \n\n    $courseHTML .= '&lt;/select&gt;'; \n\n    $moduleHTML = \"\";  \n    $moduleHTML .= '&lt;select name=\"modules\" id=\"modulesDrop\"&gt;'.PHP_EOL; \n    $moduleHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;  \n    $moduleHTML .= '&lt;/select&gt;'; \n\n\n    ?&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n\n    function getModules() { \n    var course = jQuery(\"#coursesDrop\").val(); \n    jQuery('#modulesDrop').empty(); \n    jQuery('#modulesDrop').html('&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'); \n    jQuery.ajax({ \n    type: \"post\", \n    url:  \"module.php\", \n    data: { course:course }, \n    success: function(response){ \n    jQuery('#modulesDrop').append(response); \n    } \n    }); \n\n\n    }\n\n\n    &lt;/script&gt; \n\n&lt;form action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\" onsubmit=\"return validation();\"&gt;&lt;table&gt;\n&lt;tr&gt;\n&lt;th&gt;Course: &lt;?php echo $courseHTML; ?&gt;&lt;/th&gt;\n&lt;th&gt;Module: &lt;?php echo $moduleHTML; ?&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;p&gt;&lt;input id=\"moduleSubmit\" type=\"submit\" value=\"Submit Course and Module\" name=\"moduleSubmit\" /&gt;&lt;/p&gt;\n&lt;div id=\"moduleAlert\"&gt;&lt;/div&gt;\n&lt;/form&gt;\n\n&lt;?php\n\nif (isset($_POST['moduleSubmit'])) {    \n\n$outputmodule = \"\"; \n$outputmodule = \"&lt;p&gt;&lt;strong&gt;Module:&lt;/strong&gt; \" . $_POST['modules'] . \"&lt;/p&gt;\";\n\necho $outputcourse;\necho $outputmodule;\n}\n\n?&gt;\n</code></pre>\n\n<p>Below is the module.php where it displays the modules options in the module drop down menu:</p>\n\n<pre><code>&lt;?php\n\n     // connect to the database\n include('connect.php');\n\n /* check connection */\n if (mysqli_connect_errno()) {\nprintf(\"Connect failed: %s\\n\", mysqli_connect_error());\ndie();\n}\n\n\n$course = isset($_POST['course']) ? $_POST['course'] : ''; \n\n$sql = \"\nSELECT cm.CourseId, cm.ModuleId, \nc.CourseName,\nm.ModuleName\nFROM Course c\nINNER JOIN Course_Module cm ON c.CourseId = cm.CourseId\nJOIN Module m ON cm.ModuleId = m.ModuleId\nWHERE\n(c.CourseId = ?)\nORDER BY c.CourseId, m.ModuleId\n\"; \n\n $sqlstmt=$mysqli-&gt;prepare($sql);\n\n $sqlstmt-&gt;bind_param(\"s\",$course);\n\n $sqlstmt-&gt;execute(); \n\n $sqlstmt-&gt;bind_result($dbCourseId,$dbModuleId,$dbCourseName,$dbModuleName);\n\n\n$moduleHTML  = \"\";  \n\n while($sqlstmt-&gt;fetch()) { \n    $moduleHTML .= \"&lt;option value='$dbModuleId'&gt;\" . $dbModuleId . \" - \" . $dbModuleName . \"&lt;/option&gt;\".PHP_EOL;   \n} \n\n\necho $moduleHTML; \n\n $sqlstmt-&gt;execute(); \n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","one-time-password"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13262087,"title":"One time pad in PHP , for two factor login Authentication","body":"<p>Good day , guys sorry for my silly question ! currently am so interested in two factor login system , now I want to make two factor login system for my new web application.am somehow good in PHP ,so i just want to ask you guys ,anyone have any idea about one time pad ? or maybe anyone use it before ,can share with me some idea!!\nfor those didn't know , let me explain \nwe will have a system ,which generate second factor parameters ,then we'll print that pad (card) ,then user once want to login ,system ask user to insert one of this passwords ,instead of his own password..... each row in that pad has ID , e.g : A01 , B03 , ... , so system just request user to enter A01 , and after user insert his username and password , system will check the second parameter as well , if its working with algorithm ,it will move to next page !!!!</p>\n\n<p>See , I have this idea ! but have no idea how to implement it ! if anyone have idea ,pliz share with me !\ntanx </p>\n"},{"tags":["php","delete","directory","multiple","unlink"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":984,"score":-1,"question_id":9075844,"title":"PHP unlink command deleting multiple files","body":"<p>I am calling the php <code>unlink()</code> function on a directory (<code>user-images/1/p/</code>) containing the following files:</p>\n\n<pre><code>1.jpg\n1-s.jpg\n1big.jpg\n2.jpg\n2-s.jpg\n2big.jpg\n</code></pre>\n\n<p>The actual call itself is as follows:</p>\n\n<pre><code>unlink('user-images/1/p/1big.jpg');\n</code></pre>\n\n<p>Instead of just deleting <code>1big.jpg</code>, it deletes all files with a <code>1</code> in them (<code>1big.jpg</code>, <code>1-s.jpg</code>, <code>1.jpg</code>). I've researched this quite a bit and can't seem to find anyone posting with a similar issue.</p>\n\n<p>EDIT:\nbelow is the full script, not much there really, don't see how anything could be affected.  I've never seen this before either :(</p>\n\n<pre><code>&lt;?PHP\nunlink('user-images/1/p/1.jpg');\nunlink('user-images/1/p/1-s.jpg');\n$uid = '1';\n$fileName = '467';\n$image = '/friskyfriends/user-images/1/p/1-big.jpg';\n$width = 320;\n$height = 320;\nbuildPics();\n//buildPics($uid,$fileName,$image,$width,$height);\n?&gt;\n</code></pre>\n"},{"tags":["php","wordpress","wordpress-plugin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":14,"score":-3,"question_id":13262062,"title":"after pre_get_posts action get_children doesn't work in the loop","body":"<p>on the function php</p>\n\n<pre><code>function cstm_get_posts($wp_query) {\n    some code here\n }\n add_action('pre_get_posts', 'cstm_get_posts' );\n</code></pre>\n\n<p>archive php</p>\n\n<pre><code>loop\n    $attachments = get_children( array(\n    'numberposts' =&gt; 1,\n    'order'=&gt; 'ASC',\n    'post_mime_type' =&gt; 'image',\n    'post_parent' =&gt; $post-&gt;ID,\n    'post_type' =&gt; 'attachment'\n    ));\ndisplay attachments image\n</code></pre>\n\n<p>after setting pre_get_posts get_children won't work if i comment out pre_get_posts it works</p>\n"},{"tags":["java","php","hacking"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13260476,"title":"How to pass input to a web page using a automated script","body":"<p>How to pass input to a php web page using a automated script ,i.e. i just want to know how pass arguments to text fields using a script. like passing input to username and password field of a web page and then pressing submit button(that too with a script).</p>\n\n<p>favorable language: JAVA</p>\n"},{"tags":["php","jquery","css"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2192,"score":0,"question_id":4332379,"title":"Simple DatePicker-like Calendar","body":"<p>Can anyone recommend a simple datepicker calendar that I can use for a blog to link to different urls rather than for a form? jquery or css based would be good. When clicking next/prev month I don't want it reload page.</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":52,"score":-5,"question_id":13261949,"title":"Newbie with php need help getting PHP files working online, where to upload / folder structure?","body":"<p>I have made my way through a php / mysql book but cannot figure out how to get my site working online.  i.e. where to save files and the folder structure to use.</p>\n\n<p>Here is what I have:</p>\n\n<p>-Multiple php files in htdocs folder for user registration, login, file uploading etc..(used abyss as my local server if that matters).</p>\n\n<p>-Database connection script outside htdocs folder for security purposes.  </p>\n\n<p>I just have a free 000webhost account I have been trying to use for testing but cannot get it working not matter where I upload my files to. It may be the free host that is tripping me up because I cannot even get a info() script to work, but either way I would just like to know how to do this correctly.</p>\n\n<p>Any help is appreciated</p>\n"},{"tags":["php","include"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13261925,"title":"Using same files for multiple sites (PHP)","body":"<p>My goal is to have multiple sites like this:</p>\n\n<p><code>www.mysite.com/site1/</code></p>\n\n<p><code>www.mysite.com/site2/</code></p>\n\n<p><code>www.mysite.com/site3/</code></p>\n\n<p><code>www.mysite.com/site4/</code></p>\n\n<p><hr>\nThe files for the sites are located at:</p>\n\n<p><code>www.mysite.com/site_files/</code></p>\n\n<p>These include the various pages for the site, as well as the css, js, and images.\n<hr>\nEach of these pages will be nearly the same, but will load content from a different database, and some coloring, as well as some images, will be different.</p>\n\n<p>I'm just curious as to what the best way of doing this would be. I've tried taking the <code>index.php</code> from <code>www.mysite.com/site_files/</code> and including it from the <code>index.php</code> in on of the sites:</p>\n\n<p><strong>Contents of a <code>www.mysite.com/site</code> index.php:</strong></p>\n\n<pre><code>&lt;?php \n\n     $siteDB = \"this\";\n     $domainName = \"thisdomain\";\n     $twitterName = \"thistwitter\";\n     $facebookName = \"thisfacebook\";\n\n     include 'http://www.mysite.com/site_files/index.php'; \n\n?&gt;\n</code></pre>\n\n<p>Then in site_files index.php I'd have a reference to $siteDB:</p>\n\n<pre><code>echo $siteDB;\n</code></pre>\n\n<p>Using this method the variables aren't available to included code.</p>\n\n<p>Each of the sites index.php will have different variables, but they will all include the same <code>site_files/index.php</code></p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["php","css","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13259588,"title":"css not showing up in calender after adding ajax controls","body":"<p>I'm trying to make a calender in php, i have done the first part and have the layout and information, i am trying to add a previous and next month now and the css has gone for some reason. I am following a tutorial </p>\n\n<p>The only info that shows is the previous and next month button and the current month. I have all three files in the htdocs folder of xampp. I dont know whats wrong :(</p>\n\n<p>here is the file to view everything</p>\n\n<p>show_calendar.php</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"calCss.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\" /&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction initialCalendar(){\nvar hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar currentTime = new Date();\nvar month = currentTime.getMonth() + 1;\nvar year = currentTime.getFullYear();\nshowmonth = month;\nshowyear = year;\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction next_month(){\nvar nextmonth = showmonth + 1;\nif (nextmonth &gt; 12) {\n   nextmonth = 1;\n   showyear = showyear + 1;\n }\n showmonth = nextmonth;\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction last_month(){\n\nvar lastmonth = showmonth - 1;\nif (lastmonth &lt; 1) {\n   lastmonth = 12;\n   showyear = showyear - 1;\n }\n showmonth = lastmonth;\n\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body onLoad=\"initialCalendar();\"&gt;\n&lt;div id=\"showCalendar\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>calendar_start.php</p>\n\n<pre><code>&lt;?php\n$showmonth = $_POST['showmonth'];\n$showyear = $_POST['showyear'];\n$showmonth = preg_replace('#[^0-9]#i', '', $showmonth);\n$showyear = preg_replace('#[^0-9]#i', '', $showyear);\n\n$day_count = cal_days_in_month(CAL_GREGORIAN, $showmonth, $showyear);\n$pre_days = date('w', mktime(0,0,0, $showmonth, 1, $showyear));\n$post_days = (6 - (date('w', mktime(0,0,0, $showmonth, $day_count,$showyear))));\n\necho '&lt;div id=\"calendar_wrap\"&gt;';\necho '&lt;div class=\"title_bar\"&gt;';\necho '&lt;div class=\"previous_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Previous Month\" onClick=\"javascript:last_month();\"&gt;&lt;/div';\necho '&lt;div class=\"show_month\"&gt;' . $showmonth . '/' . $showyear . '&lt;/div&gt;';\necho '&lt;div class=\"next_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Next Month\" onClick=\"javascript:next_month();\"&gt;&lt;/div';\necho '&lt;/div&gt;';\necho '&lt;div class=\"week_days\"&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Mon&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Tue&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Wed&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Thur&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Fri&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sat&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sun&lt;/div&gt;';\necho '&lt;div class=\"clear\"&gt;&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n/* Previous Month Filler Days */\nif ($pre_days != 0) {\nfor($i = 1 ; $i&lt;=$pre_days;$i++) {\necho '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\n\n/* Current Month */\nfor($i=1; $i&lt;= $day_count; $i++) {\necho '&lt;div class=\"cal_day\"&gt;';\necho '&lt;div class=\"day_heading\"&gt;' . $i . '&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n}\n/* Next Month Filler Days */\nif ($post_days != 0) {\nfor ($i=1; $i&lt;=$post_days; $i++) {\n echo '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\necho '&lt;/div&gt;';\n?&gt;\n</code></pre>\n\n<p>here is the css</p>\n\n<p>calCss.css</p>\n\n<pre><code>#calendar_wrap {\nwidth: 924px;\nmargin-left: auto;\nmargin-right: auto;\noverflow: hidden;\n}\n.title_bar {\nwidth: 100%; \nheight: 30px;\n}\n.previous_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: left;\n}\n.show_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: center;\n}\n.next_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: right;\n}\n.week_days {\nwidth: 100%;\n}       \n.days_of_the_week  {\nfloat: left;\nwidth: 14%;\ntext-align: center;\n}      \n.cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #9C9;\n}\n.day_heading {\nposition: relative;\nfloat: left;\nwidth: 40px;\nheight: 16px;\npadding: 6px;\ncolor: #000;\nfont-family: Arial;\nfont-size: 14px;\n}    \n.openings {\nwidth: 100%;\nclear:left;\ntext-align: center;\n}\n.non_cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #CCC;\n}\n\n.clear {\nclear: both;\n}\n</code></pre>\n\n<p>Can anyone see anything? any help would be great, what errors do i need to show in the google developer tools?</p>\n"},{"tags":["php","parsing","recursive-regex","lookaround","wikitext"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":9517131,"title":"Parsing balanced nested wiki templates and extract a single line parameter's content by a regexp","body":"<p>I know parsing nested strings or HTML is better done by a real parser but in my case I have simple templates and wanted to extract the title content of a Wiki parameter 'title' from a template. It took me a while to achieve this but thanks to the regex tool of Lars Olav Torvik (<a href=\"http://regex.larsolavtorvik.com/\" rel=\"nofollow\">http://regex.larsolavtorvik.com/</a>) and this user forum here I got to it. May be someone finds it useful. (We all want to contribute, he, won't we? ;-) The following code annotated with comments does the trick. I had to do it with look around assertions to get not two templates mixed together whe there is no title in one of them.</p>\n\n<p>I'm not sure yet for the two questions in the regex comments—see <code>(?# Questions: …)</code>—if I understood the recursive part at <code>(?R)</code>. Is it, that it obtains its content to check for from the outermost defined level, i.e. second regexp line <code>\\{\\{</code> and last regexp line <code>\\}\\}</code>? Would that be correct? And what is the difference between <code>++</code> and <code>+</code> before the alternative of <code>(?R)</code> booth work equally, so it seems when tested.</p>\n\n<ol>\n<li><p>The origninal wiki templates on a page (most simple):\n</p>\n\n<pre><code>$wikiTemplate = \"\n{{Templ1\n| title = (1. template) title\n}}\n\n{{Templ2\n| any parameter = something {{template}}\n}}\n\n{{Templ1\n| title = (3. template) title\n}}\n\";\n</code></pre></li>\n<li><p>The replacement:\n</p>\n\n<pre><code>$wikiTemplate = preg_replace(\n  array(\n  // tag all templates with START … END and add a TITLE-placeholder before\n  // and take care of balanced {{ …  }} recursiveness \n    \"@(?s)   (?# switch to dotall match, i.e. also linebreaks )\n      \\{\\{ (?# find two {{ )\n      (?: (?# group 1 as a non-backreferenced match  )\n        (?:  (?# group 2 as a non-backreferenced match  )\n          (?! (?# in group 1 anything but not {{ or }} )\n            \\{\\{ \n            |   (?# or )\n            \\}\\}\n          )\n          .\n        )++  (?# Question: what is the differenc between ++ and + here? )\n        |    (?# or )\n        (?R) (?# is it recursive of what is defined in the outermost,\n              i.e. 2nd regexp line with \\{\\{ and last line with \\}\\}\n              Question: is that here understood correctly? ) \n      )\n      * (?# zero or many times of the inner regexp defintions )\n      \\}\\} (?# find two }} )\n    @x\",// x-extended → ignore white space in the pattern\n  // replace TITLE by single line content of title parameter \n    \"@\n      (?&lt;=TITLE) (?# TITLE must preceed the following linebreak but is not\n                  backreferenced within \\\\0, i.e. the whole returned match)\n      ([\\n\\r]+)  (?#linebr in 1 may also described as . because of\n                  s-modifier dotall)\n      (?:        (?# start non-backreferenced match )\n        .        (?# any character but not followed by START)\n        (?!START)\n      )+      (?# multiple times)\n      (?:     (?# start non-backreferenced match )\n        \\|\\s*title\\s*=\\s* (?#find the parameter '| title = ')\n      )\n      ([^\\r\\n]+)  (?#get title now to \\\\2 but exclude the line break. \n                   Note it is buggy when there is no line break )\n      (?:     (?# start non-backreferenced match )\n        .     (?# any character but not followed by END)\n        (?!END)\n      )\n      +       (?# multiple times)\n      .       (?# any single character, e.g. the last  because as all\n               stuff before captures anything not followed by END)\n      (?:END) (?#a not backreferenced END)\n    @msx\", // m-multiline, s-dotall match also linebreaks,\n           // x-extended → ignore white space in the pattern\n  ), \n  array(\n    \"TITLE\\nSTART\\\\0END\", // \\0 is the whole returned match, i.e. the template\n  # replace the TITLE to  TITLEtitle contentTITLE…\n    \"\\\\2TITLE\\\\0\",\n  ),\n  $wikiTemplate\n);\nprint_r($wikiTemplate);\n</code></pre></li>\n<li><p>The output is then with the titles tagged by TITLE above each template but only if there was a title:\n</p>\n\n<pre><code>TITLE(1. template) titleTITLE\nSTART{{Templ1\n | title = (1. template) title\n}}END\n\nTITLE\nSTART{{Templ2\n | any parameter = something {{template}}\n}}END\n\nTITLE(3. template) titleTITLE\nSTART{{Templ1\n | title = (3. template) title\n}}END\n</code></pre></li>\n</ol>\n\n<p>Any inside for my questions regarding regexp understanding, or some improvements? \nThanks, Andreas.</p>\n"},{"tags":["php","css","url","css-selectors"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13251007,"title":"php page id changes, css id changes issue","body":"<p>I'm theming a website <a href=\"http://www.complementchic.com\" rel=\"nofollow\">http://www.complementchic.com</a></p>\n\n<p>so in my css, I've set css for the body to resize images at</p>\n\n<p><a href=\"http://www.complementchic.com/modules/vente_flash/flashSale.php\" rel=\"nofollow\">http://www.complementchic.com/modules/vente_flash/flashSale.php</a></p>\n\n<pre><code> #module-vente_flash-flashSale\n</code></pre>\n\n<p>but when I have the page switching language through \nphp post the url becomes:</p>\n\n<p><a href=\"http://www.complementchic.com/modules/vente_flash/flashSale.php?&amp;id_lang=2\" rel=\"nofollow\">http://www.complementchic.com/modules/vente_flash/flashSale.php?&amp;id_lang=2</a></p>\n\n<p>and as a result my body id in css is changing to</p>\n\n<pre><code> #module-vente_flash-flashSale?&amp;id_lang=2\n</code></pre>\n\n<p>and I'm unable to use this ID in my css stylesheet -</p>\n\n<p>So, a) is there a way for me to use this ID in my stylesheet or fix this issue,</p>\n"},{"tags":["php","netbeans","documentation-generation","code-completion"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":3123,"score":3,"question_id":4360892,"title":"How to add documentation for my functions in Netbeans PHP?","body":"<p>I tried the following,</p>\n\n<pre><code>/*\n * addRelationship\n *\n * Adds a relationship between two entities using the given relation type.\n *\n * @param fromKey the original entity\n * @param toKey the referring entity\n * @param relationTypeDesc the type of relationship\n */\n\nfunction addRelationship($fromKey, $toKey, $relationTypeDesc) {\n    $relationTypeKey = $this-&gt;getRelationTypeKey($relationTypeDesc);\n</code></pre>\n\n<p>But, when I tried to use it in another place, it says PHPDoc not found.</p>\n\n<p><img src=\"http://i.stack.imgur.com/nrhBe.png\" alt=\"alt text\"></p>\n\n<p><strong>Any Ideas on how to get this to work in NetBeans PHP?</strong></p>\n\n<p><strong>UPDATE :</strong></p>\n\n<p>The following is the updated syntax which will work in NetBeans PHP - </p>\n\n<pre><code>/** \n * addRelationship\n *\n * Adds a relationship between two entities using the given relation type.\n *\n * @param integer $fromKey the original entity\n * @param integet $toKey the referring entity\n * @param string $relationTypeDesc the type of relationship\n */\n\nfunction addRelationship($fromKey, $toKey, $relationTypeDesc) {\n</code></pre>\n"},{"tags":["php","zend-framework","zend-view","zend-layout"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1427,"score":1,"question_id":2253170,"title":"Zend Framework - Last Code to Execute Before Layout is Rendered","body":"<p>I want to execute some code right before the layout is rendered, after all other code is executed.  Where would I put that code?</p>\n\n<p>I am specifically trying to modify the files referenced in the headLink, headScript, and inlineScript view helpers before they're used by the layout.</p>\n\n<p>Here are the steps I want to take:</p>\n\n<ol>\n<li>Loop over the files in those view helpers</li>\n<li>Make a list of the local files</li>\n<li>Remove local files from the view helpers</li>\n<li>Reference the local file list as a parameter to a server script that combines them for a single HTTP request</li>\n<li>Add that new combine script reference to the appropriate view helper</li>\n</ol>\n\n<hr>\n\n<p>It doesn't appear that a Front Controller Plugin is going to help me accomplish this, and here's why:</p>\n\n<ol>\n<li><code>postDispatch()</code> gets executed after every controller action that's executed, and I need the full list of stylesheets/javascripts</li>\n<li><code>dispatchLoopShutdown()</code> gets executed after the controller action loop, but the layout has already been rendered at this point</li>\n</ol>\n\n<hr>\n\n<p>As Rufinus suggested, I solved this by extending the View Helpers.  <a href=\"http://stackoverflow.com/questions/2269306/modify-stack-in-the-zend-headscript-view-helper\">My question from that angle as well as the solution is here</a>.</p>\n"},{"tags":["php","html","json","post"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":72,"score":-3,"question_id":13261615,"title":"Is it possible to send a json array via post?","body":"<p>Im trying to send a json array to a php post request.</p>\n\n<pre><code>$myarray[] = 500;\n$myarray[] = \"hello world\";\n</code></pre>\n\n<p>how can I send $myarray json data to a php post request?</p>\n\n<p>Here's what I tried:</p>\n\n<pre><code>&lt;form name=\"input\" action=\"post.php\"&gt;\n&lt;input type=\"hidden\" name=\"json\" value=\"[500,'hello world']\" /&gt;\n&lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Im testing the API and was told it only takes json data...but I can't seem to get it to work. My guess is Im sending the json data wrong. Any thoughts?</p>\n"},{"tags":["php","if-statement"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":46,"score":-1,"question_id":13261495,"title":"If $variable = 0 not working","body":"<pre><code>if($_POST['user_admin'] = 0){ $acct_type = \"a standard\"; }\nelseif($_POST['user_admin'] = 1){ $acct_type = \"an administrator\"; }\necho $acct_type;\necho $_POST['user_admin'];\n</code></pre>\n\n<p>Whether <code>$_POST['user_admin']</code> is 0 or 1, <code>$acct_type</code> still returns \"an administrator\" Why?</p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":42,"score":-3,"question_id":13261398,"title":"How do I to redirect after form submission in PHP?","body":"<p>On my site, there is a mailing list form in a box. After the user enters their name &amp; email address, I want to change <em>JUST that box</em>, not the entire page, into a <code>div</code> the same size displaying a thank you message. Like an iFrame form redirect?</p>\n"},{"tags":["php","forms","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13261116,"title":"Not understanding why $_POST isn't set after click on input button","body":"<p>In the context of a form without a submit button, I am not understanding why the $_POST variable doesn't get set.  Here is my code:</p>\n\n<pre><code>&lt;?php\n  $view=\"blablabla\";\n?&gt;\n&lt;form class=\"\" method='POST' accept-charset=\"UTF-8\" action='index.php'&gt;\n&lt;p&gt;\n  &lt;textarea rows=\"4\" cols=\"60\" name='article' id='article' WRAP=SOFT&gt;\n    &lt;?php\n      echo $view;\n    ?&gt;\n  &lt;/textarea&gt;\n&lt;/p&gt;    \n&lt;p&gt;\n  &lt;input type=\"button\" name='do1' id='do1' value=\"do 1\"/&gt;\n  &lt;input type=\"button\" name='do2' id='do2' value=\"do 2\"/&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n\n&lt;?php\n  var_dump(\"POST :\",$_POST);\n?&gt;\n</code></pre>\n\n<p>Shouldn't the var_dump show a value to $_POST once I click one of the 2 buttons?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":42,"score":-3,"question_id":13261573,"title":"How to store data in php file itself?","body":"<p>I am making a system which would ask user for mysql details. I want those details to be written in a settings.php file.</p>\n\n<p>Settings file contains the following data:</p>\n\n<pre><code>$host = \"\";\n$database = \"\";\n$user = \"\";\n$password = \"\";\n$localelang = \"\";\n</code></pre>\n"},{"tags":["php","javascript","html","css"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13261653,"title":"Image gallery that scrolls to the image that corresponding to the clicked thumbnail","body":"<p>I am creating a website that has an image gallery. </p>\n\n<p>You have a side menu with the different categories, a hidden div that appears when you click on a category, filled with thumbnails, and when you click on any of the thumbnails it hides the thumbnails div and shows the image gallery in its place. </p>\n\n<p>An example of what I am trying to do is here : <a href=\"http://www.matitacorp.com/web/portfolio.php\" rel=\"nofollow\">http://www.matitacorp.com/web/portfolio.php</a></p>\n\n<p>What I would like to do is when the thumbnail div hides and the image gallery appears I would also like the image that corresponds to the thumbnail clicked to appear, even if it is 3 or 4 pictures lower in the scrollable thumbnail gallery. </p>\n\n<p>I've tried using .scrolltop() and setting the value but I think that I am missing something. My div's appear properly but I am not getting the scrolltop value to work or I am using the complete wrong function. Hopefully someone can help out.</p>\n\n<p>Here is a piece of the code that I am trying to use:</p>\n\n<pre><code>//thumbnail section\n&lt;div id=\"booth\"&gt;      \n  &lt;a href=\"#\" id=\"identityoverlay\"&gt;&lt;img src=\"thumb1\" alt=\"\" /&gt;&lt;/a&gt;\n  &lt;a href=\"#\" id=\"identityoverlayA\"&gt;&lt;img src=\"thumb2\" alt=\"\" /&gt;&lt;/a&gt;\n  &lt;a href=\"#\" id=\"identityoverlayB\"&gt;&lt;img src=\"thumb3\" alt=\"\" /&gt;&lt;/a&gt;\n&lt;/div&gt;\n\n//main image section\n&lt;div id=\"identityOverlay\" style=\"background-image:url(images/bkgrnd_700.gif); height:720px; display:none;\"&gt;               \n\n    &lt;div id=\"imageGallery style=\"padding-left:95px; padding-top:10px; padding-bottom:15px; overflow:auto; height:610px;\"&gt;            \n                &lt;img src=\"mainImg1\" /&gt;&lt;br /&gt;              \n                &lt;img src=\"mainImg2\" /&gt;&lt;br /&gt;              \n                &lt;img src=\"mainImg3\" /&gt;&lt;br /&gt;              \n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    $(\"#identityoverlay\").click(function () {\n      $(\"#identityOverlay\").show();     \n      $(\"#booth\").hide();\n});    \n\n    $(\"#identityoverlayA\").click(function () {       \n      var myCont = document.getElementById (\"imageGallery\");\n              myCont.scrollTop(100); \n\n      $(\"#identityOverlay\").show();       \n      $(\"#booth\").hide();\n});   \n&lt;/script&gt; \n</code></pre>\n\n<p>Thanks!    </p>\n"},{"tags":["php","apache"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13261327,"title":"PHP script executes twice when longer than 60 seconds","body":"<p>Alright, so I've been wracking my brain about this for the past 3 hours now and been googling like crazy with no resolution to the problem. So, I wrote an example script that reproduces this since my original script is around 800 lines. </p>\n\n<pre><code>&lt;?php\n    set_time_limit(0);\n    ini_set('max_input_time', '-1');\n    ini_set('max_execution_time', '0');\n\n    error_log(\"executing script... \");\n    $time = time();\n    for ($t = 0; $t &lt;= 15; $t++) {\n        error_log(\"Logging: $t (\".(time()-$time).\" seconds)\");\n        sleep(5);\n    }\n    error_log(\"execution done (\".(time()-$time).\" seconds)\");\n?&gt;\n</code></pre>\n\n<p>Now, the sleep function is just being used to re-create the time of execution of the page and is not used in the original code. This will produce the following result in the error_log file</p>\n\n<pre><code>[Tue Nov 06 16:24:14 2012] executing script...\n[Tue Nov 06 16:24:14 2012] Logging: 0 (0 seconds)\n[Tue Nov 06 16:24:19 2012] Logging: 1 (5 seconds)\n[Tue Nov 06 16:24:24 2012] Logging: 2 (10 seconds)\n[Tue Nov 06 16:24:29 2012] Logging: 3 (15 seconds)\n[Tue Nov 06 16:24:34 2012] Logging: 4 (20 seconds)\n[Tue Nov 06 16:24:39 2012] Logging: 5 (25 seconds)\n[Tue Nov 06 16:24:44 2012] Logging: 6 (30 seconds)\n[Tue Nov 06 16:24:49 2012] Logging: 7 (35 seconds)\n[Tue Nov 06 16:24:54 2012] Logging: 8 (40 seconds)\n[Tue Nov 06 16:24:59 2012] Logging: 9 (45 seconds)\n[Tue Nov 06 16:25:04 2012] Logging: 10 (50 seconds)\n[Tue Nov 06 16:25:09 2012] Logging: 11 (55 seconds)\n[Tue Nov 06 16:25:14 2012] executing script...\n[Tue Nov 06 16:25:14 2012] Logging: 0 (0 seconds)\n[Tue Nov 06 16:25:14 2012] Logging: 12 (60 seconds)\n[Tue Nov 06 16:25:19 2012] Logging: 1 (5 seconds)\n[Tue Nov 06 16:25:19 2012] Logging: 13 (65 seconds)\n[Tue Nov 06 16:25:24 2012] Logging: 2 (10 seconds)\n[Tue Nov 06 16:25:24 2012] Logging: 14 (70 seconds)\n[Tue Nov 06 16:25:29 2012] Logging: 3 (15 seconds)\n[Tue Nov 06 16:25:29 2012] Logging: 15 (75 seconds)\n[Tue Nov 06 16:25:34 2012] Logging: 4 (20 seconds)\n[Tue Nov 06 16:25:34 2012] execution done (80 seconds)\n[Tue Nov 06 16:25:39 2012] Logging: 5 (25 seconds)\n[Tue Nov 06 16:25:44 2012] Logging: 6 (30 seconds)\n[Tue Nov 06 16:25:49 2012] Logging: 7 (35 seconds)\n[Tue Nov 06 16:25:54 2012] Logging: 8 (40 seconds)\n[Tue Nov 06 16:25:59 2012] Logging: 9 (45 seconds)\n[Tue Nov 06 16:26:04 2012] Logging: 10 (50 seconds)\n[Tue Nov 06 16:26:09 2012] Logging: 11 (55 seconds)\n[Tue Nov 06 16:26:14 2012] Logging: 12 (60 seconds)\n[Tue Nov 06 16:26:19 2012] Logging: 13 (65 seconds)\n[Tue Nov 06 16:26:24 2012] Logging: 14 (70 seconds)\n[Tue Nov 06 16:26:29 2012] Logging: 15 (75 seconds)\n[Tue Nov 06 16:26:34 2012] execution done (80 seconds)\n</code></pre>\n\n<p>heres some settings from phpinfo that are relevant</p>\n\n<pre><code>=== apache2handler ===\nMax Requests: Per Child: 1000 - Keep Alive: on - Max Per Connection: 200\nTimeouts: Connection: 300 - Keep-Alive: 2 \n\n=== PHP Version 5.4.5 Core Settings ===\nmax_execution_time     Local: 0     Master: 30\nmax_input_time         Local: -1    Master: -1\n</code></pre>\n\n<p>I have tried everything i can think of. it appears to be a server setting either with Apache or PHP, because when i run this same script on my localhost, it executes successfully like it should without the double load. and before its asked, yes every time I make an INI change or apache config change I have been restarting apache.</p>\n\n<p>also, here is the access_log entries for the example above.</p>\n\n<pre><code>*.*.*.* - - [06/Nov/2012:16:43:56 -0700] \"GET /test.php HTTP/1.1\" 200 20 \"-\" \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0\" *.*.*.* *********.com 80 55050278 1012 321 *.*.*.*\n*.*.*.* - - [06/Nov/2012:16:44:56 -0700] \"GET /test.php HTTP/1.1\" 200 20 \"-\" \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0\" *.*.*.* *********.com 80 60054985 1012 321 *.*.*.*\n</code></pre>\n\n<p>There is definitely something doing this once 60 seconds has been reached in execution time because when i change the execution time to say, 55 seconds, it runs once just as it should.</p>\n\n<pre><code>[Tue Nov 06 16:46:00 2012] executing script...\n[Tue Nov 06 16:46:00 2012] Logging: 0 (0 seconds)\n[Tue Nov 06 16:46:05 2012] Logging: 1 (5 seconds)\n[Tue Nov 06 16:46:10 2012] Logging: 2 (10 seconds)\n[Tue Nov 06 16:46:15 2012] Logging: 3 (15 seconds)\n[Tue Nov 06 16:46:20 2012] Logging: 4 (20 seconds)\n[Tue Nov 06 16:46:25 2012] Logging: 5 (25 seconds)\n[Tue Nov 06 16:46:30 2012] Logging: 6 (30 seconds)\n[Tue Nov 06 16:46:35 2012] Logging: 7 (35 seconds)\n[Tue Nov 06 16:46:40 2012] Logging: 8 (40 seconds)\n[Tue Nov 06 16:46:45 2012] Logging: 9 (45 seconds)\n[Tue Nov 06 16:46:50 2012] Logging: 10 (50 seconds)\n[Tue Nov 06 16:46:55 2012] execution done (55 seconds)\n</code></pre>\n\n<p>Any help with this will be much appreciated!</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13261250,"title":"Regex pattern for matching single quoted words in a string and ignore the escaped single quotes","body":"<p>My PHP code looks like this:</p>\n\n<pre>\n$input = \"City.name = 'New York'\";\n$literal_pattern = '/\\'.[^\\']*\\'/';\npreg_match($literal_pattern, $input, $token);\necho $token[0]; // prints 'New York'\n</pre>\n\n<p>My regex needs to grab literals with escaped single quotes like:</p>\n\n<pre>\n$input = \"City.name = 'New \\' York'\";\n$literal_pattern = ???????????;\npreg_match($literal_pattern, $input, $token);\necho $token[0]; // should prints 'New \\' York'\n</pre>\n\n<p>What wil be the reges for $literal_pattern ?</p>\n"},{"tags":["php","pdf","image-processing","imagemagick","imagick"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13261189,"title":"How can I create a specific number of thumbnails from a PDF using Imagick, ImageMagick, and PHP?","body":"<p>I'd like to use PHP, ImageMagick, and Imagick ( PHP Class ) to create thumbnails of a PDF. Some PDFs will only have one page, and some will have many.  I'd like to specify a number ( N ) of thumbnails to create, one for each of the first N pages in the PDF.</p>\n\n<p>The code below works, but produces errors when the PDF doesn't have enough pages ( because I'm trying to instantiate Imagick on a PDF page that doesn't exist ).  I also know that ImageMagick can create thumbnails for all the pages in a PDF when used from the command line.  I'd like to mimic that behavior in the most efficient way ( memory and processor ), while controlling the number of thumbs created ... I only need a thumbnail for the first N pages in large PDFs.</p>\n\n<p>I've looked at various methods to determine the number of pages in a PDF, and they all seem to be resource intensive.  Perhaps the code below is my best bet.  It accomplishes my goal, but bothers me because it results in some errors ... even though they don't affect the ultimate outcome.</p>\n\n<p>Here is my code that currently works ( with errors when the PDF has fewer than N pages ):</p>\n\n<pre><code>private function create_thumbnails(\n    $num_thumbs = 3     // how many thumbnails to create, defaults to one\n) {\n\n    echo \"\\n\\n    creating thumbnails ... \";\n\n    $num_thumbs_created = 0;\n    while( $num_thumbs_created &lt; $num_thumbs )\n    {\n\n        try {\n\n            // instantiate imagick with the pdf\n            $Image = new Imagick( $this-&gt;file_path_pdf . '[' . $num_thumbs_created . ']' );\n\n            // define image file\n            $Image-&gt;setImageColorspace( 255 );\n            $Image-&gt;setCompression( Imagick::COMPRESSION_JPEG );\n            $Image-&gt;setCompressionQuality( 60 );\n            $Image-&gt;setImageFormat( 'jpg' );\n\n            // size the thumbnail\n            //  - resized relative to 8.5x11 ( assuming most pdfs are paper sized )\n            $Image-&gt;resizeImage( 180, 232, imagick::FILTER_POINT, 1 );\n\n            // save image\n            $Image-&gt;writeImage( substr( $this-&gt;File-&gt;path, 0, -4 ) . '-' . $num_thumbs_created . '.jpg' );\n            $Image-&gt;clear();\n\n            $num_thumbs_created++;\n\n        } catch( Exception $e ) {\n\n            echo \"\\n  * failed to create some or all thumbnails: \" . $e-&gt;getMessage();\n            break;\n\n        }\n\n    }   \n\n    $Image-&gt;destroy();\n\n    echo \"done\";\n\n}\n</code></pre>\n"},{"tags":["php","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13261505,"title":"Issue with Populating dropdown from MySQL database","body":"<p>hi using following php code I am trying to populate a dropbox from mysql database:</p>\n\n<pre><code>enter code here\n&lt;?php\n$mysqli = new mysqli('localhost', 'root', '', 'testdb');\nif (mysqli_connect_errno())\n {\n   die('Unable to connect!');\n }\nelse\n{\n $query = 'SELECT * FROM language';\n  if ($result = $mysqli-&gt;query($query))\n   {\n    if ($result-&gt;num_rows &gt; 0)\n     {\n ?&gt;\n   &lt;p&gt; Select a language\n    &lt;select id=\"selectLanguage\"&gt;\n    &lt;option value=\"\"&gt;select&lt;/option&gt;\n &lt;?php\n    while($row = $result-&gt;fetch_assoc())\n {\n  ?&gt;\n  &lt;option value='&lt;?php echo $row[0]; ?&gt;'&gt;&lt;?php echo $row[1]; ?&gt;&lt;/option&gt;\n &lt;?php\n  }\n   ?&gt;\n &lt;/select&gt;\n &lt;/p&gt;\n  &lt;p id=\"result\"&gt;&lt;/p&gt;\n &lt;?php\n  }\n else\n  {\n   echo 'No records found!';\n   }\n $result-&gt;close();\n   }\n  else\n   {\n      echo 'Error in query: $query. '.$mysqli-&gt;error;\n    }\n   }\n   $mysqli-&gt;close();\n   ?&gt;\n</code></pre>\n\n<p>I am not getting any error but the dropbox populated by this message instead of cell values stored in database:\n<strong>(!) Notice : Undefined offset:0 in C:\\wamp\\test\\index.ph on line 40 Call Stack#TimeMemoryFunctionLocation 10.0009684656{main}()...\\index.php:0'></strong>\ncan you please let me know why this is happening?</p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13261501,"title":"Cross-Domain AJAX workarounds without jQuery","body":"<p>I have custom AJAX code on a blog page that I set up to access my PHP files on my own domain, but oh no! I can't do that.</p>\n\n<p>I would use jQuery to work around this, but can't, because I cannot upload the apparently neccessary jQuery.js to the website, as it is not mine.</p>\n\n<p>Is there a way to access PHP requests by modifying HTML <b>only</b> on a page?</p>\n"},{"tags":["php","javascript"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":42,"score":0,"question_id":13244642,"title":"Running a PHP Mysql query loop in Javascript","body":"<p>I'm trying to make my javascript menu dynamic by pulling existing pages from my mysql database.</p>\n\n<p>I want to do this:\n<a href=\"http://stackoverflow.com/questions/12531993/apply-php-mysql-while-loop-in-javascript-object\">Apply php/MySql while loop in javascript object</a> -\nBut in a .js file.</p>\n\n<pre><code>anylinkmenu4.items=[\n\n[\" echo looped content here   \", \"echo looped content here.php\"] ]\n</code></pre>\n\n<p>If the question above answers the question please let me know because I haven't been able to run php in a .js file.</p>\n"},{"tags":["php","mysql","excel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12950978,"title":"Using libXL with PHP and mySQL","body":"<p>I'm working on importing and exporting very high volumes of data from Excel into/out of MySQL via PHP. I have a working solution but it is very memory intensive and slow.</p>\n\n<p>I have seen that a developer has produced a Unix build PHP script incorporating libXL - a very fast C library for excel that costs about $200. This purports to process 10,000 cells in 0.03 secs using 262kb of PHP memory.</p>\n\n<p>I also notice that someone posting on this site is developing a stand alone dll based on libXL which I don't think will be suitable for my purpose. </p>\n\n<p>Questions:</p>\n\n<p>Is anyone out there looking to produce a simple to implement PHP libaray built around libXL which I could deploy on both a local Windows based XAMPP rig and onto my UNIX based host (Hostpapa while I'm developing)</p>\n\n<p>Would I need to buy libXL for both Windows and UNIX to work both locally and on-line</p>\n\n<p>Are there any other PHP solutions which are very fast and have low memory requirements</p>\n\n<p>I have tried every PHP solution suggested by the PHPExcel developer, Mark Baker (thanks Mark), and nothing meets my requirements fully so no suggestions along those lines please.</p>\n\n<p>I am considering learning Perl so I can use the excellent Excel parser that exists but unfortunately I've got time constraints and I think that will take me too long.</p>\n"},{"tags":["php","imagecreatefrompng"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13261366,"title":"Xampp imagecreatefrompng() producing broken image","body":"<p>I have looked at several other similar questions, but unfortunately none of them have helped with the problem I am having.</p>\n\n<p>This is the script.</p>\n\n<pre><code> &lt;?php\n    // returns a PNG graph from the $_GET['per'] variable\n    $per = imagecreate(302,7);\n    $background = imagecolorallocate($per, 0xFF, 0xFF, 0xFF);\n    $foreground = imagecolorallocate($per, 0x00, 0x8A, 0x01);\n    $border = imagecolorallocate($per, 0x99, 0x99, 0x99);\n    if ($_GET['per'] &gt; 0)\n    {\n        $grad = imagecreatefrompng(\"images/grad.png\");\n        $per2 = imagecopy($per, $grad, 1, 1, 0, 0, ($_GET['per'] * 3), 5);\n        imagerectangle($per, 0, 0, 301, 6, $border);\n    }\n\n    header(\"Content-type: image/png\");\n    imagepng($per,NULL,5);\n?&gt;\n</code></pre>\n\n<p>I have checked GD support is on so I am not sure what the problem is. If I build just a simple bar without use of an image it will work fine, but when I try to build with an image it just shows a picture of a broken image.</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":4299,"score":5,"question_id":6256198,"title":"Retrieving my Facebook fan page wall posts via PHP now gives \"An access token is required to request this resource.\"","body":"<p>This is a rather infuriating problem. We had code that was working perfectly fine for months and now, all of the sudden, it doesn't. The code just used this url to grab the wall posts we were making on our fan page and showed them on our site. http://graph.facebook.com/[our number]/feed?limit=10</p>\n\n<p>Now it doesn't work and I've spent a ridiculous number of hours sifting through search results on this issue. Unfortunately, everything I find seems to be referring to Facebook apps and not fan pages. I can't stop seeing how I need to authenticate it using my secret key, but I can't find anything that shows me what my fan page's secret key is or if one even exists. I can't, for the life of me, get this thing working and I can't figure out why it just randomly stopped working in the first place.  </p>\n\n<p>Here's the error we get: </p>\n\n<pre><code>{\n   \"error\": {\n      \"type\": \"OAuthException\",\n      \"message\": \"An access token is required to request this resource.\"\n   }\n}\n</code></pre>\n\n<p>EDIT: So thanks much to Frank Farmer for finding that post, the problem is needing an access token, which I can't find ANY solution to getting ANYWHERE. </p>\n"},{"tags":["java","php","pack"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13261147,"title":"Need Java equivalent to pack(\"H32\", param) from php","body":"<p>I need a java equilavent from this php code:</p>\n\n<pre><code>$string = \"testing\";\n$hexchal = pack('H32', $string);\n</code></pre>\n\n<p>I did search the internet, but found no answer.</p>\n\n<p>Hope you could help me!</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","encryption","rsa","bouncycastle","publickey"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13229751,"title":"PhpSeclib <-> BouncyCastle RSA","body":"<p>I generated on server side a pair public/private keys using phpseclib like</p>\n\n<pre><code>include 'Crypt/RSA.php';\n$rsa = new Crypt_RSA();\n$rsa-&gt;setPrivateKeyFormat(CRYPT_RSA_PRIVATE_FORMAT_PKCS1);\n$rsa-&gt;setPublicKeyFormat(CRYPT_RSA_PUBLIC_FORMAT_PKCS1);\nextract($rsa-&gt;createKey());\necho $privatekey;\necho \"\\n\\n\\n\";\necho $publickey;\n</code></pre>\n\n<p>Now i want import on client side Public key using Java Bouncy Castle engine. \nHere my Public key</p>\n\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIGJAoGBAJEGAmaQejDgJaCg/B5+g68arqpMpl6jZ9+p8TBzNRIq+Ygt/n3iqz+pAtltrlRnmqSD\nsvx0LMluw1wXezQ1pz2tTJTEhg6b69Qui0o//W5UDfle4yOyAHaOs8MD5nubJjXFU8vGiEdektET\njgKqiSr5TBgZoHy+YDWpd4yTemXVAgMBAAE=\n-----END PUBLIC KEY-----\n</code></pre>\n\n<p>But I can do it. I tried to do it serveral ways but i always get errors.</p>\n\n<pre><code>AsymmetricKeyParameter publicKey = \n    (AsymmetricKeyParameter) PublicKeyFactory.createKey(b64.decodeBuffer(key));\nAsymmetricKeyParameter publicKey = \n    (AsymmetricKeyParameter) PublicKeyFactory.createKey(key.getBytes())\n</code></pre>\n\n<p>Also</p>\n\n<pre><code>PEMReader pemReader = new org.bouncycastle.openssl.PEMReader (reader);\nPemObject pem = pemReader.readPemObject();\n</code></pre>\n\n<p>All these ways generate error. </p>\n\n<p>How should i import Public key using Java Bouncy Castle engine?</p>\n\n<p>Thank you\nPavel</p>\n"},{"tags":["php","file-get-contents"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13259353,"title":"Text between two tags (","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3577641/how-to-parse-and-process-html-with-php\">How to parse and process HTML with PHP?</a>  </p>\n</blockquote>\n\n\n\n<p>please help me, i need script which select text between tag's <em>( <code>&lt;DIV id=\"image\"&gt;any text in source soce&lt;/DIV&gt;</code> )</em> on loaded page with file_get_contents.</p>\n\n<p>A friend advised me, but it does not work:</p>\n\n<pre><code>$vyber = file_get_contents($url);\npreg_match_all(\"'&lt;span&gt;(.*?)&lt;/span&gt;'si\", $vyber, $get);\n</code></pre>\n"},{"tags":["php","javascript","facebook","facebook-like","facebook-likebox"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13261399,"title":"How to add the same like used for images an albumes on your external website?","body":"<p>I am in the process of making an image gallery for my website, of which the same photographs can be viewed on Facebook with the additional features to share, like and whatnot. These options, particularly the 'Like' feature for this question but if your able to help on implementing the other features too that would be brilliant, I would like to add on my website.</p>\n\n<p>I know how to add a like button for a URL, edit the settings and whatnot, however I cannot seem to find out how, if it is at all possible, to have the same like button on a photograph on the pages albums so the user can click to like it on the website and Facebook meaning wherever they like the image, it'll show on both.</p>\n\n<p>I have tried using the image URL, the page which you can view the image on and whatnot, however this is treated as a different 'Like' and not the same.</p>\n\n<p>Best Regards,\nTim</p>\n"},{"tags":["php","opencart"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13063617,"title":"Session variables too persistent in OpenCart 1.5.3.1 (PHP)","body":"<p>I'm using a module called FB JS Connect (a free extension, and I can't seem to find it in Extensions now.) All it does is allow users to login using their Facebook ID. </p>\n\n<p>It works pretty well, and uses FB API.</p>\n\n<p>The problem is that, a user logs into OC using the FB Connect button, do something, then logs out. Another user logs in (not using FB Connect button), and the previous user's FB information is still in $_SESSION !</p>\n\n<p>The 4 variables persist in $_SESSION are listed below, until new FB user logs in :</p>\n\n<ul>\n<li>fb__state</li>\n<li>fb__user_id</li>\n<li>fb__code</li>\n<li>fb__access_token</li>\n</ul>\n\n<p>I don't dare to mess around in the code to \"fix\" this issue without expert advices because it might break a lot of things.</p>\n\n<p>I guess I'll need to clear this manually. </p>\n\n<p>I tried putting the following in index.php, and it seems that $session = new Session(); in index.php is called multiple times when user logs in.</p>\n\n<pre><code>// Session\n$session = new Session();\n\nunset($session-&gt;data['fb_&lt;FBAppId&gt;_state']);\nunset($session-&gt;data['fb_&lt;FBAppId&gt;_code']);\nunset($session-&gt;data['fb_&lt;FBAppId&gt;_user_id']);\nunset($session-&gt;data['fb_&lt;FBAppId&gt;_access_token']);\n\n$registry-&gt;set('session', $session); \n</code></pre>\n\n<p>What's the best way to handle this?</p>\n"},{"tags":["php","jquery","for-loop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13261336,"title":"Using JQuery slideToggle with dynamicall generated PHP information","body":"<p>I have thoroughly confused myself.</p>\n\n<p>I have a page with information that is dynamically generated with PHP. I am trying to use jQuery to hide and reveal the information. However, when I execute the code the function only works on the first instance.  </p>\n\n<p>Here's the html/php code:</p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n\n&lt;?php\n\nforeach ($datas as $name)\n{\n    if ($name['state'] === 'PA') \n    {\n        echo\n        '&lt;input type=\"hidden\" name=\"id\" value=\"' . $name['id'] . '\" /&gt;' .\n        '&lt;h1 id=\"name\"&gt;' . htmlentities($name['name']) . '&lt;/h1&gt;' .\n        '&lt;p id=\"descriptionlist\"&gt;' .\n        htmlentities($name['description']) . ' ' .\n        '&lt;br /&gt;' .\n        '&lt;ul id=\"link\"&gt;' .\n        '&lt;li class=\"l1\"&gt;' .\n        '&lt;a href=\"' . $name['site'] . '\"target=\"_blank\"&gt;' . $name['sname'] . '&lt;/a&gt;' .\n        '&lt;/li&gt;' .\n        '&lt;/ul&gt;' .                           \n        '&lt;/p&gt;' .\n\n'&lt;div id = \"locBar' . $name['id'] . '\"&gt;' .  '&lt;div id=\"locText' . $name['id'] . '\"&gt;' .   \n'&lt;h2 id=\"location\"&gt;Location&lt;/h2&gt;' .\n'&lt;/div&gt;' . '&lt;/div&gt;' .\n'&lt;div id=\"locDiv' . $name['id'] . '\"&gt;' .\n</code></pre>\n\n<p>Here's the jQuery script:</p>\n\n<pre><code>$(document).ready(function(){\n$('#locBar').click(function(){\n$('#locDiv').slideToggle('slow')\n})\n});\n</code></pre>\n\n<p>Obviously, jQuery doesn't understand that if I am clicking the div in the second iteration, that anything should happen.  How do I fix this?</p>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13230446,"title":"facebook php-sdk inner website pages wont authenticate","body":"<p>I'm using php-sdk to integrate my website to Facebook app.<br>\nIt works great on root pages, however on inner pages it doesn't.<br>\nI narrowed the code down to the bare minimum but still hasn't got this one.<br>\nI made sure php-sdk is directed from root.</p>\n\n<p>Anyone encountered that?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13260856,"title":"PHP select closest to variable","body":"<p>Just wondering how I would select the closest variable.\nI have a set list of military times, i.e:\n0030\n0100\n0130\n0200\netc...</p>\n\n<p>All in half hour increments. How would I select the closest time to now.\nFor example.\nUser clicks on the button, php gets the time it is now, and selects the closest time variable. So if it's 0144, it would pick 0130. and if it's 0146, it would pick 0200.</p>\n"},{"tags":["php","javascript","html","css","httpwebrequest"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":6124991,"title":"Limiting Server request in a page","body":"<p>I think every one goes through this problem. In my page, I use jQuery , jQuery UI, and many plugins and normally all of these plugins including UI, has its own seperate CSS. Furthermore, I have a habit of seperating my CSS as per the module in different files. </p>\n\n<p>So, now whenever I am loading a page, it requests the server for at least 30 additional resources comprising of <code>styles</code> and <code>scripts</code>, not forgetting <code>includes</code> and <code>requires</code> of the PHP. In slower PCs (by this I am saying systems with 1GB Ram, which should be more than enough I think) I find my pages slow even in local server. </p>\n\n<p>Now this is really unacceptable, And I need serious suggestion about fixing this issue.</p>\n"},{"tags":["php","curl","checkbox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13260719,"title":"curl checking a checkbox","body":"<p>I have a simple php curl function that goes to another site(not owned by me) and fills in the fields and works properly the only thing is i cant get it to check a check box. i cant seem to find an answer.</p>\n\n<pre><code>curl_setopt($ch, CURLOPT_HEADER, false);\n\ncurl_setopt($ch, CURLOPT_NOBODY, false); \ncurl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); \n\ncurl_setopt($ch, CURLOPT_COOKIEJAR, $cookie_file_path); \ncurl_setopt($ch, CURLOPT_COOKIEFILE, $cookie_file_path); \n\ncurl_setopt($ch, CURLOPT_USERAGENT, \"Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.12) Gecko/20050915 Firefox/1.0.7\"); \n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_VERBOSE, 1);\ncurl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);\n\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); \ncurl_setopt($ch, CURLOPT_CUSTOMREQUEST, \"POST\"); \ncurl_setopt($ch, CURLOPT_POST, 1); \n$searchCriteria = array(\n      'historicalMatches' =&gt; $_POST['historicalMatches'],  //the checkbox\n      'firstName'  =&gt; $_POST['firstName'], \n      'middleName' =&gt; $_POST['middleName'],\n      'lastName'   =&gt; $_POST['lastName'], \n      'suffix'     =&gt; $_POST['suffix'],\n      'age'        =&gt; $_POST['age'],\n      etc..);\n\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $searchCriteria);  \n</code></pre>\n\n<p>i have tried setting the value to 1 and on and checked. The html for the checkbox on the other page is: </p>\n\n<pre><code>&lt;input type=\"checkbox\" name=\"historicalMatches\" value=\"on\"&gt;\n</code></pre>\n\n<p>all i need to do is make sure it is checked everytime. So i can add a 2nd </p>\n\n<pre><code>curl_setopt($ch, CURLOPT_POSTFIELDS, 'check the box');\n</code></pre>\n\n<p>that just clicks the box I just cant figure it out. Thanks</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13261131,"title":"jQuery AJAX url can't be found","body":"<p>I am trying to have a form add a comment to the database with ajax. The problem I am having is that ajax cannot find the url because of how my current url is structured</p>\n\n<pre><code>url.com/thread/id\n</code></pre>\n\n<p>I am trying to have the ajax request sent to</p>\n\n<pre><code>url.com/ajax_comment\n</code></pre>\n\n<p>If I enter the whole URL it works correctly. However I need to avoid doing so as this script will be installable on multiple domains. So how can I accomplish this without hard coding the url in?</p>\n\n<p>Is there a structure in javascript, similar to PHP where you can do <code>include('./folder/file.php');</code> or there is another method to accomplish this?</p>\n"},{"tags":["php","permutation","project-euler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13261136,"title":"Clarifying what is meant by the wording for Project Euler #24?","body":"<p><a href=\"http://projecteuler.net/problem=24\" rel=\"nofollow\" title=\"Problem 24\">Problem 24</a> clearly asks:</p>\n\n<blockquote>\n  <p>What is the millionth lexicographic permutation of the digits 0, 1, 2, 3, 4, 5, 6, 7, 8 and 9?</p>\n</blockquote>\n\n<p>If my initial string then is:</p>\n\n<pre><code>$str = \"0123456789\";\n</code></pre>\n\n<p>I interpret the request to mean: perform 1,000,000 permutations on $string.</p>\n\n<pre><code>for( $i = 0; $i &lt; 1000000; $i++ ) {\n\n    $str = lexicographicPermute($str);\n\n}\n\necho $str; // prints 2783915604, an incorrect answer.\n</code></pre>\n\n<p>However, if I only perform 999,999 permutations instead, then it returns the correct answer.</p>\n\n<p>I'm still trying to wrap my head around why it is correct though. </p>\n\n<p>What interpretation of the question would lead you to not perform 1,000,000 permutations?</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":59,"score":-1,"question_id":13256652,"title":"Inserting a date automatically","body":"<p>Can someone show me how I would add a date automatically upon submit to this page? The DB id is \"table1\" and the feild id is \"date\". </p>\n\n<p>My code:</p>\n\n<pre><code>&lt;?php\n\nif (isset($_POST[\"submit\"]) &amp;&amp; $_POST[\"submit\"] == \"Submit\")\n{\n    for ($count = 1; $count &lt;= 9; $count++)\n    {\n        $fields[$count] = \"\";\n        if (isset($_POST[\"field\" . $count . \"\"]))\n        {\n            $fields[$count] = trim($_POST[\"field\" . $count . \"\"]);\n            //echo $fields[$count] . \"&lt;br /&gt;\";\n        }\n    }\n\n    $con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n    $carriername = mysql_real_escape_string($_POST['carriername']);\n    $fromzip = mysql_real_escape_string($_POST['fromzip']);\n    $tozip = mysql_real_escape_string($_POST['tozip']);\n    $typeofequipment = mysql_real_escape_string($_POST['typeofequipment']);\n    $weight = mysql_real_escape_string($_POST['weight']);\n    $length = mysql_real_escape_string($_POST['length']);\n    $paymentamount = mysql_real_escape_string($_POST['paymentamount']);\n    $contactperson = mysql_real_escape_string($_POST['contactperson']);\n    $loadtype = mysql_real_escape_string($_POST['loadtype']);\n\n    $insert = \"INSERT INTO table1 (`carriername` ,`fromzip` ,`tozip` ,`typeofequipment` ,`weight` ,`length` ,`paymentamount` ,`contactperson` ,`loadtype`) VALUES('$carriername' ,'$fromzip' ,'$tozip' ,'$typeofequipment' ,'$weight' ,'$length' ,'$paymentamount' ,'$contactperson' ,'$loadtype');\";\n    mysql_query($insert) or die(mysql_error());\n\n    $select = \"SELECT `carriername` ,`fromzip` ,`tozip` ,`typeofequipment` ,`weight` ,`length` ,`paymentamount` ,`contactperson` ,`loadtype` FROM `table1` ORDER BY `paymentamount` DESC;\";\n    $result = mysql_query($select) or die(mysql_error());\n}\n?&gt;\n&lt;/script&gt;\n&lt;style =\"text-align: center; margin-left: auto; margin-right: auto;\"&gt;&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div\n style=\"border: 2px solid rgb(0, 0, 0); margin: 16px 20px 20px; width: 400px; background-color: rgb(236, 233, 216); text-align: center; float: left;\"&gt;\n&lt;form action=\"\" method=\"post\";\"&gt;\n  &lt;div\n  style=\"margin: 8px auto auto; width: 300px; font-family: arial; text-align: left;\"&gt;&lt;br&gt;\n  &lt;table style=\"font-weight: normal; width: 100%; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n   &lt;table\n style=\"font-weight: normal; width: 100%; text-align: right; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n    &lt;tbody&gt;\n    &lt;tr&gt;\n    &lt;td style=\"width: 10%;\"&gt;Carrier:&lt;/td&gt;&lt;td&gt;\n &lt;?php  \n\n$con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n$query=(\"SELECT * FROM table2\"); \n\n$result=mysql_query($query) or die (\"Unable to Make the Query:\" . mysql_error() ); \necho \"&lt;select name=carriername&gt;\";   \n\nwhile($row=mysql_fetch_array($result)){  \n\necho \"&lt;OPTION VALUE=\".$row['carriername'].\"&gt;\".$row['carriername'].\"&lt;/OPTION&gt;\"; \n} \n\necho \"&lt;/select&gt;\";  \n\n\n?&gt;\n              &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Pick Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"fromzip\" name=\"fromzip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Drop Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"tozip\" name=\"tozip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Load Type:&lt;/td&gt;&lt;td&gt; &lt;input id=\"loadtype\" name=\"loadtype\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Rate:&lt;/td&gt;&lt;td&gt; &lt;input id=\"paymentamount\" name=\"paymentamount\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n          &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;p style=\"text-align: center;\"&gt;&lt;input name=\"submit\" value=\"Submit\"\n class=\"submit\" type=\"submit\"&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;p style=\"margin-bottom: -20px;\"&gt;&amp;nbsp;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["php","fuelphp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13210612,"title":"Fuelphp orm if id not exsitst","body":"<p>I ran into a small problem what i cant really solve.</p>\n\n<p>I created a delete function for videos in fuel php with orm, and maybe its a but stupid but i cant really figure out how to redirext the user if and id doest not exsits.</p>\n\n<p>here is my code</p>\n\n<pre><code>public function action_delete($id)\n    {\n\n        $deletevideo = Model_Video::find($id);\n\n        if($deletevideo-&gt;user_id != Session::get('sentry_user')):\n            Session::set_flash('fail', 'The video you want to remove is not yours, we logged this activity');\n            Response::redirect(Uri::base() . \"myvideos\");\n        else:\n            unlink(realpath(\"users/video/\" . $deletevideo-&gt;video_preview));\n            unlink(realpath(\"users/video/\" . $deletevideo-&gt;video_file));\n            $deletevideo-&gt;delete();\n            Response::redirect(Uri::base() . \"myvideos\");\n        endif;\n    }\n</code></pre>\n\n<p>html </p>\n\n<pre><code>&lt;a href=\"&lt;?php echo Uri::base(); ?&gt;video/delete/&lt;?php echo $myvid-&gt;id; ?&gt;\" onclick = \"if (! confirm('Are your sure you want to delete this video? &lt;?php echo $myvid-&gt;video_title; ?&gt;')) return false;\" class=\"btn btn-danger\"&gt;Delete&lt;/a&gt;\n</code></pre>\n\n<p>I saw in a forum people talked about <code>DB::expr</code> to achive this but can find any example about it.</p>\n\n<p>Could please someone give me a hint?</p>\n"},{"tags":["php","windows","networking","drive"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":34,"score":4,"question_id":13260991,"title":"PHP is_dir() returns false on Windows network drive","body":"<p>I have a network drive mapped to drive letter X:\\ going to an external hard drive with the path of \"\\\\X-Drive\\Public\\Data\".  </p>\n\n<p>I am using Zend Server with Apache. </p>\n\n<p>My PHP command is simple</p>\n\n<pre><code>$isFolder = is_dir(\"x:/\");\necho($isFolder); //FALSE\n</code></pre>\n\n<p>Things you should know:  </p>\n\n<p>The code:</p>\n\n<pre><code>$isFolder = is_dir(\"c:/\");\necho($isFolder); //TRUE\n</code></pre>\n\n<p>works as expected. </p>\n\n<p>I am running the Zend Apache service as an administrator user. I know this is working properly because in Task Manager the httpd.exe process shows the correct user. </p>\n\n<p>The drive is indeed mapped.  I have tried mapping it with several users, to include the same user that Zend Apache uses to no avail. </p>\n\n<p>I have read every post on this matter that I could find.  Every problem I've come across exists either because of user permissions, or a typo.  I don't see how my problem fall into either category.  </p>\n\n<p>I have also tried:</p>\n\n<pre><code>system('net use X: \"\\\\x-drive\\public\" password1 /user:username /persistent:no');\n$isFolder(is_dir(\"x:/\"));\necho($isFolder); //FALSE\n</code></pre>\n\n<p>I am running Windows Vista x64, and the production code will run in Windows 7 x64.  </p>\n\n<p>What other problems could I be running in to?</p>\n"},{"tags":["php","apache"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":24,"score":-1,"question_id":13261074,"title":"Open_Basedir Master value: 0, but it has a local value","body":"<p>I have checked my phpinfo and it says that my <code>open_basedir</code> local value is something, but the master value is not set.</p>\n\n<p>How can I clear the local value? As I need a script which is using <code>open_basedir</code>.</p>\n"},{"tags":["php","arrays","duplicate-data"],"answer_count":10,"favorite_count":2,"up_vote_count":31,"down_vote_count":1,"view_count":23198,"score":30,"question_id":307650,"title":"How to remove duplicate values from an array in PHP","body":"<p>( can't believe this hasn't been asked in SO yet... )</p>\n\n<p>How can I remove duplicate values from an array in PHP?</p>\n"},{"tags":["php","ios","xml","nsarray"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":78,"score":3,"question_id":13254934,"title":"NSArray is empty in iOS despite mysql entry","body":"<p>I have been trying to fill an array in Xcode with xml output from a php script so that ios can connect to mysql. However, I keep getting an empty value for my array despite the fact that there is information in mysql. That must mean that either my attribute section or my parsing of the xml is wrong, but I really don't know what it is that actually is wrong (and no amount of starring at it seems to help). I am not getting any errors from php or xcode. Any ideas?</p>\n\n<p><strong>EDIT: I have followed the suggestions below and I am still getting an empty value, although I believe that it is coming from my php...</strong></p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    char *cStr = \"YES\";\n    NSString *str3 = [NSString stringWithUTF8String:cStr];\n\n\n    NSString *urlString = [NSString stringWithFormat:@\"(censored)\", _login];\n\n    NSXMLParser *Parser = [[[NSXMLParser alloc] initWithContentsOfURL:[NSURL URLWithString:urlString]] autorelease];\n    [Parser setDelegate:self];\n    [Parser parse];\n\n\nNSDictionary *itemAtIndex =(NSDictionary *)[oneam objectAtIndex:0];\n  oneam = [[NSMutableArray alloc] init];   \n    if (([[itemAtIndex objectForKey:@\"its\"]isEqualToString:str3 ])) {\n            [switch1 setOn:YES animated:YES];\n    }\n    else {\n            [switch1 setOn:NO animated:YES];\n    }\n\n}\n\n- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict {\n\n    if ( [elementName isEqualToString:@\"location\"]) {\n        [oneam addObject:[[NSDictionary alloc] initWithDictionary:attributeDict]];\n    NSLog(@\"The array is %@\", oneam);\n    }\n}\n</code></pre>\n\n<p>And here is my php...</p>\n\n<pre><code>&lt;?php\n\n$login = \"hello\";\n$dbh = new PDO('(censored)');\n$sql = \"SELECT oneam FROM login WHERE username = '$login'\";\n\n$q = $dbh-&gt;prepare( $sql );\n\n$doc = new DOMDocument();\n$r = $doc-&gt;createElement( \"oneam\" );\n$doc-&gt;appendChild( $r );\nforeach ( $q-&gt;fetchAll() as $row) {\n    $e = $doc-&gt;createElement( \"location\" );\n\n    $e-&gt;setAttribute( 'its', $row['oneam']);\n\n    $r-&gt;appendChild( $e );\n\n}\nprint $doc-&gt;saveXML();\n?&gt;\n</code></pre>\n"},{"tags":["php","mysql","pdo","limit","posts"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13260783,"title":"Optional LIMIT for a function grabbing all post with PDO","body":"<p>I'm trying to create a function that will grab all posts within a table. I also wanted to add a optional LIMIT parameter. Here is an example:</p>\n\n<pre><code>function get_all_posts($conn, $limit = 0) {\nif ($limit &gt; 0) {\n    $stmt = $conn-&gt;prepare(\"SELECT * FROM posts LIMIT :limit\");\n    $stmt-&gt;execute(array(\n        ':limit' =&gt; $limit\n    ));\n    $results = $stmt-&gt;fetchAll();\n    return $results ? $results : false ;\n} else {\n    $stmt = $conn-&gt;prepare(\"SELECT * FROM posts\");\n    $stmt-&gt;execute();\n    $results = $stmt-&gt;fetchAll();\n    return $results ? $results : false ;\n}\n}\n</code></pre>\n\n<p>If I call the function without using the limit parameter it works and displays all the posts. But if I call the function like this: get_all_posts($conn, \"1\"); Then I get this error:</p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1'' at line 1' in /Applications/MAMP/htdocs/sandbox/blog2/functions.php:19 Stack trace: #0 /Applications/MAMP/htdocs/sandbox/blog2/functions.php(19): PDOStatement->execute(Array) #1 /Applications/MAMP/htdocs/sandbox/blog2/index.php(12): get_all_posts(Object(PDO), '1') #2 {main} thrown in /Applications/MAMP/htdocs/sandbox/blog2/functions.php on line 19</p>\n</blockquote>\n\n<p>Can anyone show me where I've gone wrong?</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13260956,"title":"Rewriting included div from another included div","body":"<p>I have a code sniplet edited from a tutorial, for rewriting a div from a file.\nThe file using this code is in a separate php document,\nand I use <code>include</code> to show it in the main document.\n(Reason for that is that's I'm rewriting part in it with php code, so it needs to refresh).</p>\n\n<pre><code>$(document).ready(function() {\n    $('#pl').click(function(){  \n        var toLoad = $(this).attr('href');\n        $('#pfun').hide('slow',loadContent);\n        $('#load').remove();\n        $('#dplay').append('&lt;span id=\"load\"&gt;&lt;/span&gt;');\n        $('#load').fadeIn('normal');\n        function loadContent() {$('#dplay').load(toLoad,'',showNewContent())}\n        function showNewContent() {$('#pfun').show('slow',hideLoader());}\n        function hideLoader() {$('#load').fadeOut('normal');}\n        return false;\n    });\n});\n</code></pre>\n\n<p>Everything works ok, but I can't figure out how to do something new:\nI have 2 divs (this included) both on the same page, which I want to rewrite to from documents. I'm trying to use the other one as an IFrame of sorts.\n(There's a reason I'm not using an IFRAME)</p>\n\n<p>What I need to know, is where can I add to/change this,\nto target another DIV named \"display\"?\nI'm still learning JS, so don't know many functions, like when/where to do .parent.\nso I am going to need an example, please.</p>\n\n<p>Also, when I use chgdir() in php, to change the root to a subdirectory, it shows the new correctly when I echo getcwd. However, all the links on the page still link to and show images from the starting directory. Any ideas why it would successfully echo the new dir, but not change where the links point to, and where the images load from?</p>\n\n<p>Reminder: These functions are called from <code>include</code>d divs.</p>\n\n<p>Thanks for any insight on either of these!</p>\n"},{"tags":["php","javascript"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":65,"score":-3,"question_id":13260616,"title":"convert number from 12 to 12.00","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5648205/in-php-how-to-print-a-number-with-2-decimals-but-only-if-there-are-decimals-al\">In PHP, how to print a number with 2 decimals, but only if there are decimals already?</a>  </p>\n</blockquote>\n\n\n\n<p>Brothers I want to convert me any way I entered into a text field automatically turns\n12 to 12.00</p>\n\n<p>How possible work by php and javascript</p>\n\n<p>Thanks</p>\n"},{"tags":["php","query"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":7,"view_count":66,"score":-7,"question_id":13260741,"title":"Why doesn't this query return any results?","body":"<p>The query below returns nothing, and frankly I do not understand why. Any hint will be appreciated. Must be an error in the code</p>\n\n<pre><code>$query = sprintf(\"SELECT *, \n    unix_timestamp(StartDate) AS SD FROM %s AS a\n    FROM \" . AL_ARTICLES_TABLE . \" AS art\n    INNER JOIN \" . AL_USERS_TABLE . \" AS u ON art.AuthorID = u.UserID\n    WHERE a.Visible=1 AND a.Status=1  \n    AND a.IsFinished=1     LEFT JOIN \" . AL_CATASSOC_TABLE . \" \n    AS ca ON art.ArticleID = ca.ArticleID\n    INNER JOIN \" . AL_CATEGORIES_TABLE . \" \n    AS c ON ca.CategoryID = c.CategoryID \n    WHERE ca.CategoryID IN(%s) \n    AND art.Featured=1  \n    AND art.Visible=1 \n    AND c.inrecent=1  \n    AND art.Status=1  \n    AND unix_timestamp(a.StartDate) &lt;= unix_timestamp(now()) \n    AND (unix_timestamp(a.ExpiryDate) &gt;= unix_timestamp(now()) \n    OR a.EnableExpiry=0) %s  \n    ORDER BY StartDate DESC, ArticleID DESC %s\", \n    AL_ARTICLES_TABLE, AL_USERS_TABLE, AL_CATASSOC_TABLE, AL_CATEGORIES_TABLE, $podcastQuery, $limitArticles);\n</code></pre>\n"},{"tags":["php","symfony-1.4","fpdf","symfony-plugins"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13259545,"title":"no footer/header - extends class?","body":"<p>My /symfony/lib/fpdf/fpdf.php:</p>\n\n<pre><code>//Version: 1.7                                                                 *\n\ndefine('FPDF_VERSION','1.7');\n\nclass FPDF\n{\nvar $page;               // current page number\nvar $n; \n....\n</code></pre>\n\n<p>My /symfony/lib/fpdf/extends.php:</p>\n\n<pre><code>define('font/');\nrequire('fpdf.php');\n\nclass PDF extends FPDF {\n\n    //Page header\n        function Header() {\n            //Logo\n            $this-&gt;Image('logo_pb.png', 10, 8, 33);\n            //Arial bold 15\n            $this-&gt;SetFont('Arial', 'B', 15);\n            //Move to the right\n            $this-&gt;Cell(80);\n            //Title\n            $this-&gt;Cell(30, 10, 'Title', 1, 0, 'C');\n            //Line break\n            $this-&gt;Ln(20);\n        }\n\n    //Page footer\n        function Footer() {\n            //Position at 1.5 cm from bottom\n            $this-&gt;SetY(-15);\n            //Arial italic 8\n            $this-&gt;SetFont('Arial', 'I', 8);\n            //Page number\n            $this-&gt;Cell(0, 10, 'Page ' . $this-&gt;PageNo() . '/{nb}', 0, 0, 'C');\n        }\n\n    }\n</code></pre>\n\n<p>My action in some_module/action.class.php:</p>\n\n<pre><code>$pdf = new FPDF('P', 'cm', 'A4');\n$pdf-&gt;SetAutoPageBreak(true);\n\ndefine('EURO', chr(128));\n$pdf-&gt;AddPage();\n...//somecode what is workking\n$pdf-&gt;AddPage();\n</code></pre>\n\n<p>But there is no header or footer. What do I do wrong?       </p>\n"},{"tags":["php","stdout","stdin"],"answer_count":3,"favorite_count":9,"up_vote_count":10,"down_vote_count":1,"view_count":9865,"score":9,"question_id":937627,"title":"how to redirect STDOUT to a file in PHP?","body":"<p>The code below almost works, but it's not what I really meant:</p>\n\n<pre><code>ob_start();\necho 'xxx';\n$contents = ob_get_contents();\nob_end_clean();\nfile_put_contents($file,$contents);\n</code></pre>\n\n<p>Is there a more natural way?</p>\n"},{"tags":["php","session-variables","session-state","session-cookies"],"answer_count":9,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":99,"score":4,"question_id":12890360,"title":"How can I manage separate session states for two different websites on the same hosting using php","body":"<p>I am currently developing two web sites, and debugging them by connecting to <code>localhost</code>. </p>\n\n<p>The first site is referenced with <code>http://localhost/web1</code> and the second is referenced with  <code>http://localhost/web2</code>. </p>\n\n<p>I have created a login script for each in which three domain-specific session variables are set, e.g.:</p>\n\n<ol>\n<li><code>$_SESSION['web1_user']</code></li>\n<li><code>$_SESSION['web1_login']</code></li>\n<li><code>$_SESSION['web1_sessionID']</code></li>\n</ol>\n\n<p>However, when I log in to <strong>both</strong> sites on the <strong>same browser</strong>, then log out of <strong>one</strong> site (which fires <code>session_destroy()</code>, I am automatically logged out of the <strong>second</strong> site as well.</p>\n\n<p>Any ideas as to how I might resolve this problem would be very much appreciated. :(</p>\n"},{"tags":["php","javascript","forms","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13260584,"title":"Dynamically passing PHP variables","body":"<p>I'm trying to accomplish a JavaScript form that will load the result from a PHP request on an external website, after a text box is filled out.</p>\n\n<p>Right now, I have</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"/&gt;\nfunction sendrequest() {\ndocument.location=\"myphpsite.com/submit.php?tb=\"+document.getElementById(\"tb\").value;\n}\n&lt;/script&gt;\n&lt;form&gt;\n&lt;input type=\"text\" id=\"tb\" onChange=\"sendrequest()\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This code is going nowhere, because from my current knowledge, you can only load PHP variables on startup, by using \"script src=... \", and by having the php page return some javascript code.</p>\n\n<p>What I'm looking for is a way to request/receive php variables dynamically, something that would work like this:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\nfunction getdata() {\nreturn document.get(\"myphpsite.com/submit.php?tb=hi\");\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>In other words, is there a function that dynamically \"reads\" a website, and returns the raw text?</p>\n"},{"tags":["php","html-parsing"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":3866016,"title":"Checking up on a link exchange","body":"<p>I have made a link exchange with another site. 3 days later, the site has removed my link.</p>\n\n<p>Is there a simple php script to help me control link exchanges and notify me if my link has been removed?</p>\n\n<p>I need it as simple as possible, and not a whole ad. system manager.</p>\n"},{"tags":["php","html","apache",".htaccess","mamp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13260492,"title":"htaccess and php files - treating all files as php?","body":"<p>I have a website on localhost, latest MAMP build.\nThe subfolder is test2.</p>\n\n<p>This is its .htaccess:</p>\n\n<pre><code>DefaultType text/html\nDefaultType application/x-httpd-php\n</code></pre>\n\n<p>Is this the correct way to ensure files get treated as both HTML and PHP?</p>\n"},{"tags":["php","browser","download"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13255960,"title":".php pages download instead of opening in a browser","body":"<p>I've found lots of posts telling of how to force a browser to download a file instead of opening it, but I'm a bit confounded as to why my files, which are meant to open in a browser, are sent to download instead.</p>\n\n<p>These are .php pages, which worked perfectly under the previous URL.  They have been uploaded to the same server under a new URL, but I'm not sure what needs to be adjusted for them to open in a browser correctly.</p>\n"},{"tags":["php","arrays","multidimensional-array"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13259143,"title":"Making values unique in multidimensional array","body":"<p>I have some Problems reducing a multidimensional array into a normal one.</p>\n\n<p>I have an input array like this:</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array (\n        [0] =&gt; 17\n        [1] =&gt; 99\n    )\n[1] =&gt; Array (\n        [0] =&gt; 17\n        [1] =&gt; 121\n    )\n[2] =&gt; Array (\n        [0] =&gt; 99\n        [1] =&gt; 77\n    )\n[3] =&gt; Array (\n        [0] =&gt; 45\n        [1] =&gt; 51\n    )\n[4] =&gt; Array (\n        [0] =&gt; 45\n        [1] =&gt; 131\n    )\n</code></pre>\n\n<p>So I have a multidimensional array with some overlaps in the values (eg 17,99 and 17,121)\nNow I want to have an output like this:</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array (\n        [0] =&gt; 17\n        [1] =&gt; 99\n        [2] =&gt; 121\n        [3] =&gt; 77\n    )\n[2] =&gt; Array (\n        [0] =&gt; 45\n        [1] =&gt; 51\n        [3] =&gt; 131\n    )\n</code></pre>\n\n<p>I want to save, which articles are the same in my database this way. The output array shpuld still be a multidimesional array, but every number on the second level should be unique in the array.</p>\n\n<p>I'm trying to solve this for more than a week now, but I dont get it to work. I know it should be easy...but anyway - I dont get it :D</p>\n\n<p>This is what i got so far:</p>\n\n<pre><code>$parity_sorted = array();\n    foreach($arr as $key =&gt; $a){\n        if(count($parity_sorted) &gt; 0){\n        foreach($parity_sorted as $key2 =&gt; $arr_new){\n            if(in_array($a[0], $arr_new) || in_array($a[1], $arr_new)){\n                if(!in_array($a[0], $arr_new)){array_push($parity_sorted[$key2], $a[0]);}\n                if(!in_array($a[1], $arr_new)){array_push($parity_sorted[$key2], $a[1]);}\n            } else {\n                array_push($parity_sorted, array($a[0],$a[1]));\n            }\n        }\n        } else {\n            array_push($parity_sorted, array($a[0],$a[1]));\n        }\n\n    }\n</code></pre>\n\n<p>Did you maybe already solve problem like this or is there a much easier way? Maybe I just think too complicated (It's not my first try, but this code was the last try)</p>\n\n<p>Any help would be appreciated. Thanks a lot</p>\n"},{"tags":["php","zend-framework","date","age"],"answer_count":7,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1057,"score":1,"question_id":6974131,"title":"How to calculate age from date with Zend_Date","body":"<p>How can I calculate age from born date using Zend_Date object?</p>\n"},{"tags":["php","regex"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13260202,"title":"php regular expression for dictionary string","body":"<p>I could use some help writing a regular expression for this dictionary string (I don't use them all that often).</p>\n\n<p>This is an example of the string dictionary:</p>\n\n<pre><code>O:8:\"stdClass\":5:{s:4:\"sent\";i:0;s:6:\"graded\";i:0;s:5:\"score\";i:0;s:6:\"answer\";s:14:\"&lt;p&gt;Johnson&lt;/p&gt;\";s:8:\"response\";s:0:\"\";}\n</code></pre>\n\n<p>I want to extract Johnson from the string dictionary.  </p>\n\n<p>Any help would be appreciated, thanks.</p>\n"},{"tags":["php","python"],"answer_count":6,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":550,"score":2,"question_id":3452107,"title":"Programming language for simple dynamic web site development?","body":"<p>I only know the basics of HTML/CSS. The only experience with web development I have is whatever I learned in Web Development 101 at my university, aka \"OMG - CSS u guise, 101\". </p>\n\n<p>I'm mainly interested in building simple dynamic sites. That's the whole reason I got into this in the first place. I'm at the point now where I realize that it's not enough to only know HTML and CSS.</p>\n\n<p>I realize that I'm going to have to go through a learning curve no matter what programming language I choose to learn, so I figure I should learn something that will be most the beneficial in the long run. I'm all about putting in the sweat equity now to build a better future. PHP seems like the easy and obvious first choice, but I keep reading over and over and over again how people have switched from PHP to Python and never been happier. Or how you should skip PHP altogether and just learn Python or Perl.</p>\n\n<p>But I don't understand why that is!</p>\n\n<p>I keep looping back to thinking \"F___ it, I just need to learn PHP so I can be a WordPress ninja.\" But then I do some more reading, and I walk away feeling like PHP is more of a 'temporary fix' language, and that the REAL languages are Python/Perl/Ruby. But I'm very split because I really don't need to do anything complicated. I just need to build basic 50-page web sites with some database interactivity.</p>\n\n<p>Do you have any advice? What would you learn if you were in my spot??</p>\n"},{"tags":["php","google-maps-markers"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":36,"score":1,"question_id":13250171,"title":"Get google map when click on an address","body":"<p>I want to place google map in my PHP project.. Is it possible to get google map while click on an addresss?? My requirement is \"when clicking on the address it will open in maps\" Is it possible in PHP?? Anybody please help..</p>\n"},{"tags":["php","regex","string"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":13245183,"title":"How to extract an array from a string that contains a numbered list?","body":"<p>Using PHP, I am looking to extract an array from a string that contains a numbered list.</p>\n\n<p>Example string:</p>\n\n<pre><code>The main points are: 1. This is point one. 2. This is point two. 3. This is point three.\n</code></pre>\n\n<p>would result in the following array:</p>\n\n<pre><code>[0] =&gt; 1. This is point one.\n[1] =&gt; 2. This is point two.\n[2] =&gt; 3. This is point three.\n</code></pre>\n\n<p>The format of the string can vary - e.g.:</p>\n\n<pre><code>1. This is point one, 2. This is point two, 3. This is point three.\n1) This is point one  2) This is point two 3) This is point three\n1 This is point one. 2 This is point two. 3 This is point three.\n</code></pre>\n\n<p>I have started using <strong>preg_match_all</strong> with the following pattern:</p>\n\n<pre><code>!((\\d+)(\\s+)?(\\.?)(\\)?)(-?)(\\s+?)(\\w+))!\n</code></pre>\n\n<p>but I am unsure as how to match rest of string/up to the next match.</p>\n\n<p>Example available at <a href=\"http://regexr.com?32n9c\" rel=\"nofollow\">RegExr</a></p>\n"},{"tags":["php",".htaccess","rewrite"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":955,"score":2,"question_id":5437019,"title":"htaccess rewrite if redirected file exists","body":"<p>The problem: Some html pages of php equivalents (apple.html, apple.php; orange.html, orange.php), but not all do (grapes.html).</p>\n\n<p>The goal: If the php version exists, rewrite, otherwise keep it the html version.</p>\n\n<p>I have:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteRule ^(.*)\\.html$ /$1.php [R]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)\\.php$ /$1.html [R]\n</code></pre>\n\n<p>Interesting issues:</p>\n\n<p>If I don't put / in front of $1.php then I end up with: site.com/document/root/path (ie: site.com/home/user/www/file.php)</p>\n\n<p>When calling the second RewriteRule, I get <a href=\"http://site.com/http:/site.com/page.html\" rel=\"nofollow\">http://site.com/http:/site.com/page.html</a> and it tells me there were too many redirects. Notice how there is only one / in the second http.</p>\n\n<p>I've made some progress, I added RewriteBase / and removed the / before the $1, but I still get the too many redirects error (the web page at site.com/page.html has resulted in too many redirects. Clearing your cookies for this site or allowing third-party cookies may fix the problem. If not, it is possibly a server configuration issue and not a problem with your computer).</p>\n\n<p>It seems like if I just rewrite html -> php -> html I get the same error. So it looks like the logic is working, but that sort of logic isn't allowed. I can't think of any other way I could see if a \"php version\" of a file exists? The only way I can think of is do something similar to:</p>\n\n<pre><code>RewriteCond ^(.*)\\.html$ $1.php -f\nRewriteRule ^(.*)\\.html$ $1.php [R]\n</code></pre>\n\n<p>Unfortunately that doesn't quite work (I'm guessing because it has three segments on the condition line). I'm trying to get the filename without the extension, then say if filename.php is a file, rewrite page.html to page.php</p>\n"},{"tags":["php","javascript","wordpress","plugins","tinymce"],"answer_count":8,"favorite_count":8,"up_vote_count":14,"down_vote_count":0,"view_count":9326,"score":14,"question_id":2855890,"title":"Call TinyMCE in a WordPress plugin","body":"<p>Is there a way to add TinyMCE into my own WordPress plugin?</p>\n\n<p>I have a textarea in my back end script and want to make this area into a TinyMCE WYSIWYG editable field. Is there a way to do that?</p>\n\n<p><img src=\"http://dl.getdropbox.com/u/6357394/wysiwyg.jpg\" alt=\"wysiwyg demonstration screenshot\"></p>\n\n<p>This code does not work for me:</p>\n\n<pre><code>&lt;?php\n    wp_tiny_mce(false,array(\"editor_selector\" =&gt; \"test\"));\n?&gt;\n&lt;textarea class=\"test\" id=\"test\" name=\"test\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>It shows the javascript error</p>\n\n<pre><code>f is undefined\n</code></pre>\n\n<p>Firebug screenshot:\n<img src=\"http://dl.getdropbox.com/u/6357394/mceeror.png\" alt=\"TinyMCE error\"></p>\n\n<p>This didn't work either:</p>\n\n<pre><code>&lt;textarea class=\"theEditor\" id=\"videogalerie-add_description\" name=\"videogalerie-add_description\"&gt;&lt;/textarea&gt;\n</code></pre>\n"},{"tags":["php","installation","environment","duplication"],"answer_count":4,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":83,"score":7,"question_id":13259727,"title":"How to duplicate a PHP-based website?","body":"<p><strong>Background:</strong></p>\n\n<p>I'm new to PHP, but I've been asked to make some code changes to support an application hosted on our Intranet. The actual code changes don't look too bad.  However, there is currently no development environment, so I have undertaken to create a duplicate server to develop and test my changes. </p>\n\n<p>At this point, and not being well-versed in PHP, it looks like I may have to reverse engineer all the Apache HTTPD and PHP configuration settings/options/packages on the production machine unless I can strategically copy the existing production environment to the development machine.  </p>\n\n<p><strong>My questions:</strong> </p>\n\n<ol>\n<li>Is it possible to do that?  i.e. to FTP certain directories in the Apache/PHP installation over to replicate the original environment?  If so, which directories?  One complication may be that the original environment is SUSE Linux and the development machine is CentOS.  Other than that, I have installed the matching HTTPD and PHP versions on the dev machine.</li>\n<li>If this isn't wise/possible, how should I go about duplicating the environment?  What areas should I check?</li>\n</ol>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","magento","cart","magento-admin","magento-1.7"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12105983,"title":"Shopping cart items not showing in customer view","body":"<p>Running Magento 1.7.2.</p>\n\n<p>When inside the customer view in the administrator it shows 1 item in the customers cart but not the details. I’ve attached a screen shot. Does anyone know what the issue could be or can you verify that it’s working properly so I know it’s my installation?</p>\n\n<p>Thanks.</p>\n\n<p><strong><a href=\"http://www.whitesharkcreations.com/magento_bug.jpg\" rel=\"nofollow\">View Screenshot Here</a></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/zGbT3.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["php","javascript","jquery","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":93,"score":-2,"question_id":13260102,"title":"$.get() Javascript","body":"<p>its my first try to do something with jquery/Ajax/php/webtech and I'm really stuck.</p>\n\n<p>I'm trying to  use a get() Jquery to execute a php script to do some sql things. I need to pass two variables to the php file. This isn't working, and I can't find the problem..</p>\n\n<pre><code>&lt;body&gt;\n&lt;script&gt;\nfunction addBeer (name,price)\n{\n$.get(\"beer.php\", { n: name, p:price });\nwindow.alert(link);\n} \n&lt;/script&gt;\n&lt;h1&gt;OG297 BIERLIJST&lt;/h1&gt;\n&lt;?php\n$price = 0.30;\n$con = mysql_connect('localhost', 'root', 'root');\nif (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n\nmysql_select_db(\"Og297.Drinkers\", $con);\n\n$result = mysql_query(\"SELECT * FROM Og297.Drinkers\");\n\n\nwhile($row = mysql_fetch_array($result)){\n$picture = $row['Picture'];\n$name = $row['Name'];\necho \"&lt;div onclick= \\\"addBeer('$name','$price')\\\" class= 'thumbnail'&gt;&lt;img src= $picture                   height= '90' width= '90' alt= $name title= $name&gt;&lt;div class= 'overlay'&gt;&lt;/div&gt;&lt;/div&gt;\";}\n\nmysql_close($con);\n?&gt;\n</code></pre>\n\n<p>\nThe function that uses the $.get is addBeer and is called in the div.</p>\n\n<p>This is my php file:</p>\n\n<pre><code>&lt;?php\n\n   $name = $_GET[\"n\"];\n   $price =$_GET[\"p\"];\n$con = mysql_connect('localhost', 'root', 'root');\nif (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n\nmysql_select_db(\"Og297.Bierlijst\", $con);\nmysql_query(\"INSERT INTO  `Og297`.`Bierlijst` (\n`Id` ,\n`Name` ,\n`Prijs` ,\n`Betaald` ,\n`Time`\n)\nVALUES (\nNULL ,  '$name',  '$price',  '0', \nCURRENT_TIMESTAMP\n);\");\nmysql_close($con);\n\n\n?&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","sql","cookies","registration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13259966,"title":"Create a random, sequenced id based on cookie session?","body":"<p>I have a user sign up or registration form to allow guests to my site become registered members. The form consists of first name, last name, email etc, the action goes to process_reg.php on submit.</p>\n\n<p>The information is then inserted into an sql table 'ptb_registrations'. but it doesn't work yet because i am trying to randomly generate a new user id with the form from a cookie session. I'm not sure if what i'm doing is right. can people please correct me where I'm wrong or point me in the right direction. Thanks.</p>\n\n<p>here's my script for process_reg.php:</p>\n\n<pre><code>&lt;?php\nrequire_once(\"session.php\"); \nrequire_once(\"functions.php\");\nrequire('_config/connection.php');\n?&gt;\n&lt;?php \n\nsession_start();\n\ninclude '_config/connection.php'; \n\n\nfunction get_user_id() {\n    global $connection;\n    global $email;\n    $query = \"SELECT *\n                FROM ptb_registrations\n                WHERE email = \\\"$email\\\"\n                \";\n        $user_id_set = mysql_query($query, $connection);\n        confirm_query($user_id_set);\n        return $user_id_set;\n        }\n?&gt;\n&lt;?php\n$user_id_set = get_user_id();\nwhile ($user_id = mysql_fetch_array($user_id_set)) {\n    $cookie1 = \"{$user_id[\"id\"]}\";\n    setcookie(\"ptb_registrations\", $cookie1, time()+3600);  /* expire in 1 hour */\n\n}\n?&gt;\n&lt;?\n\n$first_name = $_POST['first_name'];\n$last_name = $_POST['last_name'];\n$email = $_POST['email'];\n$display_name = $_POST['display_name'];\n$date_of_birth = $_POST['date_of_birth'];\n$contact_number = $_POST['contact_number'];\n$station = $_POST['station'];\n$hobbies = $_POST['hobbies'];\n$gender = $_POST['gender'];\n$password = $_POST['password'];\n\n\n\n\n\n\n\n\n$result = mysql_query(\"SELECT first_name FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT last_name FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT display_name FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT email FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT contact_number FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT date_of_birth FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT hobbies FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT station FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT gender FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT password FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n\n\n\n\n\n\nif(!$result) \n{ \necho \"The username you entered does not exist\"; \n} \nelse \nif($email!= mysql_result($result, 0)) \n{ \necho \"\"; \n\n\n    $sql=mysql_query(\"INSERT ptb_registrations SET first_name='$first_name' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET last_name='$last_name' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET display_name='$display_name' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET email='$email' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET contact_number='$contact_number' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET date_of_birth='$date_of_birth' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET hobbies='$hobbies' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET station='$station' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET gender='$gender' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET password='$password' WHERE id=\".$cookie1['user_id'].\"\"); \n\n\n}\n    if($sql) \n    { \n    echo \"&lt;div class=\\\"infobox-profile\\\"&gt; &lt;strong&gt;Thank You&lt;/strong&gt; - We have received your registration details.&lt;/div&gt;\"; \n    }\nelse\n{ \necho \"&lt;div class=\\\"infobox-profile\\\"&gt; &lt;strong&gt;Oooops!&lt;/strong&gt; - Something went wrong. &lt;a href=\\\"../edit_contact_number.php\\\"&gt;Click here&lt;/a&gt; to try again.&lt;/div&gt;\"; \n}  \n?&gt;\n&lt;? ob_flush(); ?&gt;\n\n&lt;style&gt;\n.infobox-profile {\n    background-color: #e1e0f7;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 14px;\n    color: #181469;\n    padding-top: 20px;\n    padding-right: 10px;\n    padding-bottom: 20px;\n    padding-left: 70px;\n    margin-bottom: 20px;\n    background-image: url(../img/icons/info-icon.png);\n    background-repeat: no-repeat;\n    background-position: 15px center;\n    border-top-width: 1px;\n    border-top-style: solid;\n    border-top-color: #8f8fdb;\n    border-right-width: 1px;\n    border-bottom-width: 1px;\n    border-left-width: 1px;\n    border-right-style: solid;\n    border-bottom-style: solid;\n    border-left-style: solid;\n    border-right-color: #8f8fdb;\n    border-bottom-color: #8f8fdb;\n    border-left-color: #8f8fdb;\n    border-radius: 4px;\n    width: 385px;\n    margin-left:8px;\n}\n&lt;/style&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13256782,"title":"How can I have dropdown box with the list and inserted value as default for UPDATE In PHP.?","body":"<p>First I would like to update the records.\nI created dropdown box which has values from mySQL FROM SELECT statemet it's working fine with one previously selected database entry. \nbut what I would like to have another values for the modification wich i have in another table.</p>\n\n<p><strong>DROP DOWN FOR THE UPDATE from order table value.</strong></p>\n\n<pre><code>    echo '&lt;div class = \"MediaType\" &gt;'; //Start class Media Type\n    echo '&lt;strong&gt;&lt;label for=\"rate\"&gt;Media Type&lt;/label&gt;&lt;/strong&gt;';\n    echo '&lt;br/&gt;&lt;br/&gt;' ;\n\n        $sql = \"SELECT `media_type` FROM `order` where `po_number` = '\".$ponumber.\"'\";\n        $result = mysql_query($sql);\n\n        while ($row = mysql_fetch_array($result)) \n            {\n                echo \"&lt;select class='dropdownsize' name='media_type[]' tabindex='$k'&gt;\";\n\n                echo \"&lt;option value='\" . $row['media_type'] . \"'&gt;\" . $row['media_type'] . \"&lt;/option&gt;\";\n                echo '&lt;/select&gt;';\n                echo '&lt;br/&gt;';\n            }\n\necho '&lt;/div&gt;'; //End Class Media Type\n</code></pre>\n\n<p>It's give me value \"ONLINE\" in dropdown which I selected and Inserted during the Insert process.</p>\n\n<p><strong>DROP DOWN FOR INSERT Page from media_type table</strong></p>\n\n<pre><code>echo '&lt;div class = \"MediaType\" &gt;'; //Start class Media Type\n    echo '&lt;strong&gt;&lt;label for=\"rate\"&gt;Media Type&lt;/label&gt;&lt;/strong&gt;';\n    echo '&lt;br/&gt;&lt;br/&gt;' ;\n\n        //for loop for dropdown from user index//\n        for($k=1;$k&lt;=$textboxindex;$k++)\n        {\n        $sql = \"SELECT media_type FROM media_type\";\n        $result = mysql_query($sql);\n            echo \"&lt;select class='dropdownsize' name='media_type[]' tabindex='$k'&gt;\";\n            while ($row = mysql_fetch_array($result)) \n            {\n                echo \"&lt;option value='\" . $row['media_type'] . \"'&gt;\" . $row['media_type'] . \"&lt;/option&gt;\";\n            }\n            echo '&lt;/select&gt;';\n            echo '&lt;br/&gt;';\n        }\necho '&lt;/div&gt;'; //End Class Media Type\n</code></pre>\n\n<p>table name = \"media_type\"\nvalues = \"TV\",\"ONLINE\",\"Roller\",Banner\",\"Roll Over\"</p>\n\n<p>I want to have this \"media_type\" values in my update drop box as same as the insert dropbox so enduser can modify entry with media_type values as Insert. but when it's display 1st time then default values of dropbox should be same as previous entered data.</p>\n\n<p>sorry my question is confusing.\nWhat is the best way to doing.?\nAny help will be appreciate.\nthank You </p>\n"},{"tags":["php","iis6"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3115,"score":0,"question_id":5878776,"title":"Running PHP in IIS6","body":"<p>i am using IIS to run my php website and i configure IIS to work with php as its explained the following tutorial</p>\n\n<p><a href=\"http://www.wikihow.com/Install-PHP-5-for-IIS-6\" rel=\"nofollow\">http://www.wikihow.com/Install-PHP-5-for-IIS-6</a></p>\n\n<p>but when i run any php page is give me the following error</p>\n\n<p>You have attempted to execute a CGI, ISAPI, or other executable program from a directory that does not allow programs to be executed. </p>\n\n<p>i follow this <a href=\"http://serverfault.com/questions/251499/error-when-installing-php5-on-iis6/252149#252149\">http://serverfault.com/questions/251499/error-when-installing-php5-on-iis6/252149#252149</a></p>\n\n<p>now i am getting the following error message</p>\n\n<p>FastCGI Error</p>\n\n<h2>The FastCGI Handler was unable to process the request.</h2>\n\n<p>Error Details:</p>\n\n<p>Could not find entry for \"php\" on site 67761686 in [Types] section. \nError Number: 1413 (0x80070585). \nError Description: Invalid index. \nHTTP Error 500 - Server Error.\nInternet Information Services (IIS) </p>\n\n<p>here is my updated fcgiext.ini</p>\n\n<pre><code>[Types]\nphp=PHP\n\n[PHP]\nExePath=C:\\PHP\\php-cgi.exe\n</code></pre>\n\n<p>now i am getting this error message</p>\n\n<pre><code>The FastCGI Handler was unable to process the request. \n--------------------------------------------------------------------------------\n\nError Details:\n\nThe FastCGI process exceeded configured request timeout \nError Number: 258 (0x80070102). \nError Description: The wait operation timed out. \n</code></pre>\n"},{"tags":["php","javascript","swig"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":65,"score":-1,"question_id":13259926,"title":"Script engine for PHP?","body":"<p>The actual goal is pass a some script (preferably JS) to Php from remote. Its possible that I am totally mistaken by this approach, so please feel welcome to correct me. </p>\n\n<p>The method however isn't new of course. There are plenty languages for C for instance but the same doesn't seem to apply to PHP. Of course, its already a script language.  As is the most supported language in hosting services, I thought I get around a PHP implementation of my software by using similar techniques as in C. </p>\n\n<p>And yes, I used Google but there isn't much to get on that. </p>\n\n<p>I don't mind to put some bigger work in this.</p>\n\n<p>References : <a href=\"http://stackoverflow.com/questions/4435656/embedded-javascript-interpreter-for-php\">Embedded Javascript interpreter for php</a>. Which would be something at least.</p>\n\n<p>Update : I am interested in all solutions, not just JS. Sorry for the wrong text. And of course, it must work with any standard hosting. </p>\n"},{"tags":["php","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":31,"score":-2,"question_id":13259849,"title":"PHP Regex to Match This:","body":"<pre><code>[foreach:regex]\n    [r_hello]\n[/foreach]\n</code></pre>\n\n<p>Trying to match the above: <code>regex</code> (word between <code>:</code> and <code>]</code>) will be <code>$1</code> and anything between <code>[foreach:regex]</code> and <code>[/foreach]</code> will be <code>$2</code>.</p>\n\n<p>So far I have this: <code>/\\[foreach:(.*)\\](.*)\\[\\/foreach\\]/s</code></p>\n\n<p>But I'm getting this error: <code>Notice: Undefined index: regex] [r_hello</code></p>\n"},{"tags":["php","email","registration","email-validation","disposable"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":354,"score":1,"question_id":10976706,"title":"How to Block Disposable Email Addresses in your website's registration form?","body":"<p>Please, i would like to know of the possible ways to block disposable email addresses from registering in my website. </p>\n\n<p>For simplicity, let's take the example where the registration form of the website is done with HTML and PHP.</p>\n\n<p>Any ideas, solutions or suggestions would be greatly appreciated.</p>\n"},{"tags":["php","mysql","sql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13258893,"title":"MySql - Joining another table with multiple rows, inserting a query into a another query?","body":"<p>I've been racking my brain for hours trying work out how to join these two queries..</p>\n\n<p>My goal is to return multiple venue rows (from venues) based on certain criteria... which is what my current query does....</p>\n\n<pre><code>SELECT venues.id AS ven_id, \n   venues.venue_name, \n   venues.sub_category_id, \n   venues.score, \n   venues.lat, \n   venues.lng, \n   venues.short_description, \n   sub_categories.id, \n   sub_categories.sub_cat_name, \n   sub_categories.category_id, \n   categories.id, \n   categories.category_name, \n   ((ACOS(  SIN(51.44*PI()/180)*SIN(lat*PI()/180) + COS(51.44*PI()/180)*COS(lat*PI()/180)*COS((-2.60796 - lng)*PI()/180)) * 180/PI())*60 * 1.1515) AS dist\n\nFROM venues, \n  sub_categories, \n  categories \nWHERE \n  venues.sub_category_id = sub_categories.id \n  AND sub_categories.category_id = categories.id \nHAVING \n  dist &lt; 5 \nORDER BY score DESC \nLIMIT 0, 100\n</code></pre>\n\n<p>However, I need to include another field in this query (thumbnail), which comes from another table (venue_images). The idea is to extract one image row based on which venue it's related to and it's order. Only one image needs to be extracted however. So LIMIT 1.</p>\n\n<p>I basically need to insert this query:</p>\n\n<pre><code>SELECT \n  venue_images.thumb_image_filename, \n  venue_images.image_venue_id,  \n  venue_images.image_order \nFROM venue_images \nWHERE venue_images.image_venue_id = ven_id //id from above query\nORDER BY venue_images.image_order \nLIMIT 1\n</code></pre>\n\n<p>Into my first query, and label this new field as \"thumbnail\".</p>\n\n<p>Any help would really be appreciated. Thanks!</p>\n"},{"tags":["php","c++"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":33,"score":-2,"question_id":13257992,"title":"How can I inform a C++ application with JSON data when an event occurs in my PHP?","body":"<p>Basically, I want to inform a C++ application (a game application) when an event occurs in my PHP page.</p>\n\n<p>Below is an example:</p>\n\n<ul>\n<li>User logs in to website and purchases something.</li>\n<li>PHP validates this transaction and returns a JSON/XML object to C++ application.</li>\n<li>C++ application receives transactionID and gives user the item he bought. </li>\n</ul>\n\n<p>Right now I do this in a bad way. PHP writes to database, C++ application constantly reads the database, causing a performance loss.</p>\n\n<p>How can I archieve this?</p>\n"},{"tags":["php","symfony2","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":49,"score":-2,"question_id":13258169,"title":"Where do Model classes go in symfony2","body":"<p>I am new to Symfony2. Coming from Zend background, I do not see any folder for Models. How do Models and Controllers communicate?</p>\n\n<p>What if I do not want to use Doctrine. Even if I use Doctrine, where will the Models live and how can they communicate with controllers?</p>\n\n<p>Symfony website has some good documentation about symfony2, but it is not on par with the documentation I noticed for symfony1.X .The official documentation does not have what namespaces should be added when using different doctrine methods.\nThanks for the community in advance for the tips.</p>\n"},{"tags":["php","youtube","youtube-api"],"answer_count":4,"favorite_count":131,"up_vote_count":173,"down_vote_count":0,"view_count":97589,"score":173,"question_id":2068344,"title":"How to get thumbnail of YouTube video link using YouTube API?","body":"<p>I want to pass a YouTube URL to maybe YouTube's API and get the video thumbnail using PHP &amp; curl? Is that possible?</p>\n"},{"tags":["php","windows","nginx"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12487147,"title":"php-cgi.exe quits after exactly 500 hits","body":"<p>For the life of me, I can't figure this out.</p>\n\n<p>This is my development machine setup:</p>\n\n<p>Windows 7 Home Premium 64 bit,<br>\nWebserver: NGINX 1.3.6 c:\\users\\user_name\\devel\\nginx<br>\nPHP: 5.4.7 c:\\users\\user_name\\devel\\nginx\\php5</p>\n\n<p>Everything works fine except that after exactly 500 hits, my php-cgi.exe quits unexpectedly.  No error logs, no events, nothing.  It just dies after 500 hits...EVERY SINGLE TIME.  I haven't found a single source of information online to help me on this. All the configuration seems valid and good.  This is happening on two different machines (my development desktop and my notebook).  I've tried different nginx.conf and php.ini files...still the same.</p>\n\n<p>I just need to get a better idea on how to go about debugging this.  Any suggestions?</p>\n"}]}
{"total":298830,"page":17,"pagesize":100,"questions":[{"tags":["php","mysql","fullcalendar"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":482,"score":0,"question_id":4538492,"title":"Viewing events in FullCalendar ordered by event ID instead of start timestamp","body":"<p>I have a calendar set up and when viewing the month view I want to display the events which have been created by their ID and not the time they are due to start.</p>\n\n<p>Is this possible? And if so, how would I go about changing the code to display the events in this manner?</p>\n"},{"tags":["php","drupal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13242402,"title":"Database Query during Dynamic Drupal node creation to get Entity ID","body":"<p>I have a script which grabs the latest image from our surf webcam, it saves a node of type Photos. In that content type i have an entity field which references the swell size (content type swell_data). I can add a static entity id no problem:</p>\n\n<pre><code>// Reference Swell Data ID 176821 \n$node-&gt;field_buoy_ref[$node-&gt;language][0]['target_id'] = 176821;\n</code></pre>\n\n<p>How would I dynamically find the latest node created by the swell_data content type (added hourly using a CRON job) and use that value instead? For your reference this is the current script i am using (thanks to <a href=\"http://fooninja.net/2011/04/13/guide-to-programmatic-node-creation-in-drupal-7/\" rel=\"nofollow\">FooNinja</a>)</p>\n\n<pre><code>define('DRUPAL_ROOT', getcwd());\nrequire_once 'includes/bootstrap.inc';\ndrupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);\n\n$bodytext = \"This was the view from the Camera at \".date('gA').\" on \".date('l F jS Y');\n\n$node = new stdClass(); // Create a new node object\n$node-&gt;type = \"photos\"; // Or page, or whatever content type you like\nnode_object_prepare($node); \n\n$node-&gt;title = \"Caswell Camera \". date('D M j G:i');\n$node-&gt;language = LANGUAGE_NONE; \n\n// Author\n$node-&gt;name = \"Gower Live\"; // UID of the author of the node; or use $node-&gt;name\n// Publish Node\n$node-&gt;status = 1;\n//Set Body Text\n$node-&gt;body[$node-&gt;language][0]['value']   = $bodytext;\n$node-&gt;body[$node-&gt;language][0]['summary'] = text_summary($bodytext);\n$node-&gt;body[$node-&gt;language][0]['format']  = 'filtered_html';\n\n//Set Image Location (Caswell)\n$node-&gt;field_photo_location[$node-&gt;language][0]['lat'] = 51.570195982718374;\n$node-&gt;field_photo_location[$node-&gt;language][0]['lng'] = -4.030849980797484;\n\n// Set the Photos date\n$node-&gt;field_image_date[$node-&gt;language][0]['value'] = date(\"Y-m-d H:i:s\");\n\n// From the Webcam\n$node-&gt;field_webcam_photo[$node-&gt;language][0]['value'] = \"Caswell\";\n\n// Reference Wave Buoy\n$node-&gt;field_buoy_ref[$node-&gt;language][0]['target_id'] = 176821; // I'd this value dynamically pulled from the DB\n\n// Attach Latest Webcam Image\n$file_path = drupal_realpath('images/webcams/caswell-webcam.jpg');\n$file = (object) array(\n            'uid' =&gt; 1,\n            'uri' =&gt; $file_path,\n            'filemime' =&gt; file_get_mimetype($file_path),\n            'status' =&gt; 1,\n);\n// You can specify a subdirectory, e.g. public://foo/\n$file = file_copy($file, 'public://');\n$node-&gt;field_user_photo[$node-&gt;language][0] = (array) $file;\n\n$path = 'node_created_on' . date('YmdHis');\n$node-&gt;path = array('alias' =&gt; $path);\n\nif($node = node_submit($node)) { // Prepare node for saving\n    node_save($node);\n    echo \"Node with nid \" . $node-&gt;nid . \" saved!\\n\";\n}\n</code></pre>\n\n<p>thanks</p>\n\n<p>Lee</p>\n"},{"tags":["php","mysql","file","variables"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13259766,"title":"How MySql can retrieve and display photos with PHP","body":"<p>I have a PHP site where I have uploaded 10 pictures locally. The pictures are saved in the <code>./images</code> folder and also resampled to a <code>./thumbnails</code> folder. I use this query to extract 7 photo file names from the database.</p>\n\n<pre><code>$imgQuery = \"SELECT FileName, Title, Description FROM PICTURE WHERE OwnerID='$id' LIMIT 0,7\";\n</code></pre>\n\n<p>The database saves <code>PictureID</code>(PK), <code>OwnerID</code>(UNQ, my id is 2), <code>FileName</code>(stores the file name) and <code>Title</code> for the picture and <code>Description</code> for the picture. I use this method of transferring 7 photo filenames, title and description to an array. But how can I extract them from my <code>./thumbnails</code> folder and display them on my PHP page?</p>\n\n<pre><code>if($imgResult = mysqli_query($link, $imgQuery))\n{\n while($imgRow = mysqli_fetch_row($imgResult))\n {\n\n    $filename[] = $imgRow[0];\n    $title[] = $imgRow[1];\n    $description[] = $imgRow[2];\n }\n}\n</code></pre>\n\n<p>Here is where I am displaying the thumbnails <code>t1</code> in the body. I would like to know how can assign the files retrieved by my database to these variables. The description changes based on which name i</p>\n\n<pre><code>$num = count($filename);\nwhile($i &lt; $num)\n{\n$i = 0;\nprint &lt;&lt;&lt;photo\n&lt;body&gt;\n&lt;form action='MyAlbum.php' method='post'&gt;\n    &lt;table&gt;\n        &lt;tr&gt;&lt;td colspan='7' &gt;&lt;h2 align='center'&gt;&lt;?php echo $name;?&gt;'s Album&lt;/h2&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;&lt;td colspan='7' &gt;&lt;?php echo $title[$i];?&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;&lt;td colspan='5' &gt;&lt;?php echo $filename[$i]; ?&gt;&lt;/td&gt;&lt;td colspan='2'&gt;&lt;?php echo $description[$i];?&gt; &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;?php  echo $filename[0];?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php  echo $filename[1];?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php echo $filename[2];?&gt;&lt;/td&gt; \n            &lt;td&gt;&lt;?php echo $filename[3]; ?&gt;&lt;/td&gt;&lt;td&gt;&lt;?php echo $filename[4]; ?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php echo $filename[5]; ?&gt;&lt;/td&gt; \n            &lt;td&gt;&lt;?php echo $filename[6]; ?&gt;&lt;/td&gt; \n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n$i++;\n&lt;/body&gt;\n&lt;/html&gt;\n\nphoto;\n }\n</code></pre>\n"},{"tags":["php","osx","vmware","development-environment","mamp"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":16,"score":0,"question_id":13259831,"title":"Trying to Set-up MAMP with VMWare","body":"<p>I am trying to set-up my local dev environment, and I am having difficulty with MAMP and VMWare. I have followed numerous guides: </p>\n\n<ul>\n<li><a href=\"http://net.tutsplus.com/tutorials/wordpress/how-to-set-up-a-killer-wordpress-testing-environment-locally/\" rel=\"nofollow\">http://net.tutsplus.com/tutorials/wordpress/how-to-set-up-a-killer-wordpress-testing-environment-locally/</a></li>\n<li><a href=\"http://radarearth.com/content/access-macintosh-mamp-server-vmware-virtual-machine\" rel=\"nofollow\">http://radarearth.com/content/access-macintosh-mamp-server-vmware-virtual-machine</a></li>\n</ul>\n\n<p>are just a couple.</p>\n\n<p>My current setup is Mountain Lion with MAMP Pro and VMWare Fusion 5 with Windows 8.\nHas anyone been able to successfully make this work. \nThanks</p>\n"},{"tags":["php","arrays","array-sorting","asort"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13259089,"title":"How to sort an array with one exception in PHP","body":"<p>Let's say I have an array called $array that looks like this once I run asort on it:</p>\n\n<pre><code>Array\n(\n    [1] =&gt; Apples\n    [2] =&gt; Bananas\n    [3] =&gt; Cherries\n    [4] =&gt; Donuts\n    [5] =&gt; Eclairs\n    [6] =&gt; Fried_Chicken\n)\n</code></pre>\n\n<p>What is the simplest way to make it so that, after sorting alphabetically, the key that has the value \"Donuts\" is removed and then put at the end?</p>\n"},{"tags":["php","string","object"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13259754,"title":"PHP converting object to string","body":"<p>I'm planning to save a returned object to a file, for downloading later on to review.\nFor clarity sake, I'm working with an outside API service, and gathering their data, for parsing into another database.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>&lt;?php\nrequire('class.php');\n$client = new connect2Them();\n$logged_in = $client-&gt;login();\nif(!$logged_in){\n  echo \"Not connected!\"; die();\n}\n\n$records = $client-&gt;get_records();\nif(count($records &lt; 1){\n  echo \"No records found\"; die();\n}\n\n$singlerecord = $records[0];\nprint_r($singlerecord);\n\n?&gt;\n</code></pre>\n\n<p>The print_r() works fine, and I get back a very very large amount of data.  I'm doing all this via command-line, so I want to save it to a text file.</p>\n\n<p>I've added this below my $singlerecord:</p>\n\n<pre><code>&lt;?php\n$myFile = \"reviewLater.txt\";\n$fh = fopen($myFile, 'w') or die(\"can't open file\");\n$stringData = $singlerecord;\nfwrite($fh, $stringData);\nfclose($fh);\n\n?&gt;\n</code></pre>\n\n<p>I get this error from PHP:\n<strong>PHP Warning:  fwrite() expects parameter 2 to be string, object given in....</strong></p>\n\n<p>How do I put the print_r() into the reviewLater.txt?</p>\n"},{"tags":["php","javascript","jquery","ajax","jqgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13259003,"title":"jqGrid local data within ajax","body":"<p>Hello stackoverflow nation !\nI've such a snag. Trying to pass in jqGrid array data which is retrieved within ajax, but it doesn't work. lets take a look at script =></p>\n\n<pre><code>$(function(){ // this script works just fine (of course this array and jqGrid initialization script is in the same file)\nvar arr = [\n    {a:\"a\",b:\"b\"},\n    {a:\"c\",b:\"d\"}\n];\n$(\"#_tb\").jqGrid({\n    datatype: \"local\",\n    data: arr,\n    colNames: [\"ONE\",\"Two\"],\n    colModel: [\n        {name:\"a\",index:\"a\",align:\"center\"},\n    {name:\"b\",index:\"b\",align:\"center\"}\n    ],\n    pager: $(\"#_pager\"),\n    height: \"auto\"\n});\n});\n</code></pre>\n\n<p>here is my problem =></p>\n\n<pre><code>$.ajax({\n    url: \"../info.php\",\n    type: \"get\",\n    data: {},\n    success: function(r){\n        $(\"#_tb\").jqGrid({\n        datatype: \"local\",\n        data: r,\n        colNames: [\"ONE\",\"Two\"],\n        colModel: [\n            {name:\"a\",index:\"a\",align:\"center\"},\n            {name:\"b\",index:\"b\",align:\"center\"}\n        ],\n        pager: $(\"#_pager\"),\n        height: \"auto\"\n        });\n    }\n    });\n</code></pre>\n\n<p>this script doesn't work , but data is successfully retrieved within ajax into json format.\nhere is <code>info.php</code> script by the way too</p>\n\n<pre><code>// using PDO for connection\nforeach($con-&gt;query(\"SELECT * FROM tb\") as $row){\n    $info[] = array(\n        \"a\" =&gt; $row[\"a\"],\n        \"b\" =&gt; $row[\"b\"]\n    );\n}\necho json_encode($info);\n</code></pre>\n\n<p>PS. In my opinion my problem is connected to <strong>datatype</strong> , but can't made up my mind how to solve that despite of searching examples like that . \nAlso remarkable is that I want datatype to be local , because of searching and filtering data in jqGrid without any SQL where statements.\nWith any advice I'll be pleased , thanks :)</p>\n"},{"tags":["php","arrays","function"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":43,"score":4,"question_id":13259614,"title":"PHP array_search consistently returns first key of array","body":"<p>I recently noticed trouble when using the array_search function in my code. I am searching the array \"$allcraftatts\" for the value \"sharp\". I tried to isolate the problem by setting up a two line experiment:</p>\n\n<pre><code>$testcopy=$allcraftatts;\n$testsharp=array_search(\"sharp\", $testcopy);\n</code></pre>\n\n<p>Using \"print_r(get_defined_vars());\" later on, I get this result:</p>\n\n<pre><code>[testcopy] =&gt; Array\n                (\n                    [0] =&gt; 0\n                    [1] =&gt; 0\n                    [2] =&gt; 0\n                    [3] =&gt; 0\n                    [4] =&gt; 0\n                    [5] =&gt; 0\n                    [6] =&gt; Sharp Stone\n                    [7] =&gt; Sharp Stones\n                    [8] =&gt; stone\n                    [9] =&gt; object\n                    [10] =&gt; sharp\n                    [11] =&gt; hard\n                    [12] =&gt; 0\n                    [13] =&gt; 0\n                    [14] =&gt; 0\n                    [15] =&gt; 0\n                    [16] =&gt; 0\n                    [17] =&gt; 0\n                    [18] =&gt; 0\n                )\n\n[testsharp] =&gt; 0\n</code></pre>\n\n<p>I made sure that I do not modify these variables at any other time.</p>\n\n<p>Now, if I change my code to</p>\n\n<pre><code>$testcopy=$allcraftatts;\nunset($testcopy[0]);\n$testsharp=array_search(\"sharp\", $testcopy);\n</code></pre>\n\n<p>it returns \"1\".</p>\n\n<p>This leads me to believe that it always returns the first key in the array.</p>\n\n<p>It baffles me! This is one of those bugs that makes you fear something wrong with the language itself. However doubtful this is, I actually was eventually driven to looking at the PHP source for something wrong there, but unfortunately could not understand it.</p>\n\n<p>Seeing that it is a function simple as this, I will most definitely be completely humiliated by the inevitably simple answer, but at this point, I just want an answer.</p>\n"},{"tags":["php","mysql","sql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":23,"score":-2,"question_id":13259576,"title":"PHP saving mysql info to php variables","body":"<p>So, what i'm trying to do is that I want this to happen basically, here's my code:</p>\n\n<p>mysql_query(\"SELECT account.id FROM account WHERE account.username= \"\"\");</p>\n\n<p>I want the result of that code stored in a variable named account_id in PHP. But I wasn't able to find anything online that I was able to understand.</p>\n"},{"tags":["php","ssl","curl","wsdl","soap-client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13258895,"title":"Failed access to webservice ssl through php (curl) - ClientSoap","body":"<p>When i use this Php code to access to the wsdl file not secured with authentication basic, it works very well.</p>\n\n<pre><code>&lt;?php\ntry{\n\n    ini_set('soap.wsdl_cache_enabled', false);\n    $url = 'https://webservicexx:10443/Service.asmx?WSDL';\n    $wsdl = get_wsdl($url); \n    $client = new SoapClient($wsdl); \n    print_r($client);\n\n} catch (SoapFault $e) {\n        echo $e;\n\n} \n\nfunction get_wsdl($url) { \n    clearstatcache();\n    $cache_file = \"/var/www/webservice2/soap.wsdl.\" . md5($url); \n    $ch = curl_init($url);\n    $options = array(                           \n                        CURLOPT_FOLLOWLOCATION=&gt;true,\n                        CURLOPT_FRESH_CONNECT=&gt;true,\n                        CURLOPT_RETURNTRANSFER=&gt;true,\n                        CURLOPT_SSL_VERIFYPEER=&gt;false,\n                        CURLOPT_USERAGENT=&gt;\"Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)\");\n    curl_setopt_array($ch, $options);\n    $data = curl_exec($ch);\n    curl_close($ch);\n    file_put_contents($cache_file, $data);\n    return $cache_file; \n\n} \n?&gt;\n</code></pre>\n\n<p>And when i try to access to the wsdl file secured with authentication basic (.NET), by changing the $option array, to add login and pass:</p>\n\n<pre><code>$options = array( \n  CURLOPT_POST=&gt;true,\n  CURLOPT_HTTPAUTH=&gt;CURLAUTH_BASIC,\n  CURLOPT_USERPWD=&gt;'myLOGIN:myPASSWORD',\n  CURLOPT_FOLLOWLOCATION=&gt;true,\n  CURLOPT_FRESH_CONNECT=&gt;true,\n  CURLOPT_RETURNTRANSFER=&gt;true,\n  CURLOPT_SSL_VERIFYPEER=&gt;false,\n  CURLOPT_USERAGENT=&gt;\"Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)\");\n</code></pre>\n\n<p>I have problems on the file result. I don't get the wsdl file wich is secured, i have the page error on the file, on my server. That means that i don't have access to the file, because the authentication basic barrier, and the login and pass that i added on the $option array doesn't work. </p>\n\n<p>How can i do it ?</p>\n"},{"tags":["php","oauth","hotmail"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13258971,"title":"hotmail: user authentication and contact retrieval with PHP","body":"<p>I am trying to write a PHP script that will allow me to do two things:</p>\n\n<ol>\n<li><p>Allow users to use their Hotmail (I think its called 'Live' now?) account to authenticate themselves to a website</p></li>\n<li><p>Retrieve an authenticated users contact list from Hotmail.</p></li>\n</ol>\n\n<p>I have trawled the internet for the past 6 hours, looking for at least a working example that I can modify/extend to do the above two things. There are several dozens similar questions asked here on SO for example - <strong>NONE</strong> of the proffered answers work any more (admittedly, some of the questions were a few years old).</p>\n\n<p>I tried the Microsoft site and downloaded the latest version of their API which seems to evolve at a rather alarming rate. I finally managed to track down an <a href=\"https://github.com/liveservices/LiveSDK\" rel=\"nofollow\">API which has not been deprecated (yet?)</a>.</p>\n\n<p>I followed the instructions and when I attempted to authenticate, I was rewarded with the following mesage, for my efforts:</p>\n\n<blockquote>\n<pre><code>We're unable to complete your request\nWindows Live ID is experiencing technical difficulties. Please try again later.\n</code></pre>\n</blockquote>\n\n<p>I immediately tried the <a href=\"http://isdk.dev.live.com/ISDK.aspx\" rel=\"nofollow\">online version of the demo</a> and perhaps unsurprisingly, that worked like a charm.</p>\n\n<p>As an aside, I managed to implement the same functionality for Yahoo and GMail, using their OPEN APIs, under an hour each. Now, it is possible that my unmitigated hatred of all things proprietary (sorry make that Microsoft), is causing me to lose the plot a little here.</p>\n\n<p>Has anyone ACTUALLY (in 2012) managed to get a working sample in PHP that allows:</p>\n\n<ol>\n<li>Hotmail (live?) user authentication</li>\n<li>Hotmail user contact email retrieval</li>\n</ol>\n\n<p>If you have, a code snippet, or a link to where I can find such a snippet would be very useful, as I have so far, wasted a whole afternoon trying to work the Microsoft Live API via PHP.</p>\n\n<p>PS: No, I'm not interested in OpenInviter, its broken.</p>\n"},{"tags":["php","javascript","jquery","css3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13259451,"title":"jquery plugin to create square-tiles with a background image","body":"<p>I need to split an image into square-shape tiles on which users can hover or click on.</p>\n\n<p>Should i use pure css or do I have to use jquery ? Do you have examples of jquery plugins doing that? (I found <a href=\"http://imanish.co.in/demo/imjqmosaic/\" rel=\"nofollow\">this one</a> but would be interested in other suggestions)</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["php","xpath","xml-parsing","domxpath"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13258164,"title":"Why is this xPath query in PHP not working?","body":"<p>I'm new to PHP and stackoverflow. I created a script that takes content from a form and searches for a file list corresponding to the category and subject given. Now, the xPath part throws an error when the script is launched. It says:  </p>\n\n<p><strong>Fatal error:</strong> Call to a member function getElementsByTagName() on a non-object on line 10.</p>\n\n<p>Here's the code:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>if (isset($_GET[\"subject\"])){\n    $subject = $_GET[\"subject\"];\n    $category = $_GET[\"category\"];\n    $doc = new DOMDocument();\n    $doc-&gt;load('Files.xml');\n    $xpath = new DOMXPath($doc);\n    //subject\n    $subjectpath = 'subject[@name=\"' . $subject . '\"]';\n    $ssubjectfiles = $xpath-&gt;query($subjectpath)-&gt;item(0);\n    $subjectfiles = $ssubjectfiles-&gt;getElementsByTagName('file');\n    //category\n    $categorypath = 'subject[@name=\"' . $subject . '\"]/category[@name=\"' . $category . '\"]';\n    $scategoryfiles = $xpath-&gt;query($categoryfiles)-&gt;item(0);\n    $categoryfiles = $scategoryfiles-&gt;getElementsByTagName('file');\n    function getFiles($files){\n    foreach($files as $file){\n        $filevalue = $file-&gt;nodeValue;\n        echo '&lt;li&gt;' . $filevalue . '&lt;/li&gt;';\n    }\n    }\n    switch($category){\n    case 'Select a category or leave to get all the results':\n        getFiles($subjectfiles);\n    break;\n    default:\n        getFiles($categoryfiles);\n    }\n}\n</code></pre>\n\n<p>Why isn't it working? Do I have to convert the object somehow?</p>\n\n<p>Thank you!</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>It looks like the problem was the relative link. I changed it to <code>http://localhost/Files.xml</code> and it seems to work. Thank you all anyway.</p>\n"},{"tags":["php","mysql","query","combine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":13259250,"title":"PHP & MySQL: How to combine UPDATE and SELECT (with min function) queries","body":"<p>I'm trying to select a row with the least value from a MySQL table and update the flag column for that row using PHP. But it's not working for me. If I break it into two queries, it works, but combining the two isn't going anywhere. What am I doing wrong?</p>\n\n<p>Here's what works:</p>\n\n<pre><code>$flag = 1;\n$query = \"SELECT MIN(value) FROM \". $myTable;\n$data = mysqli_query($dbh, $query);\n$dataSet = mysqli_fetch_row($data);\n$value = $dataSet[0];\n$queryUpdate = \"UPDATE \". $myTable . \" SET flag='\" . $flag . \"' WHERE value='\" . $value. \"'\";\n$dataUpdate = mysqli_query($dbh, $queryUpdate);\n</code></pre>\n\n<p>Here are attempts I made but failed:</p>\n\n<pre><code>//attempt #1\n$flag = 1;\n$query = \"UPDATE \". $myTable . \" SET flag='\" . $flag . \"' WHERE value=( SELECT MIN(value) FROM '\". $myTable . \"')\";\n$data = mysqli_query($dbh, $query);\n\n// attempt #2\n$flag = 1;\n$query = \"UPDATE \". $myTable . \" SET flag='\" . $flag . \"' ORDER BY value ASC LIMIT 1\";\n$data = mysqli_query($dbh, $query);\n\n// attempt #3\n$flag = 1;\n$query = \"UPDATE \". $myTable . \" T1 \nINNER JOIN ( SELECT MIN(value) FROM \". $myTable . \" ) T2\nON T1.id = T2.id\nSET T1.flag=\" . $flag;\n$data = mysqli_query($dbh, $query);\n</code></pre>\n\n<p>mysqli_error() returns </p>\n\n<blockquote>\n  <p>Warning: mysqli_error() expects exactly 1 parameter, 0 given [in the $data = mysqli_query($dbh, $query) lines.]</p>\n</blockquote>\n\n<p>Any help would be so appreciated.</p>\n"},{"tags":["php","email","codeigniter","html-email"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":564,"score":2,"question_id":9062192,"title":"Add extra header information in codeigniter email","body":"<p>I would like to send some extra information on the emails which is sent from codeigniter library. Is there any way to configure or add this?</p>\n\n<p>I want to categorize all the outgoing mail from my site. I need to include sendgrid category header for tracking.</p>\n"},{"tags":["php","session","session-timeout","hitcounter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13259171,"title":"PHP session based hit counter too trigger-happy","body":"<p>I have a simple session-based PHP hit counter on a website. The problem is that it seems to be adding phantom hits whenever I have the website open for some time (even without me reloading it), so I'm thinking the session timeout is set to a very short amount of time somewhere on the server. However, I have checked php.ini and the timeout is the standard 24 minutes, while phantom hits get added every three minutes or so.</p>\n\n<p>The website has no nameservers pointing to it yet, nothing links to it, so it's not an issue of robots/crawlers. Here is my code:</p>\n\n<pre><code>            $hit_file = file(__DIR__ . \"/hit_file.txt\");\n\n            $hit_num = $hit_file[0];\n            if(!isset($_SESSION['been']))\n\n                {\n\n\n                    $hit_num++;\n\n                    $hit_write = fopen(__DIR__ . \"/hit_file.txt\", 'w');\n\n                    fwrite($hit_write, $hit_num);\n\n                    fclose($hit_write);\n\n                    $_SESSION['been'] = 1;\n\n                }\n\n             echo $hit_num;\n</code></pre>\n\n<p>UPDATE: I have noticed some weird access.log entries. They all follow this format:\n::1 - - [06/Nov/2012:22:05:03 +0100] \"GET / HTTP/1.0\" 200 3719 \"-\" \"-\"</p>\n\n<p>I get one every five minutes or so which is about how often phantom hits get added. What on earth are they?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13259407,"title":"PHP - Is there a NOT-complicated way to determine the position of a link on page?","body":"<p>I would like to write a script which determines the position of hyperlinks from other domains which link to my website. For example I want to know if the link comes from \"inside an article\", \"inside a sidebar (left / right)\", \"inside the footer\". The only way I can think of is to check the CSS classes which wrap the link. For example a link is inside the class \"left_sidebar\", then it's likely inside the left sidebar :) \nBut this seems like a buggy way to determine this. This may work with well designed Wordpress themes, but will fail with many other sites.</p>\n\n<p>So is there a better way to do this? Thanks!</p>\n"},{"tags":["php","mysql","query","dynamic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13241092,"title":"Stored MySQL Procedures vs. Dynamic MySQL Queries","body":"<p>I'm developing a basic php based function that executes MySQL queries in order to sort the data in the database and present it to the user. As a general statement, is it considered best practice to simply construct static queries and to execute them as needed, or simply piece together elements of a MySQL statement based on conditions? </p>\n\n<p>To narrow the question, I have a specific example:</p>\n\n<p>Say I have a few drop-down menus that define the search on the user's end. Let one drop-down simply contain a list of names, say Bob Smith, and the two others a date range. From there, I can easily create a search along the lines of <code>SELECT item FROM checkOUT WHERE...</code> I can definitely write a general query with parameters to be executed when ALL three of the parameters are present. Consider the case when only a date range is selected regardless of individuals - that would require only two parameters and a different general query. And what if the data is spread across multiple tables? That has to be taken into account. I should add as well that my function is based on drop-down menus - not original user input.</p>\n\n<p>Basically, what would be the best method to create the MySQL Query - prepared statements or dynamically created statements? Obviously, the end result will rely on a hybrid of the two, but to which side it leans the farthest is the issue. I'm asking this question as I am not too familiar with this particular side of handling multiple queries from one source. Typically, I simply have to execute one query to get what I need and work with it - not sorting.</p>\n\n<p>Any insight is appreciated.  </p>\n"},{"tags":["php","mysql","forms","select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13259491,"title":"MySQL Use Array From Non Existent Column","body":"<p>I'm not sure if my title is even worded correctly.  Hopefully I can explain this in a concise manner.  I'm trying to select all from a database:</p>\n\n<pre><code>if (! empty ( $fname ) &amp;&amp; ! empty ( $lname )) {\n        $query5 = \"select * from \" . $db_prefix . \"customer_det where (fname = '\" . $fname . \"' and lname = '\" . $lname . \"')\";\n            $result5 = $mysqli-&gt;query ( $query5 ) or die ( mysql_error () );\n    } else {\n        $query5 = \"select * from \" . $db_prefix . \"customer_det where phone = '\" . $phone . \"'\";\n\n        $result5 = $mysqli-&gt;query ( $query5 ) or die ( mysql_error () );\n\n    }\n</code></pre>\n\n<p>Then my next statement basically says if $result5 === NULL then insert stuff.  Problem is I'm var_dump($result5) and it looks like it's printing out an array.</p>\n\n<pre><code>object(mysqli_result)#4 (5) { [\"current_field\"]=&gt; int(0) [\"field_count\"]=&gt; int(34) [\"lengths\"]=&gt; NULL [\"num_rows\"]=&gt; int(0) [\"type\"]=&gt; int(0) }\n</code></pre>\n\n<p>Basically what I'm trying to say is how can I write an IF $result5 = non existent statement.  Is it a count or num_rows function im looking for here?</p>\n"},{"tags":["php","javascript","html"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":23,"score":0,"question_id":13259115,"title":"How to use View buttons to pace a foreach in Controller?","body":"<p>All,</p>\n\n<p>I'm building a small PHP site using an MVC pattern.  Inside my Controller, I have an array of articles that I want to send to the View page.  However, I want the articles to appear one at a time in the View, and only change to the next one when the user clicks on one of several buttons.  One button just allows the user to see the next article, other buttons allow the user to \"grade\" or endorse the article (this info is sent back to the controller) <strong>and</strong> move on to the next article.</p>\n\n<p>How should I do that?  The buttons are within a form, and I have Javascript functions attached to each.  A simplified version of the code would look like that:</p>\n\n<p>In Controller:</p>\n\n<pre><code>&lt;?php\n  $array=array(10,11,12,13,14,15,16);\n  $_SESSION['next']=true;\n  foreach($array as $a){\n    if($_SESSION['next']){\n      $_SESSION['next']=false;\n      $view=$a;\n    }\n  }\n?&gt;\n</code></pre>\n\n<p>In View:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  function doOne(){}\n  function doTwo(){}\n&lt;/script&gt;\n&lt;form class=\"ReviewArticles\" method='POST' accept-charset=\"UTF-8\" action='index.php?action=reviewArticles'&gt;\n&lt;p&gt;\n  &lt;textarea rows=\"4\" cols=\"60\" name='article' id='article' WRAP=SOFT&gt;\n    &lt;?php\n      echo $view;\n    ?&gt;\n  &lt;/textarea&gt;\n&lt;/p&gt;    \n&lt;p&gt;\n  &lt;button type=\"button\" name='showNext1' id='showNext1' onclick=\"doOne()\" &gt;Show next 1&lt;/button&gt;\n  &lt;button type=\"button\" name='showNext2' id='showNext2' onclick=\"doTwo()\" &gt;Show next 2&lt;/button&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I need to send back to the Controller some info to load the next item in the array.  I also need to send some other data related to the user \"endorsing\" of the article, and I want those to take place together (only one button).</p>\n"},{"tags":["php","mongodb","doctrine","doctrine-odm"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":433,"score":1,"question_id":11125389,"title":"Doctrine ODM / MongoDB not retrying queries?","body":"<p>I'm using Doctrine ODM to connect to MongoDB. I have a three node replica set: two fulls and one arbiter. Replication is solely for higher availability, I don't seek to distribute reads across nodes. My application is logging <code>MongoCursorException</code>s every so often with the message <code>not master and slaveok=false</code>. I don't see any evidence that a failover event occurred in the mongodb logs and the primary didn't change. CORRECTION: <strong>failover had indeed occurred</strong>, but the exception with <code>not master and slaveok=false</code> was appearing often, even showing up 6 hours after a new primary was successfully elected.</p>\n\n<p>What to do? I see our version of <a href=\"http://github.com/doctrine/mongodb\" rel=\"nofollow\">doctrine-mongodb</a> includes <a href=\"https://github.com/doctrine/mongodb/pull/35\" rel=\"nofollow\">(experimental?) retry functionality</a>, but I don't see an easy way to enable that.</p>\n\n<p>Not sure if it matters, but this is a Symfony2 (v2.0) app.</p>\n\n<p><a href=\"https://groups.google.com/d/topic/mongodb-user/6p710Rdycpg/discussion\" rel=\"nofollow\">https://groups.google.com/d/topic/mongodb-user/6p710Rdycpg/discussion</a> implies that we <em>need</em> retries (emphasis mine):</p>\n\n<blockquote>\n  <p>Your application must be written to reconnect/retry since there are \n  any number of transient (network) errors which could come up much like \n  the rolling upgrade process during <strong>normal operation</strong>.</p>\n</blockquote>\n\n<p>The <a href=\"http://php.net/class.mongocursorexception\" rel=\"nofollow\">Mongo PHP extension docs</a> seem to account for this:</p>\n\n<blockquote>\n  <p>The driver will automatically retry \"plain\" queries (not commands) a couple of times if the first attempt failed for certain reasons. This is to cause fewer exceptions during replica set failover (although you will probably still have to deal with some) and gloss over transient network issues.</p>\n</blockquote>\n\n<p>And I thought <code>doctrine-mongodb</code> just used the PHP extension to actually talk to mongod. So I'm left a bit confused whether or not I <em>should</em> have to worry about retry configuration.</p>\n\n<p>I think I solved part of the problem: I <strong>removed the arbiter</strong> from the connection string following <a href=\"https://groups.google.com/d/msg/mongodb-user/3RCCEdQAAYk/ChCI5PEudEgJ\" rel=\"nofollow\">this advice from Kristina Chodorow</a>. I'm no longer seeing any <code>MongoCursorException</code>s with the message <code>not master and slaveok=false</code>. I might have been hitting <a href=\"https://jira.mongodb.org/browse/PHP-392\" rel=\"nofollow\">https://jira.mongodb.org/browse/PHP-392</a>.</p>\n\n<p>However, I'm still getting a few <code>MongoCursorException</code>s with the message <code>couldn't determine master</code> during failover. For example, I just did a failover; based on the mongod logs, a new primary was elected after a few seconds, but the web application was throwing that exception even 5 minutes later.</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13258994,"title":"Sanitize currency input","body":"<p>I'm working with currency input. Only two digits after decimal mark should be used. I tried casting input to float and multiplying by 100, which works fine until someone enters more than two digits after decimal mark:</p>\n\n<pre><code>// Returns 6999.8 instead of 6999\n$cents = floatval('69.998') * 100;\n</code></pre>\n\n<p>Then I tried casting result to int, so sequential digits after decimal point are ignored. It solves above problem ('69.998' becomes 6999), but creates a new one with float to integer conversion:</p>\n\n<pre><code>// Returns 6998 instead of 6999\n$cents = intval(floatval('69.99') * 100);\n</code></pre>\n\n<p>I also considered floor(), but it triggers the same float issue as intval(). </p>\n\n<p>This is what I'm thinking about using:</p>\n\n<pre><code>$cents = intval((string)(floatval('69.99') * 100));\n</code></pre>\n\n<p>It works in both cases, but feels like a hack and it's late and my head hurts so maybe I'm missing something obvious here. Is there a better way to do this?</p>\n"},{"tags":["php","security","xss","sql-injection"],"answer_count":10,"favorite_count":162,"up_vote_count":206,"down_vote_count":0,"view_count":69860,"score":206,"question_id":129677,"title":"What's the best method for sanitizing user input with PHP?","body":"<p>Is there a catchall function somewhere that works well for sanitizing user input for sql injection and XSS attacks, while still allowing certain types of html tags?</p>\n"},{"tags":["php","algorithm","binary","code-efficiency","huffman-encoding"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":80,"score":6,"question_id":13258327,"title":"PHP Efficient way to Convert String of Binary into Binary","body":"<p>here is the skinny (scroll down to see the problem): I am doing Huffman Encoding to compress a file using PHP (for a project).  I have made the map, and made everything into a string like so:</p>\n\n<pre><code>00101010001100001110011101001101111011111011\n</code></pre>\n\n<p>Now, I need to convert that into an actual binary string, in its current state, it is only a string of 1s and 0s.</p>\n\n<p>Here is <strong>the problem</strong>:</p>\n\n<p>The string of 1s and 0s is 17,747,595 characters long, and it is really slowing down at around 550,000</p>\n\n<p>This is the code I have:</p>\n\n<pre><code>&lt;?php\n\n$i=0\n$len = strlen($binaryString);\n\nwhile ($i &lt; $len){\n    $section = substr($binaryString,$i,$i+8);\n    $out .= chr(bindec($section));\n    $i=$i+8;\n}\n\n?&gt;\n</code></pre>\n\n<p>How can I make this efficient enough to run the 17 million character string?</p>\n\n<p>Thanks very much for any support!</p>\n"},{"tags":["php","browser","post","webpage","expired"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1803,"score":1,"question_id":1987765,"title":"Error - Web Page Has Expired in PHP?","body":"<p>I have six pages for a registration form in my PHP project. </p>\n\n<p>In between any of the page if I press the back button from the explorer bar I get the error:</p>\n\n<pre><code>\"Webpage has Expired\". \n</code></pre>\n\n<p>I am using <code>$_POST</code> to submit the data. I can't understand why this occurs? </p>\n"},{"tags":["php","database","login","mysqli"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13259109,"title":"PHP mysqli query isnt working","body":"<p>when the user enters their details they click on login but its not working, my connection to the database is fine its this file that is not working, any help would be appreciated, thanks\n    \n\n<pre><code>include '../connection.php'; //used to include connection file that is 1 level higher in the directory \n\n$username = $_REQUEST['username'];\n$password = $_REQUEST['password'];\n\n$fquery = 'SELECT Username FROM login LIMIT 0, 30 ';\n$squery = 'SELECT Password FROM login LIMIT 0, 30 ';\n\n$username_query = mysqli_query($dbc, $fquery);\n$password_query = mysqli_query($dbc, $squery);\n\n$username_row = mysqli_fetch_array($username_query);\n$password_row = mysqli_fetch_array($password_query);\n\nif($username == $username_row &amp;&amp; $password == $password_row) {\n    echo 'username and password correct';\n}\n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","error-handling","http-status-code-500","googlebot"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13249258,"title":"In Webmaster tools googlebot is getting a crawl error 500 from the server","body":"<p>I've noticed my sites are not ranking as well as they did before and when I checked Webmaster tools I see that gooblebot cannot crawl pages that I can perfectly crawl with my browser and I'm getting an 500 error.</p>\n\n<p>The websites are not wordpress and use php.</p>\n\n<p>What can be causing this problem?</p>\n\n<p>This is the actual error in WMT</p>\n\n<p>HTTP/1.1 500 Internal Server Error\nDate: Tue, 06 Nov 2012 21:04:38 GMT\nServer: Apache\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nSet-Cookie: PHPSESSID=blkss9toirna36p2mjl44htv01; path=/\nVary: Accept-Encoding\nContent-Encoding: gzip\nContent-Length: 3840\nConnection: close\nContent-Type: text/html</p>\n"},{"tags":["php","coding-style","shorttags"],"answer_count":23,"favorite_count":36,"up_vote_count":162,"down_vote_count":0,"view_count":41068,"score":162,"question_id":200640,"title":"Are PHP short tags acceptable to use?","body":"<p>Here's the info <a href=\"http://www.php.net/manual/en/language.basic-syntax.php\">according to the official documentation</a>:</p>\n\n<blockquote>\n  <p>There are four different pairs of\n  opening and closing tags which can be\n  used in php. Two of those, <code>&lt;?php ?&gt;</code>\n  and <code>&lt;script language=\"php\"&gt; &lt;/script&gt;</code>,\n  are always available. The other two\n  are short tags and ASP style tags, and\n  can be turned on and off from the\n  php.ini configuration file. As such,\n  while some people find short tags and\n  ASP style tags convenient, they are\n  less portable, and <strong>generally not\n  recommended</strong>.</p>\n</blockquote>\n\n<p>In my experience most servers <em>do</em> have short tags enabled. Typing</p>\n\n<pre><code>&lt;?=\n</code></pre>\n\n<p>is far more convenient than typing</p>\n\n<pre><code>&lt;?php echo \n</code></pre>\n\n<p>The programmers convenience is an important factor, so <strong>why</strong> are they not recommended?</p>\n"},{"tags":["php","mysql","cookies"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13259126,"title":"What's a secure way to create a \"remember me\" system in PHP with cookies?","body":"<p>I'm at the beginning of a project that will have a \"remember me\" option when the user authenticates.</p>\n\n<p>My user's database table have the following basic structure for authentication:</p>\n\n<ul>\n<li>id       :   a random number generated when user is registered. (key)</li>\n<li>username :   an username choosen by the user, can be changed to another unique username.</li>\n<li>hash     :   the hash of the password created with \"phpass\" when the password is set.</li>\n</ul>\n\n<p>I'd like to know a safe way to keep the user logged in, even in more than one computer, using cookies and MySQL.</p>\n\n<p>I wish I can use the same cookies to store a temporaly session or a \"remember me\" section. I've read about tokens and about hashing all user information to a cookie but is it safe? I checked Facebook's cookies that are used after user authentication and there's user id entry, is it really necessary for what I whant to do?</p>\n\n<p>If I decide to hash information to the cookie should I use \"phpass\" that probably is slower or a simple MD5 function, seen that the authentication verification wiil be in every page and every AJAX request? Should I renew a user token every time I verify for login?</p>\n\n<p>Finally, what's the best choice I have? I know there's a lot of questions similar to this but I didn't found something like \"the best way\" to do this. In every post I find there's something different and contradictory about this subject. I'd like to know a safe and clean way to do it.</p>\n"},{"tags":["php","sql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13258801,"title":"Pulling Data in PHP from SQL Server","body":"<p>I have an issue with my script somewhere but do not know exactly where it is incorrect.  Here is the code:</p>\n\n<pre><code>&lt;title&gt;Log&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;h1&gt; Log &lt;/h1&gt;\n\n&lt;form method=\"get\" action=\"getlog.php\"&gt; \n\n&lt;table width=\"300\" border=\"0\"&gt;\n  &lt;tr&gt;\n    &lt;td&gt; Forte ID:&lt;/td&gt;\n    &lt;td&gt;&lt;select id=\"ForteID\" name=\"ForteID\"&gt;                    \n                    &lt;option value=\"nc4682\"&gt;nc4682&lt;/option&gt;\n                    &lt;option value=\"bs1441\"&gt;bs1441&lt;/option&gt;\n                    &lt;option value=\"sp3212\"&gt;sp3212&lt;/option&gt;                 \n        &lt;/select&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\n &lt;input type=\"submit\" name=\"getLog\" value=\"Get Log\"&gt;\n &lt;/form&gt; \n\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;?php\n/*print_r($_POST);*/\n$serverName = 'SRB-Nick_Desktop\\SQLEXPRESS';\n$connectionInfo = array('Database'=&gt;'cslogs', 'UID'=&gt;'cslogslogin', 'PWD'=&gt;'123456');\n$connection = sqlsrv_connect($serverName, $connectionInfo);\n\n$query = 'SELECT    ForteID, Disposition, appNumber, Finance_Num, Num_Payments, ACH_CC,     Notes from logs';\n\n$result = sqlsrv_query($connection,$query);\n\nif (!$result) \n{\n    $message = 'ERROR: ' . sqlsrv_errors();\n    return $message;\n}\nelse\n{\n    $i = 0;\n    echo '&lt;html&gt;&lt;body&gt;&lt;table&gt;&lt;tr&gt;';\n    while ($i &lt; sqlsrv_num_rows($result))\n    {\n        $meta = sqlsrv_fetch($result, $i);\n        echo '&lt;td&gt;' . $meta-&gt;name . '&lt;/td&gt;';\n        $i = $i + 1;\n    }\n    echo '&lt;/tr&gt;';\n\n    while ( ($row = sqlsrv_fetch_array($result))) \n    {\n        $count = count($row);\n        $y = 0;\n        echo '&lt;tr&gt;';\n        while ($y &lt; $count)\n        {\n        $c_row = current($row);\n        echo '&lt;td&gt;' . $c_row . '&lt;/td&gt;';\n        next($row);\n        $y = $y + 1;\n    }\n    echo '&lt;/tr&gt;';\n}\nsqlsrv_free_stmt ($result);\n\necho '&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;';\n}\nsqlsrv_close( $connection);\n?&gt;\n</code></pre>\n\n<p>And this is what I get in result, no matter what is selected in the drop down box and hit the button get log.</p>\n\n<p>nc4682  nc4682  Save    Save    asdf    asdf    fdas    fdas    1   1   cc  cc  asdf    asdf\nbs1441  bs1441  LOC LOC AN00336862  AN00336862  None    None    0   0   ach ach Backout Backout\nnc4682  nc4682  Save    Save    AN00336862  AN00336862  easdf   easdf   2   2   ach ach asdf    asdf\nsp3212  sp3212  Sale    Sale    NCXXXXXX1   NCXXXXXX1   none    none    1   1   cc  cc  asdfasdfasdf    asdfasdfasdf</p>\n\n<p>Each column is duplicated.  There are supposed to be 7 columns.</p>\n"},{"tags":["php","foreach"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":41,"score":3,"question_id":13259227,"title":"PHP foreach array push with key and value","body":"<p>I have this foreach here</p>\n\n<pre><code>&lt;?php foreach($division as $value){\n            $arraydivision[] = $value['name'];\n        } ?&gt;\n</code></pre>\n\n<p>but the keys come back as 0, 1, 2, 3, 4</p>\n\n<p>I would like the keys to be also the names...I have tried</p>\n\n<pre><code>&lt;?php foreach($division as $value){\n            $arraydivision[] = $value['name'] =&gt; $value['name'];\n        } ?&gt;\n</code></pre>\n\n<p>But that didnt work, just gave me an error...anyone know why this is not working?</p>\n"},{"tags":["php","html-parsing"],"answer_count":15,"favorite_count":287,"up_vote_count":373,"down_vote_count":4,"view_count":41771,"score":369,"question_id":3577641,"title":"How to parse and process HTML with PHP?","body":"<p>How can one <strong>parse HTML</strong> and extract information from it? What libraries exist for that purpose? What are their strengths and drawbacks?</p>\n\n<blockquote>\n  <p><strong>This is a <a href=\"http://stackoverflow.com/tags/php/info\">General Reference</a> question for the <a href=\"/questions/tagged/php\" class=\"post-tag\" title=\"show questions tagged 'php'\" rel=\"tag\">php</a> tag</strong></p>\n</blockquote>\n"},{"tags":["php","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":33,"score":0,"question_id":13257901,"title":"PHPExcel saving template with an excessive file size","body":"<p>Version information:</p>\n\n<p>PHPExcel - 1.7.8</p>\n\n<p>linux - Linux version 2.6.18-274.12.1.el5 (mockbuild@builder10.centos.org) (gcc version 4.1.2 20080704 (Red Hat 4.1.2-51))</p>\n\n<p>PHP Version - 5.3.17</p>\n\n<p>I have a sales reporting template that I use to create a weekly report.  Everything works perfectly, except for the output file size.</p>\n\n<p>The input template is only 249kb in size, and yet the output file ends up being over 4mb in size.</p>\n\n<p>There are a total of 97 cells that have any data put added into them.  When I insert the data manually, the size stays correct.</p>\n\n<p>Original Template size - 254,464</p>\n\n<p>Manual Entry Output size - 254,464</p>\n\n<p>PHPExcel Output size - 4,230,656</p>\n\n<p>I based my code off of the 30template.php example.</p>\n\n<p>Any thoughts on what could be causing this is appreciated!</p>\n\n<p>If any other information is needed I'll respond with what I can.</p>\n"},{"tags":["php","exec","proc-open"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":10666700,"title":"Passing interactive arguments for PHP exec() method","body":"<p>Need a help to implement the following. I have a C program file as follows:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nmain()\n{\n  int x;\n  int args;\n\n  printf(\"Enter an integer: \");\n  if (( args = scanf(\"%d\", &amp;x)) == 0) {\n      printf(\"Error: not an integer\\n\");\n  } else {\n      printf(\"Read in %d\\n\", x);\n  }\n  if (( args = scanf(\"%d\", &amp;x)) == 0) {\n      printf(\"Error: not an integer\\n\");\n  } else {\n      printf(\"Read in %d\\n\", x);\n  }\n}\n</code></pre>\n\n<p>I generated a.out and now I want to call this a.out using exec(\"a.out\", $output). But my problem is that I'm getting how to pass the value of integer when it asks for. I tried using proc_open() but I could not understand its usage. I will appreciate your help if you can give me piece of PHP code which can handle this to pass these two values and finally print the received result.</p>\n\n<p>Best Regards</p>\n"},{"tags":["php","arm","cross-compiling","thttpd"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2709,"score":2,"question_id":3817685,"title":"cross-compiled THTTPD server with PHP runs fine, but no PHP","body":"<p>We need some PHP on an ARM board. I've successfully cross-compiled both PHP 5 and THTTPD and they both seem to run fine on the ARM board, only the .php pages are shown unprocessed (if you do \"View Source\" in the web browser, you can see the PHP code).</p>\n\n<p>It has to be a silly configuration detail, I really feel that I am snatching defeat from the jaws of victory. Any help or smart ideas would be greatly appreciated!</p>\n\n<p>Here are my steps to build, deploy and test:</p>\n\n<p>My thttpd.conf file is:</p>\n\n<pre><code>dir=/srv/www\nphppat=**\nphpspat=**.php\nlogfile=/srv/www/logs/web.log\nnochroot\nport=80\n</code></pre>\n\n<p>My procedure was:</p>\n\n<pre><code>cd ~/packages/php/\ntar xjvf php-5.2.1.tar.bz2\ncd ~/packages/thttpd/\ntar xzvf thttpd-2.21b.tar.gz\n\ncd ~/packages/php/php-5.2.1/\nmkdir install-arm\nexport CC=/bin/arm-linux-gcc\nexport CXX=/bin/arm-linux-cpp\n./configure --host=i386-linux-gnu --target=arm --prefix=install-arm \\\n--disable-short-tags --without-mysql \\\n--without-pear --disable-all --disable-short-tags\n--enable-force-cgi-redirect --enable-discard-path \\\n--with-thttpd=../../thttpd/thttpd-2.21b\nmake\nmake install\n\ncd ~/packages/thttpd/thttpd-2.21b\nexport CC=/bin/arm-linux-gcc\nexport CXX=/bin/arm-linux-c++\nexport CPP=/bin/arm-linux-c++\n./configure --host=i386-linux-gnu --target=arm --prefix=/srv/www\n\n\n# I got compiling errors for thttpd.c caused by the ifdef condition not happening and \n# an include file not added. Deleted the ifdef/end if and recompiled. This \n# necessary for two files.\n\n\n################ in file thttpd.c changed:\n\n        #ifdef HAVE_FCNTL_H\n        #include &lt;fcntl.h&gt;\n        #endif\n\n# to:\n        #include &lt;fcntl.h&gt;\n\n\n############### in file fdwatch.c changed:\n\n        #ifdef HAVE_POLL_H\n        #include &lt;poll.h&gt;\n        #else /* HAVE_POLL_H */\n        #ifdef HAVE_SYS_POLL_H\n        #include &lt;sys/poll.h&gt;\n        #endif /* HAVE_SYS_POLL_H */\n        #endif /* HAVE_POLL_H */\n\n# to:\n        #include &lt;poll.h&gt;\n# also tried:\n        #include &lt;sys/poll.h&gt;\n# (both work)\n\nmake\n\n# to make sure we get 0 (success) despite the warnings:\necho $?\n\n# no make install, all references indicated it's broken and I also got errors\n# where directories with the same name prevented files from being written.\n\n########## deployment to board\n\n# copied \"php\" and \"thttpd\" executables in /usr/sbin using following command\n# in Cutecom:\ncd /usr/sbin\ntftp -g -r php 192.168.1.25\ntftp -g -r thttpd 192.168.1.25\nchmod +x php\nchmod +x thttpd\n\n# unsure, should I get a libphp5.so ? Where is it?:\n# tried:\n# cd /usr/lib\n# tftp -g -r libphp5.a 192.168.1.25\n# chmod +rx\n\ncd /srv/www\nmkdir conf\ncd conf\ntftp -g -r thttpd.conf 192.168.1.25\ncd /srv\n\n/usr/sbin/thttpd -C /srv/www/conf/thttpd.conf\n\n\n# HTML pages and images displayed fine, test.php is passed without pre-processing,\n# contains:\n# &lt;?\n#    phpinfo();\n# ?&gt;\n\n\n##############  Testing if PHP works on the ARM board\n\nroot@arago:/srv/www/cgi-bin# php -v\nPHP 5.2.1 (cli) (built: Sep 27 2010 10:59:59) \nCopyright (c) 1997-2007 The PHP Group\nZend Engine v2.2.0, Copyright (c) 1998-2007 Zend Technologies\n\n\nroot@arago:/srv/www/cgi-bin# php -r 'phpinfo();'\nphpinfo()\nPHP Version =&gt; 5.2.1\n\nSystem =&gt; Linux arago 2.6.33-rc4 #1 PREEMPT Thu Mar 25 15:06:29 IST 2010 armv5tejl\nBuild Date =&gt; Sep 27 2010 11:30:59\nConfigure Command =&gt;  './configure' '--host=i386-linux-gnu' '--target=arm'\n'--prefix=install-arm' '--disable-short-tags' '--without-mysql' '--without-pear'   \n'--disable-all' '--disable-short-tags' '--enable-force-cgi-redirect' '--enable-\ndiscard-path' '--with-thttpd=../../thttpd/thttpd-2.21b'\nServer API =&gt; Command Line Interface\nVirtual Directory Support =&gt; disabled\nConfiguration File (php.ini) Path =&gt; install-arm/lib\nPHP API =&gt; 20041225\nPHP Extension =&gt; 20060613\nZend Extension =&gt; 220060519\nDebug Build =&gt; no\nThread Safety =&gt; disabled\nZend Memory Manager =&gt; enabled\nIPv6 Support =&gt; enabled\nRegistered PHP Streams =&gt; php, file, data, http, ftp  \nRegistered Stream Socket Transports =&gt; tcp, udp, unix, udg\nRegistered Stream Filters =&gt; string.rot13, string.toupper, string.tolower,   \nstring.strip_tags, convert.*, consumed\n\n\nThis program makes use of the Zend Scripting Language Engine:\nZend Engine v2.2.0, Copyright (c) 1998-2007 Zend Technologies\n\n\n _______________________________________________________________________\n\n\nConfiguration\n\nPHP Core\n\nDirective =&gt; Local Value =&gt; Master Value\nallow_call_time_pass_reference =&gt; On =&gt; On\nallow_url_fopen =&gt; On =&gt; On\nallow_url_include =&gt; Off =&gt; Off\nalways_populate_raw_post_data =&gt; Off =&gt; Off\narg_separator.input =&gt; &amp; =&gt; &amp;\narg_separator.output =&gt; &amp; =&gt; &amp;\nasp_tags =&gt; Off =&gt; Off\nauto_append_file =&gt; no value =&gt; no value\nauto_globals_jit =&gt; On =&gt; On\nauto_prepend_file =&gt; no value =&gt; no value\nbrowscap =&gt; no value =&gt; no value\ndefault_charset =&gt; no value =&gt; no value\ndefault_mimetype =&gt; text/html =&gt; text/html\ndefine_syslog_variables =&gt; Off =&gt; Off\ndisable_classes =&gt; no value =&gt; no value\ndisable_functions =&gt; no value =&gt; no value\ndisplay_errors =&gt; On =&gt; On\ndisplay_startup_errors =&gt; Off =&gt; Off\ndoc_root =&gt; no value =&gt; no value\ndocref_ext =&gt; no value =&gt; no value\ndocref_root =&gt; no value =&gt; no value\nenable_dl =&gt; On =&gt; On\nerror_append_string =&gt; no value =&gt; no value\nerror_log =&gt; no value =&gt; no value\nerror_prepend_string =&gt; no value =&gt; no value\nerror_reporting =&gt; no value =&gt; no value\nexpose_php =&gt; On =&gt; On\nextension_dir =&gt; install-arm/lib/php/extensions/no-debug-non-zts-20060613 =&gt; install- \narm/lib/php/extensions/no-debug-non-zts-20060613\nfile_uploads =&gt; On =&gt; On\nhighlight.bg =&gt; &lt;font style=\"color: #FFFFFF\"&gt;#FFFFFF&lt;/font&gt; =&gt; &lt;font style=\"color:   \n#FFFFFF\"&gt;#FFFFFF&lt;/font&gt; \n\nhighlight.comment =&gt; &lt;font style=\"color: #FF8000\"&gt;#FF8000&lt;/font&gt; =&gt; &lt;font \nstyle=\"color: #FF8000\"&gt;#FF8000&lt;/font&gt;\nhighlight.default =&gt; &lt;font style=\"color: #0000BB\"&gt;#0000BB&lt;/font&gt; =&gt; &lt;font \nstyle=\"color: #0000BB\"&gt;#0000BB&lt;/font&gt;\nhighlight.html =&gt; &lt;font style=\"color: #000000\"&gt;#000000&lt;/font&gt; =&gt; &lt;font style=\"color: \n#000000\"&gt;#000000&lt;/font&gt;\nhighlight.keyword =&gt; &lt;font style=\"color: #007700\"&gt;#007700&lt;/font&gt; =&gt; &lt;font \nstyle=\"color: #007700\"&gt;#007700&lt;/font&gt;\nhighlight.string =&gt; &lt;font style=\"color: #DD0000\"&gt;#DD0000&lt;/font&gt; =&gt; &lt;font style=\"color:\n#DD0000\"&gt;#DD0000&lt;/font&gt;\nhtml_errors =&gt; Off =&gt; Off\nignore_repeated_errors =&gt; Off =&gt; Off\nignore_repeated_source =&gt; Off =&gt; Off\nignore_user_abort =&gt; Off =&gt; Off\nimplicit_flush =&gt; On =&gt; On\ninclude_path =&gt; .: =&gt; .:\nlog_errors =&gt; Off =&gt; Off\nlog_errors_max_len =&gt; 1024 =&gt; 1024\nmagic_quotes_gpc =&gt; On =&gt; On\nmagic_quotes_runtime =&gt; Off =&gt; Off\nmagic_quotes_sybase =&gt; Off =&gt; Off\nmail.force_extra_parameters =&gt; no value =&gt; no value\nmax_execution_time =&gt; 0 =&gt; 0\nmax_input_time =&gt; -1 =&gt; -1\nmemory_limit =&gt; 128M =&gt; 128M\nopen_basedir =&gt; no value =&gt; no value\noutput_buffering =&gt; 0 =&gt; 0\noutput_handler =&gt; no value =&gt; no value\npost_max_size =&gt; 8M =&gt; 8M\nprecision =&gt; 14 =&gt; 14\nrealpath_cache_size =&gt; 16K =&gt; 16K\nrealpath_cache_ttl =&gt; 120 =&gt; 120\nregister_argc_argv =&gt; On =&gt; On\nregister_globals =&gt; Off =&gt; Off\nregister_long_arrays =&gt; On =&gt; On\nreport_memleaks =&gt; On =&gt; On\nreport_zend_debug =&gt; Off =&gt; Off\nsafe_mode =&gt; Off =&gt; Off\nsafe_mode_exec_dir =&gt; /usr/local/php/bin =&gt; /usr/local/php/bin\nsafe_mode_gid =&gt; Off =&gt; Off\nsafe_mode_include_dir =&gt; no value =&gt; no value\nsendmail_from =&gt; no value =&gt; no value\nsendmail_path =&gt;  -t -i  =&gt;  -t -i \nserialize_precision =&gt; 100 =&gt; 100\nshort_open_tag =&gt; Off =&gt; Off\nSMTP =&gt; localhost =&gt; localhost\nsmtp_port =&gt; 25 =&gt; 25\nsql.safe_mode =&gt; Off =&gt; Off\ntrack_errors =&gt; Off =&gt; Off\nunserialize_callback_func =&gt; no value =&gt; no value\nupload_max_filesize =&gt; 2M =&gt; 2M\nupload_tmp_dir =&gt; no value =&gt; no value\nuser_dir =&gt; no value =&gt; no value\nvariables_order =&gt; EGPCS =&gt; EGPCS\nxmlrpc_error_number =&gt; 0 =&gt; 0\nxmlrpc_errors =&gt; Off =&gt; Off\ny2k_compliance =&gt; On =&gt; On\nzend.ze1_compatibility_mode =&gt; Off =&gt; Off\n\ndate\n\ndate/time support =&gt; enabled\nTimezone Database Version =&gt; 2006.16\nTimezone Database =&gt; internal\nDefault timezone =&gt; UTC\n\nDirective =&gt; Local Value =&gt; Master Value\ndate.default_latitude =&gt; 31.7667 =&gt; 31.7667\ndate.default_longitude =&gt; 35.2333 =&gt; 35.2333\ndate.sunrise_zenith =&gt; 90.583333 =&gt; 90.583333\ndate.sunset_zenith =&gt; 90.583333 =&gt; 90.583333\ndate.timezone =&gt; no value =&gt; no value\n\nReflection\n\nReflection =&gt; enabled\nVersion =&gt; $Id: php_reflection.c,v 1.164.2.33.2.33 2007/01/01 09:36:05 sebastian Exp $\n\nstandard\n\nRegex Library =&gt; Bundled library enabled\nDynamic Library support not available&lt;br /&gt;.\n\nDirective =&gt; Local Value =&gt; Master Value\nassert.active =&gt; 1 =&gt; 1\nassert.bail =&gt; 0 =&gt; 0\nassert.callback =&gt; no value =&gt; no value\nassert.quiet_eval =&gt; 0 =&gt; 0\nassert.warning =&gt; 1 =&gt; 1\nauto_detect_line_endings =&gt; 0 =&gt; 0\ndefault_socket_timeout =&gt; 60 =&gt; 60\nsafe_mode_allowed_env_vars =&gt; PHP_ =&gt; PHP_\nsafe_mode_protected_env_vars =&gt; LD_LIBRARY_PATH =&gt; LD_LIBRARY_PATH\nurl_rewriter.tags =&gt; a=href,area=href,frame=src,form=,fieldset= =&gt;   \na=href,area=href,frame=src,form=,fieldset=\nuser_agent =&gt; no value =&gt; no value\n\nAdditional Modules\n\nModule Name\n\nEnvironment\n\nVariable =&gt; Value\nTSLIB_TSDEVICE =&gt; /dev/input/touchscreen0\nUSER =&gt; root\nOLDPWD =&gt; /srv/www\nHOME =&gt; /home/root\nPS1 =&gt; \\u@\\h:\\w\\$ \nLOGNAME =&gt; root\nTERM =&gt; linux\nPATH =&gt; /usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:\nSHELL =&gt; /bin/sh\nPWD =&gt; /srv/www/cgi-bin\nTZ =&gt; UTC\nEDITOR =&gt; /bin/vi\n\nPHP Variables\n\nVariable =&gt; Value\n_SERVER[\"TSLIB_TSDEVICE\"] =&gt; /dev/input/touchscreen0\n_SERVER[\"USER\"] =&gt; root\n_SERVER[\"OLDPWD\"] =&gt; /srv/www\n_SERVER[\"HOME\"] =&gt; /home/root\n_SERVER[\"PS1\"] =&gt; \\u@\\h:\\w\\$ \n_SERVER[\"LOGNAME\"] =&gt; root\n_SERVER[\"TERM\"] =&gt; linux\n_SERVER[\"PATH\"] =&gt; /usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:\n_SERVER[\"SHELL\"] =&gt; /bin/sh\n_SERVER[\"PWD\"] =&gt; /srv/www/cgi-bin\n_SERVER[\"TZ\"] =&gt; UTC\n_SERVER[\"EDITOR\"] =&gt; /bin/vi\n_SERVER[\"PHP_SELF\"] =&gt; -\n_SERVER[\"SCRIPT_NAME\"] =&gt; -\n_SERVER[\"SCRIPT_FILENAME\"] =&gt; \n_SERVER[\"PATH_TRANSLATED\"] =&gt; \n_SERVER[\"DOCUMENT_ROOT\"] =&gt; \n_SERVER[\"REQUEST_TIME\"] =&gt; 1267544129\n_SERVER[\"argv\"] =&gt; Array\n(\n    [0] =&gt; -\n)\n\n_SERVER[\"argc\"] =&gt; 1\n_ENV[\"TSLIB_TSDEVICE\"] =&gt; /dev/input/touchscreen0\n_ENV[\"USER\"] =&gt; root\n_ENV[\"OLDPWD\"] =&gt; /srv/www\n_ENV[\"HOME\"] =&gt; /home/root\n_ENV[\"PS1\"] =&gt; \\u@\\h:\\w\\$ \n_ENV[\"LOGNAME\"] =&gt; root\n_ENV[\"TERM\"] =&gt; linux\n_ENV[\"PATH\"] =&gt; /usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:\n_ENV[\"SHELL\"] =&gt; /bin/sh\n_ENV[\"PWD\"] =&gt; /srv/www/cgi-bin\n_ENV[\"TZ\"] =&gt; UTC\n_ENV[\"EDITOR\"] =&gt; /bin/vi\n\nPHP License\nThis program is free software; you can redistribute it and/or modify\nit under the terms of the PHP License as published by the PHP Group\nand included in the distribution in the file:  LICENSE\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nIf you did not receive a copy of the PHP license, or have any\nquestions about PHP licensing, please contact license@php.net.\n</code></pre>\n"},{"tags":["php","web-services","soap"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":7528,"score":2,"question_id":4906871,"title":"Fatal error: Uncaught SoapFault exception: [WSDL]","body":"<p>I'm having trouble calling a web service I've set up from PHP. The obfuscated adress <code>http://XXX.XXX.XXX.XXX/test.asmx?wsdl</code> in the error message below returns a valid WSDL. I've successfully tried to call it as a web service using a VB.net client, but when I call it from PHP on Debian I get the following message:</p>\n\n<pre>\nFatal error: Uncaught SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL:\n  Couldn't load from 'http://XXX.XXX.XXX.XXX/test.asmx?wsdl'\n  in /var/www/domain/mywebsite.com/public_html/catalog/fomeus/orders.php:101\n\nStack trace:\n  #0 /var/www/domain/mywebsite.com/public_html/catalog/fomeus/orders.php(101):\n    SoapClient->SoapClient('http://XXX.XXX.XXX.XXX/', Array) #1 {main} thrown\n    in /var/www/domain/mywebsite.com/public_html/catalog/fomeus/orders.php\n    on line 101\n</pre>\n\n<p>What could the problem be? I've included my code for the web service and the PHP client below.</p>\n\n<p><strong>Web Service:</strong></p>\n\n<pre><code>Imports System.Web.Services\nImports System.Web.Services.Protocols\nImports System.ComponentModel\n...\n' To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line.\n' &lt;System.Web.Script.Services.ScriptService()&gt; _\n&lt;System.Web.Services.WebService(Namespace:=\"http://tempuri.org/\")&gt; _\n&lt;System.Web.Services.WebServiceBinding(ConformsTo:=WsiProfiles.BasicProfile1_1)&gt; _\n&lt;ToolboxItem(False)&gt; _\nPublic Class WebService1\nInherits System.Web.Services.WebService \n    &lt;WebMethod()&gt; _\n    Public Function HelloWorld() As String\n        Return \"Hello World\"\n    End Function\nEnd Class\n</code></pre>\n\n<p><strong>PHP client:</strong></p>\n\n<pre><code>require_once($_SERVER['DOCUMENT_ROOT'].\"/catalog/fomeus/includes/soap/nusoap.php\");\n\n$objClient = new soapclient(\"http://XXX.XXX.XXX.XXX/test.asmx?wsdl\",\n    array('trace' =&gt; 1, 'exception' =&gt; 0, 'cache_wsdl' =&gt; 0));\n\nprint_r($objClient -&gt; HelloWorld());\n</code></pre>\n\n<p>I'm using PHP version 5.2.6 if that's of any help. I've been going through plenty of posts in different forums trying to figure out what the problem is. Many people have had the same issue, but none of the solutions I've found so far work for me. Any help would be greatly appreciated.</p>\n"},{"tags":["php","mysql","phpmyadmin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":73,"score":-2,"question_id":13205077,"title":"Auto Create PHP Scripts from a Mysql Database?","body":"<p>Is there any free site/software that can take a MYSQL database structure\nand auto generate the html forms, and php code to insert, modify, and delete.</p>\n\n<p>I used it a few years ago to quickly develop a prototype.</p>\n\n<p>I came across this in my search tonight:</p>\n\n<p><a href=\"http://www.fpmg.co.cc/index.php\" rel=\"nofollow\">http://www.fpmg.co.cc/index.php</a></p>\n\n<p>But it doesn't read an existing mysql database or table (that i know of)\nbut it's similar in terms that it will auto generate all the form/html and php code </p>\n\n<p><strong>* Import DDL Statements from this link does this a little bit too after looking into it\n*</strong> Not 100% what I needed, but it could help a little</p>\n\n<p>==========================</p>\n\n<h1><strong>This worked for me below.</strong> Nov.5th,2012</h1>\n\n<p>Update: using this: <a href=\"http://www.turningturnip.co.uk/free-mysql-php-generator/generator.php\" rel=\"nofollow\">http://www.turningturnip.co.uk/free-mysql-php-generator/generator.php</a> created this with this link: <a href=\"http://www.turningturnip.co.uk/free-mysql-php-generator/web-code-creator.php\" rel=\"nofollow\">http://www.turningturnip.co.uk/free-mysql-php-generator/web-code-creator.php</a></p>\n\n<pre><code>CREATE TABLE `test` (\n`id` int(6) NOT NULL auto_increment,\n`firstname` varchar(255) NOT NULL default '',\n        `lastname` varchar(255) NOT NULL default '',\n        `ssn` varchar(255) NOT NULL default '',\n        PRIMARY KEY  (`id`),\nUNIQUE KEY `id` (`id`)\n)\nENGINE=MyISAM AUTO_INCREMENT=1;\n</code></pre>\n"},{"tags":["php","windows","phpunit","cli"],"answer_count":3,"favorite_count":7,"up_vote_count":11,"down_vote_count":0,"view_count":2699,"score":11,"question_id":5614204,"title":"PHPUnit Command Line Tool Not working","body":"<p>I run XAMPP on windows. </p>\n\n<p>I've recently downloaded PHPUnit from the PEAR CLI tool. </p>\n\n<p>Everything looks fine, (eclipse correctly suggests code completion so it means that it was correctly added to the include_path),<strong>but</strong> whenever I try and get it to work via console by typing <code>phpunit</code> (it's in the environmental PATH variable), it hangs on for a seconds or two and then closes( as if it was terminated).</p>\n\n<p>I've tried <code>phpunit --help</code> also, and no success.</p>\n\n<p>Also tried <code>phpunit --verbose</code>.</p>\n\n<p>Has anyone else had that same problem or knows the solution?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","sql","user","expire"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13258951,"title":"redirect to page if expiration date = today's date?","body":"<p>I have a site with users on. Each users account has an expiration date in mysql table 'subscription_expires'.</p>\n\n<p>Is there a way to redirect a user to another page other than dashboard.php if their profile or the 'subscription_expires' is = to todays date after an attempt of login in which says their profile has expired. </p>\n\n<p>I've tried to have a go by using 'sub_expires' etc but no luck it still logs the user in if their profile is expired. </p>\n\n<p>here's my login script:</p>\n\n<pre><code>&lt;?php\n\n    if (logged_in()) {\n        redirect_to(\"dashboard.php\");\n    }\n\n    include_once(\"includes/form_functions.php\");\n\n    // START FORM PROCESSING\n    if (isset($_POST['submit'])) { // Form has been submitted.\n        $errors = array();\n\n        // perform validations on the form data\n        $required_fields = array('email', 'password');\n        $errors = array_merge($errors, check_required_fields($required_fields, $_POST));\n\n        $fields_with_lengths = array('email' =&gt; 30, 'password' =&gt; 30);\n        $errors = array_merge($errors, check_max_field_lengths($fields_with_lengths, $_POST));\n\n        $email = trim(mysql_prep($_POST['email']));\n        $password = trim(mysql_prep($_POST['password']));\n        $hashed_password = md5($password);\n\n        if ( empty($errors) ) {\n            // Check database to see if email and the hashed password exist there.\n            $query = \"SELECT id, email, close_account \";\n            $query .= \"FROM ptb_users \";\n            $query .= \"WHERE email = '{$email}' \";\n            $query .= \"AND password = '{$hashed_password}' \";\n            $query .= \"AND close_account = '0' \";\n            $query .= \"LIMIT 1\";\n            $result_set = mysql_query($query);\n            confirm_query($result_set);\n            if (mysql_num_rows($result_set) == 1) {\n                // email/password authenticated\n                // and only 1 match\n                $found_user = mysql_fetch_array($result_set);\n                $_SESSION['user_id'] = $found_user['id'];\n                $_SESSION['email'] = $found_user['email'];\n                $_SESSION['sub_expires'] = $found_user['subscription_expires'];\n\n                $result = mysql_query(\"UPDATE ptb_users SET user_online='Online' WHERE id=\".$_SESSION['user_id'].\"\") \nor die(mysql_error());\n\n\n                redirect_to(\"dashboard.php\");\n            } else {\n                // email/password combo was not found in the database\n                $message = \"&lt;div class=\\\"infobox\\\"&gt;&lt;strong&gt;Email/Password combination incorrect.&lt;/strong&gt;&lt;br /&gt;\n                    Please make sure your caps lock key is off and try again.&lt;/div&gt;\";\n            }\n\n                } else {\n            if (count($errors) == 1) {\n                $message = \"&lt;div class=\\\"infobox\\\"&gt;There was 1 error in the form.&lt;div&gt;\";\n\n\n            } else {\n                $message = \"&lt;div class=\\\"infobox\\\"&gt;There were \" . count($errors) . \" errors in the form.&lt;div&gt;\";\n            }\n        }\n\n\n    } else { // Form has not been submitted.\n        if (isset($_GET['logout']) &amp;&amp; $_GET['logout'] == 1) {\n            $message = \"&lt;div class=\\\"infobox\\\"&gt;You are now logged out.&lt;/div&gt;\";\n        } \n        $email = \"\";\n        $password = \"\";\n    }\n?&gt;\n            &lt;?php if (!empty($message)) {echo \"&lt;p class=\\\"message\\\"&gt;\" . $message . \"&lt;/p&gt;\";} ?&gt;\n            &lt;?php if (!empty($errors)) { display_errors($errors); } ?&gt;\n            &lt;form action=\"login.php\" method=\"post\"&gt;\n\nEmail&lt;br /&gt;\n&lt;input name=\"email\" type=\"text\" value=\"&lt;?php echo htmlentities($email); ?&gt;\" size=\"40\" maxlength=\"50\" /&gt;\n\n  &lt;br /&gt;\n  &lt;br /&gt;\n  Password&lt;br /&gt;\n  &lt;input name=\"password\" type=\"password\" value=\"&lt;?php echo htmlentities($password); ?&gt;\" size=\"40\" maxlength=\"30\" /&gt;\n\n  &lt;br /&gt;\n  &lt;br /&gt;\n&lt;input type=\"submit\" name=\"submit\" value=\"Login\" /&gt;\n\n\n            &lt;/form&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":57,"score":-5,"question_id":13259157,"title":"Check if email exists via jquery/ajax","body":"<p>I have the following code that works perfect for adding an entry to my database. however, 2 issues.</p>\n\n<p>I'm new to sending things via ajax and i have a pretty good understanding of php, so i know the traditional way of checking etc. I just dont know how to incorporate the email check into my ajax code. Code is below:</p>\n\n<pre><code>$(document).ready(function(){\n$(\"#RegisterInterest\").submit(function(e) {\n    $.ajax({\n        type: \"POST\",\n        url: \"registerinterest.php\",\n        data: $(e.target).serialize(),\n        dataType: \"json\",\n        error: function(jqXHR, textStatus, errorThrown){\n            $('#FormHolder').fadeOut();\n            $('#FormFail').fadeIn();\n            //$('#error-output').html(errorThrown);\n        },\n        success: function(data){\n            $('#FormHolder').fadeOut();\n            $('#FormSuccess').fadeIn();\n            //$('#success-output').html(data);\n        }\n    });\n    return false;\n});\n});\n</code></pre>\n\n<p>Like i say, it inserts data fine. I just need to make it check for an empty field and throw up and error and not insert to database, and the same when the email already exists</p>\n"},{"tags":["php","xslt","conditional-statements","choose"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13241038,"title":"PHP XSL Conditional Statement (CHOOSE, WHEN, IF, OTHERWISE) Causes 500 Internal Server Error","body":"<p>Here's the problem. I am taking returned XML data that is returned from a web application and processing it into HTML through XSLT for the user to see. This works flawlessly on my local WAMP server (Apache 2.2.21, PHP 5.3.8, libxml 2.7.8, libxslt 1.1.23). However when I load it onto my Arvixe Hosted server (Apache 2.2.23, PHP 5.2.17, libxml 2.7.8, libxslt 1.1.27) it fails. I was able to drill down and discover that the xsl transformation is working until I incorporate any conditional statement (choose, when, if, otherwise, etc.) at which point it throws a \"500 Internal Server Error\". I have checked the error logs and there is nothing related to the problem. If I eliminate all conditional statements and only display the values of each XML node:</p>\n\n<pre><code>&lt;xsl:value-of select=\"MORTGAGEDATA/APPLICATION/UNDERWRITINGCASE/FHAVA/CaseTypeCD\"/&gt;\n</code></pre>\n\n<p>Everything works fine</p>\n\n<p>But if I add in a conditional statement:</p>\n\n<pre><code>    &lt;xsl:choose&gt;        \n        &lt;xsl:when test=\"MORTGAGEDATA/APPLICATION/UNDERWRITINGCASE/FHAVA/FHAVAFieldOfficeCode = '0670'\"&gt;\n            &lt;xsl:text&gt;Tulsa, OK&lt;/xsl:text&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:when test=\"MORTGAGEDATA/APPLICATION/UNDERWRITINGCASE/FHAVA/FHAVAFieldOfficeCode = '0339'\"&gt;\n            &lt;xsl:text&gt;Washington, DC&lt;/xsl:text&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:when test=\"MORTGAGEDATA/APPLICATION/UNDERWRITINGCASE/FHAVA/FHAVAFieldOfficeCode = '0344'\"&gt;\n            &lt;xsl:text&gt;Wilmington, DE&lt;/xsl:text&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:otherwise&gt;\n            &lt;xsl:text&gt;Not Applicable&lt;/xsl:text&gt;\n        &lt;/xsl:otherwise&gt;\n    &lt;/xsl:choose&gt;\n</code></pre>\n\n<p>The browser displays a 500 Internal Server Error</p>\n\n<p>Anyone have any clue what could cause this?</p>\n\n<p>At my wits end! Cannot for the life of me figure out why this is happening. </p>\n"},{"tags":["php","xml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":3443952,"title":"XML file validation using PHP","body":"<p>I am using DOMDocument for xml file validation. It takes more than 30 minutes in validating a 67MB xml file. Is there any other way to improve this checking time?</p>\n"},{"tags":["php","codeigniter","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13163649,"title":"Doctrine inconsistently and silently fails to load model","body":"<p>Ok, I'm using Doctrine2 in Codeigniter along the lines of <a href=\"http://www.joelverhagen.com/blog/2011/05/setting-up-codeigniter-2-with-doctrine-2-the-right-way/\" rel=\"nofollow\">Joel Verhagen</a> and things have been working fine, but now I have a mysterious issue.</p>\n\n<p>When destroying an item things work fine:</p>\n\n<pre><code>$delete = $this-&gt;doctrine-&gt;em-&gt;getRepository('Entities\\Item')-&gt;findOneBy(array('slug' =&gt; $item));\n$this-&gt;doctrine-&gt;em-&gt;remove($delete);\n$this-&gt;doctrine-&gt;em-&gt;flush();\n</code></pre>\n\n<p>but updating an item fails, silently, right after the getRepository():</p>\n\n<pre><code>$item = $this-&gt;doctrine-&gt;em-&gt;getRepository('Entities\\Item')-&gt;findOneBy(array('id' =&gt; $id));\n$item-&gt;setDescription(html_entity_decode($_POST['content']));\n$this-&gt;doctrine-&gt;em-&gt;persist($item);\n$this-&gt;doctrine-&gt;em-&gt;flush();\n</code></pre>\n\n<p>Same controller, and that is all the code in each action. All of my other controllers are fine, but this fails with nothing in any logs. Splitting the getRepository and find calls dies right after the getRepository. Moving the getRepository into the __construct causes update() to die with the find.</p>\n\n<p>Thoughts? Leads? It seems anyone else on SO ends up either going a different direction or never having solved the problem.</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>Edit:\nAdd Models</p>\n\n<p>Yaml</p>\n\n<p>Item</p>\n\n<pre><code>Entities\\Item:\n    type: entity\n    table: items\n    id:\n        id:\n            type: integer\n            primary: true\n            notnull: true\n            generator:\n                strategy: AUTO\n    fields:\n        title:\n            type: string(255)\n            notnull: true\n        slug:\n            type: string(255)\n            notnull: true\n        description:\n            type: string(255)\n    manyToOne:\n        type:\n            targetEntity: Type\n            inversedBy: item\n            joinColumn:\n                name: type_id\n                referencedColumnName: id\n    options:\n        charset: utf8\n        type: InnoDB\n</code></pre>\n\n<p>Type</p>\n\n<pre><code>Entities\\Type:\n    type: entity\n    table: types\n    id:\n        id:\n            type: integer\n            primary: true\n            notnull: true\n            generator:\n                strategy: AUTO\n    fields:\n        title:\n            type: string(255)\n            notnull: true\n        slug:\n            type: string(255)\n            notnull: true\n        description:\n            type: string(255)\n    oneToMany:\n        items:\n            targetEntity: Item\n            orphanRemoval: true\n            mappedBy: type\n    manyToMany:\n        fields:\n            targetEntity: Field\n            inversedBy: types\n            joinTable:\n                name: fields_types\n                joinColumns:\n                    type_id:\n                        referencedColumnName: id\n                inverseJoinColumns:\n                    field_id:\n                        referencedColumnName: id\n    options:\n        charset: utf8\n        type: InnoDB\n</code></pre>\n\n<hr>\n\n<p>PHP</p>\n\n<p>Item</p>\n\n<pre><code>&lt;?php\n\nnamespace Entities;\n\nuse Doctrine\\ORM\\Mapping as ORM;\n\n/**\n * Entities\\Item\n */\nclass Item\n{\n    /**\n     * @var integer $id\n     */\n    private $id;\n\n    /**\n     * @var string $title\n     */\n    private $title;\n\n    /**\n     * @var string $description\n     */\n    private $description;\n\n    /**\n     * @var \\Doctrine\\Common\\Collections\\ArrayCollection\n     */\n    private $fields;\n\n    /**\n     * Constructor\n     */\n    public function __construct()\n    {\n        $this-&gt;fields = new \\Doctrine\\Common\\Collections\\ArrayCollection();\n    }\n\n    /**\n     * Get id\n     *\n     * @return integer \n     */\n    public function getId()\n    {\n        return $this-&gt;id;\n    }\n\n    /**\n     * Set title\n     *\n     * @param string $title\n     * @return Item\n     */\n    public function setTitle($title)\n    {\n        $this-&gt;title = $title;\n\n        return $this;\n    }\n\n    /**\n     * Get title\n     *\n     * @return string \n     */\n    public function getTitle()\n    {\n        return $this-&gt;title;\n    }\n\n    /**\n     * Set description\n     *\n     * @param string $description\n     * @return Item\n     */\n    public function setDescription($description)\n    {\n        $this-&gt;description = $description;\n\n        return $this;\n    }\n\n    /**\n     * Get description\n     *\n     * @return string \n     */\n    public function getDescription()\n    {\n        return $this-&gt;description;\n    }\n\n    /**\n     * Add fields\n     *\n     * @param Entities\\Field $fields\n     * @return Item\n     */\n    public function addField(\\Entities\\Field $fields)\n    {\n        $this-&gt;fields[] = $fields;\n\n        return $this;\n    }\n\n    /**\n     * Remove fields\n     *\n     * @param Entities\\Field $fields\n     */\n    public function removeField(\\Entities\\Field $fields)\n    {\n        $this-&gt;fields-&gt;removeElement($fields);\n    }\n\n    /**\n     * Get fields\n     *\n     * @return Doctrine\\Common\\Collections\\Collection \n     */\n    public function getFields()\n    {\n        return $this-&gt;fields;\n    }\n    /**\n     * @var Entities\\Type\n     */\n    private $types;\n\n\n    /**\n     * Set types\n     *\n     * @param Entities\\Type $types\n     * @return Item\n     */\n    public function setTypes(\\Entities\\Type $types = null)\n    {\n        $this-&gt;types = $types;\n\n        return $this;\n    }\n\n    /**\n     * Get types\n     *\n     * @return Entities\\Type \n     */\n    public function getTypes()\n    {\n        return $this-&gt;types;\n    }\n    /**\n     * @var Entities\\Type\n     */\n    private $type;\n\n\n    /**\n     * Set type\n     *\n     * @param Entities\\Type $type\n     * @return Item\n     */\n    public function setType(\\Entities\\Type $type = null)\n    {\n        $this-&gt;type = $type;\n\n        return $this;\n    }\n\n    /**\n     * Get type\n     *\n     * @return Entities\\Type \n     */\n    public function getType()\n    {\n        return $this-&gt;type;\n    }\n    /**\n     * @var string $slug\n     */\n    private $slug;\n\n\n    /**\n     * Set slug\n     *\n     * @param string $slug\n     * @return Item\n     */\n    public function setSlug($slug)\n    {\n        $this-&gt;slug = $slug;\n\n        return $this;\n    }\n\n    /**\n     * Get slug\n     *\n     * @return string \n     */\n    public function getSlug()\n    {\n        return $this-&gt;slug;\n    }\n}\n</code></pre>\n\n<p>Type</p>\n\n<pre><code>&lt;?php\n\nnamespace Entities;\n\nuse Doctrine\\ORM\\Mapping as ORM;\n\n/**\n * Entities\\Type\n */\nclass Type\n{\n    /**\n     * @var integer $id\n     */\n    private $id;\n\n    /**\n     * @var string $title\n     */\n    private $title;\n\n    /**\n     * @var string $description\n     */\n    private $description;\n\n    /**\n     * @var \\Doctrine\\Common\\Collections\\ArrayCollection\n     */\n    private $items;\n\n    /**\n     * Constructor\n     */\n    public function __construct()\n    {\n        $this-&gt;items = new \\Doctrine\\Common\\Collections\\ArrayCollection();\n    }\n\n    /**\n     * Get id\n     *\n     * @return integer \n     */\n    public function getId()\n    {\n        return $this-&gt;id;\n    }\n\n    /**\n     * Set title\n     *\n     * @param string $title\n     * @return Type\n     */\n    public function setTitle($title)\n    {\n        $this-&gt;title = $title;\n\n        return $this;\n    }\n\n    /**\n     * Get title\n     *\n     * @return string \n     */\n    public function getTitle()\n    {\n        return $this-&gt;title;\n    }\n\n    /**\n     * Set description\n     *\n     * @param string $description\n     * @return Type\n     */\n    public function setDescription($description)\n    {\n        $this-&gt;description = $description;\n\n        return $this;\n    }\n\n    /**\n     * Get description\n     *\n     * @return string \n     */\n    public function getDescription()\n    {\n        return $this-&gt;description;\n    }\n\n    /**\n     * Add items\n     *\n     * @param Entities\\Item $items\n     * @return Type\n     */\n    public function addItem(\\Entities\\Item $items)\n    {\n        $this-&gt;items[] = $items;\n\n        return $this;\n    }\n\n    /**\n     * Remove items\n     *\n     * @param Entities\\Item $items\n     */\n    public function removeItem(\\Entities\\Item $items)\n    {\n        $this-&gt;items-&gt;removeElement($items);\n    }\n\n    /**\n     * Get items\n     *\n     * @return Doctrine\\Common\\Collections\\Collection \n     */\n    public function getItems()\n    {\n        return $this-&gt;items;\n    }\n    /**\n     * @var \\Doctrine\\Common\\Collections\\ArrayCollection\n     */\n    private $fields;\n\n\n    /**\n     * Add fields\n     *\n     * @param Entities\\Field $fields\n     * @return Type\n     */\n    public function addField(\\Entities\\Field $fields)\n    {\n        $this-&gt;fields[] = $fields;\n\n        return $this;\n    }\n\n    /**\n     * Remove fields\n     *\n     * @param Entities\\Field $fields\n     */\n    public function removeField(\\Entities\\Field $fields)\n    {\n        $this-&gt;fields-&gt;removeElement($fields);\n    }\n\n    /**\n     * Get fields\n     *\n     * @return Doctrine\\Common\\Collections\\Collection \n     */\n    public function getFields()\n    {\n        return $this-&gt;fields;\n    }\n    /**\n     * @var string $slug\n     */\n    private $slug;\n\n\n    /**\n     * Set slug\n     *\n     * @param string $slug\n     * @return Type\n     */\n    public function setSlug($slug)\n    {\n        $this-&gt;slug = $slug;\n\n        return $this;\n    }\n\n    /**\n     * Get slug\n     *\n     * @return string \n     */\n    public function getSlug()\n    {\n        return $this-&gt;slug;\n    }\n}\n</code></pre>\n"},{"tags":["php","wordpress"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13184551,"title":"how to set a defult sort for wordpress post types","body":"<p>I have made a post type \"events\", that use a custom field \"Datum\" (swedish for date).\nI want the default view for this post type to be sorted by this field.</p>\n\n<p>so far i got:</p>\n\n<pre><code> register_post_type(\n                'events',\n                array(\n                        'labels' =&gt; array(\n                                'name' =&gt; __( 'Arrangemang' ),\n                                'singular_name' =&gt; __( 'Arrangemang' )\n                        ),\n                        'supports' =&gt; array(\n                                'title',\n                                'editor',\n                                'custom-fields'\n                        ),\n                        'public' =&gt; true,\n                        'has_archive' =&gt; true,\n                        'query_var' =&gt; array(\n                                'post_type' =&gt; 'events',\n                                'meta_key' =&gt; 'Datum',\n                                'orderby' =&gt; 'meta_value',\n                                'order' =&gt; 'ASC',\n                        ),\n                )\n        );\n</code></pre>\n\n<p>but the ordering dosn't work, if I on the archive page for events run: <code>print_r($wp_query-&gt;query_vars);</code> i get:</p>\n\n<pre><code>Array\n(\n    [post_type] =&gt; events\n    [error] =&gt; \n    [m] =&gt; 0\n    [p] =&gt; 0\n    [post_parent] =&gt; \n    [subpost] =&gt; \n    [subpost_id] =&gt; \n    [attachment] =&gt; \n    [attachment_id] =&gt; 0\n    [name] =&gt; \n    [static] =&gt; \n    [pagename] =&gt; \n    [page_id] =&gt; 0\n    [second] =&gt; \n    [minute] =&gt; \n    [hour] =&gt; \n    [day] =&gt; 0\n    [monthnum] =&gt; 0\n    [year] =&gt; 0\n    [w] =&gt; 0\n    [category_name] =&gt; \n    [tag] =&gt; \n    [cat] =&gt; \n    [tag_id] =&gt; \n    [author_name] =&gt; \n    [feed] =&gt; \n    [tb] =&gt; \n    [paged] =&gt; 0\n    [comments_popup] =&gt; \n    [meta_key] =&gt; \n    [meta_value] =&gt; \n    [preview] =&gt; \n    [s] =&gt; \n    [sentence] =&gt; \n    [fields] =&gt; \n    [category__in] =&gt; Array\n        (\n        )\n\n    [category__not_in] =&gt; Array\n        (\n        )\n\n    [category__and] =&gt; Array\n        (\n        )\n\n    [post__in] =&gt; Array\n        (\n        )\n\n    [post__not_in] =&gt; Array\n        (\n        )\n\n    [tag__in] =&gt; Array\n        (\n        )\n\n    [tag__not_in] =&gt; Array\n        (\n        )\n\n    [tag__and] =&gt; Array\n        (\n        )\n\n    [tag_slug__in] =&gt; Array\n        (\n        )\n\n    [tag_slug__and] =&gt; Array\n        (\n        )\n\n    [meta_query] =&gt; Array\n        (\n        )\n\n    [ignore_sticky_posts] =&gt; \n    [suppress_filters] =&gt; \n    [cache_results] =&gt; 1\n    [update_post_term_cache] =&gt; 1\n    [update_post_meta_cache] =&gt; 1\n    [posts_per_page] =&gt; 100\n    [nopaging] =&gt; \n    [comments_per_page] =&gt; 50\n    [no_found_rows] =&gt; \n    [order] =&gt; DESC\n    [orderby] =&gt; wp_posts.post_date DESC\n)\n</code></pre>\n\n<p>have i misunderstand the argument query_var for register_post_type\nor why isn't is sorting the list as i asked for?</p>\n"},{"tags":["php","apache","curl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13259136,"title":"Worked and than stopped working... CURLOPT_FOLLOWLOCATION cannot be activated when safe_mode is enabled -","body":"<p>I have just written a code which has worked well. It has got the data with CURL, I have run the .php file 2x times, but for the 3rd time I got this message all over the site: <code>CURLOPT_FOLLOWLOCATION cannot be activated when safe_mode is enabled or an open_basedir is set in</code></p>\n\n<p>I have NOT changed anything. What could be the problem? So it has worked well, than stopped working...</p>\n"},{"tags":["php","mysql","orm","symfony1","cpu-speed"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":269,"score":1,"question_id":11294747,"title":"What performance improvements can I make to Symfony + Doctrine?","body":"<p>I've recently built a reasonably complex database application for a university handling almost 200 tables. Some tables can (e.g. Publications) hold 30 or more fields and store 10 one-to-one FK relations and up to 2 or 3 many-to-many FK relations (using crossreference-ref tables). I use integer IDs throughout and normalisation has been key every step of the way. AJAX is minimal and most pages are standard CRUD forms/processes.</p>\n\n<p>I used Symfony 1.4, and Doctrine ORM 1.2, MySQL, PHP.</p>\n\n<p>While the benefits to development time and ease of maintenance have been enormous (in using an MVC and ORM), we've been having problems with speed. That is, when we have more than a few users logged in and active at any one time the application slows considerbly (up to 20 seconds to save or edit a record).</p>\n\n<p>We're currently engaged in discussions with our SysAdmin but they say that we should have more than enough power. With 6 or more users engaged in activity, we end up queuing 4 CPUs in a virtual server environment while memory usage is low (no bleeds).</p>\n\n<p>Of course, we're considering multi-threading our mySQL application (if this will help), refining our code (though much of it is generated by the MVC) and refining our cache usage (this could be better, though the majority of the screen used is user-login specific and dynamic); we've installed APC, extra memory, de-fragmented our database, I've tried unsetting all recordsets (though I understand this is now automatic within the ORM), instigating manual garbage recycling...</p>\n\n<p>But the question I'm asking is whether mySQL, PHP, and Symfony MVC was actually a poor choice for developing an application of this size in the first place? If so, what do people normally use/recommend for a web-based database interface application of this kind of size/complexity?</p>\n"},{"tags":["php","fuelphp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13254795,"title":"Using variables in Model Crud with Advanced Usage with Closure","body":"<pre><code>echo $slot-&gt;id;\n$slot-&gt;players = (Model_Players::find(function ($query)\n{\n    return $query-&gt;join('users')\n        -&gt;on('players.player', '=', 'users.id')\n        -&gt;where('players.slot', $slot-&gt;id);\n})) ?: array();\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>4\n\nErrorException [ Notice ]: Undefined variable: slot  \nAPPPATH/classes/controller/booking.php @ line 98:  \n98: -&gt;where('players.slot', $slot-&gt;id);\n</code></pre>\n\n<p>How do I send the <code>$slot</code> object into the function?</p>\n"},{"tags":["php","mysql","fulltext"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13259090,"title":"Mysql Fulltext search with different number of columns","body":"<p>I've been taking my first stab at Fulltext searching and am having trouble getting the query to work. Here's the new code I've been trying (from a PHP file):</p>\n\n<pre><code>$browse_all_query = \"(SELECT master_id, title, series_id, series_number, year, date, day, month, speaker_id, speaker2_id, speaker3_id \" .\n                    \"FROM master \" .\n                    \"WHERE MATCH (title) AGAINST ($where_clause)) \" .\n                    \"UNION \" .\n                    \"(SELECT camp_name, camp_id \" .\n                    \"FROM camp \" .\n                    \"WHERE MATCH (camp_name) AGAINST ($where_clause)) \" .\n                    \"UNION \" .\n                    \"(SELECT subject_name, subject_id \" .\n                    \"FROM subject \" .\n                    \"WHERE MATCH (subject_name) AGAINST ($where_clause)) \" .\n                    \"UNION \" .\n                    \"(SELECT speaker_id, s_title, f_name, m_name, l_name, l_name2 \" .\n                    \"FROM speaker \" .\n                    \"WHERE MATCH (s_title, f_name, m_name, l_name, l_name2) AGAINST ($where_clause)) \" .\n                    \"UNION \" .\n                    \"(SELECT series_title, series_id \" .\n                    \"FROM series \" .\n                    \"WHERE MATCH (series_title) AGAINST ($where_clause)) \";\n</code></pre>\n\n<p>Now, I understand that a big issue for me here is that I have different numbers of columns in my select statements as well as different data types. What I need is to figure out how I can pull all the information I need from all the columns I've selected, yet still use fulltext search.  This is an online audio library. I'm using a regular WHERE/LIKE setup now, but unfortunately using that method, searching for one speaker's name (Glenn Clark) brings up results for \"glenn\" and \"clark\" wherever they are used as I sanitize and separate my keywords....not to mention that the \"speaker\" table has separate columns for first name and last name.</p>\n\n<p>What would be the best way around this?</p>\n\n<p>My table structure is:</p>\n\n<ol>\n<li>Master (the main table with 13 columns)</li>\n<li>Speaker (6 columns)</li>\n<li>Camp (3 columns)</li>\n<li>Series (6 columns)</li>\n<li>Subject (2 columns)</li>\n</ol>\n\n<p>In my current code I was selecting all the extra bits of information not directly relative to the search at the same time I ran the search, as I use those bits (like all the \"id\" fields) to output all the information I needed for the results as seen here:\n<img src=\"http://i.stack.imgur.com/HgNx2.jpg\" alt=\"enter image description here\"></p>\n\n<p>Am I needing additional queries or am I going about this completely the wrong way.</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["php","mysql","web-applications","seo"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":41,"score":-2,"question_id":13258532,"title":"How do sites use referral URLs without running into SEO issues?","body":"<p>I was looking through a few websites recently and noticed a trend I'm not sure I understand. Sites are creating unique referral URLs for customers in the form of:</p>\n\n<p><a href=\"http://customname.site.com\" rel=\"nofollow\">http://customname.site.com</a></p>\n\n<p>(If somebody were to use <a href=\"http://www.site.com/customname\" rel=\"nofollow\">http://www.site.com/customname</a> it would function the same way).</p>\n\n<p>I can see the sites are using 302 redirects at some point using Google Chrome then doing some sort of htaccess redirect, taking the subdomain name (customname) and applying it as a referral parameter then keeping in session during the entire process.</p>\n\n<p>However, there must be thousands of these custom URLs that people are typing in. How are each one of these \"subdomains\" not treated as separate URLs which in turn are redirected to the same page (in short, generating tons of links all pointing to the same page which Google would normally frown upon)? Additionally, the links also appear on the site themselves as clickable links so I'm not sure how these are not tracked.</p>\n\n<p>Similarly, the \"unique\" url is not indexed or cached in any Google search results. How is this capability handled?</p>\n\n<p>It does NOT highlight the referral aspect, but a true example of this is visiting <a href=\"http://sfgiants.com\" rel=\"nofollow\">http://sfgiants.com</a> which does a 302 redirect to the much longer proper San Francisco Giants MLB homepage. I am wondering how SFgiants.com is not indexed (assuming that direct shortened link appears on several MLB pages)?</p>\n\n<h2>Note:</h2>\n\n<p>Some users on here are way too uptight and think everybody is trying to scamp them or get them to signup for something. Above are made up URLs but if you want an actual site to browse for reference let me know.</p>\n"},{"tags":["php","ajax","path"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13247553,"title":"Path issue with autoload function to get files for use in Ajax","body":"<p>So my project uses an MVC framework and I have a page with an Ajax script I run to get content from the server.  When the PHP script is called in the Ajax script, I want to access the classes already in my library for use in the PHP script.  To do this, I use what I call an ajaxBootstrap to call the appropriate function that then instantiates the objects needed for that specific Ajax script.</p>\n\n<p>To load those classes from my library I have an autoload function in my ajaxBootstrap so I don't need to use a bunch of require and include statements.  My problem is those files aren't being loaded due to a path issue with the autoload function.  When I use a require statement with the same path, the classes load with no problems, its only when I try to load them using the autoload function that I get an 500 internal server error.</p>\n\n<p>Here is my ajaxBootstrap file:</p>\n\n<pre><code>// This file routes Ajax requests made in JS files and instantiates a specific object to carry out the actions needed for that particular Ajax operation \n\n// Autoload any classes that are required\nfunction autoLoad($classToLoad)\n{\n    if(file_exists('../library/' . $classToLoad . 'class.php')) // File in the library folder\n    {\n        require('../library/' . $classToLoad . '.class.php');\n   }\n    else if(file_exists('../../app/models/' . $classToLoad . 'class.php')) // File in the models folder\n    {\n        require('../../app/models/' . $classToLoad . '.class.php');\n    }\n}\n\nspl_autoload_register('autoLoad');\n\n// Determine which fucntion to call based on the url that's listed in the Ajax request\nswitch($_GET['action'])\n{\n    case 'pageOne':\n        pageOne();\n        break;\n    case 'pageTwo':\n        pageTwo();\n        break;\n}\n\nfunction pageOne()\n{\n    $test = new Test();\n    $test-&gt;funcThatReturnStuff();\n}\n\nfunction pageTwo()\n{\n    $test2 = new Test2();\n    $test2-&gt;funcThatReturnStuff();\n}\n</code></pre>\n\n<p>Like I mentioned eariler, if I use a require statement such as:</p>\n\n<pre><code>require('../library/Test.class.php');\n$test = new Test();\n$test-&gt;funcThatReturnStuff();\n</code></pre>\n\n<p>The class loads and works just fine.  But using the same path in the autoloader function throws an error.  The really odd thing is if I put an else if statement in the autoloader that loads a class from the folder where my ajaxBootstrap is it also works fine too...</p>\n\n<p>I know I could just use the require statements and be done with the problem but I want to be able to scale the project and not need to use loads of require statements in the future.  BTW, I use '../' to get from where my ajaxBootstrap file is to my other folders.</p>\n\n<p>Also, to add to my previous post, I've tried replacing the <code>../</code> with absolute paths using <code>define('ROOT', dirname(__FILE__) . '/')</code> and also <code>define('ROOT', $_SERVER['DOCUMENT_ROOT'] . '/path/to/folder/')</code> neither of which worked and still gave me the internal server error in Firebug.  In addition, I haven't received any errors in my error log either.</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":["php","mysql","escaping","user-input"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13258964,"title":"Storing user-contributed text with links and formatting","body":"<p>How can I store user contributed text while maintaing links, formatting, etc? (Basically exactly what stack overflow does with our posts)</p>\n\n<p>It seems extremely dangerous to allow any HTML to be stored in text. What are some existing conventions?</p>\n\n<p>Site is built in PHP, databases are MySQL if it matters. </p>\n"},{"tags":["php","symfony2","symfony-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":98,"score":3,"question_id":13179849,"title":"Symfony 2.1 Security Cross Subdomain","body":"<p>Running Symfony 2.1 on an application and we have different sandboxes of the code. Eg. </p>\n\n<ul>\n<li><code>aequasi.someurl.com</code> </li>\n<li><code>dev.someurl.com</code> </li>\n<li><code>hotcarl.someurl.com</code></li>\n</ul>\n\n<p>I cant seem to figure out why, but when im logged into <code>aequasi</code>, and i go to <code>hotcarl</code>, i need to log in again. When i do, it logs me out of <code>aequasi</code>.</p>\n\n<p>All sandboxes are using the same database for auth</p>\n\n<p>i have this in my <code>config.yml</code>:</p>\n\n<pre><code>framework:\n    session:\n        cookie_domain: .someurl.com\n        domain:        .someurl.com\n</code></pre>\n\n<p>ive got the <code>php.ini</code> set up to use the same url too</p>\n\n<p>also, the session_id's are the same</p>\n"},{"tags":["php","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":25,"score":-6,"question_id":13258543,"title":"How to Create menu items automatically when creating a post in WordPress?","body":"<p>i am using wordpress 3.4.2 now my question was whenever i create a post it will be added automatically in main menu  it is possible?</p>\n\n<p>Edit:\n my code:</p>\n\n<pre><code>    /* take care of the urls */\n    add_filter( 'wp_get_nav_menu_items', 'cpt_archive_menu_filter', 10, 3 );\n    function cpt_archive_menu_filter( $items, $menu, $args ) {\n    /* alter the URL for cpt-archive objects */\n\n   $menu_order = count($items); /* Offset menu order */\n\n     $child_items = array();\n   foreach ( $items as &amp;$item ) {\nif ( $item-&gt;object != 'cpt-archive' ) continue;\n$item-&gt;url = get_post_type_archive_link( $item-&gt;type );\n\n/* retrieve all children */\nforeach ( get_posts( 'post_type='.$item-&gt;type.'&amp;numberposts=-1' ) as $post ) {\n  /* hydrate with menu-specific information */\n  $post-&gt;menu_item_parent = $item-&gt;ID;\n  $post-&gt;post_type = 'nav_menu_item';\n  $post-&gt;object = 'custom';\n  $post-&gt;type = 'custom';\n  $post-&gt;menu_order = ++$menu_order;\n  $post-&gt;title = $post-&gt;post_title;\n  $post-&gt;url = get_permalink( $post-&gt;ID );\n  /* add as a child */\n  $child_items []= $post;\n}\n</code></pre>\n\n<p>}\n  return array_merge( $items, $child_items );\n}</p>\n"},{"tags":["php","uservoice"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":9377183,"title":"Using OAuth with UserVoice API","body":"<p>I am currently developing a Facebook App in which I wish to add Uservoice forums and suggestions</p>\n\n<p>I have managed to use the API to pull in the forums and suggestions that have already been created, but I am now wanting to allow the user to create / vote on suggestions within a forum. The documentation at UserVoice does not give examples of setting an app in PHP with Oauth.</p>\n\n<p>I am new the OAuth topic and have done some reading around the subject and understand the fundamentals of how OAuth works but I just dont know how to implement the requests in PHP. Any help would be appreciated </p>\n\n<p>Thanks</p>\n"},{"tags":["php","objective-c","ios","cryptography","aes"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13244260,"title":"Trying to find an Objective-C AES encryption method that works","body":"<p>I have spent hours on Google, StackExchange, etc trying to find a working AES encryption solution.  I cannot seem to find one that works.  I have the following PHP snippet that I would like to work in conjunction with an Objective-C class.  It doesn't matter if I have to switch to AES 128 on the PHP side of things to make it easier.  Could somebody help me since I am not very versed in the cryptography side of things?</p>\n\n<pre><code>&lt;?php\n    class StringOperations {\n        public static function decryptData($data, $key) {\n            return rtrim(mcrypt_decrypt(MCRYPT_RIJNDAEL_256, md5($key), base64_decode($data), MCRYPT_MODE_CBC, md5(md5($key))), \"\\0\");\n        }\n\n        public static function encryptData($data, $key) {\n            return base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, md5($key), $data, MCRYPT_MODE_CBC, md5(md5($key))));\n        }\n    }\n?&gt;\n</code></pre>\n\n<p>If you need anything else to help you answer my question, please comment.</p>\n"},{"tags":["php","api","yahoo","import-contacts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":11925893,"title":"Yahoo YQL testing console and my app are returning different results","body":"<p>yahoo YQL test console can list my contacts. whereas in my application i see no results. Empty. what am i missing ? (I am using php sdk)</p>\n\n<p>i have set up my yahoo application setting contacts and profile features enabled.</p>\n\n<p>I have been working with yahoo api for 2 days. does it have problems ?</p>\n"},{"tags":["php","oop"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":49,"score":-3,"question_id":13258686,"title":"include methods from external php file in a class","body":"<p>I have a class with own methods and on the other side a php file what contains external methods. From documentation is clear that inside of a class includeing external functions is not possible</p>\n\n<p>How could I inculde this functions in my class. Making an another class and extend my first class it can not be an option. </p>\n"},{"tags":["php","vim","autocomplete"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":256,"score":2,"question_id":9863706,"title":"php autocomplete with vim","body":"<p>i'm looking for an php autocomplete solution for vim. I already was at this thread:\n<a href=\"http://stackoverflow.com/questions/1224838/vim-php-omni-completion/2316468\">VIM php omni completion</a>\nbut it doesn't work for me.\nI generate the tags file with this bash script:</p>\n\n<pre><code>#!/bin/bash\nexec ctags -V -f tags \\\n-h \\\".php\\\" -R \\\n--exclude=\\\"\\.git\\\" \\\n--totals=yes \\\n--language-force=PHP \\\n--tag-relative=yes \\\n--PHP-kinds=+cfiv \\\n--regex-PHP='/(abstract)?\\s+class\\s+([^ ]+)/\\2/c/' \\\n--regex-PHP='/(static|abstract|public|protected|private)\\s+(final\\s+)?function\\s+(\\&amp;\\s+)?([^ (]+)/\\4/f/' \\\n--regex-PHP='/interface\\s+([^ ]+)/\\1/i/' \\\n--regex-PHP='/\\$([a-zA-Z_][a-zA-Z0-9_]*)/\\1/v/' \\\nkernel/classes/\n</code></pre>\n\n<p>but the autocomplete is not as desired. I don't even know if the plugin is loading.\nso, how can i see if the plugin is loading? (the plugin is located under bundle, i use pathogen, and other plugins do work..)\nit is necessary to activate something else?\ni have VIM - Vi IMproved 7.3, Exuberant Ctags 5.8</p>\n\n<p>thanks</p>\n"},{"tags":["php","javascript","import"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13258288,"title":"Importing a txt semi-colon delimited file via php and into a new format","body":"<p>I might have bitten off more than I can chew with this one, but hopefully you guys can help. Here's the story.</p>\n\n<p>I have a user generated .txt file that gets updated regularly through the day via a calendar module I have installed on my site. I need to be able to access SOME of that data to block out dates that are reserved in the calendar. First, here's the syntax of the calendar .txt file. To make it more readable, I'll put each segment of data on its own line:</p>\n\n<pre><code>2012-11-08;;1;;0,\n2012-11-09;;1;;0,\n2012-11-10;;1;;0,\n2012-11-13;;2;;0,\n2012-11-14;;2;;0,\n2012-12-05;;1;;150,\n2012-12-06;;1;;150\n</code></pre>\n\n<p>Here's where things get complicated though. I can easily import this using a little php script into my CMS. But I only need certain data from the above feed, and I need it organized in a slightly different format than it's currently being output in. I am using the jquery datepicker on another calendar to show the availability to guests, and I have a JS script that blocks out dates using this format.</p>\n\n<pre><code>var disabledDays = [\n    \"11-21-2012\",\n    \"12-17-2012\",\n    \"12-02-2012\",\n    \"01-03-2013\",\n    \"01-04-2013\",\n    \"01-05-2013\"\n];\n</code></pre>\n\n<p>Any item in the .txt file that has a \"2\" or \"0\" after the date is a \"Booked\" or \"Unavailable\" date, respectively, and needs to be included in the JS feed above; i.e.; 2012-11-13;;2;;0,</p>\n\n<p>The final number in the .txt file, which above was either a 0 or 150 can be discarded entirely, as that's the price and isn't relevant to the JS calendar. And the final thing is the date is in a slightly different order in the .txt file than what I need it to be in the .JS file (which I'll create using PHP).</p>\n\n<p>I am sure all of the above is possible using PHP, but I'm running in circles trying to get this working. Anyone have any ideas?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","friendly-url"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1491,"score":0,"question_id":5205456,"title":".htaccess mod_rewrite > 500 Internal Server Error","body":"<p>I am new with .htaccess, so this might be a dummy question :).</p>\n\n<p>My original link is:</p>\n\n<pre><code>http://example.com/CareerDays/index.php?u_type=admin\n</code></pre>\n\n<p>And I'm trying to make it look like this:</p>\n\n<pre><code>http://example.com/v/admin\n</code></pre>\n\n<p>The entire code looks like this:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^v/([^/]*)$ /CareerDays/index.php?u_type=$1 [L]\n</code></pre>\n\n<p>And I always get \"<strong>500 Internal Server Error</strong>\" :(</p>\n\n<p>Any suggestions ?</p>\n"},{"tags":["php","domdocument","textnode","domelement"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13244420,"title":"Adding marked-up text to DOMDocument in php","body":"<p>Is there a way to add marked up text (with <code>&lt;span&gt;</code>, <code>&lt;p&gt;</code>, <code>&lt;br /&gt;</code>, and the likes) to a text node, without having to create all the mark-up nodes by hand? I dont want to use a CDATASection node.</p>\n\n<p>Edit: I just found the answer. Someone else had asked a very similar question in regards to XML: <a href=\"http://stackoverflow.com/questions/598829/xml-node-with-mixed-content-using-php-dom\">XML node with Mixed Content using PHP DOM</a></p>\n"},{"tags":["php","regex"],"answer_count":7,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":899,"score":1,"question_id":1737881,"title":"RegEx to get the keywords from HTML","body":"<p>I'm trying to obtain the keywords from an HTML page that I'm scraping with PHP. </p>\n\n<p>So, if the keywords tag looks like this:</p>\n\n<pre><code>&lt;meta name=\"Keywords\" content=\"MacUpdate, Mac Software, Macintosh Software, Mac Games, Macintosh Games, Apple, Macintosh, Software, iphone, ipod, Games, Demos, Shareware, Freeware, MP3, audio, sound, macster, napster, macintel, universal binary\"&gt;\n</code></pre>\n\n<p>I want to get this back:</p>\n\n<pre><code>MacUpdate, Mac Software, Macintosh Software, Mac Games, Macintosh Games, Apple, Macintosh, Software, iphone, ipod, Games, Demos, Shareware, Freeware, MP3, audio, sound, macster, napster, macintel, universal binary\n</code></pre>\n\n<p>I've constructed a regex, but it's not doing the trick.</p>\n\n<pre><code>(?i)^(&lt;meta name=\\\"keywords\\\" content=\\\"(.*)\\\"&gt;)\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["php","ajax","facebook","application","chat"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":39,"score":-5,"question_id":13258548,"title":"Needed my chat application to work like Facebook chat","body":"<p>I am working on chat application project using php+ajax. Its working fine but when i post  a message it takes more than 5-8 seconds for ajax to display even thought the ajax is refreshed for every 1 sec, but while comparing to facebook chat app user message will be posted immediately and seen on chat window. How is that done?  are they calling from database or its just temp message from jquery? </p>\n"},{"tags":["php","codeigniter","activerecord","mysqli"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":30,"score":-5,"question_id":13258232,"title":"Query for a users status type","body":"<p>I am trying to come up with a query in codeigniter where I can list users with a specific status or specific statuses. My statuses are numeric in a column called <code>status_id</code>. So lets say for the sake of example. <code>0</code> means inactive, unverified. <code>1</code> means active, verified. <code>2</code> means suspended/banned. In some cases I want to list only the people unverified, sometimes only the active. However other times I want to list them all, but grouped together. I also in some cases need to break this down a bit further, to pull based on whether a user is a standard user or an admin. The column for that is <code>user_type</code>. I know Im going to have to eventually do a <code>JOIN</code> in order to get the details of the user but for now Im fine grabbing just the ID's (also numeric) of each member.</p>\n\n<p>What I would like to do in the long run is build a reusable function, that I can use for all instances by passing parameters to the function. That will dynamically build the query that will give me results I am looking for. Problem is I am not sure where to begin outside of.</p>\n\n<pre><code>public function get_users($params = array())\n{\n    if(count($params) == 0)\n    {\n       $this-&gt;db-&gt;select();\n       $this-&gt;db-&gt;from('users');\n    }\n    else\n    {\n       //questionable code to build dynamic query.\n    }\n  return $query_result;\n}\n\n//then Id like to be able to call it from my controllers like.\n$this-&gt;users_model-&gt;get_users();\n</code></pre>\n"},{"tags":["php","string","newline","strstr"],"answer_count":8,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":407,"score":1,"question_id":9097682,"title":"Obtain first line of a string in PHP","body":"<p>In PHP 5.3 there is a <a href=\"http://www.php.net/manual/en/function.strstr.php\" rel=\"nofollow\">nice function</a> that seems to do what I want:</p>\n\n<pre><code>strstr(input,\"\\n\",true)\n</code></pre>\n\n<p>Unfortunately, the server runs PHP 5.2.17 and the optional third parameter of <code>strstr</code> is not available. Is there a way to achieve this in previous versions in one line?</p>\n"},{"tags":["php","jquery","json"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13258446,"title":"Jquery make var in $.getJSON for","body":"<p>I have the following function:</p>\n\n<pre><code>$.getJSON('/chat_new', function(data) {\n\n  for (var i in data) {\n\n  }\n\n});\n</code></pre>\n\n<p>When I do in the for: <code>alert(i+' en '+data[i]);</code> I get 2 alerts one with userid and one with chat_code.</p>\n\n<p>When I do in the for: <code>i = data[i];</code> and outside the function <code>alert(userid);</code> I get an error in the code that userid is not defined.</p>\n\n<p>In the php file chat_new you have:</p>\n\n<pre><code>$var = array(\n    'userid' =&gt; 1,\n    'chat_code' =&gt; 2,\n);\n\necho json_encode($var);\n</code></pre>\n"},{"tags":["php","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":46,"score":2,"question_id":13258154,"title":"How do I strip part of a url?","body":"<p>How do I strip a part of the url? I do not know much about htaccess or apache.</p>\n\n<p>I would like to strip <code>www.mysite.com/page=services</code> to <code>www.mysite.com/services</code> for example.</p>\n\n<p>What exactly do I need to put in the .htaccess file in order to achieve this, and would that work for other pages as well?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","asp.net"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13255360,"title":"asp.net does not recognize index.php as index page","body":"<p>The website uses the asp.net framework.</p>\n\n<p>The problem is that I have a folder with an <code>index.php</code> as the index page. It only loads if I specify the path as <code>/folder/index.php</code>, but throws up a 403 forbidden if I use just <code>/folder</code>. (<code>/folder</code> works if an <code>index.html</code> is in the folder)</p>\n\n<p>How can this be resolved? I am not at all experienced with asp.net and prefer not to mess with any of the existing config files if possible.</p>\n\n<p>Note: The PHP page loads perfectly fine. The problem is that asp.net is not recognizing the index.php page as an index page.</p>\n\n<p>SOLUTION:\nI followed EdSF's advice and created a web.config file in that folder with the following inside the config</p>\n\n<pre><code>&lt;configuration&gt;\n   &lt;system.webServer&gt;\n    &lt;defaultDocument&gt;\n        &lt;files&gt;\n            &lt;add value=\"index.php\" /&gt;\n        &lt;/files&gt;\n    &lt;/defaultDocument&gt;\n   &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["php","zend-guard"],"answer_count":0,"favorite_count":2,"up_vote_count":1,"down_vote_count":3,"view_count":15,"score":-2,"question_id":13258324,"title":"return nothing after encoding with zend guard","body":"<p>i faced a weired problem after guarding my file with zend. my language array \"$Lang\" would returns \"L\" or empty...</p>\n\n<p>I have no idea what my problem is...</p>\n\n<p>this is sample of my array:</p>\n\n<pre><code>$lang['login']['exit'] = 'خروج';\n</code></pre>\n"},{"tags":["php","url","seo"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":170,"score":0,"question_id":11449177,"title":"How to hide file name, id and session variable in URL using php?","body":"<p>I don't want to display file name and other information in URL</p>\n\n<p>For example\nExisting url format:</p>\n\n<p><code>http://xklsv.me/viewblog.php?id=514/clneditor/IHC%202012&amp;PHPSESSID=5dc775452d77e5</code></p>\n\n<p>The one that I want: \n<code>xklsv.me/clneditor/2012/</code></p>\n\n<p>Any suggestions as to how to achieve this will help. </p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":104,"score":0,"question_id":13255967,"title":"Module \"Mage_Api\" requires module \"Mage_Core\" error in magento","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/10547281/magento-error-module-mage-api-requires-module-mage-core\">Magento error: Module “Mage_Api” requires module “Mage_Core”</a>  </p>\n</blockquote>\n\n\n\n<p>error list when I open site:</p>\n\n<pre><code>Module \"Mage_Api\" requires module \"Mage_Core\".\n\nTrace:\n#0 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/Config.php(849): Mage::throwException('Module \"Mage_Ap...')\n#1 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/Config.php(812): Mage_Core_Model_Config-&gt;_sortModuleDepends(Array)\n#2 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/Config.php(315): Mage_Core_Model_Config-&gt;_loadDeclaredModules()\n#3 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/App.php(414): Mage_Core_Model_Config-&gt;loadModules()\n#4 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/App.php(343): Mage_Core_Model_App-&gt;_initModules()\n#5 /home/towelsjt/public_html/app/Mage.php(683): Mage_Core_Model_App-&gt;run(Array)\n#6 /home/towelsjt/public_html/index.php(87): Mage::run('', 'store')\n#7 {main}\n</code></pre>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":33,"score":-3,"question_id":13258330,"title":"Could need some help on MVC (PHP)","body":"<p>I want to improve my code by using MVC, atm I'm only working on small projects but I want to learn the basics BEFORE I really need them. Maybe I'll use a framework in the future but for now I want to UNDERSTAND the concept and be able to use/create a small framework by myself.</p>\n\n<p>So there are many tutorials on that topic but there are only pretty small examples. It's like one table, one task. Ye its obviously that you will need one controller/model/view for those examples but whats about a real site/application?</p>\n\n<p>I just made a small site which querys some data from a database. The data will be displayed via tables. There are two columns, and below the tables there are PHP generated charts. So how will I split this site? The Chart is using the same data as the table, so is it just another view? But its on the same site, would I use two views and put them in one template? Or should the graphic be generated in the view, cuz at the end its display logic?</p>\n\n<p>What about controllers? Take one for everything cuz its pretty much the same stuff on both sites or one per site? Whats about the columns? Take one controller per site or even per column? And when it comes to the model, use one for every column/table or do everything in just one?</p>\n\n<p>I'm pretty confused how to split everything up. Oh and finally another problem, there should only be five rows displayed on the left column of the first page, who would make the math? It would be like query something with rownum 1-5, 6-10 etc. but the controller would only get the pageNumber via $_GET. Would those math be made within the controller, who would only ask the model for 1-5 or would the model get the pageNumber and the math would be made within the model? (I'm not going to query all data and decide those display logic in the view, cuz im gonna work on pretty big tables with a lot of rows and the graphics/tables might get refreshed via ajax, so I would only query data being displayed).</p>\n\n<p>As you can see I'm quite confused but I really want to improve my code atm its just some HTML/PHP mixed files.</p>\n\n<p>Picture of my small project: <a href=\"http://fc09.deviantart.net/fs71/f/2012/286/b/5/warehouse_monitoring_by_alpenbog-d5hngja.png\" rel=\"nofollow\">http://fc09.deviantart.net/fs71/f/2012/286/b/5/warehouse_monitoring_by_alpenbog-d5hngja.png</a></p>\n"},{"tags":["java","php","ubuntu","nginx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13257927,"title":"Can't execute a Java jar file via PHP on Ubuntu","body":"<p>Here is my PHP code:</p>\n\n<pre><code>&lt;?php\nexec('java -jar ~/src/epubcheck-*/epubcheck-*.jar -out /var/www/epubcheck-outputs/output.xml /var/www/AChristmasCarol.epub');\n</code></pre>\n\n<p>When I try the command in the terminal it works... But in PHP it does not.</p>\n\n<p>Also I don't even get the java version. But I do get to see the \"hey...\" so some commands do work, others don't.</p>\n\n<p>I am using NGiNX has my server.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13258296,"title":"Adding checks to Large SQL query","body":"<p>Here is the query:</p>\n\n<pre><code>SELECT tbl_product.id, tbl_productspecification.id AS specificationId,\n            tbl_product.ProductId, tbl_seller.CompanyName, tbl_product.ProductName, tbl_product.Description, mst_Categories.id AS 'Category',\n            tbl_productspecification.RetailPrice, tbl_productspecification.SalePrice,\n            tbl_product.image, tbl_productspecification.Discount, tbl_product.EndTime, tbl_product.Seller_Id\n            FROM tbl_product\n            LEFT OUTER JOIN tbl_seller ON tbl_seller.SelId = tbl_product.Seller_Id\n            LEFT OUTER JOIN mst_Categories ON (mst_Categories.id = tbl_product.Category OR mst_Categories.id = tbl_product.SubCategory)\n            LEFT OUTER JOIN tbl_productspecification ON tbl_productspecification.ProductId = tbl_product.ProductId\n            LEFT OUTER JOIN mst_image ON mst_image.Product = tbl_product.ProductId\n            LEFT OUTER JOIN tbl_dealinterest ON tbl_dealinterest.ProductId = tbl_product.ProductId\n            where tbl_product.Active='y' and tbl_product.StartTime &lt;= '\".date(\"Y-m-d H:i:s\").\"' and tbl_product.EndTime&gt;'\".date(\"Y-m-d\").\" 06:00:00'\n            \".$subquery.\" \".$groupby;\n</code></pre>\n\n<p>The <code>tbl_dealinterest</code> table has a few fields:</p>\n\n<pre><code>[BuyerId] [ProductId] [Active] \n</code></pre>\n\n<p>I need to filter out any records are in <code>tbl_dealinterest</code> that match <code>[BuyerId]</code> <code>[ProductId]</code> and <code>[Active]</code> does not equal <code>n</code></p>\n\n<p>I have tried a few things but not all the products are listed <code>tbl_dealinterest</code>.  Only when someone chooses an option does it get entered.</p>\n"},{"tags":["php","css","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13258521,"title":"ajax post Calendar Controls in php. The css does not display","body":"<p>I am trying to make a calender in php, i have done the first part and have the layout and information, i am trying to add a previous and next month now and the css has gone for some reason. I am following a tutorial - <a href=\"http://www.youtube.com/watch?v=0v39T-9_cFM&amp;feature=plcp\" rel=\"nofollow\">http://www.youtube.com/watch?v=0v39T-9_cFM&amp;feature=plcp</a></p>\n\n<p>The only information that shows is the previous and next month button and the current month. I have all three files in the htdocs folder of xampp. I dunno whats wrong :(</p>\n\n<p>here is the file to view everything</p>\n\n<p>show_calendar.php</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"calCss.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\" /&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction initialCalendar(){\nvar hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar currentTime = new Date();\nvar month = currentTime.getMonth() + 1;\nvar year = currentTime.getFullYear();\nshowmonth = month;\nshowyear = year;\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction next_month(){\nvar nextmonth = showmonth + 1;\nif (nextmonth &gt; 12) {\n   nextmonth = 1;\n   showyear = showyear + 1;\n }\n showmonth = nextmonth;\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction last_month(){\n\nvar lastmonth = showmonth - 1;\nif (lastmonth &lt; 1) {\n   lastmonth = 12;\n   showyear = showyear - 1;\n }\n showmonth = lastmonth;\n\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body onLoad=\"initialCalendar();\"&gt;\n&lt;div id=\"showCalendar\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>calendar_start.php</p>\n\n<pre><code>&lt;?php\n$showmonth = $_POST['showmonth'];\n$showyear = $_POST['showyear'];\n$showmonth = preg_replace('#[^0-9]#i', '', $showmonth);\n$showyear = preg_replace('#[^0-9]#i', '', $showyear);\n\n$day_count = cal_days_in_month(CAL_GREGORIAN, $showmonth, $showyear);\n$pre_days = date('w', mktime(0,0,0, $showmonth, 1, $showyear));\n$post_days = (6 - (date('w', mktime(0,0,0, $showmonth, $day_count,$showyear))));\n\necho '&lt;div id=\"calendar_wrap\"&gt;';\necho '&lt;div class=\"title_bar\"&gt;';\necho '&lt;div class=\"previous_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Previous Month\" onClick=\"javascript:last_month();\"&gt;&lt;/div';\necho '&lt;div class=\"show_month\"&gt;' . $showmonth . '/' . $showyear . '&lt;/div&gt;';\necho '&lt;div class=\"next_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Next Month\" onClick=\"javascript:next_month();\"&gt;&lt;/div';\necho '&lt;/div&gt;';\necho '&lt;div class=\"week_days\"&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Mon&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Tue&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Wed&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Thur&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Fri&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sat&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sun&lt;/div&gt;';\necho '&lt;div class=\"clear\"&gt;&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n/* Previous Month Filler Days */\nif ($pre_days != 0) {\nfor($i = 1 ; $i&lt;=$pre_days;$i++) {\necho '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\n\n/* Current Month */\nfor($i=1; $i&lt;= $day_count; $i++) {\necho '&lt;div class=\"cal_day\"&gt;';\necho '&lt;div class=\"day_heading\"&gt;' . $i . '&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n}\n/* Next Month Filler Days */\nif ($post_days != 0) {\nfor ($i=1; $i&lt;=$post_days; $i++) {\n echo '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\necho '&lt;/div&gt;';\n?&gt;\n</code></pre>\n\n<p>here is the css</p>\n\n<p>calCss.css</p>\n\n<pre><code>#calendar_wrap {\nwidth: 924px;\nmargin-left: auto;\nmargin-right: auto;\noverflow: hidden;\n}\n.title_bar {\nwidth: 100%; \nheight: 30px;\n}\n.previous_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: left;\n}\n.show_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: center;\n}\n.next_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: right;\n}\n.week_days {\nwidth: 100%;\n}       \n.days_of_the_week  {\nfloat: left;\nwidth: 14%;\ntext-align: center;\n}      \n.cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #9C9;\n}\n.day_heading {\nposition: relative;\nfloat: left;\nwidth: 40px;\nheight: 16px;\npadding: 6px;\ncolor: #000;\nfont-family: Arial;\nfont-size: 14px;\n}    \n.openings {\nwidth: 100%;\nclear:left;\ntext-align: center;\n}\n.non_cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #CCC;\n}\n\n.clear {\nclear: both;\n}\n</code></pre>\n\n<p>Can anyone see anything? any help would be great</p>\n"},{"tags":["php","sql","database","function"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13257934,"title":"PHP SQL Discount Code For Specific Items?","body":"<p>This function successfully calculates a global percentage using a single discount code, although I'm having problems making the code discount a specific range of items instead of globally.   The basket session holds id, name, desc, price, qty etc... but everything I've tried thus far has failed, I realize I need to implement it into the foreach loop (which I keep breaking or updates every item one way or another) or use a different method entirely but I'm really unsure as how to proceed.</p>\n\n<p>I'm not an experienced PHP Dev by the way I just enjoy learning and working basic markup.  Any helpful pointers someone can provide would be very much appreciated.  Thanks!</p>\n\n<pre><code>    $code = $this-&gt;request['code'];\n\n    $discount_status = 'NONE'; // no discount available / applied\n    if ( !empty($this-&gt;config['DISCOUNT_CODE']) &amp;&amp; !empty($this-&gt;config['DISCOUNT_PERCENT']) &amp;&amp; !empty($code) ) {\n        if ( $code == $this-&gt;config['DISCOUNT_CODE'] ) {\n            $discount_status = 'OK';\n        }\n        else {\n            $discount_status = 'ERROR';\n        }\n    }       \n\n    // calculate basket total\n    $basket_value = 0;\n    $discount_factor = 1;\n    if ( $discount_status == 'OK' ) {\n        // apply discount\n        $discount_factor = ( 100 - $this-&gt;config['DISCOUNT_PERCENT'] ) / 100;\n    }   \n\n    if ( !empty($_SESSION['basket']) &amp;&amp; is_array($_SESSION['basket']) ) {       \n    foreach( $_SESSION['basket'] as $basketItem ) {                 \n        // Apply discount to each item separately       \n        $basket_value += sprintf(\"%.02f\", $basketItem['detail_price'] * $discount_factor) * $basketItem['qty'];  \n        }       \n    }   \n\n    // check delivery cost\n    $delivery_area = $this-&gt;DeliveryAreaManager-&gt;getRecord($this-&gt;request['da']);\n    if ( !empty($delivery_area['cost']) &amp;&amp; ( $delivery_area['free_from'] &lt;= 0 || $basket_value &lt; $delivery_area['free_from'] ) ) {\n        $basket_value += $delivery_area['cost'];\n    }\n\n    // return JSON response\n    $data = JSONUtils::encode(\n        array(\n            'discount_status' =&gt; $discount_status,\n            'basket_value' =&gt; sprintf(\"%.02f\", $basket_value),\n        )\n    );\n\n    return $data;\n</code></pre>\n"},{"tags":["php","facebook","sockets","facebook-graph-api","weather"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":15,"score":-3,"question_id":13255230,"title":"After fetching the users location, how would I find out their current weather also using PHP?","body":"<p>I am fairly new to the PHP programming language with experiences with other programming languages. My Facebook application is almost complete to request the user information and whatnot so all is going good so far.</p>\n\n<p>What I would like to know how to do in PHP is after this is all set up and I they have allowed the application to access their user data, is to get their location, I'm going to keep it simple as possible at the moment with no else statements if they have not got it set, but basically the styles will show differently according to their weather.</p>\n\n<p>This is for a UK, North-West gardening business, so if it is snowy in their area, it'll show  snowy scenery and could ask if they would want any snow to be ploughed and whatnot. Of course the the weather forecasters are not perfect and they might not have a real location set but I can eventually work around this via else statements for seasonal weather and whatnot.</p>\n\n<p>Thank you in advanced for any help and/or advice. If you are to link me to a tutorial, could you please link me directly to the final product, as I learn best being thrown in at the deep end so to speak, which is how I learnt other languages, reading through it and whatnot seeing what makes what tick so to speak.</p>\n\n<p>Best Regards,\nTim</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13257716,"title":"og:description 'content' unterminated string literal","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5296402/unterminated-string-literal\">unterminated string literal</a>  </p>\n</blockquote>\n\n\n\n<p>I have a problem setting og:description with followed function...</p>\n\n<pre><code>function createFacebookMeta($title, $fcUrl, $fcImg, $fcDesc){    \n    $fcDesc = (strlen($fcDesc) &gt; 100) ? substr($fcDesc,0,150).'...' : $fcDesc;\n    $faceBook = \"&lt;script type=\\\"text/javascript\\\"&gt;\n\n\n$(document).attr('title', '\".$title.\"');\n$('meta[property=\\\"og:title\\\"]').attr('content', '\".$title.\"');\n$('meta[property=\\\"og:url\\\"]').attr('content', '\".$fcUrl.\"');\n$('meta[property=\\\"og:image\\\"]').attr('content', '\".$fcImg.\"');\n$('meta[property=\\\"og:description\\\"]').attr('content', '\".$fcDesc.\"');\nFB.XFBML.parse();\n&lt;/script&gt;\";\necho $faceBook;\n}\n</code></pre>\n\n<p>as response i get in firebug </p>\n\n<p>unterminated string literal</p>\n\n<pre><code> $('meta[property=\"og:description\"]').attr('content', 'Logos gedruckt&lt;br /&gt;  //breaks here\n</code></pre>\n\n<p>even if i use striptags it reports same ... if i don´t set og:description default meta description is taken (np here) which is about the same lenght, as i read that fb takes arround 300 chars from it max</p>\n\n<p>thank you</p>\n\n<p>$fcDesc is db result</p>\n\n<pre><code>$fcDesc = \"Logos gedruckt\n&lt;br&gt;\n100% Baumwolle\n&lt;br&gt;\nVorne: Logo\n&lt;br&gt;\nRücken: Cash Ruls\";\n</code></pre>\n\n<p>(product description)</p>\n"},{"tags":["php","html","caching","submit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":8,"view_count":40,"score":-7,"question_id":13258032,"title":"PHP form will not save input text information on submit","body":"<p>I have a PHP form that submits to itself. We are using HTML as the web form and submit to the database using PHP. We have the form validating information. If the information is not correct, it resubmits the page to itself with an error message. But, the information that was entered is not stored. How do I get this information to store and load if the validation is incorrect?\nThanks!</p>\n"},{"tags":["php","xslt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13258377,"title":"Faster XSL processor for PHP","body":"<p>We currently use build in php XSL processor as a templating engine for our web app. Which in turns uses libxslt library. The speed of it seems to be unsatisfactory. Is there a faster/better XSL processing engine that can be used with PHP? Or is there a way to speed up libxslt installation?</p>\n"},{"tags":["php","sql","ini"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":133,"score":1,"question_id":5217542,"title":"Is it dangerous to remove \"magic_quotes_gpc\" from .htaccess file?","body":"<p>I'm installing <code>phplist</code> under my server that is based on cgi mode. I read that I have to hide the part related to \"magic_quotes_gpc\" on .htaccess file and that I also need to configure php.ini file so to allow magic quotes.</p>\n\n<p>I have configured a separate database for phplist different from that of my site.\nSo is there anything dangerous about that? What is it about \"sql injectors\" ?</p>\n\n<p>I'm using PHP Version 4.4.9</p>\n"},{"tags":["php","session","queue","multiple"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":13251314,"title":"Ordering multiple calls to the same script","body":"<hr>\n\n<p><strong>* THIS BIT IS FIXED IN STONE *</strong></p>\n\n<hr>\n\n<p>We have 1 webpage with 3 iFrames inside. All iFrames point to the same script but pass different querytring values. E.g.</p>\n\n<ul>\n<li><strong>Webpage</strong>: mypage.html</li>\n<li><strong>iFrame1</strong>: script.php?x=1 </li>\n<li><strong>iFrame2</strong>: script.php?x=2 </li>\n<li><strong>iFrame3</strong>: script.php?x=3</li>\n</ul>\n\n<p>So when a user visits the webpage, they are calling script.php 3 times.</p>\n\n<hr>\n\n<p><strong>* QUESTION *</strong></p>\n\n<hr>\n\n<p>Is there a way to get script.php to be aware that it is being called 3 times by the same client/browser/person and then order or queue those calls? E.g.</p>\n\n<ul>\n<li><strong>1st time</strong> - set an ID and save to session</li>\n<li><strong>2nd time</strong> - get the ID from the session and use it</li>\n<li><strong>3rd time</strong> - get the ID from the session and use it</li>\n</ul>\n\n<p><em>What's happening to me at the moment is that script.php is being executed 3 times at the same time and each iFrame is setting it's own ID. I'd like them all to use the same ID.</em></p>\n\n<p>Hope that makes sense?</p>\n\n<p>Thanks in advance for you help.</p>\n\n<p>Ryan</p>\n"},{"tags":["php","joomla","joomla2.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13258339,"title":"Joomla template not ordering correctly","body":"<p>My joomla site is not ordering modules correctly, </p>\n\n<p>here is an example <a href=\"http://sdcbytes.com/why.jpg\" rel=\"nofollow\">http://sdcbytes.com/why.jpg</a> Its also doing it on the archives page.</p>\n\n<p>Here is my articles template .php file <a href=\"http://sdcbytes.com/why.html\" rel=\"nofollow\">http://sdcbytes.com/why.html</a></p>\n\n<p>Thanks for helping.</p>\n"},{"tags":["php","oauth","uservoice"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12259894,"title":"UserVoice's OAuth Implementation in PHP","body":"<p>I am able to get the Records of the <a href=\"http://www.uservoice.com\" rel=\"nofollow\">UserVoice</a> by calling and Unauthorized Requests but now i want to create and Update things in which i need OAuth but i am unable to find the <a href=\"http://www.uservoice.com\" rel=\"nofollow\">UserVoice's</a> PHP Implementation of OAuth and Create/Update/Delete with <a href=\"http://www.uservoice.com\" rel=\"nofollow\">UserVoice</a> API is there anyone can guide me how to Implement such thing?? </p>\n"},{"tags":["php","mysql","doctrine2"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":73,"score":4,"question_id":13239392,"title":"Foreign key constraint fails because insert statement not yet committed (MySQL)","body":"<p>I have a PHP script using <a href=\"http://en.wikipedia.org/wiki/Doctrine_%28PHP%29\" rel=\"nofollow\">Doctrine</a> 2 which does essentially the following:</p>\n\n<pre><code>$entityManager-&gt;transactional(function($em) {\n    $foreignObject = new DoctrineEntities\\ForeignTable();\n    $em-&gt;persist($foreignObject);\n    $em-&gt;flush();\n    $aObject = new DoctrineEntities\\A();\n    $aObject-&gt;ForeignID = $foreignObject-&gt;ID;\n    $em-&gt;persist($aObject);\n    $em-&gt;flush();\n});\n</code></pre>\n\n<p>I'm getting an integrity constraint violation:</p>\n\n<blockquote>\n  <p><i>a foreign key constraint fails (dbName.A, CONSTRAINT A_ForeignID FOREIGN KEY (ForeignID) REFERENCES <code>ForeignTable</code> (<code>ID</code>) ON DELETE NO ACTION ON UPDATE NO ACTION)</i></p>\n</blockquote>\n\n<p>My guess is that the constraint is checked before the commit, and it doesn't check to see whether an insert I made that hasn't been committed yet might make the constraint pass rather than fail. But I really do want these two insert statements wrapped in the same transaction. So what can I do?</p>\n\n<hr>\n\n<p><em><strong>SQL Context</em></strong></p>\n\n<p>Table <strong>A</strong></p>\n\n<pre><code>CREATE TABLE `A` (\n  `ID` int(11) NOT NULL AUTO_INCREMENT,\n  `ForeignID` int(11) NOT NULL,\n  PRIMARY KEY (`ID`),\n  KEY `A_ForeignID` (`ForeignID`),\n  CONSTRAINT `A_ForeignID` FOREIGN KEY (`ForeignID`) REFERENCES `ForeignTable` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_swedish_ci\n</code></pre>\n\n<p>Table <strong>ForeignTable</strong></p>\n\n<pre><code>CREATE TABLE `ForeignTable` (\n  `ID` int(11) NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_swedish_ci\n</code></pre>\n"},{"tags":["php","mysql","rows"],"answer_count":9,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":131,"score":3,"question_id":11323526,"title":"PHP - Multiple MySQL result, in seperate variables","body":"<p>I need to do a MySQL query to search for an inexact match / match containing the submitted value.</p>\n\n<p>The following is an example of what is in my database:</p>\n\n<pre><code>id               img\n1          1001_ABC_01.jpg\n2          1001_ABC_02.jpg\n3          1002_ABC_01.jpg\n4          1002_ABC_02.jpg\n5          1002_ABC_03.jpg\n6          1002_ABC_04.jpg\n7          1002_ABC_05.jpg\n8          1003_ABC_01.jpg\n9          1003_ABC_02.jpg\n10         1003_ABC_03.jpg\n</code></pre>\n\n<p>I need the query to search for the first part of the filename (<code>1002</code>) and and assign each returned result in the img field a different variable. The maximum amount of variables would be 5.</p>\n\n<p>For example, if I search <code>1002</code>, it should assign the following variables:</p>\n\n<pre><code>    &lt;?php\n    $img1 = '1002_ABC_01.jpg';\n    $img2 = '1002_ABC_02.jpg';\n    $img3 = '1002_ABC_03.jpg';\n    $img4 = '1002_ABC_04.jpg';\n    $img5 = '1002_ABC_05.jpg';\n    ?&gt;\n</code></pre>\n\n<p>so that way I can echo each filename result individually.</p>\n\n<p>Again, the maximum amount of variables here will be 5, so if more than 5 results are returned, only the first 5 will be assigned variables.</p>\n\n<p>Please let me know if this is possible and how to write a PHP script to do it.</p>\n"},{"tags":["php","jquery","mysql","forms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13258187,"title":"Trying to edit a shopping cart script","body":"<p>I found this shopping cart script that works great for what I need but I can't figure out how to transfer one variable to the checkout page. Basically I am calling the products page like so \"products.php?dealID=$dealID\" from my customer info form. From the products page once the customer click on checkout it should be \"checkout.php?dealID=$dealID. I can't seem to make it work. I am still learning so I am 100% sure I'm missing alot of stuff. Thanks for reading and I hope someone can help me pass that one variable over to the checkout page.</p>\n\n<p>Here is the products page code:</p>\n\n<pre><code>    &lt;div class=\"item\" data-id=\"1\" data-name=\"Item #1\" data-price=\"47.50\"&gt;\n    &lt;img src=\"images/1.jpg\" alt=\"Item #1\"/&gt;\n    &lt;p&gt;&lt;button class=\"add-to-cart\" type=\"button\"&gt;Add to Cart&lt;/button&gt;&lt;/p&gt;\n    &lt;p class=\"itemPrice\"&gt;47.50 $&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the code for script</p>\n\n<pre><code>$(document).ready(function(){\n\n$(document).shoppingCart({\n\n        cartBlock: \"#cart\",\n        shopBlock: \"#shop\",\n        toCart: \".add-to-cart\",\n        currency: \"$\",\n        quantityLimit: 5,\n        checkoutAction: \"checkout.php\"\n\n});\n\n    });\n</code></pre>\n\n<p>Add to cart code</p>\n\n<pre><code>function addToCart(itemID){\n\n        if($.cookie(\"cart\")){var cartArray = stringToArray($.cookie(\"cart\"));}\n        else{var cartArray = new Array();}\n\n        var itemName = $(\".item[data-id=\"+itemID+\"]\").attr(\"data-name\");\n        var itemPrice = $(\".item[data-id=\"+itemID+\"]\").attr(\"data-price\");\n\n        if(cartArray.length == 0){\n            var cartItem = [itemID, itemName, itemPrice, 1];\n            cartArray.push(cartItem);\n        }\n        else if(cartArray.length &gt; 0){\n\n            for(var i = 0; i &lt; cartArray.length; i++){\n                if(cartArray[i][0] == itemID){\n                    var isInCart = true; index = i;\n                    break;\n                }\n                else{isInCart = false;}\n            }\n\n            if(isInCart){\n                var newQuantity = eval(cartArray[index][3]+\"+1\");\n                if(newQuantity &gt; options.quantityLimit){newQuantity = options.quantityLimit;}\n                cartArray[index][3] = newQuantity;\n            }\n            else{\n                var cartItem = [itemID, itemName, itemPrice, 1];\n                cartArray.push(cartItem);\n            }\n\n        }\n        $.cookie(\"cart\", cartArray.join(\"|\"), {path:\"/\"});\n        generateShoppingCart(options.cartBlock);\n    }\n</code></pre>\n\n<p>And here is the checkout </p>\n\n<pre><code>function checkOut(){\n\n        if($.cookie(\"cart\")){\n\n            var cartArray = stringToArray($.cookie(\"cart\"));\n\n            if($(\"#checkout-form\").length != 0){$(\"#checkout-form\").remove();}\n\n            var checkoutForm = $(\"&lt;form&gt;\", {\n                id: \"checkout-form\",\n                action: options.checkoutAction,\n                method: \"post\",\n                css: {display:\"none\"}\n            });\n\n            var cost = 0;\n\n            for(var i = 0; i &lt; cartArray.length; i++){\n\n                var itemInputGroup = '&lt;input type=\"hidden\" name=\"id[]\" value=\"'+cartArray[i][0]+'\"/&gt;'+\n                '&lt;input type=\"hidden\" name=\"name[]\" value=\"'+cartArray[i][1]+'\"/&gt;'+\n                '&lt;input type=\"hidden\" name=\"price[]\" value=\"'+cartArray[i][2]+' '+options.currency+'\"/&gt;'+\n                '&lt;input type=\"hidden\" name=\"quantity[]\" value=\"'+cartArray[i][3]+'\"/&gt;';\n\n                checkoutForm.append(itemInputGroup);\n                cost += (cartArray[i][2] * cartArray[i][3]);\n\n            }\n\n            checkoutForm.append('&lt;input type=\"hidden\" name=\"cost\" value=\"'+cost.toFixed(2)+' '+options.currency+'\"&gt;');\n            $(\"body\").append(checkoutForm);\n            checkoutForm.submit();\n\n        }\n        else{generateShoppingCart(options.cartBlock);}\n\n    }\n</code></pre>\n"},{"tags":["php","forms","perl","http"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":56,"score":-6,"question_id":13258182,"title":"How to transle code from PERL to PHP","body":"<p>I have follow perl code:</p>\n\n<pre><code>my $form = POST 'http://example.com/api',\n    Content_Type =&gt; 'form-data',\n    Content =&gt; [\n        # param =&gt; [ file, filename, Other ]\n        \"UFileManager[picture]\" =&gt; \"\",\n        \"UFileManager[picture]\" =&gt; [ $filename,\n                                   $filename,\n                                   Content_Type =&gt; 'image/png' ],\n        yt0 =&gt; \"Upload\",\n        ];\n</code></pre>\n\n<p>So how can I port it to PHP. Or how <code>Content</code> looks like in html request body?</p>\n"},{"tags":["php","syntax","parse-error"],"answer_count":2,"favorite_count":13,"up_vote_count":106,"down_vote_count":1,"view_count":3194,"score":105,"question_id":13228306,"title":"In PHP, why does </script> not show a parse error?","body":"<p>I was running the following <a href=\"http://en.wikipedia.org/wiki/PHP\">PHP</a> code:</p>\n\n<pre><code>&lt;?php \n    &lt;/script&gt;\n?&gt;\n</code></pre>\n\n<p>There were no parse errors and the <strong>output was</strong> \"<code>?&gt;</code>\" (<a href=\"http://ideone.com/0FbOdx\">example</a>).</p>\n\n<p>In similar cases I do get a parse error:</p>\n\n<pre><code>&lt;?php \n    &lt;/div&gt;\n?&gt;\n</code></pre>\n\n<blockquote>\n  <p>Parse error: syntax error, unexpected '&lt;' in ...</p>\n</blockquote>\n\n<p>Why doesn't <code>&lt;?php &lt;/script&gt; ?&gt;</code> give the same error?</p>\n"},{"tags":["php","mysql"],"answer_count":5,"favorite_count":15,"up_vote_count":34,"down_vote_count":0,"view_count":792,"score":34,"question_id":12859942,"title":"Why shouldn't I use mysql_* function in PHP?","body":"<p>What are the technical reasons that I shouldn't use <code>mysql_*</code> functions? (<code>mysql_query</code>, <code>mysql_connect</code>, <code>mysql_real_escape_string</code>)?</p>\n\n<p>Why should I change them as long as it works on my site?</p>\n"},{"tags":["php","mysql","ajax","google-maps","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13252543,"title":"Save Google Maps Marker Properites to MySQL database","body":"<p>I am creating a website that on one end a user will be able to place a marker on a Google Map using the Google Maps API. I want a user on the other end to be able to load a Google Map and see the markers that were placed from the other person. Think of something like the game Battle Ship.</p>\n\n<p>The the first user's side, the following code shows an object with all the properties of the marker. I turn it into a JSON to be passed to my php script.</p>\n\n<pre><code>function packageMarker(){   \n        var markerObj = new Object();\n        markerObj.index = unitMarker.index;\n        markerObj.country = unitMarker.country;\n        markerObj.Type = unitMarker.type;\n        markerObj.Lat = unitMarker.Lat;\n        markerObj.Lng = unitMarker.Lng;\n        markerObj.Icon = unitMarker.icon;\n        markerObj.CallSign = unitMarker.labelContent;\n        markerObj.unitModel = unitMarker.unitModel;\n        markerObj.num = unitMarker.numOfUnit;\n        markerObj.package = unitMarker.packageType;\n        markerObj.cRadius = unitMarker.cRadius; //in meters\n        if(markerObj.country = \"America\"){\n            markerObj.cColor = \"Blue\";\n        }else{\n            markerObj.cColor = \"Red\";\n        }\n        markerObj.SLat = \"\";\n        markerObj.SLng = \"\";\n        markerObj.ELat = \"\";\n        markerObj.ELng = \"\";\n\n        var queryString = JSON.stringify(markerObj);\n</code></pre>\n\n<p>That all works fine.</p>\n\n<p>I now want to pass that over to my php script to place inside my MySQL database. This is were I get lost. I know I need to use an AJAX call. All the examples I find are for forum submissions but I am not doing that. Once a marker is placed (onClick Event), I want it to be added to the database.</p>\n\n<p>My php script should work. It reads in the variable, decodes it, and inserts into the database.</p>\n\n<p>In a more clear way of say what I want:<br>\nWhat a way to send my JSON object to a php script and have it return success or error not having a forum submission.</p>\n\n<p>Thank you for any help you give</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":13252920,"title":"How to compare zero integer with value","body":"<p>In database, Student_id is containing 0 value. I want to check it in if condition, but required result is not achieved. I have tried following scenarios in if condition:</p>\n\n<pre><code>if(is_null($item['student_id'])) {}\n\nif($item['student_id'] === 0){}\n\nif($item['student_id'] == 0){}\n\nif(intval($item['student_id']) == 0){}\n\nif(strval(\"$item['student_id']\") == \"0\"){}\n</code></pre>\n\n<p><strong>Note:</strong> Currently Iam trying to print some message in if conditions. But on student_id = 0, nothing is printed. If student_id is other than 0, then print is working fine.</p>\n\n<p>Can some one guide me what Iam doing wrong and how it can be rectified.</p>\n\n<p>I have added var_dump</p>\n\n<pre><code>    array\n  '_id' =&gt; \n    object(MongoId)[2]\n      public '$id' =&gt; string '50906d7fa3c412bb040eb577' (length=24)\n  'student_id' =&gt; int 0\n  'type' =&gt; string 'exam' (length=4)\n  'score' =&gt; float 54.653543636265\narray\n  '_id' =&gt; \n    object(MongoId)[6]\n      public '$id' =&gt; string '50906d7fa3c412bb040eb578' (length=24)\n  'student_id' =&gt; int 0\n  'type' =&gt; string 'quiz' (length=4)\n  'score' =&gt; float 31.950044967421\narray\n  '_id' =&gt; \n    object(MongoId)[2]\n      public '$id' =&gt; string '50906d7fa3c412bb040eb579' (length=24)\n  'student_id' =&gt; int 0\n  'type' =&gt; string 'homework' (length=8)\n  'score' =&gt; float 14.850457681164\n</code></pre>\n"},{"tags":["php","zend-db","zend-framework2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13257592,"title":"implement login authentication using zend model and controller","body":"<p>I am using Zend 2.0 and I have never used EXTJS in combination with Zend.</p>\n\n<p>Here is my extjs code in view/login/index.phtml:</p>\n\n<pre><code>&lt;?php $this-&gt;inlineScript()-&gt;captureStart() ?&gt;\nvar LoginWindow\nExt.onReady(function() {\n\n    LoginWindow = new Ext.create('Ext.window.Window',{\n        title: 'Login',\n        closable: false,\n        draggable: false,\n        resizable: false,\n        width: 370,\n        items: [\n            Ext.create('Ext.form.Panel', {\n                id: 'LoginForm',\n\n                bodyPadding: 5,\n                width: 350, \n\n                url: '/',\n                layout: 'anchor',\n                defaults: {\n                    anchor: '100%'\n                },\n\n                // The fields\n                defaultType: 'textfield',\n                items: [{\n                    fieldLabel: 'Username',\n                    name: 'user',\n                    allowBlank: false\n                },{\n                    fieldLabel: 'Password',\n                    inputType: 'password',\n                    name: 'pw',\n                    allowBlank: false\n                }],\n\n                // Reset and Submit buttons\n                buttons: [{\n                    text: 'Reset',\n                    handler: function() {\n                        this.up('form').getForm().reset();\n                    }\n                },\n                {\n                    text: 'Submit',\n                    formBind: true,\n                    disabled: true,\n                    handler: function() {\n                        var form = this.up('form').getForm();\n\n                    }\n                }]\n            })\n        ]\n    });\n    Ext.getBody().mask()\n\n    LoginWindow.show()  \n\n});\n\n&lt;?php $this-&gt;inlineScript()-&gt;captureEnd() ?&gt;\n</code></pre>\n\n<p>Now I am not sure how to send the username/password to LoginController.php and use the model to authenticate username/password from the database table.</p>\n\n<p>Any example or possible solution would really help.</p>\n"},{"tags":["php","mysqli"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13257910,"title":"inputting data from an array into a database","body":"<p>I am trying to get information into my database and am running into a problem that I am sure I am just making a simple mistake.  To update the table I am using:</p>\n\n<pre><code>    $conn-&gt;query(\"update webPrice set price= \" . $amazonResult['price'] . \" where asin = '\" . $amazonResult['asin'] . \"'\");\n</code></pre>\n\n<p>$conn is my connection.  The price is consistently entered as 0.  I know there is information there since when I do print_r($amazonResult) I see everything that I want to insert into the DB.  Code to get amazon info is:</p>\n\n<pre><code>    foreach($parsed_xml-&gt;GetMyPriceForASINResult as $item ) {\n $asin2 =$item-&gt;attributes()-&gt;ASIN;\n$current = $item-&gt;Product;\n\n $status = $item-&gt;attributes()-&gt;status;\n\n      if (stristr($status, \"Success\") == true)\n{\n        $amazonResult = array(\n                        'asin' =&gt; $asin2,\n            'price' =&gt; $current-&gt;Offers-&gt;Offer-&gt;BuyingPrice-&gt;ListingPrice,//AttributeSets-&gt;children('ns2', true)-&gt;\n                            );\n</code></pre>\n\n<p>I think the issue is with my update statement, but I an not sure what it is.  The asin info is entered correctly.  the fields are price = double and asin = varchar.</p>\n\n<p><strong>EDIT:</strong>  here is the result of print_r($amazonResult);</p>\n\n<pre><code>Array ( [asin] =&gt; SimpleXMLElement Object ( [0] =&gt; 0176055452 ) [price] =&gt; SimpleXMLElement Object ( [CurrencyCode] =&gt; USD [Amount] =&gt; 10.11 ) )\n</code></pre>\n"},{"tags":["php","json","symfony2","twig"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13257156,"title":"How do I return a twig rendered template as part of a JSON response?","body":"<p>I want to return an HTML snippet as well as other values in a json string, here is what I have:</p>\n\n<pre><code>$html = $this-&gt;render('sometemplate.html.twig', array( 'somevar' =&gt; $somevar ) );\n$response = new Response(json_encode( array(\"html\" =&gt; $html, \"name\" =&gt; \"Joe Bloggs\") ));\n$response-&gt;headers-&gt;set('Content-Type', 'application/json');\nreturn $response;\n</code></pre>\n\n<p>But all I get is <code>{\"html\":{\"headers\":{}}}</code>. Is there a way to just grab the rendered HTML?</p>\n"},{"tags":["php","image","resize","png"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13257405,"title":"Why is resized PNG image so much bigger than original image?","body":"<p>I am quite confused why PNG images that are resized using GD library are much bigger in size than the original.</p>\n\n<p>This is the code I am using to resize the image: </p>\n\n<pre><code>// create image from posted file\n$src = imagecreatefrompng($file['tmp_name']);\n// get original size of uploaded image\nlist($width,$height) = getimagesize($file['tmp_name']);\nif($width&gt;$maxImgWidth) {\n    // resize the image to maxImgWidth, maintain the original aspect ratio\n    $newwidth = $maxImgWidth;\n    $newheight=($height/$width)*$newwidth;\n    $newImage=imagecreatetruecolor($newwidth,$newheight);\n\n    // fill transparent with white\n    /*$white=imagecolorallocate($newImage, 255, 255, 255); \n    imagefill($newImage, 0, 0, $white);*/\n\n    // the following is to keep PNG's alpha channels\n    // turn off transparency blending temporarily\n    imagealphablending($newImage, false);\n    // Fill the image with transparent color\n    $color = imagecolorallocatealpha($newImage,255,255,255,127);\n    imagefill($newImage, 0, 0, $color); \n    // restore transparency blending\n    imagesavealpha($newImage, true);\n\n    // do the image resizing by copying from the original into $newImage image\n    imagecopyresampled($newImage,$src,0,0,0,0,$newwidth,$newheight,$width,$height);\n\n    // write image to buffer and save in variable\n    ob_start(); // Stdout --&gt; buffer\n    imagepng($newImage,NULL,5); // last parameter is compression 0-none 9-best (slow), see also http://www.php.net/manual/en/function.imagepng.php\n    $newImageToSave = ob_get_contents(); // store stdout in $newImageToSave\n    ob_end_clean(); // clear buffer\n    // remove images from php buffer\n    imagedestroy($src);\n    imagedestroy($newImage);\n    $resizedFlag = true;\n}\n</code></pre>\n\n<p>Then I save $newImageToSave as blob in mysql database.</p>\n\n<p>I tried to prevent alpha channel and just set white background, no significant change in file size. I tried setting the \"compression\" parameters (0 to 9), but still bigger then the original.</p>\n\n<p><strong>Example</strong><br />\nI took this <a href=\"http://upload.wikimedia.org/wikipedia/commons/5/53/Wikipedia-logo-en-big.png\" rel=\"nofollow\">image</a> (1058px*1296px) and resized it to 900px * 1102px. These are the results: </p>\n\n<p>Original File: 328 KB<br />\nPNG (0): 3,79 MB<br />\nPNG (5): 564 KB<br />\nPNG (9): 503 KB<br /></p>\n\n<p>Any tip how to get the resized image smaller in file size is appreciated.</p>\n\n<p>--</p>\n\n<p>PS: I thought it could be bit depth, but as you can see, the example image above has 32 bits, whereas the resized image is 24 bits.</p>\n"},{"tags":["php","loops","curl","for-loop","foreach"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13257814,"title":"PHP loop curl request one by one","body":"<p>How to make a <code>foreach</code> or a <code>for</code> loop to run only when the curl response is received..</p>\n\n<p>as example :</p>\n\n<pre><code>for ($i = 1; $i &lt;= 10; $i++) {\n $ch = curl_init();\n curl_setopt($ch,CURLOPT_URL,\"http://www.example.com\");\n\n if(curl_exec($ch)){ // ?? - if request and data are completely received\n   // ?? - go to the next loop\n }\n // DONT go to the next loop until the above data is complete or returns true\n}\n</code></pre>\n\n<p>i don't want it to move to the next loop without having the current curl request data received.. one by one, so basically it opens up the url at first time, waits for the request data, if something matched or came true then go to the next loop,</p>\n\n<p>you dont have to be bothered about the 'curl' part, i just want the loop to move one by one ( giving it a specific condition or something ) and not all at once</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":57,"score":-8,"question_id":12790140,"title":"Viewing an image file as soon as it is uploaded","body":"<p>Here is the situation:</p>\n\n<p>I upload an image file and I want to see that file as soon as it is uploaded. Can I view that file in the .html file without first sending that image to the server? If so then how can I do it?</p>\n\n<p>My goal is to have a user upload a photo then he will see that photo as soon as he has uploaded it.</p>\n"},{"tags":["php","sql","sql-server"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":35,"score":-2,"question_id":13257659,"title":"sqlsrv returns empty query","body":"<p>I got a weird problem, on a other webserver (and other mssql server) there wasn't a problem.\nBut now I can connect to the server, I can connect to the database.</p>\n\n<p>And I can execute a query (at least I can use the syntax and it doesn't show an error) but it has no results. Also a <code>sqlsrv_fetch_array</code> returns <code>false</code>..</p>\n\n<p>And I don't have that much mssql knowledge, so I just have a very basic installation.</p>\n\n<p>What did I do wrong or what information do you need?</p>\n\n<p>PS. I'm using windows sql server 2008 R2.</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["php","curl","file-get-contents"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":106,"score":-5,"question_id":11376156,"title":"Download page content PHP","body":"<p>I have tried a whole bunch of stuff to get the content of <a href=\"http://www.findchips.com\" rel=\"nofollow\">www.findchips.com</a></p>\n\n<p>And I just can't get this done.\nAny ideas for getting it?</p>\n\n<p>Edit: I was trying to get the content with multiple methods, but i finally got it with curl.\nThank you and sorry for not being clear.</p>\n"}]}
{"total":298830,"page":18,"pagesize":100,"questions":[{"tags":["php","wordpress","wordpress-theming"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13257708,"title":"Prevent a WordPress theme from updating","body":"<p>We've inherited a WordPress theme that's a heavily customized version of the <a href=\"http://themeid.com/responsive-theme/\" rel=\"nofollow\">Responsive</a> wordpress theme. But the author never changed the theme meta info, so it still shows up as \"Responsive theme\" in the WordPress backend, with a link to update it, etc. </p>\n\n<p>I want to change the theme from \"Responsive\" to \"Responsive - Customized\" and disable the update link so that the changes don't get blown out. I know how to change the theme title/info in the style sheet, but I can't figure out how to get rid of the theme's update functionality?</p>\n\n<p>The link:<br>\n<img src=\"http://i.stack.imgur.com/R4B5n.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13109511,"title":"SMS Exam Timetable Checking System","body":"<pre>\ntbl_student\n+-------+--------+----------+\n| s_id  | f_name |  s_name  |\n+-------+--------+----------+\n| 12715 | Gina   | Chikweya |\n|       |        |          |\n+-------+--------+----------+\ntbl_class\n +----------+-------+------+\n| cos_code | s_id  | pos  |\n+----------+-------+------+\n| bsad296  | 12715 |    5 |\n+----------+-------+------+\n\ntbl_exam\n+-----------+--------+-------------+--------+\n| cos_code  | e_time |   e_date    | e_row  |\n+-----------+--------+-------------+--------+\n| bsad296   | 10:00  | 12/12/2012  |      5 |\n+-----------+--------+-------------+--------+\n\n</pre>\n\n<p>these are tables for an exam timetable checking system the problem is my sql is limited but would want a student to input his id(s_id) i want the a query which will return cos_code, e_time, e_date, e_row the student is taking that is suppose i populate my tables with more data</p>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13257587,"title":"Facebook comment counter not working","body":"<p>I'm using facebook comment plugin with my php dynamic website. The comment box is working fine but the facebook count is not working it always shows zero comments.</p>\n\n<p>I use this in index.php</p>\n\n<pre><code>&lt;script&gt;(function(d, s, id) {\nvar js, fjs = d.getElementsByTagName(s)[0];\nif (d.getElementById(id)) return;\njs = d.createElement(s); js.id = id;\njs.src = \"//connect.facebook.net/nl_NL/all.js#xfbml=1\";\nfjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));\n&lt;/script&gt;\n</code></pre>\n\n<p>I use this on the page with the comment box</p>\n\n<pre><code>&lt;fb:comments-count href=\"http://mywebsite.nl/news/&lt;?=$news['ID'];?&gt;.html\"&gt;&lt;/fb:comments-count&gt;\n</code></pre>\n\n<p>Any solutions?</p>\n"},{"tags":["php","json","stdclass"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13257006,"title":"Can't get property from valid stdClass object","body":"<p>I'm having a very interesting problem with PHP. The following code grabs a line from a text file, decodes that text as json into an stdClass object, then puts it into an array conditionally on one of its properties. </p>\n\n<pre><code>$fileStream = @fopen($fileName, 'r+');\n    $lastUpdate = $_POST['lastUpdate'];\n    if($fileStream) {\n        $eventArray = array();\n        while (($buffer = fgets($fileStream, 8192)) !== false) {\n                $decodedEvent = json_decode($buffer);\n                echo var_dump($decodedEvent);\n            if ($decodedEvent-&gt;timestamp &gt; $lastUpdate) {\n                array_push($eventArray, $decodedEvent);\n            }\n        }\n        $jsonEvents = json_encode($eventArray);\n        echo $jsonEvents;\n    }\n    else {\n        $fileStream = @fopen($fileName, 'a');\n    }\n    @fclose($fileStream);\n</code></pre>\n\n<p>This produces the error:</p>\n\n<pre><code>Notice:Trying to get property of non-object in C:\\****\\gameManager.php on line 23\n</code></pre>\n\n<p>I know that the object is valid in multiple ways. For instance, var_dump is producing this:</p>\n\n<pre><code>object(stdClass)#1 (3) {\n [\"name\"]=&gt;\n string(4) \"move\"\n [\"args\"]=&gt;\n array(3) {\n   [0]=&gt;\n   int(24)\n   [1]=&gt;\n   int(300)\n   [2]=&gt;\n   int(50)\n }\n [\"timestamp\"]=&gt;\n float(1352223678463)\n}\n</code></pre>\n\n<p>If I try to access $decodedEvent using <code>$decodedEvent[\"timestamp\"]</code> I get an error telling me that objects can't be accessed as arrays.</p>\n\n<p>Also, it does indeed echo proper json, which can only be encoded from a proper object:</p>\n\n<pre><code>[{\"name\":\"move\",\"args\":[24,300,50],\"timestamp\":1352223678463}]\n</code></pre>\n\n<p>Am I missing something here, or is PHP misbehaving? Any help is greatly appreciated.</p>\n\n<p><strong>EDIT</strong>: Here is the input from the file:</p>\n\n<pre><code>{\"name\":\"move\",\"args\":[24,300,50],\"timestamp\":1352223678463}\n</code></pre>\n"},{"tags":["php","javascript","facebook"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":14,"score":-2,"question_id":13257565,"title":"facebook showing sign up pop up on my facebook page","body":"<p>When I open my facebook page for example <a href=\"https://www.facebook.com/xyz\" rel=\"nofollow\">https://www.facebook.com/xyz</a> without login then it shows my time line which is publicly visible but with a sign-up pop up which hides my time line. What should I exactly needs to do so that I can hide this sign up pop and thus can other user able to see my time line without logged in. </p>\n\n<p>Please guide. This is one of my clients requirement.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","regex","string","preg-match"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13257367,"title":"Parsing from:x; but not lfrom:x;","body":"<p>I am trying to parse a string with something like :</p>\n\n<pre><code>preg_match( \"|from:(.*?);|\", $string, $match);\n</code></pre>\n\n<p>But then I found that the string can also contain <code>lfrom:</code> and <code>_from:</code></p>\n\n<p>A few examples of how the string can be:</p>\n\n<blockquote>\n  <p>var1:34234;from:website1.com;lfrom:website2.com;var2:343423;\n  lfrom:website1.com;var1:4234234;from:website2.com\n  from:website1.com;_from:website2.com;lfrom:website2.com;var1:43523;</p>\n</blockquote>\n\n<p>How can I parse only <code>from:(.*?);</code> and not <code>lfrom</code>, <code>_from</code>, etc.</p>\n"},{"tags":["php","apache","html5","audio"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":156,"score":0,"question_id":10983482,"title":"Mp3 streaming/downloading website - apache server memory issue","body":"<p>I have a website, in which users can upload mp3 files (uploadify), stream them using an html5 player (jplayer) and download them using a php script (www.zubrag.com/scripts/). </p>\n\n<p>When a user uploads a song, the path to the audio file is saved in the database and i'm using that data in order to play and show a download link for the song. \nThe problem that i'm experiencing is that, according to my host, this method is using a lot of memory on the server, which is dedicated. </p>\n\n<p>Link to script: <a href=\"http://pastebin.com/Vus8SRa7\" rel=\"nofollow\">http://pastebin.com/Vus8SRa7</a> </p>\n\n<p>How should I handle the script properly? And what would be the best way to track down the problem? Any ideas on cleaning up the code? </p>\n\n<p>Any help much appreciated.</p>\n"},{"tags":["php","html","mysql","forms"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13243772,"title":"How do I change the value of textarea by option selected?","body":"<p>I am trying to change the contents of  depending on the current option selected.</p>\n\n<p>The getData(page) comes back correctly (onChange) but it just doesn't go over to the variable I get \"Fatal error: Call to undefined function getData() in C:\\xampp\\htdocs\\pdimi\\admin\\editpages.php on line 42\"</p>\n\n<p>EDIT: This is how I finished it!</p>\n\n<p>Javascript:</p>\n\n<pre><code>&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction getData(combobox){\nvar value = combobox.options[combobox.selectedIndex].value;\n// TODO: check whether the textarea content has been modified.\n// if so, warn the user that continuing will lose those changes and\n// reload a new page, and abort function if so instructed.\ndocument.location.href = '?page='+value;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Select form:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;select name=\"page\" onChange=\"getData(this)\"&gt;\n    &lt;?php\nif (isset($_REQUEST['page']))\n    $page = mysql_real_escape_string($_POST['page']);\nelse\n    $page = '';\n$query = \"SELECT pageid FROM pages;\";\n?&gt;\n&lt;option value=\"select\"&gt;Select Page&lt;/option&gt;\n    &lt;option value=\"indexpage\"&gt;Index Page&lt;/option&gt;\n    &lt;option value=\"starthere\"&gt;Start Here&lt;/option&gt;\n\n    &lt;/select&gt;\n</code></pre>\n\n<p>Textarea:</p>\n\n<pre><code>&lt;textarea class=\"ckeditor\" name=\"page_data\" cols=\"80\" row=\"8\" id=\"page_data\"&gt;\n    &lt;?php\nif (isset($_GET['page'])) {\n$sql1 = @mysql_query(\"SELECT * FROM pages WHERE pageid='\".$_GET['page'].\"'\") or die(mysql_error());\n$sql2 = @mysql_fetch_array($sql1) or die(mysql_error());\n\nif ($sql1) {\necho $sql2['content'];\n}\n}\n\n?&gt;\n&lt;/textarea&gt;\n</code></pre>\n\n<p>And that is that!</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13257056,"title":"Add Edit Form with select element","body":"<p>I have one form that is used for adding and editing. My goal here is to on the add form have it pre-select the count(items)+1 value. On the edit form I need it to pre-select the value from the database when it it matches the increment of the for loop. Right now the $selected value isn't working and I\"m not sure how to implement the part for the add form. Any ideas?</p>\n\n<pre><code>&lt;?php for($x = 1; $x &lt;= count($items)+1; $x++)\n{\n    if (isset($item_data))\n    {\n        $selected = $item_data-&gt;item_sort_order === $x ? ' selected=\"selected\"' : '';\n    }\n    echo '&lt;option value=\"'.$x.'\"';\n    if (isset($selected)) { echo $selected; }\n    echo '&gt;'.$x.'&lt;/option&gt;';\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","mvc","cakephp","smarty","best-fit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":71,"score":0,"question_id":13256013,"title":"CakePHP vs. Smarty","body":"<p>This is less of a help me question, and more asking people thoughts and suggestions, and whats consider more of a forward thinking solution.</p>\n\n<p>First off I created a site that used NO template library and really had very little abstraction between presentation and code behind (there was some), So I decided there had to be a better way (and I wanted master pages similar to asp.net ), and I started slowly (still in progress) converting pages to use Smarty, but now I've done some research into CakePHP and interested in using MVC and the application tools it offers, I am familiar with MVC through some work I've done in ASP.net.</p>\n\n<p>My questions is do I completely abandon Smarty in favor of Cakes CTP files, which does not completely separate presentation from logic, or do I go through he hassle of trying to use Smarty templates with Cake, or I'm just asking for trouble. Or do I avoid the Cake route altogether? (which is tempting, converting my existing project to CakePHP seems daunting, (as it feels almost like it would be a re-write), but I feel the benefits would out weight the cons?).</p>\n\n<p>thoughts?</p>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT:</strong> the site I've built is a community theatre management system, its sorta like a cms system, but less blog-ish (at the moment no blog), and more who, what, when, where focused, here is the link to the site, its mostly db driven. <a href=\"http://marshallareastagecompany.org/\" rel=\"nofollow\">http://marshallareastagecompany.org/</a></p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13257353,"title":"Order date from most recent down","body":"<p>I'm looking to sort my info by the most recent date down as well as a cost amount from cheapest to more expensive. My date field is a timestamp in mysql that is defualted with current timestamp. I also have a \"paymentamount\" that I want to organize as well. This is what I have so far and its not working. </p>\n\n<pre><code>$select = \"SELECT * FROM `Carriers` ORDER BY date,paymentamount DESC\";\n</code></pre>\n"},{"tags":["php","arrays","google-analytics-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13243863,"title":"How to force an array to display all the values?","body":"<p>the output for my array look similar to this after print_r($segments):   </p>\n\n<pre><code>Array\n(\n    [kind] =&gt; analytics#segments\n    [username] =&gt; account@gmail.com\n    [totalResults] =&gt; 2334\n    [startIndex] =&gt; 1\n    [itemsPerPage] =&gt; 1000\n    [items] =&gt; Array\n    (\n        [0] =&gt; Array\n            (\n                [id] =&gt; -1\n                [kind] =&gt; analytics#segment\n                [selfLink] =&gt; https://www.googleapis.com/analytics/v3/management/segments/gaid::-1\n                [segmentId] =&gt; gaid::-1\n                [name] =&gt; All Visits\n                [definition] =&gt; \n            )\n...\n\n        [999] =&gt; Array\n            (\n                [id] =&gt; -1\n                [kind] =&gt; analytics#segment\n                [selfLink] =&gt; https://www.googleapis.com/analytics/v3/management/segments/gaid::-1\n                [segmentId] =&gt; gaid::-1\n                [name] =&gt; All Visits\n                [definition] =&gt; \n            )\n    )\n)\n</code></pre>\n\n<p>This array is an output from google analytics API PHP, the max that it displayed me is <strong><em>1000</em></strong> rows as mentioned in the <strong><em>itemsPerPage</em></strong> parameter,  but I do have more than 1000, close to <strong><em>2334</em></strong> as mentioned in <strong><em>totalResults</em></strong> parameter.   </p>\n\n<p>Does some one have any idea how to force it to display all output at once?</p>\n\n<p>When I run this :</p>\n\n<pre><code> $nextLink = $results-&gt;getNextLink()\n            ? $results-&gt;getNextLink() : 'none';\n\nprint($nextLink);\n</code></pre>\n\n<p>The output is a <strong>link</strong>:\n<a href=\"https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?start-index=1001&amp;max-results=1000\" rel=\"nofollow\">https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?start-index=1001&amp;max-results=1000</a></p>\n\n<p><code>Accoring to this</code> <a href=\"https://developers.google.com/apps-script/class_analytics_v3_schema_accounts\" rel=\"nofollow\">documentation</a> <code>I have to use the parameter called</code> <strong>max-results</strong> <code>to display more results per page, but I have no idea how to do so, no much documentation about it.</code></p>\n\n<p>Any idea how to get the rest of the results using the <strong>max-results</strong> parameter or the <strong>link</strong>? </p>\n"},{"tags":["php","windows","path"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13255760,"title":"Is it possible to temporarily change PATH in PHP?","body":"<p>I tried using the following code to temporarily change <code>PATH</code> before using <code>exec()</code>.  </p>\n\n<pre><code>$s1 = getenv ('PATH');\nputenv('PATH=c:\\bins');\n$s2 = getenv ('PATH');\nputenv('PATH='.$s1);\n$s3 = getenv ('PATH');\nvar_dump($s1);\nvar_dump($s2);\nvar_dump($s3);\n</code></pre>\n\n<p>The first time the script runs everything works as expected.  Here's the output:</p>\n\n<pre><code>string 'C:\\Program Files (x86)\\'... (length=1400)\nstring 'c:\\bins' (length=7)\nstring 'C:\\Program Files (x86)\\'... (length=1400)\n</code></pre>\n\n<p>However, it appears that PHP destroys <code>PATH</code> after this script runs because running it a second time produces the following output.</p>\n\n<pre><code>boolean false\nstring 'c:\\bins' (length=7)\nstring '' (length=0)\n</code></pre>\n\n<p>I'm getting this behaviour on Windows with lighttpd and PHP 5.3 via fastcgi.  I haven't test with Linux/Apache yet.</p>\n\n<p>The following approach doesn't work on windows (even if you use &amp;):\n<a href=\"http://stackoverflow.com/questions/3550449/how-to-set-path-in-php\">How to set $PATH in PHP?</a></p>\n\n<p>Does anyone know a OS agnostic way to change <code>PATH</code>?</p>\n"},{"tags":["php","jquery","jquery-jtable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13227242,"title":"How to pass values from separate form in the url along with JQuery?","body":"<p>I have a separate form in the php page which also has Jquery jtable plugin to display data from Mysql database. The form has a drop down list boxes. i have to pass the values from those dropdown along with the Jtable action List in the url, to list table with respect to the condition selected from the drop down.</p>\n\n<pre><code>   &lt;div id=\"machinelog\"&gt;\n    &lt;form id=\"intermediate\" name=\"inputMachine\" method=\"post\"&gt;\n    &lt;select id=\"selectMachine\" name=\"selectMachine\"&gt; \n        &lt;option value=\"M1\" &gt;Machine 1&lt;/option&gt;\n        &lt;option value=\"M2\" &gt;Machine 2&lt;/option&gt;\n        &lt;option value=\"M3\" &gt;Machine 3&lt;/option&gt;\n    &lt;/select&gt;  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n\n\n&lt;input id=\"Button\" class=\"button\" type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;  \n</code></pre>\n\n<p>If i choose Machine 1 from the dropdown list, i have to make the jtable to display only the rows which has machine as Machine 1.</p>\n\n<p>i have to access the form values inside the Jtable container so that i can pass those valus in the url.</p>\n\n<pre><code>   &lt;div id=\"MachineLogTableContainer\" style=\"width: 1000px; margin-left: 254px;margin-top: -440px;position: static;\"&gt;&lt;/div&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n        $(document).ready(function () {\n            //var s=$('#selectMachine').val();\n            //alert(s);\n            var machineLogMessages = {\n                    addNewRecord: '+ New Machine Log'\n                };\n\n            //Prepare jTable\n            $('#MachineLogTableContainer').jtable({\n                messages:machineLogMessages,\n                title: 'Machine Log',\n                paging: true, //Enable paging\n                pageSize: 10,\n                actions: {\n                    listAction: 'MachineLogActions.php?action=list',\n                    createAction: 'MachineLogActions.php?action=create',\n                    updateAction: 'MachineLogActions.php?action=update',\n                    deleteAction: 'MachineLogActions.php?action=delete'\n                },\n                fields: {\n                    event_id: {\n                        key: true,\n                        edit: false,\n                        title: 'Event Id',\n                        width: '5.8693%',\n                        create:false,\n                        edit:false,\n                        list: false\n                    },\n                    event_type: {\n                        title: 'Event Type',\n                        width: '9%',\n                        options: 'MachineLogActions.php?action=list_type'\n                    },\n                    machine: {\n                        title: 'Machine',\n                        width: '16%',\n                        options: 'MachineLogActions.php?action=list_name'\n                    },\n                    user: {\n                        title: 'User',\n                        width: '11%',\n                        options: 'MachineLogActions.php?action=list_user'\n                    },\n                    timestamp: {\n                        title: 'Timestamp',\n                        width: '15%'\n                    },\n                    shift: {\n                        title: 'Shift',\n                        width: '9%',\n                        options: 'MachineLogActions.php?action=list_shift'\n                    },\n                    reason: {\n                        title: 'Reason',\n                        width: '25%',\n                        options: 'MachineLogActions.php?action=list_reason'\n                    },\n                    count: {\n                        title: 'Count',\n                        width: '3%'\n                    }\n                }\n            });\n\n            //Load person list from server\n            $('#MachineLogTableContainer').jtable('load');\n\n        });\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>once i press the submit button, my listing url should also contain the machine value.</p>\n\n<pre><code>        listAction: 'MachineLogActions.php?action=list&amp;MachineId=',+machineId\n</code></pre>\n\n<p>Is it possible in Jquery. </p>\n\n<p>I tried like this </p>\n\n<pre><code>    var s=$('#selectMachine').val();\nalert(s);\n</code></pre>\n\n<p>i get the following error in chrome</p>\n\n<pre><code>    Uncaught SyntaxError: Unexpected token ,\n</code></pre>\n"},{"tags":["php","javascript"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13255741,"title":"How to Fill Up Input boxes from data base based on 1st Entry.?","body":"<p>First I'm New to PHP and JavaScript.</p>\n\n<p>I have more then one input boxes for date Entering in PHP.\nwhat I would like to do is if user Enter date in first input box based on this entered date, Rest of the input boxes should fill up automatically from SQL tables (which has date by week) when leave from 1st input box(OnChange).</p>\n\n<p>I don't have any idea about it how can i do that.\nAny helps will be appreciate..\nThank you</p>\n\n<p>i have this code for the input boxes </p>\n\n<pre><code>echo '&lt;div class = \"start_date\" &gt;'; //Start_Date class start\necho '&lt;strong&gt;&lt;label for=\"start_date\"&gt;Start Date&lt;/label&gt;&lt;/strong&gt;';\necho '&lt;br/&gt;&lt;br/&gt;'; \nfor($k=1;$k&lt;=$textboxindex;$k++)\n    {\n    echo \"&lt;input type=\\\"text\\\" class='textboxsize' id= \\\"inputField$k\\\" name=\\\"start_date[]\\\" value=\\\"$start_date\\\" tabindex='$k'/&gt;\";\n    echo \"&lt;br/&gt;\";\n    }\n\necho '&lt;/div&gt;'; //Start_date Class End\n</code></pre>\n"},{"tags":["php","video","video-streaming","html5-video"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":21,"score":0,"question_id":13257127,"title":"How can we get the details of percentage of flv video played by a user using php","body":"<p>Is there any way to measure the duration for which the user watched the video...using php?</p>\n\n<p>I have a web app for videos, here i want to check that for how many minutes the user has played the respective flash or wmv video files, so that i can keep track of it in my database.</p>\n\n<p>Is there any flash player that provides this..through api or something..?</p>\n"},{"tags":["php","mysql","database","session"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13256560,"title":"Storing user data in sessions - from DB","body":"<p>If I have a login system or something similar, I store a session_id and a user_id  in sessions, but any other data pertaining to a certain user is stored in a database. I've seen other scripts where people store other data (<em>username, email etc</em>) in sessions. </p>\n\n<p>I was just wondering, which would be \"better\"? Saving data in sessions from the DB or having less sessions and grabbing the data from the database?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","html5","script","upload","progress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13256973,"title":"Create an Upload Progress Bar/Meter display for HTML5 but hidden be on NON-HTML5 Browsers","body":"<p>I want to create an upload progress bar/meter if possible to work as cross-browser support or else just work to on HTML5 browsers and be hidden/disabled with non-html5 browsers... </p>\n\n<p>So far i have tried so many html5 upload progress script but they all required using custom uploading input tag/divs which does not work with my page function below... </p>\n\n<p>So any idea what uplaod progress script can work properly with my page below and how to set it up properly?</p>\n\n<pre><code>&lt;body&gt;\n&lt;div class=\"wrapper\"&gt;\n&lt;div class=\"replay\"&gt;\n&lt;h2&gt; Upload replay &lt;/h2&gt; \n&lt;?php\n$print_info = false;\ndefine(\"MAX_UPLOAD_SIZE\", 3000000);\n\n// Upload a file\nif(isset($_POST['uploadReplay'])) {\n    if(!isset($_FILES['replay_file']) || !isset($_POST['replay_title']) || !isset($_POST['replay_winner']) || !isset($_POST['replay_text'])) {\n        echo 'Error: Make sure you\\'ve filled out all the fields.';\n    }\n    else {\n       $title = htmlspecialchars(trim($_POST['replay_title']));\n       $winner = htmlspecialchars(trim($_POST['replay_winner']));\n       $text = htmlspecialchars(trim($_POST['replay_text'])); \n\n       // Check that we have a file\n       $replayUploaded = false;\n       $replayFile = \"\";\n\n       if(( !empty($title) &amp;&amp; !empty($winner) &amp;&amp;\n            !empty($_FILES[\"replay_file\"])) &amp;&amp; ($_FILES['replay_file']['error'] == 0)) {\n          //Check if the file is JPEG image and it's size is less than 350Kb\n          $filename = basename($_FILES['replay_file']['name']);\n          $ext = substr($filename, strrpos($filename, '.') + 1);\n          $uniqueID = time();\n\n\n          if (($ext == \"w3g\") &amp;&amp; $_FILES[\"replay_file\"][\"size\"] &lt; MAX_UPLOAD_SIZE) {\n             //Determine the path to which we want to save this file\n              $newname = dirname(__FILE__).'/replays/'.$uniqueID.'.'.$ext;\n              //Check if the file with the same name is already exists on the server\n              if (!file_exists($newname)) {\n                //Attempt to move the uploaded file to it's new place\n                if ((move_uploaded_file($_FILES['replay_file']['tmp_name'], $newname))) {\n                   $replayFile = $uniqueID.'.'.$ext;\n                   $replayUploaded = true;\n                } \n                else {\n                   print_message(\"Error: A problem occurred during file upload!\");\n                }\n              } \n              else {\n                 print_message(\"Error: File \".$_FILES[\"replay_file\"][\"name\"].\" already exists\");\n              }\n          } \n          else {\n             print_message(\"Error: Only .w3g replays under 3 MB are accepted for upload\");\n          }\n        } \n        else {\n            print_message(\"Error: Make sure you've filled out all the fields\");\n        }\n\n        // If the replay was uploadead successfully, process it\n        if( $replayUploaded ) {\n            @require(\"reshine.php\");\n\n            $replay = new replay('replays/'.$replayFile);\n\n            $replay-&gt;extra['title'] = $title;\n\n            /* Determine the winner \n             * If the uploader chose \"Automatic\" then check if the parser was able to determine a winner,\n             * otherwise the winner is set to \"Unknown\"\n             * Alternatively the uploader can set the winner manually\n             */\n            if(\"Automatic\" != $winner) {\n                $replay-&gt;extra['winner'] = ( $winner == \"Sentinel\" ? \"Sentinel\" : \"Scourge\" );\n            }\n            else if(isset($replay-&gt;extra['parsed_winner'])) {\n                $replay-&gt;extra['winner'] = $replay-&gt;extra['parsed_winner'];\n            } \n            else {\n                $replay-&gt;extra['winner'] = \"Unknown\";\n            }\n\n            $replay-&gt;extra['text'] = $text;\n            $replay-&gt;extra['original_filename'] = $filename;\n\n\n            $txt_file = fopen('replays/'.$replayFile.'.txt', 'a');\n\n            flock($txt_file, 2);\n            fputs($txt_file, serialize($replay));\n            flock($txt_file, 3);\n            fclose($txt_file);\n\n            if ( $replay-&gt;extra['parsed'] == false ) {\n                // Replay not parsed\n            }\n            else {\n                // Replay saved, display the link.\n                print_message('Replay uploaded successfully. &lt;a href=\"view_replay.php?file='.$replayFile.'\" alt=\"View replay\" &gt; View details &lt;/a&gt;');\n                $print_info = true;    \n            }\n\n\n        }\n\n\n    }\n}\n\nfunction print_message($msg) {\n    echo '&lt;div style=\"padding-left: 10px; padding-bottom: 10px;\" &gt;';\n    echo $msg;\n    echo '&lt;/div&gt;';\n}    \n?&gt;\n\n    &lt;div class=\"content\" style=\"width: 99%;\"&gt;\n\n        &lt;form enctype=\"multipart/form-data\" action=\"upload_replay.php\" method=\"post\"&gt;\n        &lt;fieldset&gt;\n          &lt;label for=\"replay_title\" &gt;Title*: &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/label&gt;&lt;input name=\"replay_title\" id=\"replay_title\" type=\"input\" /&gt;\n          &lt;br /&gt;\n          &lt;label for=\"replay_winner\" &gt;Winner: &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/label&gt;\n            &lt;select name=\"replay_winner\" id=\"replay_winner\"  /&gt;\n                &lt;option value=\"Automatic\"&gt;Automatic &lt;/option&gt;\n                &lt;option value=\"Sentinel\"&gt;Sentinel &lt;/option&gt;\n                &lt;option value=\"Scourge\"&gt;Scourge &lt;/option&gt;\n            &lt;/select&gt;\n          &lt;br /&gt;\n          &lt;label for=\"replay_text\" style=\"vertical-align: top;\" &gt;Description: &lt;/label&gt;\n          &lt;textarea name=\"replay_text\" id=\"replay_text\" cols=\"65\"&gt;&lt;/textarea&gt;\n          &lt;br /&gt;\n          &lt;input type=\"hidden\" name=\"MAX_FILE_SIZE\" id=\"'.MAX_UPLOAD_SIZE.'\" value=\"3000000\" /&gt;\n          &lt;label for=\"replay_file\" &gt;File*: &lt;/label&gt;&lt;input name=\"replay_file\" id=\"replay_file\" type=\"file\" /&gt;\n          &lt;input type=\"submit\" value=\"Upload\" name=\"uploadReplay\" /&gt;\n        &lt;/fieldset&gt;\n      &lt;/form&gt;    \n\n    &lt;/div&gt;\n&lt;?php\n    if( $print_info ) {   \n        echo ('&lt;div class=\"content\" style=\"width: 99%;\"&gt;\n            &lt;h2&gt; Compact replay info &lt;/h2&gt;\n            &lt;textarea style=\"width: 99%; height: 500px;\"&gt;\n&lt;div class=\"wrapper\"&gt;\n&lt;div class=\"replay\"&gt;\n&lt;h2 class=\"replay_h2\"&gt;'.$title.'&lt;/h2&gt;\n    &lt;div class=\"replay_content \" style=\"text-align: center;\"&gt;');\n    $replay-&gt;print_team_heroes(0);\n\n    echo   ('&lt;div class=\"replay_content \" style=\"padding-left: 0px; text-align: center;\"&gt;\n            &lt;a href=\"download.php?f='.$replayFile.'&amp;fc='.$replay-&gt;extra['original_filename'].'\" style=\"display: inline;\"&gt; &amp;raquo;&amp;nbsp;&amp;nbsp; Download  &amp;laquo; &lt;/a&gt; \n            &lt;a href=\"view_replay.php?file='.$replayFile.'\" target=\"_blank\" style=\"display: inline;\"&gt;  &amp;raquo; More Info &amp;laquo; &lt;/a&gt;    \n        &lt;/div&gt;');\n    $replay-&gt;print_team_heroes(1); \n    echo   ('&lt;/div&gt;                             \n&lt;/div&gt;\n&lt;/div&gt;\n            &lt;/textarea&gt;\n        &lt;/div&gt;');\n    }\n?&gt;      \n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["php","automation","download"],"answer_count":4,"favorite_count":6,"up_vote_count":10,"down_vote_count":0,"view_count":16539,"score":10,"question_id":40943,"title":"How to Automatically Start a Download in PHP?","body":"<p>What code do you need to add in PHP to automatically have the browser download a file to the local machine when a link is visited?</p>\n\n<p>I am specifically thinking of functionality similar to that of download sites that prompt the user to save a file to disk once you click on the name of the software?</p>\n"},{"tags":["java","php","jsp","jnlp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13257228,"title":"Creating JNLP on fly with php having issue with icedtea web start","body":"<p>I am using PHP/JSP to generate jnlp file on the fly. I use one url www.example.com/start that reads a jnlp file that contains some tags which are replaced with dynamic values. It replace the tag(arg1,arg2) with some calculated values in the file and then output the jnlp file that is downloaded on user browser.  the JNLP file contains following url as href in codebase.</p>\n\n<p>test.php?arg1=value&amp;arg2=val2</p>\n\n<p>the test.php file reads the URI and output the same jnlp file again. this file doesn't calculate anything. It just replaces the received value in URL with the tags of file as above.</p>\n\n<p>Issue:</p>\n\n<p>When I run the url www.example.com/start in browser and open the jnlp with javaws, it works fine but if I use icedtea which is default option in firefox to open jnlp file then it doesn't work and show a jnlp read error. </p>\n\n<p>In my investigation, I found that when we open jnlp with icedtea, it doesn't pass the ?arg1=value&amp;arg2=val2 in test.php that cause issue. Can anybody help me on this. </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13257225,"title":"cannot connect to Mysql using new password with sqlyog, sqlyog uses old database password to connect","body":"<p>I have imported Mysql database from my old Web Server to my new Server running on Linux. When I connect to this Mysql database using phpmyadmin, it connects using the new database root password, but when I connect to the same database using sqlyog (port:3306) it does not connect using the database's new root password, rather it still connects with the old root password that was used in my old Web Server.</p>\n"},{"tags":["php","wordpress","debugging","post"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":221,"score":3,"question_id":7878279,"title":"How to debug save_post actions in WordPress?","body":"<p>I have some custom post meta being generated and ready to add to a post's meta. I know how to do this however <code>save_post</code> causes a redirection after POST data has been sent. This means I am redirected to the dashboard and lose access to my POST data - therefore I cannot debug easily.</p>\n\n<p>Currently using something like:</p>\n\n<pre><code>add_action('save_post', 'something_process');\nfunction something_process() {\n   if(defined('DOING_AUTOSAVE') &amp;&amp; DOING_AUTOSAVE) return;\n   print_r($_POST);\n}\n</code></pre>\n\n<p>Is there a way to <em>easily</em> debug this?</p>\n"},{"tags":["php","mysql","calendar","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13256947,"title":"MySQL subquery returning more than one result","body":"<p>Does someone figures out a way to make this code works even when <strong>MySQL subquery</strong> returns more than one result? It is working fine when the user has no event related to him, or when the user has one event related to him, but when a <strong>user is related to more than one event</strong>, the subquery returns more than one result and than the code gets nothing to work with.</p>\n\n<pre><code>$stmt = $db-&gt;prepare(\"SELECT * FROM events WHERE\n                  id_events = ( SELECT id_events FROM relationship_events WHERE id_user = ?)\");\n$stmt-&gt;bindParam(1, $idUser);\n$stmt-&gt;execute();\n\n$rawTimeStamps = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n$cleanDateArray = array();\n\nforeach ($rawTimeStamps as $t) {\n$rawDate = $t['start'];\n$rawDate = getdate($rawDate);\n$cleanDate = mktime(0,0,0,$rawDate['mon'],$rawDate['mday'],$rawDate['year']);\n$cleanDateArray[] = $cleanDate;\n}\n\nfor($list_day = 1; $list_day &lt;= $days_in_month; $list_day++):\n\n$calendar.= '&lt;td class=\"calendar-day\"&gt;';\n    $timestamp = mktime(0,0,0,$month,$list_day,$year);\n    if (!empty($cleanDateArray) &amp;&amp; in_array($timestamp, $cleanDateArray)) {\n\n    $date = getdate($timestamp);\n    $time_start = mktime(0,0,0,$date['mon'],$date['mday'],$date['year']);\n    $time_end = mktime(23,59,59,$date['mon'],$date['mday'],$date['year']);\n    $stmt = $db-&gt;prepare('SELECT title FROM events WHERE start BETWEEN ? AND ?');\n    $stmt-&gt;bindParam(1,$time_start,PDO::PARAM_INT);\n    $stmt-&gt;bindParam(2,$time_end,PDO::PARAM_INT);\n    $stmt-&gt;execute();\n    $events = $stmt-&gt;fetch(PDO::FETCH_ASSOC);\n\n    $calendar.= '&lt;div class=\"day-number day-number-event\"&gt;&lt;a href=\"#\"&gt;'.$list_day.'&lt;/a&gt;&lt;/div&gt;&lt;p&gt;'.$events[\"title\"].'&lt;/p&gt;';\n    } else {\n    $calendar.= '&lt;div class=\"day-number day-number-noevent\"&gt;'.$list_day.'&lt;/div&gt;&lt;div id=\"calendar-events\"&gt;&lt;/div&gt;';\n    }\n</code></pre>\n"},{"tags":["php","javascript","mysql","ajax","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13257039,"title":"After Sharing a FB-link, insert into mysql not working","body":"<p>Hey I have a problem...</p>\n\n<p>I would like to when a user has shared a link from my facebook app, that i get his id into my db.</p>\n\n<p>The way i share the link is via the facebook dialog javascript example that i have modified</p>\n\n<p><strong>The sharing javascript code</strong></p>\n\n<pre><code>&lt;script&gt;\n      FB.init({appId: 'xxxx', channelUrl: 'xxxx', status: true, cookie: true});\n\n      function postToFeed() {\n\n        // calling the API ...\n        var obj = {\n          method: 'feed',\n          link: 'https://developers.facebook.com/docs/reference/dialogs/',\n          picture: 'http://fbrell.com/f8.jpg',\n          name: 'Facebook Dialogs',\n          caption: 'Reference Documentation',\n          description: 'Using Dialogs to interact with users.'\n        };\n\n        function callback(response) {\n            xmlhttp=new XMLHttpRequest();\n            xmlhttp.onreadystatechange=function(){\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n                    document.getElementById('msg').innerHTML = \"Post ID: \" + response['post_id'];\n                    document.getElementById('post').style.display = \"none\";\n                }\n            }\n            xmlhttp.open(\"POST\",\"shared.php\",true);\n            xmlhttp.send(\"id=xxx\");\n        }\n\n        FB.ui(obj, callback);\n      }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>The PHP Code</p>\n\n<pre><code>$con = mysqli_connect(\"xxxx\",\"xxx\",\"xxx\",\"xxx\");\n    if (!$con) {\n        die('Could not connect: ' . mysql_error());\n    };\n\n        mysqli_query($con, \"INSERT INTO xxx (fb-id) VALUES (\".$_POST['id'].\")\");\n\n    mysqli_close($con)\n</code></pre>\n\n<p>When I have shared the link I get the post_id, but the nothing in the db ?</p>\n\n<p>Can anybody tell whats wrong ?</p>\n"},{"tags":["php","sockets"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":63,"score":4,"question_id":12965312,"title":"What's the canonical way to put a read timeout on a stream in PHP?","body":"<p>Here's some sample code:</p>\n\n<pre><code>&lt;?php\n$fp = fsockopen($host, $port, $errno, $errstr, $connectTimeout);\n\nif (!$fp) {\n    echo \"$errstr ($errno)&lt;br /&gt;\\n\";\n} else {\n    echo \"connected\\n\"; \n    while (!feof($fp)) {\n        echo fgets($fp, 128);\n    }\n    fclose($fp);\n}\n</code></pre>\n\n<p>I've seen\n<code>stream_set_timeout($fp, 5);</code> and<br>\n<code>socket_set_option($fp, SOL_SOCKET, SO_RCVTIMEO, array(\"sec\"=&gt;5, \"usec\"=&gt;0));</code>,\nbut the read never times out.</p>\n\n<p>I've seen several caveats in the PHP docs for <code>stream_set_timeout()</code>:</p>\n\n<blockquote>\n  <p>This function doesn't work with advanced operations like\n  stream_socket_recvfrom(), use stream_select() with timeout parameter instead.</p>\n</blockquote>\n\n<p>I'd rather not use <code>select()</code> or a loop. What is the canonical way to have a blocking read with timeout?</p>\n"},{"tags":["php","zend-framework","soap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":136,"score":0,"question_id":10414003,"title":"PHP Soap MustUnderstand","body":"<p>I have a soap server in Zend Framework and have added a filter before the request hits the soap_server to parse the header and allow wsse. This works fine.</p>\n\n<p>Yesterday I received a call with the attribute MustUnderstand=1 on the Security element in the header. The soap_server then throws: header not understood.</p>\n\n<p>Is it possible to do a workaround to have zend_soap_server ignore the mustunderstand=1 on the header?</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13256895,"title":"Populate two different tables","body":"<p>I need to populate two different tables on change of two different selectors, each one should point to the corresponding table. I have try different thing but i think I'm looking the wrong way. Any idea? Any hint?  </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script&gt;\n\nfunction showUser(str)\n{\nif (str==\"\")\n  {\n  document.getElementById(\"txtHint\").innerHTML=\"\";\n  return;\n  }\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"txtHint\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"getuser.php?q=\"+str,true);\nxmlhttp.send();\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form&gt;\n&lt;select name=\"users\" onchange=\"showUser(this.value)\"&gt;\n&lt;option value=\"\"&gt;Select a person:&lt;/option&gt;\n&lt;option value=\"1\"&gt;Peter Griffin&lt;/option&gt;\n&lt;option value=\"2\"&gt;Lois Griffin&lt;/option&gt;\n&lt;option value=\"3\"&gt;Glenn Quagmire&lt;/option&gt;\n&lt;option value=\"4\"&gt;Joseph Swanson&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n&lt;br /&gt;\n&lt;div id=\"txtHint\"&gt;&lt;b&gt;Person info will be listed here.&lt;/b&gt;&lt;/div&gt;\n\n&lt;form&gt;\n&lt;select name=\"users\" onchange=\"showUser(this.value)\"&gt;\n&lt;option value=\"\"&gt;Select a person:&lt;/option&gt;\n&lt;option value=\"1\"&gt;Peter Griffin&lt;/option&gt;\n&lt;option value=\"2\"&gt;Lois Griffin&lt;/option&gt;\n&lt;option value=\"3\"&gt;Glenn Quagmire&lt;/option&gt;\n&lt;option value=\"4\"&gt;Joseph Swanson&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n&lt;br /&gt;\n&lt;div id=\"txtHint2\"&gt;&lt;b&gt;Person info will be listed here.&lt;/b&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n"},{"tags":["php","netsuite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13256994,"title":"Netsuite Error INVALID_KEY_OR_REF","body":"<p>Getting this error Invalid custrecord_lt_partner reference key 225399. While trying to insert into </p>\n\n<p>The first two fields are lists/records &amp; the third field is free form text.</p>\n\n<p>Netsuite with Admin rights</p>\n\n<p>Here is the code</p>\n\n<pre><code>global $nsClient;\n\n$recordTypeRef = array(\"internalId\" =&gt; 91);\n\n$partnerName = \"225399\";\n$companyName = \"20562\";\n$labAcctNum  = \"7182794\";\n\n$partnerNameFields = new nsComplexObject('SelectCustomFieldRef');\n\n$partnerNameFields-&gt;setFields(\n    array(\n        'value'         =&gt; new nsListOrRecordRef(array('internalId' =&gt; $partnerName)),\n        'internalId'    =&gt; 'custrecord_lt_partner' \n    )\n);\n\n$companyNameFields = new nsComplexObject('SelectCustomFieldRef');\n\n$companyNameFields-&gt;setFields(\n    array(\n        'value'         =&gt; new nsListOrRecordRef(array('internalId' =&gt; $companyName)),\n        'internalId'    =&gt; 'custrecord_lt_company' \n    )\n);\n\n\n$labAcctNumFields = new nsComplexObject('StringCustomFieldRef');\n\n$labAcctNumFields-&gt;setFields(\n    array(\n        'internalId' =&gt; 'custrecord_lt_user_lab_acct_number',\n        'value'      =&gt; $labAcctNum, \n    )\n);\n\n\n$customRecordFields = array(\n    \"recType\"           =&gt; $recordTypeRef,\n    \"customFieldList\"   =&gt; array($partnerNameFields, $companyNameFields, $labAcctNumFields),\n);\n\n\n$customRecord = new nsComplexObject('CustomRecord');\n\n$customRecord-&gt;setFields($customRecordFields);\n\n//echo \"&lt;pre&gt;\"; print_r($customRecord); echo \"&lt;/pre&gt;\"; exit;\n\n\n$addResponse = $nsClient-&gt;add($customRecord);\n\nif($addResponse-&gt;isSuccess) {\n    echo \"&lt;pre&gt;\"; print_r(\"Success\"); echo \"&lt;/pre&gt;\"; exit;\n}\nelse {\n    echo \"&lt;pre&gt;\"; print_r($addResponse-&gt;statusDetail[0]-&gt;message); echo \"&lt;/pre&gt;\"; exit;\n}\n</code></pre>\n"},{"tags":["php","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13255767,"title":"PHP and CSV each column data is not getting wrapped in enclosures","body":"<p>I have the following code, </p>\n\n<pre><code>function Warrantyform($to, $subject, $template, $replaceArray)\n{\n    $return = \"\";\n    $str = valString($template);\n    //die(var_dump($replaceArray));\n    CallDatabase(\"insert into sales_formsholder \n     (iformtype, cto, csubject, cmsg, chtmlmsg) \n     values ( 1 ,'\" . $to . \"', '\" . $subject . \"', '\" . $str . \"', '')\");\n    //$handle = fopen($_SERVER[\"DOCUMENT_ROOT\"]. \"/cron/\" . date(dMY) . \".csv\");\n    $aList = array();\n    foreach ($replaceArray as $k =&gt; $v) {\n        $aList[] = (string)$v ;\n    }    \n    $aList[] = date(\"d.m.Y h:i:s\");\n    $aCsvLine = array(\n        $aList\n    );\n    $fp = fopen($_SERVER['DOCUMENT_ROOT'] . \n      \"/cron/register_warranty_\" . date(\"dMY\") . \".csv\", 'a');\n    //die(var_dump($fp));\n    foreach ($aCsvLine as $fields) {\n        fputcsv($fp, $fields);\n    }\n    fclose($fp);\n}\n</code></pre>\n\n<p>I was expecting the get output like this, </p>\n\n<pre><code>\"column 1\", \"column 2\", \"column 3\", \"column 4\", \"column 5\"\n</code></pre>\n\n<p>but what I am getting is more like, </p>\n\n<pre><code>\"column 1\", column 2, column 3, \"column 4\", \"column 5\"\n</code></pre>\n\n<p>I need every entry in the CSV by enclosed correctly why is this not happening?</p>\n"},{"tags":["php","lazy-loading","public-members"],"answer_count":9,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":166,"score":3,"question_id":10640744,"title":"lazy load public class data member in PHP","body":"<p>I want to lazy load the public data members of a class in PHP. Assume we have the following class:</p>\n\n<pre><code>&lt;?php\nclass Dummy\n{\n    public $name;\n    public $age;\n    public $status_indicator;\n}\n?&gt;\n</code></pre>\n\n<p>If <code>$name</code>, <code>$age</code> and <code>$status_indicator</code> were private data members I would lazy load them via their getter methods, but since they are public - I am unclear as to how to lazy load them. Is this possible?</p>\n\n<p><b>EDIT</b>:\nSomeone commented that there is a method called <code>__get</code> which might help to solve this issue, but I didn't understand it.</p>\n"},{"tags":["php","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13256204,"title":"Inserting Data From Database Into View - Codeigniter","body":"<p>Okay, so I'm grabbing the data I need properly from the database. However, how do I take the \"echo data\" and echo it as a variable in my view?</p>\n\n<p>For example,</p>\n\n<pre><code>&lt;? echo $row1-&gt;title; ?&gt;\n</code></pre>\n\n<p>is not working when placed in the view.</p>\n\n<p>Here's a portion of my controller:</p>\n\n<pre><code>// Pricing and package details insert from db\n    $query = $this -&gt; db -&gt; query('SELECT title, price, number_sites, number_entries, white_label FROM pricing');\n\n    $row1 = $query-&gt;row(0); // 0 grabs first row in table: Package 1         \n\n    echo $row1-&gt;title;\n    echo $row1-&gt;price;\n    echo $row1-&gt;number_sites;\n</code></pre>\n\n<p>If you want to view the entire controller, check it here:\n<a href=\"http://codepad.org/4nRrywzl\" rel=\"nofollow\">http://codepad.org/4nRrywzl</a></p>\n"},{"tags":["php","options","zen-cart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13238847,"title":"How to turn off global features in zen carts options_name_manager.php","body":"<p>I have been looking through code and forums for hours. Does any one know how to make it so that by default the Global features drop down is set to off on the options_name_manager file so that the global features are hidden. I have a customer who doesn't need to see those options and so I want to hide it. </p>\n\n<p>I have done some extensive googling and come up blank. Any help is appreciated. I have even tried hard coding the variable which changes the drop down but doesn't hide the section that it needs to!!</p>\n"},{"tags":["php","security"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":56,"score":0,"question_id":13247997,"title":"$_SERVER['PHP_SELF'] vulnerability not \"working\"?","body":"<p>Looking at an old code of a client, he's using</p>\n\n<pre><code>&lt;form action=\"&lt;?php echo $_SERVER['PHP_SELF']; ?&gt;\" /&gt;\n</code></pre>\n\n<p>I was wondering if it was subject to XSS, but when I try :</p>\n\n<ul>\n<li><code>form.php\"&gt;&lt;script&gt;alert('xss');&lt;/script&gt;</code> => 404 NOT FOUND from Apache</li>\n<li><code>form.php/\"&gt;&lt;script&gt;alert('xss');&lt;/script&gt;</code> => 404 From my app</li>\n</ul>\n\n<p>I must specify that I also use ?action=specific_page in the url for its normal use.</p>\n\n<p>Does that mean no XSS is possible using <code>PHP_SELF</code> or does that mean I'm trying it the wrong way?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":153,"score":0,"question_id":1808219,"title":"resending information problem","body":"<p>i've a search bar from where users can search for videos..\nafter the search, the user goes on to click and watch a video(from the search result)..when the user hits the browser's back button it displays the following</p>\n\n<blockquote>\n  <p>To display this page, Firefox must\n  send information that will repeat any\n  action (such as a search or order\n  confirmation) that was performed\n  earlier.</p>\n</blockquote>\n\n<p>instead of just showing the results..\ni just want to display the results of search when the user hits back..is it something related to cache?\nthankx..</p>\n"},{"tags":["php","apache","ip"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":46,"score":-6,"question_id":13256616,"title":"could I select my server IP address in php script","body":"<p>because twitter limit api query every hour/IP, and my server has 3 ip address. So could I select my server IP address in php script, so that I could get 3 times twitter api query traffic.</p>\n\n<pre><code>if(php_sapi_name() == 'cli'){\n   //if(my server ip == '1.1.1.1'){\n     ... \n   //}\n}\n</code></pre>\n"},{"tags":["php","session","session-state"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13256417,"title":"Questions about PHP session based logins","body":"<p>I have a couple of questions about PHP session based logins.  I have used the following tutorial to create a login form that connects to an existing user database that I have:</p>\n\n<p><a href=\"http://www.sourcecodester.com/tutorials/php/4341/how-create-login-page-phpmysql.html\" rel=\"nofollow\">http://www.sourcecodester.com/tutorials/php/4341/how-create-login-page-phpmysql.html</a></p>\n\n<p>I understand most of it, but I'd just like to query a couple of things that I do not understand:</p>\n\n<pre><code>//Login Successful\nsession_regenerate_id();\n$member = mysql_fetch_assoc($result);\n$_SESSION['SESS_MEMBER_ID'] = $member['mem_id'];\n$_SESSION['SESS_FIRST_NAME'] = $member['username'];\n$_SESSION['SESS_LAST_NAME'] = $member['password'];\nsession_write_close();\nheader(\"location: home.php\");\nexit();\n</code></pre>\n\n<p>The following code goes in the login_exec.php page - I think that this code is setting the session ID upon a successful login - am I correct?  </p>\n\n<p>What I do not understand is the reason for \"SESS_MEMBER_ID\", \"SESS_FIRST_NAME\" and \"SESS_LAST_NAME\" - why is that there and what is it doing precisely?</p>\n\n<p>My second question.  In \"home.php\" - when a user clicks \"logout\", they are directed back to index.php and somehow the session is being destroyed.  How, exactly, is the session getting destroyed when clicking \"logout\".</p>\n\n<p>Thirdly, is it possible to change \"home.php\" so that there is an if/else statement in place that says something like \"if logged_in echo \"yay, you are logged in\" with a variety of logged in content, \"else if not_logged_in echo \"sorry, you are not logged in and cannot view this page, please go to the following page to log in\".   If it is possible, how would I do that?</p>\n\n<p>Many Thanks</p>\n"},{"tags":["php","mysql","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13256573,"title":"Multiple records for orders and invoices found in Magento store","body":"<p>Recently I upgraded my old magento store to new version. In the new version I found some records are missing for order and invoices. \nTo find the missing records I write a script which searches for records present in the old database that are not in the new. So I came to know that magento upgrade done the right job but the missing records are actually duplicate entries in the old database. Can someone explain me why duplicates entries are there for some order and invoice numbers.</p>\n"},{"tags":["php","mysql","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":55,"score":5,"question_id":13256237,"title":"php/pdo/msql - access denied","body":"<p>There is a little pdo problem, that I have been working on for a while now. Since I don't know what is wrong here, I thought about taking it to this list. Maybe some of you know more...</p>\n\n<p>I have a website with a login that checks a user and a password against a mysql driven database. When the pdo connection is made in the same file all works fine, one can log in, without any problems. Just as it is supposed to work...</p>\n\n<p>However, when moving the database connection part to a seperate function, which I include from another file, pdo fails on me, and gives me:     </p>\n\n<blockquote>\n  <p>SQLSTATE[28000] [1045] Access denied for user '...'@'...' (using\n  password: NO)\n      Fatal error: Call to a member function prepare() on a non-object in /.../.../... on line 41</p>\n</blockquote>\n\n<p>For the sake of clarity, here is the code:</p>\n\n<p><strong>Version 1:</strong></p>\n\n<p>This works:</p>\n\n<pre><code>&lt;?php\n    require \"./vars_and_functions.php\";\n\n    /* open database connection */\n    try {\n    $pdo = new PDO(\"mysql:host=$db_host;dbname=$db_name\", $db_user, $db_pass);\n\n    /* query */\n    $query = \"SELECT uname, passw FROM members WHERE uname = ? AND passw = ?\";\n    $q = $pdo-&gt;prepare($query);\n    $q-&gt;execute(array($u_name, $p_word_md5));\n    $result = $q-&gt;rowCount();\n\n    if($result == 1) { /* we have a match */                       \n    /* close the database connection */\n               $pdo = null;  \n\n                /* and redirect */\n                header(\"...\");\n\n    } /* if */\n    else { /* wrong credentials */\n        /* close the database connection */                \n                $pdo = null;\n\n                /* and go back to the login page */ \n        header(\"...\");\n    } /* else */\n        } /* try */ \n    catch(PDOException $e) {  \n        echo $e-&gt;getMessage();  \n    } /* catch */\n?&gt;\n</code></pre>\n\n<p><strong>Here is version 2</strong></p>\n\n<p>This does not work:</p>\n\n<pre><code>&lt;?php\n        require \"./vars_and_functions.php\";\n\n        /* open database connection */\n        $pdo = database_connection();\n\n\n\n    /* query */\n            $query = \"SELECT uname, passw FROM members WHERE uname = ? AND passw = ?\";\n            $q = $pdo-&gt;prepare($query);\n            $q-&gt;execute(array($u_name, $p_word_md5));\n            $result = $q-&gt;rowCount();\n\n        if($result == 1) { /* we have a match */                       \n               /* close the database connection */\n                   $pdo = null;  \n\n                    /* and redirect */\n                    header(\"...\");\n\n        } /* if */\n        else { /* wrong credentials */\n            /* close the database connection */                \n                    $pdo = null;\n\n                    /* and go back to the login page */ \n            header(\"...\");\n        } /* else */\n            } /* try */ \n    catch(PDOException $e) {  \n        echo $e-&gt;getMessage();  \n    } /* catch */\n?&gt;\n</code></pre>\n\n<p>My includefile vars_and_functions.php looks like this:</p>\n\n<pre><code>$db_host = \"...\";       \n$db_name = \"...\";           \n$db_user = \"...\";       \n$db_pass = \"...\";       \n\nfunction database_connection() {\n    try {\n    $pdo = new PDO(\"mysql:host=$db_host;dbname=$db_name\", $db_user, $db_pass);\n}  \ncatch(PDOException $e) {  \n    echo $e-&gt;getMessage();  \n}  \n\nreturn $pdo;\n}\n</code></pre>\n\n<p>The only real difference to my mind is that here, the pdo connection is made via a function call, whereas the function sits in the include file vars_and_functions.php.</p>\n\n<p>What's wrong here?</p>\n"},{"tags":["php","firefox","google-chrome","whitespace","opera"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13256447,"title":"Mysterious space in my website on Chrome and FF?","body":"<p>After i type </p>\n\n<pre><code>date_default_timezone_set('Europe/Vilnius');\n</code></pre>\n\n<p>my website's top gets mysterious blank space. Don't know why - because when i remove it - everything is fine. It doesn't matter where i put that line, the blank space is on top. It is with FF and Chrome, but looks fine with Opera.</p>\n\n<p>Thanks for your help :)</p>\n"},{"tags":["php","namespaces","autoload","spl-autoload-register","spl-autoloader"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13237883,"title":"autoloading namespaced classes from a php.ini included path","body":"<p>I have a class that is namespaced in a directory outside the project. The directory is included in the include_path directive. I want to use an spl_autoload class to autoload the class. But I am only getting errors. Itseems like it is only trying to load files from the project directory</p>\n\n<p>This is a windows machine, but I would like it to work on a windows or Linux machine</p>\n\n<blockquote>\n  <h2>incude_path directive</h2>\n  \n  <p>include_path = \".;C:\\xampp\\php\\PEAR;C:\\Users\\Joey\\Dropbox\\web\\global_includes;C:\\Users\\Joey\\Dropbox\\web\\global_includes\\utility;C:\\Users\\Joey\\Dropbox\\web\\global_includes\\utility\\arrayTools\"</p>\n</blockquote>\n\n<pre><code>    //index.php\n    require 'bootstrap.php';\n\n    $array = array('Hello','world');\n    $array[] = array('Hello','world','2');\n    $array[2][1] = array('Hello','world',3);\n\n    echo '&lt;p&gt;The number of dimesions: '.utility\\arrayTools\\arrayTools::numberOfDimensions($array).'&lt;/p&gt;';\n\n    //bootstrap.php\n    spl_autoload_register('autoLoader::autoLoad');\n\n\n    class autoLoader\n    {\n      public static function autoLoad($file)\n      {\n          if(is_string($file)){\n              if(file_exists(\"$file.php\")){\n                  try{\n                     include \"$file.php\";\n                  }catch(Exception $exc){\n                      echo '&lt;pre&gt;&lt;p&gt;'.$exc-&gt;getMessage().'&lt;/p&gt;'.$exc-&gt;getTraceAsString().'&lt;/pre&gt;';\n                  }\n              }\n          }\n      }\n    }\n</code></pre>\n"},{"tags":["php","round","floor","bcmath","ceil"],"answer_count":2,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":882,"score":4,"question_id":1642614,"title":"How to ceil, floor and round bcmath numbers?","body":"<p>I need to <strong>mimic the exact functionality of the <a href=\"http://php.net/manual/en/function.ceil.php\" rel=\"nofollow\">ceil()</a>, <a href=\"http://www.php.net/manual/en/function.floor.php\" rel=\"nofollow\">floor()</a> and <a href=\"http://www.php.net/manual/en/function.round.php\" rel=\"nofollow\">round()</a> functions on bcmath numbers</strong>, <a href=\"http://stackoverflow.com/questions/231057/how-to-round-ceil-floor-a-bcmath-number-in-php\">I've already found a very similar question</a> but unfortunately <a href=\"http://stackoverflow.com/questions/231057/how-to-round-ceil-floor-a-bcmath-number-in-php/231171#231171\">the answer provided isn't good enough for me</a> since it <strong>lacks support for negative numbers</strong> and the <strong>precision argument for the round() function is missing</strong>.</p>\n\n<p>I was wondering if anyone can come up with a rather short and elegant solution to this problem.</p>\n\n<p><strong>All input is appreciated, thanks!</strong></p>\n"},{"tags":["php","drupal","drupal-7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13256313,"title":"Drupal 7 error, how can I debug ? \"The website encountered an unexpected error. Please try again later.”","body":"<p>I have this error with Drupal 7, quite useless for debugging.</p>\n\n<p>So my question is : </p>\n\n<ol>\n<li><p>how can I have some more information about this error ? Any report,\nany log anywhere ? Nothing in php errors.</p></li>\n<li><p>how can I disable that message and have a more useful one for debug purpose ?</p></li>\n</ol>\n\n<p><strong>Note</strong> : my question is NOT \"how can I fix this problem\" :)</p>\n\n<p>Apologizes if there's any similar question, haven't found it.</p>\n\n<p>Many thanks !</p>\n"},{"tags":["php","fpdf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13256346,"title":"Formatting text within a cell","body":"<p>I have been instructed to write a script that outputs a contract document as a PDF. The contract template I have been given to use contains blocks of text with bold, italics, and underlines sprinkled throughout otherwise basic strings of times new roman. Currently, I have the contract template in both HTML and MS Doc format.</p>\n\n<p>My first thought was to use the FPDF lib, but FPDF seems to only to be able to draw cells in one text format at a time. Is there a better way to do this?</p>\n\n<p>I found the FPDF Multicell Advanced library, but I'd like to find a solution that doesn't cost before I run to my employer for money.\n<a href=\"http://interpid.eu/fpdf-multicell\" rel=\"nofollow\">http://interpid.eu/fpdf-multicell</a></p>\n"},{"tags":["php","xml","arrays","xpath","simplexml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13185499,"title":"Create nested list with PHP from XML dataset","body":"<p>I'm trying to build an unordered list from an existing XML file which contains categories and subcategories + images. I need each subcategory to be an item in an unordered list with each related image in a nested list. The subcategories should be shown only once (must not repeat if it's the same). I believe what I'm looking for is a recursive loop, but that's where I get lost.</p>\n\n<p>Essentially, I'm trying to achieve a look similar to this:</p>\n\n<p>--------------DOGS-------------<br/>\n    [..........small..........]<br/>\n    [picture] [picture]<br/>\n    [..........large..........]<br/>\n        [picture]<br/>\n--------------CATS-------------<br/>\n    [..........medium..........]<br/>\n    [picture]<br/>\n    [..........large..........]<br/>\n        [picture] [picture]\n<br/><br/></p>\n\n<p><br/>My XML file structure:</p>\n\n<pre><code> &lt;root&gt;\n    &lt;animal&gt;\n        &lt;category&gt;DOGS&lt;/category&gt;\n        &lt;subcategory&gt;small&lt;/subcategory&gt;\n        &lt;name&gt;Terrier&lt;/name&gt;\n        &lt;image&gt;aaa.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;-&lt;/category&gt;\n        &lt;subcategory&gt;small&lt;/subcategory&gt;\n        &lt;name&gt;Havanese&lt;/name&gt;\n        &lt;image&gt;bbb.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;-&lt;/category&gt;\n        &lt;subcategory&gt;large&lt;/subcategory&gt;\n        &lt;name&gt;Dalmatian&lt;/name&gt;\n        &lt;image&gt;ccc.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;CATS&lt;/category&gt;\n        &lt;subcategory&gt;medium&lt;/subcategory&gt;\n        &lt;name&gt;Abyssinian&lt;/name&gt;\n        &lt;image&gt;ddd.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;-&lt;/category&gt;\n        &lt;subcategory&gt;large&lt;/subcategory&gt;\n        &lt;name&gt;Birman&lt;/name&gt;\n        &lt;image&gt;eee.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;-&lt;/category&gt;\n        &lt;subcategory&gt;large&lt;/subcategory&gt;\n        &lt;name&gt;American Shorthair&lt;/name&gt;\n        &lt;image&gt;fff.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><br/><br/>Here's what I have attempted so far:</p>\n\n<pre><code>    &lt;?php\n\n    $xml = simplexml_load_file(\"file.xml\");\n\n    $categories     = array();\n    $subcategories = array();\n    $names      = array();\n    $image         = array();\n\n    foreach($xml-&gt;animal as $animals) { \n        $category        = $animals-&gt;category;\n        $subcategory     = $animals-&gt;subcategory;\n        $name            = $animals-&gt;name;\n        $image       = $animals-&gt;image;\n\n        $categories[]     = $category;\n        $subcategories[] = $subcategory;\n        $names[]          = $name;\n        $images[]        = $image\n    }\n\n    function getMenu($xml, $categories, $subcategories, $names, $images) {\n        $output = '&lt;ul&gt;';\n             foreach(array_keys($images) as $n) {       \n                 $output .= '&lt;li class=\"animals\" data-tags=\"'.$names[$n].'\"&gt;';\n                 $output .= '&lt;img src=\"xml/'.$images[$n].'\" width=\"75\" height=\"75\" alt=\"'.$names[$n].'\" /&gt;';\n                 $output .= '&lt;/li&gt;';    \n             }\n\n        $output.= '&lt;/ul&gt;';  \n        return array($output);  \n    }\n\n    $result = getMenu($xml, $categories, $subcategories, $names, $images);\n\n    echo json_encode($result);\n\n    ?&gt;\n</code></pre>\n"},{"tags":["php","sql","join"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13255566,"title":"SQL - Select IDs from two different tables","body":"<p>I have two tables that have logging information for different actions. I want to select information from both logging tables and display it. I cannot modify the application, so I can't modify the table structure. Assuming I wanted, say, 30 records, I figured I could write some kind of join query that would just return the IDs for each table, in order by time. Then I could simply run two separate queries selecting those IDs from the individual tables. I'm not sure how to do this, or if you even can do this, and I'm kind of at a loss. Can anyone help? If there's a cleaner solution I'd be happy to hear that as well, I'm working in PHP.</p>\n\n<p>Example data:</p>\n\n<p>MAGICAL SELECT ? FROM table1 MAGIC JOIN table2 MAGICALLY ORDER BY date DESC LIMIT 3</p>\n\n<p>Table 1</p>\n\n<pre><code>|------|-------|------------|\n| id   | date  | other data |\n|------|-------|------------|\n| 1    | 8     | ...        |\n| 2    | 5     | ...        |\n| 3    | 3     | ...        |\n|------|-------|------------|\n</code></pre>\n\n<p>Table 2</p>\n\n<pre><code>|------|-------|------------|\n| id   | date  | other data |\n|------|-------|------------|\n| 1    | 6     | ...        |\n| 2    | 4     | ...        |\n| 3    | 12    | ...        |\n|------|-------|------------|\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>|-----------|-----------|\n| table1_id | table2_id |\n|-----------|-----------|\n| NULL      | 3         |\n| 1         | NULL      |\n| NULL      | 1         |\n|-----------|-----------|\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","paypal","paypal-api"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3986,"score":2,"question_id":5255571,"title":"Passing price variable to PayPal with custom button","body":"<p>I have a form and a custom paypal button but I am not sure how to pass the value/price variable to paypal.</p>\n\n<pre><code>&lt;form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\"&gt;\n\n\n&lt;input type=\"hidden\" name=\"cmd\" value=\"_s-xclick\"&gt;\n&lt;input type=\"hidden\" name=\"hosted_button_id\" value=\"ZEFZFYBY2SZB8\"&gt;\n&lt;input type=\"image\" src=\"https://www.paypal.com/en_US/i/btn/btn_paynowCC_LG.gif\" border=\"0\" name=\"submit\" alt=\"PayPal - The safer, easier way to pay online!\"&gt;\n&lt;img alt=\"\" border=\"0\" src=\"https://www.paypal.com/en_US/i/scr/pixel.gif\" width=\"1\" height=\"1\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I have a variable <code>$total = \"238.00\";</code></p>\n"},{"tags":["php","mysql","forms","select"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13256202,"title":"MySQL Select AND OR","body":"<p>I'm not having success with my query statement and I think it has to do with the way I'm executing it.</p>\n\n<pre><code>$query5 = \"select * from \".$db_prefix.\"customer_det where (fname = '\".$fname.\"' and lname = '\".$lname.\"') or phone = '\".$phone.\"'\";\n</code></pre>\n\n<p>Essentially I want to select all from customer_det when the first and last name match the posted first and last name.  If there's no posted first and last name, then I want it to select all where the posted phone number matches.  My three variables $fname, $lname, and $phone are all set to read from the previous form $_POST['fname']; etc...</p>\n\n<p>Is this the right logic to be using?  </p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13255224,"title":"send array with jquery ajax","body":"<p>I have this jquery code:</p>\n\n<pre><code>        var myarr = [\"aa\",\"ss\",\"dd\"];\n\n        $.ajax({\n            url: \"proces.php\",\n            data: \"arr=\"+myarr,\n            type: \"POST\",\n            success: function () {\n                alert(\"data is send\");\n            }\n        });\n</code></pre>\n\n<p>I see message <code>data is send</code> but in <code>proces.php</code> file I have this code</p>\n\n<pre><code>$str = '';\nforeach ($_POST['arr'] as $k=&gt;$v) {\n    $str = $str.$v;\n}\n\n$hand = fopen(\"t.txt\",\"w+\");\nfwrite($hand,$str);\n</code></pre>\n\n<p>and in file <code>t.txt</code> nothing is written, please tell where I wrong ?</p>\n"},{"tags":["php","caching","symfony1"],"answer_count":6,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":2623,"score":5,"question_id":1327645,"title":"Clearing Symfony cache for another application","body":"<p>I would like to clear my frontend application's cache from an action in my backend application.</p>\n\n<p>How can I achieve this?</p>\n"},{"tags":["php","smarty"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":168,"score":0,"question_id":8616682,"title":"PHP to Smarty, unsure","body":"<p>I have a nav.php which determines what the current page is and applies a class to the li element. This is the code:</p>\n\n<pre><code>&lt;?php\n$page = basename($_SERVER['PHP_SELF']);\n$page = substr($page, 0, -4);\n//echo $page;\n?&gt;\n\n&lt;ul&gt;\n    &lt;?php if($page == 'dash'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"dash.php\"&gt;Dashboard&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"dash.php\"&gt;Dashboard&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'boot'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"boot.php\"&gt;Boot&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"boot.php\"&gt;Boot&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'account'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"account.php\"&gt;Account&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"account.php\"&gt;Account&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'tools'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"tools.php\"&gt;Tools&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"tools.php\"&gt;Tools&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'news'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"bews.php\"&gt;News&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"news.php\"&gt;News&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'contact'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"contact.php\"&gt;Contact&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"contact.php\"&gt;Contact&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'logout'){echo '&lt;li class=\"current\"&gt;&lt;a  href=\"logout.php\"&gt;Logout&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"logout.php\"&gt;Logout&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n\n\n&lt;/ul&gt;\n</code></pre>\n\n<p>Need to convert it to Smarty - appreciate any help.</p>\n\n<p>Solved, me just being silly!</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li class=\"{if $page == 'dash'}current{else}nav{/if}\"&gt;&lt;a href=\"dash.php\"&gt;Dash&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'boot'}current{else}nav{/if}\"&gt;&lt;a href=\"boot.php\"&gt;Boot&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'account'}current{else}nav{/if}\"&gt;&lt;a href=\"account.php\"&gt;Account&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'tools'}current{else}nav{/if}\"&gt;&lt;a href=\"tools.php\"&gt;Tools&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'news'}current{else}nav{/if}\"&gt;&lt;a href=\"news.php\"&gt;News&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'contact'}current{else}nav{/if}\"&gt;&lt;a href=\"contact.php\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'logout'}current{else}nav{/if}\"&gt;&lt;a href=\"logout.php\"&gt;Logout&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"},{"tags":["php","json","api","curl","twitter"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":150,"score":0,"question_id":13000042,"title":"twitter API 1.1: cannot add the 'count' parameter using curl & php","body":"<p>I'm connecting to the new twitter API to get a list of my profiles' public tweets.\nI'm basically using the following code, which I found here: <a href=\"http://stackoverflow.com/questions/12916539/simplest-php-example-retrieving-user-timeline-with-twitter-api-version-1-1\">simplest php example retrieving user_timeline with twitter API version 1.1</a></p>\n\n<p>I'm getting the last 20 tweets and I've tried many different ways to add the \"count\" parameter to the curl call, but nothing seems to return more results.</p>\n\n<p>I tried giving a value to the $postfields:</p>\n\n<pre><code>$postfields = array(\n        'count' =&gt; 100,\n        'include_rts' =&gt; 1\n    );\n\n//url-ify the data for the POST\nforeach($postfields as $key=&gt;$value) { $fields_string .= $key.'='.$value.'&amp;'; }\nrtrim($fields_string, '&amp;');\n</code></pre>\n\n<p>Giving a simple string value:</p>\n\n<pre><code>§postfields = 'count=100';\n</code></pre>\n\n<p>and changing the $url value into:</p>\n\n<pre><code>$url = \"https://api.twitter.com/1.1/statuses/home_timeline.json?count=100\";\n</code></pre>\n\n<p>Any other suggestions?</p>\n\n<p>Thanks for your help!!</p>\n\n<p>This is the complete code for reference:</p>\n\n<pre><code>function buildBaseString($baseURI, $method, $params) {\n    $r = array();\nksort($params);\nforeach($params as $key=&gt;$value){\n    $r[] = \"$key=\" . rawurlencode($value);\n}\nreturn $method.\"&amp;\" . rawurlencode($baseURI) . '&amp;' . rawurlencode(implode('&amp;', $r));\n}\n\nfunction buildAuthorizationHeader($oauth) {\n$r = 'Authorization: OAuth ';\n$values = array();\nforeach($oauth as $key=&gt;$value)\n    $values[] = \"$key=\\\"\" . rawurlencode($value) . \"\\\"\";\n$r .= implode(', ', $values);\nreturn $r;\n}\n\n$url = \"https://api.twitter.com/1.1/statuses/user_timeline.json\";\n$oauth_access_token = \"YOURVALUE\";\n$oauth_access_token_secret = \"YOURVALUE\";\n$consumer_key = \"YOURVALUE\";\n$consumer_secret = \"YOURVALUE\";\n\n$oauth = array( 'oauth_consumer_key' =&gt; $consumer_key,\n            'oauth_nonce' =&gt; time(),\n            'oauth_signature_method' =&gt; 'HMAC-SHA1',\n            'oauth_token' =&gt; $oauth_access_token,\n            'oauth_timestamp' =&gt; time(),\n            'oauth_version' =&gt; '1.0');\n\n\n\n$base_info = buildBaseString($url, 'GET', $oauth);\n$composite_key = rawurlencode($consumer_secret) . '&amp;' .     rawurlencode($oauth_access_token_secret);\n$oauth_signature = base64_encode(hash_hmac('sha1', $base_info, $composite_key, true));\n$oauth['oauth_signature'] = $oauth_signature;\n\n\n\n$header = array(buildAuthorizationHeader($oauth), 'Expect:');\n$options = array( CURLOPT_HTTPHEADER =&gt; $header,\n              //CURLOPT_POSTFIELDS =&gt; $postfields,\n              CURLOPT_HEADER =&gt; false,\n              CURLOPT_URL =&gt; $url,\n              CURLOPT_RETURNTRANSFER =&gt; true,\n              CURLOPT_SSL_VERIFYPEER =&gt; false);\n\n\n\n$feed = curl_init();\ncurl_setopt_array($feed, $options);\n$json = curl_exec($feed);\ncurl_close($feed);\n$twitter_data = json_decode($json);\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13256074,"title":"multiple queries in php using mysqli_query function","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6821184/how-do-you-do-multiple-sql-statments-in-one-mysql-query\">How do you do multiple SQL statments in one mysql_query?</a>  </p>\n</blockquote>\n\n\n\n<p>In my PHP code:</p>\n\n<pre><code>$result=mysqli_query($this-&gt;con,\"select * from tbl_user where email_id='a@a'\");\nif($result) {\n    echo \"OHEK\";\n}\nif(!$result) {\n    echo \"NOT OHEK\";\n}\n$this-&gt;closeCon();\n</code></pre>\n\n<p>It prints <code>OHEK</code>.</p>\n\n<p>Then I want to execute multiple query like:</p>\n\n<pre><code>$result=mysqli_query($this-&gt;con,\"\n     select * from tbl_user \n     where email_id='a@a';\n     DELETE FROM tbl_user\n\");\n</code></pre>\n\n<p>When I execute in mysql it execute sucessfully but when I execute it by php code the second query will not be executed.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":8,"view_count":82,"score":-5,"question_id":10762879,"title":"How to get the keys with highest values in a php array","body":"<p>I have this array...</p>\n\n<pre><code>Array (\n[1168] =&gt; 46\n[6973] =&gt; 27\n[4585] =&gt; 24\n[1224] =&gt; 23\n[2010] =&gt; 20\n[7514] =&gt; 19\n[1167] =&gt; 17\n[8349] =&gt; 7\n[2476] =&gt; 7\n[5313] =&gt; 7\n[1208] =&gt; 2\n)\n</code></pre>\n\n<p>And I need to get three keys (as values) with the highest values in the previous array:</p>\n\n<pre><code>Array (\n[0] =&gt; 1168\n[1] =&gt; 6973\n[2] =&gt; 4585\n)\n</code></pre>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13227321,"title":"My facebook script don't work using appserv","body":"<p>I coded a script that can upload images to fanpage's on facebook, I tried on a webhosting but open_basedir is disabled for \"realpath\" so I cannot use it (but login, facebook status update and all those things works perfectly). So I tried in a VPS, I installed appserv with Apache 2.2.8 &amp; PHP 5.2.6 but when I try to autenticate with the app i get an error:</p>\n\n<pre><code>Warning: file_get_contents(https://graph.facebook.com/me/accounts?access_token=) [function.file-get-contents]: failed to open stream: No error in C:\\AppServ\\www\\editor_imagenes\\index.php on line 58\n\nWarning: Invalid argument supplied for foreach() in C:\\AppServ\\www\\editor_imagenes\\index.php on line 79\n\nWarning: file_get_contents(https://graph.facebook.com/me?access_token=) [function.file-get-contents]: failed to open stream: No error in C:\\AppServ\\www\\editor_imagenes\\index.php on line 106\n</code></pre>\n\n<p>I know my code it is ok because when i tried on the webhosting works fine... what i can do? Thanks for reading:)</p>\n"},{"tags":["php","apache"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13256062,"title":"One of the rewrite rules stopped working after switching hosting providers","body":"<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\nRewriteRule ^([a-zA-Z0-9]+)$ photo?p=$1\nRewriteRule ^page/([a-zA-Z0-9]+)$ index?page=$1  // up to this point included works fine\nRewriteRule ^waitingroom/page/([a-zA-Z0-9]+)$ waitingroom?page=$1 //doesnt work, 500 error\n</code></pre>\n\n<p>photo, index and waitingroom are actually all php files like photo.php,index.php,waitingroom.php</p>\n\n<p>It works beside the last rewrite rule which is identical to the one before that :(\nAnd it worked fine before i switched to hostgator</p>\n\n<p>Whats wrong with my syntax?</p>\n"},{"tags":["php","reference"],"answer_count":1,"favorite_count":1,"up_vote_count":11,"down_vote_count":0,"view_count":89,"score":11,"question_id":13253034,"title":"New by reference not giving warning","body":"<p>All over the web<a href=\"http://www.php.net/manual/en/language.references.whatdo.php\">[1]</a><a href=\"http://stackoverflow.com/questions/1086539/assigning-the-return-value-of-new-by-reference-is-deprecated\">[2]</a><a href=\"http://www.appnitro.com/forums/topic/errors-message-\">[3]</a>, it says that since PHP 5.0.0 \"assigning the return value of new by reference\" gives a <code>E_DEPRECATED</code> or <code>E_STRICT</code> depending on your php version (<code>E_DEPRECATED</code> didn't exist until 5.3, so it was <code>E_STRICT</code> before that).</p>\n\n<p>As such it is my understanding that this code should give such a warning:</p>\n\n<pre><code>error_reporting(E_ALL | E_STRICT);\n\nclass A\n{\n}\n\n$a =&amp; new A();\n</code></pre>\n\n<p>However, I have tried this on two completely different servers (one running PHP 5.3 and one running PHP 5.2) and neither is actually giving any message! What's going on? Is my understanding incorrect or is something strange going on on those two servers?</p>\n\n<p>(I do also think it is strange that this is deprecated, seeing that <code>$a = null; $b =&amp; $a; $b = new A();</code> does not do the same as <code>$a = null; $b =&amp; $a; $b =&amp; new A();</code>, but that's only a part of the question if I misunderstood what is deprecated...)</p>\n"},{"tags":["php","algorithm","facebook"],"answer_count":6,"favorite_count":8,"up_vote_count":5,"down_vote_count":0,"view_count":20922,"score":5,"question_id":3848004,"title":"facemash algorithm","body":"<p>Anyone know the facemash algorithm that Mark Zuckerberg implemented in his facemash site?\n<a href=\"http://www.thecrimson.com/article/2003/11/19/facemash-creator-survives-ad-board-the/\" rel=\"nofollow\">http://www.thecrimson.com/article/2003/11/19/facemash-creator-survives-ad-board-the/</a></p>\n\n<p>Preferably in PHP &amp; MySQL.</p>\n"},{"tags":["php","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13255913,"title":"Trouble moving uploaded file","body":"<p>I am simply trying to move an uploaded file to a location on my server. Here is my code.</p>\n\n<pre><code>    $target_path = $_SERVER['DOCUMENT_ROOT'] . \"img/uploads/\";\n    $target_path = $target_path . basename($_FILES['imageURL']['tmp_name']);\n\n    if (move_uploaded_file($_FILES['imageURL']['tmp_name'], $target_path)) {\n        echo \"The file has been moved\";\n    } else {\n        echo \"There was an error.\";\n    }\n</code></pre>\n\n<p>I keep getting the error for false and I can't figure out why it won't move it. I've verified the location of it with an if statement it results in true. </p>\n\n<p>I edited the name path for the tmp_name in the array..still hasn't worked. I did a dump and I have no tmp_key for that array. Why am I not getting the key?</p>\n"},{"tags":["php","windows","xampp"],"answer_count":5,"favorite_count":4,"up_vote_count":12,"down_vote_count":0,"view_count":17834,"score":12,"question_id":2154762,"title":"Upgrading PHP in XAMPP for Windows?","body":"<p>I would like to know how you upgrade PHP in Xampp for Windows? I tried to download the latest PHP version from the main PHP site but when I check (phpinfo) I still get that the previous version is still in use.</p>\n\n<p>Please advise.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","jquery","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13255506,"title":"Page not found upon jquery request","body":"<p>I'm trying to figure out what I'm doing wrong here. I have this for my jQuery code and I also have a php controller function called delete that looks like this. Right now when I cxlick on the element with a class of delete it tries to make a request to this page and it can not be found.</p>\n\n<pre><code>mysite.com/cms/ctrlpanel/users/delete \n\npublic function delete($user_id)\n{\n}    \n\n$route['cms/ctrlpanel/users/delete/(:num)'] = 'users/delete/$1';\n\n$('.delete').click(function(e){\n    var element = $(this);\n    e.preventDefault();\n    $.post('/cms/ctrlpanel/users/delete', { 'user_id' : element.attr('rel') }, function(data) \n    {\n\n    ), 'json');\n});\n</code></pre>\n"},{"tags":["php","symfony2","bundle","symfony-2.1"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13255983,"title":"MopaBootstrapTwitterBundle - button dropdown","body":"<p>How do I add a button dropdown like this:\n<a href=\"http://twitter.github.com/bootstrap/components.html#buttonDropdowns\" rel=\"nofollow\">http://twitter.github.com/bootstrap/components.html#buttonDropdowns</a></p>\n\n<p>In MopaBootstrapTwitterBundle.</p>\n\n<p>I guess I need a buttonRenderer and a service to achieve this?</p>\n\n<p>I need to assign .btn-group to the div but default behaviour is 'navbar' for provided renderer.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["php","html","css","wordpress","video"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13255698,"title":"wordpress video resizing","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4132893/resizing-embedded-videos-with-php\">Resizing embedded videos with php</a>  </p>\n</blockquote>\n\n\n\n<p>I would like to set the videos to height 280, width 520 on my wordpress homepage. The current code uses the original youtube height &amp; width:</p>\n\n<p>   </p>\n\n<pre><code>        &lt;div class=\"entry\"&gt;\n\n            &lt;?php the_content(''); ?&gt;\n\n        &lt;/div&gt;\n</code></pre>\n\n<p>when I output the code, the video is still at 640x480. Any suggestions on how to resize? I have tried css with no luck.  this is for a custom wordpress theme we're working on.</p>\n\n<p>thanks</p>\n"},{"tags":["php","jquery","load","external"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13255646,"title":"load div content from external file","body":"<p>I've tried several options to try and load the content from a div on one page with id=\"container\" into a div on a different html page id=\"landing\".</p>\n\n<p>I used the answer here and also lots of variations of it\n<a href=\"http://stackoverflow.com/questions/4101770/load-content-of-a-div-on-another-page\">Load content of a div on another page</a></p>\n\n<p>I've run a test and Jquery is being loaded.</p>\n\n<p>The test files are here <a href=\"http://www.salcombeyurts.co.uk/test/landing.html\" rel=\"nofollow\">http://www.salcombeyurts.co.uk/test/landing.html</a></p>\n\n<p>My code looks like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$('#landing').load('source.html #container');\n&lt;/script&gt;\n</code></pre>\n\n<p>This will eventually end up on a PHP page. Part of a Joomla site.</p>\n"},{"tags":["php","arrays","sorting","multidimensional-array","manipulation"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":33,"score":-2,"question_id":13255657,"title":"Custom Sort in Array","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7262783/php-custom-sorting\">PHP custom sorting</a>  </p>\n</blockquote>\n\n\n\n<p>Please help guys, i am stuck badly. I am having an array</p>\n\n<pre>\nArray\n(\n    [Flag] => 2\n    [Pending] => 11\n    [Received] => 11\n    [Sent] => 8\n    [Skip] => 5\n    [Complaint] => 1\n    [Query] => 1\n)\n</pre>\n\n<p>I have two requests for the above array:</p>\n\n<ol>\n<li><p>how can i sort this into the below order:\nReceived, Sent, Pending, Flag, Skip, Query, Request, Complaint.</p></li>\n<li><p>as we see that \"Request\" is not available in the array. I am wanting to push it into the array with the value Zero.</p></li>\n</ol>\n\n<p>Please help as soon as you guys can.... Thanks!</p>\n"},{"tags":["php","magento","observer-pattern"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1367,"score":3,"question_id":3816922,"title":"Magento: How do you disable or change how a core observer method works","body":"<p>I have been wondering about this for a while. What if Magento has written a core Observer class and performs a functionality that you do not want it to execute, or you want to rewrite it? Is there a way to say, don't use this method in an Observer, just use mine. If I setup a method for my own Observer won't it just do the core functionality first and then whatever I have implement?</p>\n\n<p>For example, Magento wants to save some data to the database in an Observer method, but I don't want it to save that data at all, I want it to save some other data that I have added columns or attributes to the database for.</p>\n"},{"tags":["php","wordpress","content-management-system"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":60,"score":0,"question_id":13090126,"title":"the_excerpt and the_content in the post of wordpress cause error","body":"<p>I am using the <strong>wordpress latest version</strong> ,even I have an problem with post which contain href link is to be text on call the_excerpt (link is not working ) but when I replace the_content its working ? why and what's the reason from excerpt to content....'</p>\n"},{"tags":["php","python","mysql","sphinx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13239946,"title":"Sphinx Search indexing some fields but not others","body":"<p>I'm using generic Sphinx with Python (though I tested this against PHP as well and got the same problem). I have a table where I have several fields I want to be able to search in sphinx against but it seems like only some of the fields get indexed.</p>\n\n<p>Here's my source (dbconfig just has the connection information):</p>\n\n<pre><code>source bill_src : dbconfig\n{\n    sql_query       = \\ \n        SELECT id,title,official_title,summary,state,chamber,UNIX_TIMESTAMP(last_action) AS bill_date FROM bill\n\n    sql_attr_timestamp = bill_date\n\n    sql_query_info      = SELECT * FROM bill WHERE id=$id\n}\n</code></pre>\n\n<p>Here's the index</p>\n\n<pre><code>index bills\n{\n    source          = bill_src\n    path            = /var/data/bills\n    docinfo         = extern\n    charset_type        = sbcs\n}\n</code></pre>\n\n<p>I'm trying to use extended match mode. It seems that <code>title</code> and <code>summary</code> are fine but the <code>official_title</code>, the <code>state</code> and the <code>chamber</code> fields are ignored in the index. So for example if I do:</p>\n\n<p><code>@official_title Affordable Care Act</code> </p>\n\n<p>I get:</p>\n\n<pre><code>query error: no field 'official_title' found in schema\n</code></pre>\n\n<p>but the same query with @summary produces results. Any ideas what I'm missing?</p>\n\n<p><strong>EDIT</strong>\nHere's the table I'm trying to index:</p>\n\n<pre><code>+--------------------+--------------+------+-----+---------+----------------+\n| Field              | Type         | Null | Key | Default | Extra          |\n+--------------------+--------------+------+-----+---------+----------------+\n| id                 | int(11)      | NO   | PRI | NULL    | auto_increment |\n| bt50_id            | int(11)      | YES  | MUL | NULL    |                |\n| type               | varchar(10)  | YES  |     | NULL    |                |\n| title              | varchar(255) | YES  |     | NULL    |                |\n| official_title     | text         | YES  |     | NULL    |                |\n| summary            | text         | YES  |     | NULL    |                |\n| congresscritter_id | int(11)      | NO   | MUL | NULL    |                |\n| last_action        | datetime     | YES  |     | NULL    |                |\n| sunlight_id        | varchar(45)  | YES  |     | NULL    |                |\n| number             | int(11)      | YES  |     | NULL    |                |\n| state              | char(2)      | YES  |     | NULL    |                |\n| chamber            | varchar(45)  | YES  |     | NULL    |                |\n| session            | varchar(45)  | YES  |     | NULL    |                |\n| featured           | tinyint(1)   | YES  |     | 0       |                |\n| source_url         | varchar(255) | YES  |     |         |                |\n+--------------------+--------------+------+-----+---------+----------------+\n</code></pre>\n"},{"tags":["php","html5","jplayer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13220327,"title":"Using PHP smartReadFile to stream audio - not showing duration or seeking on iOS Safari","body":"<p>I'm using this <code>smartReadFile</code> PHP method I found online to stream audio to jQuery <code>jPlayer</code>. While this works great when playing from a browser, I can seek the track and the duration is displayed, but when I try on iOS Safari, the duration is unknown and I cannot seek, but it does play. Any ideas anyone? Much appreciated.</p>\n\n<pre><code>function _smartReadFile($location, $filename, $mimeType = 'application/octet-stream')\n    {\n        if (!file_exists($location))\n        {\n            header (\"HTTP/1.1 404 Not Found\");\n            return;\n        }\n\n        $size   = filesize($location);\n        $time   = date('r', filemtime($location));\n\n        $fm     = @fopen($location, 'rb');\n        if (!$fm)\n        {\n            header (\"HTTP/1.1 505 Internal server error\");\n            return;\n        }\n\n        $begin  = 0;\n        $end    = $size - 1;\n\n        if (isset($_SERVER['HTTP_RANGE']))\n        {\n            if (preg_match('/bytes=\\h*(\\d+)-(\\d*)[\\D.*]?/i', $_SERVER['HTTP_RANGE'], $matches))\n            {\n                $begin  = intval($matches[1]);\n                if (!empty($matches[2]))\n                {\n                    $end    = intval($matches[2]);\n                }\n            }\n        }\n\n        if (isset($_SERVER['HTTP_RANGE']))\n        {\n            header('HTTP/1.1 206 Partial Content');\n        }\n        else\n        {\n            header('HTTP/1.1 200 OK');\n        }\n\n        header(\"Content-Type: $mimeType\"); \n        header('Cache-Control: public, must-revalidate, max-age=0');\n        header('Pragma: no-cache');  \n        header('Accept-Ranges: bytes');\n        header('Content-Length:' . (($end - $begin) + 1));\n        if (isset($_SERVER['HTTP_RANGE']))\n        {\n            header(\"Content-Range: bytes $begin-$end/$size\");\n        }\n        header(\"Content-Disposition: inline; filename=$filename\");\n        header(\"Content-Transfer-Encoding: binary\");\n        header(\"Last-Modified: $time\");\n\n        $cur    = $begin;\n        fseek($fm, $begin, 0);\n\n        while(!feof($fm) &amp;&amp; $cur &lt;= $end &amp;&amp; (connection_status() == 0))\n        {\n            print fread($fm, min(1024 * 16, ($end - $cur) + 1));\n            $cur += 1024 * 16;\n        }\n    }\n</code></pre>\n"},{"tags":["php","web-services"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1082,"score":1,"question_id":3068377,"title":"How to pass password text while calling Java CXF webservice from PHP","body":"<p>I have developed my webservice in Java CXF which returns java.util.List. This webservice is password enabled. that means i have used org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor for security purpose.</p>\n\n<p>Now i want to call this webservice from php. but i am not able to do so. Without security settings i am able to access my webservice using nusoap. but when i enabled security feture (interceptor) in webservice, i am getting error like ns1:InvalidSecurity An error was discovered processing the  header</p>\n\n<p>and i am getting response as follows:</p>\n\n<blockquote>\n  <p>HTTP/1.1 500 Internal Server Error\n  Server: Apache-Coyote/1.1\n  Content-Type:\n  text/xml;charset=ISO-8859-1\n  Content-Length: 361 Date: Fri, 18 Jun\n  2010 08:53:54 GMT Connection: close</p>\n  \n  <p>&lt; soap:Envelope\n  xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">&lt;\n  soap:Body>&lt; soap:Fault>&lt; faultcode\n  xmlns:ns1=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" > ns1:InvalidSecurity&lt; /faultcode>&lt; faultstring>An error was discovered\n  processing the &lt;wsse:Security >\n  header&lt; /faultstring>&lt; /soap:Fault>&lt;\n  /soap:Body></p>\n</blockquote>\n\n<p>any help will be appriciated\nthanks in advance\nDarpan Desai</p>\n"},{"tags":["php","authentication","active-directory","ldap","trust"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":3888,"score":3,"question_id":6609692,"title":"How to bind to AD server in PHP with credentials from trusted domain?","body":"<p>We have several AD servers with established forest trust between them, so Windows users from different domains are able to get access to restricted resources. Suppose we have domainA.com and domainB.com, so any user from the domain domainB.com can login to resource on domainA.com. For security reasons anonymous access to LDAP servers is disabled by administrators.</p>\n\n<p>Now we need to list all users from all LDAP servers in our PHP code with the help of OpenLDAP client. Below is PHP code to get info about all users from domainB.com</p>\n\n<pre><code>define('USER', 'user@domainA.com'); // User from domainA.com here\n$ldap = ldap_connect('domainB.com') or die('Bad connection');\nldap_set_option($ldap, LDAP_OPT_PROTOCOL_VERSION, 3);\nldap_set_option($ldap, LDAP_OPT_REFERRALS, 0);\nldap_bind($ldap, USER, PASS) or die('Cannot bind');\n</code></pre>\n\n<p>My script dies with message \"Cannot bind\" with ldap error \"49 Invalid credentials\". Additional info from AD: <br>\n80090308: LdapErr: DSID-0C0903A9, comment: AcceptSecurityContext error, data 52e, v1db1 </p>\n\n<p>I think that the problem is with simple authentication mechanism, because when I use GSS Negotiate authentication in the Ldap Administrator client with the same credentials for user@domainA.com everything is ok. </p>\n\n<p>What can I do to make successful bind on domainB.com with credentials from user@domainA.com? </p>\n\n<p><strong>UPD1</strong> Authentication with SASL DIGEST-MD5</p>\n\n<pre><code>ldap_sasl_bind ( $ldap, '', $pass, 'DIGEST-MD5', null, 'user@domainA.com');\n</code></pre>\n\n<p>Logs from AD:</p>\n\n<pre>\nThe computer attempted to validate the credentials for an account.\n\nAuthentication Package: WDigest\nLogon Account:  user\nSource Workstation: DOMAINA\nError Code: 0xc000006a\n\nAn account failed to log on.\n\nSubject:\n    Security ID:        NULL SID\n    Account Name:       -\n    Account Domain:     -\n    Logon ID:       0x0\n\nLogon Type:         3\n\nAccount For Which Logon Failed:\n    Security ID:        NULL SID\n    Account Name:       user@domainA.com\n    Account Domain:     domainA.com\n\nFailure Information:\n    Failure Reason:     An Error occured during Logon.\n    Status:         0xc000006d\n    Sub Status:     0xc000006d\n\nProcess Information:\n    Caller Process ID:  0x0\n    Caller Process Name:    -\n\nNetwork Information:\n    Workstation Name:   -\n    Source Network Address: \n    Source Port:        \n\nDetailed Authentication Information:\n    Logon Process:      WDIGEST\n    Authentication Package: WDigest\n    Transited Services: -\n    Package Name (NTLM only):   -\n    Key Length:     0\n\nThis event is generated when a logon request fails. It is generated on the computer where access was attempted.\n\nThe Subject fields indicate the account on the local system which requested the logon. This is most commonly a service such as the Server service, or a local process such as Winlogon.exe or Services.exe.\n\nThe Logon Type field indicates the kind of logon that was requested. The most common types are 2 (interactive) and 3 (network).\n\nThe Process Information fields indicate which account and process on the system requested the logon.\n\nThe Network Information fields indicate where a remote logon request originated. Workstation name is not always available and may be left blank in some cases.\n\nThe authentication information fields provide detailed information about this specific logon request.\n    - Transited services indicate which intermediate services have participated in this logon request.\n    - Package name indicates which sub-protocol was used among the NTLM protocols.\n</pre>\n"},{"tags":["php","mysql","pagination"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13254772,"title":"Php pagination based on values in column","body":"<p>I hope this question isn't a dup. I've been looking at pagnation with php but what I've seen is based on the total number of entries and a fixed amount of records on each page. How can I use pagination based on the values that appear in a particular column? </p>\n\n<p>So for example <code>SELECT answers, name FROM table</code></p>\n\n<p>Lets say there are 5 <code>answers</code> to choose from and I want to use pagnation for each <code>answer</code>.\nNot all the answers have the same amount of records allocated to them.</p>\n\n<p>This would obviously just return 5 pages of similar amount records:</p>\n\n<pre><code>$per_page = 5; \n$sql = \"SELECT answer, name FROM table\";\n$result = mysql_query($sql);\n$count = mysql_num_rows($result);\n$pages = ceil($count/$per_page)\n\n//Pagination Numbers\nfor($i=1; $i&lt;=$pages; $i++)\n{\necho '&lt;li id=\"'.$i.'\"&gt;'.$i.'&lt;/li&gt;';\n}\n</code></pre>\n"},{"tags":["php","string","random"],"answer_count":7,"favorite_count":4,"up_vote_count":16,"down_vote_count":1,"view_count":12268,"score":15,"question_id":4356289,"title":"PHP random string generator","body":"<p>I'm trying to create a randomized string in PHP, and I get absolutely no output with this:</p>\n\n<pre><code>&lt;?php\n    Function RandomString()\n    {\n    $characters = ’0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ’;\n    $randstring = '';\n    for ($i = 0; $i &lt; 10; $i++) \n        {\n            $randstring = $characters[rand(0, strlen($characters))];\n        }\n    return $randstring;\n    }\n    RandomString();\n    echo $randstring; ?&gt;\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["php","html","sql","sharepoint","web"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13254863,"title":"Query Sharepoint for Table presentation on Web","body":"<p>I already have the ability to use PHP to send SQL queries to a connected Access file and display the output on a website.</p>\n\n<p>I need to implement automation so:</p>\n\n<p>Instead of exporting the Access file every time and overwriting the old file manually in the web dir, I would like to connect to and query the sharepoint directly.</p>\n\n<p>This way, every time the site was loaded/refreshed, it would be grabbing the latest data from the sharepoint.</p>\n\n<p>Is there any way to do this or is there a better meathod?</p>\n"},{"tags":["php","caching","memcached","redis","apc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13255676,"title":"What are the strengths of each caching solution in PHP?","body":"<p>I am building a rest API for a database full of news articles, and I want to cache the database query results from my PHP application instead of querying the database more than once per minute.</p>\n\n<p>The options I'm looking at are APC, memcached, and Redis. What are the strengths and weaknesses of each of those options, and which would be best for this type of work? Is there a better solution than those 3?</p>\n"},{"tags":["php","concatenation","openoffice-writer","odt"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":13255354,"title":"Concatenation open office file in php","body":"<p>I am working on a project where we use php to manipulate <code>.odt</code> files with the library <code>odtphp</code>.</p>\n\n<p>I would like to know if I can concatenate <code>.odt</code> files in php with this library.</p>\n"},{"tags":["php","captcha"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13255065,"title":"Same code, different outcome. Why?","body":"<p>I have created a Captcha image to use on various forms. It works fine in one are creating a row of letters that when entered correctly send the information to the correct email. </p>\n\n<p>However when I cut and paste the exact same code the image creates numbers that cannot be read and therefore the form cannot be sent. I cannot for the life of me see why this would be?</p>\n\n<p>Or at least prevent numbers form appearing?</p>\n\n<p>Thanks very much in advance for any help</p>\n\n<p>Code below:</p>\n\n<pre><code>    &lt;?php session_start();\n  // Set some important CAPTCHA constants\n\ndefine('CAPTCHA_NUMCHARS', 6);   \ndefine('CAPTCHA_WIDTH', 100);    \ndefine('CAPTCHA_HEIGHT', 25);   \n\n// Generate the random pass-phrase\n$pass_phrase = \"\";\nfor ($i = 0; $i &lt; CAPTCHA_NUMCHARS; $i++) {\n$pass_phrase .= chr(rand(97, 122));\n  }\n\n // Store the encrypted pass-phrase in a session variable\n $_SESSION['pass_phrase'] = SHA1($pass_phrase);\n\n// Create the image\n$img = imagecreatetruecolor(CAPTCHA_WIDTH, CAPTCHA_HEIGHT);\n// Set a white background with black text and gray graphics\n\n$bg_color = imagecolorallocate($img, 255, 255, 255);     // white\n$text_color = imagecolorallocate($img, 0, 0, 0);         // black\n$graphic_color = imagecolorallocate($img, 64, 64, 64);   // dark gray\n\n // Fill the background\n  imagefilledrectangle($img, 0, 0, CAPTCHA_WIDTH, CAPTCHA_HEIGHT, $bg_color);\n // Draw some random lines\n\nfor ($i = 0; $i &lt; 5; $i++) {\n    imageline($img, 0, rand() % CAPTCHA_HEIGHT, CAPTCHA_WIDTH, rand() % CAPTCHA_HEIGHT, $graphic_color);\n  }\n // Sprinkle in some random dots\n\nfor ($i = 0; $i &lt; 50; $i++) {\n    imagesetpixel($img, rand() % CAPTCHA_WIDTH, rand() % CAPTCHA_HEIGHT, $graphic_color);\n  }\n// Draw the pass-phrase string\n\n  imagettftext($img, 18, 0, 5, CAPTCHA_HEIGHT - 5, $text_color, 'Courier New Bold.ttf', $pass_phrase);\n// Output the image as a PNG using a header\n\nheader(\"Content-type: image/png\");\n  imagepng($img);\n\n\n  // Clean up\n\nimagedestroy($img);\n\n?&gt;\n</code></pre>\n"},{"tags":["php","image"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":30,"score":-3,"question_id":13255417,"title":"Is there size limit for the function imagefill()?","body":"<p>I used imagefill() function to change the colour of an image.When I tried an image with size 151573 bytes,it worked fine.But when I tried another image of size 402472 bytes,its not working. Is this the size problem or is it any thing else ?</p>\n\n<pre><code>$imgname = \"sample.png\";\n$im = imagecreatefrompng (\"convert.png\");\n$background = imagecolorallocate($im, 255, 0, 0);\nimagefill($im, 2, 2, $background);\nheader(\"content-type: image/png\");\nimagepng($im,$imgname);\n</code></pre>\n"},{"tags":["php","google","joomla","recaptcha","zoo"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13248690,"title":"How to add Google Recaptcha for Zoo comments on Joomla1.5?","body":"<p>I want to add Captcha for the comments of my site. Because im getting lots of spam mails. Is there any way of using reCaptcha for Zoo comments ?   Is it possible to it using Google RECAPTCHA ? please advice</p>\n"},{"tags":["php","search","search-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":11854818,"title":"Website Search Engine non mysql","body":"<p>I am wondering what would be a good way to do a search engine. The person who asked me to create it does not use MySQL but wants their pages to be searchable. Sadly enough, yes they are still creating static pages, so what is the best way to go about creating a search engine?</p>\n\n<p>Is there a way to list the sites and use get_meta_tags in php to look for keywords they have added for the page?</p>\n"},{"tags":["php","sorting"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13255380,"title":"pass argument into sort function","body":"<p>I am using a uasort function like this:</p>\n\n<pre><code>uasort($entity_list, 'sortArray');\n\nfunction sortArray($a, $b) {\n  if($a['fixed_column_name'] == $b['fixed_column_name']) {\n      return 0;\n  }\n\n  return ($a['fixed_column_name'] &lt; $b['fixed_column_name']) ? -1 : 1;\n}\n</code></pre>\n\n<p>I would like to pass a parameter to the sortArray function, like this:</p>\n\n<pre><code>uasort($entity_list, 'sortArray($arg)');\n\nfunction sortArray($a, $b, $arg) {\n\n  $larg = $arg;\n\n  if($a[$larg] == $b[$larg]) {\n      return 0;\n  }\n\n  return ($a[$larg] &lt; $b[$larg]) ? -1 : 1;\n}\n</code></pre>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":13,"score":1,"question_id":13241981,"title":"PHP - bindtextdomain stops working on certain pages of localised Website","body":"<p>I am hoping someone can help me with this issue. My website is localised into German, French, Spanish and English. Everything seems to work correctly but during testing and often sporadic, the localised text does not appear and except the string codes appear. The variable $language is been set correctly as the images are language specific and they are always displaying.</p>\n\n<p>The code I am using is as follows:</p>\n\n<pre><code>// I18N support information here\nputenv(\"LANG=\" . $language); \nsetlocale(LC_ALL, $language);\n\n// Set the text domain as \"messages\"\n$domain = \"messages\";\nbindtextdomain($domain, \"./locale\"); \nbind_textdomain_codeset($domain, 'UTF-8');\n\ntextdomain($domain);\n</code></pre>\n\n<p>The one thing I do seem to notices is this issue only occurs in pages of format:\n<a href=\"http://mydomain.com/product/product_name.php\" rel=\"nofollow\">http://mydomain.com/product/product_name.php</a>\nIt always works in pages of format <a href=\"http://mydomain.com/page.php\" rel=\"nofollow\">http://mydomain.com/page.php</a></p>\n\n<p>Can anyone help or even give me details on how I could debug</p>\n"},{"tags":["php","mysql","html5","time"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13254343,"title":"HTML5 input time from 24 hour to 12 hour","body":"<p>I have an HTML5 that uses an <code>&lt;input&gt;</code> tag with <code>type\"time\"</code> which submits into MySQL using PHP. The problem is, the <code>\"time\"</code> is using a 24 hour format <code>00:00:00</code> which doesn't make sense to the end user. </p>\n\n<p>I want to be able to have the user enter it in 12 hour format and also have it display on a separate page where the results are posted from MySQL in a 12 hour format. </p>\n\n<p>What's the easiest way to do this? It's a website that keeps track of when a customer walks in and leaves the lab. So being able to subtract those results is crucial. What I have right now (the 24 hour format) works just fine for our purposes (and subtracts to display total time spent) but the 24 hour format is an issue which if solved could be very useful to us. </p>\n"},{"tags":["php","file-upload","multiple-files"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2016,"score":1,"question_id":9531856,"title":"Uploading multiple images with one input field","body":"<p>i have created a photography website with an admin page that uploads photos to different categories in a mysql table. This much works, but i can only upload one file at a time and i'd like to be able to select multiple images.</p>\n\n<p>Here's the form</p>\n\n<pre><code>&lt;form action=\"index.php\" enctype=\"multipart/form-data\" name=\"myForm\" id=\"myForm\" method=\"post\"&gt;\n\n    &lt;select name=\"category\" id=\"category\"&gt;\n        &lt;option value=\"Nature\"&gt;Nature&lt;/option&gt;\n        &lt;option value=\"People\"&gt;People&lt;/option&gt;\n        &lt;option value=\"Abstract\"&gt;Abstract&lt;/option&gt;\n    &lt;/select&gt;\n\n    &lt;input type=\"file\" name=\"fileField\" id=\"fileField\" /&gt;\n\n    &lt;input type=\"submit\" name=\"submit\" id=\"submit\" value=\"Add Images\" /&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>And here's the php for parsing the form</p>\n\n<pre><code>if (isset($_POST['submit'])) {\n\n$category = mysql_real_escape_string($_POST['category']);\n// Add this product into the database now\n$sql = mysql_query(\"INSERT INTO images (category, date_added) \n    VALUES('$category',now())\") or die (mysql_error());\n\n\n $pid = mysql_insert_id();\n// Place image in the folder \n$newname = \"$pid.jpg\";\nmove_uploaded_file( $_FILES['fileField']['tmp_name'], \"../photos/$newname\");\nheader(\"location: thumbnail_generator.php\"); \nexit();\n}\n</code></pre>\n\n<p>I looked into the html5 file input method, and as far as i can tell, i can change the input as folllows:</p>\n\n<pre><code>&lt;input type=\"file\" name=\"fileField[]\" id=\"fileField\" multiple=\"multiple\"/&gt;\n</code></pre>\n\n<p>This allows me to select multiple files on the site, but i can't figure out how to implement this into my php. Any help would be much appreciated.</p>\n"},{"tags":["php","script","runtime-error"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12893364,"title":"php : Error 500 : premature end of script headers when executing loop in a script","body":"<p>I'm running in a very disturbing  \"error 500\"  when running a gradient descent algorithm in a php script on a ~50x25 matrices.</p>\n\n<p>If I set the number of iterations of the gradient to a very small number (&lt;3), it works fine. But if I increase it to 4 iterations , it starts throwing an error 500 (premature end of script headers) almost all the time. If the number of iterations is greater then 4, then it never works. I've checked the script memory consumption and it's lesser than 3MB so it should be fine on this side. </p>\n\n<p>The script is hosted on a shared server (OVH), so it may use too much CPU for the server or executing too many requests, but the problem is that I don't have any idea of how to know where the problem comes from. I've read many posts (here or on other forums) about this type of errors, and about the number of requests allowed for a script that could be the cause of it, so I added <code>ini_set('pm.max_requests', 0);</code> at the beginning of the script but nothing changed.</p>\n\n<p>My PHP knowledge is very limited, so I am ready to hear any piece of advice youu have to get rid of this error ! :D</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["php","arrays","null"],"answer_count":8,"favorite_count":5,"up_vote_count":27,"down_vote_count":0,"view_count":17970,"score":27,"question_id":3654295,"title":"Remove empty array elements","body":"<p>Some elements in my array are empty based on what the user has entered. I need to remove these elements. This is my code to do so:</p>\n\n<pre><code>// Remove empty elements\nforeach($linksArray as $link)\n{\n    if($links == '')\n    {\n        unset($link);\n    }\n}\nprint_r($linksArray);\n</code></pre>\n\n<p>But it doesn't work, <code>$linksArray</code> still has empty elements. I have also tried doing it with the <code>empty()</code> function but the outcome is the same.</p>\n\n<p>Any help is appreciated, thanks.</p>\n"},{"tags":["php","post","get","string-comparison"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":46,"score":-2,"question_id":13255225,"title":"compare values from @$_GET and @$_POST","body":"<p>I need to compare the two variables, one comes through <code>@$_GET</code> and the other via <code>@$_POST</code>.\nWhen I echo the two variables before the if, identical string values are shown. But it doesn't enter inside if.</p>\n\n<pre><code>$member_no = @$_GET['member_no'];\n$mem_no = @$_POST['txt_mem_no']; \n\nif (strcasecmp ( $member_no, $mem_no )== 0) {\n    echo $member_no;\n    echo $mem_no;\n}\n</code></pre>\n\n<p>Any help pls?</p>\n"},{"tags":["php","sql"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":27,"score":0,"question_id":13254743,"title":"Session variable not being stored","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8028957/warning-headers-already-sent-in-php\">“Warning: Headers already sent” in PHP</a>  </p>\n</blockquote>\n\n\n\n<p>Why does this not work? I expect to see whatever is input into the text box in first.php displayed back out in test.php.</p>\n\n<pre><code>    &lt;html&gt;\n&lt;body&gt;\n&lt;form action=\"test.php\"&gt;\nTest: &lt;input type=\"text\" name=\"test\" /&gt;\n&lt;br&gt; &lt;input type=\"submit\" name=\"submit\" /&gt;\n    &lt;?php\n    session_start();\n    $_SESSION['test'] = $_POST['test'];\n    ?&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is test.php</p>\n\n<pre><code>    &lt;?php\n    session_start();\n    $check = $_SESSION['test'];\n    echo $check; \n    ?&gt;\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13254947,"title":"Ajax array to PHP equals null","body":"<p>I have this ajax form, which at the end I have the values in an array. the code is below..but i keep getting null in my php response for these items. I think  I am doing this .ajax call wrong, any ideas would be greatly helpful. I also dont know what to write in the success section of the .ajax call. is that what I am missing? Please have a look below:</p>\n\n<pre><code>$('#submit_third').click(function(){\n    //update progress bar\n    $('#progress_text').html('100% Complete');\n    $('#progress').css('width','339px');\n    //prepare the fourth step\n\n   var fields = new Array(\n        $('#usernameReg').val(),\n        $('#passwordReg').val(),\n        $('#email').val(),\n        $('#firstname').val(), \n        $('#lastname').val(),\n        $('#city').val(),\n        $('#phone').val(),\n        categoryResult,\n        $(\"#msg\").val()                     \n    );\n\n    var tr = $('#fourth_step tr');\n    tr.each(function(){\n        //alert( fields[$(this).index()] )\n        $(this).children('td:nth-child(2)').html(fields[$(this).index()]);\n    });\n\n\n    //slide steps\n    $('#third_step').fadeOut(1000);\n    $('#fourth_step').delay(1000).fadeIn(1000);          \n\n    $('#submit_fourth').click(function(){\n        //send information to server\n        console.log(fields);\n       $.ajax({\n            type: \"POST\",\n            data: 'fields',\n            dataType: 'json',\n            url: \"php/postEngine.php\",\n            success: function(html){\n\n            }\n        });\n\n\n    });     \n});\n</code></pre>\n\n<p>php info (i am using flourish:\n    \n\n<pre><code>include_once($_SERVER['DOCUMENT_ROOT'] . '/../inc/init.php');\ninclude_once($_SERVER['DOCUMENT_ROOT'] . '/dev/form_data.php');\ninclude_once($_SERVER['DOCUMENT_ROOT'] . '/dev/db_handling.php');\nini_set('display_errors', 'On');\ntry {\n\n    $tbl_user   =   'tbl_users';\n\n    $statement = $db-&gt;prepare(\"INSERT INTO $tbl_user \n        (username,\n        email,\n        firstname,\n        lastname,\n        city,\n        phone)\n        VALUES \n        (%s,\n        %s,\n        %s,\n        %s,\n        %s,\n        %s\n        )\"\n    );\n\n    $db-&gt;query($statement,\n        $un,\n        $email,\n        $firstname,\n        $lastname,\n        $city,\n        $phone\n        );\n\n    //  Update of Email_Replied to 1\n\n    //$db-&gt;execute(\"UPDATE accommodation SET Email_Replied = '1' WHERE ID = %i\", $user_id); \n\n} catch (Exception $e) {\n    echo $error_msg;\n    echo $un;\n    echo $email;\n    echo $firstname;\n    echo $lastname;\n    echo $city;\n    echo $phone;\n    echo json_encode($un);\n    $error_msg = 'An error occured on postEngine.php';\n\n}\n</code></pre>\n\n<p>?> \n     \n\n<pre><code>$un         =   fRequest::get('fields[0]');\n$email      =   fRequest::get('fields[2]');\n$firstname  =   fRequest::get('fields[3]');\n$lastname   =   fRequest::get('fields[4]');\n$city       =   fRequest::get('fields[5]');\n$phone      =   fRequest::get('fields[6]');\n</code></pre>\n\n<p>?></p>\n"},{"tags":["php","oop","foreach","stdclass"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":29,"score":-3,"question_id":13254357,"title":"access stdClass object in foreach and count in PHP","body":"<p>First my result of my array ...print_r($result);</p>\n\n<pre><code>Array ( \n\n[0] =&gt; stdClass Object ( [session_id] =&gt; oriuoueh1fildk3toom5ielum2 [fe_id] =&gt; 6 [fe_tag] =&gt; AS )\n\n[1] =&gt; stdClass Object ( [session_id] =&gt; 5qrel2o4ssj49356g5tbcfhrs4 [fe_id] =&gt; 5 [fe_tag] =&gt; FR ) \n\n[2] =&gt; stdClass Object ( [session_id] =&gt; 5q45f0uro7597f34oe84kdnil2 [fe_id] =&gt; 2 [fe_tag] =&gt; TO )\n\n[3] =&gt; stdClass Object ( [session_id] =&gt; 5q45f0uro7597f34oe84kdnil2 [fe_id] =&gt; 8 [fe_tag] =&gt; SE ) ) \n</code></pre>\n\n<p>how can i access to fe_id with foreach?</p>\n\n<pre><code>        foreach($result as $key =&gt; $sub) {\n            $test = $key-&gt;ref_id;\n            $result = count($key['ref_id']);\n            print_r($key[0]-&gt;fe_id);\n        }\n</code></pre>\n\n<p>print_r($key); is only working....</p>\n\n<p>my second goal is to count all fe_id's inside the array...for this example the result is 4 </p>\n\n<p>$result = count($key['fe_id']);</p>\n\n<p>thx for any help!</p>\n"},{"tags":["php","mysql","mysql-select-db"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13253912,"title":"how i can put (dash or underscore) between words in (select php,mysql)?","body":"<p>i have selected some rows from mysql</p>\n\n<p>and i want put underscore between the words</p>\n\n<p>like this :</p>\n\n<pre><code>&lt;?php\n$query='SELECT * FROM subcates WHERE maincates_id=1';\n$result=mysql_query($query);\nwhile($row=mysql_fetch_array($result, MYSQL_ASSOC)){\n    echo \"&lt;li&gt;&lt;a href='\".$row['name'].\".php?c=\".$row['id'].\"&amp;gov=1&amp;h=1'&gt;\".$row['name'].\"&lt;/a&gt;&lt;/li&gt;\";    \n}\n?&gt;\n</code></pre>\n\n<p>i want when select the name give me this :</p>\n\n<p>in <code>database ==&gt; first second</code> </p>\n\n<p>i want it when <code>selected ==&gt; first_second</code></p>\n\n<p>thx</p>\n"},{"tags":["php","unit-testing","phpunit"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":13254411,"title":"How would I unit test a method with side effects?","body":"<p>Given the following implementation:</p>\n\n<pre><code>class Foo {\n    public function helper() {\n        // Does something with external side effects, like updating\n        // a database or altering the file system.\n    }\n\n    public function bar() {\n        if ($this-&gt;helper() === FALSE) {\n            throw new Exception(/* ... */);\n        }\n    }\n}\n</code></pre>\n\n<p>How would I unit test <code>Foo::bar()</code> without incurring the side effects of <code>Foo::helper()</code> during testing?</p>\n\n<p>I know I can mock <code>Foo</code> and stub <code>Foo::helper()</code>:</p>\n\n<pre><code>public function testGoodBar() {\n    $mock = $this-&gt;getMock('Foo', array('helper'));\n    $this-&gt;expects($this-&gt;once())\n        -&gt;method('helper')\n        -&gt;will($this-&gt;returnValue(TRUE));\n\n    $this-&gt;assertTrue($mock-&gt;bar());\n}\n</code></pre>\n\n<p>...but this leaves the test wide open for code changes that introduce other methods which may have side effects.  Then if the test is run again without being updated, the test itself will have permanent side effects.</p>\n\n<p>I could also mock <code>Foo</code>, such that all its methods get mocked and won't produce side effects:</p>\n\n<pre><code>public function testGoodBar() {\n    $mock = $this-&gt;getMock('Foo');\n    $this-&gt;expects($this-&gt;once())\n        -&gt;method('helper')\n        -&gt;will($this-&gt;returnValue(TRUE));\n\n    $this-&gt;assertTrue($mock-&gt;bar());\n}\n</code></pre>\n\n<p>...but then even <code>Foo::bar()</code> gets mocked, which is bad, since that's the method we want to test.</p>\n\n<p>The only solution I could come up with is explicitly mocking all methods <em>except</em> the one under test:</p>\n\n<pre><code>public function testGoodBar() {\n    $mock = $this-&gt;getMock('Foo', array_diff(\n        get_class_methods('Foo'),\n        'bar'\n    ));\n\n    $this-&gt;expects($this-&gt;once())\n        -&gt;method('helper')\n        -&gt;will($this-&gt;returnValue(TRUE));\n\n    $this-&gt;assertTrue($mock-&gt;bar());\n}\n</code></pre>\n\n<p>...but this seems kludgy, and I feel like I'm missing something obvious.</p>\n"},{"tags":["php","arrays","is-empty"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13255102,"title":"Check if there are any array values set PHP","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5844518/check-if-an-array-have-one-or-more-empty-values\">check if an array have one or more empty values</a>  </p>\n</blockquote>\n\n\n\n<p>What's the best/easiest way to check if an array has any values set? I set the keys myself, no matter what so I can't go based on the keys. My code will show what I'm doing, and want to do:</p>\n\n<pre><code> $array = array(\n                \"Birthday\" =&gt; $row3['birthday'],\n                \"Sex\" =&gt; $row3['sex'],\n                \"Lives In\" =&gt; $row3['livesIn']\n            );\n    if(empty($array))\n    {\n        foreach($array as $key =&gt; $value)\n        {\n            if($value)\n            {       \n                echo \"&lt;tr&gt;&lt;td&gt;\".$key.\"&lt;/td&gt;&lt;td&gt;\".$value.\"&lt;/td&gt;&lt;/tr&gt;\";   \n            }\n        }\n    }\n    else\n    {\n        echo \"This user has not provided any information yet\";  \n    }\n</code></pre>\n\n<p>So, for instance, if <code>$row3['birthday']</code>, <code>$row3['sex']</code>, <code>$row3['livesIn']</code> are all empty, then it should render the first if statement as false, and move to the else statement. </p>\n"},{"tags":["php","sql-server","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13208569,"title":"PDO_MSSQL and SQL Server 7","body":"<p>I have problem with establish connection with sql server 7 on different server using PDO/PHP. All works perfect on win 2003 32 bit/apache/php5.2.5 but I receive server not found when service is on win 2008R2 64bit/apache/php5.2.5. User/password are correct, firewall configured.</p>\n\n<p>I check, that PHP don't use 1433 port but try connect with 445 and 139 ports.</p>\n\n<p>Any idea?</p>\n\n<p>Stefan</p>\n"},{"tags":["php","regex","preg-replace","forward-slash"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13254868,"title":"Preg_replace with regex and forward slash","body":"<p>Here is the code:</p>\n\n<pre><code>$string = \"/My-Item-Here-p/sb-p36abbg.htm\";\n$str = preg_replace('/^.*-p\\s*/', '', $string);\n$str = substr($str, 1);\necho $str;\n</code></pre>\n\n<p>This spits out <code>6abbg.htm</code>, I would like to have it to only remove everything before and including the \"-p/\" (note with forward slash).</p>\n\n<p>So I would like it to spit out <code>sb-p36abbg.htm</code></p>\n"},{"tags":["php","arrays","json","associative"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13254948,"title":"PHP associative array syntax with JSON","body":"<p>this is a two part question. First, I have code to make a call to <code>graph.facebook.com</code> with parameters that the user can enter. This returns a json when called. </p>\n\n<p><strong>The code is below:</strong></p>\n\n<pre><code>$RAW_DATA = json_decode(file_get_contents($URL_FINAL));\n</code></pre>\n\n<p>If I go to the URL in my browser everything is fairly organized but if I use a <code>var_dump()</code> it looks like there are extra fields not shown in the browser, is there something wrong with my decoding or is it <code>var_dump()</code> showing things that I don't see on my browser?</p>\n\n<p>Second, after retrieving the JSON trying to access the subfields of data within it have proven to be problem.  </p>\n\n<p><strong>For example:</strong></p>\n\n<pre><code>     {\n   \"data\": [\n      {\n         \"id\": \"11111111_111111111\",\n         \"from\": {\n            \"name\": \"John\",\n            \"id\": \"111111111\"\n         },\n         \"story\": \"John shared We Are Change's photo.\",\n         \"picture\": \"http://photos-e.ak.fbcdn.net/hphotos-ak-prn1/35552_10151311513538690_352701444_s.jpg\",\n         \"link\": \"http://www.facebook.com/photo.php?fbid=10151311513538690&amp;set=a.10150159213018690.338979.86518833689&amp;type=1\",\n         \"name\": \"Timeline Photos\",\n         \"caption\": \"Happy election day everybody!\",\n         \"properties\": [\n            {\n               \"name\": \"By\",\n               \"text\": \"We Are Change\",\n               \"href\": \"http://www.facebook.com/WeAreChange.org?ref=stream\"\n            }\n         ] \n}\n</code></pre>\n\n<p>This is what the URL returns, how would I pull just the 'story' from this?</p>\n\n<p>I have tried several different syntax styles but the only one that returns anything is <code>$RAW_DATA-&gt;{'data'};</code> and this just prints 'Array'. As soon as I try to go into the next layer I can't get anything to print.</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13254296,"title":"ajax split panel examples","body":"<p>Can anyone suggest a good tutorial or framework for ajax/php split panels. The idea is to create 2 panels and in panel 1 have a menu which when clicked opens content in panel 2. I have spent ages trying to find examples on google, but no luck. Thank you.</p>\n"},{"tags":["php","html"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13254477,"title":"execute .exe file from local website","body":"<p>I'm making an application in html/php to serve as an information (touch) panel for clients of the camping I work at. The website will be hosted only on the local machine with no web access to it trough XAMPP for windows (the computer is running windows XP)</p>\n\n<p>So I need to add a button that opens an external application that allows clients to turn on the electricity for their camping pitches. They can then close the external application and they will be retuned to the website (web app or whatever you want to call it) which is running in the background on fullscreen mode (you know, when you press F11 in your browser)</p>\n\n<p>Is this at all possible? if so, how?</p>\n"},{"tags":["php","facebook","facebook-graph-api","facebook-php-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13254769,"title":"Get Facebook access token without user authorization","body":"<p>is it possible to get access token without user authorization with PHP? I need user access token to get photos from Facebook fan page:</p>\n\n<pre><code>$photoQuery = urlencode('SELECT pid,src_big,src_small,caption,link,position FROM photo WHERE aid = \"'.$albumId.'\"');    \n$photoFQL = 'https://api.facebook.com/method/fql.query?query='.$photoQuery .'&amp;access_token='.$access_token.'&amp;format=xml';   \n$photoResults = file_get_contents($photoFQL);   \n</code></pre>\n\n<p>With user authorization it worked perfectly well, but without it I don't know how to get right access token. I've tried to get it like this: </p>\n\n<pre><code>$url = 'https://graph.facebook.com/oauth/access_token?client_id=xxx&amp;client_secret=xxx&amp;grant_type=client_credentials';\n$x = curl_setopt($ch, CURLOPT_URL, $url);       \n$accessToken = curl_exec($ch);\ncurl_close($ch);\n</code></pre>\n\n<p>So actually I get the access token, but its not working with photos retrieve. Maybe the problem is that Facebook fan page is alcohol related so its not possible to get correct token without authorization or maybe Im doing something wrong.   </p>\n\n<p>So any ideas?</p>\n"},{"tags":["php","mysql",".htaccess","url","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13249846,"title":"Solved friendly URL in php? with other pages readmore in htaccess","body":"<p><strong>Hey There I Have 2 pages in selecting data from mysql frist page readmore.php to get posts with url from table posts sec page categories.php to get data  with caturl from table categories</strong>\nreadmore.php in htaccess \n        RewriteEngine On</p>\n\n<pre><code>    RewriteRule ^([a-zA-Z0-9-/]+).html$ readmore.php?url=$1\n    RewriteRule ^([a-zA-Z0-9-/]+).html/$ readmore.php?url=$1\n</code></pre>\n\n<p>categories.php in htaccess \n        RewriteEngine On</p>\n\n<pre><code>    RewriteRule ^([a-zA-Z0-9-/]+).html$ categories.php?caturl=$1\n    RewriteRule ^([a-zA-Z0-9-/]+).html/$ categories.php?caturl=$1\n</code></pre>\n\n<p><strong>My problem located when get caturl htaccess redirect me to readmore.php but i want redirect to categories.php !!</strong> </p>\n"},{"tags":["php","css","wordpress","drop-down-menu","wordpress-theming"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":13254581,"title":"want to create menu in wordpress using wordpress admin section","body":"<p>I am a php programmer and new to wordpress. I have been assigned with the task to create a menu that can be added or removed from wordpress admin. Right now in this web site <a href=\"http://atms.com.au/testing/\" rel=\"nofollow\">http://atms.com.au/testing/</a> the menu is hard codded into the templates. But i want to use wordpress default menu function wp_nav_menu and the menu should look exactly like this. But trying for the whole day i cannot figure how to make the menu using wp_nav_menu and look exactly like the menu item currently having in this site. I can make the menu using wp_nav_menu but the menu is looking like a mess and not like this.\nI need help in this matter. Please help if anyone knows how to do it.\nThanks\nSomdeb</p>\n"}]}
{"total":298830,"page":19,"pagesize":100,"questions":[{"tags":["php","mysql","loops"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13254968,"title":"Need unique url but require non unique information from other columns","body":"<p>I am making a review system and I need to be able to only select the DISTINCT url from the database, but then pull the relevant page title and rating time. I have managed to get it working by using:</p>\n\n<pre><code>`&lt;?php\n#opens conection\ninclude 'conn.php';\necho $_COOKIE[\"search\"];\n$sql = \"SELECT * FROM feedback WHERE url LIKE '%$_COOKIE[search]%' GROUP BY url ORDER   BY ratingtime DESC\";\n#runs the query\n$query = mysql_query($sql);\n$linecount = 1;\n#populates the table with the information\necho '&lt;table id=\"myTable\" class=\"tablesorter\"&gt;';\necho'&lt;thead&gt;\n    &lt;tr class =\"null\"&gt;\n      &lt;th&gt;URL&lt;/th&gt;\n      &lt;th&gt;Page Title&lt;/th&gt;\n      &lt;th&gt;Date Last Modified&lt;/th&gt;\n      &lt;th&gt;Average Rating&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;';\necho '&lt;tbody&gt;';\necho '&lt;tr&gt;';\nwhile($row = mysql_fetch_array($query))\n  {\n        echo '&lt;td class=\"overFlow\"&gt;&lt;a href=\"extra_info.php?url='.$row['url'].'\"&gt;' .$row['url']. '&lt;/a&gt;&lt;/td&gt;';\n        echo '&lt;td&gt;&lt;a href=\"extra_info.php?url='.$row['url'].'\"&gt;' . $row['pagetitle'] . '&lt;/a&gt;&lt;/td&gt;';\n        echo '&lt;td&gt;' . $row['ratingtime'] . '&lt;/td&gt;';\n        $check = mysql_query(\"SELECT `rating` FROM feedback WHERE url = '$row[url]'\");\n        $totalvotes = mysql_num_rows($check);\n        $result = mysql_query(\"SELECT SUM(rating) AS 'rating_total' FROM feedback WHERE url = '$row[url]'\") or die(mysql_error());\n        $row = mysql_fetch_assoc($result);\n        $add = $row['rating_total'];\n        $average = $add / $totalvotes;\n        echo '&lt;td&gt;' .round($average, 2). '&lt;/td&gt;';\n        echo '&lt;/tr&gt;';\n        $linecount++;\n  }\necho '&lt;/tbody&gt;';\necho \"&lt;/table&gt;\";\n?&gt;`\n</code></pre>\n\n<p>I just wondered if there was a much better way to go about doing this? \nI am a complete noob when it come to php so if you provide any advice could you please provide evidence/documentation so that I can read up on it and learn.</p>\n"},{"tags":["php","wordpress","while-loop","sql-order-by"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":39,"score":-3,"question_id":13254544,"title":"Why does \"ORDER BY\" not work with 2 nested while-loops?","body":"<p>Why does \"ORDER BY\" not work with 2 nested while-loops? It's always showing me the 3 images from the db in same order.. :(</p>\n\n<pre><code>while ($ids_row = mysql_fetch_array($ids)) {\n    $postImg = mysql_query(\"\n      SELECT    *\n      FROM      wp_posts\n      WHERE     post_type = 'attachment'\n      AND       post_parent = '\" . $ids_row[\"object_id\"] . \"'\n      AND       post_status = 'inherit'\n      ORDER BY  ID ASC\");\n    while ($postImgOutput = mysql_fetch_array($postImg)) {\n        echo '&lt;img src=\"' . utf8_encode($postImgOutput[\"guid\"]) . '\" width=\"316px\"' . '&gt;';\n    }\n}\n</code></pre>\n"},{"tags":["php","javascript","jquery","mysql","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":44,"score":-6,"question_id":13246124,"title":"What javascript engine/lib should i use?","body":"<p>i m going to create a dating web site. it's online game. there are will at first registration, chat and the game, where people can ask question and random users (3 boys to 3 girls) answer on each other at real time.</p>\n\n<p>at the end, people, if they want, they can choose a man.</p>\n\n<p>so, i know very good html, php, mysql. A little js, ajax, jQuery.\nwhat engine and how should i start to make this project?</p>\n\n<p>i read about Ajax Push Engine. Should i use it or search something else, another technology? Or maybe just write site on clear jQuery and mysql?</p>\n"},{"tags":["php","mysql","sql","table","mysql-num-rows"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":36,"score":-4,"question_id":13254860,"title":"PHP/MYSQL mysql_num_row() error","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3698740/mysql-num-rows-supplied-argument-is-not-a-valid-mysql-result-resource\">mysql_num_rows(): supplied argument is not a valid MySQL result resource</a>  </p>\n</blockquote>\n\n\n\n<pre><code>$actcheck = \"SELECT * FROM users WHERE username='$username' AND password='$password' AND  = activated = '1'\";\n$query2 = mysql_query($actcheck);\n$count2 = mysql_num_rows($query2);\nif(!($count2==1)){\necho \"You have not activated\";\nexit();\n}\n</code></pre>\n\n<p><strong>Warning: mysql_num_rows(): supplied argument is not a valid MySQL result resource</strong>\nAny help?</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13254216,"title":"executing jquery code from php","body":"<pre><code>$(\"#bt-potrdi\").click( function(e) {    \n        e.stopPropagation();        \n        $(\"#belina\").css({\"z-index\":200}); $(\"body\").addClass(\"ext\");\n        $(\"#vpisok_frame\").css({\"z-index\":250}).fadeIn(200);        \n    });\n</code></pre>\n\n<p>when i click on button this jquery code is executed and works fine. Can i execute this code without click event?</p>\n\n<p>I want to execute this code from php when some data is executed successfully like for example</p>\n\n<pre><code>if ($ok) {\n?&gt;\n//execude ajax code\ne.stopPropagation();        \n            $(\"#belina\").css({\"z-index\":200}); $(\"body\").addClass(\"ext\");\n            $(\"#vpisok_frame\").css({\"z-index\":250}).fadeIn(200);    \n&lt;?php\n}\n</code></pre>\n\n<p>is this possible? PHP is server side code so i didn't find any good example if this is possible</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13254643,"title":"uploading image to image folder with unique name","body":"<p>This is my image uploading page. what i want is lil bit edition. I want image name look like (folder) image/userid_time.jpg</p>\n\n<p>so i want to upload image to image folder,</p>\n\n<p>and i want all image have new name or we can say unique name.</p>\n\n<p>any adition in this please.</p>\n\n<pre><code>&lt;?php // upload2.php\necho &lt;&lt;&lt;_END\n&lt;html&gt;&lt;head&gt;&lt;title&gt;PHP Form Upload&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n&lt;form method='post' action='upload2.php' enctype='multipart/form-data'&gt;\nSelect a JPG, GIF, PNG or TIF File:\n&lt;input type='file' name='filename' size='10' /&gt;\n&lt;input type='submit' value='Upload' /&gt;&lt;/form&gt;\n_END;\nif ($_FILES) {\n    $name = $_FILES['filename']['name'];\n    switch ($_FILES['filename']['type']) {\n        case 'image/jpeg':\n            $ext = 'jpg';\n            break;\n        case 'image/gif':\n            $ext = 'gif';\n            break;\n        case 'image/png':\n            $ext = 'png';\n            break;\n        case 'image/tiff':\n            $ext = 'tif';\n            break;\n        default:\n            $ext = '';\n            break;\n    }\n    if ($ext) {\n        $n = \"image.$ext\";\n        move_uploaded_file($_FILES['filename']['tmp_name'], $n);\n        echo \"Uploaded image '$name' as '$n':&lt;br /&gt;\";\n        echo \"&lt;img src='$n' /&gt;\";\n    } else\n        echo \"'$name' is not an accepted image file\";\n} else\n    echo \"No image has been uploaded\";\necho \"&lt;/body&gt;&lt;/html&gt;\";\n?&gt;\n</code></pre>\n\n<p><strong>Thanks :)</strong></p>\n"},{"tags":["php","mysql","sql"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13254694,"title":"insert into with select","body":"<p>hello I would like to insert the values ​​in a column from a select query</p>\n\n<pre><code>insert into (cmts) stat_alert \nvalues(SELECT stat_alert.cell,stat_alert.cmts,cell_cmt.cmts FROM stat_alert`LEFT OUTER JOIN cell_cmt ON cell_cmt.`cell`=stat_alert.cell WHERE stat_alert.`cell`=cell_cmt.cell )\n</code></pre>\n\n<p>I have syntax error\nwho can help me??</p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13254176,"title":"PHP MySqlI meaningless error message. What ever could it be?","body":"<p>Fatal error: Call to a member function bind_param() on a non-object in myFile.php on line 47</p>\n\n<pre><code>45 $statement = $con-&gt;prepare('call aProcedure(?,?,?)');\n46 $statement-&gt;bind_param(\"sss\", $str1, $str1, $str1);\n47 $statement-&gt;execute();\n</code></pre>\n\n<p>Why?</p>\n\n<p>PS: It works on my local system (F€#%\"#€ i hate to say that)\nThe procedure executes successfully on both my local system and in production via. MySQL Workbench. Just refuses to run in production from PHP</p>\n"},{"tags":["php","click","mouse","capture"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":25,"score":2,"question_id":13254845,"title":"capture mouse click in php","body":"<p>I am developing a website where I have come across a problem. The thing is, the user has to select one image out of the 3 images that I am displaying. \nHow to capture that click and store that particular clicked image in the database? \nMy sql is the dB.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","mysql","forms","encryption","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13253928,"title":"Field Encryption in Joomla Using RSForm Pro and SSL","body":"<p>A client has an online job application form that will be collecting social security numbers for a background check. Right now we are using RSForm Pro and Joomla 1.5. I have it set up so that the form is using SSL and the ssn field is a password field (not that it really does anything), but there is no encryption on the database side. I checked with RSJoomla (the maker of RSForm) and they said there is no default capability for this. I looked at the way the database is set up, and it's a bit odd.</p>\n\n<p>My question is this- is anyone familiar with how RSForm works enough to tell me where to begin trying to encrypt/decrypt a particular field (or all of them, if that's easier)?</p>\n\n<p>And how is the best way to go about this? From what I've gathered I should use AES and probably some salt.</p>\n"},{"tags":["php","mysql","column"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":33,"score":-1,"question_id":13254677,"title":"MySQL Error: Unknown column in 'field list' PHP/MySQL","body":"<p>Hey guys I have a problem with MySQL, i'm trying to insert data in a table but it's returning this error message</p>\n\n<blockquote>\n  <p>Fatal error: SQL: SELECT e.idtarea AS 'idTarea', e.detalle AS 'detalle', e.precio AS 'precio', e.idor AS 'idOrdenReparacion', e.fecha AS 'fecha', concat( 'Editar ', 'Eliminar' ) AS Opciones FROM Tarea e WHERE e.idtarea like '%%' ORDER BY e.idtarea;, Error: Unknown column 'e.idor' in 'field list' in /opt/lampp/htdocs/scep/tareas.php on line 76 </p>\n</blockquote>\n\n<p><strong>Here is my code:</strong></p>\n\n<pre><code>$SQL=\"\n\n  SELECT \n    e.idtarea AS 'idTarea', \n    e.detalle AS 'detalle', \n    e.precio AS 'precio', \n    e.idor AS 'idOrdenReparacion', \n    e.fecha AS 'fecha', \n    concat('&lt;a href=\\'editarTarea.php?id=',e.idtarea,'\\'&gt;Editar&lt;/a&gt;&amp;nbsp;','&lt;a href=\\'eliminarTarea.php?id=',e.idtarea,'\\' onclick=javascript:confirm(\\'Eliminar?&gt;\\')&gt;Eliminar &lt;/a&gt;') AS Opciones \n  FROM Tarea e \".$FILTRAR_POR.\" \n  ORDER BY e.idtarea;\";\n\n  $RESULT = mysql_query($SQL) or trigger_error(\"SQL: $SQL, Error: \" . mysql_error(), E_USER_ERROR); \n</code></pre>\n\n<p><strong>Table Tarea from database:</strong></p>\n\n<pre><code>  CREATE TABLE IF NOT EXISTS `Tarea` (\n   `idTarea` int(11) NOT NULL AUTO_INCREMENT,\n   `detalle` varchar(45) COLLATE latin1_danish_ci DEFAULT NULL,\n   `precio` varchar(45) COLLATE latin1_danish_ci DEFAULT NULL,\n   `idOrdenReparacion` int(11) NOT NULL DEFAULT '0',\n   `fecha` date DEFAULT NULL,\n   PRIMARY KEY (`idTarea`,`idOrdenReparacion`),\n   KEY `fk_Tarea_OrdenReparacion1_idx` (`idOrdenReparacion`)\n  ) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_danish_ci AUTO_INCREMENT=2 ;\n\n.....\n\n  ALTER TABLE `Tarea`\n  ADD CONSTRAINT `fk_Tarea_OrdenReparacion1` FOREIGN KEY (`idOrdenReparacion`) \n  REFERENCES `OrdenReparacion` (`idOrdenReparacion`) ON DELETE NO ACTION ON UPDATE NO ACTION; \n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["php","forms","variables","redirect","passing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13251801,"title":"Passing php variables before redirection","body":"<p>The task:</p>\n\n<ul>\n<li>I want to pass a input variable (lets call it $email) from a form (form action = page2.php) with post method from page1.php to page3.php</li>\n</ul>\n\n<p>The description:</p>\n\n<ul>\n<li>Form action goes to page2.php, which then redirects to page3.php instantly. page2.php is just tons of php executions that processes the form from page1.php.</li>\n</ul>\n\n<p>The problem:</p>\n\n<ul>\n<li>I get the variable on page2.php but before anything is done with $email, the page redirects to page3.php and i lose the data. I tried making a form on page2.php that posts the data onward with autosubmission, but it doesnt work. I tried to put the form on top of page2.php and sleep the rest of the code for a small amount of time, but it doesent work. I tried to execute the other part of the code in an if statement <code>if($_SERVER['REQUEST_METHOD'] == \"POST\")</code> and it didnt work either.</li>\n</ul>\n\n<p>The code:</p>\n\n<ul>\n<li><p>Nothing special about the code really. page1.php contains a form, page2.php contains some includes which then redirects and page3.php is the landing page.</p></li>\n<li><p>page1.php:</p>\n\n<pre><code>&lt;form action=\"page2.php\" method=\"POST\" id=\"form1\"&gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;E-Mail:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"email\" id=\"email\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;input id=\"submitBtn\" style=\"margin-left: 120px;\"&gt;\n&lt;/table&gt; \n&lt;/form&gt;\n</code></pre></li>\n</ul>\n\n<p>The summary: </p>\n\n<ul>\n<li>Basicaly im looking for something, that would pass the $email variable from page2.php to page3.php before redirection.</li>\n</ul>\n\n<p><em><strong></em>* UPDATE <em>*</em></strong>\nI have been struggeling with this for 2 straight days, now i accualy stumbled across a solution. If anyone has the same problem or is wondering, what i did was, i used $_SESSION.</p>\n\n<p>On page2.php where the form was directed i used this code on top of the page:</p>\n\n<pre><code>$var_value = $_POST['email'];\n$_SESSION['varname'] = $var_value;\n</code></pre>\n\n<p>On page3.php i then called the session variable like this:</p>\n\n<pre><code>$var_value = $_SESSION['varname'];\necho $var_value;\n</code></pre>\n"},{"tags":["php","math"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":49,"score":-2,"question_id":13254321,"title":"PHP Calculate Math Function by Variable","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4216858/php-calculate-a-math-function-fx-in-a-string\">PHP: Calculate a math function f(x) in a string</a>  </p>\n</blockquote>\n\n\n\n<p>please anyone help me to solve a math function,\nfor example i want to solve 3x+2y+4z\nthe value of the variable should be declared in php,\nlike $x=4, $y=2, $z=1\ni know that there is <a href=\"http://stackoverflow.com/questions/4216858/php-calculate-a-math-function-fx-in-a-string\">PHP: Calculate a math function f(x) in a string</a> ,\nbut is there any simple method ?</p>\n"},{"tags":["php","mysql","orm","fuelphp"],"answer_count":3,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":157,"score":7,"question_id":12096268,"title":"FuelPHP update of ORM results in &quot; instead of \" sporadically","body":"<p>I'm using PHP 5.4.4 and I'm getting very strange behavior with the FuelPHP ORM save and update functions.</p>\n\n<p>I'm trying to save either serialized or JSON data to a field in the database so something like <code>{\"name\":\"michael\"}</code>. When I use the <code>model-&gt;save()</code> directly after <code>Model::forge()</code> it seems to work fine 100% of the time and the string you see is the one that gets stored in the MySQL db.</p>\n\n<p>However, if I immediately change something like model->property = 'new property' (not the JSON or serialized data property) and then do another <code>model-&gt;save()</code> it will 90% of the time turn all my <code>\"</code> into <code>&amp;quot</code>;</p>\n\n<p>It seems that when I debug the issue and step through line by line, it will not reproduce this problem! It will make through the entire script and still have the correct <code>\"</code> instead of <code>&amp;quot</code>;</p>\n\n<p>This problem is driving me nuts. I would assume its a configuration thing or there would be a lot more complaints, but I can't find the right switch. I've set both \n<code>php_flag magic_quotes_gpc Off</code> and <code>php_flag magic_quotes_runtime Off</code> in my .htaccess (although it shouldn't be needed in PHP 5.4+) and verified that both are false.</p>\n\n<p>I'm out of ideas here. Anything to investigate would be really helpful.</p>\n"},{"tags":["php","regex","string","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13254190,"title":"PHP / Regex: Check if string was copy pasted","body":"<p>I am trying to write a validation function for strings where I want to check if the string is a copy+paste work.</p>\n\n<p>Background:</p>\n\n<p>We have a CMS where the user can enter description texts with a minimum of - for example - 200 Chars. A lot of user write too short texts and get the \"you have to use more then 200 letters\" error message.\nTo avoid this, they copy paste the text or some dummy strings like \"AAAAA\" to reach the limit.</p>\n\n<p>I am looking now for an function / methode / regex to detect such copy+paste strings and prevent them by showing a message. </p>\n\n<p>I know that there is no 100% solution to prevent dummy texts, but we want to reduce it a little bit. Any ideas?</p>\n"},{"tags":["php","amazon-web-services","nosql","amazon-dynamodb"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":113,"score":2,"question_id":12276588,"title":"What is the best way to check if table exists in DynamoDB?","body":"<p>What is the best way to check if table exists in DynamoDb?</p>\n\n<p>I would appreciate it if the code would be in PHP.</p>\n\n<p>Either active or not.</p>\n\n<p><em>*</em> Added later as an example to various cases for error code 400</p>\n\n<p>It's very easy to check if the table exist, it can have one of the following \nTableStatus => CREATING, ACTIVE, DELETING or UPDATING</p>\n\n<p>but in case i get error 400 it can mean more than one thing.</p>\n\n<p>1) sent null string as a table name by mistake.</p>\n\n<p>[x-aws-body] => {\"TableName\":\"\"}\n        )</p>\n\n<pre><code>[body] =&gt; CFSimpleXML Object\n    (\n        [__type] =&gt; com.amazon.coral.validate#ValidationException\n        [message] =&gt; The paramater 'tableName' must be at least 3 characters long and at most 255 characters long\n    )\n\n[status] =&gt; 400\n</code></pre>\n\n<p>2) syntax error in the command sent to DynamoDB, for example writting tabel_name instead of table_name.</p>\n\n<p>[x-aws-body] => {\"TabelName\":\"test7\"}\n        )</p>\n\n<pre><code>[body] =&gt; CFSimpleXML Object\n    (\n        [__type] =&gt; com.amazon.coral.validate#ValidationException\n        [message] =&gt; The paramater 'tableName' is required but was not present in the request\n    )\n\n[status] =&gt; 400\n</code></pre>\n\n<p>3) I would guess but didn't check, if I exceed at that same time the provisioned capacity on the table.</p>\n"},{"tags":["php","zend-framework","dependency-injection"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13254616,"title":"Zend Framework: Dependency injection into action helpers","body":"<p>I'm trying to work out the best way to inject property values into classes that extend <code>Zend_Controller_Action_Helper_Abstract</code>. Basically, when <code>Zend_Controller_Action_HelperBroker</code> instantiates a new helper, I want to be able to use a DI class that I've written on the newly created helper.</p>\n\n<p>This might not be the best way to get services into my helpers but I don't want to access the Symfony service container resource (created in <code>Bootstrap</code>) directly from <code>Zend_Registry</code> to maintain dependency injection / IoC, aid testing etc. Any other ideas are very welcome.</p>\n\n<p>Since <code>HelperBroker::_loadHelper</code> is protected I thought about extending that class but it is instantiated directly in the constructor of <code>Zend_Controller_Action</code> so cannot be externally specified (in ini, bootstrap nor a plugin).</p>\n\n<p>Any thoughts?</p>\n"},{"tags":["php","cookies","smf-forum"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13199340,"title":"Setting cookies other than standard","body":"<p>I am trying to modify a theme template to set some new cookies with php. My code works on a non-SMF test page but it stops the page from loading when I put it into the index.template.php file.</p>\n\n<p>The cookies are set in php and the whole code basically attempts to get the POST data from a new form on the page. </p>\n\n<p>As I mentioned, on a simple test page I can put my php code above the  HTML and it works fine.</p>\n\n<p>Is there something special about the way SMF handles cookies?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13254383,"title":"Passing input field form value to php script that should return that value and javascript to alert it end up with null","body":"<p>So, I have a form with one input text field(search_term) and a submit button.</p>\n\n<p>What I'm trying to do is type in a keyword into the input text field, press Submit, the keyword gets sent to a php script that will json_encode it and send it back to the form page where an alert box should appear and show the keyword.</p>\n\n<p>Instead I keep getting <code>null</code> shown in the alert box after pressing the submit.</p>\n\n<p>PHP script works fine if I actually type it out in the url with keyword passed too:</p>\n\n<p><code>localhost/filter.php?search_term=hey</code></p>\n\n<p><strong>JavaScript</strong> to submit the form and get the value back asynchroniously(<em>without reloading the page</em>):</p>\n\n<pre><code>$('#filter_form').on('submit', function(e){\n                    var filtered_data = null;\n\n                    e.preventDefault();\n\n\n                    $.ajax({\n                        type: 'GET',\n                        dataType: 'json',\n                        url: 'filter.php',\n                        async: false,\n                        success: function(json)\n                        {\n                            filtered_data = json;\n                        }\n                    });\n\n                    alert(filtered_data);\n                });\n</code></pre>\n\n<p><strong>filter.php</strong>:</p>\n\n<pre><code>$search_term = $_GET['search_term'];\n    echo json_encode($search_term);\n</code></pre>\n"},{"tags":["php","html","smarty"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13254316,"title":"Smarty conditional inside a tag","body":"<p>I want to create an attribute in a an  just if a condition applies. Say I have a condition in a var like this: $mycondition.</p>\n\n<p>I am trying to do:</p>\n\n<pre><code>&lt;a {if $mycondition} attribute = \"test\" {{/if}} href=\"...\"&gt;link&lt;/a&gt;\n</code></pre>\n\n<p>How would I do this?</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13254459,"title":"How to turn JSON to object literal using PHP and jquery","body":"<p>Is there a concise neat way to turn an XML feed into an JavaScript object literal?</p>\n\n<p>I have this XML feed</p>\n\n<pre><code>&lt;jobs&gt;\n    &lt;industry&gt;\n        &lt;name&gt;Technology&lt;/name&gt;\n        &lt;area&gt;Refrigiration&lt;/area&gt;\n        &lt;area&gt;Information Technology&lt;/area&gt;\n        &lt;area&gt;Electronics&lt;/area&gt;\n        &lt;area&gt;Avionics&lt;/area&gt;\n    &lt;/industry&gt;\n\n    &lt;industry&gt;\n        &lt;name&gt;Agriculture&lt;/name&gt;\n        &lt;area&gt;Agri-Tourism&lt;/area&gt;\n        &lt;area&gt;Animal Husbandry&lt;/area&gt;\n        &lt;area&gt;Harvesting&lt;/area&gt;\n        &lt;area&gt;Poultry&lt;/area&gt;\n    &lt;/industry&gt;\n&lt;/jobs&gt;\n</code></pre>\n\n<p>and wish to turn it to:</p>\n\n<pre><code>var jobs = [\n    {\n        \"name\"  : \"Technology\",\n        \"areas\" : [ \"Refrigiration\" , \"Information Technology\", \"Electronics\", \"Avionics\" ]\n    },\n\n    {\n        \"name\"  : \"Agriculture\",\n        \"areas\" : [ \"Agri-Tourism\" , \"Animal Husbandry\", \"Harvesting\", \"Poultry\" ]      \n    },\n\n    {\n        \"name\"  : \"Media\",\n        \"areas\" : [ \"Journalism\" , \"Camera person\", \"Reality tv person\", \"Commentator\" ]        \n    }       \n];\n</code></pre>\n\n<p>I succeeded in encoding the JSON object using php. What I am missing is the rest.</p>\n"},{"tags":["php","mysql","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13254377,"title":"mysql select where in array (php, mysql)","body":"<p>Lets say i have an array in my mysql row:</p>\n\n<pre><code>a:3:{i:1;a:3:{i:0;s:1:\"1\";i:1;s:1:\"3\";i:2;s:1:\"5\";}i:4;a:3:{i:0;s:2:\"21\";i:1;s:2:\"25\";i:2;s:2:\"29\";}i:5;a:1:{i:0;s:2:\"33\";}}\n</code></pre>\n\n<p>It looks like this:</p>\n\n<pre><code>Array\n(\n    [1] =&gt; Array\n        (\n            [0] =&gt; 1\n            [1] =&gt; 3\n            [2] =&gt; 5\n        )\n\n    [4] =&gt; Array\n        (\n            [0] =&gt; 21\n            [1] =&gt; 25\n            [2] =&gt; 29\n        )\n\n    [5] =&gt; Array\n        (\n            [0] =&gt; 33\n        )\n\n)\n</code></pre>\n\n<p>Now, i am passing an array through _GET and i want to print out all rows that contain same values both in my mysql and passed array. For example, if i pass this array:</p>\n\n<pre><code>    Array\n    (\n        [1] =&gt; Array\n            (\n                [0] =&gt; 5\n            )\n)\n</code></pre>\n\n<p>A result should be shown, because my passed array contains option 5. I tried to do it like this:</p>\n\n<pre><code>$pecul = serialize($array);\n$q=mysql_query(\"SELECT id from table WHERE options like '%$pecul%'\")or die(mysql_error());\n</code></pre>\n\n<p>but it only prints out results with identical arrays. </p>\n"},{"tags":["c#","php","asp.net","iis"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13254155,"title":"Run PHP file inside ASP.NET MVC 4 application on IIS 7?","body":"<p>I have one payment gateway that has only php api. Is it possible to run that script inside my IIS server on application that will run MVC4?</p>\n\n<p>When I add <code>1.php</code> to my root folder and try to navigate it it shows <code>HTTP Error 404.3 - Not Found</code>.</p>\n"},{"tags":["php","base64","gz"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":25,"score":-3,"question_id":13254527,"title":"How to view PHP code that is Base64 encoded and GZInflated?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6907581/is-there-a-way-to-decode-this-php-code\">Is there a way to decode this PHP code?</a><br>\n  <a href=\"http://stackoverflow.com/questions/8612892/what-does-this-encoded-string-say-and-how-did-you-find-out\">What does this encoded string say, and how did you find out?</a>  </p>\n</blockquote>\n\n\n\n<p>So my client bought a Wordpress template and requires changes in what comes with the template. I figured out in which file the modifications need to be done, however the code in that file looks as follows: </p>\n\n<pre><code>&lt;?php eval(gzinflate(base64_decode('[a bunch of alphanumerical values here'))); ?&gt;\n</code></pre>\n\n<p>As I understand, this code is rendered on the spot, its encoded and compressed. However, I need to do modifications in there, so how would I go about obtaining an editable file out of that code?</p>\n\n<p>If you care to know how I know it's the file that I need to edit, the translation file points to that file at a specific line to affect the copy.</p>\n"},{"tags":["php","mysql","date","time"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":47,"score":-2,"question_id":13254037,"title":"Calculate difference beween two dates in hours and minutes","body":"<p>I use this code to calculate difference between two dates in hours and minutes :</p>\n\n<pre><code>$all = round(($date1timestamp - $date2timestamp) / 60);\n$d = floor ($all / 1440);\n$h = floor (($all - $d * 1440) / 60);\n$m = $all - ($d * 1440) - ($h * 60);\n</code></pre>\n\n<p>Works perfectly but when I must multiple times to calculate difference between dates I must write code again and change values is there any simple way to calculate multiple times without rewrite code again ??</p>\n"},{"tags":["php","unicode","encoding","character-encoding"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2522,"score":1,"question_id":9351694,"title":"Setting PHP default encoding to utf-8?","body":"<p>All,</p>\n\n<p>In the \"PHP Cookbook\", they say (p.589) that to properly set the char encoding of outgoing data to utf-8 it is necessary to edit the <code>default_encoding</code> configuration to utf-8.</p>\n\n<p>However, I cannot find this configuration in <code>php.ini</code>.  Should I simply add a line that would say <code>default_encoding = \"utf-8\"</code> ?</p>\n\n<p>I do have a <code>;default_charset = \"iso-8859-1\"</code> .  As you can see (<code>;</code>), right now it is not activated.  Should I remove the semi-colon and set it to <code>\"utf-8\"</code>?  Does that take care of the default encoding?</p>\n\n<p>I also found other encoding directives that I don't know what to do about:</p>\n\n<pre><code>[iconv]\n;iconv.input_encoding = ISO-8859-1\n;iconv.internal_encoding = ISO-8859-1\n;iconv.output_encoding = ISO-8859-1\n...\n; http://php.net/exif.encode-unicode\n;exif.encode_unicode = ISO-8859-15\n...\n;mssql.charset = \"ISO-8859-1\"\n...\n;exif.encode_unicode = ISO-8859-15\n</code></pre>\n\n<p>Is there any reason why I shouldn't simply replace them all with <code>utf-8</code>?</p>\n"},{"tags":["php","html","apache","webserver","mamp"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":2,"view_count":39,"score":0,"question_id":13253989,"title":"MAMP - Apache showing source code HTML and PHP pages","body":"<p>I am trying to install Apache on my Mac (OSX 10.8.2). </p>\n\n<p>I am using MAMP, it runs, but whenever I try to view a page (html or php) other than the phpinfo.php, I only see the source code.</p>\n\n<p>There are no errors in the log file.</p>\n\n<p>I have also tried with the pre-installed webserver, same result.\nSame for XAMP.</p>\n"},{"tags":["php","loops","while-loop"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":288,"score":0,"question_id":9340555,"title":"PHP loop through days of months and months of years","body":"<p>I'm trying to build a simple calendar and to get the output with nested whiles but it seems not to work and I'm getting a \"PHP limit resouce reached\" error. In \"my own logic\" I can't see what's wrong, hehe. Does anyone can point where is my mistake?</p>\n\n<pre><code>//Starting month\n$mes = '2012-01-01';\n//Counter months\n$m = 1;\n//LOOP month\nwhile($m &lt;= 12){\n  //Variables days\n  $data = $mes;\n  //Counter days\n  $x = 1;\n  //LOOP days\n  while($x &lt;= 31){\n    echo \"$data\";\n    //adding one day\n    $data = strtotime(\"$data + 1 days\");\n    $data = date(\"Y-m-d\",$data);\n    ++$x;\n  }\n  //adding one month\n  $mes = strtotime(\"$mes + 1 month\");\n  $mes = date(\"Y-m-d\",$mes);\n  ++$m;\n}\n</code></pre>\n\n<p><em><strong></em>**<em>*</em>**<em>*</em>***<em></strong> EDIT :</em>* </p>\n\n<p>Sorry guys, the code ACTUALLY works, and I run in a JOOMLA problem instead.</p>\n\n<p>The solution for who uses Joomla and get this same error is:</p>\n\n<ul>\n<li>goes to configuration.php in your site root;</li>\n<li>insert last row (after '}') the comand</li>\n</ul>\n\n<p>ini_set('pcre.backtrack_limit', -1);</p>\n\n<p>Thanks a lot</p>\n"},{"tags":["php","html","http"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":13223000,"title":"Web navigation in regards to using the back button","body":"<p>I've tried to research the problem, but have had no luck finding out how to handle this. Can anyone point me in the right direction please?</p>\n\n<p>Consider I have three scripts to work with: homepage.php, list.php, form.php.</p>\n\n<p>Conceptually, from the homepage, the user will indicate that they want to view a list. The user can then click on elements of the list, to bring up a form allowing them to alter attributes of the list item. The user submits the form and is returned back to the list, so that they can continue to view the list and make changes to the list items if needed.</p>\n\n<p>Now here is the problem, when the user hits back a this point, I want them to return to the homepage, since they are currently viewing the list, and in the context of the web app, going backwards at this point should return the user to the homepage. Instead, if they hit back they go back to the form (PRG is used so no problems with double post), and then back to the list, and then back to the homepage.</p>\n\n<p><strong>Currently what happens:</strong></p>\n\n<ul>\n<li>openbrowser   -> Get homepage.php</li>\n<li>homepage.php  -> GET list.php</li>\n<li>list.php      -> GET form.php</li>\n<li>form.php      -> PRG (POST to form.php, Redirect back to list.php)</li>\n<li>list.php      -> user hits back, GET form.php</li>\n<li>form.php      -> user hits back, GET list.php</li>\n<li>list.php      -> user hits back, GET homepage.php</li>\n</ul>\n\n<p><strong>What I want to happen, but don't know how:</strong></p>\n\n<ul>\n<li>openbrowser   -> Get homepage.php</li>\n<li>homepage.php  -> GET list.php</li>\n<li>list.php      -> GET form.php</li>\n<li>form.php      -> PRG (POST to form.php, Redirect back to list.php)</li>\n<li>list.php      -> user hits back, GET homepage.php</li>\n</ul>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13252936,"title":"group exact Tandem values from 2 column?","body":"<p>I have a table with 2 column latitude and longitude and want to GROUP exact match <em>(just)</em> <strong>tandem</strong> values on 2 columns.<br>\n<strong><em>Table Rows:</em></strong></p>\n\n<pre><code>/* Points Table */\ntime    |lat    |long\n113     |2.1    |5.8\n114     |2.1    |5.6    -Set as Group\n115     |2.1    |5.6    -Set as Group\n116     |2.1    |5.6    -Set as Group\n117     |2.1    |5.6    -Set as Group\n118     |2.3    |5.2\n119     |2.4    |5.3\n120     |2.5    |5.3    -Set as Group\n121     |2.5    |5.3    -Set as Group\n122     |2.6    |5.3\n123     |2.1    |5.6    -Set as Group\n201     |2.1    |5.6    -Set as Group\n202     |2.1    |5.6    -Set as Group\n203     |2.5    |5.3\n</code></pre>\n\n<p><em><strong>Result must be:</em></strong></p>\n\n<pre><code>/* Points Table */\ntime    |lat    |long\n113     |2.1    |5.8\n114     |2.1    |5.6    -Grouped as 1 with first tandem time\n118     |2.3    |5.2\n119     |2.4    |5.3\n120     |2.5    |5.3    -Grouped as 1 with first tandem time\n122     |2.6    |5.3\n123     |2.1    |5.6    -Grouped as 1 with first tandem time\n203     |2.5    |5.3\n</code></pre>\n\n<p>I want to group just Tandem values , in above we have two time tandem of <code>2.1 &amp; 5.6</code> values and group is splited. ( for testing can work on <a href=\"http://sqlfiddle.com/#!2/5d196\" rel=\"nofollow\">http://sqlfiddle.com/#!2/5d196</a> ). ;)</p>\n"},{"tags":["php","soap","wsdl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1622,"score":3,"question_id":7109610,"title":"PHP / jQuery/AJAX + POST SOAP request with authentication","body":"<p>I was looking for way to perform form (post) request with SOAP using jQuery/AJAX.</p>\n\n<p>I have found following solution for jQuery/AJAX SOAP request with ColdFusion background.</p>\n\n<p><strong><a href=\"http://www.bennadel.com/blog/1853-Posting-XML-SOAP-Requests-With-jQuery.htm\" rel=\"nofollow\">Posting XML SOAP Requests With jQuery</a></strong></p>\n\n<p><strong>Anyone know how to implement that with PHP?</strong></p>\n\n<p>Please note:</p>\n\n<ul>\n<li>ssl connection will be required</li>\n<li>soap authentication(user &amp; pass) will be required.</li>\n</ul>\n\n<p>Any help/suggestion much appreciated. </p>\n"},{"tags":["php","matrix"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":13,"score":2,"question_id":13254288,"title":"compute the aggregate delta I.C. for all columns","body":"<p>1) Given a matrix of cipher-text, i want to calculate the index of coincidence for each column. I want to compare the cipher-text to itself by stacking as is done in this example from wiki: <a href=\"http://en.wikipedia.org/wiki/Index_of_coincidence#Example\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Index_of_coincidence#Example</a></p>\n\n<p>I already have the PHP for the general delta I.C and i was thinking that all i probably have to do is change a couple things to get it working can someone help me out with this?</p>\n\n<p>2)I already have the separate PHP script for manipulating text into various blocks but not stacking them as in a matrix.  How can i get the  script (in part 1 above) to test for all possible matrices (assuming the matrices are small).</p>\n\n<p>Here's what I've got so far:</p>\n\n<pre><code>&lt;?php\n  $showTable = false;\n  if (isset($_POST['submitx'])) {\n    $showTable = true;\n    $ciphertext = strtoupper($_POST['ciphertext']);\n    // compress out spaces\n    $i = 0;\n    $cols = 10; \n    $cells = 1; \n    $compressed = '';\n    while ( $ciphertext[ $i ])\n    {\n        if (( $ciphertext[ $i ] &gt;= 'A' ) &amp;&amp; ( $ciphertext[ $i ] &lt;= 'Z' ) ) {\n            $compressed .= $ciphertext[ $i ];\n        }\n        $i++;\n    }\n    $inLen = strlen( $compressed );\n\n    // text is now collected without spaces in $compressed\n    $history=array_fill(0,99,0);\n    for ($shift = 1; $shift &lt; 100; $shift++ ) {\n\n        // test coincidence at this shift\n        $coinc = 0;\n        for ( $i = 0; $compressed[ $i + $shift ]; $i++ ) {\n            if ( $compressed[ $i ] == $compressed[ $i + $shift ] ) $coinc++;\n        }\n        $coef = 100.0 * $coinc / ( 3.85 * ($inLen - $shift));\n        $history[ $shift ] = $coef;\n    }\n      for ( $keyLen = 1; $keyLen &lt; 50; $keyLen++ ) {\n        $freqSum = 0.0;\n        $index = $keyLen;\n        $count = 0;\n        while ( $index &lt; 100 ) {\n            // step through the history array by stepsize = keyLen\n            $freqSum += $history[ $index ];\n            $count++;\n            $index += $keyLen;\n        }\n        $freqSum = $freqSum / $count; // average of all the values\n        $history[ $index ] = $freqSum; // put it back for later\n    }\n    }\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":60,"score":-6,"question_id":13254263,"title":"Contact form not working at all","body":"<p>Why isn't my contact form working at all? I'v set up the emails to function and all even though it says \"thanks for contacting us\" after you have tried to send something from the form:/</p>\n\n<p>I took the contact from another coder, which he said was okey and everything. And i changed the emails nothing else to make it \"function\" but it somehow won't function for me... please help me out here guys!</p>\n\n<pre><code>&lt;?PHP\n\nrequire_once(\"./include/fgcontactform.php\");\nrequire_once(\"./include/captcha-creator.php\");\n\n$formproc = new FGContactForm();\n$captcha = new FGCaptchaCreator('scaptcha');\n\n$formproc-&gt;EnableCaptcha($captcha);\n\n//1. Add your email address here.\n//You can add more than one receipients.\n$formproc-&gt;AddRecipient('admin@flextexts'); //&lt;&lt;---Put your email address here\n\n\n//2. For better security. Get a random tring from this link: http://tinyurl.com/randstr\n// and put it here\n$formproc-&gt;SetFormRandomKey('gf07a2Kt5ORGXWz');\n\n//3. Set Conditional field and conditional receipients\n//Update the destination email addresses\n$formproc-&gt;SetConditionalField('query_type');\n$formproc-&gt;AddConditionalReceipent('General','general@flextexts.com');\n$formproc-&gt;AddConditionalReceipent('Sales','sales@flextexts.com');\n$formproc-&gt;AddConditionalReceipent('Billing','billing@flextexts.com');\n$formproc-&gt;AddConditionalReceipent('Technical','technical@flextexts.com');\n$formproc-&gt;AddConditionalReceipent('Buisness','buisness@flextexts.com');\n\nif(isset($_POST['submitted']))\n{\n   if($formproc-&gt;ProcessForm())\n   {\n        $formproc-&gt;RedirectToURL(\"thank-you.php\");\n   }\n}\n\n?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en-US\" lang=\"en-US\"&gt;\n&lt;head&gt;\n      &lt;meta http-equiv='Content-Type' content='text/html; charset=utf-8'/&gt;\n      &lt;title&gt;Flextexts - contact us&lt;/title&gt;\n      &lt;link rel=\"STYLESHEET\" type=\"text/css\" href=\"../css/contact.css\" /&gt;\n      &lt;script type='text/javascript' src='scripts/gen_validatorv31.js'&gt;&lt;/script&gt;\n      &lt;script type='text/javascript' src='scripts/fg_captcha_validator.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;a href=\"../index.html\" &gt;&lt;img src=\"../img/logo2.png\"&gt;&lt;/a&gt;&lt;div style='margin:0px auto; width:600px; text-align:center; margin-top: 100px;'&gt;\n&lt;!-- Form Code Start --&gt;\n&lt;form id='contactus' action='&lt;?php echo $formproc-&gt;GetSelfScript(); ?&gt;' method='post' accept-charset='UTF-8'&gt;\n&lt;fieldset &gt;\n&lt;legend&gt;Contact us&lt;/legend&gt;\n\n&lt;input type='hidden' name='submitted' id='submitted' value='1'/&gt;\n&lt;input type='hidden' name='&lt;?php echo $formproc-&gt;GetFormIDInputName(); ?&gt;' value='&lt;?php echo $formproc-&gt;GetFormIDInputValue(); ?&gt;'/&gt;\n&lt;input type='text'  class='spmhidip' name='&lt;?php echo $formproc-&gt;GetSpamTrapInputName(); ?&gt;' /&gt;\n\n&lt;div class='short_explanation'&gt;* required fields&lt;/div&gt;\n\n&lt;div&gt;&lt;span class='error'&gt;&lt;?php echo $formproc-&gt;GetErrorMessage(); ?&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;div class='container'&gt;\n    &lt;label for='name' &gt;Your Full Name*: &lt;/label&gt;&lt;br/&gt;\n    &lt;input type='text' name='name' id='name' value='&lt;?php echo $formproc-&gt;SafeDisplay('name') ?&gt;' maxlength=\"50\" /&gt;&lt;br/&gt;\n    &lt;span id='contactus_name_errorloc' class='error'&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;div class='container'&gt;\n    &lt;label for='email' &gt;Email Address*:&lt;/label&gt;&lt;br/&gt;\n    &lt;input type='text' name='email' id='email' value='&lt;?php echo $formproc-&gt;SafeDisplay('email') ?&gt;' maxlength=\"50\" /&gt;&lt;br/&gt;\n    &lt;span id='contactus_email_errorloc' class='error'&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;div class='container'&gt;\n    &lt;label for='query_type' &gt;Query Type:&lt;/label&gt;&lt;br/&gt;\n    &lt;select name='query_type'&gt;\n        &lt;option&gt;General&lt;/option&gt;\n        &lt;option&gt;Sales&lt;/option&gt;\n        &lt;option&gt;Billing&lt;/option&gt;\n        &lt;option&gt;Technical&lt;/option&gt;\n        &lt;option&gt;Buisness&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;span id='contactus_email_errorloc' class='error'&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;div class='container'&gt;\n    &lt;label for='message' &gt;Message:&lt;/label&gt;&lt;br/&gt;\n    &lt;span id='contactus_message_errorloc' class='error'&gt;&lt;/span&gt;\n    &lt;textarea rows=\"10\" cols=\"50\" name='message' id='message'&gt;&lt;?php echo $formproc-&gt;SafeDisplay('message') ?&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n&lt;div class='container'&gt;\n    &lt;div&gt;&lt;img alt='Captcha image' src='show-captcha.php?rand=1' id='scaptcha_img' /&gt;&lt;/div&gt;\n    &lt;label for='scaptcha' &gt;Enter the code above here:&lt;/label&gt;\n    &lt;input type='text' name='scaptcha' id='scaptcha' maxlength=\"10\" /&gt;&lt;br/&gt;\n    &lt;span id='contactus_scaptcha_errorloc' class='error'&gt;&lt;/span&gt;\n    &lt;div class='short_explanation'&gt;Can't read the image?\n    &lt;a href='javascript: refresh_captcha_img();'&gt;Click here to refresh&lt;/a&gt;.&lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;div class='container'&gt;\n    &lt;input type='submit' name='Submit' value='Submit' /&gt;\n&lt;/div&gt;\n\n&lt;/fieldset&gt;\n&lt;/form&gt;\n\n\n&lt;script type='text/javascript'&gt;\n// &lt;![CDATA[\n\n    var frmvalidator  = new Validator(\"contactus\");\n    frmvalidator.EnableOnPageErrorDisplay();\n    frmvalidator.EnableMsgsTogether();\n    frmvalidator.addValidation(\"name\",\"req\",\"Please provide your name\");\n\n    frmvalidator.addValidation(\"email\",\"req\",\"Please provide your email address\");\n\n    frmvalidator.addValidation(\"email\",\"email\",\"Please provide a valid email address\");\n\n    frmvalidator.addValidation(\"message\",\"maxlen=2048\",\"The message is too long!(more than 2KB!)\");\n\n    frmvalidator.addValidation(\"scaptcha\",\"req\",\"Please enter the code in the image above\");\n\n    document.forms['contactus'].scaptcha.validator\n      = new FG_CaptchaValidator(document.forms['contactus'].scaptcha,\n                    document.images['scaptcha_img']);\n\n    function SCaptcha_Validate()\n    {\n        return document.forms['contactus'].scaptcha.validator.validate();\n    }\n\n    frmvalidator.setAddnlValidationFunction(\"SCaptcha_Validate\");\n\n    function refresh_captcha_img()\n    {\n        var img = document.images['scaptcha_img'];\n        img.src = img.src.substring(0,img.src.lastIndexOf(\"?\")) + \"?rand=\"+Math.random()*1000;\n    }\n\n// ]]&gt;\n&lt;/script&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","codeigniter-url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":487,"score":0,"question_id":4540525,"title":"Codeigniter security check if uri is number, because of pagination","body":"<p>One thing in the security of codeigniter is checking if the uri is a number or something that we expect!\nHere is the code:</p>\n\n<pre><code>$this-&gt;load-&gt;helper('form');\n    $this-&gt;load-&gt;library('pagination');\n    $config['permitted_uri_chars'] = '0-9'; \n    $config['base_url'] = '/member/index';\n    $config['per_page'] = 5;\n    $config['num_links'] = 10;\n    $query_not_voted_rows = \"SELECT p_id FROM photos WHERE p_id NOT IN (SELECT distinct p_id FROM p_votes where u_id = \".$this-&gt;session-&gt;userdata('u_id').\")\";\n    $config['total_rows'] = $this-&gt;db-&gt;query($query_not_voted_rows)-&gt;num_rows();\n    $config['full_tag_open'] = '&lt;div id=\"pagination\"&gt;';\n    $config['full_tag_close'] = '&lt;/div&gt;';\n    $this-&gt;pagination-&gt;initialize($config);\n\n    if($this-&gt;uri-&gt;segment(3) == '')\n    {\n        $segment_url = 0;\n    }else{\n        $segment_url = $this-&gt;uri-&gt;segment(3);\n    }\n    $query_not_voted = \"SELECT * FROM photos WHERE p_id NOT IN (SELECT distinct p_id FROM p_votes where u_id = \".$this-&gt;session-&gt;userdata('u_id').\") LIMIT \".$segment_url.\", \".$config['per_page'];\n</code></pre>\n\n<p>But if now someone enters in uri segment: \"kdkdkdd\", then the sql breaks, because <code>$segment_url</code> is kdkdkdd and not the number!</p>\n\n<p>So the question is, how to escape this?</p>\n"},{"tags":["php","html","mysql","table","spry"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13220897,"title":"display two tables from mysql using php and spry or something similar","body":"<p>I'm trying to display data from two different tables in mysql using php and something like spry.. Originally, I wanted to used spry tabbed panels, but i'm not sure if that's possible. I would want the tab name to be populated from one table and the contents of that tab to be populated from another table. Here's the basic html...</p>\n\n<pre><code>&lt;div id=\"TabbedPanels1\" class=\"TabbedPanels\"&gt;\n  &lt;ul class=\"TabbedPanelsTabGroup\"&gt;\n    &lt;li class=\"TabbedPanelsTab\" tabindex=\"0\"&gt;NAME_1 POPULATED FROM FIRST TABLE&lt;/li&gt;\n    &lt;li class=\"TabbedPanelsTab\" tabindex=\"0\"&gt;NAME_2 POPULATED FROM FIRST TABLE&lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;div class=\"TabbedPanelsContentGroup\"&gt;\n    &lt;div class=\"TabbedPanelsContent\"&gt;\n    &lt;table border=\"0\" cellspacing=\"5\" cellpadding=\"5\"&gt;\n        &lt;tr&gt;\n&lt;!-- CONTENT POPULATED FROM SECOND TABLE!--&gt;\n          &lt;td width=\"450\"&gt;&amp;nbsp;&lt;/td&gt;\n          &lt;td width=\"50\"&gt;&amp;nbsp;&lt;/td&gt;\n          &lt;td width=\"50\"&gt;&amp;nbsp;&lt;/td&gt;\n          &lt;td width=\"50\"&gt;&amp;nbsp;&lt;/td&gt;\n          &lt;td width=\"50\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/table&gt;&lt;/div&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The problem I think I'll have is that I won't be able to connect the tabs with the content. Since the tabs are listed first in the html... then the content. I don't know if this is possible or if there is a better way. Thanks in advance for all of you help</p>\n"},{"tags":["php","javascript","jquery","div","ckeditor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13253506,"title":"ckeditor disappears while refreshing div","body":"<p>I have two pages called openclosediv.php and content.php. In openclosediv.php page I have list of records and a button(show/hide div button) which brings content.php into the  that's placed in openclosediv.php . In content.php page I have a ckeditor whenever I click the button, told above, the first time ckeditor appears however, after the first time whenever I push the button ckeditor does not appear. </p>\n\n<p>Here is the code which shows/hides the div in openclosediv.php :</p>\n\n<pre><code>    function ShowHideDiv(divid)\n    {   \n\n   var block=document.getElementById(divid).style.display;\n   if(block==\"none\")\n   {\n    document.getElementById(divid).style.display=\"block\";\n   }\n   else\n   {\n    document.getElementById(divid).style.display=\"none\";\n   }\n   var data=\"divid=\"+divid;\n   jQuery('#'+divid).showLoading();\n    $.ajax({\n           type: \"POST\",\n           url: \"content.php\",\n           data: data,\n           error: function(){\n           alert('Error while loading!');\n         },\n          success: function(data){\n            jQuery('#'+divid).hideLoading();\n    $('#'+divid).html(data);\n     }\n     });\n   }\n</code></pre>\n\n<p>And here how I creat ckeditor in content.php:</p>\n\n<pre><code>                $ckeditor = new CKEditor();\n                $ckeditor-&gt;basePath  = 'ckeditor/' ;\n                CKFinder::SetupCKEditor( $ckeditor, 'ckfinder/' ) ;\n                $config['height'] = '300';\n        $config['width'] = '700';\n                $initialValue = \"\";\n                $ckeditor-&gt;editor(\"somename\", $initialValue, $config);\n</code></pre>\n\n<p>Thanks in advance. </p>\n"},{"tags":["php","symfony2","doctrine2","symfony-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13253704,"title":"Add Rol in Symfony2","body":"<p>Can I add Rol on the fly in symfony2 on the InteractiveLoginEvent? Or can I put in the security.yml on the access_control definition in <code>roles:</code> a string like this <code>ROLE_INTRANET_*</code>?</p>\n"},{"tags":["php","xml","regex"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13234070,"title":"How to search and delete string in php","body":"<p>I am attempting to use an RSS feed from Twitter (the ones that will be gone a year from now) with Feedburner but a line of code in the xml is causing a parsing error in feedburner. I think it's </p>\n\n<blockquote>\n  <p>xmlns:twitter=\"http://api.twitter.com\" </p>\n</blockquote>\n\n<p>I am looking for a way to give this information to feedburner in a way that it likes: namely php including the contents of the RSS xml page in an xml on my own site (with the offending string removed). Including the xml contents is a piece of cake - all I need is a piece of code to say iff string fragment ==  <code>xmlns:twitter=\"http://api.twitter.com\"</code>  then string frament = \"\". </p>\n\n<p>Anybody any idea of the syntax for this?</p>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13254108,"title":"facebook PHP api stopped working","body":"<p>I'm trying to write an app that will post images the user makes to a user's wall in facebook, it was working until about an hour ago now i'm getting a catch error of \"An active access token must be used to query information about the current user.\". hopefully someone has a quick answer :)</p>\n\n<p>here is my starting PHP that gets the user and checks for the album</p>\n\n<pre><code>&lt;?php\n    include 'src/facebook.php';\n    $facebook = new Facebook(array(\n        'appId' =&gt; ID,\n        'secret' =&gt; SECRET,\n        'cookie' =&gt; true\n        ));\n\n    $me = null;\n    $thisPhoto = null;\n    $album_name = NAME;\n    $album_message = MESSAGE;\n\n    try {\n        $me = $facebook-&gt;api('/me');\n        $facebook-&gt;setFileUploadSupport(true);      \n        // check if album with name exists...if not create it\n        $albums = $facebook-&gt;api('/me/albums');\n        foreach($albums['data'] as $album)  {\n            if($album['name'] == $album_name) {\n                $album_uid = $album['id'];\n                }\n            }\n        if (!$album_uid) {\n            $album_details = array(\n                'message'=&gt; $album_message,\n                'name'=&gt; $album_name\n                );\n            $create_album = $facebook-&gt;api('/me/albums', 'post', $album_details);\n            $album_uid = $create_album['id'] . \"MADE\";\n            }\n        //echo \"&lt;!-- $album_uid --&gt;\\n\";\n        }\n    catch (FacebookApiException $e) {\n        echo \"&lt;!-- \" . $e-&gt;getMessage() . \" --&gt;\\n\";\n        }\n?&gt;\n</code></pre>\n\n<p>This is my main HTML (the above is called before the doctype)</p>\n\n<pre><code>&lt;!doctype&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=utf-8&gt;\n        &lt;title&gt;'TITLE&lt;/title&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\n        &lt;style type=\"text/css\" media=\"screen\"&gt;\n            html, body { width:100%; background-color: #FFF;}\n            body {  margin:0 auto; padding:0; width:760px}\n            #flashContent { width:100%; height:100%; }\n        &lt;/style&gt;\n    &lt;/head&gt;\n&lt;body&gt;\n\n&lt;?php   \n    //print_r($me);\n    //echo $facebook-&gt;getUser();\n    //echo $facebook-&gt;getAccessToken();\n\n    // START\n    if($me) {\n        // true makes print_r give human readable instead of just a screen dump\n        //echo '&lt;pre&gt;' . print_r($VARIABLE, true) . '&lt;/pre&gt;';\n        $appName = NAME.SWF;\n        $appWidth = \"760\";\n        $appHeight = \"640\";\n        $appID = \"stache_yerself\";\n        $appAlt = \"Square Shooters app - 'Stache Yerself\";\n        // ECHOS out HTML used for the APP\n    }\n    else {\n        $loginUrl = $facebook-&gt;getLoginUrl(array('scope' =&gt; 'publish_stream,read_friendlists,user_photos'));\n        echo '&lt;a href=\"' . $loginUrl . '\"&gt;Login&lt;/a&gt;';\n    }\n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The else above gives a link which is there; however, does nothing it just goes to an empty page. I reset the \"secret\" on the app's developer page but didn't help. I have no idea why it just stopped working (did facebook change their code again?). Even the login thing from the HTML section was working before and now...nothing. I'm stumped as to why this just stopped working.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13253629,"title":"How set value of a variable is DBNull?","body":"<p>I had very much columns in a table A:\n  Ex:</p>\n\n<pre><code>temperature character varying(5),\n  atmosphericpressure integer,\n  humidity integer,\n  perceptiondistinction1_cd character varying(6),\n  perceptiondistinction2_cd character varying(6),\n  timeprogress character varying(1),\n  telegramreceived_datetime timestamp without time zone,\n  order_datetime timestamp without time zone,\n  outbreak_datetime timestamp without time zone,\n  locationarrival_datetime timestamp without time zone,\n  touch_datetime timestamp without time zone,\n  insidecar_datetime timestamp without time zone,\n  starting_datetime timestamp without time zone,\n  hospitalarrival_datetime timestamp without time zone,\n  hospitalaccommodate_datetime timestamp without time zone,\n  pulling_datetime timestamp without time zone,\n  return_datetime timestamp without time zone,\n  spotdistance integer,\n  spottohospital integer,\n  returnstationdistance integer,\n  receiveorderplace_cd character varying(6),\n  changehospital1medicalsystem_cd character varying(6),\n  requestorganization_cd character varying(6),\n  changehospital1openincident_cd character varying(6),\n  requestorganizationname character varying(120),\n  doctorfellowpassenger character varying(1),\n  changehospitalreason_cd character varying(6),\n  nottransportation_cd character varying(6),\n  coodinationdoctorcar character varying(6),\n  entrydoctorcarhelicopterrequest_cd character varying(6),\n  entryoperation_cd character varying(6),\n  entrymultiplexcooperation_cd character varying(6),\n  partymember1 integer,\n  ownambulancecount integer,\n  paramedicembarkation_cd character varying(6),\n  paramedicclassication_cd character varying(6),\n  doctoremvarkation_cd character varying(6),\n  preventiongloves character varying(1),\n  preventiongoggles character varying(1),\n  preventionmask character varying(1),\n  preventiongown character varying(1),\n  spotbreathingset character varying(1),\n  carryoxygen character varying(1),\n  carryaspirator character varying(1),\n  carrydefibrillator character varying(1),\n  spotexternalwoundset character varying(1),\n  spotcervicalspine character varying(1),\n  carrybackboard character varying(1),\n  spotstretcher character varying(1),\n  carryother character varying(1),\n  switchingdivision_cd character varying(6),\n  switchingdelivery_cd character varying(6),\n  reportsuddenly character varying(1),\n  reportsnore character varying(1),\n  reportgiddiness character varying(1),\n  reportconsciousness character varying(1),\n  reportconsciousness_cd character varying(6),\n  reportbath character varying(1),\n  reportconvulsion character varying(1),\n  reporttoilet character varying(1),\n  reportindeisposed character varying(1),\n  reportmeal character varying(1),\n  reportentrance character varying(1),\n  reporthematemesis character varying(1),\n  reportheratdisease character varying(1),\n  reportheart character varying(1),\n  reportbreath character varying(1),\n  reportbreath_cd character varying(6),\n  reportvomiting character varying(1),\n  reportrespiratorydscomfort character varying(1),\n  reportpainful character varying(1),\n  reporthurt character varying(1),\n  reportslurring character varying(1),\n  reportsufferingheart character varying(1),\n  reportchestpain character varying(1),\n  reportstomachache character varying(1),\n  reportheadache character varying(1),\n  reportlumbago character varying(1),\n  reportbackache character varying(1),\n  reportconversation character varying(1),\n  reportconversation_cd character varying(6),\n  reportnotstand character varying(1),\n  reporthypoglycemia character varying(1),\n  reportnotexstinghouse character varying(1),\n  reportdrink character varying(1),\n  reporttemperature character varying(1),\n  reportindooroutdoor character varying(1),\n  reportindooroutdoor_cd character varying(6),\n  reportasthma character varying(1),\n  oralinstruction_cd character varying(6),\n  instructionon_cd character varying(6),\n  instructionoff_cd character varying(6),\n  oralguidanceambulanceteam character varying(1),\n  oralguidancedirector character varying(1),\n  oralguidancedirector_cd character varying(6),\n  victimrespiratorysubstance character varying(1),\n  victimnoconsciousness character varying(1),\n  victimnotmove character varying(1),\n  victimchestpain character varying(1),\n  victimdyspnea character varying(1),\n  victimextenalhemorrhage character varying(1),\n  victimother character varying(1),\n  guidancecontetsobservation character varying(1),\n  guidancecontetsposition character varying(1),\n  guidancecontetsairway character varying(1),\n  guidancecontetsremoval character varying(1)\n</code></pre>\n\n<p>With columns integer or timestamp if values is '' will been error when insert or update. Ex:</p>\n\n<pre><code> $atmosphericpressure ='';\n $humidity ='';\n $order_datetime='';\n $outbreak_datetime='';\n $locationarrival_datetime ='';\n\nUpdate A set atmosphericpressure ='$atmosphericpressure',humidity =  '$humidity',order_datetime='$order_datetime',outbreak_datetime='$outbreak_datetime',...\n</code></pre>\n\n<p>How set  value of a variable is DBNull?</p>\n"},{"tags":["php","mysql","installscript"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13250737,"title":"Set MySQL config data on install PHP","body":"<p>I've made an install script for mysql tables. I want the user to set the database configurations. The configurations for mysql is hard coded in a PHP class as public variables.</p>\n\n<p>What would be best practice for creating and storing the config data on install?</p>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13253982,"title":"Private messages database query for display","body":"<p>ok I have messages table in db like this:</p>\n\n<pre><code>id\nthread_id\nfrom_user\nto_user\nmessage\n</code></pre>\n\n<p>the problem I have is display of these messages on site. As would be normal with private messages, only receiver and sender can see the message. And there is one more thing that matters, messages are thread related, so when sender contacts the user who created a thread ( user can send messages only to thread creators, every user who would be contacted MUST have a thread he created) this conversation is related to this thread only. So, check now what I tried:</p>\n\n<pre><code>SELECT * \nFROM messages \nWHERE thread_id = '$thread_id' \n    AND (from_user = '$from' OR from_user ='$to' ) \n    AND ( to_user = '$to' OR to_user = '$from' )\n</code></pre>\n\n<p>This works in majority of cases, but what I was wondering is if this is classic query which is used to limit only to users to view the message?</p>\n\n<pre><code>$thread_id is ID of the thread passed to query\n$from is $_SESSION['id'] \n$to is ID of thread owner ( user who receives the message )\n</code></pre>\n\n<p>I tested this with few users but something is not right. Sometimes I get only 1 message that one sent, but don't see the reply</p>\n"},{"tags":["php","apache","dom","domdocument","libxml"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":26,"score":-2,"question_id":13254045,"title":"PHP DOM functions not working","body":"<p>In the server libxml has been installed and --enable-dom=shared ,even when i tried with following </p>\n\n<pre><code>&lt;?php\necho \"Hello 1\";\n$named = new DOMDocument();\necho \"Hello 2\";\n?&gt;\n</code></pre>\n\n<p>\"Hello 2\" is not printing. What would be the issue on the server ?</p>\n"},{"tags":["php","ajax","exec","progress"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":39,"score":1,"question_id":13251349,"title":"PHP Ajax Shell Exec() Progress","body":"<p>What I'm trying to do is quite simple.</p>\n\n<pre><code>echo \"doing a....\"\nStart progress bar\nthen exec(\"commandA\")\nstop progress bar\n\necho \"doing b....\"\nStart progress bar\nthen exec(\"commandA\")\nstop progress bar\n\necho \"doing c....\"\nStart progress bar\nthen exec(\"commandC\")\nstop progress bar\n</code></pre>\n\n<p>etc</p>\n\n<p>The progress bar doesn't need to be accurate, more of a comfort to show something is happening.</p>\n\n<p>I've read it can be done using jquery and php/ajax.. but I've no idea how.\nAnyone got a simple example I can try a work with ?</p>\n\n<p>Thanks :)</p>\n"},{"tags":["php","mysql","codeigniter","connection","mysqli"],"answer_count":5,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":14816,"score":2,"question_id":7254049,"title":"CodeIgniter: Unable to connect to your database server using the provided settings Error Message","body":"<p>I have been using CI just fine using the MySQL driver. I want to use the mysqli driver instead, but as soon as I change it (just add the ‘i’ at the end of mysql, and added the port number) I get the following error message</p>\n\n<pre><code>A Database Error Occurred\n\nUnable to connect to your database server using the provided settings.\n\nFilename: core/Loader.php\n\nLine Number: 232 \n</code></pre>\n\n<p>my setting look like this:</p>\n\n<pre><code>$db['default']['hostname'] = $hostname;\n$db['default']['username'] = $username;\n$db['default']['password'] = $password;\n$db['default']['database'] = $database;\n$db['default']['dbdriver'] = 'mysqli';\n$db['default']['port']     = \"3306\";  \n$db['default']['dbprefix'] = '';\n$db['default']['pconnect'] = TRUE;\n$db['default']['db_debug'] = TRUE;\n$db['default']['cache_on'] = FALSE;\n$db['default']['cachedir'] = '';\n$db['default']['char_set'] = 'utf8';\n$db['default']['dbcollat'] = 'utf8_general_ci';\n$db['default']['swap_pre'] = '';\n$db['default']['autoinit'] = TRUE;\n$db['default']['stricton'] = FALSE; \n\nwhere\n$hostname = 'localhost';\n$username = 'myusernamegoeshere';\n$password = 'mypasswordgoeshere';\n$database = 'mydatabasenamegoeshere'; \n</code></pre>\n\n<p>Using:\nCI 2.0.2\nphp 5.3.4\nApache/2.2.17 (Unix)\nmysql 5.5.13\nmysql.default_port 3306</p>\n\n<p>Am I doing anything wrong?</p>\n\n<p>Thank you,</p>\n"},{"tags":["php","pear"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13251222,"title":"Installing pear on windows, wrong paths","body":"<p>I'm trying to install PEAR on Windows 7.</p>\n\n<p>I have php 5.4 in <code>d:\\web\\soft\\php</code> directory, and I want to install PEAR in this directory too. I run:</p>\n\n<pre><code>php go-pear.phar\n</code></pre>\n\n<p>I see this:\n<img src=\"http://i.stack.imgur.com/x22re.png\" alt=\"enter image description here\"></p>\n\n<p>This paths are ok for me.</p>\n\n<p>Then I run enter and install it. In the end I see this warning:</p>\n\n<blockquote>\n  <p>WARNING! Old version found at D:\\web\\soft\\php, please remove it or be sure to use the new d:\\web\\soft\\php\\pear.bat command\n  <br>The 'pear' command is now at your service at d:\\web\\soft\\php\\pear.bat`</p>\n</blockquote>\n\n<p>and when I press <code>pear config-show</code> I see completely wrong paths related to disk <code>C:\\</code>:\n<img src=\"https://monosnap.s3.amazonaws.com/508d37dbe4b0337d1689560f%2F508d3817e4b0337d16895620%2F5098fe66e4b045b475b13e7d.png?Expires=1352205945&amp;AWSAccessKeyId=AKIAIO6PKRFX5SEQQGLQ&amp;Signature=7G2SeSM2jhJhzPoy9NwqVuXO7as%3D\" alt=\"\"></p>\n\n<pre><code>Auto-discover new Channels     auto_discover    &lt;not set&gt;\nDefault Channel                default_channel  pear.php.net\nHTTP Proxy Server Address      http_proxy       &lt;not set&gt;\nPEAR server [DEPRECATED]       master_server    pear.php.net\nDefault Channel Mirror         preferred_mirror pear.php.net\nRemote Configuration File      remote_config    &lt;not set&gt;\nPEAR executables directory     bin_dir          D:\\web\\soft\\php\nPEAR documentation directory   doc_dir          C:\\php\\pear\\docs\nPHP extension directory        ext_dir          d:/web/soft/php/ext\nPEAR directory                 php_dir          D:\\web\\soft\\php\\pear\nPEAR Installer cache directory cache_dir        C:\\Users\\zzz\\AppData\\Local\\Temp\\pear\\cache\nPEAR configuration file        cfg_dir          C:\\php\\pear\\cfg\nPEAR data directory            data_dir         C:\\php\\pear\\data\nPEAR Installer download        download_dir     C:\\Users\\zzz\\AppData\\Local\\Temp\\pear\\download\nPHP CLI/CGI binary             php_bin          D:\\web\\soft\\php\\php.exe\nphp.ini location               php_ini          &lt;not set&gt;\nPEAR Installer temp directory  temp_dir         C:\\Users\\zzz\\AppData\\Local\\Temp\\pear\\temp\nPEAR test directory            test_dir         C:\\php\\pear\\tests\nPEAR www files directory       www_dir          C:\\php\\pear\\www\nSignature Handling Program     sig_bin          c:\\gnupg\\gpg.exe\nSignature Key Directory        sig_keydir       C:\\Windows\\pearkeys\nUser Configuration File        Filename         C:\\Windows\\pear.ini\nSystem Configuration File      Filename         C:\\Windows\\pearsys.ini\n</code></pre>\n\n<p>So it doesn't work.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["php","mysql","query","where"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13242955,"title":"php mysql query error with \"where\"","body":"<p>I'm running a query on our customer order database to see the sales from the last week. The query looks like this:</p>\n\n<pre><code>select\ndistinct day(from_unixtime(customerorder.datetime)) as day,\ncount(distinct customerorder.customerorderid) as count_totalorders,\ncount(distinct customerorderpos.itemid) as count_differentitems,\nsum(customerorderpos.quantity_ordered) as quantity_ordered,\nsum(customerorderpos.itemsubtotal) as item_subtotal,\nsum(customerorderpos.pricechangetotal) as item_pricechangetotal,\nsum(customerorderpos.itemtotal) as item_total,\nsum(customerorderpos.purchase_price * customerorderpos.quantity_ordered) as item_purchasepricetotal,\nsum(distinct cart_discounttotal) as total_discount,\nsum(customerorderpos.itemtotal - (customerorderpos.purchase_price * customerorderpos.quantity_ordered) - (select distinct cart_discounttotal)) as item_earningstotal,\nsum(distinct cart_total_shipping) as total_shipping,\nsum(distinct cart_total_tax) as total_tax,\nsum(distinct cart_total_complete) as total_complete\nfrom customerorder\ninner join customerorderpos on customerorder.customerorderid = customerorderpos.customerorderid\nwhere\ncustomerorder.datetime &gt;= 1351494000 and\ncustomerorder.status_cancelled = \"0\"\ngroup by day(from_unixtime(customerorder.datetime))\norder by customerorder.datetime\n</code></pre>\n\n<p>When I enter the query in PhpMyAdmin in works fine and shows the last 7 days orders. But when we run it in our own software it gives an error.</p>\n\n<pre><code>$result = $db-&gt;query($query);\nwhile ($row = $result-&gt;fetch_assoc()){\n</code></pre>\n\n<p>This shows: \"Fatal error: Call to a member function fetch_assoc() on a non-object\"</p>\n\n<p>But.... if I take out \"where customerorder.datetime >= 1351494000\" from the query it works fine.\nIn other words the query works perfectly until I want to limit it to a specific time. Customerorder.datetime is an int(11) column with a timestamp.</p>\n\n<p>Any ideas what the problem could be?</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","oauth-2.0","google-plus"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13130793,"title":"GooglePlus API - (401) Invalid Credentials error","body":"<p>We have code that was working perfectly to access the Googleplus Api, but now it inexplicably no longer works, instead returning a \"(401) Invalid Credentials\" error when this line is called:</p>\n\n<pre><code>$me = $plus-&gt;people-&gt;get('me');\n</code></pre>\n\n<p>Here is the full code snippet (php):</p>\n\n<pre><code>try\n{\n    $client = new apiClient();\n\n    $client-&gt;setApplicationName(\"Google OAuth\");\n    $client-&gt;setClientId(GOOGLE_API_CLIENT_ID);\n    $client-&gt;setClientSecret(GOOGLE_API_CLIENT_SECRET);\n    $client-&gt;setRedirectUri(GOOGLE_API_REDIRECT_URI);\n    $client-&gt;setDeveloperKey('XXX');\n    $client-&gt;setScopes(array('https://www.googleapis.com/auth/plus.me'));\n\n    $plus = new apiPlusService($client);\n\n    $oauth2 = new apiOauth2Service($client);\n\n    $client-&gt;authenticate();\n    $token = $client-&gt;getAccessToken();\n\n    if (isset($token))\n        $client-&gt;setAccessToken($token);\n\n    if ($client-&gt;getAccessToken()) {\n         $me = $plus-&gt;people-&gt;get('me');\n    }\n}\ncatch (Exception $x)\n{\n    echo \"Stack: \" . $x-&gt;getTraceAsString() . \"&lt;br /&gt;\";\n    echo \"Message: \" . $x-&gt;getMessage() . \"&lt;br /&gt;\";\n    echo \"File: \" . $x-&gt;getFile() . \"&lt;br /&gt;\";\n    echo \"Line: \" . $x-&gt;getLine(). \"&lt;br /&gt;\";\n\n}\n</code></pre>\n"},{"tags":["php","validation","model","cakephp-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13233697,"title":"Using a single custom validation rule in different models","body":"<p>I'm trying to write my first project in CakePHP2 (I used CakePHP1 before) and I have the following problem.</p>\n\n<p>I have several models that require a custom validation rule for a field (personal numeric code). The validation rule is quite large so I don't want to repeat the code in each model. </p>\n\n<p>Instead, I thought about writing a component with a function that will receive a string as a parameter and validate it, and just calling that particular function from each model. </p>\n\n<p>I read that components should be used in controllers, so maybe this is not the best way to do it?</p>\n\n<p>What I'm trying to do is actually extend ModelValidator and add my own custom rules, but I have no idea if that is possible.</p>\n\n<p>Thank you for you help.</p>\n"},{"tags":["php","linked-list"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13252536,"title":"php circular linked list implementation","body":"<p>I've written this class to implement linked list:  </p>\n\n<pre><code>class Node{\n    public $data;\n    public $link;\n\n    function __construct($data, $next = NULL){\n        $this-&gt;data = $data;\n        $this-&gt;link = $next;\n    }    \n}\n\nclass CircularLinkedList{\n    private $first;\n    private $current;\n    private $count;\n\n    function __construct(){\n        $this-&gt;count = 0;\n        $this-&gt;first = null;\n        $this-&gt;current = null;\n    }\n\n    function isEmpty(){\n        return ($this-&gt;first == NULL);\n    }\n\n    function push($data){\n        //line 30\n        $p = new Node($data, $this-&gt;first);\n        if($this-&gt;isEmpty()){\n            $this-&gt;first = $p;\n            $this-&gt;current = $this-&gt;first;\n        }\n        else{           \n            $q = $this-&gt;first;\n            //line 38\n            while($q-&gt;link != $this-&gt;first)\n                $q = $q-&gt;link;\n            $q-&gt;link = $p;    \n        }\n        $this-&gt;count++;       \n    }\n\n    function find($value){\n        $q = $this-&gt;first;\n        while($q-&gt;link != null){\n            if($q-&gt;data == $value)\n                $this-&gt;current = $q;\n            $q = $q-&gt;link;    \n        }\n        return false;      \n    }\n\n    function getNext(){\n        $result = $this-&gt;current-&gt;data;\n        $this-&gt;current = $this-&gt;current-&gt;link;\n        return $result;        \n    }\n}  \n</code></pre>\n\n<p>but when I try to push some value,  </p>\n\n<pre><code>$ll = new CircularLinkedList();\n\n$ll-&gt;push(5);\n$ll-&gt;push(6);\n$ll-&gt;push(7);\n$ll-&gt;push(8);\n$ll-&gt;push(9);\n$ll-&gt;push(10);\n\n//$ll-&gt;find(7);\n\nfor($j=0;$j&lt;=30;$j++){\n    $result = $ll-&gt;getNext();\n    echo $result.\"&lt;br /&gt;\";\n}\n</code></pre>\n\n<p>the script hangs out at the second push and gives <code>max_execution_time</code> error.  </p>\n\n<p>It works fine if I change the two lines 30 and 38 of the calss as shown above , as a normal LinkedList. (by removing the last node link to the first node).  </p>\n\n<p>So what's the problem and how to solve it?  </p>\n\n<p><strong>UPDATE:</strong> by changing <code>push()</code> function to this , it works fine as a linear linked list:  </p>\n\n<pre><code>function push($data){\n    $p = new Node($data);\n    if($this-&gt;isEmpty()){\n        $this-&gt;first = $p;\n        $this-&gt;current = $this-&gt;first;\n    }\n    else{\n        $q = $this-&gt;first;\n        while($q-&gt;link != null)\n            $q = $q-&gt;link;\n        $q-&gt;link = $p;    \n    }\n    $this-&gt;count++;       \n}\n</code></pre>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":243,"score":0,"question_id":10501153,"title":"Magento Proper way to show Main and one level of sub categories","body":"<p>Just to give you an idea.  I hae 3 levels of categories.<br>\nTop Level > Sub Categories > Children of Sub Categories</p>\n\n<p>What I don't want to display is the children of the sub categories.</p>\n\n<p>The below code shows every category.  (Sorry the paste didn't format very well.)</p>\n\n<pre><code>&lt;?php\n// ----   PRODUCT NAVIGATION ---- \\\\\n$nav_obj = new Mage_Catalog_Block_Navigation();\n$store_cats = $nav_obj-&gt;getStoreCategories();\n$current_cat = $nav_obj-&gt;getCurrentCategory();\n?&gt;\n\n&lt;ul&gt;\n\n&lt;?php foreach ($store_cats as $cat):?&gt;\n&lt;?php\n$ids = strtolower(str_replace(\" \", \"_\", $cat-&gt;getName()));\n$ids = str_replace(\"&amp;\", \"\", $ids);\n?&gt;\n\n\n&lt;li class=\"parent\" id=\"&lt;?php echo $ids; ?&gt;\"&gt;&lt;?php echo $cat-&gt;getName()?&gt;\n\n&lt;ul&gt;\n&lt;?php foreach (Mage::getModel('catalog/category')-&gt;load($cat-&gt;getId())-&gt;getChildrenCategories() as $childCategory): ?&gt;\n&lt;li&gt;&lt;a href=\"&lt;?php echo $childCategory-&gt;getUrl(); ?&gt;\"&gt;\n&lt;?php echo $childCategory-&gt;getName()?&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;?php endforeach; ?&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n\n&lt;?php endforeach; ?&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":389,"score":-1,"question_id":3559875,"title":"Calling a function before it's defined | PHP","body":"<p>Is there any possible way when in <strong>one</strong> file - please note, just one file. To call a function when it isn't defined yet, e.g.</p>\n\n<pre><code>&lt;?php\n\necho global_title();\n\nfunction global_title()\n{\n    $title = $_GET['name'];\n\n    return $title;\n}\n\n?&gt;\n</code></pre>\n\n<p>I don't know how to explain this, but it's not quite possible isn't it? What about variable from another file (without including it) can be called in a different file, e.g.</p>\n\n<p><strong>config.php</strong></p>\n\n<pre><code>&lt;?php\n\n$db = \"localhost\";\n\n?&gt; \n</code></pre>\n\n<p><strong>index.php</strong></p>\n\n<pre><code>&lt;?php\n\n// I do not want it to be accessed by including it or using sessions\n\necho $db;\n\n?&gt;\n</code></pre>\n\n<p>Know what I mean? :)</p>\n"},{"tags":["php","mysql","json","nested","logic"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13253218,"title":"php organizing result set logic to nested JSON","body":"<p>I have a data base full of model numbers with varying length characters all delimited by periods.</p>\n\n<pre><code>Model number families:\nxxxx.xx.xxxx\nxxxx.xx.kjfd\nxxxx.kj.jkfdk\nyy.yy.a\nyy.yy.b\n</code></pre>\n\n<p>and so on.</p>\n\n<p>I'm trying to organize them into JSON resembling this with proper syntax of course.\nModel number families:</p>\n\n<pre><code>{\n    \"name\": \"xxxx\",\n    \"children\": [\n        {\n            \"name\": \"xx\",\n            \"children\": [\n                {\n                    \"name\": \"xxxx\"\n                },\n                {\n                    \"name\": \"kjfd\"\n                }\n            ]\n        },\n        {\n            \"name\": \"kj\",\n            \"children\": [\n                {\n                    \"name\": \"jkfdk\"\n                }\n            ]\n        }\n    ]\n</code></pre>\n\n<p>I have started by doing a preg_split on the model number to break the model no. down into it's components.  Then I have tried to compare the first characters before the period to the previous one and my brain freezes up and I think, \"there has to be a better way to organize these.\"</p>\n\n<p>Would it be better to store them in the DB already separated?</p>\n\n<p>Thanks for any suggestions.</p>\n\n<p>There is only one place to go, stackoverflow.</p>\n"},{"tags":["php","javascript"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1527,"score":1,"question_id":236279,"title":"Convert PHP Function to JavaScript","body":"<pre><code>&lt;?php\nfunction toconv(string)\n{\n    $gogo = array(\"a\" =&gt; \"b\",\"cd\" =&gt; \"e\");\n    $string = str_replace(\n        array_keys( $gogo ),\n        array_values( $gogo ),\n        $string\n    );\n    return $string;\n}\n?&gt;\n</code></pre>\n\n<p>How can I implement that in JavaScript?</p>\n"},{"tags":["php","html","ajax","prototypejs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13251784,"title":"Filling a select dropdown based on previous selection using Ajax.Updater","body":"<p>I'm trying to automatically fill a select dropdown with options based on the output from a php page. </p>\n\n<p>I'm using the latest version of prototype and I've setup Ajax.Updater to get a php page with the correct parameters. I can easily display the result of this in a list, but how can I make this list become the options of a select box? </p>\n\n<pre><code>function get_second_list() {\nnew Ajax.Updater(\"second_list\", \"invBatchNumberFromProd.php?q=\"+$F(\"product\"),{method:\"get\"});\n}\n</code></pre>\n\n<p>And in my form I have </p>\n\n<pre><code>&lt;label&gt;Batch Number:&lt;/label&gt;&lt;select id=\"second_list\" name=\"batch\"&gt;\n    &lt;option&gt; \n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>I can't figure out what to do from this point. My php page outputs a text list, but I can just as easily make this output whatever anyone recommends.</p>\n\n<p>If I need to clarify anything at all then please let me know.</p>\n"},{"tags":["php","phpmyadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13251141,"title":"Linking data within MySQL tables into 1 table with PHP Code","body":"<p>Background info:\nI am trying to create a digital job raising system. Admin raises a job sheet and pulls in a client from \"tblclient\" table, fills out the details of the job and then assigns the job sheet to a employee user.</p>\n\n<p>With this being said I am having difficulty pulling data from the clients table and users table then linking them to a row in the jobs table. I am new to PHP coding and am unsure how to script it out so my user can select the client and all the client details are attached to the job sheet and then coding it so the job sheet can be moved around between users.</p>\n\n<p>This is so that when the job is complete the Admin can preview the job sheet with all the client details on it, job details and print with all the information on screen.</p>\n\n<p>Is there any tutorials I can use for this procedure?</p>\n\n<p>Notes:\nI currently have a form that will insert the job data into the job table, I just don't know what code to use to pull in users/clients and link it to that specific job.</p>\n\n<p>Thanks</p>\n\n<pre><code>&lt;?php \ninclude 'core/init.php'; \ninclude 'include/overall/overall_header.php'; \nprotect_page();\nadmin_protect();\n$today_date = date(\"Y-m-d\");\n\n?&gt;\n\n&lt;div id=\"container\"&gt;\n&lt;div id=\"content-container\"&gt;\n&lt;div id=\"sidenav\"&gt;\n    &lt;?php include 'include/sidenav.php'; ?&gt;\n\n&lt;/div&gt;\n&lt;div id=\"content\"&gt;\n\n&lt;h1&gt;Add a new job&lt;/h1&gt;\n\n&lt;?php echo $today_date; ?&gt;\n\n&lt;?php\n\nif (isset($_GET['success']) &amp;&amp; empty($_GET['success'])) {\necho 'Job added successfully!';\n} else {\nif (empty($_POST) === false &amp;&amp; empty($errors) === true) {\n    $job_data = array(\n        'date'                  =&gt; $_POST['date'],\n        'description'           =&gt; $_POST['description'],\n        'artworkbrief'          =&gt; $_POST['artworkbrief'],\n        'extracosts'            =&gt; $_POST['extracosts'],\n        'stock1'                =&gt; $_POST['stock1'],\n        'orderno1'              =&gt; $_POST['orderno1'],\n        'ordered1'              =&gt; $_POST['ordered1'],\n        'stock2'                =&gt; $_POST['stock2'],\n        'orderno2'              =&gt; $_POST['orderno2'],\n        'ordered2'              =&gt; $_POST['ordered2'],\n        'stock3'                =&gt; $_POST['stock3'],\n        'orderno3'              =&gt; $_POST['orderno3'],\n        'ordered3'              =&gt; $_POST['ordered3'],\n        'subtotal'              =&gt; $_POST['subtotal'],\n        'extracosts1'           =&gt; $_POST['extracosts1'],\n        'total'                 =&gt; $_POST['total']\n    );\n    raise_job($job_data);\n    header('Location: raise_job.php');\n    exit();\n\n}\n}\n\n?&gt;\n\n&lt;select id=\"clientname\" name=\"clientname\"&gt;\n&lt;?php\n    $pdo = new PDO('mysql:host=localhost;dbname=formation_ims', 'root',         'form8tion');\n    #Set Error Mode to ERRMODE_EXCEPTION.\n    $pdo-&gt;setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);  \n\n    $stmt = $pdo-&gt;prepare('Select clientname from tblclients');\n    $stmt-&gt;execute();\n       while($row = $stmt-&gt;fetch(PDO::FETCH_ASSOC)) {\n    echo '&lt;option&gt;'.$row['clientname'].'&lt;/option&gt;';\n    }\n?&gt;\n&lt;/select&gt; \n\n&lt;div id=\"job-sheet\"&gt;\n&lt;form action=\"\" method=\"post\"&gt;\n&lt;div class=\"row-3\"&gt;\n    &lt;div class=\"description\"&gt;\n        &lt;p&gt;Description:&lt;/p&gt;\n        &lt;textarea type=\"text\" name=\"description\"&gt;&lt;/textarea&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row-4\"&gt;\n    &lt;div class=\"artwork-brief\"&gt;\n        &lt;p&gt;Artwork Brief:&lt;/p&gt;\n        &lt;textarea type=\"text\" name=\"artworkbrief\"&gt;&lt;/textarea&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row-5\"&gt;\n    &lt;div class=\"extra-costs-container\"&gt;\n        &lt;div class=\"extra-costs\"&gt;\n            &lt;p&gt;Extra Costs:&lt;/p&gt;\n            &lt;textarea type=\"text\" name=\"extracosts\"&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"total-container\"&gt;\n        &lt;div class=\"sub-total\"&gt;\n            Sub Total:\n            &lt;input type=\"text\" name=\"subtotal\"&gt;\n        &lt;/div&gt;   \n    &lt;/div&gt;  \n    &lt;div class=\"extra-num-container\"&gt;\n        &lt;div class=\"extra-costs-num\"&gt;\n            Extra Costs:\n            &lt;input type=\"text\" name=\"extracosts1\"&gt;\n        &lt;/div&gt;    \n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row-6\"&gt;\n    &lt;div class=\"stock-material-container\"&gt;\n        &lt;div class=\"stock-material\"&gt;\n        &lt;p&gt;Stock/Material:&lt;/p&gt;\n            &lt;div class=\"stock-material-row\"&gt;\n                &lt;div class=\"stock-material-col01\"&gt;\n                    &lt;input type=\"text\" name=\"stock1\"&gt;\n                &lt;/div&gt;    \n                &lt;div class=\"stock-material-col02\"&gt;\n                    Order No.&lt;input type=\"text\" name=\"orderno1\"&gt;\n                &lt;/div&gt;    \n                &lt;div class=\"stock-material-col03\"&gt;\n                    Ordered:&lt;input type=\"checkbox\" name=\"ordered1\"&gt;\n                &lt;/div&gt;    \n            &lt;/div&gt;\n            &lt;div class=\"stock-material-row\"&gt;\n                    &lt;div class=\"stock-material-col01\"&gt;\n                        &lt;input type=\"text\" name=\"stock2\"&gt;\n                    &lt;/div&gt;    \n                    &lt;div class=\"stock-material-col02\"&gt;\n                        Order No.&lt;input type=\"text\" name=\"orderno2\"&gt;\n                    &lt;/div&gt;    \n                    &lt;div class=\"stock-material-col03\"&gt;\n                        Ordered:&lt;input type=\"checkbox\" name=\"ordered2\"&gt;\n                    &lt;/div&gt; \n            &lt;/div&gt;\n            &lt;div class=\"stock-material-row\"&gt;\n            &lt;div class=\"stock-material-col01\"&gt;\n                &lt;input type=\"text\" name=\"stock3\"&gt;\n            &lt;/div&gt;    \n            &lt;div class=\"stock-material-col02\"&gt;\n                Order No.&lt;input type=\"text\" name=\"orderno3\"&gt;\n            &lt;/div&gt;    \n            &lt;div class=\"stock-material-col03\"&gt;\n                Ordered:&lt;input type=\"checkbox\" name=\"ordered3\"&gt;\n            &lt;/div&gt;  \n        &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"total-container\"&gt;\n        &lt;div class=\"sub-total\"&gt;\n            Sub Total:\n            &lt;input type=\"text\" name=\"subtotal\"&gt;\n        &lt;/div&gt;   \n    &lt;/div&gt;  \n    &lt;div class=\"extra-num-container\"&gt;\n        &lt;div class=\"extra-costs-num\"&gt;\n            Extra Costs:\n            &lt;input type=\"text\" name=\"extracosts1\"&gt;\n        &lt;/div&gt;    \n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"clear\"&gt;&lt;/div&gt;\n\n&lt;?php include 'include/overall/overall_footer.php'; ?&gt;\n</code></pre>\n\n<p>ahh yes, I understand what this code is doing but not familiar with the syntax. I got an error:\n   Parse error: syntax error, unexpected ';' in...\nI think you left out an \")\" but even after reinstating it, my dropdown menu isn't populated:</p>\n\n<pre><code>&lt;select name='clientid'&gt;\n&lt;?php\n    $query=\"SELECT * FROM tblclients\";\n    $result=mysql_query($query) or die(mysql_error());\n\n    while($row=mysql_fetch_assoc($result)){\n        echo \"&lt;option value='\".$row['Client_ID'].\"'&gt;\".stripslashes($row['ClientName'].\"     &lt;/option&gt;\";\n    }\n?&gt;\n</code></pre>\n\n<p>`   </p>\n"},{"tags":["php","mysql","arrays","prepared-statement","in-operator"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13244361,"title":"mysqli_stmt, arrays, & IN operator","body":"<p>I've looked all over, but I can't find any details on whether or not it's possible to easily and conveniently pass an array directly into the argument of the IN operator in a MySQL prepared statement.</p>\n\n<p>Most places suggest manually breaking up the array and building the statement, but there's got to be a better way.</p>\n\n<p>Is there?</p>\n\n<p>Many thanks in advance!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Sorry, left out that this is for a prepared statement via mysqli_stmt not the traditional way.  :(</p>\n"},{"tags":["php","rename"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":36,"score":-1,"question_id":13238873,"title":"php - edit $name values to $name2","body":"<p>Already asked but question was closed so here it is again:\nI need to understand the code that renames values.</p>\n\n<p>For example, I have $name which outputs 'A Long Way From Home', in case the script encounter this value I need to rename the value to 'LongWay34' into $name2 so I can use it somewhere else.</p>\n\n<p>There's no need for any uber-script, I have just a few elements I need to modify and I can write a line for each one!</p>\n\n<p>I hope I've been clear, thanks in advance for the help!\nk</p>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":51,"score":-8,"question_id":13253231,"title":"Show messages asynchonously","body":"<p>My problem begins with loading a page .I have to load a page in three steps.</p>\n\n<p>Three status messages come from three different databases, telling you that your data is updated.</p>\n\n<p>These messages come together but I want them in sequences. How can I get them in sequence? (The databases take so much time due to its size.)</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13252470,"title":"Listing random dates in earliest to newest order","body":"<p>How do you go about listing random dates (from earliest to newest)? </p>\n\n<p>I've been trying to accomplish this with PHP but with no success. I can get a random date to show up but keeps looping the same one over and over again rather than creating new ones and listing them in the order specified. </p>\n\n<p>This is my code so far:</p>\n\n<pre><code>// Create a random date between 2 months\n$datestart = strtotime('01-11-2012');\n$dateend = strtotime('01-12-2012');\n$daystep = 86400;\n$datebetween = abs(($dateend - $datestart) / $daystep);\n$randomday = rand(0, $datebetween);\n\nfor($i=0; $i&lt; rand(10, 30) ;++$i)\n{\necho \"&lt;div&gt;\" . date(\"d/m/Y\", $datestart + ($randomday * $daystep)) .\"&lt;/div&gt;\";\n}\n</code></pre>\n\n<p><strong>Update:</strong> I've now managed to get the code working thanks to <strong>Mihai Iorga</strong> but there is still the issue of sorting the dates from oldest to newest. How do I achieve this:</p>\n\n<pre><code>// Create a random date between 2 months\n$datestart = strtotime('01-11-2012');\n$dateend = strtotime('01-12-2012');\n$daystep = 86400;\n$datebetween = abs(($dateend - $datestart) / $daystep);\n$randomday = rand(0, $datebetween);\n\nfor($i=0; $i&lt; rand(10, 30) ;++$i)\n{\n$randomday = rand(0, $datebetween);\necho \"&lt;div&gt;\" . date(\"d/m/Y\", $datestart + ($randomday * $daystep)) .\"&lt;/div&gt;\";\n}\n</code></pre>\n"},{"tags":["php","mysql","insert"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13253066,"title":"How to Unquote a string and insert it into mysql database","body":"<p>i am having one problem with data insertion.\ni have a column which contains quoted strings and using php i am inserting those values into another table.the problem occurs with quoted values and others are inserting fine.\nis there any way to unquote that and insert or make it possible using php.\nthanks in advance...</p>\n"},{"tags":["php","ios","amazon-web-services","amazon-dynamodb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13244941,"title":"How to get row count from DynamoDB (iOS & PHP)?","body":"<p>I need help with querying a DynamoDB table to get the count of rows.</p>\n\n<p>Consider, I have a table \"Users\" with three fields, \"UserName\", \"Password\" and \"UserType\". UserType can be \"Admin\", \"Employee\" or @\"Guest\". Now I want to get the count of \"Admin\" in the table. In SQL we write the query like this,</p>\n\n<pre><code>SELECT COUNT(*) FROM Users WHERE UserType='Admin'\n</code></pre>\n\n<p>Now I need to do the same using DynamoDB iOS SDK. For now, I am doing it like this.</p>\n\n<pre><code>- (int)adminUsersCount {\n    DynamoDBScanRequest *request = [[[DynamoDBScanRequest alloc] initWithTableName:@\"Users\"] autorelease];\n    DynamoDBCondition *condition = [[[DynamoDBCondition alloc] init] autorelease];\n    NSMutableArray *attrList = [NSMutableArray arrayWithObject:[[[DynamoDBAttributeValue alloc] initWithS:@\"Admin\"]] autorelease]];\n    condition.attributeValueList = attrList;\n    condition.comparisonOperator = @\"EQ\";\n    [request setScanFilterValue:condition forKey:@\"UserType\"];\n    DynamoDBScanResponse *response = [[AmazonClientManager ddb] scan:request];\n    return response.items.count;\n}\n</code></pre>\n\n<p>Here I am fetching all the rows to know that count. I know this is not the right way and is really a bad idea. I don't know how to get the count alone without fetching all the rows.</p>\n\n<ol>\n<li>I want to know how to do it in iOS SDK.</li>\n<li>I want to know how to do it in PHP SDK as well.</li>\n</ol>\n\n<p>Thanks. </p>\n"},{"tags":["php","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":11530644,"title":"PHP variable mixed with cURL","body":"<p>I am getting a bit lost on a personal project and looking for some help.  I found a cURL code that will get the Google+ count for a specific URL, and it is working great when hard coding the url you are trying to get.  I am trying to run this script based on form data using GET. See working and non working examples below.  I am also bolding the line of code that I am changing.</p>\n\n<p><strong>WORKS</strong></p>\n\n<pre><code>*$url = \"http://mashable.com\";\n\n $ch = curl_init();  \n curl_setopt($ch, CURLOPT_URL, \"https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ\");\n curl_setopt($ch, CURLOPT_POST, 1);\n curl_setopt($ch, CURLOPT_POSTFIELDS, '[{\"method\":\"pos.plusones.get\",\"id\":\"p\",\"params\":{\"nolog\":true,\"id\":\"' . $url . '\",\"source\":\"widget\",\"userId\":\"@viewer\",\"groupId\":\"@self\"},\"jsonrpc\":\"2.0\",\"key\":\"p\",\"apiVersion\":\"v1\"}]');\n curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n curl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-type: application/json'));\n\n\n $curl_results = curl_exec ($ch);\n curl_close ($ch);\n\n $parsed_results = json_decode($curl_results, true);\n\n echo $parsed_results[0]['result']['metadata']['globalCounts']['count']; \n</code></pre>\n\n<p><strong>Doesn't Work</strong></p>\n\n<pre><code>$url = $_GET['url'];\n\n $ch = curl_init();  \n curl_setopt($ch, CURLOPT_URL, \"https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ\");\n curl_setopt($ch, CURLOPT_POST, 1);\n curl_setopt($ch, CURLOPT_POSTFIELDS, '[{\"method\":\"pos.plusones.get\",\"id\":\"p\",\"params\":{\"nolog\":true,\"id\":\"' . $url . '\",\"source\":\"widget\",\"userId\":\"@viewer\",\"groupId\":\"@self\"},\"jsonrpc\":\"2.0\",\"key\":\"p\",\"apiVersion\":\"v1\"}]');\n curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n curl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-type: application/json'));\n\n\n $curl_results = curl_exec ($ch);\n curl_close ($ch);\n\n $parsed_results = json_decode($curl_results, true);\n\n echo $parsed_results[0]['result']['metadata']['globalCounts']['count'];\n</code></pre>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13253176,"title":"Taking analog inputs to website","body":"<p>I have a php web app.</p>\n\n<p>I want to collect data from analog sensors to display values on the web app (temperature and such)</p>\n\n<p>I can collect the data using an SPI or IIC analog to digital converter, but what are the most rational methods (software) to fetch the data from the ADC and pass it to php?</p>\n"},{"tags":["php","email","yii","user","php.ini"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13252629,"title":"Yii-user: send activation mail","body":"<p>I've implemented the yii-user module in a new php project and everything works fine. But when i register, the program should sent an activation email , but when i press the register button i get the following error:</p>\n\n<blockquote>\n  <p>mail() [function.mail]: Failed to connect to mailserver at >&quot;localhost&quot; port 25, verify your &quot;SMTP&quot; and &quot;smtp_port&quot; setting     >in php.ini or use ini_set()</p>\n</blockquote>\n\n<p>I've searched and i changed my ini file to:</p>\n\n<pre><code>; For Win32 only.\n; http://php.net/smtp\nSMTP = smtp.gmail.com\n; http://php.net/smtp-port\nsmtp_port = 465 \n; For Win32 only.\n; http://php.net/sendmail-from\nsendmail_from = xxxxxxx@gmail.com\n</code></pre>\n\n<p>But that didn't help.</p>\n\n<p>How do i solve this</p>\n"},{"tags":["php","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13231770,"title":"OpenCart options not loaded properly","body":"<p>I started to work on a project, which uses OpenCart. When trying to add new options, I get a weird issue.</p>\n\n<p>I create two text options in back-end and assign them to a product. And it works. The problem is, the options are not loaded correctly in front-end. They display ok, but when I output all the variables, that should exist (specifically the product_option_id), they are NULL. I didn't even notice the problem before, but I need the product_option_id to make some modifications in the code.</p>\n\n<p>When I output the options on the page via print_f, I get this:</p>\n\n<pre><code>[0] =&gt; Array\n    (\n        [product_option_id] =&gt; \n        [calc_group_id] =&gt; 0\n        [description] =&gt; ####\n        [option_id] =&gt; 469\n        [name] =&gt; ####\n        [type] =&gt; text\n        [option_value] =&gt; \n        [required] =&gt; 0\n    )\n\n[1] =&gt; Array\n    (\n        [product_option_id] =&gt;\n        [calc_group_id] =&gt; 0\n        [description] =&gt; ####\n        [option_id] =&gt; 468\n        [name] =&gt; ####\n        [type] =&gt; text\n        [option_value] =&gt; \n        [required] =&gt; 0\n    )\n</code></pre>\n\n<p>I narrowed the problem down to the product model in OpenCart (catalog/model/catalog/product.php)</p>\n\n<p>and this line:</p>\n\n<pre><code>    $product_option_query = $this-&gt;db-&gt;query(\"SELECT * FROM \" . DB_PREFIX . \"product_option po LEFT JOIN `\" . DB_PREFIX . \"option` o ON (po.option_id = o.option_id) LEFT JOIN \" . DB_PREFIX . \"option_description od ON (o.option_id = od.option_id) WHERE po.product_id = '\" . (int)$product_id . \"' AND od.language_id = '\" . (int)$this-&gt;config-&gt;get('config_language_id') . \"' ORDER BY o.sort_order\");\n</code></pre>\n\n<p>I tried this SQL statement and it returns exactly what it has to, the product_option_id too. I have no idea what's wrong, the SQL statement returns the right values if tested in phpmyadmin, but the above line of code doesn't (I outputted $product_option_query->$rows and some values, like product_option_id are empty).</p>\n\n<p>I doubt I created the options in a wrong way. Or is that a possibility?\nInterestingly enough, some other options (select type options) and even my created options (if set to select type), do return all values, including product_option_id.</p>\n"},{"tags":["php","oop","coding-style"],"answer_count":8,"favorite_count":8,"up_vote_count":23,"down_vote_count":0,"view_count":12199,"score":23,"question_id":4478661,"title":"Getter and Setter?","body":"<p>I'm not a PHP developer, so I'm wondering if in PHP is more popular to use explicit getter/setters, in a pure OOP style, with private fields (the way I like):</p>\n\n<pre><code>class MyClass {\n    private $firstField;\n    private $secondField;\n\n    public function getFirstField() {\n        return $this-&gt;firstField;\n    }\n    public function setFirstField($x) {\n        $this-&gt;firstField = $x;\n    }\n    public function getSecondField() {\n        return $this-&gt;secondField;\n    }\n    public function setSecondField($x) {\n        $this-&gt;secondField = $x;\n    }\n}\n</code></pre>\n\n<p>or just public fields:</p>\n\n<pre><code>class MyClass {\n    public $firstField;\n    public $secondField;\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","html5"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13252773,"title":"converting contents of a div into an image","body":"<p>I am creating an image editor type web application. I have a main <code>div</code> which will contain many <code>div</code> inside it. </p>\n\n<p>When the user clicks on a save button, I want to save the main <code>div</code> as an image in a folder.\nI tried doing it using <code>Canvas.toDataURL()</code> but then I found that i cant place a div(main div) inside canvas tags. I also tried <code>imagegrabscreen()</code> function of php but it captured the screen before the whole page is loaded, so it was of no use.</p>\n\n<p>Can anybody help me and suggest a way to implement this using php or javascript?</p>\n"},{"tags":["php","get"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13252380,"title":"$_GET multiple options create link","body":"<p>Im using the <code>$_GET[variable from link]</code> - way to pass the options the user selected on my webpage, for example the post per page or the post-oder.\nI was thinking to write a simple variable which would give me out the options the user selected so I could use it in my <code>header</code>-redirects:</p>\n\n<pre><code>if ((isset($_GET['id'])) AND($_GET['id'] != 0 )) {  \n    $topic_id = (int)$_GET['id'];  \n    $header = 'Location: topic.php?id='.$topic_id;  \n}  \n        else {  \n        header('Location: error.php');  \n        die();  \n        }  \nif ((!isset ($_GET['page'])) OR ((int)$_GET['page'] == NULL)) {  \nheader('Location: topic.php?id='.$topic_id.'&amp;page=1');  \ndie();  \n}  \nelse {  \n$page = (isset($_GET['page']) AND (int)$_GET['page'] &gt; 0) ? (int)$_GET['page'] : 1;  \n$header = $header.'&amp;page='.$page;  \n}  \n    if(isset($_GET['order']) AND $_GET['order'] != NULL)  {  \n    $order = $_GET['order'];  \n    $header = $header.'&amp;order='.$order;  \n     }  \n</code></pre>\n\n<p>and so on.</p>\n\n<p>So I got now the options the user selected, but if I want to <em>change</em> one of them for a special redirect, I would need to write a <code>string-replace</code>-function. My question is: Is there a better way to handle many <code>$_GET</code> options and/or missing options? Is there any good practice? Sorry if this is a simple question.</p>\n"},{"tags":["php","floating-point-precision"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13252645,"title":"How to make numbers not be shown in scientific form?","body":"<p>I want to write an array of floating point numbers into files</p>\n\n<pre><code>&lt;?php\n$x=[0.000455,0.000123,0.00005690330203];\n$fname='test.txt';\n$str='';\nforeach($x as $elem){\n$str .= \"$elem\\n\";\n  }\nfile_put_contents($fname,$str);\n?&gt;\n</code></pre>\n\n<p>but in the test.txt, I see</p>\n\n<pre><code>0.000455\n0.000123\n5.690330203E-5\n</code></pre>\n\n<p>I don't want the float point number to be shown in scientific/exponential form, I hope they keep the original form, \nbesides, there are also large integers like 12430120340\nso if I use special format for floating point numbers, like 0.000123293304\nthen maybe it is not suitable for large integers, maybe convert them into strings could be a good idea? but how?</p>\n"},{"tags":["php","api","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13252050,"title":"CodeIgniter RESTful API rate limiting issue","body":"<p>I am working with the following code written by Phil Sturgeon here: <a href=\"https://github.com/philsturgeon/codeigniter-restserver\" rel=\"nofollow\">https://github.com/philsturgeon/codeigniter-restserver</a></p>\n\n<p>No where in his docs can I see how the limit option is setup in side of the controller.</p>\n\n<p>the RESTController controller file has some references e.g.</p>\n\n<p>Line 654: <a href=\"https://github.com/philsturgeon/codeigniter-restserver/blob/master/application/libraries/REST_Controller.php\" rel=\"nofollow\">https://github.com/philsturgeon/codeigniter-restserver/blob/master/application/libraries/REST_Controller.php</a></p>\n\n<p>Shows the protected function, additionally there is:</p>\n\n<pre><code> // How many times can you get to this method an hour?\n $limit = $this-&gt;methods[$controller_method]['limit'];\n</code></pre>\n\n<p>And from the rest.php config:</p>\n\n<blockquote>\n  <p>/*\n  |-------------------------------------------------------------------------- | REST Enable Limits\n  |-------------------------------------------------------------------------- | | When set to true REST_Controller will count the number of uses of\n  each method | by an API key each hour. This is a general rule that can\n  be overridden in the | $this->method array in each controller. |</p>\n</blockquote>\n\n<p>Can anyone help me with this please? Pulling my hair out currently :-)</p>\n\n<p>One of my controllers methods as it currently stands:</p>\n\n<pre><code>function listservices_get()\n{\n    $organisation_id = $this-&gt;get('id');\n    $organisations = $this-&gt;api_buyus_model-&gt;list_services($organisation_id);\n\n    if($organisations)\n    {\n            $this-&gt;response($organisations, 200);\n    }\n    else\n    {\n            $this-&gt;response(array('error' =&gt; '1', 'errorDesc' =&gt; 'Buy us services list could not be retrieved.'), 400);\n    }\n}\n</code></pre>\n"},{"tags":["php","post","html-entities"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13252138,"title":"Posting string encoded with htmlentities back to the server","body":"<p>I generate this in a view:</p>\n\n<pre><code>&lt;form method=\"post\"&gt;\n       &lt;input type=\"hidden\" \n              name=\"test\" \n              value=\"&lt;?=htmlentities('&lt;&gt;\"&amp;ščé', ENT_QUOTES, 'UTF-8')?&gt;\"&gt;\n       &lt;input type=\"submit&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Now, should I do this when processing data from the form?</p>\n\n<pre><code>$decodedTest = html_entity_decode($_POST['test'], ENT_QUOTES, 'UTF-8');\n</code></pre>\n\n<p>I think that this should be allright:</p>\n\n<pre><code>$decodedTest = $_POST['test'];\n</code></pre>\n\n<p>But I have not found a reference to this.</p>\n\n<p>EDIT: I had printed the posted value of <code>test</code> and I had seen that the value is not encoded. What I don't know is If I can <em>rely</em> on this behaviour and why. I am asking about theory of operation. If I look into the raw post request, I can see that the post data is urlencoded (which is I guess a different type of encoding than htmlentities does). Does that mean that client must perform some recoding before sending the request. Does (client) browser store input values in encoded form or decoded form in memory before sending? (I already know that php automatically decodes urlencoded data in requests so that part is fairly clear to me).</p>\n"},{"tags":["php","mysql","sql","group-by"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13247996,"title":"How to group exact Tandem values from 2 column of table?","body":"<p>I have a table with 2 column <code>latitude</code> and <code>longitude</code>.<br>\nsome of data rows have exact match tandem values on 2 columns  .</p>\n\n<pre><code>/* Points Table */\nlat |long\n2.1 |5.8\n2.1 |5.6    -Set as Group\n2.1 |5.6    -Set as Group\n2.1 |5.6    -Set as Group\n2.3 |5.2\n2.4 |5.3\n2.5 |5.3    -Set as Group\n2.5 |5.3    -Set as Group\n2.6 |5.3\n2.5 |5.3\n</code></pre>\n\n<p>I want to set as Group tandem values of 2 columns , for example the result of my SQL Query Like :  </p>\n\n<pre><code>/* Points Table */\nlat |long\n2.1 |5.8\n2.1 |5.6    -Grouped\n2.3 |5.2\n2.4 |5.3\n2.5 |5.3    -Grouped\n2.6 |5.3\n2.5 |5.3\n</code></pre>\n\n<p>How can i do this ?</p>\n"},{"tags":["php","apache",".htaccess","cakephp","tomcat"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13246386,"title":"Using CakePHP on apache tomcat server","body":"<p>I have 2 platform for single application, one is in jsp and another is in php (I am using CakePHP).</p>\n\n<p><strong>What I want to do ?</strong></p>\n\n<p>Now we want to share session between two platform, in that case we need to use single web platform that can deploy php and jsp webpage.</p>\n\n<p><strong>What is the issue?</strong></p>\n\n<p>Now the issue is <code>.htaccess</code> file is not working on apache tomcat server, so we are not able to use CakePHP. Is there any way to use Using CakePHP on apache tomcat server ?</p>\n\n<p>I found this \n<a href=\"http://tuckey.org/urlrewrite/\" rel=\"nofollow\">http://tuckey.org/urlrewrite/</a> can solve my problem ? If yes how ?</p>\n\n<p>My <code>.htaccess</code> file  </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n   RewriteEngine on\n   RewriteRule    ^$ app/webroot/    [L]\n   RewriteRule    (.*) app/webroot/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Thanks In Advance</p>\n\n<p>Cheers!</p>\n"},{"tags":["php","date","datetime"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13231028,"title":"get a date for each week at a specific hour","body":"<p>I would like to generate each dates (timestamp) that start now, on every monday, at a specific time, say 16h30, 17h00 and 14h00.</p>\n\n<p>This code almost works, but the hour is the current one, instead of <code>$hours[$i]</code>, and it's also the current day of the week instead of the next monday</p>\n\n<pre><code>$hours = array('16h30', '17h00', '14h00');\nfor ($i = 0; $i &lt; 3; $i++) {\n    // how to specify the hour $hours[$i] ?\n    $dates[] = strtotime(\"+$i weeks 0 days\");\n}\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>monday 5 november, 16h30\nmonday 12 november, 16h30\nmonday 19 november, 16h30\n...\n</code></pre>\n"},{"tags":["php","google-alerts"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":219,"score":3,"question_id":12009082,"title":"Google Alert API for PHP","body":"<p>Is there any free Google alert Api out there ? I am trying to build the php application with google alert. But it seems that there is no such api </p>\n"},{"tags":["php","sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":13250975,"title":"PHP SQL No result returned","body":"<p>$block is not being returned. The problem seems to arise during the while statement. I have used this script before, only slightly different, so i know it is something fairly minor. Any help would be greatly appreciated, thanks in advance. </p>\n\n<pre><code>&lt;?php\nif (isset($_GET['filter_tag'])) {\n    $filter_tag = $_GET['filter_tag'];\n}\n\n    if (@mysql_connect('xxxxxxxxx','xxxxxxxxxx','xxxxxxxxxx')) {\n        if (mysql_select_db('xxxxx')) {\n                $query = \" SELECT blocks . CNO, blocks . CName, blocks . URL, images . Ipath FROM blocks LEFT JOIN images ON blocks . INO = images . INO WHERE CNO LIKE 'mysql_real_escape_string($filter_tag)' \";\n        $query_run = mysql_query($query);\n        } while ($query_row = mysql_fetch_assoc($query_run)) {      \n            echo $block =   '&lt;li id=\"'.$query_row['CNO'].'\" class=\"block\" data-toggle=\"modal\" data-target=\"#blocklModal\" &gt;\n        &lt;a href=\"'.$query_row['URL'].'\" target=\"_blank\"&gt;\n        &lt;img class=\"b\" src=\"'.$query_row[\"Ipath\"].'\" alt=\"\" data-controls-modal=\"block-modal\" data-backdrop=\"static\"&gt;\n        &lt;/a&gt;\n        &lt;p class=\"c-title\"&gt;'.$query_row['Name'].'&lt;/p&gt;\n        &lt;/li&gt;';\n        }\n    }\n?&gt;\n</code></pre>\n"},{"tags":["php","ffmpeg"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13252789,"title":"Upload video that filmed by iPhone","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3937387/rotating-videos-with-ffmpeg\">Rotating videos with FFmpeg</a>  </p>\n</blockquote>\n\n\n\n<p>When somebody film a video and upload to my website It appears in the horizontally\nHow can I make this vertical? using ffmpeg?</p>\n\n<p>and its only heppend if he film its horizontally.</p>\n\n<p>Sorry for my English</p>\n"},{"tags":["php","browser","user-agent"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13252603,"title":"How works HTTP_USER_AGENT","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2780652/why-navigator-appcodename-returning-mozilla\">Why navigator.appCodeName returning Mozilla?</a>  </p>\n</blockquote>\n\n\n\n<p>When I grap the PHP server variabele HTTP_USER_AGENT with this code:</p>\n\n<pre><code>&lt;?php\n   $useragent = $_SERVER ['HTTP_USER_AGENT'];\n   echo \"&lt;b&gt;Your User Agent is&lt;/b&gt;: \" . $useragent;\n?&gt;\n</code></pre>\n\n<p>I get this in Google chrome: </p>\n\n<blockquote>\n  <p>Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4</p>\n</blockquote>\n\n<p>This in firefox: </p>\n\n<blockquote>\n  <p>Mozilla/5.0 (Windows NT 6.1; rv:16.0) Gecko/20100101 Firefox/16.0</p>\n</blockquote>\n\n<p>And this in IE: </p>\n\n<blockquote>\n  <p>Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; BOIE9;NLNL)</p>\n</blockquote>\n\n<p>My obvious question how does this work. Why does my user-agent says Mozilla and Windows NT while I am using Google chrome?</p>\n\n<p>Also why when I use firefox or IE.</p>\n"},{"tags":["php","amazon-s3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13250067,"title":"Allowing a user to upload an MP3 to Amazon S3","body":"<p>I’m working on a website where users can upload podcasts. Podcasts are to be MP3 files, and stored in an Amazon S3 bucket.</p>\n\n<p>What is the normal flow for this? I’ve Googled, but any articles relating to file uploads tend to be using the Amazon client libraries, and ideally I don’t want to use PHP (I’m using the LAMP stack) for uploading an MP3 file due to timeouts, file size limits etc.</p>\n\n<p>Is there a way around this?</p>\n"},{"tags":["php","operators"],"answer_count":5,"favorite_count":0,"up_vote_count":27,"down_vote_count":0,"view_count":693,"score":27,"question_id":4294579,"title":"Difference between <> and != in PHP","body":"<p>Simple question, in PHP, is there anything difference between <code>!=</code> and <code>&lt;&gt;</code> operators?</p>\n\n<p>In the <a href=\"http://php.net/manual/en/language.operators.comparison.php\" rel=\"nofollow\">manual</a> is states:</p>\n\n<pre><code>$a != $b    Not equal   TRUE if $a is not equal to $b.\n$a &lt;&gt; $b    Not equal   TRUE if $a is not equal to $b.\n</code></pre>\n\n<p>Thanks!! I guess there are no huge differences but I'm curious :)</p>\n"},{"tags":["php","jquery","content-type"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":41,"score":-8,"question_id":13252675,"title":"header content type in jquery ajax post","body":"<pre><code>function post(form) {\n    loading(1);\n    $.ajax({\n        type: 'POST',\n        dataType: 'JPG',\n        url: 'collage.php',\n        data: $('#' + form).serialize(),\n        success: function(data) {\n            $('#result').html(data);\n        }\n    });\n    return false;\n}​\n</code></pre>\n"},{"tags":["php","arrays","pattern-matching"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":182,"score":1,"question_id":9589151,"title":"How to get only the first matched value in an array","body":"<p>Edit: I meant to ask what is the best/fastest way to get the first match or the first xx matches.</p>\n\n<p>I have an array </p>\n\n<pre><code>$arr = ('abc', 'ded', 'kjld', 'abr', 'cdfd');\n</code></pre>\n\n<p>I want to <code>shuffle</code> this array first, and then retrieve ONLY the first value that matches the pattern <code>/ab/</code>.  So, the returned value could be abc or abr.</p>\n\n<p>I looked at <code>preg_grep</code>, but it will return an array of all the matches.  Of course I could just retrieve the first value of the resultant array, but that is wasteful and requires an extra step of array manipulation.  Is there another function or a <code>preg_grep</code> switch that specifies return only the first matched value (or first 5 matched values). I have looked at <code>preg_match</code> and <code>preg_search</code>, but they don't seem to give what I want.</p>\n"},{"tags":["php","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13252672,"title":"Ajax Max Redirect","body":"<p>I'm trying to run a script that imports information based on a large data source. To make sure it doesn't timeout (i can't use settimelimit), i end up doing a redirect to the same page with different parameters to continue import at a certain point in time.</p>\n\n<p>To make this script work with a cronjob, i was able to call:</p>\n\n<pre><code>wget \n    --max-redirect=10000\n    --no-check-certificate\n    --delete-after\n    http://www.xyz.com/admin/update_products.php?key=abc\n</code></pre>\n\n<p>This allowed me to do the complete script easily... Problem, i now need to make this triggerable by the user. Thus i automaticaly thought of jQuery.ajax() to fix my issue. Problem is, jQuery.ajax() stops processing redirects after 20 redirects, just like my browser.</p>\n\n<p>So i'm wondering, is it my browser not accepting the redirect past the 20 limit or is it a standard between all protocols to stop at 20 redirect.</p>\n\n<p>Can i configure the AJAX request to actually go more than 20 requests or will i have to change my script to support both scenarios, one with cronjob that requires auto redirect and one with a url response that tells ajax to go \"there\" next!</p>\n\n<p>Thankx</p>\n"},{"tags":["php","soap","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13233313,"title":"Soap post request to ASP.NET server php curl nested array","body":"<p>I'm facing this problem from some days but still i can't find any answer or solution either on the net or to my previous question (wich actually had some errors).</p>\n\n<p>That's the scenario. I have to consume gls webservice to add parcel or list inserted parcel.\nI'm using curl to construct client and make the call, here is the code from the class:</p>\n\n<pre><code>/*Headers*/\npublic function buildGlsHeaders($glsCall,$gls_lenght,$soap_action)\n{       \n    //header soap 1.1\n    $headers = array(\n        \"Content-Type: text/xml; charset=utf-8\",\n        \"Content-Length: \" . $gls_lenght,\n        $soap_action,\n        );\n\n    return $headers;\n}\n\n/*Request*/\npublic function sendRequest($glsCall, $requestBody, $gls_lenght, $soap_action)\n{\n    $cookiePath = tempnam('/tmp', 'cookie');\n\n    //build gls headers using variables passed via constructor as well as the gls call to use\n    $headers = $this-&gt;buildGlsHeaders($glsCall, $gls_lenght, $soap_action);\n\n    //initialise a CURL session\n    $connection = curl_init();\n\n    //set the server we are using \n    curl_setopt($connection, CURLOPT_URL, 'http://weblabeling.gls-italy.com/IlsWebService.asmx');\n\n    //Time out\n    curl_setopt($connection, CURLOPT_CONNECTTIMEOUT, 10);\n    curl_setopt($connection, CURLOPT_TIMEOUT, 10);\n\n    //set it to return the transfer as a string from curl_exec\n    curl_setopt($connection, CURLOPT_RETURNTRANSFER, true);\n\n    //stop CURL from verifying the peer's certificate\n    curl_setopt($connection, CURLOPT_SSL_VERIFYPEER, false);\n    curl_setopt($connection, CURLOPT_SSL_VERIFYHOST, false);\n\n    //set method as POST\n    curl_setopt($connection, CURLOPT_POST, true);\n\n    //set the XML body of the request\n    curl_setopt($connection, CURLOPT_POSTFIELDS, $requestBody);\n\n    //set the headers using the array of headers\n    curl_setopt($connection, CURLOPT_HTTPHEADER, $headers);\n\n    //Header\n    curl_setopt($connection, CURLINFO_HEADER_OUT, true);\n    curl_setopt($connection, CURLOPT_HEADER, true);\n\n    curl_setopt($connection, CURLOPT_COOKIEJAR, $cookiePath);\n\n    //Send the Request\n    $response = curl_exec($connection);\n\n    print_r(curl_getinfo($connection));\n\n    echo \"\\n\" . 'Header Code: ' . curl_getinfo($connection, CURLINFO_HTTP_CODE) . \"\\n\\n\";\n\n    //close the connection\n    curl_close($connection); \n\n    //return the response\n    return $response;\n}\n</code></pre>\n\n<p>Variables $glsCall, $requestBody, $gls_lenght, $soap_action come from the script itself:</p>\n\n<pre><code>$soap_action = \"SOAPAction: \\\"http://weblabeling.gls-italy.com/AddParcel\\\"\";\n\n$gls_lenght = strlen($xml); \n</code></pre>\n\n<p>and the request is sent by the line:</p>\n\n<pre><code>/*AddParcel*/\n$glsResponse = $gls-&gt;sendRequest('AddParcel', $xml, $gls_lenght, $soap_action);\n\n/*ListSped*/\n$glsResponse = $gls-&gt;sendRequest('ListSped', $xml, $gls_lenght, $soap_action);\n</code></pre>\n\n<p>Now both calls are constructed in the same way, but one of them is nested:</p>\n\n<pre><code>$Label = array(\n                'XMLInfoParcel' =&gt; array(\n                'Info' =&gt; array(\n                    'SedeGls' =&gt; $SedeGls,\n                    'CodiceClienteGls' =&gt; $CodiceClienteGls,\n                    'PasswordClienteGls' =&gt; $PasswordClienteGls,                \n                    'Parcel' =&gt; array(\n                                       'CodiceContrattoGls' =&gt; $cod_cont,\n                                       'RagioneSociale' =&gt; $rag_soc,\n                                       'Indirizzo' =&gt; $delivery_indirizzo,\n                                       'Localita' =&gt; $delivery_city,\n                                       'Zipcode' =&gt; $data['delivery_postcode'],\n                                       'Provincia' =&gt; $data['zone_code'],\n                                       'Bda' =&gt; '',\n                                       'DataDocumentoTrasporto' =&gt; '',\n                                       'Colli' =&gt; '1',\n                                       'Incoterm' =&gt; '',\n                                       'PesoReale' =&gt; '1,00',\n                                       'ImportoContrassegno' =&gt; $imp_cont,\n                                       'NoteSpedizione' =&gt; $data['customers_telephone'],\n                                       'TipoPorto' =&gt; 'F',\n                                       'Assicurazione' =&gt; $ass_ins,\n                                       'PesoVolume' =&gt; '',\n                                       'TipoCollo' =&gt; $tipo_collo,\n                                       'FrancoAnticipata' =&gt; '',\n                                       'RiferimentoCliente' =&gt; '',\n                                       'NoteAggiuntive' =&gt; '',\n                                       'CodiceClienteDestinatario' =&gt; '',\n                                       'Email' =&gt; '',\n                                       'Cellulare1' =&gt; $telefono,\n                                       'Cellulare2' =&gt; '',\n                                       'ServiziAccessori' =&gt; '',\n                                       'ModalitaIncasso' =&gt; $mod_inc    \n                                  ),),),                                \n                );\n</code></pre>\n\n<p>and the other one is not:</p>\n\n<pre><code>/*Request*/\n    $listsp = array(\n                    'SedeGls' =&gt; $SedeGls,\n                    'CodiceClienteGls' =&gt; $CodiceClienteGls,\n                    'PasswordClienteGls' =&gt; $PasswordClienteGls \n                    );\n</code></pre>\n\n<p>those are requested input:</p>\n\n<p>AddParcel</p>\n\n<p><img src=\"http://i.stack.imgur.com/18t1B.jpg\" alt=\"enter image description here\"></p>\n\n<p>List Sped</p>\n\n<p><img src=\"http://i.stack.imgur.com/kqv6F.jpg\" alt=\"enter image description here\"></p>\n\n<p>As you can see the input format is different, here is the schema of AddParcel \"string\"</p>\n\n<p><img src=\"http://i.stack.imgur.com/aIxmP.png\" alt=\"enter image description here\"></p>\n\n<p>It continues with other fields and close with </p>\n\n<pre><code>       &lt;/Parcel&gt;\n  &lt;/Info&gt;\n</code></pre>\n\n<p>ListSped call works perfectly while AddParcel doesn't, it always return a 400 Bad request header.\nI assume xml is correct since i sent it to GLS IT support and they confirm me it works when uploaded directly. Unfortunatly they don't give support for php.</p>\n\n<p>I was thinking about the nested array causing the problem but i don't feel like possible since if i change xml structure webservice answers correctly: \"xml structure is wrong\".</p>\n\n<p>I've been looking around and i found some other people with the same problems but no solutions is found. I would like to make the script works in php instead of using other languages wich i don't really know anything about.</p>\n"},{"tags":["php","sql","cursor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13252358,"title":"cursor in sqlsrv_query not working","body":"<p>Given this SQL statement that uses a cursor to loop through each row of a table and update a row in another table:</p>\n\n<pre><code>DECLARE @x varchar(100)\nDECLARE @y varchar(100)\nDECLARE c CURSOR FOR\nSELECT col1, col2 FROM table\nOPEN c\nFETCH NEXT FROM c INTO @x, @y\nWHILE @@FETCH_STATUS = 0\nBEGIN\nUPDATE table2 SET cola = @x WHERE colb = @y\nFETCH NEXT FROM c INTO @x, @y\nEND\nCLOSE c\nDEALLOCATE c;\n</code></pre>\n\n<p>If I run this statement directly within SQL console or Navicat, everything works as expected.  But if I run it in PHP using:</p>\n\n<pre><code>sqlsrv_query($sql)\n</code></pre>\n\n<p>only SOME of the rows in table2 are actually updated.  It seems the cursor in the SQL statement does not properly execute, perhaps sqlsrv_query returns while the statement's cursor is still running?  </p>\n\n<p>Is there a way to instruct sqlsrv_query to 'wait' until the statement is fully done executing before returning a result?</p>\n"},{"tags":["php","security","gif"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13250471,"title":"GIF/Jpeg File containing PHP code","body":"<p>Testing a web application, I can upload GIF/Jpeg files and I know there is a possible threat when including PHP Code properly in that GIF/Jpeg (because it is modified using <a href=\"http://php.net/imagecreatetruecolor\" rel=\"nofollow\">imagecreatetruecolor</a> and <a href=\"http://php.net/imagejpeg\" rel=\"nofollow\">imagejpeg</a>).</p>\n\n<p>I was looking for an existing GIF file containing a simple PHP code (like phpinfo or echo 'hello world') just to validate that the threat was concrete.</p>\n\n<p>What would be perfect is a specifically crafted GIF image containing PHP Code in the middle OR in the palette color, but I was unsuccessful to find one.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":30,"score":-2,"question_id":13231821,"title":"Php image Download issue in server?","body":"<p>Actually I downloaded the images from another server to my client server. It does not download all images for example if 1000 images available in another server it donwloads only 200 0r some other limits.Also i didn't find any error messages</p>\n\n<p>Can anyone guide what is actual problem?. I wasted a huge time to fix this issue. I attach the code for your reference</p>\n\n<pre><code>&lt;?php   \n    $conn_id = ftp_connect($ftp_server);&lt;br/&gt;\n    ftp_set_option($conn_id, FTP_TIMEOUT_SEC,12000);&lt;br/&gt;\n    @ftp_login($conn_id, $ftp_user, $ftp_pass);&lt;br/&gt;\n    $server=\"/httpdocs/images/Photo\";&lt;br/&gt; \n    $designation = \"/home/global/public_html/images/photo\";&lt;br/&gt;\n    $content = ftp_nlist($conn_id,$server);&lt;br/&gt;\n    for($i=0;$i&lt;=count($content);$i++){&lt;br/&gt;\n        $exp = explode(\"\\\\\",$content[$i]);&lt;br/&gt;\n        $images_list[$i] = $exp[1];&lt;br/&gt;\n    }&lt;br/&gt;\n    $images_count = count($images_list);&lt;br/&gt;\n    $image_loop = $images_count/100;&lt;br/&gt;\n    $img_loop_count = round($image_loop);&lt;br/&gt;\n    $i=0;&lt;br/&gt;\n    $img_per_loop_start = 0;&lt;br/&gt;\n    $img_per_loop_end = 100;&lt;br/&gt;\n    while($i&lt;=$img_loop_count)&lt;br/&gt;\n    {&lt;br/&gt;\n        for($j=$img_per_loop_start;$j&lt;$img_per_loop_end;$j++)&lt;br/&gt;\n        {&lt;br/&gt;\n            $source=\"/httpdocs/images/Photo/\".$images_list[$j];&lt;br/&gt;\n            $dest = \"/home/global/public_html/images/photo/\".$images_list[$j];&lt;br/&gt;\n                ftp_get($conn_id,$dest,$source,FTP_BINARY);&lt;br/&gt;\n\n        }&lt;br/&gt;\n\n        $i++;&lt;br/&gt;\n        $img_per_loop_start = $img_per_loop_start+100;&lt;br/&gt;\n        $img_per_loop_end = $img_per_loop_end+100;&lt;br/&gt;\n    }&lt;br/&gt;\n\n     ftp_close($conn_id);&lt;br/&gt;\n?&gt;\n</code></pre>\n"},{"tags":["php","random"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":4479,"score":3,"question_id":6101956,"title":"Generating a random password in php","body":"<p>I am trying to generate a random password in php. </p>\n\n<p>However I am getting all 'a's and the return type is of type array and I would like it to be a string. Any ideas on how to correct the code?</p>\n\n<p>Thanks.</p>\n\n<pre><code>function randomPassword() {\n    $alphabet = \"abcdefghijklmnopqrstuwxyzABCDEFGHIJKLMNOPQRSTUWXYZ0123456789\";\n    for ($i = 0; $i &lt; 8; $i++) {\n        $n = rand(0, count($alphabet)-1);\n        $pass[$i] = $alphabet[$n];\n    }\n    return $pass;\n}\n</code></pre>\n"},{"tags":["php","apache","web-config","fedora","httpd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":12,"score":-1,"question_id":13252462,"title":"How to access to somelink:12345 and really access to somelink/someFolder","body":"<p>What I'm searching for is a way to have, for example phpMyAdmin in a sopecific folder on my apache docroot.\nThen, from an url like:\nlocalhost:12345\naccess to this folder like I type:\nlocalhost/phpMyAdmin</p>\n\n<p>Basically this two links must show the same content.</p>\n\n<p>I've found something here, maybe: <a href=\"http://serverfault.com/questions/195611/how-do-i-redirect-subdomains-to-a-different-port-on-the-same-server\">http://serverfault.com/questions/195611/how-do-i-redirect-subdomains-to-a-different-port-on-the-same-server</a> . If not, how can I do this?</p>\n\n<p>My system is based on Fedora 17, with apache 2.2.22 and php 5.4.7</p>\n"},{"tags":["php","mysql"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":13252250,"title":"Mysql Connect error: not showing anything at all","body":"<p>I am currently working with <code>mysql_connect()</code> even though it's use is discouraged. My web service does not support <code>PDO</code>. I currently had my code formatted into <code>PDO</code> but now i have been forced to change it to <code>mysяl_connect()</code>. After these changes now I am receiving a page error and nothing displays. I am including a <code>database_connect.php</code> that is working with another page just not with my adapted code. What is the issue in my code that is causing this error? Here is my <a href=\"http://capstone.otiummusic.com/classes.php\" rel=\"nofollow\">PAGE</a></p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>include ('./snippets/db_connect.php');\n\n      $query = (\"SELECT  class_name, class_caption, class_credit_hours, class_description\n                 FROM class                          \n                 \");\n      $query-&gt;execute();\n\n     if ($query-&gt;execute()){\n\n    $totalhours = 0;\n\n    while ($row = mysql_fetch_assoc( $query )){  \n        print \"&lt;b&gt;\" . $row['class_name'] . \"&lt;/b&gt;&lt;br&gt;\";\n        print $row['class_caption'] . \"&lt;br&gt;\";\n        print $row['class_description'] . \"&lt;br&gt;\";\n        print $row ['class_credit_hours'] . \"hrs. &lt;br&gt;\";\n\n        print \"------------------------------&lt;br /&gt;\";\n        $totalhours += $row['class_credit_hours']; \n    }\n\n    print \"&lt;p&gt;Total hours for Major: \" . $totalhours . \".&lt;/p&gt;\";\n\n    \"&lt;div&gt; &lt;/div&gt;\"\n</code></pre>\n"},{"tags":["php","javascript","api"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13252352,"title":"How to Include link+id in javascript","body":"<p>what iam trying to do basically and i didnt succeed is getting id from link</p>\n\n<pre><code>&lt;input type=\"hidden\" value=\"&lt;?PHP echo $_GET['id']; ?&gt;\"&gt;\n</code></pre>\n\n<p>retrieve the id using javascript variable add it to api.php </p>\n\n<pre><code>    var id = $(\"#id\").val();\n    var firstname = $(\"#firstname\").val();\n    var name = $(\"#name\").val();\n    var state = $(\"#state\").val();\n    var dataString = 'firstname='+ firstname + '&amp;name=' + name + '&amp;state=' + state;\n\n    if(firstname=='' || name=='' || state=='')\n    {\n        $('.success0').fadeOut(200).hide();\n        $('.error').fadeOut(200).show();\n    }else{\n        $.ajax({\n        type: \"POST\",\n        url: \"api.php+id\",\n        data: dataString,\n</code></pre>\n\n<p>After the api.php would pickup the id, but unfortunately it dosent work</p>\n\n<pre><code>exec('curl -b cookies -c cookies -X POST -d @file.json http://sand.api.xxx.com/item?id='. $_GET['id']);\n</code></pre>\n"},{"tags":["php","jquery","ajax","curl"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":13252394,"title":"jQuery $.ajax() to PHP CURL","body":"<p>I am looking to translate the following into PHP CURL.</p>\n\n<pre><code>$.ajax({\n  url:\"MY_URL\",\n  cache: false,\n  type: \"POST\",\n  data: \"\",\n  dataType: \"xml\",\n  success: function(data) { \n    alert('Eureka!')\n    }\n});\n</code></pre>\n\n<p>I'm particularly interested in figuring out how I have to alter the following to get the dataType set to xml. The following code is not working:</p>\n\n<pre><code>$ch = curl_init('MY_URL');\ncurl_setopt($ch, CURLOPT_HEADER, 0); // get the header \ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); \ncurl_setopt($ch, CURLOPT_FRESH_CONNECT, 1);\ncurl_setopt($ch,CURLOPT_HTTPHEADER,array (\n      \"Content-Type: xml; charset=utf-8\",\n      \"Expect: 100-continue\",\n      \"Accept: xml\"\n     ));\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["php","javascript"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13251815,"title":"php file_put_contents can't create files on apache server directory","body":"<p>I have installed apache server on a linux fedora machine\nand I put the following test.php and test.html on var/www/html\nbut when I open the 127.0.0.1/test.html on firefox\nthe test.php doesn't create the text.txt file, let alone write the string to the file\nand the there is also no output for \"echo $var\" </p>\n\n<p>the error is </p>\n\n<pre><code>Warning: file_put_contents(test.txt): failed to open stream: Permission denied in /var/www/html/getdata.php on line 7\n</code></pre>\n\n<p>the permission for the directory is:</p>\n\n<pre><code>drwxr-xr-x. 2 root root 4096 Nov  6 14:14 html\n</code></pre>\n\n<p>test.php:</p>\n\n<pre><code>&lt;?php\n$v=\"x\";\n$fname='test.txt';\n$rv=file_put_contents($fname,$v);\necho $rv;\necho $v;\n?&gt;\n</code></pre>\n\n<p>the test.html is so complex coz I planned to write something complex to a file on the server, but since there is some problem, I simplified the test.php</p>\n\n<p>test.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;form id=\"yourFormID\" method=\"POST\" action=\"/getdata.php\" &gt;&lt;/form&gt;\n\n&lt;script&gt;\n  function sendArray( theArray )\n  {\n    var frm = document.getElementById('yourFormID');\n    fld = document.createElement(\"INPUT\");\n    fld.name =\"data\"; \n    fld.type = \"hidden\";\n    fld.value = JSON.stringify(theArray);\n    frm.appendChild(fld);  \n    frm.submit();\n   }\n\n   var yourArray = [0.000023323,0.00001292,0.00003323];\n\n    sendArray( yourArray );\n\n    &lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":["php","mysql","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13251933,"title":"SQL : Match IN operator with anything","body":"<p>I am trying to build a dynamic query.</p>\n\n<p>This works fine :</p>\n\n<pre><code>$qstring=\"10000, 10001, 10003, 10005\";\n\nSELECT *\nFROM orders\nWHERE order_id in ($qstring);\n</code></pre>\n\n<p>This also works fine when I have no data to match and select.</p>\n\n<pre><code>$qstring=\"\";\n\nSELECT *\nFROM orders\nWHERE order_id in ($qstring);\n</code></pre>\n\n<p>Does something like below exists to match any data? I checked out the pattern matching for SQL but found nothing that could match everything.</p>\n\n<pre><code>$qstring=\"*\";\n\nSELECT *\nFROM orders\nWHERE order_id in ($qstring);\n</code></pre>\n\n<p>Any hints? Thanks!</p>\n"},{"tags":["php","pdf","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13251686,"title":"save generate pdf to server","body":"<p>I am developing an application and I need to create pdf files. using pdfbundle </p>\n\n<pre><code>public function helloAction($id)\n        {\n    $format = $this-&gt;get('request')-&gt;get('_format');\n    $venta = $this-&gt;getDoctrine()-&gt;getRepository('miomioBundle:Venta')-&gt;find($id);\n    $lineas = $venta-&gt;getLineas();\n    $cliente = $venta-&gt;getCliente();\n    $empleado = $venta-&gt;getEmpleado();\n    //return new Response ($cliente-&gt;getNombre());\n    $pdf = $this-&gt;render(sprintf('miomioBundle:Venta:helloAction.%s.twig', $format), array('cliente' =&gt; $cliente,'empleado' =&gt; $empleado,\n        'venta' =&gt; $venta,\n        'lineas' =&gt; $lineas\n        ));\n\n    $hi = \"hiii\";\n    //file_put_contents('holajiji.pdf', $pdf);\n    file_put_contents( 'hi.txt', $hi);\n    return $pdf;\n        }\n</code></pre>\n\n<p>The function generates the txt file correctly but when I try to do the same with the pdf I displayed a lot of other odd characters.</p>\n\n<pre><code>%PDF-1.4 %���� 1 0 obj &lt;&gt; endobj 2 0 obj &lt;&gt; endobj 3 0 obj &lt;&gt; endobj 4 0 obj [] endobj 5 0 obj &lt;&gt; endobj 6 0 obj &lt;&gt; endobj 7 0 obj &lt;&gt; /XObject &lt;&gt; &gt;&gt; /MediaBox [0 0 595 842 ] /Contents [8 0 R ] /Parent 2 0 R &gt;&gt; endobj 8 0 obj &lt;&gt; stream /F1 9 Tf 0 g 0 G q 0.69 0.878 0.9020000000000000 RG 0.69 0.878 0.9020000000000000 rg 39 586 m 93.25 586 l 93.25 570 l 39 570 l 39 586 l h f Q q 1 0.753 0.796 RG 1 0.753 0.796 rg 447.5 586 m 501.75 586 l 501.75 570 l 447.5 570 l 447.5 586 l h f Q q 0.69 0.878 0.9020000000000000 RG 0.69 0.878 0.9020000000000000 rg 501.75 586 m 556 586 l 556 570 l 501.75 570 l 501.75 586 l h f Q q 0.9020000000000000 0.9020000000000000 0.98 RG 0.9020000000000000 0.9020000000000000 0.98 rg 39 432 m 142.4 432 l 142.4 416 l 39 416 l 39 432 l h f Q q 0.9020000000000000 0.9020000000000000 0.98 RG\n</code></pre>\n\n<p>if open witch text editor the archive generate :</p>\n\n<pre><code>HTTP/1.0 200 OK\nCache-Control: no-cache\nContent-Type:  text/html; charset=UTF-8\nDate:          Tue, 06 Nov 2012 12:59:43 GMT\n\n&lt;pdf&gt; \n    &lt;page document-template=\"holita.pdf\"&gt;\n        &lt;img src=\"/var/www/Symfony/src/mio/mioBundle/Resources/public/images/optinet.png\" float=\"left\" height=\"100px\" width=\"300px\" /&gt;\n        &lt;h1 float=\"right\" text-decoration=\"underline\"&gt;Factura Número: 4&lt;/h1&gt;\n        &lt;p&gt;&lt;h1 float=\"right\"&gt;Fecha: 06/11/2012 &lt;/h1&gt;&lt;/p&gt;\n        &lt;table text-align=\"left\" margin-bottom=\"30%\"&gt;\n          &lt;tr&gt;\n</code></pre>\n\n<p>thanks.</p>\n"},{"tags":["php","authorization","mediawiki","session-cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13207692,"title":"How to authorize user in MediaWiki 1.19 without password?","body":"<p>In my plugin I have only username or email and I have to authorize that user. I found next issue, but it didn't work for me:</p>\n\n<pre><code>    class ApiPlugin extends ApiBase {\n        public function execute() {\n            $params = $this-&gt;extractRequestParams();\n\n            switch ( $params['do'] ) {\n                case 'login':\n                    // Registering. Works fine.\n                    $user = User::newFromName( 'admin' );\n                    $user-&gt;setEmail( admin@email.com );\n                    $user-&gt;setRealName( 'admin' );\n                    $uid = $user-&gt;idForName();\n\n                    if ( $uid === 0 ) {\n                        $user-&gt;addToDatabase();\n                        $user-&gt;setPassword( generate_password() );\n                        $user-&gt;saveSettings();\n                    }\n                    $ssu = new SiteStatsUpdate( 0, 0, 0, 0, 1 );\n                    $ssu-&gt;doUpdate();\n\n                    if ($user-&gt;isLoggedIn()) $user-&gt;doLogout();\n\n                    //Logging in.\n                    $id = User::idFromName('admin');\n                    $user-&gt;setID($id);\n                    $user-&gt;loadFromId();\n\n                    $user-&gt;setToken();\n                    $user-&gt;saveSettings();\n\n                    wfSetupSession();\n                    $user-&gt;setCookies();\n                    break;\n            }\n\n        }\n    }\n</code></pre>\n\n<p>Also, another issue was getting password hash straight from DB, but it is barbarism...<br />\nThanks in advance!</p>\n"},{"tags":["php","linux","daemon"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":28,"score":3,"question_id":13251981,"title":"Daemonized PHP: master process exits when child one crashes","body":"<p>I have number of linux daemons written in PHP to do some background work.\nThere is one \"master\" process which sometimes spawns worker processes via <code>pcntl_fork</code> and controls them.</p>\n\n<p>Here is the (quite trivial) code:</p>\n\n<pre><code>private function SpawnWorker($realm, $parallelismKey)\n{\n  $pid = pcntl_fork();\n\n  if ($pid)\n  {\n    $worker = DaemonInstance::Create($pid, $realm, $parallelismKey);\n    $worker-&gt;Store();\n    $this-&gt;workers[$pid] = $worker;\n    return $worker;\n  }\n\n  else if ($pid == 0) //  we're in child process now\n    return Daemon::REINCARNATE;\n\n  else\n    xechonl(\"#red#UNABLE TO SPAWN A WORKER ($realm, $parallelismKey)\");\n\n  return false;\n}\n</code></pre>\n\n<p>After returning with \"reincarnate\" value the new worker process calls <code>posix_setsid</code>, which returns a new session ID. But if this process crashes, the master one also silently exits.</p>\n\n<p>Is it possible to prevent this behavior and make the entire system more robust?</p>\n"},{"tags":["php","javascript","jquery","html"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13252161,"title":"Not dropped on other drag","body":"<pre><code>&lt;div class=\"drag\" style=\"height: 80px; width: 30px; background-color: red\"&gt;&lt;/div&gt;\n&lt;div class=\"drag\" style=\"height: 30px; width: 30px; background-color: green\"&gt;&lt;/div&gt;\n&lt;div class=\"drag\" style=\"height: 120px; width: 30px; background-color: blue\"&gt;&lt;/div&gt;\n\n&lt;table id=\"droppable\" border=\"1\"&gt;\n    &lt;tr&gt; &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n\n​    $(function() {\n        $( \".drag\" ).draggable();\n        $( \"#droppable td\" ).droppable({\n            drop: function( event, ui ) {\n                console.log($(this));\n            }\n        });\n    });​\n</code></pre>\n\n<p>How can i disable dropped .drag on other .drag? For example if i drop <strong>red</strong> box on field <strong>a1</strong> then box green and blue shouldn't drop on fields from a1 to a4.</p>\n"},{"tags":["php","phalcon"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13244087,"title":"DI,Service Name Conventions.why not has viewCache?","body":"<p><a href=\"http://docs.phalconphp.com/en/0.6.0/reference/di.html\" rel=\"nofollow\">http://docs.phalconphp.com/en/0.6.0/reference/di.html</a></p>\n\n<p>in public/index.php, codeing :</p>\n\n<pre><code>        $di-&gt;set('viewCache', function(){\n\n        //Cache data for one day by default\n        $frontCache = new Phalcon\\Cache\\Frontend\\Output(array(\n                \"lifetime\" =&gt; 86400\n        ));\n\n        //Memcached connection settings\n        $cache = new Phalcon\\Cache\\Backend\\File($frontCache, array(\n                \"cacheDir\" =&gt; \"../apps/caches/\"\n        ));\n\n        return $cache;\n    });\n</code></pre>\n\n<p>that,in controller,i can use this->view->cache(), why not viewCache not in service name conventions?</p>\n"}]}
{"total":298830,"page":20,"pagesize":100,"questions":[{"tags":["php","string","tags","converter"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":6,"view_count":64,"score":-4,"question_id":13252219,"title":"How to preserve tags in strings","body":"<p>I have the following code:</p>\n\n<pre><code>&lt;?php\n\n$result = '&lt;test&gt;hello&lt;/test&gt;';\necho $result;\n\n?&gt;\n</code></pre>\n\n<p>When i execute it, then i only receive </p>\n\n<pre><code>hello\n</code></pre>\n\n<p>It seems so, that PHP deletes these tags in the string, when i try to give it out. How can i preserve these tags in the string?</p>\n"},{"tags":["php","factories"],"answer_count":4,"favorite_count":6,"up_vote_count":14,"down_vote_count":0,"view_count":2604,"score":14,"question_id":2083424,"title":"What is a Factory Design Pattern in PHP?","body":"<p>This confuses me, in the most simplest terms what does it do?  Pretend you are explaining to your mother or someone almost please.</p>\n"},{"tags":["php","mysql","database","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":13241786,"title":"How to Insert info to the database","body":"<p>Sorry for the long post. I got the index.html to work with the quiz1.php, but I can't get the questions and checkbox to work right meaning be inserted to the database with the other info from the index.html. It should insert the info from index.html and the info from quiz1.php. Need help getting this to work. </p>\n\n<p>This is what I have done so far.</p>\n\n<p>Form (index.html) First page (Gets the person info)</p>\n\n<pre><code>&lt;form action=\"quiz1.php\" method=\"post\"&gt;\n    Full Name: &lt;input type=\"text\" name=\"full_name\" /&gt;\n    Quiz Name: &lt;input type=\"text\" name=\"quiz_name\" /&gt;\n    Class Name: &lt;input type=\"text\" name=\"class_name\" /&gt;\n    Date: &lt;input type=\"text\" name=\"quiz_taken\" /&gt;\n    &lt;input type=\"submit\" value=\"Submit\" class=\"flashit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Quiz (quiz1.php) Second page (Puts the info from the index.html on the top)</p>\n\n<pre><code>&lt;?php\n// info from index.html\n$_SESSION['full_name']  = $_POST['full_name'];\n$_SESSION['quiz_name']  = $_POST['quiz_name'];\n$_SESSION['class_name'] = $_POST['class_name'];\n$_SESSION['quiz_taken'] = $_POST['quiz_taken'];\n\necho $_SESSION['full_name'];\necho \"&lt;br /&gt;\";\necho $_SESSION['quiz_name'];\necho \"&lt;br /&gt;\";\necho $_SESSION['class_name'];\necho \"&lt;br /&gt;\";\necho $_SESSION['quiz_taken'];\necho \"&lt;br /&gt;\";\necho \"&lt;br /&gt;\";\n\n?&gt;\n\n// quiz info\n\n&lt;?php\n\n$db_host = \"localhost\"; \n// Place the username for the MySQL database here \n$db_username = \"root\";  \n// Place the password for the MySQL database here \n$db_pass = \"\";  \n// Place the name for the MySQL database here \n$db_name = \"test\"; \n\n// Run the actual connection here  \nmysql_connect(\"$db_host\",\"$db_username\",\"$db_pass\") or die (\"could not connect to mysql\");\nmysql_select_db(\"$db_name\") or die (\"no database\");\n\n//retreive questions from database and put into question box\n$query2 = \"SELECT `id`, `question`, `aee`, `bee`, \"\n        . \"`cee`, `dee`, `quizAnswer` FROM `quiz1question`\";\n\n$question2    = mysql_query($query2);\n$answerFields = array(\n                    'aee'=&gt;'aee', \n                    'bee'=&gt;'bee', \n                    'cee'=&gt;'cee', \n                    'dee'=&gt;'dee'\n                );\n\nwhile ($row = mysql_fetch_array($question2))\n{\n\n    $id         = $row['id'];\n    $question   = $row['question'];\n\n    echo '&lt;form action=\"insert.php\" method=\"post\"&gt;';\n\n    // Print Question\n    printf('&lt;div id=\"ContainerQuestion\"&gt;');\n    printf('&lt;span class=\"Question\"&gt;%s. %s&lt;/span&gt;', $id, $question);\n\n    // Print Answers\n    foreach ($answerFields as $field=&gt;$ans)\n    {\n        if (array_key_exists($field, $row) &amp;&amp; $row[$field])\n        {\n            $checked = ($row[\"quizAnswer\"] == $ans) ? 'checked' : '';\n            printf(\n                '&lt;p&gt;&lt;input type=\"checkbox\" name=\"%s\" %s value=\"%s\"&gt;%s&lt;/p&gt;', \n                $id, \n                $checked, \n                $ans, \n                $row[$field]\n            );\n        }\n    }\n}\n\n echo '&lt;input type=\"submit\" value=\"Submit Quiz\"&gt;&lt;/form&gt;';\n\n?&gt;\n</code></pre>\n\n<p>results (insert.php) Third page (Input the info from page one and two to the database)</p>\n\n<pre><code>&lt;?php \n\n$localhost = \"localhost\";\n$username  = \"root\";\n$password  = \"\";\n$database  = \"test\";\n$table     = \"quiz_results\";\n\nmysql_connect(\"$localhost\",\"$username\",\"$password\") or die(mysql_error());\nmysql_select_db(\"$database\") or die(mysql_error());\n\n// question &amp; answers\n$mysql1 = \"INSERT INTO $table (question, aee, bee, cee, dee) \"\n        . \"VALUES ('$_POST[question]','$_POST[aee]',\"\n        . \"'$_POST[bee]','$_POST[cee]','$_POST[dee]')\";\n\nif(!mysql_query($mysql1)) \n{\n    die(mysql_error());\n}\n\n// insert Name, quiz name, class name, and quiz taken \n$mysql = \"INSERT INTO $table (full_name, quiz_name, class_name, quiz_taken) \"\n       . \"VALUES ('$_POST[full_name]','$_POST[quiz_name]',\"\n       . \"'$_POST[class_name]','$_POST[quiz_taken]')\";\n\nif(!mysql_query($mysql))\n{\n    die(mysql_error());\n}\n\n// echo\necho\"Thank you!\"; // mysql1\necho \"&lt;br /&gt;\";\necho\"Your Quiz has been Inserted\"; // mysql\n\nmysql_close();\n\n?&gt;\n</code></pre>\n"},{"tags":["php","deployment","symfony2","frameworks"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":2335,"score":6,"question_id":5731636,"title":"What's the preferred way of deploying a Symfony2 application?","body":"<p>With symfony 1, there was a simple built in task for doing deployments via rsync.</p>\n\n<pre><code>symfony project:deploy [--go] [--rsync-dir=\"...\"] [--rsync-options[=\"...\"]] server\n</code></pre>\n\n<p>For larger, more complicated projects, I was in the habit of extending or overwriting that task with something more robust, but it was useful to have in there for a simple application.</p>\n\n<p>My question: Is there a standard, conventional way for deploying a Symfony2 application?</p>\n\n<p>There are different bundles out there that add console commands:</p>\n\n<ul>\n<li><a href=\"https://github.com/dator/DeployBundle\">https://github.com/dator/DeployBundle</a></li>\n<li><a href=\"https://github.com/jfsimon/DeploymentBundle\">https://github.com/jfsimon/DeploymentBundle</a></li>\n</ul>\n\n<p>There is also <a href=\"http://capifony.org/\">Capifony</a>, which is really interesting but probably way more than I need for the simple app I'm working on.</p>\n\n<p>Is there something else that I'm missing? I guess I'm surprised there isn't a simple built in command available out of the box.</p>\n"},{"tags":["php","curl","cli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13251829,"title":"Removing file handle from cURL (CURLOPT_FILE)","body":"<p>For my cURL resource in PHP CLI, I have set a file stream as to where the downloaded content should be saved to, with the help of <code>curl_setopt(CURLOPT_FILE, $handle)</code>, where $handle is valid file resource where I can write to.</p>\n\n<p>Now I would like to reuse the same curl resource, clear the file handle so I can execute the curl requests and capture the output with output buffering.</p>\n\n<p>I've read that you're supposed to do <code>curl_setopt(CURLOPT_FILE, STDOUT)</code>, but the problem with that is that it bypasses the output buffer, and any request I execute is output to my cli and is not capturable by output buffering.\nI also tried closing the file handle, but that just made the responses disappear into void.</p>\n\n<p>So does anyone know the solution?</p>\n"},{"tags":["php","mysql","mysql-real-escape-string"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":34,"score":-1,"question_id":13251870,"title":"how to escape characters from external source to insert into database?","body":"<p><code>insert.php</code> is behind <code>htaccess/passwd</code></p>\n\n<p>It is grabbing data from an external source and then converting this into variables for insertion to database.  </p>\n\n<p>I am getting a mysql error that I believe is being caused by the existence of left and right parentheses ie (some text here) in the external source.</p>\n\n<p>I've used <code>mysql_real_escape_string</code> but it doesn't seem to be working in this case.  </p>\n\n<pre><code>$con = mysql_connect(\"localhost\",\"user_name\",\"password\");\nif (!$con)\n{\n    die('Could not connect: ' . mysql_error());\n}\n\nmysql_select_db(\"user_dbname\", $con);\n\n// escape characters\n$escaped_value = mysql_real_escape_string($var);\n\n$sql = \"INSERT INTO data (field1, field2, field3, field4, field5, field6)\n        VALUES ('$_POST[field1]','$_POST[field2]','$_POST[field3]','$_POST[field4]',\n                '$field5','$escaped_value', )\";\n;\n</code></pre>\n"},{"tags":["php","cakephp"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":174,"score":0,"question_id":9306759,"title":"how to know a cookie is set or not in cakephp","body":"<p>I've wrote an array to cakephp Cookie. I could perform read and write operations perfectly. But is there any direct way to know whether some cookie set or not ? . I mean like </p>\n\n<pre><code>if($this-&gt;Cookie('somevalue')==false) {\n return;\n}\n</code></pre>\n"},{"tags":["php","zend-framework","phpunit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13252043,"title":"Cannot access a generated PDF-file running PHPUnit","body":"<p>I stumbled upon a strange behavior in my unittests, within a Zend Framework based application.\nTo cut a long story short:</p>\n\n<ol>\n<li>I create an instance of an object O</li>\n<li>O has a private property $this->_pdf</li>\n<li>$this->_pdf should contain an array filled with an base64-encoded string provided by a webservice and its filename. The PDF size is roundabout 200KB.</li>\n<li>Now I try to access the property $this->_pdf from a public method of object O and the value of $this->_pdf is NULL</li>\n</ol>\n\n<p>Ironically this behavior occours only in the unittests. Testing my application manually I can access the array with PDF and its filename. Moreover With var_dump($this->_pdf) I can see the content of the array.</p>\n\n<p>Any ideas? Thanks in advance!  </p>\n"},{"tags":["php","google-analytics-api"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12873402,"title":"Google Analytics API PHP -Get Top 5 Pages","body":"<p>I'm trying to work out how to get the top 5 pages from my Google Analytics Project API in PHP. So far I've made the following code, but it doesn't appear to work - any ideas?</p>\n\n<pre><code> private function getTopPages($profileId) {\n\n   $optParams = array(\n      'sort' =&gt; 'ga:pageviews',\n      'max-results' =&gt; '5');\n\n   return $this-&gt;analytics-&gt;data_ga-&gt;get(\n       'ga:' . $profileId,\n       '2012-09-01',\n       '2012-09-30',\n       'ga:pagePath',\n       $optParams);\n\n}\n</code></pre>\n"},{"tags":["php","image","preg-replace","preg-match"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":342,"score":0,"question_id":8067370,"title":"Regex to replace image width and height in html content","body":"<p>Can you please tell me the regular expression to get the width and height of an image and to replace it with a custom width and height?</p>\n\n<p>For example, it should be able to change this:</p>\n\n<pre><code>&lt;img src=\"test.jpg\" style=\"width:1024px; height:600px;\" title=\"test\" alt=\"test\"&gt;\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>&lt;img src=\"test.jpg\" style=\"width:600px; height:400px;\" title=\"test\" alt=\"test\"&gt;\n</code></pre>\n"},{"tags":["php","javascript","jquery","html"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13247936,"title":"Droppable and Draggable in TABLE TD","body":"<pre><code>&lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css\" /&gt;\n&lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://code.jquery.com/ui/1.9.1/jquery-ui.js\"&gt;&lt;/script&gt;\n\n\n&lt;div class=\"drag\" style=\"height: 80px; width: 30px; background-color: red\"&gt;&lt;/div&gt;\n&lt;div class=\"drag\" style=\"height: 30px; width: 30px; background-color: green\"&gt;&lt;/div&gt;\n&lt;div class=\"drag\" style=\"height: 120px; width: 30px; background-color: blue\"&gt;&lt;/div&gt;\n\n&lt;table id=\"droppable\" border=\"1\"&gt;\n    &lt;tr&gt; &lt;td&gt;a1&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;a2&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;a3&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;a4&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt; &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n\n$(function() {\n    $( \".drag\" ).draggable();\n    $( \"#droppable td\" ).droppable({\n        drop: function( event, ui ) {\n            console.log($(this));\n        }\n    });\n});​\n</code></pre>\n\n<p>Please get the first div - green and drop <strong>start</strong> on TD <strong>a1</strong>. console.log show <code>&lt;td class=​\"ui-droppable\"&gt;​a1​&lt;/td&gt;​</code>. This is ok.</p>\n\n<p>Please get the second div - red and drop <strong>start</strong> on TD <strong>a1</strong>. console.log show <code>&lt;td class=​\"ui-droppable\"&gt;​a2​&lt;/td&gt;​</code> This is bad. Should be <code>&lt;td class=​\"ui-droppable\"&gt;​a1&lt;/td&gt;​</code> </p>\n\n<p>And please get the third div - blue and drop <strong>start</strong> on TD  <strong>a1</strong>;console.log show \n<code>&lt;td class=​\"ui-droppable\"&gt;​a3​&lt;/td&gt;​</code> This is bad. Should be <code>&lt;td class=​\"ui-droppable\"&gt;​a1&lt;/td&gt;​</code> </p>\n\n<p>How i must doing that show me <strong>a1</strong> always if i drop <strong>start</strong> on <strong>a1</strong>? </p>\n\n<p><a href=\"http://jsfiddle.net/RuC8t/1/\" rel=\"nofollow\">http://jsfiddle.net/RuC8t/1/</a></p>\n"},{"tags":["php","login"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13250206,"title":"Login PHP script Username and password is correct, but won't login","body":"<p>I had to fix some errors with my PHP Login script, That when a user have made a account with a Uppercase letter, it won't let him login with all lowercase, So I decided to fix that, However, It won't log in, It just redirects to the login with my message \"Unexpected error occurred\".</p>\n\n<p>It goes through the Username check, but not the password, And it does not return password is incorrect.</p>\n\n<p>I tried to make a new account, And it still goes to that error page, But this time, It actually logged me in, but not with the You have successfully logged in, and the existing users can't login, But the new one I made did.</p>\n\n<p>And I did try a password reset, It works, But doesn't lead to Success login message.</p>\n\n<p>The other change I did was to the Hashing of Password, As I use username Password Salt, And I changed from <code>$hash = hash('sha256',$Username.$Password.$Salt);</code> to <code>$hash = hash('sha256',strtolower($Username).$Password.$Salt);</code> because, when the Username was uppercase or lowercase, It had effects on the Password check.</p>\n\n<p>My code:</p>\n\n<pre><code>&lt;?php\n    /* Mysql data */\n    $MysqlUsername = \"root\";\n    $MysqlPassword = \"*********\";\n    $MysqlHostname = \"localhost\";\n    $MysqlDatabase = \"teamgamersnet\";\n    $Salt = \"******\";\n    $Username = $_POST['Username'];\n    $Password = $_POST['Password'];\n    $Remember = $_POST['Remember'];\n    $Cookie = \"TGN\";\n    $IP       = $_SERVER['REMOTE_ADDR'];\n    if (empty($Username) || empty($Password)) { die(\"Please fill in all the fields\"); }\n\n\n    $hash = hash('sha256',strtolower($Username).$Password.$Salt);\n\n    $Sql = new mysqli($MysqlHostname, $MysqlUsername, $MysqlPassword, $MysqlDatabase);\n    if ($Sql-&gt;connect_error){ echo $Sql-&gt;connect_error; }\n    $sUser = $Sql-&gt;real_escape_string($Username);\n    $sPass = $Sql-&gt;real_escape_string($Password);\n    $xPass = $Sql-&gt;real_escape_string($hash);\n\n\n    $CheckUser = $Sql-&gt;query(\"SELECT Username FROM `users` WHERE `Username` = '\".$sUser.\"'\");\n    $CheckPass = $Sql-&gt;query(\"SELECT Password FROM `users` WHERE `Username` = '\".$sUser.\"'\");\n    $CheckActive = $Sql-&gt;query(\"SELECT Activated FROM `users` WHERE `Username` = '\".$sUser.\"'\");\n    if ($CheckUser-&gt;num_rows == 0) { header(\"Location: /?p=Login&amp;wrongusr=true\"); die(); }\n    $xCheckUser = $CheckUser-&gt;fetch_array(MYSQLI_ASSOC);\n    $xCheckPass = $CheckPass-&gt;fetch_array(MYSQLI_ASSOC);\n    $xCheckAct =  $CheckActive-&gt;fetch_array(MYSQLI_ASSOC);\n    if ($xCheckAct['Activated'] == \"false\") { header(\"Location: /?p=Login&amp;activate=true\"); die(); }\n    if(strtolower($Username) == strtolower($xCheckUser['Username'])) { // Check if username match\n        if($hash == $xCheckPass['Password']) { // Check if password is correct\n        if(isset($Remember)){\n                setcookie ($Cookie.\"User\", htmlspecialchars($Username));\n                setcookie ($Cookie.\"Pass\", $hash);\n        }\n        else\n        {\n                setcookie ($Cookie.\"User\", htmlspecialchars($Username), time() + 3600);\n                setcookie ($Cookie.\"Pass\", $hash, time() + 3600);\n        }\n                header(\"Location: /?login=true\"); // Send them to home page \n    }\n\n    else\n    {\n        header(\"Location: /?p=Login&amp;wrongpwd=true\"); // Send them to home page \n    }\n    header(\"Location: /?p=Login&amp;unxer=true\"); // Username error, Idk why\n    }\n?&gt;\n</code></pre>\n"},{"tags":["php","apache","centos"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":41,"score":-3,"question_id":13241529,"title":"php scirpt not running well on centos web browser","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4595730/sending-email-from-localhost\">Sending email from localhost</a>  </p>\n</blockquote>\n\n\n\n<p>I installed a new server with centos 6 system and installed a php, mysql, apache, and sendmail packages.</p>\n\n<p>I tested all of them work well, for php, I run <code>phpinfo()</code> in browser and work well and showing all php data normally.</p>\n\n<p>I wrote php script as below and save the file as <em><code>mail.php</code></em> and called it from cron jop and already work well and I receive the mail in time which I specified in cron:</p>\n\n<pre><code>*/5 * * * * php /var/www/html/mail.php)\n</code></pre>\n\n<p><br></p>\n\n<pre><code>&lt;?php\n   $to = \"exampleID@example.com\"; // i replace examples with my actual mail\n   $subject = \"Run through Cron\";\n   $message = \"Hello! This is a simple email message.\";\n   mail($to,$subject,$message);\n   echo \"Mail Sent\";\n?&gt; \n</code></pre>\n\n<p>The problem is when I call this script from web browser (<em><code>localhost/mail.php</code></em>), it print below message but I didn't receive the mail!</p>\n\n<p>Mail Sent</p>\n\n<p>do anyone know the problem?</p>\n"},{"tags":["php","parsing","dopostback"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":12499306,"title":"How to parser a web site that use __dopostback ajax call with curl and php","body":"<p>before someone say somthing or \"jump\" I would like to say that I have read:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5658801/any-idea-on-how-to-scrape-pages-which-are-behind-dopostback\">Any idea on how to scrape pages which are behind __doPostBack(&#39;...&#39;);?</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/7677357/using-php-curl-to-log-in-to-asp-net-website-which-uses-dopostback\">using php curl to log in to asp.net website which uses __doPostBack</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/3896852/dotnetnuke-php-simulating-a-remote-postback-using-curl\">DotNetNuke, PHP, Simulating a remote postback using curl</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/11216910/scraping-html-with-javascript-postbacks\">Scraping HTML with JavaScript postbacks</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/8786362/using-curl-for-post-data-to-asp-net-page\">Using cURL for post data to asp.net page</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/5384655/curl-post-data-to-asp-net-page\">cURL post data to asp.net page</a></p>\n\n<p>and </p>\n\n<p><a href=\"http://techclimber.blogspot.com.es/2009/03/php-curl-and-aspnet.html\" rel=\"nofollow\">http://techclimber.blogspot.com.es/2009/03/php-curl-and-aspnet.html</a></p>\n\n<p>this is my function:</p>\n\n<pre><code>  function UolgetHtmlfromAjaxCallback($a_Params,$url) {\n\n  $EVENTTARGET = $this-&gt;UolgetAtributoEventTarget($a_Params['s_EventTarget']);\n  $s_smMaster = 'ctl00$cphSite$upModelo|'.$entries['target'];\n  $VIEWSTATE = urlencode($a_Params['s_ViewState']);\n\n\n  $options = array(\n    CURLOPT_RETURNTRANSFER =&gt; true, // return web page\n    CURLOPT_HEADER =&gt; false, // don't return headers\n    CURLOPT_FOLLOWLOCATION =&gt; true, // follow redirects\n    CURLOPT_ENCODING =&gt; \"\", // handle all encodings\n    CURLOPT_USERAGENT =&gt; \"spider\", // who am i\n    CURLOPT_AUTOREFERER =&gt; true, // set referer on redirect\n    CURLOPT_CONNECTTIMEOUT =&gt; 120, // timeout on connect\n    CURLOPT_TIMEOUT =&gt; 120, // timeout on response\n    CURLOPT_MAXREDIRS =&gt; 10, // stop after 10 redirects\n    CURLOPT_POST =&gt; true,\n    CURLOPT_POSTFIELDS =&gt; 'ct100%24smMaster='.urldecode($s_smMaster).\n                          '&amp;__EVENTTARGET='.urlencode($EVENTTARGET['target']).\n                          '&amp;__EVENTARGUMENT='.urlencode('').\n                          '&amp;__EVENTVALIDATION='.urlencode($s_Eventvalidation).\n                          '&amp;__VIEWSTATE='.$VIEWSTATE.\n                          '&amp;ct100%24txtBuscaNome='.$a_Params['ctl00_txtBuscaNome'].\n                          '&amp;__ASYNCPOST=true'\n                          );\n\n  $ch = curl_init( $url );\n  curl_setopt_array( $ch, $options );\n  $result = curl_exec ($ch);\n\n  return $result;\n  }\n</code></pre>\n\n<p>The $VIEWSTATE is ok, and the $EVENTTARGET is an array with this values:</p>\n\n<pre><code>Array ( \n [id] =&gt;          ctl00_cphSite_fichaTecnicaEditorial_rptCarrosFichaTecnica_ctl00_lbtnFichaTecnica \n [target] =&gt; ctl00$cphSite$fichaTecnicaEditorial$rptCarrosFichaTecnica$ctl00$lbtnFichaTecnica ) \n</code></pre>\n\n<p>I'm trying to scrap with this code this website:</p>\n\n<p><a href=\"http://comparecar.uol.com.br/Modelo/Volvo-Xc60\" rel=\"nofollow\">http://comparecar.uol.com.br/Modelo/Volvo-Xc60</a></p>\n\n<p>And I get the website, but not the car's information.</p>\n\n<p>I edit my own information.</p>\n\n<p>I'm working with Tamper Data and I found that the post use different parameters:</p>\n\n<ul>\n<li>ctl00%24smMaster</li>\n<li>__EVENTTARGET</li>\n<li>__EVENTARGUMENT</li>\n<li>__VIEWSTATE</li>\n<li>__EVENTVALIDATION </li>\n<li>ctl00%24txtBuscaNome</li>\n<li>__ASYNCPOST</li>\n</ul>\n\n<p>And close with a \"=\"</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13251670,"title":"PHP register_globals how to remake script","body":"<p>I have script, which I need to remake. The Script uses register_globals in link</p>\n\n<pre><code>echo '&lt;a href=\"index.php?month=' . ($month+1) . '&amp;amp;year=' . $year .  '\"&gt; &amp;gt;&amp;gt;&lt;/a&gt;'\n</code></pre>\n\n<p>So how to remake it to work without register_global\nThanks</p>\n"},{"tags":["php","linux"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":319,"score":3,"question_id":6134514,"title":"How to start a PHP process with a name?","body":"<p>I have a PHP script that spawns between 10 and 100 PHP scripts to help share the load of some calculations.<br>\nThe problem is that this parent PHP script starts in the background and runs for ever, so it has to be shut down at some point. It can be an arduous task to blindly shut down PHP processes until you hit the parent. </p>\n\n<p>Is there some way I can start the parent PHP process with a unique name such as \"Ping loop\", or some other way of recognizing it in the <code>top</code> interface?</p>\n\n<hr>\n\n<p>I am aware of the alternative of creating a Daemon or a shutdown script using the PID of the parent. I'm asking this question hoping to avoid having to do that.</p>\n"},{"tags":["php","json","utf-8","json-encode"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":46,"score":1,"question_id":13251689,"title":"json_encode utf8","body":"<p>I put some Data in my mysql DB that works fine.\nBut when I get the Data with json_encode I get ist back like this:</p>\n\n<pre><code>{\"idpostdata\":\"49\",\"artID\":null,\"timestamp\":\"06.11.2012 13:35\",\"lat\":\"51.496911\",\"lon\":\"7.4022327\",\"cellID\":null,\"road\":\"Wittener Stra\\u00dfe\",\"suburb\":\"Eichlinghofen\",\"city\":\"Dortmund\",\"postdatacol\":null,\"state_district\":\"Regierungsbezirk Arnsberg\",\"state\":\"North Rhine-Westphalia\",\"country_code\":\"de\"}\n</code></pre>\n\n<p>you see <code>\"road\":\"Wittener Stra\\u00dfe\"</code> is not the correct name it must Wittener Straße</p>\n\n<p>My Code:</p>\n\n<pre><code>&lt;?php\n$sql = mysql_query(\"SELECT * FROM postdata\");\n\nwhile ($ds = mysql_fetch_assoc($sql)) \n  $output[]=$ds;\necho \"{uTraf:\";\n  print(json_encode($output));\necho  \"}\";\nmysql_close($dz);\n?&gt;\n</code></pre>\n\n<p>What is wrong?</p>\n"},{"tags":["php","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13251502,"title":"PHP CURL - Empty output with no error","body":"<p>I am not getting the curl output for valid url,\nsample $url= <a href=\"http://linkedin.com/pub/4/b29/8a0\" rel=\"nofollow\">http://linkedin.com/pub/4/b29/8a0</a></p>\n\n<pre><code>$ch = curl_init();\n\ncurl_setopt($ch, CURLOPT_URL,           \"$url\");\ncurl_setopt($ch, CURLOPT_TIMEOUT,       60);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER,1);\n\n$referer = WebCrawl::getRandomURL();\ncurl_setopt($ch, CURLOPT_REFERER,       $referer);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER,false);\ncurl_setopt($ch, CURLOPT_COOKIEJAR,     \"cookie.txt\");\n\ncurl_setopt($ch, CURLOPT_USERAGENT,     \"Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)\");\n\n$body = curl_exec($ch);\n$error_no = curl_errno($ch);\n</code></pre>\n"},{"tags":["php","post","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":46,"score":-3,"question_id":13251582,"title":"is there a class for $_POST $_GET filters?","body":"<p>Is there some code to filter received $_GET and $_POST parameters? I'd like to make these filters into a class, one for $_POST and the other for $_GET</p>\n\n<p><em><strong>Original question:</em></strong></p>\n\n<p>Consulta</p>\n\n<p>Tienen algún código útil para el filtro de parametros $_GET y $_POST recibidos? me gustaría dejar estos filtros como clases, una para $_POST y la otra para $_GET.  </p>\n\n<p>Gracias.  </p>\n"},{"tags":["php","filter","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1422,"score":0,"question_id":9959116,"title":"Yii CGridview not filtering","body":"<p>I'm trying to work with a YII CGridview to display some data.</p>\n\n<p>This is home my model search function looks like:</p>\n\n<pre><code>/**\n * Retrieves a list of models based on the current search/filter conditions.\n * @return CActiveDataProvider the data provider that can return the models based on the search/filter conditions.\n */\npublic function search()\n{\n    $criteria=new CDbCriteria;\n    $criteria-&gt;compare('ip',$this-&gt;ip,true);\n    $criteria-&gt;compare('first_use',$this-&gt;first_use,true);\n    $criteria-&gt;compare('last_use',$this-&gt;last_use);\n    $criteria-&gt;compare('memberid',$this-&gt;memberid);\n    $criteria-&gt;compare('countryid',$this-&gt;countryid);\n\n    return new CActiveDataProvider(get_class($this), array(\n        'criteria'=&gt;$criteria,\n    ));\n}\n</code></pre>\n\n<p>And this is how my view looks like</p>\n\n<pre><code>$this-&gt;widget('zii.widgets.grid.CGridView', array(\n        'id'=&gt;'iplog-grid',\n        'dataProvider'=&gt;$oIPLog-&gt;search(),\n        'filter'=&gt;$oIPLog,\n        'summaryText' =&gt; 'showing you {start} - {end} of {count} logged Ips',\n        'columns'=&gt;array(\n            array(\n                'name'=&gt;'ip',\n                'type'=&gt;'raw',\n            ),\n            array(\n                'name'=&gt;'first_use',\n                'type'=&gt;'datetime',\n            ),\n            array(\n                'name'=&gt;'last_use',\n                'type'=&gt;'datetime',\n            ),\n        ),\n    ));\n</code></pre>\n\n<p>Displaying the CGridview works, but I can't seem to get the filter on top of it to work. It sends the call and I don't get any error as reponse, it just returns the whole unfiltered data again..</p>\n\n<p>Any clues?</p>\n"},{"tags":["php","zend-framework","pdf"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13251588,"title":"showing PDF content in Zend or PHP?","body":"<p>I want to show the content of a PDF file in a div.\nAnyone can tell how to do it in Zend or PHP?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13251461,"title":"PHP Always Replace Apostrophe With Back-Slash Apostrophe","body":"<p>I have this simple PHP variable :</p>\n\n<pre><code>$Title = $_POST['text'];\n</code></pre>\n\n<p>and when it has this input : <code>here's the text</code> </p>\n\n<p>the PHP will recognize as this when it written to a file : <code>here\\'s the text</code></p>\n\n<pre><code>$Filename = 'index.php';\n$Handle = fopen($Filename, \"r\");\n$Contents = fread($Handle, filesize($Filename));\nfclose($Handle);\n\n$TitleTag = extractor($Contents, \"&lt;title&gt;\", \"&lt;/title&gt;\");\n\n$Contents = str_replace ($TitleTag, $Title, $Contents); \n$Handle = fopen($Filename, 'w+');\nfwrite($Handle, $Contents);\nfclose($Handle);\n</code></pre>\n\n<p>how to get exactly just like what user typed? thanks</p>\n"},{"tags":["php","html","email","phpmailer"],"answer_count":10,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":14149,"score":2,"question_id":1944631,"title":"Could not instantiate mail function. Why this error occuring","body":"<p>When Im trying to send mail through PHPMailer, im getting this error message. My code is below. Help</p>\n\n<p><strong>CODE :</strong></p>\n\n<pre><code>&lt;?\nrequire(\"phpmailer/class.phpmailer.php\"); // First we require the PHPMailer libary in our script\n$mail = new PHPMailer(); // Next we create a new object of the PHPMailer called $mail\n$mail-&gt;From = \"rajasekar.kcet@gmail.com\";\n$mail-&gt;FromName = \"Rajasekar\";\n$mail-&gt;AddAddress(\"rajasekar.kcet@gmail.com\"); // This is the adress to witch the email has to be send.\n$mail-&gt;Subject = \"First PHP Email message\"; // This is the subject  of the email message.\n$mail-&gt;Body = \"Hi! \\n\\n This is my first e-mail sent through PHP.\"; // This is the actual email message\nif(!$mail-&gt;Send()) // Now we send the email and check if it was send or not.\n{\n   echo 'Message was not sent.';\n   echo 'Mailer error: ' . $mail-&gt;ErrorInfo;\n}\nelse\n{\n   echo 'Message has been sent.';\n}\n?&gt;\n</code></pre>\n\n<p>Plz help, Any suggestion will be highly appreciated</p>\n"},{"tags":["php","html","html-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13250863,"title":"Html parser only want to keep particular things in a particular tag","body":"<p>I want to parse html data. I want to remove all data that is inside tags I don't care about as well as the tag itself. I only want to keep data that is inside a particular span class. Remove the span tags as well however.</p>\n\n<p>Is there perhaps already a prebuilt script online for this? If not what would be the best way to go about doing it, thanks.</p>\n"},{"tags":["php","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13250788,"title":"CAKEPHP: Linking the whole <div>","body":"<p>I have a  having view of a specific field in Notes table.</p>\n\n<pre><code>    echo \"&lt;div id='notescover'&gt;\";\n    echo \"&lt;p class='text'&gt;\"; \n    echo $viewnotes['Note']['notes']; \n    echo \"&lt;/p&gt;\"; \n    echo \"&lt;/div&gt;\";\n</code></pre>\n\n<p>And i have linked Comment to the specific note URL e.g /note/view/IDofNote</p>\n\n<pre><code>echo $this-&gt;Html-&gt;link('Comment', array( 'controller'=&gt;'notes', 'action'=&gt;'view',$viewnotes['Note']['id']), array('class'=&gt; 'light_blue'));\n</code></pre>\n\n<p>I want to remove this link and link the same action to the above div tag. I was able to link the text inside the field like this</p>\n\n<pre><code>echo $this-&gt;Html-&gt;link($viewnotes['Note']['notes'], array( 'controller'=&gt;'notes', 'action'=&gt;'view',$viewnotes['Note']['id']), array('class'=&gt; 'light_blue'));\n</code></pre>\n\n<p>but i want the whole box that  makes to be linked. </p>\n\n<p>How can i do that?</p>\n"},{"tags":["php","mysql","sql","join"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13251407,"title":"PHP/MYSQL join fieldname in array","body":"<p>I have a query that joins two tables that share a field name.  I want to grab the field name of one, not the other after converting the results into an array using fetch_array.</p>\n\n<p>I feel like I have accomplished this with a simple alias numerous times but this time it is not working.  Can anyone please help me find the error.  Many thanks.</p>\n\n<p>Code is:</p>\n\n<pre><code>$sql = \"SELECT i.*,ic.* FROM `items` i \n  LEFT JOIN `itemcat` ic ON i.id= ic.itemid \n  WHERE (shortdescript LIKE '%%' OR longdescript LIKE '%%') \n    AND ic.catid='23' limit 0,20 \";\n\n$res = mysql_query($sql) or die(mysql_error());  //query executes no problem\nwhile($row = mysql_fetch_array($res)) {\n$id = $row['i.id'];//I do not understand why this is not getting anything.\n$id2 = $row['id'];//returns id but from wrong table.\n\necho $id; //returns blank.  \necho $id2; //returns id of itemcat table when I want id of items table.\n}\n</code></pre>\n"},{"tags":["php",".htaccess","rest","basic-authentication","dreamhost"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":9695331,"title":"Restful codeignitier basic auth not working","body":"<p>I've been pulling my hair out over this for about 4 hours so I thought I would turn to the gurus.  I'm using Phil Sturgeon's fantastic Rest server and client to build a web service and everything is working great except for the basic authentication (or digest for that matter, but first things first).  I've been following along with his written tutorial and video, but at the point where he demonstrates the authorization working, it just works, whereas mine does not.  I have narrowed down the problem to Dreamhost where I have the files, and what I think is an htaccess problem.  </p>\n\n<p>I've set up a really simple test page like so:</p>\n\n<pre><code> &lt;?php\n// Split the user/pass variable\nlist($_SERVER['PHP_AUTH_USER'], $_SERVER['PHP_AUTH_PW']) =explode(':' , base64_decode(substr($_SERVER['REDIRECT_REMOTE_USER'], 6)));\n\n// Open a user/pass prompt if needed\nif (!$_SERVER['PHP_AUTH_USER']) {\nheader('WWW-Authenticate: Basic realm=\"My Realm\"');\nheader('HTTP/1.0 401 Unauthorized');\necho 'You cannot see this, sorry.'; \nexit;\n} else {\necho \"&lt;p&gt;Hello, &lt;/p&gt;\".$_SERVER['PHP_AUTH_USER'];\necho \"&lt;p&gt;You entered as your password: &lt;/p&gt;\".$_SERVER['PHP_AUTH_PW'];\n}\n\n\n?&gt;\n</code></pre>\n\n<p>Even in this very basic example I can't catch the variables that I enter into the popup. \nthis is my htaccess:</p>\n\n<pre><code># Various rewrite rules.\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ dispatch.fcgi [E=REMOTE_USER:%{HTTP:Authorization},QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>to be honest, I don't understand the htaccess stuff and its a copy paste from someone solving a similar problem, but its just not working.  Also relevant to my issue, I'm using php 5.2 with fast cgi. </p>\n\n<p>can anyone clear the fog? My goal is to have the username and password passed to the php file, I can extrapolate the rest to fit it into my rest api solution. </p>\n"},{"tags":["php","zend-framework","lucene","zend-search-lucene"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13251459,"title":"Zend_Search_Lucene is indexing the contents from another domain","body":"<p>I'm trying to implement a search engine with zend_search_lucene. There are so many links in my web-page and they are pointing to several web pages in different domains. The problem I'm facing here is when such a link is indexed whatever content that is provided in the meta tag of the site(whose link is indexed) is also getting indexed. I'm not sure what is happening. Any good advice is welcome.</p>\n"},{"tags":["php","html","wordpress","blogs"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":4563,"score":3,"question_id":1391299,"title":"Getting Post Information Outside the Wordpress Loop","body":"<p>I know there are functions to like is_single() that will return data about the page, but I'm looking for a way to get the following information outside of the loop:</p>\n\n<p>The category of the single post.</p>\n\n<p>AND</p>\n\n<p>The title of the single post.</p>\n\n<p>All I would really need is the post ID in question and I could get all the other information. I've looked through the functions reference in the codex, but I haven't found anything. Is this impossible because the script doesn't even get that information 'til the Loop runs?</p>\n\n<p>(I would need this information in both the header and footer, so before and after the PHP script for the loop, if that is a problem.)</p>\n\n<p>Hopefully someone can offer some insight.</p>\n\n<p>EDIT: To clarify: I want the information to be from the post that is loaded in the loop on the \"single\" page. (AKA the post they are viewing.) So how would I get this ID in the first place? Basically, when viewing a post, I want to get its category or title, but not while the loop is going.</p>\n"},{"tags":["php","codeigniter","variables","calendar"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13251104,"title":"get {day} value in variable with codeigniter calendar","body":"<p>In my codeigniter calendar I have this template (taken from codeigniter user guide):</p>\n\n<pre><code>{table_open}&lt;table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"500\" id=\"tabellaPrenotazioni\"&gt;{/table_open}\n{heading_row_start}&lt;tr&gt;{/heading_row_start}\n{heading_previous_cell}&lt;th&gt;&lt;a href=\"{previous_url}\"&gt;&amp;lt;&amp;lt;&lt;/a&gt;&lt;/th&gt;{/heading_previous_cell}\n{heading_title_cell}&lt;th colspan=\"{colspan}\"&gt;{heading}&lt;/th&gt;{/heading_title_cell}\n{heading_next_cell}&lt;th&gt;&lt;a href=\"{next_url}\"&gt;&amp;gt;&amp;gt;&lt;/a&gt;&lt;/th&gt;{/heading_next_cell}\n\n{heading_row_end}&lt;/tr&gt;{/heading_row_end}\n\n{week_row_start}&lt;tr&gt;{/week_row_start}\n{week_day_cell}&lt;td&gt;{week_day}&lt;/td&gt;{/week_day_cell}\n{week_row_end}&lt;/tr&gt;{/week_row_end}\n\n{cal_row_start}&lt;tr class=\"rigaGiorni\"&gt;{/cal_row_start}\n{cal_cell_start}&lt;td class=\"cellaGiorno\"&gt;{/cal_cell_start}\n\n{cal_cell_content}&lt;a href=\"{content}\"&gt;{day}&lt;/a&gt;{/cal_cell_content}\n{cal_cell_content_today}&lt;div class=\"highlight\"&gt;&lt;a href=\"{content}\"&gt;{day}&lt;/a&gt;&lt;/div&gt;{/cal_cell_content_today}\n\n{cal_cell_no_content}{day}{/cal_cell_no_content}\n{cal_cell_no_content_today}&lt;div class=\"highlight\"&gt;&lt;b&gt;{day}&lt;/b&gt;&lt;/div&gt;{/cal_cell_no_content_today}\n\n{cal_cell_blank}&amp;nbsp;{/cal_cell_blank}\n\n{cal_cell_end}&lt;/td&gt;{/cal_cell_end}\n{cal_row_end}&lt;/tr&gt;{/cal_row_end}\n\n{table_close}&lt;/table&gt;{/table_close}\n</code></pre>\n\n<p>I need to programmatically add somethings to each day according to which day it is, so I need to save {day} value in a php variable. How can I do?</p>\n"},{"tags":["php","web-services","restful-authentication"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":342,"score":1,"question_id":8781009,"title":"RESTful WebService Client in PHP","body":"<p>lets say i have a Restful webservice (for my record-class) on a GlassFish, accessable on</p>\n\n<pre><code>http://localhost:8080/MyWS/entities.Records/\n</code></pre>\n\n<p>i want to use this Webservice in PHP to read and write records.</p>\n\n<p>how do i use a RESTful Webservice out of PHP? </p>\n\n<p>how to set the action (GET, POST, PUT, DELETE)? </p>\n\n<p>how to set the user/password data in the header (glassfish is parsing the header of the HttpRequest to authentificate a user)?</p>\n\n<p>and how to serialize my PHP Record-Class objects to XML (for sending: PUT, POST, DELETE) and to deserialize XML to Record-Class objects (for reading the glassfish/ws-output) easily? is there a php-builtin-method or do i have to write my own XML-Parser?</p>\n\n<p>thank you</p>\n"},{"tags":["php","permutation"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13250877,"title":"PHP permutation multiple same elements","body":"<p>I need a function which returns all possible combinations,</p>\n\n<p>e.g.</p>\n\n<p>chars = range('a', 'c');</p>\n\n<ol>\n<li>= a a a</li>\n<li>= a a b</li>\n<li>= a b a</li>\n<li>= a b b</li>\n<li>= a b c</li>\n<li>= a c b\n...\nn. = c c c</li>\n</ol>\n\n<p>(order doesn't matter)</p>\n\n<p>and so on</p>\n\n<p>i got this </p>\n\n<pre><code>function pc_permute($items, $perms = array( )) {\n    if (empty($items)) {\n        $return = array($perms);\n    }  else {\n        $return = array();\n        for ($i = count($items) - 1; $i &gt;= 0; --$i) {\n             $newitems = $items;\n             $newperms = $perms;\n         list($foo) = array_splice($newitems, $i, 1);\n             array_unshift($newperms, $foo);\n             $return = array_merge($return, pc_permute($newitems, $newperms));\n         }\n    }\n    return $return;\n}\n\n$p = pc_permute(array(0, 1, 2, 3));\nvar_dump($p);\n</code></pre>\n\n<p>from <a href=\"http://stackoverflow.com/questions/5506888/permutations-all-possible-sets-of-numbers\">Here</a></p>\n\n<p>But i wasn't able to figure out how to chance/rewrite this to get all possible combination with multiple same elements.</p>\n\n<p>Thanks, Mohammer</p>\n"},{"tags":["php","http","authentication"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1746,"score":2,"question_id":975307,"title":"HTTP Digest authenticating in PHP","body":"<p>I want to authenticate to another site using HTTP Digest authorization in PHP script.</p>\n\n<p>My function has as parameter just content of the <strong>WWW-Authenticate</strong> header and I want to generate correct response (<strong>Authorization</strong> header). I have found many examples that explain how to implement this the other way (browser authenticate to my script) but not this way. I am missing function that is able to parse WWW-Authenticate header content a generate response. Is there some standard function or common library that implements this?</p>\n"},{"tags":["php","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13248946,"title":"PHP Displaying 3 column block from WHILE loop","body":"<p>I am trying to build a site (blog) that mimics the layout of the new www.digg.com site.  </p>\n\n<p>It consist of a top featured full width post and below that the post are in 3 column wide blocks.  The blocka all are set to a certain width and Float left.</p>\n\n<p>The difference in the one I am building is instead of just the top post being a featured full width post, any row can have a featured post shown which should expand the full width of the page and push the other blocks down.</p>\n\n<p>The problem is, if a post is designated as being featured and it is not in the left column, then it will not look right.  The image below illustrates what happens if a featured post is in the 2nd or 3rd column.</p>\n\n<p>Traversing a WHILE loop of Wordpress posts, I count and assign a number between 1 and 3 to each posts CSS class.   example <code>&lt;div class=\"col-1\"&gt;</code> <code>&lt;div class=\"col-2\"&gt;</code> <code>&lt;div class=\"col-3\"&gt;</code></p>\n\n<p>col-1 = left column post<br>\ncol-2 = middle column post<br>\ncol-3 = right column post</p>\n\n<p>Occasionally a post will also have a CSS class named <code>featured</code>.  When a post is designated as <code>featured</code> then it will expand the full width of 3 columns instead of just 1 column.</p>\n\n<p>This is all easy to do as long as the <code>featured</code> post is the very first post in the result set.  However, in the image below I have showed where my problem is.  If I assign a class column name of 1-3 for each post and a class name of featured for featured posts, then assuming I am iterating the set and I assign a <code>featured</code> CSS class to a post that would normally have a class name of <code>col-2</code> or <code>col-3</code> then there is a problem.</p>\n\n<p>The image below shows the problem.  On row 3, you can see what would happen if I assigned a featured class to the row 3 center column (col-2)</p>\n\n<p><img src=\"http://i.stack.imgur.com/xtGq1.jpg\" alt=\"enter image description here\"></p>\n\n<p>I need to somehow, assign class name <code>col-1</code> <code>col-2</code> <code>col-3</code> or <code>featured</code> to all posts in the while loop and make sure that the <code>featured</code> post are always in the column-1 position.</p>\n\n<p>I am open to any suggestions or help on how I could achieve this?</p>\n\n<p>Below is a sample code of the PHP loop... (NOTE: I did not add in the code to check for Featured posts yet)</p>\n\n<pre><code>&lt;?php\n// Start our column count at 1\n$column = 1;\nwhile (have_posts()) : the_post();\n    $col_class = 'post-col-' .$column;\n?&gt;\n\n  &lt;article &lt;?php post_class($col_class); ?&gt;&gt;\n      post content\n  &lt;/article&gt;\n\n&lt;?php\n// Increase the Column count\n$column++;\n// After count has displayed 3, we reset the count\nif($column == 4){\n    $column = 1;\n}\nendwhile;\n?&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":7,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1344,"score":4,"question_id":4042962,"title":"PHP: HTTP or HTTPS? How can one tell?","body":"<p>How can I tell if a php page was accessed via http or https?</p>\n"},{"tags":["php","logical-operators"],"answer_count":4,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":446,"score":9,"question_id":5998309,"title":"Logical Operators, || or OR?","body":"<p>I remember reading a while back in regards to logical operators that in the case of <code>OR</code>, using <code>||</code> was better than <code>or</code> (or visa versa).</p>\n\n<p>I just had to use this in my project when it came back to me but I can't remember which operator was recommended or if it was even true.</p>\n\n<p>Which is better and why?  Thank you!</p>\n"},{"tags":["php","javascript","jquery","mysql","file"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13251102,"title":"Uploading a file from client system to server using jquery ajax request from html file","body":"<p>I am uploading a file to my server from client system.  The place i struck is,</p>\n\n<p>this is the html code,</p>\n\n<pre><code>&lt;input type=\"file\" name=\"fileCarRes\" id=\"fileCarRes\" size=\"10\" /&gt;\n</code></pre>\n\n<p>and using this jquery ajax request i am taking this file to another php file then with use of PHP function i will upload the file. The Jquery code i am using is,</p>\n\n<pre><code>file = $('#fileCarRes').val();\nurl=\"careers.php\";\n\n    $.post\n    (\n        url,\n        {\n            'act'           :   'file',\n            'file'          :    file\n        },\n        function (responseText)\n        {\n            alert(responseText);\n        },\n        \"html\"\n    );\n\nIn php file\n\nif(isset($_POST['act']) &amp;&amp; $_POST['act'] == 'file')\n    {\n        $file           =   $_POST['file'];\n\n\n                 $extension = end(explode(\".\", $_FILES[\"file\"][\"name\"]));\n        } etc... \n</code></pre>\n\n<p>In PHP <code>$_FILES[\"file\"][\"name\"]</code> is used for getting the file from the html file.  Now i am send and ajax query without using the <code>&lt;form&gt;</code>.  So i dont know, how to map the file path to this PHP function.  I am working in MVC architechture.</p>\n\n<p>'Thanks in Advance !!'</p>\n"},{"tags":["php","html","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":61,"score":-1,"question_id":13239631,"title":"Double quotes being stripped from some HTML tags","body":"<p>This is a strange issue - one that I've never noticed before.  A verification tag on one of my sites was not being recognised, so I took a closer look at the meta tag and I noticed the double-quotes were missing from the name and content attributes.</p>\n\n<p>Then I spotted a few more tags, some with double quotes missing from both and others where it was missing from just the first attribute.  </p>\n\n<p>I thought this was confined to the <code>&lt;head&gt;</code> but can see the same occuring in the <code>&lt;body&gt;</code>.</p>\n\n<p>I've checked our other sites and their page source looks as I would expect (double quotes surrounding the arguments of each tag), they're also on the same server using the same configuration files.</p>\n\n<p>The site where I am noticing this - skiddmark.com - we've been running now since 2007, and I'm not noticing any functional consequences - it continues to work fine, but I've really no idea why the front-end source code no longer contains these double-quotes.</p>\n\n<p>Anyone experienced something similar?</p>\n"},{"tags":["php","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":45,"score":-2,"question_id":13250601,"title":"AJAX and PHP not functioning","body":"<p>Here is my code.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Patient Information Management&lt;/title&gt;\n&lt;!--showDate AJAX script --&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\nfunction showDate(){\nvar ajaxRequest;  // The variable that makes Ajax possible!\ntry{\n    // Opera 8.0+, Firefox, Safari\n    ajaxRequest = new XMLHttpRequest();\n}catch (e){\n// Internet Explorer Browsers\ntry{\n  ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n}catch (e) {\n try{\n     ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }catch (e){\n     // Something went wrong\n     alert(\"Your browser broke!\");\n     return false;\n  }\n}\n}\n// Create a function that will receive data \n// sent from the server and will update\n// div section in the same page.\najaxRequest.onreadystatechange = function(){\nif(ajaxRequest.readyState == 4){\n  var ajaxDisplay = document.getElementById('ajaxDiv');\n  ajaxDisplay.value = ajaxRequest.responseText;\n }\n }\n// Now get the value from user and pass it to\n// server script.\nvar date = document.getElementByName('Date').value;\nvar queryString = \"?date=\" +date ;\najaxRequest.open(\"GET\", \"getappointmentdate.php\" +queryString, true);\najaxRequest.send(null); \n}\n&lt;/script&gt;\n&lt;!-- //Calender Script --&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"scripts/jsDatePick_ltr.min.css\"/&gt;\n\n&lt;!--JavaScript--&gt;\n&lt;script type=\"text/javascript\" src=\"scripts/jsDatePick.min.1.3.js\"&gt;&lt;/script&gt;\n\n&lt;!--For javascript Calendar--&gt;  \n&lt;script type=\"text/javascript\"&gt;\nwindow.onload = function(){\n    new JsDatePick({\n        useMode:2,\n        target:\"Date\",\n        cellColorScheme:\"orange\",\n        dateFormat:\"%d-%m-%Y\",\n    });\n\n};\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div class=\"wrapper\"&gt;\n&lt;?php include(\"include/header.php\"); ?&gt;\n&lt;div class=\"clear\"&gt;&lt;/div&gt;\n&lt;?php \n\n\n&lt;div class=\"clear\"&gt;&lt;/div&gt;\n\n\n\n&lt;/div&gt; &lt;!-- end of sidemenu div --&gt;\n&lt;/div&gt; &lt;!-- end of left div --&gt;\n\n&lt;div id=\"right\" &gt;\n\n&lt;h2&gt;anything&lt;/h2&gt;\n&lt;div class='grey_divider'&gt;&lt;/div&gt;\n\n&lt;p&gt;&amp;nbsp;&lt;/p&gt;\n&lt;div class='grey_divider'&gt;&lt;/div&gt;\n&lt;h3&gt;Make Appointment&lt;/h3&gt;\n&lt;form action=\"\"&gt; \n Date &amp;nbsp;:&amp;nbsp; &lt;input type=\"text\" size=\"20\" id=\"Date\"  name=\"Date\"/&gt;\n &lt;input type='button' onclick='showDate()' value='Submit'/&gt;\n &lt;/br&gt;\n &lt;/br&gt;\n\n &lt;/form&gt;\n\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I click button 'Submit' , it should be run the php document, but unfortunately, nothing happen, someone can help me please.\nI catch html date with getElementByName instead of getElementById because the 'id' has been use to catch the calender js .Would it affect? </p>\n"},{"tags":["php","loops","while-loop"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13251038,"title":"PHP simple grouping items in while loop","body":"<p>In the following while loop, each div item is wrapped in a <code>li</code>.</p>\n\n<pre><code>&lt;php while (condition){\n    &lt;li&gt;&lt;div&gt;Item&lt;/div&gt;&lt;/li&gt;\n&lt;?php } ?&gt;\n</code></pre>\n\n<p>In the above loop, I want to to wrap 2 div items inside a <code>li</code>, so that I can get similar output:</p>\n\n<pre><code>&lt;li&gt;\n    &lt;div&gt;Item&lt;/div&gt;\n    &lt;div&gt;Item&lt;/div&gt;\n&lt;/li&gt;\n\n&lt;li&gt;\n    &lt;div&gt;Item&lt;/div&gt;\n    &lt;div&gt;Item&lt;/div&gt;\n&lt;/li&gt;\n\n &lt;li&gt;\n    &lt;div&gt;Item&lt;/div&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>So, I am trying this, but this wraps one div inside a li and leaves other without li.</p>\n\n<pre><code>&lt;?php \n    while (condition){\n    $i++;\n    if($i % 2 == 0) { echo \"&lt;li&gt;\"; }\n    ?&gt;\n        &lt;div&gt;Item&lt;/div&gt;\n&lt;?php \n    if($i % 2 == 0) { echo \"&lt;/li&gt;\"; }\n     } //end loop \n?&gt;\n</code></pre>\n"},{"tags":["php","linux","nginx","sudo","php-fpm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12074852,"title":"nginx + php-fpm exec with sudo","body":"<p>I have asked a little bit more extensive question about this issue <a href=\"http://serverfault.com/questions/419965/launching-fpm-pool-as-superuser-reflecting-root-access/419974#419974\">over here</a>, but I will narrow it down to the sudo problem.</p>\n\n<p>I have specially for testing purposes set up Apache besides nginx, that loads php as module, and executes the following script perfectly:</p>\n\n<pre><code>&lt;?php\n$commands = 'sudo fdisk -l';\n\n$cmd = exec($commands, $op, $rv);\nvar_dump($cmd, $op, $rv);\nexit;\n</code></pre>\n\n<p>If I <code>$commands = 'mount';</code>, both show the output, but if I <code>$commands = 'sudo mount';</code> nginx returns null, Apache shows output.</p>\n\n<p>My sudo user is <code>systemphp</code>, and I'm running Apache with it, nginx with it and FPM pool also. Apache executes, nginx doesn't.</p>\n\n<p>What is the problem with nginx + php-fpm that the <code>sudo</code> doesn't work?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13250976,"title":"Write to div as data streams in","body":"<p>Consider an AJAX call that writes to a div:</p>\n\n<pre><code>recent_req=$.post('result.php', { d: data }, function(returnData) {\n    $('#content').html(returnData);\n});\n</code></pre>\n\n<p>The PHP script at <code>result.php</code> performs some functions that take time, about 5-20 seconds per step. I am using PHP's <code>flush()</code> function to get the info to the browser as soon as each step starts and ends, but how can I get the Javascript to write the data to the <code>#content</code> div as it comes in?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","mysql","pagination"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13250727,"title":"PHP Pagination inclusive search function and ordering","body":"<p>Anyone know a good place or a good tutorial how to set up this pagination I'm looking for?</p>\n\n<p>Before you get mad that I'm posting hundreds of lines here, let me just give a fast explaination about what I want to achieve, the codes I use to explain my situation better.</p>\n\n<p>The code below works if you only want to paginate or only want to search:<br/>\n 1. Enter the main page, and the pagination works. Hit page 1, page 2, etc and you get the result you are expecting.<br/>\n 2. Use the search, and it works, but this gives ALL records without limitation in 1 page. I could set up a limit but the pagination still will not work.</p>\n\n<p>I just don't know how to get the search variable and add it to the pagination.</p>\n\n<p>Is it possible to have an url like: search=Hello+World?orderby=custforename+custsurname?page=3..I think it is... How is something like this, '?nested get variables?' called? Anyone knows a good place around for an advanced pagination tutorial?</p>\n\n<p><hr>\nI'm using this code on my main page:\n    \n        \n        \n    </p>\n\n<pre><code>&lt;?php\n    if(isset($_POST['search']))\n    {\n        $search = $_POST['search'];\n        $search = ltrim($search, \" \");\n        $terms = explode(\" \", $search);\n        $customerlistquery = \"\n                            SELECT *\n                            FROM customer\n                            LEFT JOIN company\n                            ON customer.compid=company.compid\n                            WHERE\n                            \";\n        $i = 0;\n        foreach ($terms as $each) \n        {\n            if ($i++ &gt; 0) \n            $customerlistquery .= ' OR ';\n\n            $customerlistquery .= \"concat(custsurname, custforename, custmidname, custpostal, custphone1, custphone2, custfax, custnamecode, datemodified, modifiedby) LIKE '%$each%' \";\n        }\n        $customerlistquery .= \" ORDER BY $orderby ASC\";\n    }\n    else\n    {\n        $page = (int) (!isset($_GET[\"page\"]) ? 1 : $_GET[\"page\"]);\n        $startpoint = ($page * $limit) - $limit;\n        $customerlistquery = \"  \n                SELECT *\n                FROM customer\n                LEFT JOIN company\n                ON customer.compid=company.compid\n                ORDER BY $orderby ASC \n                LIMIT {$startpoint}, {$limit}\n                \";\n        echo pagination(\"customer\n                LEFT JOIN company\n                ON customer.compid=company.compid\n                ORDER BY $orderby ASC\",$limit,$page);       \n    }\n?&gt;\n\n\n$result=mysql_query($itemslistquery) or die(\"query fout \" . mysql_error() );\n</code></pre>\n\n<p>And at last the pagination.php code:</p>\n\n<pre><code>&lt;?php\n    function pagination($query, $per_page = 10,$page = 1, $url = '?'){        \n        $query = \"SELECT COUNT(*) as `num` FROM {$query}\";\n        $row = mysql_fetch_array(mysql_query($query));\n        $total = $row['num'];\n        $adjacents = \"2\"; \n\n        $page = ($page == 0 ? 1 : $page);  \n        $start = ($page - 1) * $per_page;                               \n\n        $prev = $page - 1;                          \n        $next = $page + 1;\n        $lastpage = ceil($total/$per_page);\n        $lpm1 = $lastpage - 1;\n\n        $pagination = \"\";\n        if($lastpage &gt; 1)\n        {   \n            $pagination .= \"&lt;ul class='pagination'&gt;\";\n                    $pagination .= \"&lt;li class='details'&gt;Page $page of $lastpage&lt;/li&gt;\";\n            if ($lastpage &lt; 7 + ($adjacents * 2))\n            {   \n                for ($counter = 1; $counter &lt;= $lastpage; $counter++)\n                {\n                    if ($counter == $page)\n                        $pagination.= \"&lt;li&gt;&lt;a class='current'&gt;$counter&lt;/a&gt;&lt;/li&gt;\";\n                    else\n                        $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$counter'&gt;$counter&lt;/a&gt;&lt;/li&gt;\";                    \n                }\n            }\n            elseif($lastpage &gt; 5 + ($adjacents * 2))\n            {\n                if($page &lt; 1 + ($adjacents * 2))     \n                {\n                    for ($counter = 1; $counter &lt; 4 + ($adjacents * 2); $counter++)\n                    {\n                        if ($counter == $page)\n                            $pagination.= \"&lt;li&gt;&lt;a class='current'&gt;$counter&lt;/a&gt;&lt;/li&gt;\";\n                        else\n                            $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$counter'&gt;$counter&lt;/a&gt;&lt;/li&gt;\";                    \n                    }\n                    $pagination.= \"&lt;li class='dot'&gt;...&lt;/li&gt;\";\n                    $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$lpm1'&gt;$lpm1&lt;/a&gt;&lt;/li&gt;\";\n                    $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$lastpage'&gt;$lastpage&lt;/a&gt;&lt;/li&gt;\";      \n                }\n                elseif($lastpage - ($adjacents * 2) &gt; $page &amp;&amp; $page &gt; ($adjacents * 2))\n                {\n                    $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=1'&gt;1&lt;/a&gt;&lt;/li&gt;\";\n                    $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=2'&gt;2&lt;/a&gt;&lt;/li&gt;\";\n                    $pagination.= \"&lt;li class='dot'&gt;...&lt;/li&gt;\";\n                    for ($counter = $page - $adjacents; $counter &lt;= $page + $adjacents; $counter++)\n                    {\n                        if ($counter == $page)\n                            $pagination.= \"&lt;li&gt;&lt;a class='current'&gt;$counter&lt;/a&gt;&lt;/li&gt;\";\n                        else\n                            $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$counter'&gt;$counter&lt;/a&gt;&lt;/li&gt;\";                    \n                    }\n                    $pagination.= \"&lt;li class='dot'&gt;..&lt;/li&gt;\";\n                    $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$lpm1'&gt;$lpm1&lt;/a&gt;&lt;/li&gt;\";\n                    $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$lastpage'&gt;$lastpage&lt;/a&gt;&lt;/li&gt;\";      \n                }\n                else\n                {\n                    $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=1'&gt;1&lt;/a&gt;&lt;/li&gt;\";\n                    $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=2'&gt;2&lt;/a&gt;&lt;/li&gt;\";\n                    $pagination.= \"&lt;li class='dot'&gt;..&lt;/li&gt;\";\n                    for ($counter = $lastpage - (2 + ($adjacents * 2)); $counter &lt;= $lastpage; $counter++)\n                    {\n                        if ($counter == $page)\n                            $pagination.= \"&lt;li&gt;&lt;a class='current'&gt;$counter&lt;/a&gt;&lt;/li&gt;\";\n                        else\n                            $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$counter'&gt;$counter&lt;/a&gt;&lt;/li&gt;\";                    \n                    }\n                }\n            }\n\n            if ($page &lt; $counter - 1){ \n                $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$next'&gt;Next&lt;/a&gt;&lt;/li&gt;\";\n                $pagination.= \"&lt;li&gt;&lt;a href='{$url}page=$lastpage'&gt;Last&lt;/a&gt;&lt;/li&gt;\";\n            }else{\n                $pagination.= \"&lt;li&gt;&lt;a class='current'&gt;Next&lt;/a&gt;&lt;/li&gt;\";\n                $pagination.= \"&lt;li&gt;&lt;a class='current'&gt;Last&lt;/a&gt;&lt;/li&gt;\";\n            }\n            $pagination.= \"&lt;/ul&gt;\\n\";      \n        }\n\n\n        return $pagination;\n    } \n?&gt;\n</code></pre>\n"},{"tags":["php","post"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":92,"score":4,"question_id":12908626,"title":"Server Unable to Capture the POST Data sent from another server by Redirecting the URL","body":"<p>Recently i started working on the Payment Gateway( further spelled as '<strong>PG</strong>') process for my site. And for the process we have to send the <strong>Post data</strong> by form to <strong>PG</strong> server by redirecting to there page and by response from the <strong>PG</strong> about the Transaction they are sending <strong>POST data</strong> by redirecting the URL to our server page, the problem arises here, as my server unable to retrieve the POST Data sent from <strong>PG</strong> server. </p>\n\n<p>As i am coding in PHP, i tried to print all the response coming from <strong>PG</strong> by <code>print_r($_POST);</code> and even tried with <code>print_r($_REQUEST);</code>. I didn't found any data printing except the PHPSESSID and some other data array.</p>\n\n<p>As for the confirmation I checked wether they sending the Data or not by the IE addon as \"<strong>TamperIE</strong>\" where it is showing the all the POST Data sending from there server. But it is not at all coming to our server. And I tried this process on some other Server, there i able to get the POST response but not with currently working server.</p>\n\n<p>So please can you suggest me what might be the problem.\nThanks!</p>\n"},{"tags":["php","html","zend-framework"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12917999,"title":"Use the Zend Framework to remember the last clicked position","body":"<p>I want to add a feature to an existing website thats built using the Zend Framework. One of the problems with this website is that it refreshes the page often at different positions on the web page. What I would like to do is use a built-in Zend framework function to keep the same position in a web page after it has been refreshed.</p>\n\n<p>An example would be: A user clicks at the bottom of the page, the same page is reloaded but it does not reload at the top of the page, it stays where the user last clicked.</p>\n\n<p>Is there such a thing?</p>\n\n<p>Thank you</p>\n"},{"tags":["php","operators"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":63,"score":0,"question_id":12455706,"title":"What is the difference between the OR and || operator in PHP?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5998309/logical-operators-or-or\">Logical Operators, || or OR?</a>  </p>\n</blockquote>\n\n\n\n<p>I've always thought that OR is another way of writing the || operator in PHP. The only way I prefer using OR over || is that it makes the code easier to read since || can be confused with II or 11 or whatever...</p>\n\n<p>One day I stumbled upon this thing though:</p>\n\n<pre><code>&lt;?php \n      $a = 'string_b';\n      $active = ($a == 'string_a') OR\n                ($a == 'string_b') OR\n                ($a == 'string_c');  \n   var_dump($active); // Prints FALSE;\n?&gt;\n</code></pre>\n\n<p>Why is this happening?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13250887,"title":"Preventing array from selecting duplicate values","body":"<p>I currently have a piece of code that is selecting random values from an array but I would like to prevent it from selecting duplicate values. How can I achieve this? This is my code so far:</p>\n\n<pre><code>$facilities = array(\"Blu-ray DVD Player\",\"Chalk board\",\"Computer\", \"Projector\",\n\"Dual data projector\", \"DVD/Video\");\n\nfor($j = 0; $j &lt; rand(1, 3); $j++)\n   {\n    $fac =  print $facilities[array_rand($facilities, 1)] . '&lt;br&gt;'; \n   } \n</code></pre>\n"},{"tags":["php","symfony2","doctrine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13250523,"title":"symfony2 get entity by id on other bundle template","body":"<p>I already have a complete web application that was developed for almost two years, but due to some inexperience in the beginning, it was developed in flat php. Now I'm trying to replicate the same application but using symfony2 and came across some difficulties. </p>\n\n<p>One of it is that I have several lists of items that are retreived from the database and by using the ID i can edit those items. What happens is that for listing the item I already have some information that are displayed in the list. For instance the name of the user that has created the item. Of course the name of the user is not stored in that particular table.. instead it is its ID and using a simple fucntion (<code>getUserFullname($id)</code>) I get the user name e display it in the list.</p>\n\n<p>Now on symfony2 I've created a controller that creates a repository and sends it to a twig template with a for cycle that lists all the items.. but the id of the user is a number.. I also have created an \"User\" entity to retreive the information.</p>\n\n<p>How can I get a specific user infromtation by its \"id\" and display on each item list?</p>\n"},{"tags":["php","html","apache","iis","curl"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":108,"score":4,"question_id":13091257,"title":"Redirecting HTTP form post","body":"<p><strong>A little background:</strong>\nI have a form on a public website that needs to post data to an apache server behind my firewall.  I don't want to provide direct access to this webhost from the internet.  </p>\n\n<p><strong>Currently this is what I'm doing:</strong> I have an IIS server in my DMZ, this IIS server is the only IP allowed to access the apache server through the firewall.  As a temporary solution I setup IIS with \"Application Request Routing\" to present the Apache box through IIS to the internet.</p>\n\n<p>*<em>What I would like to do:</em>*Have some way to capture and then relay the form without having to present the Apache box to the internet.  The trick here is that the POST will come from anywhere on the internet, be grabbed by the IIS server, and then relayed from the IIS server to the apache box.  I've looked into doing this with PHP/cURL but am not sure if\nusing something like this will do the trick:</p>\n\n<pre><code>&lt;?php\n\n$todo = \"\";\n\nwhile (list($name, $value) = each($HTTP_POST_VARS)) {\n$todo.=$name.\"=\".$value.\"&amp;\";\n}\n\n$ch = curl_init('http://mylanserver/capture.php');\ncurl_setopt ($ch, CURLOPT_POST, 1);\ncurl_setopt ($ch, CURLOPT_POSTFIELDS, $todo);\ncurl_exec ($ch);\ncurl_close ($ch);\n?&gt;\n</code></pre>\n\n<p>Can someone point me in the right direction?  Thanks.</p>\n"},{"tags":["php","twitter","oauth","status"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13250663,"title":"Update Twitter Status Error","body":"<p>I am updating twitter status using my application and facing a problem.</p>\n\n<pre><code>stdClass Object ( [request] =&gt; /1/statuses/update.json [error] =&gt; Could not authenticate you. )\n</code></pre>\n\n<p>But i have authenticate just 2 minutes ago and again its showing same error using code given bellow.</p>\n\n<pre><code>if(strlen($status)&gt;=140)\n    {\n        $status = substr($status,0,139);\n    }\n    if($E_oauth_token != \"\" &amp;&amp; $E_oauth_token_secret != \"\")\n    {\n        try\n        {\n            $twitteroauth = new TwitterOAuth(YOUR_CONSUMER_KEY, YOUR_CONSUMER_SECRET, $E_oauth_token, $E_oauth_token_secret);\n            $access_token = $twitteroauth-&gt;getAccessToken($tweet_verifier);\n            $params = array('status' =&gt;  $status);\n            print_r($twitteroauth-&gt;post('statuses/update', $params));\n        }\n        catch(exception $e)\n        {\n              echo $e;\n        }\n</code></pre>\n"},{"tags":["php","jquery","database","web-site-project"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":13249282,"title":"send data on button click from javascript to database","body":"<p>So I have a php page that gets data from database and displays a table. Each td symbolises a seat in a movie theater. What i want to do is when a user clicks on one or more tds, and clicks send, the Status column for each td in the database changes to 1 from 0(default). And next time the database is accessed, the td's with status=1 have a different color.\nMy code uptil now is:</p>\n\n<pre><code>    &lt;div id=\"screen\"&gt;SCREEN&lt;/div&gt;\n&lt;div id=\"Seatings\"&gt;\n    &lt;?php echo \"&lt;table border='1'&gt;\n        &lt;tr&gt;\n        &lt;th&gt;Seating&lt;/th&gt;\n        &lt;/tr&gt;\";\n        $count=0;\n    echo \"&lt;tr&gt;\";\n    echo\"&lt;td id='Seat_rn'&gt;A&lt;/td&gt;\";\n    while($row = mysql_fetch_array($sql))\n    {\n\n        if($count&lt;10){\n        echo \"&lt;td id='Seat_A' class='count'&gt;\" . $row['Seat'] . \"&lt;/td&gt;\";  \n        }\n    $count++;\n    }   \n    echo \"&lt;/tr&gt;\";\n   $sql=mysql_query(\"SELECT * FROM Seating_para_20 Where Seat &gt; '10'\");\n   echo \"&lt;tr&gt;\";\n   echo\"&lt;td id='Seat_rn'&gt;B&lt;/td&gt;\";\n   while($row = mysql_fetch_array($sql))\n   {\n      if($count&gt;=10){\n       echo \"&lt;td id='Seat_B' class='count'&gt;\" . $row['Seat'] . \"&lt;/td&gt;\";  \n      }\n   $count++;\n   }\n   echo\"&lt;/tr&gt;\";\n   echo \"&lt;/table&gt;\";\n   ?&gt;\n&lt;/div&gt;\n&lt;input type=\"button\" value=\"Done\" name=\"done\" onclick=\"window.close()\"&gt; \n</code></pre>\n\n<p>My jquery code is:</p>\n\n<pre><code>        $(\"td #Seat_A\").click(function(){\n    $(this).css(\"background\", \"red\");\n        });\n        $(\"td #Seat_B\").click(function(){\n    $(this).css(\"background\", \"red\");\n        });\n        $(document.\"done\").click(function(){\n    alert(price:750 Baht);\n        }) \n</code></pre>\n\n<p>I am nowhere near what i want and I'm sorry if any of my code is \"amatuer-ish\" but I am new to this and I have been trying very hard. Would appreciate any help that I can get. </p>\n"},{"tags":["php","latitude-longitude","localtime"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":3,"view_count":91,"score":-3,"question_id":13011141,"title":"How to use earthtools.org to get time using latitude and longitude in PHP?","body":"<p>I am in a plan to auto-fill a form. \n<a href=\"http://www.earthtools.org/webservices.htm#timezone\" rel=\"nofollow\">http://www.earthtools.org/webservices.htm#timezone</a>\nCheck  input types (I will change this to  later)\nIP Address:\nDate and Time:</p>\n\n<p>Go to <a href=\"http://www.earthtools.org/webservices.htm#timezone\" rel=\"nofollow\">http://www.earthtools.org/webservices.htm#timezone</a> and can anyone help me to find out how I can get an exact local time of a location's latitude and longitude? \nI am not talkin to get time zone. I would like to get exact time such as in AM and PM for a input latitude and longitude. If that's not possible then please help me atleast to get approximate time.</p>\n\n<p>I am using <a href=\"http://www.iplocationtools.com/api.html\" rel=\"nofollow\">http://www.iplocationtools.com/api.html</a> to get latitude and longitude and then giving them as input in earthtools.org but I don't know where to use these latitude and longitude in earthtools.org.</p>\n\n<p>I have seen some API websites and most of them are paid ones.</p>\n\n<pre><code>    &lt;script language=\"JavaScript\"&gt;\n&lt;!--\niplocationtools_width = 180; // The width of API, minimum 160px, maximum 400px\niplocationtools_height = 400; // The height of API, minimum 80px, maximum 800px\niplocationtools_border_size = 1; // The size of the border\niplocationtools_border_color = '000000'; // Color of the border\niplocationtools_bg_color = 'BACCED'; // Background color\niplocationtools_font_color = 'FFFFFF'; // Font color\niplocationtools_font_size = 10; // Font size\niplocationtools_show_time = 1; // Enable time stamp, 1=Enable,0=Disable\niplocationtools_time_zone = 8; // Change this to display correct time\niplocationtools_custom_bg = \"\"; // Background image's URL\n//--&gt;\n&lt;/script&gt;\n&lt;script language=\"JavaScript\" \nsrc=\"http://www.iplocationtools.com/visitor.js?key=7f737e6a6275717e6a6c627861727227736362\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\" src=\"http://www.iplocationtools.com/iplocationtools.js?key=7f737e6a6275717e6a6c627861727227736362\"&gt;&lt;/script&gt; \n&lt;/head&gt;\n&lt;body&gt;\n&lt;script language=\"JavaScript\" src=\"http://www.iplocationtools.com/iplocationtools.js?key=7f737e6a6275717e6a6c627861727227736362\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\"&gt;\n&lt;!--\ndocument.write(ip2location_city() + ', ' + ip2location_region() + ', ' + ip2location_country_long() + ', ' + ip2location_latitude() + ', ' + ip2location_longitude());\n\ndocument.write(ip2location_banner());\n//--&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>I will get the, Location, time and latitude-longitude using the above code(API registration needed). The problem is the time being showed using above code is two hours ahead of the current time. So as to fix this, I decided to use earthtools.org by getting exact local time using latitude-longitude.</p>\n\n<p>Where there are no proper documentation about earthtools.org to use it as a webservice but there are so many votes for this answer recommended earthtools.org in stackoverflow. </p>\n\n<p>Earthtools suggest that if I do the below it will get the exact local time,</p>\n\n<pre><code>http://www.earthtools.org/timezone/&lt;latitude&gt;/&lt;longitude&gt;\n\n    http://www.earthtools.org/timezone/40.71417/-74.00639\nwhich returns the following XML:\n&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt;\n&lt;timezone xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"http://www.earthtools.org/timezone.xsd\"&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n    &lt;location&gt;\n        &lt;latitude&gt;40.71417&lt;/latitude&gt;\n        &lt;longitude&gt;-74.00639&lt;/longitude&gt;\n    &lt;/location&gt;\n    &lt;offset&gt;-5&lt;/offset&gt;\n    &lt;suffix&gt;R&lt;/suffix&gt;\n    &lt;localtime&gt;4 Dec 2005 12:06:56&lt;/localtime&gt;\n    &lt;isotime&gt;2005-12-04 12:06:56 -0500&lt;/isotime&gt;\n    &lt;utctime&gt;2005-12-04 17:06:56&lt;/utctime&gt;\n    &lt;dst&gt;False&lt;/dst&gt;\n&lt;/timezone&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13248453,"title":"How to select non english characters?","body":"<p>I have some variables which include non english chars like İ,ş,ö. I can insert them to mysql db but they convert to some special characters. For example:</p>\n\n<blockquote>\n  <p>Faz 1/İzmir/İzmir/Konak 1. Merkezinden  Faz1/İzmir/İzmir/Konak 2.\n  Merkezine  bilgisi ile yeni Erişim kaydı yapıldı</p>\n</blockquote>\n\n<p>to</p>\n\n<blockquote>\n  <p>Faz 1/Ä°zmir/Ä°zmir/Konak 1. Merkezinden  Faz1/Ä°zmir/Ä°zmir/Konak 2.\n  Merkezine  bilgisi ile yeni Erişim kaydı yapıldı.</p>\n</blockquote>\n\n<p>it is  sql code:</p>\n\n<pre><code>$sql = \"SELECT username, islem, tarih  FROM loglar where kullanici_id= \".$gelen_id.\" order by tarih desc\" ;  \n$_SESSION[\"VT\"]-&gt;doQuery($sql);\n</code></pre>\n\n<p>Then i cannot get them. it returns null althogh it is in db. and I cannot display in extjs column</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":27,"score":-5,"question_id":13250699,"title":"Percent between calculating","body":"<p>How do I find out how far I am in the process from 2 math (in percent)?</p>\n\n<p>I have 128 minutes.\nI must have 1500 minutes.</p>\n\n<p>How do I find out what percentage I am in the process of acquiring 1500 minutes?</p>\n\n<p>Must return the percentage.</p>\n"},{"tags":["php","oop","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13250135,"title":"Magento: \"overriding\" core config.xml files via a local copy? Is this correct?","body":"<p>I'm trying to rename some of the credit cards which appear on my Magento checkout (e.g. \"Visa\" becomes \"Visa Debit/Credit\"). </p>\n\n<p>To do this, I discovered you must edit the names as defined in <code>/app/code/core/Mage/Payment/etc/config.xml</code>.</p>\n\n<p>Not wanting to overwrite core files, I tried copying this file to <code>/app/code/local/Mage/Payment/etc/config.xml</code> and making my changes there, but it didn't work. From research, I gather than Magento doesn't autoload config files from local folders first?</p>\n\n<p>I then discovered that you could change <code>app/etc/modules/Mage_All.xml</code> and specify <code>&lt;codePool&gt;local&lt;/codePool&gt;</code> instead of <code>&lt;codePool&gt;core&lt;/codePool&gt;</code> under <code>&lt;Mage_Payment&gt;</code>. My changes made under the local folder would then work.</p>\n\n<p>Is this the correct approach? Will changing the <code>codePool</code> of a core module have any repercussions? Is there some other way to \"override\" a core module's <code>config.xml</code>?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":34,"score":-2,"question_id":13250564,"title":"Coolest way to parse $_SERVER[\"HTTP_ACCEPT_LANGUAGE\"]","body":"<p>What is the most reliable way to parse the $_SERVER[\"HTTP_ACCEPT_LANGUAGE\"]</p>\n\n<p>Here's some examples I found:</p>\n\n<p><a href=\"http://de77.com/php/how-to-detect-users-countrylanguage-the-simple-way\" rel=\"nofollow\">http://de77.com/php/how-to-detect-users-countrylanguage-the-simple-way</a></p>\n\n<p><a href=\"http://www.thefutureoftheweb.com/blog/use-accept-language-header\" rel=\"nofollow\">http://www.thefutureoftheweb.com/blog/use-accept-language-header</a></p>\n"},{"tags":["php","unit-testing","yii","phpunit"],"answer_count":1,"favorite_count":0,"up_vote_count":7,"down_vote_count":2,"view_count":47,"score":5,"question_id":13249180,"title":"YII fixture issue:Exception: Unknown method: 'issues'","body":"<p>I have discovered Yii recently and am working through the book (agile web application development with yii 1.1 and php5 : <a href=\"http://rads.stackoverflow.com/amzn/click/1847199585\" rel=\"nofollow\">link</a>) now as well.</p>\n\n<ul>\n<li>I am using Yii 1.1.12, in order to follow the book with minimum problems </li>\n<li>the fixture file is in place and not returns the neccesary array</li>\n<li>fixture is added to the database    </li>\n<li>I am using a seperate test database (per the book) which is working\nfine up to this point </li>\n</ul>\n\n<p>Here is the code that I have.</p>\n\n<p><strong>protected/models/Issue.php</strong></p>\n\n<pre><code>&lt;?php\n\n/**\n * This is the model class for table \"tbl_issue\".\n */\nclass Issue extends CActiveRecord\n{\n        /**\n        **strong text** * The followings are the available columns in table 'tbl_issue':\n         * @var integer $id\n         * @var string $name\n         * @var string $description\n         * @var integer $project_id\n         * @var integer $type_id\n         * @var integer $status_id\n         * @var integer $owner_id\n         * @var integer $requester_id\n         * @var string $create_time\n         * @var integer $create_user_id\n         * @var string $update_time\n         * @var integer $update_user_id\n         */\n\n         const TYPE_BUG = 0;\n         const TYPE_FEATURE = 1;\n         const TYPE_TASK = 2;\n         const STATUS_NOT_YET_STARTED = 0;\n         const STATUS_STARTED = 1;\n         const STATUS_FINISHED = 2;\n\n        // ... GII generated stuff omitted for clarity\n\n        public function getTypeOptions()\n        {\n            return array(\n                self::TYPE_BUG =&gt; 'Bug',\n                self::TYPE_FEATURE =&gt; 'Feature',\n                self::TYPE_TASK =&gt; 'Task',\n            );\n       }\n\n        public function getStatusOptions()\n        {\n            return array(\n            self::STATUS_NOT_YET_STARTED =&gt; 'Not yet started',\n            self::STATUS_STARTED =&gt; 'Started',\n            self::STATUS_FINISHED =&gt; 'Finished',\n        );\n    }\n\n    public function getStatusText()\n    {\n        $statusOptions = $this-&gt;statusOptions;\n        return isset($statusOptions[$this-&gt;status_id]) ?\n                $statusOptions[$this-&gt;status_id] :\n                \"unknown status ({$this-&gt;status_id})\";\n    }\n\n    public function getTypeText()\n    {\n        $typeOptions = $this-&gt;typeOptions;\n        return isset($typeOptions[$this-&gt;type_id]) ?\n                $typeOptions[$this-&gt;type_id] :\n                \"unknown type ({$this-&gt;type_id})\";\n    }\n}\n</code></pre>\n\n<p><strong>protected/tests/unit/IssueTest.php</strong></p>\n\n<pre><code>&lt;?php\nclass IssueTest extends CDbTestCase\n{\n    public $fixtures = array(\n    'projects' =&gt; 'Project',\n    'issues' =&gt; 'Issue',\n    );\n\n    public function testGetTypes()\n    {\n        $options = Issue::model()-&gt;typeOptions;\n        $this-&gt;assertTrue(is_array($options));\n        $this-&gt;assertTrue(3 == count($options));\n        $this-&gt;assertTrue(in_array('Bug', $options));\n        $this-&gt;assertTrue(in_array('Feature', $options));\n        $this-&gt;assertTrue(in_array('Task', $options));\n    }\n\n    public function testGetStatuses()\n    {\n        $options = Issue::model()-&gt;statusOptions;\n        $this-&gt;assertTrue(is_array($options));\n        $this-&gt;assertTrue(3 == count($options));\n        $this-&gt;assertTrue(in_array('Not yet started', $options));\n        $this-&gt;assertTrue(in_array('Started', $options));\n        $this-&gt;assertTrue(in_array('Finished', $options));\n    }\n\n    public function testGetStatusText()\n    {\n        $this-&gt;assertTrue('Started' == $this-&gt;issues('issueBug')-&gt;getStatusText());\n    }\n\n    public function testGetTypeText()\n    {\n        $this-&gt;assertTrue('Bug' == $this-&gt;issues('issueBug')-&gt;getTypeText());\n\n    }\n}\n</code></pre>\n\n<p>It's probably some really silly typo, but I can't seem to find it. Any help would be much appreciated. Thanks! </p>\n"},{"tags":["php","textarea","tidy"],"answer_count":4,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":472,"score":6,"question_id":7643408,"title":"Php tidy and text areas","body":"<p>I am using <a href=\"http://au.php.net/manual/en/book.tidy.php\" rel=\"nofollow\">tidy</a> to clean up and format the output of HTML generated by the <a href=\"http://www.twig-project.org\" rel=\"nofollow\">twig template engine</a>.</p>\n\n<p>I am using the following configuration for tidy:</p>\n\n<pre><code>$config = array('indent' =&gt; TRUE, 'output-html' =&gt; TRUE, 'wrap' =&gt; 0);\n</code></pre>\n\n<p>Everything works nice and well, except when we get to textareas.</p>\n\n<p>Here's the uncleaned fragment:</p>\n\n<pre><code>&lt;textarea id=\"words\"\n         rows=\"10\"       cols=\"50\"                  &gt;sdfds&lt;/textarea&gt;\n</code></pre>\n\n<p>While the formatting is very messy, the correct value is outputted in the text area: 'sdfds' without any whitespace before or after.</p>\n\n<p>This is the cleaned format after using tidy:</p>\n\n<pre><code>                &lt;textarea id=\"words\" name=\"words\" rows=\"10\" cols=\"50\" title=\"prompt\"&gt;\nsdfds\n&lt;/textarea&gt;\n</code></pre>\n\n<p>As can be seen, the markup is much neater now, but tidy has introduced a linebreak after 'sdfds', which means that the cursor is now pointing at the line after 'sdfds' when viewed in the browser.</p>\n\n<p>This is rather annoying, and I am not sure how to go about dealing with this. I would still want to have the textarea tag cleaned up, but I would prefer it to be formatted like so:</p>\n\n<pre><code>&lt;textarea id=\"words\" name=\"words\" rows=\"10\" cols=\"50\" title=\"prompt\"&gt;sdfds&lt;/textarea&gt;\n</code></pre>\n\n<p>Has anyone dealt with this issue before? If so, How can I get tidy to not introduce those whitespaces for the textarea tag?</p>\n"},{"tags":["php","php-frameworks"],"answer_count":4,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":69,"score":8,"question_id":13250298,"title":"PHP beginner - scalability and where to go on frameworks?","body":"<p>For the past months I've been getting into Web Development, I tried both sides of the coin: ASP.NET and PHP, I quickly fell in love with the second, the documentation and the community was just very helpful.</p>\n\n<p>I started out by reading <strong>PHP for Absolute Beginners</strong>, this gave me a decent grasp over the language.</p>\n\n<p><img src=\"http://i.stack.imgur.com/uplCi.jpg\" alt=\"we need to go deeper\"></p>\n\n<p>Enter frameworks! After going around the web, it became clear that there was one framework that really suited beginners: <strong>Codeigniter</strong>. I absolutely love CI, through out my programming experience in college I've always relied on good books. CI didn't need a book. The documentation is so well written anyone with a little bit of PHP experience can get into it. </p>\n\n<p>Learning CI led me to development websites (such as Stackoverflow) and I started reading things that kinda make me sad, \"CI doesn't scale on big projects\", \"CI isn't even a framework\", \"CI is for newbies, get pro like me bro\".</p>\n\n<p>Ok, so maybe CI shouldn't be used for huge projects - at least that's what I got from the overall community. But I'm wondering here, where should I go from now? I feel like I should get some experience in at least a few MVC frameworks, but it's kinda confusing on where to go at this point, today <strong>Zend</strong> is best, tomorrow <strong>Symfony</strong> is, but damm, that <strong>Yii</strong> s looking good too! All of these frameworks are getting updated to 2.0 and the documentation is scarce, there's not many books going around (if any), the respective websites have a lot of information, but for someone coming from CI, it all just feels very intimidating to start out. Starting projects with Windows CMD? PHP accelerators?</p>\n\n<p>I'm guess what I'm trying to ask here is, how do you professionals see the PHP framework world these days? Which Framework would you recommend? Should I hop into this 2.0 bubble or are these versions not stable yet? And if possible, could you point me in a general direction when it comes to documentation?</p>\n\n<p>Thank you for your time.</p>\n"},{"tags":["php","wordpress","login","xml-rpc","smf-forum"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13250535,"title":"wordpress login via xml-rpc","body":"<p>Does anyone know of a short tutorial on how to perform a wordpress login via xml-rpc from a page outside wordpress?</p>\n\n<p>Basically I have a main blog in root and an smf forum in a subfolder called forum. If someone signs into the forum we want to sign them in automatically into the blog as well. registration works its just the login that we can't get to work.</p>\n"},{"tags":["php","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12279247,"title":"How to use Namespaced Sessions in Symfony2","body":"<p>I am trying to use symfony2 sessions.I do this</p>\n\n<pre><code>    $session = $this-&gt;getRequest()-&gt;getSession();\n    $session-&gt;set('token','value');\n</code></pre>\n\n<p>This works. But i want to use namespace in session. Documentation says </p>\n\n<pre><code>    class NamespacedAttributeBag \n</code></pre>\n\n<p>provides that feature but i cannot figure out how to implement it</p>\n"},{"tags":["php","simple-html-dom"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13250494,"title":"fetching data from http://api.hostip.info/","body":"<p>Fetch city from this xml document <a href=\"http://api.hostip.info/\" rel=\"nofollow\">http://api.hostip.info/</a></p>\n\n<p>so i used html dom parser.</p>\n\n<p>if i used gml:name to get city name i got city name as well as host id string.\nhow to get only city name from this site?</p>\n"},{"tags":["php","javascript","rss","html-encode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13231070,"title":"Sanitize RSS Feed content for a Feed Aggregator","body":"<p>I'm building a RSS feed aggregator/reader in PHP. Since RSS is essentially user generated content, I do not want to rely on the feed contents being safe.</p>\n\n<p>I'm looking for advice on sanitizing the feed contents for storage and display on user's devices. Currently, I'm using <code>htmlentities(feed_content)</code> to escape all characters but that does not work right since it UTF-8 encodes the characters which cannot be decoded back in Javascript (That I use for frontend construction).</p>\n\n<pre><code>- Original: \"Soundtrack: Dinosaur Jr. - Don’t Pretend You Didn’t Know I hadn’t thought much...\"\n\n- After htmlentities: \"Copyright-Infringing Tweets Will Now Be &amp;amp;#8220;Withdrawn&amp;amp;#8221; Instead of &amp;amp;#8220;Disappeared...\"\n\n- After JS decodeURI: \"Copyright-Infringing Tweets Will Now Be &amp;amp;#8220;Withdrawn&amp;amp;#8221; Instead of &amp;amp;#8220;Disappeared...\"\n</code></pre>\n\n<p>If I remove the htmlentities above, the text shows correctly. But I'm not sure if that is the right way to ensure the data is sanitized</p>\n"},{"tags":["php","objective-c","ios","http","post"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13250419,"title":"Error in AFHTTPClient POST","body":"<p>I'm trying to make a http post to a web server in an iPhone App with AFHTTPClient. The petition is OK but the server doesn`t receive the parameters.</p>\n\n<p>This is the code in the app:</p>\n\n<pre><code>NSURL *url = [NSURL URLWithString:@\"http://192.168.1.38:8888/app-culleredo/\"];\nAFHTTPClient *httpClient = [[AFHTTPClient alloc] initWithBaseURL:url];\n\nNSMutableDictionary *params = [[NSMutableDictionary alloc] init];\n\n[params setObject:@\"firstParameter\" forKey:@\"firstKey\"];\n[params setObject:@\"secondParameter\" forKey:@\"secondKey\"];\n\n\nNSMutableURLRequest *request = [httpClient requestWithMethod:@\"POST\" path:@\"index.php\" parameters:params];    \n\nNSLog(@\"New POST-&gt;...\");\n\nAFHTTPRequestOperation* operation = [AFHTTPRequestOperation HTTPRequestOperationWithRequest:request success:^(id object) {\n    NSLog(@\"Operation OK!\");\n\n} failure:^(NSHTTPURLResponse *response, NSError *error) {\n\n    NSLog(@\"Operation FAIL: %@\", error);\n}];\n\nNSOperationQueue *queue = [[NSOperationQueue alloc] init];\n[queue addOperation:operation];\n</code></pre>\n\n<p>And this is the code of the index.php script in the server</p>\n\n<pre><code>&lt;?php\nob_start();\nvar_dump($_POST);\n$text = ob_get_clean();\nprint 'OK';\n$fp = fopen(\"example.txt\",\"a\");\nfwrite($fp, date('h:i:s A') .\" Texto:\" . $text . PHP_EOL);\nfclose($fp);\n?&gt; \n</code></pre>\n\n<p>The server only write a text file with the parameters that receive in the POST to test if all is OK, but it doesn't work well.</p>\n\n<p>Example.txt:</p>\n\n<pre><code> 12:36:01 PM Texto:array(0) {\n }\n 12:39:31 PM Texto:array(0) {\n }\n</code></pre>\n\n<p>In Xcode console:</p>\n\n<pre><code>2012-11-06 12:39:28.760 IOSBoilerplate[577:907] New POST-&gt;...\n2012-11-06 12:39:33.622 IOSBoilerplate[577:907] hey, some success!\n</code></pre>\n"},{"tags":["php","python","ruby","server-side"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":52,"score":-3,"question_id":13250321,"title":"Third-party web developers. Should I care which server-side language they use (ie PHP, Ruby, Python, etc)?","body":"<p>I'm working a project where an external development team will be asked to build a beta of a new web service. Even though it's a beta as well as being functionally operable it also needs to demonstrate robustness in design; security; scalability and extensibility.</p>\n\n<p>I've personally hacked around in various languages (PHP, Javascript, C, J2ME, SQL, UNIX shells, etc), but I don't consider myself a professional programmer, so I'm interested in others opinions on whether I should even be concerned by the language chosen or if I should focus on the relevant management (PM approach, source code control, testing, etc)?</p>\n\n<p>Thanks,\nPeter</p>\n"},{"tags":["php","eclipse"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":4601,"score":3,"question_id":4551711,"title":"Getting incompatible debugger version error in eclipse PHP","body":"<p>Getting incompatible debugger version\nThe remote debugger version might not match the expected protocol version \n(2006040705). Show error pop up after after every some time </p>\n\n<p>I am using </p>\n\n<p>Eclipse for PHP Developers</p>\n\n<p>Version: Helios Service Release 1\nBuild id: 20100917-0705</p>\n"},{"tags":["php","mysql","query"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13249281,"title":"Getting extra data in MYSQL count query","body":"<p>Hi all i've had help from bluefleet (BF) with a mysql query which i've now put in a php file, the query works fine but i find i need to get extra data as well as the count, so what i need is when a match is found i need to look up the username in table tview3.</p>\n\n<p>Whichever table the ip match is found there will be a column called UID, in the table tview3 there will also be a column called USERNAME, what i'd like to do is get the username(s) for the matches and then use them in a text file.</p>\n\n<p>I have to state i'm a complete newbie at this, all help is appreciated</p>\n\n<pre><code>$myquery= \"select sum(total)\nfrom\n(\n    SELECT count(*) as total\n    FROM \" .TABLE_PREFIX.\"tview v\n    where v.ipaddress = '$ips'\n    union all\n    SELECT count(*) as total\n    FROM \" .TABLE_PREFIX.\"tview2 v1\n    where v1.ipaddress = '$ips'\n    union all\n    SELECT count(*) as total\n    FROM \" .TABLE_PREFIX.\"tview3 v3\n    where v3.ipaddress = '$ips'\n) src\";\n\n $result = mysql_query($myquery);\n    $rowCount = mysql_num_rows($result);\n    If($rowCount !=0){\n       echo \"NOT EMPTY\";\n    }else{\n      echo \"EMPTY\";\n    }\n   mysql_free_result($result);\n\n$UAM = strtoupper($_SERVER['HTTP_USER_AGENT']);\n$ips = strtoupper($_SERVER['REMOTE_ADDR']);\n$fp = fopen(\"logtext.txt\", \"a\");\n$DateOfRequest = date('m-d-Y H:i:s');\n\nfwrite($fp, \"$DateOfRequest . \\nMatched Member: . $username . \\nWith User Agent:  . $UAM . \\n\\nIP: . $ips . \\n\\n\");\n</code></pre>\n\n<p>So i'd like to populate a variable <strong>$username</strong> with the username(s) where the matches were found.</p>\n\n<p>Regards,\nSilo</p>\n"},{"tags":["php","dynamically-generated"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":986,"score":1,"question_id":4912275,"title":"Automatically generate nested table of contents based on heading tags","body":"<p>Which one of you crafty programmers can show me an elegant php coded solution for automatically generating a nested table of contents based on heading tags on the page?</p>\n\n<p>So I have a html document thus:</p>\n\n<pre><code>&lt;h1&gt; Animals &lt;/h1&gt;\n\nSome content goes here.\nSome content goes here.\n\n&lt;h2&gt; Mammals &lt;/h2&gt;\n\nSome content goes here.\nSome content goes here.\n\n&lt;h3&gt; Terrestrial Mammals &lt;/h3&gt;\nSome content goes here.\nSome content goes here.\n\n&lt;h3&gt; Marine Mammals &lt;/h3&gt;\nSome content goes here.\nSome content goes here.\n\n&lt;h4&gt; Whales &lt;/h4&gt;\nSome content goes here.\nSome content goes here.\n</code></pre>\n\n<p>More specifically, I want a linked table of contents in the form of a nested list of links to headings on the same page:</p>\n\n<p>Table of Contents (automatically generated by PHP code)</p>\n\n<ol>\n<li>Animals\n<ol>\n<li>Mammals\n<ol>\n<li>Terrestrial_Mammals</li>\n<li>Marine_Mammals\n<ol>\n<li>Whales</li>\n</ol></li>\n</ol></li>\n</ol></li>\n</ol>\n"},{"tags":["php","orm","redbean"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":12542102,"title":"Redbean, Multiple many-to-many using same object","body":"<p>Many-to-many mappings are easy to use in redbean with simple scenarios. But how do you do multiple many-to-many mapping between the very same object?</p>\n\n<p>Example:</p>\n\n<p>What I want to acomplish is in structure very similar to the twitter/instagram setup of \"followers\" and \"following\"</p>\n\n<pre><code>// this c\n\n$user = R::dispense('user');\n$user2 = R::dispense('user');\n\n// ..\n\n//Usr1 follows user2\n$user-&gt;sharedUser[] = $user2;\n\n// user2 follows user1\n$user2-&gt;sharedUser[] = $user1;\n</code></pre>\n\n<p>Now, I want to, from user1 perspective, list both the followers and the following users.</p>\n\n<p>However, I cannot list the \"followers\", without querying all users in the database and look for user1. Is there any way to have multiple \"shared\" lists in redbean or any nice workaround for these particular cases or is the query way the way to go?</p>\n"},{"tags":["php","wordpress","xml-rpc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13249958,"title":"wordpress xml-rpc timeout","body":"<p>I am trying to use xml-rpc to perform certain tasks on the wordpress installation.</p>\n\n<p>this is what I am using</p>\n\n<pre><code>include_once '/local/www/xxxxxxxx/wp-includes/class-IXR.php';\n$objClient = new IXR_Client('http://xxxxxxxx/xmlrpc.php');\n</code></pre>\n\n<p>if I do a print_r on the objClient I get the following</p>\n\n<pre><code>IXR_Client Object\n(\n    [server] =&gt; xxxxxxxx\n    [port] =&gt; 80\n    [path] =&gt; /library/xmlrpc.php\n    [useragent] =&gt; The Incutio XML-RPC PHP Library\n    [response] =&gt; \n    [message] =&gt; \n    [debug] =&gt; \n    [timeout] =&gt; 15\n    [headers] =&gt; Array\n    (\n    )\n    [error] =&gt; \n)\n</code></pre>\n\n<p>What I can't figure out is what that 15 at the timeout means and why it times out. Any suggestion anyone?</p>\n"},{"tags":["php","unique","zend-cache"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":768,"score":0,"question_id":3081634,"title":"Generating a unique id for a given string using php","body":"<p>I'm using Zend_Cache_Core with Zend_Cache_Backend_File to cache results of queries executed for a model class that accesses the database. </p>\n\n<p>Basically the queries themselves should form the id by which to cache the obtained results, only problem is, they are too long. Zend_Cache_Backend_File doesn't throw an exception, PHP doesn't complain but the cache file isn't created.</p>\n\n<p>I've come up with a solution that is not efficient at all, storing any executed query along with an autoincrementing id in a separate file like so:</p>\n\n<p>0->>SELECT * FROM table\n1->>SELECT * FROM table1,table2\n2->>SELECT * FROM table WHERE foo = bar</p>\n\n<p>You get the idea; this way i have a unique id for every query. I clean out the cache whenever an insert, delete, or update is done. </p>\n\n<p>Now i'm sure you see the potential bottleneck here, for any test, save or fetch from cache two (or three, where we need to add a new id) requests are made to the file system. This may even defeat the need to cache alltogether. So is there a way i can generate a unique id, ie a much shorter representation, of the queries in php without having to store them on the file system or in a database?</p>\n"},{"tags":["php"],"answer_count":8,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":4335,"score":6,"question_id":196664,"title":"Print out post values","body":"<p>I have a form that has multiple fields, and for testing purposes is there a way I could print out the values entered in all the fields, without having to individually print each value.</p>\n"},{"tags":["php","mysql","ajax","live"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13250199,"title":"How to change icon color when new row is added in database","body":"<p>I want to make a php page that shows three icons. (icon1, icon2, icon3). Each icon displays the current status of a switch that has 2 status (ON-OFF). When each one of the switch change its status I get one new row entry in the database.\nWhat I want is, to change one icon from green to red when the switch turns off and from red to green when the switch turns on. \nThese changes must be visible in realtime (if possible) and without refreshing the php page. I want to have the php site loaded in my browser once and when something new added to my MySQL the page must show the new status.\nCan someone help me with this?</p>\n"},{"tags":["php","silverlight","visifire"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13246931,"title":"Printing Visifire Silverlight object","body":"<p>I am using PHP.<br>\nThere is a visifire chart object inserted into an html page with JavaScript.<br>\nWhen i print the page the chart is not displayed.<br>\nIs the a way to print it?</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13250066,"title":"How to add a number to a current value in mysql (multiple times at the same time)?","body":"<p>I'm working on a points system that will give users on my site a ranking based on their points, I'm giving the user +1 points whenever someone checks his profile page. Let's say the user has 200 points, on the same exact time 10 users checked his profile page, from my understanding the code will get 200 adds 1 and the result will be 200 + 1 = 201 if the 10 users are in at the same time, how will the database act?</p>\n\n<p>Logically it will count only one visit because the time users checked the profile the value was 200, so when the MYSQL update happens it will be always 201. Am I correct ?</p>\n"},{"tags":["php","api"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":15,"score":3,"question_id":13249741,"title":"google-api-php-client-0.5.0 callbackurl?","body":"<p>I am new to integrating api and I am trying to working with the  <code>google-api-php-client-0.6.0</code> and I registered my app at Google and also configured them in <code>simple.php</code> in dev.siva.com virtual host</p>\n\n<pre><code>&lt;?php\n/*\n * Copyright 2012 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire_once 'src/Google_Client.php';\nsession_start();\n\n$client = new Google_Client();\n$client-&gt;setApplicationName('Google Contacts PHP Sample');\n$client-&gt;setScopes(\"http://www.google.com/m8/contacts/\");\n// Documentation: http://code.google.com/apis/gdata/docs/2.0/basics.html\n// Visit https://code.google.com/apis/console?api=contacts to generate your\n// oauth2_client_id, oauth2_client_secret, and register your oauth2_redirect_uri.\n// $client-&gt;setClientId('insert_your_oauth2_client_id');\n// $client-&gt;setClientSecret('insert_your_oauth2_client_secret');\n// $client-&gt;setRedirectUri('insert_your_redirect_uri');\n// $client-&gt;setDeveloperKey('insert_your_developer_key');\n\nif (isset($_GET['code'])) {\n  $client-&gt;authenticate();\n  $_SESSION['token'] = $client-&gt;getAccessToken();\n  $redirect = 'http://' . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'];\n  header('Location: ' . filter_var($redirect, FILTER_SANITIZE_URL));\n}\n\nif (isset($_SESSION['token'])) {\n $client-&gt;setAccessToken($_SESSION['token']);\n}\n\nif (isset($_REQUEST['logout'])) {\n  unset($_SESSION['token']);\n  $client-&gt;revokeToken();\n}\n\nif ($client-&gt;getAccessToken()) {\n  $req = new Google_HttpRequest(\"https://www.google.com/m8/feeds/contacts/default/full\");\n  $val = $client-&gt;getIo()-&gt;authenticatedRequest($req);\n\n  // The contacts api only returns XML responses.\n  $response = json_encode(simplexml_load_string($val-&gt;getResponseBody()));\n  print \"&lt;pre&gt;\" . print_r(json_decode($response, true), true) . \"&lt;/pre&gt;\";\n\n  // The access token may have been updated lazily.\n  $_SESSION['token'] = $client-&gt;getAccessToken();\n} else {\n  $auth = $client-&gt;createAuthUrl();\n}\n\nif (isset($auth)) {\n    print \"&lt;a class=login href='$auth'&gt;Connect Me!&lt;/a&gt;\";\n  } else {\n    print \"&lt;a class=logout href='?logout'&gt;Logout&lt;/a&gt;\";\n}\n</code></pre>\n\n<p>I am able to login and I gave the redirect url to above code and I am being redirected but the problem is I am getting unable to connect page. Why?</p>\n\n<p>The url is like this after redirection</p>\n\n<pre><code>    https://dev.siva.com/simple.php?code=4/hqJo9FDtjcn46uuP6JXE\nDuWLKTQn.Eo91flf65bgaXE-sT2ZLcbRbNNSqdQI\n</code></pre>\n"},{"tags":["php"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13250025,"title":"Gettext and user location","body":"<p>So I've been able to figure out how to use gettext to translate for a certain language, setting the setlocale, how can I figure out what user probably want for language to be set?</p>\n"},{"tags":["php","javascript","jquery","escaping"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13228760,"title":"jQuery load function escapes data","body":"<p>I have a strange problem with the load function from jQuery. It escapes HTML content that jQuery gets back from the load function. I load HTML output from a PHP file into a div. I use this function: </p>\n\n<pre><code>function XXX(file,divName,functionToCall)\n{\n    $(\"#\" + divName).load(file,null,function()\n    {\n        functionToCall();\n    });\n};\n</code></pre>\n\n<p>The HTML output of the PHP file:</p>\n\n<p><code>&lt;div onClick=\"xxx(0,'xxx')\" id=\"xxx\"&gt;&lt;/div&gt;</code></p>\n\n<p>Jquery converts it into:</p>\n\n<p><code>&lt;div onClick=\"xxx(0,\\'xxx\\')\" id=\"xxx\"&gt;&lt;/div&gt;</code></p>\n\n<p>Because of this convention I can't use the onClick function, it isn't valid any more. I can't figure out what I 'm doing wrong, does some one know what causes this problem and how to solve this in a good way? I already read other related question on Stack overflow, but I couldn't find an answer how to avoid escaping.</p>\n"},{"tags":["php","magento","webserver"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":326,"score":0,"question_id":10226694,"title":"Magento website copied to new server, redirects to old","body":"<p>I’ve copied whole magento site(application and database dump) on new server, where we use new address. \nBut when I press the new address in the browser it redirects to the old site.</p>\n\n<p>I’ve changed secure and unsecure url in core_config_data on new server to point to new address. \nI’ve deleted everything from the cache manually.</p>\n\n<p>If I comment index.php not to run Mage::run($mageRunCode, $mageRunType); and just echo something, it is shown correctly in browser. \nBut if I uncomment Mage::run than it redirects to the old address.</p>\n\n<p>Also it doesn’t read local.xml from this new location at all, because If I just put some random data in it, \nI don’t get any error and it still redirects to new address.</p>\n\n<p>Does anyone have an idea what might be the problem? \nThanks.</p>\n"},{"tags":["php","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":13250081,"title":"php product page","body":"<p>I have a product page with each product a featured image .\nI want to be able to let the user to choose from a check box a special product icon that describes that product in that icon for example a chocolate website could contain a special icon that tells the user that it is an organic product or sugar free product</p>\n\n<p>I am new to WordPress and I don't know where I can put these check boxes in the product page in the admin so when he check that box it will display the list of icons in the website ..</p>\n"},{"tags":["php","email","godaddy"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13249743,"title":"Email is not sending with godaddy website name in message content","body":"<p>I have a website (abcdefgh.com), when i tried to send email using php mail function, with message content as below\n<strong>Testing abcdefgh.com abcd abcd</strong>\nmail is not sending, but when i tried to send with the message content\n<strong>Testing stackoverflow.com abcd abcd</strong>, it is working fine.\nOnly difference in the message content is website name. My website is hosted in godaddy account. Mail headers are good.</p>\n"},{"tags":["php","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":140,"score":2,"question_id":10118069,"title":"Getting url data by curl method giving unexpected results in symbols","body":"<p>I am facing some times Problem in getting url data by curl method specially website data is is in other language like arabic etc\nMy curl function is </p>\n\n<pre><code>function file_get_contents_curl($url)\n{\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_HEADER, 0);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\n\n    $data = curl_exec($ch);\n    $info = curl_getinfo($ch, CURLINFO_CONTENT_TYPE);\n\n    //checking mime types\n    if(strstr($info,'text/html')) {\n        curl_close($ch);\n        return $data;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>And how i am getting data</p>\n\n<pre><code>$html =  file_get_contents_curl($checkurl);\n    $grid ='';\n    if($html)\n    {\n        $doc = new DOMDocument();\n        @$doc-&gt;loadHTML($html);\n        $nodes = $doc-&gt;getElementsByTagName('title');\n        @$title = $nodes-&gt;item(0)-&gt;nodeValue;\n        @$metas = $doc-&gt;getElementsByTagName('meta');\n        for ($i = 0; $i &lt; $metas-&gt;length; $i++)\n        {\n            $meta = $metas-&gt;item($i);\n            if($meta-&gt;getAttribute('name') == 'description')\n                $description = $meta-&gt;getAttribute('content');\n        }\n</code></pre>\n\n<p>I am getting all data correctly from some arabic websites like \n<a href=\"http://www.emaratalyoum.com/multimedia/videos/2012-04-08-1.474873\" rel=\"nofollow\">http://www.emaratalyoum.com/multimedia/videos/2012-04-08-1.474873</a>\nand when i give this youtube url \n<a href=\"http://www.youtube.com/watch?v=Eyxljw31TtU&amp;feature=g-logo&amp;context=G2c4f841FOAAAAAAAFAA\" rel=\"nofollow\">http://www.youtube.com/watch?v=Eyxljw31TtU&amp;feature=g-logo&amp;context=G2c4f841FOAAAAAAAFAA</a><br>\nit shows symbols..\nwhat setting i have to do to show exactly the same title description.</p>\n"},{"tags":["php","joomla","joomla2.5","joomla-extensions"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":27,"score":0,"question_id":13250036,"title":"Dynamic values in community builder form field","body":"<p>I'm trying to populate some dynamic values in COMMUNITY BUILDER -- CB form drop down field.</p>\n\n<p>I have created a custom tab and assigned a drop down field from field management in the name Keywords.</p>\n\n<p>In front end, edit profile page I'd like to display the drop down with values that are stored in other tables.</p>\n\n<p>kindly guide on this scenario </p>\n\n<p>Thanks in advance</p>\n\n<p>Guru</p>\n"},{"tags":["php","linux","centos"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":13249580,"title":"How to upgrade php on a linux server?","body":"<p>I am running a Joomla website on my Linux server using php version 5.1.6. How do I upgrade the PHP version to 5.3, while making sure my Joomla website remains intact.</p>\n\n<p>The server is running Centos</p>\n"},{"tags":["php","magento"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13243271,"title":"Add sidebar to homepage layout?","body":"<p>I've updated my <code>page.xml</code> file to include the categories template in the left column like so:</p>\n\n<pre><code>&lt;page_one_column_home translate=\"label\"&gt;\n    &lt;label&gt;All One-Column Home Layout Pages&lt;/label&gt;\n    &lt;reference name=\"root\"&gt;\n        &lt;action method=\"setTemplate\"&gt;&lt;template&gt;page/1column-home.phtml&lt;/template&gt;&lt;/action&gt;\n        &lt;!-- Mark root page block that template is applied --&gt;\n        &lt;action method=\"setIsHandle\"&gt;&lt;applied&gt;1&lt;/applied&gt;&lt;/action&gt;\n    &lt;/reference&gt;\n    ...\n&lt;/page_one_column_home&gt;\n</code></pre>\n\n<p>Added this code:</p>\n\n<pre><code>    &lt;reference name=\"left\"&gt;\n        &lt;block type=\"catalog/navigation\" name=\"category.sidebar\" as=\"categorySidebar\" template=\"catalog/navigation/left.phtml\"/&gt;\n    &lt;/reference&gt;\n</code></pre>\n\n<p>I've also updated the homepage template file to print the HTML generated in the 'left' column:</p>\n\n<pre><code>&lt;?php echo $this-&gt;getChildHtml('left'); ?&gt;\n</code></pre>\n\n<p>However this isn't working; the result is nothing is printed in the left column on the homepage layout.</p>\n"},{"tags":["php","mysql","ajax","long-polling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13249364,"title":"Is this a legitimate long polling approach?","body":"<p>Is this PhP script a legitimate approach to long polling or is this to heavy on the server?</p>\n\n<pre><code>$FoundNewContent = false;\n\n$tokens = array();\n\nwhile(!$FoundNewContent) {\n    usleep(300000);\n    clearstatcache();\n    $SQL1 = \"SELECT * FROM tokens WHERE  ID &gt; \".$_GET['tokenID'];\n    $result1 = mysql_query($SQL1);\n    while($row1 = mysql_fetch_array($result1, MYSQL_ASSOC)) {\n        array_push($tokens, $row1);\n        $FoundNewContent = true;\n    }\n}\n\n// Parse XML array    \n\nflush()\n</code></pre>\n\n<p>I am calling this script via Ajax.</p>\n"},{"tags":["php","base64","smarty"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13249113,"title":"use base64_encode in tpl file","body":"<p>I am newbie in smarty and trying to do something in it. </p>\n\n<p>Now, I have following code in my login.tpl (smarty template) file</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"redirectTo\" value=\"{$smarty.get.redirectTo}\" /&gt;\n</code></pre>\n\n<p>As per my little understanding whatever the GET data coming from url is putted into the value\nof hidden fields.</p>\n\n<p>Now, I want to encode this url data using base64_encode function. But how can I encode it using base64_encode because its not php code. I also tried like this :</p>\n\n<pre><code>{base64_encode($smarty.get.redirectTo)}\n</code></pre>\n\n<p>But this is not working.</p>\n\n<p>Need help...</p>\n\n<p>Thanks</p>\n"},{"tags":["php","html","facebook","iframe","registration"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13103337,"title":"Facebook Registration not working \"(Error: Invalid 'client_id'.)\"","body":"<p>I'm using the FB registration iFrame code on my site. I've followed all the documentation at <a href=\"http://developers.facebook.com/docs/plugins/registration/\" rel=\"nofollow\">http://developers.facebook.com/docs/plugins/registration/</a> but I can't understand why I have this error. The only thing I've ever been able to see is a red box with the words <code>\"Unable to load the registration form for . You may have previously blocked this app on Facebook. Go to your Facebook privacy settings to unblock this app. (Error: Invalid 'client_id'.)\"</code> I've looked into what I says about apps being blocked, but this is simply NOT the case. The app is not blocked. I've even tried viewing the page with multiple FB accounts. This error is always displayed. I looked into my app settings to see if anything was wrong there. Some report that \"Sandbox Mode\" must be disabled or you can get this error, but mine is disabled. Always has been. I tried deleting the whole app all together and starting fresh. After doing so I get the same result. </p>\n\n<p>One thing perhaps worth mentioning, my app is listed as \"Unlisted\" in the App center. Many are having this issue for unexplained reasons by FB.</p>\n\n<blockquote>\n  <p>App Detail Page Status: Live Your app detail page is now live and will\n  appear in Search. </p>\n  \n  <p>App Center Listing Status: Unlisted Your app is not\n  listed because it does not have enough high ratings and user\n  engagement to be listed in the App Center at this time. Please refer\n  to your app's Insights page to view your app's user rating and\n  engagement metrics, and view our App Center guidelines for more\n  information.</p>\n</blockquote>\n\n<p>Also another thing perhaps worth mentioning, I currently have a login and registration setup on the root of the website. I'm building a whole new site in a subdirectory where I'm trying to place the new FB login and registration. Could this be causing a conflict in some way?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","caching","zend-server-ce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13247498,"title":"PHP include path order and status cache","body":"<p>I am building a framework where product instances use the main framework files, until there is a copy of it's own version of that file. To achieve this I have done the following:</p>\n\n<pre><code>set_include_path(MY_PRODUCT_ROOT.'/' . PATH_SEPARATOR . MY_FRAMEWORK_ROOT.'/');\n</code></pre>\n\n<p>So if I call <code>include('view-users.php');</code> it will first look in MY_PRODUCT_ROOT for /view-users.php and if that's not found, it will then look to MY_FRAMEWORK_ROOT/view-users.php.</p>\n\n<p>This procedure is working very nicely until I add files to the product root. I know that PHP/Apache is caching the includes and one would think to run <code>clearstatcache(true);</code> to clear any status caching. PHP likely uses file_exists inside it's include(); and thinks the new file still does not exist. I have tried restarting Apache with no effect.</p>\n\n<p>Unfortunately running <code>clearstatcache(true);</code> does not help either. Only once I have deleted MY_FRAMEWORK_ROOT/file does it think to clear cache and try again, thus finding MY_PRODUCT_ROOT/file.</p>\n\n<p>Im a little stumped, I know we need to refresh PHP/Apache's understanding of whether the file(s) exist or not, but <code>clearstatcache(true);</code> is not helping...</p>\n\n<p>Any ideas?</p>\n\n<p><strong>UPDATE</strong>: Correction, restarting Apache seems to help now. I reiterate that this only occurs when trying to ADD a file to MY_PRODUCT_ROOT, to overlap an existing MY_FRAMEWORK_ROOT file, for customization</p>\n\n<p><strong>UPDATE</strong>: Development environment is Zend Server CE PHP 5.3.14 on Windows, Production environment Centos linux httpd, PHP 5.3+. The fact that Zend optimizer is enabled on my dev environment could have an effect, Also not using APC or any other caching scripts</p>\n"},{"tags":["php","mongodb","ubuntu"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":13113708,"title":"Mongo / PHP wrapper error - how do i get the wrapper working?","body":"<p>I'm getting this error when trying to connect to a mongo server:</p>\n\n<pre><code>Unable to find the wrapper \"mongodb\" - did you forget to enable it when you configured PHP?\n</code></pre>\n\n<p>The connection string looks like this:</p>\n\n<pre><code>$conn = new Mongo(\"mongodb://XXXX:XXXX@XXX.member0.mongohq.com:10021/XXX\",array(\"replicaSet\" =&gt; 'rsname'));\n</code></pre>\n\n<p>I tried finding out qhat wrappers were available using:</p>\n\n<pre><code>var_dump(stream_get_wrappers());\n</code></pre>\n\n<p>and got the following:</p>\n\n<pre><code>array\n  0 =&gt; string 'https' (length=5)\n  1 =&gt; string 'ftps' (length=4)\n  2 =&gt; string 'compress.zlib' (length=13)\n  3 =&gt; string 'compress.bzip2' (length=14)\n  4 =&gt; string 'php' (length=3)\n  5 =&gt; string 'file' (length=4)\n  6 =&gt; string 'glob' (length=4)\n  7 =&gt; string 'data' (length=4)\n  8 =&gt; string 'http' (length=4)\n  9 =&gt; string 'ftp' (length=3)\n  10 =&gt; string 'phar' (length=4)\n  11 =&gt; string 'zip' (length=3)\n  12 =&gt; string 'ssh2.shell' (length=10)\n  13 =&gt; string 'ssh2.exec' (length=9)\n  14 =&gt; string 'ssh2.tunnel' (length=11)\n  15 =&gt; string 'ssh2.scp' (length=8)\n  16 =&gt; string 'ssh2.sftp' (length=9)\n</code></pre>\n\n<p>I've  checked the conf.d folders and they all seem to be in order form what I can see, so i'm not sure what I need to do to allow me to connect using the wrapper, as the example shows in the php docs example.</p>\n\n<p>I'm running nginx / PHP 5.3.5-1ubuntu7.11</p>\n\n<p>Ha anyone delat with this before, or able to offer some guidance? Thanks.</p>\n"},{"tags":["php","magento","foreach","multi-select"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13245147,"title":"Magento: use multiple select (open dropdown) insetad of drop down","body":"<p>Hi I am building a custom module and there is a part where you can select which store to extract the data out of, I can have it show with a dropdown (standard), but how can I change  it to a multi select box so you can select more than 1 store to get the data from, same with order status, it's currently drop down, but I like to be able to select more than 1 status.</p>\n\n<p>any help is appreciated.</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13248866,"title":"In a single MySQL query lookup one column's value in another table","body":"<p>In table <code>f_stock</code> I have a list of all items in an inventory. The integer in the <code>type</code> column refers to the <code>id</code> in table <code>f_type</code>.</p>\n\n<p>I want to output the contents of table <code>f_stock</code> with <code>f_type.id</code> in place of <code>f_stock.type</code>. How is this done?</p>\n\n<p>In the past I have done something along these lines:</p>\n\n<pre><code>$query = \"SELECT * FROM `f_stock`\";\n$result = mysql_query ($query) or die (mysql_error ());\nwhile ($row = mysql_fetch_array ($result, MYSQL_ASSOC)) {\n    $data[] = $row;\n}\nprint_r ($data);\n</code></pre>\n\n<p>To lookup the integer <code>f_stock.type</code> in the <code>f_type.id</code> column I have created a secondary $query/$result inside the <em>while</em> loop.</p>\n\n<p>Table <code>f_stock</code>:</p>\n\n<pre><code>`type` | `size` | `length`\n-------|--------|---------\n   1   |   3    |    12\n   1   |   3    |    16   \n   2   |   3    |    20   \n   2   |   3    |    25   \n   1   |   4    |    12   \n   1   |   4    |    16   \n   3   |   4    |    20   \n</code></pre>\n\n<p>Table <code>f_type</code>:</p>\n\n<pre><code> `id` |  `type` \n------|---------\n   1  | 'Type 1'\n   2  | 'Type 2'\n   3  | 'Type 3'\n   4  | 'Type 4'\n   5  | 'Type 5'\n   6  | 'Type 6'\n   7  | 'Type 7'\n</code></pre>\n"},{"tags":["php","google-maps","google-maps-api-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":13249084,"title":"Get near airport details of a location from google map api","body":"<p>I have used geocode api from google maps.\nGives the location details in result, which includes location boundary, country, and some location specific details (only names).</p>\n\n<p>For example I'm looking for the details of the city \"Dubai\":</p>\n\n<p>here is the link that returns details <a href=\"http://maps.googleapis.com/maps/api/geocode/xml?address=dubai&amp;sensor=false\" rel=\"nofollow\">http://maps.googleapis.com/maps/api/geocode/xml?address=dubai&amp;sensor=false</a></p>\n\n<p>But I need airports near to the city Dubai.</p>\n\n<p><em>Also note that i'm going to write the codes in php.</em></p>\n"},{"tags":["php","debugging","jquery-mobile"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12724286,"title":"Jquery mobile: how to debug?","body":"<p>I have some problem, i guess, in my jquery mobile pages, but i cannot find the problem. Firebug doesn't fire any error, or even warning. Chrome's console idem. The only symptom is that some, not all, of my pages doesn't load. I can only see the loading animation of a circle keeping to turn on itself... </p>\n\n<p>In general, i have an index page, containing 15 pages like this:</p>\n\n<pre><code>&lt;div data-role=\"page\" id=\"page1\"&gt;\n&lt;div data-role=\"header\" class=\"ui-bar-b\"&gt;\n    &lt;h1&gt;Yea&lt;/h1&gt;\n&lt;/div&gt;\n&lt;?php include 'page1.php'; ?&gt;\n&lt;?php include 'footer.php'; ?&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The first three work like a charm, the other cause problems. Now the code of each page is in a separate php page. I tried also to load the other pages separately but no errors...</p>\n\n<p>I'm using jquery mobile 1.1.1 and jquery 1.7.1.\nPlease help me.</p>\n"},{"tags":["php","owncloud"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13248792,"title":"Converting Multiple files to zip and saving them in ownCloud","body":"<p>I wanted to convert an array with some css, js and html files into a zip file and save them in ownCloud (it has it's own framework but it's knowledge is not required.) What I am saving is an infinite loop of zip files, as in, a zip inside a zip so I can't even check that the code is working correctly or not. Please help.\nHere is the link to the code. </p>\n\n<pre><code>&lt;?php\n/* creates a compressed zip file */\n$filename = $_GET[\"filename\"];\nfunction create_zip($files = array(),$destination = '',$overwrite = false) {\n    //if the zip file already exists and overwrite is false, return false\n    if(file_exists($destination) &amp;&amp; !$overwrite) { return false; }\n    //vars\n    $valid_files = array();\n    //if files were passed in...\n    if(is_array($files)) {\n        //cycle through each file\n        foreach($files as $file =&gt; $local) {\n            //make sure the file exists\n            if(file_exists($file)) {\n                $valid_files[$file] = $local;\n            }\n        }\n    }\n    //if we have good files...\n    if(count($valid_files)) {\n        //create the archive\n        $zip = new ZipArchive();\n        if($zip-&gt;open($destination,$overwrite ? ZIPARCHIVE::OVERWRITE : ZIPARCHIVE::CREATE) !== true) {\n            return false;\n        }\n\n        //add the files\n        foreach($valid_files as $file =&gt; $local) {\n            $zip-&gt;addFile($file, $local);\n        }\n\n        //debug\n        //echo 'The zip archive contains ',$zip-&gt;numFiles,' files with a status of ',$zip-&gt;status;\n\n        //close the zip -- done!\n        $zip-&gt;close();\n\n        //check to make sure the file exists\n        return file_exists($destination);\n    }\n    else\n    {\n        return false;\n    }\n}\n\n$files_to_zip = array(\n        'apps/impressionist/css/mappingstyle.css' =&gt; '/css/mappingstyle.css',\n        'apps/impressionist/css/style.css' =&gt; '/css/style.css',\n        'apps/impressionist/js/jquery.js' =&gt; '/scripts/jquery.js',\n        'apps/impressionist/js/impress.js' =&gt; '/scripts/impress.js',\n        realpath('apps/impressionist/output/'.$filename.'.html') =&gt; $filename.'.html'\n\n);\n//if true, good; if false, zip creation failed\n$result = create_zip($files_to_zip, $filename.'.zip');\n    $save_file = OC_App::getStorage('impressionist');\n    $save_file -&gt;file_put_contents($filename.'.zip',$files_to_zip);\n?&gt;\n</code></pre>\n"},{"tags":["php","arrays","wordpress","shortcode"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13249539,"title":"wpautop() - when shortcode attributes are on new lines -breaks args array","body":"<p>I have a custom shortcode tag with a few attributes, and I would like to be able to display its attributes on new lines - to make it more readable to content editors:</p>\n\n<pre><code>[component\n    attr1 =\"value1\"\n    attr2 =\"value of the second one\"\n    attr3 =\"another\"\n    attr4 =\"value\"\n    ...\n    attrN =\"valueN\"]\n</code></pre>\n\n<p>The reason behind this requirement is that a few attributes might be quite verbose in content.  Unfortunately, <code>wpautop()</code> adds some nasty extra markup that breaks the <code>args</code> array like this (using php <code>print_r($args)</code>):</p>\n\n<pre><code>Array ( [0] =&gt; attr1 [1] =&gt; =\"value1\"\n/&gt; [3] =&gt; attr2 = [4] =&gt; \"value [5] =&gt; of [6] =&gt; the [7] =&gt; second [8] =&gt; one\"\n/&gt; [10] =&gt; \"\" //...and more like this)\n</code></pre>\n\n<p>I've tried with the attributes <strong>inline</strong>:</p>\n\n<pre><code>[component attr1 =\"value1\" attr2 =\"value of the second one\" =\"value\"... attrN =\"valueN\"]\n</code></pre>\n\n<p>and the output is as expected:</p>\n\n<pre><code>Array ( [attr1] =&gt; value1 [attr2] =&gt; value of the second one [attr3] =&gt; //...and so on)\n</code></pre>\n\n<p>is there any way to have the attributes intented and avoid that extra markup that breaks the <code>$args</code> array?</p>\n"},{"tags":["php","select","input","user"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":29,"score":1,"question_id":13249199,"title":"preserve user choices in a HTML select element using PHP","body":"<p>I been struggling with PHP using the <strong>select element</strong> to preserve user input when not all of the fields are not filled properly and the form is submitted.</p>\n\n<pre><code>&lt;form action=\"\" method=\"post\"&gt;\n  First name: &lt;input type=\"text\" name=\"fname\"&gt;&lt;br&gt;\n  Last name: &lt;input type=\"text\" name=\"lname\"&gt;&lt;br&gt;\n    &lt;select name=\"cars\"&gt;\n      &lt;option value=\"volvo\"&gt;Volvo&lt;/option&gt;\n      &lt;option value=\"saab\"&gt;Saab&lt;/option&gt;\n      &lt;option value=\"mercedes\"&gt;Mercedes&lt;/option&gt;\n      &lt;option value=\"audi\"&gt;Audi&lt;/option&gt;\n    &lt;/select&gt;\n  &lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>with the input element, I can get away with a simple function like this:</p>\n\n<pre><code>function input_value($x){\n    if(isset($_POST[$x])) {\n    echo $_POST[$x];\n    }else{\n    echo '';\n    }\n}\n</code></pre>\n\n<p>and caling it like so:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"fname\" value=\"&lt;?php input_value('fname');?&gt;\"&gt;\n</code></pre>\n\n<p>and the values are being preserved. but with the select element, its not.</p>\n\n<p>so any help on how i can simply preserve the user input using a custom function if possible is greatly appreciated.</p>\n"},{"tags":["php","facebook","redirect","access-token"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13244490,"title":"Get facebook acces token without redirect","body":"<p>This is how I retrieve the user acces token</p>\n\n<pre><code>$code = $_REQUEST[\"code\"];\n //auth user\n if(empty($code)) {\n     $dialog_url = 'https://www.facebook.com/dialog/oauth?client_id=myclientid&amp;redirect_uri=' . urlencode('http://myweb.com/facebook.php') ;\n    echo(\"&lt;script&gt;top.location.href='\" . $dialog_url . \"'&lt;/script&gt;\");\n  }\n  //get user access_token\n  $token_url = 'https://graph.facebook.com/oauth/access_token?client_id=myclientid&amp;redirect_uri=' . urlencode('http://myweb.com/facebook.php') \n    . '&amp;client_secret=mybigsecret&amp;code=' . $code;\n  $access_token = file_get_contents($token_url);\n</code></pre>\n\n<p>But I was wondering if there's any way I can do it without any redirects?</p>\n"},{"tags":["php","sharepoint","wsdl","sharepoint2007"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13249163,"title":"Error : HTTPFault string: Unauthorized + sharepoint web service","body":"<p>I have sharepoint installed in my local windows server available through LAN. Now i am running a web-service in php on my local apache server like this:</p>\n\n<pre><code>&lt;?php\n\n//Authentication details\n$authParams = array('login' =&gt; 'username', 'password' =&gt; 'password'); \\\n\n$listName = \"TestList1\";\n$rowLimit = '150';\n$wsdl = \"http://www.blah.com/sharepoint/ListsWSDL.wsdl\";\n\n//Creating the SOAP client and initializing the GetListItems method parameters\n$soapClient = new SoapClient($wsdl, $authParams);\n$params = array('listName' =&gt; $listName, 'rowLimit' =&gt; $rowLimit);\n\n//Calling the GetListItems Web Service\n$rawXMLresponse = null;\ntry{\n    $rawXMLresponse = $soapClient-&gt;GetListItems($params)-&gt;GetListItemsResult-&gt;any;\n}\ncatch(SoapFault $fault){\n    echo 'Fault code: '.$fault-&gt;faultcode;\n    echo 'Fault string: '.$fault-&gt;faultstring;\n}\necho '&lt;pre&gt;' . $rawXMLresponse . '&lt;/pre&gt;';\n\n//Loading the XML result into parsable DOM elements\n$dom = new DOMDocument();\n$dom-&gt;loadXML($rawXMLresponse);\n$results = $dom-&gt;getElementsByTagNameNS(\"#RowsetSchema\", \"*\");\n\n//Fetching the elements values. Specify more attributes as necessary\nforeach($results as $result){\n    echo $result-&gt;getAttribute(\"ows_LinkTitle\").\"&lt;br/&gt;\";\n}\nunset($soapClient);\n?&gt;\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>But control is going to catch block with error displayed as: </p>\n\n<pre><code>Fault code: HTTPFault string: Unauthorized\n</code></pre>\n\n<p>Why is this happening?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":5,"view_count":9214,"score":-4,"question_id":6572061,"title":"PHP Warning: Invalid argument supplied for foreach()","body":"<p>Why am I getting a PHP Warning:  Invalid argument supplied for foreach()</p>\n\n<p>These three sections in my Script.</p>\n\n<h1>1</h1>\n\n<pre><code>// look for text file for this keyword\nif (empty($site[\"textdirectory\"])) {\n    $site[\"textdirectory\"] = \"text\";\n}\nif (file_exists(ROOT_DIR.$site[\"textdirectory\"].'/'.urlencode($q).'.txt')) {\n    $keywordtext = file_get_contents(ROOT_DIR.$site[\"textdirectory\"].'/'.urlencode($q).'.txt');\n}\nelse {\n    $keywordtext = null;\n}\n\n$keywordsXML = getEbayKeywords($q);\n\nforeach($keywordsXML-&gt;PopularSearchResult as $item) {\n    $topicsString = $item-&gt;AlternativeSearches;\n   $relatedString = $item-&gt;RelatedSearches;\n   if (!empty($topicsString)) {\n        $topics =  split(\";\",$topicsString);\n    }\n    if (!empty($relatedString)) {\n        $related = split(\";\",$relatedString);\n    }\n\n}\n\n$node = array();\n$node['keywords'] = $q;\n</code></pre>\n\n<h1>2</h1>\n\n<pre><code>$xml = ebay_rss($node);\n\n$ebayItems = array();\n$totalItems = count($xml-&gt;channel-&gt;item);\n\n$totalPages = $totalItems / $pageSize;\n\n\n$i = 0;\nforeach  ($xml-&gt;channel-&gt;item as $item) {\n  $ebayRss = $item-&gt;children('http://www.ebay.com/marketplace/search/v1/services');\n\n    if ($i&gt;=($pageSize*($page-1)) &amp;&amp; $i&lt;($pageSize*$page)) {\n        $newItem = array();\n        $newItem['title'] = $item-&gt;title;\n        $newItem['link'] = buyLink($item-&gt;link, $q);\n        $newItem['image'] = ebay_stripImage($item-&gt;description);\n        $newItem['currentbid'] = ebay_convertPrice($item-&gt;description);\n        $newItem['bidcount'] = $ebayRss-&gt;BidCount;\n        $newItem['endtime'] = ebay_convertTime($ebayRss-&gt;ListingEndTime);\n        $newItem['type'] = $ebayRss-&gt;ListingType;\n        if (!empty($ebayRss-&gt;BuyItNowPrice)) {\n            $newItem['bin'] = ebay_convertPrice($item-&gt;description);\n        }\n        array_push($ebayItems, $newItem);\n    }\n    $i++;\n}\n\n\n$pageNumbers = array();\nfor ($i=1; $i&lt;=$totalPages; $i++) {\n    array_push($pageNumbers, $i);\n}\n</code></pre>\n\n<h1>3</h1>\n\n<pre><code>// get user guides\n$guidesXML = getEbayGuides($q);\n$guides = array();\nforeach ($guidesXML-&gt;guide as $guideXML) {\n    $guide = array();\n    $guide['url'] = makeguideLink($guideXML-&gt;url, $q);\n    $guide['title'] = $guideXML-&gt;title;\n    $guide['desc'] = $guideXML-&gt;desc;\n    array_push($guides,$guide);\n}\n</code></pre>\n"}]}
