{"count":298350,"tag":"php","questions":[{"tags":["php","wordpress","e-commerce","woocommerce"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2,"score":0,"question_id":13281619,"title":"WooCommerce, manually add a product and price for purchase","body":"<p>I'm trying to figure out if there's a way to use the WooCommerce Cart and Checkout functionality if I need to purchase something that isn't technically a <code>product</code></p>\n\n<p>In other words, it's a completely independent \"membership\" that needs to be purchased, but isn't a product post.</p>\n\n<p>I'd love to be able to add an item in the cart manually ... manual name, manual price, manual meta data and then purchase.</p>\n\n<p>Does anyone have any idea how to do this?</p>\n"},{"tags":["php","array-key-exists"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13281476,"title":"Search multidimensional array with array_key_exists not working","body":"<p>I and trying to have an if else() statement look for 2 or more conditions before executing but its not working for me.. My ultimate goal for example is to search for array[Pack] and if [Type] == s45 &amp;&amp; [packageA1] exist then to use array_slice to add additional info to the [Type array]</p>\n\n<p>The if() condition works fine but not the else if()....</p>\n\n<p>$node:</p>\n\n<pre><code>Array\n(\n    [Pack] =&gt; Array\n        (\n            [Type] =&gt; s45\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; s45 info here\n                    [image] =&gt; \n                )\n\n        )\n\n    [Pack2] =&gt; Array\n        (\n            [Type] =&gt; s99\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; s99 info goes here\n                    [image] =&gt; \n                )\n\n        )\n)\n\n//more code...\n$i = 1;\nif(!array_key_exists($item[0], $node)){\n     $node[$row[0]] = array(\"Type\" =&gt; $item[0], \"package\".$item[1] =&gt; array(\"level\" =&gt; \"REMOVE FROM DB\", \"stage\" =&gt; \"REMOVE FROM DB\", \"description\" =&gt; $item[3], \"image\" =&gt; $item[4]));\n}else if(array_key_exists($item[0], $node) &amp;&amp; array_key_exists(\"package\".$item[1], $node)){\n     $i++;\n     $res = array_slice($node[$rowKey], 0, $i, true) +  array(\"my_key\" =&gt; \"my_value\") + array_slice($node[$rowKey], $i, count($node[$rowKey]) - 1, true);\n}\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>Array\n(\n    [Pack] =&gt; Array\n        (\n            [Type] =&gt; s45\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; s45 info here\n                    [image] =&gt; \n                )\n            [packageA2] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; blahhhhhh blah blahh\n                    [image] =&gt; \n                )\n            [packageE1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; moar random stuff inserted\n                    [image] =&gt; \n                )    \n        )\n\n    [Pack2] =&gt; Array\n        (\n            [Type] =&gt; s99\n            [packageA1] =&gt; Array\n                (\n                    [level] =&gt; REMOVE FROM DB\n                    [stage] =&gt; REMOVE FROM DB\n                    [description] =&gt; s99 info goes here\n                    [image] =&gt; \n                )\n\n        )\n)\n</code></pre>\n"},{"tags":["php","date","yii","format"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13279482,"title":"How do I change the date format? (YII)","body":"<p>I'm using the YII framework... and I am displaying my date using the following code:</p>\n\n<pre><code>&lt;?php echo $classified-&gt;created_date ?&gt;\n</code></pre>\n\n<p>Problem is that it shows it like this:\n2012-11-04 09:34:03</p>\n\n<p>How can I remove the time and just show the date? </p>\n\n<p>And maybe if possible show it like this:\n20 Jan 2012 (with the month shortened)</p>\n"},{"tags":["php","facebook"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":5096,"score":0,"question_id":9196247,"title":"Facebook connect \"An error occurred. Please try again later.\"","body":"<p>I have a link on my page and the links has the href set by this <code>$facebook-&gt;getLoginUrl();</code> when I click on the link and go to facebook I get this error: <code>An error occurred. Please try again later.</code> :| ? Any help? Thanks!</p>\n\n<pre><code>&lt;?php\n\nclass iM_Action_Helper_FbData extends Zend_Controller_Action_Helper_Abstract\n{\n    public function direct(array $params = array())\n    {\n        return true;\n    }\n    /*\n    * Connecting to facebook\n    * It connects to facebook, this is used when you need to log a user out,\n    * or if you want to get some data about a user which uses facebook\n    * @return OBJ\n    */\n    public function fbConnect()\n    {\n        $getFB = Zend_Registry::get('FB');\n\n            $facebook = new Facebook(array(\n                'appId'  =&gt; $getFB-&gt;FB-&gt;APPID,\n                'secret' =&gt; $getFB-&gt;FB-&gt;SECRET,\n                'cookie' =&gt; true\n            ));\n\n            return $facebook;\n    }\n    /*\n    *   Checks to see if a user is loggedin\n    *   @param string  $redirect\n    */\n    public function checkIfLogged($redirect = \"/\")\n    {\n      $fbLogin = new Zend_Session_Namespace('fbLogin'); #Get Facebook Session\n      if(!$fbLogin-&gt;user) $this-&gt;getActionController()-&gt;getHelper('redirector')-&gt;gotoUrl($redirect); #Logout the user\n    }\n\n    public function fbLoginUrl()\n    {\n        $facebook = $this-&gt;fbConnect();\n        return $facebook-&gt;getLoginUrl();\n    }\n}\n</code></pre>\n\n<p>What I do in my action controller, I pass this <code>$this-&gt;getHelper('FbData')-&gt;fbLoginUrl();</code> to the view, what this does it return the facebook login url, so when the user clicks on the link, it redirect's it to facebook, and after that I want to be redirected back to my page so I can log the user in, is my whole concept wrong?</p>\n"},{"tags":["php","javascript","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13281562,"title":"Is it possible to transfer javascript value to PHP?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2338942/access-a-javascript-variable-from-php\">Access a JavaScript variable from PHP</a>  </p>\n</blockquote>\n\n\n\n<p>Let's say I have the following javascript:</p>\n\n<pre><code>&lt;script&gt;\n    var today = new Date();\n    var dd = today.getDate();\n    var mm = today.getMonth()+1; //January is 0!\n\n    var yyyy = today.getFullYear();\n    if(dd&lt;10){dd='0'+dd} if(mm&lt;10){mm='0'+mm} today = mm+'/'+dd+'/'+yyyy;\n&lt;/script&gt;\n</code></pre>\n\n<p>Now I want to get the value of today variable into PHP.</p>\n\n<pre><code>$cur_date = '&lt;script type=\"text/javascript\"&gt; document.write(today) &lt;/script&gt;';\n\necho \"current date: $cur_date\";\n\n$checkin = strtotime($cur_date);\n</code></pre>\n\n<p>Although I can output the current date but how can I transfer it to $checkin variable with strtotime function?</p>\n"},{"tags":["php","html"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13281442,"title":"populate form fields with php","body":"<p>I have a form for users to fill out information and am wondering how to retain the previously typed information if the user redirects back to the page.</p>\n\n<p>So, I have two files, </p>\n\n<ul>\n<li>form.html</li>\n<li>validate.php</li>\n</ul>\n\n<p>Under <code>form.html</code>:</p>\n\n<pre><code>&lt;form id=\"regForm\" action=\"index.php?validate\" method=\"post\" onsubmit=\"return regValidation();\" &gt;\n\n&lt;tr&gt;\n  &lt;td width=\"150px\" &gt;First Name: &lt;font color=\"red\"&gt;*&lt;/font&gt; &lt;/td&gt;\n  &lt;td&gt;&lt;input type=\"text\" name=\"firstNameField\" id=\"firstNameField\" value/ &gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>and under <code>validate.php</code>, I have stored the info with $_SESSION:</p>\n\n<pre><code>&lt;?php\n    session_start();\n\n    $_SESSION['first'] = $_POST['firstNameField'];\n?&gt;\n</code></pre>\n\n<p>but when I tried to populate the <code>firstNameField</code> with <code>$_SESSION['first']</code> as follow</p>\n\n<pre><code>&lt;td&gt;&lt;input type=\"text\" name=\"firstNameField\" id=\"firstNameField\" value=\"&lt;?php echo isset($_SESSION['first']) ? $_SESSION['first'] : NULL; ?&gt;\" /&gt;&lt;/td&gt;\n</code></pre>\n\n<p>The field will literally be replaced with <code>&lt;?php echo isset($_SESSION['first']) ? $_SESSION['first'] : NULL; ?&gt;</code></p>\n\n<p>Can someone tell me why and how to properly fix it?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","codeigniter","codeigniter-2","database-abstraction"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13281535,"title":"CodeIgnitor, Stored Procedures & Returning Custom Messages","body":"<p>So, I'm currently trying to get familiar with CodeIgnitor and I'm having trouble trying to wrap my head around how MVC works. Below is code I came up with to call a stored procedure and return a custom message from the stored procedure. For example, 'Student ID Already Exist' is a custom message. So far in CodeIgnitor I was able to create the model, view and controller to insert values into the database via the stored procedure but this was without returning any of the custom messages I created in the stored procedure. So, my questions are how would I convert what I have below into CI and what would I need to add to my current Model and Controller (and View) to return custom messages from the stored procedure.</p>\n\n<hr>\n\n<p>Original PHP Script</p>\n\n<pre><code>$studentID = $_POST['student_id'];\n$fname = $_POST['first_name'];\n$lname = $_POST['last_name'];\n$street = $_POST['street']; \n$city = $_POST['city']; \n$state = $_POST['state'];\n$zipcode = $_POST['zip_code']; \n$email = $_POST['email'];\n$tel = $_POST['telephone']; \n$grad_year = $_POST['graduation_year']; \n$department =$_POST['school_department']; \n$degree = $_POST['degree']; \n\n$stmt = $mysqli-&gt;prepare('CALL sp_add_alumni(?,?,?,?,?,?,?,?,?,?,?)'); \n\n$stmt-&gt;bind_param('issssssssss', $studentID, $fname, $lname, $street, $city,$state, $zipcode, $email, $tel, $degree, $department );\n\n$stmt-&gt;execute();\n$res = $stmt-&gt;get_result();\n$row = $res-&gt;fetch_array(MYSQL_NUM);\nprintf(\"%s\",$row[0]);\n</code></pre>\n\n<hr>\n\n<pre><code>CI Model\nfunction add_alumni($student_id, $first_name,$last_name,$address, $city, $state, $zip_code, $email, $telephone, $degree, $deparment)\n    {\n        $query=$this-&gt;db-&gt;query(\"CALL sp_add_alumni($student_id, '$first_name','$last_name','$address', '$city', '$state', '$zip_code', '$email', '$telephone', '$degree', '$deparment')\");\n        return $query-&gt;result_array();\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>CI Controller \nfunction add_alumni()\n    {\n        if($_POST)\n        {\n            $student_id =$_POST['student_id']; \n            $first_name=$_POST['first_name'];\n            $last_name=$_POST['last_name'];\n            $address=$_POST['street'];\n            $city=$_POST['city'];\n            $state=$_POST['state']; \n            $zip_code=$_POST['zip_code'];\n            $email=$_POST['email'];\n            $telephone=$_POST['telephone'];\n            $degree=$_POST['degree'];\n            $deparment=$_POST['school_department'];\n\n            $this-&gt;admins-&gt;add_alumni($student_id, $first_name,$last_name,$address, $city, $state, $zip_code, $email, $telephone, $degree, $deparment);\n\n        } else {\n            $this-&gt;load-&gt;view('inc/header.inc.php');\n            $this-&gt;load-&gt;view('add_alumni');\n            $this-&gt;load-&gt;view('inc/footer.inc.php');\n        }\n    }\n</code></pre>\n"},{"tags":["php","html"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13281540,"title":"Processing dynamically generated text boxes which have variable names","body":"<p>I'm working on a script that writes out a form based on an uploaded CSV file. The CSV file contains sections that are separated by a line containing only ',,,,'. Each block contains information about a server that is going to be kickstarted. It looks like this:</p>\n\n<pre>\nhost,tctivt2r6ra03,,,\nint,eth0,10.153.196.248,255.255.255.0,10.153.196.1\nint,eth1,10.153.157.113,255.255.255.128,10.153.157.1\nint,eth2,10.153.157.241,255.255.255.128,10.153.157.129\nint,eth3,00:50:56:ac:69:cb,,\npart,/home,10,,\npart,swap,10,,\npart,/opt,60,,\npart,/data,30,,\n,,,,\n</pre>\n\n<p>This input is written to a div which contains a table. Each row of input being a unique row in the table. Some values end up in text boxes.</p>\n\n<p>The script generates output that looks like <a href=\"https://dl.dropbox.com/u/116457/upload_file_ouput.PNG\" rel=\"nofollow\">this</a>.</p>\n\n<p>Each box is generated dynamically and consists of the host ID starting at 0 and the box number also starting at 0. For example:</p>\n\n<pre><code>&lt;tr&gt;&lt;th&gt;eth0: &lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10.153.196.248\" name=\"host0Box0\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"255.255.255.0\" name=\"host0Box1\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10.153.196.1\" name=\"host0Box2\" /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;\n</code></pre>\n\n<p>The question I have is how to process a form that has a variable number of boxes. Specifically, when processing the 'part' lines of the input there can be six boxes or more.</p>\n\n<p>Example with four partitions:</p>\n\n<pre><code>&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /var&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host0Box9\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /home&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host0Box10\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; swap&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host0Box11\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /opt&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"60\" name=\"host0Box12\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"/data\" name=\"host0Box13\" /&gt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"30\" name=\"host0Box14\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Number of Disks: &lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"1\" name=\"host0Disks\" /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;span&gt;&lt;br /&gt;&lt;br /&gt;&lt;/span&gt;\n</code></pre>\n\n<p>Example with six partitions:</p>\n\n<pre><code>&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /var&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host1Box9\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /home&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host1Box10\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; swap&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"10\" name=\"host1Box11\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt; /opt&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"60\" name=\"host1Box12\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"/data\" name=\"host1Box13\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"30\" name=\"host1Box14\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"/test1\" name=\"host1Box15\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"30\" name=\"host1Box16\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Partition name:&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"/test2\" name=\"host1Box17\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" value=\"20\" name=\"host1Box18\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;Number of Disks: &lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" value=\"1\" name=\"host0Disks\" /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;span&gt;&lt;br /&gt;&lt;br /&gt;&lt;/span&gt;\n</code></pre>\n\n<p>This is a work in progress that I know I'm going to have to change in order to properly process each host section. In the meantime, I'm trying to sort out this one issue.</p>\n\n<p>My question right now is, when I I eventually do get to the point of processing the form, what approach should I use to account for dynamically allocated item names when the $_POST array is populated? Do I pull the array values out and place them in a different array? Can I iterate over the $_POST array like a normal array? Is there another option that I'm not aware of?</p>\n"},{"tags":["php","node.js","hosting","web-hosting","vps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13280897,"title":"Node.js + PHP + MySQL VPS hosting","body":"<p>I have a website that I am building that is coded in PHP and I use MySQL for the database, I am also using node.js for most everything, so my website cannot exist without it for the most part. </p>\n\n<p>I have been with a small company (One that a friend of mine started up) and they have given me cheap VPS hosting, and they even setup everything on the server that I needed done (because I have no clue how to set up a server myself) I currently pay $15 per month for hosting, and would not want to pay anymore than that at this time. (As my website is still in development, so it's just for my own personal usage and sharing among some friends for testing and such). </p>\n\n<p>I need a relatively cheap hosting provider that gives me basically 100% control of the server (as I have many needs that usually are not part of packages), and I would also like to be able to have them (or someone) set up the server for me.</p>\n"},{"tags":["php","mysql","database"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3426,"score":1,"question_id":8015098,"title":"How to check if value already exists in MySQL database","body":"<p>I know this is pretty basic.. but for some reason this is not working for me. I have a form that stores a Facebook user's ID to check if they already submitted the form. I have the form that submits the User ID into the database working perfectly. Its just this part of checking if the User ID value exists in the database that is tripping me up.</p>\n\n<p>Here's my code....</p>\n\n<pre><code>$user_id = 1234567890;\n\n$checkUserID = mysql_query(\"SELECT fbUserID from submissions WHERE fbUserID = '$user_id'\");\n\nif ($checkUserID) {\necho \"GTFO BRO\";\n} \n</code></pre>\n\n<p>Whenever I do an \"echo\" on the $checkUserID variable I get this returned.. \"Resource id #9\"</p>\n"},{"tags":["php","javascript","login"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13281385,"title":"password hashing for login solution with PHP and javaScript","body":"<p>I know that, for security reasons, it is necessary to hash (with salt) the user's password and comparing it to a stored hashed password, so if anybody else gets the hashed string, he will have no way to compute back the password or look it up in a rainbow table.</p>\n\n<p>There is one part of the method that I don't understand. Let's say I have this standard login form</p>\n\n<pre><code>&lt;form method='post' action='login.php'&gt;\n    &lt;input type='text' name='user' /&gt;\n    &lt;input type='password' name='password' /&gt;\n    &lt;input type='submit' name='submit' value='login' /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and then I use PHP for login</p>\n\n<pre><code>&lt;?php\n    if(isset($_POST['submit'])){\n        $username = $_POST['username'];\n        $password = sha1($_POST['password']);\n        $authorize = $login_object-&gt;login($username, $password);\n    }\n?&gt;\n</code></pre>\n\n<p>and, behind the scenes, the <code>$login_object</code> takes care of authenticating with the database and returning true/false. (I made this object up, I have real, useful objects to do this)</p>\n\n<p>but that means the password in the <code>POST request</code> traveled raw, un-hashed and unsafely! Anybody could have intercepted the real password! </p>\n\n<p>So what I am thinking is that I should use javascript to hash the password before it's sent. I would have a hidden field <code>&lt;input type='hidden' name='real_password' value='' /&gt;</code> and have javaScript copy the value of the input named password, hash it, put it in real_password hidden input and blank the password field. This way, the <code>POST request</code> would have the hashed password and not the raw, unsafe, original password.</p>\n\n<p>Am I right with what I'm saying, or should I just do the hashing on php?</p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13281439,"title":"Codeigniter routes and mod rewrite","body":"<p>for some reasons i've been having problems with mod rewrite, i have the index.php removed from the url ok but when i try to do the same for profiles it shows some contact webmaster page.\nNow i'm taking the routes option but i have a little problem.</p>\n\n<pre><code>My url is http://website.com/user/profile/user_profile/username \n</code></pre>\n\n<p>I have this in my routes </p>\n\n<pre><code>$route['profile/(:any)'] = 'user/profile/user_profile';\n</code></pre>\n\n<p>So when i type in website.com/profile/username, it works fine. My question is, what if i want to get rid of the /profile as well and have website.com/username, how do it go about it with routes?</p>\n\n<p>Just incase, i might as well put my trail with modrewrite on here so all you brilliant minds can tell me where i'm going wrong.</p>\n\n<pre><code>Options FollowSymLinks\nRewriteEngine on\n\nRewriteCond $1 !^(index\\.php|images|css|javascript|cron|sit-env|robots\\.txt)\n\nRewriteCond $1 !^(index\\.php|javascript|sit-env|robots\\.txt)\n\nRewriteRule ^(.*)$ /index.php/$1 [L]\n\nRewriteCond $1 !^(index\\.php|images|css|javascript|cron|sit-env|robots\\.txt)\n\nRewriteCond $1 !^(index\\.php|javascript|sit-env|robots\\.txt)\n\nRewriteRule ^([0-9a-zA-Z]+)([\\/]?)$ /user/profile.php/user_profile/$1 [L]\n</code></pre>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["php","isset"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13281269,"title":"PHP - Variable inside a nested if isset doesn't display","body":"<p>I have this two files</p>\n\n<p><em><strong>A.php</em></strong></p>\n\n<pre><code>&lt;?\n\n echo \"\n     &lt;form action = 'B.php' method = 'post'&gt;\n           Age: &lt;input type = 'text' name = 'age'&gt;\n           &lt;input type = 'submit' name = 'send' value = 'send'&gt;\n      &lt;/form&gt;\n \";\n\n?&gt;\n</code></pre>\n\n<p><em><strong>B.php</em></strong></p>\n\n<pre><code>&lt;?\n\n  $age = $_REQUEST ['age'];\n\n  if (isset($_POST['send'])){\n      echo \"Are you sure you wanna send this age?\";\n      echo \"\n             &lt;form action = 'B.php' method = 'post'&gt;\n             &lt;input type = 'submit' name = 'age2' value = 'YES'&gt;\n          \";\n\n                 if (isset($_POST['age2']) &amp;&amp; !isset($_POST['send'])){\n                     echo \"Your final age is\".$age; //It doesn't display!!! :(\n                 }\n            echo \"&lt;/form&gt;\";\n  }\n ?&gt;\n</code></pre>\n\n<p>If I delete the second if isset, $age will be displayed.</p>\n\n<p>If you realize, in the second isset i have two conditions, first one, that YES button must be clicked, second one, send button mustn't be clicked.</p>\n\n<p>I have tried many this and I don't get this :(</p>\n\n<p>P.S. I want to display it in the same page. No other pages.\nIf it's not possible this, then I'll make in other page.</p>\n"},{"tags":["php","facebook","dynamic"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13281431,"title":"php dynamic og:image for facebook","body":"<p>Now this is all over stackoverflow but I haven't come across a solution that has worked yet so here goes...</p>\n\n<p>Just trying to get facebook to recognise my og:image pretty simple. Everything outputs with the facebook object debugger except the thumbnail won't show. It does however show the correct url and when the blank thumbnail is clicked it loads the correct image.</p>\n\n<p>Image size is surely not an issue as I have another site that works with much larger images.</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;meta property=\"og:title\" content=\"&lt;? echo $product_name; ?&gt;\"/&gt;\n&lt;meta property=\"og:type\" content=\"website\"/&gt;\n&lt;meta property=\"og:url\" content=\"https://www.domain.com.au/product-tesst.php?id=&lt;?     echo $id ?&gt;\"/&gt;\n&lt;meta property=\"og:image\"content=\"https://www.domain.com.au/inventory_images/thumb_&lt;? echo $id ?&gt;.jpg\"/&gt;\n&lt;meta property=\"og:site_name\" content=\"Biz Name\"/&gt;\n&lt;meta property=\"fb:admins\" content=\"\"/&gt;\n&lt;meta property=\"og:description\" content=\"&lt;? echo stripslashes($details) ?&gt;\"/&gt;\n</code></pre>\n"},{"tags":["php","xml","google-maps-api-3","infowindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13278368,"title":"google map info window multiple addresses via xml","body":"<p>I'm using the Google map code below to retrieve and plot markers for multiple addresses from an XML file dynamically created with PHP. The code is doing everything I need except for displaying the correct information in the Google map info window for the corresponding marker. I get the information of the last XML item/listing for all the markers.</p>\n\n<p>I've been searching and trying different variations to get it to work, but no luck.</p>\n\n<p>sample XML data</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;listings&gt;\n&lt;listing&gt;\n    &lt;address&gt;123 Street&lt;/address&gt;\n    &lt;city&gt;MANOTICK&lt;/city&gt;\n&lt;/listing&gt;\n&lt;listing&gt;\n    &lt;address&gt;456 Street&lt;/address&gt;\n    &lt;city&gt;MANOTICK&lt;/city&gt;\n&lt;/listing&gt;\n&lt;listing&gt;\n    &lt;address&gt;111 Avenue&lt;/address&gt;\n    &lt;city&gt;MANOTICK&lt;/city&gt;\n&lt;/listing&gt;\n&lt;listing&gt;\n    &lt;address&gt;777 Avenue&lt;/address&gt;\n    &lt;city&gt;Ottawa&lt;/city&gt;\n&lt;/listing&gt;\n&lt;listing&gt;\n    &lt;address&gt;333 Street&lt;/address&gt;\n    &lt;city&gt;Manotick&lt;/city&gt;\n&lt;/listing&gt;\n&lt;/listings&gt;\n</code></pre>\n\n<p>google map code</p>\n\n<pre><code>function initialize ()\n{\n    var myLatLng = new google.maps.LatLng(45.2340684, -75.6287287);\n    var myOptions =\n    {\n        zoom: 10,\n        mapTypeControl: true,\n        center: myLatLng,\n        zoomControl: true,\n        zoomControlOptions:\n        {\n            style: google.maps.ZoomControlStyle.SMALL\n        },\n        StreetViewControl: false,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n    }\n    var map = new google.maps.Map(document.getElementById('google_map'), myOptions);\n    var info_window = new google.maps.InfoWindow;\n    google.maps.event.addListener\n    (map, 'click',\n    function ()\n    {\n        info_window.close();\n    });\n\n\n    downloadUrl\n    ('listings.xml',\n    function (listings_data)\n    {\n        var markers = listings_data.documentElement.getElementsByTagName('listing');\n        var geocoder = new google.maps.Geocoder();\n        for (var i = 0; i &lt; markers.length; i++)\n        {\n            var address = markers[i].getElementsByTagName('address')[0].firstChild.data;\n            var city = markers[i].getElementsByTagName('city')[0].firstChild.data;\n            var address_google_map = address + ', ' + city + ', ON';\n            var info_text = address + '&lt;br /&gt;' + city + ' ON';\n\n            geocoder.geocode\n            ({'address': address_google_map},\n            function (results)\n            {\n                    var marker = new google.maps.Marker\n                    ({\n                        map: map, \n                        position: results[0].geometry.location\n                    });\n                    google.maps.event.addListener\n                    (marker, 'click',\n                    function()\n                    {\n                        info_window.setContent(info_text);\n                        info_window.open(map, marker);\n                    });\n            });\n        }\n    });\n}\n</code></pre>\n"},{"tags":["php","function","preg-replace"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13280934,"title":"Custom markup with preg_replace only limiting to 1","body":"<p><strong>PHP function:</strong>    </p>\n\n<pre><code>function b($text) {    \n  $body=\"&lt;b&gt;$text&lt;/b&gt;\";\n  return $body; \n}\n</code></pre>\n\n<p><strong>Preg_Replace:</strong>    </p>\n\n<pre><code>function replaceTags($body) {    \n  $body = preg_replace('!\\[b](.*?)\\[\\/b\\]!Uei', \"''.b('$1','$2').''\", $body, -1);    \n  return $body; \n}    \n</code></pre>\n\n<p>The code works... to a certain extent. It apparently only limits to the first instance every time. I accidentally broke this when I was copying code, inserted it within each other and it displayed the inner tags in bold.</p>\n\n<p><strong>Example:</strong>    </p>\n\n<pre><code>*Code:* [b]This is Hi.[/b] Hello world. [b]This is Hi2.[/b]    \n*Output:* **This is Hi.[/b] Hello world. [b]This is Hi2.**\n</code></pre>\n\n<p>I'm new to using <strong>preg_replace</strong>. I'm thinking the pattern is slightly off or possibly missing something. Which is why it displays the first instance only. I've also tried this with a MySQL query and that is limited to one row as well.</p>\n\n<p>I'm trying to utilize a simplistic markup for the user end, but I would like to use MySQL queries as a custom tag (again, works, but only displays first record) if need be.</p>\n\n<p>Thanks. Any help or advice is much appreciated.</p>\n"},{"tags":["php","random"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13281184,"title":"Php rand and repeat numbers","body":"<p>I create this php script for generate random numbers but my problem , these numbers repit in many cases and no get different number whitout repit </p>\n\n<pre><code>&gt; &lt;?php\n&gt; \n&gt; $products=array(\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\");\n&gt; \n&gt; for ($i=0;$i&lt;count($products);$i++) {\n&gt; \n&gt; $numbers_[$i]=rand(0,count($products));\n&gt; \n&gt; if ($numbers_[$i]==\"\") { $numbers_[$i]=\"1\"; } else { if\n&gt; ($numbers_[$i]&gt;count($products)) { $numbers_[$i]==\"10\"; } else {\n&gt; \n&gt; if ($numbers_[$i]==$numbers_[$i]) { $numbers_[$i]==\"*\"; }\n&gt; \n&gt; \n&gt; }\n&gt; \n&gt; \n&gt; }\n&gt; \n&gt; \n&gt; print \"\".$products[$numbers_[$i]].\"&lt;br&gt;\";\n&gt; \n&gt; } ?&gt;\n</code></pre>\n\n<p>Always i need get 5 different numbers .....</p>\n\n<p>This my one problem </p>\n\n<p>ThankÂ´s Regards</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":14,"score":2,"question_id":13281395,"title":"PHP SESSION HTML table carrying issue","body":"<p>I am adding items to my cart.php using an add in the URL. </p>\n\n<pre><code>    case \"add\":\nif (isset($_SESSION['cart'][$comic_id])) {\n$_SESSION['cart'][$comic_id]++;\n} else {\n$_SESSION['cart'][$comic_id] = 1;}\n</code></pre>\n\n<p>... My items are presented into an HTML table in the cart.php. I just want to then re-call specific variables from the array in the checkout.php so the customer can confirm the order total along with their personal details. </p>\n\n<p>I can only seem to carry the last added item/row over using SESSION variable when I use the following:</p>\n\n<pre><code>$_SESSION['totalnameqty']=$name . \" \" . $qty . \" \" . $cost;\n</code></pre>\n\n<p>...and then use an echo on the checkout.php page:</p>\n\n<pre><code>$totnamqty=$_SESSION['totnamqty'];\necho $totnamqty;\n</code></pre>\n\n<p>... I want to carry all items $name, $qty &amp; $cost added to the HTML table in the cart.php to the checkout.php not just 1 item/row. Unsure of how to do this or if it is possible. Can somebody help?</p>\n\n<p>Here is my cart.php:</p>\n\n<pre><code>if (isset($_SESSION['cart'][$comic_id])){\n\n    echo \"&lt;table border=\\\"0\\\" padding=\\\"10\\\" width=\\\"80%\\\"&gt;\";\n    echo \"&lt;td colspan=\\\"1\\\" align=\\\"left\\\"&gt;&lt;a href=\\\"title.php\\\"&gt;Continue Shopping&lt;/a&gt;&lt;/div&gt;\";\n    echo \"&lt;td colspan=\\\"6\\\" align=\\\"right\\\"&gt;&lt;a href=\\\"$_SERVER[PHP_SELF]?action=empty\\\" onclick=\\\"return confirm('Crystal Fusion: Are you sure you wish to empty your cart?');\\\"&gt;Empty Cart&lt;/a&gt;&lt;/td&gt;\";                  \n    echo \"&lt;tr height=\\\"20px\\\"&gt;\";\n    echo \"&lt;tr height=\\\"20px\\\"&gt;\"; \n    echo \"&lt;td align=center&gt;Image&lt;/td&gt;&lt;td align=center&gt;Title&lt;/td&gt;&lt;td align=center&gt;Description&lt;/td&gt;&lt;td colspan=3 align=center&gt;Copies (+/-)&lt;/td&gt;&lt;td align=center&gt;Price&lt;/td&gt;\";\n    echo \"&lt;tr height=\\\"20px\\\"&gt;\";\n\n\n    foreach($_SESSION['cart'] as $comic_id =&gt; $qty) {   \n\n        $sql = sprintf(\"SELECT title, description, cost, image_thumbnail\n                FROM comic \n                WHERE comic_id = %d;\",$comic_id); \n\n        $result = mysql_query($sql);\n\n        if(mysql_num_rows($result) &gt; 0) {\n\n            list($name, $description, $price, $image_thumbnail) = mysql_fetch_row($result);\n\n\n            $cost = $price * $qty; \n            $total = $total + $cost; \n\n            $cost = number_format($cost,2); \n            $total = number_format($total,2); \n            $description =  substr($description, 0, 250); \n\n            echo \"&lt;br&gt;&lt;tr&gt;\";\n            echo \"&lt;td width=\\\"10px\\\" align=\\\"center\\\"&gt;&lt;img height=100 align=center src=\\\"$image_thumbnail\\\"&gt;\";\n            echo \"&lt;td align=\\\"center\\\"&gt;$name&lt;/td&gt;\";\n            echo \"&lt;td width=\\\"40%\\\" align=\\\"center\\\"&gt;$description...&lt;a href=comic_dyn.php?comic_id=$comic_id&gt;More Info&lt;/td&gt;\";\n            echo \"&lt;td width=\\\"30px\\\" align=\\\"center\\\"&gt;&lt;a href=\\\"$_SERVER[PHP_SELF]?action=add&amp;comic_id=$comic_id\\\"&gt;+&lt;br&gt;&lt;/a&gt;&lt;td align=\\\"center\\\"&gt;$qty &lt;td width=\\\"20px\\\" align=\\\"center\\\"&gt;&lt;a href=\\\"$_SERVER[PHP_SELF]?action=remove&amp;comic_id=$comic_id\\\"&gt;-&lt;/a&gt;&lt;/td&gt;\";\n            echo \"&lt;td align=\\\"right\\\"&gt;$$cost&lt;/td&gt;\";\n            echo \"&lt;/tr&gt;\";           \n        }\n\n    }\n\n    echo \"&lt;br&gt;&lt;tr&gt;&lt;tr height=100px&gt;\";\n    echo \"&lt;td&gt;&lt;td&gt;&lt;td colspan=\\\"4\\\" align=\\\"right\\\"&gt;Total:&lt;/td&gt;\";\n    echo \"&lt;td width=\\\"60px\\\" align=\\\"right\\\"&gt;$$total&lt;/td&gt;\"; \n    echo \"&lt;tr&gt;&lt;td colspan=\\\"7\\\" align=\\\"right\\\"&gt;&lt;a href=\\\"checkout_html.php\\\"&gt;Proceed to Checkout&lt;/a&gt;\"; \n    echo \"&lt;tr height=\\\"50px\\\"&gt;\";\n    echo \"&lt;/table&gt;\";\n}else{\n\n    echo \"Your cart is currently empty.\"; \n    echo \"&lt;br&gt;&lt;br&gt;&lt;td colspan=\\\"1\\\" align=\\\"left\\\"&gt;&lt;a href=\\\"title.php\\\"&gt;Continue Shopping&lt;/a&gt;&lt;/div&gt;\"; \n\n}\n\n//session variables (to be carried to checkout.php\n$_SESSION['cost']=$cost;\n$_SESSION['name']=$name;\n$_SESSION['qty']=$qty;\n$_SESSION['totnamqty']=$name . \" \" . $qty . \" \" . $cost;\n</code></pre>\n"},{"tags":["php","javascript","jquery","html"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13281315,"title":"Issue with ajax update with mysql","body":"<p>I'm building a location finder application for a doctors office. In the app, there is a list of multiple patients waiting to be checked in.</p>\n\n<p>For example, the first patient is Patient X. Here's the step by step process (the easiest way to describe my problem)</p>\n\n<p>1) Next to Patient X's name is a button labeled <strong>Check In</strong>. Upon clicking Check In, the patient id (called selectid) is sent along via Ajax to <strong>changeloc.php</strong> where the time and date of check in are logged. </p>\n\n<p>2) Upon success, the user is then presented with a dropdown (replacing the initial button) with the multiple locations the user could choose. Upon selecting a location from the select, the variable <strong>locationSelect</strong> will be sent to <strong>changeloc.php</strong> where it will be logged.</p>\n\n<p>3) The user then might decide to choose multiple locations, repeating step 2</p>\n\n<p>4) At the end, when the user is done selecting locations, he clicks on the last option in the same select where the user had clicked locations in steps 2 and 3, titled <strong>Check Out</strong>. Upon clicking this, it is sent to <strong>checkloc.php</strong> and logged.</p>\n\n<p>5) Finally, the dropdown dissapears and the words <strong>Checked Out</strong></p>\n\n<p>Here's my code:</p>\n\n<p>PHP</p>\n\n<pre><code>&lt;?php\n\n date_default_timezone_set('America/Denver');\n\n $apptid = $_REQUEST['selectid'];\n $currentlocation = $_REQUEST['locationSelect'];\n $currentlocationstart = date(\"Y-m-d H:i:s\"); \n $checkin = $_REQUEST['checkIn'];\n $checkout = $_REQUEST['checkOut'];\n /*** mysql hostname ***/\n $hostname = 'localhost';\n\n /*** mysql username ***/\n $username = '***********';\n\n /*** mysql password ***/\n $password = '**********';\n\n\n$conn = new PDO(\"mysql:host=$hostname;dbname=sv\", $username, $password);\n    /*** The SQL SELECT statement ***/\n\nif(!empty($currentlocation)){\n   //$sql2 = \"UPDATE history SET \";\n   //$query = $conn-&gt;prepare($sql2);\n   //$query-&gt;execute(array(':apptid'=&gt;$apptid, ':locationstart'=&gt;$locationstart));\n   $sql = \"UPDATE schedule SET currentlocation = ?, currentlocationstart = ? WHERE apptid= ? \";\n   $q = $conn-&gt;prepare($sql);\n   $q-&gt;execute(array($currentlocation,$currentlocationstart, $apptid));\n\n}\n\nif(!empty($checkin)){\n   $sql = \"UPDATE schedule SET currentlocation = ?, currentlocationstart = ? WHERE apptid= ? \";\n   $q = $conn-&gt;prepare($sql);\n   $q-&gt;execute(array($checkin,$currentlocationstart, $apptid));\n   //$sql2 = \"insert into history (apptid, locationstart) VALUES (:apptid,:locationstart)\";\n   //$query = $conn-&gt;prepare($sql2);\n   //$query-&gt;execute(array(':apptid'=&gt;$apptid, ':locationstart'=&gt;$locationstart));\n}\n\nif(!empty($checkout)){\n   $sql = \"UPDATE schedule SET currentlocation = ?, currentlocationstart = ? WHERE apptid= ? \";\n   $q = $conn-&gt;prepare($sql);\n   $q-&gt;execute(array($checkout,$currentlocationstart, $apptid));\n}\n?&gt;\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$('.locationSelect').hide();  // Hide all Selects on screen\n$('.finished').hide();        // Hide all checked Out divs on screen\n\n$('.checkIn').click(function() {\n    var $e = $(this);\n    var data = $e.data(\"param\").split('-')[1] ;\n    // gets the id  of button  (1 for the first button)\n    // You can map this to the corresponding button in database...\n    $.ajax({\n        type: \"POST\",\n        url: \"changeloc.php\",\n        // Data used to set the values in Database\n        data: { \"checkIn\" : $(this).val(), \"buttonId\" : data},\n        success: function() {\n            // Hide the current Button clicked\n            $e.hide();\n            // Get the immediate form for the button\n            // find the select inside it and show...\n            $e.nextAll('form').first().find('.location').show();\n        }\n    });\n});\n\n$('.locationSelect').change(function() {\n    $e = $(this);\n    var data = $e.data(\"param\").split('-')[1] ;\n    // gets the id  of select (1 for the first select)\n    // You can map this to the corresponding select in database...\n    $.ajax({\n        type: \"POST\",\n        url: \"changeloc.php\",\n        data: { \"locationSelect\" : $(this).val(), \"selectid\" : data},\n        success: function() {\n            // Do something here\n        }\n    });\n});\n$('.locationSelect option[value=\"CheckOut\"]').click(function() {\n    var $e = $(this);\n    var data = $e.closest('select').data(\"param\").split('-')[1] ;\n    // gets the id  of select (1 for the first select)\n    // You can map this to the corresponding select in database...\n    // from which checkout was processed\n    $.ajax({\n        type: \"POST\",\n        url: \"changeloc.php\",\n        data: { \"checkOut\" : $(this).val(), \"selectid\" : data},\n        success: function() {\n            // Get the immediate form for the option\n            // find the first finished div sibling of form\n            // and then show it..\n            $e.closest('form').nextAll('.finished').first().show();\n            // Hide the current select in which the option was selected\n            $e.closest('.locationSelect').hide();\n            alert('done');\n        },\n        error: function(request) {\n            alert(request.responseText);\n        }\n    });\n});\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>and the html:</p>\n\n<pre><code>&lt;button class=\"checkIn\" data-param=\"button-1\"&gt;Check In&lt;/button&gt;\n\n   &lt;form method='post' class='myForm' action=''&gt;\n      &lt;select name='locationSelect' class='locationSelect' data-param=\"location-1\"&gt;\n        &lt;option value='1'&gt;Exam Room 1&lt;/option&gt;\n        &lt;option value='2'&gt;Exam Room 2&lt;/option&gt;\n        &lt;option value='3'&gt;Exam Room 3&lt;/option&gt;\n        &lt;option value='4'&gt;Exam Room 4&lt;/option&gt;\n        &lt;option value='CheckOut'&gt;Check Out&lt;/option&gt;\n      &lt;/select&gt;\n    &lt;/form&gt;\n\n&lt;div class='finished' style='color:#ff0000;'&gt;Checked Out&lt;/div&gt;\n</code></pre>\n\n<p>The problem is: </p>\n\n<p>1) When the user clicks the <strong>Check In</strong> button, the button dissapears like it should, but the dropdown doesn't appear (which probably means nothing else will appear after the dropdown) </p>\n\n<p>2) The database isn't being updated with anything.</p>\n\n<p>Thanks for any and all help! Please ask for details if you need any more!</p>\n"},{"tags":["php","wordpress","mysqli"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13275629,"title":"mysqli stmt second statement won't work PHP","body":"<p>I have the following PHP (applying to WordPress database in case you're wondering)</p>\n\n<pre><code>$mysqli = new mysqli(...);\n$query = \"INSERT INTO `wp_posts` (...) VALUES (...);\";\nif ($stmt = $mysqli-&gt;prepare($query)) {\n  //$stmt = $mysqli-&gt;prepare(\"INSERT INTO `wp_posts` (...) VALUES (...);\");\n  //var_dump($stmt);\n  $stmt-&gt;bind_param(\"...\", ...);\n  if (!$stmt-&gt;execute()) {\n    /* Something went wrong.. */\n    printf(\"Error: %s.\\n\", $stmt-&gt;error);\n  } else {\n    //printf \"post inserted id \".$mysqli-&gt;insert_id;\n    $post_id = $mysqli-&gt;insert_id;\n    if ($stmt1 = $mysqli-&gt;prepare(\"INSERT INTO `wp_postmeta` \n        (post_id, meta_key, meta_value) VALUES (?, ?, ?);\")) {\n      var_dump($stmt1);\n      $stmt1-&gt;bind_param(\"iss\", $post_id, parent::POST_ID_OLD, $post_id_old);\n      var_dump($stmt1);\n      //$stmt1-&gt;execute();\n      if (!$stmt1-&gt;execute()) {\n        /* Something went wrong.. */\n        printf(\"Error: %s.\\n\", $stmt1-&gt;error);\n      } else printf(\"postmeta inserted id \".$mysqli-&gt;insert_id);\n      $stmt1-&gt;close();\n    } else echo \"can't prepare statement\";\n  }\n  /* close statement */\n  $stmt-&gt;close();\n}\n</code></pre>\n\n<p>The first statement <code>$stmt</code> definitely works as a record is added to <code>wp_posts</code> table.</p>\n\n<p>However, I really can't understand why the 2nd statement (<code>$stmt1</code>) doesn't.<br>\nIf I comment out the part where $stmt1 is executed, it prints out $stmt1 as follows:    </p>\n\n<pre><code>object(mysqli_stmt)#8 (9) { [\"affected_rows\"]=&gt; int(-1) [\"insert_id\"]=&gt; int(0) [\"num_rows\"]=&gt; int(0) [\"param_count\"]=&gt; int(3) [\"field_count\"]=&gt; int(0) [\"errno\"]=&gt; int(0) [\"error\"]=&gt; string(0) \"\" [\"sqlstate\"]=&gt; string(5) \"00000\" [\"id\"]=&gt; int(2) }\n</code></pre>\n\n<p>If try to execute <code>$stmt1</code>, I get <code>HTTP Error 500 (Internal Server Error)</code>  </p>\n\n<p>Therefore, suppose it must go wrong in either <code>$mysqli-&gt;prepare</code> or <code>$mysqli-&gt;bind_param</code> steps but I can't figure it out now.\nWhat am I doing wrong here?</p>\n"},{"tags":["php","php-5.3","semaphore","apc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":6,"score":1,"question_id":13281321,"title":"I'd like to use apc_inc in multi process","body":"<p>Should I code the following ?</p>\n\n<pre><code>&lt;?php\n    sem_acquire($SEM);\n    echo apc_inc('sensitive_count');\n    sem_release($SEM);\n</code></pre>\n\n<p>or shouldn't ?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":21,"score":3,"question_id":13280998,"title":"Finding and Echoing out a Specific ID from HTML document with PHP","body":"<p>I am grabbing the contents from google with PhP, how can I search $page for elements with the id of \"#lga\" and echo out another property? Say #lga is an image, how would I echo out it's source?</p>\n\n<p>No, i'm not going to do this with Google, Google is strictly an example and testing page.</p>\n\n<pre><code>&lt;body&gt;&lt;img id=\"lga\" src=\"snail.png\" /&gt;&lt;/body&gt;\n</code></pre>\n\n<p>I want to find the element named \"lga\" and echo out it's source; so the above code I would want to echo out \"snail.png\".</p>\n\n<p>This is what i'm using and how i'm storing what I found:</p>\n\n<pre><code>&lt;?php\n$url = \"https://www.google.com/\";\n$page = file($url);\n\nforeach($page as $part){\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","sql-server","pdo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13281344,"title":"Is it possible to use PDO with the mssql packages on CentOS the same way that Ubuntu allows with php5-sybase?","body":"<p>I'm needing to connect to an MSSQL server with PHP, and I can do this fine with PDO methods in Ubuntu having php5-sybase installed. I haven't attempted this on CentOS yet, but my production environment will be PHP5 on CentOS and I want to know if there will be any extra issues I need to be aware of.</p>\n"},{"tags":["php","javascript","html","canvas","image-rotation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13280104,"title":"Image in HTML Canvas is not rotating","body":"<p>I am creating a website in which I am showing some images. I have gone through many websites and there is no result.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;head&gt;&lt;/head&gt;\n&lt;body onload=init()&gt;\n    &lt;img id=\"imgID\" src=\"images/buttons/panda-wall.jpg\" alt=\"panda wall\" width=\"100\" height=\"100\"&gt;&lt;br&gt;&lt;/br&gt;\n    &lt;canvas id=\"myCanvas\" height=\"400px\" width=\"400px\" style=\"border:1px solid\"&gt;&lt;/canvas&gt;\n    &lt;button onclick=\"rotateImage()\"&gt;Clear canvas&lt;/button&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>function init()\n{\n    var c = document.getElementById(\"myCanvas\");\n    var context = c.getContext('2d');\n    var img = document.getElementById(\"imgID\");\n\n    context.drawImage(img,0,0,c.width, c.height);\n}\n\nfunction rotateImage()\n{\n    var c = document.getElementById(\"myCanvas\");\n    var context = c.getContext('2d');\n    var img = document.getElementById(\"imgID\");\n\n    context.save();\n\n    // Translate\n    context.translate(200, 200);\n\n    // Scale\n    context.scale(2,2);\n\n    // Rotate it\n    context.rotate(10*Math.PI/180);\n    context.translate(-200, -200);\n    context.drawImage(img,0,0);\n\n    // Finally draw the image data from the temp canvas.\n    context.restore();\n}               \n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13265571,"title":"Display all images without category in JoomGallery","body":"<p>I am using JoomGallery but  i want to display all images instead of creating categories first and then place images in categories in this way only categories are being displayed on landing page .I want all images to be displayed landing page . I have searched a lot for it </p>\n"},{"tags":["php","jquery","date"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":17,"score":-3,"question_id":13281280,"title":"I was wondering if there is a way to have the current date displayed in a text box when a div is clicked. In MMM/DD/YYYY format.","body":"<p>I have looked into jquery and php to do this, but I am still just a beginner dabbling with MySQL. </p>\n"},{"tags":["php","jquery","ajax","codeigniter","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13281159,"title":"Why, when uploading files via Ajax, is CodeIgniter throwing a \"no file uploaded\" error?","body":"<p>All I'm trying to do is upload files using ajax to my CodeIgniter based website.  But for some reason CodeIgniter keeps giving the \"no file uploaded\" error. How can I resolve this?</p>\n\n<p>Here is the JavaScript:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction updatebgimage()\n    {   \n        regexp = /^[^[\\]]+/;\n        var imgfile = document.getElementById(\"imagetoresize\"); \n        var fileInputName = regexp.exec( imgfile['name'] ); \n        formdata = new FormData(); \n        formdata.append(\"imagetoresize\",imgfile.files[0]);\n        $.ajax({  \n            url: \"&lt;?php echo site_url('uploadbgimage'); ?&gt;\",  \n            type: \"POST\",  \n            data: formdata,  \n            dataType: \"json\",\n            processData: false,  \n            contentType: false,  \n            success: function (data) {  \n                    alert(data.message); \n            }  \n        });  \n    } \n&lt;/script&gt;\n</code></pre>\n\n<p>Here is the CodeIgniter controller being called:</p>\n\n<pre><code>public function uploadbgimage()\n{\n    $config['upload_path'] = './images/stores/'.$memberid.'/'; \n    $config['file_name'] = 'main_bg_image.jpg'; \n    $config['allowed_types'] = 'jpg|png'; \n    $config['overwrite'] = true;       \n    $this-&gt;load-&gt;library('upload', $config);  \n    $data = array();\n    if (! $this-&gt;upload-&gt;do_upload(\"bgimage\"))\n    {\n        $data['result'] = 'fail';\n    $data['message'] = $this-&gt;upload-&gt;display_errors();  \n    } \n    else \n    {\n         $data['result'] = 'success';\n     $data['message'] = 'file was uploaded fine';  \n    }\n    echo json_encode($data);\n}\n</code></pre>\n\n<p>Here is the HTML:</p>\n\n<pre><code>&lt;form method=\"post\" enctype=\"multipart/form-data\"&gt;\n     &lt;input type=\"file\" id=\"imagetoresize\" name=\"imagetoresize\" value=\"\" class=\"field1\" /&gt; \n     &lt;input type=\"button\" onclick=\"updatebgimage()\" value=\"UploadBGImage\" /&gt; \n&lt;/form&gt;\n</code></pre>\n"},{"tags":["php","javascript","image"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13280707,"title":"Inserting php into js file","body":"<p>I have a loading gif for the gallery on my website. In my js file I have this code to show the loader:</p>\n\n<pre><code>image: $(\"&lt;img src='images/loading.gif'/&gt;\"),\n</code></pre>\n\n<p>Currently this the image isn't appearing because I haven't put the full image path. But instead of putting the full image path, I would prefer to do this:</p>\n\n<pre><code>&lt;img src=\"&lt;?php bloginfo('url');?&gt;/images/loading.gifâ&gt;\n</code></pre>\n\n<p>But I can't work out how to make this php work in my js file. How do I go about doing it in the easiest way?</p>\n"},{"tags":["php","unicode","hex","html-entities"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13280200,"title":"convert unicode to html entities hex","body":"<p>How to convert a Unicode string to HTML entities? (<code>HEX</code> not decimal)</p>\n\n<p>For example, convert <code>FranÃ§ais</code> to <code>Fran&amp;#xE7;ais</code>.</p>\n"},{"tags":["php","class","dom"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13281221,"title":"PHP DOM get all elements in class","body":"<p>I want to use PHP DOM to get all elements in a particular class.</p>\n\n<p>My HTML</p>\n\n<pre><code>&lt;tr&gt;\n  &lt;td&gt;&lt;ul class=\"up\"&gt;\n      &lt;li&gt;&lt;a href=\"/updown.html#ud1\"&gt;Russia&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"/updown.html#ud2\"&gt;Pakistan&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/updown.html#ud3\"&gt;Iran&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n\n  &lt;td valign=\"top\"&gt;&lt;ul class=\"down\"&gt;\n      &lt;li&gt;&lt;a href=\"/updown.html#ud4\"&gt;Spain&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"/updown.html#ud5\"&gt;France&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>$elements = $dom-&gt;getElementsByTagName('.up li');\n</code></pre>\n\n<p>Obviously, this PHP is wrong, but how would I retrieve the three li elements in the \"up\" class? Thanks</p>\n"},{"tags":["php","arrays","key"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13281202,"title":"How to select more than one key and use it in another function as variable","body":"<p>This code works fine, but I need more things from getList function to dtaus function</p>\n\n<p>I cut out the code and I left part of the code which I do not understand</p>\n\n<p>I want when I select something from a table set to use and others variables besides order_id for each selection in a function dtaus</p>\n\n<p>I'm new to php, and I don't know how i can do this... Any ideas?</p>\n\n<pre><code>class ControllerExtensionZanox extends Controller {  \n        public function index() {\n                $this-&gt;load-&gt;language('extension/zanox');\n                $this-&gt;document-&gt;setTitle($this-&gt;language-&gt;get('heading_title'));   \n                $this-&gt;load-&gt;model('extension/zanox');\n                $this-&gt;getList();\n            }\n\nprivate function getList() {\n\n        $this-&gt;data['zanoxs'] = array();\n\n        $results = $this-&gt;model_extension_zanox-&gt;getZanox($data);\n\n            foreach ($results as $result) {\n                $this-&gt;data['zanoxs'][] = array(\n                    'order_id'   =&gt; $result['order_id'],\n                    'amount'      =&gt; $result['amount'], \n                    'selected'   =&gt; isset($this-&gt;request-&gt;post['selected']) &amp;&amp; in_array($result['order_id'], $this-&gt;request-&gt;post['selected'])\n                );\n            }\n\n\n            $this-&gt;response-&gt;setOutput($this-&gt;render());\n        }\n\n        public function dtaus() { \n\n            if (isset($this-&gt;request-&gt;post['selected'])) {\n\n                foreach ($this-&gt;request-&gt;post['selected'] as $order_id) {\n\n\n                    $this-&gt;model_extension_zanox-&gt;dtausPay($order_id);\n\n                    echo $order_id//this show orderid\n                    echo $amount;//normally this is empty... How to use amount here in this function?\n                }\n\n            }\n\n        }\n</code></pre>\n\n<p>Here is a chekbox</p>\n\n<pre><code>              &lt;td style=\"text-align: center;\"&gt;&lt;?php if ($zanox['selected']) { ?&gt;\n                &lt;input type=\"checkbox\" name=\"selected[]\" value=\"&lt;?php echo $zanox['order_id']; ?&gt;\" checked=\"checked\" /&gt;\n                &lt;?php } else { ?&gt;\n                &lt;input type=\"checkbox\" name=\"selected[]\" value=\"&lt;?php echo $zanox['order_id']; ?&gt;\" /&gt;\n                &lt;?php } ?&gt;&lt;/td&gt;\n</code></pre>\n"},{"tags":["php","javascript","timer","redirect","countdown"],"answer_count":3,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":2962,"score":1,"question_id":4575789,"title":"Show Redirecting In.. CountDown Timer PHP","body":"<p>I have this code so far that redirects the user after 5 seconds to the correct URL:</p>\n\n<p><code>&lt;?php \n$url = $_GET['url'];\nheader(\"refresh:5;url=$url\"); \ninclude('ads.php');\n?&gt;</code></p>\n\n<p>Please could you tell me how i could display a countdown timer saying Redirecting In.. with .. being the amount of seconds left. I am new to web development so all code will be helpful!</p>\n\n<p>Thanks in advanced</p>\n"},{"tags":["php","mysql","regex","search","comma"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13281179,"title":"Search string in comma separated list MySQL PHP","body":"<p>I'm trying to search a table of recipes that DON'T include any of the search terms in it's ingredients.  The ingredients of each recipe are stored in one field, separated by commas.</p>\n\n<p>I've tried using WHERE NOT MATCH...AGAINST but that doesn't work in cases like when I search for Peas.  It will return results with pea protein in them.  I need to not have that.  This is also a problem with pluralization.</p>\n\n<p>I tried using NOT REGEXP but I'm not too familiar with regular expressions and all the Googling I've done for the last two days hasn't produced a result. </p>\n\n<p>Is there ANY way I can search this field in this table for multiple values and exclude them in the results?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":35,"score":1,"question_id":13280262,"title":"How to add more than one new value to array via html form, in PHP?","body":"<p>I want to add new values in php array by html form. I wrote something like following in php:</p>\n\n<pre><code>$b=array();\n$b[]=$_POST['unos'];\n</code></pre>\n\n<p>and something like this in html:</p>\n\n<pre><code>&lt;form action=\"?\" method=\"post\"&gt;\n&lt;input type=\"number\" name=\"unos\"  id=\"unos\"&gt;\n&lt;/form&gt; \n</code></pre>\n\n<p>And that code do the job, but only for one value. In other words, I am asking how to import more than one value in array. I add value=\"3\"\n     <br>\nin html input form, but that does not works, of course, or it is just one part of the answer. How to tell php to allow adding more than one value in array via html form?</p>\n\n<p>UPDATE:</p>\n\n<p>I want to import more values in one input field, that would be separated with \",\" for example, or whatever convention is.</p>\n\n<p>UPDATE:</p>\n\n<pre><code> &lt;?php\n $unos=array();\n $unos[]=$_POST['unos'];\n $rezultat=count($unos); /*number of n's*/\n $zbir=array_sum($unos); /*total sum of n's*/\n $av=$zbir/$rezultat;    /*average value of n's*/\n echo \"average value is $av&lt;/br&gt;\";\n }\n ?&gt;\n &lt;form action=\"?\" method=\"post\"&gt;\n &lt;input type=\"number\" name=\"unos\"  id=\"unos\"&gt;\n &lt;input type=\"submit\" value=\"Submit\"&gt;\n &lt;/form&gt; \n</code></pre>\n\n<p>The code calculate average value of n's. I am beginner and just want to know how to add values of arrays by user via html.The reason I wanted to know how one can do that in 1 input file is because I do not want to limit number of values with number of input fields. I want make that user can add values as many as he want. Sorry, my English is not perfect.</p>\n"},{"tags":["php","swiftmailer"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3735,"score":1,"question_id":2595153,"title":"Swift Mailer Error","body":"<p>Im using the following code to send a message:</p>\n\n<pre><code>try\n{   \n    require_once \"lib/Swift.php\";\n    require_once \"lib/Swift/Connection/SMTP.php\";\n    $smtp =&amp; new Swift_Connection_SMTP(\"mail.somedomain.net\", 587);\n    $smtp-&gt;setUsername(\"username\");\n    $smtp-&gt;setpassword(\"password\");\n    $swift =&amp; new Swift($smtp);\n\n    //Create the sender from the details we've been given\n    $sender =&amp; new Swift_Address($email, $name);\n    $message =&amp; new Swift_Message(\"message title\");\n\n    $message-&gt;attach(new Swift_Message_Part(\"Hello\"));\n\n    //Try sending the email\n    $sent = $swift-&gt;send($message, \"$myEmail\", $sender);\n    //Disconnect from SMTP, we're done\n    $swift-&gt;disconnect();\n\n    if($sent)\n    {\n        print 'sent';\n\n    }\n    else \n    {\n        print 'not sent';\n    }\n\n}\n\ncatch (Exception $e) \n{\n    echo\"$e\";\n}\n</code></pre>\n\n<p>The issue is that it is working fine on my local server (which my xampp server) but not working when the file is uploaded on the real server.</p>\n\n<p>It throwing this error: </p>\n\n<pre><code>'The SMTP connection failed to start [mail.somedomain.net:587]: fsockopen returned Error Number 110 and Error String 'Connection timed out''\n</code></pre>\n\n<p>Please what should I do to correct this error. Thanks for reading </p>\n"},{"tags":["php","install"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4,"score":0,"question_id":13281145,"title":"please help for installing of Ushahidi","body":"<p>I got the following errors when install Ushahidi, I'll appreciate if you could help me, thanks! \nWarning: require(/core/Bootstrap.php) [function.require]: failed to open stream: No such file or directory in C:\\AppServ\\www\\ushahidi\\index.php on line 174\nFatal error: require() [function.require]: Failed opening required '/core/Bootstrap.php' (include_path='.;C:\\php5\\pear') in C:\\AppServ\\www\\ushahidi\\index.php on line 174</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":17,"score":-1,"question_id":13280711,"title":"How to set a value of input type after it was created","body":"<p>I have a basic question which I cant find an answer to.</p>\n\n<p>i have an input text\n</p>\n\n<p>I want to change the value by1 every time i click the button.\n</p>\n\n<p>so, when I make a new soldier, i want it to be shown in the soldiers count.</p>\n\n<p>I started programming in PhP recently.</p>\n\n<p>In Java, command Im looking for would be some setText or something like that.</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13280908,"title":"jquery calculation works in jsfiddle example, but not in main code","body":"<p>I have a jsfiddle <a href=\"http://jsfiddle.net/JWTQk/2/\" rel=\"nofollow\">here</a> where a jquery function is used in able to make a calculation between the number entered in the text input and subtracting the number with the \"Total Marks\" number per question.</p>\n\n<p>Have a play around in the jsfiddle, in question 1 change the values in the text input and you will see the total marks change with in the same question block. For question 2 it is a readonly box but the reason it is readonly is because it is a single answer. If a question has a single answer then the text input should be readonly else if multiple answers then it should  not be readonly.</p>\n\n<p>The fact is though is that I want the jquery function to work with the code below but it doesn't at the moment. These are the problems I have which needs to be fixed:</p>\n\n<ul>\n<li>The total marks should not equal 5, it should equal the value of <code>$searchMarks[$key]</code>, as each question could have a different total marks</li>\n<li>At the moment for the code below it does not perform the calculation</li>\n<li>Finally it is not making the text input readonly if question only contains single answer.</li>\n</ul>\n\n<p>My question is that how should the code below be setup so that it can work exactly the same as the jsfiddle?</p>\n\n<p>Below is the code:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n\n    var $inputs = $('input.individualMarks');\n\n$inputs.filter(function() {\n    return $(this).prop('readonly') === true;\n}).each(function() {\n    var $input = $(this);\n\n});\n\n$inputs.filter('[data-q_group]').keyup(function() {\n    var $group = $inputs.filter('[data-q_group=\"' + $(this).data('q_group') + '\"]');\n    var $marks = $group.eq(0).closest('tr').find('td.noofmarkstd');\n    var markVal = &lt;?php $searchMarks ?&gt;;\n    $group.each(function() {\n        markVal -= ($(this).val() || 0)\n    })\n    $marks.text(markVal)\n\n})\n\n&lt;/script&gt;   \n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form id=\"QandA\" action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\"&gt;\n\n&lt;?php \n\necho \"&lt;table border='1' id='markstbl'&gt;\n      &lt;tr&gt;\n      &lt;th class='questionth'&gt;Question No.&lt;/th&gt;\n      &lt;th class='questionth'&gt;Question&lt;/th&gt;\n      &lt;th class='answerth'&gt;Answer&lt;/th&gt;\n      &lt;th class='answermarksth'&gt;Marks per Answer&lt;/th&gt;\n      &lt;th class='noofmarksth'&gt;Total Marks&lt;/th&gt;\n      &lt;/tr&gt;\\n\";\n$previous_question_id = null;\n$rowspans = array_count_values($searchQuestionId);\nforeach ($searchQuestionContent as $key=&gt;$question) {\n\n    // removed logic, not necessary to set empty strings if you're skipping them\n\n    echo '&lt;tr class=\"questiontd\"&gt;'.PHP_EOL;\n\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        echo '&lt;td class=\"questionnumtd\" name=\"numQuestion\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($searchQuestionId[$key]).'&lt;/td&gt;' . PHP_EOL;\n        echo '&lt;td class=\"questioncontenttd\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($question).'&lt;/td&gt;' . PHP_EOL;\n    }\n\n    echo '&lt;td class=\"answertd\" name=\"answers[]\"&gt;';\n    echo $searchAnswer[$key];\n    echo '&lt;/td&gt;' ;\n    echo '&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" /&gt;&lt;/td&gt;' . PHP_EOL;\n\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        echo '&lt;td class=\"noofmarkstd\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($searchMarks[$key]).'&lt;/td&gt;' . PHP_EOL;\n    }\n\n    // moved this to the end\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        $previous_question_id = $searchQuestionId[$key];\n    }\n}\n        echo '&lt;/tr&gt;';\n        echo \"&lt;/table&gt;\" . PHP_EOL;\n\n        ?&gt;\n\n\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["php","floating-point"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":45,"score":3,"question_id":13279919,"title":"PHP anomaly/ weird behaviour","body":"<p>When I run:</p>\n\n<p><code>for($o=1;$o&lt;=655;$o++){\n$r = $r+0.01;\n   echo $r.\" \";}</code></p>\n\n<p>at some point I get:</p>\n\n<pre><code>...4.29 4.3 4.31 4.32 4.33 4.34 4.35 4.36 4.37 4.38 4.39 4.4\n4.41 4.42 4.4299999999999 4.4399999999999 4.4499999999999\n4.4599999999999 4.4699999999999 ...\n</code></pre>\n\n<p>But when I run:</p>\n\n<p><code>for($o=1;$o&lt;=5;$o+=0.01){\necho $o.\" \";\n}</code></p>\n\n<p>anomaly starts at:</p>\n\n<pre><code>4.34 4.35 4.36 4.37 4.38 4.3899999999999 4.3999999999999\n</code></pre>\n\n<p>Why is there a difference between the addition being part of the for loop, or within the for loop?</p>\n"},{"tags":["php","sql","pdo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13281099,"title":"Single Quotes in PDO Prepared Statments","body":"<p>I have always had issues with getting single quotes into PDO prepared statements. Here is what I have:  </p>\n\n<pre><code>$query2 = $dbh2-&gt;prepare(\"SELECT um.uploadID,\n\nselCol = CASE WHEN linkID = 1 THEN 'uploadDataMapID' ELSE 'uploadData' END\n\nFROM UploadMappings as um\");\n</code></pre>\n\n<p>When this is passed to SQL it ends up with ' 'uploadDataMapID' ' and ' 'uploadData' ' </p>\n\n<p>What is the best way to pass single quotes to MSSQL server using PDO prepared statements?</p>\n\n<p>Any help would be great.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mysql","arrays","explode"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":327,"score":0,"question_id":6645523,"title":"Exploding String Then Fetching from Database","body":"<p>I have an array that has userid's. I want to explode that array and fetch everything from the database by that userid. It fetches only 1 entry by each user, rather than every entry from that user. Am I missing something? Thank you!</p>\n\n<hr>\n\n<p>Edit: Sorry for being so sparse, it's been a long night of frustration, i'll elaborate.</p>\n\n<pre><code>if ( $follower_array != \"\" ) {\n\n  $followArray = explode(\",\", $follower_array);\n  $followCount = count($followArray);   \n  $i = 0;\n  $display .= \"&lt;table&gt;\";\n\n  foreach( $followArray as $key =&gt; $value ) {\n\n    $i++;\n    $sql = mysql_query(\"\n        SELECT * \n          FROM database \n         WHERE mem_id='$value' \n      ORDER BY bc_date ASC \n         LIMIT 50\n    \") or die (\"error!\");\n\n    while ( $row = mysql_fetch_assoc($sql) ) {\n      $mem_id  = $row['mem_id'];\n      $content = $row['content'];\n\n      $display .= \"&lt;td&gt;' .$content. '&lt;/td&gt;&lt;/tr&gt;\";\n    }\n    display .= \"&lt;/table&gt;\";\n}\n</code></pre>\n\n<p>The Database tables are as follows:</p>\n\n<pre><code>members|content\n---------------\n            id |id\nfollower_array |mem_id\n               |content\n</code></pre>\n\n<p>follwer array looks like \"4,5,6,7\" etc.</p>\n\n<p>I have four member id's set in the dummy data. It retrieves those in $followArray</p>\n\n<p>The output is </p>\n\n<ul>\n<li>mem_id:1 - content</li>\n<li>mem_id:2 - content</li>\n<li>mem_id:3 - content</li>\n<li>mem_id:4 - content</li>\n</ul>\n\n<p>but then stops. It only retrieves one content per member when there are more for each user. Thanks I hope I cleared that up.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":15,"score":2,"question_id":13280901,"title":"How to display data from two data table in one table","body":"<p>I have two tables, <code>image</code> and <code>video</code>. I want to display all data from image and video in one table. I know how to display all data from video but how to display all data from image also in same table. There is table where I display all data from video but can someone please tell me how to display all data from images in same table when displaying data from video is finished.</p>\n\n<pre><code>&lt;table width=\"879\" border=\"2\" cellpadding=\"3\" cellspacing=\"1\"&gt;\n  &lt;tr&gt;\n    &lt;td colspan=\"11\" align=\"center\" &gt;&lt;strong&gt;All uploaded videos&lt;/strong&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td width=\"51\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Id&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"95\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Video&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"83\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Name&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"130\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Date&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"177\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"101\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Price&lt;/strong&gt;&lt;/td&gt;\n    &lt;td width=\"174\" align=\"center\" bgcolor=\"#000000\" class=\"yellow\"&gt;&lt;strong&gt;Added by&lt;/strong&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n\n  &lt;?php $path= \"videoFile/\";\n    while($rows=mysql_fetch_array($result1)){\n  ?&gt;\n\n  &lt;tr&gt;  \n    &lt;td&gt;\n      &lt;?php if ( current_user_can( 'manage_options' ) ) { echo $rows['vid'];}else { echo \"For admins only!\"; }  ?&gt;\n    &lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"&lt;?php echo $path.$rows['filename'] ?&gt;\"&gt;View video&lt;/a&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $rows['alttext']; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $rows['imagedate']; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $rows['description']; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo \"$\".$rows['price']; ?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?php echo $rows['user_nicename']; ?&gt;&lt;/td&gt;    \n  &lt;/tr&gt;\n\n  &lt;?php\n    }\n  ?&gt;    \n&lt;/table&gt;\n</code></pre>\n"},{"tags":["php","sorting","encoding","collation","intl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13280438,"title":"I've got the 'intl' extension, but still cannot sort properly an array in spanish","body":"<p>yet again I'm posting a question about sorting in utf8 encoding. I've got some results from a database query that I'm trying to merge and then sort alphabetically. I installed the intl extension on my php ini and defined a new Collator. The function collator_asort works already, but it doesn't sort the records properly yet. I've read the posts about this same problem <a href=\"http://stackoverflow.com/questions/120334/how-to-sort-an-array-of-utf-8-strings\">in this site</a>, and also <a href=\"http://stackoverflow.com/questions/832709/natural-sorting-algorithm-in-php-with-support-for-unicode\">here (still in this site)</a>. I'm doing this on Windows x64 machine, so I think that should be a problem, according to the first post. However, some answers point that the encoding of the string passed to setlocale should be in utf8, and also that the character code should be appropiate to the OS.\nI'm currently using <code>$colar=setlocale(LC_COLLATE, 'esm');\n$COLAR=setlocale(LC_CTYPE, 'esm');</code> which is how spanish for Mexico is defined in the Microsoft site <a href=\"http://msdn.microsoft.com/en-us/library/39cwe7zf%28v=vs.90%29.aspx\" rel=\"nofollow\">here</a>.\nAnd the code to sort the array is like so: <code>$consulta_gral=array_merge($consulta_1, $consulta_2, $consulta_3);\nforeach($consulta_gral as $consulta_todos){\ncollator_asort($coll, $consulta_gral, SORT_STRING); \n};</code></p>\n\n<p>I wonder if someone can point out where should I find the appropiate character code for windows, specially as I'm looking for a simple solution which I think may be the configuration of the collator. I realize this may be a hard issue, but as some answers on the second post I mention, the solution should be in the intl extension of php. Â¡At least I hope so! Thus: </p>\n\n<blockquote>\n  <p>Even better:</p>\n</blockquote>\n\n<pre><code>   if (extension_loaded('intl') === true)\n    {\n        collator_asort(collator_create('root'), $array);\n    }\n</code></pre>\n\n<p>As is pointed by @Alix Axel. \nCurrently the output I get is this: </p>\n\n<pre>\n\n    array(9) {\n      [6]=>\n      array(4) {\n        [0]=>\n        string(21) \"AÃ±orve BaÃ±os Manuel\"\n        [1]=>\n        string(22) \"semestral / trimestral\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [7]=>\n      array(4) {\n        [0]=>\n        string(21) \"AÃ±orve BaÃ±os Manuel\"\n        [1]=>\n        string(22) \"semestral / trimestral\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [8]=>\n      array(4) {\n        [0]=>\n        string(25) \"Bernal CalderÃ³n Gabriela\"\n        [1]=>\n        string(7) \"mensual\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [5]=>\n      array(4) {\n        [0]=>\n        string(25) \"Travel Ex, S. A. de C. V.\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [4]=>\n      array(4) {\n        [0]=>\n        string(34) \"MÃ©ndez y Flores Ruvalcaba Eduardo\"\n        [1]=>\n        string(7) \"mensual\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [1]=>\n      array(4) {\n        [0]=>\n        string(20) \"FrÃ­as Sainz Gonzalo\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n      [2]=>\n      array(4) {\n        [0]=>\n        string(20) \"FrÃ­as Sainz Gonzalo\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n      [3]=>\n      array(4) {\n        [0]=>\n        string(36) \"HernÃ¡ndez HernÃ¡ndez Flavio Gabriel\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [0]=>\n      array(4) {\n        [0]=>\n        string(25) \"Ãlvarez GÃ³mez Francisco\"\n        [1]=>\n        string(10) \"trimestral\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n    }\n\n</pre>\n\n<p>which is obviously wrong even in english.\nI also have the following settings in setlocale: Spanish_Mexico.1252 (the latter being the character code page, which I wonder if is right for what I'm trying to do).\nThanks!</p>\n\n<p>I wish to add that what I'm trying to find is a simple way to effectively order alphabetically the array, the way this strings are treated in Mexico. I don't mean that there's something wrong with the way sort, asort or else work. In fact, if I simply do <code>collator_asort($coll, $consulta_gral, SORT_REGULAR)</code> I almost get a valid output. But I think if I'm using SORT_REGULAR theres no point in making an instance of the collator anyway. The output is like so in this last case: </p>\n\n<pre>\n\n    array(9) {\n      [6]=>\n      array(4) {\n        [0]=>\n        string(21) \"AÃ±orve BaÃ±os Manuel\"\n        [1]=>\n        string(22) \"semestral / trimestral\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [7]=>\n      array(4) {\n        [0]=>\n        string(21) \"AÃ±orve BaÃ±os Manuel\"\n        [1]=>\n        string(22) \"semestral / trimestral\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [8]=>\n      array(4) {\n        [0]=>\n        string(25) \"Bernal CalderÃ³n Gabriela\"\n        [1]=>\n        string(7) \"mensual\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(3) \"GMM\"\n      }\n      [2]=>\n      array(4) {\n        [0]=>\n        string(20) \"FrÃ­as Sainz Gonzalo\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n      [1]=>\n      array(4) {\n        [0]=>\n        string(20) \"FrÃ­as Sainz Gonzalo\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n      [3]=>\n      array(4) {\n        [0]=>\n        string(36) \"HernÃ¡ndez HernÃ¡ndez Flavio Gabriel\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [4]=>\n      array(4) {\n        [0]=>\n        string(34) \"MÃ©ndez y Flores Ruvalcaba Eduardo\"\n        [1]=>\n        string(7) \"mensual\"\n        [2]=>\n        string(5) \"banco\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [5]=>\n      array(4) {\n        [0]=>\n        string(25) \"Travel Ex, S. A. de C. V.\"\n        [1]=>\n        string(5) \"anual\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(4) \"Vida\"\n      }\n      [0]=>\n      array(4) {\n        [0]=>\n        string(25) \"Ãlvarez GÃ³mez Francisco\"\n        [1]=>\n        string(10) \"trimestral\"\n        [2]=>\n        string(6) \"agente\"\n        [\"plan\"]=>\n        string(5) \"Autos\"\n      }\n    }\n\n</pre>\n\n<p>Which should be fine except that I want all characters that include an 'A' or 'a' to appear first, regardless of them being accented or not. \nBy the way, I'm using utf8 encoding everywhere, in the header which is text/plain here, and in the database, and I understand PHP treats the output as utf8 encoded by default anyway.\nIt would be very nice, however, to know about how can the problem be overcome, especially since the sort function using the collator seems to output a very strange output.</p>\n\n<p>Also, I realize I could do this by simply querying an appropiate SQL statement that queryied fields from all the tables I need. (I'm getting results from various tables, that's why I merge the arrays later). But I would like to know how can this be done in PHP.</p>\n"},{"tags":["php","variables","loops","foreach"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13280951,"title":"PHP syntax that will set a variable within a foreach loop using an array of variable names","body":"<p>I am trying to define a set of variables by setting them from SESSION and POST variables of the same name. (I.e. I want to transfer $_SESSION['a'] to $a.</p>\n\n<p>I am trying to use an array of variables names (a, b, c) to define such a set using a foreach loop, but am having when trying to define them I end up with syntax like $$variable within the loop, which does not work. I've tried single and double quotes around the $variable, but no joy    </p>\n\n<pre><code>$data = array (\n        'a',\n        'b',\n        'c',\n              );\n\nforeach($data as $variable)\n {\n   if (isset($_POST['$variable'])) $_SESSION['$variable']=$_POST['$variable'];\n   if (isset($_SESSION['$variable'])) {$$variable=$_SESSION['$variable'];} else {$$variable=\"\";}\n }\n</code></pre>\n\n<p>Any help greatly appreciated.</p>\n\n<p>I'm trying end up with many instances of something like:</p>\n\n<pre><code> if (isset($_POST['$a'])) $_SESSION['$a']=$_POST['$a'];\n if (isset($_SESSION['$a'])) {$a=$_SESSION['$a'];} else {$a=\"\";}\n</code></pre>\n"},{"tags":["php","mysql","security"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13279578,"title":"Confused on htmlspecialchars, real_escape_string, etc","body":"<p>I've written a decent admin interface that includes inventory management, content management, and blogging. Now its time to lock it down and make it secure (Yes, I should have been doing it from the beginning...</p>\n\n<p>For blog creation/editing, I'm using ckeditor which posts HTML output to editblog.php. Also i'm using simple text inputs for Title, Author, etc...</p>\n\n<p>I'm concerned because the blog will have img src=\"uploads/etc.jpg\", as well as divs, spans, etc...</p>\n\n<p>SO! When I sanitize this data, how do I make sure that all those quotes and slashes can be safely shoved into my SQL database, and what do i do to spit it back out on the frontend? I'm also concerned because if the blogger \"quotes\" something, I don't want that to be messed with either.</p>\n\n<p>Simple input like title, author, etc I'm using $title = mysqli_real_escape_string($title)\nBut is that enough? How do I preserve the user's intended input while avoiding attack?</p>\n\n<p>I've done my research and yet I still don't get it. I hope someone can break it down nice and simple for me...</p>\n"},{"tags":["php","ftp","vps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13280992,"title":"Uploading files to a storage server from a web app","body":"<p>I have a webapp where by people are allowed to upload files, the webapp and upload form run on VPS1(24GB) I have another server called VPS2(1TB). I want user to use the webapp to upload files and for the files to be stored on the VPS2. How ever I'm not sure the best way to do this, would I upload the file to VPS1 and then transfer it to VPS2 via FTP(or other methods)? Or should I upload it directly to VPS2 using a post method on a webserver running on VPS2? This has to be scalable, I will be adding more webservers in the future.</p>\n\n<p>I had thoughts about putting all the storage VPS servers in an array in PHP an array and randomly selecting which one to post files to. But I'm not sure, really lost and would like some advanced help.</p>\n"},{"tags":["php","sql","flex","mobile-application"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13280729,"title":"Need various help building a flex mobile application that connects to a database","body":"<p>Need various help building a flex mobile application that connects to a database.  </p>\n\n<p>I know that I can ask my questions here, but the thing is I have a deadline ( :( ) and some of my questions are not being answered... don't get me wrong I DO appreciate your help and I know I should do  a lot myself. is there a place where I can ask for help from someone... for a small amount of money (I wish I was rich but I am not)</p>\n"},{"tags":["php","file","shell","redirect","shell-exec"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13280933,"title":"File redirect from shell_exec in PHP","body":"<p>Is there some secret to getting file redirection to work in shell_exec in PHP or is that a known limitation? I'm working on a program that converts a series of RTF files to PDFs and running system commands from within the PHP script like the following:</p>\n\n<pre><code>/usr/sbin/cupsfilter /Users/rick/htdocs/routes/temp/0103019.rtf -m application/pdf -o landscape -o page-left=0 -o page-right=0 &gt; /Users/rick/htdocs/routes/temp/0103019.pdf\n</code></pre>\n\n<p>The PDF files get created but they're all zero-length files. If I run the command in the terminal, the PDF gets created as expected, but if it's done via shell_exec, it's an empty file. At this point, the only thing I can figure is that > doesn't work in shell_exec or this is some bug with cupsfilter. </p>\n"},{"tags":["php","sockets","tcp","titanium","bind"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13280917,"title":"Titanium - Create a TCP client for chat application","body":"<p>I have created PHP back-end socket web application which binds some methods as:</p>\n\n<pre><code>...\nfunction wsOnOpen($clientID)\n{\n    // some code\n}\nfunction wsOnClose($clientID, $status) {\n    // some code\n}\nfunction wsOnMessage($clientID, $message, $messageLength, $binary) {\n    // some code\n}\n$Server = new PHPWebSocket();\n$Server-&gt;bind('message', 'wsOnMessage');\n$Server-&gt;bind('open', 'wsOnOpen');\n$Server-&gt;bind('close', 'wsOnClose');\n// for other computers to connect, you will probably need to change this to your LAN IP or external IP,\n// alternatively use: gethostbyaddr(gethostbyname($_SERVER['SERVER_NAME']))\n$Server-&gt;wsStartServer('192.168.1.4', 5000);\n</code></pre>\n\n<p>Now, my question is how can I bind <code>message</code>, <code>open</code> and <code>close</code> in TCP client in my titanium application</p>\n\n<blockquote>\n  <p><strong>Purpose of application : real-time chatting by using PHP back-end</strong></p>\n</blockquote>\n\n<p>Any help will be highly appreciable!</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","obfuscation"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":212,"score":0,"question_id":9512672,"title":"Any experience with PHP obfuscator on pipsomania.com","body":"<p>I'm looking for any php obfuscator solution, I found one\n<a href=\"http://www.pipsomania.com/best_php_obfuscator.do\" rel=\"nofollow\">http://www.pipsomania.com/best_php_obfuscator.do</a>\nbut I need to send our code to their service.</p>\n\n<p>Have you anyone any experience with this service? I'm little bit worried :-)</p>\n\n<p>PS. Our goal is to protect a code from easy observation and we don't want to install any php extension on every server where we sold our product. So I thing products like Zend Guard are out of the game.</p>\n\n<p>Thanks a lot,\nJaro.</p>\n"},{"tags":["php","csv"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1353,"score":4,"question_id":10498632,"title":"Converting HTML Table to a CSV automatically using PHP?","body":"<p>I am just in need to convert a this html table automatically in csv using PHP.\nCan someone provide any idea how to do this?\nThanks.</p>\n\n<pre><code>$table = '&lt;table border=\"1\"&gt;\n&lt;tr&gt;\n&lt;th&gt;Header 1&lt;/th&gt;\n&lt;th&gt;Header 2&lt;/th&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;row 1, cell 1&lt;/td&gt;\n&lt;td&gt;row 1, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;row 2, cell 1&lt;/td&gt;\n&lt;td&gt;row 2, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;';\n</code></pre>\n\n<p>Guys, I just need <strong>$table</strong> to convert in only <strong>.csv</strong> file, which could be automatically generated using some PHP function. We can define path for that csv file to <strong>/test/home/path_to_csv</strong></p>\n"},{"tags":["php","arrays"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13280738,"title":"Creating a dynamic PHP array","body":"<p>I am new PHP question and I am trying to create an array from the following string of data I have.  I haven't been able to get anything to work yet.  Does anyone have any suggestions?</p>\n\n<p>my string:</p>\n\n<pre><code>Acct_Status=active,signup_date=2010-12-27,acct_type=GOLD,profile_range=31-35\n</code></pre>\n\n<p>I want to dynamically create an array called \"My_Data\" and have id display something like my following, keeping in mind that my array could return more or less data at different times.</p>\n\n<pre><code>My_Data\n(\n    [Acct_Status] =&gt; active\n    [signup_date] =&gt; 2010-12-27\n    [acct_type] =&gt; GOLD\n    [profile_range] =&gt; 31-35\n)\n</code></pre>\n\n<p>First time working with PHP, would anyone have any suggestions on what I need to do or have a simple solution?  I have tried using an explode, doing a for each loop, but either I am way off on the way that I need to do it or I am missing something.  I am getting something more along the lines of the below result.</p>\n\n<pre><code>Array ( [0] =&gt; Acct_Status=active [1] =&gt; signup_date=2010-12-27 [2] =&gt; acct_type=GOLD [3] =&gt; profile_range=31-35} ) \n</code></pre>\n"},{"tags":["php","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13280720,"title":"Handle a associative array passed from PHP in Java","body":"<p>Hi I am trying to send an associative array to a JSP servlet in a POST request. How do I handle that array in the servlet. Can I even do it? I just want to convert that assoc array in to a hashset/table in  JSP.</p>\n"},{"tags":["php","sql-server","sql-server-2008","doctrine2","freetds"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13280717,"title":"SELECT problems with Doctrine and MS SQL 2008","body":"<p>We have written an application using Doctrine2, which works great when used with a MySQL or Postgres database.</p>\n\n<p>We now connected the application with a SQL Server 2008 database using <a href=\"http://de3.php.net/manual/en/ref.pdo-dblib.php\" rel=\"nofollow\">PDO Driver DBLib</a> which uses the <code>FreeTDS</code> implementation for the Tabular DataStream protocol, which is shared by SQL Server and Sybase.</p>\n\n<p>The initial schema creation, transactions and <code>INSERT</code>s into the tables work fine .. after some tweaking of the Doctrine <code>SQLServerPlatform</code> and our MSSQL Driver package. </p>\n\n<p>But when selecting data, we face the following error:</p>\n\n<pre><code>General error: 20019 Attempt to initiate a new Adaptive Server operation with results pending\n</code></pre>\n\n<p>After plenty of googling I found <a href=\"http://www.freetds.org/faq.html#pending\" rel=\"nofollow\">this detail in the FAQ of FreeTDS</a>:</p>\n\n<blockquote>\n  <p>If you are accustomed to programming with other database servers, you may be surprised when you first encounter this aspect of the TDS protocol.  [...]<br><br>The server requires the client either to read all the results from a query, or to indicate that no further rows are desired i.e., to issue a cancellation. Until one of those two things happens, the server will not accept new queries on that connection. It will complain about \"pending results\".</p>\n</blockquote>\n\n<p>So the cause for the error message is that for some reason, Doctrine (DBAL->PDO->FreeTDS) did not read all the result rows from the connection buffer, and the server / library doesn't allow the application to issue a new <code>exec()</code>/<code>execute()</code> until all rows are read.</p>\n\n<ul>\n<li>Is my understanding right that <code>$doctrinequery-&gt;getResults()</code> fetches all results before it returns?</li>\n<li>Is my understanding right that <code>$entity-&gt;getLinkedEntity()</code> (i.e. <code>$user-&gt;getGroupNames()</code>) fetches all results before it returns?</li>\n<li>How would you tackle down where exactly the problem is? <br>The stacktraces are not helping me and the codebase is already grown.</li>\n<li>Did anybody else already have this problem and can share some insights?</li>\n<li>Is there an alternative we can use to connect Doctrine to MSSQL which does not suffer this problem?</li>\n</ul>\n"},{"tags":["php","mysql","csv"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13280193,"title":"Import and Update CSV to MySQL","body":"<p>I have a scenario where the client has daily updates / inserts from a CSV file which is generally around 30,000 to 50,000 rows. This CSV will contain both new imports as well as need the ability to update existing rows.</p>\n\n<p>I am using PHP / MySQL.</p>\n\n<p>Currently I am having to check each row of the CSV and compare with what is in the database.</p>\n\n<p>This is obviously taking a really long time.</p>\n\n<p>If there is nothing in the database it does a straight import which is fast in itself.</p>\n\n<p>I have thought about the temp table and join, but did not know how that would work with the new rows compared to the update.</p>\n"},{"tags":["php","kohana","kohana-3","kohana-3.2","kohana-db"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13270051,"title":"How can I get an indexed array from query result in Kohana 3.2?","body":"<p>How can I get the associative array result?</p>\n\n<pre><code>$qry1 = DB::select('name')-&gt;from('people')-&gt;execute();\n\n$assoc_array = $qry1-&gt;as_array();\n$object      = $qry1-&gt;as_object();\n\n// $indexed_array = [...]\n</code></pre>\n\n<p>Only for learning purposes, thanks.</p>\n"},{"tags":["php","javascript","facebook-like","facebook-apps","facebook-page"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":23,"score":-2,"question_id":13280578,"title":"Check if user like a page without creating facebook app","body":"<p>I have to check in my script if a user like a facebook page.</p>\n\n<p>I would realize it without Facebook app. I would not create it.</p>\n\n<p>I founded some examples, but they require a Facebook app, and that user gives it the correct permission.</p>\n\n<p>Can you help me? Is it possible?</p>\n\n<p>Thanks for any suggestion.</p>\n"},{"tags":["php","session","authentication","symfony2","fosuserbundle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":12,"score":-1,"question_id":13280516,"title":"symfony2 login not working FOSUSerBundle","body":"<p>Help! I don't know why, but recently I can no longer log into my Symfony2 website. When I try to login, I simply get redirected back to the login page with no error, and no indication of what is wrong. I've cleared my apc cache, my prod and dev caches, and I've been able to reproduce the error in both dev and prod. I've set g+wrx and u+rwx recursively. </p>\n\n<p>How do I debug a login page when no exception is being thrown? The error occurs in multiple browsers on multiple machines.</p>\n"},{"tags":["php","kohana","kohana-3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13271122,"title":"Kohana 3.2 Concatenating % to variable when doing a 'where like'","body":"<p>I came across an odd thing, here is an example:</p>\n\n<p>This returns the correct result with no problems.</p>\n\n<pre><code>ORM::factory('blog_post')-&gt;where('title', 'like', 'this is my 1 post%')-&gt;find();\n</code></pre>\n\n<p>This however, doesn't return anything at all...</p>\n\n<pre><code>$post_title = 'this is my 1 post';\nORM::factory('blog_post')-&gt;where('title', 'like', $post_title.'%')-&gt;find();\n</code></pre>\n\n<p>And this doesn't either.</p>\n\n<pre><code>$post_title = 'this is my 1 post%';\nORM::factory('blog_post')-&gt;where('title', 'like', $post_title)-&gt;find();\n</code></pre>\n\n<p>Any ideas as to why?</p>\n\n<p>Thank you very much for any help =)</p>\n"},{"tags":["php","jquery","html","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13280053,"title":"Not Getting Expected Response When Using Ajax With JSONP","body":"<p>I am experimenting with jsonp.</p>\n\n<p>Currently I have an html page with ajax on it listed below, which contains a drop box form, along with a table. Only the headers are there initially and it depends on ajax getting a jsonp response in order to populate the other cells.</p>\n\n<p>I then have my response php also hosted, and I thought everything was correct, but obviously not. </p>\n\n<p>All my id's appear to be correct unless I\"ve overlooked one, so I really do not understand why all I\"m getting is the error response from the jsonp page.</p>\n\n<p>html page: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n        &lt;title&gt;Car Queries&lt;/title&gt;\n        &lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function()\n        {\n                $(\"#submitbutton\").click(function()\n                {\n                        $.ajax(\n                        {\n                                url: \"https://example.com/jsonServer.php\",\n                                type: \"GET\",\n                                dataType: \"jsonp\",\n                                jsonp: \"callback\",\n                                data: { car: $(\"#carselection\").val()},\n                                success: function(data)\n                                {\n                                        if(data.name == \"error\")\n                                        {\n                                                $(\"#outputcarname\").text(\"There is no such car available\"),\n                                                $(\"#price\").text(\" \"),\n                                                $(\"#mpg\").text(\" \");\n                                        }\n                                        else\n                                        {\n                                                $(\"#outputcarname\").text(\"data.name\"),\n                                                $(\"#price\").text(\"data.price\"),\n                                                $(\"#mpg\").text(\"data.mpg \");\n                                        }\n                                },\n                                error: function()\n                                {\n                                        $(\"#outputcarname\").text(\"There is a problem with the server\"),\n                                        $(\"#price\").text(\" \"),\n                                        $(\"#mpg\").text(\" \");\n                                }\n                        });\n                return false;\n                });\n        });\n        &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n        &lt;h1&gt;Cars Cars Cars!&lt;/h1&gt;\n        &lt;form action=\"\" method=\"POST\"&gt;\n\n        &lt;select id=\"carselection\"&gt;\n                &lt;option selected=\"selected\"&gt;Pick a Car&lt;/option&gt;\n                &lt;option value=\"Maxima\"&gt;Maxima&lt;/option&gt;\n                &lt;option value=\"Element\"&gt;Element&lt;/option&gt;\n                &lt;option value=\"Prius\"&gt;Prius&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;/br&gt;&lt;/br&gt;\n        &lt;input type=\"submit\" id=\"submitbutton\" value=\"Submit\"&gt;\n        &lt;/form&gt;\n        &lt;/br&gt;\n        &lt;center&gt;&lt;table&gt;\n                &lt;tr&gt;\n                        &lt;th&gt;Car Name&lt;/th&gt;\n                        &lt;th&gt;Price&lt;/th&gt;\n                        &lt;th&gt;MPG&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td id=\"outputcarname\"&gt;&lt;/td&gt;\n                        &lt;td id=\"price\"&gt;&lt;/td&gt;\n                        &lt;td id=\"mpg\"&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;/table&gt;&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Response JSONP/PHP:</p>\n\n<pre><code>&lt;?php\n\n$cars = array('Maxima' =&gt; array('price' =&gt; '$32,780', 'mpg' =&gt; '24'),\n              'Prius' =&gt; array('price' =&gt; '$25,565', 'mpg' =&gt; '49'),\n              'Element' =&gt; array('price' =&gt; '$22,075', 'mpg' =&gt; '22'));\n\nif(array_key_exists($_GET['carselection'], $cars))\n{\n        $carname = $_GET['carselection'];\n        $results = array('name' =&gt; $carname, 'price' =&gt; $cars[$carname]['price'], 'mpg' =&gt; $cars[$carname]['mpg']);\n}\nelse\n{\n        $results = array('name' =&gt; 'error');\n}\n\n$callback = htmlentities($_GET['callback'], ENT_QUOTES);\nprint $callback . '(' . json_encode($results) . ')';\n?&gt;\n</code></pre>\n"},{"tags":["php","split"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13280524,"title":"Split replacement Syntax","body":"<p>What would be the command/syntax for replacing the depreciated split in the following syntax: </p>\n\n<pre><code>  $frags = split(\"\\/\", $the_image_src);\n</code></pre>\n"},{"tags":["php","dom"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13279875,"title":"PHP Simple HTML DOM - stepping through a page","body":"<p>I have been using the simple HTML DOM for some time, and have been loving what I can do with it. However I have run into a brick wall with something I would like to do.  First to give a basic idea of what the html looks like </p>\n\n<pre><code>&lt;html&gt;\n&lt;div&gt;&lt;div&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=\"alt2\"&gt; texty texty &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;\nText text\n&lt;div&gt;&lt;div&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=\"alt2\"&gt; texty2 texty2 &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;\nText2 text2\n&lt;div&gt;&lt;div&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=\"alt2\"&gt; texty3 texty3 &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;\nText2 text3\n&lt;/html&gt;\n</code></pre>\n\n<p>so basicly I need to take whats in the TD's bold that, and then place whats under each of this div under that.</p>\n\n<p>so I know i can just do  $text = $html->find('td[class=alt2]') for example to get the to get \"texty texty\" but how to I associate \"text text\" with that after, </p>\n\n<p>If I grab texty2 texty2, how do I associate text2 text 2 with that?</p>\n\n<hr>\n\n<p>in the end, the output I was aiming for was <code>&lt;p&gt;texty texty&lt;/p&gt;&lt;br&gt;text text</code>  kind of thing </p>\n\n<p>I should point out that the divs can have differnt classes and such, so simple reg expressions wouldnt work (and would like to stick with simple html dom if possible)</p>\n\n<p>--</p>\n\n<p>UPDATE:</p>\n\n<p>I have made this little bit of code</p>\n\n<pre><code>if ($html) {\n\n\n// Pulls the div that holds the links to the champion profiles (where they have the english names)\n$text = $html-&gt;find('td[class=\"alt2\"]');\n$count = 0;\nforeach ($text as $holder) {\n\n    $tdholder[] = $holder-&gt;innertext;\n    $html-&gt;find('div',$count*2)-&gt;innertext = $holder-&gt;innertext;\n    echo $holder.\"&lt;br&gt;&lt;br&gt;\";\n    $count++;\n}\n}\n</code></pre>\n\n<p>the only issue with this code, is it counts by the total number of divs. this is okay in my exmaple, as there are always 2. but if there are 2 or three, this makes an issue.  So now I just need to figure out how to grab just the first, or the second, or the third top level divs and I should be good.</p>\n"},{"tags":["php","push-notification","windows-phone","windows-phone-8","live-tile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13267261,"title":"Iconic LiveTile push notification via php results in PayloadFormatError","body":"<p>Final <strong>EDIT</strong> working code (Huge thanks to Claus for taking time and solving it):</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>class WindowsPhonePushDelay\n{\n    const Immediate=0;\n    const In450Sec=10;\n    const In900Sec=20;\n}\n\nclass WindowsPhonePushNotification\n{\n    private $notif_url = '';\n\n    function WindowsPhonePushNotification($notif_url)\n    {\n        $this-&gt;notif_url = $notif_url;\n    }\n\n    public function send_raw($msg,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)\n    {\n        return $this-&gt;send_push(NULL,$delay+3,$message_id, $msg);\n    }\n\n    public function send_normal_tile($image_url, $title, $count,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)\n    {\n        $msg =  \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;\" .\n                \"&lt;wp:Notification xmlns:wp=\\\"WPNotification\\\"&gt;\" .\n                \"&lt;wp:Tile&gt;\" .\n                \"&lt;wp:BackgroundImage&gt;$image_url&lt;/wp:BackgroundImage&gt;\" .\n                \"&lt;wp:Count&gt;$count&lt;/wp:Count&gt;\" .\n                \"&lt;wp:Title&gt;$title&lt;/wp:Title&gt;\" .\n                \"&lt;/wp:Tile&gt;\" .\n                \"&lt;/wp:Notification&gt;\";\n                return $this-&gt;send_push('token',$delay+1, $message_id,$msg);\n    }\n       public function send_iconic_tile($image_url_large, $image_url_small, $wide1, $wide2, $wide3, $title, $count,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)\n    {\n        $msg =  \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;\" .\n                \"&lt;wp:Notification xmlns:wp=\\\"WPNotification\\\" Version=\\\"2.0\\\"&gt;\" .\n                \"&lt;wp:Tile Id=\\\"\\\" Template=\\\"IconicTile\\\"&gt;\" .\n                \"&lt;wp:SmallIconImage&gt;$image_url_small&lt;/wp:SmallIconImage&gt;\" .\n                \"&lt;wp:IconImage&gt;$image_url_large&lt;/wp:IconImage&gt;\" .\n                \"&lt;wp:WideContent1&gt;$wide1&lt;/wp:WideContent1&gt;\" .\n                \"&lt;wp:WideContent2&gt;$wide2&lt;/wp:WideContent2&gt;\" .\n                \"&lt;wp:WideContent3&gt;$wide3&lt;/wp:WideContent3&gt;\" .\n                \"&lt;wp:Count&gt;$count&lt;/wp:Count&gt;\" .\n                \"&lt;wp:Title&gt;$title&lt;/wp:Title&gt;\" .\n                \"&lt;wp:BackgroundColor&gt;#00FFFFFF&lt;/wp:BackgroundColor&gt;\" .\n                \"&lt;/wp:Tile&gt;\" .\n                \"&lt;/wp:Notification&gt;\";\n       echo $msg;\n    return $this-&gt;send_push('token',$delay+1, $message_id,$msg);\n    }\n\n    public function send_toast($title, $message,$message_id=NULL, $delay = WindowsPhonePushDelay::Immediate)\n    {\n        $msg =  \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;\" .\n                \"&lt;wp:Notification xmlns:wp=\\\"WPNotification\\\"&gt;\" .\n                \"&lt;wp:Toast&gt;\" .\n                \"&lt;wp:Text1&gt;$title&lt;/wp:Text1&gt;\" .\n                \"&lt;wp:Text2&gt;$message&lt;/wp:Text2&gt;\" .\n                \"&lt;/wp:Toast&gt;\" .\n                \"&lt;/wp:Notification&gt;\";\n\n        return $this-&gt;send_push('toast',$delay+2,$message_id, $msg);\n    }\n\n    private function send_push($target,$delay,$message_id,$msg)\n    {\n        $sendedheaders=  array(\n                            'Content-Type: text/xml; charset=utf-8 ',\n                            'Accept: application/*',\n                            \"X-NotificationClass: $delay\"\n                            );\n        if($message_id!=NULL)\n        $sendedheaders[]=\"X-MessageID: $message_id\";\n        if($target!=NULL)\n            $sendedheaders[]=\"X-WindowsPhone-Target:$target\";\n\n        $req = curl_init();\n        curl_setopt($req, CURLOPT_HEADER, true); \n        curl_setopt($req, CURLOPT_HTTPHEADER,$sendedheaders);\n        curl_setopt($req, CURLOPT_POST, true);\n        curl_setopt($req, CURLOPT_POSTFIELDS, $msg);\n        curl_setopt($req, CURLOPT_URL, $this-&gt;notif_url);\n        curl_setopt($req, CURLOPT_RETURNTRANSFER, 1);\n        $response = curl_exec($req);\n        curl_close($req);\n\n        $result=array();\n        foreach(explode(\"\\n\",$response) as $line)\n        {\n\n        $tab=explode(\":\",$line,2);\n        if(count($tab)==2)\n            $result[$tab[0]]=trim($tab[1]);\n        }\n\n        return $result;\n     }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: The XML (tried with both local image and remote image)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"?&gt;&lt;wp:Notification xmlns:wp=\"WPNotification\" Version=\"2.0\"&gt;&lt;wp:Tile Id=\"/\" Template=\"IconicTile\"&gt;&lt;wp:SmallIconImage Action=\"Clear\"&gt;/Images/LiveTiles/asot_iconic_small.png&lt;/wp:SmallIconImage&gt;&lt;wp:IconImage Action=\"Clear\"&gt;/Images/LiveTiles/asot_iconic_large.png&lt;/wp:IconImage&gt;&lt;wp:WideContent1 Action=\"Clear\"&gt;Test1&lt;/wp:WideContent1&gt;&lt;wp:WideContent2 Action=\"Clear\"&gt;Test2&lt;/wp:WideContent2&gt;&lt;wp:WideContent3 Action=\"Clear\"&gt;Test3&lt;/wp:WideContent3&gt;&lt;wp:Count Action=\"Clear\"&gt;1&lt;/wp:Count&gt;&lt;wp:Title Action=\"Clear\"&gt;Title&lt;/wp:Title&gt;&lt;wp:BackgroundColor Action=\"Clear\"&gt;#00FFFFFF&lt;/wp:BackgroundColor&gt;&lt;/wp:Tile&gt;&lt;/wp:Notification&gt;\n</code></pre>\n\n<p>EDIT2 Full error msg:</p>\n\n<pre><code>\"The XML payload contains invalid or improperly formatted XML or the notification type specified in the header does not match the payload type used.  The channel has been closed.  Check your XML payload for errors and reopen the channel to obtain a new URI.\"\n</code></pre>\n\n<p>EDIT3 Server response</p>\n\n<pre><code>HTTP/1.1 200 OK Cache-Control: private Server: Microsoft-IIS/7.5 X-DeviceConnectionStatus: Connected X-NotificationStatus: Received X-SubscriptionStatus: Active X-MessageID: 00000000-0000-0000-0000-000000000000 ActivityId: 5bd4c4b6-1d79-4964-9a56-7d49e2aa5972 X-Server: DB3MPNSM018 X-AspNet-Version: 4.0.30319 X-Powered-By: ASP.NET Date: Wed, 07 Nov 2012 19:35:59 GMT Content-Length: 0\n</code></pre>\n\n<p>I'm using the above code (made by Rudy Huyn) when trying to send a Push Notification. It works fine with sending a normal tile but I'm trying to update my app so it can receive a iconic tile instead. I've added the send_iconic_tile myself.</p>\n\n<p>However when I'm sending an iconic tile notification I'm getting a PayloadFormatError on the phone. I can't see any error in my code either since the payload seems to match what Microsoft has written here:\n<a href=\"http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207009(v=vs.105).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207009(v=vs.105).aspx</a></p>\n"},{"tags":["php","function","strip-tags"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13280451,"title":"php function advice needed","body":"<p>any advice would be helpful, thank you</p>\n\n<p>i'm trying to clean a piece of html tags with contents but for some reason it's not working properly</p>\n\n<pre><code>&lt;?php\n\nfunction cleaning($vclean)\n{\n$vclean = strip_tags($vclean);\n$vclean = rtrim($vclean);\n$vclean = trim($vclean);\n\n$vclean = str_replace(\"  \", \"\", $vclean);\n$vclean = preg_replace('/\\s\\s+/', ' ', $vclean);\n$vclean = str_replace(\"'\", \"\", $vclean);\n\necho \"function is cleaning&lt;br&gt;\";\n\n}\n\n\ncleaning($any_variable);\n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","mysql","joomla"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13280400,"title":"Joomla database memory leak","body":"<p>My client has got a pretty large Joomla-based website hosted on Amazon EC2 with 1.5GB of RAM. The server hosts both Apache and MySQL. Right now the database size is around 250MB and the website gets daily traffic of about 5000. It looks like there is a severe memory leak on the website as sometimes MySQL uses about 99% of CPU memory and then crashes. I have tried optimizing database tables, modifying my<code>.cnf</code>, but still there is no improvement.</p>\n\n<p>There are finder tables used by Joomla smart search which occupy over 100MB of db size. I have disabled smart search, but still the problem occurs.</p>\n\n<p>Friends, please throw some suggestions in fixing this.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","oop","object"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13280448,"title":"reference object with key containing brackets","body":"<p>I'm doing a <code>print_r</code> on an object that is returned after running a query. Here is my <code>print_r</code> log. </p>\n\n<pre><code>stdClass Object\n(\n    [MAX(sort_order)] =&gt; 3\n)\n</code></pre>\n\n<p>I want to get the value inside <code>[MAX(sort_order)]</code> but I cant figure out how to target it from within php. </p>\n\n<p>Like <code>$sort_order = $object->[MAX(sort_order)];</code> (I know that won't work)</p>\n\n<p>Does anyone know how I can do this?</p>\n"},{"tags":["php","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13280352,"title":"I want to fire another kind of exception in this case. PHP","body":"<p>When I try to connect with the Redis server with this code I haven't any problem testing if the server is UP. The problem is when the server is DOWN. In that case I solved this escenario with the classic Try/catch. My problem is that I'd like to manage this exception with \"my_custom_exception\" class, which has more useful functions, instead of the class Exception. Is there anyway of making this?. I know how to extend the class Exception, but in this case is a library of third parts.</p>\n\n<pre><code>function show_status_redis_server(){\n    try{\n        $redis = RedisDB::fetch_instance();//this ...........................\n    }catch(Exception $e){\n        echo \"Redis server is down\"; \n    }\n}\n</code></pre>\n"},{"tags":["php","phpmail"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":571,"score":1,"question_id":9660057,"title":"Email Sending from Local Server in PHP","body":"<p>I have my file mail.php :</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;?php\nif (isset($_REQUEST['email']))\n//if \"email\" is filled out, send email\n  {\n  //send email\n  $email = $_REQUEST['email'] ;\n  $subject = $_REQUEST['subject'] ;\n  $message = $_REQUEST['message'] ;\n  mail(\"syedsamiruddin29@gmail.com\", $subject,\n  $message, \"From:\" . $email);\n  echo \"Thank you for using our mail form\";\n  }\nelse\n//if \"email\" is not filled out, display the form\n  {\n  echo \"&lt;form method='post' action='mail.php'&gt;\n  Email: &lt;input name='email' type='text' /&gt;&lt;br /&gt;\n  Subject: &lt;input name='subject' type='text' /&gt;&lt;br /&gt;\n  Message:&lt;br /&gt;\n  &lt;textarea name='message' rows='15' cols='40'&gt;\n  &lt;/textarea&gt;&lt;br /&gt;\n  &lt;input type='submit' /&gt;\n  &lt;/form&gt;\";\n  }\n?&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>but when i run it. i get this error :</p>\n\n<pre><code>Warning: mail() [function.mail]: Failed to connect to mailserver at \"127.0.0.1\" port 25, verify your \"SMTP\" and \"smtp_port\" setting in php.ini or use ini_set() in C:\\Program Files\\EasyPHP-5.3.8.1\\www\\safepay247\\mail.php on line 13\nThank you for using our mail form\n</code></pre>\n\n<p>what im trying to do is to send an email to my email id : syedsamiruddin29@gmail.com using php to the person's email written in the input type.</p>\n\n<p>Ive gone through many videos but none help me solve the php.ini problem.</p>\n"},{"tags":["php","javascript","wordpress"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13279611,"title":"Pass variable from URL through a php login redirect function into wp-login form inputs","body":"<p>This is a funny one, but only a genius can probably figure this out. It's an odd one.</p>\n\n<p>Requires a little javascript and a little adjustment to my existing php wordpress function.</p>\n\n<p>I have a wp site that is locked down from the public using this function...</p>\n\n<pre><code>add_action('get_header', 'wpq_member_only_site');\nfunction wpq_member_only_site() {\n\n    if ( !is_user_logged_in() ) {\n\n        $redirect_after_login = get_home_url();\n\n        $login_url = wp_login_url( $redirect_after_login );\n\n        wp_redirect( $login_url, 302 );\n        exit;\n    }\n\n}\n</code></pre>\n\n<p>...which redirects non-logged in users to the login form.</p>\n\n<p>My question is, I would like use URL variables like this...</p>\n\n<p><strong>http://example.com?user=media&amp;password=23747</strong></p>\n\n<p>...and somehow, (I guess) pass it through the function and into the login page URL...</p>\n\n<p><strong>http://example.com/wp-login.php?redirect_to=http%3A%2F%2Fexample.com&amp;user=media&amp;password=23747</strong></p>\n\n<p>...so then a script in my login_head can use, and automatically pre-populate the login form.</p>\n\n<p>I will insert the script into my login_head using this function...</p>\n\n<pre><code>function my_login_head() {\n  echo '\n\n      &lt;!-- script here --&gt;\n  ';\n}\nadd_action('login_head', 'my_login_head');\n</code></pre>\n\n<p>Does anyone think they can help me with this? Or know if its possible.</p>\n\n<p>The idea is, so I can use this URL to give people access without them having to know the username or password.</p>\n\n<p>Any ideas or help would be awesome, thanks!</p>\n"},{"tags":["php","e-commerce"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":13280447,"title":"How to plan a structure for an online shop?","body":"<p>The task is to create an online shop that will be ran on a very specific PHP framework. But actually I don't want to refer my question to the task I'm given but just in theory: what would be the best method in writing framework of very common online shop from scratch, what class structure should it have? Links to topical articles are welcome. Thanks in advance!</p>\n"},{"tags":["php","redirect","header"],"answer_count":7,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":223,"score":2,"question_id":10504753,"title":"Can I cause a redirect to occur before my php script finishes?","body":"<p>I want to run a php script that will send out a bunch of emails (newsletters) but since it can take a while for that to run I want the user be immediately redirected to a page with a message like \"Your newsletters are queued to be sent out.\"<br>\nSo far the header redirects work but they do not cause the redirection until after all the emails get sent.  Can I close the connection after sending the redirect so the browser acts on the redirect immediately?   I tried stuff like this </p>\n\n<pre><code>\nob_start();\nignore_user_abort(true);\nheader( \"refresh:1;url=waitforit.php?msg=Newsletters queued up, will send soon.\");\nheader(\"Connection: close\");\nheader(\"Content-Length: \" . mb_strlen($resp));\necho $resp;\n//@ob_end_clean();\nob_end_flush();\nflush();\n</code>\n</pre>\n\n<p>in various permutations and combinations but to no avail.\nI suspect it cannot be done so simply but before I start messing with cron jobs or custom daemons I thought I'd look into this approach. \nThanks</p>\n\n<p>eg like blockhead suggests below, but no luck <pre><code>ob_start();\nignore_user_abort(true);\nheader( \"refresh:1;url=mailing_done.php?msg=Newsletters queued for sending.\");\nheader(\"Connection: close\");\nheader(\"Content-Length: 0\" );\n//echo $resp;\nob_end_flush();\nflush(); </code></pre></p>\n"},{"tags":["php","html","mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13278506,"title":"Creating a table with Search boxes for each colum","body":"<p>I need someone to show me how you would create a simple table to search each colum of data that I insert from this form. I am looking for the easiest way to create a table with search boxes that can filter each colum. DB: <code>Mysql</code> Field types: <code>text</code> Below shows the variables I am using for my form that posts the data to the database. I am new to writing code so I need a simple but full example on how someone would create a 2 colum html table that can search data per colum. Once I see it works I will get it and be able to reuse. I found this:  <a href=\"http://www.javascriptkit.com/script/script2/tablefilter.shtml\" rel=\"nofollow\">http://www.javascriptkit.com/script/script2/tablefilter.shtml</a> This is pretty much what I'm looking to do but I just dont know how to write it. </p>\n\n<p>My Code</p>\n\n<pre><code>if (isset($_POST[\"submit\"]) &amp;&amp; $_POST[\"submit\"] == \"Submit\")\n{\n    for ($count = 1; $count &lt;= 9; $count++)\n    {\n        $fields[$count] = \"\";\n        if (isset($_POST[\"field\" . $count . \"\"]))\n        {\n            $fields[$count] = trim($_POST[\"field\" . $count . \"\"]);\n            //echo $fields[$count] . \"&lt;br /&gt;\";\n        }\n    }\n\n    $con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n    $fromzip = mysql_real_escape_string($_POST['fromzip']);\n    $tozip = mysql_real_escape_string($_POST['tozip']);\n\n    $insert = \"INSERT INTO Carriers (`fromzip` ,`tozip` ,`date`) VALUES('$fromzip' ,'$tozip' , NOW())\";\n    mysql_query($insert) or die(mysql_error());\n\n    $select = \"SELECT `fromzip` ,`tozip` , FROM `Carriers` ORDER BY `date` DESC;\";\n    $result = mysql_query($select) or die(mysql_error());\n\n}\n?&gt;\n&lt;style =\"text-align: center; margin-left: auto; margin-right: auto;\"&gt;&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div\n style=\"border: 2px solid rgb(0, 0, 0); margin: 16px 20px 20px; width: 400px; background-color: rgb(236, 233, 216); text-align: center; float: left;\"&gt;\n&lt;form action=\"\" method=\"post\";\"&gt;\n  &lt;div\n  style=\"margin: 8px auto auto; width: 300px; font-family: arial; text-align: left;\"&gt;&lt;br&gt;\n  &lt;table style=\"font-weight: normal; width: 100%; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n   &lt;table\n style=\"font-weight: normal; width: 100%; text-align: right; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n    &lt;tbody&gt;\n            &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Pick Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"fromzip\" name=\"fromzip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Drop Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"tozip\" name=\"tozip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;p style=\"text-align: center;\"&gt;&lt;input name=\"submit\" value=\"Submit\"\n class=\"submit\" type=\"submit\"&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;p style=\"margin-bottom: -20px;\"&gt;&amp;nbsp;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>My Table</p>\n\n<pre><code>&lt;?php /**/ ?&gt;&lt;?php\n\n\n$con = mysql_connect(\"local\", \"user\", \"pass\");\nmysql_select_db(\"DB\", $con)\n\n\n//$select = \"SELECT * FROM `loads` ORDER BY `index` DESC\";\n//$select = \"SELECT * FROM `loads` ORDER BY startingstate,startingcity,destinationstate,destinationcity;\";\n$select = \"SELECT * FROM `Carriers` ORDER BY date DESC\";\n\n$result = mysql_query($select) or die(mysql_error());\n\n$table = \"&lt;table style=\\\"width:100%;font-size:12px;text-align:center;\\\" cellspacing=\\\"0px\\\" cellpadding=\\\"2px\\\" border=\\\"1px\\\" bordercolor=\\\"#929087\\\"&gt;\";\n$table .= \"&lt;tr style=\\\"font-weight:bold;\\\"&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;Pick Zip&lt;/td&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;Drop Zip&lt;/td&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;Date&lt;/td&gt;&lt;/tr&gt;\";\n\n$count = 0;\n\nwhile($fields = mysql_fetch_row($result))\n{\n    //$table .= \"&lt;tr&gt;&lt;td&gt;&lt;input type=\\\"checkbox\\\" name=\\\"deleteme[]\\\" value=\\\"$fields[18]\\\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[0]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[3]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[9]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[11]&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\";\n    $table .= \"&lt;tr&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;$fields[1]&lt;/&gt;&lt;/td&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;$fields[2]&lt;/&gt;&lt;/td&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;$fields[9]&lt;/&gt;&lt;/td&gt;&lt;/tr&gt;\";\n    $count = $count + 1;\n}\n\n$table .= \"&lt;tr&gt;&lt;td colspan=\\\"12\\\"&gt;&lt;input type=\\\"submit\\\" name=\\\"delete\\\" value=\\\"Remove\\\" /&gt;&lt;/td&gt;&lt;/tr&gt;\";\n\nif ($count &lt; 1)\n{\n    $table = \"\";\n}\n\nmysql_close($con);\n\n//$table = strtoupper(\"You currently have \" . $count . \" LOADS posted. \" . $table);\n$table = \"You currently have \" . $count . \" LOADS posted. \" . $table;\n\necho $table;\n\n?&gt;\n</code></pre>\n"},{"tags":["php","facebook","facebook-php-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":12,"score":-1,"question_id":13279890,"title":"How do I make a post using Facebook's v3 SDK and PHP?","body":"<p>I am trying to make a post on the user's Facebook wall using my application. I also want to be able to access and display the person's user information afterward - but I'm getting stuck.</p>\n\n<p>The code I have so far is below (with the sensitive parts masked, of course):</p>\n\n<pre><code>&lt;?php\ninclude(\"src/facebook.php\");\n\n$facebook = new Facebook(array(\n    'appId'  =&gt; ##############,\n    'secret' =&gt; #####################################,\n));\n\n$user = $facebook-&gt;getUser();\n\nif ($user) {\n  try {\n    $user_profile = $facebook-&gt;api('/me');\n  } catch (FacebookApiException $e) {\n    // The access token we have is not valid\n    $user = null;\n  }\n}\nif (!$user) {\n    $args['scope'] = 'offline_access, read_stream, friends_likes, email, read_stream, publish_stream, user_birthday,user_hometown, user_photos, uid, username, first_name';\n    $loginUrl = $facebook-&gt;getLoginUrl($args);\n}\n if (!$user): ?&gt;\n    &lt;a href=\"&lt;?php echo $loginUrl ?&gt;\"&gt;Login with Facebook&lt;/a&gt;\n&lt;?php endif ?&gt;\n</code></pre>\n\n<p>I can't figure out what's going wrong - and maybe I'm missing something critical? Any guidance would be appreciated.</p>\n"},{"tags":["php","facebook","oauth","facebook-php-sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":24,"score":-5,"question_id":13280133,"title":"Fatal error Session has expired","body":"<blockquote>\n  <p>Fatal error: Uncaught OAuthException: Error validating access token: Session has expired at unix time 1352329200.</p>\n  \n  <p>The current unix time is 1352330589. thrown in /home/######/public_html/php/fbsdk/src/base_facebook.php on line 1238</p>\n</blockquote>\n\n<p>I'm at my bleeding wits end! I have used practically every single fix suggested here and none has worked to date. It is too jarring for the user come back to the website and just see this error every 30 minutes to an hour after just having been there.</p>\n\n<p>As of now refreshing the page once ALWAYS fixed the problem but obviously that is not a solution. Can someone be clear please and really tell me what's going on here?</p>\n"},{"tags":["php","css","wordpress","themes","wordpress-theming"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13279991,"title":"Wordpress Theme Customizer find logic","body":"<p>I am looking for where this snippet is exectued. I want to update it to be on something other than the body tag.</p>\n\n<pre><code>&lt;style type=\"text/css\" id=\"custom-background-css\"&gt;\nbody.custom-background { background-color: #000000; background-image: url('http://example.com/wp-content/uploads/2012/11/sidebar-bg.jpg'); background-repeat: no-repeat; background-position: top left; background-attachment: fixed; }\n&lt;/style&gt;\n</code></pre>\n\n<p>It is using the new <strong>Theme Customizer</strong> page built into WordPress 3.4. The page I am referring to as Theme Customizer is when you go to WordPress admin dashboard, on the side is a menu for Appearances. Under that is an option called Customize (screen shot: <a href=\"http://d.pr/i/k6kL\" rel=\"nofollow\">http://d.pr/i/k6kL</a>). It shows you some settings and a live preview on the right. </p>\n\n<p>The specific part I am looking for is echoed out right before the closing <code>&lt;/head&gt;</code> tag. I looked in all my custom theme files, but I think it is WordPress core-driven. I want to basically switch it from body to a specific ID or class.</p>\n"},{"tags":["php","websocket","phpwebsocket"],"answer_count":1,"favorite_count":2,"up_vote_count":16,"down_vote_count":2,"view_count":553,"score":14,"question_id":13120847,"title":"Simple websocket server in PHP","body":"<p>I am developing a simple websocket server in PHP. I know there are quite a few existing implementations but I want to make my own so to learn the protocol better. I managed to do the handshaking fine and my clients connect to the server. I also managed to decode the data from the client but I have problems sending back messages. The client disconnects when it receives my response. Firefox says <code>The connection to ws://localhost:12345/ was interrupted while the page was loading.</code>.</p>\n\n<p>I used <a href=\"http://stackoverflow.com/questions/8125507/how-can-i-send-and-receive-websocket-messages-on-the-server-side\">this answer</a> as a guide.</p>\n\n<p>Here is my code for wrapping the data:</p>\n\n<pre><code>private function wrap($msg = \"\"){\n    $length = strlen($msg);\n    $this-&gt;log(\"wrapping (\" . $length . \" bytes): \" . $msg);\n\n    $bytesFormatted = chr(129);\n    if($length &lt;= 125){\n        $bytesFormatted .= chr($length);\n    } else if($length &gt;= 126 &amp;&amp; $length &lt;= 65535) {\n        $bytesFormatted .= chr(126);\n        $bytesFormatted .= chr(( $length  &gt;&gt; 8 ) &amp; 255);\n        $bytesFormatted .= chr(( $length       ) &amp; 255);\n    } else {\n        $bytesFormatted .= chr(127);\n        $bytesFormatted .= chr(( $length &gt;&gt; 56 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 48 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 40 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 32 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 24 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt; 16 ) &amp; 255);\n        $bytesFormatted .= chr(( $length &gt;&gt;  8 ) &amp; 255);\n        $bytesFormatted .= chr(( $length       ) &amp; 255);\n    }\n\n    $bytesFormatted .= $msg;\n    $this-&gt;log(\"wrapped (\" . strlen($bytesFormatted) . \" bytes): \" . $bytesFormatted);\n    return $bytesFormatted;\n}\n</code></pre>\n\n<p><em>UPDATE:</em> I tried it with Chrome and I got the following error, printed in the console: <code>A server must not mask any frames that it sends to the client.</code></p>\n\n<p>I put some console printouts on the server. It is a basic echo server. I try with <code>aaaa</code>. So the actual wrapped message must be 6 bytes. Right?</p>\n\n<p><img src=\"http://i.stack.imgur.com/NDtW1.png\" alt=\"enter image description here\"></p>\n\n<p>Chrome prints the above error. Note also that after wrapping the message I simply write it to the socket:</p>\n\n<pre><code>$sent = socket_write($client, $bytesFormatted, strlen($bytesFormatted));\n$this-&gt;say(\"! \" . $sent);\n</code></pre>\n\n<p>It prints 6 meaning 6 bytes are actually written to the wire.</p>\n\n<p>If I try with <code>aaa</code>, Chrome doesn't print the error but doesn't call my onmessage handler either. It hangs as if waiting for more data.</p>\n\n<p>Any help highly appreciated. Thanks.</p>\n"},{"tags":["php","google-api","oauth-2.0","access-token","google-analytics-api"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":4605,"score":5,"question_id":9241213,"title":"How to refresh token with Google API client?","body":"<p>I've been playing around with the Google Analytics API (V3) and have run into som errors. Firstly, everything is set up correct and worked with my testing account. But when I want to grab data from another profile ID (Same Google Accont/GA Account) I get an 403 Error. The strange thing is that data from some GA accounts will return data whilst other generate this error.</p>\n\n<p>I've revoked the token and authenticated one more time, and now it seems like I can grab data from all of my accounts. Problem solved? Not. As the access key will expire, I will run into the same issue again.</p>\n\n<p>If I have understood things right, one could use the resfreshToken to get a new authenticationTooken.</p>\n\n<p>The problem is, when I run: </p>\n\n<pre><code>$client-&gt;refreshToken(refresh_token_key) \n</code></pre>\n\n<p>the following error is returned:</p>\n\n<pre><code>Error refreshing the OAuth2 token, message: '{ \"error\" : \"invalid_grant\" }'\n</code></pre>\n\n<p>Iâve checked the code behind the refreshToken method and tracked the request back to the âapiOAuth2.phpâ file. All parameters are sent correctly. The grant_type is hard coded to ârefresh_tokenâ within the method, so itâs hard for me to understand whatâs wrong. The parameter array looks like this:</p>\n\n<pre><code>Array ( [client_id] =&gt; *******-uqgau8uo1l96bd09eurdub26c9ftr2io.apps.googleusercontent.com [client_secret] =&gt; ******** [refresh_token] =&gt; 1\\/lov250YQTMCC9LRQbE6yMv-FiX_Offo79UXimV8kvwY [grant_type] =&gt; refresh_token )\n</code></pre>\n\n<p>The procedure is as follows.</p>\n\n<pre><code>$client = new apiClient();\n$client-&gt;setClientId($config['oauth2_client_id']);\n$client-&gt;setClientSecret($config['oauth2_client_secret']);\n$client-&gt;setRedirectUri($config['oauth2_redirect_uri']);\n$client-&gt;setScopes('https://www.googleapis.com/auth/analytics.readonly');\n$client-&gt;setState('offline');\n\n$client-&gt;setAccessToken($config['token']); // The access JSON object.\n\n$client-&gt;refreshToken($config['refreshToken']); // Will return error here\n</code></pre>\n\n<p>Is this a bug, or have I completely misunderstood something?</p>\n"},{"tags":["php","mysql","database","query"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13279604,"title":"What would be a sql query of \" USA State\" come first?","body":"<p>I have MySQL table named employees with </p>\n\n<pre><code> 1. id \n 2. employee \n 3. state\n</code></pre>\n\n<p>I am not getting an idea how I can query the database where state with the name \"New York\" will come first and all other records will come normally. Here is what I have so far </p>\n\n<pre><code>$sql = \"select * from employees order by\";\n</code></pre>\n"},{"tags":["php","symfony2","twig"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13277444,"title":"Using a custom function in twig","body":"<p>In my template I want to output the server timezone.</p>\n\n<p>My template has something like</p>\n\n<pre><code>{{ getservertimezone }}\n</code></pre>\n\n<p>Then in the services.yml config for that bundle I have</p>\n\n<pre><code>my.twig.extension:\n    class: My\\WebsiteBundle\\Extensions\\Twig\\SomeTemplateHelper\n    tags:\n           - { name: twig.extension }\n</code></pre>\n\n<p>And my <code>SomeTemplateHelper</code> looks like</p>\n\n<pre><code>namespace My\\WebsiteBundle\\Extensions\\Twig;\n\nclass SomeTemplateHelper extends \\Twig_Extension\n{\n\n    public function getFilters() \n    {\n        return array(\n            'getservertimezone'  =&gt; new \\Twig_Filter_Method($this, 'getServerTimeZone'),\n        );\n    }\n\n\n    public function getServerTimeZone()\n    {\n        if (date_default_timezone_get()) {\n            return date_default_timezone_get();\n        } else if (ini_get('date.timezone')) {\n            return ini_get('date.timezone');\n        } else {\n            return false;\n        }\n    }\n\n    public function getName()\n    {\n        return 'some_helper';\n    }\n\n}\n</code></pre>\n\n<p>But I can't call this method unless it's used like a filter <code>{{ someval | getservertimezone  }}</code>, is there a way to just do a straigh <code>{{ getservertimezone() }}</code> call?</p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13280111,"title":"Send Data from Database Into View","body":"<p>I'm trying to find the \"users\" current subscription on the database and display it's name in a view. Primary is the ID, so I'm using the User ID from session to find the appropriate row in the \"subscriptions\". This works as it should (I believe anyways). My problem is sending the selected data to the view. The only text that shows up in the view is \"array\".</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>    // displays current subscription in view\n    $userid = $this -&gt; session -&gt; userdata('user_id');\n\n    $this -&gt; db -&gt; select('subscription');\n    $this -&gt; db -&gt; where ('id', $userid);\n    $query = $this -&gt; db -&gt; get('subscriptions');\n\n    $data['packagename'] = $query -&gt; result_array();\n</code></pre>\n\n<p>Here's what I'm echoing in my view:</p>\n\n<pre><code>    &lt;? echo $packagename; ?&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong> I looked into the FOREACH function in the CI manual. I plugged this in and feel a bit closer. I don't want anything overly complex, code wise like some of you have posted, as I'm just learning. So now when the page is rendered, the following text is displayed: <code>string(9) \"mrpopular\"</code> </p>\n\n<pre><code>    // displays current subscription in view\n    $userid = $this -&gt; session -&gt; userdata('user_id');\n\n    $this -&gt; db -&gt; select('subscription');\n    $this -&gt; db -&gt; where ('id', $userid);\n    $query = $this -&gt; db -&gt; get('subscriptions');\n\n    foreach ($query-&gt;result() as $row)\n    {\n        $data['packagename'] = $row-&gt;subscription;\n    }   \n</code></pre>\n"},{"tags":["php","datetime","function"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":946,"score":0,"question_id":1853575,"title":"Why do I get 31 Dec 1969 as my last modified filename using filemtime in php?","body":"<p>I am newbie to php and so please do not mind me asking this question but am really getting confused as to why <code>filemtime(filename.txt)</code>gives me as 31 Dec 1969 as my last modified time ?</p>\n"},{"tags":["php","wordpress","twitter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13279788,"title":"\"Twitter seems too busy...\"","body":"<p>I keep getting \"Twitter seems too busy, cannot connect to twitter right now! Please try again later!\" for over a month now on my WordPress widget at <a href=\"http://victoriaparkci.ca/\" rel=\"nofollow\">http://victoriaparkci.ca/</a> and it seems to be an API issue (thought it was working fine earlier). How may I fix this?\nIf it affects it at all, I am running caching plugins.</p>\n\n<p>The code being used is:\n    \n\n<pre><code>class dv_twitterWidgets extends WP_Widget {\n  function dv_twitterWidgets() {\n     $widget_ops = array('classname' =&gt; 'twitter_widget', 'description' =&gt; __('Twitter Updates.', 'ft') );\n      $control_ops = array( 'width' =&gt; 400, 'height' =&gt; 200);\n      $this-&gt;WP_Widget('twitter_widget', 'Devvine - Twitter', $widget_ops, $control_ops);\n }\n\n\n\n\n    function widget($args, $instance) {\n        extract($args, EXTR_SKIP);\n\n      echo $before_widget;\n       $title = empty($instance['title']) ? 'Twitter updates' : apply_filters('widget_title', $instance['title']);\n        $uname = empty($instance['uname']) ? '' : apply_filters('widget_uname', $instance['uname']);\n       $number = empty($instance['number']) ? 6 : apply_filters('widget_number', $instance['number']);\n\n\n        echo $before_title; \n       echo $title;\n       echo $after_title;\n\n        echo _wip_display_tweets( $uname, $number ); \n\n     echo $after_widget;\n    }   \n\n\n\n\n\n  function update($new_instance, $old_instance) {\n        $instance = $old_instance;\n     $instance['title'] = strip_tags($new_instance['title']);\n       $instance['uname'] = strip_tags($new_instance['uname']);\n       $instance['number'] = stripslashes($new_instance['number']);\n\n       return $instance;\n  }\n\n\n\n\n   function form($instance) {\n     $instance = wp_parse_args( (array) $instance, array( 'title' =&gt; '', 'uname' =&gt; '', 'number' =&gt; '' ) );\n        $title = strip_tags($instance['title']);\n     $uname = strip_tags($instance['uname']);\n     $number = strip_tags($instance['number']);\n   ?&gt;\n          &lt;p&gt;&lt;label for=\"&lt;?php echo $this-&gt;get_field_id('title'); ?&gt;\"&gt;&lt;?php print __('Title:', 'ft'); ?&gt;&lt;input class=\"widefat\" id=\"&lt;?php echo $this-&gt;get_field_id('title'); ?&gt;\" name=\"&lt;?php echo $this-&gt;get_field_name('title'); ?&gt;\" type=\"text\" value=\"&lt;?php echo esc_attr($title); ?&gt;\" /&gt;&lt;/label&gt;&lt;/p&gt;\n           &lt;p&gt;&lt;label for=\"&lt;?php echo $this-&gt;get_field_id('uname'); ?&gt;\"&gt;&lt;?php print __('Twitter username:', 'ft'); ?&gt;&lt;input class=\"widefat\" id=\"&lt;?php echo $this-&gt;get_field_id('uname'); ?&gt;\" name=\"&lt;?php echo $this-&gt;get_field_name('uname'); ?&gt;\" type=\"text\" value=\"&lt;?php echo esc_attr($uname); ?&gt;\" /&gt;&lt;/label&gt;&lt;/p&gt;\n            &lt;p&gt;&lt;label for=\"&lt;?php echo $this-&gt;get_field_id('number'); ?&gt;\"&gt;&lt;?php print __('How many updates want to show:', 'ft'); ?&gt;&lt;input class=\"widefat\" id=\"&lt;?php echo $this-&gt;get_field_id('number'); ?&gt;\" name=\"&lt;?php echo $this-&gt;get_field_name('number'); ?&gt;\" type=\"text\" value=\"&lt;?php echo esc_attr($number); ?&gt;\" /&gt;&lt;/label&gt;&lt;/p&gt;\n   &lt;?php        \n   }\n}\nregister_widget('dv_twitterWidgets');\n</code></pre>\n"},{"tags":["php","curl"],"answer_count":3,"favorite_count":7,"up_vote_count":10,"down_vote_count":0,"view_count":23452,"score":10,"question_id":561816,"title":"PHP cURL, extract an XML response","body":"<p>I am invoking PHP cURL method on a server and the response is XML type. cURL is saving the output (after removing the tags) in a scalar type variable. Is there a way to store it in an object/hash/array so that it's easy to parse?</p>\n"},{"tags":["php","javascript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13279772,"title":"serialize and post array to a process file","body":"<p>I'm trying to post an array to another file to be processed. The array is below and it populates rows properly. I have it initialized at the beginning of the script tag to make it global.<br>\n In javascript:</p>\n\n<pre><code>var locationsall = new Array();\nlocationsall[counter] = new Array();\nlocationsall[counter][0] = address;\nlocationsall[counter][1] = lat;\nlocationsall[counter][2] = lng;\n</code></pre>\n\n<p>In my form i try to serialzie it and post it</p>\n\n<pre><code> &lt;input type=\"hidden\" name=\"result\" value=\"&lt;?php echo serialize($locationsall); ?&gt;\"&gt;\n</code></pre>\n\n<p>When i try to unserialize it, it doesn't have anything..</p>\n\n<pre><code>    $locations = unserialize($_POST['result']);\n</code></pre>\n\n<p>What am i doing wrong here?</p>\n"},{"tags":["php","mysql","drupal-7"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":31,"score":3,"question_id":13260914,"title":"Optimum php.ini and my.cnf settings for a small Drupal 7 site on a virtual server","body":"<p>I looking for advice on how to set up the default configuration of php.ini and my.cnf for a small site (100 pages) with very little traffic (300 visitors per day). All pages have a bit of text, some images, no video, no audio, no flash/silverlight, very little javascript and jquery. For tracking I'm using GA and Piwik. The main site database is around 50MB.</p>\n\n<p>The site is hosted on a virtual server with 20GB RAM and 6 vCPUs so there's hopefully a lot of muscle to make it run very fast.</p>\n\n<p>I don't know much about tweaking php and mysql settings and would appreciate it if your answers can be as detailed as possible.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","security","environment"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13279689,"title":"Is it unsafe to switch environments based on domain?","body":"<p>I am curious if doing something like setting your \"environment\" to Production, Dev, Staging, etc. based on a domain name such as dev.domain.com, staging.domain.com is a bad idea.</p>\n\n<p>Can somebody just edit their hosts file to point dev.domain.com to domain.com so now the system <em>thinks</em> it's in Dev when it really is in Prod? This would mean any Dev specific code will be ran by a complete stranger.</p>\n\n<p>Is this possible or is there a better way to determine your environment such as setting it manually in a server variable?</p>\n\n<p>For reference, I am using PHP.</p>\n"},{"tags":["php"],"answer_count":5,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1058,"score":1,"question_id":3395267,"title":"how to find out if csv file fields are tab delimited or comma delimited","body":"<p>how to find out if csv file fields are tab delimited or comma delimited. I need php validation for this. Can anyone plz help. Thanks in advance.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13279794,"title":"php and session: how get an associative array from a session variable?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6322084/able-to-see-a-variable-in-print-rs-output-but-not-sure-how-to-access-it-in-c\">Able to see a variable in print_r()&#39;s output, but not sure how to access it in code</a>  </p>\n</blockquote>\n\n\n\n<p>I need to work on an existing website with a connected user:</p>\n\n<pre><code>&lt;?php session_start();\nprint_r($_SESSION); ?&gt;\n</code></pre>\n\n<p>This code outputs:</p>\n\n<pre><code>Array([%http_user%] =&gt; Array\n    (\n        [profile_id] =&gt; 72\n        [username] =&gt; john\n        [session_id] =&gt; 4ek79umrrpael7vvb4ls3diaq4\n    )\n\n[registration_invite_code] =&gt; \n</code></pre>\n\n<p>)</p>\n\n<p>That's what I need. It try to get \"john\" into my <code>$username</code> variable:</p>\n\n<p>any idea how ?</p>\n\n<p>I've tried with:</p>\n\n<pre><code>$_SESSION[0]\n\n$_SESSION[\"%http_user%\"]\n\n$_SESSION-&gt;username\n</code></pre>\n\n<p>No way. </p>\n\n<p>Any way how to retrieve this username ?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13279896,"title":"Why wont this ajax script call the backend php using ajaxRequest.open?","body":"<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Loses&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\nfunction ajaxFunction() {\n    var ajaxRequest;\n    try{\n        // Opera 8.0+, Firefox, Safari\n        ajaxRequest = new XMLHttpRequest();\n    }catch (e){\n        // Internet Explorer Browsers\n        try{\n            ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n        }catch (e){\n            try {\n                ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }catch (e){\n                // Something went wrong\n                alert(\"Your browser broke!\");\n                return false;\n            }\n        }\n    }\n\n    // Receive data from the server to update div\n    ajaxRequest.onreadystatechange = function(){\n        if(ajaxRequest.readyState == 4){\n            var ajaxDisplay = document.getElementById('ajaxDiv');\n            ajaxDisplay.value = ajaxRequest.responseText;\n        }\n    }\n\n    // Get the value from user.\n    if (!target) target = document.getElementById(\"name\");\n    var queryString = \"?name=\" + escape(target.value);\n\n    var url = \"db.php\" + queryString;\n\n    ajaxRequest.open(\"GET\", url, true);\n    ajaxRequest.send(null); \n}\n&lt;/script&gt;\n\n&lt;form name=\"myForm\"&gt;\n    Victim: &lt;input type=\"text\" id=\"name\" name=\"name\"/&gt; &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;input type=\"button\" onclick=\"getLoses()\" value=\"Show Loses\"/&gt;\n&lt;/form&gt;\n\n&lt;div id=\"ajaxDiv\"&gt;Results:&lt;/div&gt;\n&lt;br&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Why doesn't this do anything?</p>\n\n<p>I've tried it under apache and lightpd. I'm getting no complaints or errors, but it's just not doing anything.</p>\n\n<p>If I call the backend manually, db.php?name=Player1 it works. So it can't be anything in db.php. Something is wrong with the code above and I just don't know what's missing. Can anyone help me?</p>\n"},{"tags":["php","locale","gettext"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":515,"score":1,"question_id":1776205,"title":"PHP: Gettext problems","body":"<p>I can't seem to get gettext working, here.</p>\n\n<p>I'm using MAMP Pro and <code>phpinfo();</code> says that gettext is enabled.</p>\n\n<p>I followed this tutorial: <a href=\"http://zez.org/article/articleview/42/1/\" rel=\"nofollow\">http://zez.org/article/articleview/42/1/</a></p>\n\n<ol>\n<li>I have my strings declared in my code like this: <code>_('test string');</code></li>\n<li>Then I ran <code>xgettest -L PHP test.php</code>, which generated my <code>messages.po</code> file.</li>\n<li>I opened this file in <a href=\"http://www.poedit.net/\" rel=\"nofollow\">poedit</a> and translated my strings, then saved the file, which made a <code>messages.mo</code> file.</li>\n<li>I took both the <code>.po</code> and <code>.mo</code> files and moved them to <code>[webroot]/locale/es/LC_MESSAGES/</code> (in this case, my translation was Spanish)</li>\n<li><p>In my code, I set the following:</p>\n\n<p><code>$lang = $_SESSION['lang']; // available to all views that include this file</code></p>\n\n<p><code>putenv('LC_ALL='.$lang);</code></p>\n\n<p><code>bindtextdomain('messages','./locale');</code></p>\n\n<p><code>textdomain('messages');</code></p>\n\n<p>... where <code>$_SESSION['lang']</code> I can easily toggle between <code>en</code> and <code>es</code>.</p></li>\n<li><p>I reload my page, then click on my link that toggles to <code>es</code>, but my strings are still showing up as the English versions and not the Spanish versions. Toggling back to <code>en</code> shows no change; it's always the English versions. </p></li>\n</ol>\n\n<p>I get no error message anywhere so I'm a bit lost as to why I'm having this problem. Can anyone give me some guidance/help? Did I miss something?</p>\n"},{"tags":["php","api","soap","call"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13279995,"title":"SOAP API call with PHP","body":"<p>Working on this for a week now. Having trouble executing this code. I want to retrieve data via SOAP and work with it in PHP. My trouble is, that I am having trouble sending the 'RequesterCredentials'.</p>\n\n<p>I will show the xml code so you all can see the info I am trying to send, and then the PHP code I am using. </p>\n\n<p>XML SAMPLE CODE</p>\n\n<pre><code>POST /AuctionService.asmx HTTP/1.1\nHost: apiv2.gunbroker.com\nContent-Type: text/xml; charset=utf-8\nContent-Length: 200\nSOAPAction: \"GunBrokerAPI_V2/GetItem\"\n\n&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \nxmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n &lt;soap:Header&gt;\n   &lt;RequesterCredentials xmlns=\"GunBrokerAPI_V2\"&gt;\n     &lt;DevKey&gt;devkey&lt;/DevKey&gt;\n     &lt;AppKey&gt;appkey&lt;/AppKey&gt;\n   &lt;/RequesterCredentials&gt;\n &lt;/soap:Header&gt;\n &lt;soap:Body&gt;\n&lt;GetItem xmlns=\"GunBrokerAPI_V2\"&gt;\n  &lt;GetItemRequest&gt;\n    &lt;ItemID&gt;312007942&lt;/ItemID&gt;\n    &lt;ItemDetail&gt;Std&lt;/ItemDetail&gt;\n  &lt;/GetItemRequest&gt;\n&lt;/GetItem&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>PHP CODE THAT I AM USING TO MAKE THE CALL</p>\n\n<pre><code>$client = new SoapClient(\"http://apiv2.gunbroker.com/AuctionService.asmx?WSDL\");\n\n$appkey = 'XXXXXX-XXXXXX-XXXXXX';\n$devkey = 'XXXXXX-XXXXXX-XXXXXX';\n\n$header = new SoapHeader('GunBrokerAPI_V2','RequesterCredentials',array('DevKey' =&gt; $devkey,'AppKey' =&gt; $appkey),0);\n$client-&gt;__setSoapHeaders(array($header));\n\n$result = $client-&gt;GetItem('312343077');\n\necho '&lt;pre&gt;',print_r($result,true),'&lt;/pre&gt;';\n</code></pre>\n\n<p>THE RESULT I GET</p>\n\n<pre><code>stdClass Object\n(\n[GetItemResult] =&gt; stdClass Object\n    (\n        [Timestamp] =&gt; 2012-11-07T18:17:31.9032903-05:00\n        [Ack] =&gt; Failure\n        [Errors] =&gt; stdClass Object\n            (\n                [ShortMessage] =&gt; GunBrokerAPI_V2 Error Message : [GetItem]\nYou must fill in the 'RequesterCredentialsValue' SOAP header for this Web Service method.\n                [ErrorCode] =&gt; 1\n            )\n// the rest if just an array of empty fields that I could retrieve if i wasnt havng problems.\n</code></pre>\n\n<p>Im not sure if the problem is the way Im sending the SoapHeaders or if I am misunderstanding the syntax. I would greatly appreciate any and all help.</p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13278346,"title":"Is there a way to have information written in a text box be inserted into a table in a database?","body":"<pre><code>&lt;?php\n $con = mysql_connect(\"server\",\"username\",\"password\");\n if (!$con)\n   {\n   die('Could not connect: ' . mysql_error());\n   }   \nmysql_query(\"INSERT INTO Post_Entries (Date, Time, Content)\nVALUES ('November', '9:50a.m', BlahBlahBlah)\");\n\nmysql_close($con);\n ?&gt; \n</code></pre>\n\n<p>A more clear question I guess would be should I insert the above code into a function, then call that function when a button is clicked? Or is the above code even correct? I am not very familiar with PHP or MySQL. </p>\n"},{"tags":["php","content-type"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13279776,"title":"Content type of the response currently being executed in PHP?","body":"<p>Let's say there is a library function that needs to know the exact MIME type of the HTTP response currently being generated by a PHP script, regardless of whether it was explicitly set via <code>header('Content-type: ...')</code> or not. Also, if possible, regardless of whether output has actually started or not (I doubt this one, but...).</p>\n\n<p>It could be, for example, a function that outputs diagnostics/debug information and wants to format its output depending on whether current content type is HTML, XML, or plain text.</p>\n\n<p>A script is aware if it's running from the command line (<code>php_sapi_name() == 'cli'</code>) and thus content type can be assumed <code>text/plain</code>, however, any way to accurately detect it when run under the server?</p>\n"},{"tags":["php","codeigniter","curl","slow-load"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":180,"score":4,"question_id":12907234,"title":"Why CodeIgniter's Curl library slower than using Curl in plain PHP?","body":"<p>Recently I moved my scraping code with Curl to CodeIgniter. I'm using Curl CI library from <a href=\"http://philsturgeon.co.uk/code/codeigniter-curl\" rel=\"nofollow\">http://philsturgeon.co.uk/code/codeigniter-curl</a>. I put the scraping process in a controller and then I found the execution time of my scraping is slower than the one I built in plain PHP.</p>\n\n<p>It took 12 seconds for CodeIgniter to output the result, whereas it only takes 6 seconds in plain PHP. Both are including the parsing process with the HTML DOM parser.</p>\n\n<p>Here's my Curl code in CodeIgniter:</p>\n\n<pre><code>function curl($url, $postdata=false)\n{\n  $agent = \"Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)\";\n\n  $this-&gt;curl-&gt;create($url);\n  $this-&gt;curl-&gt;ssl(false);\n  $options = array(\n    'URL'             =&gt; $url,\n    'HEADER'          =&gt; 0,\n    'AUTOREFERER'     =&gt; true,\n    'FOLLOWLOCATION'  =&gt; true,\n    'TIMEOUT'         =&gt; 60,\n    'RETURNTRANSFER'  =&gt; 1,\n    'USERAGENT'       =&gt; $agent,\n    'COOKIEJAR'       =&gt; dirname(__FILE__) . \"/cookie.txt\",\n    'COOKIEFILE'      =&gt; dirname(__FILE__) . \"/cookie.txt\",\n  );\n\n  if($postdata)\n  {\n    $this-&gt;curl-&gt;post($postdata, $options);\n  }\n  else\n  {\n    $this-&gt;curl-&gt;options($options);\n  }\n\n  return $this-&gt;curl-&gt;execute();\n}\n</code></pre>\n\n<p>non codeigniter (plain php) code :</p>\n\n<p>function curl($url ,$binary=false,$post=false,$cookie =false ){</p>\n\n<pre><code>    $ch = curl_init();\n\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); // Accepts all CAs\n    curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 2); \n\n    curl_setopt ($ch, CURLOPT_URL, $url );\n    curl_setopt ($ch, CURLOPT_HEADER, 0);\n    curl_setopt($ch, CURLOPT_REFERER, $url);\n    curl_setopt($ch, CURLOPT_ENCODING, 'gzip,deflate');\n    curl_setopt($ch, CURLOPT_AUTOREFERER, true);\n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);\n    curl_setopt($ch, CURLOPT_TIMEOUT, 60);\n    curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);\n\n\n\n    if($cookie){\n\n\n        $agent = \"Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)\";\n        curl_setopt($ch, CURLOPT_USERAGENT, $agent);\n        curl_setopt($ch, CURLOPT_COOKIEJAR, dirname(__FILE__) . \"/cookie.txt\");\n        curl_setopt($ch, CURLOPT_COOKIEFILE, dirname(__FILE__) . \"/cookie.txt\");\n\n    }\n\n\n    if($binary)\n        curl_setopt($ch, CURLOPT_BINARYTRANSFER, 1);\n\n\n    if($post){\n\n\n        foreach($post as $key=&gt;$value) \n            { \n        $post_array_string1 .= $key.'='.$value.'&amp;'; \n        }\n        $post_array_string1 = rtrim($post_array_string1,'&amp;');\n\n        //set the url, number of POST vars, POST data\n\n        curl_setopt($ch, CURLOPT_POST, true);\n        curl_setopt($ch, CURLOPT_POSTFIELDS, $post_array_string1);\n    }\n\n        return  curl_exec ($ch);\n</code></pre>\n\n<p>}</p>\n\n<p>Does anyone know why this CodeIgniter Curl is slower??  or maybe it's because the simple_html_dom parser??</p>\n"},{"tags":["php","html","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13278819,"title":"can't echo file input field on submitted page..?","body":"<p>i have an extremely large form that is being submitted to an 'update' page which runs some SQL queries and updates the fields and then redirects back to the original page. everything has been working properly. I'm using <code>$_POST</code> to send my variables to the update page.</p>\n\n<p>i recently needed to add a <code>&lt;input type='file' /&gt;</code> field to the page. Whenever the user selects a file, the form breaks, and nothing is getting submitted to the next page.</p>\n\n<p>I tried echoing my <code>$_POST</code> variables on the update page. They come through perfectly as long as the <code>file</code> field isn't set. If I choose a file, then none of the variables come though.</p>\n\n<p>i'm really stumped as to why this is happening. does anyone have any ideas why. here is an excerpt.</p>\n\n<p>An excerpt of the huge form:</p>\n\n<pre><code>&lt;form enctype=\"multipart/form-data\" method=\"post\"  action=\"editConfirm.php\"&gt;\n      .\n      .\n     &lt;input type=\"file\" name=\"new_file\" id=\"new_file\"  /&gt;                                           \n     &lt;input type='field' width='25px' name='fakeInput' id='fakeInput' value='' /&gt;\n     &lt;input type=\"hidden\" name=\"compressed_file_id\" id=\"compressed_file_id\"   value='&lt;? echo $compressedID; ?&gt;' /&gt;\n</code></pre>\n\n<p>And the confirmation page:</p>\n\n<pre><code>echo \"New File = \".$_POST['new_file'];\necho \"&lt;br /&gt;Master Title = \".$_POST['masterTitle'];\necho \"&lt;br /&gt;Compressed File ID = \".$_POST['compressed_file_id'];\n</code></pre>\n\n<p>So those all echo properly as long as New File isn't set. If I select a file and submit the form, they all break and nothing comes through.</p>\n"},{"tags":["php","c","regex","preg-match","phalcon"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13276903,"title":"Regex with brackets","body":"<p>I am looking for some help with regex.</p>\n\n<p>I have this piece of code:</p>\n\n<pre><code>$router-&gt;add( \n    '/activate/{token:[a-zA-Z0-9]+}', \n    array (\n        'module' =&gt; 'frontend',\n        'controller' =&gt; 'user',\n        'action'     =&gt; 'activate'\n    )\n);\n</code></pre>\n\n<p>which works just fine. However the one below does not:</p>\n\n<pre><code>$router-&gt;add( \n    '/activate/{token:[a-zA-Z0-9]{32}}', \n    array (\n        'module' =&gt; 'frontend',\n        'controller' =&gt; 'user',\n        'action'     =&gt; 'activate'\n    )\n);\n</code></pre>\n\n<p>The matching mechanism that I have in C is (which works with preg_match_all also)</p>\n\n<pre><code>'#{([a-zA-Z][a-zA-Z0-9\\_\\-]*)(:([^}]+))*}#'\n</code></pre>\n\n<p>I would appreciate some pointers as to how to make the second example work.</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>preg_match_all(\n    '#{([a-zA-Z][a-zA-Z0-9\\_\\-]*)(:([^}]+))*}#',\n    '/manual/{language:[a-z]{2}}/{file:[a-z]+}.html',\n    $matches,\n    PREG_SET_ORDER\n);\n</code></pre>\n\n<p>I want it to return something like this:</p>\n\n<pre><code>Array\n(\n    [0] =&gt; Array\n        (\n            [0] =&gt; {language:[a-z]{2}}\n            [1] =&gt; language\n            [2] =&gt; :[a-z]{2}\n            [3] =&gt; [a-z]{2}\n        )\n    [1] =&gt; Array\n        (\n            [0] =&gt; {file:[a-z]+}\n            [1] =&gt; file\n            [2] =&gt; :[a-z]+\n            [3] =&gt; [a-z]+\n        )\n)\n</code></pre>\n"},{"tags":["php","locale","arabic","strftime"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":10279918,"title":"php setlocale arabic strftime","body":"<p>I've run <strong>locale -a</strong> on my server and can see that it's got Arabic locale settings installed:</p>\n\n<ul>\n<li>ar_AE</li>\n<li>ar_AE.iso88596</li>\n<li>ar_AE.utf8</li>\n</ul>\n\n<p>However, if I set the locale via:</p>\n\n<pre><code>$locale = array('ar_AE', 'ar_AE.iso88596', 'ar_AE.utf8', 'ar');\nsetlocale(LC_TIME, $locale);\n</code></pre>\n\n<p>and output it:</p>\n\n<pre><code>strftime('%A %d %B', $current_date)\n</code></pre>\n\n<p>The displayed date is in English, not Arabic.</p>\n\n<p>Arabic is the only language this isn't working for: the site I'm working on is in 15 languages and all the others display a translated date.</p>\n\n<p>What's going wrong?</p>\n"},{"tags":["php","iis-7.5","locale","regional-settings"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":159,"score":0,"question_id":8036678,"title":"How to set regional settings in PHP on IIS7.5 per site","body":"<p>I have this issue\nI have several web sites on a Windows server 2008 running PHP\nThe thing is some of them use regional settings for US and some for ES but setLocale() doesnt seem to be affecting the web site in this case</p>\n\n<p>So the only regional settings y get is the US as it seems is the default\nI tryed changing web.config on each site, but nothing happened</p>\n\n<p>How can I set regional settings per site on each PHP web site on IIS7.5?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13279858,"title":"Accessing POST data with file_get_contents","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8893574/php-php-input-vs-post\">PHP php://input vs $_POST</a>  </p>\n</blockquote>\n\n\n\n<p>I'm using the Facebook Real-time updates API to subscribe to changes. The docs state: </p>\n\n<p>\"Following a successful subscription, Facebook will proceed to call your endpoint every time that there are changes (to the chosen fields or connections). For each update, it will make an HTTP POST request.</p>\n\n<p>The request will have content type of application/json and the body will comprise a JSON-encoded string containing one or more changes.\"\n<a href=\"https://developers.facebook.com/docs/reference/api/realtime/\" rel=\"nofollow\">https://developers.facebook.com/docs/reference/api/realtime/</a></p>\n\n<p>I tried over and over to access the POSTed data use $_POST, which was always empty. After googling for a while, i found this <a href=\"https://developers.facebook.com/blog/post/2012/01/31/how-to--subscribing-to-data-changes-using-the-real-time-updates-api/\" rel=\"nofollow\">blog post</a> which contained this magical line: \"$post_body = file_get_contents('php://input');\".</p>\n\n<p>I've never seen 'php://input' before.... what is this? what does it do? What is Facebook doing on their side to create what i assume is a file with the json string in it? Why would they do this rather than send it through $_POST?</p>\n\n<p>Thanks! </p>\n"},{"tags":["php","locale"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":11323733,"title":"php setlocale misbehaviour","body":"<p>Hello and thank you for any insight/info/tip.</p>\n\n<p>We have one page that sends 2 different emails at once. \nEach email is in different language. \nAlmost all email content is from database except a small table that contains day names and numbers.</p>\n\n<p>For each email we use a function to send it. Something like:</p>\n\n<pre><code>function sendemail($locale, $var1, $var2, $var3)\n{\n    setlocale(LC_ALL, $locale); \n    // build email body text\n    //day names are presented like: strftime(\"%a, %d %b %Y %H:%M\", $checkDate)\n    //send email\n}\n</code></pre>\n\n<p>The main page uses these function to send the 2 emails</p>\n\n<pre><code>sendemail($locale1, $var1, $var2, $var3);\nsendemail($locale2, $var1, $var2, $var3);\n</code></pre>\n\n<p>The problem occurs with the second email only. The day names there are based on first locale and not the second one. So, if the first language is English and the second is French, the second email will have English day names instead of French.</p>\n\n<p>Is there a way to fix this? Or somehow destroy/unset/delete/reset the first locale so the second one applies normally?</p>\n\n<p>We are certain we pass different languages/locales in the function.</p>\n\n<p>We currently use the following locales: <code>en_EN.UTF8, fr_FR.UTF8, el_GR.UTF8, de_DE.UTF8, it_IT.UTF8, ru_RU.UTF8, zh_CN.UTF8, ko_KR.UTF8, es_ES.UTF8, sr_RS.UTF8</code></p>\n"},{"tags":["php","mysql","php5"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13279806,"title":"Compacting string data for storage and retrieval","body":"<p>I have some text data I would like to store in a mysql database. I currently have the data stored in a variable as a string.</p>\n\n<p>I'm concerned that the table will become quite large due to the amount of text data I have for each row. </p>\n\n<p>Therefore, what is the most easiest way (preferably php built in functions) of compacting this string data in a format ideal for storage and retrieval?</p>\n\n<p>All help is greatly appreciated.</p>\n"},{"tags":["php","upload","ftp"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":22,"score":-3,"question_id":13279716,"title":"Upload image from URL to FTP server using PHP","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13279269/upload-remote-picture-to-ftp-using-php\">Upload remote picture to FTP using PHP</a>  </p>\n</blockquote>\n\n\n\n<p>I want to upload a picture from another site to my FTP server using PHP.</p>\n\n<p>Example:</p>\n\n<p>File to upload(\"http://page.mi.fu-berlin.de/krudolph/stuff/stackoverflow.png\")</p>\n\n<p>FTP-path(\"pictures/\")</p>\n\n<p>I don't even get any errors when I'm running the scripts and I have chmod'd the directory to 777.</p>\n\n<p>Do you if I'm doing anything wrong? \nThe following examples are writting as close as possible as they appear on my site.</p>\n\n<p>This are the 5 scripts that I've already tried:</p>\n\n<h1>1</h1>\n\n<pre><code>$image = file_get_contents(\"http://img.youtube.com/vi/Rz8KW4Tveps/1.jpg\");\nfile_put_contents(\"imgfolder/imgID.jpg\", $image);\n</code></pre>\n\n<h1>2</h1>\n\n<pre><code>copy('http://img.youtube.com/vi/Rz8KW4Tveps/1.jpg', 'imgfolder/imgID.jpg');\n</code></pre>\n\n<h1>3</h1>\n\n<pre><code>    &lt;?php\nset_time_limit (24 * 60 * 60);\n\nif (!isset($_POST['submit'])) die();\n\n$file = fopen ($url, \"rb\");\nif ($file) {\n  $newf = fopen ($newfname, \"wb\");\n\n  if ($newf)\n  while(!feof($file)) {\n    fwrite($newf, fread($file, 1024 * 2000 ), 1024 * 2000 );\n  }\n}\n\nif ($file) {\n  fclose($file);\n}\n\nif ($newf) {\n  fclose($newf);\n}\n\n?&gt;\n</code></pre>\n\n<h1>4</h1>\n\n<p><a href=\"http://www.teckdevil.com/php-server-to-server-transfer-script-to-remotely-transfer-files/\" rel=\"nofollow\">http://www.teckdevil.com/php-server-to-server-transfer-script-to-remotely-transfer-files/</a></p>\n\n<h1>5</h1>\n\n<p>(kinda the same as first linked) <a href=\"http://stackoverflow.com/questions/12315223/download-files-directly-to-my-server\">Download files directly to my server</a></p>\n"},{"tags":["php","locale"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":9921777,"title":"multi-language site with multiple locales misbehaviour","body":"<p>In a project of my company there is a website available in 6 languages. The site sends some emails to customers/members. Every phrase/word is stored in database and all work well in the website. Our main problem appears in emails.</p>\n\n<p>In each email there are daily reports. We use set_locale() to define each language and \"show\" the day names (months also) to the proper selected language. This works ok.</p>\n\n<p>In some cases there are more than one emails to be send (in 2 different languages) - here we have problem.\nEvery info in email appears correct - texts/translations from database.\nDay names (and month also) appear only in the first language in both emails.\nSo, if the first email was in german and the second in french, the french email will have everything in french excpet the day names that will be in german (even though that we execute set_locale again before sending the second email)</p>\n\n<p>Why is that? Is this some set_locale bad behavior? How can we prevent/fix this? Thank you for any insight/tips</p>\n\n<p><strong>EDIT:</strong>\nthe code we use is: setlocale(LC_ALL, $setLocale);\nwhere setLocale would look like \"fr_FR.UTF8\"</p>\n"},{"tags":["php","text","download","text-files"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13279801,"title":"How can I download a string to the browser using php? Not a text file","body":"<p>My problem is that I have a string that gets generated from database queries, timestamps, and other random things and is always different so I don't have a \"file\" to download. How can I use this generated string to be downloaded as a <code>.txt</code> file in the browser for the user? I know that you can download a file to the browser using headers so maybe something like this:</p>\n\n<pre><code>$result = 'Generated string that is different every time. 20121107160322';\n\nheader(\"Content-Type: text/plain\");\nheader(\"Content-Disposition: attachment; content=$result\");\nheader(\"Content-Length: \" . strlen($result));\n</code></pre>\n\n<p>Obviously this doesn't work, but I don't even know where to start.</p>\n"},{"tags":["php","pdo","db2","locale"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":70,"score":4,"question_id":12921059,"title":"PHP - locale information gone after PDO connection (DB2)","body":"<p>Is there any reason why PHP loses all locale information after connecting to DB2 with PDO?</p>\n\n<p>I always have to set the locale information again after a connnection.</p>\n\n<pre><code>&lt;?PHP\n//set locale information\nsetlocale( LC_MONETARY,'en_US' );\n\n//print location information\nprint_r(localeconv());\n\n//    Array\n//    (\n//      [decimal_point] =&gt; .\n//      [thousands_sep] =&gt; \n//      [int_curr_symbol] =&gt; USD \n//      [currency_symbol] =&gt; $\n//      [mon_decimal_point] =&gt; .\n//      [mon_thousands_sep] =&gt; ,\n//      ...\n//    )\n\n//************************************************\n//create conenction to server\n$connection= new PDO(\"odbc:server\", 'username', 'password');\n//************************************************\n\n//see locale information after creating a connection\nprint_r(localeconv());\n\n//    Array\n//    (\n//      [decimal_point] =&gt; .\n//      [thousands_sep] =&gt; \n//      [int_curr_symbol] =&gt; \n//      [currency_symbol] =&gt; \n//      [mon_decimal_point] =&gt; \n//      [mon_thousands_sep] =&gt; \n//      ...\n//\n//    )\n?&gt;\n</code></pre>\n"},{"tags":["php","mysql","mysqli"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13278909,"title":"How can I display only incorrect answers and keep same table layout","body":"<p>Below I have 4 database tables, Session, Question, Answer and Option_Type.</p>\n\n<p><strong>Session Table:</strong></p>\n\n<pre><code>SessionId  SessionName\n1          AAA\n</code></pre>\n\n<p><strong>Question Table:</strong></p>\n\n<pre><code>SessionId   QuestionId  QuestionContent       OptionId\n1           1           What is 1+1 and 4+4   2\n1           2           Does 2+2 = 4          26\n1           3           What is 3+3 and 5+5   3\n</code></pre>\n\n<p><strong>Answer Table:</strong></p>\n\n<pre><code>AnswerId  SessionId QuestionId  Answer\n1         1         1           B\n2         1         1           C\n3         1         2           Yes\n4         1         3           A\n5         1         3           C\n</code></pre>\n\n<p><strong>Option_Type</strong></p>\n\n<pre><code>OptionId OptionType\n1        A-C\n2        A-D\n3        A-E\n4        A-F\n\n.... goes up to 24 where it goes up to A-Z\n\n25       True or False\n26       Yes or No\n</code></pre>\n\n<p>Now in a jsfiddle here I have created a demo html table which you can see <a href=\"http://jsfiddle.net/WHUkh/6/\" rel=\"nofollow\">here</a></p>\n\n<p>Now if you have a good look at the html table, you will realise that what I am trying to do is display the incorrect answers under the \"Incorrect Answer\" column.</p>\n\n<p>So for example for Question 1:</p>\n\n<ul>\n<li>Option type is A-D</li>\n<li>Correct Answer is B, C</li>\n<li>So Incorrect answers that should be dislayed in table is A and D</li>\n</ul>\n\n<p>So my question is that how in my php script can I select the option_type for a question, display all of the possible answers and remove the correct answers, displaying only the incorrect answers? The layout of the table must be the same as the layout in the jsfiddle.</p>\n\n<p>Below is the table output in the php script. At the moment it is displaying similar table as in jsfiddle except difference is that it is outputting correct answers, not incorrect answers.</p>\n\n<pre><code>   $query = \"SELECT q.SessionId, s.SessionName, q.QuestionId, q.QuestionContent, an.Answer, q.QuestionMarks \n   FROM Session s \n   INNER JOIN Question q ON s.SessionId = q.SessionId\n   JOIN Answer an ON q.QuestionId = an.QuestionId AND an.SessionId = q.SessionId\n   WHERE s.SessionName = ?\n   ORDER BY q.QuestionId, an.Answer\n   \";\n\n   // prepare query\n   $stmt=$mysqli-&gt;prepare($query);\n   // You only need to call bind_param once\n   $stmt-&gt;bind_param(\"s\", $assessment);\n   // execute query\n   $stmt-&gt;execute(); \n\n\n       // This will hold the search results\n    $searchQuestionId = array();\n    $searchQuestionContent = array();\n    $searchAnswer = array();\n    $searchMarks = array();\n\n    // Fetch the results into an array\n\n   // get result and assign variables (prefix with db)\n   $stmt-&gt;bind_result($dbSessionId, $dbSessionName, $dbQuestionId, $dbQuestionContent, $dbAnswer, $dbQuestionMarks);\n      while ($stmt-&gt;fetch()) {\n        $searchQuestionId[] = $dbQuestionId;\n        $searchQuestionContent[] = $dbQuestionContent;\n        $searchAnswer[] = $dbAnswer;\n        $searchMarks[] = $dbQuestionMarks;\n      } \n\n?&gt;      \n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form id=\"QandA\" action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\"&gt;\n\n&lt;?php \n\necho \"&lt;table border='1' id='markstbl'&gt;\n      &lt;tr&gt;\n      &lt;th class='questionth'&gt;Question No.&lt;/th&gt;\n      &lt;th class='questionth'&gt;Question&lt;/th&gt;\n      &lt;th class='answerth'&gt;Incorrect Answer&lt;/th&gt;\n      &lt;th class='answermarksth'&gt;Penalty per Incorrect Answer&lt;/th&gt;\n      &lt;/tr&gt;\\n\";\n$previous_question_id = null;\n$rowspans = array_count_values($searchQuestionId);\nforeach ($searchQuestionContent as $key=&gt;$question) {\n\n    // removed logic, not necessary to set empty strings if you're skipping them\n\n    echo '&lt;tr class=\"questiontd\"&gt;'.PHP_EOL;\n\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        echo '&lt;td class=\"questionnumtd\" name=\"numQuestion\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($searchQuestionId[$key]).'&lt;/td&gt;' . PHP_EOL;\n        echo '&lt;td class=\"questioncontenttd\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($question).'&lt;/td&gt;' . PHP_EOL;\n    }\n\n    echo '&lt;td class=\"answertd\" name=\"answers[]\"&gt;';\n    echo $searchAnswer[$key];\n    echo '&lt;/td&gt;' ;\n    echo '&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" /&gt;&lt;/td&gt;' . PHP_EOL;\n\n    // moved this to the end\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        $previous_question_id = $searchQuestionId[$key];\n    }\n}\n        echo '&lt;/tr&gt;';\n        echo \"&lt;/table&gt;\" . PHP_EOL;\n\n        ?&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>At the moment the code above is showing the correct answers under the \"Incorrect Answers\" column, not the incorrect answers.</p>\n"},{"tags":["php","sockets","printing","tcp","udp"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":61,"score":6,"question_id":13269790,"title":"Is it possible to access a local printer using TCP/IP sockets in PHP?","body":"<p>I know that PHP has it's own <a href=\"http://php.net/manual/en/book.printer.php\" rel=\"nofollow\">PECL to do this</a>, but I'm currently using PHP 5.4 and the <code>php_printer.dll</code> isn't compiled for this version.</p>\n"},{"tags":["php","mysql","mysqli"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13279518,"title":"Can I run a single SELECT rather than two nested to link two tables, omitting dupes, and return value if they match? MySQL / PHP","body":"<p>total n00b here, first post, so please be constructive! I've bought a book to teach myself PHP / MySQL - and not one which is universally praised, unfortunately - so my progress is a bit erratic. </p>\n\n<p>I have two tables which I want to link. I want to display all of the information held in table 1 (let's call it Records), but ONLY once. I then want to check whether each item in Records has a match to a specific field in table 2 (UserTable) and if it does, display a ticked checkbox, or an empty checkbox if there's no match.</p>\n\n<p>The issues I've had to date are only displaying the items from Records where there's a match, or displaying multiple instances of each item in Records where there are multiple matches. I've solved these with the code below - but I keep thinking there must be a better way to do this, perhaps with a single link?</p>\n\n<p>Anyway, here are some excerpts from the code:</p>\n\n<pre><code>$sql = \"SELECT * FROM Records\";\n$res = mysqli_query($mysqli,$sql);\n\nwhile ($iteminfo = mysqli_fetch_array($res, MYSQLI_ASSOC)) {\n$recordid2 = $iteminfo['record_id'];\n</code></pre>\n\n<p>I've omitted a section which pulls out the relevant data from Records and starts to build a table, then:</p>\n\n<pre><code>$sql2 = \"SELECT COUNT(*) AS matches FROM UserTable \nwhere usertable.item = '$recordid2' and User_ID = '$current_user_id'\";\n\n$res2 = mysqli_query($mysqli, $sql2);\n$matches = mysqli_fetch_array($res2, MYSQLI_ASSOC);\n$matches2 = $matches['matches'];\n\nif ($matches2) {\n        $output = \"&lt;input type='checkbox' name='test' checked&gt;\"; } else {\n        $output = \"&lt;input type='checkbox' name='test'&gt;\";\n</code></pre>\n\n<p>As I say, this works, but it feels a bit clumsy - I'm running a separate nested query for every item in Records, which over time could become really slow. Is there a way to run a single query for the whole which brings through all of the row info (once) and a 0 or 1 depending on whether there is a match in UserTable? I've tried using DISTINCT but couldn't get it to work.</p>\n"},{"tags":["php","symfony2","formbuilder"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13258352,"title":"Create array input field with form builder symfony2","body":"<p>I'm having a trouble with using Form builder in Symfony2.\nTo be exact, I need input field that is html array, but I can't create it with createFormBuilder->add.\nHere is what I tried:</p>\n\n<pre><code>$attributesForm = $this-&gt;createFormBuilder()\n        -&gt;add('attribute[0]', 'text') ...\n</code></pre>\n\n<p>And so on, but I get the following exception:</p>\n\n<blockquote>\n  <p>The name \"attribute[0]\" contains illegal characters. Names should start with a letter, >digit or underscore and only contain letters, digits, numbers, underscores (\"_\"), hyphens >(\"-\") and colons (\":\").</p>\n</blockquote>\n\n<p>Is there any nice solution or I have to create fields manually?</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: to clarify this further...\nI want something like this to be generated:</p>\n\n<pre><code>&lt;div id=\"msoft_adminbundle_offertype\"&gt;\n&lt;div&gt;Name &lt;input type=\"text\" name=\"name\"&gt;&lt;/div&gt;\n&lt;div&gt;...&lt;/div&gt;\n&lt;div&gt;Attribute 0 &lt;input type=\"text\" name=\"attribute[0]\"&gt;&lt;/div&gt;\n&lt;div&gt;Attribute 1 &lt;input type=\"text\" name=\"attribute[1]\"&gt;&lt;/div&gt;\n&lt;div&gt;Attribute 3 &lt;input type=\"text\" name=\"attribute[3]\"&gt;&lt;/div&gt;\n&lt;ul&gt;\n    &lt;/ul&gt;\n&lt;p&gt;\n    &lt;button type=\"submit\"&gt;Edit&lt;/button&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>Help?</p>\n"},{"tags":["php","wordpress","wordpress-plugin","wordpress-plugin-dev"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":99,"score":0,"question_id":13137127,"title":"Remove WordPress' license.txt using plugin","body":"<p>I want to write a plugin to return <code>HTTP 404</code> when user request   <code>license.txt</code>, what is the correct <code>action</code> to hook (both efficient and effective way to block)?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Because I don't have control to the web server, I must do this as a plugin</p>\n"},{"tags":["php","javascript","html"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13270901,"title":"select onchange issue","body":"<p>I am working on a brand filter. When I change the brand name from dropdown, I am not getting anything; it seems that no event was triggered.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>&lt;select onchange=\"location.href=[server.url type='fullpage' query='sort=price&amp;brand=$brand']\"&gt;\n\n&lt;?php \n  $brands = dfr_get_brands_list($category);\nforeach ($brands as $brand) : ?&gt;\n\n       &lt;option&gt;&lt;?php echo $brand; ?&gt;&lt;/option&gt;\n\n&lt;?php endforeach; ?&gt;\n\n&lt;/select&gt;\n</code></pre>\n\n<p><code>[server.url type='fullpage' query='']</code> returns the full URL of the current page, for example: <code>http://www.mysite.com/store/category/shoes/</code>. </p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":5890,"score":1,"question_id":8057030,"title":"Resource interpreted as image but transferred with MIME type text/html - Magento","body":"<p>I'm getting below error when uploading a new product image for my Magento shop.</p>\n\n<pre><code>Resource interpreted as image but transferred with MIME type text/html\n</code></pre>\n\n<p>Is there a reason why this is happening?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13279615,"title":"PHP Illegal offset type and strings issue","body":"<p>Each time I run my code I keep getting an <strong>Illegal offset type</strong> error. Any way I can fix it? </p>\n\n<p>Secondly the code keeps producing an output like this. I'm not sure how to describe it so I posted up a picture:</p>\n\n<p><img src=\"http://i.stack.imgur.com/DGk2D.png\" alt=\"enter image description here\"></p>\n\n<p>I would like it to just display one message per line i.e. Failed, Declined, Failed not join them up like this Failed, FailedDeclined, FailedDeclinedFailed. How do I go about doing this?</p>\n\n<pre><code>    $dateStart = new DateTime();\n    $dateStart-&gt;setDate(2012, 10, 01);\n    $dateEnd = new DateTime();\n    $dateEnd-&gt;setDate(2012, 12, 01);\n\n    $dates = array();\n    while ( $dateStart &lt; $dateEnd ) {\n    $rand[] = array_rand($status);\n    $text = $status[$rand];\n    foreach ( $rand as $key ) $text .= $status[$key];\n\n    printf(\n    \"&lt;li&gt;&lt;div id='activity_date'&gt;%s&lt;/div&gt;&lt;div id='activity_box'&gt;&lt;div id='activity_text'&gt;\" . $text . '&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;',\n    $dateStart-&gt;format(\"d/m/Y\")\n);\n\n$dateStart-&gt;modify(sprintf(\"+%d day\",mt_rand(1, 10)));\n}\n</code></pre>\n\n<p>Line 96 is <code>$text = $status[$rand];</code> btw</p>\n"},{"tags":["php","php5","gettext"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":389,"score":5,"question_id":5644412,"title":"PHP gettext() analog in Intl library?","body":"<p>So - I'm looking for a way to to do i18n and l10n.\nI've used gettext before and it was good - I would simply create .mo files in different languages and everything that needed to be translated would be in this notation:</p>\n\n<pre><code>echo __('string to be translated');\n</code></pre>\n\n<p>Now. I know that there is Intl library built into PHP right now. And I've been told that I should use it instead of gettext()....</p>\n\n<p>so...OK...\n 2 hours later after reading trrough everything there is about Intl on php.net I see that it has some nice features like handling locales, string comparisons, number formatters etc.\nWhat I can't figure out is - how In the world would I handle regular string to string translation using Intl library? </p>\n\n<p>Thanks!</p>\n"},{"tags":["php","windows","symfony2","wamp","fosuserbundle"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":16,"score":2,"question_id":13279606,"title":"Symfony 2.1 configuration of FOSUserBundle 'Class 'FOS\\UserBundle\\FOSUserBundle' not found in app/AppKernel.php","body":"<p>I am using symfony on Windows and I tried to configure FOSUserBundle as described in the <a href=\"https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/doc/index.md\" rel=\"nofollow\">official documentation</a></p>\n\n<p>When I run <code>php app/console doctrine:schema:update --force</code> I get this message:</p>\n\n<pre><code>Class 'FOS\\UserBundle\\FOSUserBundle' not found in app/AppKernel.php line 24;\n</code></pre>\n\n<p>I configured the AppKernel.php as I should:</p>\n\n<pre><code>public function registerBundles()\n{\n    $bundles = array(\n        // The rest\n        new FOS\\UserBundle\\FOSUserBundle(),\n    );\n\n    return $bundles;\n}\n</code></pre>\n\n<p>My<code>FOSUserBundle.php</code> file is located at <code>vendor/friendsofsymfony/user-bundle/FOS/UserBundle</code></p>\n"},{"tags":["php","upload","ftp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":27,"score":-5,"question_id":13279269,"title":"Upload remote picture to FTP using PHP","body":"<p>I want to upload a picture from another site to my FTP server using PHP.</p>\n\n<p>Example:</p>\n\n<p>File to upload(\"http://page.mi.fu-berlin.de/krudolph/stuff/stackoverflow.png\")</p>\n\n<p>FTP-path(\"pictures/\")</p>\n\n<p>This is what I've already tried:</p>\n\n<p>#</p>\n\n<pre><code>$image = file_get_contents(\"http://img.youtube.com/vi/Rz8KW4Tveps/1.jpg\");\nfile_put_contents(\"imgfolder/imgID.jpg\", $image);\n</code></pre>\n\n<p>#</p>\n\n<pre><code>copy('http://img.youtube.com/vi/Rz8KW4Tveps/1.jpg', 'imgfolder/imgID.jpg');\n</code></pre>\n\n<p>#</p>\n\n<p><a href=\"http://stackoverflow.com/questions/12489499/uploading-remote-url-to-server\">uploading remote url to server</a></p>\n\n<p>#</p>\n\n<p><a href=\"http://www.teckdevil.com/php-server-to-server-transfer-script-to-remotely-transfer-files/\" rel=\"nofollow\">http://www.teckdevil.com/php-server-to-server-transfer-script-to-remotely-transfer-files/</a></p>\n\n<p>#</p>\n\n<p>(kinda the same as first linked) <a href=\"http://stackoverflow.com/questions/12315223/download-files-directly-to-my-server\">Download files directly to my server</a></p>\n\n<p>#</p>\n\n<p>I don't get any errors when I'm running the scripts and I have chmod the directory to 777.</p>\n"},{"tags":["php","javascript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13279602,"title":"Javascript triple greater than in PHP","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3325640/php-shift-right\">PHP shift right</a>  </p>\n</blockquote>\n\n\n\n<p>What is the ability to get the same result of javascript's <a href=\"http://msdn.microsoft.com/en-us/library/342xfs5s%28v=vs.94%29.aspx\" rel=\"nofollow\">triple great than ( >>> )</a> in php ?</p>\n"},{"tags":["php","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13279460,"title":"Facebook social graph API call for authenticated user","body":"<p>I'm trying to grab data about a user in Facebook that can only be fetched if the app is authenticated (for example /likes).</p>\n\n<p>However, I can't seem to grab this data despite the fact that the user has authenticated the Facebook app (and the applicable specific permissions). I can only get data from a public context. </p>\n\n<p>I'm assuming I must be missing some sort of authentication step, but I can't figure out how. When I call <code>$fb-&gt;getAccessToken()</code>, it returns a string value, so it seems like it does get an access token for making requests. I see some solutions to force the user to click on a login URL to authenticate, but hasn't that already been done if they have authenticated the FB dialog previous (via Javascript)?\nBesides that, I need the script to run without any input from the user.</p>\n\n<p>Current code:</p>\n\n<pre><code>    $fbConfig = array(\n        'appId'     =&gt;  'xx',\n        'secret'    =&gt;  'xx',\n    );\n    //get facebook configuration parameters defined in admin backend\n    $facebook = new facebook($fbConfig);\n\n    $access_token = $fb-&gt;getAccessToken();\n    $fbUid = '123456789'; // Known Facebook User Id\n\n    $likes = $fb-&gt;api('/' . $fbUid . '/likes&amp;access_token=' . $access_token);\n    var_dump($likes);\n    // Result is always: array(0) { }\n</code></pre>\n"},{"tags":["php","glob"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1038,"score":3,"question_id":1877524,"title":"Does glob() have negation?","body":"<p>I know I can do this...</p>\n\n<pre><code>glob('/dir/somewhere/*.zip');\n</code></pre>\n\n<p>...to get all files ending in <code>.zip</code>, but is there a way to return all files that are <em>not</em> ZIPs?</p>\n\n<p>Or should I just iterate through and filter off ones with that extension?</p>\n"},{"tags":["php","mysql","sql","mysqli","mysql-num-rows"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13279248,"title":"mysqli_num_rows = 0 when it should be 1","body":"<p>I've been trying to resolve this problem on my own and for the life of me can't fix it..</p>\n\n<pre><code>//If they are, retreive them from the Person table    \nvar_dump($_POST['username']);\nvar_dump($_POST['password']);\n$select = $this-&gt; doQuery(\"SELECT * FROM Person WHERE username = '{$_POST['username']}' AND password = '\".md5($_POST['password']).\"'\");\nvar_dump($select);  \n\ntry {    \n    if (mysqli_num_rows($select) &gt; 0){\n        var_dump(mysqli_num_rows($select));\n        //fetching username and password from database\n        $fetch_array = mysqli_fetch_assoc($select);\n        var_dump($fetch_array);     \n        //Building a session for the user\n        $_SESSION['username'] = $fetch_array['username'];\n\n        //var_dump($_SESSION['username']);\n\n        //Redirecting the user to the index page        \n        header('Location:index.php');\n        return true;\n    }\n</code></pre>\n\n<p>The two var_dumps on the username and password on the 4th and 5th lines returned this: </p>\n\n<pre><code>string(8) \"johnny03\" \nstring(9) \"password3\" \nobject(mysqli_result)#3 (5) { [\"current_field\"]=&gt; int(0) [\"field_count\"]=&gt; int(8) [\"lengths\"]=&gt; NULL [\"num_rows\"]=&gt; int(0) [\"type\"]=&gt; int(0) } \n</code></pre>\n\n<p>The values that I entered for both the password and username are both valid (they are in the database under the correct columns, trust me). I have a feeling that something is wrong with my select query because the var dump on mysqli_num_rows($select) doesn't return anything.That being said, I've tried just about every change to the query that I could think of to make it work and still nothing :[  Can anyone help? </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13279172,"title":"Why does it not find any sessions in the session drop down menu?","body":"<p>This is what is suppose to be happening in the code and application:</p>\n\n<ol>\n<li><p>When user opens the application, it will display 2 drop down menus, one for courses and the other for modules. The courses drops down menu will display a list of all the courses while in the mean time the modules drop down menu only shows the \"Please Select\" option. </p></li>\n<li><p>When the user selects a course, it will suddenly display the relevant modules in the modules drop down menu depending on the course chosen. The modules are displayed by the editsessionadmin.php file using the jquery function to navigate to the module.php page and displaying the relevant modules options.</p></li>\n<li><p>Now when the user submits the course and modules details, it outputs the Course Id and Course Name and display the Module Id and the Module Name. </p></li>\n<li><p>But the problem is that it is not displaying the session drop down menu. It keeps stating that it can not find any sessions. It should display a list of sessions in its drop down menu which belongs to the module selected.</p></li>\n</ol>\n\n<p>So my question is that why can't it find any sessions no matter which modules I have chosen?</p>\n\n<p>Below is the editsessionadmin.php page (I only included relevant code, not whole code to cut down on the code):</p>\n\n<pre><code>&lt;?php\n\nmoduleHTML = \"\";  \n$moduleHTML .= '&lt;select name=\"modules\" id=\"modulesDrop\"&gt;'.PHP_EOL; \n$moduleHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;  \n$moduleHTML .= '&lt;/select&gt;'; \n\n\n?&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction getModules() { \nvar course = jQuery(\"#coursesDrop\").val(); \njQuery('#modulesDrop').empty(); \njQuery('#modulesDrop').html('&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'); \njQuery.ajax({ \ntype: \"post\", \nurl:  \"module.php\", \ndata: { course:course }, \nsuccess: function(response){ \njQuery('#modulesDrop').append(response); \n} \n}); \n\n\n}\n\n\n&lt;/script&gt; \n\n&lt;form action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\" onsubmit=\"return validation();\"&gt;&lt;table&gt;\n&lt;tr&gt;\n&lt;th&gt;Module: &lt;?php echo $moduleHTML; ?&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;p&gt;&lt;input id=\"moduleSubmit\" type=\"submit\" value=\"Submit Course and Module\" name=\"moduleSubmit\" /&gt;&lt;/p&gt;\n&lt;div id=\"moduleAlert\"&gt;&lt;/div&gt;\n&lt;/form&gt;\n\n&lt;?php\n\nif (isset($_POST['moduleSubmit'])) {    \n\n$outputmodule = \"\"; \n\n$moduleInfo = explode(\"_\", $_POST['modules']);\n$moduleId = $moduleInfo[0];\n$moduleName = $moduleInfo[1];\n$outputmodule = sprintf(\"&lt;p&gt;&lt;strong&gt;Module:&lt;/strong&gt; %s - %s&lt;/p&gt;\", $moduleId, $moduleName);\n\necho $outputcourse;\necho $outputmodule;\n\n$sessionquery = \"\nSELECT SessionId, SessionName, SessionDate, SessionTime, ModuleId\nFROM Session\nWHERE\n(ModuleId = ?)\nORDER BY SessionDate, SessionTime \n\";\n\n$sessionqrystmt=$mysqli-&gt;prepare($sessionquery);\n// You only need to call bind_param once\n$sessionqrystmt-&gt;bind_param(\"s\",$_POST['modules']);\n// get result and assign variables (prefix with db)\n\n$sessionqrystmt-&gt;execute(); \n\n$sessionqrystmt-&gt;bind_result($dbSessionId,$dbSessionName,$dbSessionDate,$dbSessionTime, $dbModuleId);\n\n$sessionqrystmt-&gt;store_result();\n\n$sessionnum = $sessionqrystmt-&gt;num_rows();   \n\nif($sessionnum ==0){\necho \"&lt;p&gt;Sorry, You have No Assessments under this Module&lt;/p&gt;\";\n} else { \n\n$sessionHTML = '&lt;select name=\"session\" id=\"sessionsDrop\"&gt;'.PHP_EOL;\n$sessionHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;           \n\nwhile ( $sessionqrystmt-&gt;fetch() ) {\n$sessionHTML .= sprintf(\"&lt;option value='%s'&gt;%s - %s - %s&lt;/option&gt;\", $dbSessionId, $dbSessionName, date(\"d-m-Y\",strtotime($dbSessionDate)), $dbSessionTime) . PHP_EOL;  \n}\n\n\n$sessionHTML .= '&lt;/select&gt;';\n</code></pre>\n\n<p>Below is the module.php code:</p>\n\n<pre><code>&lt;?\n\n    $moduleHTML  = \"\";  \n\n     while($sqlstmt-&gt;fetch()) { \n         $moduleHTML .= sprintf('&lt;option value=\"%1$s_%2$s\"&gt;%1$s - %2$s&lt;/option&gt;'.PHP_EOL, $dbModuleId, $dbModuleName);\n    } \n\n\n    echo $moduleHTML; \n\n     $sqlstmt-&gt;execute(); \n\n?&gt;\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>Below is the old module.php code which worked when it comes to finding sessions which belonged to the selected module from the drop down menu, only reason I hanged it was because I wanted to echo the Module Name in editsessionadmin.php, and the only way I can do this was by changing the code to the one above. But maybe you can see why the old module.php code works and why the new code doesn't work when it comes to displaying sessions:</p>\n\n<pre><code> $moduleHTML  = \"\";  \n\n     while($sqlstmt-&gt;fetch()) { \n        $moduleHTML .= \"&lt;option value='$dbModuleId'&gt;\" . $dbModuleId . \" - \" . $dbModuleName . \"&lt;/option&gt;\".PHP_EOL;   \n    } \n\n\n    echo $moduleHTML; \n</code></pre>\n"},{"tags":["php","mysql","database","avatar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13260364,"title":"Assign random avatar to userprofile php","body":"<p>This topic maybe sound familiar but im not quite pleased with any of the Stackoverflow questions that are asked. See IÂ´m creating a website with a small amount of members, say somewhere around 50. And I have created my registration form and my login form. But now I wanÂ´t to assign a avatar to each new registered member. When i new member successfully register, a random avatar saved on the server will be assigned to them. The user will carry this avatar with them at every visit. So to clear my question:</p>\n\n<p>How can I assign a random picture to each new user and save the picture to their <code>user_id</code>?</p>\n\n<p>I'm currently using a MySQL and coding in PHP. I have a \"Select-random-picture\" function, but not sure how to store a picture with a user. I'm happy for any kind of advice.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>After some considerations, I have been able to state a clearer goal.\nI'm having images stored in a file system that i want to assign randomly to new members, AND when the image has been assign, it should be \"taken\". So if a new user register he will get a random image without the possibility to getting a already taken image.</p>\n\n<p>I have only succeded in creating a generator that uploads random images, but not assuring that the same picture won't come again:</p>\n\n<pre><code>                    $avatarDir = 'members/images/avatars/';\n                    $pics= glob($avatarDir . '*.{jpg,jpeg,png,gif}', GLOB_BRACE);\n                    $randomPics = $pics[array_rand($pics)]; \n                    $query_new_user_picture = $this-&gt;connection-&gt;query(\"INSERT INTO my_images (image) VALUES('$randomPics')\");\n                    $results = mysql_query($query_new_user_picture);\n</code></pre>\n"},{"tags":["php","zip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13279418,"title":"How to detect a zip bomb using PHP?","body":"<p>Iâm making a PHP script that retrieve user-given zip files, unzip it, and do some stuff with the files in it, using a <code>ZipArchive</code> object. How can I avoid zip bombs like <a href=\"http://www.unforgettable.dk\" rel=\"nofollow\">42.zip</a>?</p>\n"},{"tags":["php","apache","virtualhost","virtual-hosts"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":384,"score":1,"question_id":10146605,"title":"apache php Virtualhost","body":"<p>I am trying to implement virtual host in my system.</p>\n\n<p>I have used the below code for that.</p>\n\n<pre><code>NameVirtualHost *:80\n&lt;VirtualHost *:80&gt;\n    ServerAdmin webmaster@dummy-host.example.com\n    DocumentRoot \"/Users/shanker/Documents/content_booking/\"  \n    ServerName content.boking\n    Alias /booking \"/Users/shanker/Documents/content_booking/public/\"\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>also i have updated the hosts file as</p>\n\n<p>127.0.0.1 content.booking</p>\n\n<p>But I am getting the following errors:</p>\n\n<pre><code>---------------------------------------------------------\nAccess forbidden!\n\nYou don't have permission to access the requested directory. There is either no index document or the directory is read-protected.\n\nIf you think this is a server error, please contact the webmaster.\nError 403\n---------------------------------------------------------\n</code></pre>\n\n<p>Can anybody please fix this issue.</p>\n"},{"tags":["php","controller","cakephp-2.0","element"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5,"score":1,"question_id":13279464,"title":"cakephp 2: Pass variable from controller to element","body":"<p>I want to pass information from my controller into my element. What cakephp 2 function do I use prior to rendering my element so that my login_ajax element is aware of the value of $error.</p>\n\n<p>This is an abbreviated version of my controller function</p>\n\n<pre><code>public function login($_msg=null) {\n\n    $this-&gt;get_post('login');\n    $error = false;\n\n    if($this-&gt;request-&gt;is('post')) {\n        if($this-&gt;Auth-&gt;login()) {\n            // REDIRECT TO DASHBOARD\n            $this-&gt;redirect(array('controller' =&gt; 'users', 'action' =&gt; 'dashboard'));\n        } else {\n            $error = true;\n        }\n    }\n\n    // !! pass $error status to element here !!\n    $this-&gt;set('element', 'login_ajax');\n    $this-&gt;render('ajax_modal', 'ajax');\n}\n</code></pre>\n\n<p>And the variable doesn't need to be named $error if that would cause a conflict, it's just an example.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","session-variables"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13279092,"title":"requesting php image files in a loop","body":"<p>I have a php file that produces a graph, populated through the answers of 4 sql statements, in another php file i have a simple loop that requests the image by posting a variable through session to a variable nested within the sql of the image file.</p>\n\n<p>i have checked that the 'sent' variable is iterating through my loop... but the problem is that if i want to itterate by 2 the 2 images i get are of the last result instead of graph1, graph2, i get graph2, graph2...</p>\n\n<p>is their something i missing? Please any help - very new to PHP thanks :)\nheres the loop;</p>\n\n<pre><code>&lt;?php\nsession_start();\n\nfor ($i = 1; $i &lt; 3; $i++)\n{\n    $_SESSION['question'] = $i;\n    ?&gt;\n    &lt;div id=\"apDiv1\"&gt;&lt;img src=\"round.php\"&gt;&lt;/div&gt;\n    &lt;?php\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","android","amazon-s3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13279384,"title":"Android and PHP load website","body":"<p>i want to open <a href=\"https://www.amazon.com/ap/signin?_encoding=UTF8&amp;openid.assoc_handle=amzn_clouddrive_us&amp;openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;openid.mode=checkid_setup&amp;openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&amp;openid.pape.max_auth_age=0&amp;openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fclouddrive%2F%3F_encoding%3DUTF8%26action%3Dsign-out%26associationHandle%3Damzn_clouddrive_us%26pageId%3Dclouddrive_authportal_us%26path%3D%252Fclouddrive%252F%26ref_%3Dpd_irl_gw_r%26signIn%3D1%26useAuthPortal%3Dtrue%26useRedirectOnSuccess%3D1&amp;pageId=clouddrive_authportal_us\" rel=\"nofollow\">amazon login</a> in webview android. but i wanted this login automatically done with the help of code. As i am the android developer don't have much idea about PHP.</p>\n\n<p>please tell me the way i can automatically submit this form in php.\nhow to $_POST in php ?</p>\n"},{"tags":["php","javascript","css"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13279052,"title":"not cache image linked in stylesheet","body":"<p>when I am debugging to ensure that some files are not cached and therefore reloaded anew each time, I frequently link files with something like</p>\n\n<pre><code>&lt;script src=\"script/js.js?&lt;?=time()?&gt;\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Is there some way I can do something in css to ensure background images are reloaded every time the page loads without making the style something other than a .css file? (php with css header for example)</p>\n\n<pre><code>#bg_div{\nbackground: url(../images/darrow.png.....)\n}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["php","session","logging","tracking","logout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13279264,"title":"Detecting and storing logout times","body":"<p>My application currently stores some basic _SESSION events, such as login and each page/URI requested.  I've been asked to enhance event logging to include tracking when users log out. </p>\n\n<p>The trouble with logouts is that users don't always remember to click a dedicated Logout button.  Sometimes they just leave the browser open, or close the open browser windows, or simply shut down.  I can't always be guaranteed an exact logout event. </p>\n\n<p>I can get a rough idea of user logout times by querying my event table for periods of no activity, however this seems roughshod.  </p>\n\n<p>Is there a best practice for detecting passive logouts in PHP?</p>\n"},{"tags":["php","validation","model","yii","rules"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13278505,"title":"Yii: validation rules that always apply except one scenario","body":"<p>I know that you can have a validation rule that applies only for one scenario:</p>\n\n<pre><code>array('username', 'exist', 'on' =&gt; 'update'),\n</code></pre>\n\n<p>Now i would like to know if it's possible to do the opposite: a rule that applies everytime except for a given scenrio?</p>\n\n<p>The only solution that is see right now is list all the others scenario, but it's not pretty if we need to add some news scenarios later.</p>\n\n<pre><code>array('username', 'exist', 'on' =&gt; array('create', 'search', ...),//all the scenarios except update\n</code></pre>\n"},{"tags":["php","facebook-connect","logout","facebook"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3171,"score":1,"question_id":4240634,"title":"Facebook connect - logout + destroy session","body":"<p>I need to get an anchor tag to delete a session in php + log the user out of Facebook. Before I used Facebook connect, I was using this php code to destroy the session:</p>\n\n<pre><code>    if(isset($_GET['logoff'])){\n    $_SESSION = array();\n\n session_destroy();\n\n header(\"Location: /\");\n exit;\n}\n</code></pre>\n\n<p>And this for the anchor tag:</p>\n\n<pre><code>&lt;a href='?logoff'&gt;Log Out&lt;/a&gt;\n</code></pre>\n\n<p>I now need the same anchor tag to go to the $logoutUrl + destroy the session.</p>\n"},{"tags":["php","exception","doctrine","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13275478,"title":"QueryException shows error with the query in it","body":"<p>I'm using doctrine and its the best thing i have ever seen, but I have a little problem with it. I'm making a search for my webapplication and i need an query for that, because with the find function you cant search.</p>\n\n<p>Well I have no idea what I'm doing wrong. Because the QueryException shows an error even when its the simplest query. Here is some code of mine:</p>\n\n<pre><code>$this-&gt;_em-&gt;createQuery('SELECT * FROM parcel u WHERE u.parcel_id = \"1\"')\n                     -&gt;getResult();\n</code></pre>\n\n<p>I just want to get an parcel (just a test). And this is what i get:</p>\n\n<pre><code>Fatal error: Uncaught exception 'Doctrine\\ORM\\Query\\QueryException' with message 'SELECT * FROM parcel u WHERE u.parcel_id = \"1\"' \n</code></pre>\n\n<p>That's not an easy error. I dont know what i'm doing wrong.\nMaybe my bootstrap is something missing?</p>\n\n<p>I have doctrine with Codeigniter, maybe thats the deal!</p>\n"},{"tags":["php","android","image","file","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13279070,"title":"Saving a image to server after http post - android to php","body":"<p>Struggled with this for a few hours now so time to ask a question.</p>\n\n<p>Im sending a multipart http post from android to php server using apachehttpclient jar package.</p>\n\n<p>Once the info is posted to php im trying to save the image to a folder so I can work with it:</p>\n\n<pre><code>&lt;?php\n\nrequire(\"fpdf.php\");\n\n//Receive the data from android\n$name = $_POST['email'];\n$data = $_POST['data'];\n\n//Receive the file\n$file = $_FILES['image'];\n\n//$newpath = \"/\";\n//file_put_contents($newpath, $file);\n\nif(move_uploaded_file($file, $newpath)) {\n\necho json_encode(\n        array(\n            'result'=&gt;$data,\n            'msg'=&gt;'Report added successfully.'\n            )\n        );\n}else {\n//something else \n};\n\n?&gt;\n</code></pre>\n\n<p>I have tried <code>move_upload_file</code> <em>as above</em> and also <code>file_put_contents($newpath, $file);</code></p>\n\n<p>Any help greatly appreciated.</p>\n"},{"tags":["php","preg-replace"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":34,"score":-2,"question_id":13279061,"title":"What's the correct regular expression that I need?","body":"<p>I want to search and replace in a string using php's <code>preg_replace</code> in relative large text.</p>\n\n<p>Search: <code>[3,Name]</code>\nReplace: <code>&lt;a href=\"/Name/3/\"&gt;Name&lt;/a&gt;</code></p>\n\n<p>Could somebody help me building the right query?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13278627,"title":"PHP regular expression pattern allows unwanted literal asterisks","body":"<p>I have a regular expression that allows only specific characters from the name fields in an HTML form, namely letters, white space, single quotes, hyphens and periods. Here is the pattern:</p>\n\n<pre><code>return mb_ereg_match(\"^[\\w\\s'-\\.]+$\", $name);\n</code></pre>\n\n<p>Problem is this pattern, for some reason, returns true when there are literal asterisks in $name. This shouldn't be possible unless I'm missing something. I've done multiple searches on literal asterisks and all I found was the <code>\"\\*\"</code> pattern for intentionally matching them. </p>\n\n<p>The same pattern in preg_match() also returns a match when passed a string like \"*John\".</p>\n\n<p>What the heck am I missing?</p>\n"},{"tags":["php","mysql","json","google-charts","google-visualization"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":7437,"score":5,"question_id":7685745,"title":"Google Chart Tools with PHP & MySQl","body":"<p>I'm trying to create a chart using the Google Visualization API, with PHP &amp; MySQL in the background.</p>\n\n<p>What I'm doing is:</p>\n\n<ul>\n<li>getting the data from db using PHP / SQL <br /><br /><code>$sth = mysql_query(\"SELECT * FROM Chart\");</code><br /><br /></li>\n<li><p>creating JSON with PHP</p>\n\n<pre><code>$rows = array();\n\nwhile($r = mysql_fetch_assoc($sth)) {\n  $rows[] = $r;\n}\n\n$jdata = json_encode($rows);\n</code></pre></li>\n<li><p>and than feeding Google Visualization API with JSON </p>\n\n<pre><code>var data = new google.visualization.DataTable(&lt;?php echo $jdata ?&gt;); \n</code></pre></li>\n</ul>\n\n<p>Just to make sure the JSON is actually in the correct format I did:</p>\n\n<p><code>$jdata = json_encode($rows);\nprint $jdata;</code> </p>\n\n<p>which returned: </p>\n\n<p><code>[{\"id\":\"1\",\"quarters\":\"1\",\"salary\":\"1250\"},{\"id\":\"2\",\"quarters\":\"2\",\"salary\":\"2500\"},{\"id\":\"3\",\"quarters\":\"3\",\"salary\":\"4526\"},{\"id\":\"4\",\"quarters\":\"4\",\"salary\":\"4569\"}]</code></p>\n\n<p>So,</p>\n\n<ul>\n<li>db connection is OK.</li>\n<li>creating JSON from PHP array is OK.</li>\n<li>JSON format is OK.</li>\n</ul>\n\n<p>Firebug is returning an error saying: <code>Table has no columns.\n[Break On This Error] b,Sl),[b]}function Zq(a,b){var c=a[xc]...\"].\")):d(l(\"Table has no columns.\"))}</code></p>\n\n<p><strong>Thequastion is how can I create columns from JSON data?</strong></p>\n\n<p><br /><br /><br />\n<hr />\n<strong>UPDATE:</strong></p>\n\n<p>Code used to create the graph below: </p>\n\n<pre><code>    // SQL Quary                \n$sth = mysql_query(\"SELECT * FROM Chart\");\n//$rows = array();\n\nwhile($r = mysql_fetch_assoc($sth)) {\n   if(!isset($google_JSON)){    \n     $google_JSON = \"{cols: [\";    \n     $column = array_keys($r);\n     foreach($column as $key=&gt;$value){\n         $google_JSON_cols[]=\"{id: '\".$key.\"', label: '\".$value.\"'}\";\n     }    \n     $google_JSON .= implode(\",\",$google_JSON_cols).\"],rows: [\";       \n   }\n   $google_JSON_rows[] = \"{c:[{v: '\".$r['id'].\"'}, {v: '\".$r['quarters'].\"'}, {v: '\".$r['salary'].\"'}]}\";\n}    \n\n// you may need to change the above into a function that loops through rows, with $r['id'] etc, referring to the fields you want to inject..\n\n$data = $google_JSON.implode(\",\",$google_JSON_rows).\"]}\";\n</code></pre>\n\n<p><strong>Output HTML CODE:</strong></p>\n\n<pre><code>        &lt;!-- load Google AJAX API --&gt;\n    &lt;script type=\"text/javascript\" src=\"http://www.google.com/jsapi\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;  \n        //load the Google Visualization API and the chart  \n        google.load('visualization', '1', {'packages':['columnchart']});  \n\n        //set callback  \n        google.setOnLoadCallback (createChart);  \n\n        //callback function  \n        function createChart() {  \n\n            //create data table object  \n            var data = new google.visualization.DataTable({cols: [{id: '0', label: 'id'},{id: '1', label: 'quarters'},{id: '2', label: 'salary'}],rows: [{c:[{v: '1'}, {v: '1'}, {v: '1250'}]},{c:[{v: '2'}, {v: '2'}, {v: '2500'}]},{c:[{v: '3'}, {v: '3'}, {v: '4526'}]},{c:[{v: '4'}, {v: '4'}, {v: '4569'}]}]});  \n\n            //instantiate our chart objects  \n            var chart = new google.visualization.ColumnChart (document.getElementById('chart'));  \n\n            //define options for visualization  \n            var options = {width: 400, height: 240, is3D: true, title: 'Company Earnings'};  \n\n            //draw our chart  \n            chart.draw(data, options);  \n\n        }  \n    &lt;/script&gt;\n\n    &lt;div id=\"chart\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/Q7GyW.png\" alt=\"When using the code above the script is creating the graph, but something is wrong there\"></p>\n"},{"tags":["php","dns","amazon-web-services"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13279263,"title":"Clear DNS cache on Amazon Linux AMI","body":"<p>After our DNS servers at our NJ facilities went down due to Sandy a working script on an AWS server starting failing.</p>\n\n<p>In a php script i use file_get_contents('http:...') and it was failing with a timeout.</p>\n\n<p>I replaced http.... with the ip address of the server at our facilities and it started working.</p>\n\n<p>I am guessing it's a dns cache problem.  If so how do I clear it.</p>\n\n<p>--following can't find nscd<br>\n/etc/rc.d/init.d/nscd restart </p>\n\n<p>Another AWS server running the same script works.</p>\n\n<p>Am I on the right track, or could it be something else?</p>\n\n<p>Jim</p>\n"},{"tags":["php","character-encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13277277,"title":"Recognize character set (php): ?ÃÂ¬Â´","body":"<p>I am confronted with a database that contains codes like: ?ÃÂ¬Â´ (which should be: Ã«). I can't find out which character set has been used. I would like everything be UTF8, so I need to convert these codes. I found php functions that converts character sets, but everything I have tried (mb_detect_encoding, iconv, utf8_decode, etc.) does not convert ?ÃÂ¬Â´ to Ã«. The first problem is that I can't find out which character set is used. The second problem is how to convert that character set to UTF8.</p>\n"},{"tags":["php","database","excel","sqlite","data-manipulation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":13277142,"title":"Using PHP to manipulate data, transforming an SQLite database to an excel spreadsheet","body":"<p>I have tables such as tbl_building, tbl_rooms, tbl_lighting. </p>\n\n<p>Each have their tuples so that there can be many buildings, many rooms within buildings and many lighting items within rooms. This is structured by giving each of the buildings/rooms/lighting their own ID.</p>\n\n<p>One of the tasks that I'm trying to achieve is to display a list of lights, for each room within each building in an excel spreadsheet. </p>\n\n<p>Here is my code. It is obviously wrong but I can't get my head around outputting the data. </p>\n\n<pre><code>function getLights($buildingID, $d, $objPHPExcel, $status){\n\n        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Please Enter Hours Of Usage: ');\n        include(\"setText.php\");$status[2]++;\n\n        $groupStart = $status[1].$status[2];\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Lights Used:');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Count');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'kWh/yr');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Energy Saving kWh/yr');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Saving(Â£)');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Cost');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Change To...');    \n        $groupEnd = $status[1].$status[2];\n\n        include(\"setHeadersText.php\");groupFill($objPHPExcel, $groupStart, $groupEnd, \"calc\");\n        $status[2]++;$status[1] = chr(65);\n\n        $query = \"SELECT r_id FROM tbl_roomDesc WHERE b_id = '$buildingID'\";\n        $result = $d-&gt;query($query);\n        $rooms = array();\n\n        array_push($rooms, 2);//echo \"&lt;br/&gt;\".$row['r_id'];\n\n\n\n            //echo \"&lt;br/&gt;Building:\";\n        /*while($row = $result-&gt;fetchArray(SQLITE3_ASSOC)){ \n            array_push($rooms, $row['r_id']);//echo \"&lt;br/&gt;\".$row['r_id'];\n        }*/\n\n        //echo \"&lt;br/&gt;\";\n        //var_dump($rooms);\n\n        $lightArray = array(\n            \"CFL\",\n            \"CFL Equivalent Halogen 100w spot\",\n            \"CFL Equivalent Halogen 50w spot\",\n            \"Double d\",\n            \"Halogen 100w spot\",\n            \"Halogen 50w spot\",\n            \"PL\",\n            \"T12 Single 4ft\",\n            \"T12 Single 5ft\",\n            \"T12 Single 6ft\",\n            \"T12 Single 8ft\",\n            \"T12 Twin 4ft\",\n            \"T12 Twin 5ft\",\n            \"T12 Twin 6ft\",\n            \"T12 Twin 8ft\",\n            \"T5 Quad 2ft\",\n            \"T5 Quad 4ft\",\n            \"T5 Single 4ft\",\n            \"T5 Single 5ft\",\n            \"T5 Triple 2ft\",\n            \"T5 Triple 4ft\",\n            \"T5 Triple 5ft\",\n            \"T5 Twin 2ft\",\n            \"T5 Twin 4ft\",\n            \"T5 Twin 5ft\",\n            \"T8 Quad 2ft\",\n            \"T8 Quad 4ft\",\n            \"T8 Single 4ft\",\n            \"T8 Single 5ft\",\n            \"T8 Single 6ft\",\n            \"T8 Twin 2ft\",\n            \"T8 Twin 4ft\",\n            \"T8 Twin 5ft\",\n            \"T8 Twin 6ft\", \n            \"Tungsten 60w\",\n            \"Other\"\n            );\n\n        //echo sizeof($lightArray);\n\n        //for each room, get quant wattage and hours of each light referenced by the room id\n\n        echo sizeOf($rooms);\n        echo \"&lt;br/&gt;\";\n        for($i=0; $i&lt;sizeof($rooms);$i++){\n\n            //set empty arrays\n            $size = 36;\n            $lightQuantityCount = array_fill(0, $size, 0);\n            $lightWattageCount = array_fill(0, $size, 0);\n            $lightHoursCount = array_fill(0, $size, 0);\n\n            //get all lighting data of particular room\n            $query2 = \"SELECT * FROM tbl_lightingData WHERE r_id = '$rooms[$i]'\";\n            $result2 = $d-&gt;query($query2);\n            $row2= $result2-&gt;fetchArray(SQLITE3_ASSOC);\n\n            //for each light type in the lightarray chechk if light type from query == light type in array, if so add quantity, wattage and hours to arrays\n\n\n            while($row2=$result2-&gt;fetchArray(SQLITE3_ASSOC)){\n\n                echo \"&lt;br/&gt;Room ID: \".$rooms[$i].\"&lt;br/&gt;\";\n                $lightID = $row2['l_id'];\n                $lightType = $row2['lightType'];\n                $lightQuantity = $row2['lightQuantity'];\n                $lightWattage = $row2['lightWattage'];\n                $lightHours = $row2['lightHours'];\n                echo \"Light Profile:&lt;br/&gt;Light ID:  \".$lightID.\"&lt;br/&gt;Light Type:  \".$lightType.\"&lt;br/&gt;Light Wattage:  \".$lightWattage.\"&lt;br/&gt;Light Hours:  \".$lightHours.\"&lt;br/&gt;\";\n\n                for($j=0; $j&lt;sizeof($lightArray); $j++){\n                    if($lightType == $lightArray[$j]){\n                        echo \"&lt;br/&gt;MATCH&lt;br/&gt;\";\n                        $lightQuantityCount[$j] = $lightQuantityCount[$j] + $lightQuantity;\n                        $lightWattageCount[$j] = $lightWattage;\n                        $lightHoursCount[$j] = $lightHoursCount[$j] + $lightHours;\n                    }\n                    else{\n                        echo \"&lt;br/&gt;NO MATCH&lt;br/&gt;\";\n                    }\n                }\n            }\n\n            //echo\"&lt;br/&gt;ARRAY DUMP START:&lt;br/&gt;\";\n            //var_dump($lightQuantityCount);\n            //echo\"&lt;br/&gt;ARRAY DUMP END:&lt;br/&gt;&lt;br/&gt;\";\n\n            echo \"&lt;br/&gt;ADFSDFADFA : \".sizeof($lightQuantityCount);\n            echo \"&lt;br/&gt;ADFSDFADFA : \";\n\n            for($k=0; $k&lt;sizeof($lightQuantityCount); $k++){\n\n                if($lightQuantityCount[$k] != 0){\n\n                    echo \"&lt;br/&gt;Light Type: \".$lightArray[$k].\"&lt;br/&gt;\";\n                    echo \"Light Quantity Count: \".$lightQuantityCount[$k].\"&lt;br/&gt;\";\n                    echo \"Wattage Count: \".$lightWattageCount[$k].\"&lt;br/&gt;\";\n                    echo \"Hours Count: \".$lightQuantityCount[$k].\"&lt;br/&gt;\";\n\n                    include(\"setText.php\");$status[2]++;\n\n                    $groupStart = $status[1].$status[2];\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $lightArray[$k]);\n                        $status[1]++;\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $lightQuantityCount[$k]);\n                        $status[1]++;\n\n                        $calc = $lightWattageCount[$k] * $lightQuantityCount[$k];\n                        $calc2 = $calc / 1000;\n\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $calc2);\n                    $groupEnd = $status[1].$status[2];\n\n                    include(\"setHeadersText.php\");groupFill($objPHPExcel, $groupStart, $groupEnd, \"calc\");\n                    $status[2]++;$status[1] = chr(65);\n                }\n            }\n        }\n\nreturn $status;\n</code></pre>\n\n<p>}</p>\n\n<p>Comment for more information, thanks</p>\n\n<p>Chris</p>\n"},{"tags":["php","shell"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13278573,"title":"php script to kill shell 'sleep' process","body":"<p>I need to write some scripts for some automation work,</p>\n\n<p>I put a php file on local apache server\ntest.php</p>\n\n<pre><code>&lt;?php\nsystem(\"bash inform.sh\");\n?&gt;\n</code></pre>\n\n<p>the content of inform.sh is:</p>\n\n<pre><code>#!/bin/bash\nproc_id=`ps -ef|grep \"sleep\"|grep -v \"grep\"|awk '{print $2}'`\nkill -9 $proc_id\n</code></pre>\n\n<p>I run sleep process on a shell, and open the php page on firefox :  localhost/test.php\nbut it doesn't kill the sleep process, \nif I run the php directly through shell, then it works\nwhat's wrong with this and how to deal with it? thanks</p>\n"},{"tags":["php","curl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":27,"score":-6,"question_id":13278920,"title":"CLI curl to PHP curl command","body":"<p>I am trying to replicate the this CLI curl command to php CLI. I can't seem to find a great tutorial on this. Here is the CLI version:</p>\n\n<blockquote>\n  <p>curl  -d api_version=1.0 -H 'X-API-VERSION: 1.0' <code>https://my.rightscale.com/api/acct/1234/servers/5678/start</code></p>\n</blockquote>\n\n<pre><code>    &lt;?php\n\n    $rs_api = array(\n        'version' =&gt; '1.0',\n        'account_id' =&gt; $acct_num,\n        'username' =&gt; $email,\n        'password' =&gt; $pass,\n        'cookie_file' =&gt; 'tmp/rs_api_cookie.txt',\n\n           );\n\n     $rs_api['url'] = \"https://my.rightscale.com/api/acct/\".$rs_api['account_id'];\n\n     $rs_api['login_url'] = $rs_api['url'].\"/login?api_version=\".$rs_api['version'];\n\n     $ch = curl_init($rs_api['login_url']);\n\n     curl_setopt($ch, CURLOPT_COOKIEJAR, $rs_api['cookie_file']);\n     curl_setopt($ch, CURLOPT_USERPWD,$rs_api['username'].':'.$rs_api['password']);\n\n     curl_exec($ch);\n     curl_close($ch);\n\n     $url = $rs_api['url'].\"/servers/\". $server. \"/start\";\n\n     $header = 'X-API-VERSION: 1.0';\n     $ch = curl_init($url);\n\n\n     curl_setopt($ch, CURLOPT_COOKIEFILE, $rs_api['cookie_file']);\n     curl_setopt($ch, CURLOPT_HTTPHEADER, $header);\n     curl_setopt($ch, CURLOPT_POST, 1);\n\n     $output = curl_exec($ch);\n     curl_close($ch);\n\n     echo $output;\n\n     ?&gt;\n</code></pre>\n\n<p>Here is the code that i am currently working with:</p>\n\n<p>The return that i get is a Nginx 411 Content Required.  Obviously i am missing something. I am trying to make an API call through the php curl lib commands in order to set a scheduled start and stop of our servers.</p>\n"},{"tags":["php","html"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":417,"score":1,"question_id":7218467,"title":"PHP Not loading rest of page after exit;","body":"<p>I'm very new to PHP, and I can't figure out why this is happening.</p>\n\n<p>For some reason, when <code>exit</code> fires the entire page stops loading, not just the PHP script. Like, it'll load the top half of the page, but nothing below where the script is included.</p>\n\n<p>Here's my code: </p>\n\n<pre><code>$page = $_GET[\"p\"] . \".htm\";\n  if (!$_GET[\"p\"]) {\n    echo(\"&lt;h1&gt;Please click on a page on the left to begin&lt;/h1&gt;\\n\");\n    // problem here\n    exit;\n  }\n  if ($_POST[\"page\"]) {\n    $handle = fopen(\"../includes/$page\", \"w\");\n    fwrite($handle, $_POST[\"page\"]);\n    fclose($handle);\n    echo(\"&lt;p&gt;Page successfully saved.&lt;/p&gt;\\n\");\n    // problem here\n    exit;\n  }  \n  if (file_exists(\"../includes/$page\")) {\n    $FILE = fopen(\"../includes/$page\", \"rt\");\n    while (!feof($FILE)) {\n        $text .= fgets($FILE);\n    }\n    fclose($FILE);\n  } else {\n    echo(\"&lt;h1&gt;Page &amp;quot;$page&amp;quot; does not exist.&lt;/h1&gt;\\n\");\n    // echo(\"&lt;h1&gt;New Page: $page&lt;/h1&gt;\\n\");\n    // $text = \"&lt;p&gt;&lt;/p&gt;\";\n    // problem here\n    exit;\n  }\n</code></pre>\n"},{"tags":["php","twitter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":14,"score":-5,"question_id":13279091,"title":"\"Tweetter get-search API\" navigate retweets to count followers of each user","body":"<p>Is there a way to navigate this API to count the number of followers of each user who make retweet?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13279039,"title":"Clicking on small image shows the image in a large image holder","body":"<p>I have an image holder:</p>\n\n<pre><code>&lt;p&gt;&lt;img src=\"\" alt=\"\" name=\"a\" width=\"286\" height=\"307\" id=\"a\" /&gt;&lt;/p&gt;\n</code></pre>\n\n<p>and I have 4 small images in page.</p>\n\n<p>The variables of the images are like <code>$img1, $img2, $img3, $img4</code>.</p>\n\n<pre><code>&lt;img src=\"images/&lt;?php echo $img1; ?&gt;.jpg\" width=\"81\" height=\"100\" alt=\"&lt;?php echo $product_name; ?&gt;\" /&gt;&lt;br /&gt;\n&lt;a href=\"images/&lt;?php echo $img1; ?&gt;.jpg\"&gt;Full Size&lt;/a&gt;\n</code></pre>\n\n<p>I want it so that if I click on \"Image\" or \"Full Size\", it shows the image in an image holder.</p>\n"},{"tags":["php","jquery","ajax","post","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13278804,"title":"How do I make a POST AJAX call without using jquery?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8567114/how-to-make-an-ajax-call-without-jquery\">How to make an ajax call without jquery?</a>  </p>\n</blockquote>\n\n\n\n<p>I have a function where I need to make an update to my database using an ajax call. For speed reasons, I would prefer it if I didn't have to include the jquery source file on this page and therefore use the $.ajax function to perform my post request to the php file, although this would make performing the ajax call via POST a lot easier. </p>\n\n<p>I have seen on here how to do this using the GET method but have not found any help for doing a non-jquery ajax call using the POST method. Since this call will make changes to my database, I do not want to use the GET method. </p>\n\n<p>UPDATE:</p>\n\n<p>Going the jquery route:\nThe actual task performed is lower priority to loading the rest of the page. Is there any way I can guarantee that the ajax call (including loading jquery) is the very last javascript thing to go off as the page loads?</p>\n"},{"tags":["php","kohana"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13242499,"title":"Using Kohana in File outside Kohana","body":"<p>Here's the situation:</p>\n\n<p>I have a catch-all on my domain email (so *@domain.com) redirecting to a piping script located at /home/domain/scripts/piper.php.  This piper script is not within the Kohana ORM, but all of my other files are.  I want to try to use Kohana inside this piper.php file.</p>\n\n<p>I have tried (unsuccessfully) all of the following:</p>\n\n<p><strong>Including Kohana</strong></p>\n\n<p>I couldn't figure out what needed to be included, and more importantly how to override the url variable that Kohana uses to determine the right controller.  Also, this is a catch-all piper, so it isn't using HTTP (to my knowledge), so much as executing a command.</p>\n\n<p><strong>Piping</strong></p>\n\n<p>I tried piping to the following:</p>\n\n<pre><code>/home/domain/public_html/index.php --uri=\"piper\"\n</code></pre>\n\n<p>But cPanel makes this impossible, as you can only specify the destination script, and not the proper flags and such (unless I am missing something).</p>\n\n<p><strong>PHP exec()</strong></p>\n\n<p>I tried using the following line:</p>\n\n<pre><code>exec(\"php /home/domain/public_html/index.php --uri=\\\"/piper\\\"\")\n</code></pre>\n\n<p>I was hoping that the stdin data would be maintained across the exec() command, but I could never get it to recognize the uri command, though I can run this on my localhost and it works just fine.</p>\n\n<p>I was using <a href=\"http://www.coderelic.com/2011/10/creating-cron-jobs-in-kohana-3-x-is-a-piece-of-cake/\" rel=\"nofollow\">http://www.coderelic.com/2011/10/creating-cron-jobs-in-kohana-3-x-is-a-piece-of-cake/</a> as a reference, but can't get anything to work.</p>\n\n<p>I'm happy with either one of these solutions such that I can see an incoming email, parse it, then send emails based on the parameters.</p>\n\n<p>Let me know if you need more information!  I'm le stumped.</p>\n"},{"tags":["php","null"],"answer_count":15,"favorite_count":10,"up_vote_count":37,"down_vote_count":1,"view_count":20078,"score":36,"question_id":137487,"title":"Null vs. False vs. 0 in PHP","body":"<p>I am told that good developers can spot/utilize the difference between Null and False and 0 and all the other good \"nothing\" entities.<br />\nWhat <em>is</em> the difference, specifically in PHP?  Does it have something to do with ===?</p>\n"},{"tags":["php","xml","xml-parsing","notepad++"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13275496,"title":"Parsing XML (Grabbing certain data)","body":"<p>I have a lot of data in an XML file that I need to get out. Currently there is around 1000 pieces of data I need to extract It looks like this</p>\n\n<p><a href=\"http://pastebin.com/PwfhtbDF\" rel=\"nofollow\">http://pastebin.com/PwfhtbDF</a></p>\n\n<p>I need to somehow extract just ip=\"83.42.146.140\" out of every one of these. Remember there is around 1000 of these (44000 lines in total). I have tried XML parsing programs but couldn't get it to extract what I want. I was thinking about doing it in PHP somehow.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["php","data","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13267395,"title":"PHPExcel append values to data in next available columns","body":"<p>How would I go about appending data to the end of a row on the next cell within a sheet that has already had data imported.    </p>\n\n<pre><code>$reader = PHPExcel_IOFactory::createReader( 'CSV' )-&gt;setDelimiter( ',' )-&gt;setEnclosure( '\"' )-&gt;setLineEnding( \"\\r\\n\" )-&gt;setSheetIndex( 0 );\n$reader-&gt;setSheetIndex( $sheet_index );\n$reader-&gt;loadIntoExisting( $input_dir . $file , $excel );\n$excel-&gt;getActiveSheet()-&gt;setTitle( $title_parts );\n\nreturn $excel;\n</code></pre>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":60,"score":-3,"question_id":13275645,"title":"how to convert ddmmyyyy to mm dd yyyy in php","body":"<p>how to convert string  <strong>130812</strong> to <strong>August 13 2012</strong> and string <strong>14082012</strong> to <strong>August 14 2012 in php</strong></p>\n\n<p>for files </p>\n\n<pre><code>$FileForTime= MR_20121018_V002.htm;  \n$retDate = date (\"F d Y\", strtotime(substr($FileForTime,3,8)));  \n</code></pre>\n\n<p>out put =<strong>October 18 2012</strong></p>\n\n<p>but for files</p>\n\n<p>LedgerV002130812.htm<br>\nDemat14082012D004.htm<br>\nwhich are in ddmmyy and ddmmyyyy format respectively</p>\n\n<pre><code>$retDate = date (\"F d Y\", strtotime(substr($FileForTime,10,6)));\n\n$retDate = date (\"F d Y\", strtotime(substr($FileForTime,5,8)));\n</code></pre>\n\n<p>output not coming??</p>\n\n<p>not getting time stamp for extracted dates.</p>\n"},{"tags":["php","codeigniter","pyrocms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":11,"score":-2,"question_id":13278913,"title":"Adding to the default page model in PyroCMS","body":"<p>I want to have 2 default chunks instead of 1 when making a new page.</p>\n\n<p>The reason is my main template is split into 2 sections and I want to start with 2 chunks.</p>\n"},{"tags":["php","mysql","query","sorting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2470,"score":0,"question_id":4537784,"title":"how to sort mysql result set after the query's done","body":"<p>I am writing a query for mysql database having 2 parameters.</p>\n\n<p>Its a basic search but the problem is I want to sort the order of the results on the basis of the selection.\nSo after I've clicked the <em>search</em> button and the browser displayied the result set I want to order this specific result set by <em>expiration-date</em> or by <em>price</em> depending wich button i click.</p>\n\n<pre><code>   //SELECTION DATA FORM \n   &lt;form action=\"EVENTS_SELECTION.PHP\"&gt;\n     &lt;select name=\"Type\"&gt;\n     &lt;option value=\"\"&gt;SPORT\n     &lt;option value=\"\"&gt;CULTURE       \n     &lt;option value=\"\"&gt;LEISURE\n     &lt;option value=\"\"&gt;GASTRONOMY\n     &lt;/select&gt;  \n\n     &lt;select name=\"WHERE\"&gt;\n     &lt;option&gt;ROME ALL\n     &lt;option&gt;ROME SOUTH\n     &lt;option&gt;ROME WEST\n     &lt;option&gt;ROME EAST\n     &lt;option&gt;ROME NORTH\n     &lt;/select&gt;\n\n     &lt;input type=\"submit\" value=\"search\"&gt;   \n &lt;/form&gt; \n</code></pre>\n\n<p>how can I achieve that??\nthanks\nLuca</p>\n"},{"tags":["php","arrays","image","hyperlink"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":30,"score":-1,"question_id":13278549,"title":"Link image array to a url","body":"<p>How would I link each image in the array below to different pages?\nThe array displays various banners on the website. I want each banner to link to a different page on the website. \nfor example small_header_01.jpg links to aboutus.html</p>\n\n<pre><code>$banner_small_images = array('small_header_01.jpg',\n                             'small_header_02.jpg',\n                             'small_header_03.jpg',\n                             'small_header_04.jpg',\n                             'small_header_05.jpg');            \n</code></pre>\n"},{"tags":["php","class","constants"],"answer_count":7,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":3024,"score":4,"question_id":1880148,"title":"How to get name of the constant?","body":"<p>Assuming you have a constant defined in a class:</p>\n\n<pre><code>class Foo {\n    const ERR_SOME_CONST = 6001;\n\n    function bar() {\n        $x = 6001;\n        // need to get 'ERR_SOME_CONST'\n    }\n}\n</code></pre>\n\n<p>Is it possible with PHP?</p>\n"},{"tags":["php","mysql","if-statement","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11376084,"title":"MySQL Query - WHERE and IF?","body":"<p>SOLVED:\nDatatypes in the table for country and OS were set to VARCHAR so in my where, I changed = 0 to = '0'.\nThanks to raina77ow for pointing this out! Appreciate it.</p>\n\n<p>I'm not quite sure how to write this query. Basically, I'm going to have a table with two columns (OS and country_code) - more columns too, but those are the conditional ones. These will be either set to 0 for all, or specific ones, separated by commas.</p>\n\n<p>Now, what I'm trying achieve is pull data from the table if the OS and country_code = 0, or if they contain matching data (separated by commas).</p>\n\n<p>Then, I have a column for time. I want to select rows where the time is GREATER than the time column, unless the column time_t is set to false, in which case this shouldn't matter.</p>\n\n<p>I hope I explained it right?</p>\n\n<p>This is what I kind of have so far:</p>\n\n<pre><code>$get = $db-&gt;prepare(\"SELECT * FROM commands \n    WHERE country_code = 0 OR country_code LIKE :country_code \n    AND OS = 0 OR OS LIKE :OS \n    AND IF (time_t = 1, expiry &gt; NOW())\n\");\n$get-&gt;execute(array(\n    ':country_code' =&gt; \"%{$data['country_code']}%\",\n    ':OS' =&gt;  \"%{$data['OS']}%\"\n));\n</code></pre>\n\n<p>EDIT: This is the code I'm using now, but I still can't seem to get the OS and Country_code part working:</p>\n\n<pre><code>$get = $db-&gt;prepare(\"SELECT * FROM commands \nWHERE (country_code = 0 OR country_code LIKE :country_code) \nAND (OS = 0 OR OS LIKE :OS) \nAND (time_t &lt;&gt; 1 OR expiry &gt; NOW())\n\");\n\n$get-&gt;execute(array(\n':country_code' =&gt; \"%{$data['country_code']}%\",\n':OS' =&gt;  \"%{$data['OS']}%\"\n));\n</code></pre>\n\n<p>Data sent to the DB would be: \nOS => Windows 7 \ncountry_code => GB \nONLY one would be being sent, not more than one. The issue I'm having right now is, it's working for OS and for the time thing, but it's not working for the country. I even tried a raw query, when the data in the table is \"FR, SA\" and I did LIKE '%GB%' it still returned the row</p>\n"},{"tags":["php","csv","export","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13264132,"title":"Export worksheets in a workbook to csv in phpexcel","body":"<p>I am trying to export worksheets in an Excel 2007 workbook to csv and save the csv as the worksheet name. I keep getting this error:</p>\n\n<pre><code>\"Object of class PHPExcel_Worksheet could not be converted to string in\"\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>require_once '../Classes/PHPExcel/IOFactory.php';\n$objReader = PHPExcel_IOFactory::createReader('Excel2007');\n$objReader-&gt;setReadDataOnly(false);\n//$xlsxfiles=$_SESSION['file'];\n//echo $xlsxfiles;\n$objPHPExcel = $objReader-&gt;load('../upload/Demobook.xlsx');\n$num=$objPHPExcel-&gt;getSheetCount() ;\n$sheetnames=$objPHPExcel-&gt;getSheetNames() ;\n$objWorksheet = $objPHPExcel-&gt;getActiveSheet();\n$highestRow = $objWorksheet-&gt;getHighestRow(); // e.g. 10\n$objWriter = new PHPExcel_Writer_CSV($objPHPExcel);\nforeach ($objPHPExcel-&gt;getWorksheetIterator() as $worksheet)\n{\n    $worksheet-&gt;getTitle();\n    $objWriter-&gt;setDelimiter(',');\n    $objWriter-&gt;setEnclosure('');\n    $objWriter-&gt;setLineEnding(\"\\r\\n\");\n}\n$objWriter-&gt;save(\"../\".\"CSV\".\"/\".$worksheet.\".\".'csv');\n</code></pre>\n"},{"tags":["php","memory-management"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":144,"score":2,"question_id":7418317,"title":"php if - is it so memory intensive?","body":"<p>Just now I was running scripts with preg_replace, over large set of datarows, I had this line of code:</p>\n\n<pre><code>$words = array(\"http\", \"www\", \"com\", \"org\", \"related\", \"cache\", \"asp\", \"php\", \"html\", \"wid\", \"roomid\", \"wmaster\", \"pcash\", \"sdk\", \"vippath\");\nforeach ($words as $seek):  \n    if ($row['title'] = preg_replace(\"/(\\S*)$seek(\\S*)/i\", \"\",$row['title'])):\n    endif;\nendforeach;\n</code></pre>\n\n<p>Now, when I ran this over 1000 rows, I would get memory_limit error, however, when I changed the code to this:</p>\n\n<pre><code>$words = array(\"http\", \"www\", \"com\", \"org\", \"related\", \"cache\", \"asp\", \"php\", \"html\", \"wid\", \"roomid\", \"wmaster\", \"pcash\", \"sdk\", \"vippath\");\nforeach ($words as $seek):  \n    $row['title'] = preg_replace(\"/(\\S*)$seek(\\S*)/i\", \"\",$row['title']);\nendforeach;\n</code></pre>\n\n<p>I was able to run it on 40,000 rows and not hitting the memory limit...</p>\n\n<p>Anyone has any insight on this?</p>\n\n<p>Edit:</p>\n\n<pre><code>if ($res = parent::dbDelta(\"SELECT id, title, used FROM \" . databaseConn::TITLE_TABLE . \" LIMIT 40000, 0\", true)):\n$query .= \"INSERT INTO tmp (title, used) VALUES \";\nwhile ($row = mysql_fetch_array($res)):\n$fail = false;\n    $words = array(\"http\", \"www\", \"com\", \"org\", \"related\", \"cache\", \"asp\", \"php\", \"html\", \"wid\", \"roomid\", \"wmaster\", \"pcash\", \"sdk\", \"vippath\");\n    foreach ($words as $seek):  \n            $row['title'] = preg_replace(\"/(\\S*)$seek(\\S*)/i\", \"\",$row['title']);\n    endforeach;\n\n    preg_match_all('/\\d+/', $row['title'], $matches); \n    $numbers = $matches[0];\n    $numbers = array_map('intval', $numbers);  \n    foreach ($numbers as $num):\n        if (($num &gt; 100) &amp;&amp;  ($num != 365) &amp;&amp; ($num != 247) &amp;&amp; ($num != 360) &amp;&amp; ($num != 1800) &amp;&amp; ($num != 800) &amp;&amp; ($num != 1900) &amp;&amp; ($num != 900)):\n            $fail = true;\n            $row['title'] = str_replace(\"$num\", \"\",$row['title']);\n        endif;\n    endforeach;\n\n    if ((str_word_count($row['title'])) &lt; 3):\n        $fail = true;\n    endif;\n\n    if (!$fail):\n        $row['title'] = trim($row['title']);\n        $query .= \"('$row[title]', '$row[used]'), \";\n    endif;\n\n\n$i++;\nendwhile;\n        $query = substr(trim($query), 0, -1);\n        $query .= \" ON DUPLICATE KEY UPDATE used='0'\";\n        mysql_query($query) or die(mysql_error());\nendif;\n}\n</code></pre>\n"},{"tags":["php","javascript","canvas","fabricjs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":732,"score":0,"question_id":9771986,"title":"Fabric.js canvas.toDataURL() sent to PHP by Ajax","body":"<p>I have a problem here when I need create a image with transparent background. I still donÂ´t know if the problem is with fabricjs or with php. Everything works fine when I sent a image with colored background. The problem occurs when I send a image with transparent background.\nThe generated image is created with black background.\nSo, let me explain better:\nWhen the user click in save button, IÂ´m sending the string representation of the canvas to php in the server-side, to be generated the image of the canvas. So IÂ´m using the follow function to sending the string representation of the canvas by Ajax (POST function of jQuery):</p>\n\n<pre>\n\n    function sendStringRepresentation(){\n        var strDataURI = canvas.toDataURL();\n        strDataURI = strDataURI.substr(22, strDataURI.length);\n\n        $.post(\"action/createImage.php\",\n        { \n            str: strDataURI\n        },\n        function(data){\n            if(data == \"OK\"){\n                $(\"#msg\").html(\"Image created.\");\n        }\n        else{\n            $(\"#msg\").html(\"Image not created.\");\n            }\n        });\n    }\n\n</pre>\n\n<p>In PHP file IÂ´m using the follow code to generate the image:</p>\n\n<pre>\n\n    // createImage.php\n\n    $data = base64_decode($_POST[\"str\"]);\n\n    $urlUploadImages = \"../uploads/img/\";\n    $nameImage = \"test.png\";\n\n    $img = imagecreatefromstring($data);\n\n    if($img) {\n        imagepng($img, $urlUploadImages.$nameImage, 0);\n        imagedestroy($img);\n\n        // [database code]\n\n        echo \"OK\";\n    }\n    else {\n        echo 'ERROR';\n    }\n\n</pre>\n\n<p>Again, the problem is just with background transparent canvas. With colored background everything works fine.</p>\n"},{"tags":["php","twitter-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":23,"score":-2,"question_id":13278825,"title":"Using PHP how do I follow someone on Twitter","body":"<p>I have a customer database that I send Twitter messages to periodically using the API.  One thing I would like to do is programmatically follow them prior to tweeting a message.  I've read through the API documentation and I'm not able to get this working.</p>\n\n<p>Has some in the StackOverflow world found a dead simple approach to this using PHP?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","mysql","forms","input","eval"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13278290,"title":"Using php eval on code from database","body":"<p>I am attempting to auto-generate a form based on information in a Mysql database.  Right now, one table stores information about the fields that are needed - the field type, maxlength, default value, etc.</p>\n\n<p>A second table contains html / php code for displaying the proper form input, based on information retrieved from the previously mentioned table. Neither of these tables include any user-inputed data. In order to process and display this stored code, I have been trying to use php's eval function. Although I'm not sure this is a good solution, the only alternative I could think of was to have dozens of one or two line files which are retrieved by using php's include or using jquery to append the contents. The main reason I didn't want to do this was to avoid having the dozens of extra files.</p>\n\n<p>Here is the eval statement that I have so far</p>\n\n<pre><code>eval(\"\\$code=\\\"$field[input_code]\\\";\");echo\"&lt;td&gt;$code&lt;/td&gt;\";\n</code></pre>\n\n<p>Here is a sample of one of the contents of $field['input_code']</p>\n\n<pre><code>&lt;input name='\".$field['form_name'].\"'type='text'placeholder='\".ucwords(str_replace('_',' ',$field['form_name'])).\"'\".if($field['req']==1){echo\"class='textvalreq'required\";}else{echo\"class='textval'\";}.\"&gt;\n</code></pre>\n"},{"tags":["php","jquery","wordpress","initialization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13278523,"title":"How can I enqueue a PHP jQuery file in wordpress?","body":"<p>I have settings for an image slider in my wordpress admin panel that lets you change things such as the transition effect and speed, etc.  These settings (php variables) are passed to the standard initialization script for the slider which looks like this:</p>\n\n<pre><code>&lt;script&gt;\njQuery(function(){\n\n    jQuery('#camera_wrap_3').camera({\n        height: '40%',\n        thumbnails: true,\n        time: &lt;?php echo $pause_time; ?&gt;,\n        fx: '&lt;?php echo $transition_effect; ?&gt;',\n        transPeriod: &lt;?php echo $transition_speed; ?&gt;,\n        autoAdvance: &lt;?php echo $auto_advance; ?&gt;,\n        minHeight: '50px',\n        mobileNavHover: false,\n        imagePath: '&lt;?php echo get_template_directory_uri(); ?&gt;/images/'\n    });\n});\n</code></pre>\n\n<p></p>\n\n<p>I choose to save this as a separate php file to clean up the code.</p>\n\n<p>My problem is, I need to put wp_head() directly before the closing &lt; /head> tag and when I do this there is no way to implement the above script AFTER jQuery is loaded and therefor it does not work and the slider doesn't work either.</p>\n\n<p>I have tried attaching it with an action hook like I would with a js file like so:</p>\n\n<pre><code>&lt;?php function add_camera_init() {\nrequire_once('includes/sliders/camera/camera-init.php');\n}\nadd_action('wp_enqueue_scripts', 'add_camera_init'); ?&gt;\n</code></pre>\n\n<p>but this didn't seem to do anything.</p>\n\n<p>How can I add settings like this after jQuery and still have wp_head() immediately before &lt; /head>?</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13278088,"title":"inserting a dynamically generated $_POST values from a form into mysql from php","body":"<p>I'm trying currently to insert back into a database values from my form.</p>\n\n<pre><code> &lt;?php do { ?&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;?php echo $row_questions['question']; ?&gt;&lt;br /&gt;&lt;table&gt;&lt;tr&gt;&lt;td style=\n\n    \"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"1\" id=\"answers_1\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        Low&lt;/label&gt;\n      &lt;/td&gt;&lt;td style=\"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"2\" id=\"answers_2\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        Fairly Low&lt;/label&gt;\n      &lt;/td&gt;&lt;td style=\"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"3\" id=\"answers_3\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        Average&lt;/label&gt;\n      &lt;/td&gt;&lt;td style=\"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"4\" id=\"answers_4\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        Fairly High &lt;/label&gt;\n      &lt;/td&gt;&lt;td style=\"padding:15px; text-align:center\"&gt;\n      &lt;label&gt;\n        &lt;center&gt;&lt;input type=\"radio\" name=\"answers_&lt;?php echo $row_questions['id']; ?&gt;_&lt;?php echo $row_questions['sub_category']; ?&gt;\" value=\"5\" id=\"answers_5\" /&gt;&lt;/center&gt;&lt;br /&gt;\n        High&lt;/label&gt;\n      &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br /&gt;\n  &lt;/tr&gt;\n  &lt;?php } while ($row_questions = mysql_fetch_assoc($questions)); ?&gt;\n</code></pre>\n\n<p>the form gets the questions from a table in my database (called questions). they are in three categories and only one categories set of questions is pulled at any one time.</p>\n\n<p>I need to insert each answer individually into another table (called user_answers). </p>\n\n<p>I'm having trouble working out quite how to go about this and it's beginning to do my head in!</p>\n\n<p>the form manages to pass through $_POST a value that when I <code>print_r($_POST);</code> I get </p>\n\n<blockquote>\n  <p>Array ( [answers_90_5] => 3 [answers_91_5] => 3 )</p>\n</blockquote>\n\n<p>With 90 &amp; 91 being the question ids and 5 being the subcategory in both instances.</p>\n\n<p>From here I am stumped. </p>\n\n<p>How do I identify these parts of each individual post along with the answer and insert them as a row each in the table?</p>\n\n<p>I'm fine with doing the MySQL insert normally and a standard form passing values etc. but I'm completely stumped on how to do this!</p>\n\n<p>Many thanks in advance!</p>\n"},{"tags":["php","xml","rss","feed"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":13,"score":2,"question_id":13278577,"title":"Can't parse full RSS from a feedburner xml","body":"<p>I'm having problems into parsing a full RSS 2.0 content feed. I have already checked all the Wordpress and Feedburner settings and it is all right.</p>\n\n<p>I'm using simple_xml_load($link), PHP, but all I can get is a part of the full blog content.</p>\n\n<p>Thank you all.</p>\n"},{"tags":["php","random"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13278511,"title":"Php generate random and different numbers","body":"<p>I create this in php for generate random numbers</p>\n\n<pre><code>&gt; &lt;?php\n&gt; \n&gt; $products=array(\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\");\n&gt; \n&gt; for ($i=0;$i&lt;count($products);$i++) {\n&gt; \n&gt; $numbers=rand(0,count(products));\n&gt; \n&gt; print \"\".$products[$numbers].\"&lt;br&gt;\";\n&gt; \n&gt; } ?&gt;\n</code></pre>\n\n<p>I try generate in bucle different numbers but always show me the same numbers 1212121212 and nothing more , how i can generate this string or array and for example finally show 2 3 4 1 5 6 7 9 8 10 , and if reload script other combination </p>\n\n<p>ThankÂ´s Regards !!!</p>\n"},{"tags":["php","jquery","html","css","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":44,"score":1,"question_id":13264787,"title":"Codeigniter issue","body":"<p><strong>Controller</strong></p>\n\n<pre><code>class Welcome extends CI_Controller\n{\n    public function index()\n    {   \n        $this-&gt;load-&gt;helper('url'); \n        $this-&gt;load-&gt;view('welcome_message');\n        $this-&gt;load-&gt;model('Home_model');\n        $data['query'] = $this-&gt;Home_model-&gt;getcategory(); \n        $this-&gt;load-&gt;view('userheader', $data); \n    }\n}\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>class Home_model extends CI_Model\n{\n    public function getcategory()\n    {           \n        $this-&gt;db-&gt;select('id, cat_value, cat_title','isactive');\n        $query = $this-&gt;db-&gt;get('js_job_categories');\n        return $query-&gt;result();\n    }\n}\n</code></pre>\n\n<p><strong>Views</strong></p>\n\n<p>I include the header and footer \nsame content displaying again below footer</p>\n\n<p>In top of the header it does not display the query result\nhow can solve the problem..</p>\n"},{"tags":["php","mysql","database","content-management-system","photo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13278239,"title":"Databases and user's photos management","body":"<p>I was wondering the best option to build a website that will allow an user to send photos to be displayed on a open part of the site and I don't know if I should build a database in mysql to receive those photos and then to this table to be pushed on the screen and it grows. Is there any other options? Like getting these photos on a folder and then make a system to get them as I'd do if programming normal html and css...Thanks guys!</p>\n"},{"tags":["php","utf-8","shell","text-editor"],"answer_count":9,"favorite_count":31,"up_vote_count":34,"down_vote_count":0,"view_count":11420,"score":34,"question_id":204765,"title":"Elegant way to search for UTF-8 files with BOM?","body":"<p>For debugging purposes, I need to recursively search a directory for all files which start with a UTF-8 byte order mark (BOM). My current solution is a simple shell script:</p>\n\n<pre><code>find -type f |\nwhile read file\ndo\n    if [ \"`head -c 3 -- \"$file\"`\" == $'\\xef\\xbb\\xbf' ]\n    then\n        echo \"found BOM in: $file\"\n    fi\ndone</code></pre>\n\n<p>Or, if you prefer short, unreadable one-liners:</p>\n\n<pre><code>find -type f|while read file;do [ \"`head -c3 -- \"$file\"`\" == $'\\xef\\xbb\\xbf' ] && echo \"found BOM in: $file\";done</code></pre>\n\n<p>It doesn't work with filenames that contain a line break,\nbut such files are not to be expected anyway.</p>\n\n<p>Is there any shorter or more elegant solution?</p>\n\n<p>Are there any interesting text editors or macros for text editors?</p>\n"},{"tags":["php","facebook","graph","sdk"],"answer_count":16,"favorite_count":6,"up_vote_count":20,"down_vote_count":0,"view_count":18826,"score":20,"question_id":6790272,"title":"Why is Facebook PHP SDK getUser always returning 0?","body":"<p>I'm trying to work with a website that requires some information from a Facebook user, I'm using PHP and JS SDKs.</p>\n\n<p>I have a function in PHP:</p>\n\n<pre><code>public function isLoggedOnFacebook()\n{\n    $user = $this-&gt;_facebook-&gt;getUser();\n    if($user){\n        return $this-&gt;_facebook-&gt;api(\"/$user\");\n    }\n    return false;\n}\n</code></pre>\n\n<p>On a class that is holding the facebook object from the SDK in <code>$this-&gt;_facebook</code>.</p>\n\n<p>Then on a block I do this:</p>\n\n<pre><code>&lt;?php if(!$this-&gt;isLoggedOnFacebook()): ?&gt;\n&lt;div&gt;\n   &lt;fb:login-button show-faces=\"true\" perms=\"email\" width=\"500\" /&gt;\n&lt;/div&gt;\n&lt;?php endif ?&gt;\n</code></pre>\n\n<p>And the FB JS environment is properly set up (I think) so it works. So the user gets the pop up and authorizes the site.</p>\n\n<p>The problem is even after the app is been authorized by the user $user is always 0, meaning <code>$facebook-&gt;getUser()</code> always returns 0, and then lists the faces of users, including the logged user, but if I make it call <code>$facebook-&gt;api('/me')</code> or whatever, then it'll throw the invalid token exception.</p>\n\n<p>I've seen this problem, but I haven't seen a solution, I have no idea \nwhere the problem is and I run out of ideas.</p>\n\n<p>There's a Website tab on the developers' Facebook page in the apps section, where you can set up your Site URL and your Site Domain, and I'm thinking this are the cause of my problem, but I have no knowledge of exactly what these fields are supposed to contain.</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":5931,"score":2,"question_id":2363511,"title":"Problem with jQuery AJAX requests: relative vs. absolute urls","body":"<p>I'm having a hard time getting my AJAX requests to work on a staging server. It all worked fine on my development machine, but as soon as I uploaded it, all my AJAX requests stopped working. I found out that, if I change the relative urls (eg. \"index.php\") to absolute urls (\"http://mydomain.com/index.php\") the requests work again, but I do not understand why.</p>\n\n<p>Example request:</p>\n\n<pre>\njQuery.post('index.php', {id: 1234, action: 1, step: 1}, function(data) { // something });\n</pre>\n\n<p>This does not work, I does not even show up in the firebug console. The success handler is called though, which is very confusing.</p>\n\n<p>This works just fine:</p>\n\n<pre>\njQuery.post('http://mydomain.com/index.php', {id: 1234, action: 1, step: 1}, function(data) { // something });\n</pre>\n\n<p>Can anybody explain why AJAX requests behave in this way? x_X</p>\n"},{"tags":["php","javascript","gps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13277855,"title":"How I can extract coordinates from a GPS tracker device?","body":"<p>I have a GPS tracker device and I need to create an web app what display his current location.\nThe problem is how I can call this device to give me the coordinates.</p>\n\n<p>He work with a SIM card (I use Vodafone) what have the internet active. I know the ip for sim and I have a IMEI code from device. </p>\n\n<p>Is there a way to know the coordinates and use them in my web app?</p>\n\n<p>Thanks, and sorry for my bad English!</p>\n"},{"tags":["php","mysql","forms","date","select"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13277980,"title":"Match MySQL Time in PHP","body":"<p>This seems like a simple task, and I've seen others ask the same question, but I still can't return any results from my SQL query.  I've got a date column that's set by timestamp default current.  So it reads YYYY-MM-DD HH-MM-SS.  </p>\n\n<p>My SQL query is as follows: </p>\n\n<pre><code>select `paid` from customer_det where `office` = \"Blanding\" and `date`= CURDATE();\n</code></pre>\n\n<p>I return a result set when I get rid of the and date = curdate.  So I'm curious how to match the two dates.  I just need to pull results that have been inserted today, the actual time is irrelevant.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","xml","magento","magento-1.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13265143,"title":"Add link in Magento for custom module","body":"<p>I am creating a module for supplier in magento. I want to Supplier Login link at <code>top.links.</code></p>\n\n<p>How Can I add the link?</p>\n\n<p>Also,can anybody tell me the the meaning of the tags like  <code>&lt;customer_logged_out&gt;</code> and <code>&lt;customer_logged_in&gt;</code> in <code>magento/app/design/frontend/base/default/layout/customer.xml</code></p>\n\n<p>Beacause I used <code>&lt;supplier_logged_in&gt;</code> and <code>&lt;supplier_logged_out&gt;</code> in</p>\n\n<p><code>magento/app/design/frontend/default/default/layout/supplier.xml</code> its not working.</p>\n\n<p>this is sample code from my file</p>\n\n<pre><code>&lt;supplier_logged_in&gt;\n    &lt;reference name=\"top.links\"&gt;\n        &lt;action method=\"addLink\" translate=\"label title\" module=\"supplier\"&gt;&lt;label&gt;Log 11Out&lt;/label&gt;&lt;url helper=\"customer/getLogoutUrl\"/&gt;&lt;title&gt;Log Out&lt;/title&gt;&lt;prepare/&gt;&lt;urlParams/&gt;&lt;position&gt;100&lt;/position&gt;&lt;/action&gt;\n    &lt;/reference&gt;\n&lt;/supplier_logged_in&gt;\n</code></pre>\n\n<p>Also is there any reference for <code>&lt;customer_logged_in&gt;</code> file to make it working?</p>\n"},{"tags":["php","mysql","query","phpexcel"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13243332,"title":"Removing fields from excel using phpexcel after MYSQL query","body":"<p>I'm using PHPExcel to export data from a MYSQL database and import it into an excel file.</p>\n\n<p><strong>I've got a database that looks like this (this is also what my excel file currently looks like when I generate it using PHPExcel):</strong></p>\n\n<pre><code>======================================================\n|           Question                  |   Answer     |\n=========+===========+===============================|\n| Do you listen to music?             |    YES       |            \n|----------------------------------------------------|\n| Who is your favorite music artists? | Justin Beiber| \n|----------------------------------------------------|\n| &lt;p&gt; Select an Answer&lt;p&gt;             |              | \n|----------------------------------------------------|\n|Are you a Male or female             |      M       | \n|----------------------------------------------------|\n</code></pre>\n\n<p><strong>I want my excel file to look like this:</strong></p>\n\n<pre><code>======================================================\n|           Question                  |   Answer     |\n=========+===========+===============================|\n| Do you listen to music?             |    YES       |            \n|----------------------------------------------------|\n| Who is your favorite music artists? | Justin Beiber| \n|----------------------------------------------------|\n|Are you a Male or female             |      M       | \n|----------------------------------------------------|\n</code></pre>\n\n<p><strong>I'm using this code:</strong></p>\n\n<pre><code>$objPHPExcel = new PHPExcel();\n\n$col = 1; \nwhile($row_data = mysql_fetch_assoc($result)) {\n    $row = 1;\n    if ($col == 1) {\n        $row_headings = array_keys($row_data);\n        foreach($row_headings as $value) {\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValueByColumnAndRow($col, $row, $value);\n            $row++;\n        }\n        $row = 1;\n        $col++;\n    }\n    foreach($row_data as $value) {\n      if (!strstr('&lt;p&gt;', $value)){\n        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValueByColumnAndRow($col, $row, $value);\n\n    $row++;\n         }\n    }\n    $col++;\n}\n</code></pre>\n"},{"tags":["php","html","traversal","nested-sets"],"answer_count":7,"favorite_count":23,"up_vote_count":16,"down_vote_count":1,"view_count":6933,"score":15,"question_id":1310649,"title":"Getting a modified preorder tree traversal model (nested set) into a <ul>","body":"<p>I am trying to get my data which is hierarchically set up with a tree traversal model into an &lt; ul> in order to show on my site. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>function getCats($) {\n  // retrieve all children of $parent\n  $query = \"SELECT max(rght) as max from t_categories\";\n  $row = C_DB::fetchSingleRow($query);\n  $max = $row[\"max\"];\n  $result =\"&lt;ul&gt;\";\n  $query = \"SELECT * from t_categories where lft &gt;=0 and rght &lt;= $max\";\n  if($rs = C_DB::fetchRecordset($query)){\n    $p_right =\"\";\n    $p_left =\"\";\n    $p_diff=\"\";          \n    while($row = C_DB::fetchRow($rs)){\n      $diff = $row[\"rght\"] -$row[\"lft\"];\n\n      if($diff == $p_diff){\n        $result.= \"&lt;li&gt;\".$row['title'].\"&lt;/li&gt;\";\n      }elseif (($row[\"rght\"] - $row[\"lft\"] &gt; 1) &amp;&amp; ($row[\"rght\"] &gt; $p_right)){\n        $result. \"&lt;ul&gt;\";\n        $result.= \"&lt;li&gt;\".$row['title'].\"&lt;/li&gt;\";\n\n      }else{\n        $result.= \"&lt;li&gt;\".$row['title'].\"&lt;/li&gt;\";\n      } \n\n      $p_right = $row[\"rght\"];\n      $p_left = $row[\"lft\"];\n      $p_diff = $diff;\n    }\n  }\n  $result.= \"&lt;/ul&gt;\";\n  return $result;\n} \n</code></pre>\n\n<p>Here is my sample table:</p>\n\n<pre><code>|ID  |  TITLE | lft| rght |\n|1   | Cat 1  | 1      |    16       |\n|18  | Cat 2  | 3      |    4       |\n|22  | Cat 3  | 5      |    6       |\n|28  | Cat 4  | 7      |    8       |\n|34  | Cat 5  | 9      |    9       |\n|46  | Cat 6  | 11      |    10       |\n|47  | Cat 7  | 13      |    12       |\n|49  | Cat 8  | 15      |    14       | \n</code></pre>\n\n<p>Now it outputs something like:</p>\n\n<pre><code>    &lt;ul&gt;\n&lt;li&gt;Cat 1&lt;/li&gt;\n&lt;li&gt;Cat 2&lt;/li&gt;\n&lt;li&gt;Cat 3&lt;/li&gt;\n&lt;li&gt;Cat 4&lt;/li&gt;\n&lt;li&gt;Cat 5&lt;/li&gt;\n&lt;li&gt;Cat 6&lt;/li&gt;\n&lt;li&gt;Cat 7&lt;/li&gt;\n&lt;li&gt;Cat 8&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Can anyone tell me why or how it will output the list in hierarchical a structure?</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1300567/php-infinite-loop/1300599#1300599\">Related topic</a></p>\n"},{"tags":["php","mysql","wordpress","wsod"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13278320,"title":"Wordpress WSOD on install","body":"<p>I'm having some trouble with a brand new WP-install. I'm trying to install it on a clients host. There was already an installation of WP when i began my installation. I asked the client about it and was tolk i could remove it, it was just for test from their side. I saved it however and also copied the db and stuff. </p>\n\n<p>Then, i removed all files from the FTP, i removed all the tables in the DB and all that jazz.\nThen, i took a brand new downloaded version of WP and uploaded it. I set all the proper values in wp-config.php and then launched the site and got a white screen of death. </p>\n\n<p>I removed the wp-config.php and i got the \"There's no wp-config\"-stuff. I tried to alter the file and and even used the wisard, either way i got a WSOD or a WP-error. I get redirected to \"wp-admin/install.php\" but that's it. \nIn the install.php I started to echo stuff to see where the crash were. \nIt seems that it crashed on this line:</p>\n\n<pre><code>require_once( dirname( dirname( __FILE__ ) ) . '/wp-load.php' );\n</code></pre>\n\n<p>Then, i tried to set the define('WP_HOME', '') and d define('WP_SITEURL', '') to the actual URL. \nI tried even to take the old sites .htaccess file, but it gave me nothing.\nThen i started to google and found nothing.</p>\n\n<p>After this, i gave up and installed all the old tables the client had there before for testing, and then uploaded the old site. Still a WSOD. </p>\n\n<p>Anybody who knows what's going on here? </p>\n"},{"tags":["php","login"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":34,"score":-5,"question_id":13278277,"title":"Hack password form that uses method post","body":"<p>My brother set up a simple PHP web page that uses an encrypted password stored inside the login.php page that compares it to the form submitted and if matched, the user is authorized as admin. I wanted to see if this is a secure method, but I didn't really get anywhere. Is there such a way to hack this simple login?</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":44,"score":-1,"question_id":13277554,"title":"Query doesn't work with WHERE AND only with WHERE","body":"<p>The single query for title works, but more than one song with the title exist. so the new query that includes artist doesn't work. ALthough EXACT search for the song title is correct and works with single query.</p>\n\n<p>what am i doing wrong</p>\n\n<pre><code>            //$checkTitle = mysql_query(\"SELECT * from lyrics WHERE title = '$querytitle'\");\n            $checkTitle = mysql_query(\"SELECT * FROM lyrics WHERE artist = '$queryArtist' AND title = '$queryTitle'\");\n            $result = mysql_fetch_array($checkTitle);\n            if (!$checkTitle) {\n                die('Query Failed');\n            } \n            if ($result['title'] == $querytitle)  {\n            ?&gt;&lt;div id='message'&gt;Song Titled Already Exist &lt;?php echo $cleanTitle; ?&gt; by Artist : &lt;? echo $artist; ?&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;?\n            } else {\n            ?&gt;&lt;div id=\"message\"&gt;Song Titled : &lt;?php echo $cleanTitle; ?&gt; has been added to the database! - &lt;a href=\"&lt;?php echo $siteURL; ?&gt;artist.php?aid=&lt;?php echo $artist; ?&gt;\" target=\"_Blank\"&gt;View Artist Page&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt; &lt;?php echo $queryArtist; ?&gt;&lt;?\n            print_r($result); // the data returned from the query\n            }\n</code></pre>\n"},{"tags":["php","generation"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":29,"score":4,"question_id":13277949,"title":"How to generate adaptive text that curves inside a circle in php?","body":"<p>I am trying to create an image with a circle and some text on it where the text curves around the inside of the circle. The circle is adaptive and I want the text inside it to be adaptive. </p>\n\n<p>Until now I have the following code that generates a text that curves: </p>\n\n<pre><code>    $row1=\"line1\";\n    $degrees = (130/strlen($row1));\n    imageellipse ( $im , 250 , 250 , 390 , 390 , $black );\n    imageellipse ( $im , 250 , 250 , 398 , 398 , $black );\n\n    for ($i=0;$i&lt;strlen($row1);$i++) \n    {\n    $a = ($degrees*$i)+126-strlen($row1)/3;\n    $cos = cos(deg2rad($a));\n    $sin = sin(deg2rad($a));\n    $x = 0;\n    $y = 180;\n    $xt = round($cos*($x) - $sin*($y));\n    $yt = round($sin*($x) + $cos*($y));\n    imagettftext($im,14,180-($a),250+$xt,270+$yt,$red,'fonts\\times.TTF',$row1[$i]);\n    }\n</code></pre>\n\n<p>Can you please tell me how can I make it adaptive, so it can adapt with the generated ellipse??</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13277412,"title":"Running Ajax From HTML list Issues","body":"<p>I am trying to run Ajax on a web application which is suppose to list associated data with HTML List from MySQL database using jQuery and PHP.I have two tables in MySQL database called Item and Items as below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/CiD22.png\" alt=\"enter image description here\"></p>\n\n<p>and I have to PHP file called index.php and result.php as:\n================================================================== index.php</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n &lt;?php\n  $mysqli = new mysqli('localhost', 'root', '', 'testdb');\n   if ($mysqli-&gt;connect_errno) \n   {\n     die('Unable to connect!');\n   }\n  else{\n$query = 'SELECT * FROM items';\nif ($result = $mysqli-&gt;query($query)) \n{\n    if ($result-&gt;num_rows &gt; 0) \n    {\n    ?&gt;  \n        &lt;p&gt;\n            Select a language\n            &lt;ul id=\"item\"&gt;\n      &lt;?php     \nwhile($row = $result-&gt;fetch_assoc()){\n?&gt;      \n&lt;li&gt;&lt;div id=\"selectLanguage\"&gt;&lt;?php echo $row['item']; ?&gt;&lt;/div&gt;&lt;/li&gt;     \n&lt;?php           \n        }\n ?&gt;\n            &lt;/ul&gt;\n    &lt;/p&gt;\n    &lt;p id=\"result\"&gt;&lt;/p&gt;\n  &lt;?php\n    }\n    else \n    {\n        echo 'No records found!';\n    }\n    $result-&gt;close();\n}\nelse \n{\n    echo 'Error in query: $query. '.$mysqli-&gt;error;\n}\n    }\n    $mysqli-&gt;close();\n    ?&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"     type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function()\n        {\n            $('#selectLanguage').click(function()\n            {\n            alert(\"hello\");\n                if($(this).val() == '') return;\n                $.get(\n                    'results.php',\n                    { id : $(this).val() },\n                    function(data)\n                    {\n                        $('#result').html(data);\n                    }\n                );\n            });\n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and the result.php is\n====================================================================== result.php</p>\n\n<pre><code>&lt;?php\n$mysqli = new mysqli('localhost', 'root', '', 'testdb');\n$resultStr = '';\n $query = 'SELECT type FROM item where name='.$_GET['item'];\n if ($result = $mysqli-&gt;query($query)) \n {\nif ($result-&gt;num_rows &gt; 0) \n{\n    $resultStr.='&lt;ul&gt;';\n    while($row = $result-&gt;fetch_assoc())\n    {\n        $resultStr.= '&lt;li&gt;&lt;strong&gt;'.$row['id'].'&lt;/strong&gt; - '.$row['type'];\n    '&lt;/li&gt;';\n    }\n    $resultStr.= '&lt;/ul&gt;';\n}\nelse\n{\n    $resultStr = 'Nothing found';\n}\n     }\n    echo $resultStr;\n    ?&gt;\n</code></pre>\n\n<p>now the first part(index.php) is rendering the list base on the items table but I can't click at the second or third item besides none of them not returning any values to the page.\nCan you please let me know what I am doing wrong here?    </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13278220,"title":"Sorting and comparing an array based off of another array?","body":"<p>I have what seems to be a pretty simple problem, but having difficulties arriving at the solution in an elegant way.</p>\n\n<p>I have a simple administration system for a client whereby they can log in order their videos on their website. It uses jQuery UIâs draggable component, and then the result is saved as a JSON file and parsed by the front-end. My problem now though is, the JSON file may become out of date if the client uploads any videos to their Vimeo account</p>\n\n<p>So now Iâm fetching videos from their Vimeo account but left with the problem of, how do I order videos based on the previously-saved order, but appending any newly-uploaded videos to the end of the list for the client to be able to order?</p>\n\n<p>Answers in PHP please!</p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13277735,"title":"Create new table sans duplicate rows, preserve original order","body":"<p>A MySQL table has only 5 fields but hundreds of rows. With good advice (tks Lacoz) I have duplicated the table while ignoring the duplicate rows and now have a new table that does not contain the duplicated rows.</p>\n\n<p>Problem: the new table was inputted in a scrambled order (i.e. when observing the first field, called <code>rel_id</code>). While this doesn't matter in the real world, at this point it would be helpful to have them in the same order (for referring to past notes, etc).</p>\n\n<p>Example Row: (Note that <code>rel_id</code> is an auto-incrementing, primary key field)</p>\n\n<pre><code>'rel_id' =&gt; 1\n'host' =&gt; 17\n'host_type' =&gt; 'client'\n'rep' =&gt; 7\n'rep_type =&gt; 'cli_mgr'\n</code></pre>\n\n<p>Here is the method by which user Lacoz assisted me to create the new table, without duplicates:</p>\n\n<pre><code>mysql_query(\"create table rels2 like rels\");\nmysql_query(\"alter table rels2 add unique index(host,host_type,rep,rep_type)\");\nmysql_query(\"insert IGNORE into rels2 select * from rels\");\n</code></pre>\n\n<p>I tried adding \"ORDER BY\" to the final query, like this:</p>\n\n<pre><code>mysql_query(\"insert IGNORE into rels2 select * from rels ORDER BY rel_id\");\n</code></pre>\n\n<p>but it didn't solve the problem. Rows are still in scrambled order.</p>\n\n<p>First Question: Why did this happen?</p>\n\n<p>Second Question: How could I have ensured that the data was input in the correct order?</p>\n\n<p>Necessary Outcome: For various reasons I really need the data returned to its former appearance (but sans the duplicates). Can someone suggest another approach, even a php script, to accomplish this?</p>\n\n<p>PS: After several google searches I don't think it's possible to sort the table's raw data, only the output. Correct? (It is hard to be sure when a novice to both the concepts and the terminology - we all must start somewhere).</p>\n"},{"tags":["php","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13276140,"title":"Make Codeigniter 2.1.3 allow a Facebook backlink","body":"<p>It happens that I need to fix a Codeigniter issue urgently while being in no way familiar with the tool.</p>\n\n<p>Simple question: how do I allow <strong>links back from Facebook</strong> like <a href=\"http://www.xxx.de/?fb_action_ids=4811819099741&amp;fb_action_types=og.likes&amp;fb_source=timeline_og&amp;action_object_map=%7B%224811819099741%22%3A447766801925104%7D&amp;action_type_map=%7B%224811819099741%22%3A%22og.likes%22%7D&amp;action_ref_map=%5B%5D\" rel=\"nofollow\">http://www.xxx.de/?fb_action_ids=4811819099741&amp;fb_action_types=og.likes&amp;fb_source=timeline_og&amp;action_object_map=%7B%224811819099741%22%3A447766801925104%7D&amp;action_type_map=%7B%224811819099741%22%3A%22og.likes%22%7D&amp;action_ref_map=%5B%5D</a></p>\n\n<p>without creating either the infamous <em>The URI you submitted has disallowed characters</em> - which I can fix by setting $config['permitted_uri_chars'] - and neither a 404 because of the internal redirects of CI.</p>\n\n<p>I'd love to learn of a quick fix for that issue.</p>\n"},{"tags":["php","mysql","cpanel","elgg"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":18,"score":-2,"question_id":13277843,"title":"website log in page give error","body":"<p>i'm installing a elgg software. now i'm facing a problem on my website. </p>\n\n<p>when i'm going to log in page, enter my username and password, and after that enter then he showing this page. please see and help me</p>\n\n<blockquote>\n  <p>You don't have permission to access /engine/handlers/page_handler.php\n  on this server.</p>\n  \n  <p>Additionally, a 404 Not Found error was encountered while trying to\n  use an ErrorDocument to handle the request.</p>\n</blockquote>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13277959,"title":"Mysql query to show results from between two columns","body":"<p>Hi i have a mysql database, in which i have two columns Year_from &amp; Year_two.</p>\n\n<p>what i am trying to do is find a way where i can show the dates that are missing as buttons, for example if year from is 2006 and year to is 2008, i of course want to show 2006, <strong>2007</strong> and 2008. is this possible, as there isn't the value of 2007 in the database.</p>\n\n<p>I haven't worked on any code yet as i am not sure if this is possible, or how i would achieve it.</p>\n\n<p>Any ideas would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","frameworks","smarty","template-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13278106,"title":"smarty: why template not showing?","body":"<p>I am using smarty template engine.</p>\n\n<p>Here working/layout.tpl is showing url: <a href=\"http://example.com/index.php?module=front:working\" rel=\"nofollow\">http://example.com/index.php?module=front:working</a></p>\n\n<p>But no layout is showing for this: <a href=\"http://example.com/index.php?module=front:notworking\" rel=\"nofollow\">http://example.com/index.php?module=front:notworking</a> although I have made the notworking module and template from the working module and template. The module is working but it can not show the notworking/layout.tpl</p>\n\n<p>The system is showing like as it is showing the default layout.tpl but its not showing in the browser.</p>\n\n<p>I have tried using full path of the tpl but its not working :(</p>\n\n<p>Can anyone please help me?</p>\n"},{"tags":["php","mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13260945,"title":"Adding search filters to my table colums","body":"<p>I need someone to show me how you would create a simple table to search each colum of data that I insert from this form. I am looking for the easiest way to create a table with search boxes that can filter each colum. \nDB: Mysql\nField types: text\nBelow shows the variables I am using for my form that posts the data to the database.<br>\n  \n\n<pre><code>if (isset($_POST[\"submit\"]) &amp;&amp; $_POST[\"submit\"] == \"Submit\")\n{\n    for ($count = 1; $count &lt;= 9; $count++)\n    {\n        $fields[$count] = \"\";\n        if (isset($_POST[\"field\" . $count . \"\"]))\n        {\n            $fields[$count] = trim($_POST[\"field\" . $count . \"\"]);\n            //echo $fields[$count] . \"&lt;br /&gt;\";\n        }\n    }\n\n    $con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n    $fromzip = mysql_real_escape_string($_POST['fromzip']);\n    $tozip = mysql_real_escape_string($_POST['tozip']);\n\n    $insert = \"INSERT INTO Carriers (`fromzip` ,`tozip` ,`date`) VALUES('$fromzip' ,'$tozip' , NOW())\";\n    mysql_query($insert) or die(mysql_error());\n\n    $select = \"SELECT `fromzip` ,`tozip` , FROM `Carriers` ORDER BY `date` DESC;\";\n    $result = mysql_query($select) or die(mysql_error());\n\n}\n?&gt;\n&lt;style =\"text-align: center; margin-left: auto; margin-right: auto;\"&gt;&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div\n style=\"border: 2px solid rgb(0, 0, 0); margin: 16px 20px 20px; width: 400px; background-color: rgb(236, 233, 216); text-align: center; float: left;\"&gt;\n&lt;form action=\"\" method=\"post\";\"&gt;\n  &lt;div\n  style=\"margin: 8px auto auto; width: 300px; font-family: arial; text-align: left;\"&gt;&lt;br&gt;\n  &lt;table style=\"font-weight: normal; width: 100%; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n   &lt;table\n style=\"font-weight: normal; width: 100%; text-align: right; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n    &lt;tbody&gt;\n            &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Pick Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"fromzip\" name=\"fromzip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Drop Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"tozip\" name=\"tozip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;p style=\"text-align: center;\"&gt;&lt;input name=\"submit\" value=\"Submit\"\n class=\"submit\" type=\"submit\"&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;p style=\"margin-bottom: -20px;\"&gt;&amp;nbsp;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12768205,"title":"Can we store a database on a client machine?","body":"<p>I am looking for application development in such a way that it should work whether the user has an Internet connection or not. </p>\n\n<p>I am working on a mobile <a href=\"http://en.wikipedia.org/wiki/PHP\" rel=\"nofollow\">PHP</a>/<a href=\"http://en.wikipedia.org/wiki/MySQL\" rel=\"nofollow\">MySQL</a> based application. Sometimes an Internet connection is not available at the required place. I want to keep the database in a buffer and want to update it as it gets connected with the Internet, so that the application can work without any interruptions.</p>\n"},{"tags":["php","search","amazon-cloudsearch"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":11376838,"title":"alternative to amazon cloud search","body":"<p>We are looking for a search based solution for our website which will have millions of music records. \nWe are looking for amazon cloud search but it will be a bit costly as we have to pay 90$ per month. \nIs there any cheaper /open source solution ?</p>\n\n<p>Cheers</p>\n"},{"tags":["php","datetime","unix-timestamp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13277368,"title":"Why is getTimestamp() affected by setTimezone()","body":"<p>I've been struggling quite a while with PHP's DateTime classes. My understanding is that a UNIX-timstamp is always in UTC, regardless of the timezone.</p>\n\n<p>That's why I am quite confused with this code sample.</p>\n\n<pre><code>$date1 = new DateTime(\"@1351382400\"); // Sun Oct 28 2012 02:00:00 GMT+2 (DST)\nvar_dump($date1-&gt;getTimestamp()); //prints: 1351382400\n$date1-&gt;setTimezone(new DateTimeZone(\"Europe/Stockholm\"););\nvar_dump($date1-&gt;getTimestamp()); //prints: 1351386000\n</code></pre>\n\n<p>As you can see setTimestamp() changes the result of getTimestamp(). </p>\n\n<p>Is it expected that setTimestamp() affects getTimestamp()?</p>\n"},{"tags":["php","doctrine","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13277117,"title":"Manually Setting the ID , doctrine","body":"<p>I am new to doctrine. I have a following User class with annotations. The primary key is $userid, which is string. Instead of setting the $userid automatically, I want to set the id manually. How ever I am not sure how to do that?</p>\n\n<pre><code>&lt;?php\n\nnamespace models;\n\n/**\n * User\n *\n * @Table(name=\"user\")\n * @Entity\n */\nclass User\n{\n/**\n * @var string $userid\n *\n * @Column(name=\"userid\", type=\"string\", length=255, precision=0, scale=0, nullable=false, unique=false)\n * @Id\n * @GeneratedValue(strategy=\"IDENTITY\")\n */\nprivate $userid;\n\n/**\n * @var string $fullname\n *\n * @Column(name=\"fullname\", type=\"string\", length=255, precision=0, scale=0, nullable=false, unique=false)\n */\nprivate $fullname;\n\n/**\n * @var string $password\n *\n * @Column(name=\"password\", type=\"string\", length=255, precision=0, scale=0, nullable=false, unique=false)\n */\nprivate $password;\n\n/**\n * @var string $email\n *\n * @Column(name=\"email\", type=\"string\", length=255, precision=0, scale=0, nullable=false, unique=false)\n */\nprivate $email;\n\n/**\n * Get userid\n *\n * @return string $userid\n */\npublic function getUserid()\n{\n    return $this-&gt;userid;\n}\n\n/**\n * Set fullname\n *\n * @param string $fullname\n */\npublic function setFullname($fullname)\n{\n    $this-&gt;fullname = $fullname;\n}\n\n/**\n * Get fullname\n *\n * @return string $fullname\n */\npublic function getFullname()\n{\n    return $this-&gt;fullname;\n}\n\n/**\n * Set password\n *\n * @param string $password\n */\npublic function setPassword($password)\n{\n    $this-&gt;password = $password;\n}\n\n/**\n * Get password\n *\n * @return string $password\n */\npublic function getPassword()\n{\n    return $this-&gt;password;\n}\n\n/**\n * Set email\n *\n * @param string $email\n */\npublic function setEmail($email)\n{\n    $this-&gt;email = $email;\n}\n\n/**\n * Get email\n *\n * @return string $email\n */\npublic function getEmail()\n{\n    return $this-&gt;email;\n}\n}\n</code></pre>\n\n<p>If I even make the id public and set it myself, the doctrine 2 still inserts the default value, which is empty string, leading to Integrity constraint violation. Can someone provide me detailed solution for this.</p>\n"},{"tags":["php","php-5.3","json-encode"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":44,"score":-2,"question_id":13274130,"title":"json_encode PHP fail?","body":"<p>I have PHP code:</p>\n\n<pre><code>while($row=mysql_fetch_assoc($res))\n{\n    $data=$row;\n    $test=$row[\"content\"];\n}\nheader('Content-type: application/json'); \necho json_encode($data).'&lt;br/&gt;---------data[content]-&gt;';\necho($data[\"content\"]);\n</code></pre>\n\n<p>my output is:</p>\n\n<pre><code>{\"ID\":\"7\",\"content\":null}\n\ndata[content]-&gt;dknbsj fhsmnfbs fgbsjhdfg&lt;a href=\"http://abc.com:8080/wordpress/wp-content/uploads/2012/11/vista.jpg\"&gt;&lt;img class=\"alignnone size-medium wp-image-9\" title=\"vista\" src=\"http://abc.com:8080/wordpress/wp-content/uploads/2012/11/vista-300x200.jpg\" alt=\"\" width=\"300\" height=\"200\" /&gt;&lt;/a&gt; oggggg\n</code></pre>\n\n<p>why <code>$data[\"content\"]</code> have data but <code>json[\"content\"]</code> is null\nmy PHP version: 5.3.8</p>\n\n<p>Anybody know why?</p>\n"},{"tags":["php","facebook-timeline"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":3,"view_count":86,"score":0,"question_id":13249096,"title":"Show website activities on Facebook timeline?","body":"<p>How can I show website activity on the Facebook timeline?</p>\n\n<p>I integrated Facebook API and <a href=\"http://en.wikipedia.org/wiki/Facebook_Platform#Facebook_Connect\" rel=\"nofollow\">Facebook Connect</a>. Now, if any new user uploads a video on the website then I want to display this activity on the Facebook log. What function of Facebook API can I use for this?</p>\n"},{"tags":["php","json","amazon-web-services","amazon-cloudsearch"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":13229426,"title":"display Amazon CloudSearch result of Json formate in php","body":"<p>hi i am using Amazon CloudSearch technology . so want to display Amazon CloudSearch result of Json formate in my  php file.below diplaying the code of Amazon CloudSearch result of Json formate  what i am getting when i submit that url.</p>\n\n<p>code starts from here</p>\n\n<pre><code>stdClass Object\n    (\n        [rank] =&gt; -text_relevance\n        [match-expr] =&gt; (label 'gold')\n        [hits] =&gt; stdClass Object\n            (\n                [found] =&gt; 2\n                [start] =&gt; 0\n                [hit] =&gt; Array\n                    (\n                        [0] =&gt; stdClass Object\n                            (\n                                [id] =&gt; ras_csv_540\n                                [data] =&gt; stdClass Object\n                                    (\n                                        [all_us_sic_codes] =&gt; Array\n                                            (\n                                                [0] =&gt; 55119901\n                                            )\n\n                                        [company_name] =&gt; Array\n                                            (\n                                                [0] =&gt; Gold Key Automotive Ltd\n                                            )\n\n                                    )\n\n                            )\n\n                        [1] =&gt; stdClass Object\n                            (\n                                [id] =&gt; saga_csv_540\n                                [data] =&gt; stdClass Object\n                                    (\n                                        [all_us_sic_codes] =&gt; Array\n                                            (\n                                                [0] =&gt; 55119901\n                                            )\n\n                                        [company_name] =&gt; Array\n                                            (\n                                                [0] =&gt; Gold Key Automotive Ltd\n                                            )\n\n                                    )\n\n                            )\n\n                    )\n\n            )\n\n        [facets] =&gt; stdClass Object\n            (\n                [contact_title] =&gt; stdClass Object\n                    (\n                        [constraints] =&gt; Array\n                            (\n                                [0] =&gt; stdClass Object\n                                    (\n                                        [value] =&gt; ATV Dealer\n                                        [count] =&gt; 2\n                                    )\n\n                            )\n\n                    )\n\n                [primary_city] =&gt; stdClass Object\n                    (\n                        [constraints] =&gt; Array\n                            (\n                                [0] =&gt; stdClass Object\n                                    (\n                                        [value] =&gt; Surrey\n                                        [count] =&gt; 2\n                                    )\n\n                            )\n\n                    )\n\n            )\n\n        [info] =&gt; stdClass Object\n            (\n                [rid] =&gt; e2467862eecf73ecc33b5ac97bb48a2ce547e09ccc6aef4ca2afe3b77febad30db8b184c072d5d32\n                [time-ms] =&gt; 3\n                [cpu-time-ms] =&gt; 0\n            )\n\n    )\n</code></pre>\n\n<p>want get only  [0] => Gold Key Automotive Ltd line in php</p>\n"},{"tags":["php","jquery","ajax","wordpress","html5-video"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":65,"score":3,"question_id":13080708,"title":"Initialize video.js after page/content loaded via ajax","body":"<p>I'm currently in the process of setting up <a href=\"http://www.infinite-scroll.com/\" rel=\"nofollow\">infinite scroll</a> on one of my wordpress sites which loads the next set of posts via ajax once you've scrolled to the bottom of the page. Because of this, I have been unable to get videojs working properly (readas: at all); so am hoping someone can help me with this.</p>\n\n<p>First and foremost, I'm using videojs code directly in my theme, which pulls data from a posts custom fields, and adds the post id to the video tags id attribute. Here's a sample of the template code:</p>\n\n<pre><code>&lt;video id=\"video_&lt;?php echo get_the_id(); ?&gt;\" class=\"video-js vjs-default-skin\"  \n  controls preload=\"auto\" width=\"640\" height=\"264\"  \n  poster=\"&lt;?php echo $poster; ?&gt;\"&gt;  \n &lt;source src=\"&lt;?php echo $mp4vid; ?&gt;\" type='video/mp4' /&gt;  \n&lt;/video&gt;\n</code></pre>\n\n<p>(To note, I'll add ogg/webm later)</p>\n\n<p>I've seen the docs page that says to add the following block:</p>\n\n<pre><code>_V_(\"example_video_1\", {}, function(){\n  // Player (this) is initialized and ready.\n});\n</code></pre>\n\n<p>but no matter where I add it (with the necessary attributes added), the player does not work. I mean, with the above I get standard html5 video player, but has none of the benefits of videojs.</p>\n\n<p>Anyone have a working solution for something like this?</p>\n"},{"tags":["php","mysql","amazon-s3","amazon-web-services","amazon-cloudsearch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13268566,"title":"how to get distinct record from table field in Amazon CloudSearch","body":"<p>hi i am new to Amazon CloudSearch.in mysql we are using Distinct keyword  to get  unique records.how to use this feature in  Amazon CloudSearch..please help me</p>\n"},{"tags":["php","forms"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13276598,"title":"storing checkbox on multi step form with php session","body":"<p>i have a form in three steps, from step 1 to step two there is a checkbox, i would like to keep the checkbox value in a session and also to show if it's checked or unchecked even if the user goes to step 3 of the form then comes back to step two,\nright now on form submit i have all the $_POST vars in $_SESSION vars but i cant make it work with checkboxes, this is what i got right now:</p>\n\n<pre><code>   &lt;input type=\"checkbox\" value=\"&lt;?php  echo isset($_POST['afficher_ddn'])? \"1\":\"0\";  ?&gt;\"\n   style=\"margin-left: 20px;\" name=\"afficher_ddn\" id=\"afficher_ddn\" \n&lt;?php echo $_SESSION['afficher_ddn']==\"1\" ? \"checked\" : \"\"; ?&gt; /&gt;\n</code></pre>\n\n<p>but this doesnt work.</p>\n"},{"tags":["php","sql","insert","condition"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13277663,"title":"Insert intoâTable1â if a condition is met in âTableâ 2 SQL","body":"<p><strong>I posted a similar question to this which was about deleting, This one is about inserting.</strong></p>\n\n<p>Hello,</p>\n\n<p>I'm making a little messaging application in PHP using a SQL database but have faced a small problem. I will try explain this as best as possible so here goes...</p>\n\n<p>I have a table called \"users\" as following:</p>\n\n<pre><code>ID | Username | Password | Email \n-------------------------------------------\n1  | Account1 | Pass 1   | email1@mail.com\n2  | Account2 | Pass 2   | email2@mail.com\n</code></pre>\n\n<p>I then have another called \"friends\" as following:</p>\n\n<pre><code>UserID | FriendID\n------------------\n   1   |     2    \n</code></pre>\n\n<p>So what I need is a query that will insert data into the \"friends\" table if a condition is met in the \"users\" table</p>\n\n<p>Example:</p>\n\n<pre><code>INSERT INTO 'friends' VALUES('$UserID', '$FriendID') IF (users.Password = $Password WHERE users.ID = $UserID)\n</code></pre>\n\n<p>I hope that was a good enough explanation but I'm finding this difficult to explain.</p>\n\n<p>Thank for your help :)</p>\n"},{"tags":["php","elgg"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13277807,"title":"Throttling PHPmailer for use in Elgg","body":"<p>I'll be using the social networking software, Elgg, for an organization that needs to send mass emails to specific groups when they need to.  The number of emails can range from 10-1000 depending on the group.  Web host only allows 500 emails per hour, so I need to throttle the script to send one email every 8 seconds.</p>\n\n<p>I'm using PHPmailer with Elgg.   PHPmailer says that I should use these two scripts (code below) in conjunction with each other in order to throttle the mailing.  I know how I'm going to use the code in the mailing script, I'm just unsure about a couple things.</p>\n\n<p>1) I don't really understand the purpose for the safemode</p>\n\n<p>2) After looking up set_time_limit, it looks like I should set this to an amount of time to allow all potential emails to be sent, whether it's 10 or 1000? Or is this a max of 30 seconds per loop in case it needs to timeout?</p>\n\n<p>3) How should I set this to get what I need?</p>\n\n<p>Links to PHPmailer describing code:</p>\n\n<p><a href=\"http://phpmailer.worxware.com/index.php?pg=tip_ext\" rel=\"nofollow\">http://phpmailer.worxware.com/index.php?pg=tip_ext</a></p>\n\n<p><a href=\"http://phpmailer.worxware.com/index.php?pg=tip_pause\" rel=\"nofollow\">http://phpmailer.worxware.com/index.php?pg=tip_pause</a></p>\n\n<pre><code> &lt;?php\n\n/* The following code snippet with set the maximum execution time\n * of your script to 300 seconds (5 minutes)\n * Note: set_time_limit() does not work with safe_mode enabled\n */\n\n$safeMode = ( @ini_get(\"safe_mode\") == 'On' || @ini_get(\"safe_mode\") === 1 ) ? TRUE : FALSE;\nif ( $safeMode === FALSE ) {\n  set_time_limit(300); // Sets maximum execution time to 5 minutes (300 seconds)\n  // ini_set(\"max_execution_time\", \"300\"); // this does the same as \"set_time_limit(300)\"\n}\n\necho \"max_execution_time \" . ini_get('max_execution_time') . \"&lt;br&gt;\";\n\n/* if you are using a loop to execute your mailing list (example: from a database),\n * put the command in the loop\n */\n\nwhile (1==1) {\n  set_time_limit(30); // sets (or resets) maximum  execution time to 30 seconds)\n  // .... put code to process in here\n  if (1!=1) {\n    break;\n  }\n}\n\n?&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;?php\n\n/* Note: set_time_limit() does not work with safe_mode enabled */\n\nwhile (1==1) {\n  set_time_limit(30); // sets (or resets) maximum  execution time to 30 seconds)\n  // .... put code to process in here\n\n  usleep(1000000); // sleep for 1 million micro seconds - will not work with Windows servers / PHP4\n  // sleep(1); // sleep for 1 seconds (use with Windows servers / PHP4\n  if (1!=1) {\n    break;\n  }\n}\n\n?&gt;\n</code></pre>\n"},{"tags":["php","ios","xml","xcode","nsarray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13277548,"title":"Empty NSArray when it should be filled","body":"<p>I have been trying to get a mysql entry into a nsarray on iOS using xml. I was getting an \"empty\" array from my log (though it was saying that I was downloading information from my website) and now believe that it is coming from the php below not producing a proper attribute, thereby sending nothing. However, I thought I was doing it correctly. <strong>What am I doing wrong that it is producing an \"empty\" output.</strong> The actual output in the xcode log is is {} at index 0. My original question can be found here but should not be necessary: <a href=\"http://stackoverflow.com/questions/13254934/nsarray-is-null-in-ios-despite-mysql-entry\">NSArray is empty in iOS despite mysql entry</a></p>\n\n<pre><code>&lt;?php\n\n$login = \"hello\";\n$dbh = new PDO('(censored)');\n$sql = \"SELECT oneam FROM login WHERE username = '$login'\";\n\n$q = $dbh-&gt;prepare( $sql );\n\n$doc = new DOMDocument();\n$r = $doc-&gt;createElement( \"oneam\" );\n$doc-&gt;appendChild( $r );\nforeach ( $q-&gt;fetchAll() as $row) {\n    $e = $doc-&gt;createElement( \"location\" );\n\n    $e-&gt;setAttribute( 'its', $row['oneam']);\n\n    $r-&gt;appendChild( $e );\n\n}\nprint $doc-&gt;saveXML();\n?&gt;\n</code></pre>\n"},{"tags":["php","class","object"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":7883029,"title":"Why are private variables in an object \"visible\" from the outside world?","body":"<p>Given this example:</p>\n\n<pre><code>class Database\n{\n    private $host,\n            $database, \n            $username, \n            $password,\n            $type;\n\n    public $active_connection;\n\n    //Some methods\n}\n\n\nclass Page\n{\n    private $db;\n\n\n    public function __construct($id)\n    {\n        // Some code\n\n        $this-&gt;db = new Database($id);\n    }\n\n    //Some Methods\n}\n\n\n$page = new Page(0);\n\nvar_dump($page);\n</code></pre>\n\n<p>This will output the private variables of Database Object, even though they are marked as private (and so, as I understand it, unusable by the outside world).</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Is this a security risk?</li>\n<li>Is there a way to effectively hide those variables marked as private?</li>\n</ol>\n\n<p>thanks in advance</p>\n\n<p>EDIT:\nIn this project, the admin section will provide the ability to create custom PHP scripts to incorporate in the site, as sections. Since this is being developed to a third party entity, my concern is that, for some reason, the costumer inadvertently dumps the $page object (which is, in our code, the main modifiable object) in order to \"explore\" it.</p>\n"},{"tags":["php","string","templates"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":131,"score":2,"question_id":7683133,"title":"Does PHP have a feature like Python's template strings?","body":"<p>Python has a feature called <a href=\"http://docs.python.org/release/2.5.2/lib/node40.html\" rel=\"nofollow\">template strings</a>.</p>\n\n<pre><code>&gt;&gt;&gt; from string import Template\n&gt;&gt;&gt; s = Template('$who likes $what')\n&gt;&gt;&gt; s.substitute(who='tim', what='kung pao')\n'tim likes kung pao'\n</code></pre>\n\n<p>I know that PHP allows you to write:</p>\n\n<pre><code>\"Hello $person\"\n</code></pre>\n\n<p>and have <code>$person</code> substituted, but the templates can be reused in various sections of the code?</p>\n"},{"tags":["php","json"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":42,"score":-2,"question_id":13277587,"title":"Parse JSON array with PHP scipt","body":"<p>I try to read a JSON object and parse it. The code that I'm using is the following one:</p>\n\n<pre><code>&lt;?php\n\n$json_string2 = '{\"Products\":[\n                    {\"Size\":\"klklkkl\",\n                        \"No\":\"1352285923\",\n                        \"KnowDate\":true,\n                        \"Subdata\":[\n                        {\n                            \"item\" : \"1\",\n                        },\n                        {\n                            \"item\" : \"455\",\n                        }],\n                        \"Info\":true\n                    }]\n                }';\n\n$obj = json_decode($json_string2, true);\n\nforeach($obj as $key =&gt; $value)\n{\n    $size = $value-&gt;{'Size'};\n    $no = $value-&gt;{'No'};\n    $knowdate = $value-&gt;{'KnowDate'};\n    $info = $value-&gt;{'Info'};\n}\n.\n.\n?&gt;\n</code></pre>\n\n<p>But in the line into the for loop i receive the following error:</p>\n\n<pre><code>Notice: Trying to get property of non-object in C:\\xampp\\htdocs\\PhpProject2\\parseJson.php on line...\n</code></pre>\n\n<p>What is the solution to this problem?Does anyone knows?</p>\n"},{"tags":["php","jquery","frameworks"],"answer_count":9,"favorite_count":4,"up_vote_count":9,"down_vote_count":0,"view_count":13015,"score":9,"question_id":842886,"title":"PHP Framework with full jQuery integration?","body":"<p>i'm tired of reinventing the wheel on PHP and loving jQuery to death so which framework fits my needs?</p>\n"},{"tags":["php","sql","propel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13265518,"title":"Chaining filterByXXX bug?","body":"<p>I have the following code:</p>\n\n<pre><code>$somethingArray = array( 3, 4, 5 );\n\n$myObjects = MyObjQuery::create()\n  -&gt;filterBySomething( $somethingArray )\n  -&gt;filterById( array( 'min' =&gt; $minMyObjID ) )\n  -&gt;orderByObjTimestamp('DESC')\n  -&gt;find();\n</code></pre>\n\n<p>Which according to the Propel documentation, should result in a SQL command that ends up checking if the 'something' is IN the somethingArray array, and that the id is > $minMyObjID. But instead, the id is IN instead of >. </p>\n\n<p>If I do the following instead:</p>\n\n<pre><code>$myObjects = MyObjQuery::create()\n  -&gt;filterBySomething( $somethingArray )\n  -&gt;where( 'id &gt; ' . $minMyObjID )\n  -&gt;orderByObjTimestamp('DESC')\n  -&gt;find();\n</code></pre>\n\n<p>The resulting SQL is what I would expect. Is this a Propel bug, or am I misunderstanding the documentation when it comes to filterByXXX parameters?</p>\n"},{"tags":["php","php5","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2826,"score":2,"question_id":5295697,"title":"Yii framework,CGridView Checkbox help","body":"<p>I want an alert that pops when user tries to click \"add to favorite\"<br>\n1) if there's no checkboxes checked.<br >\n2) I also want to know how to get the values of the checked boxes <br> here's my current code on backend</p>\n\n<pre><code>&lt;?php $this-&gt;widget('zii.widgets.grid.CGridView',array(\n'id' =&gt; 'wsrecruitcvhead-grid',\n'dataProvider' =&gt; $model-&gt;search(),\n#'filter' =&gt; $model,\n'columns' =&gt; array(\n    array(\n      'name' =&gt;'',\n      'value' =&gt; 'CHtml::checkBox(\"rid[]\",null,array(\"value\"=&gt;$data-&gt;ResumeID,\"id\"=&gt;\"rid_\".$data-&gt;ResumeID))',\n      'type'=&gt;'raw',\n      'htmlOptions' =&gt; array('width'=&gt;5),\n      'visible' =&gt; !Yii::app()-&gt;user-&gt;isGuest,\n    ),\n    array(\n       'name' =&gt; 'ResumeTitle',\n       'value' =&gt;$model-&gt;ResumeTitle,\n    ),\n    'ResumeSummaryIntroduction',\n    'Name',\n    array(\n        'class' =&gt; 'CButtonColumn',\n        'viewButtonUrl' =&gt; 'Yii::app()-&gt;createUrl(\"wsrecruitcvhead/view\",array(\"id\"=&gt;$data[\"ResumeID\"]))',\n        'template'=&gt;'{view}',\n    ),\n),\n</code></pre>\n\n<p>));\n?></p>\n\n<p>and here's the screen shot <code>http://pastebin.com/sEpJBCiU</code></p>\n"},{"tags":["php","arrays","multidimensional-array"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13274413,"title":"Move elements of multidimensional array","body":"<p>I'm receiving an array from a database - I have no control over what pieces of data are sent and in what order. This is what it currently looks like:</p>\n\n<pre><code>Array\n(\n    [itemCode] =&gt; Array\n        (\n            [0] =&gt; Array\n                (\n                    [code] =&gt; P\n                    [descShort] =&gt; Pepperoni\n                )\n\n            [1] =&gt; Array\n                (\n                    [code] =&gt; G\n                    [descShort] =&gt; Green Peppers\n                )\n\n            [2] =&gt; Array\n                (\n                    [code] =&gt; n\n                    [descShort] =&gt; No Sauce\n                )\n\n            [3] =&gt; Array\n                (\n                    [code] =&gt; x\n                    [descShort] =&gt; No Cheese\n                )\n\n            [4] =&gt; Array\n                (\n                    [code] =&gt; \n                    [descShort] =&gt; Regular Cheese\n                )\n\n            [5] =&gt; Array\n                (\n                    [code] =&gt; \n                    [descShort] =&gt; Regular Sauce\n                )\n\n        )\n\n)\n</code></pre>\n\n<p>In actual practice, there can be any number of elements before the No Sauce option (currently at index 3, but not always that way.) What the client wants is for the Cheese and Sauce items to always be at the end of the list and ordered this way: Regular Cheese, No Cheese, Regular Sauce, No Sauce.</p>\n\n<p>Again, keeping in mind that I have no control over how the array is initially created, and that there could be any number of other elements both before and between the elements in question, how can I make this happen? Something else to worry about is that at some point, there may be other options they want to include in this re-ordering (they may add an option for Extra Cheese and Extra Sauce, for example, and want them to be in specific positions as well.)</p>\n\n<p><strong>Added var_export</strong></p>\n\n<pre><code>array (\n  'itemCode' =&gt; \n  array (\n    0 =&gt; \n    array (\n      'code' =&gt; 'P',\n      'descShort' =&gt; 'Pepperoni',\n    ),\n    1 =&gt; \n    array (\n      'code' =&gt; 'G',\n      'descShort' =&gt; 'Green Peppers',\n    ),\n\n    2 =&gt; \n    array (\n      'code' =&gt; 'n',\n      'descShort' =&gt; 'No Sauce',\n    ),\n    3 =&gt; \n    array (\n      'code' =&gt; 'x',\n      'descShort' =&gt; 'No Cheese',\n    ),\n    4 =&gt; \n    array (\n      'code' =&gt; '',\n      'descShort' =&gt; 'Regular Cheese',\n    ),\n    5 =&gt; \n    array (\n      'code' =&gt; '',\n      'descShort' =&gt; 'Regular Sauce',\n    ),\n  ),\n)\n</code></pre>\n"},{"tags":["php","facebook-graph-api"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13271638,"title":"FB.api error on post when using Open Graph in PHP","body":"<p>I am using <a href=\"http://en.wikipedia.org/wiki/Facebook_Platform#Open_Graph_protocol\" rel=\"nofollow\">Open Graph</a> where Action Type is \"Repin\" and Object Types is \"Video\". When I try to post I get some error. How I can remove this error?</p>\n\n<p>Please see the code below. However, I have looked again and again on Open Graph action and object. In the error console, I am getting the response <code>HTTP//1.1 200 OK 1857</code>.</p>\n\n<pre><code>&lt;?php\n    require 'data/facebook/src/facebook.php';\n\n    $facebook = new Facebook(array(\n        'appId'  =&gt; 'xxxxxxxxxxxxxxx',\n        'secret' =&gt; 'xxxxxxxxxxxxxxxxxxx',\n    ));\n\n    // See if there is a user from a cookie\n    $user = $facebook-&gt;getUser();\n\n    if ($user) {\n        try {\n            // Proceed knowing you have a logged in user who's authenticated.\n            $user_profile = $facebook-&gt;api('/me');\n        }\n        catch (FacebookApiException $e) {\n            echo '&lt;pre&gt;'.htmlspecialchars(print_r($e, true)).'&lt;/pre&gt;';\n            $user = null;\n        }\n    }\n?&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" dir=\"ltr\" lang=\"en-US\"\n      xmlns:fb=\"https://www.facebook.com/2008/fbml\"&gt;\n    &lt;title&gt;OG Tutorial App&lt;/title&gt;\n    &lt;head prefix=\"og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# xxxxxxxxxx:                        http://ogp.me/ns/fb/xxxxxxxxxxx#\"&gt;\n        &lt;meta property=\"fb:app_id\" content=\"xxxxxxxxxxxxx\" /&gt;\n        &lt;meta property=\"og:type\"   content=\"&lt;namespace&gt;:&lt;action&gt;\" /&gt;\n        &lt;meta property=\"og:url\"    content=\"&lt;#### My URL ######&gt;\" /&gt;\n        &lt;meta property=\"og:title\"  content=\"Sample Video\" /&gt;\n        &lt;meta property=\"og:image\"  content=\"http://xxxxxxxxxxxxxxxxxxxximage.jpeg\" /&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            ########### MAIN FOCUS ON THESE BELOW LINES ###############################\n            function postCook()\n            {\n                FB.api(\n                    '/me/&lt;namespace&gt;:&lt;action&gt;',\n                    'post',\n                    {&lt;graph object&gt;: 'http://xxxxxxURLxxxxxxxxxxx' },\n                    function(response) {\n                        //alert(response.responseText);\n                        console.log(response);\n\n                        if (!response || response.error) {\n                            alert('An error occurred.');\n                        }\n                        else {\n                            alert('Cook was successful! Action ID: ' + response.id);\n                        }\n                });\n            }\n            ###################################################################################\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n        &lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n        &lt;script&gt;\n                FB.Event.subscribe('auth.login', function(response) {\n                    window.location.reload();\n                });\n                FB.Event.subscribe('auth.logout', function(response) {\n                    window.location.reload();\n                });\n            };\n            (function() {\n                var e = document.createElement('script'); e.async = true;\n                e.src = document.location.protocol +\n                        '//connect.facebook.net/en_US/all.js';\n                document.getElementById('fb-root').appendChild(e);\n            }());\n        &lt;/script&gt;\n        &lt;h3&gt;Stuffed Cookies&lt;/h3&gt;\n        &lt;p&gt;\n            &lt;img title=\"Stuffed Cookies\"\n                 src=\"http://xxxxxxxxxxxxxxxxxxxxxx.jpeg\"\n                 width=\"200\"/&gt;\n        &lt;/p&gt;\n        &lt;br&gt;\n        &lt;form&gt;\n            &lt;input type=\"button\" value=\"Cook\" onclick=\"postCook()\" /&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","mysql","sql","delete","condition"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13277225,"title":"Deleting from \"Table1\" if a condition is met in \"Table\" 2 SQL","body":"<p>I'm making a little messaging application in PHP using a SQL database but have faced a small problem. I will try explain this as best as possible so here goes...</p>\n\n<p>I have a table called \"users\" as following:</p>\n\n<pre><code>ID | Username | Password | Email \n-------------------------------------------\n1  | Account1 | Pass 1   | email1@mail.com\n2  | Account2 | Pass 2   | email2@mail.com\n</code></pre>\n\n<p>I then have another called \"friends\" as following:</p>\n\n<pre><code>UserID | FriendID\n------------------\n   1   |     2    \n</code></pre>\n\n<p>So what I need is a query that will delete A row from the \"Friends\" table if a condition is met in the second table.</p>\n\n<p>Example:</p>\n\n<pre><code>DELETE FROM 'friends' WHERE UserID = 1 AND (users.Password = $Password WHERE users.ID = 1)\n</code></pre>\n\n<p>I hope that was a good enough explanation but I'm finding this difficult to explain.</p>\n\n<p>Thank for your help :)</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13246854,"title":"Passing values from client to server and back to client, asynchronously","body":"<p>I've been trying to figure this problem out for quite a while. I know JavaScript is client side scripting and PHP is server-side scripting, but is it possible to pass a browsers epoch time into a PHP script to run some calculations then return geoJSON data based on the results; all asynchronously?</p>\n\n<p>The function I want to pass to the PHP script is something like:</p>\n\n<pre><code>function retreiveUTC() {\n  var now = new Date().getTime();\n  var browserUTC = Math.floor(now)/1000.0;  // this returns epoch time of the browser\n}\n</code></pre>\n\n<p>Then I would like to take the epoch time that is generated from the function and pass it to a php script to determine what JSON file to return.</p>\n\n<p>For example I will have the following files residing on the server:</p>\n\n<pre>\n1352188536.JSON\n1352187536.JSON\n1352177536.JSON\n</pre>\n\n<p>And I want to retrieve the one that is closest to the browsers epoch results. Thank you in advance.</p>\n\n<p>Updated code below:</p>\n\n<p>not sure what I am doing wrong, but I am getting success from the ajax call but the return value is undefined.</p>\n\n<p>ajax stuff:</p>\n\n<pre><code>    $.post ('timezone.php',\n    {\n        epochTime: browserUTC\n    }, \n    function (result) {\n       //do someting to result\n    }, \"json\");\n\n    var browserUTC = new Date().getTime();\n\n    $.post ('timezone.php',\n    {\n        epochTime: browserUTC\n    }, \n    function (result,status) {\n   //display file name returned by PHP\n        alert(result.file + \"\\n\" + status);\n   //console.log('test');\n    });\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>    &lt;?php\n    $epochTime = round($_POST['epochTime'] / 1000);\n    $res= array();\n    $res['file'] = $epochTime . '.JSON';\n    return json_encode($res);\n    ?&gt;\n</code></pre>\n"},{"tags":["php","shell","build","jenkins","status"],"answer_count":4,"favorite_count":1,"up_vote_count":11,"down_vote_count":0,"view_count":3007,"score":11,"question_id":8148122,"title":"How to mark a build unstable in Jenkins when running shell scripts","body":"<p>In a project I'm working on we are using shell scripts to execute different tasks. Some scripts are SH/Bash that runs Rsync and some are PHP scripts. One of the PHP scripts are running some integration tests that output to JUnit XML, code coverage reports and similar.</p>\n\n<p>Jenkins are able to <strong>mark the jobs as successful / failed based <a href=\"http://en.wikipedia.org/wiki/Exit_status\">exit status</a></strong>. In <strong>PHP the script exits with 1</strong> if it has detected that failed tests during the run. The other shell scripts runs commands and uses the exit codes from those to mark a build as failed.</p>\n\n<pre><code>// :: End of PHP script:\n// If any tests have failed, fail the build\nif ($build_error) exit(1);\n</code></pre>\n\n<p>In the <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Terminology\">Jenkins Terminology</a> a unstable build is defined as</p>\n\n<blockquote>\n  <p>A build is unstable if it was built successfully and one or more publishers report it unstable. For example if the JUnit publisher is configured and a test fails then the build will be marked unstable.</p>\n</blockquote>\n\n<p>How can I get Jenkins to mark a build as unstable instead of only success / failed when running shell scripts?</p>\n"},{"tags":["php","arrays","sorting"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13277365,"title":"How to sort an array of objects by a property of each object","body":"<p>I have an array of data returned from the eventbrite.com api stored in a variable called $restrictedEvents which looks like the data below. This is representative of just one event for the purposes of pasting here but it has a about 80 stdClass Objects like this in the full array.</p>\n\n<p>I want to sort this array alphabetically by the [title] key in each stdClass Object. I have tried using:</p>\n\n<pre><code>usort($restrictedEvents, \"title\");\n</code></pre>\n\n<p>However this returns the following error:</p>\n\n<pre><code>Warning: usort() [function.usort]: Invalid comparison function in model.php on line 109\n</code></pre>\n\n<p>My guess is it cannot find the title key as this is in the next level down. Any pointers on where I am going wrong and how I can sort by the title would be greatly appreciated. Many thanks.</p>\n\n<pre><code>Array \n(\n[4791063199] =&gt; stdClass Object\n    (\n        [box_header_text_color] =&gt; 393837\n        [link_color] =&gt; EE6600\n        [box_background_color] =&gt; FFFFFF\n        [box_border_color] =&gt; D9D4D0\n        [timezone] =&gt; Europe/London\n        [organizer] =&gt; stdClass Object\n            (\n                [url] =&gt; http://www.eventbrite.com/org/2866607767\n                [description] =&gt; \n                [long_description] =&gt; \n                [id] =&gt; 2866607767\n                [name] =&gt; B&amp;Q Manifestival\n            )\n\n        [background_color] =&gt; E3DFDC\n        [id] =&gt; 4791063199\n        [category] =&gt; \n        [box_header_background_color] =&gt; F0ECE9\n        [capacity] =&gt; 20\n        [num_attendee_rows] =&gt; 0\n        [title] =&gt; Closed Event Test\n        [start_date] =&gt; 2012-11-07 19:00:00\n        [status] =&gt; Live\n        [description] =&gt; Lorem ipsum\n        [end_date] =&gt; 2012-11-07 21:00:00\n        [tags] =&gt; \n        [timezone_offset] =&gt; GMT+0000\n        [text_color] =&gt; 393837\n        [title_text_color] =&gt; \n        [password] =&gt; \n        [tickets] =&gt; Array\n            (\n                [0] =&gt; stdClass Object\n                    (\n                        [ticket] =&gt; stdClass Object\n                            (\n                                [description] =&gt; \n                                [end_date] =&gt; 2012-11-07 17:00:00\n                                [min] =&gt; 1\n                                [max] =&gt; 1\n                                [price] =&gt; 0.00\n                                [quantity_sold] =&gt; 0\n                                [visible] =&gt; true\n                                [currency] =&gt; GBP\n                                [quantity_available] =&gt; 20\n                                [type] =&gt; 0\n                                [id] =&gt; 15940001\n                                [name] =&gt; Manifestival Event\n                            )\n\n                    )\n\n            )\n\n        [created] =&gt; 2012-11-07 10:40:36\n        [url] =&gt; http://www.eventbrite.com/event/4791063199\n        [box_text_color] =&gt; 393837\n        [privacy] =&gt; Private\n        [venue] =&gt; stdClass Object\n            (\n                [city] =&gt; \n                [name] =&gt; HR Training Room\n                [country] =&gt; \n                [region] =&gt; \n                [longitude] =&gt; 0\n                [postal_code] =&gt; \n                [address_2] =&gt; \n                [address] =&gt; \n                [latitude] =&gt; 0\n                [country_code] =&gt; \n                [id] =&gt; 2619469\n                [Lat-Long] =&gt; 0.0 / 0.0\n            )\n\n        [modified] =&gt; 2012-11-07 10:47:20\n        [repeats] =&gt; no\n    )\n</code></pre>\n"},{"tags":["php","mysql","activerecord","yii","many-to-many"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":15,"score":3,"question_id":13277296,"title":"Yii - Multiple relations to the same model","body":"<p>How can I in <code>YII</code> get the related model for each time it has been associated to a given model or at least get a count for how many times it has happened?</p>\n\n<p><strong>The problem:</strong><br>\nI have a table of <strong>Orders</strong> and a table of <strong>Products</strong>.<br>\n<em>Each product is associated to the order 0 or more times</em>.</p>\n\n<p>How do I through the standard relational tool in YII tell how many times a product is on an order?<br>\nI have created a many-to-many relationship through a joint-table and use it to declare my relations</p>\n\n<pre><code>'products'=&gt;array(self::MANY_MANY, 'Product', 'index_order_products(order_id, product_id)')\n</code></pre>\n\n<p>Problem is when I call <em>$order->products</em> it only returns the unique products, not a product for each time it is related.  </p>\n\n<p>I only need to know how many there are of each product on the order, so I've tried</p>\n\n<pre><code>'products'=&gt;array(self::MANY_MANY, 'Product', 'index_order_products(order_id, product_id)', 'select'=&gt;'*, COUNT(product_id) as count', 'group'=&gt;'product_id')\n</code></pre>\n\n<p>But if I then try calling <code>$order-&gt;products[0]-&gt;count</code> it says count hasn't been defined.<br>\nI've managed to circumvent this by creating a empty column count in the database. This way I get the number I need, but surely there must be a better way.  </p>\n\n<p>What would be the correct way of doing something like this in YII?</p>\n"},{"tags":["php","ubuntu","cron","crontab"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13277497,"title":"Multiple Cron jobs in one crontab file","body":"<p>I wanted to implement two cronjobs with different execution time. One cron job is for sending emails and second cron job for validating my application subscriptions.</p>\n\n<p>I write one crontab file and write to two cronjob as follows:</p>\n\n<pre><code>2 * * * * path to mailCronjob mail.php\n20 * * * * path to check my application's subscriptions sub.php\n</code></pre>\n\n<p>The problem is first cronjob is working fine. Mail will delivers fine, but the second cronjob \nis not working. I tried to run second job manually, its also working fine.</p>\n\n<p>I am using command to set cronjob as:</p>\n\n<pre><code>crontab crontab_file\n</code></pre>\n\n<p>when I give command <code>crontab -l</code>\nit also shows both cronjob in command line.</p>\n\n<p>I wanted to ask, am I missing something here, or what should I do to run those cronjobs. </p>\n"},{"tags":["php","logic","puzzle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13276537,"title":"Reversed numbers puzzle","body":"<p>I'm are trying to teach myself to be better at programming. Part of this I have been taking puzzle that I find in newspapers and magazines and trying to find programming solutions</p>\n\n<p>Today I seen a puzzle regarding numbers that are the reversed when multiplied by a number from 2-9. The example given was 1089 * 9 = 9801.</p>\n\n<p>I have started to write a program in php to find the numbers this applies to and adds them to an array.</p>\n\n<p>First I created a loop to cycle through the possible numbers. I then reversed each of the numbers and created a function to compare the numbered and the reversed number. The function then returns numbers that meet the criteria and adds them to an array.</p>\n\n<p>This is what I have so far...</p>\n\n<pre><code>&lt;?php\n\n        function mul(){ // multiply number from loop\n\n            for($i=2;$i&lt;=9;$i++){\n\n                $new = $num * $i;\n\n                    if($new == $re){\n                    return $new;    \n                    }\n                    else{\n                    return;\n                    }\n            }\n        }\n\n        $arr =  array();\n\n        for ($num = 1000; $num &lt;10000; $num++) { //loop through possible numbers\n\n                      $re =  strrev($num); // get reverse of number\n                      func($re,$num); //multiply number and return correct numbers\n                      $arr.push($new); //add to array??\n         }\n ?&gt;\n</code></pre>\n\n<p>I'm still very new to php and I find understanding programming, any pointers on a more logical way of doing this puzzle would be greatly appreciated.</p>\n"},{"tags":["php","fwrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13277372,"title":"PHP - fwrite PHP Data With Set Variables","body":"<p>I am trying to figure out how to fwrite into a .php file with variables given through $_POST, or $_GET, supplied by the user to set variables and such. So, how would I go about getting the below code to work so that instead of fwriting the code, insert a $_GET variable for example, or in the below description, being $derp. </p>\n\n<pre><code>&lt;?php\n$derp = \"working!\";\n$something = '&lt;?php echo \"Well Thats {$derp}' ?&gt;';\n$file = fopen(\"worked.php\",\"w\");\nif (fwrite($file,$something) &gt; 0) {\necho \"Fwrite Successful!\";  \n}\nfclose($file);\n?&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13275954,"title":"Switching over from selecting multiple values from array to a single value in PHP","body":"<p>I currently have a piece of code that is selecting multiple values from an array and was just wondering how I can switch it over to only picking a single value from an array. </p>\n\n<p>So far I've tried changing <code>array_rand($status, rand(2,3))</code> to <code>array_rand($status, rand(1,1))</code> but it gives me the error message ** Invalid argument supplied for foreach()**. How can I resolve it?</p>\n\n<pre><code>$dateStart = new DateTime();\n$dateStart-&gt;setDate(2012, 10, 01);\n$dateEnd = new DateTime();\n$dateEnd-&gt;setDate(2012, 12, 01);\n\n$dates = array();\nwhile ( $dateStart &lt; $dateEnd ) {\n   $rand = array_rand($status, rand(2,3));\n   $text = '';\n   foreach ( $rand as $key ) $text .= $status[$key] . '&lt;br /&gt;';\n\n   printf(\"&lt;li&gt;&lt;div id='activity_date'&gt;%s&lt;/div&gt;\n           &lt;div id='activity_box'&gt;\n           &lt;div id='activity_text'&gt;\" . $text . ' request&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;',\n\n   $dateStart-&gt;format(\"d/m/Y\")\n   );\n\n   $dateStart-&gt;modify(sprintf(\"+%d day\",mt_rand(1, 10)));\n}\n</code></pre>\n"},{"tags":["php","jquery","google-maps-api-3","geolocation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13276864,"title":"Google Maps w/Database of Coord. Live Updates","body":"<p>I currently have deployed a webapp that shows locations of our field employees using geoLocation (HTML5) and ajax to post to a PHP script that stores the location in a database.</p>\n\n<p>The map updates the location of the employees if you do a full refresh of the page, but I can't figure out how to have the page show the markers moving in real time?</p>\n\n<p>HERE IS THE JS.</p>\n\n<pre><code>navigator.geolocation.getCurrentPosition(\n    function(position) {\n\n     //alert(\"position is: \" + position.coords.latitude + \", \" + position.coords.longitude);\n\n    $.ajax({  \n                type: \"POST\",  \n                url: \"/includes/functions/js.locationServices/locationServices.php\",  \n                data: \"latitude=\"+ position.coords.latitude +\"&amp;longitude=\"+ position.coords.longitude\n              });                  \n});\n</code></pre>\n\n<p>The php code is a simple get and update database.</p>\n\n<p>GOOGLE MAP CODE</p>\n\n<pre><code>function parseToXML($htmlStr) \n{ \n    $xmlStr=str_replace('&lt;','&amp;lt;',$htmlStr); \n    $xmlStr=str_replace('&gt;','&amp;gt;',$xmlStr); \n    $xmlStr=str_replace('\"','&amp;quot;',$xmlStr); \n    $xmlStr=str_replace(\"'\",'&amp;#39;',$xmlStr); \n    $xmlStr=str_replace(\"&amp;\",'&amp;amp;',$xmlStr); \n\nreturn $xmlStr; \n} \n\n    $sql = $dbh-&gt;prepare(\"SELECT * FROM authUsers JOIN techLocation ON authUsers.username = techLocation.username\");\n        $sql-&gt;execute();\n\n    header(\"Content-type: text/xml\");\n\n    echo '&lt;markers&gt;';\n\n    while ($row = $sql-&gt;fetch(PDO::FETCH_ASSOC))\n    {\n        // ADD TO XML DOCUMENT NODE\n        $time = date(\"g:i a\", strtotime($row['lastLocated']));\n        $tech = $row['id'];\n\n        if(is_numeric($row['id'])) { $tech = '#'.$row['id']; }\n\n        echo '&lt;marker ';\n        echo 'name=\"' . parseToXML($row['fullname']) . '\" ';\n        echo 'tech=\"' . parseToXML($tech) . '\" ';\n        echo 'phone=\"' . parseToXML($row['phone']) . '\" ';\n        echo 'email=\"' . parseToXML($row['email']) . '\" ';\n        echo 'time=\"' . parseToXML($time) . '\" ';\n        echo 'lat=\"' . $row['latitude'] . '\" ';\n        echo 'lng=\"' . $row['longitude'] . '\" ';\n        echo 'type=\"' . $row['dept'] . '\" ';\n        echo '/&gt;';\n    }\n\n    echo '&lt;/markers&gt;';\n</code></pre>\n\n<p>MAP PAGE</p>\n\n<pre><code>    &lt;script src=\"https://maps.google.com/maps/api/js?sensor=true\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    //&lt;![CDATA[\n    var customIcons = {\n      Installs: {\n        icon: '/location/images/installs.png',\n        shadow: '/location/images/shadow50.png'\n      },\n      Service: {\n        icon: '/location/images/service.png',\n        shadow: '/location/images/shadow50.png'\n      }\n    };\n\n    var markers = new Array();\n\n    function updateMarker(techSelectionList) {      \n            var selectedEmail = techSelectionList.options[techSelectionList.selectedIndex].value;\n            var selectedText = techSelectionList.options[techSelectionList.selectedIndex].text;\n\n\n            for (var i = 0; i &lt; markers.length; i++)\n            {\n                var techEmail = markers[i].getTitle();\n\n\n                if (techEmail == selectedEmail)\n                {\n                    google.maps.event.trigger(markers[i], 'click');\n                    break;\n                }\n            }\n    }\n\n    function load() {\n      var map = new google.maps.Map(document.getElementById(\"map\"), {\n        center: new google.maps.LatLng(&lt;?php echo $mapCenter; ?&gt;),\n        zoom: 12,\n        mapTypeId: 'roadmap'\n      });\n      var infoWindow = new google.maps.InfoWindow;\n\n      // Change this depending on the name of your PHP file\n      downloadUrl(\"genxml.php\", function(data) \n      {\n        var xml = data.responseXML;\n        var markersXml = xml.documentElement.getElementsByTagName(\"marker\");\n\n        var sidebar = document.getElementById('sidebar');\n        sidebar.innerHTML = '';\n\n        for (var i = 0; i &lt; markersXml.length; i++) \n        {          \n            var name = markersXml[i].getAttribute(\"name\");\n                var phone = markersXml[i].getAttribute(\"phone\");\n            var email = markersXml[i].getAttribute(\"email\");\n                var tech = markersXml[i].getAttribute(\"tech\");\n                var time = markersXml[i].getAttribute(\"time\");\n                var type = markersXml[i].getAttribute(\"type\");\n                var point = new google.maps.LatLng(\n                parseFloat(markersXml[i].getAttribute(\"lat\")),\n                parseFloat(markersXml[i].getAttribute(\"lng\"))\n            );\n\n            var html = \"&lt;h3&gt;\" + name + \" - \"+ tech + \" &lt;/h3&gt;&lt;br/&gt;Phone:&lt;b&gt; &lt;a href='tel:\" + phone + \"'&gt;\" + phone + \"&lt;/a&gt;&lt;/b&gt;&lt;br/&gt;Email:&lt;b&gt; &lt;a href='mailto:\" + email + \"'&gt;\" + email + \"&lt;/a&gt;&lt;/b&gt;&lt;br/&gt;Located:&lt;b&gt; \" + time + \"&lt;/b&gt;\";\n                var icon = customIcons[type] || {};\n\n                var marker = new google.maps.Marker({\n                map: map,\n                position: point,\n                icon: icon.icon,\n                shadow: icon.shadow\n            });\n\n            marker.setTitle(email);\n            markers.push(marker);\n\n            bindInfoWindow(marker, map, infoWindow, html);\n\n            var sidebarEntry = createSidebarEntry(marker, tech, name, email);\n            sidebar.appendChild(sidebarEntry);      \n        }           \n\n    });\n\n    function createSidebarEntry(marker, tech, name, email) \n    {\n        var text =  tech + \" - \" + name;                \n        var div = document.createElement('option');\n        div.text = text;\n        div.value = email;\n\n        return div;\n    }\n}\n\nfunction bindInfoWindow(marker, map, infoWindow, html) {\n  google.maps.event.addListener(marker, 'click', function() {\n    infoWindow.setContent(html);\n    infoWindow.open(map, marker);\n    });\n}\n\nfunction downloadUrl(url, callback) {\n  var request = window.ActiveXObject ?\n      new ActiveXObject('Microsoft.XMLHTTP') :\n      new XMLHttpRequest;\n\n  request.onreadystatechange = function() {\n    if (request.readyState == 4) {\n      request.onreadystatechange = doNothing;\n      callback(request, request.status);\n    }\n  };\n\n  request.open('GET', url, true);\n  request.send(null);\n}\n\nfunction doNothing() {}\n//]]&gt;\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","session"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":13563,"score":2,"question_id":878756,"title":"PHP Session not working in PHP5","body":"<p>I have 2 pages: login.php and index.php. Both pages start with </p>\n\n<pre><code>session_start();\n</code></pre>\n\n<p>When I set </p>\n\n<pre><code>$_SESSION['user'] = \"name\";\n</code></pre>\n\n<p>in login.php and than open index.php, my session object is empty. How come?</p>\n\n<p>EDIT:</p>\n\n<p>I found the problem: IE 7. I had to grand access to my domain. However, I thought a session is stored on the server, instead of the client? Than why do I have IE grand access to my domain? (<a href=\"http://www.pcwindowstips.com/2007/09/04/how-to-enable-cookies-in-internet-explorer-7/\" rel=\"nofollow\">http://www.pcwindowstips.com/2007/09/04/how-to-enable-cookies-in-internet-explorer-7/</a>)</p>\n"},{"tags":["php","curl","upload","youtube-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13274173,"title":"Upload video on Youtube using curl and api v3","body":"<p>I would upload a video using the Youtube API v3 with curl in PHP, as described here: <a href=\"https://developers.google.com/youtube/v3/docs/videos/insert\" rel=\"nofollow\">https://developers.google.com/youtube/v3/docs/videos/insert</a></p>\n\n<p>I've this function</p>\n\n<pre><code>function uploadVideo($file, $title, $description, $tags, $categoryId, $privacy)\n{\n    $token = getToken(); // Tested function to retrieve the correct AuthToken\n\n    $video-&gt;snippet['title']         = $title;\n    $video-&gt;snippet['description']   = $description;\n    $video-&gt;snippet['categoryId']    = $categoryId;\n    $video-&gt;snippet['tags']          = $tags; // array\n    $video-&gt;snippet['privacyStatus'] = $privacy;\n    $res = json_encode($video);\n\n    $parms = array(\n        'part'  =&gt; 'snippet',\n        'file'  =&gt; '@'.$_SERVER['DOCUMENT_ROOT'].'/complete/path/to/'.$file\n        'video' =&gt; $res\n    );\n\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, 'https://www.googleapis.com/upload/youtube/v3/videos');\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_POST, 1);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $parms);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array('Authorization: Bearer '.$token['access_token']));\n    $return = json_decode(curl_exec($ch));\n    curl_close($ch);\n\n    return $return;\n}\n</code></pre>\n\n<p>But it returns this</p>\n\n<pre><code>stdClass Object\n(\n    [error] =&gt; stdClass Object\n        (\n            [errors] =&gt; Array\n                (\n                    [0] =&gt; stdClass Object\n                        (\n                            [domain] =&gt; global\n                            [reason] =&gt; badContent\n                            [message] =&gt; Unsupported content with type: application/octet-stream\n                        )\n\n                )\n\n            [code] =&gt; 400\n            [message] =&gt; Unsupported content with type: application/octet-stream\n        )\n\n)\n</code></pre>\n\n<p>The file is an MP4.</p>\n\n<p>Anyone can help?</p>\n"},{"tags":["php","magento"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13277121,"title":"Return data back to dispatcher from event observer in Magento","body":"<p>I have an extension for product registration that dispatches an event after the registration is saved. Another extension uses that event to generate a coupon for a virtual product if it is related to the registered product.</p>\n\n<p>I need to get back data on the generated coupon to send to the user in an email along with the details of their product registration.</p>\n\n<p>Is there a way to return data from the observer back to where the event is dispatched?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13277460,"title":"get around allow_url_include=0 error","body":"<p>I am trying to include a file from a url, however I get the following error thrown up.</p>\n\n<pre><code>Warning: include(): http:// wrapper is disabled in the server configuration by allow_url_include=0 in /Applications/MAMP/htdocs/diningtime/testsite/salims/index1.php on line 58\n\nWarning: include(http://localhost/diningtime/templates/100/index.php): failed to open stream: no suitable wrapper could be found in /Applications/MAMP/htdocs/diningtime/testsite/salims/index1.php on line 58\n\nWarning: include(): Failed opening 'http://localhost/diningtime/templates/100/index.php' for inclusion (include_path='.:/Applications/MAMP/bin/php/php5.4.4/lib/php') in /Applications/MAMP/htdocs/diningtime/testsite/salims/index1.php on line 58\nTest\n</code></pre>\n\n<p>Just wondering if there is anyway around this?</p>\n\n<p>My PHP include code is </p>\n\n<pre><code>&lt;?php include \"$location/index.php\"; ?&gt;\n</code></pre>\n\n<p>I appreciate your help on this.</p>\n"},{"tags":["php",".htaccess","url","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13277467,"title":"htaccess url rewrite wont work on diffrent file","body":"<p>I'm using htaccess url rewrite this is my code </p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([^/]*)\\.html$ main.php?pagina=$1 [L]\n</code></pre>\n\n<p>(this one works)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;ID=$2 [L]\n</code></pre>\n\n<p>(this one works)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;artiest=$2&amp;ID=$3 [L]\n</code></pre>\n\n<p>(this one works, it shows video/artist/id.html)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;seo=$2&amp;ID=$3 [L]\n</code></pre>\n\n<p>(this one wont work I want this one to show news/seo-title/id.html)</p>\n\n<p>Can anyone help ?</p>\n"},{"tags":["php","jquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13271300,"title":"Get Session value based on ajax success","body":"<p>I have a PHP page that uses a jQuery ajax call.</p>\n\n<p>After I execute my AJAX and return a value on success, I need to use this value to pull an item from a PHP array, stored in session and update my SPAN with the new set. </p>\n\n<p>Here's what I've got so far. I tested and I do return correct <strong>data</strong> value. I guess my syntax in jQuery is off, because my original span fades out, but nothing comes back. </p>\n\n<p><strong>JS:</strong></p>\n\n<pre><code>$.ajax({ \n    ...\n},\nsuccess: function(data){\n    var nextItem = &lt;?php echo $_SESSION['items'][data]-&gt;desc; ?&gt;\n    $('.x').fadeOut();\n    $('.x').attr(id, data); \n    $('.x').text(nextItem).fadeIn();    \n}); \n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;span id=\"'.$_SESSION['items'][0]-&gt;id.'\" class=\"x\"&gt;'.$_SESSION['items'][0]-&gt;desc.'&lt;/span&gt;\n</code></pre>\n"},{"tags":["php","facebook","facebook-php-sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13206633,"title":"Facebook API error: An error occurred with [my Facebook API name]. Please try again later","body":"<p>I am using Facebook API in my code for a website. When a user visits the first time and go for login then it displays an error with an \"Okay\" button as below:</p>\n\n<blockquote>\n  <p>An error occurred with [name of my web app]. Please try again later.</p>\n</blockquote>\n\n<p>However, it works properly when the user further clicks on \"Okay\". I just want hide or remove this error. How can I do that?</p>\n\n<h3>Code</h3>\n\n<pre><code>require 'data/facebook/src/facebook.php';\n\n// Create our application instance (replace this with your appId and secret).\n$facebook = new Facebook(array(\n    'appId'  =&gt; JO_Registry::get('oauth_fb_key'),\n    'secret' =&gt; JO_Registry::get('oauth_fb_secret'),\n));\n\n$this-&gt;facebook-&gt;setNextUrl( WM_Router::create( $request-&gt;getBaseUrl() . '?controller=facebook&amp;action=login' . $next ) );\n$loginUrl = $facebook-&gt;getLoginUrl(array('req_perms' =&gt; 'user_status,publish_stream,user_photos,offline_access,read_friendlists'));\n</code></pre>\n"},{"tags":["php","rss"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13277415,"title":"RSS Reader: Issues with Media","body":"<p>I created an RSS reader. I am not sure how to go about processing Media, for example I am reading this data from a Wordpress Blog. Everything output's correctly except for the Media like a video or something like that. I was not sure how to go about processing this.</p>\n\n<p>Here is my class:</p>\n\n<pre><code>&lt;?php\nclass feed {\n    protected $feed;\n    protected $getfeed;\n    function __constructor() {\n\n    }\n    function setfeed($feed) {\n        $this-&gt;feed = $feed;\n    }\n\n    function getfeed()\n    {\n        return $this-&gt;feed;\n    }\n    function outputfeed()\n    {\n\n        $this-&gt;getfeed = file_get_contents($this-&gt;feed);\n        $this-&gt;getfeed = simplexml_load_string($this-&gt;getfeed);\n        $posts = array();\n\n\n\n        foreach ($this-&gt;getfeed-&gt;channel-&gt;item as $item){\n            $media = $item-&gt;children('http://search.yahoo.com/mrss/');\n            $image = array();\n\n            foreach($media-&gt;content[0]-&gt;attributes() as $key =&gt;$value) {\n                $image[$key] = (string)$value;\n            }\n            $posts[] = array(\n                'title'         =&gt; (string)$item-&gt;title,\n                'description'   =&gt; (string)$item-&gt;description,\n                'link'          =&gt; (string)$item-&gt;link,\n                'date'          =&gt; (string)$item-&gt;pubDate,\n                'content'       =&gt; $image, // Not Sure how to    process this if it is video\n            );\n\n        }\n        foreach($posts as $post)\n        {\n        echo \"&lt;div class='feed'&gt;\";\n        echo \"&lt;a href='{$post['link']}'&gt;&lt;h3&gt;{$post['title']}&lt;/h3&gt;&lt;/a&gt;\";\n        echo \"&lt;p&gt;{$post['description']}&lt;/p&gt;\";\n        echo \"&lt;p&gt;{$post['content']}&lt;/p&gt;\";\n        echo \"&lt;h5&gt;{$post['date']}&lt;/h5&gt;\";\n        echo \"&lt;/div&gt;\";\n        }\n    }\n}\n?&gt;\n</code></pre>\n\n<p>Here is my initiation:</p>\n\n<pre><code>&lt;?php\n    include('feed.class.php');\n?&gt;\n&lt;?php\n    $feed = new feed();\n    $feed-&gt;setfeed('http://www.fakeurl.com');\n    $feed-&gt;outputfeed();\n?&gt;\n</code></pre>\n\n<p>Any help is much appreciated!</p>\n"},{"tags":["php","parallel-processing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13190622,"title":"How to use PCNTL to call a php function in parallel","body":"<p>I have around 10 different requests for different servers and used to get the response sequentially in respective to the function call in my website.</p>\n\n<p>Now, I want to call my function in parallel for different server request. Once I get the first response from any of the servers, then want to stop the the remaining processes. </p>\n\n<p>Currently I am calling my function like so:</p>\n\n<pre><code>my_launch(1);\nmy_launch(2);\nmy_launch(3);\nmy_launch(4);\nmy_launch(5);\nmy_launch(6);\nmy_launch(7);\nmy_launch(8);\nmy_launch(9);\nmy_launch(10);  \n</code></pre>\n\n<p>This executes sequentially; how can I run this code in parallel using PCNTL?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":253,"score":-2,"question_id":11516189,"title":"Check if browser IE8 or less using PHP","body":"<p>I need to check whether the browser is IE8 or less using php, can someone pelase help me with it? Thanks.</p>\n"},{"tags":["php","url-rewriting"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13277263,"title":"URL Rewrite Help Needed","body":"<p>I want to redirect the users from a url like\n<a href=\"http://aswt.mywebsite.com/\" rel=\"nofollow\">http://aswt.mywebsite.com/</a>\nto\n<a href=\"http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt\" rel=\"nofollow\">http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt</a></p>\n\n<p>I need to have 2 variations of this redirect.</p>\n\n<ol>\n<li><p>Basic redirect which just redirects to url like <a href=\"http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt\" rel=\"nofollow\">http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt</a></p></li>\n<li><p>Second one is with url mask i.e it does redirect to <a href=\"http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt\" rel=\"nofollow\">http://www.mywebsite.com/panels/hospital/index.php?subdomain=aswt</a> but in the browser's address bar it should always show \n<a href=\"http://aswt.mywebsite.com/\" rel=\"nofollow\">http://aswt.mywebsite.com/</a></p></li>\n</ol>\n\n<p>As far I know modrewrite / url redirect is done using .htaccess file. Do I need to add any functionality to my website code beside .htaccess in order to make the url masking etc. work?</p>\n\n<p>Please let me know how can I achieve both of these feats. Kindly mention both of them seperately.</p>\n\n<p>I know this question has been asked numerous time but I am unable to find a clear solution and will appreciate if anybody can help me to achieve it.</p>\n"},{"tags":["php","domdocument","domxpath"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13219505,"title":"DOMDocument - how to replace nested elements","body":"<p>I've this html fragment:</p>\n\n<pre><code>&lt;font color=\"#ff0000\"&gt;Lorem &lt;font size=\"4\"&gt;ipsum dolor&lt;/font&gt; sit amet&lt;/font&gt;\n</code></pre>\n\n<p>and i want to replace each <code>font</code> tag with a <code>span</code>, using DOMDocument.\nThat's my function atm:</p>\n\n<pre><code>$fonts = $xPath-&gt;query('//font');\nforeach($fonts as $font){\n    $style = '';\n    $newFont = $dom-&gt;createElement('span',$font-&gt;nodeValue);\n    if($font-&gt;hasAttribute('size')){\n        $size = $font-&gt;getAttribute('size');\n        $style.='font-size:'.round($size/2,1).'em; ';\n    }\n    if($font-&gt;hasAttribute('color')){\n        $style.='color:'.$font-&gt;getAttribute('color').'; ';\n    }\n    if($style!='') $newFont-&gt;setAttribute('style',$style);\n    $font-&gt;parentNode-&gt;replaceChild($newFont,$font);\n}\n</code></pre>\n\n<p>I expected this output:</p>\n\n<pre><code>&lt;span style=\"color:#ff0000; \"&gt;Lorem &lt;span style=\"font-size:2em;\"&gt;ipsum etc..\n</code></pre>\n\n<p>But i get:</p>\n\n<pre><code>&lt;span style=\"color:#ff0000; \"&gt;Lorem ipsum dolor sit amet&lt;/span&gt;\n</code></pre>\n\n<p>Why? </p>\n\n<hr>\n\n<p>I guess it happens because <code>$font-&gt;parentNode-&gt;replaceChild($newFont,$font);</code> is somehow replacing the outer span with just its text value... Or maybe this query <code>$xPath-&gt;query('//font')</code> is wrong.  I'ld love an experienced suggestion... thanks</p>\n"},{"tags":["php","xml","soap","wsdl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13277273,"title":"PHP: Error reading WSDL through SOAP","body":"<p>I'm having trouble connecting to a WSDL-feed through SOAP. I can easily access the file via my own browser [local], cURL [on the server] and file_get_contents() [on the server].</p>\n\n<p>I get the following SoapFault:</p>\n\n<blockquote>\n  <p>[WSDL] SOAP-ERROR: Parsing WSDL: Couldn't load from\n  'http://www.nimta.com/Gateway/Kunder/Opret/Gateway.asmx?WSDL' : failed\n  to load external entity\n  \"http://www.nimta.com/Gateway/Kunder/Opret/Gateway.asmx?WSDL\"</p>\n</blockquote>\n\n<p>Trying to connect via.:</p>\n\n<blockquote>\n  <p>$nimtaClient = new SoapClient($url, array(</p>\n\n<pre><code>       proxy_host =&gt; \"XXX\",\n       proxy_port =&gt; 3128,\n       proxy_login =&gt; null,\n       proxy_password =&gt; null\n   ));\n</code></pre>\n</blockquote>\n\n<p>With XXX being our proxy server (which works).</p>\n\n<p>Do any of you have any clues what it could be?</p>\n"},{"tags":["php","svn","composer-php","packagist","satis"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13277110,"title":"Composer is not reading my local Satis packages.json file","body":"<p>I have setup my local SVN repo to hold all external repos ( company policy ), using Satis I've created the packages.json file. when I run composer update how do I tell it to use my custom packages.json file and pull from my local repo instead of externals?</p>\n\n<p>This is a blurb from the packages.json file on where my svn repos are:</p>\n\n<pre><code>\"source\": {\n    \"type\": \"svn\",\n    \"url\": \"http://blah/packagist/foo/bar\",\n    \"reference\": \"/tags/2.3.0/@38\"\n}\n</code></pre>\n\n<p>but the url I would use to check this project out would be:</p>\n\n<pre><code>http://blah/packagist/foo/bar/tags/2.3.0    \n</code></pre>\n\n<p>in my composer.json file I have also added this:</p>\n\n<pre><code>\"repositories\": [\n    {\n        \"packagist\": false,\n        \"type\": \"composer\",\n        \"url\": \"http://local/packages.json\"\n    }\n]\n</code></pre>\n\n<p>but it's still pulling in from git and not my svn repo, what am I doing wrong???</p>\n"},{"tags":["php","table","service","account","fusion"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3,"score":1,"question_id":13277240,"title":"Google API PHP Fusion table - Service account - Rowid from select to update?","body":"<p>I'm trying to update a Fusion table cell with service account. I'm using this <a href=\"https://github.com/odi86/GFTPrototype/blob/master/examples/php/UpdateTable.php\" rel=\"nofollow\">Odi's script I found from here</a>. It works fine. </p>\n\n<p>Now I'm trying to get the rowid from a row with specific cell, and put the rowid then to update query.  </p>\n\n<p>Like this:</p>\n\n<blockquote>\n  <p>$selectQuery= \"SELECT ROWID FROM tableid WHERE Text='something'\";</p>\n</blockquote>\n\n<p>So it gives me back the id of a row where text column says \"something\", I guess? But how I move this rowid to update query? Like:</p>\n\n<blockquote>\n  <p>$updateQuery = \"update tableid set Text = 'words' where rowid = '$rowid'\";</p>\n</blockquote>\n\n<p>Hope you got it. Question might be simple but I'm really stuck with this... I appreciate any help. Thanks a lot!</p>\n"},{"tags":["php","iphone","mysql","ios","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13276911,"title":"initWithObjectsAndKeys for JSON POST to MySQL via PHP - gets empty rows in DB","body":"<p>Like the title says..</p>\n\n<p>My NSDictionary initWithObjectsAndKeys for JSON, with the POST method, to do MySQL query via PHP code, by using the json_encoding and json_decoding creates empty data in my SQL database, just the ID int is auto increasing every time I post!</p>\n\n<p>My Xcode code:</p>\n\n<pre><code>-(IBAction)setJsonFromData:(id)sender\n{\n    NSDictionary *jsonDict = [[NSDictionary alloc] initWithObjectsAndKeys: @\"Welcome\", @\"title\", @\"Hello\", @\"article\", @\"123456789\", @\"timestamp\", nil];\n\n    if([NSJSONSerialization isValidJSONObject:jsonDict])\n        {\n           NSError *error = nil;\n           NSData *result = [NSJSONSerialization dataWithJSONObject:jsonDict     options:NSJSONWritingPrettyPrinted error:&amp;error];\n           if (error == nil &amp;&amp; result != nil) {\n           [self postJSONtoURL:result];\n        }\n    }\n}\n\n-(id)postJSONtoURL:(NSData *)requestJSONdata\n{\n    NSURL *url = [NSURL URLWithString:@\"http://test.com/json.php\"];\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:60.0];\n\n    [request setHTTPMethod:@\"POST\"];\n    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Accept\"];\n    [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    [request setValue:[NSString stringWithFormat:@\"%d\", [requestJSONdata length]] forHTTPHeaderField:@\"Content-Length\"];\n    [request setHTTPBody: requestJSONdata];\n\n    NSURLResponse *response = nil;\n    NSError *error = nil;\n\n    NSData *result = [NSURLConnection sendSynchronousRequest:request returningResponse:&amp;response error:&amp;error];\n\n    NSLog(@\"RESULT: %@\", requestJSONdata);\n\n    if (error == nil)\n        return result;\n    return nil;\n}\n</code></pre>\n\n<p>My PHP code:</p>\n\n<pre><code>if (isset($_REQUEST))\n{\n    $json = $_REQUEST;\n    $data = json_decode($json);\n\n    $title = $_REQUEST['title'];\n    $article = $_REQUEST['article'];\n    $timestamp = $_REQUEST['timestamp'];\n\n    mysql_query(\"INSERT INTO news (title, article, timestamp) VALUES ('$title-&gt;title','$article-&gt;article','$timestamp-&gt;timestamp')\");\n}\n\nmysql_close();  \n</code></pre>\n"},{"tags":["c#","php","asp.net-mvc","drupal","authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13277128,"title":"Single authentication with Drupal and ASP.NET","body":"<p>I'm an experienced C# developer with a small amount of PHP experience.  I am looking at getting a Drupal instance up and running, but, I will need an ASP.NET instance running along with it since there is going to be custom development work that needs to be done.</p>\n\n<p>I was wondering if anyone had ideas for how to combine authentication for Drupal and ASP.NET so that I don't need to make users authenticate more than once while using the two sites together.</p>\n"},{"tags":["php",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13275840,"title":"rewritemod to not visible file","body":"<p>I'm missing something about htaccess.</p>\n\n<p>working tree like:</p>\n\n<pre><code>/\n/subdomain\n/subdomain/.htaccess\n/subdomain/index.php\n/assets\n/assets/...\n</code></pre>\n\n<p>the htaccess is inside subdomain and I'm accessing this like: <code>http://subdomain.localhost/</code></p>\n\n<p>assets is outside of subdomain and I did this rule:</p>\n\n<pre><code>RewriteRule ^assets/(.*)$ http://localhost/assets/$1\n</code></pre>\n\n<p>Now, when subdomain/index.php tries to load something like assets/style.css the rewriterule redirect to <code>http://localhost/assets/style.css</code>.</p>\n\n<p>The problem appears when I try to load a javascript file. It's recognized as a different domain, and doesn't work properly.</p>\n\n<p>Is there a way to make <code>http://subdomain.localhost/assets</code> works as (and not a redirection) <code>http://localhost/assets</code> via some magic rewriterule or something else?</p>\n\n<p>I tried <code>^assets/(.*)$ ../assets/$1</code> but it seems not working.</p>\n"},{"tags":["php","html","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13276482,"title":"Challenging MySQL query for html/PHP report","body":"<p>Here's a challenge for a good MySQL coder.\nWe would greatly appreciate some help on a query to create a MySQL report displayed in an html/PHP page.</p>\n\n<p>We know how to collect the data and store it, and have the PHP report layout, but are lost as to how to structure the query.</p>\n\n<p>We have two MySQL tables â \"visitors\" and \"buyers\". </p>\n\n<ol>\n<li>Visitors table â for visitors to our website coming in through a\nparticular URL which identifies the sales_rep and one of many\nmarketing  codes they create themselves.</li>\n<li>Buyers table â for those who buy something. </li>\n</ol>\n\n<p>A visitor may visit our website through the following link, for example:</p>\n\n<pre><code>www.sales_rep.website.com/index.php?marketing=code1/code2/code3\n</code></pre>\n\n<p>In the \"visitors\" table we include four fields, for: \n - sales_rep\n - date\n - marketing_CODE â (which in this case would be the \"code1/code2/code3\" in a string, but each sales_rep could have several marketing_CODES based on their advertising activities; such as \"code1a/codeTX/codeM2\" and \"market-z/ad-123\")</p>\n\n<p>When a visitor buys something, we add them to a \"buyers\" table, which includes: \n - sales_rep\n - date\n - marketing_TYPE â (which can be \"URL\", \"referral\", or some other type)\n - marketing_VALUE â (which will the marketing_CODE if the marketing_TYPE is URL)</p>\n\n<p>We need to see a report for each specific sales rep, for any specified month, sorted by marketing code, only for marketing_TYPE == \"URL\".</p>\n\n<p>This report needs to show a week-by-week breakdown of visitors and buyers activities for each marketing_CODE, as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/GcBDj.png\" alt=\"Table Example\"></p>\n\n<p>To ensure clarity, in the above table, in WEEK 1, 8 Visitors came into the website through a link with \"code1/code2/\", and 5 of them purchased something.</p>\n\n<p>We've attempted to begin our query with the following, but don't know where to go with it:</p>\n\n<ol>\n<li><code>$chosen_month = $_POST['chosen_month'];</code></li>\n<li><code>SELECT * FROM visitors INNER JOIN buyers ON sales_rep WHERE marketing_type = \"URL\" AND sales_rep = '$sales_rep' AND date('Y-m') = $'chosen_month' ;</code></li>\n<li>Using a while statement, we would generate the table cells for each of the records found.  Using this, we know how to list every record, but we can't figure out how display non-distinct records once, display their count, then display distinct records.</li>\n</ol>\n\n<p>Thank you for your time and help.</p>\n"},{"tags":["php","ajax","caching"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":33,"score":4,"question_id":13246901,"title":"jQuery ajax not using browser cache for 2nd request","body":"<p>I want to cache the data in broswer so that broswer don't need to query the server in several minutes. I added php cache header but seems it doesn't work. Here is my ajax code and php code:\nAjax code:</p>\n\n<pre><code>var url = './php/getJson.php?name=' + encodeURIComponent(name) + '&amp;callback=?';\njQuery.getJSON(url, function(data) {\n    callback(data);\n    jQuery.ajaxSetup({ cache: true });\n});\n</code></pre>\n\n<p>PHP code:</p>\n\n<pre><code>$seconds_to_cache = 3600;\n$ts = gmdate(\"D, d M Y H:i:s\", time() + $seconds_to_cache) . \" GMT\";\n$lm = gmdate(\"D, d M Y H:i:s\", time() - $seconds_to_cache/2) . \" GMT\";\nheader(\"Last-Modified: $lm\");\nheader(\"Expires: $ts\");\nheader(\"Pragma: cache\");\nheader(\"Cache-Control: public, max-age=$seconds_to_cache\");\n\ninclude_once('getData.php');\n\n$output = $_GET['name'];\n\necho $_GET['callback'].'('.$output.')';\n</code></pre>\n"},{"tags":["php","database","nosql","riak"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":13,"score":-2,"question_id":13277076,"title":"PHP Riak code examples and information","body":"<p>I would like to get some suggestions on websites that provides code snippets and examples on how to use Riak with PHP. Everything is interesting, if you have Riak-PHP solutions (search forms, different solutions of bucket listing etc.) you can also post them here. </p>\n\n<p>Thanks!</p>\n"},{"tags":["php","arrays","foreach"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":74,"score":0,"question_id":13269292,"title":"PHP foreach if/else Issue","body":"<p>I've been struggling with the following code. What I'm trying to do is count the number of reviews based on the score. The information is being drawn from MYSQL and a calculation is being preformed before entering it to an array there will be a maximum of five results (after formatting). To be counted. </p>\n\n<p>The code I have is as follows:</p>\n\n<pre><code>   $myArray = str_split(554);\n    $newArray = array_count_values($myArray);\n\n    foreach ($newArray as $key =&gt; $value) {\n\n     $reviews_percentage = round($value/3*100);\n\n    if (array_key_exists(\"1\",$newArray)) {\n\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\";   \n    }\n\n    else {\n\n    echo \"1 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n\n    if (array_key_exists(\"2\",$newArray)) {\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\"; \n    }\n\n    else {\n\n    echo \"2 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n\n    if (array_key_exists(\"3\",$newArray)) {\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\"; \n    }\n\n    else {\n\n    echo \"3 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n    if (array_key_exists(\"4\",$newArray)) {\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\"; \n\n    }\n\n    else {\n\n    echo \"4 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n\n    if (array_key_exists(\"5\",$newArray)) {\n\n    echo \"$key - &lt;strong&gt;$value&lt;/strong&gt; as a percent its : $reviews_percentage &lt;br /&gt;\"; \n    }\n\n    else {\n\n    echo \"5 - &lt;strong&gt;0&lt;/strong&gt; as a percent its : 0 &lt;br /&gt;\"; \n    }\n\n\n    }\n</code></pre>\n\n<p>Which is giving the following result:</p>\n\n<pre><code>   1 - 0 as a percent its : 0 \n   2 - 0 as a percent its : 0 \n   3 - 0 as a percent its : 0 \n   5 - 1 as a percent its : 50 \n   5 - 1 as a percent its : 50 \n   1 - 0 as a percent its : 0 \n   2 - 0 as a percent its : 0 \n   3 - 0 as a percent its : 0 \n   4 - 1 as a percent its : 50 \n   4 - 1 as a percent its : 50 \n</code></pre>\n\n<p>I can see its running through the loop twice but cannot work out what I'm doing wrong.  </p>\n\n<p><strong>Added Database Structure</strong></p>\n\n<pre><code>    |------\n    |id|date_created|date_updated|ip_address|status|element_3|element_4|element_5|element_6|element_7|element_8|element_9|\n    |------\n    |1|2012-06-21 15:22:57|2012-06-21 16:06:04|::1|1|19|10|10|10|10|10|10|\n    |2|2012-06-21 16:21:23|2012-06-21 16:21:40|::1|1|19|10|9|9|9|10|\n    |3|2012-06-21 18:14:56|2012-06-21 18:15:19|::1|1|18| 5|5|5|5|5|\n</code></pre>\n\n<p><strong>UPDATED CODE</strong></p>\n\n<pre><code>    $result = mysql_query(\"SELECT * FROM ap_form_5 WHERE element_1='19'\") or die(mysql_error());\n\n    $num_rows = mysql_num_rows($result);\n\n        while($profile_rows = mysql_fetch_array($result)) {\n\n    $feature1 = $profile_rows['element_4'];\n    $feature2 = $profile_rows['element_5'];\n    $feature3 = $profile_rows['element_6'];\n    $feature4 = $profile_rows['element_7'];\n    $feature5 = $profile_rows['element_8'];        \n$overalladd  = $feature1+$feature2+$feature3+$feature4+$feature5;\n\n    $ratingsbar .= floor(round($overalladd/5/2, 15, PHP_ROUND_HALF_DOWN));\n\n    $myArray = str_split($ratingsbar);\n    $arrayCount = array_count_values($myArray);\n    }\n\n    function perc($total,$count){\n    $ans = (100/$total) * $count;\n    return($ans);\n\n\n    // this array is only being filled like this to to show my working out (your db will populate this)\n    $ratings[1]= $arrayCount[0]; // 1 star ratings - 2 votes\n    $ratings[2]= $arrayCount[1]; // 2 star rating - 1 votes\n    $ratings[3]= $arrayCount[2]; // 3 star rating - 2 votes\n    $ratings[4]= $arrayCount[3]; // 4 star rating - 0 votes\n    $ratings[5]= $arrayCount[4]; // 5 star rating - 5 votes\n\n    $total_votes = array_sum($ratings);\n\n    $i = 1;\n    foreach($ratings as $rating){\n    echo \"Stars \".$i.\": \".perc($total_votes,$rating).\"% $ratings[$i]&lt;br /&gt;\";\n    $i ++;\n    }\n\n    ?&gt;\n</code></pre>\n\n<p>Which is now giving the following result</p>\n\n<pre>\nStars 1: 0% \nStars 2: 0% \nStars 3: 50% 1\nStars 4: 0% \nStars 5: 50% 1</pre>\n"},{"tags":["php","oop"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":32,"score":0,"question_id":13276315,"title":"PHP Mysqli Extension Warning","body":"<p>I have the following code and I can't explain why it outputs an error.</p>\n\n<pre><code>class User extends mysqli{\n\n    // property declaration\n    private $server;\n    private $user;\n    private $pass;\n    private $database;\n    private $conn;\n\n    function __construct($server, $user, $pass, $database){\n\n        $mysqli = new mysqli($server, $user, $pass, $database);\n        if ($mysqli-&gt;connect_errno) {\n            echo \"Connect failed: \". $mysqli-&gt;connect_error;\n            exit();\n        }\n\n        $this-&gt;conn = $mysqli;\n\n        return 0;\n\n    }\n\n    function __destruct(){\n\n        $conn = $this-&gt;conn;\n        $conn-&gt;close();\n\n    }\n}\n</code></pre>\n\n<p>and main code</p>\n\n<pre><code>include(\"global_config.php\");\n\nrequire \"User.php\";\n\n$u = new User($con['server'],$con['user'],$con['pass'],$con['db']);\n\n$u-&gt;query(\"SELECT * FROM users\");\n</code></pre>\n\n<p>returns this error</p>\n\n<pre><code>Warning: mysqli::query() [mysqli.query]: Couldn't fetch User in E:\\Xampp\\htdocs\\testphp\\testMysql.php on line 9\n</code></pre>\n\n<p>normally, it should behave as here <a href=\"http://stackoverflow.com/questions/9727062/php-inheritance-parent-functions-using-child-variables\">PHP inheritance, parent functions using child variables</a></p>\n\n<p>but it doesn't </p>\n\n<p>i've already exhausted my imagination thinking about most possible keywords I could use for a google search</p>\n\n<p>any ideas? </p>\n"},{"tags":["php","mysql","d3.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13201749,"title":"Draw simple timeline with D3","body":"<p>I have been trying to draw a timeline with <a href=\"http://d3js.org/\" rel=\"nofollow\">D3</a> for some days, but I never used it and now I realize I don't know how to do it. I also tried with <a href=\"http://code.shutterstock.com/rickshaw/\" rel=\"nofollow\">Rickshaw</a> but still with no success.<br>\nThis is what I'm trying to accomplish:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8epw8.png\" alt=\"Timeline\"></p>\n\n<p>In this example, I have a starting date (1Âº Jun 2011), an ending date (1Âº Jul 2012) and multiple events between this range.<br>\nEach event is related to one day of the calendar (although it is possible to have many events on a single day).  </p>\n\n<p>This data is fetched from a MySQL DB.</p>\n\n<p>Any help or suggestion will be highly appreciated.<br>\nThanks in advance.</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":16,"score":-2,"question_id":13276802,"title":"How do you undo delete all *your ap* activity on facebook","body":"<p>I have been testing my facebook app that posts to the user's newsfeed. User clicked delete all activity from <em>my app</em> once and it cleared all the activity from app, but not it does not show new activity either even though permissions are granted. What can the user do to reenable displaying of the app activity on their wall/activity feed?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","wamp","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13276298,"title":"Cannot install laravel bundle","body":"<p>If I type:</p>\n\n<pre><code>PS C:\\wamp\\www\\laravel-master&gt; php artisan bundle:install bootstrapper\n</code></pre>\n\n<p>I am getting:</p>\n\n<pre><code>PHP Warning:  file_get_contents(http://github.com/patricktalmadge/bootstrapper/zipball\n/master): failed to open stream: Unable to find the socket transport \"ssl\" -\ndid you forget to enable it when you configured PHP? in C:\\wamp\\www\\laravel-m\naster\\laravel\\cli\\tasks\\bundle\\providers\\provider.php on line 69\n</code></pre>\n\n<p>I am running WAMP Server and I have enabled <code>php_openssl</code> in <code>php.ini</code> and <code>ssl_module</code> in <code>httpd.conf</code>. I reckon that it is caused by localhost configuration issues and it is not the Laravel specific problem. What more can I check to get this working?</p>\n"},{"tags":["php","model","route","nested-class","laravel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13276777,"title":"Laravel: Nesting controllers and making parent controller redirect to children?","body":"<p>This is my first project in Laravel, so play nice with me!</p>\n\n<p>The goal is to create a CMS. Every page will have it's own \"slug\", so if i name a page <code>This is a test</code>, it's slug will be <code>this-is-a-test</code>. I want to be able to view that page by going to <code>example.com/this-is-a-test</code>.</p>\n\n<p>To do that, i'm guessing i'll have to do something like:</p>\n\n<pre><code>Route::any('(:any)', 'view@index');\n</code></pre>\n\n<p>And create a controller called View with an index method. All good, right?</p>\n\n<p>The problem is creating the admin area. I'm gonna have a few pages within the area, a few examples are Dashboard, Pages, Settings and Tools. Since all of those are sub-pages in the admin, i figured it would be appropriate to make them nested controllers, right? The only problem is, when i visit <code>/admin</code>, i want to show the dashboard (<code>/admin/dashboard</code>) directly. I would prefer just calling the dashboard controller instead of redirecting to <code>/admin/dashboard</code> from the admin controller. Is that possible?</p>\n\n<p>So, to illustrate what i mean:</p>\n\n<pre><code>example.com/admin -&gt; loads admin.dashboard\nexample.com/admin/dashboard -&gt; also loads admin.dashboard\n</code></pre>\n\n<p>Here are all my routes:</p>\n\n<pre><code>Route::get('admin', array('as' =&gt; 'admin', 'use' =&gt; 'admin.dashboard@index'));\nRoute::get('admin/dashboard', array('as' =&gt; 'admin_dashboard', 'use' =&gt; \nRoute::any('/', 'view@index'); // Also, should this be below or above the admin routes? This route will show the actual cms pages.'admin.dashboard@index'));\n</code></pre>\n\n<p>And here is my admin_dashboard controller:</p>\n\n<pre><code>class Admin_Dashboard_Controller extends Base_Controller {\n\n    public $restful = true;    \n\n    public function get_index()\n    {\n        return 'in dashboard';\n    }\n\n}\n</code></pre>\n\n<p>The view controller just displays a link to the admin page, that works. I just can't figure out what's wrong with the admin routes? When i go to <code>/admin</code> or <code>admin/dashboard</code> i just get a blank page, no 404. If i go to <code>admin/blah</code> or just <code>blabla</code> i get a 404, so i know <em>something</em> is happening, it's just not happening correctly. Am i missing something?</p>\n"},{"tags":["php","iphone","objective-c","youtube"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2223,"score":4,"question_id":6015962,"title":"How to get mp4/mov/m4v video link for a youtube video?","body":"<p>Can we get the file url for any video loaded on youtube? I am not happy using the youtube player in my application and would like to launch it using a instance of MPMoviePlayerController. </p>\n\n<p>PS: Will be tagging it php also as developers across domains would also have had this sort of requirement</p>\n"},{"tags":["php","arrays"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":864,"score":2,"question_id":5844518,"title":"check if an array have one or more empty values","body":"<p>I have the array $var, and I'd like to return FALSE if one or more element in the array are empty (I mean, the string are \"\").</p>\n\n<p>I think that <code>array_filter()</code> is the better way, but I don't know how to filter it in this manner.</p>\n\n<p>How can I do it?</p>\n"},{"tags":["java","php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":54,"score":0,"question_id":13267228,"title":"Restrain page access to one user at the time","body":"<p>I have two user: X and Y. And one page: Page Z. To access page Z I have a link.</p>\n\n<p>If page Z is already open in user X browser I want the link to be disabled and denied the access to the page to user Y.</p>\n\n<ul>\n<li>How can I do that?</li>\n<li>Which language is the most apropriate to do that (jQuery, Php, etc)?</li>\n</ul>\n"},{"tags":["php","arrays","foreach","ksort"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":33,"score":1,"question_id":13276197,"title":"How can I sort this array alphabetically using php and use foreach to loop through it","body":"<p>I have this data in an array stored as <code>$eventTitles</code>. I am trying to sort it alphabetically.</p>\n\n<pre><code>Array (\n    [Customer Challenge - Sustainability] =&gt; Customer Challenge - Sustainability\n    [Manifesto Stores] =&gt; Manifesto Stores\n    [Helpful Heroes] =&gt; Helpful Heroes\n    [Ben 5 places left test] =&gt; Ben 5 places left test\n    [Ben sold out test] =&gt; Ben sold out test\n    [Ben 1 space left test] =&gt; Ben 1 space left test\n    [Follow the Product] =&gt; Follow the Product\n    [Living the Operating Model] =&gt; Living the Operating Model\n    [Leaders Unplugged] =&gt; Leaders Unplugged\n    [Market Trends] =&gt; Market Trends\n    [FINAL MASTER EVENT CONFIG - DO NOT AMEND] =&gt; FINAL MASTER EVENT CONFIG - DO NOT AMEND\n    [You Can Do It] =&gt; You Can Do It\n    [Customer Challenge - Communicating EDLP] =&gt; Customer Challenge - Communicating EDLP\n) \n</code></pre>\n\n<p>Using:</p>\n\n<pre><code>$eventTitles = ksort($eventTitles);\n\nforeach($eventTitles as $title) {\n    $t = urlencode($title);\n    //if statement to check if the title is in the url param \n    //and if it is we can put selected in the left hand nav as a class\n    if($_GET[\"title\"] == $title ) {\n        $selected = ' class=\"selected\"';\n    } else {\n        $selected = ' ';\n    }\n    $rtnStr .= '&lt;li&gt;&lt;a'.$selected.'href=\"list.php?title='.urlencode($title).\n                       '\" data-value=\"'.$title.'\"&gt;'.$title.'&lt;/a&gt;&lt;/li&gt;';\n}\n</code></pre>\n\n<p>produces the following error when I try to loop through the titles and render them each out:</p>\n\n<blockquote>\n  <p>Warning: Invalid argument supplied for foreach() in model.php on line 281</p>\n</blockquote>\n\n<p>Any clues on what is going wrong would me much appreciated.</p>\n"},{"tags":["php","encoding","zip"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13267143,"title":"php zip contents encoding","body":"<p>I create some .txt files (with greek characters) via a php script, with UTF-8 encoding.\nWhen i am trying to download and read these files from ftp everything works fine (no encoding problems).</p>\n\n<p>When I zip these files to a zip archive, I am facing encoding problem with all greek characters and newLines chars.</p>\n\n<p>zip script:</p>\n\n<pre><code>    $zip = new ZipArchive();\n    $filename = \"my_zip.zip\";\n\n    if ($zip-&gt;open($filename, ZIPARCHIVE::CREATE)!==TRUE) {\n        exit(\"cannot open &lt;$filename&gt;\\n\");\n    }\n\n\n    $files = glob('users/'.$_SESSION['s_uid'].'/*'); // get all file names\n    foreach($files as $file){ // iterate files\n        if(is_file($file))\n            //$zip-&gt;addFile($thisdir . $file, basename($file));\n            $zip-&gt;addFile($thisdir . $file, iconv(\"UTF-8\",\"UTF-8\", basename($file)));\n            //echo $file; // delete file\n    }   \n    $zip-&gt;close();\n</code></pre>\n"},{"tags":["php","database","oop","class","session"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13276556,"title":"Custom PHP Session Class","body":"<p>What I want to do is write a custom PHP session class that stores sessions in the database without using <code>session_set_save_handler()</code>.</p>\n\n<p>The purpose of this is so I can easily store data using <code>serialize()</code> and return it using <code>unserialize()</code>.</p>\n\n<p>I've been looking all day, can't find anything on this subject. Can anyone help get me started or link me to a useful tutorial?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","html","forms"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13274403,"title":"Array from HTML forms - Internal Server Error","body":"<p>I try to make a requestform for our school. But if I transmit this form I get a \"Internal Server Error\". I searched but I found nothing like that. Also I don't get a only this error message \"Internal Server Error\", nothing more. Any ideas why?</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n\n        &lt;title&gt;&lt;/title&gt;\n\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta name=\"description\" content=\"\"&gt;\n\n        &lt;link rel=\"stylesheet\" href=\"../css/normalize.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"../css/bestellformular.css\" /&gt;\n\n\n\n        &lt;!-- HTML 5 in Internet Explorer 9 und kleiner aktivieren --&gt;\n        &lt;!--[if lt IE 9]&gt;\n            &lt;script type=\"textt/javascript\" src=\"js/html5shiv.js\"&gt;&lt;/script&gt;\n        &lt;![endif]--&gt;\n\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;section id=\"head\"&gt;\n\n        &lt;/section&gt;\n        &lt;form action=\"../php/einlesen.php\" method=\"post\"&gt;\n            &lt;section id=\"body\"&gt;\n                &lt;h1&gt;Bestellung&lt;/h1&gt;\n\n                &lt;table&gt;\n                &lt;colgroup&gt;\n                    &lt;col width=\"10%\"&gt;\n                    &lt;col width=\"80%\"&gt;\n                    &lt;col width=\"10%\"&gt;\n                 &lt;/colgroup&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;\n                            Artikel-Nr.\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            Artikel\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            Menge\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" placeholder=\"Artikel-Nr.\" name=\"articelnr[]\" required /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" placeholder=\"Name des Artikels\" name=\"articelname[]\" required /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" placeholder=\"Menge\" name=\"quantity[]\" required /&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/section&gt;\n\n            &lt;section id=\"info\"&gt;\n                &lt;div class=\"left\"&gt;\n\n                    &lt;hr /&gt;\n                    &lt;p&gt;\n                        Kundennummer &lt;input type=\"text\" /&gt;\n                    &lt;/p&gt; \n                &lt;/div&gt;\n                &lt;div class=\"right\"&gt;\n                    &lt;table&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Firma&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"company\"required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Ort, PLZ&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"place\" required /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"number\" name=\"plz\" class=\"number\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;StraÃe, Nr.&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"street\"required /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"number\" name=\"streetnr\" class=\"number\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Telefon&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"tel\" name=\"tel\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Fax&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"fax\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;E-Mail&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"email\" name=\"email\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Datum&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"date\" name=\"date\" required placeholder=\"tt.mm.jj\"/&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;    \n                &lt;/div&gt;\n\n            &lt;/section&gt;\n\n            &lt;section id=\"submit\"&gt;\n                    &lt;input type=\"checkbox\" name=\"agb\" required /&gt; Ich habe die &lt;a href=\"../docs/agb.pdf\"&gt;AGB&lt;/a&gt; gelesen und akzeptiere diese.\n                    &lt;input type=\"submit\" value=\"Bestellung Abschicken\"/&gt;\n            &lt;/section&gt;\n        &lt;/form&gt;\n        &lt;section id=\"footer\"&gt;\n            &lt;hr /&gt;\n        &lt;/section&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Any Ideas why? The data is sent to a yet empty PHP document. The bracelets in the name tag are used to get an array. My PHP version is 5.3.8</p>\n\n<p>Here is the tail of the log:</p>\n\n<pre><code>[Wed Nov 07 16:48:13 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:50 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:51 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:51 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:52 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:48:52 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:50:22 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21, referer: http://localhost/~falkner_d2/hostex/php/\n[Wed Nov 07 16:50:26 2012] [error] [client ::1] PHP Fatal error:  Call to undefined function arrray() in /Users/falkner_d2/Sites/hostex/php/pdf/config/config_bestellformular.php on line 21\n[Wed Nov 07 17:28:05 2012] [error] [client ::1] PHP Warning:  phpinfo(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CET/1.0/no DST' instead in /Users/falkner_d2/Sites/info.php on line 3\n[Wed Nov 07 17:54:26 2012] [error] [client ::1] PHP Warning:  phpinfo(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CET/1.0/no DST' instead in /Users/falkner_d2/Sites/info.php on line 3\n</code></pre>\n\n<p>The two error here ('arrray' I have already resolved sometime ago, it's gone ignore it), the second one isn't related. Also 'config_bestellformular.php' is completely unrelated and used somewhere else.</p>\n\n<p>UPDATE:\nSeems there is a problem with the method=\"post\", method=\"get\" works without error...\nI really don't want to use the get method, so any ideas here.</p>\n\n<p>Also, if I send them per get I can't echo a variable out. I don't see a error in the 'einlese.php' (for those of you who can't understand german it means 'read.php'), but here is the code nonetheless:</p>\n\n<pre><code>&lt;?php\n    $company = $_GET['company'];\n\n    echo $company;\n?&gt;\n</code></pre>\n\n<p>UPDATE:\nSo the big problem was the name tag with []. Even if enough webseites said it should work ... it didn't so I used a simple workaround:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n\n        &lt;title&gt;&lt;/title&gt;\n\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta name=\"description\" content=\"\"&gt;\n\n        &lt;link rel=\"stylesheet\" href=\"../css/normalize.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"../css/bestellformular.css\" /&gt;\n\n\n\n        &lt;!-- HTML 5 in Internet Explorer 9 und kleiner aktivieren --&gt;\n        &lt;!--[if lt IE 9]&gt;\n            &lt;script type=\"textt/javascript\" src=\"js/html5shiv.js\"&gt;&lt;/script&gt;\n        &lt;![endif]--&gt;\n\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;section id=\"head\"&gt;\n\n        &lt;/section&gt;\n        &lt;form action=\"../php/einlesen.php\" method=\"post\"&gt;\n            &lt;section id=\"body\"&gt;\n                &lt;h1&gt;Bestellung&lt;/h1&gt;\n\n                &lt;table&gt;\n                &lt;colgroup&gt;\n                    &lt;col width=\"10%\"&gt;\n                    &lt;col width=\"80%\"&gt;\n                    &lt;col width=\"10%\"&gt;\n                 &lt;/colgroup&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;\n                            Artikel-Nr.\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            Artikel\n                        &lt;/th&gt;\n                        &lt;th&gt;\n                            Menge\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" placeholder=\"Artikel-Nr.\" name=\"articelnr[0]\" required /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" placeholder=\"Name des Artikels\" name=\"articelname[0]\" required /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" placeholder=\"Menge\" name=\"quantity[0]\" required /&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[1]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[1]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[1]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[2]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[2]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[2]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[3]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[3]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[3]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[4]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[4]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[4]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[5]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[5]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[5]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[6]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[6]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[6]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[7]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[7]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[7]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[8]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[8]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[8]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[9]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[9]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[9]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[10]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[10]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[10]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"articelnr[11]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"text\" name=\"articelname[11]\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"number\" name=\"quantity[11]\"/&gt;\n                        &lt;/td&gt;   \n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/section&gt;\n\n            &lt;section id=\"info\"&gt;\n                &lt;div class=\"left\"&gt;\n                    &lt;hr /&gt;\n                    &lt;p&gt;\n                        Kundennummer &lt;input type=\"text\" /&gt;\n                    &lt;/p&gt; \n                &lt;/div&gt;\n                &lt;div class=\"right\"&gt;\n                    &lt;table&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Firma&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"company\"required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Ort, PLZ&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"place\" required /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"number\" name=\"plz\" class=\"number\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;StraÃe, Nr.&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"street\"required /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"number\" name=\"streetnr\" class=\"number\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Telefon&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"tel\" name=\"tel\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Fax&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"fax\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;E-Mail&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"email\" name=\"email\" required /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Datum&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"date\" name=\"date\" required placeholder=\"tt.mm.jj\"/&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;    \n                &lt;/div&gt;\n\n            &lt;/section&gt;\n\n            &lt;section id=\"submit\"&gt;\n                    &lt;input type=\"checkbox\" name=\"agb\" required /&gt; Ich habe die &lt;a href=\"../docs/agb.pdf\"&gt;AGB&lt;/a&gt; gelesen und akzeptiere diese.\n                    &lt;input type=\"submit\" value=\"Bestellung Abschicken\"/&gt;\n            &lt;/section&gt;\n        &lt;/form&gt;\n        &lt;section id=\"footer\"&gt;\n            &lt;hr /&gt;\n        &lt;/section&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","security"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13276225,"title":"Can I restrict website access to specific computers?","body":"<p>I realize that mac addresses or machine ids aren't transferred over the internet, however, I would like to lock down our subscription-based website security so that only specific computers can register and have access to its resources.</p>\n\n<p>Large organizations will subscribe to our service and will undoubtedly have more than one ip for their organization.  As well, we'd like to give the ability for their qualified employees to access the website on devices outside of their physical organization (for road-trip presentations, etc.). </p>\n\n<p>Is there a sure-fire way to achieve this end (beyond the username/password assigned to each account)?  If not, what would be the most effective approach?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","get","friendly-url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13275740,"title":"Using RewriteRule on Friendly-URL - Get Variables with Redirect 301","body":"<p>I'm having some problems. I searched a lot, tried variations, and still can't get this working.</p>\n\n<p>My aim is simply this:</p>\n\n<p>Redirect:\n<a href=\"http://site.com/folder1/folder2/\" rel=\"nofollow\">http://site.com/folder1/folder2/</a><strong>page</strong></p>\n\n<p>To:\n<a href=\"http://site.com/folder1/folder2/\" rel=\"nofollow\">http://site.com/folder1/folder2/</a><strong>Page</strong></p>\n\n<p>Notice that I'm using \"Friendly URLs\".</p>\n\n<p>Now here are the methods I tried, and the problems I came accross.</p>\n\n<p>1) <strong>Redirect 301</strong></p>\n\n<pre><code>Redirect 301 /folder1/folder2/page http://site.com/folder1/folder2/Page\n</code></pre>\n\n<p>This Redirect works, the problem is, my Get Variables from \"page\" are appearing at the end of the URL, which is bad for SEO:</p>\n\n<p><a href=\"http://site.com/folder1/folder2/Page?get=page\" rel=\"nofollow\">http://site.com/folder1/folder2/Page?get=page</a></p>\n\n<p>2) <strong>RewriteRule</strong></p>\n\n<p>RewriteRule of mod_rewrite is supposed to fix the problem of the Get Variables appearing (From what I've read).</p>\n\n<p>The problem is, I'm not getting it to work for my Fancy URL structure.</p>\n\n<pre><code>RewriteRule ^/folder1/folder2/page$ http://site.com/folder1/folder2/Page [R=301,L]\n</code></pre>\n\n<p>It simply doesn't work. The Redirect isn't carried out, so something must be wrong here. I tried many variations to that code.</p>\n\n<p>Can't you use RewriteRule directly on Friendly URLs?</p>\n\n<p><em>(Friendly URL meaning I stripped off the .php extension)</em></p>\n\n<p>Looking forward to some help!\nThanks!</p>\n\n<hr>\n\n<p>Update 1:</p>\n\n<p>Please note that Case Sensitivity is Not the issue here.</p>\n\n<p>Even if my example was: <strong>Page1 => Page 2</strong></p>\n\n<p>Instead of: <strong>page => Page</strong></p>\n\n<p>The problems still persist.</p>\n\n<hr>\n\n<p>Update 2:</p>\n\n<p>This is the closest solution I got so far (but still not there yet):</p>\n\n<pre><code>Redirect 301 /folder1/folder2/page http://site.com/folder1/folder2/Page?\n</code></pre>\n\n<p>I added a \"?\" at the end.</p>\n\n<p>This will give me the landing URL of:\n<a href=\"http://site.com/folder1/folder2/Page\" rel=\"nofollow\">http://site.com/folder1/folder2/Page</a>?</p>\n\n<p>It removes the Get Variables, but still not as SEO friendly as I would like.</p>\n"},{"tags":["php","codeigniter","email","encoding","codeigniter-2"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13260284,"title":"Incorrect email encoding with CodeIgniter","body":"<p>Now the data looks like this in the database:</p>\n\n<p><code>Hej [indtaster_navn]&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;I forbindelse med noget pÃ¥ Ã¦ndring af xxxxxx er der behov for opfÃ¸lgning pÃ¥:&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;- xxxx&amp;lt;br&amp;gt;- xxxx&amp;lt;br&amp;gt;- xxxx&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;Jeg vil gerne have en tilbagemelding, nÃ¥r du har set pÃ¥ ovenstÃ¥ende.&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;Venlig hilsen&amp;lt;br/&amp;gt;[behandler_navn]&amp;lt;br/&amp;gt;TestGuy&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;[lokal_tlf] - lokal&amp;lt;br&amp;gt;00 00 00 00 - telefon&amp;lt;br&amp;gt;[behandler_email]&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;This S&amp;lt;br&amp;gt;Something&amp;lt;br&amp;gt;Transformer 1234&amp;lt;br&amp;gt;3434 BubbleJ&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;ââââ</code></p>\n\n<p>So i have following code when sending a mail, where it's important to notice that i use <code>html_entity_decode</code>:</p>\n\n<pre><code>    $config['mailtype'] = 'html';\n    $config['priority'] = 1;\n    $config['charset'] = 'utf-8';\n    $this-&gt;email-&gt;initialize($config);\n    $this-&gt;email-&gt;from($this-&gt;auth_data-&gt;user_email, $this-&gt;auth_data-&gt;user_firstname . ' ' . $this-&gt;auth_data-&gt;user_lastname);\n    $this-&gt;email-&gt;reply_to($this-&gt;auth_data-&gt;user_email, $this-&gt;auth_data-&gt;user_firstname . ' ' . $this-&gt;auth_data-&gt;user_lastname);\n    $this-&gt;email-&gt;to('test@test.com'); \n    $this-&gt;email-&gt;subject($feedback_title_temp);\n    $this-&gt;email-&gt;message(html_entity_decode($feedback_temp));  \n    $this-&gt;email-&gt;send();\n</code></pre>\n\n<p>When i receive the email it inserts the symbol <code>=</code> random places and in some cases the <code>&lt;br&gt;</code> does not even occur.</p>\n\n<p>For example: </p>\n\n<pre><code>- xxxx&lt;=r&gt;- xxxx\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>- xxxx\n- xxxx\n</code></pre>\n\n<p>When i view the email on my smartphone, the encoding problem only seems to occur with the <code>Ã¦Ã¥Ã¸</code> chars while Outlook is a completely different story.</p>\n\n<p>Received email header::</p>\n\n<pre><code>**Microsoft Mail Internet Headers Version 2.0\nSubject: =?utf-8?Q?(ID:_418)?=\nTo: some@one.com\nX-PHP-Originating-Script: 0:Email.php\nUser-Agent: CodeIgniter\nDate: Wed, 7 Nov 2012 00:31:54 +0100\nFrom: &lt;mat@damn.com&gt;\nReturn-Path: &lt;mat@damn.com&gt;\nReply-To: \"Johnny Bravo\" &lt;mat@damn.com&gt;\nX-Sender: damn@test.com\nX-Mailer: CodeIgniter\nX-Priority: 1 (Highest)\nMessage-ID: &lt;50999deab797d@test.com&gt;\nMime-Version: 1.0\nContent-Type: multipart/alternative; boundary=\"B_ALT_50999deab798e\"\nX-OriginalArrivalTime: 06 Nov 2012 23:31:54.0823 (UTC) FILETIME=[E8022570:01CDBC76]\n\n--B_ALT_50999deab798e\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\n\n--B_ALT_50999deab798e\nContent-Type: text/html; charset=utf-8\nContent-Transfer-Encoding: quoted-printable\n\n\n--B_ALT_50999deab798e--\n**\n</code></pre>\n\n<p>Received mail, based on different content, but the errors are very obvious:</p>\n\n<pre><code>Det her er en m=sse tekst, det er bare en test fra en hÃ¦Ã¦Ã¦st.\n\n\n- Hehe\n- Heh&lt;=br&gt;\n- Wee\n\n\nA=l these things\n\n- Lots of text\n</code></pre>\n"},{"tags":["php","pdo","slim"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13262780,"title":"what is the way to use PDO in slim framework?","body":"<p>I start a new slim project with twig support, I want to use PDO as database layer, what is the way to integrate? or just use GLOBAL $db?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","doctrine2","many-to-many"],"answer_count":2,"favorite_count":3,"up_vote_count":11,"down_vote_count":1,"view_count":399,"score":10,"question_id":12077084,"title":"Doctrine2 ManyToMany Self referencing","body":"<p>I got problems with persisting many to many self referencing relations.\nI receive error: </p>\n\n<blockquote>\n  <p>The class 'Doctrine\\ORM\\Persisters\\ManyToManyPersister' was not found in the chain configured namespaces</p>\n</blockquote>\n\n<p>This happens when I remove all children form item saved with them.\nLeaving at least one don't make error happen. Also if I initially save entity with no children everything works fine.</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>/**\n  * West\\AlbumBundle\\Entity\\Album\n  *\n  * @ORM\\Table(name=\"albums\")\n  * @ORM\\Entity(repositoryClass=\"West\\AlbumBundle\\Entity\\AlbumRepository\")\n  * @ORM\\HasLifecycleCallbacks\n  */\n class Album extends Entity implements CrudEntity\n {\n\n     /**\n      * @ORM\\ManyToMany(targetEntity=\"Album\")\n      * @ORM\\JoinTable(name=\"albums_relations\",\n      *         joinColumns={@ORM\\JoinColumn(name=\"album_id\", referencedColumnName=\"id\")},\n      *         inverseJoinColumns={@ORM\\JoinColumn(name=\"related_album_id\", referencedColumnName=\"id\")}\n      * ) \n      * @var ArrayCollection\n      */\n      protected $related_albums;\n}\n</code></pre>\n\n<p>If you're testing with Symfony2 forms remember to set</p>\n\n<blockquote>\n  <p>\"by_reference\" => false</p>\n</blockquote>\n"},{"tags":["php","apache"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13276324,"title":"PHP Strict Standards errors on localhost","body":"<p>I keep receiving strict standards errors on my local machine (mac os 10.8) when I am trying to install RoundCube.</p>\n\n<p>I tried turning them off by editing the php.ini line to this</p>\n\n<pre><code>error_reporting = E_ALL &amp; ~E_NOTICE &amp; ~E_STRICT\n</code></pre>\n\n<p>After restarting Apache, all of the error messages still get displayed</p>\n\n<p>I am using the php installer found here at <a href=\"http://php-osx.liip.ch/\" rel=\"nofollow\">http://php-osx.liip.ch/</a></p>\n\n<p>When I run phpinfo() the php.ini location is set to here /usr/local/php5/lib/php.ini</p>\n\n<p>This is the file that I have been editing but no changes I make there appear to happen. What am I doing wrong?</p>\n"},{"tags":["php","loops","for-loop"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":13275461,"title":"Combining of array items","body":"<p>I have a problem with an advanced loop, this are my arrays</p>\n\n<pre><code>$array1 = array(1,2,3);\n$array2 = array(4,5);\n$array3 = array(6,7,8,9);\n$array4 = array(10,11);\n</code></pre>\n\n<p>I want to loop with the following result:</p>\n\n<ol>\n<li>1,4,6,10</li>\n<li>1,4,6,11</li>\n<li>1,4,7,10</li>\n<li>1,5,7,11</li>\n</ol>\n\n<p>With the last: 3,5,8,11</p>\n\n<p>How can I do that?</p>\n"},{"tags":["php","curl","blogs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13259883,"title":"posting to pingomatic with curl is not allowed","body":"<p>I posted to pingomatic using curl with code like this</p>\n\n<pre><code>$curl = curl_init($this-&gt;buildURL());\ncurl_exec($curl);\n</code></pre>\n\n<p>But got the reply</p>\n\n<pre><code>You are too awesome for Ping-o-matic\n</code></pre>\n\n<p>Why am I too awesome for Ping-o-matic?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I am posting to pingomatic but not <code>POST</code>ing to pingomatic. Their setup just takes a simple <code>GET</code> request</p>\n"},{"tags":["php","oop","zend-framework","design","dependency-injection"],"answer_count":2,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":46,"score":7,"question_id":13275709,"title":"Making this class comply with the Dependency Inversion principle","body":"<p>The definition of DI quoted from Wikipedia states:</p>\n\n<blockquote>\n  <p>A. High-level modules should not depend on low-level modules. Both should depend on abstractions.\n          B. Abstractions should not depend upon details. Details should depend upon abstractions.</p>\n</blockquote>\n\n<p>I'm trying to apply that principle to my code:</p>\n\n<pre><code>class Printer{\n        private $logger;    \n        function __construct(Zend_Log $logger){\n            $this-&gt;logger=$logger;\n        }    \n       function print(){\n          //Some code\n          $this-&gt;logger-&gt;log('Logger in action ;)');\n       }        \n    }\n</code></pre>\n\n<p>Now since why <code>Printer</code> class depends on <code>Zend_Log</code> which is neither an abstract class nor an interface then I'm violating the Dependency Inversion principle.</p>\n\n<p>How can I fix that knowing that <code>Zend_Log</code> doesn't extend an abstract class nor implement an interface?</p>\n"},{"tags":["php","http-headers"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13274847,"title":"Displaying output before headers are set in PHP","body":"<p>I have an HTML form that submits its data via POST to a server page:</p>\n\n<pre><code>&lt;form id='report-inputs' method='post' action='generate.php'&gt;...&lt;/form&gt;\n</code></pre>\n\n<p><code>generate.php</code> is does a lot of work with the data its given, to finally dump out an Excel file for download. It does this by cleaning the buffer and setting the headers:</p>\n\n<pre><code>ob_end_clean();\nheader('Set-Cookie: fileDownloadToken='.$token); \nheader('Content-type: application/vnd.ms-excel');\nheader('Content-Disposition: attachment; filename=\"'.$_DATA['title'].'.xlsx\"');\n$objWriter-&gt;save('php://output');\n</code></pre>\n\n<p>Without <code>ob_end_clean()</code> the file downloads as corrupt. I would like to display some sort of confirmation or something when the page finishes its processing, but the caveat there is that any page output is cleared before render with <code>ob_end_clean()</code>. </p>\n\n<p>What can I do to display some content AND deliver the file successfully?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13276128,"title":"Find duplicate rows in mysql simplified example","body":"<p>Confession: a mysql newb requires simple example to locate duplicate rows in somewhat large table. I have searched for and read many other threads with similar titles, but the examples are so complex that I cannot apply them to my basic situation.</p>\n\n<p>A MySQL table has only 5 fields, but there are hundreds of rows. I wish to locate duplicate rows -- I know there is one for sure and wonder if there are others.</p>\n\n<p>Example Row: (rel_id is auto-incrementing, primary key field)</p>\n\n<pre><code>'rel_id' =&gt; 1\n'host' =&gt; 17\n'host_type' =&gt; 'client'\n'rep' =&gt; 7\n'rep_type =&gt; 'cli_mgr'\n</code></pre>\n\n<p>My approach was to:<br>\n1. Read entire table into mysql query<br>\n2. row-by-row compare the 4 data fields to those of previous (\"done\") rows<br>\n3. after comparing a \"new\" row, append it to array of \"done\" rows<br></p>\n\n<p>Here is what I have tried. I am sure that there must be a much simpler solution. You will see that I am bogged down in trying to append the \"new\" row to the array of \"done\" rows:</p>\n\n<pre><code>$rRels = mysql_query(\"SELECT * FROM `rels`\");\n$a = array();\n$e = array();\n$c1 = 0;\n$c2 = 0;\nWhile ($r = mysql_fetch_assoc($rRels)) {\n    $i = $r['rel_id'];\n    $h = $r['host'];\n    $ht = $r['host_type'];\n    $r = $r['rep'];\n    $rt = $r['rep_type'];\n\n    foreach($a as $row) {\n        $xh = $row['host'];\n        $xht = $row['host_type'];\n        $xr = $row['rel'];\n        $xrt = $row['rel_type'];\n\n        if (($h==$xh) &amp;&amp; ($ht==$xht) &amp;&amp; ($r==$xr) &amp;&amp; ($rt==$xrt)) {\n            echo 'Found one&lt;br&gt;';\n            $e[] = $r;\n        }\n        $c2++;\n    }\n    $a = array_merge(array('rel_id'=&gt;$i, 'host'=&gt;$h, 'host_type'=&gt;$ht, 'rep'=&gt;$r, 'rep_type'=&gt;$rt), $a);\n    $c1++;\n}\n\necho '&lt;h3&gt;Duplicate Rows:&lt;/h3&gt;';\nforeach ($e as $row) {\n    print_r($row);\n    echo '&lt;br&gt;';\n}\necho '&lt;br&gt;&lt;br&gt;';\necho 'Counter 1: ' . $c1 . '&lt;br&gt;';\necho 'Counter 2: ' . $c2 . '&lt;br&gt;';\n</code></pre>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13275659,"title":"PHP file_exists is lying to me (saying file exists but it doesnt)","body":"<p>Doing this:</p>\n\n<pre><code>php -r 'unlink(\"path\"); clearstatcache(); echo file_exists(\"path\");'\n</code></pre>\n\n<p>Where path is a full absolute path to a file on my linux machine.  Command is returning '<code>1</code>' even though the file is clearly not there.  You can run this command a million times, it will always tell you the file is there.</p>\n\n<p>Running:</p>\n\n<pre><code>ls path\n</code></pre>\n\n<p>Tells you there's no such file.</p>\n\n<p>what gives?</p>\n\n<p>Update:\nI know about clearstatcache().  That does not help in this case.  Additionally, I'm running this with the cli.  Nothing changes from run to run.  I'm also on a 64-bit VM running ubuntu 11.10.</p>\n\n<p>Path is just a path on the filesystem: /var/www/yo.txt.  www is a nfs shared mount, not sure if that has something to do with it.  The file was removed from a remote machine, but the local machine seems to know its not there.  'ls' on the directory shows no files, and ls with the path claims says that the file is not there.  The file was just a few kb, nothing huge.</p>\n"},{"tags":["php","arrays"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13276226,"title":"Generate URL with parameters from an array","body":"<p>I need to take an array like I have below:</p>\n\n<pre><code>$subids = Array\n    (\n        [s1] =&gt; one\n        [s2] =&gt; two\n        [s3] =&gt; three\n        [s4] =&gt; four\n        [s5] =&gt; five\n        [s6] =&gt; six\n    )\n</code></pre>\n\n<p>and generate a URL such as <a href=\"http://example.com?s1=one&amp;s2=two&amp;s3=three=&amp;s4=four&amp;s5=five&amp;s6=six\" rel=\"nofollow\">http://example.com?s1=one&amp;s2=two&amp;s3=three=&amp;s4=four&amp;s5=five&amp;s6=six</a></p>\n\n<p>All of the subids are not always defined, so sometimes s3 may not be defined, so it shouldn't be appended to the URL. Additionally, whatever the first subid is, it has to have the ? preceding it instead of the ampersand (&amp;)</p>\n\n<p>So if the array is just:</p>\n\n<pre><code>$subids = Array\n    (\n        [s2] =&gt; two\n        [s6] =&gt; six\n    )\n</code></pre>\n\n<p>then the URL needs to be <a href=\"http://example.com?s2=two&amp;s6=six\" rel=\"nofollow\">http://example.com?s2=two&amp;s6=six</a></p>\n\n<p>I have the following so far:</p>\n\n<p>$url = 'http://example.com'</p>\n\n<pre><code>    foreach ($subids AS $key =&gt; $value) {\n        $result[$id]['url'] .= '&amp;' . $key . '=' . $value;\n    }\n</code></pre>\n\n<p>However, I'm not sure what the best way would be to append the ? at the beginning of the first key/value pair.</p>\n\n<p>I feel like there's a PHP function to help with this but I'm not finding much. I'm using Codeigniter if there's anything I can use that is provided by CI.</p>\n"},{"tags":["php","database","global-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13275053,"title":"global Tag Stopped Working : Wrong way to define global variable?","body":"<p>I'm trying to pull data from the server without having to repeat <code>$parentQ</code>, <code>$parentResult</code>, and <code>$link</code>. I thought adding global inside each function would fix it, and it did.. but for whatever reason just stopped working. </p>\n\n<p>If I put them back inside the function, it works. I'm confused. Why did it work, and now, isn't working. I didn't change anything that I know of. Here's the code:</p>\n\n<pre><code>//URL in Reference\n  $URL = 'path/file.php';\n\n//Initialize Query for Table Data\n$parentQ = \"select * from cdi_content where URL=\\\"$URL\\\"\";\n$parentResult = mysql_query($parentQ); // Run the Query\n$link = mysql_fetch_assoc($parentResult); // Query Result\n\n// Write Main Content\nfunction writeContent($URL){\nglobal $parentQ, $parentQuery, $link;\necho $link['Content']; // Pull Data From Server\n</code></pre>\n"},{"tags":["php","rest","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13275563,"title":"REST for PHP 5.1.6 for use with Backbone","body":"<p>I am working on a project where I don't have SSH access to the linux server but just the FTP access to public_html folder. I am relatively new to backbone and want to utilize its full capabilities. However, the server runs on:</p>\n\n<blockquote>\n  <p>PHP 5.1.6 APACHE 2.0 Modules: core prefork http_core mod_so\n  mod_auth_basic mod_auth_digest mod_authn_file mod_authn_alias\n  mod_authn_anon mod_authn_dbm mod_authn_default mod_authz_host\n  mod_authz_user mod_authz_owner mod_authz_groupfile mod_authz_dbm\n  mod_authz_default util_ldap mod_authnz_ldap mod_include mod_log_config\n  mod_logio mod_env mod_ext_filter mod_mime_magic mod_expires\n  mod_deflate mod_headers mod_usertrack mod_setenvif mod_mime mod_dav\n  mod_status mod_autoindex mod_info mod_dav_fs mod_vhost_alias\n  mod_negotiation mod_dir mod_actions mod_speling mod_userdir mod_alias\n  mod_rewrite mod_proxy mod_proxy_balancer mod_proxy_ftp mod_proxy_http\n  mod_proxy_connect mod_cache mod_suexec mod_disk_cache mod_file_cache\n  mod_mem_cache mod_cgi mod_version mod_ssl mod_jk mod_auth_pgsql\n  mod_authz_ldap mod_nss mod_perl mod_php5 mod_proxy_ajp mod_python\n  mod_dav_svn mod_authz_svn</p>\n</blockquote>\n\n<p>Is it possible by any means to implement REST api on the backend? I have been looking at many frameworks in PHP but they mostly require > PHP 5.2  Any help would be highly appreciated. Thanks.</p>\n"},{"tags":["php",".htaccess","seo"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13267188,"title":"PHP SEO optimized address and physical page address conflict","body":"<p>I have a static website that I am planning to move towards php. I will be using php to just load the navigation.htm and main contents page and combine to form a single html file. </p>\n\n<ol>\n<li><p>Actual Page is here: <a href=\"http://abubakar.zxq.net/html/0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm\" rel=\"nofollow\">http://abubakar.zxq.net/html/0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm</a></p></li>\n<li><p>How It is accessed through php:\n<a href=\"http://abubakar.zxq.net/index.php?page=0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm\" rel=\"nofollow\">http://abubakar.zxq.net/index.php?page=0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm</a></p></li>\n</ol>\n\n<p>I want the page to look like 2 when site is addressed with URL in 1. It is needed to keep the already shared URLs remain working.</p>\n\n<p>Here is how I defined httaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^html/([a-zA-Z0-9_-]+)$ index.php?page=$1\n</code></pre>\n\n<p>Kindly inform is it possible to do it in present form? I have a solution in mind that old files should be shifted to a new folder and the design php so that it works on old link. Thanks in advance for your kind help.</p>\n"},{"tags":["php","zend-framework","routes","zend-route","zend-router"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13137540,"title":"ZEND - Custom routing issues","body":"<p>I'm using Zend framework 1.12, trying to come up with custom routes.</p>\n\n<p>I'm trying to create something that looks like facebook's profile URL (http://facebook.com/username). So, at first I tried something like that:</p>\n\n<pre><code>$router-&gt;addRoute(\n            'eventName',\n            new Zend_Controller_Router_Route(\n                '/:eventName', \n                array(\n                    'module' =&gt; 'default', \n                    'controller' =&gt; 'event', \n                    'action' =&gt; 'detail'\n                )\n            )\n        );\n</code></pre>\n\n<p>I kept getting the following error anytime I tried running mydomain.com/something:</p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'Zend_Controller_Router_Exception'\n  with message 'eventName is not specified' in\n  /var/desenvolvimento/padroes/zf/ZendFramework-1.12.0/library/Zend/Controller/Plugin/Broker.php\n  on line 336</p>\n</blockquote>\n\n<p>Not only I was unable to make that piece of code work, all my default routes were (obviously) overwritten. So I have, for example, stuff like \"mydomain.com/admin\" that should send me to the \"admin\" module, on the Index controller, but was now returning the same error (as it fell in the same pattern as /:eventName).</p>\n\n<p>What I need to do is to create this custom route, without overwriting the default ones and actually working (dÃ»h).</p>\n\n<p>I have already checked the online docs and a lot (A LOT) of stuff on google, but I didn't find anything related to the error I'm getting or how to not overwrite the default routes. I'd appreciate anything that could point me the right direction.</p>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p>EDITÂ¹:\nI managed to get it working, but I didn't use any routing at all. I just made a plugin with the following:</p>\n\n<pre><code>public function preDispatch(\\Zend_Controller_Request_Abstract $request) {\n\n    if (!\\Zend_Controller_Front::getInstance()-&gt;getDispatcher()-&gt;isDispatchable($request)) {\n\n        $request-&gt;setModuleName($this-&gt;_eventRouter[\"module\"]);\n        $request-&gt;setControllerName($this-&gt;_eventRouter[\"controller\"]);\n        $request-&gt;setActionName($this-&gt;_eventRouter[\"action\"]);\n\n    }\n\n}\n</code></pre>\n\n<p>It feels like an ugly workaround, though... As <a href=\"http://stackoverflow.com/users/105019/tim-fountain\">Tim Fountain</a> pointed out, my events are dynamic (I load them from a database), so I can't hardcode it. Also, my current implementation prevents me from having to hardcode every module/controller/action combination.</p>\n\n<p>I'd just like to know if there's a way to avoid using a plugin.</p>\n\n<hr>\n\n<p>EDITÂ²: I'm not doing that crappy plugin thing anymore. I figured out what was causing the router error. My routing definition did not have a valid default value for variable 'eventName'. My fix was:</p>\n\n<pre><code>$router-&gt;addRoute(\n        'eventName',\n        new Zend_Controller_Router_Route(\n            '/:eventName', \n            array(\n                'module' =&gt; 'default', \n                'controller' =&gt; 'event', \n                'action' =&gt; 'detail',\n                'eventName' =&gt; ''\n            )\n        )\n    );\n</code></pre>\n\n<p>I am still unable to create routes with \"conflicting\" patterns, such as <strong>/admin</strong> and <strong>/:eventName</strong>. If only there was a way to make <strong>/admin</strong> override <strong>/:eventName</strong>...</p>\n"},{"tags":["php","git","version-control"],"answer_count":4,"favorite_count":18,"up_vote_count":21,"down_vote_count":0,"view_count":5546,"score":21,"question_id":645814,"title":"Reading a Git repository, without Git","body":"<p>I'm researching the idea of building a super-small (preferably PHP) web app, which will serve (among other things) as a minimal front-end to a git repository.</p>\n\n<p><strong>Any library/article for reading a git repository</strong> (\".git\" folder) <strong>without having to execute the \"git\" process?</strong> I'm looking for an API to manage a git repository. I'm only interested in basic functions, such as reading last commits (name of commiter, commit note, date), displaying and traversing branches...</p>\n\n<p>Thanks,\nANaimi</p>\n"},{"tags":["php","reference"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13265617,"title":"PHP and Reference: What is deprecated and what is not?","body":"<p>PHP as declared refusing the use of reference variable (E_DEPRECATED in 5.3, E_STRICT in 5.4).\nInitially, I thought it was the use of &amp; in all the cases, but it seems not.</p>\n\n<p>So I was wondering, what kind of code using reference is still allowed, and what now throws a E_DEPRECATED/STRICT error?</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13275938,"title":"Facebook Video API not Uploading Video","body":"<p>It authenticates and redirects to thankyou.com like it should, but no  video is ever posted on my timeline. The video is on <code>www.mydomain.com/video.mp4</code>  </p>\n\n<pre><code> &lt;?php\n $app_id = \"2363xxxxxxx\";\n $app_secret = \"e4cd5bbxxxxxxxxxxxxxxx\";\n $my_url = \"http://thankyou.com\";\n $video_title = \"Test\";\n $video_desc = \"Test\";\n\n $code = $_REQUEST[\"code\"];\n\n if(empty($code)) {\n $dialog_url = \"http://www.facebook.com/dialog/oauth?client_id=\"\n . $app_id . \"&amp;redirect_uri=\" . urlencode($my_url)\n . \"&amp;scope=publish_stream\";\n echo(\"&lt;script&gt;top.location.href='\" . $dialog_url . \"'&lt;/script&gt;\");\n }\n\n $token_url = \"https://graph.facebook.com/oauth/access_token?client_id=\"\n . $app_id . \"&amp;redirect_uri=\" . urlencode($my_url)\n . \"&amp;client_secret=\" . $app_secret\n . \"&amp;code=\" . $code;\n $access_token = file_get_contents($token_url);\n\n $post_url = \"https://graph-video.facebook.com/me/videos?\"\n . \"title=\" . $video_title. \"&amp;description=\" . $video_desc\n . \"&amp;\". $access_token;\n\n//CURL CODES START\n\n    $ch = curl_init();\n    $data = array('name' =&gt; 'file', 'file' =&gt; '@'.realpath(\"video.mp4\"));// use realpath\n    curl_setopt($ch, CURLOPT_URL, $post_url);\n    curl_setopt($ch, CURLOPT_POST, 1);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);\n    $res = curl_exec($ch);\n\n    if (curl_errno($ch) == 60) { // CURLE_SSL_CACERT\n        curl_setopt($ch, CURLOPT_CAINFO,\n                  dirname(__FILE__) . '/src/fb_ca_chain_bundle.crt'); // path to the certificate\n        $res = curl_exec($ch);\n    }\n\n    if( $res === false ) {\n        echo curl_error($ch);\n    }\n    curl_close($ch);\n\n//CURL ENDS\n?&gt;\n</code></pre>\n"},{"tags":["php","json","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13213591,"title":"How to parse JSON passing in PHP web service","body":"<p>I want to pass a JSON: <code>{\"name\":\"jason\",\"age\":\"20}</code> in PHP though <strong>POST</strong></p>\n\n<p>In RoR, I can get the two values by using <code>params[\"name\"]</code> &amp; <code>params[\"age\"]</code> </p>\n\n<p>But I don't know how to get them in PHP.</p>\n\n<p>I understand that I can 'translate' the JSON string into associative array by using <code>json_decode</code> but I don't know how to get the JSON string.</p>\n\n<p>In my <strong>PHP code</strong>, I has tried something like this:</p>\n\n<pre><code>&lt;?php\n    $json_string = $_POST['params'];\n\n    $json_object= json_decode($json_string);\n    print_r($json_object);\n\n    echo $json_object-&gt;name;\n    echo \" \";\n    echo $json_object-&gt;age;\n?&gt;\n</code></pre>\n\n<p>Then I has tested the PHP with terminal and I got the <strong>correct</strong> result</p>\n\n<pre><code>curl -d 'params={\"name\":\"jason\", \"age\":\"20\"}' xxxx/test_json_decode.php\n</code></pre>\n\n<p>It works but it seems strange to me, because I didn't set the <code>'Content-Type: application/json'</code></p>\n\n<p>Is it the correct way to parse JSON in PHP?</p>\n"},{"tags":["php","xpath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13275545,"title":"How to translate strings using xpath?","body":"<p>I have this piece of code:</p>\n\n<pre><code>$xpath = new DOMXPath($dom);\nforeach ($xpath-&gt;query(\"//text()\") as $q) {\n    foreach(preg_split(\"/(\\r?\\n)/\", $q-&gt;nodeValue) as $line) {\n        $str = trim($line);\n        $translation = search_in_db_for_translation($str);\n        if (!empty($translation) {\n            replace string previously found by $translation\n        }\n    }\n}\n</code></pre>\n\n<p>The script searches in an XML document for each string and if there is an available translation in the database (pairs {\"input language string\", \"input language string\"}) it must replace the string in the DOM document (after this translation there are more DOM manipulations). The problem is I'm unable to find a function to do this.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":27,"score":-1,"question_id":13276134,"title":"PHP executing header:location regardless IF statement parameters","body":"<p>Can anyone tell me why, when using the code below, I am getting redirected to elephant.com rather than seeing a 'giraffe!</p>\n\n<pre><code>&lt;?php\n$foo=\"giraffe\";\nif($foo=\"elephant\"){\nheader(\"location:http://www.elephant.com\");\nexit();\n}else{\n echo $foo;}\n?&gt;\n</code></pre>\n\n<p>Thanks for looking</p>\n\n<p>J</p>\n"},{"tags":["java","php","linux","dns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":34,"score":-1,"question_id":13276100,"title":"How can I show PHP and Java applications running on different servers under the same domain name?","body":"<p>Java application runs on one server and available at domain.com\nPHP application (WordPress) runs on another server and should be available at domain.com/blog</p>\n\n<p>I do not want to install PHP stack, or wordpress on Java server for security reasons, my Java application is security-sensitive.</p>\n\n<p>blog.domain.com won't do either, for SEO reasons: I need application-related content under the same domain.</p>\n"},{"tags":["php","javascript","ajax","post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13238038,"title":"debugging failed ajax POST call, type is pending","body":"<p>I have a javascript file that generates some JSON and makes an AJAX call to a php file that writes and creates the JSON file.  Everything has been working well until I started generating pretty big JSON files.  Currently, I have a 9mb json file and I know it is structured correctly because when I print it out using console.log and manually put into a file, it works.  </p>\n\n<p>However, the Ajax call fails to succeed.  I have tried a normal XHR call and jQuery Ajax, both fail and do not provide much information.  I tried in Chrome and Firefox.  Looking at Developer Tools, the status text says (failed) and type says pending.  No status code appears and all I have is statusText: \"error\" in Ajax error callback.  I tried messing around with timeout and synchronous calls but nothing seems to work/</p>\n\n<p>Any ideas on how I can debug further?</p>\n\n<p><strong>Code Sample</strong></p>\n\n<pre><code>var name = \"test.json\";\nvar json = '{\n    \"type\": \"FeatureCollection\",\n    \"bbox\": [\n        1.4137153625488281,\n        42.4288330078125,\n        1.7842082977294922,\n        42.652313232421875\n    ],\n    \"features\": [\n        {\n            \"type\": \"Feature\",\n            \"bbox\": [\n                1.4137153625488281,\n                42.4288330078125,\n                1.7842082977294922,\n                42.652313232421875\n            ],\n            \"geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            1.5753068923950195,\n                            42.6473388671875\n                        ],\n                        [\n                            1.5828666687011719,\n                            42.63543701171875\n                        ],\n                        [\n                            1.5753068923950195,\n                            42.6473388671875\n                        ]\n                    ]\n                ]\n            },\n            \"properties\": {\n                \"ID_0\": \"6\",\n                \"ISO\": \"AND\",\n                \"NAME_ENGLI\": \"Andorra\",\n                \"NAME_OBSOL\": \"\"\n            }\n        }\n    ]\n}';\n\n\n\n$.ajax({\n        type:\"POST\",\n        url:\"log.php\",\n        data: { data: json, file: name },\n        dataType: \"json\",\n        success:function(response) {\n            console.log(response);\n        },\n        error:function(error) {\n            console.log(error);\n        }\n});\n</code></pre>\n\n<p>This is log.php:</p>\n\n<pre><code>if (isset($_POST['file'])) {\n$file = $_POST['file'];\n$data = str_replace(\"\\\\\", \"\", $_POST['data']);\n\nfile_put_contents($file, $data);\nexit();\n}\n</code></pre>\n\n<p><strong>My main question is this, when AJAX fails, how do you debug better?</strong> My error callback here does not provide any good information.  I tried looking at net-internals in chrome but I can't find much there.  Any ideas?</p>\n"},{"tags":["php","xml","api","curl","highrise"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":324,"score":0,"question_id":10148895,"title":"why is this cURL request working on the command line, but not in PHP?","body":"<p>I wrote a really basic wrapper class for Highrise's API. It works perfectly for Reads (GET), and I'm just starting to test it for Creates (POST). As far as I can tell, these two requests (one on the command line, one via PHP's cURL library) are identical. Same XML, same options set....just one works, and the other doesn't.</p>\n\n<p>Any help is appreciated. I posted this question to 37signals developer mailing list also, but stackoverflow is generally faster at spotting my dumb mistakes...</p>\n\n<p>This is the error I get with PHP's cURL (makes me think Highrise is having a problem parsing the XML string):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;errors&gt; &lt;error&gt;First name can't be blank&lt;/error&gt; &lt;/errors&gt; \n</code></pre>\n\n<p>This is what works on the command line:</p>\n\n<pre><code>curl -u 'my_api_key:X'\n    -H 'Content-type: application/xml'\n    -d '&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;person&gt;&lt;first-name&gt;Savos&lt;/first-name&gt;&lt;last-name&gt;Aren&lt;/last-name&gt;&lt;title&gt;Archmage&lt;/title&gt;&lt;company-name&gt;Winterhold College&lt;/company-name&gt;&lt;contact-data&gt;&lt;email-addresses/&gt;&lt;phone-numbers&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Home&lt;/location&gt;&lt;/phone-number&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Work&lt;/location&gt;&lt;/phone-number&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Mobile&lt;/location&gt;&lt;/phone-number&gt;&lt;/phone-numbers&gt;&lt;addresses&gt;&lt;address&gt;&lt;city&gt;Winterhold&lt;/city&gt;&lt;country&gt;Tamriel&lt;/country&gt;&lt;state&gt;Skyrim&lt;/state&gt;&lt;street&gt;Hall of the Elements, College of Winterhold&lt;/street&gt;&lt;zip&gt;99999&lt;/zip&gt;&lt;location&gt;Work&lt;/location&gt;&lt;/address&gt;&lt;/addresses&gt;&lt;/contact-data&gt;&lt;/person&gt;'\n    https://myuserid.highrisehq.com/people.xml\n</code></pre>\n\n<p>Here's my wrapper class:</p>\n\n<pre><code>class HighriseAPICall {\n    protected $_timeout = 120;\n    protected $_url_prefix = 'https://';\n    protected $_url_suffix = '.highrisehq.com';\n    protected $_password = 'X';\n\n    protected $_userpwd;\n    protected $_url;\n\n    public function __construct($api_key, $username) {\n        $this-&gt;_userpwd= $api_key . ':' . $this-&gt;_password;\n        $this-&gt;_url = $this-&gt;_url_prefix . $username . $this-&gt;_url_suffix;\n    }\n\n    /**\n     * Make the specified API call.\n     * @param string $action one of the four HTTP verbs supported by Highrise\n     * @param string $resource_name the Highrise resource to be accessed\n     * @param string $xml a well-formed XML string for a Highrise create, update, or delete request\n     * \n     * $xml parameter should include any query parameters as suggested by Highrise API documentation\n     * eg, if you want to GET all People, pass in \"/people.xml\"\n     * and if you want to get People by search term where field=value,\n     * then pass in \"/people/search.xml?criteria[field]=value\"\n     */\n    public function makeAPICall($action,$resource_name,$xml=null) {\n        /* initialize curl session and set defaults for new API call */\n        $curl = curl_init();\n        curl_setopt($curl, CURLOPT_URL, $this-&gt;_url . $resource_name);\n        curl_setopt($curl, CURLOPT_USERPWD, $this-&gt;_userpwd);\n        curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);\n        curl_setopt($curl, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);\n        curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, $this-&gt;_timeout);\n        /* if xml was passed in, set header and postfields */\n        if (isset($xml)) {\n            curl_setopt($curl, CURLOPT_HTTPHEADER, 'Content-type: application/xml');\n            curl_setopt($curl, CURLOPT_POSTFIELDS, \"$xml\");\n        }\n        /* set action as custom request */\n        curl_setopt($curl, CURLOPT_CUSTOMREQUEST, $action);\n        /* get the string response from executing the curl session */\n        $result = curl_exec($curl);\n        curl_close($curl);\n\n        // return the response as a simpleXMLElement\n        try {\n                $result_simplexml = new SimpleXMLElement($result);\n        }\n        catch (Exception $e) {\n                throw new Exception(\"Highrise API Call Error: \" . $e-&gt;getMessage() . \", Response: \" . $result);\n        }\n        if (!is_object($result_simplexml)) {\n                throw new Exception(\"Highrise API Call Error: Could not parse XML, Response: \" . $result);\n        }\n        return $result_simplexml;\n    }\n\n}\n?&gt;\n</code></pre>\n\n<p>And the simple testpage I'm using:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n        &lt;title&gt;&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;?php\n            require_once('HighriseAPICall.class.php');\n            $highrise_api_key = 'OBSCURED';\n            $highrise_username = 'OBSCURED';\n            $highrise_api = new HighriseAPICall($highrise_api_key, $highrise_username);\n\n            $person_xml ='&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;person&gt;&lt;first-name&gt;Savos&lt;/first-name&gt;&lt;last-name&gt;Aren&lt;/last-name&gt;&lt;title&gt;Archmage&lt;/title&gt;&lt;company-name&gt;Winterhold College&lt;/company-name&gt;&lt;contact-data&gt;&lt;email-addresses/&gt;&lt;phone-numbers&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Home&lt;/location&gt;&lt;/phone-number&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Work&lt;/location&gt;&lt;/phone-number&gt;&lt;phone-number&gt;&lt;number&gt;555-555-5555&lt;/number&gt;&lt;location&gt;Mobile&lt;/location&gt;&lt;/phone-number&gt;&lt;/phone-numbers&gt;&lt;addresses&gt;&lt;address&gt;&lt;city&gt;Winterhold&lt;/city&gt;&lt;country&gt;Tamriel&lt;/country&gt;&lt;state&gt;Skyrim&lt;/state&gt;&lt;street&gt;Hall of the Elements, College of Winterhold&lt;/street&gt;&lt;zip&gt;99999&lt;/zip&gt;&lt;location&gt;Work&lt;/location&gt;&lt;/address&gt;&lt;/addresses&gt;&lt;/contact-data&gt;&lt;/person&gt;';\n\n            $response = $highrise_api-&gt;makeAPICall('POST', '/people.xml', $person_xml);\n            echo htmlentities($response-&gt;asXML());\n        ?&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":282,"score":2,"question_id":7503716,"title":"PHP validate form validation with HTML select","body":"<p>I have a simple select box which is like this,</p>\n\n<pre><code>&lt;label for=\"gender\"&gt;Gender:&lt;/label&gt;&lt;select id=\"gender\" name=\"gender\"&gt;\n&lt;option value=\"Male\"&gt;Male&lt;/option&gt;\n&lt;option value=\"Female\"&gt;Female&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>And in my php I cannot validate to make sure it is a correct value using,</p>\n\n<pre><code>if ($_POST['gender'] !== 'Male' || $_POST['gender'] !== 'Female') {\n\n      // perform redirect\n}\n</code></pre>\n\n<p>I have also used the operator <b>!=</b> to, why is this happening?</p>\n\n<p>Many regards,</p>\n"},{"tags":["php","gd"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":38,"score":3,"question_id":13086319,"title":"GD creating patterns","body":"<p>How to create patterns like these:</p>\n\n<p><img src=\"http://i.stack.imgur.com/GDHrU.png\"></p>\n\n<p><img src=\"http://i50.tinypic.com/2w7e1zt.png\"></p>\n\n<p><img src=\"http://i50.tinypic.com/y1ibl.png\"></p>\n\n<p>From a single image in PHP with GD?</p>\n\n<p>I've tried a lot but I think it can be done easier.</p>\n\n<p>My thoughts:\nFill with imagefilledrectangle for one line. For the second line fill it with a margin left and right (for my first example). Next cut the image in two pieces and fill the margins with it and repeat this for each line.</p>\n\n<p>I hope someone can help me out :)</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","oop","constructor","initialization"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":203,"score":3,"question_id":3837924,"title":"Is there a special object initializer construct in PHP like there is now in C#?","body":"<p>I know that in C# you can nowadays do:</p>\n\n<pre><code>MyObject a = new MyObject()\n{\n    Property1 = 1,\n    Property2 = 2\n};\n</code></pre>\n\n<p>Is there something like that in PHP too? Or should I just do it through a constructor or through multiple statements;</p>\n\n<pre><code>$a = new MyObject(1, 2);\n\n$a = new MyObject();\n$a-&gt;property1 = 1;\n$a-&gt;property2 = 2;\n</code></pre>\n\n<p>If it is possible but everyone thinks it's a terrible idea, I would also like to know.</p>\n\n<p>PS: the object is nothing more than a bunch of properties. </p>\n"},{"tags":["php","session-cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13275710,"title":"Expired session cookie appears to still exist","body":"<p>I am trying to delete a session cookie.  These are the steps I am following</p>\n\n<pre><code>        // Find the session - I believe this is doing a resume rather than starting a fresh session thus identifying the session.\n        session_start();\n\n        // Unset all the session variables enmasse by assigning an empty array\n        $_SESSION = array();\n\n        // find the session name that has been allocated then destroy the session cookie\n        if(isset($_COOKIE[session_name()])){\n            setcookie(session_name(),'', time()-42000, '/');\n           // set content of found session to null, with a past time, at the root\n        }\n\n        // Destroy the session \n        session_destroy();\n</code></pre>\n\n<p>This definitely logs me out.  However the actual cookie still exists and can be viewed in the browser (firefox).</p>\n\n<pre><code>$_COOKIE[session_name()]\n</code></pre>\n\n<p>appears to be returning the encrypted content string as opposed to the session name.</p>\n\n<p>Questions:</p>\n\n<p>if $_COOKIE[session_name()] is not the correct way to get the session name what is?</p>\n\n<p>Should I be setting a session_name instead of allowing it to default?</p>\n\n<p>Am I seeing the session because it is waiting for some kind of garbage collection?</p>\n"},{"tags":["php","shell","hosting","apc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13268091,"title":"Why Custom php install is needed to install APC","body":"<p>I don't know it is the right place to ask this question but still for me it is the best place to ask question so i am asking this </p>\n\n<p>\"My Aim is to install alternative php cache (apc) on my website (hosted by dreamhost) \"</p>\n\n<p>My problem is it is not installing by following the wiki <a href=\"http://wiki.dreamhost.com/Pecl_APC\" rel=\"nofollow\">http://wiki.dreamhost.com/Pecl_APC</a> .That wiki clearly specified that i need to run a custom php install in order to install APC but whyy?? isn't there a way to install APC in existing php version .My site uses php 5.2.17. Please help me i am stuck into this from a very long time now.The dreamhost wiki is not helpful at all i need answer from someone who has installed APC on their server please help </p>\n\n<p>thanks in advance</p>\n"},{"tags":["php","linux","shell","script","concurrency"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":84,"score":5,"question_id":13268392,"title":"Linux concurrency scripting with mutexes","body":"<p>On my Linux server, I need to synchronize multiple scripts (written in BASH and PHP) so that only one of them is able to start a system-critical job, which is a series of BASH/PHP commands, that would mess things up if performed simultaneously by two or more scripts. From my experience with multithreading in C++, I'm familiar with the notion of mutex, but how do I implement a mutex for a bunch of scripts that run in separate processes and, of course, aren't written in C++?</p>\n\n<p>Well, the first solution that comes into mind would be making sure that each of the scripts initially creates a \"lock flag\" file to let other scripts know that the job is \"locked\" and then deletes the file after it's done with the job. But, as I see it, the file writing <em>and</em> reading operations are required to be <em>completely atomic</em> to let this approach work out with a 100% probability, and the same requirement would apply to any other synchronization method. And I'm pretty sure that file writing/reading operations are not atomic, they are not atomic across all existing Linux/Unix systems at least.</p>\n\n<p>So what is the best way to synchronize concurrent Linux scripts? Should I go with \"lock flag\" files or is there a more reliable solution?</p>\n"},{"tags":["php","mysql","math","time"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13275706,"title":"Get average time between several dates for one entry","body":"<p>I am not really sure how to explain this, but basically what I am trying to do is get the average time that it takes between a set of dates. This is what the database table looks like</p>\n\n<pre><code>id | offer_id | user |    date    | date_completed\n----------------------------------------------------\n1  |   123    | test | 1352265988 |   1352265995\n2  |   123    | admin| 1352266004 |   1352266022\n3  |   123    | kira | 1352264754 |   1352271946\n</code></pre>\n\n<p>I need to get the average time between the 2 timestamps and calculate them together so I can echo it out in my code. I am sure this would be done with a <code>foreach</code> statement, but I have no idea how to go about doing it. If there is anyone that can point me in the right direction that would be great!</p>\n"},{"tags":["php","mysql","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13255226,"title":"Loading mysql calls into arrays","body":"<p>Normally have not had to do this alot but my process didn't seem to work correctly this time so I am asking for some clarification</p>\n\n<p>This works for a single item in the query:</p>\n\n<pre><code>    $query=\"SELECT data1 as product FROM Products ORDER BY Title\"; \n    $result = mysql_query($query)\n        or die(\"Query failed -\".$query);        \n    $rows=array();\n    while($row = mysql_fetch_array($result, MYSQL_BOTH)) {\n        $rows[] = $row;\n    }\n</code></pre>\n\n<p>As I said this works fine for a single item being returned all of the items returned in the query end up in an array called $rows</p>\n\n<pre><code>    $query=\"SELECT data1 as product, data2 as info FROM Products ORDER BY Title\"; \n    $result = mysql_query($query)\n        or die(\"Query failed -\".$query);        \n    $i=0;\n    $data1=array();\n    $data2=array();\n\n    while($row = mysql_fetch_array($result, MYSQL_BOTH)) {\n        $data1[$i] = $row[0];\n        $data2[$i++] = $row[1];\n    }\n</code></pre>\n\n<p>This does not seem to do the same thing or I missed something.</p>\n\n<p>Am I missing something? \nIf not then I need to look at something else as my issue but need to make sure about this.</p>\n\n<p>The result I desire is two arrays one containing the all of first items from the query result and the second array containing all of the second items from the query result.</p>\n"},{"tags":["php","php-errors"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":3,"view_count":27,"score":-3,"question_id":13275504,"title":"Concatenating print_f gives Parse error: syntax error, unexpected T_VARIABLE error","body":"<p>I'm trying to concatenate my print_f code but with little success. I keep getting the following error: <code>Parse error: syntax error, unexpected T_VARIABLE on line 98</code>. Is it possible to concatenate print_f? Here is my code so far:</p>\n\n<pre><code>    $dateStart = new DateTime();\n    $dateStart-&gt;setDate(2012, 10, 01);\n    $dateEnd = new DateTime();\n    $dateEnd-&gt;setDate(2012, 12, 01);\n\n    $dates = array();\n    while ( $dateStart &lt; $dateEnd ) {\n        printf(\"&lt;li&gt;&lt;div id='activity_date'&gt;%s&lt;/div&gt;\n            &lt;div id='activity_box'&gt;\n                &lt;div id='activity_text'&gt;\"\n\n                $rand = array_rand($status, rand(2, 3));\n                foreach ( $rand as $key ) {\n                print($status[$key] . \"&lt;br /&gt;\");\n                }\n                \" \n                                    request\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/li&gt;\",$dateStart-&gt;format(\"d/m/Y\"));\n        $dateStart-&gt;modify(sprintf(\"+%d day\",mt_rand(1, 10)));\n    }\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13275227,"title":"AJAX: PHP vs Javascript View - Dupliacte View Logic?","body":"<p>I am currently working on a small web application which includes a calendar displaying its entries. When the page gets loaded, the calendar gets generated through PHP.</p>\n\n<p>On the same page, there is a form which allows one to edit the entries. The command to change gets sent by AJAX, and then the calendar has to be reloaded in some way.</p>\n\n<p>What I am wondering about currently is the following:</p>\n\n<p>I have two possibilities of updating the Calendar through AJAX. </p>\n\n<ul>\n<li><strong>One is to send the Calendar's HTML Markup anew,</strong> whether it means reloading the entire calendar or the element of the calendar entry. <br>This is probably not optimal, since it requires quite a bit of (raw) data sent through the AJAX call. <br>On the other side, all it requires is for me to call the same PHP function which generates the markup again, return that and then replace the DOM Element on the clientside, so neccesary work is roughly 5 lines of code. <br>This is the way I am currently using since it feels \"easier\".</li>\n<li><strong>The other is to send the Data of the new Calendar entry JSON encoded</strong>, and then make the neccesary changes through a javascript function into the existing markup. <br>This also feels not optimal, since I would have to use a lot knowledge of the markup twice: Once in the PHP code and once in the JS Code. I can see this redundant code causing problems as soon as the markup would change in any way. <br>It also feels like a more 'complicated' solution, which includes easily 4-5 as much code considering I have to manipulate a good amount of fields (roughly 10+).<br>On the other hand, a lot less data gets transmitted since only the content gets sent.</li>\n</ul>\n\n<p><strong>Which is the better solution?</strong> Am I missing a third (or even fourth) option? </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13275669,"title":"PHP Domian API Key","body":"<p>So I am looking to use this api script:</p>\n\n<p><a href=\"http://blog.andreaolivato.net/programming/create-your-first-api-set-in-php.html\" rel=\"nofollow\">http://blog.andreaolivato.net/programming/create-your-first-api-set-in-php.html</a></p>\n\n<p>However the results have a link that has a variable lets call it assoc.</p>\n\n<p>What I am looking to do is to release a script that users can put on there websites and use the call to get products in Json like the script, but when they get the link to the product for the script to figure out what the domain name is match it in my database when the api call is made and return the products but with the links that include the assoc id from the domain that makes the call. </p>\n\n<p>Example.com   will return  a link www.mydomain.com/products.php?tv/assoc=exampleid</p>\n\n<p>Anybody has an example to do this. I wanted to use the <code>$_SERVER['HTTP_REFERER']</code></p>\n\n<p>Anybody know an example that will check the domain. </p>\n\n<p>I figured I can send the domain name with the api call. and use get on the server side, will this be a good approach?  </p>\n\n<p>I have two options, release a code that stores all the data on the clients server and i have nothing to do with it. Or i can release a script that only keep some data but most of the products and such are on my server but change there link with the users ID. </p>\n\n<p>The reason I am looking for this is because I think this will be a bit easier then using ION Cube to encode the script. Mostly because is so dam expensive. </p>\n"},{"tags":["php","soap","namespaces"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":698,"score":0,"question_id":5906486,"title":"PHP Change SOAP NameSpace","body":"<p>I am attempting to change the namespace as it needs to match the .NET web service namespace it is attempting to call however am unable to. How do I change the name space?</p>\n\n<pre><code>class MSWCF extends SoapClient\n{\n    function __doRequest($request, $location, $action, $version, $one_way = 0) \n    {\n        /*\n         * $request is a XML string representation of the SOAP request\n         * that can e.g. be loaded into a DomDocument to make it modifiable.\n         */\n\n        $domRequest = new DOMDocument();\n        $domRequest-&gt;loadXML($request);\n\n        // modify XML using the DOM API, e.g. get the &lt;s:Header&gt;-tag \n        // and add your custom headers\n        $xp = new DOMXPath($domRequest);\n        $xp-&gt;registerNamespace('SOAP-ENV', 'http://schemas.xmlsoap.org/soap/envelope/');\n        // fails if no &lt;s:Header&gt; is found - error checking needed\n        $envelope = $xp-&gt;query('/SOAP-ENV:Envelope')-&gt;item(0);\n\n        // now add your custom header\n        $header = $domRequest-&gt;createElement('SOAP-ENV:header');\n        $security = $domRequest-&gt;createElement('o:Security');\n        $usernameToken = $domRequest-&gt;createElement('o:UsernameToken');\n        $usernameTokenuid = new DOMAttr('u:Id','uuid-4d9bf7e6-da00-4f72-8383-6037f12a0fb5-5');\n        $username = $domRequest-&gt;createElement('o:Username','');\n        $password = $domRequest-&gt;createElement('o:Password','');\n        $passwordtype = new DOMAttr('Type','http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText');\n        $password-&gt;appendChild($passwordtype); \n        $usernameToken-&gt;appendChild($username);\n        $usernameToken-&gt;appendChild($password);\n        $usernameToken-&gt;appendChild($usernameTokenuid);\n\n    $timestamp = $domRequest-&gt;createElement('u:TimeStamp');\n    $timestampuid = new DOMAttr('u:Id','_0');\n\n    $interval = new DateInterval(\"PT5M\");\n    $dateCreated = new DateTime();\n    $dateExpires = new DateTime();\n    $dateExpires-&gt;add($interval);\n    $created = $domRequest-&gt;createElement('u:Created', $dateCreated-&gt;format(DATE_ISO8601));\n    $expires = $domRequest-&gt;createElement('u:Expires', $dateExpires-&gt;format(DATE_ISO8601));\n    $timestamp-&gt;appendChild($timestampuid); \n    $timestamp-&gt;appendChild($created);  \n    $timestamp-&gt;appendChild($expires);  \n\n    $security-&gt;appendChild($timestamp);\n    $security-&gt;appendChild($usernameToken);\n\n    $securitymust = new DOMAttr('SOAP-ENV:mustUnderstand','1');\n    $securityxml= new DOMAttr('xmlns:o','http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd');\n    $security-&gt;appendChild($securitymust);\n    $security-&gt;appendChild($securityxml);\n\n        $header-&gt;appendChild($security);\n    $envelope-&gt;appendChild($header);\n\n        $request = $domRequest-&gt;saveXML();\n\n    echo $request;\n\n        return parent::__doRequest($request, $location, $action, $version, $one_way = 0);\n    }\n}\n</code></pre>\n"},{"tags":["php","image","colors","replace","gd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13275526,"title":"How to change same colours in different parts of the image?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1548534/php-replace-colour-within-image\">PHP - Replace colour within image</a>  </p>\n</blockquote>\n\n\n\n<p>Is there any function in php to change all the colours with same RGB code to any other color ?</p>\n\n<p>Eg: if an image have black colour in different parts of the image and I need to change all those black part to blue.\nI used <a href=\"http://php.net/imagefill\" rel=\"nofollow\"><code>imagefill()</code></a>, but it will stop its working when a boundary is reached and all other portions remain unchanged.</p>\n\n<p>Can anyone help me to find a solution ?</p>\n"},{"tags":["php","config","mamp","localserver"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":13275384,"title":"Configuring PHP Website and Connecting mySQL Files Onto Local Server","body":"<p>My current work station is on a Mac OS X using MAMP as my local server, which has PHP 5.4.44 and mySQL configured.</p>\n\n<p>I recently looked into the phpinfo() and made a test site to make sure the PHP was working properly on the server, and my PHP is working correctly. On both of these sites, they're configured in CakePHP and see that it runs a couple of mySQL files. All of the folder system was held in tact during the transfer.</p>\n\n<p>First, how am I able to connect these mySQL files through myPHPAdmin?</p>\n\n<p>Second, I transferred another site from the same server the same way I did the site I'm having trouble show anything on the page. Though many of the core PHP and CSS files were mislinked, the page I just transferred showed some of the items on the page. All of the files are linked properly, so I'm wondering what solutions to try.</p>\n\n<p>Any ideas or suggestions is appreciated! This is my first time messing with purely a CakePHP built website so I apologize if I'm not clear in this explanation.</p>\n"},{"tags":["php","tcpdf","moodle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":29,"score":-8,"question_id":13275323,"title":"How to print $OUTPUT->user_picture($user) output in tcpdf","body":"<p>$OUTPUT->user_picture($user) in tcpdf but picture is not visible in the pdf file.</p>\n"},{"tags":["php","caching","if-statement","file-get-contents"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13275131,"title":"How to avoid a possible missing cache file in PHP?","body":"<p>I have a simple caching system as</p>\n\n<pre><code>if (file_exists($cache)) {\necho file_get_contents($cache);\n// if coming here when $cache is deleting, then nothing to display\n}\nelse {\n// PHP process\n}\n</code></pre>\n\n<p>We regularly delete outdated cache files, e.g. deleting all caches after 1 hour. Although this process is very fast, but I am thinking that a cache file can be deleted right between the <code>if statement</code> and <code>file_get_contents</code> processes.</p>\n\n<p>I mean when <code>if statement</code> checks the existence of cache file, it exists; but when <code>file_get_contents</code> tries to catch it, it is no longer there (deleted by simultaneous cache deleting process).</p>\n\n<p><code>file_get_contents</code> locks the file to avoid the undergoing delete process during the read process. But the file can be deleted when the <code>if statement</code> sends the PHP process to the first condition (before start of the <code>file_get_contents</code>).</p>\n\n<p>Is there any approach to avoid this? Is the cache deleting system different?</p>\n\n<p><strong>NOTE:</strong> I did not face any practical problem, as it is not very probable to catch this event, but logically it is possible, and should happen on heavy loads.</p>\n"},{"tags":["php","symfony2"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13275509,"title":"Symfony2 configuration component not merge my configs","body":"<p>Here's an example of one of my configs (I have a bunch):</p>\n\n<pre><code>menu:\n    admin:\n        -\n            id:       products\n            label:    Products\n            route:    _manage_products\n            class:    menu-icon-products\n            position: 200\n            children:\n                -\n                    id:       all-products\n                    label:    All Products\n                    route:    _manage_products\n                    position: 10\n                -\n                    id:       add-product\n                    label:    Add Product\n                    route:    _add_product\n                    position: 20\n</code></pre>\n\n<p>Here is my configuration builder:</p>\n\n<pre><code>class MenuConfiguration implements ConfigurationInterface\n{\n    public function getConfigTreeBuilder()\n    {\n        $treeBuilder = new TreeBuilder();\n        $rootNode = $treeBuilder-&gt;root('menu');\n\n        $rootNode\n            -&gt;prototype('array')\n                -&gt;useAttributeAsKey('id', false)\n                -&gt;prototype('array')\n                    -&gt;useAttributeAsKey('id', false)\n                    -&gt;prototype('array')\n                        -&gt;children()\n                            -&gt;scalarNode('id')\n                                -&gt;isRequired()\n                                -&gt;cannotBeEmpty()\n                            -&gt;end()\n                            -&gt;scalarNode('label')\n                                -&gt;isRequired()\n                                -&gt;cannotBeEmpty()\n                            -&gt;end()\n                            -&gt;scalarNode('route')\n                                -&gt;isRequired()\n                                -&gt;cannotBeEmpty()\n                            -&gt;end()\n                            -&gt;scalarNode('routeParams')\n                                -&gt;defaultValue(array())\n                            -&gt;end()\n                            -&gt;scalarNode('class')\n                                -&gt;defaultValue('')\n                            -&gt;end()\n                            -&gt;scalarNode('position')\n                                -&gt;defaultValue(100)\n                            -&gt;end()\n                            -&gt;scalarNode('type')\n                                -&gt;defaultValue('menu_link')\n                            -&gt;end()\n                            -&gt;arrayNode('children')\n                                -&gt;useAttributeAsKey('id', false)\n                                -&gt;prototype('array')\n                                    -&gt;children()\n                                        -&gt;scalarNode('id')-&gt;isRequired()-&gt;end()\n                                        -&gt;scalarNode('label')-&gt;isRequired()-&gt;end()\n                                        -&gt;scalarNode('route')-&gt;isRequired()-&gt;end()\n                                        -&gt;scalarNode('position')-&gt;end()\n                                    -&gt;end()\n                                -&gt;end()\n                            -&gt;end()\n                        -&gt;end()\n                    -&gt;end()\n                -&gt;end()\n            -&gt;end()\n        ;\n\n        return $treeBuilder;\n    }\n}\n</code></pre>\n\n<p>And the resulting array, not merged:</p>\n\n<pre><code>Array\n(\n    [0] =&gt; Array\n        (\n            [admin] =&gt; Array\n                (\n                    [products] =&gt; Array\n                        (\n                            [id] =&gt; products\n                            [label] =&gt; Products\n                            [route] =&gt; _manage_products\n                            [class] =&gt; menu-icon-products\n                            [position] =&gt; 200\n                            [children] =&gt; Array\n                                (\n                                    [all-products] =&gt; Array\n                                        (\n                                            [id] =&gt; all-products\n                                            [label] =&gt; All Products\n                                            [route] =&gt; _manage_products\n                                            [position] =&gt; 10\n                                        )\n\n                                    [add-product] =&gt; Array\n                                        (\n                                            [id] =&gt; add-product\n                                            [label] =&gt; Add Product\n                                            [route] =&gt; _add_product\n                                            [position] =&gt; 20\n                                        )\n\n                                )\n\n                            [routeParams] =&gt; Array\n                                (\n                                )\n\n                            [type] =&gt; menu_link\n                        )\n\n                )\n\n        )\n\n    [1] =&gt; Array\n        (\n            [admin] =&gt; Array\n                (\n                    [users] =&gt; Array\n                        (\n                            [id] =&gt; users\n                            [label] =&gt; Users\n                            [route] =&gt; _manage_users\n                            [class] =&gt; menu-icon-users\n                            [position] =&gt; 1000\n                            [children] =&gt; Array\n                                (\n                                    [all-users] =&gt; Array\n                                        (\n                                            [id] =&gt; all-users\n                                            [label] =&gt; All Users\n                                            [route] =&gt; _manage_users\n                                            [position] =&gt; 10\n                                        )\n\n                                    [add-user] =&gt; Array\n                                        (\n                                            [id] =&gt; add-user\n                                            [label] =&gt; Add User\n                                            [route] =&gt; _opinions_user_add_user\n                                            [position] =&gt; 20\n                                        )\n\n                                )\n\n                            [routeParams] =&gt; Array\n                                (\n                                )\n\n                            [type] =&gt; menu_link\n                        )\n\n                )\n\n        )\n\n)\n</code></pre>\n\n<p>I've been trying to get this for hours with no luck.</p>\n"},{"tags":["php","reflection","visibility"],"answer_count":2,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1404,"score":8,"question_id":6448551,"title":"Is there any way to set a private/protected static property using reflection classes?","body":"<p>I am trying to perform a backup/restore function for static properties of classes. I can get a list of all of the static properties and their values using the reflection objects <code>getStaticProperties()</code> method. This gets both <code>private</code> and <code>public static</code> properties and their values.</p>\n\n<p>The problem is I do not seem to get the same result when trying to restore the properties with the reflection objects <code>setStaticPropertyValue($key, $value)</code> method. <code>Private</code> and <code>protected</code> variables are not visible to this method as they are to <code>getStaticProperties()</code>. Seems inconsistent.</p>\n\n<p>Is there any way to set a private/protected static property using reflection classes, or any other way for that matter?</p>\n\n<p><strong>TRIED</strong></p>\n\n<pre><code>class foo {\n    static public $test1 = 1;\n    static protected $test2 = 2;\n\n    public function test() {\n        echo self::$test1 . '&lt;br /&gt;';\n        echo self::$test2 . '&lt;br /&gt;' . '&lt;br /&gt;';\n    }\n\n    public function change() {\n        self::$test1 = 3;\n        self::$test2 = 4;\n    }\n}\n\n        $test = new foo();\n        $test-&gt;test();\n\n        // backup\n        $test2 = new ReflectionObject($test);\n        $backup = $test2-&gt;getStaticProperties();\n\n        $test-&gt;change();\n\n        // restore\n        foreach ($backup as $key =&gt; $value) {\n            $property = $test2-&gt;getProperty($key);\n            $property-&gt;setAccessible(true);\n            $test2-&gt;setStaticPropertyValue($key, $value);\n        }\n\n        $test-&gt;test();\n</code></pre>\n"},{"tags":["php","codeigniter","google-custom-search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13267009,"title":"Get data from Google Custom Search Api in PHP","body":"<p>this is the response i am getting from google custom search api</p>\n\n<p>i want to to insert TITLE of website, url and other information in my Database directly.</p>\n\n<p>i use json_decode but seems unable to get the response</p>\n\n<p>Please help me guys</p>\n\n<pre><code>    {\n\"kind\": \"customsearch#search\",\n\"url\": {\n    \"type\": \"application/json\",\n    \"template\": \"https://www.googleapis.com/customsearch/v1?q={searchTerms}&amp;num={count?}&amp;start={startIndex?}&amp;lr={language?}&amp;safe={safe?}&amp;cx={cx?}&amp;cref={cref?}&amp;sort={sort?}&amp;filter={filter?}&amp;gl={gl?}&amp;cr={cr?}&amp;googlehost={googleHost?}&amp;c2coff={disableCnTwTranslation?}&amp;hq={hq?}&amp;hl={hl?}&amp;siteSearch={siteSearch?}&amp;siteSearchFilter={siteSearchFilter?}&amp;exactTerms={exactTerms?}&amp;excludeTerms={excludeTerms?}&amp;linkSite={linkSite?}&amp;orTerms={orTerms?}&amp;relatedSite={relatedSite?}&amp;dateRestrict={dateRestrict?}&amp;lowRange={lowRange?}&amp;highRange={highRange?}&amp;searchType={searchType}&amp;fileType={fileType?}&amp;rights={rights?}&amp;imgSize={imgSize?}&amp;imgType={imgType?}&amp;imgColorType={imgColorType?}&amp;imgDominantColor={imgDominantColor?}&amp;alt=json\"\n},\n\"queries\": {\n    \"nextPage\": [\n        {\n            \"title\": \"Google Custom Search - online shopping mall\",\n            \"totalResults\": \"35200000\",\n            \"searchTerms\": \"online shopping mall\",\n            \"count\": 10,\n            \"startIndex\": 11,\n            \"inputEncoding\": \"utf8\",\n            \"outputEncoding\": \"utf8\",\n            \"safe\": \"off\",\n            \"cx\": \"013036536707430787589:_pqjad5hr1a\"\n        }\n    ],\n    \"request\": [\n        {\n            \"title\": \"Google Custom Search - online shopping mall\",\n            \"totalResults\": \"35200000\",\n            \"searchTerms\": \"online shopping mall\",\n            \"count\": 10,\n            \"startIndex\": 1,\n            \"inputEncoding\": \"utf8\",\n            \"outputEncoding\": \"utf8\",\n            \"safe\": \"off\",\n            \"cx\": \"013036536707430787589:_pqjad5hr1a\"\n        }\n    ]\n},\n\"context\": {\n    \"title\": \"Custom Search\"\n},\n\"searchInformation\": {\n    \"searchTime\": 0.324098,\n    \"formattedSearchTime\": \"0.32\",\n    \"totalResults\": \"35200000\",\n    \"formattedTotalResults\": \"35,200,000\"\n},\n\"items\": [\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online Shopping Mall-Shopping &amp; Business Social Network\",\n        \"htmlTitle\": \"&lt;b&gt;Online Shopping Mall&lt;/b&gt;-Shopping &amp;amp; Business Social Network\",\n        \"link\": \"http://onlineshoppingmall.ning.com/\",\n        \"displayLink\": \"onlineshoppingmall.ning.com\",\n        \"snippet\": \"A One-Stop shopping &amp; business social network created by a family of merchants   offering value, unique treasures, and convenience!\",\n        \"htmlSnippet\": \"A One-Stop &lt;b&gt;shopping&lt;/b&gt; &amp;amp; business social network created by a family of merchants &lt;br&gt;  offering value, unique treasures, and convenience!\",\n        \"cacheId\": \"5uXNYD4cCQ0J\",\n        \"formattedUrl\": \"onlineshoppingmall.ning.com/\",\n        \"htmlFormattedUrl\": \"&lt;b&gt;onlineshoppingmall&lt;/b&gt;.ning.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://i43.tinypic.com/15wm45e.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"100\",\n                    \"height\": \"100\",\n                    \"src\": \"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQy2PZIPYcAjBAPOYgKgqnWfb9kJLCW4Xx7_QZcdRmfP_MeGPH9HZNnlA\"\n                }\n            ],\n            \"metatags\": [\n                {\n                    \"title\": \"Online Shopping Mall-Shopping &amp; Business Social Network\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online shopping malls - Wikipedia, the free encyclopedia\",\n        \"htmlTitle\": \"&lt;b&gt;Online shopping malls&lt;/b&gt; - Wikipedia, the free encyclopedia\",\n        \"link\": \"http://en.wikipedia.org/wiki/Online_shopping_malls\",\n        \"displayLink\": \"en.wikipedia.org\",\n        \"snippet\": \"Online shopping malls are websites that have a directory of online shopping   stores. Stores may include Best Buy, Aeropostale, Home Depot, Sears, Expedia, ...\",\n        \"htmlSnippet\": \"&lt;b&gt;Online shopping malls&lt;/b&gt; are websites that have a directory of online shopping &lt;br&gt;  stores. Stores may include Best Buy, Aeropostale, Home Depot, Sears, Expedia, &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"dA73fRSS6KMJ\",\n        \"formattedUrl\": \"en.wikipedia.org/wiki/Online_shopping_malls\",\n        \"htmlFormattedUrl\": \"en.wikipedia.org/wiki/&lt;b&gt;Online&lt;/b&gt;_&lt;b&gt;shopping&lt;/b&gt;_&lt;b&gt;malls&lt;/b&gt;\"\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Shop for Home, Outdoor, Electronics and Apparel Products at ...\",\n        \"htmlTitle\": \"&lt;b&gt;Shop&lt;/b&gt; for Home, Outdoor, Electronics and Apparel Products at &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://www.skymall.com/\",\n        \"displayLink\": \"www.skymall.com\",\n        \"snippet\": \"SkyMall shopping magazine is your home for the best online catalog shopping!   Browse from home living, dÃ©cor, audio, ipod, electronics and apparel. Purchase ...\",\n        \"htmlSnippet\": \"SkyMall &lt;b&gt;shopping&lt;/b&gt; magazine is your home for the best &lt;b&gt;online&lt;/b&gt; catalog &lt;b&gt;shopping&lt;/b&gt;! &lt;br&gt;  Browse from home living, dÃ©cor, audio, ipod, electronics and apparel. Purchase &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"GWXI7WmQ2UUJ\",\n        \"formattedUrl\": \"www.skymall.com/\",\n        \"htmlFormattedUrl\": \"www.sky&lt;b&gt;mall&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://www.skymall.com/images/feature_a1a.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"239\",\n                    \"height\": \"210\",\n                    \"src\": \"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTljZ4YcdN7ZRJlVMeTlYF8sbuwLm0VRhg0oZnLDX1elV3j-dmO22t68do\"\n                }\n            ],\n            \"metatags\": [\n                {\n                    \"copyright\": \"Copyright Â© 2012 SkyMall, Inc. All right reserved.\",\n                    \"designer\": \"www.objectinnovation.com\",\n                    \"classification\": \"online shopping, shopping, gifts, catalog sales\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Sassy Shops, Your Premiere Online Mall for All Things Fabulous!\",\n        \"htmlTitle\": \"Sassy &lt;b&gt;Shops&lt;/b&gt;, Your Premiere &lt;b&gt;Online Mall&lt;/b&gt; for All Things Fabulous!\",\n        \"link\": \"http://www.sassyshops.com/\",\n        \"displayLink\": \"www.sassyshops.com\",\n        \"snippet\": \"Sassy Shops, Your Premiere Online Mall for All Things Fabulous! Throw on some   comfy pj's, grab a cup of hot cocoa or java and enjoy shopping from the ...\",\n        \"htmlSnippet\": \"Sassy &lt;b&gt;Shops&lt;/b&gt;, Your Premiere &lt;b&gt;Online Mall&lt;/b&gt; for All Things Fabulous! Throw on some &lt;br&gt;  comfy pj&amp;#39;s, grab a cup of hot cocoa or java and enjoy &lt;b&gt;shopping&lt;/b&gt; from the &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"jaAQALpU96oJ\",\n        \"formattedUrl\": \"www.sassyshops.com/\",\n        \"htmlFormattedUrl\": \"www.sassy&lt;b&gt;shops&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://sassyshops.com/images/pinkbug/headerlogo.gif\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"268\",\n                    \"height\": \"188\",\n                    \"src\": \"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ4-X6hJVkuF_fFclW9e8IXDKtqXJ-JTF64QwI4xfTawHkMsnsOAuGCXsQv\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Home Page - Shop Online at MileagePlus Shopping\",\n        \"htmlTitle\": \"Home Page - &lt;b&gt;Shop Online&lt;/b&gt; at MileagePlus &lt;b&gt;Shopping&lt;/b&gt;\",\n        \"link\": \"https://www.mileageplusshopping.com/\",\n        \"displayLink\": \"www.mileageplusshopping.com\",\n        \"snippet\": \"Home Page - Shop Online at MileagePlus Shopping.\",\n        \"htmlSnippet\": \"Home Page - &lt;b&gt;Shop Online&lt;/b&gt; at MileagePlus &lt;b&gt;Shopping&lt;/b&gt;.\",\n        \"formattedUrl\": \"https://www.mileageplusshopping.com/\",\n        \"htmlFormattedUrl\": \"https://www.mileageplus&lt;b&gt;shopping&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"https://a248.e.akamai.net/f/248/35975/5d/i.mallnetworks.com/images/global/40cf5e879cc6088d7d2086a512fd79b19b0aaa2a.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"96\",\n                    \"height\": \"72\",\n                    \"src\": \"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSDE8da0POrgf12M_3zBGdueaQfT0AHYBbz7Dkxnm7QQbHUegSwMEPleg\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"We-Care.com Online Shopping Mall :: Shop With Purpose :: Macy's ...\",\n        \"htmlTitle\": \"We-Care.com &lt;b&gt;Online Shopping Mall&lt;/b&gt; :: Shop With Purpose :: Macy&amp;#39;s &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://www.we-care.com/\",\n        \"displayLink\": \"www.we-care.com\",\n        \"snippet\": \"The online shopping mall that provides coupons for your favorite merchants and   donates a percentage of what you spend to your favorite nonprofit, school, ...\",\n        \"htmlSnippet\": \"The &lt;b&gt;online shopping mall&lt;/b&gt; that provides coupons for your favorite merchants and &lt;br&gt;  donates a percentage of what you spend to your favorite nonprofit, school, &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"RgiiDvqLcscJ\",\n        \"formattedUrl\": \"www.we-care.com/\",\n        \"htmlFormattedUrl\": \"www.we-care.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://cdn.we-care.com/Content/images/addCause.gif\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"249\",\n                    \"height\": \"100\",\n                    \"src\": \"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQoOFWkNEJQDtz21dtLqwegJiXYruxvZ8UFLaFWH27knH2sIYqfvmPZOg\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online Shopping vs. Driving to the Mall: The Greener Way to Buy ...\",\n        \"htmlTitle\": \"&lt;b&gt;Online Shopping&lt;/b&gt; vs. Driving to the &lt;b&gt;Mall&lt;/b&gt;: The Greener Way to Buy &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://www.treehugger.com/culture/online-shopping-vs-driving-to-the-mall-the-greener-way-to-buy.html\",\n        \"displayLink\": \"www.treehugger.com\",\n        \"snippet\": \"Feb 13, 2009 ... When it comes to the way we procure the goods we use in our lives, there are   some mixed messages out there. Buying local is advertised as a ...\",\n        \"htmlSnippet\": \"Feb 13, 2009 &lt;b&gt;...&lt;/b&gt; When it comes to the way we procure the goods we use in our lives, there are &lt;br&gt;  some mixed messages out there. Buying local is advertised as a &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"9gBcwLGsuq8J\",\n        \"formattedUrl\": \"www.treehugger.com/.../online-shopping-vs-driving-to-the-mall-the-greener- way-to-buy.html\",\n        \"htmlFormattedUrl\": \"www.treehugger.com/.../&lt;b&gt;online&lt;/b&gt;-&lt;b&gt;shopping&lt;/b&gt;-vs-driving-to-the-&lt;b&gt;mall&lt;/b&gt;-the-greener- way-to-buy.html\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://media.treehugger.com/assets/images/2011/10/shopping-mall-online-shopping-which-greener.jpg.400x300_q90_crop-smart.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"259\",\n                    \"height\": \"194\",\n                    \"src\": \"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRQ2PXb8tGbfICgwAmSS9m1XtEq117PujeITme8mBELX6zW3JfzgGVHEYw\"\n                }\n            ],\n            \"metatags\": [\n                {\n                    \"og:title\": \"Online Shopping vs. Driving to the Mall: The Greener Way to Buy\",\n                    \"og:type\": \"article\",\n                    \"og:url\": \"http://www.treehugger.com/culture/online-shopping-vs-driving-to-the-mall-the-greener-way-to-buy.html\",\n                    \"og:image\": \"http://media.treehugger.com/assets/images/2011/10/shopping-mall-online-shopping-which-greener.jpg.400x300_q90_crop-smart.jpg\",\n                    \"og:site_name\": \"TreeHugger\",\n                    \"og:description\": \"When it comes to the way we procure the goods we use in our lives, there are some mixed messages out there. Buying local is advertised as a green way to go -- and it can be -- but so is acquiring\",\n                    \"fb:app_id\": \"133255656700169\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Shabby Lane Shops - Great online Shopping Mall &amp; Unique Web ...\",\n        \"htmlTitle\": \"Shabby Lane Shops - Great &lt;b&gt;online Shopping Mall&lt;/b&gt; &amp;amp; Unique Web &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://shabbylaneshops.com/\",\n        \"displayLink\": \"shabbylaneshops.com\",\n        \"snippet\": \"Shabby Lane Shops Great online shopping mall and Web design. Let us   advertise for you. Come shop with us, come join us.\",\n        \"htmlSnippet\": \"Shabby Lane Shops Great &lt;b&gt;online shopping mall&lt;/b&gt; and Web design. Let us &lt;br&gt;  advertise for you. Come shop with us, come join us.\",\n        \"cacheId\": \"FhVJ8g2L5i8J\",\n        \"formattedUrl\": \"shabbylaneshops.com/\",\n        \"htmlFormattedUrl\": \"shabbylane&lt;b&gt;shops&lt;/b&gt;.com/\"\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online Shopping Malls, Discount Stores, Outlet Malls, Shopping ...\",\n        \"htmlTitle\": \"&lt;b&gt;Online Shopping Malls&lt;/b&gt;, Discount Stores, Outlet Malls, Shopping &lt;b&gt;...&lt;/b&gt;\",\n        \"link\": \"http://www.milehimall.com/\",\n        \"displayLink\": \"www.milehimall.com\",\n        \"snippet\": \"Shop at online shopping malls, discount stores and gift shops at Mile Hi Mall.   Browse home and garden, beauty, electronics, sporting goods, jewelry and ...\",\n        \"htmlSnippet\": \"Shop at &lt;b&gt;online shopping malls&lt;/b&gt;, discount stores and gift shops at Mile Hi Mall. &lt;br&gt;  Browse home and garden, beauty, electronics, sporting goods, jewelry and &lt;b&gt;...&lt;/b&gt;\",\n        \"cacheId\": \"PaF59OCuEJ4J\",\n        \"formattedUrl\": \"www.milehimall.com/\",\n        \"htmlFormattedUrl\": \"www.milehi&lt;b&gt;mall&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://www.shareasale.com/image/27020/child-costumes125x125.jpg\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"100\",\n                    \"height\": \"100\",\n                    \"src\": \"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSmvuJxRjL6C_aprr--I7detJud6l_jKXdgwrQP43bZkm449F-vp2T-\"\n                }\n            ]\n        }\n    },\n    {\n        \"kind\": \"customsearch#result\",\n        \"title\": \"Online Shopping Mall - Online Stores | Shopping Centers | Outlet Malls\",\n        \"htmlTitle\": \"&lt;b&gt;Online Shopping Mall&lt;/b&gt; - Online Stores | Shopping Centers | Outlet Malls\",\n        \"link\": \"http://www.online-internet-shopping-mall.com/\",\n        \"displayLink\": \"www.online-internet-shopping-mall.com\",\n        \"snippet\": \"Many Online Stores on this shopping mall website, online shopping malls,   shopping centers, outlet malls are just a click away at online shopping mall.\",\n        \"htmlSnippet\": \"Many Online Stores on this shopping mall website, &lt;b&gt;online shopping malls&lt;/b&gt;, &lt;br&gt;  shopping centers, outlet malls are just a click away at &lt;b&gt;online shopping mall&lt;/b&gt;.\",\n        \"cacheId\": \"5CzLC80fRAkJ\",\n        \"formattedUrl\": \"www.online-internet-shopping-mall.com/\",\n        \"htmlFormattedUrl\": \"www.&lt;b&gt;online&lt;/b&gt;-internet-&lt;b&gt;shopping&lt;/b&gt;-&lt;b&gt;mall&lt;/b&gt;.com/\",\n        \"pagemap\": {\n            \"cse_image\": [\n                {\n                    \"src\": \"http://www.online-internet-shopping-mall.com/images/online-internet-shopping-mall1.png\"\n                }\n            ],\n            \"cse_thumbnail\": [\n                {\n                    \"width\": \"225\",\n                    \"height\": \"225\",\n                    \"src\": \"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQGTMNDeUWOwQ5ODDgGfav35KPGyn0ijbSXrhgSdgkNb097NT4HCJOz-2Yo\"\n                }\n            ]\n        }\n    }\n]\n</code></pre>\n\n<p>}</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":62,"score":-1,"question_id":12181651,"title":"Code not responding accordingly to the parameters passed via the browser","body":"<p>I put the following code in the browser <code>?phase=1&amp;step=0&amp;fot=false</code> and I get a black page.\nwith the PHP error </p>\n\n<blockquote>\n  <p>Undefined variable: fOT in C:\\Program Files\n  (x86)\\Zend\\Apache2\\htdocs\\Proj11\\1.php on line 219</p>\n</blockquote>\n\n<p>This is the <code>$this-&gt;createTablePages ($fOT);</code> line. If I change it to <code>$this-&gt;createTablePages ($this-&gt;fOT)</code> I get the following error </p>\n\n<blockquote>\n  <p>Undefined property: phase2::$fOT in C:\\Program Files\n  (x86)\\Zend\\Apache2\\htdocs\\Proj11\\1.php on line 219</p>\n</blockquote>\n\n<p>I know that <code>$this-&gt;IDB3 = $this-&gt;handleDatabase()-&gt;$IDB3;</code> in the __constructor is right. How do I do that?</p>\n\n<pre><code>class phase2 {\n        function __construct () {\n\n        $dbFile = 'dbconfig.php';\n        $this-&gt;dbFile = $dbFile;\n        include_once (\"$this-&gt;dbFile\"); \n\n\n        $step = $_GET[\"step\"];\n\n        $username = $DB_USER;\n        $password = $DB_PASS;\n        $server = $DB_SERVER;\n        $dbName = $DB_NAME;\n\n        $this-&gt;step = $step;\n        $this-&gt;dbFile = $dbFile;\n        $this-&gt;username = $username;\n        $this-&gt;password = $password;\n        $this-&gt;server = $server;\n        $this-&gt;dbName = $dbName;\n\n        $db = new PDO ('mysql:host=' .$server.';dbname='.$this-&gt;dbName,$this-&gt;username,$this-&gt;password);\n\n        $this-&gt;db = $db;\n\n        if (empty ($_GET['fot']) ) { \n        $fOT = 'false'; \n        } elseif ($_GET['true']) { $fOT = 'true'; }\n\n        $this-&gt;IDB = $this-&gt;handleDatabase()-&gt;$IDB;\n        $this-&gt;IDB2 = $this-&gt;handleDatabase()-&gt;$IDB2;\n        $this-&gt;IDB3 = $this-&gt;handleDatabase()-&gt;$IDB3;\n        }\n\n\n\npublic function handleDatabase (){\n// Prepare SQL Statements\n    $IDB = $this-&gt;db-&gt;prepare( \n         \"CREATE TABLE pages (\n          id int(11) NOT NULL auto_increment,\n         subject_id int(11) NOT NULL,\n          menu_name varchar(30) NOT NULL,\n          position int(3) NOT NULL,\n          visible tinyint(1) NOT NULL,\n          content text NOT NULL,\n          PRIMARY KEY  (id)\n    )ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT CHARSET=utf8\");\n\n    $IDB2 = $this-&gt;db-&gt;prepare(\"\n        CREATE TABLE subjects (\n          id int(11) NOT NULL auto_increment,\n          menu_name varchar(30) NOT NULL,\n          position int(3) NOT NULL,\n          visible tinyint(1) NOT NULL,\n          PRIMARY KEY  (id)\n    )ENGINE=MyISAM AUTO_INCREMENT=6 DEFAULT CHARSET=utf8\");\n\n    $IDB3 = $this-&gt;db-&gt;prepare(\"\n        CREATE TABLE users (\n          id int(11) NOT NULL auto_increment,\n          username varchar(50) NOT NULL,\n          hashed_password varchar(40) NOT NULL,\n          PRIMARY KEY  (id)\n    )ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8\");\n}\n//Set Option to True or False\n\nfunction createTablePages ($fOT){\n\n    $r1 = $this-&gt;db-&gt;query('SHOW TABLES LIKE \\'page\\'');\n    if (count($r1-&gt;fetchAll()) &gt; 0 &amp;&amp; $fOT === 'false') {\n        echo \"The table PAGE exists\";\n\n    } elseif ($fOT === 'true') {\n        $this-&gt;IDB-&gt;execute;\n                $this-&gt;stepFunction (1,false);\n    }\n}\nfunction createTableSubjects ($fOT){\n\n    $r2 = $this-&gt;db-&gt;query('SHOW TABLES LIKE \\'subjects\\'');\n    if (count($r2-&gt;fetchAll()) &gt; 0  &amp;&amp; $fOT === 'false') {\n        echo \"The table SUBJECTS exists \";\n\n    } elseif ($fOT === 'true') {\n\n        $this-&gt;IDB2-&gt;execute;\n        $this-&gt;stepFunction (2,false);\n\n    }\n}\n\nfunction createTableUsers ($fOT){\n\n    $r3 = $this-&gt;db-&gt;query('SHOW TABLES LIKE \\'users\\'');   \n    if (count($r3-&gt;fetchAll()) &gt; 0  &amp;&amp; $fOT === 'false') {\n        echo \"The table USERS exists\";\n    } elseif ($fOT === 'true') {\n        $this-&gt;IDB3-&gt;execute;\n        echo \"Would you like to populate all the tables?\";\n    }   \n}\n\n\npublic function stepFunction ($step, $fOT){\n\nswitch ($step) {\n    case 0: \n            $this-&gt;createTablePages ($fOT);\n            break;\n    case 1: \n            $this-&gt;createTableSubjects($fOT);\n            break;\n    case 2: $this-&gt;createTableUsers ($fOT);\n            break;\n    }\n\n\n}\n\n    }\n</code></pre>\n"},{"tags":["php","dom"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13257146,"title":"PHP to get current page specific content","body":"<p>I am trying to find out if it's possible &amp; what code to use: to load the current page's contents and echo out a relative path to a specific page (c.html) that's w/in \"#navbar a\" using PHP or <a href=\"http://simplehtmldom.sourceforge.net/\" rel=\"nofollow\">PHP Simple Html DOM Parser.</a></p>\n\n<p>My code so far:</p>\n\n<pre><code>&lt;?php\n$pg = 'c.html';\ninclude_once '%resource(simple_html_dom.php)%';\n/* $cpath = $_SERVER['REQUEST_URI']; Old version */  // Path to current pg from root\n$cpath = \"http://www.\".$_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'];\necho var_dump($cpath).\": Current Root Path\".\"&lt;br /&gt;\";  // \"http://www.partiproductions.com/copyr/index.php\" - Correct\n$cfile = basename($cpath);\necho 'Current File: ' . $cfile . \"&lt;br /&gt;\"; // \"index.php\" - Current pg, Correct\n\n$html = file_get_html($cpath); // Getting Warning: URL file-access is disabled in the server configuration &amp; failed to open stream: no suitable wrapper could be found in.. &amp; Fatal error: Call to a member function find() on a non-object in...\nforeach($html-&gt;find(sprintf('#navbar a[href=%s]', $pg)) as $path) {\n  echo 'Path: ' . $path.\"&lt;br /&gt;\";\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","api","connection","e-commerce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13116818,"title":"Bigcommerce API connection error","body":"<p>I am new to the Big-commerce.</p>\n\n<p>I am try to connect the PHP API of the Big-commerce  below is my code.</p>\n\n<pre><code>BigCommerce_Api::configure(array(\n    'store_url' =&gt; 'mystore url',\n    'username'  =&gt; 'admin',\n    'api_key'   =&gt; 'my apikey'\n));\n\n$ping = BigCommerce_Api::getTime();\nif ($ping) \n{\n    echo $ping-&gt;format('H:i:s');\n}\nelse\n{\n    echo \"error in connection\";\n}\n</code></pre>\n\n<p>i am try to display the time if connection is completed but getting error.</p>\n\n<p>is there any problem in my code?</p>\n\n<p>Please help me out form this problem.</p>\n"},{"tags":["php","mysql","web-services"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13274691,"title":"Coverting Hex to Image in PHP?","body":"<p>I am developing mobile app which talks with server via <code>PHP Webservice</code>. This is my first time using PHP. I managed to upload data in to database. Now i need to send an image to store it in ftp server. For that i converted <code>image-&gt;hex</code> and sent from my app.   </p>\n\n<p><strong>Server Side</strong></p>\n\n<p>I got the hex code but not sure how to convert it in to an image and store in in ftp server. I am really struggling here. I googled it but couldn't find exact one.</p>\n\n<p>Any help is much appreciated.</p>\n"},{"tags":["php","curl","pear"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13275250,"title":"HTTP_Request: malformed response","body":"<p>When i try open connection <code>HTTP_Request</code> throws: </p>\n\n<blockquote>\n  <p>Malformed response:<br>\n  <code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;</code></p>\n</blockquote>\n\n<p>Only if site located on the same server as script.</p>\n\n<p>Does anyone know why this is happening or how to fix it?</p>\n"},{"tags":["php","redis","php-session","session-handling","phpredis"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13274226,"title":"Using redis as a SESSION handler does not work with phpredis, how to fix?","body":"<p>in my php.ini I have the following entries:</p>\n\n<pre><code>extension=redis.so\nsession.save_handler = redis\nsession.save_path = \"tcp://10.100.0.80:6379?weight=1\"\n</code></pre>\n\n<p>But, when I do <code>session_start()</code> I get:</p>\n\n<blockquote>\n  <p>PHP Warning:  session_start():\n  open(tcp://10.100.0.80:6379?weight=1/sess_dci962uta51pec6pjci40l0jk0,\n  O_RDWR) failed: No such file or directory (2) in /home/itay/test.php\n  on line 2</p>\n</blockquote>\n\n<p>But, on the exact same machine, exact same ini file, I have the following code which is working:</p>\n\n<pre><code>$redis = new Redis();\n$redis-&gt;connect('10.100.0.80');\necho $redis-&gt;ping();\n$redis-&gt;set('itay','here');\necho $redis-&gt;get('itay');\n$redis-&gt;close();\n</code></pre>\n\n<p>I am using redis as session handler on other machines, and do not have same issue.\nAny help?</p>\n\n<p>I am using the latest redis, php5.3 and <a href=\"https://github.com/nicolasff/phpredis\" rel=\"nofollow\">phpredis extension</a></p>\n"},{"tags":["php","encoding","compression"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13274511,"title":"compressing information into a short code","body":"<p>I need to group a number of parameters into a short, non-predictable, spellable code. Ex:</p>\n\n<ul>\n<li>serial: WJ-JHA5JK7E9RTAS</li>\n<li>date: 04/02/2013</li>\n<li>days: 30</li>\n<li>valid: true</li>\n</ul>\n\n<p>Compressed code could look like this: <strong>3xy9b0laiph3s</strong></p>\n\n<p>My goal is to make the code as short as possible (without losing any information, of course). The algorithm must be easily implemented in other languages as well (so it can't have crazy specific dependencies). Any thoughts?</p>\n"},{"tags":["java","php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13274978,"title":"Need advice on how to make java calculation for my website instead of using cronjobs","body":"<p>First of all thank you for looking into my question.</p>\n\n<p>The situation: I am making an online game that includes racing in several divisions.\nWhen the game becomes bigger there could be over 20 divisions, in each division there are 20 players. The leader of a division can set up 1 contest each day at a time he chooses.</p>\n\n<p>What needs to happen (code):\nIf a leader of a division sets up a game at 14.00u, the calculation for the race starts.\nI want to have an updated score/position update every 5 seconds. This is impossible with PHP and cronjobs (1min). I have made this code in PHP and it works but it is not efficient and as soon as there are more contests going on at the same time my server will be overloaded so this also a big downside for using cronjobs every minute that executes the php script with the calculation.</p>\n\n<p>My question to you:\nWhat do I need to focus on on java side? And how can it replace a cronjob? Or does it work together with a cronjob?</p>\n\n<p>Extra:\nSomeone told me that java is good as a back-end language of the website and php for front-end. But I really have no knowledge of java.</p>\n\n<p>Thank you for reading :)</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":5448351,"title":"Losing unicode during passing unicode char","body":"<p>I want to store in array pairs of unicode chars (char, number of instances of the char), but I have some problem with passing unicode chars:</p>\n\n<p>This code:</p>\n\n<pre><code>$str = 'Ã³ÅÅ';\n\nvar_dump(str_split($str));\n</code></pre>\n\n<p>displays: </p>\n\n<pre><code>array(6) {\n  [0]=&gt;\n  string(1) \"ï¿½\"\n  [1]=&gt;\n  string(1) \"ï¿½\"\n  [2]=&gt;\n  string(1) \"ï¿½\"\n  [3]=&gt;\n  string(1) \"ï¿½\"\n  [4]=&gt;\n  string(1) \"ï¿½\"\n  [5]=&gt;\n  string(1) \"ï¿½\"\n}\n</code></pre>\n\n<p>And i don't understand what's wrong</p>\n\n<p>But this code:</p>\n\n<pre><code>$arr = array('Ã³' =&gt; 1, 'Å' =&gt; 1, 'Å' =&gt; 1);\nvar_dump($arr);\n</code></pre>\n\n<p>displays:</p>\n\n<pre><code>array(3) {\n  [\"Ã³\"]=&gt;\n  int(1)\n  [\"Å\"]=&gt;\n  int(1)\n  [\"Å\"]=&gt;\n  int(1)\n}\n</code></pre>\n\n<p>and for me it is a result, which I want to achive.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Replacement for str_split (length=1) for unicode chars:</p>\n\n<pre><code>function mb_str_split( $string ) {\n    # Split at all position not after the start: ^\n    # and not before the end: $\n    return preg_split('/(?&lt;!^)(?!$)/u', $string );\n} \n</code></pre>\n\n<p><a href=\"http://fr2.php.net/manual/en/function.mb-split.php#99851\" rel=\"nofollow\">source</a></p>\n"},{"tags":["php","orm","doctrine","lazy-loading"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13275196,"title":"how to deal with doctrine's lazy loading when having null-objects?","body":"<p>i have a question about the correct way to handle doctrine's lazy loading mechanism. I have an entity that references another one via @ManyToOne:</p>\n\n<pre><code>class Entity {\n    ...\n    /**\n     * @ManyToOne(targetEntity=\"AnotherEntity\")\n     * @JoinColumn(name=\"anotherEntityId\", referencedColumnName=\"id\")\n     */\n    protected $anotherEntity;\n    ...\n}\n\nclass AnotherEntity {\n    /**\n     * @var integer $id\n     * @Column(name=\"id\", type=\"integer\", nullable=false)\n     * @Id\n     * @GeneratedValue(strategy=\"IDENTITY\")\n     */\n    private $id;\n\n    /**\n     * @var string $someValue\n     * @Column(name=\"someValue\", type=\"string\")\n     */\n    private $someValue;\n    ...\n}\n</code></pre>\n\n<p>Doctrine now generates a proxy for AnotherEntity that implements lazy loading on its getters:</p>\n\n<pre><code>public function getSomeValue()\n{\n    $this-&gt;__load();\n    return parent::getSomeValue();\n}\n</code></pre>\n\n<p>If I now have some instances of Entity that do not have a reference counterpart of AnotherEntity ($anotherEntityId is 0 or null). Then doctrine seems to generate ONE null-Object of AnotherEntity and makes the $anotherEntity variables of all Entity object point to it. The null-object is uninitialized since we want lazy loading.\nI now get an EntityNotFoundException when I do this:</p>\n\n<pre><code>$entiy-&gt;getAnotherEntity()-&gt;getSomeValue();\n</code></pre>\n\n<p>That's great! The AnotherEntity I access does not exist in the database and so I get this exception.\nBUT when I do the same with the second Entity (and all others afterwards) I do not get this exception, since they are all pointing to the same instance of AnotherEntity and doctrine marked it as initialized in the first call. So now I'm accessing an object that does not exist logically but do not get any exception - I just get the uninitialized variable from getSomeValue(), e.g. an empty string.</p>\n\n<p>Do you have any idea how I can make my application to recognize that the object does not exist instead of just accepting the empty value?</p>\n"},{"tags":["php","strtotime"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13263353,"title":"strtotime not working in php for HH:MM:SS format","body":"<p>I have a duration like this: 211:30:24. I have to compare whether it's greater than other duration like 01:00:00. I am using strtotime function to change duration into int and then comparing it. </p>\n\n<p>But the problem is strtotime(211:30:24) is returning false. Up to 24:00:00, it's working fine.</p>\n\n<p>I am using below code: </p>\n\n<pre><code>$duration = strtotime('211:30:24');\nif($duration &gt;= strtotime ( '01:00:00' )){\n  return true;\n}else{\n return false;\n}\n</code></pre>\n\n<p>$duration is false.</p>\n\n<p>I am using php5.1. Anybody have idea why it's happening.</p>\n"},{"tags":["php","file","directory","str-replace"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13275099,"title":"str_replace in file names","body":"<p>I have a PHP code that displays the file contents of a directory in a list. Each file is linked so that if clicked, it will download or open. The files inside the directory will be files uploaded by customers. If the file name contains spaces, the link is broken and will not open, so I would like to have the spaces replaced with underscores.</p>\n\n<p>I know that str_replace does what I'm looking for, but I'm not sure how to apply it to this code (which I did not write).</p>\n\n<pre><code>// Define the full path to your folder from root \n$path = \"uploads/artwork\"; \n\n\n// Open the folder \n$dir_handle = @opendir($path) or die(\"Unable to open $path\"); \n\n// Loop through the files \nwhile ($file = readdir($dir_handle)) { \n\nif($file == \".\" || $file == \"..\" || $file == \"index.php\" ) \n\n    continue; \n    echo \"&lt;a href=uploads/artwork/$file&gt;$file&lt;/a&gt;&lt;br /&gt;\"; \n\n} \n// Close \nclosedir($dir_handle); \n</code></pre>\n\n<p>All help is greatly appreciated. Thank you!</p>\n"},{"tags":["php","json","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":43,"score":-2,"question_id":13275004,"title":"Can't access JSON element in PHP","body":"<p>I'm having problem acessing a JSON element after a sqlite query.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>$queryIdClient = \"SELECT seq FROM sqlite_sequence WHERE name = 'clientes';\";\n$id;\n\nif($result = $db-&gt;query($queryIdClient)) {\n    $row = $result-&gt;fetch(PDO::FETCH_ASSOC);\n    $row = json_encode($row);\n    echo $row;\n}\nelse {\n    die($error);\n}\n</code></pre>\n\n<p>The <code>echo $row</code> gives me {\"seq\" : \"10\"}.</p>\n\n<p>I want to pass the value 10 to the $id variable. I've tried a lot of ways, but I can't get it to work.</p>\n\n<p>Shouldn't it work with <code>$id = $row-&gt;seq;</code> ?</p>\n"},{"tags":["php","javascript","ajax","instagram"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13274948,"title":"Reload an array without reloading the page","body":"<p>Hey I have a little problem.... </p>\n\n<p>Im making a page that uses pictures from instagram as background. To display the pictures i use the jquery plugin <a href=\"http://www.buildinternet.com/project/supersized/\" rel=\"nofollow\">Supersized</a>. </p>\n\n<p>The pictures that i use is from a hashtag, so I would like the page to reload the array, where supersized gets the pictures from, so its updated seamless with the newest pictures.</p>\n\n<p>Its it enough just to reload the array every 5 mins, will the slideshow this work this way or shall I go another way with this? </p>\n\n<p>And can give me a little example on how to do this ?</p>\n"},{"tags":["php","rest","post"],"answer_count":2,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":1204,"score":7,"question_id":8945879,"title":"How to get body of a POST in php?","body":"<p>I submit as POST to a php page the following: </p>\n\n<pre><code>{a:1}\n</code></pre>\n\n<p>This is the body of the request (a POST request).<br>\nIn php, what do I have to do to extract that value?  </p>\n\n<pre><code>var_dump($_POST); \n</code></pre>\n\n<p>is not the solution, not working.</p>\n"},{"tags":["php","jquery-ajax","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13274307,"title":"jQuery AJAX PHP search form not working","body":"<p>Hi all Im new to using jQuery Ajax function. I'm trying to perform a jquery AJAX search function to return my results in a div on the same page. I'm having trouble doing this, I'm not sure if I'm on the right path to getting a successful answer as no results are returning. If anybody could help offer a solution that would be greatly welcomed. </p>\n\n<p>My code is as so:</p>\n\n<p>index.php</p>\n\n<pre><code>&lt;?php\n include(\"classes/class.House.inc\");Â \n?&gt;\n\n&lt;script id=\"source\" language=\"javascript\" type=\"text/javascript\"&gt;\n\n $(function () \n {\n\n    $.ajax({                                      \n            type:\"POST\",\n            url: \"index.php\",\n            data: { \"term\": term },\n            datatype: \"json\",    \n  success: function(result)          \n  {\n    var id = result[0];              \n    var postcode = result[1];          \n\n    $('#searchquery').html(\"&lt;b&gt;id: &lt;/b&gt;\"+id+\"&lt;b&gt; name: &lt;/b&gt;\"+postcode); \n\n    } \n   });\n  }); \n\n  &lt;/script&gt;\n\n  &lt;? $houseobject = new House();\n $houseobject-&gt;search($_POST['term']);?&gt;\n&lt;div id=\"mainContent\"&gt;\n\n    &lt;div id=\"searchformWrap\"&gt;\n    &lt;br/&gt;&lt;h2&gt;Search for Accomodation&lt;/h2&gt;\n    &lt;div id=\"searchform\"&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;\n            &lt;form method=\"post\" action=\"index.php\" name=\"search\" id=\"search_form\"&gt;\n            &lt;div class=\"searchrow\"&gt;\n    &lt;div class=\"searchlabel\"&gt;Location&lt;/div&gt;\n    &lt;div class=\"searchinput\"&gt; \n            &lt;input type=\"text\" name=\"term\" class=\"searchdetail\" /&gt;\n            &lt;input type=\"submit\" name=\"submit\" id=\"searchsubmit\" value=\"Search\"/&gt;\n            &lt;/form&gt;\n    &lt;div class=\"help\"&gt;e.g. 'PO5' or 'Portsmouth'&lt;/div&gt;\n     &lt;/div&gt; &lt;!-- end input --&gt;\n                &lt;/div&gt; &lt;!-- end .row --&gt;\n  &lt;div id=\"searchquery\"&gt; &lt;/div&gt;\n</code></pre>\n\n<p>classes/class.House.inc </p>\n\n<pre><code>    public function search ($term){\n\n                    $query = \"SELECT * FROM houses WHERE postcode like '%\".$this-&gt;mysqli-&gt;real_escape_string($term).\"%'\";\n                    $result = $this-&gt;mysqli-&gt;query($query);\n\n\n                    $num_result = $result-&gt;num_rows;\n\n                    if($num_result &gt; 0){\n                        while($rows =$result-&gt;fetch_assoc()){               \n                            $this-&gt;data[]=$rows;\n                            //print_r($rows);\n                        }           \n                        return $this-&gt;data;\n                    } else{\n                     echo 'No Records Found';    \n                        }\n                          echo json_encode($result);\n    }\n</code></pre>\n"},{"tags":["php","mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":18,"score":-2,"question_id":13274605,"title":"how to create stored procedure to update product stock when customer order is created","body":"<p>There is this stored procedure that I'm trying to modify. I have the following tables tables:</p>\n\n<ol>\n<li>Product (product_id, name, description,price, discounted_price, stock, image)</li>\n<li>orders (order_id, total_amount, created_on, shipped_on, customer_id)</li>\n<li>order_details (item_id, order_id, product_id, product_name, quantity, unit_cost)</li>\n</ol>\n\n<p>This stored procedure is called when a customer creates an order. </p>\n\n<pre><code>CREATE  PROCEDURE `shopping_cart_create_order`(IN inCartId CHAR(32),\n  IN inCustomerId INT, IN inShippingId INT, IN inTaxId INT)\nBEGIN\n  DECLARE orderId INT;\n\n  -- Insert a new record into orders and obtain the new order ID\n  INSERT INTO orders (created_on, customer_id, shipping_id, tax_id) VALUES\n         (NOW(), inCustomerId, inShippingId, inTaxId);\n  -- Obtain the new Order ID\n  SELECT LAST_INSERT_ID() INTO orderId;\n\n  -- Insert order details in order_detail table\n  INSERT INTO order_detail (order_id, product_id, attributes,\n                            product_name, quantity, unit_cost)\n  SELECT      orderId, p.product_id, sc.attributes, p.name, sc.quantity,\n              COALESCE(NULLIF(p.discounted_price, 0), p.price) AS unit_cost\n  FROM        shopping_cart sc\n  INNER JOIN  product p\n                ON sc.product_id = p.product_id\n  WHERE       sc.cart_id = inCartId AND sc.buy_now;\n\n\n  -- Save the order's total amount\n  UPDATE orders\n  SET    total_amount = (SELECT SUM(unit_cost * quantity) \n                         FROM   order_detail\n                         WHERE  order_id = orderId)\n  WHERE  order_id = orderId;\n\n  -- Clear the shopping cart\n  CALL shopping_cart_empty(inCartId);\n\n  -- Return the Order ID\n  SELECT orderId;\nEND$$ \n</code></pre>\n\n<p>How can I create a stored procedure that modifies the above to update the stock (in the product table) based on the quantity of products in a customer's order?</p>\n"},{"tags":["php","symfony1","doctrine","sfguard"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":583,"score":1,"question_id":6028718,"title":"How to catch an id from sfUser?","body":"<p>I'm working with symfony 1.4 &amp; i use sfDoctrineGuardPlugin as a tool for authentifications.</p>\n\n<p>I want to catch the Id of user in order te store it in my table.</p>\n\n<p>After a small research, I guess I have to use that expression : <code>getUser()-&gt;getGuardUser()-&gt;getId()</code>.</p>\n\n<p>What i looking for is how to invest that expression for my target.</p>\n"},{"tags":["php","symfony-1.4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13274914,"title":"How do I get current user id in symfony?","body":"<p>How can I get the current logged in user's id in symfony(1.4.17)?</p>\n\n<p>I tried that get guard user thing, but not working. I just wanna have the current user id in a variable.</p>\n"},{"tags":["php","zend-framework","zend-form"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":16,"score":2,"question_id":13272163,"title":"Zend_Form values are lost when using multiple forms in same page","body":"<p>I use Zend Framework 1.12 on one of my projects. I need to use multiple forms in one page, and successfully managed to place them with the help of \"render\" function.</p>\n\n<pre><code>    $this-&gt;oneAction();\n    $this-&gt;render('one');\n\n    $this-&gt;anotherAction();\n    $this-&gt;render('another');\n</code></pre>\n\n<p>There are two different actions for two forms, and in my indexAction() I call them like above. Two actions have their own scripts, and this code works well for placing 2 forms in one page. </p>\n\n<p>Problem is; 2 different forms, with their own submit buttons (with different names), when second form is submitted, page reloads as a whole (naturally), but values in the first form's fields are lost.. I wrote a function to load some default values (for some fields of 1st form, taken from db) , and then it takes the values, but gives the error (Value is required and can't be empty) even they're filled by my function. I have to create a complex page with many forms, and can not go further with this problem.. \nI'd like to get a solution for this problem, or just little understanding about Zend Form's behavior about these multiple form submissions. </p>\n\n<p>(There are many pages about these issues, but most of them just consider about placing multiple forms in same page, and no much more..)</p>\n\n<p>Thanks in advance..</p>\n"},{"tags":["php","mongodb","mongodb-php"],"answer_count":0,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":18,"score":3,"question_id":13274910,"title":"PHP+MongoDB: Uncaught exception 'MongoCursorException' with message 'No such file or directory'","body":"<p>I'm working on a web application which is trying to connect to a MongoDB database from PHP.\nIn the 90% of page loads everything works fine, but in the other 10% it throws the following exception when I try to update a collection:</p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'MongoCursorException' with message 'No such file or directory' in D:\\webDev\\webSites\\str\\dev3_global_classes\\User.php:40 Stack trace: #0 D:\\webDev\\webSites\\str\\dev3_global_classes\\User.php(40): MongoCollection->update(Array, Array, Array) #1 D:\\webDev\\webSites\\str\\dev3_init_init.php(8): User->__construct(NULL) #2 D:\\webDev\\webSites\\str\\dev3\\index.php(3): include('D:\\webDev\\webSi...') #3 {main} thrown in D:\\webDev\\webSites\\str\\dev3_global_classes\\User.php on line 40</p>\n</blockquote>\n\n<p>PHP code:</p>\n\n<pre><code>public function __construct($SESSIONID = null) {        \n    User::$_users_collection = Main::$_mongo-&gt;selectCollection(\"users\");\n\n     ...   \n\n    $query = array('session_id' =&gt; session_id());\n\n    $expiry = time() + Main::$_lifetime;\n    $data = array(\n        'session_id' =&gt; session_id(),\n        'expiry' =&gt; (string)$expiry,\n        'ip' =&gt; $_SERVER['REMOTE_ADDR']\n    );\n\n    $options = array(\n        'upsert' =&gt; true,\n        'safe' =&gt; true\n    );\n\n    try {\n        User::$_users_collection-&gt;update($query, array('$set' =&gt; $data), $options);\n    } catch (Exception $e) {\n        throw $e;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Mongo version:</p>\n\n<pre><code>Wed Oct 17 10:53:48 /usr/bin/mongos db version v2.0.7, pdfile version 4.5 starting (--help for usage)\nWed Oct 17 10:53:48 git version: 875033920e8869d284f32119413543fa475227bf\nWed Oct 17 10:53:48 build info: Linux ip-10-2-29-40 2.6.21.7-2.ec2.v1.2.fc8xen #1 SMP Fri Nov 20 17:48:28 EST 2009 x86_64 BOOST_LIB_VERSION=1_41\n</code></pre>\n\n<p>My mongo cluster has only one shard, my php version is: 5.4.4, and my mongo driver version is: 1.2.12.</p>\n\n<p>I thank you in advance for your reply.</p>\n\n<p>--\nNorbert</p>\n"},{"tags":["php","jquery","html","sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13274593,"title":"PHP, Jquery and DOM manipulation","body":"<p>I have a list that's being populated from the database it's sorted using the time field by ASC dates. I'm using the <code>&lt;?php foreach() :?&gt;</code> to loop through and populate the list .</p>\n\n<pre><code>&lt;li id=\"events\"&gt;\nTime: &lt;?php echo $venue['time']; ?&gt; \nEvent: &lt;?php echo $venue['location']; ?&gt; \n&lt;/li&gt; \n</code></pre>\n\n<p>I have a variable in php called ($time_left ) that keeps track of the days left till <em>each</em> event begins I calculate this by taking the time field from the database subtracting today's current date with <code>php date()</code> <strong>when this reaches 0 how can I remove the expired event from the start of the list and append it to the end.</strong></p>\n\n<p>This can be done on page refresh I don't need it to be asynchronous.  Can I do this just in PHP with DOM manipulation?  or should I use Jquery and if so how do I pass the $time_left variable from PHP to my Jquery script?</p>\n"},{"tags":["php","jquery-ajax","ubuntu-10.04","apc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13235069,"title":"Intalling PECL APC on ubuntu and dreamhost hosting","body":"<p>Basically My aim is to use the following script on my website</p>\n\n<p><a href=\"http://www.johnboy.com/php-upload-progress-bar/\" rel=\"nofollow\">php-upload-progress-bar</a></p>\n\n<p>I want to first of all set it up on my local server which is on ubuntu 10.04 and i am using xampp1.7.7 and then upload it on my website which is hosted by dreamhost web hosting which uses php5.2 </p>\n\n<p>The main requirement of above script is to have <a href=\"http://pecl.php.net/package/APC\" rel=\"nofollow\">APC</a> .</p>\n\n<p>My problem is that i am unable to set up APC on both server (my local and on dreamhost)</p>\n\n<p>I have followed many tutorials to install it but coudn't install it</p>\n\n<p>Can someone give me some idea about using APC and installing it to run above script??</p>\n\n<p>I have already followed following tutorials and guides</p>\n\n<p><a href=\"http://wiki.dreamhost.com/Pecl_APC\" rel=\"nofollow\">Dreamhost wiki</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/4720666/sudo-pecl-install-apc-returns-error\">Stack answer</a></p>\n\n<p>PS;I am not using apache2 service.my php path is /opt/lampp/htocs</p>\n\n<p>Please help me i am stuck in this and also i am using that upload script because i can not use flash,html5 or php5.3 acording to client requirement so i need a solution for upload progress bar using APC so that it will run in all browser and with php5.2</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["php","database","module","moodle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13157163,"title":"Moodle module no database","body":"<p>I want to develop a <strong>module</strong> for Moodle 2.0 that <strong>doesn't need database</strong>. </p>\n\n<p>How should I fill the <strong>install.xml</strong> file when I will not have tables in the database?</p>\n\n<p>Thanks for the help.</p>\n\n<p>Greetings!</p>\n"},{"tags":["php","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13274780,"title":"How to call a function which is outside of CodeIgniter application in Controller?","body":"<p>Hi I have a doubt about how to call a function which is defined in normal core php file. Now i want to call this function in controller of Codeigniter application. </p>\n\n<p>What i mean is for example there is a function named with getdetails() in test.php in some directory. Now there is a codeIgniter application which has controller email.php.</p>\n\n<p>Now i want to call getdetails() function in email.php.</p>\n\n<p>Can anyone help me with some ideas.</p>\n"},{"tags":["php","algorithm","combinations"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13272723,"title":"Create indexable non-repeating combinations with fixed length","body":"<p>Based on this question</p>\n\n<p><a href=\"http://stackoverflow.com/questions/12035147/ordered-fixed-length-combinations-of-a-string\">Ordered Fixed Length Combination of a String</a></p>\n\n<p>I created a PHP algorithm that creates combinations of characters on a fixed length (basically a rewrite of the Java-answer)</p>\n\n<pre><code>private function getCombination($length, $input) {\n    $result = array();\n\n    if ($length == 0) {\n        return $result;\n    }\n\n    $first = substr($input, 0, $length);\n    $result[] = $first;\n\n    if (strlen($input) == $length) {\n        return $result;\n    }\n\n    $tails = $this-&gt;getCombination($length - 1, substr($input, 1));\n\n    foreach ($tails as $tail) {\n        $tmp = substr($input, 0, 1) . $tail;\n\n        if (!in_array($tmp, $result)) {\n            $result[] = $tmp;\n        }\n    }\n\n    return array_merge($result, $this-&gt;getCombination($length, substr($input, 1)));\n}\n</code></pre>\n\n<p>For another question, <a href=\"http://stackoverflow.com/questions/13175257\">Create fixed length non-repeating permutation of larger set</a>, I was given a (brilliant) algorithm that would make permutations indexable, effectively making them adressable by providing a \"key\" that would always produce the exact same permutation, when given the same set of characters and the same length.</p>\n\n<p>Well, now I basically need the same but for combinations, in contrast to permutations as in my other question.</p>\n\n<p>Can the algorithm above be modified in the same way? Meaning to create a function like</p>\n\n<pre><code>public function getCombinationByIndex($length, $index);\n</code></pre>\n\n<p>That will return <strong>one</strong> combination out of the thousand possible that is created with the algorithm <strong>without creating them beforehand</strong>?</p>\n"},{"tags":["php","xml","simplexml"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":30,"score":0,"question_id":13274702,"title":"Parse XML Tag in PHP with simpleXML","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6027398/php-simplexml-namespace-problem\">PHP SimpleXML Namespace Problem</a>  </p>\n</blockquote>\n\n\n\n<p>I have a section of an XML feed which I am processing in a PHP page but the XML has an image in the middle of the paragraph which is surrounded by <code>&lt;content:encoded&gt;</code>. I have tried one solution which didn't work and only confused me further! The snippet of XML is below:</p>\n\n<pre><code>&lt;content:encoded&gt;\n    &lt;![CDATA[&lt;p&gt;&lt;img class=\"aligncenter size-full wp-image-89673\" title=\"TFT\" alt=\"\" src=\"http://hackadaycom.files.wordpress.com/2012/11/tft.jpg?w=470&amp;#038;h=278\" height=\"278\" width=\"470\" /&gt;&lt;/p&gt;\n</code></pre>\n\n<p>I need to pull the image src out of this tag but I cannot get it out of it with any methods I have tried.</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":4,"view_count":28,"score":-4,"question_id":13274726,"title":"Your script possibly relies on a session side-effect","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/175091/php-session-side-effect-warning-with-global-variables-as-a-source-of-data\">PHP session side-effect warning with global variables as a source of data</a>  </p>\n</blockquote>\n\n\n\n<p>I got this error while working on a PHP script, what can I do to resolve it?</p>\n\n<blockquote>\n  <p>Warning: Unknown: Your script possibly relies on a session side-effect which existed until PHP 4.2.3. Please be advised that the session extension does not consider global variables as a source of data, unless register_globals is enabled. You can disable this functionality and this warning by setting session.bug_compat_42 or session.bug_compat_warn to off, respectively in Unknown on line 0</p>\n</blockquote>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13274487,"title":"What's the complete / correct method of sending email via PHP?","body":"<p>I've tried the <code>mail</code> function and it works fine. Now what all I need to add to it? When the content of mail is formed by user input.</p>\n\n<p><a href=\"http://php.net/manual/en/function.mail.php\" rel=\"nofollow\">Doc</a> says that lines (separated by <code>\\n</code>) shouldn't be larger than 70 characters. So should I do wordwrap before using the mail function? Should I take care of full stops at the start of the lines? What else?</p>\n\n<p>The doc also recommends PEAR's mail package for complex mails and sending large volumes of mail together. I've never used PEAR, how it's? What are the alternatives and how to choose among them?</p>\n"},{"tags":["php","zend-framework","magento","mage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13273985,"title":"Zend (Magento) - Form post actions in function","body":"<p>I have an upload form that inserts the image into a database table. \nProblem is I want to insert a string into the database table instead of uploading from the form, simulating a file upload using a facebook hosted avatar</p>\n\n<p><a href=\"http://pastebin.com/0WchHvRV\" rel=\"nofollow\">http://pastebin.com/0WchHvRV</a></p>\n"},{"tags":["php","oop","class","design-patterns","object"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13274650,"title":"Determining the Proper Object Design Pattern for a PHP Application","body":"<p>We are having some debatable thoughts in our heads as far as what OOP Design Pattern best suites our desire. I am not allowed to be copy/pasting our code anywhere, so I will do my best to describe our setup. </p>\n\n<p>We currently have been using the <strong>Object Pooling Pattern</strong>.</p>\n\n<p>We have the <code>Main Class</code> file which pools all the necessary subclasses we will need to use later.</p>\n\n<p>We then setup the <code>Main Class</code> file to have a method, which handles developer requests made from anywhere in the website. For example, we have a <code>Sub Class</code> file that generates HTML for us, saving us time in areas that would require rewriting the same HTML code again.</p>\n\n<p>We also have created a wrapper function called <code>run()</code>. We use this wrapper function for interacting anywhere in the website. <code>run()</code>, will make a request to the <code>Main Class</code> and ask for access to <code>Sub Class</code> method.</p>\n\n<p>The <code>Main Class</code> will determine whether or not that <code>Sub Class</code> file, and <code>Sub Class</code> method exists and is callable. If everything succeeds, the request made from anywhere in the website is then sent to the <code>Sub Class</code> from the <code>Main Class</code>. <em>Keeping in mind of course that the original request was sent to the <code>run()</code> method, and was then validated by the <code>Main Class</code>, before the request was actually sent to the <code>Sub Class</code> AND... has already been instantiated by the <code>Main Class</code>.</em></p>\n\n<p>However, as we amend our code, this setup has seemingly drifted beyond our control. I feel that our current setup is making our code smell... and I don't mean smell good, I mean smell BAD.</p>\n\n<p>We are basically looking for an ideal set of <strong>Object Design Patterns</strong> to use, in order to best suite our needs.</p>\n\n<p>We would like some form of control over our sub classes, so that they cannot be directly accessed, but instead must be accessed through come sort of control class. </p>\n\n<p>We like the idea of everything already being per-instantiated and ready for use, without having to always create a new object.</p>\n\n<p>We would also need some form of permissions and organization. Separating the website admin back end from the member front end.</p>\n\n<p>Would it be suitable to have two wrapper functions to be used anywhere in the website? One for accessing anything on the front end, and another for accessing anything on the back end?</p>\n\n<p>We are in dire need of a better setup. Our current system works, I just feel like it could be better. We are in the process of revamping the entire setup to something that's efficient, maintainable, organized and doesn't smell like a bag of garbage.</p>\n\n<p>I'm not looking for a full code solution here, and I know that I don't have any code provided, but given what you have if you could perhaps provide an explanation of why our current setup is rapidly decaying and possibly (if it's not too much to ask...) what would be a better approach, and why?</p>\n"},{"tags":["php","regex","search"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":5221947,"title":"str_ireplace does not work with non ASCII charecters","body":"<p>I need to highlight search result in text in Russian, but str_ireplace() just does not work when query has different case. I've tried everything that I've fould in the <a href=\"http://php.net/manual/en/function.str-ireplace.php\" rel=\"nofollow\">manual</a>, but nothing works. Here what I have tried:</p>\n\n<pre><code>&lt;?php\nsetlocale (LC_ALL, 'ru_RU');\n$query = 'ÐÑÐÐ±ÐÐµÐÐ°';\n$result = 'Ð­ÑÐ° Ð¿ÑÐ¾Ð±Ð»ÐµÐ¼Ð° Ð½Ð°Ð¼ Ð½Ðµ Ð·Ð½Ð°ÐºÐ¾Ð¼Ð°.';\n\n$result = str_ireplace($query, \"&lt;strong&gt;$query&lt;/strong&gt;\", $result); // does not work\n$result = preg_replace(\"/($query)/i\", '&lt;strong&gt;$1&lt;/strong&gt;', $result); // does not work\n$result = mb_eregi_replace(\"$query\", \"&lt;strong&gt;$query&lt;/strong&gt;\", $result); // does not work\n$result = ext_str_ireplace($query, \"&lt;strong&gt;$query&lt;/strong&gt;\", $result); // from php.net - does not work\n$result = highlightStr($result, $query); // from php.net - does not work\n\n?&gt;\n</code></pre>\n\n<p>Is there any way to make it work? I'm getting desperate here.</p>\n\n<p>PHP 5.3.3</p>\n"},{"tags":["php","mysql","joomla","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":19,"score":-1,"question_id":13272918,"title":"How to create an article with php in joomla 2.5","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12643725/create-a-jooma-article-programatically\">Create a Jooma! Article Programatically</a>  </p>\n</blockquote>\n\n\n\n<p>I need to know, how can I create a new article in Joomla 2.5 with php code.</p>\n\n<p><em><strong>EDIT</em></strong></p>\n\n<p><strong>I found this:\n<a href=\"http://stackoverflow.com/questions/12643725/create-a-jooma-article-programatically?lq=1\">Create a Jooma! Article Programatically</a>\nit works in also joomla 2.5</strong></p>\n"},{"tags":["php","apache","hosting","pecl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13274376,"title":"Disabling a PHP extension the easy way?","body":"<p>I am using an open source library ( <a href=\"http://hybridauth.sourceforge.net\" rel=\"nofollow\">http://hybridauth.sourceforge.net</a> ) that does not support the PECL OAuth extension of PHP. If you try to run code with it, it says \"Exception: Hybridauth Library not compatible with installed PECL OAuth extension. Please disable it.\"</p>\n\n<p>Easier said than done.</p>\n\n<p>I am hosting my site via Amazon AWS Elastic Beanstalk ( <a href=\"https://aws.amazon.com/elasticbeanstalk/\" rel=\"nofollow\">https://aws.amazon.com/elasticbeanstalk/</a> ). I chose this solution because it allows you to get started quickly with no configuration, no SSH, no custom AMI, ...</p>\n\n<p>Which means I can't easily modify the original php.ini file or delete the extension file.</p>\n\n<p>Is there an easier way? Disabling an extension on the fly? Via a php method? Via an htaccess file? A trick?</p>\n"},{"tags":["php","javascript","jquery","ajax","xhtml"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":13261654,"title":"Finding multiple PHP generated inputs with Jquery/Javascript","body":"<p>I can't seem to figure this one out.. \nI am trying to use Javascript to select an input value. The problem is that the form is being looped through a php array that gets eve which makes every single form the same name and the inputs the name. The javascript will only let me get the value of the first form. I have tried putting the forms into arrays with <code>[]</code> but I cant't get it.. please help.</p>\n\n<pre><code>    $find = mysql_query(\"\n       SELECT `name`, `desc`, LEFT(`desc`, 80),`price`, `page`, `id`\n       FROM `bang` \n       ORDER BY id ASC LIMIT 2 \") or die(mysql_error());\n\n       while($resultt= mysql_fetch_array($find)){\n          echo '&lt;form id=\"linkcenter\" action=\"\"&gt;';\n          echo '&lt;input type=\"hidden\" value=\"'.$resultt['id'].'\" id=\"linkcenterr\" name=\"linkcenterr\"';\n          echo '&lt;input type=\"button\" name=\"butn\" value=\"Send\" onClick=\"loadInfoo()\"&gt;';\n          echo '&lt;/select&gt;';\n          echo '&lt;/form&gt;';\n    }\n</code></pre>\n\n<p>Javascript and jQuery in seperate file:</p>\n\n<pre><code>    function loadInfoo() {  \n       var id = document.getElementById('linkcenterr').value;\n       //ajax and more java bellow that i know is working..\n    } \n</code></pre>\n\n<p>All I am using the jquery for is to animate a box and then this input is going throught the javascript and sent to a php file which runs a sqlquery and echos all of the data from the database. </p>\n\n<p>I know all the other code is working the problem is I don't know how to format these forms into an array so that the javascript can get each ones values when its clicked.</p>\n"},{"tags":["php","ftp","centos"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":13274190,"title":"php ftp_get function has permission denied","body":"<p>I have a centos 6 server with php, apache. i need to get files from other server and save them in my server.</p>\n\n<p>i wrote below php to get them</p>\n\n<p>ftp.php file</p>\n\n<pre><code>    &lt;?php\n// define some variables\ninclude_once 'ftp_class.php';\ninclude_once 'include/config.php';\n                ini_set(\"memory_limit\",\"42M\");\n                ini_set(\"max_execution_time\", \"4800\"); \n// set up basic connection\n$conn_id = ftp_connect($ftp_server) or die (\"couldn't connect to $ftp_server\");\n// login with username and password\necho $conn_id;\n$login_result = ftp_login($conn_id, $ftp_user, $ftp_user_pass);\nftp_pasv( $conn_id, true ); \n\n# check connection\nif ((!$conn_id) || (!$login_result)) {\n    echo \"FTP connection has failed!\";\n    echo \"Attempted to connect to $ftp_server for user $ftp_user\";\n} else {\n    echo \"Connected to $ftp_server, for user $ftp_user\";\n}\necho \"&lt;br&gt;\";\necho \"Currently in \".ftp_pwd($conn_id);\necho \"&lt;br&gt;\";\nif (ftp_chdir($conn_id, $path)) {\n    echo \"Current directory is now: \" . ftp_pwd($conn_id) . \"&lt;br&gt;\";\n} else {\n    echo \"Couldn't change directory\\n\";\n}\n\n// enabling passive mode\n//var_dump(ftp_rawlist($conn_id, '.'));\n\nFTP::download('data', '.', $conn_id);\n\nftp_close($conn_id);\n\n?&gt;\n</code></pre>\n\n<p>ftp_class.php</p>\n\n<pre><code>    &lt;?php\n# FTP Class for performing file downloads\nclass FTP {\n\n   /**\n     * Download() performs an automatic syncing of files and folders from a remote location\n     * preserving folder and file names and structure\n     *\n     * @param   $local_dir: The directory to put the files, must be in app path and be writeable\n     * @param   $remote_dir: The directory to start traversing from. Use \".\" for root dir\n     *\n     * @return  null\n     */\n    public static function download($local_dir, $remote_dir, $conn_id)\n    {\n\n\n        $contents = ftp_nlist($conn_id, \".\");\n        foreach ($contents as $file) {\n                if (!file_exists(\"$local_dir/$file\") &amp;&amp; !file_exists(\"$local_dir/$file\".\".old\")){\n    if(!is_dir($file)){\n        //    echo $file.\"&lt;br&gt;\";\n            $hello =   ftp_get($conn_id, \"$local_dir/$file\", $file, FTP_BINARY);\n\n        }}}\n\n    }\n\n}\n?&gt;\n</code></pre>\n\n<p>but get below error</p>\n\n<blockquote>\n  <p>Resource id #4Connected to 10.76.2.52, for user ftpadmin Currently in\n  / Current directory is now: /opt/U2000/server/var/dump/PerfLog\n  Warning: ftp_get(data/Schedule_pfm_SDH_2012042816195440.txt): failed\n  to open stream: Permission denied in\n  /var/www/html/soliton/etisalatmeter/txperformance_oc/ftp_class.php on\n  line 23 Warning: ftp_get(): Error opening\n  data/Schedule_pfm_SDH_2012042816195440.txt in\n  /var/www/html/soliton/etisalatmeter/txperformance_oc/ftp_class.php on\n  line 23 Warning: ftp_get(data/Schedule_pfm_SDH_2012042818274645.txt):\n  failed to open stream: Permission denied in\n  /var/www/html/soliton/etisalatmeter/txperformance_oc/ftp_class.php on\n  line 23 Warning: ftp_get(): Error opening</p>\n</blockquote>\n\n<p>note that i can access the server normally from web browser and also can download them normally\nalso i adjust the permission of my folders to allow any one read and write</p>\n\n<p>if i run the code from my windlows laptop (with apache server and php) the code run normally and get all files in my folder, so the problem in my centos server</p>\n\n<p>please support</p>\n"},{"tags":["php","apache","php-5.2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13271837,"title":"apache hangs: semop?","body":"<p>I have a problem I can not reproduce but it happens often: Sometimes you login, click a another page and this page keeps loading for ever. Also all other request from the same session will stuck from this time. Restarting apache fixes it but is not a real solution.</p>\n\n<p>The server has not a lot traffic so only a few apache processes are running. If I dig into them I see many stucked with <code>semop</code> :</p>\n\n<pre><code>(gdb) bt\n#0  0x00002af60c22b2d7 in semop () from /lib64/libc.so.6\n#1  0x00002af60bbf612c in ?? () from /usr/lib64/libapr-1.so.0\n#2  0x000055555559e614 in ?? () from /usr/sbin/httpd2-prefork\n#3  0x000055555559e9ea in ?? () from /usr/sbin/httpd2-prefork\n#4  0x000055555559f25d in ap_mpm_run () from /usr/sbin/httpd2-prefork\n#5  0x000055555557a080 in main () from /usr/sbin/httpd2-prefork\n</code></pre>\n\n<p>looks like they are waiting for a file:</p>\n\n<pre><code>strace -p 3069\n....\nread(7, 0x7fff16a04df7, 1)              = -1 EAGAIN (Resource temporarily unavailable)\nsemop(286162952, 0x2af60bd07dc0, 1 &lt;unfinished ...&gt;\n</code></pre>\n\n<p>Since it is hanging with session_start I looked at the session temp folder and there quite many files:</p>\n\n<pre><code># ls /var/lib/php5 | wc -l\n2716\n</code></pre>\n\n<p>All of them are from today!</p>\n\n<p>`read(7 ,..) points to a pipe:</p>\n\n<pre><code># ls -la proc/3069/fd/7\nlr-x------ 1 root   root 64 Nov  7 17:24 7 -&gt; pipe:[157329520]\n</code></pre>\n\n<p>That is used by all the apache processes:</p>\n\n<pre><code># lsof | grep 157329520\nhttpd2-pr  2430       root    7r     FIFO                0,5             157329520 pipe\nhttpd2-pr  2430       root    8w     FIFO                0,5             157329520 pipe\nhttpd2-pr  3061     wwwrun    7r     FIFO                0,5             157329520 pipe\nhttpd2-pr  3061     wwwrun    8w     FIFO                0,5             157329520 pipe\n...\n</code></pre>\n\n<p>What kind of pipe is this?</p>\n\n<p>I would love to post some PHP code for you to look at, but I just don't know which part...</p>\n\n<p>Any idea how to fix or debug this?</p>\n"},{"tags":["php","wordpress","google"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13274405,"title":"Google toolbar truncating site","body":"<p>Hi I've got a site I'm working on it's just a html site with Wordpress integrated to allow a few dynamic features for the client. For some reason IE with Google Toolbar enabled truncates the information and strips the css. In other words it's like it does read anything until it get half way down the page. When you refresh a few times it will change what it does and doesn't display. If I remove the wordpress code fragment at the top(see below) it works, but of course all the dynamic content goes away. The weird thing is that if it's WP generated page it works just fine.</p>\n\n<pre><code>&lt;?php\nrequire('./cms/wp-blog-header.php');\n?&gt;\n</code></pre>\n\n<p>I'm a little lost on this. I'm not doing anything I haven't done several times before with fine results and I can't find anything about it online. Any help would be great, thanks.</p>\n"},{"tags":["php","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":74,"score":1,"question_id":13145518,"title":"Array of objects top 5 unique values","body":"<p>I have an array of arrays with two specific key/value pairs. What I am trying to do is to get the top 5 unique <code>cause</code> values decided by <code>qty</code>. Meaning that it would group the <code>cause</code> keys together by unique values, then total up the <code>qty</code> keys for each cause, and return the top 5 causes and the total qty for each cause.</p>\n\n<p>Here is what the print_r(array_values($array)) prints out.</p>\n\n<pre><code>Array ( \n[0] =&gt; Array ( [cause] =&gt; Other (please comment) [qty] =&gt; 0.417 ) \n[1] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.430 ) \n[2] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.430 ) \n[3] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.513 ) \n[4] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.513 ) \n[5] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.750 ) \n[6] =&gt; Array ( [cause] =&gt; Chem Out FC-DryStrAddTow [qty] =&gt; 0.750 ) \n[7] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.816 ) \n[8] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.816 ) \n[9] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.828 ) \n[10] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.828 ) \n[11] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.681 ) \n[12] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.681 ) \n[13] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.918 ) \n[14] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.918 ) \n[15] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.926 ) \n[16] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.937 ) \n[17] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.809 ) \n[18] =&gt; Array ( [cause] =&gt; No Cause Selected [qty] =&gt; 0.809 ) \n[19] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.891 ) \n[20] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.891 ) \n[21] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.884 ) \n[22] =&gt; Array ( [cause] =&gt; Slitter Cut/Saw-Poor Cut [qty] =&gt; 0.884 ) ) \n</code></pre>\n\n<p>Thank you in advance for your help.</p>\n"},{"tags":["php","forms","security","post"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13274305,"title":"Bare minimum to secure a PHP form","body":"<p>There are a lot of 'secure PHP form' questions out there, but I wasn't able to find a simple definitive 'bare-minimum needed' answer.</p>\n\n<p>How would I go about making a form 100% safe? Is it as simple as running a function on the output like so:</p>\n\n<pre><code>$text = $_POST['text'];\n$text = doThisToMakeSafe($text);\n</code></pre>\n\n<p>or are there other ways someone can get malicious access via a form without submitting?</p>\n\n<p>Ideally, I'd like a snippet of code I can throw into all forms so that I never have to worry about any security issues. Is this possible?</p>\n"},{"tags":["php","database","security","query","hash"],"answer_count":7,"favorite_count":2,"up_vote_count":14,"down_vote_count":0,"view_count":3426,"score":14,"question_id":3665247,"title":"Fastest hash for non-cryptographic uses?","body":"<p>I'm essentially preparing phrases to be put into the database, they may be malformed so I want to store a short hash of them instead (I will be simply comparing if they exist or not, so hash is ideal).</p>\n\n<p>I assume MD5 is fairly slow on 100,000+ requests so I wanted to know what would be the best method to hash the phrases, maybe rolling out my own hash function or using <code>hash('md4', '...'</code> would be faster in the end?</p>\n\n<p>I know MySQL has MD5(), so that would complement a bit of speed on the query end, but maybe there's further a faster hashing function in MySQL I don't know about that would work with PHP..</p>\n"},{"tags":["php","c++"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":13274298,"title":"strange behaviour of php","body":"<p>Today I noticed an ambiguity in php. I ran this code</p>\n\n<pre><code>$i = 5;\n$i = $i ++;\nvar_dump($i); //output 5 instead of 6 \n</code></pre>\n\n<p>Let us assume the initial value of <code>$i is 5</code>. Now the new value should be 6 but it in fact turns out to be <code>5</code>. When I did the same thing in <code>C++</code> I got <code>6</code> as expected.\nIs it some bug in php which went unnoticed for so many years or is it some thing else. Can some one please explain it?</p>\n"},{"tags":["php","javascript","jquery","zend-framework","jquery-ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":75,"score":6,"question_id":13242409,"title":"JQuery.post callback data is null","body":"<p>I am having an issue with ZEND, JQuery, PHP, and Javascript. I am very new to these languages, and I am just trying to work my way around them.</p>\n\n<p>I have had jquery.post work in other cases, but I cannot get it to do a simple call right now.</p>\n\n<p>phtml File (/admin/user.phtml)</p>\n\n<pre><code>function testJquery()\n{\nvar url = \"&lt;?php echo $myHome2Url.'/admin/newusercallback/sessionid/'.$_SESSION['mySessionId'].'/lang/'.$_SESSION['language']?&gt;\";\nconsole.log(url);\n$.post(url,{},\nfunction(data)\n{\n    window.alert(\"Call successful!\");\n    window.alert(data);\n},\"json\");\n</code></pre>\n\n<p>}</p>\n\n<p>PHP File: (AdminController.php)</p>\n\n<pre><code>public function newusercallbackAction()\n{\n     echo json_encode(\"Test\");\n}\n</code></pre>\n\n<p>A /admin/newusercallback.phtml file exists. </p>\n\n<pre><code>  &lt;?php ?&gt;\n</code></pre>\n\n<p>When run, the console has the following messages printed to it:</p>\n\n<pre><code>POST https://dev.myurl.ca/admin/newusercallback/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG\nhttps://dev.myurl.ca/admin/newusercallback/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG\nGET https://dev.myurl.ca/admin/user/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG/report_id/0/\n</code></pre>\n\n<p>I have 2 popup boxes appearing, which say Call Successful! and Null</p>\n\n<p>The issue is that the second popup box should say \"Test\" instead of Null.</p>\n\n<p>If I browse to the URL <a href=\"https://dev.myurl.ca/admin/newusercallback/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG\">https://dev.myurl.ca/admin/newusercallback/sessionid/0c1a5e41-ad0a-470d-9901-305464b48908/lang/ENG</a> directly, my browser displays a window with the text</p>\n\n<pre><code>\"Test\"\n</code></pre>\n\n<p>(quotation marks inclusive)</p>\n\n<p>My question is, why is the callback data for testJquery Null, when browing directly to the page is displaying the data \"Test\" correctly?\nFurther to that, how can I fix it!</p>\n"},{"tags":["php","hash"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":252,"score":1,"question_id":7340615,"title":"fast, collisionless hash algorithm for path caching?","body":"<p>I'm working on converting a website using php. Part of my process is verify that image paths don't point to non-existant images (i.e. there are no broken images). Since many pages share certain images, I set up a cache array to see if I've already checked for the existence of an image file for a given path. </p>\n\n<p>Using raw path string as the array index didn't work, so I used <code>md5()</code>, and that does the trick. However, the conversion script is taking a long time, and it seems clear that that's because of the md5 calculation ( I've been running the conversion frequently over the past few days, and I noticed right away that as soon as my caching started working, the script took much longer to run.)</p>\n\n<p>So I'm wondering if there is a faster hash algorithm that I can use in my cache, and of course I need one that won't produce collisions. Since this is a one-off script, I don't need a super-secure unbreakable algorithm, just one that gets the job done a little faster. </p>\n\n<p><a href=\"http://www.php.net/manual/en/function.hash.php#104987\" rel=\"nofollow\">This comment</a> apparently is a list of all the hashing functions that php has available to it.</p>\n\n<p><strong>Edit</strong> I didn't draw a lot of attention to this in my comment, but when I use the plain string of the path as the index for the cache array, it didn't work. As soon as I changed it to md5 hash, it worked. If I had more time I would troubleshoot this, but this is a one-off project that I can't spend more time than I absolutely must one. </p>\n\n<p><strong>Post Edit</strong> Okay, apparently I'm doing something way wrong with my caching; I must have changed something when I changed the indexes to hashes that caused the cache to start working, irrespective of the hashing. People are saying my hash should be okay with file path strings, and that md5s don't take that long anyway. So, I don't know what I'm doing wrong and I don't have time to figure it out in this project. I would delete this question but it already has answers.</p>\n"},{"tags":["php","ajax","ckeditor"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13263289,"title":"Attaching CKEditor in ajax page","body":"<p>I was try to attach the <em>ckeditor</em> to a textarea in php page, which is being called by ajax in a html page, but ckeditor is not appearing in textarea. Can any one have any idea, Why it is not happening, it just making me freak.</p>\n\n<p>TRY1.HTML\n\n</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n    function load()\n    {\n  if (window.XMLHttpRequest)\n      {// code for IE7+, Firefox, Chrome, Opera, Safari\n       xmlhttp=new XMLHttpRequest();\n      }\n   else\n      {// code for IE6, IE5\n          xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n       }\n     xmlhttp.onreadystatechange=function()\n      {\n        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n          {\n             document.getElementById(\"div_content\").innerHTML=xmlhttp.responseText;\n          }\n      }\n       xmlhttp.open(\"GET\",\"try2.php?\",true);\n       xmlhttp.send();\n      }\n     &lt;/script&gt;\n     &lt;!--end tinymcs--&gt;\n\n       &lt;/head&gt;\n       &lt;body&gt;\n       &lt;input type=\"button\" onclick=\"load()\"&gt;\n       &lt;div id=\"div_content\"&gt;\n\n       &lt;/div&gt;\n\n\n       &lt;/body&gt;\n       &lt;/html&gt;\n</code></pre>\n\n<p>TRY2.PHP</p>\n\n<pre><code>      &lt;textarea id=\"txt1\"&gt; &lt;/textarea&gt;\n</code></pre>\n"},{"tags":["php","pdo","prepared-statement"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13274065,"title":"PDO prepared statement wont work with this query","body":"<p>Im having this query:</p>\n\n<pre><code>$query = $db-&gt;query(\"SELECT\n\n                      posts.post_topic_id,\n                      posts.post_content,\n                      posts.post_id,\n                      posts.post_date,\n                      posts.post_by,    \n                      posts.post_votes_total,\n                      posts.post_suggested_amount, \n                      posts.post_accepted,\n                      posts.post_last_edited,\n                      posts.post_edit_sum,\n                      users.user_id,\n                      users.username\n\n                    FROM\n                      posts\n\n                    JOIN\n                      users\n                    ON\n                      posts.post_by = users.user_id\n                    WHERE\n                      posts.post_topic_id = :topic_id\n                    ORDER BY\n                      :sort\n                    LIMIT :start , :per_page\n                  \");\n\n$query-&gt;bindParam(':topic_id', $topic_id, PDO::PARAM_INT);\n$query-&gt;bindParam(':sort', $sort, PDO::PARAM_STR);\n$query-&gt;bindParam(':start', $start, PDO::PARAM_INT);\n$query-&gt;bindParam(':per_page', $per_page, PDO::PARAM_INT);\n$query-&gt;execute();\n</code></pre>\n\n<p>But it wont execute and give me and error instead:</p>\n\n<blockquote>\n  <p>exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':topic_id ORDER BY posts.post_id ASC ' at line 25' in C:\\htdocs\\lr\\topic.php:577 Stack trace: #0 C:\\htdocs\\lr\\topic.php(577): PDO->query('SELECT???? ...') #1 {main}</p>\n</blockquote>\n\n<p>If I don't prepare the statements, and I use the normal variables, the query executes just fine. </p>\n\n<p>What's my mistake?</p>\n"},{"tags":["php","sql-server","stored-procedures","parameters"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8,"score":1,"question_id":13274261,"title":"php sqlsrv_query stored procedure with naming parameters","body":"<p>Im using php 5.4 with sqlsrv extension and I'm trying to call this sample stored procedure (NorthWind database):</p>\n\n<pre><code>create  PROCEDURE [dbo].[GetCategories] \n@CategoryID int = null\nAS\nSELECT * from dbo.Categories where CategoryID= IsNull(@CategoryID,CategoryID)\n</code></pre>\n\n<p>And I'm using this sqlsrv_query syntax:</p>\n\n<pre><code>$sql = \"{ call dbo.GetCategories (?)}\";\n$catID=2;\n$params = array($catID);\n$stmt = sqlsrv_query( $conn, $sql,$params);\n</code></pre>\n\n<p>I want to specify parameter name and value in $params, just like this:</p>\n\n<pre><code>$sql = \"dbo.GetCategories\";\n$catID=2;\n$params = array(\"@CategoryID\"=&gt;$catID);\n$stmt = sqlsrv_query( $conn, $sql,$params);\n</code></pre>\n\n<p>It return this error: String keys are not allowed in parameters arrays.</p>\n\n<p>How can i solve this problem?\nThanks</p>\n"},{"tags":["php","image","image-processing"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":181,"score":-2,"question_id":7607657,"title":"Change the color of an image in php?","body":"<p>How can i change the color of a clipart in a image ,this image has red color heart in it <a href=\"http://www.tutorialpark.com/wp-content/uploads/3/Heart-Blending.jpg\" rel=\"nofollow\">http://www.tutorialpark.com/wp-content/uploads/3/Heart-Blending.jpg</a> i want to change from red to blue in php Thanks. Mostly my images will be in png format.</p>\n"},{"tags":["php","database","web-applications","cookies"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13274257,"title":"set each database data element to a Cookie in web app","body":"<p>i had developed mobile webapp which set fullscreen option for like native feel, there is user login page also, when user resume this webapp section expired, in my mobile safari no problem, but when i run fullscreen mode webbapp its expired my login section.</p>\n\n<p>i used this php code for resume my webapp previous position</p>\n\n<pre><code>&lt;?php     \n    $pageUrl = 'http://mydomain.com/index.php?route=customer/account';\n    setcookie('lastPage', $pageUrl, time()+86400, '/');\n?&gt;\n</code></pre>\n\n<p>how to set each database data element to a Cookie,? when resume webapp in iphone check if the Cookie exists...</p>\n\n<p>any idea.?</p>\n"},{"tags":["php","regex","dom","web-scraping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13274150,"title":"regex - scraping javascript","body":"<p>I am trying to scrape some data out of an HTML page that I'm getting with cURL. I've been using a PHP DOM lib called ganon; but in this case, the number I need is in Javascript.</p>\n\n<pre><code>{\n  label: \"Views&lt;span class='Footnote'&gt;*&lt;/span&gt;\",\n  type: \"other\",\n  id: \"Views\",\n  value: \"7\"\n}\n</code></pre>\n\n<p>I only need the <code>7</code>. So if I could match on <code>id: \"Views\",</code> and get everything up to the closing <code>}</code> and only return numbers; I believe this is possible -- I've been working on it but REGEX is certainly not my strong suite.</p>\n"},{"tags":["php","mysql","database","cakephp","cakephp-1.2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13271267,"title":"Change id from autoincrement to char 36 in CakePHP","body":"<p>I have web application built on CakePHP 1.2.11. and mysql database. In this application I have two tables, namely, users and actions. Users hasMany actions and the user_id (id in users tables) is the foreign key in actions table. The id field is autoincrement integer.</p>\n\n<p>CakePHP documentation said that setting the id field to be Char(36) will make CakePHP able to generate Unique string for each record to be the id.</p>\n\n<p>My application is running and I don't want to loss the data records that my application already has. I need to know if it is safely possible to migrate from autoincrement integer id to char(36) keeping in mind the related table?</p>\n\n<p>In other word, How could I change integer value to the unique string id that cakephp do? Is there any rules? If there any tool automate this kind of migration, I will be appreciated to know it.</p>\n"},{"tags":["php","nginx","amazon-ec2","php.ini","ec2-ami"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13272964,"title":"Cannot change upload_max_filesize or post_max_size in php.ini","body":"<p>Bear in mind, I am no sysadmin, I am just a developer. I cannot find anyone with the <em>exact</em> problem as me, just similar, and none of their \"fixes\" seem to work.</p>\n\n<p>I am currently running an Amazon EC2 instance running.</p>\n\n<pre><code>CentOS 6.2\nNginx 1.2.2\nPHP 5.3.16 with APC\nPercona 5.5.24 // not currently using this as I am using an RDS\n</code></pre>\n\n<p>I have set my php.ini (/etc/php.ini) settings to the following</p>\n\n<pre><code>upload_max_filesize=10M\npost_max_filesize=20M\n</code></pre>\n\n<p>After reloading the config, using <code>php -i</code> via ssh, these settings seemed to be loaded. Showing <code>upload_max_filesize=10M</code>, etc.</p>\n\n<p>When using <code>phpinfo()</code> or <code>ini_get</code>, both options are returned as <code>4M</code></p>\n\n<p><code>phpinfo()</code> indicates that the file I am editing is the one loaded (<code>/etc/php.ini</code>).</p>\n\n<p>I have also run <code>php -i | grep \"\\.ini\"</code> to check which files are loaded, and there are no unnecessary loaded configs. I even went through each loaded file individually to check they didn't have the settings inside.</p>\n\n<p>Additionally, I have been suggested to try using a <code>.user.ini</code> config file. This did not change the values either.</p>\n\n<p><code>ini_set()</code> does not work either.</p>\n\n<p>I'm at a bit of a loss.</p>\n\n<p>EDIT: not sure this will help, but I am using this AMI <a href=\"http://megumi-cloud.com/\" rel=\"nofollow\">http://megumi-cloud.com/</a></p>\n"},{"tags":["php","date"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":56,"score":-7,"question_id":13267053,"title":"Getting error in coding PHP","body":"<p>I'm trying to display username for a certain time and I wrote also in PHP. But it is showing error. Please help me to fix error:</p>\n\n<pre><code>&lt;?php\n    include(\"config.php\");\n    if(time() &lt;= strtotime(\"2012-11-10\")) {\n        $link=mysql_connect($db_host,$db_username) ;\n        mysql_select_db($db_name,$link) ;\n        $query = mysql_query(\"SELECT * FROM tbluser\");\n        while($v = mysql_fetch_array($query)) {\n            $username = $v['username'];\n            echo(\"&lt;center&gt;&lt;table border='1' cellpadding='0' cellspacing='0' style='border-collapse: collapse' bordercolor='#111111' width='343' id='AutoNumber1'&gt;\");\n            echo(\"&lt;tr&gt;&lt;td&gt;&lt;b&gt;UserName&lt;/b&gt;&lt;/td&gt;\");\n            echo(\"&lt;/tr&gt;\");\n            echo(\"&lt;tr&gt;&lt;td&gt;$username&lt;/td&gt;\");\n            echo(\"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\");\n        }\n    else\n        echo 'testing period dated ended';\n    }\n?&gt;\n</code></pre>\n"},{"tags":["php","regex"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":27,"score":0,"question_id":13273938,"title":"RegEx To Validate 4 and 5 Digit Numbers?","body":"<p>I have this regex : </p>\n\n<pre><code>if(preg_match(\"@^\\d{4}$@\", basename($entry, \".php\"))) {\n--do something here--\n}\n</code></pre>\n\n<p>that condition works only for 4 digits number. but I need to validate 4 digits and also 5 digits. how to make it work to validate 5 digits number too? thanks!</p>\n"},{"tags":["php","asp.net","redirect","post"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":44,"score":-1,"question_id":13273440,"title":"send post data from php to webadress without redirecting","body":"<p>I have a PHP page at a site <code>www.aaa.com</code> and on that page when I click the send button it should send textbox data as post data to a ASPX webpage at <code>www.bbb.com</code>.</p>\n\n<p>I need the relevant ASPX code for retrieving post data into textbox and submitting automatically.</p>\n\n<p>How do i do that?</p>\n"},{"tags":["java","php","html","mysql","centos"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13262632,"title":"Find string between 2 points & move between another 2 points","body":"<p>I have a lot of urls that are sadly static, to change them I need to use some type of application or script.. I have about 400 files with urls ranging from 15-150 on each.</p>\n\n<p>Here is an example of what I'm trying to do:</p>\n\n<pre><code>Change:\n&lt;td class=\"SELECTX\"&gt;&lt;strong&gt;Text example 1 &lt;a href=\"\"&gt;&lt;/a&gt;Text Example 2 &lt;/strong&gt;&lt;/td&gt;\n\nTo:\n&lt;td class=\"SELECTX\"&gt;&lt;strong&gt; &lt;a href=\"\"&gt;&lt;/a&gt;Text example 1 Text Example 2 &lt;/strong&gt;&lt;/td&gt;\n</code></pre>\n\n<p>I would love a way to change this on all files at once, but if I can't then at least a way to where I can change all urls on 1 file without having to do manual cut and paste.</p>\n\n<p>I searched and searched for over 3 hours and found nothing... I hope someone can help.</p>\n\n<p>Edit:\nBasically I'm trying to find the text/string between <code>&lt;strong</code> and <code>&lt;a href=</code> which would be <code>\"Text example 1\"</code> then move it to go after <code>\"\"&gt;&lt;/a&gt;</code> . Which would now come before <code>\"Text Example 2\"</code></p>\n"},{"tags":["php","oop","php-errors"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13273905,"title":"PHP Cannot access empty property error","body":"<p>I am getting the following error and I can't seem to figure out why or how it's getting triggered.</p>\n\n<p><code>Fatal error:  Cannot access empty property in /home/content/p/l/a/plai1870/html/com/php/Bone/Compiler.php on line 18</code></p>\n\n<p>Line 18 is </p>\n\n<pre><code>throw new LogicException($this-&gt;$compilers[$language].\" is not a supported compiler.\");\n</code></pre>\n\n<p>Here is Compiler.php</p>\n\n<pre><code>&lt;?php\nnamespace Bone;\nuse LogicException;\n\nclass Compiler implements \\Bone\\Interfaces\\Compiler {\n\n    protected $compiler;\n\n    protected $compilers = array(\n        \"php\"           =&gt; \"PHP\",\n        \"as3\"           =&gt; \"ActionScript3\",\n        \"javascript\"    =&gt; \"Javascript\"\n    );\n\n    public function __construct($language) {\n        $language = strtolower($language);\n        if (!isset($this-&gt;$compilers[$language])) {\n            throw new LogicException($this-&gt;$compilers[$language].\" is not a supported compiler.\");\n        }\n        $compiler = \"\\Bone\\Compilers\\\\\".$this-&gt;$compilers[$language].\"\\Compiler\";\n        $this-&gt;compiler = new $compiler();\n    }\n\n    public function buildDefinition($object, $path = null) {\n        return $this-&gt;compiler()-&gt;buildInterface($object, $path);\n    }\n\n    public function buildObject($object, $path = null) {\n        return $this-&gt;compiler-&gt;buildObject($object, $path);\n    }   \n\n    public function parameters($method) {\n        return;\n    }\n\n    public function save($data, $path) {\n        return;\n    }\n}\n?&gt;\n</code></pre>\n\n<p><strong>EDIT</strong>\nAnd I'm calling it with:</p>\n\n<pre><code>$compiler = new \\Bone\\Compiler(\"php\");\n</code></pre>\n"},{"tags":["php","joomla"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13143712,"title":"Where is the function that displays the PDFs in the search function?","body":"<p>I researched extensively and I couldn't find the solution to my problem. </p>\n\n<p>The site I am working on is using Joomla 1.5 and the latest version of PDF Indexer + Rokajaxsearch.</p>\n\n<p>Everything works great but I am having serious problems trying to <strong>change the order the results are displayed</strong>. By default it shows the PDF results first and then the page results, but <strong>I would like it to show the page results first and then the PDF results.</strong>  In order to do this, I need to rewrite the search function to switch the ordering.</p>\n\n<p>I have been trying to find where the code for the search function, but I cannot figure out where it is. Could anyone point me in the right direction? </p>\n"},{"tags":["php","javascript","jquery","post"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13273159,"title":"$.post function is not returning the correct data","body":"<p>I'm using $.post to deliver data to my main page from droppable elements. Yet when I echo out the the data I'm getting my toolbar echoed out to me as well as the data I fetched.</p>\n\n<pre><code>if (isset($_POST['data'])){\n$data = $_POST['data'];\necho $data;\n</code></pre>\n\n<p>The javascript containing the $.post is below</p>\n\n<pre><code>if(dropbox &amp;&amp; dropbox1 !== ''){\n        $.post(\"account_main.php\", \n          {data: $(this).text()}, \n          function(data) {\n                $('#demo').html(data);\n          });       \n        }\n</code></pre>\n\n<p>And a visual for the script using the droppable elements is <a href=\"http://jsfiddle.net/Kxtvg/247/\" rel=\"nofollow\">HERE</a>, but the problem is not shown here, can't duplicate it. I am open to any suggestions.</p>\n"},{"tags":["php","javascript","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13268795,"title":"Take IE6 Users to a specific page on first visit and only on home page","body":"<p>I'm using PHP includes on a static website, I'm using the same header.php for all pages and changing things like page title etc using php.</p>\n\n<p>For IE6 users I just on the home page I want them to be redirected to unsupported.php where they get prompted to upgrade their browser.</p>\n\n<p>They get a text only style sheet and I feel that I need to explain why the site looks unstyled.</p>\n\n<p>Can anyone provide an idea of how to do this?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":4,"view_count":132,"score":1,"question_id":12815108,"title":"How to properly retrieve a JSON string with PHP?","body":"<p>I am trying to send a JSON to my PHP script and for some reason is returning <code>null</code> in the alert message. </p>\n\n<p>I've searched throughout Stack Overflow and other forums and used other people's examples but somehow I keep getting it wrong. I checked in Firebug and the request is being sent. I am very new to handling JSON queries.</p>\n\n<p>Could anyone point at what I am doing wrong so that I can learn for the next time?</p>\n\n<p>My JQuery Code:</p>\n\n<pre><code>  var name = $('#formName').val();\n  var regno = $('#formRegNo').val();\n  var charityinfo = $('#formCharityInfo').val();\n  var searchimprove = $('#formSearchImprove').val();\n  var finantialaid = $('#formFinantialAid').val();\n  var contactname = $('#formContactName').val();\n  var contactphonenumber = $('#formContactPhoneNumber').val();\n  var contactfaxnumber = $('#formContactFaxNumber').val();\n  var contactemail = $('#formContactEmail').val();\n  var website = $('#formWebsite').val();\n  var address = $('#formAddress').val();\n  var postcode = $('#postCode').val();\n\n    var arrayData = {\"name\":name,\"regno\":regno,\"charityinfo\":charityinfo,\"searchimprove\":searchimprove,\"finantialaid\":finantialaid,\"contactname\":contactname,\"contactphonenumber\":contactphonenumber,\"contactfaxnumber\":contactfaxnumber,\"contactemail\":contactemail,\"website\":website,\"address\":address,\"postcode\":postcode};\n    console.log(name);\n\n    $.ajax({  \n  url: \"test.php\",  \n  type: \"POST\",  \n  dataType: \"json\",  \n  contentType: \"json\",  \n  async: false,\n  data: arrayData,\n success : function(response) {                            \n                    alert(response);            \n              },\n              error: function(){\n                    alert(\"error\");\n              }\n  }); //End AJAX\n</code></pre>\n\n<p>My PHP Code:</p>\n\n<pre><code>&lt;?php\n$return = $_POST;\necho json_decode($return);\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","shell"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13273181,"title":"Is it possible for shell script to detect whether JavaScript is running on firefox?","body":"<p>I wrote an HTML page with JavaScript, a PHP file and a shell script\nthey are all on the same machine\nI run the shell script, it will open the html page with Firefox,\nwhen the JavaScript finishes, it will POST to a getdata.php </p>\n\n<pre><code>&lt;form id=\"hidden_form\" method=\"POST\" action=\"getdata.php\" &gt;&lt;/form&gt;\n</code></pre>\n\n<p>The getdata.php will do something and then it will send a signal to the shell script</p>\n\n<p>the above is the normal behaviour, I'm afraid at some time, the PHP or JavaScript run into error and don't send signal to the shell script</p>\n\n<p>are there any good and simple way for shell script to detect whether JavaScript is running?</p>\n\n<p>a guy below mentioned that I can let javascript send request to the server periodically, like once every 2 minutes, but how to let shell script notice this/get the signal?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":21,"score":-2,"question_id":13271393,"title":"how to rewrite the xyz.php to city_name.xyz.php?","body":"<p>I am trying to build a ad site in php. My requirement is i had a page where in each state we had a list of cities. When we click on the city name then the page has to go to <a href=\"http://www.cityname.adlist.php\" rel=\"nofollow\">http://www.cityname.adlist.php</a>, but currently it is showing as <a href=\"http://www.adlist.php\" rel=\"nofollow\">http://www.adlist.php</a>.</p>\n\n<p>Can anybody advice me how to get my requirement.</p>\n"},{"tags":["php","php-cli","opensuse","php-5.4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13270862,"title":"How to enable pdo_pgsql on opensuse in PHP-CLI mode","body":"<p>I have opensuse 12.2 installed with php 5.4.x, pdo and pdo_pgsql works well under apache, but it does not work with inner server $php -S localhost:8080</p>\n\n<p>$php -m</p>\n\n<pre><code>[PHP Modules]\nCore\nctype\ndate\ndom\nereg\nfileinfo\nfilter\ngd\nhash\niconv\ninterbase\njson\nlibxml\nmbstring\npcre\nPDO\npdo_sqlite\nPhar\nposix\nReflection\nsession\nSimpleXML\nsockets\nSPL\nsqlite3\nstandard\ntokenizer\nxml\nxmlreader\nxmlrpc\nxmlwriter\nzlib\n\n[Zend Modules]\n</code></pre>\n\n<p>$php --ini</p>\n\n<pre><code>Configuration File (php.ini) Path: /etc/php\nLoaded Configuration File:         /etc/php/php.ini\nScan for additional .ini files in: (none)\nAdditional .ini files parsed:      (none)\n</code></pre>\n\n<p>I add the following two lines in php.ini</p>\n\n<pre><code>extension=pgsql.so\nextension=pdo_pgsql.so\n</code></pre>\n\n<p>then I get:</p>\n\n<pre><code>PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib64/php/extensions/pgsql.so' - /usr/lib64/php/extensions/pgsql.so: cannot open shared object file: No such file or directory in Unknown on line 0\nPHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib64/php/extensions/pdo_pgsql.so' - /usr/lib64/php/extensions/pdo_pgsql.so: cannot open shared object file: No such file or directory in Unknown on line 0\n</code></pre>\n\n<p>but I am sure pgsql.so and pdo_pgsql.so are all both located under /usr/lib64/php/extensions/</p>\n\n<p>Anybody know what's the issue?</p>\n"},{"tags":["php","javascript","flotr"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":978,"score":1,"question_id":11248927,"title":"Putting timestamp onto x axis in Flotr2 line graph","body":"<p>I am fairly new to Flotr2 and I have just been building some simple line graphs. That is simple enough and very cool. However, I need to put a timestamp (month day year plus time of day) as my x axis. I am getting the time from my database so its in php code and I am just echoing out the data like so:</p>\n\n<pre><code>while($stmt11-&gt;fetch()){\n                echo \" [\" . $date_of_completion . \", \" . $score . \"]\";\n                echo \",\";\n                $i++;\n                $total_score += $score;\n            }\n            echo \"];\";\n</code></pre>\n\n<p>And I have made the mode of the xaxis be \"time\" and I've tried \"date\", and it just never works. It keeps putting everything between 2001-2002 which is completely wrong, so I assume it just doesn't know what to do with the data I've given it. Has anyone else encountered this problem? I've looked through the example they give on time, but it makes no sense to me. </p>\n\n<p>Any help at all would be really appreciated. Thanks</p>\n\n<p>EDIT\nOk here is some more code. This is exactly what I'm doing to get the data out of the php and convert it to the format that flotr2 wants. </p>\n\n<pre><code>if(!($stmt11 = $mysqliprivate-&gt;prepare(\"SELECT date_of_completion, score FROM \". $shs . \" WHERE id = ? ORDER BY date_of_completion ASC\"))){\n            echo \"Prepare Failed: (\" . $mysqliprivate-&gt;errno . \") \" . $mysqliprivate-&gt;error;\n        }\n        else{\n            $total_score = 0;\n            $stmt11-&gt;bind_param(\"s\", $id);\n            $stmt11-&gt;execute();\n            $stmt11-&gt;bind_result($date_of_completion, $score);\n            $time = time();\n\n            echo \"var dataset = [\";\n            $i = 0;\n            while($stmt11-&gt;fetch()){\n                $date = date(\"U\", strtotime($date_of_completion));\n                echo \" [\" . $date . \", \" . $score . \"]\";\n                echo \",\";\n                $i++;\n            }\n            echo \"];\";\n            $stmt11-&gt;close();\n        }\n</code></pre>\n\n<p>And here is the javascript that I am running:</p>\n\n<pre><code>graph = Flotr.draw(container, [ \n            { data : dataset, label : 'Historical Patient Scores', lines:{show:true}, points: {show:true}}\n            ], {\n            xaxis: {\n                minorTickFreq: 4,\n                title : 'Date of Completion',\n                tickDecimals: 0,\n                noTicks: 10,\n                mode : 'time',\n                timeformat : '%y/%m/%d'\n            }, \n            yaxis : {\n                max : 30,\n                title : 'Score',\n                tickDecimals:0,\n                min: 0\n            },\n            grid: {\n                minorVerticalLines: true\n\n            },\n            legend : {\n                position : 'nw'\n            },\n            mouse: {\n                track: true,\n                relative:true,\n                trackDecimals:0,\n                sensibility: 5\n            }\n        });\n    })(document.getElementById(\"editor-render-0\"));\n</code></pre>\n"},{"tags":["php","html","mysql","order","results"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":13272201,"title":"Display mysql results with php in columns and sorted per column","body":"<p>I have the following code to display some brands per category.</p>\n\n<pre><code>&lt;?\n$con = mysql_connect(\"localhost\",\"baba\",\"passsss\");//database connection\nmysql_select_db(\"gr_brands_igi\") or die(mysql_error());\nmysql_set_charset('utf8',$con);     \n$query = \"SELECT * FROM brands ORDER BY category_anchor ASC, brand_anchor ASC\";\n\n$result = mysql_query($query);\n\n$lasteventname = \"\";\n\necho \"&lt;table border='0' width='100%' cellspacing='0' cellpadding='0'&gt;\";\n$cell_ctr = 0;\nwhile($row=mysql_fetch_array($result))\n{\n    if($row[0] != $lasteventname){\n        $title = $row[0];\n        $lasteventname = $row[0];\n        echo \"&lt;tr&gt;&lt;td colspan=5&gt;&lt;h2&gt;$title&lt;/h2&gt;&lt;/td&gt;&lt;/tr&gt;\";\n    }\n    if(($cell_ctr % 5) == 4) // 2 is the number of columns\n    {\n        echo\"&lt;/tr&gt;\";\n        echo \"&lt;tr&gt;\";\n        $cell_ctr = 0;\n    }\n  echo \"&lt;td align='justify' cellspacing='2' cellpadding='2'&gt;\";\n  echo \"&lt;h3&gt;&lt;a href='http://www.example.com/search/search.asp?txtsearch=$row[2]&amp;catg=$row[3]&amp;intitleanddesc=1&amp;isnavbarsearch=1&amp;gallery=1'&gt;\" . $row[2] . \"&lt;/a&gt;&lt;/h3&gt;\";\n  echo \"&lt;/td&gt;\";\n  $cell_ctr++;\n}\n\nif($cell_ctr == 1)\n{\n  echo \"&lt;/tr&gt;\";\n}\nelse if($cell_ctr == 2)\n{\n  echo \"&lt;/tr&gt;\";\n}\necho\"&lt;/table&gt;\";\n?&gt;\n</code></pre>\n\n<p>right now it displays this</p>\n\n<p>Jewels</p>\n\n<ul>\n<li>1 2</li>\n<li>3 4</li>\n<li>5 6</li>\n<li>7 8</li>\n</ul>\n\n<p>But i want to order it per column like this:</p>\n\n<p>Jewels</p>\n\n<ul>\n<li>1 5</li>\n<li>2 6</li>\n<li>3 7</li>\n<li>4 8</li>\n</ul>\n\n<p>The fields in the database are:</p>\n\n<pre><code>category_anchor\nkeyword\nbrand_anchor\ncategory_id\n</code></pre>\n\n<p>I have only one while loop and with the $lasteventname i print the category only once</p>\n\n<p>Any Ideas?</p>\n"},{"tags":["php","xml","magento","feed","product"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13273831,"title":"Magento create product feed xml","body":"<p>I've run into a problem which i can't seem to solve.\nI am building a Magento Webshop, which until so far has gone quite well.</p>\n\n<p>Now i need to create a product feed xml for affiliate sites.\nSo my employer gave me this feed.php file.</p>\n\n<p>And told me to use this file to create the feed.\nBut i seriously can not find a way to get this working.</p>\n\n<p>Here is the file:</p>\n\n<pre><code>    &lt;?php session_start();\n\n// Preconfigs\nini_set('memory_limit', '1536M');\nrequire_once dirname(__FILE__).'/app/Mage.php';\nMage::app('default');\n\n$scriptName = $_SERVER[\"SCRIPT_NAME\"];\n$startTime = time();\n$iterator = 0;\n$maxProducts = 0;\n\n// Set full path to the cache file\n$cachePath = dirname(__FILE__).'/var/tmp/';\n$cacheFile = $cachePath.'feed.cache.xml';\n\n// Set correct header for the xml\nheader(\"content-type: text/xml; charset=utf-8\");\n\n// Get timestamp of the cache file, if it does exists\nif (file_exists($cacheFile) &amp;&amp; (time() - filemtime($cacheFile)) &lt; 82800) {\n\n    header('Content-type: text/xml; charset=UTF-8');\n    header('Content-disposition: inline; filename=feed.xml');\n    readfile($cacheFile);\n    exit;\n} else {\n\n    try {\n        // Check if the 'tmp' folder exists' or create it otherwise\n        if (!file_exists($cachePath)) mkdir($cachePath);\n\n        // Create or start with a new file and save\n        // the contents\n        $cacheFileHandler = fopen($cacheFile, 'w');\n        //fwrite($cacheFileHandler, $cacheFileContents);\n\n        //---------------------- GET THE PRODUCTS\n        /* @var $products Mage_Catalog_Model_Resource_Product_Collection */\n        $products = Mage::getModel('catalog/product')-&gt;getCollection()\n            -&gt;addAttributeToSelect('id')\n            -&gt;addAttributeToFilter('status', 1) //enabled\n            -&gt;addAttributeToFilter('visibility', 4) //catalog, search\n            -&gt;addAttributeToFilter('price', array('gt' =&gt; 0))\n            -&gt;setStoreId(1)\n            -&gt;addStoreFilter(1);\n\n        //$products-&gt;addAttributeToFilter('type_id', array('eq' =&gt; 'configurable'));\n\n        $prodIds = $products-&gt;getAllIds();\n\n        fwrite($cacheFileHandler, \"&lt;?xml version=\\\"1.0\\\"?&gt;\\n\");\n        fwrite($cacheFileHandler, \"&lt;productFeed&gt;\\n\");\n\n        // Set output buffering to catch the xml contents\n        ob_start();\n\n        // Products can be iterated\n        foreach ($prodIds as $productId) {\n\n            /* @var $product Mage_Catalog_Model_Product */\n            $product = Mage::getModel('catalog/product')-&gt;load($productId);\n\n            $sku = $product-&gt;getSku();\n            $name = $product-&gt;getName();\n            $image = Mage::getBaseUrl(Mage_Core_Model_Store::URL_TYPE_MEDIA).'catalog/product'.$product-&gt;getImage();\n            $description = $product-&gt;getShortDescription();\n            $collectionDate = date('Y-m-d', strtotime($product-&gt;getCreatedAt()));\n\n            // Set lowest price and an array with sizes\n            $lowestPrice = $product-&gt;getPrice();\n            $fromPrice = $lowestPrice;\n\n            if ($product-&gt;getSpecialPrice()) {\n                //$fromPrice = $lowestPrice;\n                $lowestPrice = $product-&gt;getSpecialPrice();\n                $sale = 'Ja';\n            } else {\n                $sale = 'Nee';\n            }\n\n            echo sprintf(\"\\t&lt;product id=\\\"%s\\\"&gt;\\n\", $product-&gt;getId());\n\n                echo sprintf(\"\\t\\t&lt;name&gt;%s&lt;/name&gt;\\n\", htmlspecialchars($name, ENT_COMPAT, 'UTF-8'));\n                echo sprintf(\"\\t\\t&lt;price&gt;%s&lt;/price&gt;\\n\", number_format ($lowestPrice * 1.19, 2, '.', ''));\n                echo sprintf(\"\\t\\t&lt;productURL&gt;&lt;![CDATA[%s]]&gt;&lt;/productURL&gt;\\n\", str_replace($scriptName, '', $product-&gt;getProductUrl()));\n                echo sprintf(\"\\t\\t&lt;imageURL&gt;&lt;![CDATA[%s]]&gt;&lt;/imageURL&gt;\\n\", $image);\n                echo sprintf(\"\\t\\t&lt;description&gt;&lt;![CDATA[%s]]&gt;&lt;/description&gt;\\n\", $description);\n\n                echo \"\\t\\t&lt;additional&gt;\\n\";\n\n                    echo sprintf(\"\\t\\t\\t&lt;SKU&gt;%s&lt;/SKU&gt;\\n\", htmlspecialchars($product-&gt;getSku(), ENT_COMPAT, 'UTF-8'));\n                    //echo sprintf(\"\\t\\t\\t&lt;EAN&gt;%s&lt;/EAN&gt;\\n\", htmlspecialchars($product-&gt;getSku(), ENT_COMPAT, 'UTF-8'));\n\n                    //echo sprintf(\"\\t\\t\\t&lt;width&gt;%s&lt;/width&gt;\\n\", htmlspecialchars($product-&gt;getWidth(), ENT_COMPAT, 'UTF-8'));\n                    //echo sprintf(\"\\t\\t\\t&lt;depth&gt;%s&lt;/depth&gt;\\n\", htmlspecialchars($product-&gt;getLength(), ENT_COMPAT, 'UTF-8'));\n                    //echo sprintf(\"\\t\\t\\t&lt;height&gt;%s&lt;/height&gt;\\n\", htmlspecialchars($product-&gt;getHeight(), ENT_COMPAT, 'UTF-8'));\n\n                    echo sprintf(\"\\t\\t\\t&lt;lichtbron&gt;%s&lt;/lichtbron&gt;\\n\", htmlspecialchars($product-&gt;getLightSource(), ENT_COMPAT, 'UTF-8'));\n                    echo sprintf(\"\\t\\t\\t&lt;wattage&gt;%s&lt;/wattage&gt;\\n\", htmlspecialchars($product-&gt;getMaxWattage(), ENT_COMPAT, 'UTF-8'));\n                    echo sprintf(\"\\t\\t\\t&lt;fitting&gt;%s&lt;/fitting&gt;\\n\", htmlspecialchars($product-&gt;getSocket(), ENT_COMPAT, 'UTF-8'));\n\n                    echo sprintf(\"\\t\\t\\t&lt;designer&gt;%s&lt;/designer&gt;\\n\", htmlspecialchars($product-&gt;getAttributeText('designer'), ENT_COMPAT, 'UTF-8'));\n\n                    echo sprintf(\"\\t\\t\\t&lt;fromprice&gt;%s&lt;/fromprice&gt;\\n\", number_format($fromPrice * 1.19, 2, '.', ''));\n                    echo sprintf(\"\\t\\t\\t&lt;sale&gt;%s&lt;/sale&gt;\\n\", $sale);\n\n                    echo sprintf(\"\\t\\t\\t&lt;color&gt;%s&lt;/color&gt;\\n\", htmlspecialchars($product-&gt;getColorMaterial(), ENT_COMPAT, 'UTF-8'));\n\n                    //echo \"\\t\\t\\t&lt;deliverycost&gt;1.75&lt;/deliverycost&gt;\\n\";\n                    //echo \"\\t\\t\\t&lt;deliverytime&gt;3-4 werkdagen&lt;/deliverytime&gt;\\n\";\n                    echo sprintf(\"\\t\\t\\t&lt;collection_date&gt;%s&lt;/collection_date&gt;\\n\", $collectionDate);\n\n                    $brand = $product-&gt;getAttributeText('brand_id');\n                    echo sprintf(\"\\t\\t\\t&lt;brand&gt;%s&lt;/brand&gt;\\n\", htmlspecialchars($brand, ENT_COMPAT, 'UTF-8'));\n                    /*if (isset($brand) &amp;&amp; !empty($brand)) {\n\n                        $brandObj = Mage::getModel('aitmanufacturers/aitmanufacturers')-&gt;loadByManufacturer($brand);\n                        if (isset($brandObj)) {\n\n                            echo sprintf(\"\\t\\t\\t&lt;brand&gt;%s&lt;/brand&gt;\\n\", htmlspecialchars($brandObj-&gt;getManufacturer(), ENT_COMPAT, 'UTF-8') );\n                            echo sprintf(\"\\t\\t\\t&lt;brandURL&gt;%s&lt;/brandURL&gt;\\n\", htmlspecialchars($brandObj-&gt;getNiceUrl(), ENT_COMPAT, 'UTF-8') );\n                            unset($brandObj);\n                        }\n                    }*/\n\n                    $i = 0;\n                    //foreach ($product-&gt;getCategoryId() as $_categoryId) {\n                    if ($_categoryId = $product-&gt;getCategoryIds()) {\n\n                        /* @var $category Mage_Catalog_Model_Category */\n                        $category = Mage::getModel('catalog/category')-&gt;load($_categoryId[0]);\n                        $categories = $category-&gt;getPathIds();\n\n                        foreach ($categories as $categoryId) {\n\n                            // Skip base and default categories\n                            if ($categoryId &lt;= 2) continue;\n\n                            $category = Mage::getModel('catalog/category')-&gt;load($categoryId);\n                            $sub = str_repeat('sub_', $i);\n\n                            if ($category-&gt;getName() &amp;&amp; $category-&gt;getName() != 'Default Category') {\n                                echo sprintf(\"\\t\\t\\t&lt;%scategory&gt;%s&lt;/%scategory&gt;\\n\", $sub, htmlspecialchars($category-&gt;getName(), ENT_COMPAT, 'UTF-8'), $sub);\n                                echo sprintf(\"\\t\\t\\t&lt;%scategoryURL&gt;%s&lt;/%scategoryURL&gt;\\n\", $sub, str_replace($scriptName, '', $category-&gt;getUrl()), $sub);\n                                $i++;\n                            }\n\n                            unset($category);\n                        }\n                    }\n\n                echo \"\\t\\t&lt;/additional&gt;\\n\";\n\n            echo \"\\t&lt;/product&gt;\\n\";\n\n            fwrite($cacheFileHandler, ob_get_contents());\n            ob_clean();\n\n            unset($product);\n\n            $iterator++;\n            if (isset($maxProducts) &amp;&amp; $maxProducts &gt; 0 &amp;&amp; $iterator == $maxProducts) break;\n        }\n\n        ob_end_clean();\n        fwrite($cacheFileHandler, \"&lt;/productFeed&gt;\");\n        fclose($cacheFileHandler);\n\n        // Chmod the file\n        chmod($cacheFile, 0777);\n\n        // Eventually return the file\n        header('Content-type: text/xml; charset=UTF-8');\n        header('Content-disposition: inline; filename=feed.xml');\n        readfile($cacheFile);\n        //die(sprintf('Rendered %d products in approx. %d seconds', $iterator, (time() - $startTime)));\n        exit;\n\n    } catch(Exception $e) {\n\n        die($e-&gt;getMessage());\n    }\n}\n\nexit;\n</code></pre>\n\n<p>I know this is quite a difficult question. But i need to have this before the end of the day Friday and i spend the entire day trying this with no result.. :(</p>\n\n<p>Hope someone can help me:)</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13272474,"title":"Sending image value to second form in php","body":"<p>I have the following scenario -</p>\n\n<p>User clicks on an image to search for a particular brand vehicle. The value of that image must then go the hidden box where I will post the value returned to another form. I just can't seem to get the value returned...</p>\n\n<p>My code...</p>\n\n<pre><code>&lt;form action=\"searchbrand.php\" method=\"POST\" name=\"frmbrand\"&gt;\n &lt;!--First row of logos...--&gt;   \n &lt;table class=\"whitelogo\"&gt;\n  &lt;tr&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Alfa Romeo\" src=\"images/carlogos/alfa.jpg\" height=\"55px\" width=\"55px\" title=\"View our Alfa Romeo Selection\" alt=\"Alfa Romeo\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Aston Martin\" src=\"images/carlogos/aston.jpg\" height=\"55px\" width=\"55px\" title=\"View our Aston Martin Selection\" alt=\"Aston Martin\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Audi\" src=\"images/carlogos/audi.gif\" height=\"55px\" width=\"55px\" title=\"View our Audi Selection\" alt=\"Audi\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Bentley\" src=\"images/carlogos/bentley.jpg\" height=\"55px\" width=\"55px\" title=\"View our Bentley Selection\" alt=\"Bentley\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"BMW\" src=\"images/carlogos/bmw.gif\" height=\"55px\" width=\"55px\" title=\"View our BMW Selection\" alt=\"BMW\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n    &lt;td align=\"center\"&gt;\n        &lt;p style=\"height:5px\"&gt;&lt;/p&gt;\n        &lt;input type=\"image\" name=\"brand\" id=\"brand\" value=\"Cadillac\" src=\"images/carlogos/cadillac.jpg\" height=\"55px\" width=\"55px\" title=\"View our Cadillac Selection\" alt=\"Cadillac\" onClick=\"javascript:document.submitForm.submit();\" /&gt;\n    &lt;/td&gt;\n &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>As you will notice here I have named the images ALL 'brand' with seperate values for each.</p>\n\n<pre><code> &lt;input type=\"hidden\" name=\"hidbrand\" value=\"&lt;?=$_POST['brand'];?&gt;\"/&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>I'm trying to capture the value here from whichever image user clicked on...</p>\n\n<p>In my searchbrand.php page, which will then do stuff according to the returned value, the following...</p>\n\n<pre><code> &lt;?php\n include 'init.php';\n $vehicle_brand = $_POST['hidbrand'];\n echo $vehicle_brand, '&lt;/br&gt;';\n ?&gt;\n</code></pre>\n\n<p>Nothing gets returned, no error, no value, all blank like me :)\nAnyone have an idea where I'm going haywire?</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13273463,"title":"MySQL Query to take Stock data from one table and update LIKE data on a second table","body":"<p>Ok lets see if I can put this in words. I have 2 tables, with like data. They are meant to serve as Stock data for the rest of the system to use. One of the tables is a recent addition, and 2 columns worth of data on said table need to match the data on the other tables so I can attempt to make faster running queries. That said. The columns I need to fix have very similar data to that of the one I want it to be like. As in I could do a select query from the second table onto the first one using <code>like</code> and actually get the data I want, but I can't do that in reverse. </p>\n\n<p>So Heres what I want to know if its even possible just doing it query based. Essentially I want to run over the second table that I want 2 columns of data to match that of the one in the first table. They are varchar columns, as whats in them are just strings. But using sports I guess as an example in the first table I have:</p>\n\n<p>New York Giants</p>\n\n<p>New England Patriots</p>\n\n<p>in the Second table I have:</p>\n\n<p>Patriots</p>\n\n<p>Giants</p>\n\n<p>And while this query is going on I want to update the rows in the second column to match the data in the first table. Is this possible just query based alone or is this something I have to come up with some level of server side logic to over come?</p>\n\n<p>In one table I am working with about 4000 rows in the other I am working with 1001, not sure if that helps any but worth mentioning.</p>\n"},{"tags":["php","wordpress","search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13272934,"title":"Have wordpress search results on the same page","body":"<p>I am trying to display the results of my custom post search in the page I am currently in.   I am posting back to the same page, here's my form:</p>\n\n<pre><code>&lt;form role=\"search\" method=\"get\" id=\"searchform-conferences\" action=\"&lt;?php the_permalink();?&gt;\"&gt;\n    &lt;input type=\"text\" name=\"search\"  value=\"Enter keywords ...\" onfocus=\"if(this.value==this.defaultValue)this.value='';\" onblur=\"if(this.value=='')this.value=this.defaultValue;\"/&gt;&lt;br /&gt;\n    &lt;input type=\"hidden\" name=\"post_type\" value=\"posttypeconference\" /&gt;\n    &lt;input type=\"submit\" id=\"searchsubmit\" value=\"Search\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Yet, whenever I submit the search, it comes up with a 404 even although the page url is the same one except with the search query, i.e. <code>mydomain.com/page_where_my_search_form_is.php?search=searchterm</code></p>\n"},{"tags":["php","html","css","html5","css3"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13256143,"title":"How to create a dotted shadowy effect on an image with CSS?","body":"<p>I would like to create the effect that can be seen on the website <a href=\"http://www.murmure.me/\" rel=\"nofollow\">http://www.murmure.me/</a> when you hover on their images.</p>\n\n<p>I know They use two different images but I would like to be able to this effect without 2 images, just with ONE picture (the one without the dots) and by using CSS. Is it possible ? </p>\n"},{"tags":["php","url","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13273039,"title":"URL rewrie inside a php plugin","body":"<p>Can I dynamically rewrite an URl of a wordpress site. It is not actually a post or a page. I created a plugin and I need to push the url into the browser. \n<a href=\"http://www.signaturecarleasing.co.uk/carsearch.php?a=man&amp;man=1\" rel=\"nofollow\">http://www.signaturecarleasing.co.uk/carsearch.php?a=man&amp;man=1</a></p>\n\n<p>I have only 1 plugin page and the value of man will change according to the car manufacture. So\nsimply can I do dynamic url for web pages?</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["php","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13272775,"title":"Assign Phone Numbers to their Lables with a Regular Expression","body":"<p>I have the following text:</p>\n\n<pre><code>Main: (555) 551-0341 Pharmacy: (555) 551-4304\n</code></pre>\n\n<p>I'd like to separate this out to two variables:</p>\n\n<pre><code> $main = (555) 551-0341\n $pharm = (555) 551-4304\n</code></pre>\n\n<p>I'm not familiar with regular expressions enough to move around these words. Any help would be awesome!</p>\n"},{"tags":["php","xml","xml-parse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13218905,"title":"xml_parse quits page. No errors","body":"<p>The last couple of days I am updating a script to work with Joomla 2.5. It's almost done, but there is one thing that I haven't been able to solve yet. And it's a weird one.</p>\n\n<p>The script has a cron wich parses a affiliate XML. To do this it uses the PHP function xml_parse as seen below:</p>\n\n<pre><code>if (!($fp = @$file_function($url, 'rb'))) {\n   $this-&gt;error(\"Cannot open {$url}\");\n   return;\n}\n\nwhile (($data = fread($fp, 8192))) {\n   if ( defined ('LIBXML_BUG') ) {\n     # fix voor LIBXML BUG\n     $data=str_replace(\"&amp;\",\"XMLLIBHACK\",$data);\n    }\n    if (!xml_parse($this-&gt;parser, $data, feof($fp))) {\n\n                    printf('XML error in %s at line %d column %d',\n            $url,\n                    xml_get_current_line_number($this-&gt;parser),\n                    xml_get_current_column_number($this-&gt;parser));\n            unset ($this-&gt;items);\n     } \n}\nxml_parser_free( $this-&gt;parser );\n</code></pre>\n\n<p>As said the problem lays on the xml_parse function. On this line the whole page/script  stops working and returns only the contents written above this line. It is not returning any error while error_reporting is E_ALL and display_errors is On. When creating an error on purpose I see the error so error_reporting is working. The parser($this->parser) is created in another file. Wich is loaded(var_dumped $this->parser). </p>\n\n<p>The code where $this->parser is created (I believe this class is called MagpieRSS):</p>\n\n<pre><code>function create_parser($out_enc, $in_enc, $detect) {\n        if ( substr(phpversion(),0,1) == 5) {\n            $parser = $this-&gt;php5_create_parser($in_enc, $detect);\n        }\n        else {\n            $parser = $this-&gt;php4_create_parser($in_enc, $detect);\n        }\n        if ($out_enc) {\n            $this-&gt;encoding = $out_enc;\n            xml_parser_set_option($parser, XML_OPTION_TARGET_ENCODING, $out_enc);\n        }\n\n        return $parser;\n    }\n\n    /**\n    * Instantiate an XML parser under PHP5\n    *\n    * PHP5 will do a fine job of detecting input encoding\n    * if passed an empty string as the encoding. \n    *\n    * All hail libxml2!\n    *\n    */\n    function php5_create_parser($in_enc, $detect) {\n        // by default php5 does a fine job of detecting input encodings\n        if(!$detect &amp;&amp; $in_enc) {\n            return xml_parser_create($in_enc);\n        }\n        else {\n            return xml_parser_create('');\n        }\n    }\n\n    /**\n    * Instaniate an XML parser under PHP4\n    *\n    * Unfortunately PHP4's support for character encodings\n    * and especially XML and character encodings sucks.  As\n    * force to UTF-8 use admin settings to change this\n    */\n    function php4_create_parser($in_enc, $detect) {\n        if ( $detect ) {\n            $in_enc = 'UTF-8';\n        }\n\n       return xml_parser_create($in_enc);\n\n    }\n</code></pre>\n\n<p>I am out of ideas to solve this. I tried different encodings(ISO, UTF-8 etc.), checking the $data but everything seems file. </p>\n\n<p>An example XML file can be found here: <a href=\"http://pastebin.com/wT1pVZLQ\" rel=\"nofollow\">http://pastebin.com/wT1pVZLQ</a></p>\n"},{"tags":["php","zend-framework","smarty"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13273571,"title":"Zend Framework + Smarty for a high traffic website","body":"<p>I'm considering integrating smarty with Zend Framework for a large project. The goals I want to achieve are: increase code readability and speed up development. Zend is quite heavy on it's own plus I also use PropelORM which adds to the weight. I'm not super concerned about PHP performance as there is Alternative PHP Cache which will cache the source code however I still prefer to have a good think before adding another big library to the project. </p>\n\n<p>Do you have any experience with smarty under high traffic? Are there any issues I should be aware of?</p>\n\n<p>Thank you.</p>\n"},{"tags":["php","html","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":39,"score":1,"question_id":13273302,"title":"SQL PHP form error on line 23","body":"<p>I have been trying to write code to insert into different tables but it keeps giving me error on line 23.</p>\n\n<p>This is for a college project registration form.</p>\n\n<pre><code>&lt;?php\n\n$con = mysql_connect(\",\"\",\"\");\nif (!$con)\n{\ndie('Could not connect: ' . mysql_error());\n}\n\nmysql_select_db(\"HNDGeorgeMason\", $con);\n\n$firstname=$_POST['firstname'];\n$surname=$_POST['surname'];\n$username=$_POST['username'];\n$password=$_POST['password'];\n$address=$_POST['address'];\n$postcode=$_POST['postcode'];\n$userid=$_POST['userid'];\n$type=$_POST['type'];\n\nswitch ($_POST['type'])\n{\ncase guides\n $sql=\"INSERT INTO Guides (firstname, surname, type, username, password)\n VALUES ('$firstname', '$surname', '$type', '$username', '$password')\";\n\ncase parents\n $sql=\"INSERT INTO Parents (firstname, surn ame, type, username, password)\nVALUES ('$firstname', '$surname', '$type', '$username', '$password')\"; \n\ncase leaders\n $sql=\"INSERT INTO Leaders (firstname, surname, type, username, password)\n VALUES ('$firstname', '$surname', '$type', '$username', '$password')\"; \n}\n\n mysql_close($con);\n?&gt;\n</code></pre>\n"},{"tags":["php","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13272129,"title":"format routing symfony2 format","body":"<p>I have the routing this:</p>\n\n<pre><code>nueva_ventau:\n   pattern:  /ventau/{id}\n   defaults: { _controller: miomioBundle:Usuario:ventau, _format: pdf}\n   options:\n        expose: true\n</code></pre>\n\n<p>How could the redirect response with a format?</p>\n\n<pre><code>if ($pieces[0] == 0)//html\n    return new RedirectResponse($this-&gt;generateUrl('homepage')); ??????????????\nelse\nreturn $this-&gt;forward('miomioBundle:Venta:hello', array('id' =&gt; $venta-&gt;getId()));\n</code></pre>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13271663,"title":"Delete all but one filetype from directory using glob php","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1877524/does-glob-have-negation\">Does glob() have negation?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to delete all files from a directory (could be any number of file extentions) apart from the single index.html in there.</p>\n\n<p>I'm using:</p>\n\n<pre><code>$path = \"/assets/cache/\";\n\nforeach(glob($path .\"*.*\") as $file) {\n    unlink($file);\n}\n</code></pre>\n\n<p>But can't for the life of me how to say unlink, if not .html!</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","soap","salesforce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13271557,"title":"Salesforce: Creating OpportunityLineItems as part of the Opportunity in PHP","body":"<p>I am trying to bulk upload 'Opportunities' into Salesforce using PHP Toolkit 20.0 and the Enterprise SOAP API.</p>\n\n<p>The way I have found to do it is to create an Opportunity object and then create it in Salesforce via the SOAP API, then on the response I take the <code>Id</code> and use that for each 1..n OpportunityLineItems that exists for that Opportunity.</p>\n\n<p>This isn't very efficient as it use 2 SOAP API calls and when done in bulk uses a lot of resources and is liable to timeouts. (I do not want to reduce the amount sent in one go as the API calls are limited)</p>\n\n<p><strong>Therefore is there a way to create both the Opportunity and it's OpportunityLineItems in a single API call?</strong></p>\n\n<p>I tried the following:</p>\n\n<pre><code>$opp = new stdClass();\n$opp-&gt;Name = 'Opp1';\n$opp-&gt;StageName = 'Closed Won';\n$opp-&gt;Account = new stdClass();\n$opp-&gt;Account-&gt;Custom_ID__c = '1234';\n$opp-&gt;Pricebook2Id = '...'; \n$opp-&gt;OpportunityLineItems = array();\n$opp-&gt;OpportunityLineItems[0] = new stdClass();\n$opp-&gt;OpportunityLineItems[0]-&gt;Description = 'Product name';\n$opp-&gt;OpportunityLineItems[0]-&gt;Quantity = 1;\n$opp-&gt;OpportunityLineItems[0]-&gt;UnitPrice = 10.00;\n...\n$opp-&gt;OpportunityLineItems[n] = new stdClass();\n$opp-&gt;OpportunityLineItems[n]-&gt;Description = 'Product name';\n$opp-&gt;OpportunityLineItems[n]-&gt;Quantity = 1;\n$opp-&gt;OpportunityLineItems[n]-&gt;UnitPrice = 10.00;\n</code></pre>\n\n<p>But it resulted in:<br>\n<code>INVALID_FIELD: No such column 'OpportunityLineItems' on entity 'Opportunity'. If you are attempting to use a custom field, be sure to append the '__c' after the custom field name. Please reference your WSDL or the describe call for the appropriate names.</code><br>\nWhich was to be expected as the WSDL file states that OpportunityLineItems is of type <code>tns:QueryResult</code> rather than an <code>ens:</code></p>\n"},{"tags":["php","wordpress","plugins"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":3942893,"title":"Expertise required to create a wordpress plugin?","body":"<p>I was wondering how extensive your knowledge of php should be to write a decent wordpress plugin? Can you create a wordpress plugin with just basic knowledge and little experience with the language?</p>\n\n<p>thanks.</p>\n"},{"tags":["php","email","smtp","swiftmailer","worker"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13257114,"title":"How to close Smtp connection in SwiftMailer","body":"<p>I use SwiftMailer to send emails from a gearman worker process. I'm using the <code>Swift_SmtpTransport</code> class to send emails.</p>\n\n<p>The problem is that if this worker process stays idle for sometime, the SwiftMailer smtp connection times out. Now when the next job arrives, SwiftMailer fails to send emails as the connection has been timed out.</p>\n\n<p>Ideally, I would want to close the smtp connection after every job. I'm unable to locate a api in the class which does this specifically. Neither does <code>unset()</code> object works since this is a static class.</p>\n"},{"tags":["php","facebook-apps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13272319,"title":"Facebook open graph api action type error in FB._callbacks.__gcb2","body":"<p>I have created object and action type by using open Open graph in facebook API. When I request for a post, it is showing successful message only with my Facebook account where I create this FB web app. </p>\n\n<p>If FBlogin by any other Facebook account I have this below error:</p>\n\n<blockquote>\n  <p>/**/ FB.<em>callbacks.</em>_gcb2({\"error\":{\"message\":\"(#100) The action type\n  colorbooty:Repin does not exist or is not approved, so app\n  XXXXXXXXXXXX can only publish to administrators, developers, and\n  testers of the app.  User 100004423773779 is not one of those\n  roles.\",\"type\":\"OAuthException\",\"code\":100}});</p>\n</blockquote>\n\n<p>How I can allow it for any other Facebook users?</p>\n"},{"tags":["php","api","curl","fastcgi","plesk"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":13207937,"title":"Plesk API and cURL doesnt work","body":"<p>I have a script wich uses the Plesk API to create FTP accounts. The script worked perfectly untill we moved to new VPS at a new provider.</p>\n\n<p>The script doesnt work anymore and I get an error like this:</p>\n\n<p>cURL error number:7 cURL error:Failed to connect to xx.xx.xxx.xxx permission denied.</p>\n\n<p>It seems that cURL doesnt work. What i've tried is changing the php support from fastCGI to Apache module in PLESK and the error message is gone but the PLESK API does nothing though the load time of the page is much longer then when I'm using fastCGI so it looks like it does something.</p>\n\n<p>I also added port 8443 to the firewall for incoming and outgoing.</p>\n\n<p>I'm using PLESK 11 and my script looks like this.</p>\n\n<pre><code>// Plesk login gegevens\n$host   = \"**********\";\n$login  = \"**********\";\n$pass   = \"**********\";\n$port   = 8443;\n\n\n// Maak de FTP map aan\n$data =&lt;&lt;&lt;EOF\n&lt;packet version=\"1.6.3.5\"&gt;\n&lt;ftp-user&gt;\n&lt;add&gt;\n&lt;name&gt;John&lt;/name&gt;\n&lt;password&gt;Doe1234&lt;/password&gt;\n&lt;home&gt;/private/John_Doe/&lt;/home&gt;\n&lt;create-non-existent&gt;true&lt;/create-non-existent&gt;\n&lt;webspace-id&gt;1&lt;/webspace-id&gt;\n&lt;/add&gt;\n&lt;/ftp-user&gt;\n&lt;/packet&gt;\n\nEOF;\n\nsendCommand($data, $login, $pass, $host, $port);\n\nfunction write_callback($ch, $data) \n{\n    // echo $data;\n    return strlen($data);\n}\n\nfunction sendCommand($data, $login, $passwd, $host, $port=8443) \n{\n    echo $data;\n\n    $script = \"enterprise/control/agent.php\";\n    $url = \"https://$host:$port/$script\";\n    $headers = array(\n    \"HTTP_AUTH_LOGIN: $login\",\n    \"HTTP_AUTH_PASSWD: $passwd\",\n    \"HTTP_PRETTY_PRINT: TRUE\",\n    \"Content-Type: text/xml\",\n    );\n\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, &amp;$headers);\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_WRITEFUNCTION, 'write_callback');\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);\n    curl_setopt($ch, CURLOPT_VERBOSE, 1);\n    $result = curl_exec($ch);\n\n    if (!$result) \n    {\n         echo \"\\n\\n-------------------------\\ncURL error number:\".curl_errno($ch);\n         echo \"\\n\\ncURL error:\".curl_error($ch);\n    }\n\n    curl_close($ch);\n    return;\n}\n</code></pre>\n"},{"tags":["php","api","soap","wsdl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13250841,"title":"PHP SOAP Request for 3PL Central","body":"<p>Can anyone guide me how to make a PHP SOAP request using 3PL Central API?</p>\n\n<p>I have 3PL KEY, Login, Password, and Facility ID. The files given by the client are WSDL file, a XML Request file, a XML Response file, and a C# example, which is not helping in anyway.</p>\n\n<p>I am newbie in SOAP... so, I guess... a link to a good tutorial about PHP and SOAP would also be appreciated.</p>\n\n<p>A bundle of thanx in advance for the help.</p>\n\n<p>Regards!</p>\n"},{"tags":["php","javascript","database"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13273244,"title":"Is there a script I can use to create multiple web pages? One for each day of the year?","body":"<p>I'm creating a website that displays different content each day of the year, and includes Social buttons to share the content. </p>\n\n<p>As the social buttons are sharing the <em>content</em> and not the <em>website</em>, I figured the easiest way to do this is to create 365 different webpages and make the index page load a different one each day - but obviously I don't want to create 365 different webpages if I can help it.</p>\n\n<p>I know very little PHP, but I noticed in the Wordpress install, there seems to be a way of actually creating pages on the server. Maybe I'm wrong, but if I'm not, surely it means my problem can be solved fairly simply?</p>\n\n<p>Any help is very much appreciated.</p>\n"},{"tags":["php","session","symfony-1.4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":13248557,"title":"PHP session in Symfony","body":"<p>I have been using a php script for generating captcha for a symfony form. As the form is html and not using symfony form class I am not able to use symfony plugins. Now the issue is I am setting a session in the captcha file and this is not accessible in symfony action file. How can I make accessible here..?</p>\n\n<p>I am using the following php captcha </p>\n\n<p><a href=\"http://www.w3schools.in/php-tutorial/php-captcha/\" rel=\"nofollow\">http://www.w3schools.in/php-tutorial/php-captcha/</a></p>\n"},{"tags":["php","magento","magento-1.6"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13272862,"title":"How do I add a stock level updated date to the front end","body":"<p>I currently have the following code that displays the quantity of the product being viewed:</p>\n\n<pre><code>&lt;?php \necho intval(Mage::getModel('cataloginventory/stock_item')-&gt;loadByProduct($_product)-&gt;getQty()); \n?&gt;\n</code></pre>\n\n<p>This all works fine, but what I would like to do is get the last updated date of this Stock Quanity, is this possible?</p>\n\n<p>Thanks in advance for any help.</p>\n"},{"tags":["php","arrays","loops","foreach"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13273133,"title":"Dynamically add arrays in PHP foreach loop","body":"<p>I am trying to add new arrays to an existing array dynamically from a database but my loop is only adding the last row from mysql_fetch_row. I think it is actually overwriting the same array.</p>\n\n<p><strong>PHP Code</strong></p>\n\n<pre><code>&lt;?php\n$con = require_once('./dbconnect.php');\n\nglobal $con;\nmysql_select_db(\"packages\", $con);\n$packages = mysql_query(\"SHOW TABLES FROM packages\");\n\nwhile($row = mysql_fetch_row($packages)){\n    $node = array();\n\n    foreach($row as $key2 =&gt; $value2){\n        $node[$row[0]] = array(\"Item1\" =&gt; \"Other dynamic Info here\");\n    }\n}\n\nprint_r($node);\n\nmysql_close($con);\n?&gt;\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>Array\n(\n    [Pack1] =&gt; Array\n        (\n            [Item1] =&gt; Other dynamic Info here\n        )\n\n)\n</code></pre>\n\n<p>It should be outputting:</p>\n\n<pre><code>Array\n(\n    [Pack1] =&gt; Array\n        (\n            [Item1] =&gt; Other dynamic Info here\n        )\n\n)\nArray\n(\n    [Pack2] =&gt; Array\n        (\n            [Item2] =&gt; Other dynamic Info here\n        )\n\n)\n</code></pre>\n\n<p><strong>I have been trying to get this foreach() loop to work for about a day now...what am i doing wrong?</strong></p>\n"},{"tags":["php","isp"],"answer_count":8,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":6245,"score":4,"question_id":855967,"title":"How do I retrieve the visitor's ISP through PHP?","body":"<p>How do I find out the ISP provider of a person viewing a PHP page?</p>\n\n<p>Is it possible to use PHP to track or reveal it?</p>\n\n<p>If I use something like the following:</p>\n\n<pre><code>gethostbyaddr($_SERVER['REMOTE_ADDR']);\n</code></pre>\n\n<p>it returns my IP address, not my host name or ISP.</p>\n"},{"tags":["php","frameworks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":575,"score":0,"question_id":4462273,"title":"How to use KLogger?","body":"<p><strong>Common handler i used</strong></p>\n\n<pre><code>&lt;?php\nfunction error_msg($err_type,$err_msg,$err_file,$err_line)\n{\n$fh=fopen(\"error/errorlog.txt\",\"a\");\n$date1=date(\"Y-m-d H:i:s\");\n$er=\"\n===============================================================================================================\n\".\"\nError: Type: \".$err_type.\"Message: \".$err_msg.\"ErrorFile: \".$err_file.\"Errorline: \".$err_line.\"Time: \".$date1.\n\"\n===============================================================================================================\n\";\nfwrite($fh,$er);\nfclose($fh);\n}\nset_error_handler(\"error_msg\");\n?&gt;\n</code></pre>\n\n<p>These codes Log error perfectly. Since i am using framework i cant use this codes. so i am using KLogger. KLogger perfectly logs my error but it also display error in front screen to user.    </p>\n\n<p><strong>How to log error using KLogger If any one use this KLogger Help me how to use with simple examples.</strong></p>\n"},{"tags":["php","nginx","phpmyadmin","ubuntu-12.04"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13273145,"title":"phpMyAdmin's links will not function after viewing a table's structure","body":"<p>When any user logs into phpMyAdmin to view/edit tables, navigates to any table, and views the structure, they can no longer click on any links to navigate to any other part of phpMyAdmin until they reload the page, or open a link in a new tab / page.</p>\n\n<p>The rest of the interface works without issue, as long as you do not try to view a tables structure. As soon as you view the tables structure, the links cease to work with a normal click.</p>\n\n<p>I have no idea where to even begin with this one, let me know what code samples or logs would be helpful.</p>\n\n<p>Configuration:</p>\n\n<p>Ubuntu 12.04 (fully updated)<br>\nnginx (from Ubuntu Repo)<br>\nmysql (from Ubuntu Repo)<br>\nphp5 and mysql extensions (from Ubuntu Repo)<br>\nphpMyAdmin (from GitHub Repo)</p>\n"},{"tags":["php","curl","header"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13272900,"title":"how to send header using php curl comand line","body":"<p>I am using curl to post xml to a webservice the code is below</p>\n\n<pre><code>exec(\"/usr/bin/curl -s -m 120 -d  \\\"$xml\\\" $URL -L\", $return_message_array, $return_number);\n</code></pre>\n\n<p>I want to add this customer header to it</p>\n\n<pre><code>$headers = array(            \n        \"Content-type: application/soap+xml; charset=utf-8\",\n        \"SOAPAction: http://loantree.com/webservices/InsertLead\",\n    );\n</code></pre>\n\n<p>I have tried</p>\n\n<pre><code>exec(\"/usr/bin/curl -s -m 120 -H $headers -d  \\\"$xml\\\" $URL -L\", $return_message_array, $return_number);\n</code></pre>\n\n<p>But that just returns the page am ring to post to.</p>\n\n<p>Any one know how i can achieve this</p>\n\n<p>thanks in advance</p>\n"},{"tags":["php","smarty"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13273071,"title":"complex php site debugging with smarty: some tips required","body":"<p>I am new to smarty.\nI have to add new features to a website that was written in smarty and using some quite farmework.</p>\n\n<ul>\n<li>What would be the good practise to debug it ? to add new features ?</li>\n<li>how to know what are the php files that I should modify ? (it looks liek dozens of INLCUDE files) </li>\n</ul>\n\n<p>Any good practises to mix php and smarty ?</p>\n\n<p>regards</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":77,"score":0,"question_id":13260499,"title":"Learning how to refactor PHP code","body":"<p>I'm using PHP 5.2.9 at the very moment. Is there a way to refactor this code this way it's easier to read and better organized?</p>\n\n<pre><code>  if ($is_read_only == true) {\n      echo ($affiliate['affiliate_gender'] == 'm') ? MALE : FEMALE;\n  } elseif ($error == true) {\n      if ($entry_gender_error == true) {\n            echo tep_draw_radio_field('a_gender', 'm', $male) . '&amp;nbsp;&amp;nbsp;' . MALE . '&amp;nbsp;&amp;nbsp;' . tep_draw_radio_field('a_gender', 'f', $female) . '&amp;nbsp;&amp;nbsp;' . FEMALE . '&amp;nbsp;' . ENTRY_GENDER_ERROR;\n      } else {\n            echo ($a_gender == 'm') ? MALE : FEMALE;\n            echo tep_draw_hidden_field('a_gender');\n      }\n  } else {\n      echo tep_draw_radio_field('a_gender', 'm', $male) . '&amp;nbsp;&amp;nbsp;' . MALE . '&amp;nbsp;&amp;nbsp;' . tep_draw_radio_field('a_gender', 'f', $female) . '&amp;nbsp;&amp;nbsp;' . FEMALE . '&amp;nbsp;' . ENTRY_GENDER_TEXT;\n  }\n</code></pre>\n"},{"tags":["php","apache","aborted"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13272981,"title":"Cannot declare self-referencing constant","body":"<p>I have an error during send request to my apache server and get an Aborted response. What's the problem? </p>\n\n<p>After restart apache code works well but some times stop the process and give Aborted and I must restart apache then.</p>\n\n<blockquote>\n  <p>[Tue Nov 06 08:19:46 2012] [error] [client 37.63.173.114] PHP Fatal error:  Cannot declare self-referencing constant '(null)' in /home/sweb/project/library/Zend/File/Transfer/Adapter/Abstract.php on line 339, referer: <a href=\"http://sweb.net/uploader/\" rel=\"nofollow\">http://sweb.net/uploader/</a></p>\n</blockquote>\n"},{"tags":["php","javascript","jquery-ajax","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13215979,"title":"How can I grab data from more than one droppable element","body":"<p>In my script I'm experimenting with jquery draggable &amp; droppable, <a href=\"http://jsfiddle.net/Kxtvg/184/\" rel=\"nofollow\">See here</a>. I'm trying to grab the data (to eventually put in a database) from each draggable element that's dropped into the droppable div. Right now I have it so that I can only get the data from the div the was last dropped. </p>\n\n<pre><code>    $('#sortcard, #dropbox, #dropbox1').droppable({\n        accept: '.sorting',\n        hoverClass: 'border',\n        tolerance: 'touch',\n        drop: function(e, ui) {\n          $(this).append(ui.draggable.html() + '&lt;br/&gt;');\n          $(\"#add_friend\").show().fadeOut(12000);\n          $(e.target).droppable(\"disable\");\n          $(e.target).append(\"&lt;input type='button' name='Sub' value='clear'/&gt;\").click(function() {\n            $(this).empty().droppable(\"enable\");\n             });\n\n            var dropbox = $('#dropbox').html();\n            var dropbox1 = $('#dropbox1').html();\n\n            if(dropbox &amp;&amp; dropbox1 !== '') {\n                 $.post(\"account_main.php\", {data: $(this).text()}, function(data) {\n                    $('#demo').html(data);\n                });     \n             }\n          }\n      });\n</code></pre>\n\n<p>I'm thinking the culprit may be </p>\n\n<pre><code>{data: $(this).text()}, function(data) {\n    $('#demo').html(data);\n});     \n</code></pre>\n\n<p>I have toyed with it and still not getting the results I desire. I feel maybe my coding on this is sketchy and needs a makeover, but I just need some ideas to push me in the right direction to make it efficient and would be very appreciative as well of any tips.</p>\n"},{"tags":["php","memory"],"answer_count":5,"favorite_count":2,"up_vote_count":14,"down_vote_count":0,"view_count":6318,"score":14,"question_id":2192657,"title":"How to determine the memory footprint (size) of a variable?","body":"<p>Is there a function in PHP (or a PHP extension) to find out how much memory a given variable uses? <code>sizeof</code> just tells me the number of elements/properties.</p>\n\n<p>EDIT: <code>memory_get_usage</code> helps in that it gives me the memory size used by the <em>whole</em> script. Is there a way to do this for a single variable?</p>\n"},{"tags":["php","javascript","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13262826,"title":"How do you deal with ', single quote in person's names in php, javascript","body":"<p>I noticed that some of name entries, like O'Rourke or O'reilly breaks javascript in some cases. I wonder how you deal with it. I pull these names out of PHP/MYSQL and put them in javascript.</p>\n\n<p>Do you replace them before entering to database or after pulling out of database?</p>\n\n<p>Thanks in advance </p>\n\n<pre><code>google.load('visualization', '1', {packages:['table']});\n      google.setOnLoadCallback(drawTable);\n      function drawTable() {\n        var data = new google.visualization.DataTable();\n        data.addColumn('string', 'First Name');\n        data.addColumn('string', 'Last Name');\n        data.addColumn('string', 'email');\n        data.addColumn('string', 'Parent email 1');\n        data.addColumn('string', 'Parent email 2');\n        data.addColumn('string', 'Advisor');\n        data.addColumn('string', 'Active');\n        data.addColumn('string', 'Edit');\n        //data.addColumn('number', '');\n        data.addRows([\n     &lt;?php\n   if(count($items))\n   {\n        foreach($items as $item)\n        {\n            foreach($advisors as $key=&gt;$advisor)\n            {\n                if($item['advisor']==$advisor['id'])\n                {\n                    $ad=$advisor['last_name'];\n                }\n            }\n            $active_icon = ($item['active']=='1'?'tick':'cross');\n            $editlink = anchor('auth/admin/members/form/'.$item['id'],$this-&gt;bep_assets-&gt;icon('pencil'));\n            echo \"['\".$item['first_name'].\"', '\".$item['last_name'].\"', '\".$item['email']\n            .\"', '\".$item['parent_email1'].\"', '\".$item['parent_email2'].\"', '\".$ad.\"', '\".$this-&gt;bep_assets-&gt;icon($active_icon).\"','\".$editlink.\"'],\";\n        }\n   }\n\n    ?&gt;\n\n        ]);\n\n        var table = new google.visualization.Table(document.getElementById('table_div'));\n        table.draw(data, {showRowNumber: true, allowHtml:true});\n      }\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13272760,"title":"Do I have to loop over a mysqli-resultset if I know it's only one row?","body":"<p>I have a mysqli-resultset, which will only contain 1 row. I get the value like this at the moment:</p>\n\n<pre><code>$result = mysqli_query($link,$query)-&gt;fetch_array(MYSQLI_NUM);\n$result = $result[0];\n</code></pre>\n\n<p>Isn't there a more straight-forward way to do this?</p>\n"},{"tags":["php","sql","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":52,"score":0,"question_id":13272591,"title":"Can't fetch results of an SQL statement in PHP","body":"<p>i'm working on a search function in <strong>PHP</strong>, so i do want to be able to research any keyword in all database tables, but i can't fetch the result of the SQL statement which will do :</p>\n\n<pre><code>SELECT * FROM All_Tables\n</code></pre>\n\n<p>here's my code :</p>\n\n<pre><code>$getTables = $this-&gt;db-&gt;query(\"show tables\");\n$tmpString = '';\n\nwhile ($table_data = $getTables-&gt;fetch(PDO::FETCH_NUM))\n{\n    $tmpString.=$table_data[0].',';\n}\n\n$ALL_DATABASE_TABLES = substr($tmpString,0,strlen($tmpString)-1); //Remove the last ,\n\necho \" $ALL_DATABASE_TABLES \"; //  Works, it shows all database tables\n\n$query = \"SELECT * FROM $ALL_DATABASE_TABLES\" ; \n\n$stmt = $this-&gt;db-&gt;query($query) or die(print_r($this-&gt;db-&gt;errorInfo())) ;\n\necho \"Cool1\"; // Works\necho \"$ALL_DATABASE_TABLES \"; //Works\n\n// This Loop doesn't work-----------------------\nwhile ($row = $stmt-&gt;fetch(PDO::FETCH_NUM)) \n{\n    echo \"Cool2\"; // Doesn't work\n\n    echo \"$row[0]\" ; // Doesn't work\n}\n//----------------------------------------------\n\n$stmt-&gt;closeCursor();\n</code></pre>\n\n<p>Do you have any idea about that ? Thank you guys</p>\n"},{"tags":["php","sql-injection","sql-insert"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":46,"score":-1,"question_id":13272786,"title":"Is my script vulnerable to sql injections?","body":"<p>First thank you for reading my question.</p>\n\n<p>During this days, i saw that there are a lot of \"malicious\" url query running at my website,so i was afraid if my php script is vulnerable to sql injections.</p>\n\n<p>My url structure is: <a href=\"http://mywebsite.com/post.php?id=7573\" rel=\"nofollow\">http://mywebsite.com/post.php?id=7573</a>\nTo get all info i need from a post i use the post id from URL.</p>\n\n<p>To \"clear\" this ID i use this method:</p>\n\n<pre><code>$id = mysql_real_escape_string ($id);\n$safeID = intval(preg_replace(\"/[^0-9]/\", \"\", $id));\n$sql = \"SELECT * FROM web_content WHERE state = '1' AND ID = '$safeID'\";\n$res = mysql_query($sql) or die (mysql_error());\n$row = mysql_fetch_assoc($res);\n.........\n</code></pre>\n\n<p>Please i need to know if the safeID, that is sent to database, is really \"SAFE\".</p>\n\n<p>Thank you</p>\n"},{"tags":["php","cakephp","file-upload","cakephp-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":620,"score":2,"question_id":9637450,"title":"CakePHP multiple file upload field only uploading one image","body":"<p>I am trying to upload some files using the multiple upload file field. The POST information gets sent correctly and looks like this:</p>\n\n<pre><code>Array\n(\n    [Uploads] =&gt; Array\n        (\n            [photos] =&gt; Array\n                (\n                    [0] =&gt; Array\n                        (\n                            [name] =&gt; image - Copy - Copy.jpg\n                            [type] =&gt; image/jpeg\n                            [tmp_name] =&gt; /tmp/phpALAMwT\n                            [error] =&gt; 0\n                            [size] =&gt; 60892\n                        )\n\n                    [1] =&gt; Array\n                        (\n                            [name] =&gt; image - Copy.jpg\n                            [type] =&gt; image/jpeg\n                            [tmp_name] =&gt; /tmp/phpoIGtta\n                            [error] =&gt; 0\n                            [size] =&gt; 60892\n                        )\n\n                    [2] =&gt; Array\n                        (\n                            [name] =&gt; image.jpg\n                            [type] =&gt; image/jpeg\n                            [tmp_name] =&gt; /tmp/phpERTogu\n                            [error] =&gt; 0\n                            [size] =&gt; 60892\n                        )\n\n                )\n</code></pre>\n\n<p>And i loop through and insert each one into the database, then upload them using the ID from the database, like this:</p>\n\n<pre><code>// Upload Photos\nif (!empty($this-&gt;request-&gt;data['Uploads']['photos'][0]['tmp_name'])){\n\n    foreach($this-&gt;request-&gt;data['Uploads']['photos']as $photo){\n\n        $property_id = $this-&gt;request-&gt;data['Property']['ID'];\n        $file_name = $photo['name'];\n        $file_size = $photo['size'];\n        $file_ext = pathinfo($photo['name'], PATHINFO_EXTENSION);\n\n        // Save to DB\n        $this-&gt;Property-&gt;PropertyImage-&gt;save(array(\n            'PropertyImage' =&gt; array(\"Live\"=&gt;1, 'Number'=&gt;99, \"Type\"=&gt;'L', \"FileType\"=&gt;$file_ext, \"PropertyID\"=&gt;$property_id, 'Source'=&gt;$file_name, 'Size=&gt;'.$file_size)\n        ));\n\n        // Upload\n        $id = $this-&gt;Property-&gt;PropertyImage-&gt;getLastInsertID();\n        $path = intval($id/1000) . '/' . $id . '.' . $file_ext;\n        move_uploaded_file($photo['tmp_name'], $_SERVER['DOCUMENT_ROOT'].'/imgp/F/'.$path);\n\n    }\n}\n</code></pre>\n\n<p>But only one image gets put into the database and uploaded each time, cant work out why the look isn't working right.</p>\n\n<p>Any ideas? Thanks.</p>\n"},{"tags":["php","permutation"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13175257,"title":"Create fixed length non-repeating permutation of larger set","body":"<p>I know this topic is much discussed but I can't seem to find any implementation that fits my needs.</p>\n\n<p>I have the following set of characters:</p>\n\n<blockquote>\n  <p>a b c d e f g h</p>\n</blockquote>\n\n<p>I want to get all possible permutations or combinations (non repeating), <strong>but on a limited (variable) set of characters</strong>, meaning if I input the characters and the number <code>2</code>, the results should look like</p>\n\n<pre><code>ab ba ac ca ad da ae ea af fa ag ga ah ha\nbc cb bd db be eb bf fb bg gb bh hb\ncd dc ce ec cf fc cg gc ch hc\nde ed df fd dg gd dh hd\nef fe eg ge eh he\nfg gf fh hf\ngh hg\n</code></pre>\n\n<p>I hope you understand where I'm going with this. I currently have an implementation that gives me the permutations of <strong>all</strong> characters, but I can't wrap my head around how to implement a <strong>limited space</strong> for those permutations:</p>\n\n<pre><code>public function getPermutations($letters) {\n    if (strlen($letters) &lt; 2) {\n        return array($letters);\n    }\n\n    $permutations = array();\n    $tail = substr($letters, 1);\n\n    foreach ($this-&gt;getPermutations($tail) as $permutation) {\n        $length = strlen($permutation);\n\n        for ($i = 0; $i &lt;= $length; $i++) {\n            $permutations[] = substr($permutation, 0, $i) . $letters[0] . substr($permutation, $i);\n        }\n    }\n\n    return $permutations;\n}\n</code></pre>\n"},{"tags":["php","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13252533,"title":"What regular expression in PHP can handle backslash of internal double quotes?","body":"<p>I have data that looks literally like this:</p>\n\n<pre><code>\"manager1\": \"Richard \"Dick\" Smith, MD, MBA\",\n</code></pre>\n\n<p>But it needs to look literally like this for it to work with JSON:</p>\n\n<pre><code>\"manager1\": \"Richard \\\"Dick\\\" Smith, MD, MBA\",\n</code></pre>\n\n<p>Note: The difference are backslashes only for the internal double-quotes of the nickname of Dick, while leaving the rest of the string without changes.</p>\n\n<p>I'm having trouble dealing with the credentials (MD, MBA) separated by commas. How can this be done in PHP with regular expressions while only backslashing the internal double-quotes while preserving the rest of the string? Thanks!</p>\n\n<p>This is not a duplicate of \n<a href=\"http://stackoverflow.com/questions/13236819/how-to-fix-badly-formatted-json-in-php\">How to fix badly formatted JSON in PHP?</a> \nbecause that routine can't handle the additional commas from the credentials. </p>\n"},{"tags":["php","debugging","yii"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13252681,"title":"Tracing a PHP \"out of memory\" error","body":"<p>I'm building an application with the Yii framework and am trying to determine the cause of an out of memory error.  Is it possible to get a stack trace?  I've tried doing something like... </p>\n\n<pre><code>function handleShutdown() {\n    debug_print_backtrace();\n    $error = error_get_last();\n    $info = \"[SHUTDOWN] file:\".$error['file'].\" | ln:\".$error['line'].\" | msg:\".$error['message'] .PHP_EOL;\n    echo $info;\n}\nregister_shutdown_function('handleShutdown');\n</code></pre>\n\n<p>But the debug_print_backtrace() doesn't show anything but </p>\n\n<pre><code>#0 handleShutdown()\n[SHUTDOWN] file:C:\\Users\\bkuhl\\htdocs\\instaLabel\\yii-1.1.12\\base\\CModule.php | ln:530 | msg:Allowed memory size of 67108864 bytes exhausted (tried to allocate 65488 bytes)\n</code></pre>\n\n<p>I've checked CModule.php and there's no line number 530 in that file.  It only goes to 518.</p>\n"},{"tags":["php","apache","codeigniter","https","nginx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13271137,"title":"Codeigniter on Nginx generates https action for form, but not Apache","body":"<p>I have a Codeigniter app with a login form. I ran it both on Apache and Nginx. On Apache, everything works fine, and the form action is normal. But on Nginx, the form action uses <code>https</code> instead of <code>http</code>(which I don't want at the moment).</p>\n\n<p>I generate the form using this:</p>\n\n<pre><code>&lt;?php echo form_open(site_url('/user/do_login')); ?&gt;\n</code></pre>\n\n<p>and it produces this:</p>\n\n<pre><code>&lt;form action=\"https://example.com/index.php/user/do_login\" method=\"post\" accept-charset=\"utf-8\"&gt;\n</code></pre>\n\n<p>How can I force it to generate <code>http</code> instead of <code>https</code> on Nginx?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13272513,"title":"PHP link only passing part of a mysql result","body":"<p>OK i have a php link which is made up of several variables</p>\n\n<pre><code>&lt;a href=\\year.php? manufacturer='.$manufacturer.'&amp;fuel_type='.$fuel_type.'&amp;model_type='.$model_type.'&gt;'.$model_type.'&lt;/a&gt;\n</code></pre>\n\n<p>The whole code is really long as it has a lot of pagination, so i will just include the basic query and the loop part.</p>\n\n<pre><code>$query1 = \"SELECT Distinct model_type from $tableName where manufacturer='$manufacturer' AND fuel='$fuel_type' LIMIT $start, $limit\";\n$result = mysql_query($query1);\n</code></pre>\n\n<p>And then the bottom part where i get and show the results.</p>\n\n<pre><code> $count = 0;\n $max = 2;\n while($row = mysql_fetch_array($result))\n    {\n$model_type = $row['model_type'];               \n$count++;\necho '&lt;td class=\"manu\"&gt;&lt;div align=\"center\"&gt;'.'&lt;a href=\\year.php?    manufacturer='.$manufacturer.'&amp;fuel_type='.$fuel_type.'&amp;model_type='.$model_type.'&gt;'.$model_type.'&lt;/a&gt;'.'&lt;/div&gt;&lt;/td&gt;';\n\n if($count &gt;= $max){\n  //reset counter\n   $count = 0;\n  //end and restart\n  echo '&lt;/tr&gt;&lt;tr&gt;';\n  }\n\n  }\n</code></pre>\n\n<p>now this works fine except when i take the mode type variable from the database it shows as 1 series, however when it is passed in this link it only gets the 1 and doesn't pick up the series.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","json"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13271354,"title":"How to correct an invalid JSON in php?","body":"<p>I have a problem.\nFor a mistake I have a lot of not valid JSON strings like this:</p>\n\n<pre><code>{\n    \"d\": {\n        \"results\": [\n            {\n                \"__metadata\": {\n                    \"uri\": \"https://api.datamarket.azure.com/Data.ashx/Bing/Search/Web?Query=u0027non supporting iframesu0027&amp;Market=u0027it-ITu0027&amp;Adult=u0027Offu0027&amp;Options=u0027DisableLocationDetectionu0027&amp;WebSearchOptions=u0027DisableQueryAlterationsu0027&amp;$skip=0&amp;$top=1\",\n                    \"type\": \"WebResult\"\n                },\n                \"ID\": \"7858fc9f-6bd5-4102-a835-0fa89e9f992a\",\n                \"Title\": \"something good\",\n                \"Description\": \"something \"WRONG\" here!\",\n                \"DisplayUrl\": \"www.devx.com/Java/Article/27685/1954\",\n                \"Url\": \"http://www.devx.com/Java/Article/27685/1954\"\n            }\n        ],\n        \"__next\": \"https://api.datamarket.azure.com/Data.ashx/Bing/Search/Web?Query=u0027non%20supporting%20iframesu0027&amp;Market=u0027it-ITu0027&amp;Adult=u0027Offu0027&amp;Options=u0027DisableLocationDetectionu0027&amp;WebSearchOptions=u0027DisableQueryAlterationsu0027&amp;$skip=50\"\n    }\n}\n</code></pre>\n\n<p>As you can see the field Description contains a bad string (\" into \"), so I'm not able to parse the json using php's json_decode, infact it returns NULL.\nI've 1 million of wrong json, much more big than this (10 times).\nHow can I do in php?</p>\n"},{"tags":["php","mysql","sql"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":54,"score":1,"question_id":13270945,"title":"MySql multiple queries or temporary table?","body":"<p>I need help from a SQL guru here...</p>\n\n<p>I have data in the following format:</p>\n\n<pre><code>Key  Value\n100  A\n100  B\n300  A\n400  B\n500  A\n500  B\n500  C\n600  B\n600  W\n</code></pre>\n\n<p>If I want to find all keys with A or B and A and B, but not AB with anything else...how would I do this?  Would I need a temp table or can I somehow join the table to itself?</p>\n\n<p>EDIT:  The desired output would be Key 100 since it has A &amp; B, Key 300 since it has A, Key 400 since it has B.  Not Key 500 because it also contains a C, and not key 600 because it also contains a W</p>\n"},{"tags":["php","google","login","calendar","autologin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":11,"score":-1,"question_id":13272706,"title":"Google account auto login","body":"<p>Ok so i have been through endless pages of documentation all over the internet for the past few days and looked right through the </p>\n\n<p><a href=\"https://developers.google.com/accounts/docs/OpenID?hl=en-US\" rel=\"nofollow\">https://developers.google.com/accounts/docs/OpenID?hl=en-US</a></p>\n\n<p>and I cant find what I need.  Either I don't understand what Google is going on about or I've just completely missed the point.</p>\n\n<p>Basically my site has a Google calender.  Many different users can log into my site and see the calender but I need them all to be able to add to the calender.  </p>\n\n<p>Now its not a problem if they all use the same Google account to do it but what they have asked for is that they click a button and it automatically logs them into a certain account and opens the Google calender index page without the need for inputting credentials.</p>\n\n<p>I found a example which sends your username and password to Google's login page with a hidden field with a value ac which meant calender but I didn't save it at the time and have never been able to find it since.</p>\n\n<p>Does anyone know of a solution to my problem or even another way to implement it.  </p>\n"},{"tags":["php","mysql","database","cart","shopping"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13272617,"title":"Php code for shopping cart with pricing by weight or quantity","body":"<p>i'm building a shopping cart that selects items from a list which is pulled from the database. As the cashier selects the item, they can indicate the quantity and weight and discount if any. Some items are priced by weight whilst the others by quantity. The cart should loop all these criterias and instantly list the items in the cart, computes the total with discounts and tax. Can someone help me with this code to make it be able to calculate the pricing correctly depending on what is priced by weight or quantity and displays it in the cart also.</p>\n\n<p>Currently, I was trying to use an if statement in the for loop. Then I calculate the price and store it in a table and then fetch the value from the table and display in the cart. But the displayed value is not up to date and the calculations are mixed up sometimes.</p>\n\n<p>Code:</p>\n\n<p><pre></p>\n\n<code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=windows-1252\"&gt;\n&lt;title&gt;Customer Purchases&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;?php\n$time = time();\n\n  // Check if there is a cookie, if there isn't then redirect to login screen\n  if (!isset($_COOKIE['cookie_info'])) {\n      include (\"index.htm\");\n      exit;\n  }\n\n  // If there is a cookie, validate the cookie\n  else {\n\n      // Use Connect Script\n      include(\"connect.php\");\n\n      // Include the validation of user file\n      include(\"validateuser.php\");\n\n      // If user and password are correct\n      if (validateuser() == true) {\n\n          // Header\n          include(\"header.php\");\n          login();\n\n          // Use cookie and Extract the cookie data (Username and Password)\n          $cookie_info = explode(\"-\", $_COOKIE['cookie_info']);\n          $namecookie = $cookie_info[0];\n          $passcookie = $cookie_info[1];\n\n          // Get username from Database and it in a variable\n          $query = mysql_query(\"SELECT * FROM userdata WHERE userid = '$namecookie'\");\n          $nameuser = mysql_result($query,0,13);\n\n  // Check the level of the user\n  $checklevel = mysql_query(\"SELECT * FROM userdata WHERE userid = '$namecookie'\");\n  $checklevel1 = mysql_result($checklevel,0,14);\n\n  // If the user is staff\n  if (($checklevel1 == 2)||($checklevel1 == 1)) {\n\n          echo \"&lt;b&gt;&lt;center&gt;&lt;font face='Verdana'&gt;Customer Purchases&lt;/font&gt;&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;\";\n?&gt;\n\n&lt;body&gt;\n&lt;form action=\"customerpurchases.php\" method=\"POST\"&gt;\n&lt;table border=\"0\"  id=\"table1\" height=\"145\"&gt;\n        &lt;tr&gt;\n                &lt;td width=\"268\" height=\"33\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"33\"&gt; &lt;font face=\"Verdana\"&gt;ITEM ID:&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"187\" height=\"33\"&gt;\n                &lt;select size=\"1\" name=\"itemid\"&gt;\n&lt;?php\n  // Get all the items from the database and allow user to choose one\n  $items = mysql_query(\"SELECT * FROM items\");\n  $items1 = mysql_num_rows($items);\n  for ($x = 0; $x &lt; $items1; $x++) {\n          $itemid1= mysql_result($items,$x,0);\n?&gt;\n           &lt;option&gt;&lt;?php echo \"$itemid1\"; ?&gt; &lt;/option&gt;\n&lt;?php\n  }\n?&gt;\n                &lt;/select&gt; \n                &lt;/td&gt;\n\n                &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Quantity:&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"quantity\" value=\"1\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n         &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Weight (lb):&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"weight\" value=\"1\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Discount($):&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"discount\" value=\"\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;&lt;input type=\"hidden\" name=\"tax\" value=\"0\"/&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\" height=\"47\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"47\"&gt; &amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"47\" width=\"157\"&gt;\n &lt;input type=\"submit\" value=\"Add Item\"&gt;\n &lt;input type=\"reset\" value=\"Reset\"&gt;&lt;/form&gt; &lt;/tr&gt;\n                &lt;td height=\"47\" width=\"450\"&gt;\n                        &lt;form action=\"customerpurchases_processtransaction.php\" method=\"POST\"&gt;\n                        &lt;input type=\"submit\" value=\"Checkout\"/&gt;&lt;/form&gt;&lt;/td&gt;\n\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\" height=\"28\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"28\"&gt; &amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"28\" width=\"157\"&gt;\n                &lt;/form&gt;\n                &lt;/tr&gt;\n                &lt;td height=\"28\" width=\"450\"&gt;\n &lt;/td&gt;\n        &lt;/p&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;?php\n\n  $itemid = $_POST[\"itemid\"];\n  $quantity = $_POST[\"quantity\"];\n  $weight2 = $_POST[\"weight\"];\n  $discount = $_POST[\"discount\"];\n  $tax= $_POST[\"tax\"];\n\n  // Check that item exists in database\n  $checkitem = mysql_query(\"SELECT * FROM items WHERE itemno = '$itemid'\");\n  $checkitem1 = mysql_num_rows($checkitem);\n\n  // If there is no such item as the one typed in\n  if ($checkitem1 == 0) {\n\n      // If something was actually typing in the itemid\n      if ($itemid{1}) {\n          echo \"&lt;font face='Verdana' size='3'&gt;&lt;center&gt;No such item as $itemid&lt;BR&gt;&lt;BR&gt;\";\n      }\n  }\n\n  else {\n\n      $data = file('temp.txt'); // read the file\n\n      // If there is something in the file then use the number in the file as\n      // the table number and add the item there\n      if ($data[0]) {\n\n          // Check if the item is already in the table\n          $checkifitemexists = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n          $checkifitemexists1 = mysql_num_rows($checkifitemexists);\n\n          // If item is already in the table then add this quantity to the previous quantity\n          if ($checkifitemexists1 &gt;= 1) {\n              $oldquantity = mysql_result($checkifitemexists,0,1);\n              $newquantity = $oldquantity + $quantity;\n\n              $oldquantity11 = mysql_result($checkifitemexists,0,2);\n              $newquantity22 = $oldquantity11 + $weight2;\n\n              $oldquantity111 = mysql_result($checkifitemexists,0,3);\n              $newquantity222 = $oldquantity111 + $discount;\n\n              $oldquantity1111 = mysql_result($checkifitemexists,0,4);\n              $newquantity2222 = $oldquantity1111 + $tax;\n\n              mysql_query(\"UPDATE temp$data[0] SET quantity = '$newquantity', weight2= '$newquantity22', discount2 = '$newquantity222', tax = '$newquantity2222' WHERE itemid = '$itemid'\");\n              echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item updated: $itemid&lt;br&gt;Quantity added: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n          }\n\n          // Else insert the item into the table\n          else {\n\n\n\n\n\n\n\n\n              mysql_query(\"INSERT INTO temp$data[0] VALUES ('$itemid','$quantity','$weight2', '$discount', '$tax','0')\");\n              echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item inserted: $itemid&lt;br&gt;Quantity: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n          }\n      }\n\n      // Make a temporary table\n      else {\n\n\n\n\n\n\n      // Make a temporary table and find if there is a temp table with the same\n      // name as we are about to name it\n      for ($x = 1; $x &lt; 1000000; $x++) {\n          if (mysql_query(\"SELECT * FROM temp$x\")) {\n              $temptabledone = 0;\n          }\n          else {\n              $temptabledone = 1;\n              break;\n          }\n      }\n\n      // Check if there is a temp table done\n      if ($temptabledone == 1) {\n          mysql_query(\"CREATE TABLE temp$x (itemid VARCHAR (50), quantity INT (10), weight2 FLOAT, discount2 FLOAT, tax FLOAT, cost FLOAT)\");\n\n          // Add the temp table number to a new file\n          $filename =\"temp.txt\";\n          $handle= fopen($filename,'a');\n          $string = \"$x\";\n          fputs($handle, $string);\n          fclose($handle);\n\n          $temptabledone = 2;\n      }\n\n      // Else print a error message\n      else {\n          echo \"An error occurred.\";\n      }\n\n      // Add the item and quantity to the Temp table\n      if ($temptabledone == 2) {\n\n\n\n\n\n\n\n\n\n     // $weight2 = $weight * $quantity;\n          mysql_query(\"INSERT INTO temp$x VALUES ('$itemid','$quantity','$weight2','$discount2', '$tax', '0')\");\n          echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item inserted: $itemid&lt;br&gt;Quantity: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n\n      }\n\n      // Print the number of items in the temp table\n      $countitem = mysql_query(\"SELECT * FROM temp$x\");\n      $countitem1 = mysql_num_rows($countitem);\n\n      }\n  }\n\n  /* Print the items in the table */\n\n  $data = file('temp.txt'); // read the file\n\n  // If there is a number in the file then use that as the temp table number\n  if ($data[0]) {\n\n      // Print the items in the temp table\n      $countitem = mysql_query(\"SELECT * FROM temp$data[0]\");\n      $countitem1 = mysql_num_rows($countitem);\n      echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;There are $countitem1 items in the cart&lt;br&gt;&lt;br&gt;\";\n      echo \"\n      &lt;div align='center'&gt;\n        &lt;table border='1' id='table2' width='100%' cellspacing='0'&gt;\n                &lt;tr&gt;\n                        &lt;td width='106' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Item ID&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='348' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Description&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='92' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Quantity&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='92' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Weight&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Item Price&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Stock after Sale&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Weight after Sale&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Discount&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Price&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Tax&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Remove?&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                &lt;/tr&gt;\";\n\n      $fullcost = 0;\n\n      // Loop for all the times already in the temptable and print them out\n      for ($y = 0; $y &lt; $countitem1; $y++) {\n          for ($z = 0; $z &lt; 2; $z++) {\n              $query = mysql_query(\"SELECT * FROM temp$data[0]\");\n              $itemandquantity = mysql_result($query,$y,$z);\n             // $itemandweight = mysql_result($query,$y,$z);\n              //$query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n\n              if ($z == 0) {\n\n                  echo \"&lt;tr&gt;&lt;td width='106' align='center'&gt;&lt;font face='Verdana' size='3'&gt;$itemandquantity&lt;/font&gt;&lt;/td&gt;\";\n                  $theitemid = $itemandquantity;\n                  $itemdes = mysql_query(\"SELECT * FROM items WHERE itemno = '$itemandquantity'\");\n                  $itemdes1 = mysql_result($itemdes,0,1);\n                  echo \"&lt;td width='348' align='center'&gt;&lt;font face='Verdana'&gt;$itemdes1&lt;/font&gt;&lt;/td&gt;\";\n\n                 // $query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n              }\n\n              else {\n                  echo \"&lt;td width='92' align='center'&gt;&lt;font face='Verdana'&gt;$itemandquantity&lt;/font&gt;&lt;/td&gt;\";\n\n                  // \n                  $query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n                   $weightnn= mysql_result($query,0,2);\n\n                   // $ddvvq = mysql_result($query,$y,5);\n\n\n                  // echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$newquantity22 &lt;/font&gt;&lt;/td&gt;\";\n                  echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$weightnn&lt;/font&gt;&lt;/td&gt;\";\n\n                  $itemprice1 = mysql_result($itemdes,0,3);\n                  echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$$itemprice1&lt;/font&gt;&lt;/td&gt;\";\n\n                  // Check the stock and print either low, medium or high\n                  $checkstock = mysql_result($itemdes,0,2);\n                  if ($checkstock == 0) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Out of Stock($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt;= 1 &amp;&amp; $checkstock &lt;= 5) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Low($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt;= 6 &amp;&amp; $checkstock &lt;= 20) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Medium($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt; 20) {\n\n                    $ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;High($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n\n\n\n                   $checkweight = mysql_result($itemdes,0,4);\n                  if ($checkweight == 0) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Out of Stock($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt;= 1 &amp;&amp; $checkstock &lt;= 5) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Low($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt;= 6 &amp;&amp; $checkweight &lt;= 20) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Medium($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt; 20) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;High($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n\n                  $ddc = mysql_result($query,0,3);\n                  // $dcost= mysql_result($query,$y,5);\n\n                   $query2 = mysql_query(\"SELECT SUM(discount2) FROM temp$data[0] \");\n                   $rowc = mysql_fetch_array($query2);\n                   $ddvv = $rowc[0];\n\n                    echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$ddc&lt;/font&gt;&lt;/td&gt;\";\n\n        //$itemid = $_POST[\"itemid\"];         \n\n                   if (($_POST['itemid']=='Small Fish Soup')) {\n\n\n                  $cal = $weightnn;\n\n\n\n\n                  }\n\n\nelse \n\n        {\n                  $cal = $itemandquantity;          \n\n\n\n                  }\n\n\n\n                  $totalprice = $itemprice1*$cal;\n\n                  $bnm = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n\n              $cost = mysql_result($bnm,0,5);\n              $cow = $cost + $totalprice ;\n\n\n\n                   mysql_query(\"UPDATE temp$data[0] SET cost = '$cow' WHERE itemid = '$itemid'\");\n\n                    echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$cow&lt;/font&gt;&lt;/td&gt;\";\n\n                       $fullcost = $fullcost + $totalprice;\n                 $fullcost2 = $fullcost-$ddvv;\n                  $fulltax = 0.175*($fullcost2);\n                  $finalcost = $fulltax + $fullcost2;\n\n              $tax1 = ($totalprice-$ddc)*0.175;\n\n\n\n\n              $dcost= mysql_result($query,0,5);\n\n\n\n\n                  mysql_query(\"UPDATE temp$data[0] SET tax = '$tax1' WHERE itemid = '$itemid'\");\n\n                  echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$tax1&lt;/font&gt;&lt;/td&gt;\";\n\n                  echo \"&lt;td width='91' align='center'&gt;&lt;font face='Verdana'&gt;\n                  &lt;a href='customerpurchases_removeitem.php?itemid=$theitemid'&gt;Remove&lt;/a&gt;\n                  &lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;\";     \n\n\n              }\n          }\n\n\n      }\n\n\n\n      echo \"&lt;/table&gt;&lt;/div&gt;\";\n\n      // Print the total of all the items\n      echo \"&lt;div align='center'&gt;\n        &lt;table border='1' id='table3' width='100%' cellspacing='0'&gt;\n\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Cost:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$fullcost&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Discount:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$ddvv&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Tax:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$fulltax&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='579' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Grand Total:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$finalcost&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='71' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;/table&gt;\n      &lt;/div&gt;\";\n  }\n  }\n\n      // If user and password are not correct print error message\n      }\n      else {\n          echo \"Incorrect username/password\";\n          exit;\n      }\n  }\n?&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["php","javascript","jquery","image","resize"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13271290,"title":"Uploadify: Defining maximum image width and height","body":"<p>I want to restrict the maximum width and/or height of an uploaded image (jpg, png, gif, bmp, ...). How can this be done with Uploadify?</p>\n\n<p>I can think of two general possibilities:</p>\n\n<ul>\n<li>check the image size before upload and output an error</li>\n<li>resize image after upload</li>\n</ul>\n\n<p>How have you done this with uploadify?</p>\n\n<p>The only way now I can think of is to extend the code in <code>uploadify.php</code> and resize the image afterwards. The problem here is that different images should have different image size limits ...</p>\n"},{"tags":["php","tdd","phpunit","pear"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13269136,"title":"command not found error while running php test code in command prompt","body":"<p>I followed the site <a href=\"http://elentok.blogspot.com/2011/10/install-phpunit-on-wampserver.html\" rel=\"nofollow\">http://elentok.blogspot.com/2011/10/install-phpunit-on-wampserver.html</a> for installing PHPUnit framework for unit testing in PHP. I have downloaded both pear and PHPUnit. I have installed both of them by following the steps described in above website. That worked also. but at last, i tried to run the php program:::</p>\n\n<pre><code>class MyTest extends PHPUnit_Framework_TestCase\n{\n    public function testOneEqualsOne()\n    {\n      $this-&gt;assertEquals(1, 1);\n    }\n}\n</code></pre>\n\n<p>-> I typed the command phpunit Mytest.php in command prompt, but doesn't run. And showed the error phpunit is not recognized as internal or external command,operable program or batch file. I have tried it on c:\\wampp\\www\\myproject> . How to run this code and use PHPUnit testing framework properly? Is there anything wrong in installation? I have installed PHPUnit on wampp server. If I am wrong, please help me for installing PHPUnit and using it properly. My system is Windows 07 64-bit, and I am using wampp server.</p>\n"},{"tags":["php","apache2","vhosts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13272360,"title":"file-exists check for php's auto_prepend_file","body":"<p>I currently have the situation that in my <code>vhost.conf</code> i have an entry to automatically include a file to start profiling:</p>\n\n<pre><code>php_value auto_prepend_file /home/xhprof/include/xhprof.php\n</code></pre>\n\n<p>This thing is in SVN and might be checked out by people who don't have xhprof installed on their system. The consequence is, that <code>xhprof.php</code> is not found and PHP throws an error. </p>\n\n<p>Does anybody know, if there's a possibility to check, if this file is there, before including?</p>\n\n<p>thx in advance :)</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13272347,"title":"SQL select rows only once","body":"<p>I have table <code>pro</code> like this :</p>\n\n<pre><code>id    category   details\n1         f        weqweq\n2         m        dqweq\n3         f        xcxzc\n4         m        eqweqw\n5         f        asweq\n6         c        xzsda\n</code></pre>\n\n<p>Now if i try something like :</p>\n\n<pre><code>SELECT DISTINCT category FROM pro\n</code></pre>\n\n<p>i get only <code>m</code> and <code>c</code> </p>\n\n<p>if i try :</p>\n\n<pre><code>  SELECT category FROM pro GROUP BY category\n</code></pre>\n\n<p>i get only <code>f</code> and <code>c</code></p>\n\n<p>How i can query to get all <code>m,f,c</code> only once?!</p>\n"},{"tags":["php","editor","tinymce"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":33,"score":3,"question_id":13230707,"title":"Tiny MCE how to get a tag properties?","body":"<p>I'm using TinyMCE for text formatting. I have HTML code like:</p>\n\n<pre><code>&lt;span class=\"ps_bonus_text_wide_t\" style=\"font-family: Michroma;\"&gt;\nmy text\n&lt;/span&gt;\n</code></pre>\n\n<p>When I select that text and <code>class=\"ps_bonus_text_wide_t\"</code> i need to change it to</p>\n\n<pre><code>&lt;div class=\"effect\"&gt;\n&lt;span class=\"ps_bonus_text_wide_t\" style=\"font-family: Michroma;\"&gt;\nmy text\n&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How can I verify <code>class=\"ps_bonus_text_wide_t\"</code> ?</p>\n\n<p>My plugin code is:</p>\n\n<pre><code>// Creates a new plugin class and a custom listbox\ntinymce.create('tinymce.plugins.fonteffect', {\n    createControl: function(n, cm) {\n        switch (n) {\n            case 'fonteffect':\n                var mlb = cm.createListBox('fonteffect', {\n                     title : 'Font effects',\n                     onselect : function(v) {\n                        // n.selection.setContent(v);                            \n                         var ed=this.control_manager.editor;\n                        ed.focus();\n//to do something here\n\n                     }\n                });\n\n                // Add some values to the list box\n                mlb.add('anaglyph', 'anaglyph');\n                mlb.add('brick-sign', 'brick-sign');\n                mlb.add('canvas-print', 'canvas-print');\n                mlb.add('crackle', 'crackle');\n                mlb.add('decaying', 'decaying');\n                mlb.add('destruction', 'destruction');                  \n                // Return the new listbox instance\n                return mlb;\n        }\n\n        return null;\n    }\n});\n</code></pre>\n"},{"tags":["php","javascript","google-analytics","domdocument"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13272250,"title":"JS, PHP Dynamic Content and Google Crawlers","body":"<p>I have a series of about 25 static sites I created that share the same info and was having to change inane bits of copy here and there so i wrote this javascript so all the sites pulled the content from one location. (shortened to one example)</p>\n\n<pre><code>var dataLoc = \"&lt;?=$resourceLocation?&gt;\";\n$(\"#listOne\").load(dataLoc+\"resources.html #listTypes\");\n</code></pre>\n\n<p>When the page loads, it will find the div id listOne then replace it with the contents of the div in the file resources.html and only the contents of the div labeled listTypes there. </p>\n\n<p>My Question: Google is not crawling this dynamic content at all, I am told Google will crawl dynamically imported information so what i'm curious to find out is <strong>what it is that i am currently doing that needs to be improved?</strong></p>\n\n<p>I assumed js just was skipped by the google spider so i used PHP to access the same HTML file used before and it is working slightly, but it's not working how i need it. This will return the text, but i need the markup as well, the <code>&lt;li&gt;, &lt;p&gt;&lt;img&gt;</code> tags, and so on. Perhaps i could tweak this? (i am not a developer so I have just tried a few dozen things i read in the PHP online help and this is as close as i got) </p>\n\n<pre><code>function parseContents($divID)\n    {\n\n\n    $page = file_get_contents('content/resources.html');\n    $doc = new DOMDocument();\n\n    @$doc-&gt;loadHTML($page);\n    $divs = $doc-&gt;getElementsByTagName('div');\n\n    foreach($divs as $div) \n        {\n        if ($div-&gt;getAttribute('id') === $divID) \n            {\n            echo $div-&gt;nodeValue;\n            }\n        }\n\n\n    }\n\nparseContents('listOfStuff');\n</code></pre>\n\n<p>Thanks for your help in understanding this a little better, let me know if I need to explain it any better :)</p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13272096,"title":"Sending $data Variable From Model To View","body":"<p>Okay, so I have this snippet of code in a controller. However, it's all DB driven and should really be in model - I get that. However, as you can see in the IF statement, I need to pass along $data to my view. Based on the outcome. I tried pasting this chuck of coding in a method in my model (calling the model method via controller), however the $data[update_prompt] string is not getting called by the view...</p>\n\n<p>How would I translate this code into a model - sending the $data values back to my controller to embed in my view?</p>\n\n<pre><code>    // show appropriate upgrade message if user has free account\n\n    $id = $this-&gt;session-&gt;userdata('user_id'); \n\n    $this-&gt;db-&gt;select('subscription'); // select the subscription column\n    $this-&gt;db-&gt;where('id', $id); //find id in table that matches session id\n    $query = $this-&gt;db-&gt;get(\"subscriptions\"); // connect to this database\n    $subscribe = $query-&gt;result_array(); //returns the result of the above\n\n    if($subscribe[0]['subscription'] == 'freebie') // if subscription column equals 'freebie' in the $subscribe array, do this:\n    {\n        $data['update_prompt'] = $this -&gt; load -&gt; view('shared/upgrade_subscription', '', TRUE); // adds view within view, $update_prompt\n    }\n    else \n    {\n        $data['update_prompt'] = '';\n    }\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13272252,"title":"why does this search of a mysql database produce no results? Using LIKE for the first time","body":"<p>Editing someone else's code here, so I can't change the field in the database called <code>title</code> or change to MySQLi etc :/</p>\n\n<p>The code connects to the DB without problems, but always pulls in zero results.</p>\n\n<pre><code>$strSQL = \"SELECT * FROM newproducts WHERE 'title' LIKE ('%$q%')\";\n$sql = mysql_query($strSQL) or die(mysql_error());\n$num_rows = mysql_num_rows($sql);\n\nif ( $q == '' ) {\n    echo '&lt;p class=\"black-text\"&gt;Please provide a search term.&lt;/p&gt;';\n}\n\nelse if ( $num_rows &lt;= 0 ) {\n    echo '&lt;p class=\"black-text\"&gt;Your search for &lt;b&gt;'.$q.'&lt;/b&gt; returned &lt;b&gt;0&lt;/b&gt; results.&lt;/p&gt;';\n}\n\nelse { \n\n    echo '&lt;p class=\"black-text\"&gt;Your search for &lt;b&gt;'.$q.'&lt;/b&gt; returned &lt;b&gt;'.$num_rows.'&lt;/b&gt; result(s).&lt;br/&gt;&lt;br/&gt;';  \n    while($row = mysql_fetch_assoc($sql)) {\n        echo '- '.$row['title'].' &lt;a href=\"'.$row['link'].'.html\" class=\"search-link\"&gt;[Read more]&lt;/a&gt;&lt;br/&gt;';\n    }\n    echo '&lt;/p&gt;';\n}\n</code></pre>\n\n<p>Could it be a case issue? I've tried searching for lower and upper strings, but still zero results.</p>\n"},{"tags":["php","querypath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13271336,"title":"Querypath Extract Elements from Table","body":"<p>I'm using Querypath to extract name and location information from a table. I've been able to extract the table itself using innerhtml() but now I'm trying to gather the text into variables. Here's my code:</p>\n\n<pre><code>$searchpage = my_curl($mypage);\n$searchqp = htmlqp($searchpage,'body');\n$storeinfo = $searchqp-&gt;branch()-&gt;find('table[class=\"kwrestuls_table\"]');\n$storename = $storeinfo-&gt;innerhtml();\nreturn $storename;\n</code></pre>\n\n<p>This gives me the core information that I need. Now I need to grab the store name. I've tried using:</p>\n\n<pre><code>$storeinfo = $searchqp-&gt;branch()-&gt;find('table[class=\"kwrestuls_table\"]');\n$storestuff = $storeinfo-&gt;innerhtml();\n$storename = $storestuff-&gt;top('a[href]')-&gt;attr('href')-&gt;text();\nreturn $storename;\n</code></pre>\n\n<p>But this isn't returning anything. Unfortunately I'm on a shared host and I can't see errors but I suspect QueryPath is throwing one.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13272206,"title":"PHP Session Cookie Not Being Cleared On Browser Close","body":"<p>The following occurs on Chrome, but works perfectly on IE.</p>\n\n<p>a.php</p>\n\n<pre><code>&lt;?php\nsession_start();\n$_SESSION['name1'] = 'value1';\n</code></pre>\n\n<p>b.php</p>\n\n<pre><code>&lt;?php\nsession_start();\necho $_SESSION['name1'];\n</code></pre>\n\n<p>After running <code>a.php</code>, I closed the browser and opened a new Chrome window to run <code>b.php</code>.\nI was surprised it displayed <code>value1</code>.</p>\n\n<p>The problem is why the session is still alive when I close the browser?\nHow to fix it? I want the session being killed when the browser closed.</p>\n"},{"tags":["php","mvc","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":132,"score":1,"question_id":12477833,"title":"YII backend implementation","body":"<p>I have created frontend-backend structre following <a href=\"http://www.yiiframework.com/wiki/33/\" rel=\"nofollow\">http://www.yiiframework.com/wiki/33/</a>\nso my structure is</p>\n\n<pre><code>wwwroot/\n    index.php\n    backend.php\n    assets/\n    images/\n    js/\n    protected/\n        config/\n            main.php\n        components/\n        controllers/\n        models/\n        modules/\n        views/\n        runtime/\n        backend/\n            config/\n                main.php\n            components/\n            controllers/\n            models/\n            modules/\n            views/\n            runtime/\n</code></pre>\n\n<p>and my backend config is </p>\n\n<pre><code>$backend = dirname(dirname(__FILE__));\n$frontend = dirname($backend);\nyii::setPathOfAlias('backend',$backend);\nreturn array(\n    'basePath' =&gt; $frontend,\n    'controllerPath' =&gt; $backend.'/controllers',\n    'viewPath' =&gt; $backend.'/views',\n...\n    'import'=&gt;array(\n    'backend.modules.rights.*',\n    'backend.modules.rights.components.*',\n    'backend.models.*',\n    'backend.components.*',\n    'application.modules.user.models.*',\n    'application.modules.user.components.*',\n),...\n</code></pre>\n\n<p>Now I need to access controllers,models and views at backend from frontend\nlike <strong>backend.php/discussion</strong>\nand discussion is at protected/controllers/DiscussionController\nwhich right now only accesable from <strong>index.php/discussion</strong></p>\n\n<p>One Solution is \nset <strong>'controllerPath'=>$frontend.'/controllers'</strong>\nbut now i loose backend controllers.\nSo is there is way that when i call a controller, first it looks in backend controllers and then look in frontend controllers(in case not found in backend controllers)?</p>\n"},{"tags":["php","arrays","array-merge","strtr"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13213727,"title":"array_merge & strtr() doesn't work","body":"<p>Hi I have a problem with strtr().</p>\n\n<p>I am creating a website where users can add their emoticons, and call them inside their posts by typing in the specialcode for an emoticon.</p>\n\n<p>This is what I have done and it works to some extend:</p>\n\n<pre><code>//FETCH FROM THE DB\n\nwhile ( $row = mysql_fetch_array($fetch)) {\n$table[] = array(\n$row['shortcuttag1'] =&gt; \"&lt;img class='x' src='\" . $row['tag1smilo'] . \"' /&gt;\",\n$row['shortcuttag2'] =&gt; \"&lt;img class='x' src='\" . $row['tag2smilo'] . \"' /&gt;\",\n$row['shortcuttag3'] =&gt; \"&lt;img class='x' src='\" . $row['tag3smilo'] . \"' /&gt;\",\n$row['shortcuttag4'] =&gt; \"&lt;img class='x' src='\" . $row['tag4smilo'] . \"' /&gt;\",\n$row['shortcuttag5'] =&gt; \"&lt;img class='x' src='\" . $row['tag5smilo'] . \"' /&gt;\"\n);\n</code></pre>\n\n<p>This creates a multidimensional array with emoticons uploaded by one user.</p>\n\n<p>Then when I use </p>\n\n<pre><code>strtr($txt,$table[0])\n</code></pre>\n\n<p>it works with the array[0] and the other\nbut I want to change special code to emoticons that are located around in all the subarrays.</p>\n\n<p>Therefore what I have done is </p>\n\n<pre><code>$oneDim = call_user_func_array('array_merge',$table);\n</code></pre>\n\n<p>To merge the array and I got the one dimensional array with all SpecialCode => Image fields.</p>\n\n<p>But the </p>\n\n<pre><code>strtr($txt,$oneDim) \n</code></pre>\n\n<p>stopped working with that, it is not showing anything.</p>\n\n<p>I am worried because I have tried few different ways to merge the array except <code>call_user_func_array()</code> and it gives the same result.</p>\n\n<p>Maybe there is someone that could help me with that I will be very grateful.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","string","variables","input"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":13271969,"title":"How to assign input string as a variable","body":"<p>I don't know what it calls technically but here what I am trying achieve where user can insert one define word as a string from form text input than it should replace with defined variable.</p>\n\n<p>Example:</p>\n\n<pre><code>$username = myfunction();\n</code></pre>\n\n<p>Now I want allow to user to enter one defined word like <code>username</code> in input field which will replace with $username variable.</p>\n\n<p>So I want to use it for like <code>Contact to '.$username.'</code> So user can enter and change $username placement with that string keyword and they can play like <code>$username .'info'</code> etc.</p>\n\n<p>Hope I explained properly and not in funny way.</p>\n"},{"tags":["php","windows","apache","upload","windows-xp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13272231,"title":"How to safely prevent uploaded file from being run via PHP on any server?","body":"<p>I noticed that it's possible to run a file via PHP even if its extension wasn't <code>.php</code>, for example file <code>test.xyz.php.whatever.zyx</code> can be still run with PHP even when the extension isn't <code>.php</code> ! It just happens to have <code>.php.</code> in anywhere the filename, and that's enough for my Apache to run the PHP script.</p>\n\n<p>I tried (as someone suggested) to put this in a <code>.htaccess</code> file on that folder:</p>\n\n<pre><code>php_flag engine off\n</code></pre>\n\n<p>But it didn't work on my machine.</p>\n\n<p>The only solutions I know for now are:</p>\n\n<ul>\n<li>Rename to known file extension, which is not run via PHP, such as <code>.txt</code>.</li>\n<li>Remove all dots from the filename, thus making it extensionless.</li>\n</ul>\n\n<p>But I'm still not sure how these solutions would work on other servers than my Windows server (with Apache).</p>\n\n<p>Is there any other solutions which doesn't need the filenames to be renamed in any way?</p>\n"},{"tags":["php","linux","ffmpeg","watermark"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13271099,"title":"unrecognized option '-vf' in ffmpeg","body":"<p>I am running this command </p>\n\n<pre><code>ffmpeg -i \"video_in.mp4\" -vf \"movie=watermark.png [watermark]; [in][watermark] overlay=main_w/2-overlay_w/2:main_h/2-overlay_h/2 [out]\" outputvideo.mp4\n</code></pre>\n\n<p>also tried</p>\n\n<pre><code>/usr/local/bin/ffmpeg -i \"video_in.mp4\" -vf \"movie=watermark.png [watermark]; [in][watermark] overlay=main_w/2-overlay_w/2:main_h/2-overlay_h/2 [out]\" outputvideo.mp4\n</code></pre>\n\n<p><strong>Error</strong> : unrecognized option '-vf' in ffmpeg</p>\n"},{"tags":["php","javascript","drop-down-menu"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13270699,"title":"Drop-down menu based on the selection of radio button","body":"<p>I have four radio buttons and I would like to get the drop-down menu based on the selected radio button. Is it best if I just write all those drop-downs ready and display them based on the selection or is there a way to do it with ajax (because the drop-down values are coming from database) ?\nHere are the radio buttons:</p>\n\n<pre><code>&lt;input type=\"radio\" name=\"some\" value=\"someValue1\"&gt;\n&lt;input type=\"radio\" name=\"some\" value=\"someValue2\"&gt;\n&lt;input type=\"radio\" name=\"some\" value=\"someValue3\"&gt;\n&lt;input type=\"radio\" name=\"some\" value=\"someValue4\"&gt;\n</code></pre>\n\n<p>Here is the drop-down:</p>\n\n<pre><code>&lt;select name=\"reason\"&gt;\n&lt;?php\n$data = WorkReason::all();\nforeach ($data as $d) {\n?&gt;\n &lt;option value=\"&lt;?php echo $d-&gt;code; ?&gt;\"&gt;&lt;?php echo $d-&gt;reason; ?&gt;&lt;/option&gt;\n&lt;?php\n}\n?&gt;\n&lt;/select&gt; \n</code></pre>\n\n<p>I am using php ActiveRecords to get the values from database.\nSo if anybody knows a good way of doing this I would appreciate some help.</p>\n"},{"tags":["php","mysql","search","sphinx"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13271656,"title":"Sphinx search sql_attr_multi - where condition","body":"<p>I need to set an index.</p>\n\n<p>sql_attr_multi = uint categories from query; SELECT item_id, category_id FROM connections WHERE value=2</p>\n\n<p>It works fine If I set the value static.</p>\n\n<p>That value is a variable so I want to assign it through a filter but it doesn`t work because I want to filter \"sql_attr_multi\" not the $sql.</p>\n\n<p>$cl->setFilter(\"value\", array(2));</p>\n\n<p>Thanks</p>\n"},{"tags":["php","ajax","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":248,"score":0,"question_id":11912332,"title":"Can you refine my routes and ajax requests?(php/laravel)","body":"<p>I am a newbie laravel user and tried to write my code with tutorials and docs.\nWhen I try to open the site a loading animation occurs and after that, the menu and contentt split  into either side of the page.\nI want only to change content division   when I click menu buttons. </p>\n\n<p>These are my routes.php:</p>\n\n<pre><code>Route::controller(Controller::detect());\nRoute::get('articles', array('uses'=&gt;'articles@index'));\nRoute::get('articles/(:any)', array('as'=&gt;'article','uses'=&gt;'articles@view'));\nRoute::get('abouts', array('as'=&gt;'abouts','uses'=&gt;'abouts@index'));\n</code></pre>\n\n<p>This is my  default.blade.php menu part:</p>\n\n<pre><code>&lt;div id=\"sidebar-content\"&gt;\n   &lt;ul id=\"menu\"&gt;\n   &lt;li class=\"current\"&gt;&lt;a href=\"&lt;?php echo URL::to('articles'); ?&gt;\"&gt;ANASAYFA&lt;/a&gt;&lt;/li&gt;\n   &lt;li&gt;&lt;a href=\"&lt;?php echo URL::to('abouts'); ?&gt;\"&gt;HAKKIMIZDA&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>Are the links correct here ?</p>\n\n<p>My ajax.js </p>\n\n<pre><code>$(document).ready( function() {\n$(\"#sidebar-content ul li a\").click( function(e){\n     e.preventDefault();\n     $('#content').load(this.href);\n     console.log('This href =='+this.href);\n     return false;\n});\n});\n</code></pre>\n\n<p>When I click links, I get a loading animation and the content is not shown.<br>\nThis is my articles controller :</p>\n\n<pre><code>class Articles_Controller extends Base_Controller {\n\n            public $restful = true;\n            public $layout = 'layouts.default';\n\n         public function get_index(){\n             $this-&gt;layout-&gt;title = \"Anasayfa\";\n             $this-&gt;layout-&gt;content = View::make('articles.index')\n             -&gt;with('articles',Article::order_by('id')-&gt;get());\n         }\n</code></pre>\n\n<p>These are the console.logs :</p>\n\n<pre><code>GET http://localhost/~ytsejam/laravel/public/index.php/abouts  jquery.min.js (line 4)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts   ajax.js (line 6)\nGET http://localhost/~ytsejam/laravel/public/js/basic.js?_=13446   jquery.min.js (line 4)\nGET http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 5)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts ajax.js (line 6)\nGET http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 5)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 7)\n</code></pre>\n\n<p>Can you help me?</p>\n"},{"tags":["php","ical"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13270816,"title":"Ical sync dynamically with google calender","body":"<p>I have created iCal event by using iCalcreator. I want to make the google calendar so that it syncs automatically. I can create the .ical file that I will be importing or adding by URL. After I login into Gmail it is working. How can I make my events to automatically add to calendar by using the URL dynamically?</p>\n"},{"tags":["php","phpmailer","dompdf"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13209415,"title":"How do I attach a generated pdf by dompdf and mail it in phpmailer?","body":"<p>I'm using dompdf to genearate a pdf and I need to attach it to phpmailer and mail it.\nHelp would be gladly appreciated.</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\nrequire_once(\"../../dompdf/dompdf_config.inc.php\");\n\n$templateFile = 'prog_report.php';\n$content = file_get_contents($templateFile);\n$dompdf = new DOMPDF();\n$dompdf-&gt;load_html($content);\n\n$dompdf-&gt;render();\n$dompdf-&gt;stream(\"sample.pdf\");\n\n?&gt;\n</code></pre>\n\n<p>and this is the phpmailer attachement moudule..</p>\n\n<pre><code>$mail-&gt;AddAttachment(\"images/phpmailer.gif\");\n</code></pre>\n\n<p>I want to attach the generated pdf here and the pdf should not be saved on the hard disk drive.</p>\n"},{"tags":["c#","java","php","website","interop"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":70,"score":4,"question_id":13271772,"title":"How does PHP website communicate with Java and C# programs efficiently","body":"<p>I have a website written in PHP, the website accepts code snippets written in different programming languages (Java and C#) and perform some static analysis and returns the results to the user. I already wrote different analyzers for Java and C# respectively. The Java analyzer is written in Java; the C# analyzer is written in C#. </p>\n\n<p>My problem is how the PHP website can communicate with those analyzers written in different languages in an efficient way. That is: when the PHP website receives some Java code, it can invokes the Java analyzer, etc. I can of course use PHPâs exec to launch the analyzer process, but that is too slow.</p>\n"},{"tags":["php","fuelcms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":82,"score":-2,"question_id":11721918,"title":"Turkish characters blocks admin panel in Codeigniter(FUEL_CMS)","body":"<p>I am writing a site with fuel_cms(content management system)  . My problem is that when i use turkish characters like \"Ä±,Ã¶\" in the edit panels,  admin panel does not view the text after editing. Is there anyway to make fuel-php. accept turkish special characters in?  </p>\n\n<p>edit : I had some mails with the creators of fuel cms. Even the admin panel links does not work with some turkish characters . We could not find a solution. </p>\n"},{"tags":["php","class"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13271472,"title":"Optimal way to handle \"return\"?","body":"<p>I need an advice how to handle function with lots of different return's better. <br />\nI have this simple log in function in my class:</p>\n\n<pre><code>public function login($email, $password){\n\n$record = // Go to database and find what we need.\n\nif($record){\n   // Check pass, $user_match = TRUE;\n} else {\n   return 1;         //No such user. Please register!\n}\n\n$active = (1 == $record['is_active']) ? TRUE : FALSE;\n$verified = (1 == $record['is_verified']) ? TRUE : FALSE;\n\n//User email and password matched:\nif($user_match == true){\n   if($verified === true){\n       // Start session and insert to db table \"online_users\"\n   // Check that user was inserted to table: $confirm = $stmt-&gt;rowCount();\n\n         if($confirm !== 1){\n           return 2; //Unexpected technical error. Please try again in a moment.\n         }\n\n       return 0;     //0 means that all clear, we good to go.\n\n       } else {\n           return 3; //not verified\n       }\n    } else {\n        return 4;    // no match with email and pass, reject!\n    }\n}\n</code></pre>\n\n<p>The problem is, that now all the time I need to check all return's, something like that:</p>\n\n<pre><code>$log = $user-&gt;login($_POST['email'], $_POST['pass']);\nif($log === 0) {\n    //Log in &amp; edirect\n} elseif ($log === 1) {\n    //No such user. Tell to register\n} elseif($log === 2){\n    //technical error, try again\n} elseif($log === 3){\n    //Not verified\n} elseif($log === 4){\n    //wrong password\n</code></pre>\n\n<p>It's really annoying right now, and imagine if I would need to check like 20 return's? Is there any better way? How to do it more efficient and faster?<br />\nThanks in advance.</p>\n"},{"tags":["php","android","service","mqtt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13235477,"title":"how to set up android mqtt push server","body":"<p>I install xampp-v9   on Windows7 platform   ,android open sql  apache ,and   install  mqtt broker ,sure mqtt service  is  opened,use    mqtt php  manager server  ,when  i  run ,just show   as  follos</p>\n\n<p>Tokudu Android Push Demo\nServer status: connect(SAM_MQTT, array(SAM_HOST => '127.0.0.1', SAM_PORT => 1883)); if ($result) { $conn->disconnect(); print_r(\"Online\"); } else { print_r(\"Offline\"); } ?> </p>\n\n<p>so   why?</p>\n"},{"tags":["php","function","if-statement"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13271960,"title":"Order of items in compare","body":"<p>I was reading PHP's Array man and I saw this:</p>\n\n<pre><code>&lt;?php\n// fill an array with all items from a directory\n$handle = opendir('.');\nwhile (false !== ($file = readdir($handle))) {\n    $files[] = $file;\n}\nclosedir($handle); \n?&gt;\n</code></pre>\n\n<p>In the readdir man page, it says \"Correctly way of looping\".</p>\n\n<p>I'd like to know if there's a difference between <code>X !== false</code> and <code>false !== X</code>. Thanks!</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":13257076,"title":"Regex pattern to match emails inline reply heading","body":"<p>I'm having a little trouble figuring out the pattern to identify the beginning of inline replies/forwards in an email body, there are some easier ones that simply begin with something like \"Begin forwarded message\" but the replies are a little more complicated:</p>\n\n<pre><code>On 12-06-13 10:56 AM, \"John Doe\" &lt;john.doe@some.tld&gt; wrote:\n</code></pre>\n\n<p>Obviously the constants will be \"On\" and \"wrote:\".  I'd like to be able to find only the first match and then either wrap everything after it in a div with display:none applied or even just eliminate it using substr($body,0, POSITION_OF_MATCH).  </p>\n\n<p>One of the issues I'm having is that it's not catching the FIRST occurrence, and second is that I can't get the greediness to work properly.</p>\n\n<p>My progress (having fallen back to at least a partially working version) so far is:</p>\n\n<pre><code>preg_match(\"/On [^&gt;]* wrote:/i\",$content,$matches,PREG_OFFSET_CAPTURE);\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["php","sugarcrm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12295067,"title":"'mass update' option in subpannel(in detailview) in sugarCRM","body":"<p>I have to make 'mass update' option in subpannel(in detailview) just like it is in listview(by default).\nI have searched alot from sugar-forum and all possible links but found nothing helpful. Can anyone help how to use default include/massupdate.php or listview etc to accomplish this.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13271644,"title":"Pass mysqli object to class","body":"<p>I want to pass a mysqli object to a class. I create the object in one file:</p>\n\n<pre><code>$host = 'host';\n$user = 'username';\n$pw = 'pw';\n$db = 'db';\n\n$link = new mysqli($host,$user,$pw,$db);\n</code></pre>\n\n<p>which is included in one page:</p>\n\n<pre><code>include 'php/mysql.php';\ninclude 'php/classes/Class.Dataconnector.php';\n$dc = new Dataconnector($link);\n</code></pre>\n\n<p>and the class looks like this:</p>\n\n<pre><code>class Dataconnector {\n    protected $_link;\n    protected $_stub;\n\n    function __construct(mysqli $link) {\n        $_link = $link;\n    }\n\n    public function getPageContent($stub) {\n        $query = \"select * from contents where pageId = (select id from pages where stub = '$stub')\";\n        $result = mysqli_query($_link,$query);\n        return $result;\n    }\n}\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>Warning: mysqli_query() expects parameter 1 to be mysqli, null given in \\php\\classes\\Class.Dataconnector.php on line 18\n</code></pre>\n\n<p>What is wrong ?</p>\n"},{"tags":["php","optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13271532,"title":"Could this php-iteration be written any shorter/better?","body":"<p>The code works perfect, but since I'm repeating myself (which I like to avoid while programming), I was wondering if this could be written any shorter/better?</p>\n\n<pre><code>$start = getLocaleDate($item[0]['start_day']);\n$start = $start['day_int'] . ' ' . $start['month_string'];\nif ($item[0]['start_houre'] !== '00:00:00') {\n    $houre = stripLeadingZero(substr($item[0]['start_houre'], 0, 2));\n    $minute = substr($item[0]['start_houre'], 3, 2);\n    $start .= ' at' . $houre . 'u' . $minute;\n}\n\n$end = getLocaleDate($item[0]['end_day']);\n$end = $end['day_int'] . ' ' . $end['month_string'];\nif ($item[0]['end_houre'] !== '00:00:00') {\n    $houre = stripLeadingZero(substr($item[0]['end_houre'], 0, 2));\n    $minute = substr($item[0]['end_houre'], 3, 2);\n    $end .= ' at' . $houre . 'u' . $minute;\n}\n</code></pre>\n"},{"tags":["php","json","json-decode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4,"score":0,"question_id":13271402,"title":"Sending Data via curl json only require specific response data back","body":"<p>I'm sending some data via curl as json_encode from php to a .net server.\nAll of above working fine and I get result back like this.</p>\n\n<pre><code>HTTP/1.1 201 Created \nCache-Control: private \nContent-Type: application/json; charset=utf-8 \nServer: Microsoft-IIS/7.5 \nX-AspNetMvc-Version: 3.0 \nX-AspNet-Version: 4.0.30319 \nX-Powered-By: ASP.NET \nDate: Wed, 07 Nov 2012 13:15:43 GMT \nContent-Length: 205 {\"BetId\":166312,\"Description\":\"Your Prediction: UK222222. Your Code: 0073CN98914. Winners will be notified by on Monday. Keep your code safe. Good Luck!\",\"SerialNumber\":\"0073CN98914\"}\n</code></pre>\n\n<p>I know they sending back json format. I tried json_decode just to grab the data in {} back into a php array.</p>\n\n<p>BUT, what I really only want and need is the SerialNumber. Currently I'm just dumping it all into a MySQL table.</p>\n\n<p>Please advise how to just get SerialNumber.</p>\n\n<p>I'm using curl json example found on stackoverflow and it works great.</p>\n"},{"tags":["php","symfony2","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":11642157,"title":"Doctrine preUpdate Listener not setting field values in database","body":"<p>I have this code</p>\n\n<pre><code>public function preUpdate(PreUpdateEventArgs $args)\n{\n    $entity = $args-&gt;getEntity();\n    $em = $args-&gt;getEntityManager();\n    $uow = $em-&gt;getUnitOfWork();\n    $args-&gt;isActive = false;\n\n    $meta = $em-&gt;getClassMetadata(get_class($entity));\n    $uow-&gt;recomputeSingleEntityChangeSet($meta, $entity);\n}\n</code></pre>\n\n<p>I tried many times but its not updating the field.</p>\n"},{"tags":["php","oop","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13271617,"title":"What is the state of numerical fields[properties] in PHP","body":"<p>I am initially creating an object:</p>\n\n<pre><code>car{gearNumber,tyres}\n</code></pre>\n\n<p>Where the gearNumber, and tyres are car properties... and save it in database(mysql) without assigning any value to gearNumber, and tyres.</p>\n\n<p>When I fetch the car object and try to increase the gear number nothing happens..the work around  would be to set default values(<code>0</code>) on object creation but I dont want to go back again to edit the car class since somehow php assign value on the fly...</p>\n"},{"tags":["php","html","radio-button","survey"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":47,"score":-4,"question_id":13271554,"title":"How to put radio button values in database?","body":"<p>I have to make a website for school and one of the tasks is to make a survey that storage values of radio buttons into a database and afterwards the user can get the values back from the database? </p>\n\n<p>I want to use PHP to do this, can anyone help me please?\nThanks!</p>\n"},{"tags":["php","html","drupal","css3","drupal-7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13270243,"title":"Use two databases to synchronise users in drupal 7","body":"<p>I am working on magazine site in drupal 7 and it already has a forum site that is linked up with a menu link.This forum site is in core php and i am working in drupal 7 now have to fetch all the records from forum database and to save all of them into drupal users table.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mysql","arrays"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13254645,"title":"how to reoraganize the code bellow to be a dynamic one?","body":"<p>I'm trying to do a web application with php and MySQL that can graph the estimate effort of a person based on the data stored in the data base</p>\n\n<pre><code>$luna_start = date('n',  strtotime($row_task['data_i']));\n$luna_end   = date('n',  strtotime($row_task['data_s']));\n$luna_curenta=$luna_start;\n$ultimazi_luna_curenta=  cal_days_in_month(CAL_GREGORIAN, $luna_curenta,\"2012\");\nwhile ($luna_curenta&lt;=$luna_end){\n//construieste vectorul\n    for ($i = 1; $i &lt;= $ultimazi_luna_curenta; $i++) {\n        $data_curenta=  date(\"Y-m-d\", mktime(0, 0, 0, $luna_curenta, $i, 2012));\n        if (($data_curenta&gt;=$row_task['data_i'])&amp;&amp;($data_curenta&lt;=$row_task['data_s'])){\n            $efort_a['a'.$row_task['task_id']][$data_curenta]=$efort_mediu;\n        }\n    }\n$luna_curenta++;\n}\n</code></pre>\n\n<p>all that trouble for getting an array so that i can graph. the array $efort_a looks like this:</p>\n\n<pre><code>Array(\n   [a19] =&gt; Array(\n        [2012-09-20] =&gt; 2.84\n        [2012-09-21] =&gt; 2.84\n       .......\n        [2012-10-21] =&gt; 2.84\n        [2012-10-22] =&gt; 2.84\n    )\n\n[a22] =&gt; Array\n    (\n        [2012-10-01] =&gt; 0.1\n        [2012-10-02] =&gt; 0.1\n       .....\n        [2012-11-05] =&gt; 0.1\n        [2012-11-06] =&gt; 0.1\n        [2012-11-07] =&gt; 0.1\n      ......\n        [2012-11-25] =&gt; 0.1\n      ......\n        [2012-11-30] =&gt; 0.1\n    )\n\n[a16] =&gt; Array\n    (\n        [2012-10-08] =&gt; 4\n        [2012-10-09] =&gt; 4\n        [2012-10-10] =&gt; 4\n        [2012-10-11] =&gt; 4\n       ......\n        [2012-10-18] =&gt; 4\n        [2012-10-19] =&gt; 4\n    )\n\n)\n</code></pre>\n\n<p>further more I'm doing a little more array processing.</p>\n\n<pre><code>extract($efort_a);\n$graf_data=  array_add($a19,$a22,$a16);\n$data = new GoogleChartData($graf_data);\n$chart-&gt;addData($data);\n</code></pre>\n\n<p>the problem with all this code is that it isn't a dynamic one. the arrays a19, a22, a16 are named statically and in this particular case the user had only 3 tasks (task id 19, 22 and 16) ... but what if the user has multiple tasks ?.</p>\n\n<ol>\n<li>so the questions is can this code be reorganized, maybe as a function i don't know how, to be a dynamic one ?</li>\n<li>could it be possible to do a function that graph's all the users effort (one graph, multiple lines- one for each user)</li>\n</ol>\n\n<p>ps: the function to do the adding of arrays based on keys is:</p>\n\n<pre><code> function array_add($a1, $a2) {\n            // adds the values at identical keys together\n            $aRes = $a1;\n            foreach (array_slice(func_get_args(), 1) as $aRay) {\n              foreach (array_intersect_key($aRay, $aRes) as $key =&gt; $val) $aRes[$key] += $val;\n              $aRes += $aRay; \n             }\n            return $aRes;\n    }\n</code></pre>\n\n<p>========================================= day 2 =======================</p>\n\n<p>after some thinking i thought to give another try... so in order to name the keys of array effort_a dynamically i need to know where to stop with the incrementation so :</p>\n\n<pre><code>$sql_nrtask='SELECT *, COUNT(user) AS nr_task\n                FROM task\n                WHERE user=\"ASD\"\n                ORDER BY data_i ASC\n               ';\n    $query_nrtask=  mysql_query($sql_nrtask) or die ('rrr');\n    while ($row_nrtask=  mysql_fetch_array($query_nrtask)) {\n        $nr_task=$row_nrtask['nr_task']; // no we know how many sub-arrays we'll have\n    }\nfor ($j++;$j&lt;=$nr_task;$j++){\nwhile ($luna_curenta&lt;=$luna_end){\n            //construieste vectorul\n            for ($i = 1; $i &lt;= $ultimazi_luna_curenta; $i++) {\n                $data_curenta=  date(\"Y-m-d\", mktime(0, 0, 0, $luna_curenta, $i, 2012));\n                if (($data_curenta&gt;=$row_task['data_i'])&amp;&amp;($data_curenta&lt;=$row_task['data_s'])){\n                    $efort_a['$a'.$j][$data_curenta]=$efort_mediu;\n                }\n            }\n            $luna_curenta++;\n        }\n}     \n</code></pre>\n\n<p>the problem is know that i don't know hot to merge the arrays within $efort_a with 2 conditions:</p>\n\n<ul>\n<li>keeping indexes where they are the same and adding values </li>\n<li>adding a new index where it is a new element </li>\n</ul>\n"},{"tags":["php","osx-mountain-lion","apache2.2","oci8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":13071768,"title":"How to install the OCI8 PHP extension on Mac OS X 10.8 Mountain Lion","body":"<p>I need to use the OCI8 module for PHP on Mountain Lion which will use the oracle instant client, which is currently only supported as 32 bit.</p>\n\n<p>I have installed the 32bit version of the oracle instant client and tested it with sqlplus and all seems well.</p>\n\n<p>Now however I need to get the PHP extension OCI8 working, which has led me to build a 32 bit PHP module for apache with homebrew. Again this seems to be working but as I understand it this will now require a 32 bit build of Apache, the built-in version seems to be 64 bit only. I can't work out how to build Apache as 32 bit and I'm not even certain this is required so am at somewhat of a loss. Any help much appreciated\nAlastair</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>For now I have abandoned a native install in favour of virtualised development using Vagrant and Ubuntu: <a href=\"https://github.com/afhole/vagrant-lamp\" rel=\"nofollow\">https://github.com/afhole/vagrant-lamp</a></p>\n"},{"tags":["php","symfony2","doctrine2","querybuilder"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12436312,"title":"I need to put SQL native in query Builder Doctrine2","body":"<p>i need to work with SQL NATIVE in query Builder doctrine 2 for using SQL Function (CONCAT,REPLACE,LDAP) . please Help me.</p>\n"},{"tags":["php","custom-exceptions"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13271555,"title":"bubling up the exceptions in PHP?","body":"<p>Supposing I have this scenario:</p>\n\n<pre><code>function1() call to function2(), and function2() call to function3().\n</code></pre>\n\n<p>if function3() throws an exception, can I capture the exception from function1()?</p>\n\n<p>And in the case in which maybe, some of these functions is in a different class?, can I continue capturing from function1?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13263361,"title":"PHP Session not holding values","body":"<p>After a good few hours of looking at posts and different forums I finally give up.\nI have been learning PHP for the last 24 hours by trying to create a registration and a login page.\nRegistration seems to be working (I am sure that there are some bugs etc, but as of right now everything seems to be in sql).\nAs far as my login page, this is where I am having some problems.</p>\n\n<p>Here's my edited login page:</p>\n\n<pre><code>error_reporting(E_ALL);\nini_set('display_errors', '1');\n\n// if the form has been submitted\n$errorMsg = \"\";\nif (($_POST['username']) &amp;&amp; ($_POST['password'])){\n\n    include_once('db_connect.php');\n    $username = mysql_real_escape_string($_POST['username']);\n    $password = mysql_real_escape_string($_POST['password']); \n    $hashedPass = md5($password);\n    var_dump($username, $password);\n\n    $sql = \"SELECT username,password FROM members WHERE username ='$username' AND password = '$hashedPass'\";\n    $login_check = mysql_query($sql);\n\n        $count = mysql_num_rows($login_check);\n        $row = mysql_fetch_array($sql);\n        if($count==1)\n            {\n                session_start();\n                $id = $row['id'];\n               // include_once('session.php');\n                $_SESSION['id'] = $id; \n               // $username = $row['username'];  \n                $_SESSION['username'] = $username;\n                header(\"location: member_profile.php?id=$id\");\n                exit();\n                } else {\n                    echo \"Wrong username or password\";\n                    return false;\n            }\n        }\n</code></pre>\n\n<p>Error reporting spits out Notice: Undefined index: username in /Users/mb/Local/Realtors/login.php on line 9 even before I submit anything. Once I do however my member pages gives me this (assuming that the registered username is andrea):\nArray ( [username] => andrea [id] => ) </p>\n"},{"tags":["php","javascript","local-storage","simplecart"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13260522,"title":"Retrieve stored values of selected restaurant from localstorage using simplecart","body":"<p>Im trying to retrieve the cart items stored in the local storage based on the selected restaurant.</p>\n\n<p>First, in the console log it looks like the \"each\" loop is running twice.</p>\n\n<p>Second, the indexOf is working! But the is a problem with the following two lines:</p>\n\n<blockquote>\n  <p><code>simpleCart.get(item).show();</code></p>\n  \n  <p>AND</p>\n  \n  <p><code>simpleCart.get(item).hide();</code></p>\n</blockquote>\n\n<p>The first one kinda seams to work but the second is compitely ignored and returns all the results from the localstorage.</p>\n\n<p>How can i hide the selected item from showing in the cart???????? HELP!!!</p>\n\n<hr>\n\n<p><strong><code>$restName</code></strong> = the selected restaurant. (a php variable)</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nsimpleCart.bind(\\'load\\', function(){\n    var items = localStorage.getItem(\"simpleCart_items\");\n    if (!items) {\n        return;\n    } try {\n        simpleCart.each(JSON.parse(items),function(item) {\n            var id_found = item.itmid.indexOf(\"' . $restName . '\");\n            if (id_found &gt;= 0){\n                simpleCart.get(item).show();\n            } else {\n                simpleCart.get(item).hide();\n            }\n        });\n    } catch (e){\n        simpleCart.error(\"Error Loading data: \" + e);\n    }\n});\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","oop","class","interface"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13271068,"title":"PHP class constructor in interface or class","body":"<p>I'm having some issues thinking out a good structure to build my classes and objects.\nIn the code below I make use of an interface to define my class methods, but I also want to pass a database connection to my constructor so the class had this connection to work with.\nIs it correct as I coded it below that the constructor is placed within my class and the methods in my interface?</p>\n\n<pre><code>interface IDataItem\n{\n    public function saveItem(Item $theItem);\n}\n\nclass DataItem implements IDataItem{\n    public function __construct(Database $database) \n    { \n        $this-&gt;database = $database;\n    }\n\n    public function saveItem(Item $item) \n    {       \n        //save the item\n    }\n}\n\n\n$db = new Database(); //from a database class\n$dataItem = new DataItem($db);          \n$dataItem-&gt;saveItem($anItem);   \n</code></pre>\n"},{"tags":["php","phpunit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13271329,"title":"PHPUnit stops execution after setExpectedException()","body":"<p>I have the following pseudo code</p>\n\n<pre><code>public function testSomething() {\n    // assert something\n    // assert something else\n\n    $this-&gt;setExpectedException(...);\n    // trigger my exception here\n\n    // do one last thing\n}\n</code></pre>\n\n<p>The issue I see, code after the exception being triggered is never made. Is this correct?</p>\n\n<p>This is just a general wondering here - if this is normal I will refactor my test to perform the try/catch directly and <code>fail()</code> the test if nothing is caught.</p>\n"},{"tags":["php","javascript","string"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13271351,"title":"javascript substring extract","body":"<p>I have a javascript script where there are lines, a example is :</p>\n\n<pre><code>http://www.youtube.com/watch?v=FOeLP1WdjFc&amp;feature=related\n</code></pre>\n\n<p>I want to extract the substring that is after \"watch?=\" and before \"&amp;feature\",\nits pattern is:</p>\n\n<p>1) it is  after \"watch?=\"</p>\n\n<p>2) it is before \"&amp;feature\",</p>\n\n<p>3) it is a 11-character string</p>\n\n<p>I know other scripts could be easy, but now I only need javascript, \nif it is really impossible, then php is acceptable, \nhow to achieve this?\nthanks!</p>\n"},{"tags":["php","mysql","forms","select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13271389,"title":"MySQL Value Returns Null After Select","body":"<pre><code>if (! empty ( $fname ) &amp;&amp; ! empty ( $lname )) {\n        $query5 = \"select * from \" . $db_prefix . \"customer_det where (fname = '\" . $fname . \"' and lname = '\" . $lname . \"')\";\n            $result5 = $mysqli-&gt;query ( $query5, MYSQLI_STORE_RESULT ) or die ( mysql_error () );\n    } else {\n        $query5 = \"select * from \" . $db_prefix . \"customer_det where phone = '\" . $phone . \"'\";\n        $result5 = $mysqli-&gt;query ( $query5, MYSQLI_STORE_RESULT ) or die ( mysql_error () );\n\n    }\n    while ($row=$result5-&gt;fetch_assoc) {\n        $uid = $row['id'];\n            $visits = $row['visits'];\n        }\n        var_dump($uid);\n        var_dump($visits);\n            var_dump($result5);\n            var_dump($fname);\n            var_dump($lname);\n</code></pre>\n\n<p>I'm not sure where I'm going wrong here.  I run both of those queries in the phpMyAdmin SQL query box and it returns a row set.  Then when I run it in PHP, and var_dump the variables, $uid returns NULL as well as $visits.  Here's the var dump:</p>\n\n<pre><code>NULL NULL object(mysqli_result)#4 (5) { [\"current_field\"]=&gt; int(0) [\"field_count\"]=&gt; int(34) [\"lengths\"]=&gt; NULL [\"num_rows\"]=&gt; int(1) [\"type\"]=&gt; int(0) } string(6) \"Wesley\" string(6) \"Snipes\"\n</code></pre>\n\n<p>Any advice would be great.</p>\n"},{"tags":["php","arrays","function"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13271015,"title":"changing array keys in array_walk function?","body":"<p>I am using array functions to convert my pipe delimited string to an associative array.</p>\n\n<pre><code>$piper = \"|k=f|p=t|e=r|t=m|\";\n\n$piper = explode(\"|\",$piper);\n\n$piper = array_filter($piper);\n\nfunction splitter(&amp;$value,$key) {\n\n    $splitted = explode(\"=\",$value);\n    $key = $splitted[0];\n    $value = $splitted[1];\n\n}\n\narray_walk($piper, 'splitter');\n\nvar_dump($piper);\n</code></pre>\n\n<p>this gives me </p>\n\n<pre><code>array (size=4)\n  1 =&gt; string 'f' (length=1)\n  2 =&gt; string 't' (length=1)\n  3 =&gt; string 'r' (length=1)\n  4 =&gt; string 'm' (length=1)\n</code></pre>\n\n<p>where i want:</p>\n\n<pre><code>array (size=4)\n  \"k\" =&gt; string 'f' (length=1)\n  \"p\" =&gt; string 't' (length=1)\n  \"e\" =&gt; string 'r' (length=1)\n  \"t\" =&gt; string 'm' (length=1)\n</code></pre>\n\n<p>but the keys are unaltered. Is there any array function with which i can loop over an array and change keys and values as well?</p>\n"},{"tags":["php","c"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":37,"score":-4,"question_id":13268033,"title":"how to pass value from php to c","body":"<p>now I'm do some project. that i want to pass value (e.g. string int ) from php to c for use c to call shell script on centos and return value back to php for display the result of it. </p>\n\n<p>Who can be help me I want to see sample sourcecode of c &amp; php  </p>\n\n<p>hop anyone help thank</p>\n\n<p>I'm try to Control Shell script for start or stop virtual machine in my Project And return the value that back to php page by pass value from c I'm don't know how to do it please help. it is my final project </p>\n"},{"tags":["php","jquery","plupload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13271407,"title":"How to get image height & width with plupload","body":"<p>I am using the plupload tool to have multiple image uploads - how using the API can i return the image height &amp; width for each image.</p>\n\n<pre><code>// rest of plupload code..\nFileUploaded: function(up, file, info) {\n    // Called when a file has finished uploading\n    //console.log('[FileUploaded] File:', file, \"Info:\", info);\n    // do some plupload logic to get image width &amp; height\n}\n</code></pre>\n"},{"tags":["php","sql-server","iis","windows-server-2003","php-extension"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":12,"score":2,"question_id":13271075,"title":"sqlsrv hangs in windows with php 5.4","body":"<p>I know this was asked alot of times but all the answers are outdated.</p>\n\n<p>As of PHP 5.3, as we all know mssql is <strong>not</strong> supported, so went on installing Microsoft's <a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=20098\" rel=\"nofollow\">sqlsrv</a>\ndriver for this, as it seems to be the only option out there (I'm open to suggestions!).</p>\n\n<p>Now I'm using PHP 5.4 on a Windows server 2003, SQL Server 2005 with IIS as webserver.</p>\n\n<p>I've followed about a million guides and i've installed everything accordingly, but the driver just wont load, <code>sqlsrv</code> won't show on <code>phpinfo()</code> or it hangs.</p>\n\n<p>This is what i've done in php.ini :</p>\n\n<pre><code> extension=php_sqlsrv_54_nts.dll\n</code></pre>\n\n<p>And the <code>extension_dir</code> is set to <code>C:\\PHP\\ext</code>, though phpinfo() shows its loading a php.ini file from progrem files, so i'm editing 2 php.ini files every time as i'm not sure which one is active.\nFor the same reason i've put the dll files in both locations.</p>\n\n<p>There is no information for this problem!\nall the solutions are for people who have used the wrong versions, etc.</p>\n\n<p>I've tried applying every single dll and all with the same result, including Threaded and non-threaded.</p>\n\n<p>What can i do?</p>\n"},{"tags":["php","javascript","jquery","html","css"],"answer_count":12,"favorite_count":2,"up_vote_count":5,"down_vote_count":3,"view_count":312,"score":2,"question_id":12872558,"title":"Highlighting invalid form inputs","body":"<p>I have been working on creating a form with a set of fields like username, passwords etc.... \nI want to make validation when the SUBMIT button is clicked.</p>\n\n<p>I'm trying to get alert from my border color. All fields are valid my border must change into Green color If it has any errors it should change to red color.</p>\n\n<p>Any one has any ideas regarding to my problem  </p>\n\n<p>If anyone has any suggestion??</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13267348,"title":"I am new to PHP & Codeigniter i need some suggestions on Array","body":"<p>I have following code in external Library....</p>\n\n<pre><code>for($this-&gt;i=0;$this-&gt;i&lt;$length;$this-&gt;i++) {\n    $attendee_idTag=$objDOM-&gt;getElementsByTagName(\"attendee_id\");\n    echo \"&lt;br&gt;attendee_id=\".$attendee_id=$attendee_idTag-&gt;item($this-&gt;i)-&gt;nodeValue;\n    $this-&gt;attendee_id=$attendee_idTag-&gt;item($this-&gt;i)-&gt;nodeValue;\n    $attendee_urlTag=$objDOM-&gt;getElementsByTagName(\"attendee_url\");\n    echo \"&lt;br&gt;attendee_url=\".$this-&gt;attendee_url=$attendee_urlTag-&gt;item($this-&gt;i)-                        &gt;nodeValue;\n    $this-&gt;attendee_url=$attendee_urlTag-&gt;item($this-&gt;i)-&gt;nodeValue;\n}\n</code></pre>\n\n<p>so what i wanted to know, how can store the loop values into array then call it in another class functions...\nso kindly give me some example...</p>\n"},{"tags":["php","html","json","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13271215,"title":"Pass data from a php script to html form","body":"<p>I have an iphone app. The user can complete a form. Then the data of the form are passed to a php script. There I parse.</p>\n\n<p>Now, question is:</p>\n\n<p>Is it possible to pass data from a php script to an html form(on a web site this time)?</p>\n\n<p>I.e.</p>\n\n<p>Json sent from the mobile to the php scipt:</p>\n\n<pre><code>{\n  \"Email\":\"klklkkl\",\n  \"DueDate\":\"1454\"\n}\n</code></pre>\n\n<p>The php parse the aforementioned Json.</p>\n\n<p>Now there is on the web site the same form. And I want to pass to the two input boxes that are contained there the aforementioned data. Is this possible?</p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13270608,"title":"Magento - Update Prices Script - Multiple Stores","body":"<p>I am trying to update some (but not all ) prices from one store to another. For example one line of shirts should be 1.2 times the price in the second store</p>\n\n<p>I would like to update some groups of items only, based on entity label but am struggling to pull all the data from magento (asside what i can get out in the code below). The bits I am missing are price and entity label. I know what tables they live in but not sure the correct magento syntax to access them eg Mage::getModel('catalog/product') and I am trying to achieve this using Magento friendly code and not queries  </p>\n\n<p>Using enterprise 1.11, not looking at buying a plugin at this stage, any advice greatly appreciated</p>\n\n<pre><code>$mageFilename = 'app/Mage.php';\nrequire_once $mageFilename;\nMage::app()-&gt;setCurrentStore(Mage_Core_Model_App::ADMIN_STORE_ID); #important\n$product_id = '8782';\n$collection = Mage::getModel('catalog/product')\n         -&gt;load($product_id);\n        echo \"Collection: \" . $collection-&gt;getName();\n        echo \"&lt;br&gt;\";\n        echo \"Attribute Set: \" . $collection-&gt;getAttributeSetId() . \" SKU: \" . $collection-&gt;getSku();\n        echo \"&lt;br&gt;\"; \n        echo \"Entity ID: \" . $collection-&gt;getEntity_id() . \" Product Type (Attribute Label): \" . $collection-&gt;getProducttype();\n</code></pre>\n"},{"tags":["php"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13271323,"title":"I have tried few steps but no resolutions..i wanted to know about array in php","body":"<p>i have following code, and same i have asked before but nobody had answered to my question...</p>\n\n<pre><code>for($i=0;$i&lt;$length;$i++) {\n    $attendee_idTag=$objDOM-&gt;getElementsByTagName(\"attendee_id\");\n    echo \"&lt;br&gt;attendee_id=\".$attendee_id=$attendee_idTag-&gt;item($i)-&gt;nodeValue;\n    $this-&gt;attendee_id=$attendee_idTag-&gt;item($i)-&gt;nodeValue;\n    $attendee_urlTag=$objDOM-&gt;getElementsByTagName(\"attendee_url\");\n    echo \"&lt;br&gt;attendee_url=\".$this-&gt;attendee_url=$attendee_urlTag-&gt;item($i)-&gt;nodeValue;\n    $this-&gt;attendee_url=$attendee_urlTag-&gt;item($i)-&gt;nodeValue;\n    'url'=&gt;$this-&gt;attendee_url);\n}\n</code></pre>\n\n<p>So i wanted to store $attendee_id and <code>$attendee_url</code> values into array and same values i want to retrieve from another class, now i have tried following code inside forloop but its giving on</p>\n\n<pre><code>$this-&gt;results = array('id'=&gt;$this-&gt;attendee_id,'url'=&gt;$this-&gt;attendee_url); \n</code></pre>\n\n<p>and in another code file i am retrieving by following way....</p>\n\n<pre><code>foreach ($this-&gt;addattendee-&gt;results as $key=&gt;$value) {\n   echo $key. \" :- \". $value;\n} \n</code></pre>\n\n<p>but i am getting only 1 value at a time.... can anybody give me solution to solve the problem plz.</p>\n"},{"tags":["php","javascript","json","codeigniter","datatable"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13270920,"title":"codeigniter datatable send variable to datatable query","body":"<p>i used library datatable and codeigniter</p>\n\n<p>i have a variable in view</p>\n\n<pre><code>$afd = \"1\"\n</code></pre>\n\n<p>and in this view i have a javascript </p>\n\n<pre><code>&lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n\n$(document).ready(function() {\n$('#datatables').dataTable( {\n\"bJQueryUI\":true,\n\n\"bProcessing\": true,\n\n\"bServerSide\": true,\n\n\"sPaginationType\":\"full_numbers\",\n\n\"sAjaxSource\": \"&lt;?=base_url()?&gt;index.php/report/report/ajax_view_panen/\",\n\n\"aaSorting\": [[ 0, \"asc\" ]]\n\n});\n\n});  &lt;/script&gt;\n</code></pre>\n\n<p>to call datatables in controller codeigniter . the function controller is \"ajax_view_panen\"</p>\n\n<p>this is my controller</p>\n\n<pre><code>function ajax_view_panen()\n{\n$this-&gt;load-&gt;library('Datatables');\n$this-&gt;datatables-&gt;from('panen');\n$this-&gt;datatables-&gt;select('id,jml_panen,hariff_blok_id,hariff_afdeling_id,tgl_panen,bulan');\n$this-&gt;datatables-&gt;where('id', $afd);\necho $this-&gt;datatables-&gt;generate();\n}\n</code></pre>\n\n<p>the question is how to send variable <code>$afd</code> to my controller. so the variable is inside query <code>$this-&gt;datatables-&gt;where('id', $afd);</code> so the datatables show <code>id = 1</code></p>\n\n<p>sory for my bad english.</p>\n\n<p>BR</p>\n\n<p>Alex</p>\n"},{"tags":["php","soap","dynamics-crm","dynamics-crm-2011"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13269533,"title":"Get updated records from Dynamics CRM 2011 via SOAP","body":"<p>We're writing a web-frontend for at Dynamics CRM 2011 system, using PHP and SOAP (NuSOAP). \nIn the process of doing so we need to retrieve entities that has been updated since our last import. </p>\n\n<p>I've looked around the existing CRM Frontend, to see if anything there might give a hint as what to add as criteria, but to no avail.</p>\n\n<p>The xml for a standard query looks like this:</p>\n\n<pre><code>&lt;RetrieveMultiple xmlns=\"http://schemas.microsoft.com/crm/2007/WebServices\"&gt;\n&lt;query xmlns:q1=\"http://schemas.microsoft.com/crm/2006/Query\" xsi:type=\"q1:QueryExpression\"&gt;\n    &lt;q1:EntityName&gt;new_arrangement&lt;/q1:EntityName&gt;\n    &lt;q1:ColumnSet xsi:type=\"q1:ColumnSet\"&gt;\n        &lt;q1:Attributes&gt;\n            &lt;q1:Attribute&gt;subject&lt;/q1:Attribute&gt;\n            &lt;q1:Attribute&gt;activitytypecode&lt;/q1:Attribute&gt;\n            &lt;q1:Attribute&gt;regardingobjectid&lt;/q1:Attribute&gt;\n            &lt;q1:Attribute&gt;scheduledstart&lt;/q1:Attribute&gt;\n            &lt;q1:Attribute&gt;scheduledend&lt;/q1:Attribute&gt;\n        &lt;/q1:Attributes&gt;\n    &lt;/q1:ColumnSet&gt;\n    &lt;q1:Criteria&gt;\n        &lt;q1:FilterOperator&gt;And&lt;/q1:FilterOperator&gt;\n            &lt;q1:Condition&gt;\n                &lt;q1:AttributeName&gt;statecode&lt;/q1:AttributeName&gt;\n                &lt;q1:Operator&gt;Equal&lt;/q1:Operator&gt;\n                &lt;q1:Values&gt;\n                    &lt;q1:Value xsi:type=\"xsd:string\"&gt;Open&lt;/q1:Value&gt;\n                &lt;/q1:Values&gt;\n            &lt;/q1:Condition&gt;\n        &lt;/q1:Conditions&gt;\n    &lt;/q1:Criteria&gt;\n    &lt;q1:Orders&gt;\n        &lt;q1:Order&gt;\n            &lt;q1:AttributeName&gt;subject&lt;/q1:AttributeName&gt;\n            &lt;q1:OrderType&gt;Ascending&lt;/q1:OrderType&gt;\n        &lt;/q1:Order&gt;\n    &lt;/q1:Orders&gt;\n    &lt;q1:Distinct&gt;false&lt;/q1:Distinct&gt;\n    &lt;q1:PageInfo&gt;\n        &lt;q1:PageNumber&gt;1&lt;/q1:PageNumber&gt;\n        &lt;q1:Count&gt;20&lt;/q1:Count&gt;\n    &lt;/q1:PageInfo&gt;\n&lt;/query&gt;\n</code></pre>\n\n<p></p>\n\n<p>So I'm looking for help with regards to which attribute I should add as a Condition.</p>\n"},{"tags":["php","url","path","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13269053,"title":"Yii - how to access the base URL in main config","body":"<p>I am working on a Yii application. I am trying to set some paths in my main config params like this:</p>\n\n<pre><code>// application-level parameters that can be accessed\n// using Yii::app()-&gt;params['paramName']\n'params'=&gt;array(\n       'paths' =&gt; array(\n            'imageTemp'=&gt; Yii::getPathOfAlias('webroot').'/files/temp-',\n            'image'=&gt; Yii::getPathOfAlias('webroot').'/files/',\n            ...\n        ),\n\n        'urls' =&gt; array(\n            'imageTemp'=&gt; Yii::app()-&gt;getBaseUrl().'/files/temp-',\n            'image'=&gt; Yii::app()-&gt;getBaseUrl().'/files/',\n            ...\n        ),\n</code></pre>\n\n<p>But I am getting this error:</p>\n\n<pre><code>Fatal error: Call to a member function getBaseUrl() on a non-object in ..blahblah../base/CApplication.php on line 553\n</code></pre>\n\n<p>I think I cannot use Yii::app() in config file since the app is not initialized yet here, or something like this. So, how can I replace <code>Yii::app()-&gt;getBaseUrl()</code> in the config file and get the same results?</p>\n"},{"tags":["php","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13271151,"title":"CodeIgniter: load model in each library or kind of 'pass' the model from within the controller to a library","body":"<p>im currently working with CodeIgniter.\nMy Front Controller loads 1 of 2 Library depending on the input he gets.\nBoth of the librarys need access to the model. \nMy question:\nShould I load the model in each library (plus get_instance() of CI in every Library to even get access to the CI load func) or is there any \"better\" solution to load the model in the Frontcontroller und 'pass' the model to either one or the other library. I even check the autoload possibilty but even then I dont have direct access from within the librarys.\nI guess it isnt the best solution to load the model in every library (like, what if i need more libraries and so on) , but im kind of stuck right now.. :-(\n<br>In a nutshell: \n<br>- load the model in the FrontController and maybe \"pass\" the model as an argument to any library I need?\n<br>- or get the instance of CI within any library und then load the model (and write redundant code)\n<br>- or is there even a way better solution?</p>\n\n<p>thx in advance :-)</p>\n"},{"tags":["php","ajax","google-charts","google-charts-api"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":850,"score":1,"question_id":8448372,"title":"Load a Google Chart from an asynchronous AJAX response","body":"<p>In the old Google Chart API it was possible to use PHP to render a chart, there was even a wrapper to do it:\n<a href=\"http://code.google.com/p/gchartphp/\" rel=\"nofollow\">http://code.google.com/p/gchartphp/</a></p>\n\n<p>But with the new Chart API\n<a href=\"http://code.google.com/apis/chart/\" rel=\"nofollow\">http://code.google.com/apis/chart/</a> \nwhich produces much fancier chart, but loads only with javascript in the browser.</p>\n\n<p>The effect I am trying to achieve is submitting a multiple choice form to the server via AJAX, have the PHP update the DB serverside, then return the updated chart.</p>\n\n<p>In the old API way I could have done this. But in the new way I would be returning javascript to the browser and appending it to the document in order to render the chart. It wouldn't execute because of this. I believe I could eval() this javascript but that is bad form isn't it because someone could do some nasty stuff with that couldn't they - eval()ing a serverside response?</p>\n\n<p>How can I overcome this? Is there a PHP wrapper to help this? Or is there another why which I have overlooked?</p>\n\n<p>Many thanks</p>\n"},{"tags":["php","zend-framework","pdo","while-loop","fetch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13271272,"title":"Zend Framework Using fetch() statement in a loop, internal query doesn't work","body":"<p>I can't solve this one.</p>\n\n<p>I have multiple while, and the one inside fetch only the first result and stop ...</p>\n\n<p>Here is the code : </p>\n\n<p>$categories is an array </p>\n\n<pre><code>array(18) {\n  [0] =&gt; array(7) {\n[\"category_id\"] =&gt; string(1) \"1\"\n[\"category_name\"] =&gt; string(5) \"pizza\"\n[\"category_display\"] =&gt; string(5) \"pizza\"\n[\"category_active\"] =&gt; string(1) \"1\"\n[\"category_parent\"] =&gt; string(1) \"0\"\n[\"category_position\"] =&gt; string(1) \"1\"\n[\"category_user_discount\"] =&gt; string(2) \"50\"\n}\n[1] =&gt; array(7) {\n[\"category_id\"] =&gt; string(1) \"2\"\n[\"category_name\"] =&gt; string(4) \"menu\"\n[\"category_display\"] =&gt; string(4) \"menu\"\n[\"category_active\"] =&gt; string(1) \"1\"\n[\"category_parent\"] =&gt; string(1) \"0\"\n[\"category_position\"] =&gt; string(1) \"2\"\n[\"category_user_discount\"] =&gt; string(2) \"30\"\n}\n}\n\n$stmt = $db-&gt;query(\"SELECT sell_id FROM sell WHERE sell.sell_status = 'close' AND sell_period_id &gt;= '\".$liste[0].\"' AND sell_period_id &lt;= '\".$liste[1].\"' \");\n\nforeach ($categories as $cat)\n{\n    while ($sell2 = $stmt-&gt;fetch())\n    {\n        $stmt2 = $this-&gt;db-&gt;query(\"SELECT * FROM sellcart WHERE sellcart_status = 'close' AND sellcart_sell_id =  '\".$sell2['sell_id'].\"' \");\n\n        while ($sellitem = $stmt2-&gt;fetch())\n        {\n            echo $sellitem['sellcart_item_category'];\n        }\n    }\n}\n</code></pre>\n\n<p>The first loop is OK, but it doesn't loop into the second $cat ...</p>\n\n<p>Any idea ?</p>\n\n<p>Thanks for your help !!!</p>\n"},{"tags":["php","uploadify"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1626,"score":1,"question_id":7363317,"title":"uploadify - rename uploaded file ","body":"<p>Hy , i was looking at uploadify.php and did'n understand a thing.</p>\n\n<p>I have a form like this : </p>\n\n<pre><code>&lt;form id=\"formid\" name=\"upload_pic\" action=\"upload.php\"&gt;\n&lt;select name=\"product_id\"&gt;\n&lt;option value=\"1\"&gt;Apples&lt;/option&gt;\n&lt;option value=\"2\"&gt;Oranges&lt;/option&gt;\n... etc\n&lt;/select&gt;\n&lt;input id=\"file_upload\" name=\"file_upload\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and my uploadify settings are :</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n  $('#file_upload').uploadify({\n    'uploader'  : 'uploadify/uploadify.swf',\n    'script'    : 'uploadify/uploadify.php',\n    'cancelImg' : 'uploadify/cancel.png',\n    'folder'    : '../images/level3/tabv_all/tab_header/',\n    'auto'      : false,\n    'multi'     : true,\n    'fileExt'     : '*.jpg',\n    'fileDesc'    : 'ONLY JPG (.JPG)',\n    'removeCompleted' : false\n  });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>What i want to do is that if the user select <code>Apples</code> wich has the <code>id=1</code> and <code>browse for a file like Tasty_apples.jpg</code>  -> the uploaded file to  be renames to <code>product@1@Tasty_apples.jpg</code> and then to be inserted in mysql like that? </p>\n\n<p>The main question is how to add the extra <code>product@id@</code> to a file based on a <code>&lt;select&gt;&lt;option&gt; value</code> ?</p>\n\n<p>Thank you very much </p>\n\n<p>The uploadify.php is this :</p>\n\n<pre><code>if (!empty($_FILES)) {\n    $tempFile = $_FILES['Filedata']['tmp_name'];\n    $targetPath = $_SERVER['DOCUMENT_ROOT'] . $_REQUEST['folder'] . '/';\n    $targetFile =  str_replace('//','/',$targetPath) . $_FILES['Filedata']['name'];\n\n    move_uploaded_file($tempFile,$targetFile);\n    echo str_replace($_SERVER['DOCUMENT_ROOT'],'',$targetFile);\n}\n</code></pre>\n"},{"tags":["php","mysql","oop","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13268143,"title":"Reuse MySQL connection PHP object inheritance","body":"<p>I'm writing a single PHP script to migrate topics from an old forums site to a new one.  </p>\n\n<ul>\n<li>The old forums site use database \"old_forums\"  </li>\n<li>Thew new forums site use database \"new_forums\"</li>\n<li>MySQL user \"forums\" has all privileges to both databases (I'm using 1 single user for convenience but I would not have any problems using 2 different users if required)</li>\n</ul>\n\n<p>I have both forum hosted on the the same host - localhost</p>\n\n<p>The script I have the following structure  </p>\n\n<pre><code>&lt;?php  \nclass Forum {  \n   //constants  \n   const HOST = \"localhost\";  \n   const DB_USER = \"forums\";  \n   const DB_PASS = \"forums\";  \n   ...  \n   //properties e.g. topic title, topic content\n}\nclass OldForum extends Forum {  \n   const DB_NAME_OLD = \"old_forums\";  \n   public static function exportTopics() {  \n       //some code\n   }  \n}\nclass NewForum extends Forum {\n   const DB_NAME_NEW = \"new_forums\";\n   public static function importTopics() {  \n       //some code\n   }\n}  \nOldForum::exportTopics();  \nNewForum::importTopics();  \n?&gt;   \n</code></pre>\n\n<p>I understand that I'm mixing procedural &amp; object-oriented programming PHP (OOPP) here.\nI'm new to object-oriented PHP but (I have experience with Java so I'm very open to some guide to make this pure OOPP)  </p>\n\n<p>I would like to ultilise 1 single MySQL connection for both OldForum and NewForum class.<br>\nWhere should I instantiate a mysqli object?<br>\ne.g. inside Forum class' constructor or have a new mysqli object as a property of class Forum<br>\nso that I would create a new Forum object to initiate a MySQL connection</p>\n\n<pre><code>$a_forum = new Forum();  \n</code></pre>\n"},{"tags":["php","json","null","json-encode"],"answer_count":5,"favorite_count":9,"up_vote_count":30,"down_vote_count":0,"view_count":13708,"score":30,"question_id":1972006,"title":"json_encode is returning NULL?","body":"<p>For some reason the item \"description\" returns <code>NULL</code> with the following code:</p>\n\n<pre><code>&lt;?php\ninclude('db.php');\n\n$result = mysql_query('SELECT * FROM `staff` ORDER BY `id` DESC LIMIT 2') or die(mysql_error());\n$rows = array();\nwhile($row = mysql_fetch_assoc($result)){\n    $rows[] = $row;\n}\n\necho json_encode($rows);\n?&gt;\n</code></pre>\n\n<p>Here is the schema for my database:</p>\n\n<pre><code>CREATE TABLE `staff` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` longtext COLLATE utf8_unicode_ci,\n  `description` longtext COLLATE utf8_unicode_ci,\n  `icon` longtext COLLATE utf8_unicode_ci,\n  `date` longtext COLLATE utf8_unicode_ci,\n  `company` longtext COLLATE utf8_unicode_ci,\n  `companyurl` longtext COLLATE utf8_unicode_ci,\n  `appurl` longtext COLLATE utf8_unicode_ci,\n  PRIMARY KEY (`id`)\n) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\n</code></pre>\n\n<p>Here is what is echoed out on the page:</p>\n\n<pre><code>[{\"id\":\"4\",\"name\":\"Noter 2\",\"description\":null,\"icon\":\"http:\\/\\/images.apple.com\\/webapps\\/productivity\\/images\\/noter2_20091223182720-thumb.jpg\",\"date\":\"1262032317\",\"company\":\"dBelement, LLC\",\"companyurl\":\"http:\\/\\/dbelement.com\\/\",\"appurl\":\"http:\\/\\/noter2.dbelement.com\"},{\"id\":\"3\",\"name\":\"Noter 2\",\"description\":null,\"icon\":\"http:\\/\\/images.apple.com\\/webapps\\/productivity\\/images\\/noter2_20091223182720-thumb.jpg\",\"date\":\"1262032317\",\"company\":\"dBelement, LLC\",\"companyurl\":\"http:\\/\\/dbelement.com\\/\",\"appurl\":\"http:\\/\\/noter2.dbelement.com\"}]\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["php","oop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13271142,"title":"PHP OOP message not displaying","body":"<p>I just started studying OOP and I have a question/problem.</p>\n\n<p>My script is suppose to display \"The message is Failed\", but <code>$db-&gt;displayMessage()</code> is empty or display nothing. Why is that?</p>\n\n<pre><code>&lt;?php\nclass Database {\n\n    private $connection, $message;\n\n    public function __contruct($server, $username, $password, $database) {\n        /**\n        $this-&gt;connection = mysql_connect($server, $username, $password);\n        mysql_select_db($database, $this-&gt;connection);\n        **/\n\n        if(mysql_connect($server, $username, $password)) {\n            $this-&gt;message = 'Success';\n        }\n        else {\n            $this-&gt;message = 'Failed';\n        }\n    }\n\n    public function displayMessage() {\n        return $this-&gt;message;\n    }\n\n}\n\n$db = new Database('localhost444', 'user', '', 'cart');\n\necho 'The message is ' . $db-&gt;displayMessage();\n\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","tinymce"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13268748,"title":"TinyMCE Change language","body":"<p>Goodmoring,</p>\n\n<p>Today i have installed TinyMCE on my custom made CMS. \nNow i want to change the language to dutch, my whole tinyMCE textbox will disappear.</p>\n\n<p>I have uploaden the dutch files to the locations specified by TinyMCE. When i don't add the language : \"nl\", line to my TinyMCE javascript it will work (language is English). But when I add the line, the whole textbox disappear from my page.</p>\n\n<p>This is my Code</p>\n\n<pre><code> &lt;script type=\"text/javascript\" src=\"jscripts/tiny_mce/jquery.tinymce.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $().ready(function() {\n            $('textarea.tinymce').tinymce({\n\n                // Location of TinyMCE script\n                script_url : 'jscripts/tiny_mce/tiny_mce.js',\n\n                // General options\n                theme : \"advanced\",\n\n                relative_urls : false,\n                plugins : \"youtubeIframe,jbimages,autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,images,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,advlist,jbimages\",\n\n                // Theme options\n                theme_advanced_buttons1 : \"code,preview,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,formatselect\",\n                theme_advanced_buttons2 : \"cut,copy,paste,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,|,insertdate,inserttime\",\n                theme_advanced_buttons3 : \"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,iespell,youtubeIframe,jbimages,advhr,|,print,|,ltr,rtl,|,fullscreen\",\n\n\n                //COMPLETE LIJST VAN FUNCTIES\n                //theme_advanced_buttons1 : \"save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect\",\n                //theme_advanced_buttons2 : \"cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor\",\n                //theme_advanced_buttons3 : \"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen\",\n                //theme_advanced_buttons4 : \"insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,pagebreak\",\n\n\n\n                theme_advanced_toolbar_location : \"top\",\n                theme_advanced_toolbar_align : \"left\",\n                theme_advanced_statusbar_location : \"bottom\",\n                theme_advanced_resizing : true,\n                language : \"nl\",\n                // Example content CSS (should be your site CSS)\n                content_css : \"css/style.css\",\n\n                // Drop lists for link/image/media/template dialogs\n                template_external_list_url : \"lists/template_list.js\",\n                external_link_list_url : \"lists/link_list.js\",\n                external_image_list_url : \"lists/image_list.js\",\n                media_external_list_url : \"lists/media_list.js\",\n\n                // Replace values for the template plugin\n                template_replace_values : {\n                    username : \"Some User\",\n                    staffid : \"991234\",\n                width : \"858\"\n                }\n            });\n        });\n    &lt;/script&gt;\n    &lt;!-- /TinyMCE --&gt;\n</code></pre>\n\n<p>I have tried to place the line in other places, but nothing helps. </p>\n\n<p>Has anybody an idea to solve this problem, i really need the dutch language.</p>\n\n<p>PS. I'm working with the jQuery version of TinyMCE</p>\n\n<p>No I have tried to rename the nl file to en.js en changed the 2 letters inside of the file. But now nothing show up. The only thing I see now is as example print.print_desc instead of printing or print.</p>\n"},{"tags":["php","cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13271139,"title":"Best method to keep user logged in?","body":"<p>I want to know in my application which is mainly php, which is best method in order to keep a user logged into a site until they have logged off. Could it be tokens, sessionlife, cookies etc?</p>\n\n<p>At the moment this is how my login and logoff system works:</p>\n\n<p>When a user logs in, it stores in their details in a $_SESSION:</p>\n\n<pre><code>if (isset($_SESSION['teacherid'])) {\n\n      $userid = $_SESSION['teacherid'];\n\n  }\n\nif (isset($_SESSION['teacherusername'])) {\n\n      $username = $_SESSION['teacherusername'];\n\n  }\n</code></pre>\n\n<p>Then in every script it contains the code below where the sessionlife lasts for 12 hours:</p>\n\n<pre><code>&lt;?php\n\nini_set('session.gc_maxlifetime',12*60*60);\nini_set('session.gc_divisor', '1');\nini_set('session.gc_probability', '1');\nini_set('session.cookie_lifetime', '0');\nrequire_once 'init.php'; \n\nsession_start();\n\n?&gt;\n</code></pre>\n\n<p>init.php is this below:</p>\n\n<pre><code> &lt;?php\n session_save_path('Session'); \n ?&gt;\n</code></pre>\n\n<p>Now after 12 hours the next time the user refreshes the page, as the session will be destroyed, it goes to the logoff page:</p>\n\n<pre><code>    if ((isset($username)) &amp;&amp; (isset($userid))){\n        session_destroy();\n        echo \"You have been Logged Out | &lt;a href='./home.php'&gt;Home&lt;/a&gt;\";\n    }\n\n    else {\n\n        echo \"You are Not Logged In\";\n\n    }\n</code></pre>\n\n<p>Obviously if the user clicks on the logout page then it navigates to script above.</p>\n\n<p>But is this a good way of doing it? Is there a much more convenient way because if you look at proper web applications, they can keep users logged in for days, but how do they do this?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","xml","curl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13251049,"title":"PHP remote CURL to be forced to read instead of download the file","body":"<p>I have been searching in google and in Stackoverflow for an answer to my issue here.</p>\n\n<p>Idea: Building a personal RSS feed reader (For my personal use).</p>\n\n<p>The goal is: To read an xml file from a remote server.</p>\n\n<p>Tools: Using CURL to read the xml file and do some parsing to meet my needs.</p>\n\n<p>The remote server (issue): The remote server builds the xml file on the fly based on my query, AND THEN, download a .rss file which contains the xml text!</p>\n\n<p>My problem is that I would like to JUST read the file that's returned from the query, instead of having the file downloaded! Like any CURL request.\nThe CURL fail to do this for me where the remote server force the dot rss file to download, and not displayed.</p>\n\n<p>I hope I have been as clear as I could in the explanation of my issue.</p>\n\n<p>The current code that I have is:</p>\n\n<pre><code>$ch = curl_init(); \n\n// set url \ncurl_setopt($ch, CURLOPT_URL, \"www.example.com/rss.php?q=latest_news_of_programming\"); \n\n//return the transfer as a string \ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); \n\n// $output contains the output string \n$output = curl_exec($ch); \necho $output;\n// close curl resource to free up system resources \ncurl_close($ch);  \n</code></pre>\n"},{"tags":["php","javascript","geolocation","location"],"answer_count":4,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":9633,"score":6,"question_id":4179000,"title":"best way to detect country / location of visitor?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2574542/location-detecting-tecniques-for-ip-addresses\">Location detecting tecniques for IP addresses</a>  </p>\n</blockquote>\n\n\n\n<p>For our website it's important to know from exactly which country our visitor is coming from.</p>\n\n<p>I guess the best answer for my question would be the simple geo location feature of current browser systems, which just ask the user if the website is allowed to see his geographic location: <a href=\"http://dev.w3.org/geo/api/spec-source.html\">http://dev.w3.org/geo/api/spec-source.html</a></p>\n\n<p>but i don't want want to bother visitor with questions, i would love to automatically detects the visitor's location (country should be enough.)</p>\n\n<p>What's the best way to do this?\n- what ip database would be the best?\n- is the browser header trustable enough to detect his country? (en-us en-en en-ca?)\nWhat's the best solution?</p>\n"},{"tags":["php","mysql","pdo"],"answer_count":4,"favorite_count":5,"up_vote_count":12,"down_vote_count":0,"view_count":11069,"score":12,"question_id":1819592,"title":"Error when connecting to MySQL using PHP/PDO","body":"<p>My code was working all fine yesterday and today it suddenly just don't want to connect to my database. I have changed no settings on it or on the code and I haven't updated any software either. All I do is this:</p>\n\n<p><code>\nnew PDO('mysql:host=localhost;port=3306;dbname=test', 'username', 'password');\n</code></p>\n\n<p>And I get a nice exception message saying this:</p>\n\n<p><code>\nWarning: PDO::__construct(): [2002] No such file or directory (trying to connect via unix:///tmp/mysql.sock) in ...\n</code></p>\n\n<p>The thing is: I'm clearly not trying to connect using a unix socket but using TCP/IP. What am I doing wrong? Is there something I'm missing here?</p>\n\n<p>Thanks for any help.</p>\n"},{"tags":["php","yii"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":51,"score":-4,"question_id":13270902,"title":"Yii Rule Age + 18","body":"<p>I tried to make a rule to accept only +18, but its not working.\nThat rule is simply ignored, and all dates accepted.\nHow do I make this rule works?</p>\n\n<pre><code> array(\n    'birthday',\n    'compare',\n    'compareValue' =&gt; date('d/m/Y', strtotime('-18 year')),\n    'operator'     =&gt; '&lt;',\n    'message'      =&gt; 'You need to be + 18.'\n ),\n</code></pre>\n"},{"tags":["php","javascript","jquery"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":101,"score":2,"question_id":10226778,"title":"Making Subids And Postback Tracking Work","body":"<p>I am coding a Bounty Script in Php. (Reward Script),using open source code from Prosper202.Trying to track leads with Subids and Postbacks.I am not able to get this stuff to work.\nExample.</p>\n\n<p>I would like to append Unique id at end of url.\nLike <code>http://google.com/c3={unique_id}</code></p>\n\n<p>Here Unique id needs to be generated randomly atleast vaild for 15 minutes and needs to be stored in Mysql database.</p>\n\n<p>When Successful third party server sends postback in format.</p>\n\n<pre><code>http://watever.com/c3={unique_id}\n</code></pre>\n\n<p>We then need to compare both in real time. (this needs to be as fast as possible to avoid delays to end user.)</p>\n\n<p>What should we use in this Case?</p>\n\n<p>JavaScript to use for Postback or php?</p>\n\n<p>And how to manipulate the postback in php script.</p>\n\n<p>As i mentioned. This Script Prosper202 also have same feature of tracking postbacks.\nBut i am not able to extract useful code from it.</p>\n\n<p><strong>Resources:-</strong></p>\n\n<pre><code>http://prosper.tracking202.com/apps/\nhttp://prosper.tracking202.com/forum/6/21/tracking-subids#7848\n</code></pre>\n"},{"tags":["php","arrays","loops","foreach"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13270870,"title":"Wrapping a div around every third item in a foreach loop PHP","body":"<pre><code>//set the array\n$info = array(\n'andy' =&gt; 'blue',\n'andrew' =&gt; 'black',\n'mark' =&gt; 'green',\n'jane' =&gt; 'orange',\n'simon' =&gt; 'red',\n'joan' =&gt; 'pink',\n'sue' =&gt; 'yellow',\n'alan' =&gt; 'black') \n\n\n$i = 1;\n\nforeach($info as $key =&gt; $val){\n\n    &lt;div class=\"holder\"&gt;\n        &lt;div class=\"name\"&gt;\n            &lt;?php echo $Name ?&gt; \n        &lt;/div&gt;\n        &lt;div class=\"colour\"&gt;\n            &lt;?php echo $colour ?&gt; \n        &lt;/div&gt;\n    &lt;/div&gt;\n} \n</code></pre>\n\n<p>This dispalys each \"holder\" class... but what I am wanting to do is wrap a container around the \"holder\" class and have 3 \"holder\" in each \"container\". \neg: </p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;div class=\"holder\"&gt;\n            &lt;div class=\"name\"&gt;\n                &lt;?php echo $Name ?&gt; \n            &lt;/div&gt;\n            &lt;div class=\"colour\"&gt;\n                &lt;?php echo $colour ?&gt; \n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;div class=\"holder\"&gt;\n            &lt;div class=\"name\"&gt;\n                &lt;?php echo $Name ?&gt; \n            &lt;/div&gt;\n            &lt;div class=\"colour\"&gt;\n                &lt;?php echo $colour ?&gt; \n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;div class=\"holder\"&gt;\n            &lt;div class=\"name\"&gt;\n                &lt;?php echo $Name ?&gt; \n            &lt;/div&gt;\n            &lt;div class=\"colour\"&gt;\n                &lt;?php echo $colour ?&gt; \n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I cant find out how to either get the index of the associative array, or how to break a foreach loop once %3 == 0. </p>\n\n<p>Any suggestions would be awesome! </p>\n\n<p>-Ved</p>\n"},{"tags":["php","css"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":43,"score":-3,"question_id":13270506,"title":"PHP: Determine Text Colour based on value","body":"<p>I've stored values in an array and I want to apply conditional formatting to the output when I access them.\nI want the text of the values, less than or equal to 10, displayed in red or, greater than 10, displayed in green.</p>\n\n<p>For example, below, I would like the resultant value of 5 to be displayed in red.</p>\n\n<p>I'm a newbie to this but would assume I would need the help of CSS to achieve this.</p>\n\n<p>Any advice would be appreciated.</p>\n\n<pre><code>&lt;?php\n\n$total_sql=array();\n$total_sql[]=5;\n$total_sql[]=10;\n$total_sql[]=15;\n$total_sql[]=20;\n\nprint($total_sql[0]);\n\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","web","google-plus","google-plus-one"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13270465,"title":"Dynamic Google plus one +1 button (with changing url)","body":"<p>I have a website with a photo gallery and i want the plus one button to point to the photo page and not to the gallery itself, meaning that i will need to change it dynamically when the user flips through images. What would be the proper way of doing that?</p>\n"},{"tags":["php","yii"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":643,"score":0,"question_id":10780917,"title":"yii CGridView encoded the value","body":"<p>I'm following the documents here <a href=\"http://www.yiiframework.com/wiki/278/cgridview-render-customized-complex-datacolumns/\" rel=\"nofollow\">http://www.yiiframework.com/wiki/278/cgridview-render-customized-complex-datacolumns/</a></p>\n\n<p>So I have the following in view</p>\n\n<pre><code>$this-&gt;widget('zii.widgets.grid.CGridView', array(\n'id'=&gt;'item-table-grid',\n'dataProvider'=&gt;$model-&gt;search(),\n'itemsCssClass'=&gt;'item-table-grid',\n'columns'=&gt;array(\n    'customer_name',\n    array(\n        'name'=&gt;'Edit',\n        'value'=&gt;array($model, 'editLink'),\n    ),\n),\n));\n</code></pre>\n\n<p>And here is the editLink function in model</p>\n\n<pre><code>public function editLink($data, $row) {\n    $link = '';\n    if ($data-&gt;is_draft) {\n        $link = '&lt;a href=\"customer/update/'.$data-&gt;id.'\"&gt;Edit&lt;/a&gt;';\n    }\n    return $link;\n}\n</code></pre>\n\n<p>The problem that I'm having is that the return value is encoded so I get &lt;a href=...></p>\n\n<p>Is there a way to tell CGridView not to encode the value?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","facebook-php-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13269610,"title":"App authentication failing on mobile devices only","body":"<p>I have a Facebook app using the PHP SDK. This is all working fine, except that when a user visits it on a mobile device (by visiting <code>apps.facebook.com/myappname/</code> using their web browser), the login is getting stuck in an infinite redirect loop (presumably continually redirecting them back to the Facebook login page).</p>\n\n<p>The login code is pretty standard:</p>\n\n<pre><code>$userID = $facebook-&gt;getUser();\nif ($userID) {\n    [store stuff in session]\n\n} else {\n    [Javascript redirect to $facebook-&gt;getLoginUrl()]\n}\n</code></pre>\n\n<p>this was working before but must have been broken with one of Facebook's recent changes. </p>\n"},{"tags":["php","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13266349,"title":"php,symfony 2 filter case sensitive","body":"<p>I want to ignore case in a filter , My code:</p>\n\n<pre><code>if (strtolower(isset($filterObject['name'])) &amp;&amp; null !== strtolower(($filterObject['name']))) {\n    $queryFilter-&gt;addStringFilter(\"name\", ($filterObject['name']));\n}\n</code></pre>\n"},{"tags":["php","memory","memory-management"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13270594,"title":"exhausted memory while allocating","body":"<p><strong>CODE:</strong></p>\n\n<pre><code>if (flock($fp, LOCK_EX))\n{\n    fwrite($fp, serialize($this-&gt;_contents));\n    flock($fp, LOCK_UN);\n}\n</code></pre>\n\n<p><strong>ERROR:</strong></p>\n\n<pre><code>Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 17805286 bytes).....\n</code></pre>\n\n<p><strong>ERROR LINE:</strong></p>\n\n<pre><code>fwrite($fp, serialize($this-&gt;_contents));\n</code></pre>\n\n<p>Any idea how to solve the issue? My site hosted on shared hosting so I have no chance changing memory settings.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","html","mysql","post","file-upload"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13270210,"title":"Upload multiple files to server and","body":"<p>My first post so be gentle! I've tried searching for this and there are many similar posts, but I can't seem to find anything exactly like my problem and I have been at this for hours! :-/</p>\n\n<p>I'm building a system in PHP (5.3) and MySQL and part of the functionality is that a user is required to upload some files based on some previous selections. An example form is as follows:</p>\n\n<pre><code>&lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\" id=\"uploadFiles\"&gt;\n&lt;p&gt;\n&lt;label for=\"file1\"&gt;Upload file 1:&lt;/label&gt;\n&lt;input type=\"file\" name=\"file1\" id=\"image\"&gt;\n&lt;/p&gt;\n&lt;p&gt;\n&lt;label for=\"file2\"&gt;Upload file 2:&lt;/label&gt;\n&lt;input type=\"file\" name=\"file2\" id=\"image2\"&gt;\n&lt;/p&gt;\n&lt;p&gt;\n&lt;input type=\"submit\" name=\"upload\" id=\"upload\" value=\"Upload\"&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>In this instance the user is required to upload two different documents. This all works for me and I can save the 2 files to the server and then insert 2 records to a table in the database with the file name, file type (pdf, jpg) and user id etc by looping through \"$_FILES\" in my Upload class.</p>\n\n<p>What I am trying to do however is somehow add the name attribute <code>&lt;input name=\"foo\"&gt;</code> to the inserted row so that \"File 1\" would have \"file1\" in a column called document_type and \"File 2\" would have \"file2\". That way I can do a basic check in MySQL to see if the user has uploaded the appropriate files.</p>\n\n<p>To cut to the chase, is there a way to assign or associate the INPUT \"name\" attribute to each file in $_FILES in my Upload class so that when when I loop through $_FILES, there is a unique document_type? </p>\n\n<p>Please let me know if you require further information regarding my setup.</p>\n"},{"tags":["php","cookies","affiliate"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13270499,"title":"Is there a way to check if a website places cookies based on there URL?","body":"<p>Is there a way to check if a website places cookies based on their URL? I would prefer to do this in PHP. Wonder if I would need to use CURL?</p>\n\n<p>Just trying to figure out how to ping a url to see if it would place a cookie on my machine and then get a little info about that cookie. The reason I am doing this is because I am trying to find an easy way to catch typo squatters for my brand so I want to see if affiliate pixels are being placed for my affiliate programs.</p>\n"},{"tags":["c#","php","md5sum"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":13200767,"title":"c# hash and php MD5 file/folder hash not the same","body":"<p>I have to MD5 hash files/folders on both a client(C#) and a server(PHP) file structure. (Server land is PHP and client land is c#.) The problem is while they work they do not match. Any ideas would be greatly appreciated</p>\n\n<p>Here are my two algorithms</p>\n\n<p>C#</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Security.Cryptography;\nusing System.Text;\n\nnamespace nofolder\n{\n    public class classHasher\n    {\n        /**********\n         *  recursive folder MD5 hash of a dir\n         */\n        MD5 hashAlgo = null;\n        StringBuilder sb;\n        public classHasher()\n        {\n            hashAlgo = new MD5CryptoServiceProvider();\n        }\n        public string getHash(String path)\n        {\n            // get the file attributes for file or directory\n            if (File.Exists(path)) return getHashOverFile(path);\n            if (Directory.Exists(path)) return getHashOverFolder(path);\n            return \"\";\n        }\n        public string getHashOverFolder(String path)\n        {\n            sb = new StringBuilder();\n            getFolderContents(path);\n            return sb.ToString().GetHashCode().ToString();\n        }\n        public string getHashOverFile(String filename)\n        {\n            sb = new StringBuilder();\n            getFileHash(filename);\n            return sb.ToString().GetHashCode().ToString();\n        }\n        private void getFolderContents(string fold)\n        {\n            foreach (var d in Directory.GetDirectories(fold))\n            {\n                getFolderContents(d);\n            }\n            foreach (var f in Directory.GetFiles(fold))\n            {\n                getFileHash(f);\n            }\n        }\n        private void getFileHash(String f)\n        {\n            using (FileStream file = new FileStream(f, FileMode.Open, FileAccess.Read))\n            {\n                byte[] retVal = hashAlgo.ComputeHash(file);\n                file.Close();\n                foreach (var y in retVal)\n                {\n                    sb.Append(y.ToString());\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>PHP</p>\n\n<pre><code>function include__md5_dir($dir){\n    /**********\n    *   recursive folder MD5 hash of a dir\n    */\n    if (!is_dir($dir)){\n        return  md5_file($dir);\n    }\n\n    $filemd5s = array();\n    $d = dir($dir);\n\n    while (false !== ($entry = $d-&gt;read())){\n        if ($entry != '.' &amp;&amp; $entry != '..'){\n             if (is_dir($dir.'/'.$entry)){\n                 $filemd5s[] = include__md5_dir($dir.'/'.$entry);\n             }\n             else{\n                 $filemd5s[] = md5_file($dir.'/'.$entry);\n             }\n         }\n    }\n    $d-&gt;close();\n    return md5(implode('', $filemd5s));\n}\n</code></pre>\n\n<p><strong>EDIT.</strong></p>\n\n<p>I have decided <em>the c# must change</em>. <strong>the PHP is fine as it is</strong>. The first code that works 100% gets the bounty</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":3111,"score":2,"question_id":5420156,"title":"mysql move row between tables","body":"<p>I have 2 tables, table1 and table2.</p>\n\n<p>I have a row in table1 and want to move it to table2 and remove it from table1.  Basically, a cut+paste.</p>\n\n<p>I am using php.  My current plan is to select from table1, store data in php, insert into table2, then delete from table1.  This seems like a very long process.</p>\n\n<p>Is this really the best way to do this?</p>\n"},{"tags":["php","regex","preg-replace","preg-match"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13269187,"title":"Replace relative links with absolute links inside a given text using regex or str_replace","body":"<p>I have a text like:</p>\n\n<pre><code>61  me  xxxx.com\n60  aici    xxx.com/ \n59  here    9gag.com    \n</code></pre>\n\n<p>Some links have http:// in front of them, some don't.\nI want to replace the urls with </p>\n\n<pre><code>'http://'.$url\n</code></pre>\n\n<p>So here's what I've done:</p>\n\n<p>My links are in the following array:</p>\n\n<pre><code>$links\n</code></pre>\n\n<p>And I do this:</p>\n\n<pre><code>foreach($links as $link){\n    if (!preg_match(\"~^(?:f|ht)tps?://~i\", $link)) {\n        $links2[] = \"http://\" . $link;\n    }\n}\n</code></pre>\n\n<p>And afterwards:</p>\n\n<pre><code>$str=str_replace($links, $links2, $str);\n</code></pre>\n\n<p>My text now shows:</p>\n\n<pre><code>61      me      http://http://http://http://http://http:// \n60      aici    http://http://http://http://http://\n59      here    http://http://http://http://http://\n</code></pre>\n\n<p>Sorry for the formatting of the text.</p>\n\n<p>LATER EDIT:</p>\n\n<p>In other words it does not replace correctly the links, it just puts \"http://\" several times.\nAny ideas why it does that? Any better solutions for this?</p>\n"},{"tags":["php","xml","parsing","structure"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":41,"score":-4,"question_id":13270605,"title":"Parsing xml in php?","body":"<p>I want to parse the following xml , I have tried, but nothing is displayed.</p>\n\n<pre><code>This is my xml structure:\n    &lt;counties&gt;\n&lt;county couid=\"01037\" stuid=\"01\" statename=\"Alabama\" name=\"Coosa\" pop=\"11706\" hhds=\"4794\" hvac_csp=\"361257\" dealer_sales=\"30849.8691546544\" dealer_pen=\"0.0853959069434071\" latitude=\"32.9362354377436\" longitude=\"-86.2476641013554\" multi=\"0\"&gt;\n&lt;point lng=\"-86.174369999999911\" lat=\"33.104393999999964\"/&gt;&lt;point lng=\"-86.162540999999919\" lat=\"33.104451999999974\"/&gt;\n&lt;point lng=\"-86.146682999999911\" lat=\"33.104493999999974\"/&gt;&lt;point lng=\"-86.145256999999916\" lat=\"33.104500999999964\"/&gt;\n&lt;point lng=\"-86.086237999999895\" lat=\"33.104701999999968\"/&gt;&lt;point lng=\"-86.079661999999914\" lat=\"33.104695999999961\"/&gt;\n&lt;point lng=\"-86.069885999999912\" lat=\"33.104686999999963\"/&gt;\n&lt;/county&gt;\n&lt;/counties&gt;\n</code></pre>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":13270214,"title":"PHP header shows blank page - how to trace it sent any other header before this?","body":"<p>I tried with making <code>display_errors</code> to 1 and <code>error_reporting(E_ALL)</code> to check whether any error or something. Code looks fine but it fails to redirect the page. It shows just blank page . If I use echo <code>'&lt;script&gt; window.location = 'someusrl'; &lt;/script&gt;'</code> it works.</p>\n\n<p>How can I trace the code where it exactly sends a header already ? Its a huge code and it includes thousands of files </p>\n\n<p>When I do header_list() i am getting </p>\n\n<pre><code>array(6) {\n  [0]=&gt;\n  string(23) \"X-Powered-By: PHP/5.3.5\"\n  [1]=&gt;\n  string(38) \"Expires: Mon, 26 Jul 1997 05:00:00 GMT\"\n  [2]=&gt;\n  string(44) \"Last-Modified: Wed, 07 Nov 2012 13:00:58 GMT\"\n  [3]=&gt;\n  string(50) \"Cache-Control: no-store, no-cache, must-revalidate\"\n  [4]=&gt;\n  string(40) \"Cache-Control: post-check=0, pre-check=0\"\n  [5]=&gt;\n  string(16) \"Pragma: no-cache\"\n}\n</code></pre>\n\n<p>Here anything that blocks redirection ?</p>\n\n<p><code>header_remove()</code>  also didn't worked. I have added this function just before the redirection call.</p>\n"},{"tags":["php","wordpress","internet-explorer-9","file-download"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13265126,"title":"Window Security pop up while downloading word document from Wordpress Website","body":"<p>I have a wordpress website which provides a download link to a word document. When user clicks on the download link in IE-9 a windows security pop up is shown to user. It works fine in all the other browsers. </p>\n\n<p>I have done some search and found that it is due to some security settings in IE-9. \nIs there any way I can overcome this setting because all the users will mostly have this security setting?</p>\n\n<p><strong>UPDATE</strong> This problem comes only if user selects open. If user selects save or save as option from the Save dialog it works fine.</p>\n\n<p>This is the security pop up</p>\n\n<p><img src=\"http://i.stack.imgur.com/XaH87.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","database","table","rowspan"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13270137,"title":"Php- Get records from database in table with rowspan","body":"<p>I've try a lot of ways to get this table print as good as it should but i failed\ni know it's simple thing so i hope u help me with it<br>\nhere's my code</p>\n\n<pre><code>&lt;?php\n    include('../connect.php');\n    $id=$_SESSION['login_user'];\n    $sql = \"Select CourseName , Studentname from course p natural join student t\"; \n    $rs_result = mysql_query ($sql, $connection); \n\n    echo \"&lt;center&gt;\";\n    echo \"&lt;table&gt;\";\n    echo \"&lt;tr&gt; &lt;th&gt;Course Name&lt;/th&gt; &lt;th&gt; Students Name&lt;/th&gt;  &lt;/tr&gt;\";\n\n    // loop through results of database query, displaying them in the table\n    while($row = mysql_fetch_array( $rs_result )) {\n        // echo out the contents of each row into a table\n        echo \"&lt;tr&gt;\";\n        echo '&lt;td&gt;' . $row['CourseName'] . '&lt;/td&gt;';\n        echo \"&lt;td rowspan=''&gt; $row[Studentname] &lt;/td&gt; \";\n        echo \"&lt;/tr&gt;\";\n    }\n\n    echo \"&lt;/table&gt;\"; \n    echo \"&lt;/center&gt;\";\n</code></pre>\n\n<p>?></p>\n\n<p>I want to be something like this</p>\n\n<pre><code>Course   |  Name   |   Student name  |\nMath101  |  john, Mike               |\n...\n</code></pre>\n\n<p>Also, is the JOIN query between the two tables CORRECT or not ???</p>\n\n<p>The two tables are:\nCourse ( Course name - Course id )\nStudent ( Student name - Course id )</p>\n"},{"tags":["php","javascript","jquery","ajax","browser"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":55,"score":-1,"question_id":13270407,"title":"Can we navigate to a different page if the user clicks on the back browser button?","body":"<p>I recieved a very helpful answer from Eric on how to display a confirmation is the user clicks on a browser back button, giving the user the choice if they want to go back or not.</p>\n\n<p>Below was his answer:</p>\n\n<p>You can use the <code>beforeunload</code> event to achieve this.</p>\n\n<pre><code>$(window).bind(\"beforeunload\", function() {\n    return \"HI\"; // Return whatever message you want\n});â\n</code></pre>\n\n<h2><a href=\"http://jsfiddle.net/CDSAF/\" rel=\"nofollow\">Fiddle</a></h2>\n\n<p><em>(To use the fiddle, just reload the page or navigate away or whatnot.)</em></p>\n\n<p>I would also suggest you unbind this upon someone leaving the page in the desired way (a cancel button?), or you may run into undesirable behavior.</p>\n\n<p>For example:</p>\n\n<pre><code>$(\"a\").click(function() {\n    $(window).unbind(\"beforeunload\");\n});\n</code></pre>\n\n<p><strong>QUESTION</strong></p>\n\n<p>Now below is something we discussed and we don't know if there is a clean way to do this but what I want to try and achieve is that if the user does confirm that they want to leave the page, then I want to navigate the user to a different script (Text4.php) and in this script it simply destroys the session and logs the user out. But I want to know if first of all if this is possible and second of all what is your ideas in order to answer this question?</p>\n"},{"tags":["php","mysql","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13268300,"title":"Reverse wildcard search in codeigniter","body":"<p>I am implementing a snippet-based content management system into my current project. Snippets can be associated with a page either by exact match of the full url falling back to a wildcard match on a partial url or finally a default snippet.</p>\n\n<p>To implement this I have a created table of page associations with a wildcard flag, the system first checks the current url against the non-wildcard associations and if it doesn't find a match it checks against the partial url's where the wildcard flag is set.</p>\n\n<p>In order to achieve this I am getting all the partial url's from the database and putting them into an array then walking the array to check for a match against the current url:</p>\n\n<pre><code>protected function _check_wildcard($url = NULL)\n{\n    if($url)\n    {\n        $q = $this-&gt;db-&gt;where('wildcard' ,'Y')\n                -&gt;from('content')\n                -&gt;get();\n        $wildcards = $q-&gt;result_array();\n\n        foreach($wildcards AS $wildcard)\n        {\n            if(strpos($url,$wildcard['url']) !== FALSE )\n            {\n                return $wildcard['snippet_id'];\n            }\n        }\n    }\n    else\n    {\n        return NULL;\n    }\n}\n</code></pre>\n\n<p>Can anyone suggest a better way to do this - preferably one that doesn't involve having to constantly download the full list of all the wildcards each time I load a page as I am afraid that this will have a negative effect on the scalability of the system down the line?</p>\n"},{"tags":["php","caching","magento","redis"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":840,"score":6,"question_id":10988132,"title":"Why Does Magento Invalidation of Full Page Caching on Product save actually make a page not cached and what does refresh do since it is not cached","body":"<p>So Caching of course is what confuses me the most in Magento, as it does for most others I am sure. Currently one of the sites we work on is on Enterprise and utilizes FPC of course. The problem is, we have an inventory update that runs every 15 minutes. A lot of orders are placed to CSR's over the phone and through a catalog into an external system outside of Magento.</p>\n\n<p>Every 15 minutes a script is ran to check any inventory in that system and to see if it differs then what is in Magento. If there is a difference then the inventory is updated in Magento. Using all Magento methods, no sql or anything like that.</p>\n\n<p>We have always had caching issues and have tried all of the latest techniques when they come out. The latest one we are trying is Redis, and we have had good success on other sites with it. However, we are still seeing crazy load on the server and it is apparent that pages aren't cached. </p>\n\n<p>After digging into the code it appears that after ever every model save or admin product controller save it looks to see if cache needs to be invalidated. It appears that changing any attribute, well at least inventory will mark FPC as needing to be invalidated.</p>\n\n<p>I am confused about what invalidation means, because a while back we had a question out to customer support about something similar and this was the response</p>\n\n<blockquote>\n  <p>Full Page cache will get to\n  invalidated state upon any changes on the products, categories, CMS\n  even when the stock is decreased after a sale.</p>\n  \n  <p>Now when full page cache gets to invalidated state this does not mean\n  that something is changed on your frontend however any changes applied\n  after the last refresh will not be shown on the frontend.</p>\n  \n  <p>However if having the FPC validated at all times is a must for your\n  business logic you could certainly set your Magento Installation to\n  refresh it automatically through cron functionality as often as you\n  desire.</p>\n</blockquote>\n\n<p>However on all of the tests that I have done, on both 1.9 and 1.11 Enterprise, it appears when FPC is invalidated, the response isn't being pulled in from cache. Which is contradictory to what they have said about it just not having the newer updates. </p>\n\n<p>Is there something I am missing? Does anyone have a good explanation for how the invalidation works in Magento specifically for FPC or any good links to fully understand the process and the code?</p>\n\n<p>You can try this yourself for any page that is full page cached. But it is my understanding that the method <code>processRequest</code> in <code>/app/code/core/Mage/Core/Model/Cache.php</code> should set the body content with the cached response and return true if the page is cached. </p>\n\n<p>To test go to any page make sure you got it cached and returning true. Go in and edit a product, in our case quantity. This will invalidate FPC. However now when you load the page that was cached before it will return false in this method and not be a cached page. I don't know if this is accurate to be able to tell if a page is cached or not but that is where my investigation lead me. Please correct me if I am wrong.</p>\n\n<p>UPDATE:\nUpon further investigation I have found that when you save a product in the admin, the controller action </p>\n\n<p><code>Mage_Adminhtml_Catalog_ProductController::saveAction()</code> </p>\n\n<p>will call the following method </p>\n\n<p><code>Mage::getModel('catalogrule/rule')-&gt;applyAllRulesToProduct($productId)</code> </p>\n\n<p>Then in the <code>Mage_CatalogRule_Model_Resource_Rule</code> class, the <code>applyAllRulesForDateRange</code> method is called and that fires off the event </p>\n\n<p><code>catalogrule_after_apply</code></p>\n\n<p>Which the Full Page Cache module is observing and firing the clean cache method for the FPC tag. Essentially deleting all FPC cache records.</p>\n\n<p>I don't see why this is necessary if previous to this the logic is clearing the FPC records that are tied to the product and category tags. Is this a bug?</p>\n"},{"tags":["php","apache","joomla","hacking"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13270555,"title":"Site is being re-hacked! How to show list of files being run (Apache)?","body":"<p>I have Apache installed on my big dedicated Windows server. </p>\n\n<p>I have a Joomla 2.5 site that keeps being re-hacked. I have restored the site (to a point long before it was hacked) and updated everything Joomla element and disabled everything that is not needed.</p>\n\n<p>But the hacker (a Russian bot) is hour after hour coming back and is re-hacking the site (must be a BOT).</p>\n\n<p>Is there any way I can see what files are being run at Apache server for a specific site? Because the hacker bot must periodic run a PHP file (giving the backend) in order to re-hack the site.</p>\n\n<p>Does Apache offer this listing of files being run? </p>\n\n<p>Any other tips to debugging the hacking? I have looked into the Apache Error file but I cannot find anything of importance.</p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13269381,"title":"Getting error on invoice details page","body":"<p>I have recently upgraded magento from 1.4.0.1 to 1.7.0.2. Now I am getting error on invoice details page.</p>\n\n<p>Fatal error: Call to a member function updateBackButtonUrl() on a non-object in D:\\xampp\\htdocs\\magento171\\app\\code\\core\\Mage\\Adminhtml\\controllers\\Sales\\Order\\InvoiceController.php on line 151</p>\n\n<p>The code on line 151 is </p>\n\n<pre><code> $this-&gt;getLayout()-&gt;getBlock('sales_invoice_view')-&gt;updateBackButtonUrl($this-&gt;getRequest()-&gt;getParam('come_from'));\n</code></pre>\n\n<p>Can anyone help, how to solve this issue.</p>\n"},{"tags":["php","internationalization","foursquare"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":29,"score":-5,"question_id":13269768,"title":"Arabic language and foursquare API","body":"<p>Does foursquare API support arabic language?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","apache2","cgi","shared-hosting"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":58,"score":1,"question_id":13186069,"title":"sys_get_temp_dir in shared hosting environment","body":"<p><em>Note: This could also fit in superuser.</em></p>\n\n<p>I am setting up PHP 5.3.10 on a shared host with apache2 mpm itk and open_basedir in a way, that each user may not see or change the files of another user. In the apache2 vhost settings, I add the appropriate entries to restrict the user:</p>\n\n<pre><code>    AssignUserId     userA userA\n    php_admin_value  open_basedir      /home/userA/www/\n    php_admin_value  upload_tmp_dir    /home/userA/www/tmp/\n    php_admin_value  session.save_path /home/userA/www/tmp/\n    SetEnv           TMPDIR            /home/userA/www/tmp/\n</code></pre>\n\n<p>Now, the first line sets the linux user to use for apache2, the next three lines define the basedir, upload directory and session savepath to be in the user directory. I'll get back to the last line in a sec.</p>\n\n<p>Now for the problem: <code>sys_get_temp_dir()</code> should give back the temporary directory for php, which is /tmp be default on a linux system. For security reasons, this directory should reside in the open_basedir of userA. According to the php-source of 5.3.10, the <code>sys_get_temp_dir()</code>-function uses the environment variable TMPDIR to get this directory:</p>\n\n<pre><code>     // php-src/main/php_open_temporary_file.c:217-219\n     /* On Unix use the (usual) TMPDIR environment variable. */\n     {\n             char* s = getenv(\"TMPDIR\");\n</code></pre>\n\n<p>This is what the fifth line in the configuration above should do. However, <code>sys_get_temp_dir()</code> simply returns the global system directory, ignoring the environmental variable (which is perfectly set in $_SERVER, also viewable via <code>phpinfo()</code>).</p>\n\n<p>This results in some nasty bugs with various software relying on <code>sys_get_temp_dir()</code>, as that directory is outside of the <code>open_basedir</code> setting. I've tried to set the variable directly into $_ENV and $_SERVER without a change in behaviour. I've tried a <code>putenv('TMPDIR=/home/userA/www/tmp')</code> without change. </p>\n\n<p>However, I am able to change the output by defining the variable into /etc/apache2/envvars - which is useless for me, as I want each VHOST to have its own temporary folder.</p>\n\n<p>The only solution I have found so far is overwriting the internal <code>sys_get_temp_dir()</code> through an extension like <a href=\"http://no2.php.net/manual/en/function.runkit-function-redefine.php\" rel=\"nofollow\">runkit</a> and enforcing its inclusion via <a href=\"http://www.php.net/manual/en/ini.core.php#ini.auto-prepend-file\" rel=\"nofollow\">auto_prepend_file</a>. But that solution is so dirty, I simply can't believe, that there is no better solution around.</p>\n\n<p><strong>So, my question: Is there any way to change the result of <code>sys_get_temp_dir()</code> to be set in an apache2 vhost setting, without reimplementing the function with runkit?</strong></p>\n"},{"tags":["php","apache","cakephp","dns","subdomains"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13269152,"title":"Setting a variable depending on ServerName in CakePHP","body":"<p>I'm building a little app where people can build some sort of portfolio.</p>\n\n<p>At the moment every user can link to their portfolio using the url <code>www.example.com/USERNAME</code> and to handle everything in CakePHP this is the Router rule I'm using:</p>\n\n<pre><code>Router::connect('/:user/:action/*', array('controller'=&gt;'pages'), array('named' =&gt; array('user')));\n</code></pre>\n\n<p>so links are formed this way: <code>www.example.com/USERNAME/home</code> or <code>www.example.com/USERNAME/contact</code></p>\n\n<p>Here comes my question. I'd like for a user to be possible to point his domain's DNS to my IP and change the URLs in <code>www.mypersonalsite.com/home</code> and <code>www.mypersonalsite.com/contact</code> and so on.</p>\n\n<p>Just like tumblr does...</p>\n\n<p>What's the best way to accomplish this? </p>\n\n<p>Thanks everybody :)</p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13269654,"title":"Show price layered navigation after selecting price filter","body":"<p>I would like to show price filter option after selecting price filter already. So, I would like to keep all price filters, even if price filter is already selected. Is this possible?</p>\n\n<p>magento uses the layered navigation system where when u filter a category with something say price, all the other possible selection in the price disappears in that filter, so if you want to pick another price range, you have to go back to the previous page or deselect the filter. </p>\n"},{"tags":["php","apache","api","header","sinemacula"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":44,"score":4,"question_id":13270013,"title":"Remove headers sent to server from the browser","body":"<h2>The Problem and My Question</h2>\n\n<p>I am currently trying to optimize a page on my site that returns a large amount of minified javascript.</p>\n\n<p>By optimize, I mean speed up :-)</p>\n\n<p>One of the ways I am trying to speed this page up is by reducing the headers sent to the server by the browser. 24 hours ago I would not have thought this to be possible, however, I have since then discovered a page that does just this and would like to know how and whether it is worth investigating further.</p>\n\n<p>My page is located at <a href=\"https://libraries.sinemaculammviii.com/\" rel=\"nofollow\">https://libraries.sinemaculammviii.com/</a></p>\n\n<p>The page I am comparing to is <a href=\"https://www.google.com/jsapi\" rel=\"nofollow\">https://www.google.com/jsapi</a></p>\n\n<p><strong>I have used <a href=\"http://tools.pingdom.com\" rel=\"nofollow\">http://tools.pingdom.com</a> to test the speed of both of these pages, and one of the things that clearly shows is the lack of <em>request headers</em> that the Google page sends</strong></p>\n\n<p><strong>How do they do this? Should I be doing it?</strong></p>\n\n<p><strong>Does anyone have any other suggestions as to how I can speed up this page?</strong></p>\n\n<p>I am currently using:</p>\n\n<ol>\n<li>gzip to compress the page</li>\n<li>JSPacker to minify the javascript</li>\n<li>I will be applying caching headers (<strong>I have not done this yet</strong>)</li>\n<li>Although this probably wont make a difference as the page is not static, I have routed my site through the CloudFlare CDN</li>\n</ol>\n\n<h2>Evidence of the Solution</h2>\n\n<p>If you compare the headers (shown in the expanded results) in the following links, you can clearly see that there are no request headers sent by the Google page:</p>\n\n<p><strong><a href=\"http://tools.pingdom.com/fpt/#!/NY9ZnxDZ7/https://libraries.sinemaculammviii.com/\" rel=\"nofollow\">My Page</a></strong></p>\n\n<p><strong><a href=\"http://tools.pingdom.com/fpt/#!/kIHgA861d/https://www.google.com/jsapi\" rel=\"nofollow\">Google's Page</a></strong></p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>I think I may have figured out the first step, or at least a possible first step. <strong>Is it possible that Apache is just removing the headers?</strong></p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/0Qn8f.png\" alt=\"My Page\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/8vByn.png\" alt=\"Google's Page\"></p>\n"},{"tags":["php","http-headers","ms-word","file-download"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13262789,"title":"force file download of msword failing","body":"<p>I currently have the following:</p>\n\n<pre><code>if (headers_sent()) {\n\n    echo 'HTTP header already sent';\n} else {\n    if (!is_file($path)) {\n        header($_SERVER['SERVER_PROTOCOL'].' 404 Not Found');\n        echo 'File not found';\n    } else if (!is_readable($path)) {\n        header($_SERVER['SERVER_PROTOCOL'].' 403 Forbidden');\n        echo 'File not readable';\n    } else {\n        ob_start();\n        header($_SERVER['SERVER_PROTOCOL'].' 200 OK');\n        header('Content-Description: File Transfer');\n        header(\"Content-Type: octet-stream\");\n        header(\"Content-Transfer-Encoding: binary\");\n        header('Expires: 0');\n        header('Cache-Control: must-revalidate');\n        header('Pragma: public');\n        header(\"Content-Length: \".filesize($path));\n        header(\"Content-Disposition: attachment; filename=\\\"\".basename($path).\"\\\"\");\n        ob_clean();\n        ob_flush();\n        readfile($path);\n\n        exit;\n</code></pre>\n\n<p>The above code produces a file download of the correct file name, but with a twist.  </p>\n\n<p>The downloaded file has some html from the download page (headers being sent incorrectly?) then later in the downloaded document there is gibberish text (ex. OJQJ^J.??. WW8Num2z0) taking up several pages.  Finally at the end of the .doc I can read some English which appears to be the correct text of the .doc, but with no formatting.</p>\n\n<p>These issues persist in Chrome and Mozilla.</p>\n\n<p>Any help would be greatly appreciated. Thanks in advance.</p>\n"},{"tags":["php","windows","command-line","filesystems","software-tools"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":22,"score":1,"question_id":13269184,"title":"How to find duplicate files i.e. with same name that exist in same parent directory in PHP?","body":"<p>I am doing clean up in my project. There are some modules in project which are being renamed or newly created or copied directly. In that process I have directly made copied renamed directory or created new directory. And now I want to delete old directory files. So I want to all files with their path which are having same name. (count > 2). There are 500+ of that type of files. That can be css, tpl, php or js files.</p>\n\n<p>i.e. </p>\n\n<ol>\n<li>Main/Games/troy.php</li>\n<li>Main/Games/Child Games/troy.php</li>\n<li>Main/Games/Sports/troy.php</li>\n</ol>\n\n<p>If search is done on Main directory then search should return all 3 files and their paths.</p>\n\n<p>So question is - How to find duplicate files i.e. with same name that exist in same parent directory?</p>\n\n<p>I am using Windows SP2 and PHP. I need only search result no matter how it is provided. Anything like Command prompt, PHP logic, javascript logic, or any software giving results.</p>\n\n<p>I have gone through some questions but they are not helpful to me.</p>\n\n<ol>\n<li><a href=\"http://stackoverflow.com/questions/2109056/how-to-find-duplicate-files-with-same-name-but-in-different-case-that-exist-in-s\">How to find duplicate files with same name but in different case that exist in same directory in Linux?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/6470258/how-do-i-find-all-files-with-the-same-name-in-all-subdirectories\">how do i find all files with the same name in all subdirectories</a></li>\n</ol>\n"},{"tags":["php","image","image-processing","imagemagick","dcraw"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":166,"score":0,"question_id":10727381,"title":"convert dcraw to jpeg with imagemagick too dark/light","body":"<p>I am using dcraw (http://www.cybercom.net/~dcoffin/dcraw/) to handle camera raw files and piping it to imagemagick to convert it to a jpg for web use. I have done a few different test\nand the jpeg never produces the exact same colours/brightness as I see in Adobe Lightroom 3. Even when I do just strait tiff from dcraw, the tiff doesn't have the same colour. So, i think there are a few things I need to tweak in the draw part of the command.</p>\n\n<p>What is the best way to replicate correct colour and brightness of a raw file on a jpeg. I'm currently doing this:</p>\n\n<pre><code>dcraw -c -w 7_1337801236.orf | convert -compress lzw - 7_1337801236.jpg\n</code></pre>\n\n<p>Thanks for any suggestions.</p>\n"},{"tags":["php","sybase"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13269777,"title":"Issues with php tags","body":"<p>I have a strange PHP issue. This was working before but suddenly it is not working as expected.</p>\n\n<pre><code>&lt;?php\nif($_POST['submit']){\nexec(\"/opt/sybase/ASE-15_0/bin/ddlgen -Usa -Pxxx -SFEDORA -TU -Dpubs -N\" . $_POST['optsel'] . \" -O /var/www/html/work/MysqlDDL/tmp/\". $_POST['optsel'],$out);\n$size = filesize(\"/var/www/html/work/MysqlDDL/tmp/\" . $_POST['optsel']);\nheader('Pragma: Public');\nheader('Content-type: text/plain');\nheader(\"Content-Length: $size\");\nheader(\"Content-Disposition: attachment; filename=\".$_POST['optsel'].\";\" ); \nreadfile(\"/var/www/html/work/MysqlDDL/tmp/\".$_POST['optsel']);\n\nexit();\n}\nif($_POST['procsubmit']){\nexec(\"/opt/sybase/ASE-15_0/bin/ddlgen -Usa -Pxxx -SFEDORA -TP -Dpubs -N\" . $_POST['procsel'] . \" -O /var/www/html/work/MysqlDDL/tmp/\". $_POST['procsel'],$out);\n $size = filesize(\"/var/www/html/work/MysqlDDL/tmp/\" . $_POST['procsel']);\nheader('Pragma: Public');\nheader('Content-type: text/plain');\nheader(\"Content-Length: $size\");\nheader(\"Content-Disposition: attachment; filename=\".$_POST['procsel'].\";\" ); \nreadfile(\"/var/www/html/work/MysqlDDL/tmp/\".$_POST['procsel']);\n\nexit();\n}\n?&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;?php\n$sy = sybase_connect('FEDORA','sa','xxx');\nif (!$sy)        {\necho \"&lt;h1&gt;Faled to connect.&lt;/h1&gt;\";\ndie();\n        }\n</code></pre>\n\n<p>The weird thing is that it only parses the first line after the second opening php tag and never completes the whole script. It worked before. This may be a simple question but I appreciate any answers.</p>\n"},{"tags":["php","html","css","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13270005,"title":"Joomla 2.5 check current page","body":"<p>In Joomla 2.5 how would i check which page the user is currently on? I have this which checks if they are on the home page:</p>\n\n<pre><code>$menu = $app-&gt;getMenu();\nif ($menu-&gt;getActive() == $menu-&gt;getDefault()) {\n</code></pre>\n\n<p>I need something similar which will check if they are on another page in the site and return a different template. How would this be done?</p>\n"},{"tags":["php","sql-server-2008","svg"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":7,"score":1,"question_id":13270185,"title":"Connecting SQL Server 2008 Spatial with PHP for SVG Maps on website","body":"<p>I know GIS but I am new to SQL Server 2008 Spatial, SVG or PHP: I am planing to display an SVG map online embedded with 2 other online applications developed using JAVA and other one with .NET. </p>\n\n<p>Beside the map there are other attribute information stored in SQL Server in a different table based on Zipcode, I want to connect those attributes also with each Zipcode based polygon in my SVG Map.</p>\n\n<p>I do not know how to connect SQL Server using PHP/ASP/Java/Java Script or any server side scripting.</p>\n\n<p>I am not a programmer but I have basic idea about JavaScript and little bit of PHP. I am looking for mouse-over, Zoom in Zoom Out, PAN functions.\nAny help about SQL Server 2008 connection, rendering SVG.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":34,"score":-4,"question_id":13266594,"title":"Get the first image in a page with class foo","body":"<p>I'm trying to get the first image with specific class from page by php\n<br></p>\n\n<pre><code>&lt;?php\n$document = new DOMDocument();\n@$document-&gt;loadHTML(file_get_contents('http://www.cbsnews.com/8301-501465_162-57471379-501465/first-picture-on-the-internet-turns-20/'));\n$lst = $document-&gt;getElementsByTagName('img');\n\nfor ($i=0; $i&lt;$lst-&gt;length; $i++) {\n    $image = $lst-&gt;item($i);\n    echo $image-&gt;attributes-&gt;getNamedItem('src')-&gt;value, '&lt;br /&gt;';\n}\n?&gt;\n</code></pre>\n\n<p>this code get all images from the page, i'm trying now to get the images with class \"cnet-image\" from <a href=\"http://www.cbsnews.com/8301-501465_162-57471379-501465/first-picture-on-the-internet-turns-20/\" rel=\"nofollow\">this page</a></p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13268239,"title":"Search and remove from result?","body":"<p>I got this result and i want extraction first image from folder clear just the first</p>\n\n<p>Example of the result</p>\n\n<pre><code>http://i.i.com.com/cnwk.1d/i/tim/2012/07/12/Les_Horribles_Cernettes_in_1992_620x350.jpg\nhttp://i.i.com.com/cnwk.1d/i/tim/2012/07/03/IBM-350-publicdomain_220x157.jpg\nhttp://cbsdigitalmedia.112.2o7.net/b/ss/cbscbsnewscomatlantisuat/1/H.21--NS.png\nhttp://dw.com.com/clear/c.gif\nhttp://i.i.com.com/cnwk.1d/i/tim/2012/07/03/IBM-350-publicdomain_220x157.jpg\nhttp://dw.com.com/clear/test2.gif\nhttp://cbsdigitalmedia.112.2o7.net/b/ss/cbscbsnewscomatlantisuat/1/H.21--NS.png\nhttp://dw.com.com/clear/test.gif\n</code></pre>\n\n<p>The image i want</p>\n\n<pre><code>http://dw.com.com/clear/c.gif\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13268355,"title":"htaccess allow only right domain name in ip dedicated website","body":"<p>i'm trying to allow only my domain name to view my website...\ni have a dedicated ip and Anyone can basically set your domain to my ip, It creates duplicate content of my website.</p>\n"},{"tags":["php","mysql","ajax","json"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13270086,"title":"How do I alert multiple results with ajax from json arrray","body":"<p>I have this query </p>\n\n<pre><code>$result = mysql_query(\"SELECT * FROM ship_data WHERE id = $ship\") or die(mysql_error());\n$rows = array();\nwhile($r = mysql_fetch_assoc($result)) {\n    $rows = $r; \necho json_encode($rows);\n}\n</code></pre>\n\n<p>And this bit of ajax to return the results</p>\n\n<pre><code> $.ajax({\n            type: \"POST\",\n            dataType: \"json\",\n            data: \"ship=\" + ship,\n            cache: false,\n            url: \"/getdata.php\",\n            success: function (data) {\n                alert(data.carrier);\n            }\n        });\n</code></pre>\n\n<p>If there is just one result in the array it works, if the array has multiple results in the array nothing is alerted.</p>\n"},{"tags":["php","xml","json","performance"],"answer_count":7,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":5173,"score":4,"question_id":993282,"title":"PHP: is JSON or XML parser faster?","body":"<p>I'm building classes that interface with the Twitter API, and I'm wondering whether PHP's built-in XML or JSON parser is faster? Twitter will send me the same data in either format, so  PHP performance will determine my choice. I'm using php_apc, so you can disregard parse time and assume I'm running off bytecode.</p>\n\n<p>Thanks!</p>\n\n<p>more: I'm just looking to get associative arrays from the data. I'm not doing tree walking, node iteration or anything too complex. The format will always be the same. (I hope!)</p>\n"},{"tags":["php","mysql","pdo","doctrine","doctrine2"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13269385,"title":"Doctrine Backuptables","body":"<p>is there any way to make Backup Tables in Doctrine 2.</p>\n\n<p>I have an XML and want to import it every day with an cron job.\nFirst I create a new Schema with the end _new.</p>\n\n<pre><code>if ($newTables) {\n    $tablePastfix = new \\DoctrineExtensions\\TablePastfix('_new');\n    $evm-&gt;addEventListener(\\Doctrine\\ORM\\Events::loadClassMetadata, $tablePastfix);\n    }\n\n    $entityManager = \\Doctrine\\ORM\\EntityManager::create($conn, $config, $evm);\n\n    if ($newTables) {\n    $tool = new \\Doctrine\\ORM\\Tools\\SchemaTool($entityManager);\n    $classes = array (\n        $entityManager-&gt;getClassMetadata('MyClasses'),\n        $entityManager-&gt;getClassMetadata('MyClasses'),\n        $entityManager-&gt;getClassMetadata('MyClasses'),\n    );\n        $tool-&gt;createSchema($classes);\n}\n</code></pre>\n\n<p>After it i import the data from xml.\nAnd is all okay, i rename the Tables</p>\n\n<pre><code>$dm = Doctrine\\DBAL\\DriverManager::getConnection($conn);\n$sql = \"DROP TABLE `mytable_old`;\";\n$stmt = $dm-&gt;query($sql);\n$stmt-&gt;execute();\n\n$dm = Doctrine\\DBAL\\DriverManager::getConnection($conn);\n$sql = \"ALTER TABLE `mytable` RENAME `mytable_old`;\";\n$stmt = $dm-&gt;query($sql);\n$stmt-&gt;execute();\n\n$dm = Doctrine\\DBAL\\DriverManager::getConnection($conn);\n$sql = \"ALTER TABLE `mytable_new` RENAME `mytable`;\";\n$stmt = $dm-&gt;query($sql);\n$stmt-&gt;execute();\n</code></pre>\n\n<p>But when i want to import again, i get the following error . . . . . :(</p>\n\n<pre><code>Fatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[HY000]: General error: 1005 Can't create table 'databasename.#sql-220_87' (errno: 121)' in /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/ORM/Tools/ToolsException.php on line 33\n\nPDOException: SQLSTATE[HY000]: General error: 1005 Can't create table 'databasename.#sql-220_87' (errno: 121) in /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/DBAL/Connection.php on line 646\n\nCall Stack:\n    0.0011     761296   1. {main}() /path/to/jobs/import.php:0\n    0.0014     767024   2. require_once('/path/to/jobs/config.php') /path/to/jobs/import.php:7\n    0.0017     770536   3. require_once('/path/to/jobs/bootstrap.php') /path/to/jobs/config.php:3\n    0.0020     796264   4. require_once('/path/to/jobs/bootstrap_doctrine.php') /path/to/jobs/bootstrap.php:5\n    0.1468    7673040   5. Doctrine\\ORM\\Tools\\SchemaTool-&gt;createSchema() /path/to/jobs/bootstrap_doctrine.php:53\n    1.1216    9445080   6. Doctrine\\DBAL\\Connection-&gt;executeQuery() /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/ORM/Tools/SchemaTool.php:90\n    1.1216    9445656   7. PDO-&gt;query() /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/DBAL/Connection.php:646\n\nDoctrine\\DBAL\\DBALException: An exception occurred while executing 'ALTER TABLE doc_consultant_practice_new ADD CONSTRAINT FK_60C69DE344F779A2 FOREIGN KEY (consultant_id) REFERENCES doc_xml_consultant_new (id) ON DELETE CASCADE':\n\nSQLSTATE[HY000]: General error: 1005 Can't create table 'databasename.#sql-220_87' (errno: 121) in /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/DBAL/DBALException.php on line 47\n\nCall Stack:\n    0.0011     761296   1. {main}() /path/to/jobs/import.php:0\n    0.0014     767024   2. require_once('/path/to/jobs/config.php') /path/to/jobs/import.php:7\n    0.0017     770536   3. require_once('/path/to/jobs/bootstrap.php') /path/to/jobs/config.php:3\n    0.0020     796264   4. require_once('/path/to/jobs/bootstrap_doctrine.php') /path/to/jobs/bootstrap.php:5\n    0.1468    7673040   5. Doctrine\\ORM\\Tools\\SchemaTool-&gt;createSchema() /path/to/jobs/bootstrap_doctrine.php:53\n    1.1216    9445080   6. Doctrine\\DBAL\\Connection-&gt;executeQuery() /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/ORM/Tools/SchemaTool.php:90\n\nDoctrine\\ORM\\Tools\\ToolsException: Schema-Tool failed with Error 'An exception occurred while executing 'ALTER TABLE doc_consultant_practice_new ADD CONSTRAINT FK_60C69DE344F779A2 FOREIGN KEY (consultant_id) REFERENCES doc_xml_consultant_new (id) ON DELETE CASCADE':\n\nSQLSTATE[HY000]: General error: 1005 Can't create table 'databasename.#sql-220_87' (errno: 121)' while executing DDL: ALTER TABLE doc_consultant_practice_new ADD CONSTRAINT FK_60C69DE344F779A2 FOREIGN KEY (consultant_id) REFERENCES doc_xml_consultant_new (id) ON DELETE CASCADE in /Applications/MAMP/bin/php/php5.3.14/lib/php/Doctrine/ORM/Tools/ToolsException.php on line 33\n\nCall Stack:\n    0.0011     761296   1. {main}() /path/to/jobs/import.php:0\n    0.0014     767024   2. require_once('/path/to/jobs/config.php') /path/to/jobs/import.php:7\n    0.0017     770536   3. require_once('/path/to/jobs/bootstrap.php') /path/to/jobs/config.php:3\n    0.0020     796264   4. require_once('/path/to/jobs/bootstrap_doctrine.php') /path/to/jobs/bootstrap.php:5\n    0.1468    7673040   5. Doctrine\\ORM\\Tools\\SchemaTool-&gt;createSchema() /path/to/jobs/bootstrap_doctrine.php:53\n</code></pre>\n\n<p>Do anybody know my mistake or have an better idea to realize backup tables?</p>\n"},{"tags":["php","apache","configuration","vps","open-basedir"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13270116,"title":"How to change Open_basedir Local Value to: NULL","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13261074/open-basedir-master-value-0-but-it-has-a-local-value\">Open_Basedir Master value: 0, but it has a local value</a>  </p>\n</blockquote>\n\n\n\n<p>I have a serious problem which I had since 2 days, and I have tried to figure it out, but I just couldn't. I have spent 2 days with nothing, and I'm really desperate...</p>\n\n<p>I have a VPS server with CentOS 5 installed. I have Kloxo panel on it. My problem is that somehow the <code>open_basedir</code> LOCAL value has changed to the following:  </p>\n\n<pre><code>/home/admin:/home/admin/kloxoscript:/home/***.com:/home/***.com/httpdocs:/tmp:/usr/share/pear:/var/lib/php/session/:/home/kloxo/httpd/script\n</code></pre>\n\n<p>Now its value is not null, so I cannot use my cURL function on the server. I have already read about this issue, and I have tried to find all php.ini on my server with the following command via SSH: <code>find / -name php.ini</code>  I have got some file, I have browsed them, and searhed for: <code>open_basedir</code> It was commented out everywhere, except at /home/httpd/<em>*</em>.com, where I have found a line with the following:  <code>/home/admin:/home/admin/kloxoscript:/home/***.com:/home/***.com/httpdocs:/tmp:/usr/share/pear:/var/lib/php/session/:/home/kloxo/httpd/script</code></p>\n\n<p>I have just deleted that line and saved, but unforunately nothing happened. I have checked all PHP.ini but there is no more open_basedir line in those files. I have read that I might have to change it in my vhosts file, but I couldn't find anything like that.</p>\n\n<p>Can someone please help me? I'm really desperate.</p>\n"},{"tags":["php","arrays"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":24,"score":-2,"question_id":13268388,"title":"how to sort an array whoose row contains an structure of an object","body":"<pre><code>[a] =&gt; Array\n        (\n            [0] =&gt; a Object\n                (\n                 [Sequence] =&gt; 5\n                 [Type] =&gt; 50\n                    [Hierarchy] =&gt; Array\n                        (\n                        )\n                )\n\n            [1] =&gt;  a Object\n                (  [Sequence] =&gt; 3\n                    [Type] =&gt; 50\n                    [Hierarchy] =&gt; Array\n                        (\n                        )\n</code></pre>\n"},{"tags":["php","xml","symfony2","xml-schema"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13268434,"title":"Processing Symfony Bundle Resources automatically","body":"<p>I'm developing a XML Validation service that uses multiple XML Schema files for validation of XML files in my application. XML Schema files use imports heavily. For that reason I need a service, that would associate namespaces to their schema definitions (file locations).</p>\n\n<p>Each XML namespace is defined in separate XSD.</p>\n\n<p>I know I could use <em>schemaLocation</em> attributes to connect schemas with their files, but that would require using lots of relative paths and wouldn't work well with arbitrary project structures:</p>\n\n<pre><code>&lt;-- schema.xsd --&gt;\n&lt;xsd:import namespace=\"urn.my.namespace\" schemaLocation=\"...\"/&gt;\n\n&lt;-- actual.xml --&gt;\n&lt;root xmlns=\"urn.my.namespace\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"urn.my.namespace schema.xsd\"&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>I would like to create a service that walks throughout bundles, discovers xsd files and registers their namespace - file location association into some kind of registry that would\nbe available for other XML services.</p>\n\n<p>My Symfony project has the following structure:</p>\n\n<pre><code>AbcBundle/\n    Resources/config/services.xml\n    Resources/xsd/\n        schema.xsd\n        ns1.xsd\n        ns2.xsd\n        ...\n    AbcBundle.php\nXyzBundle/\n    [same structre]\n</code></pre>\n\n<p>Planned usage:</p>\n\n<pre><code>$nsLocator = $container-&gt;get('xml.ns_locator');\n$nsLocator-&gt;getNamespaceMap();\n/* returns array(\n    'urn:my:ns1' =&gt; '/realpath/to/ns1.xsd',\n    'urn:my:ns2' =&gt; '/otherpath/to/ns2.xsd',\n*/\n</code></pre>\n\n<p>The <em>$nsLocator</em> should build that map automatically from Bundle/Resources/xsd/ directories.\nI like the way that Symfony registers Bundle/Command or Bundle/Controller with its stack.</p>\n\n<p>I was thinking of some kind of event listener that would hook into Kernel and once all Bundles are registered it would scan all XSDs and create a map. If done this way, It would require a caching so it doesn't rescan all the files every time a new request or a command is executed.</p>\n\n<p>How do I build that component and hook it into kernel? Where is the correct connection point for this component? Is it generally a good approach?</p>\n"},{"tags":["php","preg-match"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":14,"score":-2,"question_id":13269928,"title":"Finding an appropriate preg_match regular expression","body":"<p>I have got a little problem, while coding.  I have a text string like </p>\n\n<pre><code>\"This is a {cat} with {big} eyes.\"\n</code></pre>\n\n<p>What I want to do is, I want an appropriate preg_match regular expression, so that I could extract the words written in curly braces from a sentence. I would be very thankful for any help.</p>\n"},{"tags":["php","opencart"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13247606,"title":"Opencart- Check if user is on category page","body":"<p>I've a requirement where the product search and Login/Register links must be displayed only if the user is on Category Pages. That block should not be displayed while on the Static Footer pages as Contact Us or other static footer links.</p>\n\n<p>Weird as it may be the client has very specific requirements regarding this thing.</p>\n\n<p>I've worked on my own with the help in community as much as I can get. But so far I've been able to enable or disable the block completely.</p>\n"},{"tags":["php","outofmemoryexception","jpgraph"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13253185,"title":"PHP / JpGraph - Memory not freed on completion of function","body":"<p>My application needs to generate a pdf file with a bunch of graphs in it.</p>\n\n<p>The situation: I'm using FPDF for pdf generation and JpGraph for the graphs. My code gets the graph data from a database and iterates through, calling a function for each graph that contains all the JpGraph code for setting up, styling the graph and caching it as a png file in a cache folder on the server. FPDF then places these images in the pdf, which is served to browser.</p>\n\n<p>The problem: I'm getting PHP out of memory errors when the number of graphs exceeds a certain number. AFAICT this is not an FPDF problem: in trying to diagnose the problem I have generated much larger documents with many more (pre-generated) graphs and images of equivalent size. The problem seems to be that the memory used to render the graph in the graph rendering function is not freed when the function is completed. This is based on the fact that if I call memory_get_peak_usage in the function I get a bunch of increasing numbers, one from each time the function is called, up to the limit of 64MB where it stops.</p>\n\n<p>My graph generation script looks something like this:</p>\n\n<pre><code>function barChart($filename, $ydata, $xdata){\n\n// Create the graph. These two calls are always required\n$graph = new Graph(900,500);\n$graph-&gt;SetScale('textlin');\n\n//(bunch of styling stuff)\n\n// Create the bar plot\n$bplot=new BarPlot($ydata);\n\n// Add the plot to the graph\n$graph-&gt;Add($bplot);\n\n//(more styling stuff)\n\n\n// Display the graph\n$graph-&gt;Stroke($filename);\n\n$graph = null;\n$bplot = null;\n\nunset($graph);\nunset($bplot);\n\necho \"&lt;br&gt;&lt;br&gt;\".(memory_get_peak_usage(true)/1048576).\"&lt;br&gt;&lt;br&gt;\";\n}\n</code></pre>\n\n<p>As you can see, I've tried unsetting and nullifying the graph and bplot objects, although my understanding is that this shouldn't be necessary. Shouldn't all the memory used by the Graph and Bplot instances be freed up when the function finishes? Or is this perhaps a JpGraph memory leak? (I've searched high and low and can't find anyone else complaining about this). This is my first remotely resource-heavy PHP project, so I could be missing something obvious.</p>\n\n<p>I'd really appreciate any ideas anyone could offer on what's going wrong here. I'm not really accustomed to asking questions here so please let me know if there's any more info I should be giving.</p>\n"},{"tags":["php","wordpress","plugins","registration","hook"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":2761235,"title":"Is it possible to register a user and submit a comment with one form with Wordpress?","body":"<p>Is it possible to do both registering for an account and submit a comment at the same time? I want the user to be able to do this all on one page to ecourage the registration rather than be discouraged about typing something, not realizing they had to be registered and thus having to leave the page. </p>\n\n<p>I think that this could be done by adding register user action to the submit comment action, but not sure how to do it with the prebuilt wordpress add_action or do_action functions. Has anyone tried this, or know of any plug-ins that do this already? I searched but couldn't find anything helpful.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","curl","login","remote-server"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":47,"score":1,"question_id":13266997,"title":"Login and get image from site using cURL","body":"<p>I am trying to get an chart image from a remote site.<br>\nBut the image seemed to be created dynamically from the site when called.<br>\nIt will return nothing when not logged in.  </p>\n\n<p>This is the image URL </p>\n\n<pre><code>&lt;img src=\"http://fuelbuyer.dtn.com/energy/view/energy/chart.do?width=150&amp;height=120&amp;chartType=0&amp;ts=1352196066175&amp;rackId=446&amp;productId=179&amp;points=8&amp;showExtraLine=True\"&gt;\n</code></pre>\n\n<p>I somehow managed to log in using this CODE and tried to display image.<br>\nBut it is not working. </p>\n\n<pre><code>$ch = curl_init();\n$url = 'http://fuelbuyer.dtn.com/energy/common/signin.do?';\n$login = 'username=$USER&amp;password=$pass&amp;autoLogin=true&amp;partnerId=0&amp;partnerName=';\ncurl_setopt($ch, CURLOPT_URL, $url.$login);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);\ncurl_setopt($ch, CURLOPT_HEADER, 0);\n$output = curl_exec($ch);\n$info = curl_getinfo($ch);\ncurl_close($ch); \n</code></pre>\n\n<p>Calling the image URL directly (on browser Addressbar ONLY WHEN LOGGED IN) , will give some code like  </p>\n\n<p>\"\nâ°PNG  IHDRâxÅ¸-ÅGPIDATxÃÃ­lÃÃ IHKB-ÃuÃÃÂª!EÅ¡Â°Å  !ÃB IÃÂµÂ©â¦Åâ¬ $@Sâ¡8Â¶ ÂªÃâDÂ²ÅÃbR Ã`ËWjAx;~ÃÃ¸â¦Ã§Â·Ã¯Â±;Â³Ã½ÃkÃÃ»ÂºÃÃÂ³â¢Â»Ã_+Â´ÃÃ·vÃ·Â·3Ã³Ã¿fÂ¾â¢Ã²qnAa@âÃ¹ÃMâº6Ã¥Ã5}Â£Â¡kÃ¨Â¨Å¡Å½iÃ¨Â¸Â¶Â¾USÅ¾â Nh(_M'5tJC Ãâ¢Â°âÃ°N?Ã¿Â¼3>Â¾=5ÂµÃ®Ã²Ã¥ÃªÃÃ´Â©VÂ¢:â°Ãª%Âº+QÆD5ÃµÂ©Y\"âºD-Ã*QâºDÃ­}ÃªÂ¨SÂ¢.â°Âº%Â²KÃ¤Ã¨âÂ³Â­ÃÂ¹âÃÂ¸ÃUPÃ âËâËâÃµÃ©Ã´Ã©Ã!rBPÂ¸Â¡Å¸Ã¿Â¼Â®Â¨Â¨F\"Ã¯Ã²â\"Â´ÃOÅ Ã4?G}=Å½Å \"ÃÃgdPÃ²c!â  #â[WB}\n\"</p>\n\n<p>but when called like </p>\n\n<pre><code>&lt;img src=\"http://fuelbuyer.dtn.com/energy/view/energy/chart.do?width=150&amp;height=120&amp;chartType=0&amp;ts=1352196066175&amp;rackId=446&amp;productId=179&amp;points=8&amp;showExtraLine=True\"&gt;\n</code></pre>\n\n<p>will give the correct image.</p>\n\n<p>I really dont know what to do next.   </p>\n\n<p><em>How can I log into the site using cURL and execute this line.<br>\n    <code>&lt;img src=\"http://fuelbuyer.dtn.com/energy/view/energy/chart.do?width=150&amp;height=120&amp;chartType=0&amp;ts=1352196066175&amp;rackId=446&amp;productId=179&amp;points=8&amp;showExtraLine=True\"&gt;</code><br>\nThe site will be redirected to the home page when successfully logged in.<br>\nSo, I have to prevent from redirection too.<br>\nThe session will be terminated after few seconds.</em>  </p>\n\n<p>Thanking you in advance,<br>\nEugine P J</p>\n"},{"tags":["php","drupal","amazon-ec2","amazon-web-services","open-atrium"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13255396,"title":"Migrate a Drupal Site with AWS","body":"<p>I'm trying to migrate a open atrium (based on drupal) site to a new AWS EC2 instance.\nI was following the steps of migrating a site from <a href=\"http://drupal.org\" rel=\"nofollow\">http://drupal.org</a>. I'm sure that the <code>settings.php</code> and new database is configured right. But when I try to open the new site it always shows a blank page. Can anyone help me identify the problem?</p>\n\n<p>Ps, I did try a fresh install and it works fine.</p>\n"},{"tags":["php","ajax","tinymce"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13265316,"title":"TinyMce integration in ajax php page","body":"<p>I create an html page having 1 buttons clicking on the first will call a php file \"1.php\" via ajax where there is a tinymce editor attached with a text area.When after opening the page i'm pressing the button the editor is appearing on the screen but problem arrives when i press the button for the second time the editor just vanished and a simple text area took it's place.Any idea why this error is occurring,</p>\n\n<p>Also i tried to add a check portion before attaching the tiny editor for checking if there is already an editor attached then the older one will be removed and the newer one will took place.This code is running 100% successfully in google chrome but not in firefox / ie.This problem is just screwing me up,need ideas.</p>\n\n<hr>\n\n<p>FOR CHECKING THE PREVIOUS INTEGRATION OF TINYMCE AND REMOVE THE FOLLOWING CODE IS WORKING FINE</p>\n\n<pre><code> var oldEditor = tinyMCE.get('message');\n    if (oldEditor != undefined) {\n    tinymce.remove(oldEditor);\n   }\n    tinyMCE.execCommand('mceAddControl', false, 'message');\n     //MESSAGE IS THE NAME OF TEXT AREA ON WHICH TINYMCE IS GOING TO BE INTEGRATED\n</code></pre>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13269984,"title":"CSS paths are changes in Url rewriting in php","body":"<p>When i am using htaccess file css is not loading. Can anyone tell me code for working css.\nthanks in advance.\ncode of .htaccess file</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule ^products/([a-zA-Z]+)$ /products/$1 [R]\nRewriteRule ^products/([a-zA-Z]+)/$ productinfo.php?prodID=$1\n</code></pre>\n"},{"tags":["php","colors","range"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13269211,"title":"use a range of colors from the value of RGB value","body":"<p>I want to use a range of colors using the value of RGB values</p>\n\n<p>Suppose rbg of black color in ideal condition is rgb(0,0,0) but when  i scan any image.It's color range varies from 0 to 51 like rgb(31,31,31),rgb(49,49,49) etc</p>\n\n<p>what i required to use a  color range for condition </p>\n\n<p>if(r=0 to 51 &amp;&amp; g=0 to 51 &amp;&amp; b=0 to 51)\ncondition execute</p>\n\n<p>Another thing all three values ie rgb should have similar value for example:-rgb(0,0,0) rgb(31,31,31)etc\nso that combine color resembles black color</p>\n\n<p>Making sense?</p>\n\n<p>Im using PHP</p>\n"},{"tags":["php","xpath"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13269783,"title":"XPath put results in MySQL","body":"<p>I am executing an <code>$res = $xpath-&gt;query(\"something\");</code><br>\nand getting for let's say <code>$res-&gt;item(10)-&gt;nodeValue</code>  </p>\n\n<p>Output:</p>\n\n<pre><code>7/11/12  \nmanchester utd  \n2.00  \nx  \n3.10  \narsenal  \n2.40  \n</code></pre>\n\n<p>That's one <code>nodeValue</code>. Now I want to filter the lines to input the different values in different fields in mysql tables.</p>\n\n<p>Any simple way to do that?</p>\n"},{"tags":["php","apache"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":18,"score":-2,"question_id":13264229,"title":"mod_rewrite not passing GET values","body":"<p>the php page is not receiving the GET variable and is producing an undefined index error for textSearch.\nI've turned off multiviews, and added QSA as suggested in related posts.</p>\n\n<p>my .htaccess looks like this</p>\n\n<pre><code>Options -MultiViews\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule ^(.*)$ index.php?id=$1 [QSA,L]\n</code></pre>\n\n<p>The <code>$_GET</code> variable should be named textSearch</p>\n\n<pre><code>&lt;form action='users/index.php' method\"GET\"&gt;\n   &lt;input type='text' name='textSearch'&gt;\n   &lt;input type='submit' value='submit'&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>[EDIT]\nAs mentioned in the comments, the form's location is in <code>localhost/Build_3/index.php</code>, and is passing the 'textSearch' variable to <code>localhost/Build_3/users/index.php</code> </p>\n"},{"tags":["php","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13269732,"title":"Deep array !empty check in php","body":"<p>I need to check array value, but when array is empty, I get this: Error: Cannot use string offset as an array</p>\n\n<pre><code>if (!empty($items[$i]['tickets']['ticket'][0]['price']['eur'])) {  //do something  }\n</code></pre>\n\n<p>How to do it correctly?</p>\n"},{"tags":["php","boolean","logical-operators"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13269330,"title":"Is !$festive the same as $festive==FALSE?","body":"<p>I have a doubt with a few lines of PHP.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>// returns TRUE if a day is festive, FALSE otherwise\n$festive = isFestive();\n// \n$workingDay = $d&gt;0 &amp;&amp; !$festive;\n</code></pre>\n\n<p>Is <code>$workingDay = $d&gt;0 &amp;&amp; !$festive</code> the same as writing <code>$workingDay = $d&gt;0 &amp;&amp; $festive==FALSE;</code> ?</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["php","symfony2","composer-php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13228582,"title":"Error installing symfony2 vendors locally with composer","body":"<p>I hope I have phrased that correctly, but I am trying to install vendors into my symfony2 project, which I have just downloaded from SVN, but I keep getting this error, </p>\n\n<pre><code>  [Symfony\\Component\\Config\\Exception\\FileLoaderLoadException]                                                                        \n  Cannot import resource \"parameters.ini\" from \"/Users/john/Sites/trunk/awesome/app/zone/config/../../config/config.yml\".  \n\n  [InvalidArgumentException]                                                                                                 \n  The file \"parameters.ini\" does not exist (in: /Users/john/Sites/trunk/awesome/app/zone/config/../../config, ).  \n\nScript Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::clearCache handling the post-install-cmd event terminated with an exception\n\n  [RuntimeException]                                                         \n  An error occurred when executing the \"'cache:clear --no-warmup'\" command.  \n</code></pre>\n\n<p>Obviously it seems to be looking in the wrong directory, but I am not sure what file is pointing to those files.</p>\n\n<p>Also, I am quite new to Symfony, so I am unsure of where to look to start fixing the problem...</p>\n"},{"tags":["php","rest","curl","clickbank"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13269844,"title":"Rest-ClickBank sandbox post api not working","body":"<p>I am trying to use Sandbox Api of clickBank which accepts a post request.\nBut somehow it doesnot work.</p>\n\n<p>I am calling clickBank's Prepare Api (https://sandbox.clickbank.com/rest/1.2/sandbox/prepare) using a POST method.</p>\n\n<p>But it giving me this error\n    HTTP/1.1 405 Method Not Allowed Date: Wed, 07 Nov 2012 12:08:32 GMT Server:     Apache/2.2.22 (FreeBSD) mod_jk/1.2.32 mod_ssl/2.2.22 OpenSSL/0.9.8q Allow: POST,OPTIONS Content-Length: 1034 Content-Type: text/html;charset=utf-8 1</p>\n\n<p>Here is my code.</p>\n\n<pre><code>$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL,\"https://sandbox.clickbank.com/rest/1.2/sandbox/prepare\");\ncurl_setopt($ch, CURLOPT_HEADER, true); \ncurl_setopt($ch, CURLOPT_POST, true); \ncurl_setopt($ch, CURLOPT_NOBODY, true);\n//curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\n\ncurl_setopt($ch, CURLOPT_HTTPHEADER, array(\"Accept: application/xml\", \"Authorization:\". $dev_key .\":\" .$api_key ));\n$result = curl_exec($ch);\ncurl_close($ch);\nprint $result;\n</code></pre>\n\n<p>I tried everything but it doesnot seem to work.\nAny help would be highly appreciated.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","php","ftp","client","apache-commons"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13269746,"title":"Java ftp upload and matching the file to website member","body":"<p>So I have a java webapp that lets the user upload a file to a server. I am using apache commons library FtpClient to do that. </p>\n\n<p>I want to be able to match the uploaded file with the user of my website (the web app is only accessible from within the user area on the website). The website and whole user-interaction and management is in PHP / MySQL. So basically, I want to match the file uploaded in the Java webapp with the user in MySQL table who uploaded it. </p>\n\n<p>How should I use PHP on the server to grab that file and match it with the user? Or maybe it's more convenient to do that from Java application somehow? Which approach do you suggest?</p>\n"},{"tags":["php","phpmail"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":67,"score":4,"question_id":13072482,"title":"PHPMail sending attachment but they are empty","body":"<p>Basically, I am trying to send a PDF via PHPMail.\nthe email is sent and I receive it in outlook perfectly. the problem is that the attachment is broken and it doesnt open. I even tried sending a HTML and is also empty. </p>\n\n<p>I tried researching in the forum, tried several \"working codes\" and other people got it working with this code... I have no clue why is not working for me.\nI am using the lastest version of PHPMail 5.2.2</p>\n\n<pre><code>$mail = new PHPMailer();\n        $staffEmail = \"staffemail\";\n        $mail-&gt;From = $staffEmail;\n        $mail-&gt;FromName = \"name\";\n        $mail-&gt;AddAddress('my@email.com');\n        $mail-&gt;AddReplyTo($staffEmail, \"name\");\n\n        $mail-&gt;AddAttachment('test.pdf');\n        $mail-&gt;Subject = \"PDF file attachment\";\n\n        $mail-&gt;Body = \"message!\";\n        $mail-&gt;Send();\n</code></pre>\n"},{"tags":["php","soap","proxy","wsdl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13269794,"title":"PHP Soap over Proxys","body":"<p>I already asked a question related to this topic here, but nothing really helped. Now i know a bit more about SOAP and can give further information and i hope someone of you might have a good idea why it doesn't work.</p>\n\n<ol>\n<li>I am trying to set up a little SoapClient in PHP to access an extern Web Service.</li>\n<li>This SoapClient needs to run at my local university behind a proxy.</li>\n<li>The extern WSDL file is secured via IP-Check.</li>\n</ol>\n\n<p>This is what i know:</p>\n\n<pre><code>$ExternWSDLFile = \"http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl\";\n$LocalUniversityProxy = \"proxy.krz.uni-heidelberg.de:8080\";\n</code></pre>\n\n<p>After i always tried to access the WSDL via User / Password and i didn't work for a long time they told me, that User / Password is not necessary and the WSDL Authentification is only done via IP-Check. So i don't have to give the SoapClient any User/Password Combination any longer as i thought and tried before.</p>\n\n<p>This is what i tried first from the University Computer with the registered IP-Adress:</p>\n\n<pre><code>$wsdl = \"http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl\";    \n$Client = new SoapClient($wsdl,array('trace' =&gt; 1, 'exception' =&gt; 0, 'cache_wsdl' =&gt; 0));\n$Authentification = $Client-&gt;authenticate();\nvar_dump($Client);\nvar_dump($Authentification);\n</code></pre>\n\n<p>Still didn't work, while the same Code run from an extern private PC, gave at least no Error  Message, but an fully initialized Soap-Object. This Code on the University-PC only generated  an Error-Message like that:</p>\n\n<pre><code>Fatal error: Uncaught SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl' : failed to load external entity \"http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl\" in E:\\xampp\\htdocs\\test.php:17 Stack trace: #0 E:\\xampp\\htdocs\\test.php(17): SoapClient-&gt;SoapClient('http://search.w...', Array) #1 {main} thrown in E:\\xampp\\htdocs\\test.php on line 17 \n</code></pre>\n\n<p>So this definetely broke because of the University-Proxy!</p>\n\n<p>Next i tried to fetch the WSDL file locally since that was often i tip from Google.</p>\n\n<pre><code>$auth = base64_encode('KHD\\user:pass');\n$header = array(\"Authorization: Basic $auth\");\n$Proxy = 'proxy.krz.uni-heidelberg.de:8080';\n$Context = stream_context_create(array('http' =&gt; array('proxy' =&gt; $Proxy,'request_fulluri' =&gt; True,'header' =&gt; $header,),));\n\n$wsdl = file_get_contents(\"http://search.webofknowledge.com/esti/wokmws/ws/WOKMWSAuthenticate?wsdl\",false,$Context);\n</code></pre>\n\n<p>Using print_r() on $wsdl gave me the correct locally cached WSDL file. But now setting up the SoapClient with that $wsdl it broke again with the message:</p>\n\n<pre><code>Fatal error: Uncaught SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL: Couldn't load from '&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;wsdl:definitions name=\"WOKMWSAuthenticateService\" targetNamespace=\"http://auth.cxf.wokmws.thomsonreuters.com\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=\"http://auth.cxf.wokmws.thomsonreuters.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt; &lt;wsdl:types&gt; &lt;xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"unqualified\" targetNamespace=\"http://auth.cxf.wokmws.thomsonreuters.com\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=\"http://auth.cxf.wokmws.thomsonreuters.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt; &lt;xs:element name=\"authenticate\" type=\"tns:authenticate\" /&gt; &lt;xs:element name=\"authenticateResponse\" type=\"tns:authenticateResponse\" /&gt; &lt;xs:element name=\"closeSession\" type=\"tns:closeSession\" /&gt; &lt;xs:ele in E:\\xampp\\htdocs\\test.php on line 12\n</code></pre>\n\n<p>I have absolutely no clue why this doesn't work. I've totally followed the manual and tried a lot of things. The proxy keeps destroying my work and on private / extern PCs this Script is not useable since the IPs doesn't match.</p>\n\n<p>What can i do to finally make this run?</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","mysql","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13268903,"title":"character set issue while importing CSV (windows OS)","body":"<p>I am trying to insert data from CSV file into mysql But, I am not able to save languages other than English. It shows '???????' in csv file instead I want to save it as it is in csv file as well as in mysql. Its properly working on ubuntu but creating problem on windows.</p>\n"},{"tags":["php","segmentation-fault","pear","mail-queue"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":90,"score":3,"question_id":13079513,"title":"How do I diagnose this PHP segmentation fault?","body":"<p>I am running a command-line PHP job that is resulting in a Segmentation Fault. This job has worked for a long time, but it processes something that is emailed in. Apparently there's something in this email that's break it, but I have no idea what. If I put the core file in gdb, it's really no help:</p>\n\n<pre><code>$ gdb /usr/local/bin/php core.20381 \nGNU gdb (GDB) 7.1-ubuntu\nCopyright (C) 2010 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;...\nReading symbols from /usr/local/bin/php...done.\n[New Thread 20381]\n\nwarning: Can't read pathname for load map: Input/output error.\nReading symbols from /lib/libcrypt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcrypt.so.1\nReading symbols from /lib/librt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/librt.so.1\nReading symbols from /usr/lib/libmysqlclient_r.so.15...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libmysqlclient_r.so.15\nReading symbols from /lib/libpthread.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libpthread.so.0\nReading symbols from /lib/libz.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libz.so.1\nReading symbols from /usr/lib/libmcrypt.so.4...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libmcrypt.so.4\nReading symbols from /usr/lib/libltdl.so.7...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libltdl.so.7\nReading symbols from /lib/libpng12.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libpng12.so.0\nReading symbols from /lib/libm.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libm.so.6\nReading symbols from /lib/libdl.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libdl.so.2\nReading symbols from /lib/libnsl.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnsl.so.1\nReading symbols from /usr/lib/libcurl-gnutls.so.4...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libcurl-gnutls.so.4\nReading symbols from /usr/lib/libxml2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libxml2.so.2\nReading symbols from /lib/libc.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libc.so.6\nReading symbols from /lib/libresolv.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libresolv.so.2\nReading symbols from /lib64/ld-linux-x86-64.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib64/ld-linux-x86-64.so.2\nReading symbols from /usr/lib/libidn.so.11...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libidn.so.11\nReading symbols from /usr/lib/liblber-2.4.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/liblber-2.4.so.2\nReading symbols from /usr/lib/libldap_r-2.4.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libldap_r-2.4.so.2\nReading symbols from /usr/lib/libgssapi_krb5.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgssapi_krb5.so.2\nReading symbols from /usr/lib/libgnutls.so.26...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgnutls.so.26\nReading symbols from /lib/libgcrypt.so.11...(no debugging symbols found)...done.\nLoaded symbols for /lib/libgcrypt.so.11\nReading symbols from /usr/lib/libsasl2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libsasl2.so.2\nReading symbols from /usr/lib/libkrb5.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libkrb5.so.3\nReading symbols from /usr/lib/libk5crypto.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libk5crypto.so.3\nReading symbols from /lib/libcom_err.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcom_err.so.2\nReading symbols from /usr/lib/libkrb5support.so.0...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libkrb5support.so.0\nReading symbols from /lib/libkeyutils.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libkeyutils.so.1\nReading symbols from /usr/lib/libtasn1.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libtasn1.so.3\nReading symbols from /lib/libgpg-error.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libgpg-error.so.0\nReading symbols from /lib/libgcc_s.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libgcc_s.so.1\nReading symbols from /lib/libnss_files.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_files.so.2\nCan't read symbols from system-supplied DSO at 0x7fffb4bfc000: File truncated\nCore was generated by `/usr/local/bin/php /src/prod/current/utils/cron.php --run=/utils/proces'.\nProgram terminated with signal 11, Segmentation fault.\n#0  match (\n    eptr=0x1370a887 \"/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\\t\"..., ecode=0x133dc3aa \"N\", \n    mstart=0x13708600 \"&lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=utf-8\\\" /&gt;\\n&lt;meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1, maximum-scale=1\\\"&gt;\\n\\n&lt;/head&gt;\\n\\n&lt;body style=\\\"padding\"..., markptr=0x0, offset_top=4, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=17680) at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:470\n470 {\n</code></pre>\n\n<p>If I do a 'bt', I just get this \"match\" statement over and over again. Here are the first few:</p>\n\n<pre><code>#1  0x000000000046ef1e in match (\n    eptr=0x1370a887 \"/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\\t\"..., ecode=0x133dc3a5 \"_\", mstart=&lt;value optimized out&gt;, markptr=&lt;value optimized out&gt;, \n    offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=17679) at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:803\n#2  0x0000000000479789 in match (\n    eptr=0x1370a887 \"/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\\t\"..., ecode=0x133dc5ca \"V\\002%\\033U\\002.\", mstart=&lt;value optimized out&gt;, \n    markptr=&lt;value optimized out&gt;, offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=&lt;value optimized out&gt;)\n    at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:1623\n#3  0x000000000046ef1e in match (\n    eptr=0x1370a886 \"&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\"..., ecode=0x133dc3a5 \"_\", mstart=&lt;value optimized out&gt;, markptr=&lt;value optimized out&gt;, \n    offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=17677) at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:803\n#4  0x0000000000479789 in match (\n    eptr=0x1370a886 \"&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\\t\"..., ecode=0x133dc5ca \"V\\002%\\033U\\002.\", mstart=&lt;value optimized out&gt;, \n    markptr=&lt;value optimized out&gt;, offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=&lt;value optimized out&gt;)\n    at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:1623\n#5  0x000000000046ef1e in match (\n    eptr=0x1370a885 \"\\t&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t&lt;/table&gt;\\n\\t\\t\\t&lt;/td&gt;\\n\\t\\t&lt;/tr&gt;\\n\\t\\t\\n\\t\\t&lt;tr&gt;\\n\\t\\t\\t&lt;td style=\\\"border-top:3px solid #efefef; padding:20px 10px;\\\"&gt;\\n\\t\\t\\t\\t&lt;table style=\\\"width:100%;\\\"&gt;\\n\\t\\t\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t\\t\\t\\n\", '\\t' &lt;repeats 12 times&gt;, \"\\n\\t\\t\"..., ecode=0x133dc3a5 \"_\", mstart=&lt;value optimized out&gt;, markptr=&lt;value optimized out&gt;, \n    offset_top=&lt;value optimized out&gt;, md=0x7fffb4b1b620, ims=0, eptrb=0x0, flags=0, rdepth=17675) at /home/farmer/srcs/php-5.3.4/ext/pcre/pcrelib/pcre_exec.c:803\n</code></pre>\n\n<p>I'm really at a loss here. I've tried running the command in strace, and it seems to be seg-faulting in the PEAR Mail_Queue library. Here's the end of the strace (some identifying information has been removed):</p>\n\n<pre><code>lstat(\"/src/prod/releases/20121025202143/www/application/pear/MDB2/Driver/mysql.php\", {st_mode=S_IFREG|0770, st_size=55723, ...}) = 0\nlstat(\"/src/prod/releases/20121025202143/www/application/pear/MDB2/Driver\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nlstat(\"/src/prod/releases/20121025202143/www/application/pear/MDB2\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nlstat(\"/src/prod/releases/20121025202143/www/application/pear\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nopen(\"/src/prod/releases/20121025202143/www/application/pear/MDB2/Driver/mysql.php\", O_RDONLY) = 6\nfstat(6, {st_mode=S_IFREG|0770, st_size=55723, ...}) = 0\nfstat(6, {st_mode=S_IFREG|0770, st_size=55723, ...}) = 0\nfstat(6, {st_mode=S_IFREG|0770, st_size=55723, ...}) = 0\nmmap(NULL, 55723, PROT_READ, MAP_SHARED, 6, 0) = 0x2b49f7bb4000\nbrk(0x987b000)                          = 0x987b000\nbrk(0x98bb000)                          = 0x98bb000\nmunmap(0x2b49f7bb4000, 55723)           = 0\nclose(6)                                = 0\nsocket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 6\nfcntl(6, F_SETFL, O_RDONLY)             = 0\nfcntl(6, F_GETFL)                       = 0x2 (flags O_RDWR)\nfcntl(6, F_GETFL)                       = 0x2 (flags O_RDWR)\nfcntl(6, F_SETFL, O_RDWR|O_NONBLOCK)    = 0\nconnect(6, {sa_family=AF_INET, sin_port=htons(3306), sin_addr=inet_addr(\"IP ADDRESS TO DB SERVER REMOVED\")}, 16) = -1 EINPROGRESS (Operation now in progress)\nfcntl(6, F_SETFL, O_RDWR)               = 0\npoll([{fd=6, events=POLLIN|POLLPRI}], 1, 60000) = 1 ([{fd=6, revents=POLLIN}])\nsetsockopt(6, SOL_SOCKET, SO_RCVTIMEO, \"\\2003\\341\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\", 16) = 0\nsetsockopt(6, SOL_SOCKET, SO_SNDTIMEO, \"\\2003\\341\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\", 16) = 0\nsetsockopt(6, SOL_IP, IP_TOS, [8], 4)   = 0\nsetsockopt(6, SOL_TCP, TCP_NODELAY, [1], 4) = 0\nsetsockopt(6, SOL_SOCKET, SO_KEEPALIVE, [1], 4) = 0\npoll([{fd=6, events=POLLIN}], 1, 60000) = 1 ([{fd=6, revents=POLLIN}])\nread(6, \"C\\0\\0\\0\\n5.1.37-1ubuntu5.5-log\\0Q\\257\\3\\0009\"..., 16384) = 71\nwrite(6, \"=\\0\\0\\1\\205\\242\\2\\0\\0\\0\\0@\\10\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 65) = 65\nread(6, \"\\7\\0\\0\\2\\0\\0\\0\\2\\0\\0\\0\", 16384) = 11\npoll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\nwrite(6, \"\\10\\0\\0\\0\\2xxxxx\", 12)      = 12\nread(6, \"\\7\\0\\0\\1\\0\\0\\0\\2\\0\\0\\0\", 16384) = 11\nlstat(\"/src/prod/current/www/application/pear/Mail/mime.php\", {st_mode=S_IFREG|0770, st_size=50252, ...}) = 0\nlstat(\"/src/prod/current/www/application/pear/Mail\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nlstat(\"/src/prod/current/www/application/pear\", {st_mode=S_IFDIR|0770, st_size=4096, ...}) = 0\nlstat(\"/src/prod/current/www/application\", {st_mode=S_IFDIR|0776, st_size=4096, ...}) = 0\n--- SIGSEGV (Segmentation fault) @ 0 (0) ---\n+++ killed by SIGSEGV +++\nSegmentation fault\n</code></pre>\n\n<p>If anyone has any ideas or pointers to lines of investigation, I'd truly appreciate it. I'm really stumped on this one.</p>\n"},{"tags":["php","cakephp","cron","cpanel","cakephp-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":469,"score":0,"question_id":8866784,"title":"Cakephp 2.0, CPanel and Shell scripts","body":"<p>I have cPanel on a shared server and I need to run a shell script everyday.</p>\n\n<p>This script has to call a controller function that scraps a webpage everyday.</p>\n\n<p>My problem is that I don't know how to do a shell script that calls this function and add it at cron jobs in cpanel. How do I do all of this?</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p>I'm going to extend my question.</p>\n\n<p>I have this code \"TestTask.php\":</p>\n\n<pre><code>class TestTask extends Shell {\n\n    function main() {\n         $this-&gt;out('Hello world.');\n    }\n\n    function execute() {\n         $this-&gt;out('Hello world 2.');\n    }\n}\n</code></pre>\n\n<p>It's located in: <code>/home/myuser/public_html/app/Console/Command/Task</code></p>\n\n<p>And then, my cronjob is like this:</p>\n\n<pre><code>* * * * * php /home/myuser/public_html/app/Console/cake.php test -app /home/myuser/public_html/app &gt;&gt; /home/myuser/public_html/file.log\n</code></pre>\n\n<p>The last part it's to log the output in a file.</p>\n\n<p>It doesn't work at all.</p>\n\n<p>Help please!!!</p>\n"},{"tags":["php","phpmailer","phpmail"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13268432,"title":"PHP mail returns true but email is not delivered","body":"<p>I am trying to send an email in following way -   </p>\n\n<pre><code>from : xyz@domain1.com  \nreply-to : xyz@domain1.com  \nto : abc@domain2.com  \ncc : abc@domain3.com  \n</code></pre>\n\n<p>My email is getting delivered to the address mentioned in CC (If I replace the emails to and cc, then email is sent to the address mentioned in to)</p>\n\n<p>For some reason, email is not getting delivered to the address abc@domain2.com. If I send the email manually to this address using outlook or gmail, then email is actually delivered. How can I debug this issue ?</p>\n\n<p>I checked spam/junk directories as well, no emails over there. I tried using php mail() function as well as phpmailer class. Both of them return TRUE. What could the reason ? Please help.</p>\n\n<pre><code>$mail-&gt;From = \"xyz@domain1.com\";   \n$mail-&gt;AddReplyTo(\"xyz@domain1.com\");  \n$mail-&gt;AddAddress(\"abc@domain2.com\");  \n$mail-&gt;AddCC(\"abc@domain3.com\");  \n$mail-&gt;Subject = $subject;  \n$mail-&gt;Body = $message;  \n\nif(! $mail-&gt;Send()) {  \n    echo \"Message was not sent\";  \n    echo \"Mailer Error: \" . $mail-&gt;ErrorInfo;  \n    exit; \n} \n</code></pre>\n"},{"tags":["php","javascript","mysql","database","mongodb"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":56,"score":-2,"question_id":13268270,"title":"Suggestion needed for developing enormous web application","body":"<p>I have been given the contract of making a big web application for a private bus transport company. Before I elaborate the question, here's a few things:</p>\n\n<p>It is a complete web based and application that will be used to:</p>\n\n<ul>\n<li>Manage Vehicles, Routes, Bus Stoppages</li>\n<li>Current location using GPS and calculations.</li>\n<li>Print tickets</li>\n<li>Online Purchase</li>\n<li>Membership</li>\n<li>Full accounts management (i.e. income, expenses, graphical reports etc)</li>\n<li>A website working simultaneously allowing to book/cancel tickets, and live chat.</li>\n</ul>\n\n<p>All that said, my question is that what would be the appropriate environment and tools to build the app?</p>\n\n<ol>\n<li>Programming Lingo: (My choice, MVC based JavaScript framework with PHP in the back to provide data and views) Give me your suggestions.</li>\n<li>DataBase: This is where I am mostly confused. Should I use mysql? or something OOP like mongoDB?</li>\n<li>Other tools: What other tools may aid me? suggest please.</li>\n</ol>\n\n<p>And, I have to do this alone. Hiring people/outsourcing/teaming is not an option.</p>\n"},{"tags":["php","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13269342,"title":"Yii Format textField Datetime Model","body":"<p>The <code>$model-&gt;datetime</code> is <code>d-m-Y H:i:s</code>.</p>\n\n<pre><code>&lt;?php echo $form-&gt;textField($model,'datetime'); ?&gt;\n</code></pre>\n\n<p>I would like the value of the input just be d-m-Y, how can I format it?</p>\n"},{"tags":["php",".htaccess"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13269692,"title":"limit GET using .htaccess in a KISSMVC php based site","body":"<p>I have a KISSMVC php based site with the following .htaccess to allow only authenticated users to see the site</p>\n\n<pre><code>RewriteEngine On\n\nRewriteBase /myphpsite/\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\n# Protect app files\nRewriteRule ^((app|system|scripts).*)$ index.php/$1 [L]\n\nAuthName \"Please enter your username and password\"\nAuthType Basic\n&lt;Limit GET&gt;\nrequire user THEUSERNAME\n&lt;/Limit&gt;\n</code></pre>\n\n<p>This works with no problem.</p>\n\n<p>The problem is that I want to allow clients to retrieve a value from the site with no authentication. This value is obtained through the index.php function because it is calculated per client, plus there is no folder structure where these values are stored.</p>\n\n<p>as an example this URL should not prompt:</p>\n\n<pre><code>http://fancywebsite.com/myphpsite/index.php/inventory/hash/variable\n</code></pre>\n\n<p>but this one should still be prompting:</p>\n\n<pre><code>http://fancywebsite.com/myphpsite\n</code></pre>\n\n<p>If I could somehow specify in the .htaccess file to bypass or satisfy the authentication when the requested URL contains \"index.php/inventory/hash\" that would be perfect.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","doctrine","symfony-1.4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13269511,"title":"Image URL issue with symfony","body":"<p>I created a route in my routing.yml</p>\n\n<pre><code>showfriend:\n  url:     /friend/:id/:username\n  class:   sfDoctrineRoute\n  options: { model: profile, type: object }\n  param:   { module: friend, action: index }\n  requirements:\n    id: \\d+\n    sf_method: [get]\n</code></pre>\n\n<p>and I use it in my <code>friendsSuccess.php</code> like this</p>\n\n<pre><code>&lt;a href=\"&lt;?php echo url_for('showfriend', array( \"id\"=&gt; $friend['friend_id'], \"username\" =&gt; $a)) ?&gt;\"&gt;&lt;?php echo $a ?&gt;&lt;/a&gt;\n</code></pre>\n\n<p>it works fine and I get this route </p>\n\n<pre><code>http:// localhost/Partytime/web/friend/2/admin\n</code></pre>\n\n<p>all still works fine but my images wont display properly and this is image route I get</p>\n\n<pre><code>http://localhost/Partytime/web/friend/2/admin/uploads/banners/d993c1a802cc21317a5ae627ed874d44af240d2c.png\n</code></pre>\n\n<p>thing is it puts <code>/friend/2/admin</code> path in the route ....</p>\n\n<p>and this is how I display my image : </p>\n\n<pre><code>&lt;?php $banner=\"/uploads/banners/\" . $banner-&gt;getImage();?&gt;\n&lt;?php echo image_tag($banner);?&gt;\n</code></pre>\n"},{"tags":["php","mobile","symfony1","symfony-1.4"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":12349375,"title":"How to implement Mobile version in Symfony 1.4?","body":"<p>What is the best way to implement the MobileVersion of an WebApplication Developed in Symfony 1.4? I searched on google but had no success. </p>\n\n<p>Don't really know how to start or if there is any standard to follow. Should I just implement different templates or an entirely different application (like frontend/backend).</p>\n\n<p>My first quess is to implement a filter which will act like a onRequest listener and if user-agent is mobile to redirect to the mobile app. But I think in this way (with different apps) it's very difficult to migrate from mobile to browser version and vice-versa.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13269194,"title":"File not save on Database","body":"<p>I'm working on a little project and now i face with save problem. When i type something on text editor and when i click on save button (for save in database), it reply nothing.</p>\n\n<p>here's the process code :</p>\n\n<pre><code>case \"Publish\":\n    $fileName=$_FILES[\"image\"][\"name\"];\n\n        if($fileName)\n        {\n            $filePath=\"images/news_img/\".$fileName;\n            if(file_exists($filePath))\n            {\n                $a=gmdate(\"Yzhis\");\n                move_uploaded_file($_FILES[\"image\"][\"tmp_name\"], \"images/news_img/\".$a.$_FILES[\"image\"][\"name\"]);\n                $fileName=$a.$_FILES[\"image\"][\"name\"];\n\n            }\n            else\n            {\n                move_uploaded_file($_FILES[\"image\"][\"tmp_name\"], \"images/news_img/\".$_FILES[\"image\"][\"name\"]);\n\n            }\n        }\n        if($arttitle==\"\" || $date==\"\" || $category==\"\" || $status==\"\" )\n        {\n            $_SESSION['error_msg']=\"You Must Fill All The Required fileds\";\n            $go=\"add_articles.php\";\n        }\n        else\n        {\n        /*for username check*/\n            $checksql=mysql_query(\"select * from articles where arttitle='$arttitle'\");\n            $checkdata=mysql_fetch_array($checksql);\n\n            if($checkdata['arttitle']!=$arttitle)\n            {\n                $inssql=mysql_query(\"INSERT INTO articles VALUES(NULL,'$arttitle','$date','$category','$status','$fileName','$articale',0)\");\n            }\n            else\n            {\n                $_SESSION['username_msg']=\"Articale Name Already Exists.\";\n            }\n        }\n        $go=\"add_articles.php\";\n\n    break;\n\n    case\"Edit\":\n    $updatesql=mysql_query(\"UPDATE articles SET \narttitle='$arttitle',date='$date',category='$category',status='$status',articale='$articale' where aid = '$hiddenid'\");\n    $_SESSION['success_msg']=\"Update Successful!\";\n        $go=\"add_articles.php\";\n    break;\n</code></pre>\n"},{"tags":["php","iis","windows-server-2003","php-ini"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13269509,"title":"IIS Loading wrong php.ini file?","body":"<p>I'm not sure if that's what suppoused to happen but when i do <code>phpinfo()</code> \nI see that Loaded Configuration File is :</p>\n\n<pre><code>C:\\Program Files\\PHP\\v5.4\\php.ini\n</code></pre>\n\n<p>And not the one inside the php path (C:\\PHP)</p>\n\n<p>Is this how it should be? if not how can i control that?</p>\n\n<p>Because my changes dosen't seem to be applied, EVEN when i edit that file.</p>\n\n<p>I'm using PHP 5.4, IIS 6, Windows Server 2003.</p>\n\n<p>I've followed a tutorial and set the following registery:</p>\n\n<pre><code>    [HKEY_LOCAL_MACHINE\\SOFTWARE\\PHP]\n\"IniFilePath\"=\"C:\\\\PHP\"\n</code></pre>\n\n<p>So it should load that one right?</p>\n"},{"tags":["php","xml","simplexml"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":311,"score":3,"question_id":6776488,"title":"How can I handle a huge XML file using SimpleXML but to prevent memory and performance problems?","body":"<p>I am trying to avoid XMLReader for an app I build that has a huge XML file.\nSimpleXML is easy to write and I was wondering if there is any way to successfully handle it (memory and performance issues) in a quite busy server.\nWhat I will do, is to echo some data from that XML mainly from a search form.</p>\n"},{"tags":["php","javascript","mysql","google"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":13269008,"title":"How to track url visitors who come from google?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13268514/how-can-i-create-url-tracking\">How can I create URL tracking?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to track my URL visitors who come from Google to my landing page form</p>\n\n<p>JavaScript code I used:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction update_tracking_id(field_id)\n{\nname = 'tid';\nvar regexS = \"[\\\\?&amp;]\"+name+\"=([^&amp;#]*)\";\nvar regex = new RegExp( regexS );\nvar results = regex.exec( window.location.href );\nif( results == null )\nreturn;\nelse\ndocument.getElementById(field_id).value = results[1];\n}\nupdate_tracking_id('meta_adtracking');\n&lt;/script&gt;\n</code></pre>\n\n<p>Input code for form:</p>\n\n<pre><code> &lt;input type=\"hidden\" name=\"date_add\" id=\"meta_adtracking\" value=\"\"&gt;\n</code></pre>\n\n<p>then i add new row to database called tid.</p>\n\n<p>I want tid result move automatic to this row !!</p>\n\n<pre><code>issue is i want to do maulti url's to one form like this www.url.com/ld/?tid=google www.url.com/ld/?tid=fb www.url.com/ld/?tid=1 www.url.com/ld/?tid=2 and when client visit any on of this locations ... like \"tid=google\" i want location \"google\" to storage in database with other data in form â Kawabry 10 mins ago \n</code></pre>\n\n<p><strong>here is a website explain what i want exactly</strong> \n<a href=\"http://www.fastwebcoach.com/add-a-tracking-code-to-a-url-and-track-your-autoresponder-aweber-leads/\" rel=\"nofollow\">http://www.fastwebcoach.com/add-a-tracking-code-to-a-url-and-track-your-autoresponder-aweber-leads/</a> </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":33,"score":-1,"question_id":13269429,"title":"issue in language translation using PHP","body":"<p>How to convert arabic word in to english word using PHP. For example \"<code>ÙØ§ÙÙÙØ© Ø§ÙØµØ±Ø§Ù Ø§ÙØ¢Ù</code>\" how to convert this word into english using PHP. I am trying to execute the above issue using the following code </p>\n\n<pre><code>&lt;?php\n    include('Arabic.php');\n    $Arabic = new Arabic('ArGlyphs');\n\n    $text = 'Ø¨Ø³Ù Ø§ÙÙÙ Ø§ÙØ±Ø­ÙÙ Ø§ÙØ±Ø­ÙÙ';\n    $text = $Arabic-&gt;utf8Glyphs($text);\n    echo $text;\n    ?&gt;\n</code></pre>\n\n<p>which is got from the following URL\n <code>http://stackoverflow.com/questions/6175053/how-to-convert-arabic-characters-to-unicode-using-php</code>, but unable to get the expected result. </p>\n\n<p>Please help me in sorting out the problem.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","time"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":34,"score":-5,"question_id":13268546,"title":"how to subtract time in php?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2774158/add-and-subtract-time\">Add and Subtract Time</a>  </p>\n</blockquote>\n\n\n\n<p>i have two variables <code>$logintm</code> and <code>TIME</code>. when i echo <code>$logintm</code> is gives the value as <code>hh:mm:ss</code> that is login time of user in sql. and TIME its the current time its also gives the same value <code>hh:mm:ss</code> but when i want subtract both it gives the value 1. if there is diffrence between 1 minute so result should come in <code>00:01:00</code>. plz tell me any way how to subtract ?</p>\n\n<pre><code>$result = $db-&gt;get_row($strQuery);\n\n//login time\n$logintm= $result-&gt;login_time; \n\n$totaltime= TIME-$logintm; \n</code></pre>\n"},{"tags":["php","regex","preg-replace"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13269198,"title":"preg_replace is not working as expected","body":"<p>I want to remove HTML tags, also contents of style and script tag but my code is not removing style tag contents, don't know why. any idea about this ?</p>\n\n<pre><code>$search = array('@&lt;script[^&gt;]*?&gt;.*?&lt;/script&gt;@si',  // Strip out javascript \n               '@&lt;[\\/\\!]*?[^&lt;&gt;]*?&gt;@si',            // Strip out HTML tags \n               '@&lt;style[^&gt;]*?&gt;.*?&lt;/style&gt;@si',    // Strip style tags properly \n               '@&lt;![\\s\\S]*?--[ \\t\\n\\r]*&gt;@'         // Strip multi-line comments including CDATA \n               ); \n\n$htmlstring = 'Which brand(s) of single serve coffee brewer do you own? &lt;style type=\"text/css\"&gt; #answer67627X49X1159other {display:none;}&lt;/style&gt;';\n$htmlstring .= '&lt;style&gt; #answer67627X49X1159999 {display:none;}&lt;/style&gt;&lt;script&gt;alert(123);&lt;/script&gt;';\n\n$htmlstring = preg_replace($search,'',$htmlstring);\n\necho '&lt;input style=\"width:90%\" type=\"text\" value=\"'.$htmlstring.'\" /&gt;';\n</code></pre>\n\n<p>Following is the output in input tag.</p>\n\n<p><strong>Which brand(s) of single serve coffee brewer do you own?  #answer67627X49X1159other {display:none;} #answer67627X49X1159999 {display:none;}</strong></p>\n"},{"tags":["php","joomla","nested-sets","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":397,"score":0,"question_id":11098960,"title":"How to create joomla user group in joomla 2.5","body":"<p>I am working on my component in joomla 2.5 and i need to create user groups dynamically through my code.</p>\n\n<p>As i know in 2.5 joomla is using nested sets for maintaining hierarchical structure so it may affect the whole table when we insert any new entry.</p>\n\n<p>Does joomla provide any function that can be directly used to create user group ?\nsomething in which we can specify the parent group and new group will be created under it.</p>\n"},{"tags":["php","jquery","html","smarty"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":56,"score":3,"question_id":13268447,"title":"jquery search and replace","body":"<p>This is the function that I have </p>\n\n<pre><code>function set(sub) {\n    var input = prompt(\"Insert your desired \" + sub + \" information, leave blank if you use an automated system to generate this information.\");\n    $('#' + sub).html(input).show();\n    var textarea = $('textarea');\n    textarea.html(textarea.html().replace(sub+\"=\",sub+\"=\"+input));\n}\n</code></pre>\n\n<p>Usually the sub is s1, or s2, or s3. Now the issue is that I want the replaced value to reset if the input is blank.</p>\n\n<p>So lets say I input that I want to set s1 to equal a, so in the text area it will replace s1= with, s1=a, now if the input is empty I want the s1=a to revert back to s1=</p>\n"},{"tags":["php","javascript","jquery","html"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13269132,"title":"Alert While moving to another page","body":"<p>I have an application where people can take on line test , When the user moves to another page the page should alert like you may lost the details if u go out of the page...\nI tried of <code>window.unload()</code> but what i need is it should show alert only when the user moves to another page </p>\n\n<p>Ex : My Page id <code>test.php</code>\nif user clicks next button for next question the page will redirect to <code>test.php?queNumber=2</code>\nso when the redirection happens to test.php it should not show alert if it redirects to other page like about.php or help.php it should alert , How to achive this ???</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","unit-testing","phpt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13269326,"title":".phpt: Check exit code?","body":"<p>We're using <a href=\"http://qa.php.net/phpt_details.php\" rel=\"nofollow\">.phpt</a> to test our PHP code.</p>\n\n<p>To verify its behavior, I need to check the <strong>exit code of a CLI tool</strong> that uses <code>exit()</code> calls.</p>\n\n<p>How can I do that? I don't see such a section in the <a href=\"http://qa.php.net/phpt_details.php\" rel=\"nofollow\">phpt spec</a>. The <code>php-src</code> unit tests also don't have an example</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13232713,"title":"Check to see if Facebook post exists","body":"<p>I have an app (or link really) that allows my customer to share a certain product to their wall/timeline through this protocol:</p>\n\n<p><a href=\"http://www.facebook.com/dialog/feed?app_id=APP_ID&amp;link=\" rel=\"nofollow\">http://www.facebook.com/dialog/feed?app_id=APP_ID&amp;link=</a>....</p>\n\n<p>Upon successful share, the customer gets a coupon code, once he/she is directed back to my site.</p>\n\n<p>I'd like to be able to verify the existence of the share post to determine if the rebate code is valid or not. I have the post id, looking like this:</p>\n\n<p>704745000_513399762010000 (random example)</p>\n\n<p>I kind of figured out that I need permission to query for a specific post using graph-api in a users timeline, but how can I get the permission? Any pointers and examples (in php) are appreciated, thanks.</p>\n"},{"tags":["php","mysql","sql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13269067,"title":"Constructing UPDATE statements using associative arrays in PHP","body":"<p>What is the best way to construct an UPDATE statement using associative arrays in PHP?</p>\n\n<p>For example, say I have a function like so:</p>\n\n<pre><code>/**\n * For update queries\n * \n * @param string $tableName Name of the table we're wanting to update.\n * @param array $values Associative array of columns / values to update. e.g. array('name' =&gt; 'John', 'age' =&gt; 29)\n * @param array $conditions Associative array of conditions. e.g. array('user_id' =&gt; 1) equates to \"WHERE user_id = 1\"\n */\n public function update($tableName, $values, $conditions = array()){\n      //Construct SQL\n }\n</code></pre>\n\n<p>So far, I've been able to construct simple UPDATE statements such as:</p>\n\n<pre><code>UPDATE `myTableName` SET `name` = :name, `age` = :age WHERE `user_id` = :user_id\n</code></pre>\n\n<p>Now I'm left wondering: What is the best way to approach constructing the WHERE clause? Are there similar implementations in other libraries and code bases that I can look into? For example: How do I approach the construction of WHERE clauses that have OR and AND and IN() etc? </p>\n\n<pre><code>UPDATE example SET col = :val WHERE user_id = :user_id AND (age = :age OR name = :name)\n</code></pre>\n"},{"tags":["php","mysql","propel"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":9,"score":2,"question_id":13269305,"title":"How can I get extra columns when hydrating Propel objects with custom SQL?","body":"<p>I am using custom SQL to join two tables, apply some business logic to dates, then use the results to hydrate a propel object (collection). Here's my code:</p>\n\n<pre><code>$testtypes = TesttypeQuery::create()-&gt;find();\n\nforeach ($testtypes as $testtype) {\n\n  /* work out what most recent schedule */\n  $con = \\Propel::getConnection(SchedulePeer::DATABASE_NAME);\n  $sql = \"SELECT `schedule`.*, (`schedule`.`last` + INTERVAL `duration`.`weeks` WEEK + INTERVAL `duration`.`months` MONTH + INTERVAL `duration`.`years` YEAR) AS `dueDate` FROM `schedule` LEFT JOIN `duration` ON `schedule`.`duration_id` = `duration`.`id` HAVING `schedule`.`testtype_id` = {$testtype-&gt;getId()} AND `dueDate` &lt; NOW() ORDER BY `dueDate` ASC LIMIT 1\";\n  $stmt = $con-&gt;prepare($sql);\n  $stmt-&gt;execute();\n  $formatter = new \\PropelObjectFormatter();\n  $formatter-&gt;setClass(SchedulePeer::OM_CLASS);\n  $schedules = $formatter-&gt;format($stmt);\n\n  // more stuff here ... \n}\n</code></pre>\n\n<p>This question comes in several parts, because there might be a completely better way of doing this - so please feel free to make suggestions other than just answering my specific questions:</p>\n\n<ul>\n<li>I am using <code>HAVING</code> instead of <code>WHERE</code> so that I can use the aliased column <code>dueDate</code>, which I want to use as part of the check and order, as well as returning it as part of the result-set to use later. Is there a way to grab this value but still hydrate the propel object? When I use <code>fetch()</code> or other PDO methods on <code>$stmt</code> I can no longer use this with the call to <code>format()</code>.</li>\n<li>Alternatively is there a better way to do this with pure Propel?</li>\n</ul>\n"},{"tags":["php","javascript"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13269243,"title":"Change iframe text to other language","body":"<p>i have an iframe :\n<a href=\"http://www.vantagewire.com/quotes_clients.php?ticker=THG:CA&amp;chscale=1m&amp;stylesheet=http://www.vantagewire.com/_resources/app/general/quotetab_chart_small_hosted.css\" rel=\"nofollow\">http://www.vantagewire.com/quotes_clients.php?ticker=THG:CA&amp;chscale=1m&amp;stylesheet=http://www.vantagewire.com/_resources/app/general/quotetab_chart_small_hosted.css</a></p>\n\n<p>i would like to embed this to a site but what i encounter is some users see it in french language other in english.</p>\n\n<p>i would like to make control of the iframe output in a code like this:</p>\n\n<pre><code> if(language==en){\n   iframe here which is english form\n }\n if(language==fr){\n   iframe here which is french form\n }\n</code></pre>\n\n<p>or any idea how to make the link above make to french and en that i can control ? </p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","jquery","smarty"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":909,"score":2,"question_id":4931273,"title":"What is wrong when I try to add jquery script to smarty tpl files?","body":"<p>It gives me blank page...</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n{if $tplSeoFile}{include file=\"$modulePath/$tplSeoFile\"}{/if}   \n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;meta name=\"Author\" content=\"\" /&gt;\n&lt;meta name=\"Robots\" content=\"index, follow\" /&gt;\n&lt;meta name=\"Revisit-after\" content=\"10 days\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"img/cms/css/reset.css\" type=\"text/css\" media=\"all\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"img/cms/css/960.css\" type=\"text/css\" media=\"all\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"img/cms/css/master.css\" type=\"text/css\" media=\"all\" /&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n\n    //Default Action\n    $(\".tab_content\").hide(); //Hide all content\n    $(\"ul.tabs li:first\").addClass(\"active\").show(); //Activate first tab\n    $(\".tab_content:first\").show(); //Show first tab content\n\n    //On Click Event\n    $(\"ul.tabs li\").click(function() {\n        $(\"ul.tabs li\").removeClass(\"active\"); //Remove any \"active\" class\n        $(this).addClass(\"active\"); //Add \"active\" class to selected tab\n        $(\".tab_content\").hide(); //Hide all tab content\n        var activeTab = $(this).find(\"a\").attr(\"href\"); //Find the rel attribute value to identify the active tab + content\n        $(activeTab).fadeIn(); //Fade in the active content\n        return false;\n    });\n\n});\n&lt;/script&gt;\n\n\n&lt;/head&gt;\n</code></pre>\n"},{"tags":["php","string","text"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":17,"score":-2,"question_id":13269043,"title":"PHP find a string and get corresponding data","body":"<p>have this text</p>\n\n<p><strong>\"Number\":\"X0011\",\"Name\":\"aaaaaaaaaaaaaa\",\"Adress\":\"12345\",\"Phone\":\"56976585\",\"Number\":\"X0044\",\"Name\":\"bbbbbbbbbbbbbbbbbbb\",\"Adress\":\"786487647\",\"Phone\":\"34214234\",.......</strong></p>\n\n<p>And want to return with PHP something like this (just names and codes, and ignore all others fields)</p>\n\n<p>Number:X0011</p>\n\n<p>Name:aaaaaaaaaaaaaa</p>\n\n<p>Number:X0044</p>\n\n<p>Name:bbbbbbbbbbbbbbbbbbb</p>\n\n<p>....</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","jquery","ajax","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13268884,"title":"Ajax sign-up form strange behaviour","body":"<p>I have this inexplicable issue with sign-up for newsletter ajax form on main page . If I open for the first time on <a href=\"http://bit.ly/LP3phc\" rel=\"nofollow\">http://bit.ly/LP3phc</a> and try to use sign-up form  on right bottom page , form not working . When I click on logo and the main page reload form works correctly .</p>\n\n<p>thank you in advance for any help !</p>\n"},{"tags":["php","javascript","string","url"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13268009,"title":"Google Analytics Code according to string [javascript]","body":"<p>I want to create a string in javascript for my users so that they can track the users sent by them on my site via Google Analytic</p>\n\n<p>e.g. A person named bobby has a anaytics code UA-20566931-2 . He referrs many people to my site via any site like facebook, but he want to know how many people did he referred. so I want to create a string in the url like <a href=\"http://www.mysite.com/?code=ANALYTICS-CODE-HERE\" rel=\"nofollow\">http://www.mysite.com/?code=ANALYTICS-CODE-HERE</a> such that when person open via that url, anaylitcs code in my site has Bobby's Analytic code</p>\n\n<p>I have added 'ANALYTICS-CODE-HERE' in Anaylitcs code!</p>\n\n<pre><code>var _gaq = _gaq || [];\n_gaq.push(['_setAccount', 'ANALYTICS-CODE-HERE']);\n_gaq.push(['_trackPageview']);\n\n(function () {\n    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n})();\n</code></pre>\n\n<p>I have tried some code..... like</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n      &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;\n      &lt;title&gt; Made by me!&lt;/title&gt;\n\n\n\n    &lt;script type='text/javascript'&gt;\n\n\n    &lt;/script&gt;\n\n\n\n\n\n    &lt;/head&gt;\n    &lt;body&gt;\nSome text\n    &lt;script&gt;\n    function getUrlVars() {\n        var vars = {};\n\n        return vars;\n    }\n\n    var texxt = getUrlVars()[\"text\"];\n\n     document.write(texxt);  \n    &lt;/script&gt;\n\n\n    &lt;/body&gt;\n\n\n    &lt;/html&gt;\n</code></pre>\n\n<p>I have made the code...... Put status </p>\n\n<pre><code>function getUrlVars() {\n    var vars = {};\n    var parts = window.location.href.replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m,key,value) \n\n{\n        vars[key] = value;\n    });\n    return vars;\n}\n\nvar texxt = getUrlVars()[\"code\"];\n\n document.write(\"&lt;script type='text/javascript'&gt;\"+\"var _gaq = _gaq || [];\"+\" _gaq.push\n\n(['_setAccount', '\"+texxt+\"']);\"+\" _gaq.push(['_trackPageview']);\"+\" (function () {\"+\" var ga \n\n= docu ment createElement('script'); ga.type = 'text/javascript'; ga.async = true; \"+\" ga.src \n\n= ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-\n\nanalytics.com/ga.js';\"+\" var s = document.getElementsByTagName('script')[0]; \n\ns.parentNode.insertBefore(ga, s);\"+\"})();\"+\"&lt;/javascript&gt;\"); \n</code></pre>\n\n<p>add the above code in javascript and then add ?code=............. in url  the users code</p>\n"},{"tags":["php","jquery","html","ajaxform"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13265550,"title":"how to update image src on success using jquery.form.js","body":"<p>i am using jquery.form.js to ajax submit form and get response.</p>\n\n<p>my php page is set to echo image url like \"images/thumbs/071112130957.jpg\"</p>\n\n<p>heres my jquery:</p>\n\n<pre><code>$(\"#imageform\").ajaxForm(\n{ \ntarget: '#preview'\n}).submit();\n});\n</code></pre>\n\n<p>heres my html form </p>\n\n<pre><code>&lt;form action=\"cropscript.php\" id=\"imageform\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n&lt;input type=\"file\" name=\"image\" id=\"image\" /&gt; &lt;br/&gt;\n&lt;input type=\"submit\" name=\"submit\" value=\"upload image\" /&gt;\n&lt;/form&gt;\n\n&lt;div id=\"preview\" &gt; &lt;/div&gt;\n&lt;img src = \"thumbs/default.jpg\" id=\"thumb_img\" /&gt;\n</code></pre>\n\n<p>now my question is how do i update the img#thumb_img src after ajaxform success ?</p>\n"},{"tags":["php","ajax","json","magento"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13269057,"title":"AJAX & JSON not working, no error or success handlers","body":"<p>I have some code which I plan on adding into a Magento store, once I have made it work on a test page, but unfortunately it isn't working on the test page.</p>\n\n<p>The Javascript is as follows:</p>\n\n<pre><code>function plusAddToCart(qty_textbox_id, prodID, highlight_div_id){\nvar qty = document.getElementById(qty_textbox_id).value;\nqty = parseInt(qty) + 1;\ndocument.getElementById(qty_textbox_id).value = qty;\n if(qty==0){\n     $(highlight_div_id).style.backgroundColor = \"#f7e9f4\";\n }else{\n     $(highlight_div_id).style.backgroundColor = \"#ebcde5\";\n }\n\n $.ajax({                                      \n  url: \"addtocart.php\",\n  data: \"prodID=\"+prodID,\n  type: \"POST\",\n  dataType: 'json',\n  success: function(data) {\n    alert(\"DONE\");\n  }\n});\n}\n&lt;/script&gt;\n\n&lt;div style=\"width:70px; margin:9px auto 0 auto;\"&gt;\n   &lt;input type='button' name='plus' onclick='plusAddToCart(\"qty1\", \"693\", \"product_highlight_693\");' id=\"plus\" class=\"cart-plus-minus\" value='+'/&gt;\n   &lt;input name=\"qty\" type=\"text\" id=\"qty0\" readonly=\"readonly\" maxlength=\"5\" value=\"0\" class=\"quantity-box\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code> header(\"Content-Type: text/html\");\n\n require_once 'app/Mage.php'; \n Mage::app(\"default\"); \n Mage::getSingleton(\"core/session\", array(\"name\" =&gt; \"frontend\")); \n $session = Mage::getSingleton(\"customer/session\"); \n\n $userData=Mage::helper('customer')-&gt;getCustomer()-&gt;getData(); \n $cart = Mage::getSingleton('checkout/cart'); \n $yourProId = $_POST['prodID']; \n $qty=1; \n $params = array( 'product' =&gt; $yourProId, 'related_product' =&gt; null, 'qty' =&gt; $qty );\n $product = new Mage_Catalog_Model_Product(); \n $product-&gt;load($yourProId); \n $cart-&gt;addProduct($product, $params); \n $cart-&gt;save(); \n Mage::getSingleton('checkout/session')-&gt;setCartWasUpdated(true); \n $message = ('Your cart has been updated successfully.'); \n Mage::getSingleton('checkout/session')-&gt;addSuccess($message);                    \n</code></pre>\n\n<p>Can anybody see a reason why this wouldn't work??</p>\n"},{"tags":["php","azure","windows-azure-storage","azure-storage-blobs","use"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13264005,"title":"Connecting to Windows Azure Storage Blob with PHP","body":"<p>I am trying to upload files to Windows Azure with PHP.</p>\n\n<p>I installed it manually by downloading/extracting the .zip from github and copying the files to my server via ftp. I have been following the tutorial: <a href=\"https://www.windowsazure.com/en-us/develop/php/how-to-guides/blob-service/\" rel=\"nofollow\">https://www.windowsazure.com/en-us/develop/php/how-to-guides/blob-service/</a>\nI have just copied the sample PHP code, tried to make it work</p>\n\n<p>But I get the error - </p>\n\n<p><b>Parse error</b>: syntax error, unexpected T_STRING, expecting T_CONSTANT_ENCAPSED_STRING or '(' in <b>/home/USERNAME/public_html/FOLDER/FOLDER/FILENAME.php</b> on line 8</p>\n\n<p>I have replaced unnecessary folder/file names above for privacy reasons.\nI am using the folder that FILENAME.php is located in as a test folder for mucking around with things like this on my server, it is essentially a copy of public_html with the new unpublished content Im working on added to it.</p>\n\n<p>The file in the error I am calling 'FILENAME.php' is almost a copy of the code from the tutorial which looks like this.</p>\n\n<pre><code>require_once 'WindowsAzure/WindowsAzure.php';\n//commented out code\n//commented out code    \n//commented out code\n//commented out code\n\n\nuse WindowsAzure\\Common\\ServicesBuilder;\nuse WindowsAzure\\Common\\ServiceException;\n\nfunction SaveBlobAzura()\n{\n    // Create blob REST proxy.\n    $blobRestProxy = ServicesBuilder::getInstance()-&gt;createBlobService($connectionString);\n\n\n    $content = fopen(\"c:\\myfile.txt\", \"r\");\n    $blob_name = \"myblob\";\n\n    try {\n        //Upload blob\n        $blobRestProxy-&gt;createBlockBlob(\"mycontainer\", $blob_name, $content);\n    }\n    catch(ServiceException $e){\n        // Handle exception based on error codes and messages.\n        // Error codes and messages are here: \n        // http://msdn.microsoft.com/en-us/library/windowsazure/dd179439.aspx\n        $code = $e-&gt;getCode();\n        $error_message = $e-&gt;getMessage();\n        echo $code.\": \".$error_message.\"&lt;br /&gt;\";\n    }\n}\n</code></pre>\n\n<p>Line 8 in the file the error references is a reference to a php class.</p>\n\n<pre><code>use WindowsAzure\\Common\\ServicesBuilder;\n</code></pre>\n\n<p>There exists a file called \"ServicesBuilder.php\" in WindowsAzure\\Common\\ which indeed has a class called \"ServicesBuilder\".</p>\n\n<p>But that is where I am stuck. </p>\n\n<p>The Host I am using is <a href=\"http://www.000webhost.com\" rel=\"nofollow\">http://www.000webhost.com</a> the free plan.\nMaybe their server has some restriction that prohibit class reference? (I don't think so) But it might say that in an about way that I cant see. The plan spec is on the home page at the bottom.</p>\n\n<p>Any help would be greatly appreciated. :) </p>\n"},{"tags":["php","magento","magento-1.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13267367,"title":"Magento product page missing code for product and footer","body":"<p>I just moved a magento site to a new server and have hit a snag on product pages.\nMagento doesnt render any code after this (this is the last ten lines of html it delivers)</p>\n\n<pre><code>                &lt;h2&gt;Quick Overview&lt;/h2&gt;\n                &lt;div class=\"std\"&gt;Add an extra hour of shooting time&lt;/div&gt;\n            &lt;/div&gt;\n\n\n\n    &lt;/div&gt;\n\n    &lt;div class=\"product-img-box\"&gt;\n        &lt;p class=\"product-image\"&gt;\n</code></pre>\n\n<p>I have cleared all caches and rebuilt indexes. I have also checked the error logs and nothing shows on the error log (I do have display errors turned on E_ALL). I have set my memory limit to 4096mb.</p>\n\n<p>Has anyone see this before? I'm stumped.</p>\n"},{"tags":["php","regex","unicode","utf-8"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":175,"score":6,"question_id":10496953,"title":"Allow only some letters, ban special characters ($% etc.) except others (' -)","body":"<p>I need a <strong>Regex</strong> for <strong>PHP</strong> to do the following:</p>\n\n<p>I want to allow <strong>[a-zÎ±-ÏÃ¡-ÅºÐ°-ÑÕ¡-Öá-á°×-×ª]</strong> and chinese, japanese (more utf-8) letters;\nI want to ban <strong>[^Ù©Ù¨Ù§Ù¦Ù¥Ù¤Ù£Ù¢Ù¡Ù Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹]</strong> (arabic numbers);</p>\n\n<p>This is what i've done:</p>\n\n<pre><code>function isValidFirstName($first_name) {\n    return preg_match(\"/^(?=[a-zÎ±-ÏÃ¡-ÅºÐ°-ÑÕ¡-Öá-á°×-×ª]+([a-zÎ±-ÏÃ¡-ÅºÐ°-ÑÕ¡-Öá-á°×-×ª' -]+)?\\z)[a-zÎ±-ÏÃ¡-ÅºÐ°-ÑÕ¡-Öá-á°×-×ª' -]+$/i\", $first_name);\n}\n</code></pre>\n\n<p>It looks like it works, but if I type letters of more than 1 language, it doesn't validate.</p>\n\n<p>Examples: ÐÐ²Ð¿Ð° ÐÐ°Ð¿Ð°Ð¿Ð²Ð° Ã¡-Åº John - doesn't validate.\nJohn Gger - validates, Ã¡-Åº Ã¡-Åº - validates.</p>\n\n<p>I would like to this all of these.</p>\n\n<p>Or if there's a way, to echo a message if user entered more lingual string.</p>\n"},{"tags":["php","javascript","jquery","ajax","json"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13268963,"title":"How can I retrieve my JSON output into a JavaScript variable?","body":"<p>I have my jsonOutput.php page like this :</p>\n\n<pre><code> $response['imgsrc'] =  $filename[1];\n echo json_encode($response);\n</code></pre>\n\n<p>It outputs a filename like <code>{\"imgsrc\":\"071112164139.jpg\"}</code></p>\n\n<p>Now my question is, how can I use jQuery in my index.php to get the filename into a variable using ajax ?</p>\n"},{"tags":["php","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13268812,"title":"Change model attributes labels","body":"<p>I have a model class, and i use it in many views. </p>\n\n<pre><code>class Translations extends CActiveRecord\n{\n...\n    public function attributeLabels()\n    {\n        return array(\n            'row_id' =&gt; 'Row',\n            'locale' =&gt; 'Locale',\n            'short_title' =&gt; 'Short Title',\n            'title' =&gt; 'Title',\n            'sub_title' =&gt; 'Sub Title',\n            'description' =&gt; 'Description',\n            'content1' =&gt; 'Content1',\n            'content2' =&gt; 'Content2',\n            'com_text1' =&gt; 'Com Text1',\n            'com_text2' =&gt; 'Com Text2',\n            'com_text3' =&gt; 'Com Text3',\n            'com_text4' =&gt; 'Com Text4',\n            'com_text5' =&gt; 'Com Text5',\n            'com_text6' =&gt; 'Com Text6',         \n        );\n    }\n...\n}\n</code></pre>\n\n<p>Can i change model attributes labels value for each view?</p>\n"},{"tags":["php","oop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":28,"score":-6,"question_id":13269045,"title":"How to call a class variable based on a member function variable?","body":"<pre><code>$this-&gt;one = 1;\n$this-&gt;two = 2;\n\nfunction get($what){\n echo $this-&gt;$what;\n}\n</code></pre>\n\n<p>Is there a way I can echo 1 if $what was 'one'?</p>\n"},{"tags":["php","arrays","forms","input","multi-select"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13268811,"title":"How to access value of multiselect with an array?","body":"<p>I got my multiple select fields:</p>\n\n<pre><code>&lt;select name=\"cars[]\" id=\"cars\" multiple=\"multiple\"&gt;\n     &lt;option value=\"yellow\"&gt;Yellow&lt;/option&gt;\n     &lt;option value=\"black\"&gt;Black&lt;/option&gt;\n     [..]\n&lt;/select&gt;\n</code></pre>\n\n<p>and this one:</p>\n\n<pre><code>&lt;select name=\"cars[]\" id=\"cars\" multiple=\"multiple\"&gt;\n     &lt;option value=\"audi\"&gt;Audi&lt;/option&gt;\n     &lt;option value=\"volk\"&gt;Volkswagen&lt;/option&gt;\n     [..]\n&lt;/select&gt;\n</code></pre>\n\n<p>when I select a random options and submit the form, do the <code>print_r</code> on the <code>$_POST</code> the output is:</p>\n\n<pre><code>[group] =&gt; Array\n(\n    [0] =&gt; audi\n    [1] =&gt; volk\n    [2] =&gt; black\n)\n</code></pre>\n\n<p>I want to access the color now (it that case it would be the key no. <code>2</code> from the array), but the problem is that it may change, when I select other fields, eg. I select one car brand and one color... when then it looks like:</p>\n\n<pre><code>[group] =&gt; Array\n(\n    [0] =&gt; audi\n    [1] =&gt; yellow\n)\n</code></pre>\n\n<p>So the question is: Is there any way to always access the selected cars colour and cars brand? It would be nice if it would be separated, but its not and the array key is changeable.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13268685,"title":"PHP Save Time HH:MM in MySQL","body":"<p>I need to save time <code>HH:MM</code> in MySQL.</p>\n\n<p>Better option is to save using <code>strtotime</code> PHP function as TIMESTAMP or <code>HH:MM:00</code> as TIME?</p>\n"},{"tags":["php","forms","checkbox","getmethod"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13268843,"title":"Php checkbox using the get method","body":"<p>thanks in advanced for your help..</p>\n\n<p>well i've got this :</p>\n\n<pre><code>&lt;form action=\"index.php\" method=\"get\"&gt;\n     &lt;input  type=\"checkbox\" name=\"Convs_revenue\"\n      &lt;? echo (isset($_GET['extra_Data'])?\"value='yes'\":\"value='no'\");?&gt;  \n      &lt;? if (isset($_POST['extra_Data']) ) echo 'checked=\"checked\"'; ?&gt; &gt;extra_Data &lt;/input&gt;\n      &lt;input type=\"submit\" value=\"send\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>now i need to keep the value of tp keep the value of the checkbox, and to unset it when its unchecked. i MUST use the GET method for this form, and this need to be at the same page as well. </p>\n\n<p>what happen is that its alawys seem to be checked no matter what i do, and the get array alawys keep this at on...\nthanks for your help</p>\n"},{"tags":["php","segmentation-fault","phpunit"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13268942,"title":"PHPUnit Segmentation Fault 11","body":"<p>I tried running PHPUnit this morning and it's producing a Segmentation Fault 11 error (using the command <code>phpunit unit/</code> - If I run PHPUnit on my functional tests with Selenium then everything works fine, it's only the unit tests that are affected, I've tried the options in other threads here and those didn't fix the issue, and I have tried reinstalling MAMP locally and reinstalling PHPUnit through PEAR. I've also tried switching PHP versions on the command-line.</p>\n\n<p>The tests run fine on a colleagues laptop, and they run fine within Jenkins. Does anyone have any ideas as to the issue? I've included the output from the console.</p>\n\n<pre><code>Process:         php [2337]\nPath:            /Applications/MAMP/*/php\nIdentifier:      php\nVersion:         ???\nCode Type:       X86-64 (Native)\nParent Process:  bash [586]\nUser ID:         502\n\nDate/Time:       2012-11-07 11:09:51.924 +0000\nOS Version:      Mac OS X 10.8.2 (12C60)\nReport Version:  10\n\nCrashed Thread:  0  Dispatch queue: com.apple.main-thread\n\nException Type:  EXC_BAD_ACCESS (SIGSEGV)\nException Codes: EXC_I386_GPFLT\n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   php                             0x0000000100653e75 zend_hash_get_current_key_type_ex + 69\n1   php                             0x000000010044d783 zif_spl_autoload_call + 611\n2   php                             0x0000000100626111 zend_call_function + 5617\n3   php                             0x0000000100626b83 zend_lookup_class_ex + 1267\n4   php                             0x0000000100628116 zend_fetch_class_by_name + 86\n5   php                             0x000000010068bfb5 ZEND_FETCH_CLASS_SPEC_CONST_HANDLER + 261\n6   php                             0x00000001006866cc execute + 1788\n7   php                             0x000000010063cba3 zend_execute_scripts + 707\n8   php                             0x0000000100593e40 php_execute_script + 1232\n9   php                             0x00000001007e0c1a do_cli + 3642\n10  php                             0x00000001007e2765 main + 3461\n11  php                             0x0000000100001064 start + 52\n\nThread 0 crashed with X86 Thread State (64-bit):\n  rax: 0x737469762f656f73  rbx: 0x0000000000000000  rcx: 0x00007fff5fbfdb20  rdx: 0xffffffffffffff13\n  rdi: 0x0000000101a378c8  rsi: 0x00007fff5fbfdb20  rbp: 0x00007fff5fbfda90  rsp: 0x00007fff5fbfda90\n   r8: 0x00007fff5fbfd338   r9: 0x0000000000000002  r10: 0x0000000000000000  r11: 0x0000000102dd2138\n  r12: 0x0000000000000000  r13: 0x0000000000000000  r14: 0x0000000000000000  r15: 0x0000000000000000\n  rip: 0x0000000100653e75  rfl: 0x0000000000000202  cr2: 0x0000000101ba6e00\nLogical CPU: 0\n\nBinary Images:\n       0x100000000 -        0x100ec7fe7 +php (???) &lt;61B89CD8-FA9E-3D2B-BDCE-35DFCA7CC017&gt; /Applications/MAMP/*/php\n       0x10112d000 -        0x101143fff +libexslt.0.dylib (9.15) &lt;10AA2D0E-42B0-30DC-BC01-6C10BD757061&gt; /Applications/MAMP/*/libexslt.0.dylib\n       0x10114a000 -        0x101255fe7 +libiconv.2.dylib (8.1) &lt;19C34294-DBD8-3DA6-8663-35549D3A80BF&gt; /Applications/MAMP/*/libiconv.2.dylib\n       0x101263000 -        0x1012c7fff +libt1.5.dylib (7.2) &lt;BB17E324-EA0E-3716-88F8-4EDF9AC61B21&gt; /Applications/MAMP/*/libt1.5.dylib\n       0x1012ea000 -        0x1013b6fef +libfreetype.6.dylib (15) &lt;C6D12969-73A9-3C8D-ADCF-D2CDC72167AD&gt; /Applications/MAMP/*/libfreetype.6.dylib\n       0x1013cf000 -        0x10140cfef +libpng15.15.dylib (23) &lt;D5E80405-5E4B-38A9-B668-9E7112122A3E&gt; /Applications/MAMP/*/libpng15.15.dylib\n       0x101414000 -        0x10146dfef +libjpeg.8.dylib (13) &lt;253D68BC-090B-3FC1-BE0E-FB663612C639&gt; /Applications/MAMP/*/libjpeg.8.dylib\n       0x101475000 -        0x1014c1ff7 +libcurl.4.dylib (7) &lt;42B08966-8867-305A-9FEB-7D969D69A0C7&gt; /Applications/MAMP/*/libcurl.4.dylib\n       0x1014cf000 -        0x10169cfff +libxml2.2.dylib (10.8) &lt;3A40C660-9099-309E-A108-4B68471D1579&gt; /Applications/MAMP/*/libxml2.2.dylib\n       0x1016d3000 -        0x101706fef +libidn.11.dylib (18) &lt;73EAB24B-0A33-39C4-8FA5-FDAE0C99DC1E&gt; /Applications/MAMP/*/libidn.11.dylib\n       0x10170c000 -        0x101759ff7 +libxslt.1.dylib (3.26) &lt;F85DB243-D7D4-3C21-B94C-118754A6D9DD&gt; /Applications/MAMP/*/libxslt.1.dylib\n       0x101765000 -        0x101775fe7 +libintl.8.dylib (10.1) &lt;1024FD8E-208D-3620-8044-153D50FFE252&gt; /Applications/MAMP/*/libintl.8.dylib\n       0x1017dd000 -        0x1017e9fff +yaz.so (???) &lt;CCE413E9-517D-3273-8F1C-4F4555227B2B&gt; /Applications/MAMP/*/yaz.so\n       0x1017ee000 -        0x1017f8ff7 +mcrypt.so (???) &lt;AA475210-CD61-390F-B70D-45AD57D81E18&gt; /Applications/MAMP/*/mcrypt.so\n       0x101b8f000 -        0x101bb7fff +xcache.so (???) &lt;2BE6192A-B4F9-3BB5-9354-E63AC94C8A90&gt; /Applications/MAMP/*/xcache.so\n       0x101bc4000 -        0x101cbbff7 +imap.so (???) &lt;1F9C357E-C2E6-3696-BA29-B4289B570053&gt; /Applications/MAMP/*/imap.so\n       0x101cf1000 -        0x101dbdfe7 +libyaz.4.dylib (5) &lt;442CDE8C-28B0-38BF-BD96-50D5C3FD4891&gt; /Applications/MAMP/*/libyaz.4.dylib\n       0x101ea6000 -        0x101ee5ff7 +libmcrypt.4.dylib (9.8) &lt;AFF632C5-CB59-34B1-A1EE-930D3A7360C0&gt; /Applications/MAMP/*/libmcrypt.4.dylib\n       0x101ef8000 -        0x101f03fef +libltdl.7.dylib (11) &lt;06131575-5BE7-34DD-A39B-6384B31EF9B6&gt; /Applications/MAMP/*/libltdl.7.dylib\n       0x101f08000 -        0x101f09ff7 +gettext.so (???) &lt;49C7C695-9117-3405-919A-5AC4CEC8201E&gt; /Applications/MAMP/*/gettext.so\n       0x101f0c000 -        0x101f31fff +pgsql.so (???) &lt;9B7AC465-52F3-321F-BAB0-7DDEC76F89B7&gt; /Applications/MAMP/*/pgsql.so\n       0x101f3c000 -        0x101f68ff7 +libpq.5.dylib (5.2) &lt;1CDE4910-D92A-33B8-A891-C66A41F2E8C0&gt; /Applications/MAMP/*/libpq.5.dylib\n       0x101f72000 -        0x101f7bff7 +pdo_pgsql.so (???) &lt;441676E4-EA9A-35D3-ABFA-C00AF11D0489&gt; /Applications/MAMP/*/pdo_pgsql.so\n       0x101f80000 -        0x101f81fff  com.apple.heimdalodpac (10.8 - 198) &lt;AE9D93D6-C970-368B-A89C-2DA0EB225204&gt;     /System/Library/KerberosPlugins/KerberosFrameworkPlugins/heimdalodpac.bundle/Contents/MacOS/heimdalodpac\n       0x101f86000 -        0x101f88fff  com.apple.KerberosHelper.LKDCLocate (4.0 - 1.0) &lt;6276FDFA-EB44-374C-9BFC-2AB5F68F2145&gt;     /System/Library/KerberosPlugins/KerberosFrameworkPlugins/LKDCLocate.bundle/Contents/MacOS/LKDCLocate\n       0x101f8c000 -        0x101f8dff7  com.apple.kerberos.reachability (3.0 - 2.0) &lt;8DC5EA50-F572-31C7-9443-5F6C9363A58D&gt;     /System/Library/KerberosPlugins/KerberosFrameworkPlugins/Reachability.bundle/Contents/MacOS/Reachability\n       0x101f91000 -        0x101f92ff7  com.apple.kerberos.sckerberosconfig (3.0 - 1) &lt;6981ADC2-C901-3F8A-A3D0-7334DE61BF3E&gt;     /System/Library/KerberosPlugins/KerberosFrameworkPlugins/SCKerberosConfig.bundle/Contents/MacOS/SCKerberosConfig\n       0x102800000 -        0x102a42ff7 +pdo_mysql.so (???) &lt;941A3356-75E9-303B-A1BF-774B9458CB63&gt; /Applications/MAMP/*/pdo_mysql.so\n    0x7fff68009000 -     0x7fff6803d93f  dyld (210.2.3) &lt;A40597AA-5529-3337-8C09-D8A014EB1578&gt; /usr/lib/dyld\n    0x7fff8dffd000 -     0x7fff8e01fff7  com.apple.Kerberos (2.0 - 1) &lt;C49B8820-34ED-39D7-A407-A3E854153556&gt; /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos\n    0x7fff8e020000 -     0x7fff8e021ff7  libdnsinfo.dylib (453.18) &lt;E7595861-ECF9-336E-9901-BED2620FAA80&gt; /usr/lib/system/libdnsinfo.dylib\n    0x7fff8e0b7000 -     0x7fff8e413fff  com.apple.Foundation (6.8 - 945.11) &lt;A5D41956-A354-3ACC-9355-BE200072223B&gt; /System/Library/Frameworks/Foundation.    framework/Versions/C/Foundation\n    0x7fff8e819000 -     0x7fff8eae9fff  com.apple.security (7.0 - 55179.1) &lt;639641EF-8156-3190-890C-1053658E044A&gt; /System/Library/Frameworks/Security.framework/Versions/A/Security\n    0x7fff8eb02000 -     0x7fff8eb0afff  liblaunch.dylib (442.26.2) &lt;2F71CAF8-6524-329E-AC56-C506658B4C0C&gt; /usr/lib/system/liblaunch.dylib\n    0x7fff8eb12000 -     0x7fff8eb9fff7  com.apple.SearchKit (1.4.0 - 1.4.0) &lt;C7F43889-F8BF-3CB9-AD66-11AEFCBCEDE7&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit\n    0x7fff8eccd000 -     0x7fff8edcafff  libsqlite3.dylib (138.1) &lt;ADE9CB98-D77D-300C-A32A-556B7440769F&gt; /usr/lib/libsqlite3.dylib\n    0x7fff8edcb000 -     0x7fff8ede0ff7  libdispatch.dylib (228.23) &lt;D26996BF-FC57-39EB-8829-F63585561E09&gt; /usr/lib/system/libdispatch.dylib\n    0x7fff8ede1000 -     0x7fff8ede6fff  com.apple.OpenDirectory (10.8 - 151.10) &lt;CF44120B-9B01-32DD-852E-C9C0E1243FC0&gt; /System/Library/Frameworks/OpenDirectory.    framework/Versions/A/OpenDirectory\n    0x7fff8f5c8000 -     0x7fff8f8dfff7  com.apple.CoreServices.CarbonCore (1037.3 - 1037.3) &lt;DF7CABCA-F2CB-345B-8EFF-F0F4E937B7FF&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore\n    0x7fff8feb1000 -     0x7fff8fed0ff7  libresolv.9.dylib (51) &lt;0882DC2D-A892-31FF-AD8C-0BB518C48B23&gt; /usr/lib/libresolv.9.dylib\n    0x7fff9021c000 -     0x7fff90405fff  com.apple.CoreFoundation (6.8 - 744.12) &lt;EF002794-DAEF-31C6-866C-E3E3AC387A9F&gt; /System/Library/Frameworks/CoreFoundation.    framework/Versions/A/CoreFoundation\n    0x7fff90606000 -     0x7fff90641fff  com.apple.LDAPFramework (2.4.28 - 194.5) &lt;0190B746-F684-3F43-B4D0-148EFE386CA4&gt; /System/Library/Frameworks/LDAP.framework/Versions/A/LDAP\n    0x7fff90642000 -     0x7fff907b6fff  com.apple.CFNetwork (596.2.3 - 596.2.3) &lt;6A16C2BD-1035-30F9-AE96-D9E3BB54A976&gt; /System/Library/Frameworks/CFNetwork.    framework/Versions/A/CFNetwork\n    0x7fff907b7000 -     0x7fff907d9ff7  libxpc.dylib (140.41) &lt;FAC04D8B-680E-325F-8F0C-DD69859D0E01&gt; /usr/lib/system/libxpc.dylib\n    0x7fff9116b000 -     0x7fff9116bfff  libOpenScriptingUtil.dylib (148.2) &lt;B8061D13-C1B2-38D5-A723-9A98D64E67AC&gt; /usr/lib/libOpenScriptingUtil.dylib\n    0x7fff91295000 -     0x7fff9129afff  libcache.dylib (57) &lt;65187C6E-3FBF-3EB8-A1AA-389445E2984D&gt; /usr/lib/system/libcache.dylib\n    0x7fff91426000 -     0x7fff914a7fff  com.apple.Metadata (10.7.0 - 707.3) &lt;A45D75C1-B311-39F0-AF4A-63FCCC098C1D&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata\n    0x7fff91510000 -     0x7fff91547ff7  libssl.0.9.8.dylib (47) &lt;923945E6-C489-3406-903B-A362410753F8&gt; /usr/lib/libssl.0.9.8.dylib\n    0x7fff919f5000 -     0x7fff91a0cfff  com.apple.CFOpenDirectory (10.8 - 151.10) &lt;FFBBA538-00B5-334E-BA5B-C8AD6CDCDA14&gt; /System/Library/Frameworks/OpenDirectory.    framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory\n    0x7fff91bbb000 -     0x7fff91bc0fff  libcompiler_rt.dylib (30) &lt;08F8731D-5961-39F1-AD00-4590321D24A9&gt; /usr/lib/system/libcompiler_rt.dylib\n    0x7fff91dc4000 -     0x7fff91dd7ff7  libbsm.0.dylib (32) &lt;F497D3CE-40D9-3551-84B4-3D5E39600737&gt; /usr/lib/libbsm.0.dylib\n    0x7fff91dd8000 -     0x7fff91dd9ff7  libSystem.B.dylib (169.3) &lt;365477AB-D641-389D-B8F4-A1FAE9657EEE&gt; /usr/lib/libSystem.B.dylib\n    0x7fff91e09000 -     0x7fff91e0afff  libsystem_blocks.dylib (59) &lt;D92DCBC3-541C-37BD-AADE-ACC75A0C59C8&gt; /usr/lib/system/libsystem_blocks.dylib\n    0x7fff9208a000 -     0x7fff9208afff  libkeymgr.dylib (25) &lt;CC9E3394-BE16-397F-926B-E579B60EE429&gt; /usr/lib/system/libkeymgr.dylib\n    0x7fff92c04000 -     0x7fff92c04fff  com.apple.CoreServices (57 - 57) &lt;9DD44CB0-C644-35C3-8F57-0B41B3EC147D&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/CoreServices\n    0x7fff92c08000 -     0x7fff92d0afff  libcrypto.0.9.8.dylib (47) &lt;74F165AD-4572-3B26-B0E2-A97477FE59D0&gt; /usr/lib/libcrypto.0.9.8.dylib\n    0x7fff92d0b000 -     0x7fff92d2cff7  libCRFSuite.dylib (33) &lt;736ABE58-8DED-3289-A042-C25AF7AE5B23&gt; /usr/lib/libCRFSuite.dylib\n    0x7fff92d64000 -     0x7fff92e7c92f  libobjc.A.dylib (532.2) &lt;90D31928-F48D-3E37-874F-220A51FD9E37&gt; /usr/lib/libobjc.A.dylib\n    0x7fff92ee1000 -     0x7fff92f92fff  com.apple.LaunchServices (539.7 - 539.7) &lt;DA7C602E-5E01-31B8-925D-B45360CA089F&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices\n    0x7fff93062000 -     0x7fff9312efe7  libsystem_c.dylib (825.25) &lt;8CBCF9B9-EBB7-365E-A3FF-2F3850763C6B&gt; /usr/lib/system/libsystem_c.dylib\n    0x7fff9312f000 -     0x7fff9313cfff  libbz2.1.0.dylib (29) &lt;CE9785E8-B535-3504-B392-82F0064D9AF2&gt; /usr/lib/libbz2.1.0.dylib\n    0x7fff93289000 -     0x7fff9328aff7  libremovefile.dylib (23.1) &lt;DBBFAF35-AC78-3856-92F6-6E4FD9DF14A2&gt; /usr/lib/system/libremovefile.dylib\n    0x7fff9340c000 -     0x7fff9345bff7  libcorecrypto.dylib (106.2) &lt;CE0C29A3-C420-339B-ADAA-52F4683233CC&gt; /usr/lib/system/libcorecrypto.dylib\n    0x7fff93f5b000 -     0x7fff93f61fff  com.apple.DiskArbitration (2.5.1 - 2.5.1) &lt;F7DAF7CC-5893-3F06-9168-3B0192B66D15&gt; /System/Library/Frameworks/DiskArbitration.    framework/Versions/A/DiskArbitration\n    0x7fff93f63000 -     0x7fff93f94ff7  com.apple.DictionaryServices (1.2 - 184.4) &lt;054F2D6F-9CFF-3EF1-9778-25C551B616C1&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices\n    0x7fff94015000 -     0x7fff94066ff7  com.apple.SystemConfiguration (1.12.2 - 1.12.2) &lt;E095637C-457F-3D8F-AE32-A032F9D5A46C&gt; /System/Library/Frameworks/SystemConfiguration.    framework/Versions/A/SystemConfiguration\n    0x7fff94067000 -     0x7fff94164ff7  libxml2.2.dylib (22.3) &lt;47B09CB2-C636-3024-8B55-6040F7829B4C&gt; /usr/lib/libxml2.2.dylib\n    0x7fff94621000 -     0x7fff94623ff7  libunc.dylib (25) &lt;92805328-CD36-34FF-9436-571AB0485072&gt; /usr/lib/system/libunc.dylib\n    0x7fff946f7000 -     0x7fff948f7fff  libicucore.A.dylib (491.11.1) &lt;CC318A27-878A-38CE-9292-1B98353FA9C7&gt; /usr/lib/libicucore.A.dylib\n    0x7fff948f8000 -     0x7fff94903fff  libsystem_notify.dylib (98.5) &lt;C49275CC-835A-3207-AFBA-8C01374927B6&gt; /usr/lib/system/libsystem_notify.dylib\n    0x7fff94998000 -     0x7fff94a3eff7  com.apple.CoreServices.OSServices (557.4 - 557.4) &lt;841878A8-6F3E-300D-8F01-444B3CC1F41D&gt; /System/Library/Frameworks/CoreServices.    framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices\n    0x7fff94d70000 -     0x7fff94dddff7  com.apple.framework.IOKit (2.0 - 755.18.10) &lt;142E19DD-1C8D-3D61-ABC8-83994A73279F&gt; /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit\n    0x7fff94e7a000 -     0x7fff94e88ff7  libsystem_network.dylib (77.10) &lt;0D99F24E-56FE-380F-B81B-4A4C630EE587&gt; /usr/lib/system/libsystem_network.dylib\n    0x7fff94e89000 -     0x7fff94e8bfff  libquarantine.dylib (52) &lt;4BE2E642-A14F-340A-B482-5BD2AEFD9C24&gt; /usr/lib/system/libquarantine.dylib\n    0x7fff95049000 -     0x7fff95077ff7  libsystem_m.dylib (3022.6) &lt;B434BE5C-25AB-3EBD-BAA7-5304B34E3441&gt; /usr/lib/system/libsystem_m.dylib\n    0x7fff955cc000 -     0x7fff95639fff  com.apple.datadetectorscore (4.0 - 269.1) &lt;C94C372B-3821-3A46-A8C2-091AB1CFF7F4&gt; /System/Library/PrivateFrameworks/DataDetectorsCore.    framework/Versions/A/DataDetectorsCore\n    0x7fff9563a000 -     0x7fff9563dff7  libdyld.dylib (210.2.3) &lt;F59367C9-C110-382B-A695-9035A6DD387E&gt; /usr/lib/system/libdyld.dylib\n    0x7fff956f8000 -     0x7fff956fcfff  libpam.2.dylib (20) &lt;C8F45864-5B58-3237-87E1-2C258A1D73B8&gt; /usr/lib/libpam.2.dylib\n    0x7fff9590a000 -     0x7fff95911fff  libcopyfile.dylib (89) &lt;876573D0-E907-3566-A108-577EAD1B6182&gt; /usr/lib/system/libcopyfile.dylib\n    0x7fff95b16000 -     0x7fff95b28ff7  libz.1.dylib (43) &lt;2A1551E8-A272-3DE5-B692-955974FE1416&gt; /usr/lib/libz.1.dylib\n    0x7fff95b4b000 -     0x7fff95b76fff  libxslt.1.dylib (11.3) &lt;441776B8-9130-3893-956F-39C85FFA644F&gt; /usr/lib/libxslt.1.dylib\n    0x7fff95b77000 -     0x7fff95badfff  libsystem_info.dylib (406.17) &lt;4FFCA242-7F04-365F-87A6-D4EFB89503C1&gt; /usr/lib/system/libsystem_info.dylib\n    0x7fff95bb3000 -     0x7fff95bbbff7  libsystem_dnssd.dylib (379.32.1) &lt;62AA0B84-188A-348B-8F9E-3E2DB08DB93C&gt; /usr/lib/system/libsystem_dnssd.dylib\n    0x7fff95cda000 -     0x7fff95cffff7  libc++abi.dylib (24.4) &lt;E7BD9363-1D25-3551-A68A-2E2FF6ABECD7&gt; /usr/lib/libc++abi.dylib\n    0x7fff95d00000 -     0x7fff95d69fff  libstdc++.6.dylib (56) &lt;EAA2B53E-EADE-39CF-A0EF-FB9D4940672A&gt; /usr/lib/libstdc++.6.dylib\n    0x7fff96e72000 -     0x7fff96e74fff  com.apple.TrustEvaluationAgent (2.0 - 23) &lt;A97D348B-32BF-3E52-8DF2-59BFAD21E1A3&gt; /System/Library/PrivateFrameworks/TrustEvaluationAgent.    framework/Versions/A/TrustEvaluationAgent\n    0x7fff96e75000 -     0x7fff96e86ff7  libsasl2.2.dylib (166) &lt;649CAE0E-8FFE-3C60-A849-BE6300E4B726&gt; /usr/lib/libsasl2.2.dylib\n    0x7fff96efc000 -     0x7fff96f7efff  com.apple.Heimdal (3.0 - 2.0) &lt;660A6C64-4912-32C8-A332-B64164032A2D&gt; /System/Library/PrivateFrameworks/Heimdal.framework/Versions/A/Heimdal\n    0x7fff972dd000 -     0x7fff972ebfff  libcommonCrypto.dylib (60026) &lt;2D6537F5-1B5E-305C-A1CF-D1FA80CA3939&gt; /usr/lib/system/libcommonCrypto.dylib\n    0x7fff97730000 -     0x7fff97798ff7  libc++.1.dylib (65.1) &lt;20E31B90-19B9-3C2A-A9EB-474E08F9FE05&gt; /usr/lib/libc++.1.dylib\n    0x7fff98016000 -     0x7fff9810bfff  libiconv.2.dylib (34) &lt;FEE8B996-EB44-37FA-B96E-D379664DEFE1&gt; /usr/lib/libiconv.2.dylib\n    0x7fff99a4b000 -     0x7fff99a62fff  com.apple.GenerationalStorage (1.1 - 132.2) &lt;3F5C87BD-D866-3732-8CB9-D23ED9784D6E&gt; /System/Library/PrivateFrameworks/GenerationalStorage.    framework/Versions/A/GenerationalStorage\n    0x7fff99d95000 -     0x7fff99d99ff7  com.apple.TCC (1.0 - 1) &lt;F2F3B753-FC73-3543-8BBE-859FDBB4D6A6&gt; /System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC\n    0x7fff99d9a000 -     0x7fff99da1fff  com.apple.NetFS (5.0 - 4.0) &lt;82E24B9A-7742-3DA3-9E99-ED267D98C05E&gt; /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS\n    0x7fff99da2000 -     0x7fff99dafff7  com.apple.NetAuth (4.0 - 4.0) &lt;F5BC7D7D-AF28-3C83-A674-DADA48FF7810&gt; /System/Library/PrivateFrameworks/NetAuth.framework/Versions/A/NetAuth\n    0x7fff99db4000 -     0x7fff99dcfff7  libsystem_kernel.dylib (2050.18.24) &lt;C0535565-35D1-31A7-A744-63D9F10F12A4&gt; /usr/lib/system/libsystem_kernel.dylib\n    0x7fff99e52000 -     0x7fff99e53ff7  libsystem_sandbox.dylib (220) &lt;3C3B03CF-C525-3CB3-8557-62E91B93AC95&gt; /usr/lib/system/libsystem_sandbox.dylib\n    0x7fff99e99000 -     0x7fff99e9ffff  libmacho.dylib (829) &lt;BF332AD9-E89F-387E-92A4-6E1AB74BD4D9&gt; /usr/lib/system/libmacho.dylib\n    0x7fff9a0fb000 -     0x7fff9a147ff7  libauto.dylib (185.1) &lt;73CDC482-16E3-3FC7-9BB4-FBA2DA44DBC2&gt; /usr/lib/libauto.dylib\n    0x7fff9a220000 -     0x7fff9a22eff7  libkxld.dylib (2050.18.24) &lt;7027CE49-007D-3553-8FFA-3E3B428B2316&gt; /usr/lib/system/libkxld.dylib\n    0x7fff9a241000 -     0x7fff9a242fff  liblangid.dylib (116) &lt;864C409D-D56B-383E-9B44-A435A47F2346&gt; /usr/lib/liblangid.dylib\n    0x7fff9a243000 -     0x7fff9a249ff7  libunwind.dylib (35.1) &lt;21703D36-2DAB-3D8B-8442-EAAB23C060D3&gt; /usr/lib/system/libunwind.dylib\n    0x7fff9a7aa000 -     0x7fff9a7b9ff7  libxar.1.dylib (105) &lt;370ED355-E516-311E-BAFD-D80633A84BE1&gt; /usr/lib/libxar.1.dylib\n    0x7fff9a867000 -     0x7fff9a8a1fff  com.apple.GSS (3.0 - 2.0) &lt;0BDF8090-5EF4-3759-94DE-8521D74188AA&gt; /System/Library/Frameworks/GSS.framework/Versions/A/GSS\n    0x7fff9a94d000 -     0x7fff9a9aaff7  com.apple.AE (645.3 - 645.3) &lt;FF867ACA-8628-3E5A-8FA0-AF429B42C5D7&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.    framework/Versions/A/AE\n    0x7fff9aa0f000 -     0x7fff9aa10fff  libDiagnosticMessagesClient.dylib (8) &lt;8548E0DC-0D2F-30B6-B045-FE8A038E76D8&gt; /usr/lib/libDiagnosticMessagesClient.dylib\n    0x7fff9aa11000 -     0x7fff9aa1cfff  com.apple.CommonAuth (3.0 - 2.0) &lt;74A86DDD-57D0-3178-AB74-E1F31DBFFC39&gt; /System/Library/PrivateFrameworks/CommonAuth.    framework/Versions/A/CommonAuth\n\nExternal Modification Summary:\n  Calls made by other processes targeting this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by all processes on this machine:\n    task_for_pid: 1596\n    thread_create: 0\n    thread_set_state: 0\n\nVM Region Summary:\nReadOnly portion of Libraries: Total=111.2M resident=43.1M(39%) swapped_out_or_unallocated=68.1M(61%)\nWritable regions: Total=27.0M written=6936K(25%) resident=9208K(33%) swapped_out=0K(0%) unallocated=18.0M(67%)\n\nREGION TYPE                      VIRTUAL\n===========                      =======\nMALLOC                             17.7M\nMALLOC guard page                    32K\nSTACK GUARD                        56.0M\nStack                              8192K\nVM_ALLOCATE                           4K\n__DATA                             6248K\n__LINKEDIT                         55.5M\n__TEXT                             55.6M\n__UNICODE                           544K\nshared memory                        12K\n===========                      =======\nTOTAL                             199.5M\n</code></pre>\n\n<p>I'm using PHP 5.4.4 (but have tried with 5.3.14 and 5.2.17), the PHPUnit version is 3.7.9.  </p>\n"},{"tags":["php","javascript","jquery"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":68,"score":-2,"question_id":13262284,"title":"How to perform a calculation function to calculate the difference?","body":"<p>In my application I have a table which looks like this below for example:</p>\n\n<pre><code>Question No.    Question                 Answer     Marks per Answer    Total Marks\n1               Here are 2 answers       B          (text input)            5\n                                         D          (text input)\n2               Here is a single answer  True       (text input)            5\n</code></pre>\n\n<p>In the table above I have a text input which belongs to each answer. Now each question has its own amount of total marks. What I want to do is that if the user enters in a number in the text input, it should do a calculation on the difference between the number entered in the text input and the number under the \"Total Marks\" column. So if you look at the example below:</p>\n\n<pre><code> Question No.   Question                 Answer     Marks per Answer    Total Marks\n 1              Here are 2 answers       B          (text input) = 2        2\n                                         D          (text input) = 1\n 2              Here is a single answer  True       (text input) = 5        0\n</code></pre>\n\n<p>As you can see in the table above, the text inputs for the answers in question 1 equals 3 altogether. So 5 (from total marks for question 1) minus 3 = 2 (Total marks now equals 2)</p>\n\n<p>For question 2, the text input for the answer in question 2  equals 5, so 5 (from total marks for question 2) minus 5 = 0 (Total marks now equals 0).</p>\n\n<p><strong>MY QUESTIONS:</strong></p>\n\n<ol>\n<li>How and what is the best method to use in order to perform these calculations? </li>\n</ol>\n\n<p>2.What I also want is that if a question only contains a single answer (like question 2 in the above example only has one answer), then I want the text input to become readonly and the text input should display the same number as the total marks as that it has to equal the same marks anyway, so it would look like this below:</p>\n\n<pre><code>Question No.   Question                  Answer     Marks per Answer             Total Marks\n 2              Here is a single answer  True       (text input(readonly)) = 5        0\n</code></pre>\n\n<p>Here is a jsfiddle <a href=\"http://jsfiddle.net/AeT6E/4/\" rel=\"nofollow\">demo</a> so you know what the HTML code looks like. In the jsffidle what I have done is that in the textboxes I inserted the values in them, but I left the \"Total marks\" for questions to \"5\" when really they should both make \"0\" if you calculate the difference between the total marks and the numbers entered in the text inputs. Also question 2's text input is readonly, this is because it is just a single answer to this question</p>\n\n<p>Below is the html code which is in the jsfiddle:</p>\n\n<pre><code>&lt;table border='1' id='markstbl'&gt;\n&lt;tr&gt;\n&lt;th class='questionth'&gt;Question No.&lt;/th&gt;\n&lt;th class='questionth'&gt;Question&lt;/th&gt;\n&lt;th class='answerth'&gt;Answer&lt;/th&gt;\n&lt;th class='answermarksth'&gt;Marks per Answer&lt;/th&gt;\n&lt;th class='noofmarksth'&gt;Total Marks&lt;/th&gt;\n&lt;/tr&gt;\n&lt;tr class=\"questiontd\"&gt;\n&lt;td class=\"questionnumtd\" rowspan=\"2\"&gt;1&lt;/td&gt;\n&lt;td class=\"questioncontenttd\" rowspan=\"2\"&gt;Here are 2 Answers Question&lt;/td&gt;\n&lt;td class=\"answertd\"&gt;B&lt;/td&gt;\n&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" value=\"3\" /&gt;&lt;/td&gt;\n&lt;td class=\"noofmarkstd\" rowspan=\"2\"&gt;5&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class=\"questiontd\"&gt;\n&lt;td class=\"answertd\"&gt;D&lt;/td&gt;\n&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" value=\"2\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class=\"questiontd\"&gt;\n&lt;td class=\"questionnumtd\" rowspan=\"2\"&gt;2&lt;/td&gt;\n&lt;td class=\"questioncontenttd\" rowspan=\"2\"&gt;Here is single Answer Question&lt;/td&gt;\n&lt;td class=\"answertd\"&gt;True&lt;/td&gt;\n&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" value=\"5\" readonly=\"readonly\"/&gt;&lt;/td&gt;\n&lt;td class=\"noofmarkstd\" rowspan=\"2\"&gt;5&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Let me just say that there are can be numerous questions and numerous answers, please don't just provide an answer that fits for only this example. It needs to work if there are numerous answers in a question.</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13267558,"title":"facebook graph api search doesn't return all checkins","body":"<p>There are some people who their checkins cannot be seen through the 'checkins' of the graph api, and neither through the search?q=checkins</p>\n\n<p>Those people's checkins will only be published in their /fbid/feed as type 'status'\nbut if i want to get their checkins with all my friends as i do in the 'search' function, i cannot.</p>\n\n<p>I have all the permissions with the access key..</p>\n\n<p>Anyone else experienced this problem?\nThanks.</p>\n"},{"tags":["php","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13268919,"title":"Magento Cart:Checking if the items in cart are reordered items","body":"<p>It is possible to check if the items  in the cart are reordered items or not.When the store is changed by the customers the cart items of previous store is removed. When the reorder is done from the user area, I have redirected to the respective stores from where the items was purchased.So  the problem is that, the reordered items are also removed from the cart when I redirect it to original store from where it was bought.Is there any solution to check if the items of the cart are reordered and not deleting those items.  I am using magento 1.7\nAny help will be appreciated.</p>\n"},{"tags":["php","javascript","web-applications","web","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13268797,"title":"PHP and mysql simple grading quiz","body":"<p>I've created a simple quiz page for simple java program \nas follow</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form name=\"marking\" method=\"post\" action=\"input.php\"&gt; \nName: &lt;input type=\"text\" name=\"name\" /&gt;&lt;br/&gt; \nID: &lt;input type=\"text\" name=\"id\" /&gt;&lt;br&gt;\n&lt;pre&gt;\nQ:Write a simple Java program that outputs the string Hello World. \n\nThe marking scheme is as follows:\ncorrect class declaration 10 marks\ncorrect declaration of main method 10 marks\ncorrect declaration of printing statement 10 marks&lt;/pre&gt;\n\nWrite your program in textarea bellow: \n&lt;br/&gt; &lt;textarea rows=\"20\" cols=\"40\" name=\"answer\" &gt;public class HelloWorld\n{\n/*\nWrite your program here\n*/\n}\n&lt;/textarea&gt;&lt;br/&gt;&lt;br/&gt; \n&lt;input type=\"submit\"/ &gt; \n&lt;/form&gt; \n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>now how I create grading script for this type of question, I search a lot and I got many and plenty pages in this site and google explaining multiple choice quiz grading system with many tutorial and example about true/false grading system but couldnt find useful website or tutorial about(\"long answer\") grading system like my program above. So essentially what I want when I write the (answer)program where i said /* write your program here */ I should get marks based on the marking schemes I specified with the question.\nNote: Im using localhost in case someone wondering where the grade should store, it would be really helpful if anyone guide me to the correct direction or some one has done similar simple type of quiz( Not multiple choices please).</p>\n"},{"tags":["php","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13235740,"title":"Email script sending emails but throwing up Cannot redeclare spamcheck() error","body":"<p>I have a script that send emails to multiple email addresses, the script is suppose to redirect to a success page upon completion, the emails are being sent fine with no problems, however I am getting up the following error instead of redirection.</p>\n\n<blockquote>\n  <p>Fatal error: Cannot redeclare spamcheck() (previously declared in\n  /websites/123reg/LinuxPackage22/br/ig/ht/MYSITE.co.uk/public_html/admin/mailinglistsend.php:87)\n  in\n  /websites/123reg/LinuxPackage22/br/ig/ht/MYSITE.co.uk/public_html/admin/mailinglistsend.php\n  on line 87</p>\n</blockquote>\n\n<p>The code is as follows</p>\n\n<pre><code>&lt;?php\n//initialize the session\nif (!isset($_SESSION)) {\n  session_start();\n}\n\nrequire_once('../Connections/BrightLights.php'); \n\nif (!function_exists(\"GetSQLValueString\")) {\nfunction GetSQLValueString($theValue, $theType, $theDefinedValue = \"\", $theNotDefinedValue = \"\") \n{\n  if (PHP_VERSION &lt; 6) {\n    $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;\n  }\n\n  $theValue = function_exists(\"mysql_real_escape_string\") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);\n\n  switch ($theType) {\n    case \"text\":\n      $theValue = ($theValue != \"\") ? \"'\" . $theValue . \"'\" : \"NULL\";\n      break;    \n    case \"long\":\n    case \"int\":\n      $theValue = ($theValue != \"\") ? intval($theValue) : \"NULL\";\n      break;\n    case \"double\":\n      $theValue = ($theValue != \"\") ? doubleval($theValue) : \"NULL\";\n      break;\n    case \"date\":\n      $theValue = ($theValue != \"\") ? \"'\" . $theValue . \"'\" : \"NULL\";\n      break;\n    case \"defined\":\n      $theValue = ($theValue != \"\") ? $theDefinedValue : $theNotDefinedValue;\n      break;\n  }\n  return $theValue;\n}\n}\n\nmysql_select_db($database_BrightLights, $BrightLights);\n$query_mailinglist = \"SELECT * FROM mailing_list WHERE subscribed = ''\";\n$mailinglist = mysql_query($query_mailinglist, $BrightLights) or die(mysql_error());\n$row_mailinglist = mysql_fetch_assoc($mailinglist);\n$totalRows_mailinglist = mysql_num_rows($mailinglist);\n\nerror_reporting(E_ALL &amp; ~E_NOTICE);\nini_set('display_errors', TRUE);\nini_set('display_startup_errors', TRUE);\n\n\n\n\n?&gt;\n&lt;?php \n\n\n\n$subject = $_POST['subject'];\n$body = $_POST['body'];\n\ndo {\n\n$name = $row_mailinglist['name'];\n$email = $row_mailinglist['email'];\n\n\n\n    $email_from = 'mailinglist@MYSITE.com';\n    $email_subject = \"$subject\";\n    $email_body = \"\n    $name,\n\n    $body\n\n\n\n    You have received this email because you have subscribed via our website, to unsubscribe go to MYSITE/mailing-list.php?unsubscribe=$email\";\n\n\n    $to = \"$email\";\n    $headers = \"From: $email_from\";\n    mail($to, $email_subject, $email_body, $headers);\n\n\n\n\n\n    function spamcheck($field)\n    {\n        //filter_var() sanitizes the e-mail\n        //address using FILTER_SANITIZE_EMAIL\n        $field=filter_var($field, FILTER_SANITIZE_EMAIL);\n\n        //filter_var() validates the e-mail\n        //address using FILTER_VALIDATE_EMAIL\n        if(filter_var($field, FILTER_VALIDATE_EMAIL))\n        {\n            return TRUE;\n        }\n        else\n        {\n            return FALSE;\n        }\n    }\n\n    } while ($row_mailinglist = mysql_fetch_assoc($mailinglist));\n\n\nmysql_free_result($mailinglist);\n\n    header('Location: mailinglist-new.php?sent');\n\n?&gt;\n</code></pre>\n\n<p>I appreciate your help :-)</p>\n"},{"tags":["php","object","closures","lazy-loading"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13268887,"title":"How to lazy load closure assigned to object variable?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4535330/calling-closure-assigned-to-object-property-directly\">Calling closure assigned to object property directly</a>  </p>\n</blockquote>\n\n\n\n<p>I have an array of item objects, each with some properties. Now because of performace I want to add a couple of object variables (like $obj->children) that are lazy loaded only when called... I tried a couple of solutions but can't find the right one...</p>\n\n<p>I want to assign this variable to already created objects something like this:</p>\n\n<p><code>$obj->children = function(){ // Return array of child objects };</code></p>\n\n<p>and after that I want to be able to get list of children just by calling:</p>\n\n<p><code>var_dump($obj->children);</code></p>\n\n<p>How can this be done?</p>\n"},{"tags":["php","magento","category"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13268616,"title":"Display different product images for categories in magento","body":"<p>I am developing a magento website for a company solely selling jumpers.\neach jumper can have three images, </p>\n\n<p>image 1: jumper with no model\nimage 2. male model wearing jumper\nimage 3: female model wearing jumper</p>\n\n<p>some jumpers will have all 3 and some will have either the base image and either the male or female image</p>\n\n<p>On the homepage i display the jumper images with no model.</p>\n\n<p>I want to create 2 categories (male , female)</p>\n\n<p>when lets say the male category page is selected, i would like to show the male images in this page.</p>\n\n<p>any ideas how i would do this?</p>\n"},{"tags":["php","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13268818,"title":"Magento: Allow users to enter message on cart which is added to order","body":"<p>I was wondering if it was possible to allow users on the shopping cart to enter a message that will be added to the order.  A screenshot below shows what I mean:</p>\n\n<p><a href=\"http://i46.tinypic.com/3523rll.jpg\" rel=\"nofollow\">http://i46.tinypic.com/3523rll.jpg</a></p>\n\n<p>Is this possible?</p>\n\n<p>Many thanks</p>\n"},{"tags":["php","mysql","xml","data"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13268407,"title":"Storing Huge Amount of Data from XML to MYSQL database for PDF","body":"<p>I need an advice to convert XML data to pdf format using php.I want to provide am option to download pdf whenever the download link is clicked.</p>\n\n<p>I have an XML file that contains thousand of records.I want to convert my XML records into pdf format.Previously,i used to generate pdfs from mysql.I dont know how i can convert my xml data directly to pdf using php.</p>\n\n<p>One option is to retrieve each and every XML record one by one and insert it into the database using php and mysql.</p>\n\n<p><strong>My question is :</strong> </p>\n\n<p><strong>Wont it be less efficient if i will <em>Parse xml record and run mysql insert statement</em> thousand of times to store thousand of records into the database ??</strong></p>\n\n<p>Also,more time would be required to retrieve those records from the database to generate pdf. Is there any other way around to deal with this problem efficiently and effectively ???? Please suggest me . </p>\n"},{"tags":["php","website","gd","captcha","freetype"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13268662,"title":"captcha not showing on the host server","body":"<p>i have a form in wich i'm using a captcha image , it works on my computer but when i hosted it that capctha won't show (shows the little icone like the image doesn't exist), somone suggested to comment a couple of lines to see the errors wich gave me:</p>\n\n<blockquote>\n  <p>Warning: imagettfbbox() [function.imagettfbbox]: Could not find/open\n  font in /home/a7754846/public_html/alansari/view/captcha_code_file.php\n  on line 74</p>\n</blockquote>\n\n<p>witch is this line:</p>\n\n<pre><code>$textbox = imagettfbbox($font_size, 0, $font, $code);\n</code></pre>\n\n<p>I checked the server , the GD and FreeType are installed.</p>\n\n<p>here is the <code>phpinfo</code>  <code>http://server45.000webhost.com/phpinfo.php</code></p>\n\n<p>I'm calling the captcha like this</p>\n\n<pre><code>&lt;td&gt;\n  &lt;img src=\"view/captcha_code_file.php?rand=&lt;?php echo rand(); ?&gt;\" id='captchaimg' &gt;\n  &lt;input id=\"6_letters_code\" name=\"6_letters_code\" type=\"text\" onblur=\"verifEmpty(this);\" &gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>and the captcha php file :</p>\n\n<pre><code>&lt;?php \n\nsession_start();\n//Settings: You can customize the captcha here\n$image_width = 120;\n$image_height = 40;\n$characters_on_image = 6;\n$font = 'monofont.ttf';\n\n//The characters that can be used in the CAPTCHA code.\n//avoid confusing characters (l 1 and i for example)\n$possible_letters = '23456789bcdfghjkmnpqrstvwxyz';\n$random_dots = 0;\n$random_lines = 20;\n$captcha_text_color=\"0x142864\";\n$captcha_noice_color = \"0x142864\";\n\n$code = '';\n\n\n$i = 0;\nwhile ($i &lt; $characters_on_image) { \n$code .= substr($possible_letters, mt_rand(0, strlen($possible_letters)-1), 1);\n$i++;\n}\n\n\n\n$font_size = $image_height * 0.75;\n$image = @imagecreate($image_width, $image_height);\n\n\n/* setting the background, text and noise colours here */\n$background_color = imagecolorallocate($image, 255, 255, 255);\n\n$arr_text_color = hexrgb($captcha_text_color);\n$text_color = imagecolorallocate($image, $arr_text_color['red'], \n$arr_text_color['green'], $arr_text_color['blue']);\n\n$arr_noice_color = hexrgb($captcha_noice_color);\n$image_noise_color = imagecolorallocate($image, $arr_noice_color['red'], \n$arr_noice_color['green'], $arr_noice_color['blue']);\n\n\n/* generating the dots randomly in background */\nfor( $i=0; $i&lt;$random_dots; $i++ ) {\nimagefilledellipse($image, mt_rand(0,$image_width),\nmt_rand(0,$image_height), 2, 3, $image_noise_color);\n}\n\n\n/* generating lines randomly in background of image */\nfor( $i=0; $i&lt;$random_lines; $i++ ) {\nimageline($image, mt_rand(0,$image_width), mt_rand(0,$image_height),\nmt_rand(0,$image_width), mt_rand(0,$image_height), $image_noise_color);\n}\n\n\n/* create a text box and add 6 letters code in it */\n$textbox = imagettfbbox($font_size, 0, $font, $code); \n$x = ($image_width - $textbox[4])/2;\n$y = ($image_height - $textbox[5])/2;\nimagettftext($image, $font_size, 0, $x, $y, $text_color, $font , $code);\n\n\n/* Show captcha image in the page html page */\nheader('Content-Type: image/jpeg');// defining the image type to be shown in browser widow\nimagejpeg($image);//showing the image\nimagedestroy($image);//destroying the image instance\n$_SESSION['6_letters_code'] = $code;\n\nfunction hexrgb ($hexstr)\n{\n$int = hexdec($hexstr);\n\nreturn array(\"red\" =&gt; 0xFF &amp; ($int &gt;&gt; 0x10),\n\"green\" =&gt; 0xFF &amp; ($int &gt;&gt; 0x8),\n\"blue\" =&gt; 0xFF &amp; $int);\n}\n?&gt;\n</code></pre>\n\n<p>thank you</p>\n"},{"tags":["php","html","image","gd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13267846,"title":"How to add text to an image with PHP GD library","body":"<p>I have image creation code in image_creator.</p>\n\n<pre><code>&lt;?php\nheader(\"Content-Type: image/jpeg\");\n$im = ImageCreateFromGif(\"photo.gif\"); \n$black = ImageColorAllocate($im, 255, 255, 255);\n$start_x = 10;\n$start_y = 20;\nImagettftext($im, 12, 0, $start_x, $start_y, $black, 'verdana.ttf', \"text to write\");\nImagejpeg($im, '', 100);\nImageDestroy($im);\n?&gt; \n</code></pre>\n\n<p>The file for image output is image.php and has below code</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;img src=\"http://localhost/image_creator.php\"/&gt; \n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>When I run image.php, I just get a blank page. Why is it so?</p>\n"},{"tags":["php","javascript","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":41,"score":-4,"question_id":13268514,"title":"How can I create URL tracking?","body":"<p>How can I create URL tracking like this?</p>\n\n<pre><code>www.url.com/ld/?tid=google\nwww.url.com/ld/?tid=fb\n</code></pre>\n\n<p>Here I want to make track in my form page if hits come from Google automatic get the <code>tid</code> result and through it in database with another option in my form!</p>\n\n<p>Here is my code but it dosn't work </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction update_tracking_id(field_id)\n{\nname = 'tid';\nvar regexS = \"[\\\\?&amp;]\"+name+\"=([^&amp;#]*)\";\nvar regex = new RegExp( regexS );\nvar results = regex.exec( window.location.href );\nif( results == null )\nreturn;\nelse\ndocument.getElementById(field_id).value = results[1];\n}\nupdate_tracking_id('meta_adtracking');\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>and i put this input in form</strong> </p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<p><strong>and make row in database called \"tid\"</strong></p>\n"},{"tags":["php","arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":37,"score":-5,"question_id":13268642,"title":"How to sum up all the numbers in an array in php","body":"<p>Hello guy pls i really need your help asap, i have a function that calculates allowances and puts them in an array. i want to sum up all the numbers in that array and put it in a variable. Check out the code below that has the array</p>\n\n<pre><code>// Calculate the salary breakdown into the options\n    $salary_breakdown = self::calc_salary_options($gross_salary,$branch_id/*,$pay_band_id*/);\n\n    // Store the keys\n    if (is_array($salary_breakdown))\n        $this-&gt;optionKeys = array_keys($salary_breakdown);\n</code></pre>\n"},{"tags":["php","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13268615,"title":"Export table to excel symfony2","body":"<p>I am trying to use Symfony2\nhow can I export an html table to an Excel file with php\nwho can help me </p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13268171,"title":"PHP class_exists always returns true","body":"<p>I have a PHP class that needs some pre-defined globals before the file is included:</p>\n\n<p>File: includes/Product.inc.php</p>\n\n<pre><code>if (class_exists('Product')) {\n    return;\n}\n\n// This class requires some predefined globals\nif ( !isset($gLogger) || !isset($db) || !isset($glob) ) {\n    return;\n}\n\nclass Product\n{\n   ...\n}\n</code></pre>\n\n<p>The above is included in other PHP files that need to use Product using <strong>require_once</strong>. Anyone who wants to use Product must however ensure those globals are available, at least that's the idea.</p>\n\n<p>I recently debugged an issue in a function within the Product class which was caused because $gLogger was null. The code requiring the above Product.inc.php had not bothered to create the $gLogger. So The question is how was this class ever included if $gLogger was null?</p>\n\n<p>I tried to debug the code (xdebug in NetBeans), put a breakpoint at the start of Product.inc.php to find out and every time it came to the if (class_exists('Product')) clause it would simply step in and return thus never getting to the global checks. So how was it ever included the first time?</p>\n\n<p>This is PHP 5.1+ running under MAMP (Apache/MySQL). I don't have any auto loaders defined.</p>\n\n<blockquote>\n  <p>Thanks for the informative answers guys. My belief was that when you\n  include a file PHP starts executing it line by line from line one, so\n  it would not allow me to include the file if the globals were not\n  defined. I will move the checks into the constructor. Based on the\n  original question, I accept the answer from @deceze</p>\n</blockquote>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":26,"score":-2,"question_id":13268609,"title":"CURL settings in php","body":"<p>html form is :- </p>\n\n<pre><code>&lt;form method=\"post\" action=\"update-cart.php?action=do-update\" name=\"upgrade\" class=\"upgrade\"&gt;\n&lt;input type=\"hidden\" id=\"updatecart\" name=\"updatecart\" value=\"35b35rt45\" /&gt;\n&lt;input type=\"hidden\" name=\"http_referer\" value=\"/cart/update-cart.php\" /&gt;\n&lt;p&gt;&lt;input id=\"upgrade\" class=\"button\" type=\"submit\" value=\"Upgrade by click here\" name=\"upgrade\" /&gt;&lt;/form&gt;\n</code></pre>\n\n<p>Now what is the CURL function for this submit action ? i tried it : </p>\n\n<pre><code>$urlto='site.com';\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL, $urlto);\ncurl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_POSTFIELDS,\"form_action = update-cart.php?action=do-update&amp;submit='Upgrade by click here'\");\ncurl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);\ncurl_setopt($ch,CURLOPT_RETURNTRANSFER,1);\ncurl_setopt($ch, CURLOPT_HEADER, 0);\ncurl_setopt($ch, CURLOPT_USERAGENT, $useragent);\n    curl_setopt($ch, CURLOPT_COOKIEJAR, \"COOKIE.txt\"); \n    curl_setopt($ch, CURLOPT_COOKIEFILE, \"COOKIE.txt\"); \n</code></pre>\n\n<p>but. not working. </p>\n"},{"tags":["php","http","get"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":38,"score":-2,"question_id":13268173,"title":"How does PHP handle duplicated URL parameters?","body":"<p>Quick question: if I submit a form like the following</p>\n\n<pre><code>&lt;form action='something.php'&gt;\n   &lt;input type='text' name='a' /&gt;\n   &lt;input type='text' name='a' /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>what would $_GET['a'] output?</p>\n"},{"tags":["php","header"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":38,"score":-5,"question_id":13266294,"title":"how to use variables passed through header() in php","body":"<p>I'm using <code>header()</code> to pass var <code>user</code> from one page to another as:</p>\n\n<pre><code>header( \"Location: temp.php? user = $user\" );\n</code></pre>\n\n<p>the variable is getting passed and is shown on the url of another page. </p>\n\n<p>But i dont know how to use these var <code>user</code> in that page. Please help.</p>\n"},{"tags":["php","magento","cron"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13266706,"title":"Magento cron job expression dynamically","body":"<p>i am trying to set up a cron job dynamically in my custom module. but this do not save the job_code to cron_schedule table. </p>\n\n<pre><code>  &lt;config&gt;\n    &lt;crontab&gt;\n    &lt;jobs&gt;\n    &lt;bookingreservation_summary&gt;    \n         &lt;!--&lt;schedule&gt;&lt;cron_expr&gt;*/5 * * * *&lt;/cron_expr&gt;&lt;/schedule&gt;--&gt;     \n        &lt;run&gt;&lt;model&gt;bookingreservation/observer::sendBookingSummaryEmail&lt;/model&gt;&lt;/run&gt;\n    &lt;/bookingreservation_summary&gt;\n    &lt;/jobs&gt;\n   &lt;/crontab&gt;\n &lt;/config&gt;\n</code></pre>\n\n<p>And the cron_expr is commented, because i am generating it from configurations. and this saves expression and model in config_data table like,</p>\n\n<pre><code> path: crontab/jobs/process_bookingreservation_summary/schedule/cron_expr  \n value: 0 17 * * *\n\n path : crontab/jobs/process_bookingreservation_summary/run/model\n value : bookingreservation/observer::sendBookingSummaryEmail\n</code></pre>\n\n<p>this class executes and saves into config_data</p>\n\n<pre><code> class ABC_Bookingreservation_Model_Config_Backend_Cron extends Mage_Core_Model_Config_Data\n    {\nconst CRON_STRING_PATH  = 'crontab/jobs/process_bookingreservation_summary/schedule/cron_expr';\nconst CRON_MODEL_PATH   = 'crontab/jobs/process_bookingreservation_summary/run/model';\n\n/**\n * Cron settings after save\n *\n * @return Mage_Adminhtml_Model_System_Config_Backend_Log_Cron\n */\nprotected function _afterSave()\n{\n    $enabled    = $this-&gt;getData('groups/booking_summary/fields/enabled/value');\n    $time       = $this-&gt;getData('groups/booking_summary/fields/time/value');\n    $frequncy   = $this-&gt;getData('groups/booking_summary/fields/frequency/value');\n\n    $frequencyDaily     = Mage_Adminhtml_Model_System_Config_Source_Cron_Frequency::CRON_DAILY;\n    $frequencyWeekly    = Mage_Adminhtml_Model_System_Config_Source_Cron_Frequency::CRON_WEEKLY;\n    $frequencyMonthly   = Mage_Adminhtml_Model_System_Config_Source_Cron_Frequency::CRON_MONTHLY;\n\n    if ($enabled)\n{\n        $cronDayOfWeek = date('N');\n        $cronExprArray = array(\n            intval($time[1]),                                   # Minute\n            intval($time[0]),                                   # Hour\n            ($frequncy == $frequencyMonthly) ? '1' : '*',       # Day of the Month\n            '*',                                                # Month of the Year\n            ($frequncy == $frequencyWeekly) ? '1' : '*',        # Day of the Week\n        );\n        $cronExprString = join(' ', $cronExprArray);\n    }\n    else{\n\n        $cronExprString = '';\n    }\n\n    try\n    {\n        Mage::getModel('core/config_data')\n            -&gt;load(self::CRON_STRING_PATH, 'path')\n            -&gt;setValue($cronExprString)\n            -&gt;setPath(self::CRON_STRING_PATH)\n            -&gt;save();\n\n        Mage::getModel('core/config_data')\n            -&gt;load(self::CRON_MODEL_PATH, 'path')\n            -&gt;setValue((string) Mage::getConfig()-&gt;getNode(self::CRON_MODEL_PATH))\n            -&gt;setPath(self::CRON_MODEL_PATH)\n            -&gt;save();\n    }\n    catch (Exception $e)\n    {\n        Mage::throwException(Mage::helper('adminhtml')-&gt;__('Unable to save the cron expression.'));\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>can any one help where is issue with my code, because whenever i run cron.php through browser cron_scedule table updates, but do not save job_code from this job.</p>\n"},{"tags":["php","zend-framework2","includepath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13248683,"title":"How to set a new includePath in application.ini","body":"<p>I am using Zend framework 2 and i am trying to make a Custom includePath in the application.ini file.\nThe includePath should include all the files in the selected folder and all files in all it's subfolders.</p>\n\n<p>I already have</p>\n\n<pre><code> includePaths.models = APPLICATION_PATH \"/models\"\n</code></pre>\n\n<p>but this only includes the files in the models folder and not the files in the models subfolders.</p>\n\n<p>can anyone help me please ?</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":21,"favorite_count":9,"up_vote_count":25,"down_vote_count":0,"view_count":23397,"score":25,"question_id":7231939,"title":"Redirecting to authentication dialog - \"An error occurred. Please try again later\"","body":"<p>Why does it always happen to me?</p>\n\n<p>This happens after my application verify for user user login and redirect user to the authentication page:  </p>\n\n<p><code>https://www.facebook.com/dialog/oauth?client_id=XXX&amp;redirect_uri=http%3A%2F%2Fexample.com%2Fmyappname%2F&amp;state=YYYYYY&amp;scope=offline_access%2Cpublish_actions</code></p>\n\n<p>But instead of showing the authorization page, Facebook shows an error page with </p>\n\n<blockquote>\n  <p>An error occurred. Please try again later.</p>\n</blockquote>\n\n<p>Is there any configuration I have to do before try to authenticate my users?</p>\n\n<p>All is done with PHP using the PHP-SDK classes.</p>\n"},{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13267917,"title":"Copy Ajax request function, that calls a php function, noob stuff","body":"<p>I found a JS-Jquery File what does almost what i need. If you click the checkbox it calls a php function. Now i wanna add another checkbox wich calls another php function. </p>\n\n<p>So i tried to copy the function. And change the values but that didn't work.</p>\n\n<p>I'm sure you will see the mistake in 1-2 seconds, so thanks for a short look in the <a href=\"http://jsfiddle.net/JszZ9/3/\" rel=\"nofollow\">JS-Fiddle</a>!</p>\n\n<p>This part i would like to copy, also see my tryings in the JS-Fiddle</p>\n\n<pre><code>$('input[name=\"ive-read-this\"]').change(function (evt) {\n    alert(\"markiere als gelesen.\");\n\n    // We can retrieve the ID of this post from the &lt;article&gt;'s ID. \n    // This will be required\n    // so that we can mark that the user has read this particular post and \n    // we can hide it.\n    var sArticleId, iPostId;\n\n    // Get the article ID and split it - the second index is always \n    // the post ID in twentyeleven\n    sArticleId = $(\"article\").attr('id');\n    iPostId = parseInt(sArticleId.split('-')[1]);\n\n    // Initial the request to mark this this particular post as read\n    $.post(ajaxurl, {        \n        action:  'mark_as_read',\n        post_id: iPostId      \n    }\n</code></pre>\n"},{"tags":["php","xml","arrays","simplexml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":470,"score":0,"question_id":2726487,"title":"SimpleXMLElement to PHP Array","body":"<p>Variable $d comes from file_get_contents function to a url.</p>\n\n<pre><code>$answer = @new SimpleXMLElement($d);\n</code></pre>\n\n<p>Below is output of the print_r($answer):</p>\n\n<pre><code>SimpleXMLElement Object\n(\n    [Amount] =&gt; 2698\n    [Status] =&gt; OK\n    [State] =&gt; FL\n    [Country] =&gt; USA\n)\n</code></pre>\n\n<p>How can I retrieve value of each element and add to an array? can't figure it out.</p>\n"},{"tags":["php","mysql","facebook","apache","browser"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":15,"score":-3,"question_id":13268525,"title":"Setting up facebook app local dev environment in php","body":"<p>I am trying to learn facebook app development. I created an app and want to deploy it locally. It's in PHP. I set the env for app id and app secret in apache virtual host as well.</p>\n\n<p>However when I tries to run it in browser I get a blank page. </p>\n\n<p>Any help will be deeply appreciated.</p>\n"},{"tags":["php","object","simplexml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13268130,"title":"Where is the data in this PHP object hiding?","body":"<p>I am debugging my code to inspect the current object.</p>\n\n<p>It is a SimpleXml load from xml that looks like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;epreuves&gt;&lt;epreuve id=\"467\" noteSur=\"20\"&gt;&lt;![CDATA[Civil Engineering China 2012]]&gt;&lt;/epreuve&gt;&lt;/epreuves&gt;\n</code></pre>\n\n<p>I am using this code to load the object.</p>\n\n<pre><code>$result=simplexml_load_string($xml_string,null,LIBXML_NOCDATA);\n</code></pre>\n\n<p>And when I debug my code i see this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/WNAGU.jpg\" alt=\"enter image description here\"></p>\n\n<p>When I convert the object to string, it gives me the data I want, but why do I not see \"Civil Engineering China 2012\" somewhere in the object's guts?</p>\n"},{"tags":["php","javascript","google-maps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13268148,"title":"White grid in google map on safari","body":"<p>I have included Google map in my website. Its working fine in all browsers. But It shows white grid line in safari, chrome and iPad. Is there any way to avoid that lines on the maps. </p>\n\n<p>I have searched in some form they suggested me to change the API. I have changed the API still I'm unable to resolve this problem please guide me.</p>\n"},{"tags":["php","arrays","object","loops","foreach"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":24,"score":-2,"question_id":13268497,"title":"How to loop through below object?","body":"<p>Here is a <code>var_dump($data)</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/hZ0kr.png\" alt=\"Array\"></p>\n\n<p>What I want to do is create dropdowns(Select) as below.</p>\n\n<p>1st dropdown -> <strong>Name</strong> - Option Name, \n<strong>Attributes</strong> should be Attribute 1,Attribute 2</p>\n\n<p>2nd dropdown -> <strong>Name</strong> - Option Name X, \n<strong>Attributes</strong> should be Attribute X 1,Attribute X 2,Attribute X 3</p>\n\n<p>And so on.</p>\n\n<p>Worst problem is I don't know how many dropdown should be created. It depends on the result set I get.</p>\n\n<pre><code>foreach($data as $attr)\n{                   \n}\n</code></pre>\n\n<p>I'm really sorry I can not figure out how to loop through the array. That's all I have tried up to now. Hope someone will help me out.</p>\n"},{"tags":["php","xml","line-breaks","docx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13268495,"title":"PHP - generating docx - line breaker","body":"<p>Hello I have code script that is taking my .docx file and it is using it as template to fill out only some information from databse to docx. What I need is to insert line breaker achter data are loaded from DB</p>\n\n<p>here I am sending data from DB to my template:</p>\n\n<p>(PHP code)</p>\n\n<p><code>$document-&gt;setValue('_name', $this-&gt;preloz($row['first_name']. \" \" . &amp;row['last_name']));</code></p>\n\n<p>And here is my template which I am filling out:</p>\n\n<p><code>Hello ${_name} how are you???</code></p>\n\n<p>I need that my php script will add new line, because I will be loading many names in loop, and I do not want theme to be in block but every name on new line.</p>\n"},{"tags":["php","xml","arrays","simplexml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13268485,"title":"Get attributes from childs with the same node name","body":"<p>i have this array:</p>\n\n<pre><code>&lt;fooxml Version=\"1.0.0\"&gt;\n&lt;rows&gt;\n    &lt;row&gt;\n        &lt;fields&gt;\n            &lt;field name=\"fooCode\"&gt;ABCD&lt;/field&gt;\n            &lt;field name=\"fooType\"&gt;TYP1&lt;/field&gt;\n            &lt;field name=\"fooDesc\"&gt;Lorem Ipsum&lt;/field&gt;\n            &lt;field name=\"fooDate\"&gt;today&lt;/field&gt;\n        &lt;/fields&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;fields&gt;\n            &lt;field name=\"fooCode\"&gt;XYZ&lt;/field&gt;\n            &lt;field name=\"fooType\"&gt;TYP2&lt;/field&gt;\n            &lt;field name=\"fooDesc\"&gt;Lorem Ipsum DOLOR&lt;/field&gt;\n            &lt;field name=\"fooDate\"&gt;tomorrow&lt;/field&gt;\n        &lt;/fields&gt;\n    &lt;/row&gt;\n&lt;/rows&gt;\n&lt;/fooxml&gt;\n</code></pre>\n\n<p>and i will it convert into an assoc array like this:</p>\n\n<pre><code>result = array(\n    0 =&gt; array(\n        \"fooCode\" =&gt; ABCD,\n        \"fooType\" =&gt; TYP1,\n        \"fooDesc\" =&gt; Lorem Ipsum,\n        \"fooDate\" =&gt; today\n    ),\n    1 =&gt; array(\n        \"fooCode\" =&gt; XYZ,\n        \"fooDesc\" =&gt; Lorem Ipsum DOLOR,\n        \"fooDate\" =&gt; tomorrow\n    )\n\n)\n</code></pre>\n\n<p>But simpleXML returns me an array without the keys... only integers. So i can't access the value because the returned fields are different to other queries. This is the return from simpleXML:</p>\n\n<pre><code>result = array(\n    0 =&gt; array(\n        \"0\" =&gt; ABCD,\n        \"1\" =&gt; TYP1,\n        \"2\" =&gt; Lorem Ipsum,\n        \"3\" =&gt; today\n    ),\n    1 =&gt; array(\n        \"0\" =&gt; XYZ,\n        \"1\" =&gt; TYP2,\n        \"2\" =&gt; Lorem Ipsum DOLOR,\n        \"3\" =&gt; tomorrow\n    )\n\n)\n</code></pre>\n\n<p>This XML is from an API... i can't edit the XML.</p>\n\n<p>Greetings from Germany!</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13268472,"title":"Scrape Page & Separate Internal & external links","body":"<p>Building a little PHP scrapper, I'm writing a little function which should separate my Internal &amp; External links, </p>\n\n<p>I'm passing the function a copy of the html source code along with the base host address</p>\n\n<pre><code>$source = file_get_contents('http://www.mysite.com');\n$host   = \"mysite.com\";\n</code></pre>\n\n<p>here is my function so far...</p>\n\n<pre><code>function find_page_links($source, $host){\n\n    if($source){\n\n    $htmlDoc = new DomDocument();\n    @$htmlDoc-&gt;loadhtml($source);\n\n    $int_links = array();\n    $ext_links = array();\n\n    // GET LINKS\n    foreach($htmlDoc-&gt;getElementsByTagName('a') as $link) {\n\n        $url   = trim($link-&gt;getAttribute('href'));\n        $title = trim($link-&gt;getAttribute('title'));\n        $text  = trim($link-&gt;nodeValue);\n        $rel   = trim($link-&gt;getAttribute('rel'));\n\n        $pos = strpos($url,$host);\n\n        if( $pos === false ){ // NO MATCH EXTERNAL              \n            if( (substr($url, 0, 1) == '/') || \n                        (substr($url, 0, 1) == '#') )\n                    {\n            // INTERNAL\n            $int_links[] = array( 'link_url' =&gt; $url, \n                                          'link_text' =&gt; $text, \n                                          'link_title' =&gt; $title, \n                                          'link_rel' =&gt; $rel \n                                        );\n            }else{\n            // EXTERNAL\n            $ext_links[] = array( 'link_url' =&gt; $url, \n                                          'link_text' =&gt; $text, \n                                          'link_title' =&gt; $title, \n                                          'link_rel' =&gt; $rel \n                                        );\n            }\n        }else{\n             if( $pos &lt; 20 ){\n             // INTERNAL\n             $int_links[] = array( 'link_url' =&gt; $url, \n                                       'link_text' =&gt; $text, \n                                       'link_title' =&gt; $title, \n                                       'link_rel' =&gt; $rel );\n             }else{\n             // EXTERNAL\n             $ext_links[] = array( 'link_url' =&gt; $url, \n                                         'link_text' =&gt; $text, \n                                         'link_title' =&gt; $title, \n                                         'link_rel' =&gt; $rel \n                                        );  \n             }\n        } // end else\n    } // end foreach\n\n    $content = array();\n    $content['int_links'] = $int_links;\n    $content['ext_links'] = $ext_links;\n\n    return $content ;\n  }\n}\n</code></pre>\n\n<p>So whats happening is the function loads the HTML via DomDocument\nI create 2 arrays to store both internal &amp; external</p>\n\n<p>Loop through the document and getElementsByTagName('a')</p>\n\n<p>It then uses strpos to check if the host address \"mysite.com\" is within the link URL if there is NO match/false then it's external, but we do a further check to make sure the link URL doesnt start with a forward slash ie: \"<strong>/contact-us.php</strong>\" that would mean its an internal, also in that check we check for a \"<strong>#</strong>\" tag at the begining which would be an anchor link on the page...</p>\n\n<p>so that was IF pos === false / no match\nnow If host is in the link URL its a match, I do another check to see if the position of the host is lower down in the string, which would be internal ie:\n<a href=\"http://mysite.com/about/\" rel=\"nofollow\">http://mysite.com/about/</a></p>\n\n<p>but if the position is greater than 20 (just a number plucked from the air) then..\nlike a google plus link or facebook link the host url will be present in the link but much further along the string which would mean its an external, </p>\n\n<p>ie: <a href=\"http://www.facebook.com/plugins/like.php?href=http://mysite.com/\" rel=\"nofollow\">http://www.facebook.com/plugins/like.php?href=http://mysite.com/</a></p>\n\n<p>phew...</p>\n\n<p>if you guys have any other BETTER ways to spot an external or internal link please let me know..my results, really vary depending on the site, if links are using the full path, </p>\n"},{"tags":["php","mediawiki","mediawiki-api"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13268379,"title":"Mediawiki integrating with existing site","body":"<p>Hi to all i'm having the site which is fully having the video contents in it. What i want to do is i have to integrate mediawiki pages with my site. I have downloaded the mediawiki package and i have installed in in my system.Now i want to display the video files which is from my site using my own player in site. But the site functionalities should be like the mediawiki like. That means if any users access my page and edit it means it should be saved in media wiki history. Is that possible to use the media wiki functionalities in  our site.Please suggest me any solutions.</p>\n"},{"tags":["php","http","file","get","contents"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1611,"score":0,"question_id":3797596,"title":"PHP file get contents with URL returns getaddrinfo failure","body":"<p>I am trying to get the (pre-processed) content of an external PHP file:</p>\n\n<pre><code>file_get_contents('http://www.example.org/myfile.php');\n</code></pre>\n\n<p>When I do this, I get an error:</p>\n\n<blockquote>\n  <p>Warning: file_get_contents() [function.file-get-contents]: php_network_getaddresses: getaddrinfo failed: nodename nor servname provided, or not known in /Applications/XAMPP/xamppfiles/htdocs/...localfile.php on line 13</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <p>Warning: file_get_contents(http://www.example.org/myfile.php) [function.file-get-contents]: failed to open stream: php_network_getaddresses: getaddrinfo failed: nodename nor servname provided, or not known in /Applications/XAMPP/xamppfiles/htdocs/.../localfile.php on line 13</p>\n</blockquote>\n\n<p>Any ideas what I could do?</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: I do have allow_url_fopen set to \"On\".</p>\n"},{"tags":["php","testing","symfony2","phpunit"],"answer_count":3,"favorite_count":5,"up_vote_count":4,"down_vote_count":0,"view_count":45,"score":4,"question_id":13255350,"title":"Creating a fake user in Symfony2 for testing purposes","body":"<p>I'm somewhat new to testing in PHP. I've done quite a bit of testing on Rails using Cucumber, RSpec, Capybara and Factory Girl, but I've barely done any testing with PHP.</p>\n\n<p>I'll ask a question about my current challenge in the most general way possible, since I've gone down a few specific paths and been met only with frustration.</p>\n\n<p><strong>I want to write a functional test for signing a user in. What's a good way to create the test user object that I would need in order to try to sign in?</strong></p>\n\n<p>Even more generally, what's the de facto standard for creating test objects in Symfony2? Fixtures? Some kind of factory?</p>\n\n<p>In Ruby, I would use Factory Girl, since it lets you handle any object's dependencies in a clean, DRY way. There seems to be a Factory Girl equivalent in PHP in Phactory, but unfortunately it seems that that tool is not widely used and no longer maintained.</p>\n"},{"tags":["php","sorting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":13187768,"title":"sorting functions don't sort the array correctly","body":"<p>I want to sort whole bunch of keys in an array. The key-value pairs are of a large number and a name. It sorts arrays incorrectly on small numbers and it gets even worse when numbers get too big to be stored as integers. If the integers are too big they are stored as strings in an array. And those strings don't sort at all staying in the same place. </p>\n\n<p>All i want to do is to sort the Key-value pairs from largest to smallest. \nI have no idea how to do that since the sorting functions fail completely.<br>\nI'll appreciate any help I can get. </p>\n\n<p>Here is my code: </p>\n\n<pre><code>&lt;?php\n\n$encodedNames = $_GET['names']; //names array from a html input encoded with  JSON.stringify(nameArray);\n\n$names=json_decode($encodedNames); //decode the names\n\n$namesLegacy = (array) NULL;  //array that will store key-value pairs (number=&gt;name)\n\n//for each name gets a large number and assigns it as a key\nforeach($names as $name){\n    $name = trim($name);\n    array_push($namesLegacy, array(getFameNumber($name)=&gt;$name)) ; \n}\n\necho var_dump($namesLegacy) . \"&lt;br /&gt;\";//dumps the array before it is sorted\nkrsort($namesLegacy);\necho var_dump($namesLegacy) . \"&lt;br /&gt;\";//dumps the array after its sorted\n\n//simply prints each name in a list format\nfor ($i = 0; $i &lt; sizeof($namesLegacy); $i++) {\n   $keys =  array_values($namesLegacy[$i]);\n    echo $i+1 .\". \".$keys[0] . \"&lt;br/&gt;\" ;\n}\n\n\n//gets the large number that will become a key and returns it , as a string ? \nfunction getFameNumber($name)\n{\n    $resultTagId = \"resultStats\"; \n    $name = str_replace(\" \", \"+\", trim($name));\n\n    $url='url that will return the large number';\n    /*can be tested with google url \n    $url='http://www.google.com/search?q='.$name.'&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t';*/   \n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);\n    $data = curl_exec ($ch);\n    curl_close ($ch);\n\n    $dom = new DOMDocument();\n    @$dom-&gt;loadHTML( $data );\n    $resultsTag =  $dom-&gt;getElementById($resultTagId)-&gt;nodeValue;\n\n    $results =  preg_replace(\"/[^0-9]/\",\"\",$resultsTag);\n    return $results;\n}\n?&gt;\n</code></pre>\n\n<p><strong>Update:</strong>\nI have run more examples to test if it will sort all non string values correctly and it turns out that it doesnt. (where previously it has worked now it fails)\nI have an array</p>\n\n<pre><code>array(3) { [0]=&gt; array(1) { [1800000000]=&gt; string(6) \"Robert\" } [1]=&gt; array(1) { [591000000]=&gt; string(6) \"albert\" } [2]=&gt; array(1) { [1100000000]=&gt; string(4) \"Anna\" } } \n</code></pre>\n\n<p>and when i run krsort() on it it returns </p>\n\n<pre><code>array(3) { [2]=&gt; array(1) { [1100000000]=&gt; string(4) \"Anna\" } [1]=&gt; array(1) { [591000000]=&gt; string(6) \"albert\" } [0]=&gt; array(1) { [1800000000]=&gt; string(6) \"Robert\" } }\n</code></pre>\n\n<p>which is not the correct result correct result is \n1800000000,\n1100000000,\n591000000</p>\n\n<p>I tried to converting those string into floats but it mostly made them come out as negative numbers. So i tried going the other way converting small ints to strings, but the strange thing is that they were already strings. It seems that they are converted to ints when i form a key value pair inside an array. </p>\n\n<p>anybody knows what is going on? am i using krsort incorrectly is the problem still because the numbers are too big?</p>\n\n<p>also I will give an example of how it looks like when i have a really big number in my array</p>\n\n<pre><code>array(1) { [0]=&gt; array(1) { [\"4430000000\"]=&gt; string(3) \"son\" } } \n</code></pre>\n\n<p>notice the \"\" marks around the number where in previous arrays its not there </p>\n\n<p><strong>Update2:</strong></p>\n\n<p>Ok so i know it has nothing to do with how big the integers are. \nI placed this code to test it <code>$results = substr($results, 0, -3);</code>\nbut i still get incorrect results </p>\n\n<pre><code>array(3) { [2]=&gt; array(1) { [1550]=&gt; string(5) \"Reeta\" } [1]=&gt; array(1) { [1800000]=&gt; string(6) \"Robert\" } [0]=&gt; array(1) { [1090000]=&gt; string(4) \"Anna\" } }\n</code></pre>\n\n<p>I also reversed keys and values and tried sorting with <code>arsort()</code> with same results</p>\n\n<p>If anyone could explain why strings get converted to ints when they are set as keys in the arrays that would be greatly appreciated as well. </p>\n\n<p>here is a <a href=\"http://php.net/manual/en/function.krsort.php\" rel=\"nofollow\">krsort</a> manual. </p>\n"},{"tags":["php","javascript","html"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":20,"score":-3,"question_id":13268194,"title":"Put Two Textbox Between ToolBar and Textarea for Tinyeditor in PHP","body":"<p>I want to first postion the tinymce toolbar and then on the second postion I need two textbox(Name,Subject) and third is textarea(For Message field) for tinymce.When user will select the toolbar so it can affect content in the textarea.This is URL: <a href=\"http://tinymce.com/tryit/full.php\" rel=\"nofollow\">tinymce.com/tryit/full.php</a></p>\n\n<p>Thanx</p>\n"},{"tags":["php","facebook"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":13065649,"title":"PHP-SDK too many redirects","body":"<p>I'm using the <a href=\"https://github.com/facebook/facebook-php-sdk\" rel=\"nofollow\">PHP-SDK</a> for Facebook and got the example to work on my localhost. However, when building a script on a server the script stays quite busy with redirecting from my script to facebook and back. (Error: Fout 310 (net::ERR_TOO_MANY_REDIRECTS):)</p>\n\n<p>It seems that many more people have got this issue (<a href=\"http://stackoverflow.com/questions/8771833/not-getting-access-token-or-too-many-redirects\">here</a>, <a href=\"http://stackoverflow.com/questions/10200749/url-has-too-many-redirects-facebook-wont-be-able-to-scrape-this-url-until-the\">here</a>, <a href=\"http://stackoverflow.com/questions/10573199/facebook-connect-gives-a-redirect-loop\">here</a>, <a href=\"http://www.zymic.com/forum/lofiversion/index.php/t24244.html\" rel=\"nofollow\">here</a>). Though, I can't find a clear answer what goes wrong. </p>\n\n<p>Redirect to facebook (response 302):</p>\n\n<pre><code>https://www.facebook.com/dialog/oauth?client_id=166958180001271&amp;redirect_uri=http%3A%2F%2Fdomain.com%2Fscripts%2FGateway.php%3Faction%3DAllowFacebookAccessAction%26app%3D14&amp;state=0dbc178a375595da4751265a7147c01e#_=_\n</code></pre>\n\n<p>Redirect to mydomain (response 302):</p>\n\n<pre><code>http://domain.com/scripts/Gateway.php?action=AllowFacebookAccessAction&amp;app=14&amp;state=0dbc178a375595da4751265a7147c01e&amp;code=AQD-dTeyns0OWpGb_PzfHxUy2iRmpc1XgP6Q24DDRX8MiRTE10lV-b-aSNIlOLVHk576vRs3H8Pf9n0kGwU827MrkzUCUoQGFGEQBkkOJnCy9zb6hZs7TVBsKL2iSuZIhDjLsCOPeKy3zfb37Q6LGhtMICCdB_IQAvU0uRvAkSAX8tdVJ65PEv8imx-2yvLaMoGJleZwKogh7m03vlhV8hJk#_=_\n</code></pre>\n\n<p>Part of the code that creates this issue</p>\n\n<pre><code>...            \n    $facebook = new FacebookApi(array(\n            'appId' =&gt; $app-&gt;getProperty('apiKey'),\n            'secret' =&gt; $app-&gt;getProperty('secretKey'),\n        ));\n    $user = $facebook-&gt;getUser();\n    if (!$user) {    \n        header('location: ' . $facebook-&gt;getLoginUrl());\n        exit;\n    }\n...\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>I ruled out that its a server setting. I was able to run the original example script on that server. </p>\n"},{"tags":["php","mysql","sql","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13268233,"title":"Product Name Print Several times, How to fix.?","body":"<p>i had added the following Opencart module for my order report list...\n<a href=\"http://www.opencart.com/index.php?route=extension/extension/info&amp;extension_id=3597&amp;filter_search=order%20list%20filter%20model&amp;page=4\" rel=\"nofollow\">http://www.opencart.com/index.php?route=extension/extension/info&amp;extension_id=3597&amp;filter_search=order%20list%20filter%20model&amp;page=4</a></p>\n\n<p>I have problems with the column \"Products\". If there are more than one option the products name prints several times. So if I got a product with three options the product name prints three times. Is there any way to fix this problem?</p>\n\n<p>i want print product name and model number only once, any idea.?</p>\n\n<p><strong>i will attach the results what i got now...</strong>\n<img src=\"http://i.stack.imgur.com/6U18X.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>this is my sql query...</strong></p>\n\n<pre><code>public function getOrders($data = array()) { \n$sql = \"select o.order_id,o.email,o.telephone,CONCAT(o.shipping_address_1, ' ', o.shipping_address_2) AS address,CONCAT(o.firstname, ' ', o.lastname) AS customer,o.payment_zone AS state,o.payment_address_2 AS block, o.payment_address_1 AS address,o.payment_postcode AS postcode,(SELECT os.name FROM \" . DB_PREFIX . \"order_status os WHERE os.order_status_id = o.order_status_id AND os.language_id = '\" . (int)$this-&gt;config-&gt;get('config_language_id') . \"') AS  status,o.payment_city AS city,GROUP_CONCAT(pd.name) AS pdtname,GROUP_CONCAT(op.model) AS model,o.date_added,sum(op.quantity) AS quantity,GROUP_CONCAT(opt.value ) AS options, GROUP_CONCAT(opt.order_product_id )  AS ordprdid,GROUP_CONCAT(op.order_product_id )  AS optprdid, GROUP_CONCAT(op.quantity) AS opquantity from `\" . DB_PREFIX . \"order` o LEFT JOIN \" . DB_PREFIX . \"order_product op ON (op.order_id = o.order_id)  LEFT JOIN \" . DB_PREFIX . \"product_description pd ON (pd.product_id = op.product_id and pd.language_id = '\" . (int)$this-&gt;config-&gt;get('config_language_id') . \"') LEFT JOIN \" . DB_PREFIX . \"order_option opt ON (opt.order_product_id = op.order_product_id) \";\n</code></pre>\n\n<p>Product Name = <code>GROUP_CONCAT(pd.name) AS pdtname,</code></p>\n"},{"tags":["php","zend-framework","twitter-api","twitter-oauth"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13264585,"title":"Could not retrieve a valid Token response from Token URL + Twitter API","body":"<p>I am doing the login using twitter in my zend framework application. But after authenticating from twitter it showing the following error :</p>\n\n<pre><code>Message:Could not retrieve a valid Token response from Token URL: /oauth/access_token?oauth_consumer_key=xxxxxxxxxxxxxxx&amp;oauth_nonce=xxxxxxxxxxxxxxxxxxxx&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=1352270857&amp;oauth_token=xxxxxxxxxxxxx&amp;oauth_version=1.0\n&amp;oauth_verifier=xxxxxxxxxxxxxxxxxxxxx&amp;oauth_signature=wv5gdop77NA9BeZI7ilQcEFsqGH8CeR4%3D Invalid / expired Token\n</code></pre>\n\n<p>Following is my code : </p>\n\n<pre><code>    public function twittercallbackAction() {\n            $path = realpath(APPLICATION_PATH . '/../library/');\n            set_include_path($path);\n            $config = array(\n                \"callbackUrl\" =&gt; \"http://\" . $_SERVER['HTTP_HOST'] . \"/register/twittercallback\",\n                \"siteUrl\" =&gt; \"http://twitter.com/oauth\",\n                \"consumerKey\" =&gt; \"xxxxxxxxxxxxxx\",\n                \"consumerSecret\" =&gt; \"xxxxxxxxxxxxxxxxxxxx\"\n            );\n\n            $consumer = new Zend_Oauth_Consumer($config);\n            if (!empty($_GET) &amp;&amp; isset($_SESSION['TWITTER_REQUEST_TOKEN'])) {            \n                $token = $consumer-&gt;getAccessToken($_GET, unserialize($_SESSION['TWITTER_REQUEST_TOKEN']));\n                // Now that we have an Access Token, we can discard the Request Token\n                // get users timeline            \n                // $_SESSION['TWITTER_REQUEST_TOKEN'] = null;\n            } else {\n                // Mistaken request? Some malfeasant trying something?\n                exit('Invalid callback request. Oops. Sorry.');\n            }\n}\n</code></pre>\n\n<p>I am searching this issue on google but not getting any solution.</p>\n\n<p>How can I deal with this issue.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","php5","nginx","fastcgi","php5-fpm"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":353,"score":2,"question_id":6726497,"title":"Temporary value (local value) with nginx php FPM","body":"<p>I have search a lot but not answers found.</p>\n\n<p>i won't to have a lot of pool of PHP FPM, i want it to be like mod_php, and in nginx i wrote :</p>\n\n<pre><code>fastcgi_param PHP_VALUE \"open_basedir = /var/xxx/\";\n</code></pre>\n\n<p>It works, but it declare the open_basedir for entiere life of process witch have execute php script (i have done tests). In <code>phpinfo()</code>, the <code>open_basedir</code> value (this) appears both local value and master value.</p>\n\n<p>i think do a <code>fastcgi_param</code> file with a <code>PHP_VALUE</code> default value for security, for example (it will certainly never go, but it's principe of security) if a server <code>{}</code> have not redefine the <code>open_basedir</code> or other values modified (not a lot). I don't like this definitive override, it's dangerous, i sink.</p>\n\n<p>Do you know how to declare to FPM that <code>fastcgi_param</code> are always temporary ?? Like Apache <code>php_admin_value</code> ... !!!</p>\n\n<p>I have not found the answer, but it's too stupid for not exist !</p>\n\n<p>Sorry for my english, i don't speak good, it's not my native language. Thanks for futurs answers :)</p>\n"},{"tags":["php","oop","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13268123,"title":"PHP PDO check for mysql error","body":"<p>I have this problem that drives me crazy. All i want is just check a query for an error, if so display error, otherwise run the query.</p>\n\n<p>I have the following almost (since it runs the insert query twice) working</p>\n\n<pre><code>[..]\n\n$dbdata = new mySQLAccessData();\n$db = new PDO($dbdata-&gt;hostname,$dbdata-&gt;username,$dbdata-&gt;password);\n$defaults = new Defaults();\n\n[..]\n\nif(!$db-&gt;exec($sql)){\n    echo($defaults-&gt;throwError('MySql error',implode(\":\",$db-&gt;errorInfo())));\n}else{\n    $db-&gt;exec($sql);\n    $defaults-&gt;writeLog($table,$db-&gt;lastInsertId(),'add');\n}\n</code></pre>\n\n<p>I tried numerous things (amongst others the <code>try(){}catch(){}</code> method) but nothing worked except for the code above. It shows the error the way i want, and only when an error occurs, but runs the <code>exec()</code> twice...</p>\n\n<p>Can someone bail me out?</p>\n"},{"tags":["php","typo3","typoscript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13267778,"title":"Call a function inside class when unhide a Record in Typo3","body":"<p>Is it possible somehow in Typo3 if a Backend User is unhiding a Record to call a php function inside a class?</p>\n\n<p>In my Case:\nFE User is creating a Record hidden. If the Backend User checks this Record and unhide it to show it in frontend I need to send data to the CRM of my client via a class->function</p>\n"},{"tags":["php","ajax","file","upload","progress"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1480,"score":1,"question_id":10252309,"title":"AJAX/PHP based upload with progress bar for large files","body":"<p>I've been trying to create a non-flash upload panel which also shows a progress bar.\nOn our server we have PHP 5.3 (cannot upgrade to 5.4 for now, so the new upload progress feature cannot be used => <a href=\"http://php.net/manual/en/session.upload-progress.php\" rel=\"nofollow\">http://php.net/manual/en/session.upload-progress.php</a>).\nWe cannot use flash based solutions, extensions or similar. </p>\n\n<p>Hence I've tried using an XMLHttpRequest combined with AJAX.\nThe problem here is that I've only achieved partial success.</p>\n\n<p>I've managed to upload and save on the server a file of about 380 MB, however, when trying with a larger file like 4 GB, it won't be saved on the server (if I check with Firebug at one point it would say \"POST aborted\").</p>\n\n<p>Another strange thing is that with the same file the xhr.upload.loaded starts with the same dimension of xhr.upload.total and starts counting from there.</p>\n\n<p>Does anyone know how to solve this problem or has an alternative solution?</p>\n\n<p>The client code is: \n</p>\n\n<pre><code>&lt;script type=\"application/javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"application/javascript\"&gt;\n\nfunction uploadToServer()\n{\n    fileField = document.getElementById(\"uploadedFile\");\n    var fileToUpload = fileField.files[0]; \n\n    var xhr = new XMLHttpRequest();\n    var uploadStatus = xhr.upload;\n\n    uploadStatus.addEventListener(\"progress\", function (ev) {\n            if (ev.lengthComputable) {\n                $(\"#uploadPercentage\").html((ev.loaded / ev.total) * 100 + \"%\");\n            }\n        }, false);\n\n    uploadStatus.addEventListener(\"error\", function (ev) {$(\"#error\").html(ev)}, false);\n    uploadStatus.addEventListener(\"load\", function (ev) {$(\"#error\").html(\"APPOSTO!\")}, false);\n\n    xhr.open(\n            \"POST\",\n            \"serverUpload.php\",\n            true\n            );\n        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n        xhr.setRequestHeader(\"Content-Type\", \"multipart/form-data\");\n        xhr.setRequestHeader(\"X-File-Name\", fileToUpload.fileName);\n        xhr.setRequestHeader(\"X-File-Size\", fileToUpload.fileSize);\n        xhr.setRequestHeader(\"X-File-Type\", fileToUpload.type);\n        //xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n        xhr.send(fileToUpload);\n}\n\n\n\n$(function(){\n\n    $(\"#uploadButton\").click(uploadToServer);\n\n});\n\n\n&lt;/script&gt;\n</code></pre>\n\n<p>HTML part:\n</p>\n\n<pre><code>&lt;form action=\"\" name=\"uploadForm\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n\n  &lt;input id=\"uploadedFile\" name=\"fileField\" type=\"file\" multiple /&gt;\n\n&lt;input id=\"uploadButton\" type=\"button\" value=\"Upload!\"&gt;\n\n&lt;/form&gt;\n\n&lt;div id=\"uploadPercentage\"&gt;&lt;/div&gt;\n&lt;div id=\"error\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Server side code:\n</p>\n\n<pre><code>&lt;?php\n\n$path = \"./\";\n$filename = $_SERVER['HTTP_X_FILE_NAME'];\n$filesize = $_SERVER['CONTENT_LENGTH'];\n\n\n$file = \"log.txt\";\n$fo= fopen($file, \"w\");\nfwrite($fo, $path . PHP_EOL);\nfwrite($fo, $filename . PHP_EOL);\nfwrite($fo, $filesize . PHP_EOL);\nfwrite($fo, $path . $filename . PHP_EOL);\n\nfile_put_contents($path . $filename, \nfile_get_contents('php://input')\n);\n\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12417982,"title":"validate radio button","body":"<p>How to validate radio button through javascript?</p>\n\n<pre><code>Male &lt;input type=\"radio\" name=\"sex\" value=\"male\" /&gt;\nfemale &lt;input type=\"radio\" name=\"sex\" value=\"female\" /&gt;\n</code></pre>\n"},{"tags":["php","jquery"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13265918,"title":"response from server width jquery Ajax","body":"<p>i can use this below code for sending any data to server and getting successful result, but my code dont sent respond <code>$data</code> is true or false.\ncode is can successful insert to database\nlocalhost PHP file:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n&lt;META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html; charset=utf-8\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n        $.post(\"http://www.test.com/index.php\",  {userCode:\"ttt-ddd-fff\"},\n            function(data){  \n                alert (data.message);\n            },'json');  \n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>&lt;?php\ninclude_once ('./AFactory.class.php');\n$database= new AFactory;\n$db=new AFactory();\n$link=$db-&gt;getDBO();\n$query=array('id'=&gt;NULL,'userCode'=&gt;$_POST['userCode']);\n$sql=$db-&gt;insertQuery(' `test`.`users`',$query);\nif ( mysql_query($sql) ) \n    {$data['success']=true;$data['message']='ok';}\nelse \n    {$data['success']=false;$data['message']='no';}\n\necho json_encode($data);\n\n?&gt;\n</code></pre>\n"},{"tags":["php","protocol-buffers"],"answer_count":2,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":1452,"score":2,"question_id":6224584,"title":"Protocol Buffer for PHP","body":"<p>What are the avaliable libraries for using protobuf in PHP? </p>\n"},{"tags":["php","symfony-1.4","validator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13068131,"title":"Set a field after processing validator on an other field","body":"<p>First of all, here is the post of my Youtube validator: <a href=\"http://stackoverflow.com/questions/12678319/how-to-create-a-custom-youtube-url-form-validator\">How to create a custom youtube url form validator</a></p>\n\n<p>In my model, a <strong>Song</strong> is linked to a <strong>Type</strong>. A Type can be Youtube, Soundcloud, Deezer, etc..</p>\n\n<p>When the <code>link</code> value has been validated by my validator (I'll will updated it to handle with Soundcloud, Deezer, etc..), I want to set the style_id value with the correct Type.</p>\n\n<p>What is the best way to do it ?</p>\n"},{"tags":["php","windows","iis","batch-file"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":29,"score":3,"question_id":13263929,"title":"php exec() hangs","body":"<p>I'm running php 5.2.0 on IIS 7.</p>\n\n<p>Within this environment I tried to fork a process using php exec method as follows.\nexec(\"background_processes\\process_sePos_report.bat) </p>\n\n<p>It runs fine for sometime but then the process in this case cmd.exe hangs in the server. It won't do anything until the server is restarted.</p>\n\n<p>I also changed the code according to the below bug but the issue didn't resolve.\n<a href=\"https://bugs.php.net/bug.php?id=44942\" rel=\"nofollow\">https://bugs.php.net/bug.php?id=44942</a></p>\n\n<p>Can someone please help me on this issue.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","debugging","symfony2","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13267049,"title":"A good practice on how to debug a Symfony2 controller","body":"<p>I have an Symfony2 project and from time to time, I have PHP errors in my controller.  In order to find out where is the error, I would like to debug the PHP code in the controller.</p>\n\n<p>What do you think is the best practice to debug a controller in Symfony2?</p>\n"},{"tags":["php","excel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13266146,"title":"Excel csv export into a php file with fgetcsv","body":"<p>I'm using excel 2010 professional plus to create an excel file.\nLater on I'm trying to export it as a UTF-8 .csv file. \nI do this by saving it as CSV (symbol separated.....<em>sry I know not the exact wording there\nbut I don't have the english version and I fear it is translated differently than 1:1</em>).\nThere I click on tools->weboptions and select unicode (UTF-8) as encoding.\nThe example .csv is as follows:</p>\n\n<pre><code>ID;englishName;germanName\n1;Austria;Ãsterreich\n</code></pre>\n\n<p>So far so good, but if I open the file now with my php code:</p>\n\n<pre><code> header('Content-Type: text/html; charset=UTF-8');\n iconv_set_encoding(\"internal_encoding\", \"UTF-8\");\n iconv_set_encoding(\"output_encoding\", \"UTF-8\");\n setlocale(LC_ALL, 'de_DE.utf8');\n $fp=fopen($filePathName,'r');\n while (($dataRow= fgetcsv($fp,0,\";\",'\"') )!==FALSE)\n {\n     print_r($dataRow);\n }\n</code></pre>\n\n<ul>\n<li>I get: ï¿½sterreich as a result on the screen (as that is the \"error\" I cut all other parts of the result).</li>\n<li>If I open the file with notedpad++ and look at the encoding I see \"ANSI\" instead of UTF-8.</li>\n<li>If I change the encoding in notepad++ to UTF8....the Ã¶,Ã¤,... are replaced by special chars, which I have to correct manually.</li>\n</ul>\n\n<p>If I go another route and create a new UTF-8 file with notedpad++ and put in the same data as in the excel file I get shown \"Ãsterreich\" on screen when I open it with the php file.</p>\n\n<p>Now the question I have is, why does it not function with excel, thus am I doing something wrong here? Or am I overlooking something?</p>\n\n<p>Tnx</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":51,"score":0,"question_id":13267823,"title":"PHP Array to represent Minutes","body":"<p>I want to create an array to represent minutes:</p>\n\n<pre><code> array {01,02,03,04,...,60}\n</code></pre>\n\n<p>How can I automatic do that?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":49,"score":-3,"question_id":13266689,"title":"How send with post method in code behind?","body":"<p>I have a param A and its  25000 characters long.\nHow to send param A with <code>GET</code> method in php?</p>\n\n<pre><code> $kq=0;\n $msg1= strtr(base64_encode($msg), '+/=', '-_,');              \n $Title1=strtr(base64_encode($Title), '+/=', '-_,'); \nheader(\"Location:\".JRoute::_('./index.php/i0702?'.'kq='.$kq.\"&amp;Title=\".$Title1.\"&amp;Msg=\".$msg1));\n</code></pre>\n\n<p>Note: strlen($msg1)> 25000 characters. Now, How send with post method?</p>\n"},{"tags":["php","session"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13252994,"title":"what can cause a PHP session to fail on the first login attempt?","body":"<p>My script creates a new PHP session and immediately redirects the user to another page.</p>\n\n<p>This works perfectly every time except for the first time after the server has been idle for an hour or so. On the second attempt and after that it works perfectly again. After the server has been idle it always fails, and after the first attempt it always works. </p>\n\n<p><strong>Edit</strong>\nWhen the server has been idle, the session does not work. Everything works fine after that.</p>\n\n<p>Theoretically, what could cause the session to fail on the first attempt like this? </p>\n\n<p>I don't want to post any code here because there's simply because I don't know which part of the code to post. This is on IIS 7 with PHP 5.3. Same result both using CGI and FastCGI.</p>\n\n<p><strong>Edit</strong>\nsession_start(); is called on both scripts. The user will not see the first page as it redirects immediately to the next page. There's less than a second between the scripts. </p>\n"},{"tags":["php","google-analytics"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":12,"score":3,"question_id":13267688,"title":"How to show Search Overview in google analytics in php","body":"<p>How to show Search Overview in google analytics in php ??</p>\n\n<p>Google analytics page shown</p>\n\n<p><strong>Visits\n76</strong> </p>\n\n<p>I am using this function <strong>ga:organicSearches</strong> link is here <a href=\"https://developers.google.com/analytics/devguides/reporting/core/dimsmets#cats=visitor,session,trafficsources,adwords,goalconversions,platform,geonetwork,system,socialactivities,pagetracking,internalsearch,sitespeed,apptracking,eventtracking,ecommerce,socialinteractions,usertimings,exceptions,customvars,time\" rel=\"nofollow\">developers.google.com/analytics/devguides/reporting/core</a></p>\n\n<p>I want to show this data inside my new analytics website but this function shows me <strong>74 Visits</strong> </p>\n\n<p>May I know where I am wrong.</p>\n\n<p>Here is my Code so far :-</p>\n\n<pre><code>$ga1 = new gapi($ga_email,$ga_password);\n\n/* We are using the 'source' dimension and the 'visits' metrics */\n$dimensions = array('source');\n$metrics    = array('visits','organicSearches');\n\n/* We will sort the result be desending order of visits, \n    and hence the '-' sign before the 'visits' string */\n\n\n$ga1-&gt;requestReportData($ga_profile_id,\n                       $dimensions,\n                       $metrics,\n                       '-visits', // Sort by 'visits' in descending order\n                       $filter, // Filter the data\n                       '2012-10-05', // Start Date\n                       '2012-11-04', // End Date\n                       1,  // Start Index\n                       500 // Max results\n                       );\n\n$gaResults = $ga1-&gt;getResults();\n\n$i=1;\n\nforeach($gaResults as $result)\n{\n    printf(\"%-4d %-40s %5d\\n\",\n           $i++,\n           $result-&gt;getSource(),\n           $result-&gt;getVisits());\n}\n\necho \"\\n-----------------------------------------\\n\";\necho \"Total Results : {$ga1-&gt;getTotalResults()}\";    \n\necho \"getOrganicSearches:\".$ga1-&gt;getOrganicSearches().'&lt;br /&gt;';\n</code></pre>\n\n<p>Is there any other function to show this data ??? </p>\n\n<p>Thanks</p>\n"},{"tags":["php","sms"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":2639,"score":-1,"question_id":7360010,"title":"SMS sending through free gateway","body":"<p>Please guide me with sample code for sending sms through website. How to include sms gateway. Please tell me, can i use way2sms.com as gateway?</p>\n\n<p>is it the right way to use? please suggest me only this much of code works?</p>\n\n<pre><code>&lt;?php\nerror_reporting(E_ALL);\nob_implicit_flush(true);\n\n\ninclude_once \"class.curl.php\";\ninclude_once \"class.sms.php\";\n\n$smsapp=new sms();\n$smsapp-&gt;setGateway('way2sms'); \n\n\necho \"Logging in  ... \";\n$smsapp-&gt;login('10 digit number','way2sms password');\n\necho \"Sending SMS ... \";\n$result=$smsapp-&gt;send('receipient number','text message');\n\nif($result=='true')\n{\n    echo \"Message sent\";\n}\nelse\n{   \n    echo \"Error encountered : \".$smsapp-&gt;getLastError();\n}\n\n?&gt;\n</code></pre>\n\n<p>here is my class.curl.php</p>\n\n<pre><code>&lt;?php\nclass sms\n{\n    var $username;\n    var $password;\n    var $curl;\n    var $server;\n    var $loginDone;\n    var $debugMode;\n    var $data;\n    var $error;\n    public function __construct()\n    {\n        $this-&gt;curl=new cURL();\n    //  $this-&gt;curl-&gt;setProxy(\"\");\n        $this-&gt;loginDone=false;\n        $this-&gt;debugMode=false;\n        $this-&gt;data=array();\n    }\n    public function setGateway($serverName)\n    {\n        switch($serverName)\n        {\n            case '160by2':\n            $this-&gt;server='160by2';\n            break;\n\n            case 'way2sms':\n            $this-&gt;server='way2sms';\n            break;\n\n            case 'airtel':\n            $this-&gt;server='airtel';\n            break;\n\n            default :\n            $this-&gt;server='way2sms';\n\n        }\n    }\n    public function login($username,$password)\n    {\n        $server=$this-&gt;server;\n\n        call_user_func(array($this,\"login_$server\"),$username,$password);\n        $this-&gt;loginDone=true;\n\n    }\n    public function send($number,$msg)\n    {\n        $server=$this-&gt;server;\n        if($this-&gt;loginDone)\n        return call_user_func(array($this,\"send_$server\"),$number,$msg);\n        else\n        {\n            echo \"&lt;h2&gt;Please login first before sending SMS&lt;/h2&gt;\";\n        }\n\n    }\n    private function login_way2sms($username,$password)\n    {\n        $out=($this-&gt;curl-&gt;post(\"http://www.way2sms.com\",\"1=1\"));\n        $pattern=\"/Location:(.+?)\\n/\";\n        preg_match($pattern,$out,$matches);\n        $domain=trim($matches[1]);\n\n        $this-&gt;data['domain']=$domain;\n\n        $out= $this-&gt;curl-&gt;post(\"{$domain}auth.cl\",\"username=$username&amp;password=$password&amp;Submit=Sign+in\");\n\n        $pattern=\"/Location:(.+?)\\n/\";\n        preg_match($pattern,$out,$matches);\n        $referer=trim($matches[1]);\n        $this-&gt;data['referer']=$referer;\n\n\n    }\n\n\n    private function send_way2sms($number,$msg)\n    {\n        $domain=$this-&gt;data['domain'];\n        $html=$this-&gt;curl-&gt;post(\"{$domain}jsp/InstantSMS.jsp?val=0\",\"1=1\",$this-&gt;data['referer']);\n        if($this-&gt;debugMode)\n        {\n        echo \"&lt;h2&gt;After logging in, the HTML returned by server is&lt;/h2&gt;\";\n        echo $html;\n        }\n\n        $pattern = '/name=\"Action\".+?value=\"(.*)\"/';\n        preg_match($pattern, $html, $matches);\n\n        $custfrom=$matches[1];\n        $msg=urlencode($msg);\n        $html=$this-&gt;curl-&gt;post(\"{$domain}FirstServletsms?custid=\",\"custid=undefined&amp;HiddenAction=instantsms&amp;Action={$custfrom}&amp;login=&amp;pass=&amp;MobNo=$number&amp;textArea=$msg\");\n        $pattern = '/class=\"style1\"&gt;(.+?)&lt;\\/span&gt;/';\n        preg_match($pattern, $html, $matches);\n        $out=($matches[1]);\n\n        if(!preg_match(\"/successfully/\",$out))\n        {\n        $this-&gt;setError($out);\n        return false;\n        }\n        else\n        {\n        return true;\n        $this-&gt;setError(\"No errors\");\n        }\n\n    }\n    public function getLastError()\n    {\n        return $this-&gt;error;\n\n    }\n    private function setError($error)\n    {\n        $this-&gt;error=$error;\n    }\n    private function login_160by2($username,$password)\n    {\n    //  $out2=$this-&gt;curl-&gt;get(\"http://m.160by2.com\");\n        $out=$this-&gt;curl-&gt;post(\"http://m.160by2.com/LoginCheck.asp?l=1&amp;txt_msg=&amp;mno=\",\"txtUserName=$username&amp;txtPasswd=$password&amp;RememberMe=Yes&amp;cmdSubmit=Login\");\n        $pattern=\"/MyMenu.asp\\?Msg=(.+?)&amp;/\";\n\n        preg_match($pattern,$out,$matches);\n        $id=trim($matches[1]);\n        $this-&gt;data['id']=$id;\n\n    }\n\n    private function send_160by2($number,$msg)\n    {\n        $msg=urlencode($msg);\n        $id=$this-&gt;data['id'];\n        $out1=$this-&gt;curl-&gt;post(\"http://m.160by2.com/SaveCompose.asp?l=1\",\"txt_mobileno=$number&amp;txt_msg=$msg&amp;cmdSend=Send+SMS&amp;TID=&amp;T_MsgId=&amp;Msg=$id\");\n        //echo $out1;\n        $pattern = '/\\&lt;table.+?\\&gt;(.+)\\&lt;\\/table/s';\n        preg_match($pattern, $out1, $matches);\n\n        $out=strip_tags(@$matches[1]);\n        if(count($matches)&lt;1)\n        {\n        $pattern=\"/\\&lt;div.+?background:.+?yellow.+?\\&gt;(.+?)\\&lt;\\/div\\&gt;/s\";\n\n        preg_match($pattern,$out1,$matches);\n\n        $out=strip_tags($matches[1]);\n        }\n\n//\n    //  echo \"out is $out\";\n\n        if(!preg_match(\"/successfully/i\",$out))\n        {\n\n        $this-&gt;setError($out);\n\n        return false;\n        }\n        else\n        {\n        return true;\n        $this-&gt;setError(\"No errors\");\n        }\n\n    }\n\n    private function login_airtel($username,$password)\n    {\n        $this-&gt;data['username']=$username;\n        $this-&gt;data['password']=$password;\n\n    }\n\n\n    private function send_airtel($number,$msg)\n    {\n\n    }\n}\n\n?&gt;\n</code></pre>\n\n<p>in the place of username and password, which username and password i should use?</p>\n"},{"tags":["php","mysql","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13266068,"title":"Update column with select","body":"<p>hello I would like to set a table column I tried with the update query but I have syntax error</p>\n\n<pre><code>  $cmts=\"UPDATE stat_alert INNER  JOIN cell_cmt  ON stat_alert.cell = cell_cmt.cell SET stat_alert.`cmts` = cell_cmt.`Cmts`\";\n$cmt= mysql_query($cmts)OR DIE(\"Erreur sur la requete\");\n</code></pre>\n\n<p>I have erreur sur la requete \nwho can help me </p>\n"},{"tags":["php","sublimetext","sublimetext2","code-intelligence"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":438,"score":1,"question_id":11569702,"title":"SublimeText 2 CodeIntel for PHP on Windows?","body":"<p>Just installed <a href=\"https://github.com/Kronuz/SublimeCodeIntel\" rel=\"nofollow\">SublimeCodeIntel</a> via PackageControll plugin on my Windows 7 x64 PC for the latest (v 2.0.1) SublimeText 2, and there has no effect when I try autocomplete simple class method 'foo':</p>\n\n<pre><code>&lt;?php\n    class Foo {\n        public function foo($a) { echo $a; }\n    }\n    $f = new Foo();\n    $f-&gt;\n?&gt;\n</code></pre>\n\n<p>Any suggestions?\nP.S. Also .codeintel directory doesn't contain any log files and yes, I'd restarted SublimeText 2 after plugin install.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":264,"score":0,"question_id":12140559,"title":"Error with .htaccess and mod_rewrite","body":"<p>I'm trying to host a php based application with the following .htaccess values.</p>\n\n<pre><code>Options +FollowSymLinks\nOptions -Indexes\nDirectoryIndex index.php\n\nRewriteEngine On\nRewriteBase /easydeposit\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n\n<p>However, I keep facing the following two errors,</p>\n\n<pre><code>[access_compat:error] [pid 25330:tid 27] AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/system/\n[access_compat:error] [pid 25330:tid 27]  AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/private/\n[access_compat:error] [pid 25330:tid 27] AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/application/\n[authz_core:error] [pid 25330:tid 27]  AH01630: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/.htaccess\n</code></pre>\n\n<p>I'm not sure why this is happening. Any help is appreciated.</p>\n"},{"tags":["php","sphinx","oscommerce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13267372,"title":"how can i use sphinx with oscommerce website?","body":"<p>I need to integrate sphinx with my oscommerce website but i dont understand how to start it.how to implement sphinx php api and use it with oscommrece php mysql queries. </p>\n\n<p>I really appreciate any help I can get! Thanks!</p>\n"},{"tags":["php","google-maps-api-3"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":6216,"score":3,"question_id":8633574,"title":"Get latitude and longitude automatically using php, API","body":"<p>In one of my php applications I have to find out the latitude and longitude of the place from  address.</p>\n\n<p>I tried this code: </p>\n\n<pre><code>$json = file_get_contents(\"http://maps.google.com/maps/api/geocode/json?address=$address&amp;sensor=false&amp;region=$region\");\n$json = json_decode($json);\n\n$lat = $json-&gt;{'results'}[0]-&gt;{'geometry'}-&gt;{'location'}-&gt;{'lat'};\n$long = $json-&gt;{'results'}[0]-&gt;{'geometry'}-&gt;{'location'}-&gt;{'lng'};\n</code></pre>\n\n<p>But it is showing the following Error :</p>\n\n<blockquote>\n  <p>Warning: file_get_contents(http://maps.google.com/maps/api/geocode/json?address=technopark, Trivandrun, kerala,India&amp;sensor=false&amp;region=IND) [function.file-get-contents]: failed to open stream: HTTP request failed! HTTP/1.0 400 Bad Request in D:\\Projects\\lon.php on line 4</p>\n</blockquote>\n\n<p>Please help me to solve this issue.</p>\n"},{"tags":["php","html","excel"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":6129,"score":1,"question_id":3437745,"title":"HTML table to excel - PHP","body":"<p>I am creating a report in Table format. \nThis report is displayed on the browser.\nI want to provide a download report in excel format link so that the report can be available in excel file also.\nHow can I do this</p>\n"},{"tags":["php","html","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13267597,"title":"An efficient way to store <select>'s options in a database?","body":"<p>I'm making a website where there are thousands of <code>&lt;select&gt;&lt;/select&gt;</code> inputs. their <code>&lt;option&gt;&lt;/option&gt;</code> can be changed dinamicaly by an administrator at any time. I'm actually storing each select input's options on separate tables, associating an Id and a value but this is heavy and not really great because i have ~= 100 tables and i need ~= 100 queries to display all the inputs on one page.</p>\n\n<p>Is there any better storage solution ?</p>\n\n<p>Current table exemple :</p>\n\n<pre><code>Table : selectanimaltype\n\nID     NAME\n1       pig\n2       cow\n3       sheep\n4       fox\n...     ...\n</code></pre>\n\n<p>And i have a thousands of table like this one</p>\n"},{"tags":["php","codeigniter","twitter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13265020,"title":"Error while implementing XTA2 code for twitter in CodeIgniter","body":"<p>I am using Eric Bae's third party twitter login implementation in CodeIgniter(<a href=\"https://github.com/ericbae/XTA2\" rel=\"nofollow\">https://github.com/ericbae/XTA2</a>)</p>\n\n<p>The Twitter Library(tweet.php)</p>\n\n<pre><code>class tweet {\n\n    private $_oauth = NULL;\n\n    function __construct()\n    {\n        $this-&gt;_oauth = new tweetOauth();\n    }\n\n    function __call($method, $args)\n    {\n        if ( method_exists($this, $method) )\n        {\n            return call_user_func_array(array($this, $method), $args);\n        }\n\n        return call_user_func_array(array($this-&gt;_oauth, $method), $args);\n    }\n\n    function logged_in()\n    {\n        return $this-&gt;_oauth-&gt;loggedIn();\n    }\n\n    function set_callback($url)\n    {\n        $this-&gt;_oauth-&gt;setCallback($url);\n    }\n\n    function login()\n    {\n        return $this-&gt;_oauth-&gt;login();\n    }\n\n    function logout()\n    {\n        return $this-&gt;_oauth-&gt;logout();\n    }\n\n    function get_tokens()\n    {\n        $tokens = array(\n                        'oauth_token' =&gt; $this-&gt;_oauth-&gt;getAccessKey(),\n                        'oauth_token_secret' =&gt; $this-&gt;_oauth-&gt;getAccessSecret()\n                    );\n\n        return $tokens;\n    }\n\n    function set_tokens($tokens)\n    {\n        return $this-&gt;_oauth-&gt;setAccessTokens($tokens);\n    }\n}\n\nclass tweetException extends Exception {\n\n    function __construct($string)\n    {\n        parent::__construct($string);\n    }\n\n    public function __toString() {\n        return \"exception '\".__CLASS__ .\"' with message '\".$this-&gt;getMessage().\"' in \".$this-&gt;getFile().\":\".$this-&gt;getLine().\"\\nStack trace:\\n\".$this-&gt;getTraceAsString();\n    }\n}\n\nclass tweetConnection {\n\n    // Allow multi-threading.\n\n    private $_mch = NULL;\n    private $_properties = array();\n\n    function __construct()\n    {\n        $this-&gt;_mch = curl_multi_init();\n\n        $this-&gt;_properties = array(\n            'code'      =&gt; CURLINFO_HTTP_CODE,\n            'time'      =&gt; CURLINFO_TOTAL_TIME,\n            'length'    =&gt; CURLINFO_CONTENT_LENGTH_DOWNLOAD,\n            'type'      =&gt; CURLINFO_CONTENT_TYPE\n        );\n    }\n\n    private function _initConnection($url)\n    {\n        $this-&gt;_ch = curl_init($url);\n        curl_setopt($this-&gt;_ch, CURLOPT_RETURNTRANSFER, TRUE);\n    }\n\n    public function get($url, $params)\n    {\n        if ( count($params['request']) &gt; 0 )\n        {\n            $url .= '?';\n\n            foreach( $params['request'] as $k =&gt; $v )\n            {\n                $url .= \"{$k}={$v}&amp;\";\n            }\n\n            $url = substr($url, 0, -1);\n        }\n\n        $this-&gt;_initConnection($url);\n        $response = $this-&gt;_addCurl($url, $params);\n\n        return $response;\n    }\n\n    public function post($url, $params)\n    {\n        // Todo\n        $post = '';\n\n        foreach ( $params['request'] as $k =&gt; $v )\n        {\n            $post .= \"{$k}={$v}&amp;\";\n        }\n\n        $post = substr($post, 0, -1);\n\n        $this-&gt;_initConnection($url, $params);\n        curl_setopt($this-&gt;_ch, CURLOPT_POST, 1);\n        curl_setopt($this-&gt;_ch, CURLOPT_POSTFIELDS, $post);\n\n        $response = $this-&gt;_addCurl($url, $params);\n\n        return $response;\n    }\n\n    private function _addOauthHeaders(&amp;$ch, $url, $oauthHeaders)\n    {\n        $_h = array('Expect:');\n        $urlParts = parse_url($url);\n        $oauth = 'Authorization: OAuth realm=\"' . $urlParts['path'] . '\",';\n\n        foreach ( $oauthHeaders as $name =&gt; $value )\n        {\n            $oauth .= \"{$name}=\\\"{$value}\\\",\";\n        }\n\n        $_h[] = substr($oauth, 0, -1);\n\n        curl_setopt($ch, CURLOPT_HTTPHEADER, $_h);\n    }\n\n    private function _addCurl($url, $params = array())\n    {\n        if ( !empty($params['oauth']) )\n        {\n            $this-&gt;_addOauthHeaders($this-&gt;_ch, $url, $params['oauth']);\n        }\n\n        $ch = $this-&gt;_ch;\n\n        $key = (string) $ch;\n        $this-&gt;_requests[$key] = $ch;\n\n        $response = curl_multi_add_handle($this-&gt;_mch, $ch);\n\n        if ( $response === CURLM_OK || $response === CURLM_CALL_MULTI_PERFORM )\n        {\n            do {\n                $mch = curl_multi_exec($this-&gt;_mch, $active);\n            } while ( $mch === CURLM_CALL_MULTI_PERFORM );\n\n            return $this-&gt;_getResponse($key);\n        }\n        else\n        {\n            return $response;\n        }\n    }\n\n    private function _getResponse($key = NULL)\n    {\n        if ( $key == NULL ) return FALSE;\n\n        if ( isset($this-&gt;_responses[$key]) )\n        {\n            return $this-&gt;_responses[$key];\n        }\n\n        $running = NULL;\n\n        do\n        {\n            $response = curl_multi_exec($this-&gt;_mch, $running_curl);\n            if ( $running !== NULL &amp;&amp; $running_curl != $running )\n            {\n                $this-&gt;_setResponse($key);\n\n                if ( isset($this-&gt;_responses[$key]) )\n                {\n\n                    $response = new tweetResponseOauth( (object) $this-&gt;_responses[$key] );\n                    if ( $response-&gt;__resp-&gt;code !== 200 )\n                    {\n                        throw new tweetException($response-&gt;__resp-&gt;code.' | Request Failed: '.$response-&gt;__resp-&gt;data-&gt;request.' - '.$response-&gt;__resp-&gt;data-&gt;error);\n                    }\n\n                    return $response;\n                }\n            }\n\n            $running = $running_curl;\n\n        } while ( $running_curl &gt; 0);\n\n    }\n\n    private function _setResponse($key)\n    {\n        while( $done = curl_multi_info_read($this-&gt;_mch) )\n        {\n            $key = (string) $done['handle'];\n            $this-&gt;_responses[$key]['data'] = curl_multi_getcontent($done['handle']);\n\n            foreach ( $this-&gt;_properties as $curl_key =&gt; $value )\n            {\n                $this-&gt;_responses[$key][$curl_key] = curl_getinfo($done['handle'], $value);\n\n                curl_multi_remove_handle($this-&gt;_mch, $done['handle']);\n            }\n      }\n    }\n}\n\nclass tweetResponseOauth {\n\n    private $__construct;\n\n    public function __construct($resp)\n    {\n        $this-&gt;__resp = $resp;\n\n        if ( strpos($this-&gt;__resp-&gt;type, 'json') !== FALSE )\n        {\n            $this-&gt;__resp-&gt;data = json_decode($this-&gt;__resp-&gt;data);\n        }\n    }\n\n    public function __get($name)\n    {\n        if ($this-&gt;__resp-&gt;code &lt; 200 || $this-&gt;__resp-&gt;code &gt; 299) return FALSE;\n\n        if ( is_string($this-&gt;__resp-&gt;data ) )\n        {\n            parse_str($this-&gt;__resp-&gt;data, $result);\n        }\n        else\n        {\n            $result = $this-&gt;__resp-&gt;data;\n        }\n\n        foreach($result as $k =&gt; $v)\n        {\n            $this-&gt;$k = $v;\n        }\n\n        if ( $name === '_result')\n        {\n            return $result;\n        }\n\n        return $result[$name];\n    }\n}\n\nclass tweetOauth extends tweetConnection {\n\n    private $_obj;\n    private $_tokens = array();\n    private $_authorizationUrl  = 'http://api.twitter.com/oauth/authorize';\n    private $_requestTokenUrl   = 'http://api.twitter.com/oauth/request_token';\n    private $_accessTokenUrl    = 'http://api.twitter.com/oauth/access_token';\n    private $_signatureMethod   = 'HMAC-SHA1';\n    private $_version           = '1.0';\n    private $_apiUrl            = 'http://api.twitter.com';\n    private $_searchUrl         = 'http://search.twitter.com/';\n    private $_callback = NULL;\n    private $_errors = array();\n    private $_enable_debug = FALSE;\n\n    function __construct()\n    {\n        parent::__construct();\n\n        $this-&gt;_obj =&amp; get_instance();\n        //$this-&gt;_obj-&gt;load-&gt;config('tweet'); // this is now in config file for easy access\n        //$this-&gt;_obj-&gt;load-&gt;library('session'); // we already loaded this for tank auth!\n        $this-&gt;_obj-&gt;load-&gt;library('unit_test');\n        //$this-&gt;_obj-&gt;load-&gt;helper('url'); // this is also loaded already!\n\n        $this-&gt;_tokens =    array(\n                                'consumer_key'      =&gt; $this-&gt;_obj-&gt;config-&gt;item('tweet_consumer_key'),\n                                'consumer_secret'   =&gt; $this-&gt;_obj-&gt;config-&gt;item('tweet_consumer_secret'),\n                                'access_key'        =&gt; $this-&gt;_getAccessKey(),\n                                'access_secret'     =&gt; $this-&gt;_getAccessSecret()\n                            );\n\n        $this-&gt;_checkLogin();\n    }\n\n    function __destruct()\n    {\n        if ( !$this-&gt;_enable_debug ) return;\n\n        if ( !empty($this-&gt;_errors) )\n        {\n            foreach ( $this-&gt;_errors as $key =&gt; $e )\n            {\n                echo '&lt;pre&gt;'.$e.'&lt;/pre&gt;';\n            }\n        }\n    }\n\n    public function enable_debug($debug)\n    {\n        $debug = (bool) $debug;\n        $this-&gt;_enable_debug = $debug;\n    }\n\n    public function call($method, $path, $args = NULL)\n    {\n        $response = $this-&gt;_httpRequest(strtoupper($method), $this-&gt;_apiUrl.'/'.$path.'.json', $args);\n\n        // var_dump($response);\n        // die();\n\n        return ( $response === NULL ) ? FALSE : $response-&gt;_result;\n    }\n\n    public function search($args = NULL)\n    {\n        $response = $this-&gt;_httpRequest('GET', $this-&gt;_searchUrl.'search.json', $args);\n\n        return ( $response === NULL ) ? FALSE : $response-&gt;_result;\n    }\n\n    public function loggedIn()\n    {\n        $access_key = $this-&gt;_getAccessKey();\n        $access_secret = $this-&gt;_getAccessSecret();\n\n        $loggedIn = FALSE;\n\n        if ( $this-&gt;_getAccessKey() !== NULL &amp;&amp; $this-&gt;_getAccessSecret() !== NULL )\n        {\n            $loggedIn = TRUE;\n        }\n\n        $this-&gt;_obj-&gt;unit-&gt;run($loggedIn, TRUE, 'Logged In');\n        return $loggedIn;\n    }\n\n    private function _checkLogin()\n    {\n        if ( isset($_GET['oauth_token']) )\n        {\n            $this-&gt;_setAccessKey($_GET['oauth_token']);\n            $token = $this-&gt;_getAccessToken();\n\n            $token = $token-&gt;_result;\n\n            $token = ( is_bool($token) ) ? $token : (object) $token;\n\n            if ( !empty($token-&gt;oauth_token) &amp;&amp; !empty($token-&gt;oauth_token_secret) )\n            {\n                $this-&gt;_setAccessKey($token-&gt;oauth_token);\n                $this-&gt;_setAccessSecret($token-&gt;oauth_token_secret);\n            }\n\n            redirect(current_url());\n            return NULL;\n        }\n    }\n\n    public function login()\n    {\n        if ( ($this-&gt;_getAccessKey() === NULL || $this-&gt;_getAccessSecret() === NULL) )\n        {\n            header('Location: '.$this-&gt;_getAuthorizationUrl());\n            return;\n        }\n\n        return $this-&gt;_checkLogin();\n    }\n\n    public function logout()\n    {\n        $this-&gt;_obj-&gt;session-&gt;unset_userdata('twitter_oauth_tokens');\n    }\n\n    public function getTokens()\n    {\n        return $this-&gt;_tokens;\n    }\n\n    private function _getConsumerKey()\n    {\n        return $this-&gt;_tokens['consumer_key'];\n    }\n\n    private function _getConsumerSecret()\n    {\n        return $this-&gt;_tokens['consumer_secret'];\n    }\n\n    public function getAccessKey(){ return $this-&gt;_getAccessKey(); }\n\n    private function _getAccessKey()\n    {\n        $tokens = $this-&gt;_obj-&gt;session-&gt;userdata('twitter_oauth_tokens');\n        return ( $tokens === FALSE || !isset($tokens['access_key']) || empty($tokens['access_key']) ) ? NULL : $tokens['access_key'];\n    }\n\n    private function _setAccessKey($access_key)\n    {\n        $tokens = $this-&gt;_obj-&gt;session-&gt;userdata('twitter_oauth_tokens');\n\n        if ( $tokens === FALSE || !is_array($tokens) )\n        {\n            $tokens = array('access_key' =&gt; $access_key);\n        }\n        else\n        {\n            $tokens['access_key'] = $access_key;\n        }\n\n        $this-&gt;_obj-&gt;session-&gt;set_userdata('twitter_oauth_tokens', $tokens);\n    }\n\n    public function getAccessSecret(){ return $this-&gt;_getAccessSecret(); }\n\n    private function _getAccessSecret()\n    {\n        $tokens = $this-&gt;_obj-&gt;session-&gt;userdata('twitter_oauth_tokens');\n        return ( $tokens === FALSE || !isset($tokens['access_secret']) || empty($tokens['access_secret']) ) ? NULL : $tokens['access_secret'];\n    }\n\n    private function _setAccessSecret($access_secret)\n    {\n        $tokens = $this-&gt;_obj-&gt;session-&gt;userdata('twitter_oauth_tokens');\n\n        if ( $tokens === FALSE || !is_array($tokens) )\n        {\n            $tokens = array('access_secret' =&gt; $access_secret);\n        }\n        else\n        {\n            $tokens['access_secret'] = $access_secret;\n        }\n\n        $this-&gt;_obj-&gt;session-&gt;set_userdata('twitter_oauth_tokens', $tokens);\n    }\n\n    private function _setAccessTokens($tokens)\n    {\n        $this-&gt;_setAccessKey($tokens['oauth_token']);\n        $this-&gt;_setAccessSecret($tokens['oauth_token_secret']);\n    }\n\n    public function setAccessTokens($tokens)\n    {\n        return $this-&gt;_setAccessTokens($tokens);\n    }\n\n    private function _getAuthorizationUrl()\n    {\n        $token = $this-&gt;_getRequestToken();\n        return $this-&gt;_authorizationUrl.'?oauth_token=' . $token-&gt;oauth_token;\n    }\n\n    private function _getRequestToken()\n    {\n        return $this-&gt;_httpRequest('GET', $this-&gt;_requestTokenUrl);\n    }\n\n    private function _getAccessToken()\n    {\n        return $this-&gt;_httpRequest('GET', $this-&gt;_accessTokenUrl);\n    }\n\n    protected function _httpRequest($method = null, $url = null, $params = null)\n    {\n        if( empty($method) || empty($url) ) return FALSE;\n        if ( empty($params['oauth_signature']) ) $params = $this-&gt;_prepareParameters($method, $url, $params);\n\n        $this-&gt;_connection = new tweetConnection();\n\n        try {\n            switch ( $method )\n            {\n                case 'GET':\n                    return $this-&gt;_connection-&gt;get($url, $params);\n                break;\n\n                case 'POST':\n                    return $this-&gt;_connection-&gt;post($url, $params);\n                break;\n\n                case 'PUT':\n                    return NULL;\n                break;\n\n                case 'DELETE':\n                    return NULL;\n                break;\n            }\n        } catch (tweetException $e) {\n            $this-&gt;_errors[] = $e;\n        }\n    }\n\n    private function _getCallback()\n    {\n        return $this-&gt;_callback;\n    }\n\n    public function setCallback($url)\n    {\n        $this-&gt;_callback = $url;\n    }\n\n    private function _prepareParameters($method = NULL, $url = NULL, $params = NULL)\n    {\n        if ( empty($method) || empty($url) ) return FALSE;\n\n        $callback = $this-&gt;_getCallback();\n\n        if ( !empty($callback) )\n        {\n            $oauth['oauth_callback'] = $callback;\n        }\n\n        $this-&gt;setCallback(NULL);\n\n        $oauth['oauth_consumer_key']        = $this-&gt;_getConsumerKey();\n        $oauth['oauth_token']               = $this-&gt;_getAccessKey();\n        $oauth['oauth_nonce']               = $this-&gt;_generateNonce();\n        $oauth['oauth_timestamp']           = time();\n        $oauth['oauth_signature_method']    = $this-&gt;_signatureMethod;\n        $oauth['oauth_version']             = $this-&gt;_version;\n\n        array_walk($oauth, array($this, '_encode_rfc3986'));\n\n        if ( is_array($params) )\n        {\n            array_walk($params, array($this, '_encode_rfc3986'));\n        }\n\n        $encodedParams = array_merge($oauth, (array)$params);\n\n        ksort($encodedParams);\n\n        $oauth['oauth_signature'] = $this-&gt;_encode_rfc3986($this-&gt;_generateSignature($method, $url, $encodedParams));\n        return array('request' =&gt; $params, 'oauth' =&gt; $oauth);\n    }\n\n    private function _generateNonce()\n    {\n        return md5(uniqid(rand(), TRUE));\n    }\n\n    private function _encode_rfc3986($string)\n    {\n        return str_replace('+', ' ', str_replace('%7E', '~', rawurlencode(($string))));\n    }\n\n    private function _generateSignature($method = null, $url = null, $params = null)\n    {\n        if( empty($method) || empty($url) ) return FALSE;\n\n        // concatenating\n        $concatenatedParams = '';\n\n        foreach ($params as $k =&gt; $v)\n        {\n            $v = $this-&gt;_encode_rfc3986($v);\n            $concatenatedParams .= \"{$k}={$v}&amp;\";\n        }\n\n        $concatenatedParams = $this-&gt;_encode_rfc3986(substr($concatenatedParams, 0, -1));\n\n        // normalize url\n        $normalizedUrl = $this-&gt;_encode_rfc3986($this-&gt;_normalizeUrl($url));\n        $method = $this-&gt;_encode_rfc3986($method); // don't need this but why not?\n\n        $signatureBaseString = \"{$method}&amp;{$normalizedUrl}&amp;{$concatenatedParams}\";\n        return $this-&gt;_signString($signatureBaseString);\n    }\n\n    private function _normalizeUrl($url = NULL)\n    {\n        $urlParts = parse_url($url);\n\n        if ( !isset($urlParts['port']) ) $urlParts['port'] = 80;\n\n        $scheme = strtolower($urlParts['scheme']);\n        $host = strtolower($urlParts['host']);\n        $port = intval($urlParts['port']);\n\n        $retval = \"{$scheme}://{$host}\";\n\n        if ( $port &gt; 0 &amp;&amp; ( $scheme === 'http' &amp;&amp; $port !== 80 ) || ( $scheme === 'https' &amp;&amp; $port !== 443 ) )\n        {\n            $retval .= \":{$port}\";\n        }\n\n        $retval .= $urlParts['path'];\n\n        if ( !empty($urlParts['query']) )\n        {\n            $retval .= \"?{$urlParts['query']}\";\n        }\n\n        return $retval;\n    }\n\n    private function _signString($string)\n    {\n        $retval = FALSE;\n        switch ( $this-&gt;_signatureMethod )\n        {\n            case 'HMAC-SHA1':\n                $key = $this-&gt;_encode_rfc3986($this-&gt;_getConsumerSecret()) . '&amp;' . $this-&gt;_encode_rfc3986($this-&gt;_getAccessSecret());\n                $retval = base64_encode(hash_hmac('sha1', $string, $key, true));\n            break;\n        }\n\n        return $retval;\n    }\n\n}\n</code></pre>\n\n<p>My Controller (auth_other.php)</p>\n\n<pre><code>class auth_other extends CI_Controller\n{   \nfunction __construct()\n{\n    parent::__construct();\n    $this-&gt;load-&gt;model('user_model');\n    $this-&gt;load-&gt;model('tank_auth/users');\n\n    // for google open id\n    parse_str($_SERVER['QUERY_STRING'],$_GET);      \n}\n\n// function to allow users to log in via twitter\nfunction twitter_signin()\n{\n\n    if ($this-&gt;input-&gt;get('denied')) {\n\n        echo 'User denied twitter authorization';\n        // Possibly redirect to home page or show generic deneied message\n\n    }else{\n\n        // It really is best to auto-load this library!\n        //$this-&gt;load-&gt;library('tweet'); // automatically loaded in the autoload!\n\n        // Enabling debug will show you any errors in the calls you're making, e.g:\n        $this-&gt;tweet-&gt;enable_debug(TRUE);\n\n        // If you already have a token saved for your user\n        // (In a db for example) - See line #37\n        // \n        // You can set these tokens before calling logged_in to try using the existing tokens.\n        // $tokens = array('oauth_token' =&gt; 'foo', 'oauth_token_secret' =&gt; 'bar');\n        // $this-&gt;tweet-&gt;set_tokens($tokens);\n        if ( !$this-&gt;tweet-&gt;logged_in() )\n        {\n            // This is where the url will go to after auth.\n            // ( Callback url )\n\n            $this-&gt;tweet-&gt;set_callback(site_url('auth_other/twitter_signin'));\n\n            // Send the user off for login!\n            $this-&gt;tweet-&gt;login();\n        }\n        else\n        {\n            // You can get the tokens for the active logged in user:\n            // $tokens = $this-&gt;tweet-&gt;get_tokens();\n\n            // \n            // These can be saved in a db alongside a user record\n            // if you already have your own auth system.\n\n            // get the user id from twitter authentication and save to session\n            $user = $this-&gt;tweet-&gt;call('get', 'account/verify_credentials');\n            $twitter_id = $user-&gt;id;\n            $this-&gt;session-&gt;set_userdata('twitter_id', $twitter_id);    \n\n            // now see if the user exists with the given twitter id \n            $user = $this-&gt;user_model-&gt;get_user_by_sm(array('twitter_id' =&gt; $twitter_id), 'twitter_id');\n            if( sizeof($user) == 0 ) \n            { \n                redirect('auth_other/fill_user_info', 'refresh'); \n            }\n            else\n            {\n                // simulate what happens in the tank auth\n                $this-&gt;session-&gt;set_userdata(array( 'user_id' =&gt; $user[0]-&gt;id, 'username' =&gt; $user[0]-&gt;username,\n                                                    'status' =&gt; ($user[0]-&gt;activated == 1) ? STATUS_ACTIVATED : STATUS_NOT_ACTIVATED));\n                //$this-&gt;tank_auth-&gt;clear_login_attempts($user[0]-&gt;email); can't run this when doing twitter\n                redirect('auth', 'refresh');    \n            }           \n        }\n\n    }\n}\n\n// called when user logs in via twitter for the first time\nfunction fill_user_info()\n{\n    // load validation library and rules\n    $this-&gt;load-&gt;config('tank_auth', TRUE);\n    $this-&gt;load-&gt;library('form_validation');\n    $this-&gt;form_validation-&gt;set_rules('username', 'Username', 'trim|required|xss_clean|min_length['.$this-&gt;config-&gt;item('username_min_length', 'tank_auth').']|callback_username_check');\n    $this-&gt;form_validation-&gt;set_rules('email', 'Email', 'trim|required|xss_clean|valid_email|callback_email_check');\n\n    // Run the validation\n    if ($this-&gt;form_validation-&gt;run() == false ) \n    {\n        $this-&gt;load-&gt;view('auth_other/fill_user_info'); \n    }\n    else\n    {\n        $username = mysql_real_escape_string($this-&gt;input-&gt;post('username'));\n        $email = mysql_real_escape_string($this-&gt;input-&gt;post('email'));\n\n        /*\n         * We now must create a new user in tank auth with a random password in order\n         * to insert this user and also into user profile table with tank auth id\n         */\n        $password = $this-&gt;generate_password(9, 8);\n        $data = $this-&gt;tank_auth-&gt;create_user($username, $email, $password, false);\n        $user_id = $data['user_id'];\n        if( $this-&gt;session-&gt;userdata('facebook_id')) \n        { \n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('facebook_id' =&gt; $this-&gt;session-&gt;userdata('facebook_id')));\n        }\n        else if( $this-&gt;session-&gt;userdata('twitter_id'))\n        {\n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('twitter_id' =&gt; $this-&gt;session-&gt;userdata('twitter_id')));\n        }\n        else if( $this-&gt;session-&gt;userdata('gfc_id'))\n        {\n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('gfc_id' =&gt; $this-&gt;session-&gt;userdata('gfc_id')));\n        }\n        else if( $this-&gt;session-&gt;userdata('google_open_id'))\n        {\n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('google_open_id' =&gt; $this-&gt;session-&gt;userdata('google_open_id')));\n        }\n        else if( $this-&gt;session-&gt;userdata('yahoo_open_id'))\n        {\n            $this-&gt;user_model-&gt;update_user_profile($user_id, array('yahoo_open_id' =&gt; $this-&gt;session-&gt;userdata('yahoo_open_id')));\n        }           \n        // let the user login via tank auth\n        $this-&gt;tank_auth-&gt;login($email, $password, false, false, true);\n        redirect('auth', 'refresh');\n    }\n}\n\n// a logout function for 3rd party\nfunction logout()\n{\n    $redirect = site_url('auth/logout');\n    if( $this-&gt;session-&gt;userdata('gfc_id') &amp;&amp; $this-&gt;session-&gt;userdata('gfc_id') != '') { $redirect = null; }\n\n    // set all user data to empty\n    $this-&gt;session-&gt;set_userdata(array('facebook_id' =&gt; '', \n                                       'twitter_id' =&gt; '', \n                                       'gfc_id' =&gt; '',\n                                       'google_open_id' =&gt; '',\n                                       'yahoo_open_id' =&gt; ''));\n    if( $redirect ) { redirect($redirect, 'refresh'); } \n    else { $this-&gt;load-&gt;view('gfc_logout'); }\n}\n\n// function to validate the email input field\nfunction email_check($email)\n{\n    $user = $this-&gt;users-&gt;get_user_by_email($email);\n    if ( sizeof($user) &gt; 0) \n    {\n        $this-&gt;form_validation-&gt;set_message('email_check', 'This %s is already registered.');\n        return false;\n    }\n    else { return true; }\n}\nfunction username_check($username)\n{\n    $user = $this-&gt;users-&gt;get_user_by_username($username);\n    if ( sizeof($user) &gt; 0) \n    {\n        $this-&gt;form_validation-&gt;set_message('username_check', 'This %s is already registered.');\n        return false;\n    }\n    else { return true; }\n}\n// generates a random password for the user\nfunction generate_password($length=9, $strength=0) \n{\n    $vowels = 'aeuy';\n    $consonants = 'bdghjmnpqrstvz';\n    if ($strength &amp; 1) { $consonants .= 'BDGHJLMNPQRSTVWXZ'; }\n    if ($strength &amp; 2) { $vowels .= \"AEUY\"; }\n    if ($strength &amp; 4) { $consonants .= '23456789'; }\n    if ($strength &amp; 8) { $consonants .= '@#$%'; }\n\n    $password = '';\n    $alt = time() % 2;\n    for ($i = 0; $i &lt; $length; $i++) \n    {\n        if ($alt == 1) \n        {\n            $password .= $consonants[(rand() % strlen($consonants))];\n            $alt = 0;\n        } \n        else \n        {\n            $password .= $vowels[(rand() % strlen($vowels))];\n            $alt = 1;\n            }\n        }\n        return $password;\n    }\n}\n</code></pre>\n\n<p>The error i get is \n    A PHP Error was encountered</p>\n\n<pre><code>Severity: Notice\n\nMessage: Undefined property: stdClass::$request\n\nFilename: libraries/tweet.php\n\nLine Number: 204\n\nA PHP Error was encountered\n\nSeverity: Notice\n\nMessage: Undefined property: stdClass::$error\n\nFilename: libraries/tweet.php\n\nLine Number: 204\n</code></pre>\n\n<p>can anybody please provide any inputs on this..?</p>\n"},{"tags":["php","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13267430,"title":"How to call an external api from codeIgniter?","body":"<p>Hi I am facing a big problem right now in developing my application. Actually there is a function developed already in one of our previous application class file. Now we want to use that function in our new application. How can we call that function in our new controller using codeIgniter.</p>\n\n<p>Note: our old application is in core PHP.</p>\n\n<p>old file report.class.php....in this there is a function name <code>get_report()</code>\nNew controller ro_manager.php.......in this there is a function <code>order_details()</code>...</p>\n\n<p>I want to call <code>get_report()</code> function in <code>order_details()</code> function......i need help in this any idea.......</p>\n"},{"tags":["php"],"answer_count":10,"favorite_count":0,"up_vote_count":6,"down_vote_count":1,"view_count":641,"score":5,"question_id":542995,"title":"What is += used for?","body":"<p>I think this is a dumb question but I could not find it on php. Why is a + with the = in the following code:</p>\n\n<pre><code>function calculateRanking()\n{\n    $created = $this-&gt;getCreated();\n\n    $diff = $this-&gt;getTimeDifference($created, date('F d, Y h:i:s A'));\n\n    $time = $diff['days'] * 24;\n    $time += $diff['hours'];\n    $time += ($diff['minutes'] / 60);\n    $time += (($diff['seconds'] / 60)/60);\n\n    $base = $time + 2;        \n\n    $this-&gt;ranking = ($this-&gt;points - 1) / pow($base, 1.5);\n\n    $this-&gt;save();\n}\n</code></pre>\n\n<p>Is this so $time has all those values or rather it is adding all the values to $time?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","html","web-services","soap","curl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":26,"score":-2,"question_id":13267198,"title":"Curl CURLOPT_RETURNTRANSFER not returns an array","body":"<p>i am using curl request it should return me an array but its returns plain text with no space no comma now the issue is how can i get each array indexes separately ?\nit was working perfectly the server where wsdl code is hosted were updates their server to ssl version 3 and this issue comes.\nhere is my code is there any option in curl to get array or array to plain text ? i am confused about it </p>\n\n<pre><code>    $header = array(\n        \"Content-type: text/xml;charset=\\\"UTF-8\\\"\",\n        \"Accept: text/xml\",\n        \"Cache-Control: no-cache\",\n        \"Pragma: no-cache\",\n        \"SOAPAction: \\\"getInfo\\\"\",\n        \"Content-length: \" . strlen($post_string),\n    );\n\n    $request = curl_init('wsdl URL here');\n    curl_setopt($request, CURLOPT_HEADER, 0);\n    curl_setopt($request, CURLOPT_POSTFIELDS, $post_string);\n    curl_setopt($request, CURLOPT_SSL_VERIFYPEER, FALSE);\n    curl_setopt($request, CURLOPT_RETURNTRANSFER, 0);\n    curl_setopt($request, CURLOPT_SSLVERSION, 3);\n    curl_setopt($request, CURLOPT_SSL_CIPHER_LIST, 'RC4-SHA');\n    curl_setopt($request, CURLOPT_HTTPHEADER, $header);\n    $result = curl_exec($request);\n    curl_close($request);\n    var_dump($result);\n</code></pre>\n"},{"tags":["php","html","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13267254,"title":"push slash to url with form","body":"<p>I have a form and when you hit search it writes the url out with <code>%2F</code> instead of a slash. How can I fix this?</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;form name=\"cdsearch\" method=\"get\" action=\"\"&gt;\n&lt;input type=\"hidden\" name=\"route\" value=\"database/comics\" /&gt; &lt;-- This is where the slash is needed\n&lt;input style=\"width: 100%;\" type=\"text\" name=\"q\" value=\"&lt;?php echo $q ?&gt;\" /&gt;&lt;br/&gt;\n&lt;input style=\"width: 100%;\" type=\"submit\" value=\"Search Comic Database\" /&gt;      \n&lt;/form&gt;\n</code></pre>\n"},{"tags":["php","sms"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":924,"score":0,"question_id":694091,"title":"Using SMS Gateway API in PHP","body":"<p>i couldnt send sms using the following code,  but i can sent sms using the same url, while i paste the url($murl) it into browser address bar</p>\n\n<p>connection timed out, takes too much time to execute, but no result </p>\n\n<p>what is the problem?</p>\n\n<pre><code>$amount=\"500\";\n$d=\"23-03-09\";\n\n$mNumber=\"98689988898\";\n$mName=\"TEST\";\n$mMessage =\"\\\"We have debited Rs.$amount. Your account on $d.  Thank you for your valuable support.\";\n$u1 = 'http://bulksms.mysmsmantra.com:8080/WebSMS/SMSAPI.jsp?';\n$u2= 'username='.urlencode('some').'&amp;password='. urlencode('some').'&amp;sendername='.urlencode('some') .'&amp;mobileno='\n. urlencode($mNumber).'&amp;message='.urlencode($mMessage).'&amp;submit=Submit';\n\n$murl=$u1.$u2;\n\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL, $murl);\n//curl_setopt($ch, CURLOPT_HEADER, 1); \n//curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);\n/*curl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $u2);\n*/$response = curl_exec($ch);\nprint \"Respons : $response\";\ncurl_close($ch);\n</code></pre>\n"},{"tags":["php","facebook"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13267488,"title":"Error when run iframe check user id of facebook from other domain?","body":"<p>I have a sample code:</p>\n\n<p>In domain1:</p>\n\n<pre><code>index.php\nlib/facebook.php\nlib/base_facebook.php\nlib/fb_ca_chain_bundle.crt\n</code></pre>\n\n<p>And index.php of domain 1</p>\n\n<pre><code>&lt;?php \nrequire_once('lib/facebook.php');\nif($user_id) {\n  try {\n    $user_profile = $facebook-&gt;api('/me','GET');\n    echo \"Name: \" . $user_profile['name'];\n\n  } catch(FacebookApiException $e) {\n    $login_url = $facebook-&gt;getLoginUrl(); \n    echo 'Please &lt;a href=\"' . $login_url . '\"&gt;login.&lt;/a&gt;';\n  }   \n} else {\n  // No user, print a link for the user to login\n}\n?&gt;\n</code></pre>\n\n<p>In domain 2 I call it using iframe:</p>\n\n<pre><code>&lt;iframe src=\"domain 1\" width=\"300\" height=\"250\"&gt; \n&lt;/iframe&gt;\n</code></pre>\n\n<p>When I run domain 2 is result not show user id test, I think cross domain ? How to ideas to fix it !!</p>\n"},{"tags":["php","zend-framework","soap","wsdl","soap-client"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13266890,"title":"classmap option not working while using php's SoapClient","body":"<p>Currently I am working on an internal soap service to control some internal processes. Which is normally not all that hard to do. I am however trying to use the soapClient classmap functionality to map objects instead of working with the stdClasses which are normally returned for non complextypes.</p>\n\n<p>Considering the fact that wsdl's and sources take up alot of space code-wise, i will link to relevant documents instead of spamming them in this question.</p>\n\n<p>First of all I am using Zend_Soap_Server and Zend_Soap_Server_Autodiscover for my Soap service  and wsdl generation. </p>\n\n<p>Soap server code: \n<a href=\"https://www.dropbox.com/s/eji7l50g42m2ixl/SoapServer.txt\" rel=\"nofollow\">https://www.dropbox.com/s/eji7l50g42m2ixl/SoapServer.txt</a></p>\n\n<p>WSDL result for ?wsdl request: \n<a href=\"https://www.dropbox.com/s/vyxbjz7wogd8suy/wsdl.txt\" rel=\"nofollow\">https://www.dropbox.com/s/vyxbjz7wogd8suy/wsdl.txt</a></p>\n\n<p>The soap service publishes a serviceclass. This class contains a method to obtain data from our soap service. This method is called getPackages. </p>\n\n<p>getPackages method form the soap service: \n<a href=\"https://www.dropbox.com/s/p5ddxpraju7ru6x/method_from_serviceclass.txt\" rel=\"nofollow\">https://www.dropbox.com/s/p5ddxpraju7ru6x/method_from_serviceclass.txt</a></p>\n\n<p>The getPackages method returns a DataObject which in turn returns contains references to other data objects. These objects exist on both server as client and are exactly the same on both ends.</p>\n\n<p>The main data object:\n<a href=\"https://www.dropbox.com/s/qt51pw3rpq7c2ba/dataobject.txt\" rel=\"nofollow\">https://www.dropbox.com/s/qt51pw3rpq7c2ba/dataobject.txt</a></p>\n\n<p>When connecting to this service and calling the getPackages method, I get the response as expected: a stdClass containing a vps and a shared property.</p>\n\n<p>Unfortionatly when adding the classmap, the result remains exactly the same.. a stdClass containing vps and a shared property. The expected result would be a Soho_Soap_DataObject_Packages object containing the vps and shared properties.</p>\n\n<p>This is the used SoapClient code: \n<a href=\"https://www.dropbox.com/s/ulnni84p8dawv97/SoapClient.txt\" rel=\"nofollow\">https://www.dropbox.com/s/ulnni84p8dawv97/SoapClient.txt</a></p>\n\n<p>When i call the getPackages method through Soap i get the following:</p>\n\n<pre><code>$SoapClient = \\Soho_Soap_Client::getInstance();\n$packages = $SoapClient-&gt;getPackages();\nprint_r($packages);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>stdClass Object\n(\n[shared] =&gt; Array\n    (\n        [0] =&gt; stdClass Object\n            (\n                [id] =&gt; \n                [title] =&gt; \n                [pricePerPeriod] =&gt; \n                [price] =&gt; \n                [minRegistrationMonths] =&gt; \n                [properties] =&gt; \n                [options] =&gt; Array\n                    (\n                    )\n            )\n    )\n[vps] =&gt; \n</code></pre>\n\n<p>)</p>\n\n<p>However, if I look at the response types I get the following:</p>\n\n<pre><code>print_r( $SoapClient-&gt;__getTypes() );\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    Array\n    (\n    [0] =&gt; Soho_Soap_DataObject_Package_Shared ArrayOfSoho_Soap_DataObject_Package_Shared[]\n    [1] =&gt; struct stdClass {\n\n    }\n    [2] =&gt; Soho_Soap_DataObject_Package_Shared_Option ArrayOfSoho_Soap_DataObject_Package_Shared_Option[]\n    [3] =&gt; struct Soho_Soap_DataObject_Package_Shared_Option {\n        string title;\n        string value;\n    }\n    [4] =&gt; struct Soho_Soap_DataObject_Package_Shared {\n        int id;\n        string title;\n        int pricePerPeriod;\n        int price;\n        int minRegistrationMonths;\n        stdClass properties;\n        ArrayOfSoho_Soap_DataObject_Package_Shared_Option options;\n    }\n    [5] =&gt; Soho_Soap_DataObject_Package_Vps ArrayOfSoho_Soap_DataObject_Package_Vps[]\n    [6] =&gt; Soho_Soap_DataObject_Package_Vps_Option ArrayOfSoho_Soap_DataObject_Package_Vps_Option[]\n    [7] =&gt; struct Soho_Soap_DataObject_Package_Vps_Option {\n        string title;\n        string value;\n    }\n    [8] =&gt; struct Soho_Soap_DataObject_Package_Vps {\n        int id;\n        string title;\n        int pricePerPeriod;\n        int price;\n        int minRegistrationMonths;\n        stdClass properties;\n        ArrayOfSoho_Soap_DataObject_Package_Vps_Option options;\n    }\n    [9] =&gt; struct Soho_Soap_DataObject_Packages {\n        ArrayOfSoho_Soap_DataObject_Package_Shared shared;\n        ArrayOfSoho_Soap_DataObject_Package_Vps vps;\n    }\n    )        \n</code></pre>\n\n<p>Google isn't helping me much since the classmapping documentiation isn't all too great to start with, so I hope the stack community can shine a light on my problem.</p>\n\n<p>2 days of staring at the same problem makes me desperate.</p>\n\n<p>A short while ago I used SoapClient in the same way to communicate with a vmware vsphere API which worked perfectly, so I do think the problem has something to do with the WDSL, but currently I am lost.</p>\n\n<p>I thank everyone that takes the time to look at my problem in advance for their time. I will ofcourse provide additional information when requested.</p>\n\n<p>Thx!</p>\n"},{"tags":["php","regex","preg-replace"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13183199,"title":"Match and Replace first <p> paragraph contents of output?","body":"<p>I have content that is being outputted via Wordpress, and it wraps paragraph <code>&lt;p&gt;</code> tags around the content. I need to remove the content within the first <code>&lt;p&gt;&lt;/p&gt;</code> .. How can I do this?</p>\n\n<p>For example, output is:</p>\n\n<pre><code>&lt;p&gt;Posted by Bob&lt;/p&gt;\n&lt;p&gt;This is the content here&lt;/p&gt;\n&lt;p&gt;This is the second paragraph&lt;/p&gt;\n</code></pre>\n\n<p>I'd like to remove the line <code>&lt;p&gt;Posted by Bob&lt;/p&gt;</code> and leave the rest. </p>\n"},{"tags":["php","drupal","module"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13267400,"title":"Drupal features recreate issue with CCK fields","body":"<p>I have created a form using CCK with conditional fields on my development machine. If I use the features module to recreate and export the new settings to my staging machine the form comes out flat.</p>\n\n<p>So for example my form is set up to expand other options based on a selection (second option on a drop down box will show different form fields). </p>\n\n<p>After recreating and sending the files over to staging, same deployment, version and all that for some reason the CCK form appears flat. All the fields that are supposed to be hidden behind certain field selections now appear flat. I am not sure why this is the case.</p>\n\n<p>So the files that I might have transferred for example after downloading the feature:</p>\n\n<pre><code>support_tickets_v2.features.conditional_fields.inc\nsupport_tickets_v2.features.content.inc\nsupport_tickets_v2.features.fieldgroup.inc\nsupport_tickets_v2.info\nsupport_tickets_v2.strongarm.inc\nsupport_tickets_v2.views_default.inc\n</code></pre>\n"},{"tags":["php","tdd","phpunit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13267052,"title":"Test Driven Development in PHP without using PHPUnit","body":"<pre><code>class TestCase\n{\n    public function multiply($a,$b)\n    {\n        return $a*$b;\n    }\n}\n</code></pre>\n\n<p>I need to use test cases in PHP. Some websites suggests that to use TDD in PHP, we need to install PHPUnit. For now, I need only knowledge of test cases and using them in PHP to test a program. Is that possible for above PHP code(without installing PHPUnit)?\nI have WAMPP to run php.</p>\n"},{"tags":["php","uuid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13267191,"title":"What is the correct way to format a mac address node for an RFC 4122 Version 1 UUID?","body":"<p>I'm trying to create a Version 1 UUID based on a mac address as defined on <a href=\"http://www.ietf.org/rfc/rfc4122.txt\" rel=\"nofollow\">page 8 of RFC 4122</a> using only PHP. <a href=\"http://stackoverflow.com/a/9321579/594137\">Another answer</a> on this site recommended <a href=\"https://github.com/fredriklindberg/class.uuid.php\" rel=\"nofollow\">this</a> implementation which seems to fit the bill.</p>\n\n<p>I'm testing the usage of this class as follows:</p>\n\n<pre><code>&lt;?php\n    echo UUID::generate(UUID::UUID_TIME, UUID::FMT_STRING, '000000000000');\n?&gt;\n</code></pre>\n\n<p>But I'm getting the following output:</p>\n\n<pre><code>6c10f140-28c0-11e2-a210-303030303030\n</code></pre>\n\n<p>My understanding of the standard is that the node (last part) should be the mac address verbatim. Looking at <a href=\"https://github.com/fredriklindberg/class.uuid.php/blob/master/class.uuid.php#L250\" rel=\"nofollow\">the source code</a> it seems to use <a href=\"http://php.net/manual/en/function.ord.php\" rel=\"nofollow\"><code>ord()</code></a> which looks like it gets the ASCII value of the characters in the string provided to generate the node instead of using the address itself?</p>\n\n<p>Is my understanding of the spec wrong or is the code wrong?</p>\n"},{"tags":["php","forms","dreamweaver","contact"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":94,"score":3,"question_id":12859615,"title":"My contact form sends blank body_messages","body":"<p>Iâm new to PHP so bear with me. My form is sending empty emails when I press submit. Any help would be great.</p>\n\n<p>This is my form:</p>\n\n<pre><code>    &lt;form class=\"contact_form\" action=\"kontakt.php\" method=\"post\"&gt;\n        &lt;p&gt;&lt;input type=\"text\" required=\"required\" id=\"name\" name=\"name\" class=\"text_input\" value=\"\" size=\"22\"  /&gt;\n        &lt;label for=\"name\"&gt;Namn *&lt;/label&gt;&lt;/p&gt;\n\n        &lt;p&gt;&lt;input type=\"text\" required=\"required\" id=\"company\" name=\"company\" class=\"text_input\" value=\"\" size=\"22\"  /&gt;\n        &lt;label for=\"company\"&gt;FÃ¶retag *&lt;/label&gt;&lt;/p&gt;\n\n        &lt;p&gt;&lt;input type=\"email\" required=\"required\" id=\"email\" name=\"email\" class=\"text_input\" value=\"\" size=\"22\"  /&gt;\n        &lt;label for=\"email\"&gt;Epost *&lt;/label&gt;&lt;/p&gt;\n\n        &lt;p&gt;&lt;textarea required=\"required\" name=\"content\" class=\"textarea\" cols=\"30\" rows=\"5\"&gt;&lt;/textarea&gt;&lt;/p&gt;\n\n        &lt;p&gt;&lt;button type=\"submit\" class=\"button white\"&gt;&lt;span&gt;Skicka&lt;/span&gt;&lt;/button&gt;&lt;/p&gt;\n        &lt;input type=\"hidden\" value=\"info@web.se\" name=\"contact_to\"/&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>And my PHP code so far is:</p>\n\n<pre><code>&lt;?php\n\n$name = $_POST['name'];\n$company = $_POST['company'];\n$email = filter_input(INPUT_POST, 'email', FILTER_VALIDATE_EMAIL);\n$content = $_POST['content'];\n\n\n\n$mail_to = 'info@web.se';\n\n$subject = 'Lilla form'.$name;\n\n\n\n$body_message = 'From: '.$name.\"\\n\";\n\n$body_message .= 'E-mail: '.$email.\"\\n\";\n\n$body_message .= 'Message: '.$content;\n\n\n\n$headers = 'From: '.$email.\"\\r\\n\";\n\n$headers .= 'Reply-To: '.$email.\"\\r\\n\";\n\n\n\n$mail_status = mail($mail_to, $subject, $body_message, $headers);\n\n?&gt;\n</code></pre>\n\n<p>Please help me, Iâm really stuck.</p>\n\n<p>Thank you all!</p>\n"},{"tags":["php","html"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13266645,"title":"export multiple table in one div from php to excel","body":"<p>i have more than one table in one div now wants to export all tables in excel.for one table it is possible but unable for multiple tables.</p>\n\n<p>code:-</p>\n\n<pre><code>&lt;form action='exporttoexcel.php' method='post' onsubmit='$(\"#datatodisplay\").val( $(\"&lt;div&gt;\").append( $(\"#frm\").eq(0).clone() ).html() )'&gt;\n&lt;div id=\"frm\"&gt;\n&lt;table  border=2 height='10%' width='40%' align='center'  cellpadding=4 cellspacing=0 bgcolor='#BDBDBD'&gt;\n    &lt;tr&gt; \n        &lt;th align=center height=25&gt; Form &lt;/th&gt;\n    &lt;/tr&gt;   \n    &lt;tr&gt; \n        &lt;th align=center height=25&gt; detail&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;input type='submit' name='export' value='Export' style='margin-top: 5px; margin-left: 90%; '&gt;\n&lt;/table&gt;\n&lt;br&gt;\n</code></pre>\n\n<p><strong>export button</strong></p>\n\n<p>table1</p>\n\n<p>table2</p>\n"},{"tags":["php","mysql","updates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13267193,"title":"Pulling data from one table, modifying the data, and inserting it into two others?","body":"<p>I'm trying to figure out how to modify data I copy from one table into another two.</p>\n\n<p>Currently I have it working so my form submits it pulls the data from 'prices' and puts it into 'pricestwo' and 'pricesthree'.</p>\n\n<p>However I need to modify the data before hand to make one 10% less on price, and one 20% less on price.</p>\n\n<pre><code>&lt;?php\n$priceid = $_POST['priceid'] ; \n$name = $_POST['productname'] ;\n$weight = $_POST['productweight'];\n$price = $_POST['productprice'];\nif(isset($_POST['updateprices'])) { \n\nfor($i=0;$i&lt;$count;$i++){\n\n$sql1= mysqli_query($myConnection, \"UPDATE pricestwo SET productname='$name[$i]', productweight='$weight[$i]', productprice='$pricetwo[$i]' WHERE priceid='$priceid[$i]'\");\n\n$sql2= mysqli_query($myConnection, \"UPDATE pricesthree SET productname='$name[$i]', productweight='$weight[$i]', productprice='$price[$i]' WHERE priceid='$priceid[$i]'\");\n}\necho \"&lt;meta http-equiv=\\\"refresh\\\" content=\\\"0;URL=edit_product_prices.php\\\"&gt;\";\n} \n?&gt;\n</code></pre>\n\n<p>This currently works to copy just the data, I've tried something like:</p>\n\n<pre><code>    $pricetwo = $price - ($price * 0.15);\n</code></pre>\n\n<p>to modify the data, but there are multiple rows been transferred so this just returns a 0.00 value. </p>\n\n<p>Anyone have any ideas on how to do this?</p>\n"},{"tags":["php","wcf","wsdualhttpbinding"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13262768,"title":"How to consume wcf service with callback in web?","body":"<p>I have a project that requires PHP to connect into WCF self host. The structure was, I have a selfhost wcf with tcp and WSDualHttpBinding protocols. I've used PHP SOAP version 1 and wcf has EnvelopVersion Soap12. I tried to test PHP code below but unfortunately couldn't make it work. I try to type the Url in my browser \"http://...:8009/Service/Service/?wsdl\" to test if my WCF was up and xml was appeared so it means wcf is up and running. Is it possible to notify web client if I have callback in the my self host service? Thanks in advance.</p>\n\n<pre><code>    &lt;?php\n\ntry\n{\n    $client = new SoapClient('http://...:8009/Service/Service/?wsdl',\n    array(\n                'location' =&gt; 'http://...:8009/Service/Service/',\n                'trace' =&gt; true,\n                'soap_version' =&gt; SOAP_1_1,\n                'cache_wsdl' =&gt; WSDL_CACHE_MEMORY\n        )); \n        .\n        .\n        .\n\n} catch ( Exception $e )\n{\n    echo \"Error:\".$e-&gt;getMessage();\n}\n\n?&gt;\n</code></pre>\n"},{"tags":["php","zend-framework","php-cli"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":5039,"score":2,"question_id":4863574,"title":"Fatal error:  Access to undeclared static property","body":"<p>I'm trying to use some extended <code>Zend_Db_Table</code> class from PHP CLI (Command Line Interface).</p>\n\n<p>Everything is working as expected, when used via Apache. But when used from CLI I get the following error:</p>\n\n<blockquote>\n  <p>[01-Feb-2011 14:41:34] PHP Fatal error:  Access to undeclared static property: <code>KidsclubIdentities::$tableName</code> in /home/www/</p>\n</blockquote>\n\n<p>If I <code>var_dump($tableVariables); die();</code> in the <code>col()</code> function of the class below I get a printout as expected, but <strong>NOT INCLUDING</strong> the <code>public static</code> variables of my model (<code>KidsclubIdentities</code>).</p>\n\n<p>So my best guess is that the scope is different, when using CLI vs. Apache</p>\n\n<pre><code>class My_Db_Table extends Zend_Db_Table\n{\n    public function col($varname) {\n        $tableVariables = get_class_vars(get_class($this));\n        if(array_key_exists($varname, $tableVariables)) {\n            return $tableVariables[$varname];\n        } else if(array_key_exists($varname . 'Column', $tableVariables)) {\n            return $tableVariables[$varname . 'Column'];\n        }\n        return $varname;\n    }\n\n[...]\n</code></pre>\n\n<p>My model</p>\n\n<pre><code>class KidsclubIdentities extends My_Db_Table\n{\n    protected $_name = 'kidsclub_identities';\n    protected $_rowClass = 'KidsclubIdentity';\n\n    public static $tableName = 'kidsclub_identities';\n    public static $primaryColumn = 'kidsclub_identity_id';\n    public static $statusColumn = 'kidsclub_identity_status';\n    public static $userIdColumn = 'user_id';\n    public static $identityIdColumn = 'identity_id';\n    public static $identityLocationTypeColumn = 'identity_location_type';\n</code></pre>\n\n<p>I was planning to use CLI to execute some operations from crontab. But I will move my focus onto apache based cron-script.</p>\n"},{"tags":["php","html","string"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":266,"score":2,"question_id":3388836,"title":"PHP - How to replace a phrase with another?","body":"<p>How can i replace this <code>&lt;p&gt;&lt;span class=\"headline\"&gt;</code>  with this <code>&lt;p class=\"headline\"&gt;&lt;span&gt;</code>\neasiest  with PHP.</p>\n\n<pre><code>$data = file_get_contents(\"http://www.ihr-apotheker.de/cs1.html\");\n$clean1 = strstr($data, '&lt;p&gt;');\n$str = preg_replace('#(&lt;a.*&gt;).*?(&lt;/a&gt;)#', '$1$2', $clean1);\n$ausgabe = strip_tags($str, '&lt;p&gt;');\necho $ausgabe;\n</code></pre>\n\n<p>Before I alter the html from the site I want to get the class declaration from the span to  the  <code>&lt;p&gt;</code> tag.</p>\n"},{"tags":["php","javascript","google-analytics"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13267162,"title":"Remove Google Analytics Tracking Parameters From Url","body":"<p>Is it possible to remove these parameters?\nI'm talking about this:</p>\n\n<pre><code>http://www.example.com/home/\n?__utma=1231312.12321312331.1231312313.1231231313.12321321313.5\n&amp;__utmb=123131313.3.9.132313123\n&amp;__utmc=123123132131\n&amp;__utmx=-\n&amp;__utmz=1232131313.31231321313.5.2.utmcsr=example.net|utmccn=(referral)|utmcmd=referral|utmcct=/home/\n&amp;__utmv=-\n&amp;__utmk=1231233131\n</code></pre>\n\n<p>I found this but it only works on HTML 5 browsers.</p>\n\n<pre><code>if (window.history &amp;&amp; history.replaceState &amp;&amp; location.search.match(/__utma/)) {\n    _gaq.push(function(){\n        history.replaceState({}, \"\", location.pathname);\n    });\n}\n</code></pre>\n\n<p>Is there a better way to do this. Maybe in php?</p>\n"},{"tags":["php","javascript","mysql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":49,"score":-6,"question_id":13266863,"title":"Online Exam using PHP and MySQL with TIMER","body":"<p>Guys I am creating an <strong>Online exam using PHP and MYSQL</strong>. But i have a problem, how can I check the answers of the examinees in the previous page... i have next and previous button. But my codes only compute the correct answers on the <strong>last page</strong>. it doesn't include the scores in the previous pages. </p>\n\n<p>Second, <strong>my timer resets</strong> when the next page was clicked. The exam is good for 30 minutes. I want that 30 minutes from first page until to the last page without resetting and start counting again from 30 minutes.</p>\n"},{"tags":["php","sockets","fsockopen"],"answer_count":9,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":7530,"score":1,"question_id":2367458,"title":"PHP Post data with Fsockopen","body":"<p>I am attempting to post data using fsockopen, and then returning the result.\nHere is my current code:</p>\n\n<pre><code>&lt;?php\n$data=\"stuff=hoorah\\r\\n\";\n$data=urlencode($data);\n\n$fp = fsockopen(\"www.website.com\", 80, $errno, $errstr, 30);\nif (!$fp) {\n    echo \"$errstr ($errno)&lt;br /&gt;\\n\";\n} else {\n    $out = \"POST /script.php HTTP/1.0\\r\\n\";\n    $out .= \"Host: www.webste.com\\r\\n\";\n    $out .= 'Content-Type: application/x-www-form-urlencoded\\r\\n';\n    $out .= 'Content-Length: ' . strlen($data) . '\\r\\n\\r\\n';\n    $out .= \"Connection: Close\\r\\n\\r\\n\";\n    fwrite($fp, $out);\n    while (!feof($fp)) {\n        echo fgets($fp, 128);\n    }\n    fclose($fp);\n}\n?&gt; \n</code></pre>\n\n<p>It is supposed to echo the page, and it is echoing the page, but here is the script for script.php</p>\n\n<pre><code>&lt;?php\necho \"&lt;br&gt;&lt;br&gt;\";    \n$raw_data = $GLOBALS['HTTP_RAW_POST_DATA'];  \n parse_str( $raw_data, $_POST );\n\n//test 1\nvar_dump($raw_data);\necho \"&lt;br&gt;&lt;br&gt;\":\n//test 2\nprint_r( $_POST );  \n?&gt;\n</code></pre>\n\n<p>The outcome is:</p>\n\n<blockquote>\n  <p>HTTP/1.1 200 OK Date: Tue, 02 Mar 2010\n  22:40:46 GMT Server: Apache/2.2.3\n  (CentOS) X-Powered-By: PHP/5.2.6\n  Content-Length: 31 Connection: close\n  Content-Type: text/html; charset=UTF-8\n        string(0) \"\" Array ( )</p>\n</blockquote>\n\n<p>What do I have wrong? Why isn't the variable posting its data?</p>\n"},{"tags":["php","javascript","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":27,"score":0,"question_id":13265817,"title":"get value from popup page and insert it in parent page codeigniter","body":"<p>I had a popup page which had a form with field </p>\n\n<pre><code>name,discription , date etc\n</code></pre>\n\n<p>when the form submit successfully popup page close . it work fine till now.</p>\n\n<p>but know i want to get the value of </p>\n\n<pre><code>NAME field \n</code></pre>\n\n<p>from popup page and insert it in the parent page form . both page had a different controller . please tell how i procceed further.</p>\n"},{"tags":["php","mvc","cakephp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13258397,"title":"List posts by category in CakePHP","body":"<p>I'm new to CakePHP. Please help me to write a function to retrieve posts under a particular category for my blog app built using CakePHP.</p>\n\n<p>My table structure:</p>\n\n<p>posts: id, post, body, created, category_id\ncategory: id, group</p>\n\n<p>Also I had defined:\nInside post model - <code>var $belongsTo = 'Category';</code>\nInside category model - <code>var $hasMany = 'Post';</code></p>\n"},{"tags":["php","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12760034,"title":"Wordpress search with Tags not working","body":"<p>I have WordPress site with a tag cloud widget and search widget displayed. </p>\n\n<p>When I perform a search I see a list of the blog articles I'm interested in. When I use the tag widget to do the same, I don't see a list of results.</p>\n\n<p>Where have I gone wrong?</p>\n"},{"tags":["php","mysql","sql","query","opencart"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13257360,"title":"Using quotation mark in MySQL","body":"<p>I have a list of 1000 products I am currently importing into OpenCart. Some of the product titles contains an quotation mark to symbolise the inches (for example 5\").</p>\n\n<p>I have imported all of these products successfully using this query:</p>\n\n<pre><code>$data['name'] = mysql_escape_string($data['name']);\n$sql = \"INSERT INTO \".DB_PREFIX.\"product-description SET language_id = '1', name = '\".$data['name'].\"'\";\n$query = mysql_query($sql);\n</code></pre>\n\n<p>When I am in OpenCart the list of products also show proberly however when I go to edit the product the title input field (which is meant to show the title) cuts out the title from the \" symbol onwards.</p>\n\n<p>Here is a visual example:\n<img src=\"http://i.stack.imgur.com/HIpsV.png\" alt=\"enter image description here\"></p>\n\n<p>Here we see the title is complete\n<img src=\"http://i.stack.imgur.com/93t7G.png\" alt=\"enter image description here\"></p>\n\n<p>Here we see the title as been cut out after the \".</p>\n\n<p>I can confirm it is not an OpenCart coding error because if I manually insert products from the interface with a \" it works fine. The error must lie within my query.</p>\n\n<p>If there is a problem with my query, is there a query where I can update all the products rather than re-insert them?</p>\n"},{"tags":["php","javascript","random"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":64,"score":-1,"question_id":13264821,"title":"PHP return \"Array\" instead of Array data","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4287654/php-pass-array-to-javascript\">Php pass array to Javascript</a><br>\n  <a href=\"http://stackoverflow.com/questions/6502107/how-to-pass-php-array-parameter-to-javascript-function\">How to pass PHP array parameter to Javascript Function?</a>  </p>\n</blockquote>\n\n\n\n<p>So I'm trying to pull an individual element at random from an array consisting of data pulled from a database. This is a simplified version of the php code.</p>\n\n<pre><code>        function getID() {\n                $result = array('1','2','3','4');\n\n                $id = $result[array_rand($result)];\n                return $id;\n        }\n</code></pre>\n\n<p>From here, I'm defining a JavaScript variable using the returned ID.</p>\n\n<p>Here's the weird thing, when I define the JS variable using the passed return $id, the javascript variable is defined as = \"Array\" instead of the $id data.</p>\n\n<p>IF I change the php code to this:</p>\n\n<pre><code>        function getID() {\n                $result = array('1','2','3','4');\n\n                $id = array_rand($result);\n                return $id;\n        }\n</code></pre>\n\n<p>The javascript variable is defined as the $id, which is the array key, not the array data.</p>\n\n<p>So I tried changing the php code to this:</p>\n\n<pre><code>        function getID() {\n                $result = array('1','2','3','4');\n\n                return $result[0];\n        }\n</code></pre>\n\n<p>But the javascript gets defined as \"Array\" again.</p>\n\n<p>It's as if the php won't take an array marker.</p>\n\n<p>Any ideas here are welcome.</p>\n"},{"tags":["php","web","web-crawler"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13249754,"title":"web crawler: fetch only useful html content to speed up fetching in php","body":"<p>I am designing a web crawler to fetch a list of products from a site. I have tried <strong>simple HTML DOM parser</strong> and <strong>file_get_contents()</strong> to fetch HTML and parse it. But it is taking too much time to fetch the HTML content. Also a lots of parsing overhead as it is a huge size page. I am looking for a way if possible to fetch only required HTML content to speed up fetching. like.. using offset and maxlen parameters in file_get_contents(). but Seeking (offset) is not supported with remote files.</p>\n\n<pre><code> string file_get_contents ( string $filename,false, 9000, 5000)\n</code></pre>\n\n<p>Does there any other way to do this? </p>\n"},{"tags":["php","curl","dns","libcurl"],"answer_count":7,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":2605,"score":11,"question_id":2177274,"title":"How do I CURL www.google.com - it keeps redirecting me to .co.uk","body":"<p>I am using CURL to check for the existence of a URL (HEAD request) but when I test it with <code>www.google.com</code>, it redirects me to <code>www.google.co.uk</code> - probably because my server is UK-based.</p>\n\n<p>Is there a way you can stop this from happening?  I don't want to remove the <code>CURLOPT_FOLLOWLOCATION</code> option as this is useful for 301 redirects etc.</p>\n\n<p>Part of my code is below;</p>\n\n<pre><code>$ch = curl_init();\n\n    // set URL and other appropriate options\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);\n    curl_setopt($ch, CURLOPT_MAXREDIRS, 5);\n    curl_setopt($ch, CURLOPT_NOBODY, true);\n    curl_setopt($ch, CURLOPT_AUTOREFERER, true);\n    curl_setopt($ch, CURLOPT_FORBID_REUSE, true);\n    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 4);\n    curl_setopt($ch, CURLOPT_TIMEOUT, 4);\n\n    $output = curl_exec($ch);\n\n    // get data     \n$data = curl_getinfo($ch);\n</code></pre>\n\n<p><code>$data['url']</code> contains <code>www.google.co.uk</code> when I set <code>$url</code> as <code>www.google.com</code></p>\n"},{"tags":["php","replace","domdocument"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13266164,"title":"How to replace a node with a string using DOMDocument","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3388836/php-how-to-replace-a-phrase-with-another\">PHP - How to replace a phrase with another?</a>  </p>\n</blockquote>\n\n\n\n<p>I need to transform this piece of html</p>\n\n<pre><code>&lt;html&gt;\n   &lt;body&gt;\n      Lorum ipsum &lt;a href=\"http://google.com\"&gt;click here&lt;/a&gt; dolores lorem.\n      Lorum ipsum &lt;a href=\"http://stackoverflow.com\"&gt;click here too&lt;/a&gt; dolores lorem.\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n       Lorum ipsum @@1@@ dolores lorem.\n       Lorum ipsum @@2@@ dolores lorem.\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>How can this be achieved using Domdocument (I'm not interested in een regex solution)?</p>\n"},{"tags":["php","javascript","jquery","wordpress","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13266779,"title":"Control what addthis shares","body":"<p>iÂ´m working on a wordpress template.</p>\n\n<p>I have this markup for the sharer:</p>\n\n<pre><code>        &lt;div class=\"addthis_toolbox addthis_default_style addthis_32x32_style\"\"&gt;\n            &lt;a class=\"addthis_button_facebook\" style=\"cursor:pointer\"&gt;&lt;/a&gt;\n            &lt;a class=\"addthis_button_twitter\" style=\"cursor:pointer\"&gt;&lt;/a&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>The problem is that when I click to share on facebook it displays this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/UACfb.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, the title, url and image itÂ´s ok, but it also shows the content in a weird way... is it possible to delete it or modify to share it in clean way?</p>\n"},{"tags":["php","image","image-processing","imagemagick","gd"],"answer_count":3,"favorite_count":8,"up_vote_count":31,"down_vote_count":2,"view_count":8203,"score":29,"question_id":5282072,"title":"GD vs ImageMagick vs Gmagick for jpg?","body":"<p>I am in the step to abandon GD for manipulating image in my website, they <em>just sux</em>.</p>\n\n<p>Everyone saying to use ImageMagick because they are better than GD, but what about ImageMagick vs Gmagick (<em>Swiss Army knife of image processing</em>)? </p>\n\n<p>Zend has a pretty article here <a href=\"http://devzone.zend.com/article/10531\" rel=\"nofollow\">http://devzone.zend.com/article/10531</a> talking about them.</p>\n\n<p>Before I will leave for ImageMagick are there any motivation to use gmagick instead?</p>\n\n<p>(PHP 5.3+)</p>\n\n<p>Edit: What's wrong with asking which is better between 2 libs? I think it's a fair question. If someone could explain the good-point of one lib over the other would help me and other poeple reading this question. Why close such a question??</p>\n\n<p>Edit2: For everyone asking what I need to do: I think it's oblivious: users uploads images (than can be png/gif/bmp w/e) I need to convert in JPG and then store it in the database, eventually if they are too big i need to resize down them a bit.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","api","magento","xml-rpc","magento-1.7"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13266600,"title":"how to create configurable associated products in magento using API?","body":"<p>I am creating 2 configurable products and 10 simple products in <code>Magento</code> using API. I have assigned size and colors value in simple products and it's working fine. Now how do I assign specific attribute to configurable product? and same like that I want to assign simple product to configurable product. Does anyone know how we can add simple product to configurable product? I have already tried this:</p>\n\n<p><a href=\"http://www.magentocommerce.com/api/soap/catalog/catalogProductLink/catalog_product_link.assign.html\" rel=\"nofollow\">http://www.magentocommerce.com/api/soap/catalog/catalogProductLink/catalog_product_link.assign.html</a></p>\n\n<p>but it's not working to assign simple products to configurable product with attribute.\nI know which tables contains configurable attribute. </p>\n\n<pre><code>catalog_product_super_attribute\ncatalog_product_super_attribute_label\n</code></pre>\n\n<p>I am able to modify existing API but I don't know which table contains configurable and simple products mapping.</p>\n"},{"tags":["php","javascript"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13266612,"title":"Get Country, GMT, City by IP address using PHP","body":"<p>I have tried to get the <strong>Country</strong>, <strong>City</strong>, and <strong>GMT</strong> using <code>js</code> by set it to cookies, and then I fetch it with <code>PHP</code> to save into <code>Database</code>.\nBut the method I used, is does not work sometimes,\nSo, is there anyway to get them by using PHP alone?\nor is there another way by using JS?</p>\n\n<p>I using this <code>js</code> provided by <strong>maxmind</strong></p>\n\n<pre><code>&lt;script language=\"JavaScript\" src=\"http://j.maxmind.com/app/geoip.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>But I often fail to save the data.</p>\n"},{"tags":["php","email","cakephp","cakephp-1.2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13266631,"title":"EmailComponent used outside of CakePHP 1.2 (SOAP request), doesn't load correct configuration","body":"<p>I have a SOAP server (Nusoap), which when called registers and calls a function (<code>register_donation()</code>) independently of cakePHP.  </p>\n\n<p><code>register_donation()</code> saves all the details and sends out an email. Currently the <code>EmailComponent</code> cannot locate the correct <code>layout</code> &amp; <code>template</code> (Because this class is being called outside of CakePHP).</p>\n\n<p>I am using the following code (as suggested on a number of other SO posts):</p>\n\n<pre><code>// Import our stuff\nApp::import('Core', 'Controller');\nApp::import('Component', 'Email');\n\n// Initialize the imports - This is where something is wrong!\n// It doesn't load my template &amp; layout\n$this-&gt;Controller =&amp; new Controller();\n$this-&gt;Email =&amp; new EmailComponent(null);\n$this-&gt;Email-&gt;initialize($this-&gt;Controller);\n\n// setup everything else\n$this-&gt;Email-&gt;from = $from;\n$this-&gt;Email-&gt;to = $to;\n$this-&gt;Email-&gt;replyTo = $replyTo;\n$this-&gt;Email-&gt;subject = $subject;\n\n// it doesnt use these, if I omit these, it defaults to the cakephp template\n// 'This email was sent using the cakePHP framework'\n$this-&gt;Email-&gt;layout = 'app/views/elements/email/html/';\n$this-&gt;Email-&gt;template = 'donation/donor'; # problem, doesnt load donation/donor\n\n$this-&gt;Email-&gt;sendAs = 'both';\n\n$sent = $this-&gt;Email-&gt;send();\n\nif($sent)\n    $this-&gt;log('Email was sent!: '.$sent, 'donation');\n</code></pre>\n\n<p>I am using <code>cakePHP 1.2</code>, I cannot use the new <code>CakeEmail</code> class. (I am not in the position to update right now).</p>\n\n<p><strong>So basically</strong>, I am using the <code>EmailComponent</code> outside of PHP, it doesn't load the correct <code>layout</code> and <code>template</code>. Depending on how I code it, I get the following results:</p>\n\n<ol>\n<li>Sends the default cakePHP template.   <code>or</code></li>\n<li>Doesnt send a email (fails at <code>$this-&gt;Email-&gt;send()</code>).</li>\n</ol>\n\n<p>How can I initialise this <code>EmailComponent</code> properly to send emails using my cakePHP settings (I also need to use the <code>$this-&gt;set('variable', '$used_in_view')</code>, So I can pass variables to the Email template (as I normally do)?  </p>\n\n<p>This answer kind of explains my situation: <a href=\"http://stackoverflow.com/a/1629049/711308\">http://stackoverflow.com/a/1629049/711308</a></p>\n"},{"tags":["php","drupal","internationalization","drupal-7"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":978,"score":0,"question_id":7646068,"title":"Drupal 7 get localized taxonomy data in custom php code","body":"<p>I'm working on a drupal site, and I need to have an information page for taxonomy data.</p>\n\n<p>The taxonomy data has some extra fields that are displayed, including a custom link.</p>\n\n<p>The default taxonomy page does not allow a custom link, and it will show the content assiociated to the term, I don't want that.</p>\n\n<p>I made a module that outputs a block, and I'm basicly using this code </p>\n\n<pre><code>$term = taxonomy_term_load($termId);\n</code></pre>\n\n<p>This works fine, but I can't get the translated version of the taxonomy! I'm using the i18n module.</p>\n\n<p>How can I get the localized version of the taxonomy? </p>\n\n<p>Thanks in advance,</p>\n\n<p>Jorik</p>\n"},{"tags":["php","json","web-services","curl","callback"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13261929,"title":"How do I call a JSON web service from PHP with parameters and callback?","body":"<p>I call a webservice from a JQuery $.getJSON function, it works fine.</p>\n\n<pre><code>    var p = {\n       'field1': 'value1',\n       'field2': 'value2',\n       'field3': 'value3'\n    };\n\n    $.getJSON('https://service:xxx@xxx.xxx.yyyyy.com.xx/service/search?callback=?', p, function(data) {\n    if (data[0]) {      \n        // print results\n    } else  {\n        // no results found\n    }\n});\n</code></pre>\n\n<p>I am trying to connect from PHP and CURL, however it does not work, it always return false.</p>\n\n<p>//FIRST TRY</p>\n\n<pre><code>$params = array(  'field1' =&gt; 'value1',  'field2' =&gt; 'value2', 'field3'=&gt; 'value3');\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_URL, 'https://service:xxx@xxx.xxx.yyyyy.com.xx/service/search?callback=?');\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $params);\n$result = curl_exec($ch); // return false instead of my JSON\n</code></pre>\n\n<p>// SECOND TRY</p>\n\n<pre><code>    $data_string = json_encode($params);                                                                                   \n    $ch = curl_init('https://https://service:xxx@xxx.xxx.yyyyy.com.xx/service/search?callback=?');                                                                      \n    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, \"POST\");                                                                     \n    curl_setopt($ch, CURLOPT_POSTFIELDS, $data_string);                                                                  \n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);                                                                      \n    curl_setopt($ch, CURLOPT_HTTPHEADER, array(                                                                          \n    'Content-Type: application/json',                                                                                \n    'Content-Length: ' . strlen($data_string))                                                                       \n);                                                                                                                   \n\n    $result2 = curl_exec($ch); //return false instead of my JSON\n</code></pre>\n\n<p>What I am doing wrong? </p>\n\n<p>many thanks,</p>\n"},{"tags":["php","http","https"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":451,"score":0,"question_id":7334491,"title":"Check whether the URL scheme is HTTP or HTTPS","body":"<p>I'm using the following code to add <code>http://</code> to the URL.</p>\n\n<pre><code>(substr(strtolower($url), 0, 7) == 'http://'?\"\":\"http://\").$url\n</code></pre>\n\n<p>but how can I check whether the original URL contains <code>https</code>? I don't want to use an <em>OR</em> clause.</p>\n"},{"tags":["php","pdf"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":8428,"score":3,"question_id":2025586,"title":"How to make PDF viewer in PHP","body":"<p>I want to open PDF file with PHP. Don't want to use Flash. Like google doc viewer. I just want to open PDF file. Can I do with PHP ?</p>\n"},{"tags":["php","drupal","drupal-views"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13264224,"title":"Drupal Image as image with link to a node","body":"<p>OK<br />\nI've actually spent 3 hours searching for how should I get images correctly on my drupal site so please don't get annoyed with this easy question. (sob...)<br />\nI want to upload an image to my front page as a button for redirecting to login page.<br />\nHow CAN I achieve this?????<br />I mean how should I store image as in Drupal and how can I get it in the position I want on the page???<br />\nI tried creating a content type called image and then created a View of block type but it doesn't seems correct to me.<br />\nWhat is the correct set of steps for storing and handling images in drupal??</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","jquery","html","css"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13266441,"title":"jQuery dynamic class add","body":"<p>in my website there is a jQuery function for rotating images, i want to add a my own class in to its for some customization the actual code is  </p>\n\n<pre><code>c.append(\"&lt;ul class=\"+b.paginationClass+\"&gt;&lt;/ul&gt;\")\n</code></pre>\n\n<p>I want to add/append  a class \"<strong>test</strong>\" into it  like the following </p>\n\n<pre><code>c.append(\"&lt;ul class=\"+b.paginationClass+\" test\"+\"&gt;&lt;/ul&gt;\")\n</code></pre>\n\n<p>i put a space because want a space after   paginationClass class, but i got result is </p>\n\n<pre><code>&lt;ul class=\"pagination\" test=\"\" &gt;\n</code></pre>\n\n<p>i expect <code>&lt;ul class=\"pagination test\" &gt;</code> like this Please help </p>\n"},{"tags":["php","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":1,"view_count":51,"score":4,"question_id":13266372,"title":"I'd like to use Perl regular expression in PHP","body":"<p>I wanto use perl reqexp in PHP.</p>\n\n<p>For example, </p>\n\n<p>Perl:</p>\n\n<pre><code>$url =~ qr{https?://([^\\/\\?&amp;:#]+\\.)?example.com};\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>preg_match(\"/https?:\\/\\/([^\\/\\?&amp;:#]+\\.)?example\\.com/\", $url);\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":38,"score":-2,"question_id":13266487,"title":"PHP-@ in while(@$rows = mysql_fetch_array($result))","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3737139/reference-what-does-this-symbol-mean-in-php\">Reference - What does this symbol mean in PHP?</a>  </p>\n</blockquote>\n\n\n\n<p>I have some php code like </p>\n\n<pre><code>$query=\"SELECT RollNo,Name FROM student\" ;\n$result = $mysql-&gt;execute_sql_query($query);\nwhile(@$rows = mysql_fetch_array($result))\n{\n        $studentArray[] = array(\"rollNo\" =&gt; $rows['RollNo'], \"name\" =&gt; $rows['Name']);      \n }\n</code></pre>\n\n<p>My doubt is why use @ in the line</p>\n\n<p>while(@$rows = mysql_fetch_array($result)) </p>\n"},{"tags":["php","oracle","oracle11g","oci"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13266028,"title":"MERGE INTO doesn't work in PHP?","body":"<p>My <code>MERGE INTO</code> statement works in SQL using SQL Developer:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>MERGE INTO EMAIL_LIST d USING (SELECT 'stackoverflowuser95@gmail.com' EMAIL FROM DUAL) s ON (d.EMAIL = s.EMAIL) WHEN NOT MATCHED THEN INSERT (EMAIL) VALUES (s.EMAIL);\n</code></pre>\n\n<p>But doesn't work when attempted in PHP:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$update_or_insert_list = oci_parse($conn,\n                                   \"MERGE INTO EMAIL_LIST d USING (SELECT :email EMAIL FROM DUAL) s ON (d.EMAIL = s.EMAIL) WHEN NOT MATCHED THEN INSERT (EMAIL) VALUES (s.EMAIL);\"\n); // Also tried with ':email' and/or with ; inside the SQL statement\n\noci_bind_by_name($update_or_insert_list, ':email', $email);\n\noci_execute($update_or_insert_list);\n</code></pre>\n\n<p>Here is the table:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE EMAIL_LIST ( \n    EMAIL VARCHAR2 (100)  NOT NULL\n);\nALTER TABLE EMAIL_LIST\n    ADD CONSTRAINT PK_EMAIL_LIST PRIMARY KEY ( EMAIL ) ;\n\n-- And yes, this is a test-case!\n</code></pre>\n\n<h3>How do I get MERGE INTO working in PHP?</h3>\n"},{"tags":["php","mysql","phpmyadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":29,"score":3,"question_id":13265104,"title":"phpmyadmin cannot Export procedure","body":"<p>When I export MySQL database using phpMyAdmin its exports all the table data perfectly but does not export <code>PROCEDURES</code> properly. What I get is:</p>\n\n<pre><code>DELIMITER $$\n--\n-- Procedures\n--\nDROP PROCEDURE IF EXISTS `sp_users_get`$$\n$$\n\nDROP PROCEDURE IF EXISTS `sp_users_save`$$\n$$\n</code></pre>\n\n<p>It should be more code like </p>\n\n<pre><code>CREATE PROCEDURE `sp_user_get`......\n</code></pre>\n\n<p>till the procedure ends.</p>\n\n<p>Can anyone help me to successfully export database from phpMyAdmin?</p>\n"},{"tags":["php","javascript","jquery","ajax","colorbox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13058797,"title":"ajax in colorbox and array of html","body":"<p>I'm trying to force colorbox to work with array of htmls given by ajax response, but still it does not work. </p>\n\n<p>javascript code: </p>\n\n<pre><code>$.post($('#createForm').attr('action'),{\n        'id' : 1\n    },function(data){\n        var $trash = $('&lt;div&gt;').hide().appendTo('body');\n\n        $.each(data, function(i){\n            $(data[i]).appendTo($trash);\n            alert(data[i]);\n        });\n\n        $trash.find('div').colorbox({rel:'mygroup', open:true});\n    }, 'json');\n</code></pre>\n\n<p>php code:</p>\n\n<pre><code>    $content = '&lt;div class=\"page\" rel=\"mygroup\"&gt;&lt;p class=\"kkk\"&gt;item1&lt;/p&gt;&lt;/div&gt;';\n    $content2 = '&lt;div class=\"page\" rel=\"mygroup\"&gt;&lt;p class=\"kkk\"&gt;item2&lt;/p&gt;&lt;/div&gt;';\n    $return = json_encode(array($content, $content2));\n    return new Response($return);\n</code></pre>\n\n<p>response is correct, becouse alerts work correct. I need to present a html document consisting of multiple pages.</p>\n\n<p>I will be grateful for any help</p>\n"},{"tags":["php","api","zend-framework","youtube","zend-gdata"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2393,"score":4,"question_id":4653894,"title":"Get Youtube VideoID details in array","body":"<p>I've been struggling with this for hours and i have no idea why is not working.\nI need to get Details from a VideoID using YouTube API and Zend, so i created a function like this</p>\n\n<pre><code>function listYoutubeVideo($id) {\n$videos = array();\n\ntry {   \n    $yt = new Zend_Gdata_YouTube();\n\n\n    $videoFeed = $yt-&gt;getVideoEntry($id);\n    foreach ($videoFeed as $videoEntry) {\n        $videoThumbnails = $videoEntry-&gt;getVideoThumbnails();\n        $videos[] = array(\n            'thumbnail' =&gt; $videoThumbnails[0]['url'],\n            'title' =&gt; $videoEntry-&gt;getVideoTitle(),\n            'description' =&gt; $videoEntry-&gt;getVideoDescription(),\n            'tags' =&gt; implode(', ', $videoEntry-&gt;getVideoTags()),\n            'url' =&gt; $videoEntry-&gt;getVideoWatchPageUrl(),\n            'flash' =&gt; $videoEntry-&gt;getFlashPlayerUrl(),\n            'dura' =&gt; $videoEntry-&gt;getVideoDuration(),\n            'id' =&gt; $videoEntry-&gt;getVideoId()\n        );\n    }\n} catch (Exception $e) {\n}\n\nreturn $videos;\n}\n</code></pre>\n\n<p>The reason im doing it with an array and a function is because i wanna cache the function.</p>\n\n<p>I have no idea what is wrong with the code, i use exactly the same one just changing getVideoEntry for other types of feeds and it works.</p>\n"},{"tags":["php","python","json","post","http-post"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13265726,"title":"Pass data Python to PHP via JSON","body":"<p>the scope of my project is to pass certain values from a python script to a remote php script.</p>\n\n<p>i've a python script that generate an associatve array. For example (already JSON encoded):</p>\n\n<pre><code>{\"FRONT\": \"19.50\", \"RACK\": \"17.63\", \"REAR\": \"21.06\", \"ROOM\": \"15.6\"}\n</code></pre>\n\n<p>I need to pass this associative array to a remote PHP script i followed this tutorial:\n<a href=\"http://nonstopblah.wordpress.com/2010/07/13/python-to-php-via-json/\" rel=\"nofollow\">http://nonstopblah.wordpress.com/2010/07/13/python-to-php-via-json/</a></p>\n\n<p>I get 200 for HTTP Response but in the php script the POST variable seems to be empty</p>\n\n<p>Here my code:</p>\n\n<pre><code>bulkData = json.dumps(temp, ensure_ascii = 'False')\n# ensure_ascii is false as data is in unicode and not ascii encoding , use this if data is in any other encoding\nprint bulkData\n\nprint '\\nHTTP Response'\n\nheaders = { \"charset\":\"utf-8\",\n\"Accept\": \"text/plain\"}\nconn = httplib.HTTPConnection(report_host)\npostData = urllib.urlencode({'results':bulkData})\nconn.request(\"POST\", report_path, postData,headers)\nresponse = conn.getresponse()\ntext = response.read()\nprint \"Response status: \",response.status,\"\\n\",text\nconn.close()\n</code></pre>\n\n<p>this is the PHP script:</p>\n\n<pre><code>if( isset($_POST['results']) )\n{\n    $data = json_decode($_POST['results']);\n\n    print_r($data);\n}\nelse\n{\n    echo 'Nothing to listen.';\n    print_r($_POST);\n}\n</code></pre>\n\n<p>and this is the output of my python script (with the remote response):</p>\n\n<pre><code>{\"FRONT\": \"20.44\", \"RACK\": \"18.88\", \"REAR\": \"21.25\", \"ROOM\": \"17.7\"}\n\nHTTP Response\nResponse status:  200 \nNothing to listen.Array\n(\n)\n</code></pre>\n\n<p>is there a smarter way to do it? What am i missing here?</p>\n\n<p>Thank you in advance for your kind answers.</p>\n"},{"tags":["php","mysql","sql","pdo","mysqli"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13263094,"title":"MYSQL select field1, field2 only where field1 or field2 does not equal text","body":"<p>I have the following 2 SQL syntax that I'm looking to combine into 1 SQL syntax</p>\n\n<pre><code>SELECT sentFrom \nFROM tableName \nWHERE id = :varid \nAND sentFrom != :vartext\n\nSELECT sentTo \nFROM tableName \nWHERE id = :varid \nAND sentTo != :vartext\n</code></pre>\n\n<p>I guess I should give an example:</p>\n\n<p>MYSQL TABLE</p>\n\n<pre><code>-----------------------------------\nsentFrom          sentTo\n1                 2\n1                 3\n2                 1\n2                 3\n</code></pre>\n\n<p>query </p>\n\n<pre><code>select sentFrom where sentFrom != 1 and select sentTo where sentTo != 1\n</code></pre>\n\n<p>Returns:</p>\n\n<p>sentTo 2 but not sentFrom 1</p>\n\n<p>sentTo 3 but not sentFrom 1</p>\n\n<p>sentFrom 2 but not sentTo 1</p>\n\n<p>sentFrom 2 and sentTo 3</p>\n"},{"tags":["php","call","overloading"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13265944,"title":"php overload _call doesn't trigger","body":"<p>I'm just new in PHP and using PHP 5.3.13, I'm struggle with overload in php. </p>\n\n<p>I write tiny code to verify <code>_call</code> is triggered but it simply doesn't work. </p>\n\n<p>Anyone have any idea?</p>\n\n<pre><code>        class Foo{\n            function _call($methodName, $argument){\n                echo \"_call()\";\n            }\n        }\n\n        $foo = new Foo;\n        $foo-&gt;runtest();\n</code></pre>\n\n<blockquote>\n  <p>Error: Fatal error: Call to undefined method Foo::runtest() in</p>\n  \n  <p>C:\\wamp\\www\\tutorial\\part2\\testfunctions.php on line 77</p>\n</blockquote>\n\n<p>Thanks u very much</p>\n"},{"tags":["php","javascript","textfield"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13265359,"title":"PHP populated text field is not changed by JavaScript","body":"<p>I have a text input field, which is populated by PHP at page load.</p>\n\n<pre><code>&lt;?php\n$product_price = 10000;\n?&gt;\n\n&lt;input type='text' name='product_price' value='&lt;?=$product_price?&gt;' &gt;\n</code></pre>\n\n<p>I have some JavaScript code that checks if the product price is less than 12000. If it is, I will make an alert.</p>\n\n<pre><code>if(product_price &lt;= 12000){\n    alert(\"product price must be above 12000\");\n}\n</code></pre>\n\n<p>The alert is working fine, but the problem is if I change the value of the input field product_price to 50000, it is still prompting me to that \"product price must be above 12000\"</p>\n\n<p>Why the JS is not able to take the value I entered into the field?\nWhy the PHP populated value is not changing?</p>\n"},{"tags":["php","api","rest","sms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":488,"score":0,"question_id":1346959,"title":"use off sms gateway third party api","body":"<p>I have a question about the use off the http api from the company clickatell.</p>\n\n<p>They actually have several api that you can use, amongst are xml and smtp also.</p>\n\n<p>Does anyone have any experience with those, especially with the http api.</p>\n\n<p>For the http api:</p>\n\n<p>Does this php code actually doing the work in the background?</p>\n\n<p>This line <strong>$ret = file($url);</strong> -\nI am sorry, I haven't setup anything yet to test it. I am just trying to find out wich api I can start testing with -.</p>\n\n<p>Also, is there a performance difference between using smtp api and http api?</p>\n\n<pre><code>// SMS gateway script\n    $user = \"XXXX\";\n    $password = \"XXXXXX\";\n    $api_id = \"XXXXXX\";\n    $baseurl =\"http://api.clickatell.com\";\n    $text = urlencode(\"HTTP://WWW.TIMES.COM/DOWNLOADS/SUGRAFREE.SISX\");\n    $to = $_POST[\"phone number\"];\n // auth call\n    $url = \"$baseurl/http/auth?user=$user&amp;password=$password&amp;api_id=$api_id\";\n    // do auth call\n    $ret = file($url);\n    // split our response. return string is on first line of the data returned\n    $sess = split(\":\",$ret[0]);\n    if ($sess[0] == \"OK\") {\n    $sess_id = trim($sess[1]); // remove any whitespace\n    $url = \"$baseurl/http/sendmsg?session_id=$sess_id&amp;to=$to&amp;text=$text\";\n    // do sendmsg call\n    $ret = file($url);\n    $send = split(\":\",$ret[0]);\n    if ($send[0] == \"ID\")\n    echo \"An Email with account details and SMS has been sent..\n</code></pre>\n\n<p>thanks, Richard</p>\n"},{"tags":["php","loops","while-loop"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13265950,"title":"PHP grouping items in a loop","body":"<p>In a loop, I want to wrap first 5 items in a <code>li</code>, and after that every 6 items in a <code>li</code>. I'm trying following code, but it is not working properly, it wraps first 5 items in a <code>li</code>, and after that it wraps only every sixth item in the li, but 7th - 12th without li.</p>\n\n<pre><code>$i = 0;\nwhile ($i &lt; 19){\n    $i++;\n    if($i == 1 ){ echo '&lt;li&gt;'; }\n    if (($i &gt; 5) AND ( $i % 6 == 0)){echo \"&lt;li&gt;\";}\n    echo \"&lt;div&gt;item \" . $i . \"&lt;/div&gt;\"; \n    if( $i == 5 ){ echo '&lt;/li&gt;'; }\n    if(($i &gt; 5) AND ( $i % 6 == 0)) { echo \"&lt;/li&gt;\"; }\n}\nif ($i &lt; 5 ) { echo \"&lt;/li&gt;\"; }\nif (($i &gt; 5) AND ($i % 6 != 0)) { echo \"&lt;/li&gt;\"; }\n</code></pre>\n"},{"tags":["php","apache"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13266023,"title":"setting the document root in the apache","body":"<p>I have php(wamp) installed in 'E' drive. Actually, my project in the 'F:' drive.</p>\n\n<p>How do i set the document root in apache httpd.conf file to access the project in F: drive.</p>\n\n<p>For example, if i enter \"http://127.0.0.1/projectname\", it should point to the 'F' drive project.</p>\n"},{"tags":["php","arrays","string","properties","concatenation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":9616822,"title":"PHP error, concatenation in array() in member initialiser","body":"<p>I'm getting an error with the following code:</p>\n\n<pre><code>public $arr = array('email' =&gt; 'admin@' . str_replace('http://', '', SERVER_ROOT));\n\nParse error: syntax error, unexpected '.', expecting ')' \n</code></pre>\n\n<p>Am I being really stupid? Surely I can concatenate strings here? </p>\n\n<p>This is a variable declared in a class.</p>\n"},{"tags":["php","properties"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":35,"score":0,"question_id":13265670,"title":"PHP4 variables: concatenate array in declaration","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/9616822/php-error-concatenation-in-array-in-member-initialiser\">PHP error, concatenation in array() in member initialiser</a>  </p>\n</blockquote>\n\n\n\n<p>I have this sort of code:</p>\n\n<pre><code>var $compSQL = array(\n        '0' =&gt; \"#FIELD# LIKE '%#VALUE#%'\",\n        '1' =&gt; \"#FIELD# NOT LIKE '%#VALUE#%'\",\n        '2' =&gt; \"#FIELD# LIKE '#VALUE#%'\",\n        '3' =&gt; \"#FIELD# NOT LIKE '#VALUE#%'\",\n        '4' =&gt; \"#FIELD# LIKE '%#VALUE#'\",\n        '5' =&gt; \"#FIELD# NOT LIKE '%#VALUE#'\",\n        '6' =&gt; \"#FIELD# = '#VALUE#'\",\n        '7' =&gt; \"#FIELD# != '#VALUE#'\"\n);\n</code></pre>\n\n<p>and I need to change the values of the string with some concatenation operation, sorta like this:</p>\n\n<pre><code>var $compSQL = array(\n        '0' =&gt; \"#FIELD# LIKE \".$somevalue,\n        ...\n);\n</code></pre>\n\n<p>But that is not allowed. How should I do it?</p>\n"},{"tags":["php","mysql","sql","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":55,"score":-4,"question_id":13262882,"title":"How to display incorrect answers in example below","body":"<p>Below I have 4 database tables, Session, Question, Answer and Option_Type.</p>\n\n<p><strong>Session Table:</strong></p>\n\n<pre><code>SessionId  SessionName\n1          AAA\n</code></pre>\n\n<p><strong>Question Table:</strong></p>\n\n<pre><code>SessionId   QuestionId  QuestionContent       OptionId\n1           1           What is 1+1 and 4+4   2\n1           2           Does 2+2 = 4          26\n1           3           What is 3+3 and 5+5   3\n</code></pre>\n\n<p><strong>Answer Table:</strong></p>\n\n<pre><code>AnswerId  SessionId QuestionId  Answer\n1         1         1           B\n2         1         1           C\n3         1         2           Yes\n4         1         3           A\n5         1         3           C\n</code></pre>\n\n<p><strong>Option_Type</strong></p>\n\n<pre><code>OptionId OptionType\n1        A-C\n2        A-D\n3        A-E\n4        A-F\n\n.... goes up to 24 where it goes up to A-Z\n\n25       True or False\n26       Yes or No\n</code></pre>\n\n<p>Now in a jsfiddle here I have created a demo html table which you can see <a href=\"http://jsfiddle.net/WHUkh/6/\" rel=\"nofollow\">here</a></p>\n\n<p>Now if you have a good look at the html table, you will realise that what I am trying to do is display the incorrect answers under the \"Incorrect Answer\" column.</p>\n\n<p>So what I want to do is that for example for Question 1, if you look in the database table, the \"OptionId\" for Question 1 is 2, which means if you look up \"OptionId\" under the \"Option_Type\" table that \"OptionType\" for this OptionId is \"A-D\". So the options are \"A\", \"B\", \"C\" and \"D\". The answers for Question 1 are \"B\" and \"C\". So I don't want to display these answers in the table as they are correct but I want to display the other options \"A\" and \"D\" as that they are incorrect.</p>\n\n<p>Does this make sense? My question is virtually how can I not show the correct answers under the \"Incorrect Answer\" column but instead show the other options under this column per question in the code below:</p>\n\n<pre><code>   $query = \"SELECT q.SessionId, s.SessionName, q.QuestionId, q.QuestionContent, an.Answer, q.QuestionMarks \n   FROM Session s \n   INNER JOIN Question q ON s.SessionId = q.SessionId\n   JOIN Answer an ON q.QuestionId = an.QuestionId AND an.SessionId = q.SessionId\n   WHERE s.SessionName = ?\n   ORDER BY q.QuestionId, an.Answer\n   \";\n\n   // prepare query\n   $stmt=$mysqli-&gt;prepare($query);\n   // You only need to call bind_param once\n   $stmt-&gt;bind_param(\"s\", $assessment);\n   // execute query\n   $stmt-&gt;execute(); \n\n\n       // This will hold the search results\n    $searchQuestionId = array();\n    $searchQuestionContent = array();\n    $searchAnswer = array();\n    $searchMarks = array();\n\n    // Fetch the results into an array\n\n   // get result and assign variables (prefix with db)\n   $stmt-&gt;bind_result($dbSessionId, $dbSessionName, $dbQuestionId, $dbQuestionContent, $dbAnswer, $dbQuestionMarks);\n      while ($stmt-&gt;fetch()) {\n        $searchQuestionId[] = $dbQuestionId;\n        $searchQuestionContent[] = $dbQuestionContent;\n        $searchAnswer[] = $dbAnswer;\n        $searchMarks[] = $dbQuestionMarks;\n      } \n\n?&gt;      \n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form id=\"QandA\" action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\"&gt;\n\n&lt;?php \n\necho \"&lt;table border='1' id='markstbl'&gt;\n      &lt;tr&gt;\n      &lt;th class='questionth'&gt;Question No.&lt;/th&gt;\n      &lt;th class='questionth'&gt;Question&lt;/th&gt;\n      &lt;th class='answerth'&gt;Incorrect Answer&lt;/th&gt;\n      &lt;th class='answermarksth'&gt;Penalty per Incorrect Answer&lt;/th&gt;\n      &lt;/tr&gt;\\n\";\n$previous_question_id = null;\n$rowspans = array_count_values($searchQuestionId);\nforeach ($searchQuestionContent as $key=&gt;$question) {\n\n    // removed logic, not necessary to set empty strings if you're skipping them\n\n    echo '&lt;tr class=\"questiontd\"&gt;'.PHP_EOL;\n\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        echo '&lt;td class=\"questionnumtd\" name=\"numQuestion\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($searchQuestionId[$key]).'&lt;/td&gt;' . PHP_EOL;\n        echo '&lt;td class=\"questioncontenttd\" rowspan=\"'.$rowspans[$searchQuestionId[$key]].'\"&gt;'.htmlspecialchars($question).'&lt;/td&gt;' . PHP_EOL;\n    }\n\n    echo '&lt;td class=\"answertd\" name=\"answers[]\"&gt;';\n    echo $searchAnswer[$key];\n    echo '&lt;/td&gt;' ;\n    echo '&lt;td class=\"answermarkstd\"&gt;&lt;input class=\"individualMarks\" name=\"answerMarks[]\" id=\"individualtext\" type=\"text\" /&gt;&lt;/td&gt;' . PHP_EOL;\n\n    // moved this to the end\n    if ($previous_question_id != $searchQuestionId[$key]) {\n        $previous_question_id = $searchQuestionId[$key];\n    }\n}\n        echo '&lt;/tr&gt;';\n        echo \"&lt;/table&gt;\" . PHP_EOL;\n\n        ?&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>At the moment the code above is showing the correct answers under the \"Incorrect Answers\" column, not the incorrect answers.</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13265980,"title":"Compare results of different php versions online","body":"<p>There is a page where you can compare results of php code in different php versions but I just can't find it. Found it on Stackoverflow some time ago. It was nice because you did not select a version. It just runs the code in all versions and compares the output.</p>\n\n<p>Does someone know what page I am looking for?</p>\n"},{"tags":["php","get","sms","gateway"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":426,"score":0,"question_id":6640782,"title":"SMS Gateway and API in php","body":"<p>I'm trying to send user credentials via sms after registration.The gateway can be accessed using GET method via HTTP API.So I want to integrate it into my registration_process.php file so that as soon as the details are entered in db the sms should be delivered .</p>\n\n<p>The GET method is similar to</p>\n\n<pre><code>http://gatewayprovider?user=&lt;username&gt;&amp;password=&lt;password&gt;&amp;msg=&lt;$my msg&gt;&amp;no=&lt;$receiver no&gt;\n</code></pre>\n\n<p>So how can I call this url without any knowledge to the user. That is in a secure manner</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","gd","vector-graphics","imagick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13263323,"title":"Which is the best option to create vector images using php?","body":"<p>I am planning to make an online sticker design site for a company.That is the users can login to the site and enter the text for the sticker then change the font,color,shadow,outline color.</p>\n\n<p>I am using PHP's GD library for creating images.\nI am also using php's Imagick plugin to apply some text warp to the image.</p>\n\n<p>But the problem I am facing is what the images created from this method are low quality images.</p>\n\n<p><strong>I want to make such site like this:-\n<a href=\"http://www.speedysigns.com/tool/lt/index/index/product_id/31990/\" rel=\"nofollow\">http://www.speedysigns.com/tool/lt/index/index/product_id/31990/</a></strong></p>\n\n<p>I think that images created from this are vector images.</p>\n\n<p>I tried <strong>Imagick</strong> to create vector images.But I can't find a better tutorial to create vector images using Imagick.</p>\n\n<p>So can you please suggest which library I may use to create such high quality images.\nOtherwise suggest a good tutorial to use Imagick to create vector images.</p>\n\n<p>Thanks friends.\n By Sukesh B R</p>\n"},{"tags":["php","html","include","navigation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13265847,"title":"PHP 'include' Navigation automatically add '../' when used in subfolders","body":"<p>I have spent days searching the solution to this question and there have been many given already in the past years but I still can't get my head around it. I am a beginner in PHP so any help is appreciated.</p>\n\n<p>I am not sure if there's a common solution that will work with the WAMP localhost AND the online website at the same time.</p>\n\n<p>My <code>navMain.php</code> file is the <code>/includes</code> folder.</p>\n\n<p>Lets say I have <code>index.php</code> and <code>contact.php</code> in the root folder (<code>wamp/www/SITENAME/</code> on the PC and <code>httpdocs/</code> on the server). I also will have <code>books.php</code> in the <code>/media</code> folder.</p>\n\n<p>What code do I created in the <code>navMain.php</code> file so that when <code>index.php</code> reads it its resulting navigation links to <code>contact.php</code> as <code>&lt;a href=\"contact.php\"&gt;</code> but when <code>books.php</code> reads it it's <code>&lt;a href=\"../contact.php\"&gt;</code> or something more foolproof?</p>\n\n<p>I found solutions like <code>$path = $_SERVER['DOCUMENT_ROOT'];</code> but still not sure if that's meant for questions like mine and supposed to be put in the <code>navMain.php</code> file or if it's to properly link to the <code>navMain.php</code> file when used in the 'include' command in files like <code>index.php</code>.</p>\n\n<p>Also, when I tried the solutions I found, I don't know how to make it work well on the localhost AND/OR the web server.</p>\n"},{"tags":["php","vim","symfony2","twig"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":286,"score":2,"question_id":10464879,"title":"Symfony2 and Vim recommendations","body":"<p>I already work with Symfony2 and of course with vim but in different projects. I would like to know which plugins, tips, recommendations do you use in Vim for working with Symfony2?</p>\n\n<p>This also goes to Twig template, themes, debugging, etc.</p>\n"},{"tags":["php","mysql","database"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1743,"score":0,"question_id":2400126,"title":"Using PHP variable inside a query","body":"<p>I am using a query inside <a href=\"http://en.wikipedia.org/wiki/PHP\" rel=\"nofollow\">PHP</a> as:</p>\n\n<pre><code> $query =  'SELECT * from #__chronoforms_UploadAuthor where text_6 like \"%'.$_GET['title'].'%\" and text_7 like \"%'.$_GET['author'].'%\" limit 0,1';\n</code></pre>\n\n<p>Where I am trying to insert a PHP variable instead of 1 in the limit..</p>\n\n<pre><code>   $query =  'SELECT * from #__chronoforms_UploadAuthor where text_6 like \"%'.$_GET['title'].'%\" and text_7 like \"%'.$_GET['author'].'%\" limit 0,\"'.$_GET['limit'].'\"';\n</code></pre>\n\n<p>but it shows me an error. There are some errors in keeping <code>$_GET['limit']</code>.</p>\n"},{"tags":["php","xslt"],"answer_count":2,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":653,"score":4,"question_id":4662762,"title":"XSL: Get variable data without exslt:node-set","body":"<p>Using native XSL lib in PHP. Is it possible to get a node value inside a variable without having to call it through exslt:node-set every time.... it long and ugly. </p>\n\n<pre><code>&lt;xsl:variable name=\"mydata\"&gt;\n    &lt;foo&gt;1&lt;/foo&gt;\n    &lt;bar&gt;2&lt;/bar&gt;\n&lt;/xsl:variable&gt;\n\n\n&lt;!-- How currently being done --&gt;\n&lt;xsl:value-of select=\"exslt:node-set($mydata)/foo\" /&gt;\n\n\n&lt;!-- I want to be able to do this --&gt;\n&lt;xsl:value-of select=\"$mydata/foo\" /&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13265508,"title":"Xp and leveling system PHP MYSQL","body":"<p>Ive looked at all the question that have been asked and with the answer, but i cannot seem to find a answer that suits me the best. What im trying to do is work on making a system that when a user is at a certain xp limit that go to the next level. and it shows how much xp is needed till the next xp.</p>\n\n<p>So</p>\n\n<pre><code>lvl1 = 0 =&gt; lvl2 = 256 =&gt; lvl3 = 785 =&gt; lvl4 = 1656 =&gt; lvl5 = 2654\n</code></pre>\n\n<p>how would i go about doing that, so if xp is at certain amount show the amount and how much xp is needed for the next level.</p>\n"},{"tags":["php","dompdf"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3267,"score":2,"question_id":3331422,"title":"background image doesn't show in dompdf","body":"<p>For some reason, the background image doesn't show in dompdf no matter what I try.  I've put the direct url as well.  None of them worked.  Can someone with dompdf experience tell me what I need to do?  </p>\n\n<p>It's important to note that other images appear just fine.  It's only the bakground images that are causing issues.  Here is one of the background images:</p>\n\n<pre><code>body{\n font-size:15px;\n background:url(bg.jpg) repeat-x bottom left;\n}\n</code></pre>\n"},{"tags":["php","arrays"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":146,"score":1,"question_id":7944516,"title":"How does PHP merge or push onto an array when I use $array[] = $new_value?","body":"<p>Sorry, I'm very new to PHP, and I can't find anything about this in The Manual. I understand that to add a new item to the end of an array I can use <code>array_merge($array, $new_value_array)</code>, or <code>array_push($array, $new_value)</code>, but the manual says this \"has the same effect as:\"</p>\n\n<pre><code>$array[] = $var;\n</code></pre>\n\n<p>repeated for each <code>var</code>\".</p>\n\n<p>I find the <code>[] =</code> technique much neater and more readable, but I'm very curious as to how it works. Is <code>[]=</code> an undocumented combination assignment operator or what?</p>\n"},{"tags":["php","zend-studio"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":868,"score":0,"question_id":4737843,"title":"Zend Studio 8 PHP Core function not reconized (remote projects)","body":"<p>I'v recently upgraded from Zend Studio 7 to ZS 8 and i can not get ZS8 to reconize default PHP5 functions like explode(), split(), etc. It simply says \"call to undefined function\" and adds a yellow (warning) line under the call.</p>\n\n<p>Google didn't provide me with any information that actually worked. The .buildpath looks fine:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n  &lt;buildpath&gt;\n      &lt;buildpathentry kind=\"src\" path=\"\"/&gt;\n      &lt;buildpathentry kind=\"con\" path=\"org.eclipse.php.core.LANGUAGE\"/&gt;\n  &lt;/buildpath&gt;\n</code></pre>\n\n<p>And the .projects file looks fine too:</p>\n\n<p><code>&lt;nature&gt;org.eclipse.php.core.PHPNature&lt;/nature&gt;</code></p>\n\n<p>Now i'v noticed that when i start a new project LOCALLY it works fine and the \"PHP language library\" is added fine, but as soon as i open the 'remote systems' tab and right click on a folder and pick \"Create remote project\" The \"PHP Language Library\" is simply not filled. Which explains why it doesnt work.</p>\n\n<p>Now the question is, why doesn't it fill up? How do i fix this? (without having to switch to another editor).</p>\n"},{"tags":["php","ubuntu","version"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":591,"score":1,"question_id":4787566,"title":"A simple way to update PHP","body":"<p>I'm using Ubuntu 10.10 with PHP 5.3.3 and would like to update to PHP 5.3.5. Is there a simple way to update the PHP version to 5.3.5? Something like <code>apt-get install php5=5.3.5</code>?</p>\n\n<p>Best regards,\nJambo</p>\n"},{"tags":["php","ssl","curl","basic-authentication"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13265972,"title":"PHP CURL and ssl + authentication basic failure","body":"<p>I like to get content of file protected with authentication basic and ssl , using this code: </p>\n\n<pre><code>&lt;?php\n\n $ch=curl_init();\n curl_setopt($ch,CURLOPT_URL,'https://webservicexxx.com:60443/services.asmx?WSDL');\ncurl_setopt($ch, CURLOPT_USERPWD, \"MYLOGIN:MYPASSWORD\");\n curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);   // no verify\n curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,5);\n curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);\n $buffer = curl_exec($ch);\n curl_close($ch);\n\n print $buffer;\n\n?&gt;\n</code></pre>\n\n<p>But in the result, on my screen i haven't the content of the file that i woulk like to get, but i have this page :</p>\n\n<pre><code>    Vous n'Ãªtes pas autorisÃ© Ã  afficher cette page\nVous n'Ãªtes pas autorisÃ© Ã  afficher ce rÃ©pertoire ou cette page Ã  l'aide des informations d'identification que vous avez fournies car votre navigateur Web envoie un champ d'en-tÃªte Authentification WWW que le serveur Web n'est pas configurÃ© pour accepter.\n\nEssayez les opÃ©rations suivantes :\n\n    Contactez l'administrateur du site Web si vous pensez que vous devriez Ãªtre en mesure d'afficher ce rÃ©pertoire ou cette page.\n    Cliquez sur le bouton Actualiser pour rÃ©essayer avec d'autres informations d'identification.\n\nErreur HTTP 401.2 - Non autorisÃ© : AccÃ¨s refusÃ© en raison de la configuration du serveur.\nServices Internet (IIS)\n\nInformations techniques (destinÃ©es au personnel du Support technique)\n\n    Sur le site des Services de support technique de Microsoft effectuez une recherche dans les titres avec les mots HTTP et 401.\n    Ouvrez l'Aide IIS, qui est accessible dans le Gestionnaire des services Internet (inetmgr) et recherchez les rubriques intitulÃ©es Ã propos de la sÃ©curitÃ©, Authentification et Ã propos des messages d'erreur personnalisÃ©s.\n</code></pre>\n\n<p>That means, that the authentication doesn't work.\nWhat can i do to reach the file ?</p>\n"},{"tags":["php","architecture","high-load"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":34,"score":-1,"question_id":13265751,"title":"Array or not Array [PHP]","body":"<p>I want to implement emails blacklist for my system. In that list I would like to store emails which are not deliverable.</p>\n\n<p>When my system can't deliver email, I would like to save it, and later never send them again.</p>\n\n<p>There are two possible easiest solution what I could see:</p>\n\n<p>When recipient is non exist,</p>\n\n<ol>\n<li>I could set mark about that in User table</li>\n<li>Or collect such bad emails in specific table  </li>\n</ol>\n\n<p>2nd solution is more easiest seems to me (because easier can be cached), but there is a question about choosen approach...</p>\n\n<p>In MyMail function I will implement a call to search current email in bad emails list (table) first and then if it is not there send it out, otherwise cancel sending.</p>\n\n<p>So main question what is could be faster:\n1. Making query each time to DB to search particular key like, <code>SELECT 1 FROM table WHERE email='checking_email'</code>. And of course that table will have only one field <code>email</code> and that field will be indexed(unique). And I will use only strict comparision.\n2. or cache that table content in ONE array and making query to array to check is particular element|key exist or not ?</p>\n\n<p>In case when bad email list could be as long as much, for example 10 million records.</p>\n\n<p>What will be faster ? and better for high loading project ?</p>\n\n<p>P.S. I know that PHP array's eat too much memory, But doing a lot of DB queries in case when newsletter sending is started is also not so good.</p>\n\n<p>P.P.S. I'm going to cache bad emails in one variable this is why in PHP it will be present as array.</p>\n\n<p>P.P.S. Another approach is caching each bad email in each cache key and checking only if such key exist in cache or not, but in that case purging the cache will be more complicated. I'm thinking this is the best solution. Keys in cache can be like, bad_email_. And logic of that pre sending call could be: check if required email exist in cache, if not exist, then check in DB if it is not present and there too, then it is good email. From other point if system detect bad email then it will be saved in DB and in Cache in the same time.</p>\n"},{"tags":["php","mysql","yii","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13264359,"title":"STAT Relation on a related model's STAT relation, Yii","body":"<p>I am having a problem with STAT relation in Yii. I am not sure whether what I am looking for is possible with native Yii relations. I will try my best to describe my issue, Please ask for any specific details if something is not clear. </p>\n\n<p>I have three table and hence three models</p>\n\n<pre><code>| tablea         |\n| tableb         |\n| tablec         |\n\n\nmysql&gt; select * from tablea;\n+----+--------+\n| id | name   |\n+----+--------+\n|  1 | Item 1 |\n|  2 | Item 2 |\n+----+--------+\n2 rows in set (0.00 sec)\n\nmysql&gt; select * from tableb;\n+----+------+----------+\n| id | Aid  | name     |\n+----+------+----------+\n|  1 |    1 | B Item 1 |\n|  2 |    2 | B Item 2 |\n|  3 |    1 | B Item 3 |\n+----+------+----------+\n3 rows in set (0.00 sec)\n\nmysql&gt; select * from tablec;\n+----+------+----------+-------+\n| id | Bid  | name     | value |\n+----+------+----------+-------+\n|  1 |    1 | C Item 1 |    10 |\n|  2 |    2 | C Item 2 |    20 |\n|  3 |    1 | C Item 3 |    15 |\n|  4 |    2 | C Item 4 |     5 |\n|  5 |    3 | C Item 5 |    12 |\n+----+------+----------+-------+\n5 rows in set (0.00 sec)\n</code></pre>\n\n<p>The relation is like TableA HAS_MANY TableB and TableB HAS_MANY TableC.</p>\n\n<p>I have a value field in TableC. I am able to get the STAT relation for the sum of value from TableB. What I want is the sum of all the TableC items from TableA. I need to used= them in the GridView with sorting capability.</p>\n\n<p>Any Idea on how to implement this?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13265814,"title":"How to tag user to a pic via php sdk?","body":"<p>I am using this code. It does not do anything. :(</p>\n\n<pre><code>$post_url = \"https://graph.facebook.com/\".$photo_id.\"/tags/\".$random_friend['id'].\"?access_token=\".$access_token.\"&amp;x=22&amp;y=22&amp;method=POST\";   \n\n $response = file_get_contents($post_url);\n</code></pre>\n\n<p>I have defined everything.. but it still not works.\nI want to know how to tag user or his friends in a pic uploaded by my app.</p>\n\n<p>I am using all necesarry permissions required.\nuser_photos, friends_photos, publish_stream </p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13265838,"title":"Print Successfully Saved Code in Php","body":"<p>I am using below code, how do i do the message as saved successfully, after submitting all the values in database. </p>\n\n<pre><code>$query = \"INSERT INTO applyonline (name, email, gender, phone, dob, applicationintake, applicationintake2, degree, ielts, experience, experience2) VALUES ('\".$name.\"', '\".$email.\"','\".$gender.\"','\".$phone.\"','\".$dob.\"','\".$applicationintake1.\"','\".$applicationintake2.\"','\".$degree.\"','\".$ielts.\"','\".$experience1.\"','\".$experience2.\"')\";\n$result = mysql_query($query);\n</code></pre>\n"},{"tags":["php","datetime"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13264185,"title":"PHP Date Convert","body":"<p>Whats the problem in that code that output the wrong date?</p>\n\n<pre><code>$date = \"1990-05-07\"; // Y-m-d\n$date1 = date(\"d/m/Y\", strtotime($date)); // Here is fine.\n$date2 = date(\"Y-m-d\", strtotime($date1)); // Here is wrong.\n\necho $date2; // output: 1990-07-05\n</code></pre>\n\n<hr>\n\n<p><strong>The code above is a simple demonstration, the exactly code is:</strong> (Yii Framework)</p>\n\n<p>Model.php</p>\n\n<pre><code>public function afterFind()\n{\n    if ($this-&gt;birthday)\n    {\n        $this-&gt;birthday = date(\"d/m/Y\", strtotime($this-&gt;birthday));\n    }\n}\n\npublic function beforeSave()\n{\n    if ($this-&gt;birthday)\n    {\n        $this-&gt;birthday = date(\"Y-m-d\", strtotime($this-&gt;birthday));\n    }\n}\n</code></pre>\n"},{"tags":["php","substring","multibyte","mbstring"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13265900,"title":"substring utf-8 characters with alphanumeric character up to 10 words","body":"<p>I have a problem with getting a substring of this string:</p>\n\n<pre><code>GMOã¯ã©ã¦ãã®è¦ç°ã§ããååãOpenSocialã«å¯¾å¿ããSNSã®ãOpenPNEããã¤ã³ã¹ãã¼ã«ããã®ã§ãä»åã¯ã½ã¼ã·ã£ã«ã¢ããªãä½ã£ã¦OpenPNEä¸ã§å¬éãã¦ã¿ã¾ããã¾ããä½ã£ãã¢ããªãmixiã¢ããªã¨ãã¦mixiã«ãç»é²ãã¦ã¿ã¾ãããã\n</code></pre>\n\n<p>I just wanted to display up to nth character or at least does not display broken/incomplete words.</p>\n\n<p>at first i tried.</p>\n\n<pre><code>$content = \"GMOã¯ã©ã¦ãã®è¦ç°ã§ããååãOpenSocialã«å¯¾å¿ããSNSã®ãOpenPNEããã¤ã³ã¹ãã¼ã«ããã®ã§ãä»åã¯ã½ã¼ã·ã£ã«ã¢ããªãä½ã£ã¦OpenPNEä¸ã§å¬éãã¦ã¿ã¾ããã¾ããä½ã£ãã¢ããªãmixiã¢ããªã¨ãã¦mixiã«ãç»é²ãã¦ã¿ã¾ãããã\";\n$content = mb_substr($content, 0, 10, 'UTF-8');\n</code></pre>\n\n<p>but it results to:</p>\n\n<pre><code>GMOã¯ã©ã¦ãã®è¦ç°ã§ããååãOpenSo\n</code></pre>\n\n<p>the word is not complete</p>\n\n<p>i also tried using regex:</p>\n\n<pre><code>$content = \"GMOã¯ã©ã¦ãã®è¦ç°ã§ããååãOpenSocialã«å¯¾å¿ããSNSã®ãOpenPNEããã¤ã³ã¹ãã¼ã«ããã®ã§ãä»åã¯ã½ã¼ã·ã£ã«ã¢ããªãä½ã£ã¦OpenPNEä¸ã§å¬éãã¦ã¿ã¾ããã¾ããä½ã£ãã¢ããªãmixiã¢ããªã¨ãã¦mixiã«ãç»é²ãã¦ã¿ã¾ãããã\";\nif (preg_match('/^.{1,40}\\b/s', $content, $match))\n{\n    print_r($match);\n}\n</code></pre>\n\n<p>resulted to:</p>\n\n<pre><code>Array ( [0] =&gt;GMO )\n</code></pre>\n\n<p>what could have been done to get something like</p>\n\n<pre><code>GMOã¯ã©ã¦ãã®è¦ç°ã§ããååãOpenSocial\n</code></pre>\n\n<p>word should be complete. is there an mb_ function in php i could use to accomplish this?</p>\n"},{"tags":["php"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13259547,"title":"How to use the value of one variable when checking the existence of another","body":"<p>I want to be able to check the existence of up to, but often less than, 6 consecutively named variables using a FOR loop thus:</p>\n\n<pre><code>for ($i = 0; $i &lt;= 5; $i++) {\n   $vartocheck = \"$var_\".$i;\n   if ($vartocheck) {\n      echo $vartocheck.\" exists!\";\n   }\n}\n</code></pre>\n\n<p>Now I know the above doesn't work but I can't figure out how to reference and check the existence of $var_0 through to $var_5 by using the value of $i.</p>\n\n<p>I have tried isset and call_user_func to construct and return the variable name I am after but I have had no success thus far.</p>\n\n<p>I am trying to avoid an eval statement.</p>\n"},{"tags":["php","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13265823,"title":"get_post won't work in custom PHP script while get_post_meta works WordPress","body":"<p>I have this custom PHP script under the root directory of my websitem  </p>\n\n<pre><code>/forums.local/import-old-forums.php\n</code></pre>\n\n<p>Inside this script, I would like to leverage on WordPress functions so I have  </p>\n\n<pre><code>require_once(\"wp-load.php\");\n</code></pre>\n\n<p>then  </p>\n\n<pre><code>var_dump(get_post_meta(9));\n</code></pre>\n\n<p>works perfectly</p>\n\n<p>while  </p>\n\n<pre><code>var_dump(get_post(9));\n</code></pre>\n\n<p>throws <code>HTTP Error 500 (Internal Server Error)</code></p>\n\n<p>What do I need to do to use <code>get_post()</code> in my custom PHP script?</p>\n"},{"tags":["php","mysql","sql"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":13265567,"title":"SQL for getting sum of a column","body":"<p>I have three tables linked each other.</p>\n\n<pre><code>mysql&gt; select * from tablea;\n+----+--------+\n| id | name   |\n+----+--------+\n|  1 | Item 1 |\n|  2 | Item 2 |\n+----+--------+\n2 rows in set (0.00 sec)\n\nmysql&gt; select * from tableb;\n+----+------+----------+\n| id | Aid  | name     |\n+----+------+----------+\n|  1 |    1 | B Item 1 |\n|  2 |    2 | B Item 2 |\n|  3 |    1 | B Item 3 |\n+----+------+----------+\n3 rows in set (0.00 sec)\n\nmysql&gt; select * from tablec;\n+----+------+----------+-------+\n| id | Bid  | name     | value |\n+----+------+----------+-------+\n|  1 |    1 | C Item 1 |    10 |\n|  2 |    2 | C Item 2 |    20 |\n|  3 |    1 | C Item 3 |    15 |\n|  4 |    2 | C Item 4 |     5 |\n|  5 |    3 | C Item 5 |    12 |\n+----+------+----------+-------+\n5 rows in set (0.00 sec)\n</code></pre>\n\n<p>TableA is linked to TableB with Aid, TableC is linked with TableB with Bid.</p>\n\n<p>What I want is the id of tableA and the sum of values of all the TableC items comes under it.</p>\n\n<p>The result set I expect for the above example is </p>\n\n<pre><code>+-----------+--------+\n| tablea.id | sum    |\n+-----------+--------+\n|         1 |     37 |\n|         2 |     25 |\n+-----------+--------+\n</code></pre>\n"},{"tags":["php","mysql","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13265599,"title":"CSV line break issue","body":"<p>I have this CSV file that contain this following,</p>\n\n<pre><code>10000,hello\n10000,bye\n10000,good\n</code></pre>\n\n<p>And, my code below for reading CSV file, and send them to database.</p>\n\n<pre><code>if ($_FILES[csv][size] &gt; 0) { \n\n    //get the csv file \n    $file = $_FILES[csv][tmp_name]; \n    $handle = fopen($file,\"r\"); \n\n    //loop through the csv file and insert into database \n    do { \n        if ($data[0]) { \n            mysql_query(\"INSERT INTO table_name (table_column1, table_column2) VALUES \n                ( \n                    '\".$data[0].\"', \n                    '\".$data[1]. \"'\n                ) \n            \");         \n        }\n    } while ($data = fgetcsv($handle,1000,\",\")); \n\n} \n</code></pre>\n\n<p>With the above, the data from CSV cannot go into database because, it read the file something like this below,</p>\n\n<pre><code>10000 hello 10000\nbye 10000\ngood\n</code></pre>\n\n<p><strong>May i know, what the is problem with this? Is there something wrong with the codes?</strong></p>\n\n<p>However, if the format for my CSV file is like this below (A blank line in between each line),</p>\n\n<pre><code>10000,hello\n\n10000,bye\n\n10000,good\n</code></pre>\n\n<p>All the data can go into database successsfully.</p>\n"},{"tags":["php","facebook","api","request"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":136,"score":0,"question_id":12153912,"title":"is it possible to get  sender id(friend request) on facebook?","body":"<p>Say I'm Obama. And Obama sends invite to Bush. When Bhush ,accepts my friend request,then i am geting request id on my page but how do i get A UID of Mine(Obama) on my php page? </p>\n\n<p>Please help me. Am struggling since 4hrs for this. </p>\n\n<p>I am using these(see below) code for getting request_Id. But from these How can i get the    SENDERS ID?</p>\n\n<pre><code> require_once('phps/fbsdk/src/facebook.php');\n$config = array\n(\n'appId' =&gt; 'XXXXXXXXXXXXXXXX',\n'secret' =&gt; 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXX',\n);\n$facebook = new Facebook($config);\n$user_id = $facebook-&gt;getUser();\n$request_ids = explode(',', $_REQUEST['request_ids']);\nfunction build_full_request_id($request_id, $user_id)\n{ \n return $request_id . '_' . $user_id;  }\n  foreach ($request_ids as $request_id)\n   {\n   echo (\"request_id=\".$request_id.\"&lt;br&gt;\");\n    $full_request_id = build_full_request_id($request_id, $user_id); \n    try\n      {\n       $delete_success = $facebook-&gt;api(\"/$full_request_id\",'send me request sender Id');\n         //i have doubt in this line how to get the senders id\n         //i have doubt,that \" how i will get the  senders id and name to store in my db\"\n\n      if ($delete_success)\n         {\n        echo \"Successfully added senderid into db \" . $full_request_id;}\n     else {\n       echo \"addtion failed failed\".$full_request_id;}\n    }\n  catch (FacebookApiException $e) {\n  echo \"error\";}\n}\n</code></pre>\n\n<p>Thanks\n-Ashutosh</p>\n"},{"tags":["php","javascript","jquery","mysql","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":91,"score":1,"question_id":13238340,"title":"Jquery $.post is returning the wrong data","body":"<p>When my ajax is processed</p>\n\n<pre><code>$.post(\"main.php\", \n          {data: $(this).text()}, \n          function(data) {\n               //alert(\"Data saved.\");\n               $('#demo').html(data);\n          });   \n</code></pre>\n\n<p>instead of getting what I specified in the below query</p>\n\n<pre><code>if (isset($_POST['data'])){\n$data = $_POST['data'];\n\n    $query = mysql_query(\"SELECT * FROM tempusers\n    WHERE 'firstname' LIKE '%$data%' \n        OR 'lastname' LIKE '%$data%' \n        OR 'title' LIKE '%$data%'\");\n\n    while($row=mysql_fetch_assoc($query)){\n                $firstname=$row['firstname'];\n                $lastname=$row['lastname'];\n                $grade=$row['grade'];\n\n\n    echo $grade;\n</code></pre>\n\n<p>Instead I get all the elements in my page returned. So in other words in the div below</p>\n\n<pre><code> &lt;div id=\"demo\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I'm  returning my page. So it shows as a website within a website. It won't even show <code>echo $grade;</code> I thought it was my query acting up, but I tried commenting out the query and just <code>echo $data</code> <strong><em>see below</em></strong></p>\n\n<pre><code>if (isset($_POST['data'])){\n$data = $_POST['data'];\necho $data; \n</code></pre>\n\n<p>And doing so gave me the same result as stated previously \"echoing out the website within the website\" and also echoed the $data I wanted. I would be overjoyed to understand how this happened as well as what I can do to fix this problem and get my isset function/ajax corrected. Any other tips would be greatly appreciated. I know I need to change the query to PDO and plan on it. </p>\n"},{"tags":["php","sockets","soap","tcp","raw"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13265435,"title":"Raw text SOAP message with PHP","body":"<p>IÂ´m trying to do an integration between my own PHP application, and other external software which is 'waiting for' (listening) SOAP messages. But the key question on my situation is that this software which is listening for SOAP messages only accepts RAW contents and has no method which could be called, or Wsdl to be used.</p>\n\n<p>Yes I know... itÂ´s quite strange because with SOAP you usually should send a method request with some parameters, but in this case the only that I have is a URL where I should send with SOAP message that should contain only an string (formatted in a special way which is not a problem), and then this server will return to my PHP application another SOAP message that will contain a string. And thatÂ´s all. </p>\n\n<p>Seems that in my case I can not use a PHP SOAP library because I have no method (or function) to call; the only thing that I have is a URL and a string that I should pass like a parameter. IÂ´ve been thinking of using PHP sockets to create a basic SOAP message to that 'strange soap server', but I have no clue about how to do it, or how I woule create with PHP a way to keep my application waiting for the answer comming from that external server.</p>\n\n<p>Thank you so much for your help in advance.</p>\n"},{"tags":["php","session","symfony2","php-session"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13265691,"title":"Symfony2 session loss on one specific machine","body":"<p>I keep losing sessions on one of my development machines. At first it would happen at a couple of random moments, but the problem got worse and now it happens immediately after logging in.</p>\n\n<p>I can see that there is one session file created upon landing on the website, one is created when logging in (containing the appropriate roles etc) and one is create directly thereafter (without the auth information) effectively logging me out.</p>\n\n<p>It only happens on one dev machine, everything is fine on another dev machine and in production.</p>\n\n<p>Does anyone have a clue?</p>\n"},{"tags":["php","regex","parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13264693,"title":"Regex to match all top-level functions","body":"<p>I'd like to parse PHP code with a regex to find all the top-level functions declared in our codebase.</p>\n\n<p>The simple:</p>\n\n<pre><code>^\\s*function\\s*([\\w_-]+)\\(\n</code></pre>\n\n<p>works pretty well, but catches the extra</p>\n\n<pre><code>class Foo {\n  function bar() {...}\n}\n</code></pre>\n\n<p>Any ideas on how to skip non-top-level functions that don't have scope delcared?</p>\n\n<p>Note: I know, I know, I should use a real parser but I want something quick and dirty that can run in <code>grep -R -P</code> over a very large codebase.</p>\n"},{"tags":["php","cookies","subdomain","setcookie"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13264436,"title":"setcookie path url doesn't work in PHP?","body":"<p>When the following code is called from <code>/foo/controllers/</code>:</p>\n\n<pre><code>setcookie(\n    \"email\", $email, time() + 100 * 60 * 60 * 24 * 30, \n    \"/foo/\", \"bar.com\", false\n);\n</code></pre>\n\n<p>It gets value (copied from FireBug):</p>\n\n<pre><code># line-breaks added for aesthetics\nemail=stackoverflowuser95%40gmail.com; \n    expires=Sun, 24 Jan 2021 06:25:33 GMT; \n    path=/foo/controllers/; domain=bar.com\n</code></pre>\n\n<p>How do I set it so that the cookie is valid for <code>/foo/controllers/</code> and <code>/foo/views/</code>?</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13247821,"title":"read data from open upd and tcp port in php","body":"<p>I have no experience of network programming. I have received the feed on my notebook. I want to read the data from this udp  and tcp port on my machine and store in database.I want this in php and store data in mysql. </p>\n\n<p>How to acheive this ?</p>\n"},{"tags":["php","twitter","stdclass"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13248241,"title":"Getting strings from stdClass","body":"<p>I'm trying to get my latest tweets to display on my webpage and found and am using this peice of code. </p>\n\n<pre><code>            &lt;?php\n            function buildBaseString($baseURI, $method, $params) {\n                $r = array();\n            ksort($params);\n            foreach($params as $key=&gt;$value){\n                $r[] = \"$key=\" . rawurlencode($value);\n            }\n            return $method.\"&amp;\" . rawurlencode($baseURI) . '&amp;' . rawurlencode(implode('&amp;', $r));\n            }\n\n            function buildAuthorizationHeader($oauth) {\n            $r = 'Authorization: OAuth ';\n            $values = array();\n            foreach($oauth as $key=&gt;$value)\n                $values[] = \"$key=\\\"\" . rawurlencode($value) . \"\\\"\";\n            $r .= implode(', ', $values);\n            return $r;\n            }\n\n            $url = \"https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name=jameskrawczyk\";\n            $oauth_access_token = \"SECUIRTY\";\n            $oauth_access_token_secret = \"SECURITY\";\n            $consumer_key = \"SECURITY\";\n            $consumer_secret = \"SECURITY\";\n\n            $oauth = array( 'oauth_consumer_key' =&gt; $consumer_key,\n                        'oauth_nonce' =&gt; time(),\n                        'oauth_signature_method' =&gt; 'HMAC-SHA1',\n                        'oauth_token' =&gt; $oauth_access_token,\n                        'oauth_timestamp' =&gt; time(),\n                        'oauth_version' =&gt; '1.0');\n\n\n\n            $base_info = buildBaseString($url, 'GET', $oauth);\n            $composite_key = rawurlencode($consumer_secret) . '&amp;' .     rawurlencode($oauth_access_token_secret);\n            $oauth_signature = base64_encode(hash_hmac('sha1', $base_info, $composite_key, true));\n            $oauth['oauth_signature'] = $oauth_signature;\n\n\n\n            $header = array(buildAuthorizationHeader($oauth), 'Expect:');\n            $options = array( CURLOPT_HTTPHEADER =&gt; $header,\n                          //CURLOPT_POSTFIELDS =&gt; $postfields,\n                          CURLOPT_HEADER =&gt; false,\n                          CURLOPT_URL =&gt; $url,\n                          CURLOPT_RETURNTRANSFER =&gt; true,\n                          CURLOPT_SSL_VERIFYPEER =&gt; false);\n\n\n\n            $feed = curl_init();\n            curl_setopt_array($feed, $options);\n            $json = curl_exec($feed);\n            curl_close($feed);\n            $twitter_data = json_decode($json);\n?&gt;\n</code></pre>\n\n<p>Problem is I can't seem to figure out how to actually print the data once received.</p>\n"},{"tags":["php","email"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":41,"score":-1,"question_id":13252491,"title":"Mail sent with mail() function does not get sent","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2757113/php-mail-function\">php mail function</a>  </p>\n</blockquote>\n\n\n\n<p>I am doing this website where I send emails to users when they for example forget their password or similar, but for some reason I can not send emails with the following function:</p>\n\n<pre><code>$email = 'somemail@mail.com';\n$subject = 'subject';\n$message = 'message blablablablabla';\n\n\nmail($email, $subject, $message);\n</code></pre>\n\n<p>Am I doing something wrong or missing something in the code, or is it the hosting company's fault? (I make my website on x10hosting.com). I checked in the manual about mail() but it didn't help me. \nThanks in advance.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks for the help guys, but it turned out to be a problem on the web hosting company I'm on. Everything's working fine now.</p>\n"},{"tags":["php","arrays","search","php-5.3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":53,"score":-1,"question_id":13248620,"title":"Reording array by index of first key?","body":"<p>I would like to reorder my element index aligned array so that I can get elements per unique <code>CATEGORY</code> rather than manually by index.</p>\n\n<h3>Pre-condition</h3>\n\n<pre class=\"lang-php prettyprint-override\"><code>$products = array(\n    'CATEGORY' =&gt;\n    array(\n        0 =&gt; 'book',\n        1 =&gt; 'book',\n        2 =&gt; 'desk',\n    ),\n    /* FYI: Other keys have been removed for conciseness */\n    'DESCRIPTION' =&gt; \n    array(\n        0 =&gt; 'Bar',\n        1 =&gt; 'sdfadasfdasfas',\n        2 =&gt; 'Barrrr',\n    ),\n);\n</code></pre>\n\n<h3>Post-condition</h3>\n\n<pre class=\"lang-php prettyprint-override\"><code>$products = array(\n    'CATEGORY' =&gt;\n    array(\n        'book' =&gt;\n        array(\n            0 =&gt;\n            array(\n                'DESCRIPTION' =&gt; 'Bar',\n            ),\n            1 =&gt;\n            array(\n                'DESCRIPTION' =&gt; 'sdfadasfdasfas',\n            ),\n        ),\n        'desk' =&gt;\n        array(\n            0 =&gt;\n            array(\n                'DESCRIPTION' =&gt; 'Barrrr',\n            ),\n        ),\n    ),\n)\n</code></pre>\n\n<h3>Attempt</h3>\n\n<pre><code>$cat_to_index = '';\n\nforeach (array_values(array_unique($products['CATEGORY'])) as $category =&gt; $uniq_cat) {\n    for($i=array_search($uniq_cat, $products['CATEGORY']);\n        $i!==FALSE; $i=array_search($uniq_cat, $products['CATEGORY']))\n            $cat_to_index .= $i; // just for debugging\n}\n</code></pre>\n\n<p>See running on <a href=\"http://codepad.org/J6XSraLH\" rel=\"nofollow\">codepad</a>.</p>\n\n<h3>Error</h3>\n\n<p>Out of memory (infinite loop). Preferably looking for an <code>O(n)</code> solution to this problem.</p>\n"},{"tags":["php","api","twitter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13249083,"title":"Twitter API PHP Get latest tweets not authenticating","body":"<p>I'm using this peice of code to try and get all my latest tweets for printing on my site but it's returning an error about being not authenticated. I've created an app in the Dev section and get my consumer and OAuth keys, and added them in the right place in the code. </p>\n\n<pre><code>    &lt;?php\n        function buildBaseString($baseURI, $method, $params) {\n            $r = array();\n        ksort($params);\n        foreach($params as $key=&gt;$value){\n            $r[] = \"$key=\" . rawurlencode($value);\n        }\n        return $method.\"&amp;\" . rawurlencode($baseURI) . '&amp;' . rawurlencode(implode('&amp;', $r));\n        }\n\n        function buildAuthorizationHeader($oauth) {\n        $r = 'Authorization: OAuth ';\n        $values = array();\n        foreach($oauth as $key=&gt;$value)\n            $values[] = \"$key=\\\"\" . rawurlencode($value) . \"\\\"\";\n        $r .= implode(', ', $values);\n        return $r;\n        }\n\n        $url = \"https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name=jameskrawczyk\";\n        $oauth_access_token = \"SECURITY\";\n        $oauth_access_token_secret = \"SECURITY\";\n        $consumer_key = \"SECURITY\";\n        $consumer_secret = \"SECURITY\";\n\n        $oauth = array( 'oauth_consumer_key' =&gt; $consumer_key,\n                    'oauth_nonce' =&gt; time(),\n                    'oauth_signature_method' =&gt; 'HMAC-SHA1',\n                    'oauth_token' =&gt; $oauth_access_token,\n                    'oauth_timestamp' =&gt; time(),\n                    'oauth_version' =&gt; '1.0');\n\n\n\n        $base_info = buildBaseString($url, 'GET', $oauth);\n        $composite_key = rawurlencode($consumer_secret) . '&amp;' .     rawurlencode($oauth_access_token_secret);\n        $oauth_signature = base64_encode(hash_hmac('sha1', $base_info, $composite_key, true));\n        $oauth['oauth_signature'] = $oauth_signature;\n\n\n\n        $header = array(buildAuthorizationHeader($oauth), 'Expect:');\n        $options = array( CURLOPT_HTTPHEADER =&gt; $header,\n                      //CURLOPT_POSTFIELDS =&gt; $postfields,\n                      CURLOPT_HEADER =&gt; false,\n                      CURLOPT_URL =&gt; $url,\n                      CURLOPT_RETURNTRANSFER =&gt; true,\n                      CURLOPT_SSL_VERIFYPEER =&gt; false);\n\n\n\n        $feed = curl_init();\n        curl_setopt_array($feed, $options);\n        $json = curl_exec($feed);\n        curl_close($feed);\n        $twitter_data = json_decode($json, true);\n        foreach ($twitter_data as $elem)\n        {\n          print_r($elem);\n          echo '&lt;br&gt;';\n        }\n</code></pre>\n\n<p>Error returned on page</p>\n\n<pre><code>Array ( [0] =&gt; Array ( [message] =&gt; Could not authenticate you [code] =&gt; 32 ) ) \n</code></pre>\n"},{"tags":["php","regex","irc","lda"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13251791,"title":"Extracting text from IRC logs","body":"<p>I'd like to extract texts from irc logs. I have regular IRC log from irssi like this:</p>\n\n<pre><code>00:12 -!- Barbora [post@gw1-nat-041.roburnet.sk] has joined #post.sk\n00:12 -!- mirinda [~post@195.91.55.136] has quit [Broken pipe]\n00:12 -!- rogue1 [post@86-41-114-24-dynamic.b-ras2.lmk.limerick.eircom.net] has joined #post.sk\n00:12 -!- Komunista is now known as Anonym9901\n00:13 -!- ajka [~post@78.141.102.209] has quit [Client exited]\n00:16 &lt; blackmamba&gt; no fuj\n00:16 &lt; blackmamba&gt; Komunista: lol\n00:16 &lt; blackmamba&gt; \"este trochu\"\n00:16 &lt; blackmamba&gt; \"je taky velky\"\n00:17 -!- majopo [post@adsl-d192.84-47-63.t-com.sk] has quit [Client exited]\n00:19 -!- Anonym9901 is now known as Komunista\n00:19 -!- dido84 [post@BSN-143-83-49.dial-up.dsl.siol.net] has quit [Client exited]\n00:19 &lt; Komunista&gt; no?\n00:20 &lt; Komunista&gt; ja by som*nadavka*l\n00:20 &lt; Komunista&gt; ako pes\n00:20 -!- Komunista is now known as Anonym53560 \n</code></pre>\n\n<p>What I need is output like this:</p>\n\n<pre><code>no fuj lol este trochu je taky velky no ja by som*nadavka*l ako pes\n</code></pre>\n\n<p>So, just words separated by whitespace, nothing else, no nicks, no quotationmarks, questionmarks etc. I need it as input for LDA.</p>\n\n<p>Nicks I will remove by postprocessing, it will be easier I think, or?</p>\n\n<p>I prefer PHP with regex, I'm not good at it, that's why I ask you all for help.</p>\n\n<p>Thank you for your time!</p>\n\n<p>EDIT:</p>\n\n<p>Now I use this code (Thank to m.buettner):</p>\n\n<pre><code>$input = ... ;\n$smiles = [\"&gt;:]\", \":-)\", \":)\", \":o)\", \":]\", \":3\", \":c)\", \":&gt;\", \"=]\", \"8)\", \"=)\", \":}\", \":^)\", \"&gt;:D\", \":-D\", \":D\", \"8-D\", \"x-D\", \"X-D\", \"=-D\", \"=D\", \"=-3\", \"8-)\", \"&gt;:[\", \":-(\", \":(\", \":-c\", \":c\", \":-&lt;\", \":-[\", \":[\", \":{\", \"&gt;.&gt;\", \"&lt;.&lt;\", \"&gt;.&lt;\", \"&gt;;]\", \";-)\", \";)\", \"*-)\", \"*)\", \";-]\", \";]\", \";D\", \";^)\", \"&gt;:P\", \":-P\", \":P\", \"X-P\", \"x-p\", \":-p\", \":p\", \"=p\", \":-Ã\", \":Ã\", \":-b\", \":b\", \"=p\", \"=P\", \"&gt;:o\", \"&gt;:O\", \":-O\", \":O\", \"Â°oÂ°\", \"Â°OÂ°\", \":O\", \"o_O\", \"o.O\", \"8-0\", \"&gt;:\\\\\", \"&gt;:/\", \":-/\", \":-.\", \":\\\\\", \"=/\", \"=\\\\\", \":S\", \":'(\", \";'(\"];\n\n$input = str_replace($smiles, '', $input);\n$resultStr = '';\npreg_match_all('/^\\d\\d:\\d\\d\\s+&lt;[%|\\s|@|+][_a-zA-Z0-9]*&gt;\\s([^\\r\\n]*)/m', $input, $matches);\n$resultStr = implode(' ', $matches[1]);\n$resultStr = preg_replace('/[^\\w\\s*]+/', '', $resultStr);\n\npreg_match_all('/&lt;[%|\\s|@|+][_a-zA-Z0-9]*&gt;/m', $input, $nicks);\n$nicks[0] = str_replace(['&lt;', '&gt;', ' ', '%', '+', '$', '@'], '', $nicks[0]);\n$resultStr = str_replace($nicks[0], '', $resultStr);\n</code></pre>\n\n<p>Any suggestions to improve it will be appreciated ;)</p>\n"},{"tags":["php","zend-framework","multilingual"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13251863,"title":"Zend Translate + custom url","body":"<p>So here is what I have in my bootstrap file</p>\n\n<pre><code>/*\n* Here the Translator is enabled and passed to\n* Zend_Registry so can be accesed from anywhere\n*/\npublic static function translateOption()\n{\n    Zend_Loader::loadClass('Zend_Translate');\n    $translate = new Zend_Translate(\n            'Zend_Translate_Adapter_Csv', \n            self::$root.\"/lang/en/language.csv\", \n            'en');\n    self::$registry-&gt;translate = $translate;\n}\n</code></pre>\n\n<p><strong>What I'm trying to achive is a URL like mysite.com/language/controller/action</strong></p>\n\n<p>Here is my route.</p>\n\n<pre><code>;Multilang routes\nlang_default.type                                = \"iM_Controller_Router_Route_Language\"\nlang_default.route               = \":language/:controller/:action/*\"\nlang_default.defaults.module     = default\nlang_default.defaults.controller = index\nlang_default.defaults.action     = index\nlang_default.defaults.language   = en\nlang_default.reqs.language       = \"(ro|en)\"\n</code></pre>\n\n<p>And here is the Route controller plugin that I found on the internet: </p>\n\n<pre><code>&lt;?php\n\n/**\n* Front Controller Plugin; Created by Gabriel Solomon (http://www.gsdesign.ro/blog/optimizing-zend-routing/)\n*\n* @uses       Zend_Controller_Plugin_Abstract\n* @category   iM\n* @package    iM_Controller\n* @subpackage Plugins\n*/\nclass iM_Controller_Plugin_Router extends Zend_Controller_Plugin_Abstract{\n    protected $_dir;\n    protected $_default = array();\n    protected $_request;\n\n    protected $_initialConfig;\n    protected $_remainingConfig;\n\n\n    public function routeStartup(Zend_Controller_Request_Abstract $request)\n    {\n        // define some routes (URLs)\n        $router = Zend_Controller_Front::getInstance()-&gt;getRouter();       \n        $this-&gt;setRequest($request);       \n\n        $config = $this-&gt;getInitial();\n        $router-&gt;addConfig($config);\n    }\n\n\n    public function routeShutdown(Zend_Controller_Request_Abstract $request)\n    {\n        $router = Zend_Controller_Front::getInstance()-&gt;getRouter();\n\n        $config = $this-&gt;getRemaining();\n\n        $router-&gt;addConfig($config);\n    }\n\n    public function setDir($dir) {\n        $this-&gt;_dir = $dir;\n    }\n\n\n    public function setDefault($default) {\n        if (is_array($default)) {\n            $this-&gt;_default = array_merge($this-&gt;_default, $default);\n        } else {\n            $this-&gt;_default[] = $default;\n        }\n    }\n\n\n    public function setRequest(Zend_Controller_Request_Abstract $request) {\n        $this-&gt;_request = $request;\n        //return $this;\n    }\n\n    public function getInitial() {\n        if ($this-&gt;_initialConfig == null) {\n            $this-&gt;parseIniDir();\n        }\n\n        return $this-&gt;_initialConfig;\n\n    }\n\n\n    public function getRemaining() {\n        if ($this-&gt;_remainingConfig == null) {\n            $this-&gt;parseIniDir();\n        }\n\n        return $this-&gt;_remainingConfig;\n    }\n\n    protected function parseIniDir() {\n        $files = $this-&gt;getFiles();\n        $this-&gt;_default;\n\n        $this-&gt;_default[] = $this-&gt;determineInitial();\n\n        $this-&gt;_initialConfig = new Zend_Config(array(), true);\n        $this-&gt;_remainingConfig = new Zend_Config(array(), true);       \n\n        if (is_array($files)) {\n\n            foreach ($files as $file) {\n                $routerFile = $this-&gt;compilePath($file);\n\n                if (in_array($file, $this-&gt;_default)) {\n                    $this-&gt;_initialConfig-&gt;merge(new Zend_Config_Ini($routerFile));\n\n                } else {\n                    $this-&gt;_remainingConfig-&gt;merge(new Zend_Config_Ini($routerFile));\n                }\n            }\n        }\n    }\n\n    protected function getFiles() {\n        if (is_dir($this-&gt;_dir)) {\n            $dir = new DirectoryIterator($this-&gt;_dir);\n            $files = array();\n            foreach($dir as $fileInfo) {\n                if(!$fileInfo-&gt;isDot() &amp;&amp; $fileInfo-&gt;isFile()) {\n                    $files[] = $fileInfo-&gt;__toString();\n                }\n            }\n\n            return $files;\n        }\n\n        return false;\n    }\n\n\n    protected function getOtherRoutes() {\n        $routes-&gt;merge(new Zend_Config_Ini($routerFile));\n    }\n\n\n    protected function determineInitial() {\n        if ($this-&gt;_request) {\n            $uri = $this-&gt;_request-&gt;getRequestUri();\n            $base = $this-&gt;_request-&gt;getBasePath() . '/';\n\n            $request = str_replace($base, '', $uri);\n            $requestParts = explode('/', $request);\n\n            $lang = $requestParts[0];\n            (array_key_exists(1,$requestParts) ? $section = $requestParts[1] : $section = '');\n\n            if (!empty($section) &amp;&amp; $section == 'user') {\n                return 'user.ini';\n            }\n\n        }\n        return false;\n    }\n\n\n    protected function compilePath($file) {\n        return $this-&gt;_dir . '/' . $file;\n    }\n}\n</code></pre>\n\n<p>Now my question is how do I change the language, if the url is /en or /ro or /de I guess I have to change it in the bootstrap function <code>translateOption</code>but how, I will also like to mention that this has some bugs too...but I will be happy for now If you could help me how to change the language if the url changes, thank you!</p>\n\n<p>I don't know if someone will read this...but hope so</p>\n"},{"tags":["php","ios","ios6","mobile-webkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13041895,"title":"Photo uploads using iOS6 WebKit, processing is unresponsive","body":"<p>Since iOS6 now supports photo/video uploads, I thought to use it in my mobile app. A problem is occurring where neither a photo or video are uploaded to the designated folder provided by the upload script. Not sure what I am doing wrong.</p>\n\n<p>Here's what I'm using to grab the file or capture it...</p>\n\n<pre><code>&lt;form action=\"\" method=\"POST\"&gt;\n&lt;input type=\"file\" accept=\"image/* capture=\"camera\"&gt;&lt;br&gt;&lt;br&gt;\n&lt;input type=\"submit\" value=\"Upload\" class=\"login-button\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This processes the photo on the same page...</p>\n\n<pre><code>&lt;?php\n function findexts ($filename) \n { \n $filename = strtolower($filename) ; \n $exts = split(\"[/\\\\.]\", $filename) ; \n $n = count($exts)-1; \n $exts = $exts[$n]; \n return $exts; \n } \n  $ext = findexts ($_FILES['uploaded']['name']) ; \n $ran = rand () ;\n $ran2 = $ran.\".\";\n $target = \"files/\";\n $target = $target . $ran2.$ext; \nif(move_uploaded_file($_FILES['uploaded']['tmp_name'], $target)) \n {\n echo \"The file has been uploaded as \".$ran2.$ext;\n } \n else\n {\n echo \"Sorry, there was a problem uploading your file.\";\n }\n ?&gt; \n</code></pre>\n"},{"tags":["php","iis","webserver","iis6","windows-server-2003"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13252098,"title":"\"The specified procedure could not be found\" IIS 6.0 and PHP5","body":"<p>I am trying to make PHP5 work over IIS 6.0 on Windows server 2003 and i am following this steps:\n<a href=\"http://www.iisadmin.co.uk/?p=4\" rel=\"nofollow\">http://www.iisadmin.co.uk/?p=4</a></p>\n\n<p>The thing is, there's no file named \"<em><code>php5isapi.dll</code></em>\" inside the php folder, so I am using php5isapi.dll instead. Is it correct? Or should I try to download the php5isapi.dll from somewhere.</p>\n\n<p>Well, then, I keep following the steps and when I try to execute my php file, I get this message:</p>\n\n<blockquote>\n  <p>The specified procedure could not be found.</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks.</p>\n\n<h1>UPDATE</h1>\n\n<p>I downloaded php5isapi.dll and tried to make it work with it but i am getting this error:</p>\n\n<blockquote>\n  <p>The specified module could not be found. </p>\n</blockquote>\n\n<p>Also, after any change, i restart the <em>Default Web Site</em> clicking on stop and play.</p>\n\n<h1>UPDATE 2</h1>\n\n<p>Now, after rebooting, when trying to access the PHP file, the browser shows a 500 error:</p>\n\n<blockquote>\n  <p>The page cannot be displayed</p>\n</blockquote>\n"},{"tags":["php","html","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":52,"score":-5,"question_id":13258704,"title":"display mysql database in html table","body":"<p>I want to get all the data from my database and put it in a HTML table. My database looks like this:</p>\n\n<pre><code>username password q1 q2 q3 q4 q5 hscore lscore\n</code></pre>\n\n<p>I would like to get all of the usernames and put them with their hscore (stands for high score) with the highest highscore at the top and the smallest at the bottom. this is basicly a leaderboard. (the database is called users)</p>\n\n<p>I had a go myself but I just couldn't get anything productive. if you need more info please ask.</p>\n"},{"tags":["php","soap","soap-client"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":21,"score":0,"question_id":13259084,"title":"SOAP request from xml to php","body":"<p>I need to send this request via php SoapClient but I'm not sure how to structure the options and variables that need to be passed.</p>\n\n<p>Request:</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:tran=\"http://transfirst.com\" xmlns:erep=\"http://schemas.datacontract.org/2004/07/eReportsDC\" xmlns:erep1=\"http://schemas.datacontract.org/2004/07/eReportsEnum\"&gt;\n    &lt;soapenv:Header/&gt;\n    &lt;soapenv:Body&gt;\n        &lt;tran:GetRecurringProfiles&gt;\n            &lt;tran:objRecurringProfilesPageRequest&gt;\n                &lt;erep:Credential&gt;\n                    &lt;erep:MerchantInfo&gt;\n                        &lt;erep:MerchantID&gt;******&lt;/erep:MerchantID&gt;\n                        &lt;erep:RegistrationKey&gt;******&lt;/erep:RegistrationKey&gt;\n                    &lt;/erep:MerchantInfo&gt;\n                    &lt;erep:UserInfo&gt;\n                        &lt;erep:Password xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                        &lt;erep:UserID xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                    &lt;/erep:UserInfo&gt;\n                &lt;/erep:Credential&gt;\n                &lt;erep:PageRequest&gt;\n                    &lt;erep:PageCount&gt;1&lt;/erep:PageCount&gt;\n                    &lt;erep:PageSize&gt;20&lt;/erep:PageSize&gt;\n                &lt;/erep:PageRequest&gt;\n                &lt;erep:RecurringProfileSearchCriteria&gt;\n                    &lt;erep:AccountName xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                    &lt;erep:CustomerReferenceID xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                    &lt;erep:GroupID xsi:nil=\"true\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n                    &lt;erep:MerchantID&gt;******&lt;/erep:MerchantID&gt;\n                    &lt;erep:PaymentTypeCol&gt;\n                        &lt;erep1:PaymentTypeEnum&gt;All&lt;/erep1:PaymentTypeEnum&gt;\n                    &lt;/erep:PaymentTypeCol&gt;\n                    &lt;erep:RecurringStatusCol&gt;\n                        &lt;erep1:RecurringStatusEnum&gt;All&lt;/erep1:RecurringStatusEnum&gt;\n                    &lt;/erep:RecurringStatusCol&gt;\n                    &lt;erep:SortCriteriaRecurringProfile&gt;\n                        &lt;erep:SortColumnNumRecurringProfile&gt;RecurringProfileID&lt;/erep:SortColumnNumRecurringProfile&gt;\n                    &lt;/erep:SortCriteriaRecurringProfile&gt;\n                &lt;/erep:RecurringProfileSearchCriteria&gt;\n            &lt;/tran:objRecurringProfilesPageRequest&gt;\n        &lt;/tran:GetRecurringProfiles&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13264194,"title":"how to get text from pdf file and save it into DB","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4780697/php-pdf-to-string\">php: pdf to string</a>  </p>\n</blockquote>\n\n\n\n<p>i am trying to save text content of pdf file in to DB. I found this link helpful <a href=\"http://stackoverflow.com/questions/4780697/php-pdf-to-string\">php: pdf to string</a>, and worked on it. But it only converts very less amount of data :( why is it so ?</p>\n\n<p>Or any other solution on how to convert complex pdf file (containing header, footer, tables, nd two column layout in some pages etc etc.) in to string and save it to DB ?</p>\n"},{"tags":["php","javascript","jquery","ajax","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13265363,"title":"Site Switching Automatically","body":"<p>I have 4 Websites that I want to <strong>loop</strong> and showcase sort of like a slideshow but without any extra framework/added styling.</p>\n\n<p>I just want to be able to go from Site 1 URL and then 5-10minutes later... it goes to Site 2, then 3 then 4 and then BACK to Site 1. In a never ending loop!</p>\n\n<p>Is this possible and what is the best way to do this smoothly and efficiently??</p>\n\n<p>Appreciate all the help guys.</p>\n"},{"tags":["php","regex","curl","preg-match"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13264459,"title":"PHP undefined index on first request","body":"<p>I have a script that uses regex to get some value on a page retrieved with curl.</p>\n\n<p>the code: <code>preg_match('/&lt;h2&gt;([\\d\\,]+)&lt;\\/h2&gt;/', $curl_exec, $matches);</code></p>\n\n<p>When I <code>print_r($matches)</code> in my browser, it's always there.</p>\n\n<p>I'm using this script in a cron job to get the results every 10 minutes. when I test it myself and use 'php script.php', it always says undefined index for the data i want to get, but if i do 'php script.php' a second time, it works. Does anyone know what could be causing this? Any work arounds?</p>\n\n<pre><code>$CurlHandle = curl_init($StatsUrl);\ncurl_setopt($CurlHandle, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($CurlHandle, CURLOPT_SSL_VERIFYPEER, false);\ncurl_setopt($CurlHandle, CURLOPT_USERAGENT, \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Firefox/17.0\");\n\n$Data = curl_exec($CurlHandle);\n\npreg_match(\"/&lt;h2&gt;([\\d\\,]+)&lt;\\/h2&gt;/\", $Data, $Matches);\n\nprint_r($Data);\n\nif(!isset($Matches[1])) exit('Irrecoverable error.');\n\n$PlayerCount = str_replace(\",\", \"\", $Matches[1]);\n\n$CurrentTime = time();\n</code></pre>\n"},{"tags":["php","google-maps","iframe","popup"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":45,"score":5,"question_id":13265024,"title":"display another website into div in my website","body":"<p>Am using the following code to show map in a popup window. But map does not show in the popup. It is working properly if i use <a href=\"http://www.w3schools.com\" rel=\"nofollow\">http://www.w3schools.com</a> instead of <a href=\"http://maps.google.co.uk/?q=USA\" rel=\"nofollow\">http://maps.google.co.uk/?q=USA</a>.. Anybody please help.</p>\n\n<pre><code>&lt;?php\n    echo \"&lt;div id='login-box' class='login-popup'&gt;\n            &lt;a href='#' class='close'&gt;&lt;img src='binc/close_pop.png' class='btn_close' title='Close Window' alt='Close' /&gt;&lt;/a&gt;&lt;br&gt;\n\n    &lt;iframe src='http://maps.google.co.uk/?q=USA'&gt;&lt;/iframe&gt;&lt;/div&gt;\";\n\n    &lt;a class='login-window' style='color: #0000FF;font: 14px Helvetica;' href='#login-box'&gt;USA&lt;/a&gt;\n\n    ?&gt;\n</code></pre>\n\n<p>incuding the script jquery-1.6.4.js</p>\n\n<pre><code>&lt;script&gt;\n$(document).ready(function() {\n    $('a.login-window').click(function() {\n\n                //Getting the variable's value from a link \n        var loginBox = $(this).attr('href');\n\n        //Fade in the Popup\n        $(loginBox).fadeIn(300);\n\n        //Set the center alignment padding + border see css style\n        var popMargTop = ($(loginBox).height() + 24) / 2; \n        var popMargLeft = ($(loginBox).width() + 24) / 2; \n\n        $(loginBox).css({ \n            'margin-top' : -popMargTop,\n            'margin-left' : -popMargLeft\n        });\n\n        // Add the mask to body\n        $('body').append('&lt;div id=\"mask\"&gt;&lt;/div&gt;');\n        $('#mask').fadeIn(300);\n\n        return false;\n    });\n\n    // When clicking on the button close or the mask layer the popup closed\n    $('a.close, #mask').live('click', function() { \n      $('#mask , .login-popup').fadeOut(300 , function() {\n        $('#mask').remove();  \n    }); \n    return false;\n    });\n});\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","bitwise"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13265448,"title":"php bitwise flag detection operation","body":"<p>// Hi, I want to exclude a flag with bitwise operations, but I don't know how :\n// Here are the flags (they come from filesystemiterator)</p>\n\n<pre><code>define('CURRENT_AS_FILEINFO', 0);\ndefine('CURRENT_AS_SELF', 16);\ndefine('CURRENT_AS_PATHNAME', 32);\ndefine('CURRENT_MODE_MASK', 240);\ndefine('KEY_AS_PATHNAME', 0);\ndefine('KEY_AS_FILENAME', 256);\ndefine('FOLLOW_SYMLINKS', 512);\ndefine('KEY_MODE_MASK', 3840);\ndefine('NEW_CURRENT_AND_KEY', 256);\ndefine('SKIP_DOTS', 4096);\ndefine('UNIX_PATHS', 8192);\n</code></pre>\n\n<p>The user can potentially set any combination of flags.\nI need to detect if CURRENT_AS_SELF or CURRENT_AS_PATHNAME was set,\nso here is my function so far:</p>\n\n<pre><code>function containsPathnameOrSelfFlag($flags) {\n    if ($flags &amp; (CURRENT_AS_PATHNAME | CURRENT_AS_SELF)) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>And here is a test suite :</p>\n\n<pre><code>var_dump(containsPathnameOrSelfFlag(CURRENT_MODE_MASK | CURRENT_AS_PATHNAME)); // true, ok\nvar_dump(containsPathnameOrSelfFlag(CURRENT_AS_FILEINFO)); // false, ok\nvar_dump(containsPathnameOrSelfFlag(CURRENT_MODE_MASK | CURRENT_AS_FILEINFO)); // true, but false was expected, because neither CURRENT_AS_SELF nor CURRENT_AS_SELF were set, so my function is wrong\n</code></pre>\n\n<p>Is it possible to use bitwise operators to make the function pass the third case \n( it should return false )\n?</p>\n\n<p>The problem I see here is that the CURRENT_MODE_MASK's bit overlap the CURRENT_AS_SELF\nand CURRENT_AS_PATHNAME's bits :</p>\n\n<pre><code>0000000000010000 : CURRENT_AS_SELF \n0000000000100000 : CURRENT_AS_PATHNAME \n0000000011110000 : CURRENT_MODE_MASK \n0000000100000000 : KEY_AS_FILENAME\n0000001000000000 : FOLLOW_SYMLINKS\n0000111100000000 : KEY_MODE_MASK\n0000000100000000 : NEW_CURRENT_AND_KEY\n0001000000000000 : SKIP_DOTS\n0010000000000000 : UNIX_PATHS\n</code></pre>\n\n<p>So every time the user add the CURRENT_MODE_MASK to the flags, my function\nwill think that the CURRENT_AS_SELF and the CURRENT_AS_PATHNAME were set too, though it's not the case.\nI don't know how to solve this.</p>\n"},{"tags":["php","jquery","html","symfony2","twig"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13265566,"title":"Export table CSV css3","body":"<p>I have a table that I'll export csv: I tried with this code: I have the next result exacte design but not well.\nI tried to put the column names in tags with css3 but when I have the export i have displays these tags <p> eg\nwho can help me\nmy twig:</p>\n\n<pre><code>  {% block contenu%} id ,CI,CELL , BSC,provider,nbr,cmts,TYPE,analyste {% for row in listes %}{{ row.id }},{{ row.CI }},{{ row.CELL }},{{row.BSC}},{{ row.PROVIDER }},{{ row.nbr }},{{ row.Cmts }},{{row.TYPE}},{{row.user_name}}\n{% endfor %} {% endblock %}\n\nin my controller:\n\n\n\npublic function adminCsvAction() { \n$session =$this-&gt;get('request')-&gt;getSession() ;\n    $user_name = $session-&gt;get('user_name');\n\n$host = \"172.25.1.140\"; \n$user = \"stgzouaoui\"; \n$password = \"stg\"; \n$bdd = \"stg_zouaoui_dev\";\n    mysql_connect($host, $user, $password) or die (\"impossible de se connecter au serveur\" ); \n        mysql_select_db($bdd) or die (\"impossible de se connecter a la base de donnees\" );\n    $sql=\"SELECT stat_alert.id,DAT,PROVIDER,CI,CELL,Cmts,nbr,TYPE,user_name,BSC,id_user FROM stat_alert LEFT OUTER JOIN user_qdf  ON user_qdf.`id` = id_user  WHERE user_qdf.`id`=id_user OR id_user IS NULL\"; \n     $p = mysql_query($sql)OR DIE(\"Erreur sur la requete\");\n\n     $listes = array();\n     while ($row = mysql_fetch_array($p)) {\n     $listes[] = $row;\n }  \n\n\n$filename = \"export_\".date(\"Y_m_d\").\".csv\"; \n\n$response = $this-&gt;render('AdminBlogBundle:GestionAlerte:ok.html.twig', array('listes'=&gt;$listes)); \n$response-&gt;headers-&gt;set('Content-Type', 'text/csv');\n\n$response-&gt;headers-&gt;set('Content-Disposition', 'attachment; filename='.$filename); \nreturn  $response; \n\n\n}\n</code></pre>\n"},{"tags":["php","xml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13243794,"title":"PHP: How to display child node defined in XML xpath?","body":"<p>Hi I want to find a xml node with a text string \"CAT1\" and display but I seems to not able to get it right.  Can someone advise me what's wrong.</p>\n\n<p>---catalog.xml---</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n&lt;Catalog&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT1&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt; Alpha &lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT2&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt; Bravo &lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT3&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt; Charlie &lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT4&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt; Delta &lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n&lt;/Catalog&gt;\n</code></pre>\n\n<p>---arr0.php---</p>\n\n<pre><code>&lt;?php\n$catalog = simplexml_load_file(\"catalog.xml\");\n$category = $catalog-&gt;Category;\n$name = $category-&gt;Name;\n$location = $category-&gt;Location;\n$room = $location-&gt;Room;\n\nfor ($i = 0; $i &lt;= 22; $i++)\n{\n$display = $catalog-&gt;xpath(\"//Category/Name[contains(text(\"CAT1\"),'\".$category[$i]-&gt;$name.\"']/parent::\");\n{\necho $display;\necho $room;\n}\n}\n?&gt;\n</code></pre>\n\n<hr>\n\n<p>The result is to display all details listed under Node [Category][Name] = CAT1, [Location][Room] but I got error in display</p>\n\n<p>Parse error: syntax error, unexpected T_STRING in /home/a3440614/public_html/arr0.php on line 11</p>\n\n<hr>\n\n<p>Any help to correct and simplify it appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mvc","frameworks","kohana","web-frameworks"],"answer_count":8,"favorite_count":7,"up_vote_count":7,"down_vote_count":1,"view_count":1210,"score":6,"question_id":6386800,"title":"Learning Kohana","body":"<p>I'm a reasonable intelligent guy and have been involved in a lot of stuff, like html, php, java, c#, c, c++, assembly, and so on and so forth. All in all I think that there's very little I don't have basic understanding of, though of course I'm by no mean an expert in all the subjects, it's simply to illustrate that I'm not as green as I may very well sound.</p>\n\n<p>Now, the thing is that I've been instructed to learn about the Kohana framework, in order to help with some web development at work. Well, that's all well and good, especially as I'm kinda tired of spending my time correcting other peoples HTML/CSS mess. To do some proper coding for a change would indeed be nice.</p>\n\n<p>So I set out to learn, what I thought would be easy as pie, and not only did I think so, I was told so. Imagine my disappointment when after making an effort, I still didn't have the most basic understanding of the subject.</p>\n\n<p>The documentation is unsatisfying to say the least, and I have yet to find a proper explanation of the subject as a whole.</p>\n\n<p>In short, I understand close to nothing, and the harder the effort I make, the more confused I get. I honestly don't know where to begin and end.</p>\n\n<p>I can't really tell you what I need to get going, as my understanding isn't even significant enough to know what I need to learn. I suppose a tutorial explaining, step by step, how to make something useful, would be in order, but I've been unable to find anything in the many hours I've spend searching.</p>\n\n<p>This is my last way out, and the only possibly solution I could come up with. To ask you how you initially leaned to use Kohana.</p>\n\n<p>I do apologize for the lag of an actual question, but I do hope that you'll do your best to help anyway.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13265344,"title":"Form POST data loop how to assign in a variable and compare to a DB","body":"<p>I have a shopping cart form that once I submit the form I loop the POST values to print it on a table.Here is the loop for the items sold</p>\n\n<pre><code>&lt;?php\n    for($i = 0; $i &lt; count($_POST[\"id\"]); $i++){\n        echo \"&lt;tr&gt;\";\n        echo \"&lt;td&gt;\".$_POST[\"name\"][$i].\"&lt;/td&gt;\";\n        echo \"&lt;td&gt;$ \".$_POST[\"price\"][$i].\"&lt;/td&gt;\";      \n        echo \"&lt;td&gt;\".$_POST[\"quantity\"][$i].\"&lt;/td&gt;\";\n        $total[$i] = $_POST[\"price\"][$i]*$_POST[\"quantity\"][$i];\n        echo \"&lt;td&gt;$ \".$total[$i].\"&lt;/td&gt;\";\n        echo \"&lt;/tr&gt;\"; \n ?&gt;\n</code></pre>\n\n<p>My question is based on this loop I need to compare it to a product DB that has the following fields</p>\n\n<p>|Name | Price | QtyLeft | QtySold | where QtyLeft is the current quantity in stock. So based on the code above how do I query my table to subtract the quantity of the item sold to the QtyLeft and update QtySold?</p>\n"},{"tags":["php","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13265140,"title":"php: Routing in CI (Codeigniter)","body":"<p>Im new to CI framework and i really have a hard time understanding the URL/URI reouting in CI, i've managed to understand some concepts but when i tried testing them, some wont work, in this instance, i have two links, one is Home and the other is Panel, Home links to main/index and panel links to main/panel, heres the snippet to better understand.</p>\n\n<pre><code>&lt;a href=\"main/index\"&gt; Home &lt;/a&gt;\n&lt;a href=\"main/panel\"&gt; Panel &lt;/a&gt;\n</code></pre>\n\n<p>and this is the code for the controller <code>main.php</code></p>\n\n<pre><code>class Main extends CI_Controller\n{\n    public function index()\n    {\n        $this-&gt;load-&gt;helper('url');\n        $this-&gt;load-&gt;helper('form');\n        $this-&gt;load-&gt;view('templates/header');\n        $this-&gt;load-&gt;view('home');\n        $this-&gt;load-&gt;view('templates/footer');\n    }\n\n    public function panel()\n    {\n        $this-&gt;load-&gt;helper('url');\n        $this-&gt;load-&gt;helper('form');\n        $this-&gt;load-&gt;view('templates/header');\n        $this-&gt;load-&gt;view('panel');\n        $this-&gt;load-&gt;view('templates/footer');\n    }\n}   \n</code></pre>\n\n<p>and heres my <code>routes (config/routes.php)</code></p>\n\n<pre><code>$route['main/index'] = \"main/index\";\n$route['main/panel'] = \"main/panel\";\n$route['default_controller'] = \"main/index\";\n</code></pre>\n\n<p>At first run, it will automatically go to main/index, it works fine, but when i click the panel link it says <strong>Object not found</strong> so does the Home link <strong>Object no found</strong></p>\n\n<p>I really have a hard time understanding rounting in CI, please do enlighten me with some of your knowledge. tnx</p>\n\n<p><strong>NOTE</strong>\ni've read some thread but im having a hard time understanding them, their example are too andvance for me to comprehend, so i rather have my own example to help me gain something</p>\n"},{"tags":["java","php",".net","mysql","jsf"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":42,"score":-3,"question_id":13265458,"title":"How to build a standalone application for a dynamic PHP website","body":"<p>Is it possible to build a standalone desktop application to perform the administrator operations of a dynamic website programmed in PHP and uses MySql database. The desktop app should have access to the contents of the database over internet and allow read and write operations. Which platform is better to do this, PHP or .net or Java ?</p>\n"},{"tags":["php","mysql","paging","undefined-index"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2141,"score":0,"question_id":2776514,"title":"paging php error - undefined index","body":"<p>i've a search form with paging. when the user enters the keyword initially, it works fine and displays the required output; however, it also shows this error:</p>\n\n<pre><code>Notice: Undefined index: page in C:\\Users\\user\\Documents\\Projects\\Pro\\search.php on line 21 Call Stack: 0.0011 372344 1. {main}() C:\\Users\\user\\Documents\\Projects\\Pro\\search.php:0 \n</code></pre>\n\n<p>. .and if the user clicks on the 'next' page, it shows no output with this error thrown:</p>\n\n<pre><code>Notice: Undefined index: q in C:\\Users\\user\\Documents\\Projects\\Pro\\search.php on line 19 Call Stack: 0.0016 372048 1. {main}() C:\\Users\\user\\Documents\\Projects\\Pro\\search.php:0\n</code></pre>\n\n<p>this is my code:</p>\n\n<pre><code>&lt;?php\n\nini_set('display_errors',1);\nerror_reporting(E_ALL|E_STRICT);\n\ninclude 'config.php';\n\n\n$search_result = \"\";\n\n$search_result = trim($_GET[\"q\"]);\n\n$page= $_GET[\"page\"]; //Get the page number to show\nif($page == \"\") $page=1;\n\n$search_result = mysql_real_escape_string($search_result);\n\n//Check if the string is empty\nif ($search_result == \"\") {\n  echo  \"&lt;p class='error'&gt;Search Error. Please Enter Your Search Query.&lt;/p&gt;\" ;\n  exit();\n      }\n\nif ($search_result == \"%\" || $search_result == \"_\" || $search_result == \"+\" ) {\n  echo  \"&lt;p class='error1'&gt;Search Error. Please Enter a Valid Search Query.&lt;/p&gt;\" ;\n  exit();\n      }\n\nif(!empty($search_result))\n{\n\n\n\n  // the table to search\n  $table = \"thquotes\";\n  // explode search words into an array\n  $arraySearch = explode(\" \", $search_result);\n  // table fields to search\n  $arrayFields = array(0 =&gt; \"cQuotes\");\n  $countSearch = count($arraySearch);\n  $a = 0;\n  $b = 0;\n  $query = \"SELECT cQuotes, vAuthor, cArabic, vReference FROM \".$table.\" WHERE (\";\n  $countFields = count($arrayFields);\n  while ($a &lt; $countFields)\n  {\n    while ($b &lt; $countSearch)\n    {\n      $query = $query.\"$arrayFields[$a] LIKE '%$arraySearch[$b]%'\";\n      $b++;\n      if ($b &lt; $countSearch)\n      {\n        $query = $query.\" AND \";\n      }\n    }\n    $b = 0;\n    $a++;\n    if ($a &lt; $countFields)\n    {\n      $query = $query.\") OR (\";\n    }\n  }\n  $query = $query.\")\";\n\n     $result = mysql_query($query, $conn)\n      or die ('Error: '.mysql_error());\n\n     $totalrows = mysql_num_rows($result);\n\n     if($totalrows &lt; 1)\n        {\n             echo '&lt;span class=\"error2\"&gt;No matches found for \"'.$search_result.'\"&lt;/span&gt;';\n         }\n        else\n        {\n\n            $limit = 3; //Number of results per page\n            $numpages=ceil($totalrows/$limit);\n\n            $query = $query.\" ORDER BY idQuotes LIMIT \" . ($page-1)*$limit . \",$limit\";\n            $result = mysql_query($query, $conn)\n             or die('Error:' .mysql_error());\n?&gt;\n\n&lt;div class=\"caption\"&gt;Search Results&lt;/div&gt;\n&lt;div class=\"center_div\"&gt;\n&lt;table&gt;\n    &lt;?php while ($row= mysql_fetch_array($result, MYSQL_ASSOC)) {\n        $cQuote =  highlightWords(htmlspecialchars($row['cQuotes']), $search_result);\n        ?&gt;\n        &lt;tr&gt;\n        &lt;td style=\"text-align:right; font-size:15px;\"&gt;&lt;?php h($row['cArabic']); ?&gt;&lt;/td&gt;\n            &lt;td style=\"font-size:16px;\"&gt;&lt;?php echo $cQuote; ?&gt;&lt;/td&gt;\n            &lt;td style=\"font-size:12px;\"&gt;&lt;?php h($row['vAuthor']); ?&gt;&lt;/td&gt;\n            &lt;td style=\"font-size:12px; font-style:italic; text-align:right;\"&gt;&lt;?php h($row['vReference']); ?&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;?php } ?&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n\n&lt;?php\n   //Create and print the Navigation bar\n       $nav=\"\";\n       if($page &gt; 1) {\n            $nav .= \"&lt;a href=\\\"search.php?page=\" . ($page-1) . \"&amp;string=\" .urlencode($search_result) . \"\\\"&gt;&lt;&lt; Prev&lt;/a&gt;\";\n        }\n\n       for($i = 1 ; $i &lt;= $numpages ; $i++) {\n            if($i == $page) {\n                $nav .= \"&lt;B&gt;$i&lt;/B&gt;\";\n            }else{\n                $nav .= \"&lt;a href=\\\"search.php?page=\" . $i . \"&amp;string=\" .urlencode($search_result) . \"\\\"&gt;$i&lt;/a&gt;\";\n            }\n        }\n\n        if($page &lt; $numpages) {\n            $nav .= \"&lt;a href=\\\"search.php?page=\" . ($page+1) . \"&amp;searchstring=\" .urlencode($search_result) . \"\\\"&gt;Next &gt;&gt;&lt;/a&gt;\";\n        }\n\n        echo \"&lt;br /&gt;&lt;br /&gt;\" . $nav;\n\n\n    }\n    }\n    else {\n        exit();\n    } \n\n?&gt;\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":4,"favorite_count":25,"up_vote_count":39,"down_vote_count":0,"view_count":24530,"score":39,"question_id":804399,"title":"CodeIgniter: Create new helper?","body":"<p>I need to loop lot of arrays in different ways and display it in a page. The arrays are generated by a module class. I know that its better not to include functions on 'views' and I want to know where to insert the functions file.</p>\n\n<p>I know I can 'extend' the helpers, but I don't want to extend a helper. I want to kind of create a helper with my loop functions.. Lets call it loops_helper.php</p>\n\n<p>Can I do it?? How?? \nThanks!!</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13265353,"title":"double dot in html name file","body":"<p>I'm curious about this naming file with double dots just like this: \"file.name.php\".</p>\n\n<p>Will this be still a valid url even if it is working inside my page where PHP include call this filename like this setup:</p>\n\n<pre><code>&lt;?php include ('includes/pages/file.name.php'); ?&gt;\n</code></pre>\n\n<p>Am I going to have problem / conflict if i implement this to my site over to server &amp; browsers?</p>\n"},{"tags":["php","xml"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13264612,"title":"PHP: Search for a string in XML","body":"<p>I try the search code below but it is only showing the first child node. Is something missing from my code?</p>\n\n<p>----catalog.xml----</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Catalog&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT1&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt;Alpha&lt;/Room&gt;\n        &lt;/Location&gt;\n        &lt;Location&gt;\n            &lt;Room&gt;Bravo&lt;/Room&gt;\n        &lt;/Location&gt;  \n        &lt;Location&gt;\n            &lt;Room&gt;Charlie&lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n    &lt;Category&gt;\n        &lt;Name&gt;CAT2&lt;/Name&gt;\n        &lt;Location&gt;\n            &lt;Room&gt;Delta&lt;/Room&gt;\n        &lt;/Location&gt;  \n        &lt;Location&gt;\n            &lt;Room&gt;Eagle&lt;/Room&gt;\n        &lt;/Location&gt;  \n        &lt;Location&gt;\n            &lt;Room&gt;Falcon&lt;/Room&gt;\n        &lt;/Location&gt;  \n    &lt;/Category&gt;\n&lt;/Catalog&gt;\n</code></pre>\n\n<p>----arr0.php----</p>\n\n<pre><code>&lt;?php\n$catalog = simplexml_load_file(\"catalog.xml\");\n$category = $catalog-&gt;Category;\n\nforeach($category-&gt;Name as $name)\n{\n    $menu = (string)$name;\n    $i = 0;\n    if ($menu == \"CAT1\" )\n{\n        echo $category-&gt;Location-&gt;Room[$i];\n        $i++;       \n}\nelse \n{\n        echo \"No result\";\n}\n}\n?&gt;\n</code></pre>\n\n<p>---------Output----------</p>\n\n<p>Alpha</p>\n\n<hr>\n\n<p>Bravo and Charlie is missing from display.  Need someone advise where am I missing something?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","xml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":15,"score":-3,"question_id":13265335,"title":"How to update XML file with PHP?","body":"<p>I have the following code in an XML file:</p>\n\n<pre><code>&lt;resources&gt;\n &lt;string name=\"a_n\"&gt;&lt;/string&gt;\n &lt;string name=\"p_i\"&gt;&lt;/string&gt;\n &lt;string name=\"j_b\"&gt;&lt;/string&gt;\n &lt;string name=\"b_b\"&gt;&lt;/string&gt;\n &lt;color name=\"b_c\"&gt;&lt;/color&gt;\n &lt;color name=\"b_c_2\"&gt;&lt;/color&gt;\n &lt;color name=\"t_c\"&gt;&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>I would like to add some words between the tags for each node with PHP. I can't get simpleXML to work. Can someone please give me a bit of help?</p>\n"},{"tags":["php","mysql","sql","date"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13192083,"title":"combining results of 3 queries in one result","body":"<p>i have 3 queries and i want all result be in only one result using array_merge and array_unique.</p>\n\n<p>here's the queries:</p>\n\n<pre><code>            $query1 = mysql_query(\"SELECT * FROM prereservation where '$arival' BETWEEN arrival and departure and room_id ='11' and status = 'active'\");  \n        while($rows1 = mysql_fetch_assoc($query1)){\n        echo $rows1['id']. \" - \". $rows1['qty'];\n        echo \"&lt;br /&gt;\";\n        }\n\n        $query2 = mysql_query(\"SELECT * FROM prereservation where '$departure' BETWEEN arrival and departure and room_id ='11' and status = 'active'\");\n        while($rows2 = mysql_fetch_assoc($query2)){\n        echo $rows2['id']. \" - \". $rows2['qty'];\n        echo \"&lt;br /&gt;\";\n        }\n\n        $query3 = mysql_query(\"SELECT * FROM prereservation where arrival &gt; '$arival' and departure &lt; '$departure' and room_id ='11' and status = 'active'\");\n        while($rows3 = mysql_fetch_assoc($query3)){\n        echo $rows3['id']. \" - \". $rows3['qty'];\n        echo \"&lt;br /&gt;\";\n        }\n\nexample result is:    \nfor       $rows1     |     $rows2     |     $rows3\n        id  |  qty   |   id  |  qty   |   id  |  qty\n       -----|--------|-------|--------|-------|------\n        01  |   1    |   01  |   1    |   02  |   1\n        03  |   1    |   02  |   1    |   03  |   1\n        04  |   1    |   03  |   1    |   04  |   1\n        08  |   1    |   05  |   1    |   05  |   1\n</code></pre>\n\n<p>i dont know if this is right? </p>\n\n<pre><code>$sample = array_unique(array_merge($rows1['id'], $rows2['id'], $rows3['id']))\n</code></pre>\n\n<p>i want to use array_merge and array_unique for id's of each results\nso the final result for id's that will be left is </p>\n\n<pre><code>01, 02, 03, 04, 05, 08.\n</code></pre>\n\n<p>and for the next query all i want is the sum(qty) of those id's.\nbut i don't know how to write a query for this, here's my sample:</p>\n\n<pre><code>$query = mysql_query(\"SELECT sum(qty) FROM prereservation where id = $sample\");\n\n        while($rows = mysql_fetch_array($query))\n          {\n          $total_qty = $rows['sum(qty)'];\n          }     \n</code></pre>\n\n<p>so the sum(qty) is equal to 6.\nplease correct my mistakes for coding, thanks guys...</p>\n\n<p><strong>Finally i found the solution, here it is..</strong></p>\n\n<pre><code>$a = $p['id'];\n        $query1 = mysql_query(\"SELECT DISTINCT id, SUM(qty)\n        FROM prereservation \n        WHERE \n        (\n            ( '$arival1' BETWEEN arrival AND departure ) OR \n            ( '$departure1' BETWEEN arrival AND departure ) OR \n            ( arrival &gt; '$arival1' AND departure &lt; '$departure1' )\n        )\n            AND room_id ='$a' \n            AND STATUS = 'active'\");  \n        while($rows1 = mysql_fetch_assoc($query1)){\n        $set1 = $rows1['SUM(qty)'];\n        }   \n        ?&gt; \n        &lt;select id=\"select\" name=\"qty[]\" style=\" width:50px;\" onchange=\"checkall()\"&gt;\n        &lt;option value=\"0\"&gt;&lt;/option&gt;\n        &lt;? $counter = 1; ?&gt;\n        &lt;? while ($counter &lt;= ($p['qty']) - $set1){ ?&gt;\n        &lt;option value=\"&lt;?php echo $counter ?&gt;\"&gt;&lt;?php echo $counter ?&gt;&lt;/option&gt;\n        &lt;? $counter++;\n        }?&gt;\n        &lt;/select&gt;\n</code></pre>\n\n<p><strong>solution was made by combining all of your answers, thank you guys..</strong></p>\n"},{"tags":["php","mysql","date","datetime","timezone"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13264846,"title":"convert timezone to another timezone","body":"<p>I want to convert the date I fetched from the database, which is generated via <code>CURRENT_TIMESTAMP</code> and stored in a <code>timestamp</code> column type, from GMT+8 to GMT+1.</p>\n\n<pre><code>$time = \"2012-11-07 15:05:26\"; // fetch from database\n$date = new DateTime($time, new DateTimeZone('Europe/Berlin'));\necho $date-&gt;format('Y-m-d H:i:s');\n</code></pre>\n\n<p>However this will yield an output of <strong>\"2012-11-07 15:05:26\"</strong>, which I'm pretty sure is wrong.</p>\n\n<p>What could be I'm missing in here?</p>\n"},{"tags":["php","mysql"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":11686805,"title":"echo info from a database as a link","body":"<p>is it possible to echo info from a database as a link, I tried the code below but got a parse error. is there some other way of doing it. Thanks</p>\n\n<pre><code>&lt;?php\nsession_start();\nif(isset($_SESSION['email'])){\n\n    $connect = mysql_connect(\"localhost\",\"root\",\"\") or die(\"Couldn't connect!\");\n    mysql_select_db(\"test\") or die(\"Couldn't find database\");\n    $email=$_SESSION['email'];\n    $sql = mysql_query(\"SELECT *  FROM users WHERE email='$email'\");\n    $info = mysql_fetch_assoc($sql);\n\necho\"&lt;a href='home.php'&gt; $info['firstname']&lt;/a&gt;\"\n   }\n\n      ?&gt;\n</code></pre>\n"},{"tags":["php","javascript","png","base64"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13265131,"title":"download base_64 string as png in browser","body":"<p>I edit a png image put some text on it and display is as</p>\n\n<pre><code>&lt;?php    \nob_start();\nimagepng($img, NULL);\n$rawImageBytes = ob_get_clean();\nimagedestroy($img);\necho \"&lt;img id='ca_image' src='data:image/png;base64,\" . base64_encode($rawImageBytes)     . \"' /&gt;\";\n\n?&gt;\n&lt;a href=\"#\" onclick=\"return download();\"&gt;Download&lt;/a&gt;\n&lt;script&gt;\nfunction download(){\nvar img =document.getElementById(\"ca_image\").src;\nvar url = img.replace(/^data:image\\/[^;]/, 'data:application/octet-stream');\nlocation.href = url;\n&lt;/script&gt;\n</code></pre>\n\n<p>as i change the content type of file,browser automatically pop up window to download but downloaded file type is PART . i want to download base_64 as png file.\nis this possible by this approach?\nis this the right approach to save file as png?\nif not Please suggest the right way to solve my problem.</p>\n"},{"tags":["php","mysql","sql","query"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13242249,"title":"Sorting mysql results by times from 3 tables","body":"<p>I have 3 tables: <code>questions</code>, <code>articles</code> and <code>pictures</code></p>\n\n<p>The rows in each table contain a current_timestamp column <code>posted</code>, and link to an id. I'd like to sort the results of the rows of all three by their timestamp and only echo the newest of the three (for example: if the question is newest from the ID, display that only)</p>\n\n<pre><code>if(count($interests) != 0){ foreach($interests as $interests_following){\n    $interestid = mysql_result(mysql_query(\"SELECT `id` FROM `interests` WHERE `name` = '$interests_following'\"),0);\n    $interestquestions = @mysql_result(mysql_query(\"SELECT `question_text`, `posted` FROM `questions` WHERE `interest` = '$interests_following'\"),0);\n    $interestarticles = @mysql_result(mysql_query(\"SELECT `article_title`, `posted` FROM `articles` WHERE `interest_id` = '$interestid'\"),0);\n    $interestpictures = @mysql_result(mysql_query(\"SELECT `interest_pic_title`, `posted` FROM `interest_pictures` WHERE `interest_id` = '$interestid'\"),0);\n\necho '.$interests_following.': //&lt;Only display 1 newest item (article/picture/question here&gt;\n</code></pre>\n"},{"tags":["php","mysql","database-design","open-source","erp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13265218,"title":"ERP Database Design and Architecture","body":"<p>Looking for any OpenSource ERP based in PHP - mainly to understand how to do Database Design and Architecture for the same. </p>\n\n<p>We are building a custom ERP to maintain a Shoe Manufacturing Unit and looking for a starting point where we can understand what details will go into place in building the ERP.</p>\n\n<p>What i am looking for is </p>\n\n<ol>\n<li>Architecture </li>\n<li>Database Design</li>\n</ol>\n\n<p>Do we need to Use a NoSQL based system or MySQL is a good choice</p>\n"},{"tags":["php","mysql","sql","date"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":13089536,"title":"Query for hotel reservation","body":"<p>I have three queries in a hotel reservation system where reserves are automatic deducted from the total number of rooms. All I want those three queries goes all in only one query. My query looks like this: </p>\n\n<p><code>$p =</code> is in a <code>foreach</code> loop where <code>$p['id']</code> is the <em>id</em> of each room class and <code>$p['qty']</code> is the maximum rooms of each room class.</p>\n\n<pre><code>$a = $p['id'];\n$query = mysql_query(\"SELECT sum(qty) FROM prereservation where '$arrival' BETWEEN arrival and departure and room_id ='$a' and status = 'active'\");\n        while($rows = mysql_fetch_array($query))\n          {\n          $inogbuwin=$rows['sum(qty)'];\n          }\n$query = mysql_query(\"SELECT sum(qty) FROM prereservation where departure BETWEEN '$arrival' and '$departure' and room_id ='$a' and status = 'active'\");\n        while($rows = mysql_fetch_array($query))\n          {\n          $inogbuwin2=$rows['sum(qty)'];\n          }\n$query = mysql_query(\"SELECT sum(qty) FROM prereservation where '$departure' BETWEEN arrival and departure and room_id ='$a' and status = 'active'\");\n        while($rows = mysql_fetch_array($query))\n          {\n          $inogbuwin3=$rows['sum(qty)'];\n          }\n\n&lt;select&gt;\n &lt;option value=\"0\"&gt;&lt;/option&gt;\n &lt;? $counter = 1; ?&gt;\n &lt;? while ($counter &lt;= ($p['qty'])-($inogbuwin + $inogbuwin2 + $inogbuwin3)){ ?&gt;\n &lt;option value=\"&lt;?php echo $counter ?&gt;\"&gt;&lt;?php echo $counter ?&gt;&lt;/option&gt;\n &lt;? $counter++;\n }?&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Every time I put a date between the range of those three queries, the total deducted is also tripled which is the reason I want those three queries to be all in one.</p>\n\n<p>for example i have a record in database of \n<code>arrival = 27/10/2012 and departure = 29/10/2012</code></p>\n\n<p>and the input dates that are not available in range is</p>\n\n<pre><code> $arrival = 27/10/2012 and $departure = 29/10/2012 \n $arrival = 26/10/2012 and $departure = 27/10/2012 \n $arrival = 29/10/2012 and $departure = 30/10/2012 \n $arrival = 26/10/2012 and $departure = 30/10/2012 \n $arrival = 29/10/2012 and $departure = 29/10/2012 \n</code></pre>\n\n<p>so each date that in rance of those three queries are also the deductions, so i want those queries to be in one. thanks guys</p>\n\n<p>after all i fixed the errors but only one preblem left. i fixed the reservation dates in only a single month, the problem is when the inputs of arrival and departure are not in the same month it does'nt work either. here's my code again below.</p>\n\n<pre><code>&lt;?\n$a = $p['id'];\n    $query = mysql_query(\"SELECT\n    SUM(IF('$arrival' BETWEEN arrival and departure, qty, 0)) AS bu1,\n    SUM(IF('$departure' BETWEEN arrival and departure, qty, 0)) AS bu2,\n    SUM(IF(arrival &gt; '$arrival' and departure &lt; '$departure', qty, 0)) AS bu3\n    FROM prereservation WHERE room_id ='$a' and status = 'active'\");\n    $row = mysql_fetch_array($query);\n\n    $test1 = $row['bu1'];\n    if ($row['bu1'] == $row['bu2']){\n        $test2 = $row['bu2'] - $row['bu1'];\n    }else{\n        $test2 = $row['bu2'];\n    }       \n        $test3 = $row['bu3'];\n    ?&gt;      \n&lt;select id=\"select\" name=\"qty[]\" style=\" width:50px;\" onchange=\"checkall()\"&gt;\n&lt;option value=\"0\"&gt;&lt;/option&gt;\n    &lt;? $counter = 1; ?&gt;\n&lt;? while ($counter &lt;= ($p['qty']) - ($test1 + $test2 + $test3)){ ?&gt;\n    &lt;option value=\"&lt;?php echo $counter ?&gt;\"&gt;&lt;?php echo $counter ?&gt;&lt;/option&gt;\n    &lt;? $counter++;\n    }?&gt;\n</code></pre>\n\n<p>please help me guys how to solve this reservation query, or maybe there's an other way to solve this in php code. thanks guys.</p>\n\n<p><strong>Finally i'm finished and found the solution, here it is:</strong></p>\n\n<pre><code>            $a = $p['id'];\n        $query1 = mysql_query(\"SELECT DISTINCT id, SUM(qty)\n        FROM prereservation \n        WHERE \n        (\n            ( '$arival1' BETWEEN arrival AND departure ) OR \n            ( '$departure1' BETWEEN arrival AND departure ) OR \n            ( arrival &gt; '$arival1' AND departure &lt; '$departure1' )\n        )\n            AND room_id ='$a' \n            AND STATUS = 'active'\");  \n        while($rows1 = mysql_fetch_assoc($query1)){\n        $set1 = $rows1['SUM(qty)'];\n        }   \n        ?&gt; \n        &lt;select id=\"select\" name=\"qty[]\" style=\" width:50px;\" onchange=\"checkall()\"&gt;\n        &lt;option value=\"0\"&gt;&lt;/option&gt;\n        &lt;? $counter = 1; ?&gt;\n        &lt;? while ($counter &lt;= ($p['qty']) - $set1){ ?&gt;\n        &lt;option value=\"&lt;?php echo $counter ?&gt;\"&gt;&lt;?php echo $counter ?&gt;&lt;/option&gt;\n        &lt;? $counter++;\n        }?&gt;\n        &lt;/select&gt;\n</code></pre>\n\n<p><strong>thank you guys for sharing your ideas, this solution is the combinations of your answers.. thanks again!!</strong></p>\n"},{"tags":["php","performance"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":36,"score":-1,"question_id":13265093,"title":"Using too many if blocks is good ? what are possible alternatives?","body":"<p>I have been designing a shopping website lately in PHP. Now in Checkout page i have to check many times if the user is logged in. i.e If the user is logged in <em>hide the Signin div</em> and <em>show the Shipping div</em>.</p>\n\n<pre><code>&lt;section class=\"panels &lt;?php if(!isset($_SESSION['username'])) echo\"unactivepanel\"; else echo\"activepanel\";?&gt;\" id=\"Sign In\"&gt;\n        &lt;div class=\"wrapper1\" &gt;\n            &lt;ul&gt;\n            &lt;li&gt;&lt;input type=\"email\" placeholder=\"Enter your email address\" required/&gt;&lt;/li&gt;\n            &lt;li class=\"inf\"&gt;(will only be used for sending you order information.)&lt;/li&gt;\n            &lt;fieldset&gt;&lt;legend class=\"orb\"&gt; OR&lt;/legend&gt;\n            &lt;li&gt;&lt;input type=\"button\" value=\"Sign In to booksmore\" class=\"sb si llb\" /&gt;&lt;/li&gt;&lt;/fieldset&gt;\n            &lt;fieldset&gt;&lt;legend class=\"orb\"&gt; OR&lt;/legend&gt;\n            &lt;li&gt;Sign In using any of following service:&lt;/li&gt;\n            &lt;li&gt;\n                &lt;div class=\"box1 fc\"&gt;Facebook&lt;/div&gt;\n                &lt;div class=\"box1 tw\"&gt;Twitter&lt;/div&gt;\n                &lt;div class=\"box1 gg\"&gt;Google&lt;/div&gt;\n                &lt;div class=\"box1 oi\"&gt;Open Id&lt;/div&gt;\n            &lt;/li&gt;&lt;/fieldset&gt;\n\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/section&gt;\n    &lt;section class=\"panels &lt;?php if(!isset($_SESSION['username'])) echo\"unactivepanel\"; else echo\"activepanel\";?&gt;unactivepanel\" id=\"Shipping\"&gt;&lt;/section&gt;\n    &lt;section class=\"panels unactivepanel\" id=\"Confirm\"&gt;&lt;/section&gt;\n</code></pre>\n\n<p>What i have studied is using too many <strong>if</strong> block slows down the executions speed, So am I right using too many <strong>if</strong> blocks ? if I am not coding it right(<em>what i feel right now</em>) then what may be the possible alternatives to <strong>if</strong> blocks ? (I was thinking of using <strong>switch</strong> block.)</p>\n"},{"tags":["php","rectangles"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13265044,"title":"How can I generate a rectangle and a text center aligned in the rectangle in php?(not a text box)","body":"<p>I am trying to create a function that generates an rectangle with some text on it.</p>\n\n<p>I have the following function:</p>\n\n<pre><code>&lt;?php\nfunction  create_image()\n{\n $im = @imagecreate(190, 190)or die(\"Cannot Initialize new GD image stream\");\n $background_color = imagecolorallocate($im, 255, 255, 255);\n imagerectangle($im, 5, 5, $_SESSION['lungime'], 5+$_SESSION['latime'], $black);\n\n for ($i=1, $k=0; $i&lt;=$_SESSION['rand'] ; $i++, $k=$k+12)\n imagettftext($im, 12, 0,5+x/2-(strlen($_SESSION['rand'.$i]))/2, 12+$k, $black, $_SESSION['fontr'.$i], $_SESSION['rand'.$i]);\n\n imagepng($im,\"image.png\");\n imagedestroy($im);\n}\n?&gt;\n</code></pre>\n\n<p>I want the text that is generated within the for loop to be centered in the rectangle. I can't do it with strlen because it returns the number of characters that the string has. How cand I do that?</p>\n\n<p>What about generating a center-aligned text in a generated circle?</p>\n\n<p>Please help me !\nThank you !</p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13264850,"title":"Input keyword & hit Enter key to get result from mysql","body":"<p>here is an idea to select ID from combo box &amp; then it will automatically print data in html form field so that the field can be edit easily. i have 2 files so far- index.html &amp; showData.php. here is the index.html file:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n\n    &lt;script&gt;\n\n        function showData(str)\n        {\n            if (str==\"\")\n            {\n                document.getElementById(\"ajax-content\").innerHTML=\"\";\n                return;\n            } \n\n            // Code for IE7+, Firefox, Chrome, Opera, Safari\n            if (window.XMLHttpRequest)\n            {\n                xmlhttp=new XMLHttpRequest();\n            }\n\n            // Code for IE6, IE5\n            else\n            {\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n\n            xmlhttp.onreadystatechange=function()\n            {\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n                {\n                    document.getElementById(\"ajax-content\").innerHTML=xmlhttp.responseText;\n                }\n            }\n\n            xmlhttp.open(\"GET\",\"showData.php?id=\"+str,true);\n\n            xmlhttp.send();\n        }\n\n    &lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form&gt;\n\n&lt;select name=\"register\" onchange=\"showData(this.value)\"&gt;\n        &lt;option value=\"\"&gt;Select ID:&lt;/option&gt;\n        &lt;option value=\"001\"&gt;001&lt;/option&gt;\n        &lt;option value=\"002\"&gt;002&lt;/option&gt;\n        &lt;option value=\"003\"&gt;003&lt;/option&gt;\n    &lt;/select&gt;   \n\n&lt;/form&gt;\n\n&lt;div id=\"ajax-content\"&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>and here is my showData.php file:</p>\n\n<pre><code>&lt;?php\n\n    // Receive variable from URI\n    $id=$_GET[\"id\"];\n\n    // Connect to your database\n    $con = mysql_connect('localhost', 'root', '');\n    if (!$con)\n    {\n        die('Could not connect: ' . mysql_error());\n    }\n\n    // Select your database\n    mysql_select_db(\"test_01\", $con);\n\n    // Select all fields from your table\n    $sql=\"SELECT * FROM staffdetails WHERE id = '\".$id.\"'\";\n\n    $result = mysql_query($sql);\n\n    while($row = mysql_fetch_array($result))\n    {\n\n        echo \"Staff Name:\" . \"&lt;input type='text' value='\" . $row['name'] . \"'&gt;\";\n        echo \"&lt;/br&gt;\";\n        echo \"Contact No.:\" . \"&lt;input type='text' value='\" . $row['number'] . \"'&gt;\";\n    }\n\n    // Close the connection\n    mysql_close($con);\n\n?&gt;\n</code></pre>\n\n<p>now, what i'm trying to do is to type ID into form field (<em>rather than 'select from list'</em>) and press enter (<strong>without having any 'submit' button</strong>) to get the result on the form's field. anyone can help please?</p>\n"},{"tags":["php","localhost","osx-mountain-lion","php.ini","sessionid"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":12976457,"title":"PHP Session ID in URL on localhost","body":"<p>For some reason, my local install of a project I'm working on is adding the PHP session ID to the URLs. This doesn't happen on any other servers. Is there a setting I can change on my end to alter this? I'm using PHP 5.4 on Mac OS 10.8.2</p>\n\n<p>Sample URL: <code>http://localhost/project/subfolder/index.php/admin/game?PHPSESSID=mhnpc0g2c8rijqpkf8lhpfshh7</code></p>\n\n<p>Should be: <code>http://localhost/project/subfolder/index.php/admin/game</code></p>\n\n<p><strong>Update:</strong> I've checked my PHP.ini file and I have the following settings correct, but I'm still getting the session ID in the URL.</p>\n\n<pre><code>session.use_cookies = 1\nsession.use_only_cookies = 1\nsession.use_trans_sid = 0\n</code></pre>\n\n<p>Oh, and for good measure I'm restarting Apache after each change to PHP.ini :-)</p>\n\n<p><strong>2nd Update:</strong> Where else on my mac could an ini file be hiding? Is PEAR messing with this maybe? Thanks all!</p>\n"},{"tags":["c#","php","jquery","xml","rss"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13262991,"title":"Item section of an rss xml - any unique field","body":"<p>I have a specification not to include the description element in a returned rss items to a mobile device. This is because the client claims the description text is too big for the mobile device to handle. The client is now asking there should be a unique field to identify each item that when sent to my application would retrieve the description for that item section.</p>\n\n<p>My question is which of these elements value can be used to identify the item? I read that the <code>&lt;guid&gt;</code> element is not reliable and is an optional element.</p>\n\n<pre><code>  &lt;item&gt;\n    &lt;title&gt;RSS Tutorial&lt;/title&gt;\n    &lt;link&gt;http://www.w3schools.com/rss&lt;/link&gt;\n    &lt;description&gt;New RSS tutorial on W3Schools&lt;/description&gt;\n    &lt;guid&gt;http://www.w3schools.com/rss/item0768&lt;/guid&gt;\n    ...\n    ...\n  &lt;/item&gt;\n</code></pre>\n\n<p>What I currently have in mind now is assume the items will always have a fixed position [1,2,3,4,5]. items[1] will always be items[1]. So I want to add another element <code>&lt;index&gt;i&lt;/index&gt;</code>. Any suggestion? Thanks.</p>\n\n<p><strong>update</strong></p>\n\n<p>I think I need to focus on the implementation at hand. According to the rss specification, sub-elements in the item element are optional, and so is guid. Now it is present in the rss am working with, and I think I'll use that</p>\n"},{"tags":["php","mysql","pdo","parameter-passing","session-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13265072,"title":"Passing PHP Session variable through MySQL command in PDO","body":"<p>I have the following code in PHP. I am trying to pass the log-in value from the session variable into my SELECT command in my database. The ? represents the log-in created in the session. :\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>try {    \n    $conn = new PDO(A_DB_HOST, A_DB_USER, A_DB_PASSWORD);\n    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\n    echo 'Connection failed: ' . $e-&gt;getMessage();\n}\n$member['login'] = $_SESSION['SESS_login'];\n$qry=$conn-&gt;prepare(\"SELECT * FROM {?}_clients WHERE login=?\");\n$qry-&gt;bindParam(1, $_SESSION['SESS_login']);\n$qry-&gt;execute();\n</code></pre>\n\n<p>Currently, I am getting the following error:    </p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[HY093]: Invalid parameter number: number of bound variables does not match number of tokens' in /home/content/14/9957114/html/agent-member-index.php:15 Stack trace: #0 /home/content/14/9957114/html/agent-member-index.php(15): PDOStatement->execute() #1 {main} thrown in /home/content/14/9957114/html/agent-member-index.php on line 15</p>\n</blockquote>\n\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["php","mysql","ajax","select"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13264965,"title":"Return value from select box","body":"<p>I have 3 select boxes drop_1,drop_2 and drop_3. The last 2 are added dynamically on the selection of the previous one. create_promo.php is the page that loads all the boxes. But i have used func.php to load dynamic select boxes.Hence I am not getting drop_2 and drop_3 values in my form processing page promo_process.php called by create_promo.php.I want to send back my drop_2 and drop_3 values back to my create_promo.php. </p>\n\n<p><strong>create_promo.php</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$('#wait_1').hide();\n$('#drop_1').change(function(){\n$('#wait_1').show();\n$('#result_1').hide();\n    $.get(\"func.php\", {\n    func: \"drop_1\",\n    drop_var: $('#drop_1').val()\n    }, function(response){\n    $('#result_1').fadeOut();\n        setTimeout(\"finishAjax('result_1', '\"+escape(response)+\"')\", 400);\n    });\nreturn false;\n});\n});\n\nfunction finishAjax(id, response) {\n    $('#wait_1').hide();\n    $('#'+id).html(unescape(response));\n    $('#'+id).fadeIn();\n}\nfunction finishAjax_tier_three(id, response) {\n    $('#wait_2').hide();\n    $('#'+id).html(unescape(response));\n    $('#'+id).fadeIn();\n}\n&lt;/script&gt;\n\n&lt;form action=\"promo_process.php\" method=\"post\"&gt;\n&lt;tr&gt;\n    &lt;td class=\"normalfont\"&gt;SELECTION 1&lt;/td&gt;\n    &lt;td&gt;\n        &lt;select name=\"drop_1\" id=\"drop_1\"&gt;\n        &lt;option value=\"\" selected=\"selected\" disabled=\"disabled\"&gt;Select 1&lt;/option&gt;\n        &lt;?php getTierOne(); ?&gt;\n        &lt;/select&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;    \n     &lt;td class=\"normalfont\"&gt;SELECTION 2&lt;/td&gt;    \n &lt;td&gt;\n     &lt;span id=\"wait_1\" style=\"display: none;\"&gt;\n     &lt;img alt=\"Please Wait\" src=\"images/ajax-loader.gif\"/&gt;\n     &lt;/span&gt;\n     &lt;span id=\"result_1\" style=\"display: none;\"&gt;&lt;/span&gt;\n     &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n     &lt;td class=\"normalfont\"&gt;SELECTION 3:&lt;/td&gt;\n &lt;td&gt;\n    &lt;span id=\"wait_2\" style=\"display: none;\"&gt;\n        &lt;img alt=\"Please Wait\" src=\"images/ajax-loader.gif\"/&gt;\n    &lt;/span&gt;\n    &lt;span id=\"result_2\" style=\"display: none;\"&gt;&lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/form&gt;\n&lt;?php\n     include('connect.php');\n     function getTierOne()\n     {\n         $result = mysql_query(\"SELECT s_name FROM selection1\") or die(mysql_error());\n         while($tier = mysql_fetch_array( $result )) \n     {\n         echo '&lt;option value=\"'.$tier['s_name'].'\"&gt;'.$tier['s_name'].'&lt;/option&gt;';\n         }\n     }\n?&gt;\n</code></pre>\n\n<p><strong>func.php</strong></p>\n\n<pre><code>&lt;?php\n     include('connect.php');\n     if($_GET['func'] == \"drop_1\" &amp;&amp; isset($_GET['func'])) {\n          drop_1($_GET['drop_var']); \n     }\n     function drop_1($drop_var)\n     {\n          $result = mysql_query(\"SELECT DISTINCT a_name FROM select_2 WHERE s_id=(select s_id from s_name where s_name='$drop_var')\") or die(mysql_error());\n          echo '&lt;select name=\"drop_2\" id=\"drop_2\"&gt;\n                   &lt;option value=\" \" disabled=\"disabled\" selected=\"selected\"&gt;Select 2&lt;/option&gt;\n                   &lt;option value=\"ALL\" &gt;ALL&lt;/option&gt;';\n          while($drop_2 = mysql_fetch_array( $result ))\n          {\n              echo '&lt;option value=\"'.$drop_2['a_name'].'\"&gt;'.$drop_2['a_name'].'&lt;/option&gt;';\n          }\n      echo '&lt;/select&gt;';\n      echo \"&lt;script type=\\\"text/javascript\\\"&gt;\n       $('#wait_2').hide();\n       $('#drop_2').change(function(){\n       $('#wait_2').show();\n       $('#result_2').hide();\n               $.get(\\\"func.php\\\", {\n            func: \\\"drop_2\\\",\n            drop_var: $('#drop_2').val()\n               }, function(response){\n               $('#result_2').fadeOut();\n               setTimeout(\\\"finishAjax_tier_three('result_2', '\\\"+escape(response)+\\\"')\\\", 400);\n               });\n           return false;\n           });\n           &lt;/script&gt;\";\n   }\n   if($_GET['func'] == \"drop_2\" &amp;&amp; isset($_GET['func'])) {\n          drop_2($_GET['drop_var']);\n   }\n   function drop_2($drop_var)\n   {\n          if($drop_var==\"ALL\")\n              $result = mysql_query(\"SELECT DISTINCT h_name FROM select_3\")or die(mysql_error());\n      else  \n      $result = mysql_query(\"SELECT DISTINCT h_name FROM select_3 WHERE a_id=(select a_id from select_2 where a_name='$drop_var')\")or die(mysql_error());\n      echo '&lt;select name=\"drop_3\" id=\"drop_3\"&gt;\n                &lt;option value=\" \" disabled=\"disabled\" selected=\"selected\"&gt;Select 3&lt;/option&gt;\n            &lt;option value=\"ALL\"&gt;ALL&lt;/option&gt;';\n      while($drop_3 = mysql_fetch_array( $result ))\n     {\n    echo '&lt;option value=\"'.$drop_3['h_name'].'\"&gt;'.$drop_3['h_name'].'&lt;/option&gt;';\n         }\n     echo '&lt;/select&gt; ';\n   }\n\n?&gt;\n</code></pre>\n\n<p><strong>promo_process.php</strong></p>\n\n<pre><code>&lt;?php\ninclude 'connect.php';\n$errmsg = array(); //Array to store errors\n$errflag = false; //Error flag\n\n$drop = mysql_real_escape_string($_POST['drop_1']);\n$drop_2 = mysql_real_escape_string($_POST['drop_2']);\n$drop_3 = mysql_real_escape_string($_POST['drop_3']);\nif($drop== ' ' &amp;&amp; $drop_2== ' ' &amp;&amp; $drop_3==' ')\n{\n    $errmsg[] = 'SELECT PLEASE'; //Error\n    $errflag = true; //Set flag so it says theres an error\n}\n\nif($errflag) {\n    $_SESSION['ERRMSG'] = $errmsg; //Write errors\n    session_write_close(); //Close session\n    header(\"location: create_promo.php\"); //Rediect\n    exit(); //Block scripts\n}\n?&gt;\n</code></pre>\n\n<p>I'm getting error saying \"Undefined index drop_1 and drop_2\" in promo_process.php. How do i retain those values?</p>\n"},{"tags":["php","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13264041,"title":"Wordpress Template - \"Catchable fatal error: Object of class __PHP_Incomplete_Class could not be converted to string\"","body":"<p>I'm using the latest version of Wordpress and while writing a new post, i'm getting a following error in place of the optional boxes, located below the writing area:</p>\n\n<blockquote>\n  <p>Catchable fatal error: Object of class __PHP_Incomplete_Class could\n  not be converted to string in\n  /home/xxx/public_html/wp-content/themes/xxx/functions/meta-boxes.php\n  on line 466</p>\n</blockquote>\n\n<p>I've pasted a the problem code below taken from meta-boxes.php</p>\n\n<p>Also, below, i've commented on the 466th line of code to let you know where the point if error is:  </p>\n\n<pre><code> &lt;?php  \n    // get review-specific meta fields\n    global $oswcPostTypes; \n    $postTypeId = get_post_type( $post-&gt;ID );   \n    $postType = $oswcPostTypes-&gt;get_type_by_id($postTypeId);\n    $meta_fields = $postType-&gt;meta_fields;\n    foreach($meta_fields as $meta){\n        //make backwards compatible\n        if(is_object($meta)){\n            $metaName = $meta-&gt;name;\n        }else{\n            $metaName = $meta;\n        }\n        $metaNameSafe = str_replace(\" \",\"_\",$metaName); // **466th line of error**\n        $theMeta = get_post_meta($post-&gt;ID, $metaName, $single = true); ?&gt;      \n        &lt;p&gt;\n        &lt;label for=\"&lt;?php echo $metaNameSafe; ?&gt;\"&gt;&lt;?php echo $metaName; ?&gt;&lt;/label&gt; &lt;/td&gt;\n        &lt;textarea class=\"widefat\" id=\"&lt;?php echo $metaNameSafe; ?&gt;\" name=\"&lt;?php echo $metaNameSafe; ?&gt;\"&gt;&lt;?php echo $theMeta; ?&gt;&lt;/textarea&gt;\n        &lt;/p&gt;\n\n    &lt;?php \n</code></pre>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":11885760,"title":"Page getting loaded multiple times when mod_rewrite enabled (and css missing)","body":"<p>I have enabled <code>mod_rewrite</code> and am using a <code>.htaccess</code> file to pass all requests through <code>index.php</code>.</p>\n\n<p>If I visit the URL's </p>\n\n<pre><code>http://localhost/mysite\n\nhttp://localhost/mysite/abc\n</code></pre>\n\n<p>the page loads once.</p>\n\n<p>However, if I add extra parts to the path, the page loads three times and my css files dont get included:</p>\n\n<pre><code>http://localhost/mysite/abc/xyz\n\nhttp://localhost/mysite/abc/xyz/ttt\n</code></pre>\n\n<p>etc...</p>\n\n<p>All cause the page to load three times. I can see this as I have a breakpoint set in <code>index.php</code> in <strong>Eclipse</strong>.</p>\n\n<p>Here is my <code>.htaccess</code> file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n\n  # Block access to \"hidden\" directories whose names begin with a period. \n  # Files whose names begin with a period are protected by the FilesMatch directive\n  # above.\n  RewriteRule \"(^|/)\\.\" - [F]\n\n  # Pass all requests not referring directly to files in the filesystem to\n  # index.php. Clean URLs are handled in drupal_environment_initialize().\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^ index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Any ideas why the page is getting loaded multiple times and the css is missing?</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":13264373,"title":"PHP fopen forloops","body":"<p>I'm not exactly sure why this isn't working I tried googling it to see if there was a answer a lot of them came up with a foreachloop instead of regular for loops can someone explain to me why this isn't working.</p>\n\n<pre><code>&lt;?php\n$list = array(\"GOOG\", \"AAP\", \"MSFT\");\n\n    for($i=0; $i&lt;3; $i++)\n    {\n        echo \"why isn't this working &lt;br&gt;\";\n\n        $fp = fopen (\"http://finance.yahoo.com/d/quotes.csv?s=GOOG&amp;f=sl1ve1x&amp;e=.csv\",\"r\");\n        $data = fgetcsv ($fp, 1000, \",\");\n        $exit = str_replace('\"',\"\",$data[3]);\n        $exchange = str_replace('\"',\"\",$data[4]);\n\n        echo \"$data[0] &lt;br&gt;\";\n        echo \"$data[1] &lt;br&gt;\";\n        echo \"$data[2] &lt;br&gt;\";\n\n    }\n?&gt;\n</code></pre>\n\n<p>I expected it to print google info 3 times it doesn't if I take fopen out by itself once it works but if I do it multiple times it just doesn't do anything what I expected is </p>\n\n<p>output ex </p>\n\n<pre><code>why isn't this work\nGoog\n8398\n789\nwhy isn't this work\nGoog\n8398\n789\nwhy isn't this work\nGoog\n8398\n789\n</code></pre>\n"},{"tags":["php","kohana"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13147768,"title":"Kohana ORM update, insert or delete to return number of affected rows","body":"<p>How can I get the number of affected rows after create, update or delete using ORM for Kohana?  I checked the main class but don't return that value... </p>\n\n<p>If there any possible solution to do this, please let me know.  If it is possible not use the Query Builder, i prefer use only the ORM class.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","php","eclipse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13225583,"title":"have common eclipse feature project for 2 different sub projects","body":"<p>I have an eclipse plugin project one for java and another for PHP. Both have some classes in common. \nRight now I am creating two separate feature projects for both of them. Is there a way or is it good to separate out the common classes and make a feature. Then have two dependent feature one each for java and php.</p>\n\n<p>how can i separate out the common classes and make a feature, and have two other features dependent on it?</p>\n"},{"tags":["php","date"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":32,"score":-6,"question_id":13264721,"title":"PHP specified date is greater than today","body":"<p>I want php codes which will be like this:\n<strong>if a specified date (2012-11-30) is greater than today then it will show echo \"valid\" else echo \"not valid\"</strong></p>\n"},{"tags":["php","eclipse"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":33,"score":-6,"question_id":13264297,"title":"How to install eclipse for php on windows7","body":"<p>I want to install Eclipse for PHP.</p>\n\n<p>I download Eclipse \"PDT 3.0.2 w/Eclipse indigo\" to my folder \"c:\\eclipse\" and extract the zip file.</p>\n\n<p>I am also download \"jre-6u37-windows-94.exe\" and install it successfully.</p>\n\n<p>The problem is when I try to run the file eclipse.exe I get error.</p>\n\n<p><strong>A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:\nc:\\eclipse\\jre\\bin\\javaw.exe\njavaw.exe in your current PATH</strong></p>\n\n<p>The jre installed in directory.</p>\n\n<p><strong>c:\\Program Files (x86)\\java\\jre7\\bin</strong></p>\n\n<p>What should I do for running successfully the eclipse.</p>\n\n<p>this is my confog.ini</p>\n\n<pre><code>#This configuration file was written by: org.eclipse.equinox.internal.frameworkadmin.equinox.EquinoxFwConfigFileParser\n#Mon Jun 11 14:17:27 IDT 2012\norg.eclipse.update.reconcile=false\neclipse.p2.profile=pdtProfile\nosgi.framework=file\\:plugins/org.eclipse.osgi_3.7.2.v20120110-1415.jar\nequinox.use.ds=true\nosgi.bundles=reference\\:file\\:org.eclipse.equinox.simpleconfigurator_1.0.200.v20110815-1438.jar@1\\:start\norg.eclipse.equinox.simpleconfigurator.configUrl=file\\:org.eclipse.equinox.simpleconfigurator/bundles.info\neclipse.product=org.zend.php.product\nosgi.splashPath=vplatform\\:/base/plugins/org.zend.php\nosgi.framework.extensions=\nosgi.bundles.defaultStartLevel=4\neclipse.p2.data.area=@config.dir/../p2\neclipse.application=org.eclipse.ui.ide.workbench\n\norg.zend.php.customization.site.url=http\\://downloads.zend.com/studio-eclipse/updates-extra/9_0,http\\://downloads.zend.com/studio-eclipse/updates/9_0\n</code></pre>\n\n<p>should I add the line <code>-vm Path=c:\\Program Files(86)\\Java\\jre7\\bin</code> to top file ?</p>\n\n<p>Becose it is not working</p>\n\n<p>Many Thanks.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":70,"score":8,"question_id":13245118,"title":"Project Euler #19 code seems right. What am I missing?","body":"<p>** Please stop reading right now if you have any interest in working through this exercise on your own! **</p>\n\n<p><strong>Problem 19:</strong></p>\n\n<blockquote>\n  <p>You are given the following information, but you may prefer to do some\n  research for yourself.</p>\n  \n  <p>1 Jan 1900 was a Monday. </p>\n  \n  <p>Thirty days has September, April, June and\n  November. </p>\n  \n  <p>All the rest have thirty-one, Saving February alone, Which\n  has twenty-eight, rain or shine. And on leap years, twenty-nine. </p>\n  \n  <p>A leap year occurs on any year evenly divisible by 4, but not on a\n  century unless it is divisible by 400. </p>\n  \n  <p><strong>How many Sundays fell on the\n  first of the month during the twentieth century (1 Jan 1901 to 31 Dec\n  2000)?</strong></p>\n</blockquote>\n\n<p>I thought that using PHP for this would be a breeze since it has so many built in time and date functions. My code is really quite simple, so I'm having a hard time seeing what I'm doing that's wrong. </p>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>&lt;?php\n\necho \"&lt;pre&gt;\";\n\n$sunday_count = 0;\n\nfor( $year = 1901; $year &lt;= 2000; $year++ ) {\n\n    for( $month = 1; $month &lt;= 12; $month++ ) {\n\n        // Produces a date in format: 1/1/2000\n        $date = $month . \"/1/\" . $year;\n\n        $time = strtotime( $date );\n\n        $is_sunday = ( date( 'l', $time ) == \"Sunday\" );\n\n        echo \"$date \"\n           . ( $is_sunday ? 'was a Sunday. ' : '' )\n           . \"&lt;br&gt;\";\n\n        if( $is_sunday ) $sunday_count++;\n\n    }\n\n}\n\necho \"Answer: $sunday_count\";\n\necho \"&lt;/pre&gt;\";\n\n?&gt;\n</code></pre>\n\n<p>The solution my code comes up with is 169, which is not correct. Any idea?</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>The solution is supposed to be 171.</p>\n\n<p>Using Wolfram Alpha and my Windows clock, I've doubled checked several of the Sundays which my code reports. All of them check out OK.</p>\n\n<p>So it seems my code is reporting valid and legitimate Sundays, but somehow it has missed two of them.</p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>I made the following minor change to the formatting of the date in my code:</p>\n\n<pre><code>$date = sprintf('%d-%02d-01', $year, $month); // formats yyyy-mm-dd\n</code></pre>\n\n<p>I then used @MadaraUchiha's code to generate an array containing the 171 correct dates.</p>\n\n<p>After comparing his dates with mine, these are the two missed dates:</p>\n\n<blockquote>\n  <p>1901-09-01</p>\n  \n  <p>1901-12-01</p>\n</blockquote>\n\n<p><strong>Edit 3</strong></p>\n\n<p><a href=\"http://codepad.org/hHHKqJQ6\" rel=\"nofollow\">Codepad also shows</a> that these dates are not Sundays (but they really should be).</p>\n\n<p>And I am certain that the dates are correctly being interpreted as YYYY-MM-DD because one of the dates my code offers to the solution is 2000-10-01, which would only be a Sunday if 10 is the month, not the day.</p>\n\n<p><strong>Edit 4</strong></p>\n\n<p>So apparently if on a 32 bit system, Unix timestamps won't work outside of the range:</p>\n\n<p>Fri, 13 Dec 1901 20:45:54 GMT </p>\n\n<p>to </p>\n\n<p>Tue, 19 Jan 2038 03:14:07 GMT</p>\n\n<p>Thanks Emil.</p>\n"},{"tags":["php","xml","simplexml"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":7754,"score":1,"question_id":1347033,"title":"Parsing google calendar XML feed","body":"<p>I've got XML feed from public google calendar. Looks like this:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n    &lt;feed xmlns='................' xmlns:gd='http://schemas.google.com/g/2005'&gt;\n    \t&lt;id&gt;http://www.google.com/calendar/feeds/........./public/full&lt;/id&gt;\n    \t&lt;updated&gt;2009-08-24T10:57:00.000Z&lt;/updated&gt;\n    \t&lt;category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/g/2005#event'/&gt;\n    \t\t&lt;title type='text'&gt;Sports Events&lt;/title&gt;\n    .....\n\t\t&lt;entry&gt;\n\t\t\t&lt;id&gt;...........&lt;/id&gt;\n\t\t\t&lt;published&gt;2009-08-14T00:29:58.000Z&lt;/published&gt;\n\t\t\t&lt;updated&gt;2009-08-14T00:29:58.000Z&lt;/updated&gt;\n\t\t\t&lt;category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/g/2005#event'/&gt;\n..............\n\t\t\t&lt;georss:where&gt;\n\t\t\t\t&lt;gml:Point&gt;\n\t\t\t\t\t&lt;gml:pos&gt;11.111111 -22.22222&lt;/gml:pos&gt;\n\t\t\t\t&lt;/gml:Point&gt;\n\t\t\t&lt;/georss:where&gt;\n\t\t\t&lt;gd:eventStatus value='http://schemas.google.com/g/2005#event.confirmed'/&gt;\n\t\t\t&lt;gd:transparency value='http://schemas.google.com/g/2005#event.transparent'/&gt;\n\t\t\t&lt;gCal:uid value='.........@google.com'/&gt;\n\t\t\t&lt;gCal:sequence value='0'/&gt;\n\t\t\t&lt;gd:when startTime='2009-10-03' endTime='2009-10-04'/&gt;\n\n.............\n</code></pre>\n\n<p>Now to PHP:</p>\n\n<pre><code>$calendar = simplexml_load_file('http://my.feed.com');\nforeach ($calendar-&gt;entry as $item) {\n    //here I get the whole &lt;entry&gt; node\n    $gd = $item-&gt;children('http://schemas.google.com/g/2005');\n    // now in $gd I have all nodes like &lt;gd:XXXXX&gt;\n}\n</code></pre>\n\n<p>The problem is how to get value from here?</p>\n\n<pre><code>&lt;gml:pos&gt;11.111111 -22.22222&lt;/gml:pos&gt;\n</code></pre>\n\n<p>Its not present in my $gd variable, how to get this node?</p>\n"},{"tags":["php","class","redeclare"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13264377,"title":"Cannot redeclare classX in classX.php?","body":"<p>I've searched for similar questions but didn't find any. The usual problem is that a certain class cannot be redeclared in another class, and so the solution is to use \"require_once\" or \"include_once\". But my error is not allowing the class itself to redeclared!</p>\n\n<p>Let me explain, I have two classes, <code>Design</code> and <code>DesignSide</code>.\nI have a bunch of PHP files where I use these two classes.\n- build_design.php,\n- browse_designs.php, which gives an AJAX call to\n- load_designs.php </p>\n\n<p>Each design can have a few sides to it, so all 3 files above include the line:</p>\n\n<pre><code>require_once(\"Design.php\");\n</code></pre>\n\n<p>and <code>Design.php</code> has the line:</p>\n\n<pre><code>require_once(\"DesignSide.php\");\n</code></pre>\n\n<p>But on build_design.php, my error is:</p>\n\n<pre><code>Fatal error: Cannot redeclare class DesignSide in ../classes/DesignSide.php on line 4\n</code></pre>\n\n<p>i.e. it's objecting to DesignSide declaring itself! These are the beginning lines of DesignSide:</p>\n\n<pre><code>&lt;?php\n\nclass DesignSide\n{\nprivate $id;\nprivate $data;\nprivate $designtag;\nprivate $side;\n</code></pre>\n\n<p>What's wrong? </p>\n"},{"tags":["php","xml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13222424,"title":"How do I process XML string in order using PHP","body":"<p>I have an XML file which contains text with some very simple layout constructs:</p>\n\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;page&gt;\n  &lt;section&gt;\n    &lt;header&gt;Header&lt;/header&gt;\n    &lt;par&gt;Some paragraph&lt;/par&gt;\n    &lt;par&gt;Another paragraph with &lt;emph&gt;formatting&lt;/emph&gt;&lt;/par&gt;\n  &lt;/section&gt;\n&lt;/page&gt;\n</code></pre>\n\n<p>In PHP then I read this file using SimpleXML (Note that I intentionally strip other tags!):</p>\n\n<pre><code>$page = file_get_contents(\"page.xml\");\nif ($page) {\n  $stripped = strip_tags($page, \"&lt;?xml&gt;&lt;page&gt;&lt;section&gt;&lt;header&gt;&lt;par&gt;&lt;emph&gt;\");\n  $xml = new SimpleXMLElement($stripped);\n}\n</code></pre>\n\n<p>Now I would like to iterate over the XML elements and print them <em>in order</em> as HTML for my website. The final result should be the following snippet:</p>\n\n<pre><code>&lt;h1&gt;Header&lt;/h1&gt;\n&lt;p&gt;Some paragraph\n&lt;p&gt;Another paragraph with &lt;i&gt;formatting&lt;/i&gt;\n</code></pre>\n\n<p>I've noodled through SimpleXML and XPath and tried to figure out how I can iterate over the XML tree <em>in order</em> so that I can digest the original XML file into HTML output.  I can produce a somewhat desired result but the <code>&lt;emph&gt;&lt;/emph&gt;</code> is just gone; how do I descent further into the tree?  My code so far:</p>\n\n<pre><code>foreach ($xml-&gt;section as $s) {\n  echo \"&lt;h1&gt;\" . $s-&gt;header . \"&lt;/h1&gt;\";\n  foreach ($s-&gt;par as $p) {\n    echo \"&lt;p&gt;\" . $p;\n    //  Do some magic here to ensure &lt;emph&gt; tags are recognized and responded to properly.\n  }\n}\n</code></pre>\n\n<p>Any hints and pointers are appreciated! Thanks :-)</p>\n"},{"tags":["php","ajax","zend-framework","zend-form"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13263901,"title":"Zend form/subform partial render","body":"<p>I am building a form using Zend_Form ... i need to add some fields to the form dynamically (jquery/ajax) ... i created a subform for each set of fields that need to be created at runtime ...\nto get my elements in an array with correct names like <code>subform1[index][element]</code> , i added 2 more subform :\nsubform1 : a wrapper rendered as a field set \nsubform2 : a container that plays the <code>index</code> part of the names\nelements subform : this is main subform that holds the elements</p>\n\n<p>the subform2 and elements part gets repeated for each set of new elements ... </p>\n\n<p>now everything works fine when form is created and rendered in the view , i get the correct names (<code>subform1[index][element]</code>) ...</p>\n\n<p>but when i use ajax to generate new elements i don't know how to render the form and get the subform2 part with correct names ...</p>\n\n<p>this is the function that creates the subforms :</p>\n\n<pre><code>    private function makeSubForm($id, $legend)\n    {\n        $wrapper = new Zend_Form_SubForm();\n        $wrapper-&gt;setOptions(array('legend' =&gt; $legend, 'class' =&gt; 'ui-corner-all multi_value'))\n            -&gt;setIsArray(true);\n\n        $array = $this-&gt;_getArray($id);\n        //-------------------------LOOP--------------------------\n        $form_name = \"Application_Form_Employ_$id\";\n//        var_dump($array);\n        foreach ($array as $key =&gt; $value) {\n\n            $form = new $form_name();\n\n            $container = new Zend_Form_SubForm();\n            $container-&gt;setOptions(array('class' =&gt; 'subform'))\n                -&gt;setIsArray(true)\n                -&gt;addSubForm($form, 'xxxxx');\n\n            $wrapper-&gt;addSubForm($container, $key);\n        }\n        Zend_Registry::get('session')-&gt;{$id} = $array;\n        //----------------------------------------------------------\n\n        $this-&gt;addSubForm($wrapper, $id);\n    }\n</code></pre>\n\n<p>and this is my action method :</p>\n\n<pre><code>    public function newElementAction()\n    {\n        $this-&gt;_disableView();\n        $id = $this-&gt;getRequest()-&gt;getParam('id');\n        $form = new Application_Form_Employment();\n        $params = array();\n        $keys = Zend_Registry::get('session')-&gt;{$id};\n        $lastKey = end(array_keys($keys));\n        $keys[++$lastKey] = array();\n\n        $params[$id] = $keys;\n//        var_dump($params);\n        $form-&gt;create($params);\n//        $form-&gt;render();\n\n        $this-&gt;_response-&gt;appendBody($form-&gt;getSubForm($id)-&gt;getSubForm($lastKey));\n    }\n</code></pre>\n\n<p>with this code i get <code>subform2[element]</code> as my names ...\nbut if i uncomment <code>$form-&gt;render();</code> i get <code>subform1[subform2][subform1][subform2][element]</code></p>\n\n<p>so how can i get the second subform's HTML with correct names ?</p>\n\n<hr>\n\n<p>well i found a hack to get what i want but i am looking for a better way ...</p>\n\n<pre><code>public function newElementAction()\n{\n    $this-&gt;_disableView();\n    $id = $this-&gt;getRequest()-&gt;getParam('id');\n    $form = new Application_Form_Employment();\n    $params = array();\n    $keys = Zend_Registry::get('session')-&gt;{$id};\n    $lastKey = end(array_keys($keys));\n    $keys = array(++$lastKey =&gt; array());\n\n    $params[$id] = $keys;\n    $form-&gt;create($params, $id);\n\n    $this-&gt;_response-&gt;appendBody($form-&gt;{$id});\n}\n</code></pre>\n\n<p>i created only the last child and outputed the parent\nand in the client side removed the parents markup before inserting into page ...</p>\n\n<p>there has to be a solid way to just render the subform with its parents indexes intact !!??</p>\n"},{"tags":["php","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13264656,"title":"Find ID in Database Table and Select Value from Column","body":"<p>Okay, so first allow me to outline what I'm trying to do. I want to display a DIV in my view that's only displayed to users of a certain 'subscription' type.</p>\n\n<p>So I'm searching the 'subscriptions' table using the user's session ID to find their subscription on the database (subscriptions are stored with user id as primary). Once their row is found with their subscription, I want to grab the value from the \"subscription\" column. If the value equals \"freebie\" I want to echo a statement (I will add a function here once i get it to work obviously).</p>\n\n<p>Here's what I've come up with...what am I doing wrong? Not working and I'm receiving no error.</p>\n\n<pre><code>    // show appropiate upgrade message if user has free account\n\n    $id = $this-&gt;session-&gt;userdata('user_id'); \n\n    $this-&gt;db-&gt;select('subscription');\n    $this -&gt; db -&gt; where('id', '$id');\n    $query = $this -&gt; db -&gt; get(\"subscriptions\");\n    $subscribe = $query -&gt; result();\n\n    if($subscribe == 'freebie')\n    {\n        echo 'function goes here';\n    }\n</code></pre>\n"},{"tags":["php","linux","unix","exec"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13228974,"title":"exec(\"touch\"); Not running in PHP","body":"<p>I need to modify the file date change using my php script. At my localhost, I used XAMPP running in Windows 7. I had no problem using PHP <a href=\"http://www.php.net/manual/en/function.touch.php\" rel=\"nofollow\">touch</a> and is working properly as I want it to be. </p>\n\n<p>Yet, when I uploaded it to my production, LINUX OS the PHP <code>touch</code> is not working anymore. I investigated it and found that, Linux, doesn't allow PHP <code>touch</code> or doesn't allow anybody to change file mod date. </p>\n\n<p>That's why I use <a href=\"http://php.net/manual/en/function.exec.php\" rel=\"nofollow\">exec(\"touch filename.txt\")</a> instead and it working properly, but when I use this code</p>\n\n<pre><code>exec(\"touch -t 201204040000.00 filename.txt\");\n</code></pre>\n\n<p>It doesn't do what it must, am I missing something here?</p>\n\n<p>These are my references:</p>\n\n<ul>\n<li><a href=\"http://linux.about.com/library/cmd/blcmdl_touch.htm\" rel=\"nofollow\">Linux / Unix Command: touch</a></li>\n<li><a href=\"http://linux.101hacks.com/unix/touch/\" rel=\"nofollow\">3 UNIX / Linux touch Command Examples</a></li>\n</ul>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>ls -l filename.txt\n-rw-r--r-- 1 2012-11-04 12:00 filename.txt //supposed that 2012-11-04 12:00 is the original mod date of the file\n</code></pre>\n\n<p>If i run this code: </p>\n\n<pre><code>exec(\"touch filename.txt\");\nls -l filename.txt\n-rw-r--r-- 1 2012-11-05 11:00 filename.txt //supposed that 2012-11-05 11:00 is the current timestamp\n</code></pre>\n\n<p>The above code is working properly on me as everyone see.\nBut if i run it like this:</p>\n\n<pre><code>exec(\"touch -t 201204040000.00 filename.txt\");\nls -l filename.txt\n-rw-r--r-- 1 2012-11-05 11:00 filename.txt //The mod date doesn't changed at all.\n</code></pre>\n"},{"tags":["php","linux","graphics","lamp"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":847,"score":4,"question_id":7708534,"title":"Create a thumbnail preview of documents (PDF, DOC, XLS, etc.) in PHP (LAMP)","body":"<p>When users upload certain files to my site (such as .doc, .xls, .pdf, etc) I'd like to be able to generate a preview thumbnail (of the first page of the document). I'm working with PHP in a LAMP stack but would be happy with any library or command-line tool that can do the job (Linux highly preferred).</p>\n"},{"tags":["php","javascript","facebook"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4124,"score":2,"question_id":5789964,"title":"Check Facebook login status: Client side vs Server side","body":"<p>In the website that I am building, I need to check whether or not the user is logged in to facebook. I have two possibilities. I can either do it on the server side, using PHP code like following:</p>\n\n<pre><code>$facebook = new Facebook(array(\n                'appId'  =&gt; _FACEBOOK_APP_ID,\n                'secret' =&gt; _FACEBOOK_SECRET,\n                'cookie' =&gt; true));\n$me = $facebook-&gt;api(\"/me\");\nif (isset($me[\"id\"]) {\n    // User is logged in.\n} else {\n    // User is not logged in.\n}\n</code></pre>\n\n<p>Alternatively, I can do it on the client side, using javascript like following:</p>\n\n<pre><code>FB.getSession();\nif (session != null) {\n    // User is logged in.\n} else {\n    // User is not logged in\n}\n</code></pre>\n\n<p>I am wondering what are the pros and cons of the two approaches.</p>\n"},{"tags":["php","mongodb"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13264554,"title":"Mongoexport remove ellipsis","body":"<p>I am trying to export data from MongoDB using this query..</p>\n\n<pre><code>mongoexport -d dbName -c myCollection -f title,meta,contents --csv -o test_export.csv \n</code></pre>\n\n<p>the problem is,when I open the generated csv file, the content field data has ellipsis and doesn't get the exact content, how can I able to remove this ellipsis and get the exact data content?</p>\n"},{"tags":["php","arrays"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13251045,"title":"array sorting in DESC order","body":"<p>How can I sort inner array keys in DESC order?</p>\n\n<p>I can sort 11, 12 in DESC order with <code>arsort()</code> but inner array remains same. I tried <code>array_multisort()</code>, <code>usort()</code> and others but without luck.</p>\n\n<pre><code>Array\n(\n    [11] =&gt; Array\n        (\n            [4] =&gt; apr11timetable.php\n            [8] =&gt; aug11timetable.php\n            [6] =&gt; jun11timetable.php\n            [11] =&gt; nov11timetable.php\n            [10] =&gt; oct11timetable.php\n        )\n    [12] =&gt; Array\n        (\n            [4] =&gt; apr12timetable.php\n            [8] =&gt; aug12timetable.php\n            [2] =&gt; feb12timetable.php\n            [6] =&gt; jun12timetable.php\n            [10] =&gt; oct12timetable.php\n        )\n)\n</code></pre>\n"},{"tags":["php","mysql","oop","session","handler"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13258311,"title":"custom database session handler - specific read issue","body":"<p>i have a very specific problem regarding a custom session handler using a mysql database. I looked through other topics since there are some topics here involving custom session handler but no one of them answered my question. \nI use a custom session handler in a class called \"sessions\":</p>\n\n<pre><code>require_once \"mySQL.php\";\n\nclass sessions {\nprivate $db;\npublic function __construct(){\n    $this-&gt;db=new mySQL('localhost', user, pw, database);\n    session_set_save_handler(array(&amp;$this,\"open\"),\n                     array(&amp;$this,\"close\"),\n                     array(&amp;$this,\"read\"),\n                     array(&amp;$this,\"write\"),\n                     array(&amp;$this,\"destroy\"),\n                     array(&amp;$this,\"gc\"));\n    register_shutdown_function('session_write_close');\n    session_start();\n} \npublic function read($sessionID){\n    $abfrage=\"SELECT * FROM sessions WHERE id='\".$sessionID.\"'\";\n    $result= $this-&gt;db-&gt;query($abfrage);\n    if ($result == false){\n        return '';\n    }\n    if (count($result) &gt; 0){\n        return $result[0][\"value\"];\n    }\n    else{ \n    return '';\n    }\n}\n</code></pre>\n\n<p>In \"mySQL.php\" there is just a class \"mySQL\" written which creates a mysqli connection to the database. This is working and not the problem. I would like to draw the focus to the \"read\" routine because this seems to be the primary problem. If i now create a session via</p>\n\n<pre><code>require_once \"classes/sessions.php\";\n$SESSION=new sessions();\n$token=hash(\"sha256\",session_id().time());\n$_SESSION['token']=$token;\n$_SESSION['running']=1\n</code></pre>\n\n<p>and write values into the session the right database value is created:</p>\n\n<pre><code>id (varchar 64) = 54ul84nhc3aimqc55efcs49js4\nlastUpdated (int 11) = 1352226239\nstart (int 11) = 1352226233\nvalue (varchar 20000) =     token|s:64:\"2b92aa848a86741ef11d800c3dce527fdcee264f50de10381941241c3d9cc9ee\";running|i:1;\n</code></pre>\n\n<p>and even the garbage collector works fine but when i reload the page and try to echo </p>\n\n<pre><code>$_SESSION['running']\n</code></pre>\n\n<p>i get the error \"Notice:Undefined index: running\". A debugger run informed that the above posted read routine returns 1 (which would be equal to the boolean \"true\"?!) instead of the value. I checked that the \"sessionID\" in the read routine for that case was the one in the session table, so i'm basically lost. It would be very nice if you can help me, because so far i'm already impressed of the possibilities offered by such custom session handler.</p>\n\n<p>Perhaps it's possible to pose also a side question here. Is it right that when i reload the page the constructor of sessions is called by \"$SESSION=new sessions();\" even when there is already a session running (however this behaviour does not change the session_id)? Or is this due to my broken session read routine?</p>\n\n<p>Thank you for your help.</p>\n\n<p>EDIT: I'm using PHP/5.4.4 and MySQL 5.5.25a in a xampp distribution along with phpmyAdmin 3.5.2 to set up the database. The session table is a table of format \"MEMORY\", that's why i'm using a varchar 20000 field instead of a text field. I just saw this article <a href=\"http://stackoverflow.com/questions/6208156/why-does-mysql-query-return-true-with-a-select-statement\">Why does mysql_query() return TRUE with a SELECT statement?</a>\nstating that a mysql_query returns true from time to time when the server interrupts connections suddenly. However i can't fiddle out what may be the reason for this.\nI'm adding now the mySQL class, perhaps a error in there is involved in this problem:</p>\n\n<pre><code>&lt;?php\nclass mySQL\n{\npublic $mySQLiObj;\npublic $lastSQLQuery;\npublic $lastSQLStatus;\npublic $lastInsertID;\npublic function __construct($server,$user,$password,$db,$port=\"3306\"){\n    //erstelle db-objekt\n    $this-&gt;mySQLiObj= new mysqli($server,$user,$password,$db,$port);\n    if (mysqli_connect_errno()){\n        echo \"Keine Verbindung zum MySQL-Server mÃ¶glich.\";\n        trigger_error(\"MYSQL-Connection-Error\",E_USER_ERROR);           \n        die();\n    }\n    //Zeichensatz auf utf8 setzen\n    $this-&gt;query(\"SET NAMES utf8\");\n}\npublic function __destruct(){\n    $this-&gt;mySQLiObj-&gt;close();\n}\npublic function query($sqlQuery,$resultset=false){\n    $this-&gt;lastSQLQuery=$sqlQuery;\n    $result=$this-&gt;mySQLiObj-&gt;query($sqlQuery);\n    if($resultset == true){\n        if($result == false) {\n            $this-&gt;lastSQLStatus=false;\n        }\n        else\n        {\n            $this-&gt;lastSQLStatus = true;\n        }\n        return $result;\n    }\n    if($resultset == false) {\n        $return = $this-&gt;makeArrayResult($result);\n        return $return;\n    }\n}\nprivate function makeArrayResult($ResultObj){\n    if ($ResultObj==false){\n        //Fehler aufgetreten\n        $this-&gt;lastSQLStatus=false;\n        return false;\n    }\n    else if ($ResultObj == true) {\n        //UPDATE,INSERT etc. statement es wird nur true zurÃ¼ckgegeben\n        $this-&gt;lastSQLStatus = true;\n        $this-&gt;lastInsertID = $this-&gt;mySQLiObj-&gt;insert_id;\n        return true;\n    }\n    else if ($ResultObj-&gt;num_rows == 0){\n        //Kein Ergebnis bei SELECT,SHOW,DESCRIBE oder EXPLAIN Statement\n        $this-&gt;lastSQLStatus = true;\n        return array();\n    }\n    else {\n        $array = array();\n        while($line = $ResultObj-&gt;fetch_array(MYSQLI_ASSOC)){\n            array_push($array,$line);\n        }\n        $this-&gt;lastSQLStatus=true;\n        return $array;\n    }\n}\n</code></pre>\n\n<p>}\n?></p>\n"},{"tags":["php","magento"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13263663,"title":"Magento call cms page through anchor tag","body":"<p>I want something like this <br>\n <code>&lt;a href=\"&lt;?php echo getcmsurl('Faqs')\"&gt;FaQ's&lt;/a&gt;</code></p>\n\n<p>means on clicking FAQ's ,cms page created named <code>faqs</code> from admin panel would be linked (called) and displayed.<br>Or is there any other way ?<br>Thanks.</p>\n"},{"tags":["php","wordpress","wordpress-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13263302,"title":"Wordpress Custom tables plugin","body":"<p>How to resolve this warning which is shown when I use \"<strong>custom tables</strong>\" plugin for Wordpress?\nCan anybody help me please</p>\n\n<p><strong>Warning: Invalid argument supplied for foreach() in ..\\wp-content\\plugins\\custom-tables\\pages\\show_table.php on line 378</strong></p>\n\n<p>URL of this plugin\n<a href=\"http://wordpress.org/extend/plugins/custom-tables/\" rel=\"nofollow\">http://wordpress.org/extend/plugins/custom-tables/</a> </p>\n"},{"tags":["php","session","login","undefined","notice"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":58,"score":-1,"question_id":13264263,"title":"PHP Undefined constant notice","body":"<p>Error:</p>\n\n<pre><code>Notice: Use of undefined constant password - assumed 'password' in \n/vagrant/web/NewProject/Person.php on line 171 Call Stack: 0.0010 636808 1. {main}()\n/vagrant/web/NewProject/login.php:0 0.0019 654112 2. Person-&gt;login() \nvagrant/web/NewProject/login.php:37 \n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>public function login()\n{\n $errorArray = array();   \n\n    $expectedValues = array(\n        \"username\"   =&gt; \"Username\",\n        \"password\"   =&gt; \"Password\",\n                      );\n\n   //Checking to see if all fields are filled in \n    try{\n        foreach ($expectedValues as $field =&gt; $humanName) { \n        if (empty($_POST[$field])) { \n                $errorArray[] = $humanName . \", \";\n            }\n        }   \n\n    if (count($errorArray) &gt; 0) {  \n          $result = rtrim(implode(' ', $errorArray), ', ');\n              throw new Exception(\"&lt;h2&gt;\" . \"&lt;span&gt;\" . \"Error\" . \"&lt;/span&gt;\" . \": The following fields are empty- \" . $result . \"&lt;/h2&gt;\");\n    }\n\n\n    else{\n\n       //If they are, retreive them from the Person table    \n\n        $select = $this-&gt; doQuery(\"SELECT * from Person where username = '$_POST[username]' and password = '\".md5($_POST['password']).\"'\"); &lt;---- Line 171\n         var_dump($select);  \n\n            try {    \n                if ($select){\n                    if (mysqli_num_rows($select) &gt; 0){\n\n                        //fetching username and password from database\n                        $fetch_array = mysqli_fetch_assoc($select);\n\n                        //Building a session for the user\n            $_SESSION['username'] = $fetch_array['username'];\n                        //$_SESSION['user_id'] = $fetch_array['id'];\n            var_dump($_SESSION['username']);\n\n                        //Redirecting the user to the index page        \n            header('Location:index.php');\n            return true;\n                    }\n                }\n\n\n              //If not, throw an exception    \n\n                else {\n                    throw new Exception\n                    (\"&lt;h3&gt;\" . \"&lt;span&gt;\" . \"Error\" . \"&lt;/span&gt;\" . \": Query was unsuccessful: No record found.\" .  \"&lt;/h3&gt;\");\n                }\n            }\n\n            catch (Exception $e){\n                echo $e-&gt;getMessage();\n            }   \n    }\n\n   }\n   catch (Exception $x){\n        echo $x-&gt;getMessage();\n        }    \n\n}\n</code></pre>\n\n<p>I tried changing this:</p>\n\n<pre><code>'\".md5($_POST[password]).\"'\n</code></pre>\n\n<p>to this: </p>\n\n<pre><code>'\".md5($_POST['password']).\"'\n</code></pre>\n\n<p>And the notice went away but it didn't redirect me to the index page when I typed in a valid username and pass like I wanted my code to do. When I typed in an invalid username and pass, it just did the same thing as when I typed in a valid one, which was nothing. That makes me think (correct me if I'm wrong) that the session is not actually being created.</p>\n\n<p>This is what I get when I var_dump $select:</p>\n\n<pre><code>object(mysqli_result)#3 (5) { [\"current_field\"]=&gt; int(0) [\"field_count\"]=&gt; int(8) [\"lengths\"]=&gt; NULL [\"num_rows\"]=&gt; int(0) [\"type\"]=&gt; int(0) } \n</code></pre>\n\n<p>I get nothing when I var_dump $fetch_array or $_SESSION['username']</p>\n\n<p>If anyone has any idea where I'm screwing up (and I know I am badly), your help would be most appreciated :]</p>\n"},{"tags":["php","loops","joomla","blank-page"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":33,"score":0,"question_id":13264237,"title":"Showing blank page in php when i am loading huge loop","body":"<p>I have 5 loops in my page. my code is php in joomla. when count of results is not many (for example 100 , or 110 records) it works fine.\nBut when my result is more than this , it will show just a blank page.\nI added this codes too :</p>\n\n<pre><code>ini_set('display_errors',1);\nini_set('error_reporting',E_ALL);\n</code></pre>\n\n<p>but it could not help me and I will see just a blank page.</p>\n\n<p>Point: I moved my site to new server. old server worked fine.</p>\n\n<p>Can you help me?</p>\n\n<p>Thank you so much</p>\n"},{"tags":["php","warnings"],"answer_count":8,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13264062,"title":"Ignore PHP Warnings","body":"<p>I have a PHP code . when i run the code , it works properly but there appears some warnings , that is -<code>Warning: Cannot modify header information - headers already sent by (output started at /home/fundumob/public_html/app_create/nav_class.php:119) in /home/fundumob/public_html/app_create/profile.php on line 32</code></p>\n\n<p>what can i do ??? ,my code is given below..</p>\n\n<pre><code> &lt;?php session_start(); error_reporting(E_ALL ^ E_WARNING);?&gt;\n &lt;?php\n  //include(\"local_config.php\");\n  include(\"lib/config.php\");\n  include(\"nav_class.php\");\n  $obj=new navig();\n\n  if(isset($_SESSION['user_id']))\n  {\n  $user_id=$_SESSION['user_id'];\n  $pic=\"select Picture from Profile where user_id=$user_id \";\n  $pic_result=mysql_query($pic) or die (\"sorry\".$pic);\n  $count=mysql_num_fields($pic_result);\n\n  if($count==1)\n  {\n\n   $rows=mysql_fetch_row($pic_result);\n\n   $_SESSION['picture']=$rows[0];\n   $profile_pic=$_SESSION['picture'];\n\n   $photo=\"profile/\".$profile_pic;\n    }\n   else\n   {\n    $photo=\"profile/img.jpg\";\n   }\n   }\n   else\n   {\n   header(\"location:index.php?er=3\");\n    }\n\n    ?&gt;\n\n   &lt;div id=\"templatemo_header_wrapper\"&gt;\n\n&lt;div id=\"templatemo_header\"&gt;\n\n    &lt;div id=\"site_logo\"&gt;&lt;/div&gt;\n\n\n      &lt;div id=\"menu_nav\" &gt;\n    &lt;ul id=\"css3menu1\" class=\"topmenu\"&gt;\n    &lt;li class=\"topfirst\"&gt;&lt;a href=\"profile.php?apps=1\" style=\"height:15px;line-\n     height:15px;\"&gt;Dashboard&lt;/a&gt;&lt;/li&gt;\n     &lt;li class=\"topmenu\"&gt;&lt;a href=\"#\" style=\"height:15px;line-height:15px;\"&gt;Profile&lt;/a&gt;      \n       &lt;/li&gt;\n  &lt;li class=\"topmenu\"&gt;&lt;a href=\"#\" style=\"height:15px;line-height:15px;\"&gt;Settings&lt;/a&gt;  \n   &lt;/li&gt;\n  &lt;li class=\"toplast\"&gt;&lt;a href=\"#\" style=\"height:15px;line-height:15px;\"&gt;Prateek    \n\n&lt;/ul&gt;\n&lt;/div&gt;  &lt;/div&gt;&lt;!-- end of header --&gt;\n &lt;/div&gt;\n\n  &lt;div id=\"tempatemo_content_wrapper\"&gt;\n\n   &lt;div id=\"templatemo_content\" align=\"center\"&gt;\n\n    &lt;div class=\"recent_projects\"&gt;\n\n          &lt;div align=\"right\"&gt;\n           &lt;table width=\"50%\" border=\"0\"&gt;\n           &lt;tr&gt;\n           &lt;td width=\"85%\" height=\"20\" style=\"border-right:1px solid #D0D0D0;\"&gt;&lt;div    \n         align=\"right\"&gt;Welcome&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;?php echo $_SESSION['fname'].\"&amp;nbsp;\". \n      $_SESSION['lname']; ?&gt;&lt;/div&gt;&lt;/td&gt;\n           &lt;td width=\"15%\" &gt; &lt;div align=\"center\"&gt;&lt;a href=\"logout.php\"&gt;Log Out&lt;/a&gt;&lt;/div&gt;\n          &lt;/td&gt;\n           &lt;/tr&gt;\n           &lt;/table&gt;\n          &lt;/div&gt;\n\n    &lt;/div&gt;\n  &lt;!--end of recent project--&gt;  \n</code></pre>\n"},{"tags":["php","lan"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13264022,"title":"How can i get IP address of systems in a local network which accessing the webpage from local server using php","body":"<p>I have a local network which connected to internet through a proxy server, The proxy server IP address is <code>192.168.0.1</code>. All systems in the network assigned IP address manually like 192.168.0-6.1-255 ,Subnet mask 255.255.248.0, <code>Default gateway 192.168.0.1</code></p>\n\n<p>and i created another server in local network for accessing my website locally and its IP address is <code>192.168.0.25</code>, Subnet Mask 255.255.255.0, Default gateway 192.168.0.25</p>\n\n<p>All the systems in the local network can now access the website using the address </p>\n\n<p><code>http://192.168.0.25/</code></p>\n\n<p>I have to track all the systems accessing my website so i used the function <code>$_SERVER['REMOTE_ADDR']</code>  in php. But i getting the IP address of all system  which accessing my website is as same as the proxy server IP address(<code>192.168.0.1</code>).<br><br>\nPlease help me to get the correct IP address of each system.  </p>\n"},{"tags":["php","mysql","variables","pdo","sqlbindparameter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13264216,"title":"Checking variables against MySQL data using PDO and PHP","body":"<p>I have the following variables that were inputted in the previous login form and submitted:<br>\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$login = $_POST['login'];\n$password = $_POST['password'];\n</code></pre>\n\n<p>I connect to my MySQL Database using a PDO as follows:<br>\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>require_once('agent-config.php');\n    try {\n$conn = new PDO(A_DB_HOST, A_DB_USER, A_DB_PASSWORD);\n$conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\necho 'Connection failed: ' . $e-&gt;getMessage();\n}\n</code></pre>\n\n<p>Next, I use the variables $login and $password to select the matching username and password:\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>//Create SELECT query    \n$qry = $conn-&gt;prepare(\"SELECT * FROM members WHERE login=? AND passwd=?\");\n    $qry-&gt;bindParam(1, $login);\n    $qry-&gt;bindParam(2, $password);\n</code></pre>\n\n<p>Lastly, I check whether the query was successful or not using:\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>//Check whether the query was successful or not\n    if($qry-&gt;execute())\n    $count = $qry-&gt;rowCount();\n    echo $count;\n    print_r($qry);\n    if($count &gt;0) {\n        //Login Successful\n        session_regenerate_id();\n        $member = $qry-&gt;fetch(POD::FETCH_ASSOC);\n        $_SESSION['SESS_AGENT_ID'] = $member['member_id'];\n        $_SESSION['SESS_login'] = $member['login'];\n        session_write_close();\n        header(\"location: agent-member-index.php\");\n        exit();\n    }else {\n        //Login failed\n        header(\"location: login-failed.php\");\n        exit();\n    }\n</code></pre>\n\n<p>However, the login and password are not being passed through correctly, and my result for $count is 0. I know one problem is that the password stored in the database is the .md5 encrypted version of the password, so I tried changing <code>$password</code> to<br>\n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$password = '.md5($_POST['password']).';   \n</code></pre>\n\n<p>but I received errors T-STRING errors. Any help would be greatly appreciated!</p>\n"},{"tags":["php","pdf","text","text-files"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":468,"score":1,"question_id":5546546,"title":"convert pdf to text \"Can not open file pdf\"","body":"<p>I tried to convert pdf to text with <a href=\"http://www.pdf2text.com/download/P2TServerT.zip\" rel=\"nofollow\">http://www.pdf2text.com/download/P2TServerT.zip</a>\ni ran \"regsvr32 P2TServer.dll\" but this code did'not work</p>\n\n<pre><code>&lt;?php\n$p2t = new COM(\"P2TServer.P2T\");\n$p2t-&gt;VerifyLicense(\"4747457\", \"345srwr242342423\");\n$p2t-&gt;EngageProcessor(64+32,\"5,10,11-15\", \"\");\nprint $p2t-&gt;Convert (\"c:\\test\\test1.pdf\", \"c:\\box\\test1.txt\");\n$p2t = null;\n?&gt;\n</code></pre>\n\n<p>The result like this : </p>\n\n<p>Can not open file: c: est est1.pdfDone!</p>\n\n<p>Everyone can help me? please..</p>\n"},{"tags":["php","android","parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":9,"view_count":45,"score":-9,"question_id":13264071,"title":"parse the content of website designed in PHP and display it in the android app.","body":"<p>My website had been designed using php, now i want to parse the content of website and make it displayed in the android app, which parser should i have to use?? i heared about Json parser and XML parser, i dont have any idea about that, please give me the suggestions,</p>\n"},{"tags":["php","pdf","text"],"answer_count":4,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":2275,"score":2,"question_id":2052548,"title":"Convert text to PDF in PHP","body":"<p>What would be the simplest, shortest way to turn a text file into a PDF file with PHP? With some basic example code if possible.</p>\n\n<p>I've seen this but the examples don't show how to use a text file as input. </p>\n\n<p><a href=\"http://uk3.php.net/manual/en/book.pdf.php\" rel=\"nofollow\">http://uk3.php.net/manual/en/book.pdf.php</a></p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13263947,"title":"Passing a big string data from JavaScript to php","body":"<p>I have a very long string variable(2000+ characters) in JavaScript and I need to pass it to a <code>Php</code> page so that I can store it in a Database. Which would be The BEST technique to pass this string variable along with some other data from <code>JavaScript</code> to a <code>Php</code> page ?</p>\n"},{"tags":["php","magento","override","magento-1.7","mage"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13228235,"title":"Controller override in Magento","body":"<p>Hello friend i need to over ride magento core controller </p>\n\n<p>i want to override a <code>Mage\\ImportExport\\controllers\\Adminhtml\\ExportController.php</code></p>\n\n<p>In my <code>community\\compnyname\\modulename\\controllers\\Adminhtml</code></p>\n\n<p>this is my <code>config.xml in \\compnyname\\modulename\\etc</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;config&gt;\n    &lt;modules&gt;\n        &lt;company_module&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/company_module&gt;\n    &lt;/modules&gt;\n    &lt;global&gt;\n        &lt;rewrite&gt;\n            &lt;company_module&gt;\n                &lt;from&gt;&lt;![CDATA[#^/controller/adminhtml/#]]&gt;&lt;/from&gt;\n                &lt;to&gt;/controller/adminhtml/&lt;/to&gt;\n            &lt;/company_module&gt;\n        &lt;/rewrite&gt;\n    &lt;/global&gt;\n&lt;/config&gt;\n</code></pre>\n\n<p>this is my controller code in <code>\\compnyname\\modulename\\controllers\\Adminhtml\\ExportController.php</code></p>\n\n<pre><code>&lt;?php\nrequire_once('/Mage/ImportExport/controllers/Adminhtml/ExportController.php');\nclass company_module_ImportExport_Controller_Adminhtml_ExportController extends Mage_ImportExport_Adminhtml_ExportController\n{\n    function indexAction()\n    {\n        echo \"i am called\";die;\n    }\n}\n?&gt;\n</code></pre>\n\n<p>Please help me in override a controller</p>\n\n<p>Where is problem in my code?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","javascript","iframe","document","getelementbyid"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13262402,"title":"Javascript inside PHP not working (document.getElementById)","body":"<p>So something weird is happening but I can't seem to get the javascript code \"document.getElementById\" working inside of php...</p>\n\n<p>For example, load the following php code (below) into a php file and run it, there is no javascript alert? But if you copy the source-code that the php echoed (or printed) and run it as an html file there is a javascript alert??? So any element that is created inside of PHP tags doesn't run in javascript, even if the javascript is kept outside of the php tags?</p>\n\n<p>Here is the php demo code:</p>\n\n<pre><code>&lt;?php\n\nprint \"\n&lt;iframe id='my_id' name='my_id' src='http://www.php.com/'&gt;&lt;/iframe&gt;\n\n&lt;SCRIPT LANGUAGE='javascript'&gt; \ndocument.getElementById('my_id').contentWindow.onload = function(){\n    alert('content loaded');\n}\n&lt;/SCRIPT&gt;\n\";\n\n\n?&gt;\n</code></pre>\n\n<p>It even doesn't work if just this is your code:</p>\n\n<pre><code>&lt;iframe id='my_id' name='my_id' src='&lt;?php echo\"http://www.php.com/\"; ?&gt;'&gt;&lt;/iframe&gt;\n\n&lt;SCRIPT LANGUAGE='javascript'&gt; \ndocument.getElementById('my_id').contentWindow.onload = function(){\n    alert('content loaded');\n}\n&lt;/SCRIPT&gt;\n</code></pre>\n\n<p><code></code></p>\n\n<p><code></code></p>\n\n<p><code></code></p>\n\n<p>Here is the source code that appears (upon request) (Also the contentWindow.onLoad is working fine for content that is not on the same domain as mine in Safari):</p>\n\n<pre><code>&lt;iframe id='my_id' name='my_id' src='http://www.php.com/'&gt;&lt;/iframe&gt;\n\n&lt;SCRIPT LANGUAGE='javascript'&gt; \ndocument.getElementById('my_id').contentWindow.onload = function(){\n    alert('content loaded');\n}\n&lt;/SCRIPT&gt;\n</code></pre>\n\n<p><code></code></p>\n\n<p><code></code></p>\n\n<p><code></code></p>\n\n<p>My issue is that in HTML this code works fine and the alert is called.... in PHP the code does not work and the alert is never called... There is something wrong with the way PHP handles \"document.getElementById\", there is nothing wrong with \".contentWindow.onload\"</p>\n\n<p>Thankyou :)</p>\n"},{"tags":["php","datetime"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13264056,"title":"DateTime::createFromFormat","body":"<p>I need to enter dates and time(input as strings) into my database but there's no change (remains as 0000-00-00 for the date and 00:00:00 for the time). I know I'm supposed to use DateTime::createFromFormat() but I'm not sure how to go about it. Please be patient and explain to me how I'm supposed to go about it and what is happening in each step and if I want to return the date from the database on later on, how will I go about it? I'm using     <code>$date</code> and <code>$starttime</code> , <code>$endtime</code>.</p>\n"},{"tags":["php","domain-driven-design","aggregate","aggregateroot","aggregates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13254657,"title":"Implement sorting/filtering business logic into DDD aggregates","body":"<p>I am fairly new to DDD and for me I search in practical terms to a good function for an aggregate. I have a long list of users (<code>User</code>) and a create an aggregate (<code>UserAggregate</code>) for that.</p>\n\n<p>Now in my view I might display users based on different criteria. Let's assume here I don't sort the list in my database query, it is OK to have sorting in an aggregate? I cannot come up with another part of the application where I can do this properly, but I might misunderstand the function of an aggregate.</p>\n\n<pre><code>$users = new UserAggregate(array(\n $user1, $user2, $user3, $user4\n));\n\nforeach ($users-&gt;sortBySurname(), $user) {\n //\n}\n\nforeach ($users-&gt;sortByLastLoggedIn(), $user) {\n //\n}\n</code></pre>\n\n<p>The same holds for filtering by the way. When I read about DDD aggregates, I immediately thought of the <code>Doctrine\\Common\\Collections\\Collection</code> (<a href=\"https://github.com/doctrine/common/blob/master/lib/Doctrine/Common/Collections/Collection.php\" rel=\"nofollow\">link</a>). That sort-of looks like an aggregate to me. So DDD experts, please enlighten me :-)</p>\n\n<p><strong>Update</strong></p>\n\n<p>The only way I was thinking btw was making aggregates rather immutual and have helpers to create new aggregates. But this seems not the way to go:</p>\n\n<pre><code>$aggregate = new UserAggregate(array($user1, $user2));\n$helper    = new FilterSomething;\n$aggregate = $helper-&gt;filter($aggregate);\n</code></pre>\n\n<p>The second aggregate is a new instance, so the helper looks like this:</p>\n\n<pre><code>class FilterSomething\n{\n  public function filter(Aggregate $aggregate)\n  {\n    $items = $aggregate-&gt;getItems();\n    $items = $this-&gt;doFilter($items);\n\n    return new Aggregate($items);\n  }\n}\n</code></pre>\n"},{"tags":["php","sql","sql-server","query"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13263569,"title":"Getting only the same result to appear in SQL","body":"<p>This is my code, later I will be putting it into php, but for the time being I am using it in a provided Query tester. We are doing the first degree of kevin bacon instead of the 6th.</p>\n\n<p><strong>My query is as follow:</strong> </p>\n\n<pre><code>SELECT name,year\nFROM actors\nJOIN roles ON roles.actor_id = actors.id\nJOIN movies ON movies.id=roles.movie_id\nWHERE actors.first_name= 'kevin' AND actors.last_name='bacon' OR actors.first_name= 'sean' AND actors.last_name='penn'\nORDER BY movies.name;\n</code></pre>\n\n<p><strong>it results in</strong> </p>\n\n<pre><code>Animal House 1978\nApollo 13 1995 \nFew Good Men, A 1992 \nFootloose 1984 \nHollow Man 2000 \nJFK 1991 \nMystic River 2003 \nMystic River 2003 \nPlanes, Trains &amp; Automobiles 1987 \nStir of Echoes 1999 \n</code></pre>\n\n<p><strong>How do I get it to show only Mystic River?</strong></p>\n"},{"tags":["php","javascript","html"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":46,"score":3,"question_id":13263752,"title":"web pages using javascript cant work if user's browser has javascript disable...so is there any way to run command like onclick without javascript?","body":"<p>plz anyone help me give me solution to run command like onclick without javascript....thanks\n//javascript code:</p>\n\n<pre><code>                function selectedproperty(id)\n                {\n                document.getElementById(\"pid\").value=id;\n                document.getElementById(\"form1\").submit();\n                }\n\n                function singleproperty(id)\n                {\n                document.getElementById(\"pid\").value=id;\n                document.getElementById('form1').action=\"singlepropertydetail.php\"\n                document.getElementById(\"form1\").submit();\n                }  \n\n// html/php code \n\n &lt;ul&gt;\n    &lt;?PHP\n    $sql=mysql_query(\"select build_name,flat_no,property_id from new_property where owner='\".$ownerid.\"'\") or die(mysql_error());\n    while($row=mysql_fetch_row($sql))\n    {\n    echo \"&lt;li onclick='singleproperty(\".$row[2].\");' &gt;\".$row[0].\" \".$row[1].\"&lt;/li&gt;\";\n    }\n    ?&gt;\n    &lt;/ul&gt;\n</code></pre>\n"},{"tags":["php","url","url-rewriting","seo","category"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13263994,"title":"send get data url php without passing data url seo","body":"<p>I'm try to do category area i do category child ul list and make seo URL friendly no i need when visitor select category show to him category name and description  i do it success like this</p>\n\n<pre><code>    http://www.afrogfx.com/category-20121101135800-Cairo.html\n</code></pre>\n\n<p>and i need if category displayed successfully show all posts in this category \nHere is query to get categories</p>\n\n<pre><code>    $caturl=$_GET['caturl'];\n    if($_GET['caturl'])\n    {\n    $caturl=urldecode(mysql_real_escape_string($_GET['caturl']));\n    $caturl=$caturl.'.html'; //Friendly URL \n\n    $sql = mysql_query(\"select  * from categories where caturl='$caturl' order by         catid asc \") or die(mysql_error());\n    $num_rows = mysql_num_rows($sql);\n    $row=mysql_fetch_array($sql);\n\n    $catdescription=$row['catdescription'];\n    $catdate=$row['catdate'];\n    $catname=$row['catname'];\n    $caturl=$row['caturl'];\n    $catimagepath=$row['catimagepath'];\n    $metatags=$row['metatags'];\n    $catid=$row['catid'];\n    $parentid=$row['parentid'];\n</code></pre>\n\n<p>no i need to get all posts where cati id from categories table = categories from posts table !! how can i do it how can i get cat id to make sec query like </p>\n\n<pre><code>    $catid=$_GET['catid'];\n    $sql2 = mysql_query(\"select  * from posts where categories='$catid' order by         postid asc \") or die(mysql_error());\n    $num_rows2 = mysql_num_rows($sql2);\n    if($num_rows2 &gt;= 1)\n    {\n    while($row2=mysql_fetch_array($sql2))\n    {\n    $snippet = explode(\" \",$description);\n    $snippet_to_use = array_slice($snippet,0,20);\n    $snippet_to_use = implode(\" \", $snippet_to_use);\n\n    $phpdate = strtotime( $create_on );\n    $create_on = date( 'd, M, Y', $phpdate );\n    $blogurl=\"/posts-$url\";\n    //D., M jS\n</code></pre>\n"},{"tags":["php","jquery","jquery-ui"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13229473,"title":"Jquery UI date-picker Set default date","body":"<p>I used jQuery UI for datepicker i want to show current date in the field as default following is my code please help </p>\n\n<pre><code>    &lt;script&gt;\n        $(function() {\n         $( \"#datepicker\" ).datepicker({\n        dateFormat: 'dd-mm-yy',\n        currentText: \"Now\"\n         });\n\n        $( \"#datepicker2\" ).datepicker({\n        dateFormat: 'dd-mm-yy',\n        currentText: \"Now\"\n        });\n\n    });\n        &lt;/script&gt;\n\nFrom Date: &lt;input type='text' id='datepicker' name='date_from' /&gt;\nTo Date:   &lt;input type='text' id='datepicker2' name='date_to' /&gt;\n</code></pre>\n\n<p>But I could not set default date </p>\n"},{"tags":["php","internet-explorer-8","google-charts"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1789,"score":4,"question_id":7673156,"title":"Google Pie Chart not displaying Internet Explorer 8","body":"<p>I'm using a Google Pie chart which displays as expected in Firefox but doesn't display in IE8 and gives the following error in the console:</p>\n\n<pre><code>SCRIPT5022: Every row given must be either null or an array. \nformat+en,default,corechart.I.js, line 202 character 63\n</code></pre>\n\n<p>I'm using a Google Line Chart on another page and this displays fine.</p>\n\n<p>Appreciate any pointers.</p>\n"},{"tags":["php","pdf","text","text-files"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1058,"score":0,"question_id":10219076,"title":"convert pdf to text file in php (note : shell_exec is disabled)","body":"<p>the best way to solve this was to use \"pdftotext\" that is in the \"xpdf\" package but in all shared hosts that i googled shell_exec is disabled . i found alternative metods that used only php like a function called pdf2string() (on php.net) but none of those functions didn't work as expected (with some pdf files they just didn't output correct text and with some other pdf they didn't output nothing and some other versions of this function just didnt work at all so i excluded this option). any way to convert that open source pdftotext into a php script ? (source is in c++ i think and can be found here : <a href=\"http://www.foolabs.com/xpdf/download.html\" rel=\"nofollow\">http://www.foolabs.com/xpdf/download.html</a>) . any other solution will be accepted as far as it gives to me text output of the pdf (the correct one)  </p>\n"},{"tags":["php","mysql","gmt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13263921,"title":"GMT time and mysql NOW() is giving 2 minutes difference","body":"<p>When i was checking the GMT time <a href=\"http://wwp.greenwichmeantime.com/info/current-time/\" rel=\"nofollow\"><strong><code>here</code></strong></a> it was <strong>05:40:00</strong>, at the same time i ran the below query in mysql,</p>\n\n<pre><code>SET time_zone='+00:00'; // to get GMT time\nSELECT NOW();\n</code></pre>\n\n<p>It was <strong>05:37:50</strong> from above query. So in mysql i am getting around 2 minutes time difference from <strong><a href=\"http://wwp.greenwichmeantime.com/info/current-time/\" rel=\"nofollow\">GMT</a></strong>. It has to give <strong>05:40:00</strong> instead of <strong>05:37:50</strong>. How to resolve this?</p>\n\n<p>Thanks for your valuable time.</p>\n"},{"tags":["php","javascript","html"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":13263741,"title":"how to remove a value from comma separated string variable?","body":"<p>I want to remove one value from comma separated string variable\nEg hdnListCL =\"'ABC','PQR','XYZ'\"\ni want to remove any one of them, how i can do this without converting this into array? \nhtml code </p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"hdnlistCL\" id=\"hdnlistCL\"/&gt;\n&lt;table&gt;\n &lt;tr&gt;\n    &lt;td&gt;\n            &lt;div id=\"ProjList\"&gt;&lt;?php print $strLocName; ?&gt;&lt;/div&gt;&lt;br/&gt;\n         &lt;input type=\"text\" name=\"txtCommonLocation\" id=\"txtCommonLocation\" size=\"40\" value=\"\"/&gt;\n         &lt;img src=\"images/plus.gif\" title=\"Click Here\" onclick=\"AddNewLocation()\" style='cursor:pointer;' align=\"right\"/&gt;  &lt;/td&gt;    \n     &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>javascript</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"../scripts/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction AddNewLocation()\n{\n    var listCL = \"\";\n    this.strProjName;\n    if ( typeof strProjName == 'undefined' ) {\n          strProjName = '';\n    }\n    var newLoc = document.getElementById('txtCommonLocation').value;\n    document.getElementById('txtCommonLocation').value = \"\";\n    if(document.getElementById('hdnlistCL').value == '')\n    { \n       document.getElementById('hdnlistCL').value =newLoc;\n    }\n    else\n    {\n      document.getElementById('hdnlistCL').value += \",\"+newLoc;\n    }\n      listCL  = newLoc; \n      if(listCL != '')  \n        {\n             strProjName = strProjName + '&lt;div id=\"'+listCL+'\"&gt;'+listCL+'&lt;div  class=\"close\" onclick=\"removeLocation(\\''+listCL+'\\')\"&gt;&lt;/div&gt;&lt;/div&gt;';            \n        }\n    //  alert(strProjName);\n        $('#ProjList').html(strProjName);   \n}\nfunction removeLocation(pLocation)\n{\n    var hdnListLocation = document.getElementById('hdnlistCL').value;\n    if(window.confirm(\"Are you sure you want to delete this?\"))\n                {      \n                            url = 'test_st.php';\n                            $.post(\n                                url,\n                                {\"act\":\"Delete\",\"DelLocation\":pLocation,\"hdnListLocation\": hdnListLocation},\n                                function(responseText){\n                                    alert(responseText);\n                                    return false;\n                                  window.location=\"test_st.php\";                    \n                                },\n                                \"html\"\n                            );\n                            return false;\n                }   \n}\n&lt;/script&gt;\n</code></pre>\n\n<p>php code</p>\n\n<pre><code>&lt;?php\n if(isset($_POST['act']))   \n       $act = $_POST['act'];\n\n        if($act == \"Delete\")\n        {\n            $arrhdnListLocation     = explode(\",\", $_POST['hdnListLocation']);\n            if(in_array($_POST['DelLocation'],$arrhdnListLocation))\n            {\n            print(\"I want to remove'\".$_POST['DelLocation'].\"' from hdnlistCL\");        \n                    exit();\n            }\n            else\n            {\n                print(\"No\");\n                exit();\n            }\n\n        }\n?&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/mmhtA.jpg\" alt=\"enter image description here\"></p>\n\n<p>when i click close button i want to remove that location from hdnlistCL. how i can do this?\nvalue of hdnListCL is ABC,PQR,XYZ i want to remove PQR from this  </p>\n"},{"tags":["php","pass"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13170904,"title":"How to pass date_from and date_to from one php to another one to do a db query","body":"<p>I use a jquery ui calendar let user choose the start and end date, click a link in first php page to do a mydql query in second php page to export the query result as a download csv file (some guys said it's impossible to do this in one page, it have to be two php pages).</p>\n\n<p>My question is how to pass $date_from and $date_to from first php and how to get those value in second page.</p>\n\n<p>thx</p>\n\n<p>this works!\nquery string like this: check.php?date_from=2012-09-01&amp;date_to=2012-09-30</p>\n\n<p>and in check.php, the value can get like this:</p>\n\n<pre><code>$export_type = $_GET['export_type'];\n$date_from = $_GET['date_from'];\n$date_to = $_GET['date_to'];\n</code></pre>\n"},{"tags":["php","javascript","html","jsfiddle"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13263481,"title":"How to display data from drop down menu into text inputs","body":"<p>I am having trouble displaying the <code>SessionName</code>, <code>SessionDate</code> and <code>SessionTime</code> in their respective text inputs. </p>\n\n<p>What should happen is that the user is suppose to select a Session (Assessment) from the drop down menu. Now when they submit the drop down menu, the details of the Session which are <code>SessionName</code>, <code>SessionDate</code> and <code>SessionTime</code>, should be displayed in their text inputs. But they are not being displayed in their text inputs, the text inputs remain empty.</p>\n\n<p>How can I get the <code>SessionName</code>, <code>SessionTime</code> and <code>SessionDate</code> to be displayed in their respective text inputs?</p>\n\n<p>Here is a <a href=\"http://jsfiddle.net/Ypcpe/5/\" rel=\"nofollow\">jsfiddle</a> which contains dummy data and relevant features to show what the application should look like:</p>\n\n<p><strong>Here is my code:</strong></p>\n\n<pre><code>$sessionquery = \"\nSELECT SessionId, SessionName, SessionDate, SessionTime, ModuleId\nFROM Session\nWHERE\n(ModuleId = ?)\nORDER BY SessionDate, SessionTime \n\";\n\n$sessionqrystmt=$mysqli-&gt;prepare($sessionquery);\n// You only need to call bind_param once\n$sessionqrystmt-&gt;bind_param(\"s\",$_POST['modules']);\n// get result and assign variables (prefix with db)\n\n$sessionqrystmt-&gt;execute(); \n\n$sessionqrystmt-&gt;bind_result($dbSessionId,$dbSessionName,$dbSessionDate,$dbSessionTime, $dbModuleId);\n\n$sessionqrystmt-&gt;store_result();\n\n$sessionnum = $sessionqrystmt-&gt;num_rows();   \n\nif($sessionnum ==0){\necho \"&lt;p&gt;Sorry, You have No Assessments under this Module&lt;/p&gt;\";\n} else { \n\n$sessionHTML = '&lt;select name=\"session\" id=\"sessionsDrop\"&gt;'.PHP_EOL;\n$sessionHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;           \n\nwhile ( $sessionqrystmt-&gt;fetch() ) {\n    $sessionHTML .= sprintf(\"&lt;option value='%s'&gt;%s - %s - %s&lt;/option&gt;\", $dbSessionId, $dbSessionName, $dbSessionDate, $dbSessionTime) . PHP_EOL;  \n}\n\n$sessionHTML .= '&lt;/select&gt;';\n\n$assessmentform = \"&lt;form action='\".htmlentities($_SERVER['PHP_SELF']).\"' method='post' onsubmit='return sessionvalidation();'&gt;\n&lt;p&gt;Assessments: {$sessionHTML} &lt;/p&gt;\n&lt;p&gt;&lt;input id='sessionSubmit' type='submit' value='Submit Assessment' name='sessionSubmit' /&gt;&lt;/p&gt;  \n&lt;div id='sessionAlert'&gt;&lt;/div&gt;    \n&lt;/form&gt;\";\n\necho $assessmentform;\n\n}\n\n}\n\n if (isset($_POST['sessionSubmit'])) {\n\n$currentsession = \"&lt;form action='\".htmlentities($_SERVER['PHP_SELF']).\"' method='post'&gt;\n&lt;p&gt;Current Assessment's Date/Start Time:&lt;/p&gt;\n&lt;p&gt;Assessment: &lt;input type='text' id='currentAssessment' name='Assessmentcurrent' readonly='readonly' value='{$dbSessionName}'/&gt; &lt;/p&gt;\n&lt;p&gt;Date: &lt;input type='text' id='currentDate' name='Datecurrent' readonly='readonly' value='{$dbSessionDate}'/&gt; &lt;/p&gt;\n&lt;p&gt;Start Time: &lt;input type='text' id='currentTime' name='Timecurrent' readonly='readonly' value='{$dbSessionTime}'/&gt; &lt;/p&gt;\n&lt;input type='hidden' id='hiddenId' name='hiddenAssessment' value='{$dbSessionId}'/&gt;\n&lt;/form&gt;\n\";  \n\necho $currentsession;\n\n    }\n</code></pre>\n"},{"tags":["php","string"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":50,"score":-2,"question_id":13263523,"title":"Getting first two words from string in php","body":"<p>I have string like:</p>\n\n<pre><code>$message=\"AB 1234 Hello, how are you?\n</code></pre>\n\n<p>I want to get like this:</p>\n\n<pre><code>$message[0] = AB\n$message[1] = 1234\n$message[2] = Hello, how are you?\n</code></pre>\n\n<p>Please don't suggest substr function because length of first two words may vary but they will have spaces in between.\nAny other suggestion?</p>\n"},{"tags":["php","paypal","integration","payment-gateway"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":452,"score":1,"question_id":7499019,"title":"How to secure paypal integration for website","body":"<p>I have been using paypal in the past for selling stuff through my website ( e.g. memberships ) but I always had to verify through paypal whether the user really bought the membership (for example) before I could assign it to his/her account. Now I was wondering if there's a way that I can put a paypal purchase button onto my webpage to ( for example ) purchase a membership and then once the user paid, he'll automaticly be assigned the membership on my website ( e.g. there's a page purchase_result.php which assigns the membership, but ONLY if the user really bought it through paypal ). How can I make sure the user actually bought the item through paypal on the return page on my website?</p>\n\n<p>Thanks in advance,\nSkyfe.</p>\n\n<p>btw, I hope my question can be understood</p>\n"},{"tags":["php","apache"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13263496,"title":"apache httpd cannot browse through browser","body":"<p>i've setup apache and php on a virtual machine. everything works fine in the virtual machine. im able to execute php files and run up phpmyadmin connecting to mysql. on my host machine, im able ping and ssh into the remote machines. however, im unable to browse the php files on the host browser using the ip address.</p>\n\n<p>in my httpd.conf, im listening to port 80. i enabled the ServerName 192.168.75.102:80</p>\n\n<p>am i missing some settings? port settings maybe?</p>\n"},{"tags":["php","paypal","paypal-sandbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13263529,"title":"Paypal sandbox return url is not getting the response from paypal","body":"<p>I am working on localhost and testing payment for paypal sandbox. But I am not able to get the response from paypal.</p>\n\n<p>Thanks  </p>\n"},{"tags":["php","phalcon"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13261618,"title":"Using Phalcon Tags to dynamically load CSS and Javascript files","body":"<p>I guess this question might have the same outcome as <a href=\"http://stackoverflow.com/questions/12951048/how-do-i-use-main-layout-views-in-a-multi-module-phalcon-application\">How do I use &quot;Main Layout&quot; views in a multi module Phalcon application?</a></p>\n\n<p>My <strong>Main Layout</strong> view has the basic html structure of my entire app and I'm using the <strong>controller layout</strong> view to present the content of that controller. I believe I am doing it right so far?</p>\n\n<p>But now I have a problem with needing to load specific JS and CSS files relevant to just that module controller in my <strong>Main Layout</strong> view.</p>\n\n<p>Currently I am loading all CSS and JS in my <strong>Main Layout</strong> file but this completely goes against the multi module approach. Each module should be able to load css/js files without having to modify a core layout file.</p>\n\n<p>Ideally I would love to follow the same approach as setting page titles</p>\n\n<p><strong>Controller:</strong>\nPhalcon\\Tag::setStylesheetLink(\"http://fonts.googleapis.com/css?family=Rosario\", false);</p>\n\n<p><strong>Views:</strong> echo Phalcon\\Tag::getStylesheetLink();</p>\n\n<p>Is there any other way I can accomplish this that I might be missing?</p>\n"},{"tags":["php","billing","inventory","sales"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":809,"score":0,"question_id":6540741,"title":"Open Source Solution for inventory,Billing In PHP","body":"<p>I am developing an application for my client in which he want to manage his medium size company sales/Purchase/expenditures/stock and he also want to provide online billing(without online payment) facility.</p>\n\n<p>He also want to set different access levels for different persons.</p>\n\n<p>I know that i can develop this app from scratch but i don't want to waste my time so i am searching for an open source solution in PHP using mysql as backend.</p>\n\n<p>I hope if found any good open source solution then  i can modify it as per my need.</p>\n\n<p>So suggest me any good solution for this purpose.</p>\n\n<p>If you find anything unclear in question than please comment  on question i will make it clear.</p>\n\n<p>-Thanks in advance.   </p>\n"},{"tags":["php","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":23,"score":-4,"question_id":13263213,"title":"ajax function doesn't return large amount of value","body":"<p>I have a php web site. I have used POST method. I have to fetch large amount of data from my Ajax page (ajax.php).  I.e. have to display a contact form, in which there is a country drop down and it contain 250 values... </p>\n\n<p>When I reduced the country count then my Ajax form returns the entire field. But when I wrote all the country it's again return partial form...</p>\n\n<p>I need complete form...</p>\n\n<p>Does anyone know this how I get all the fields...?</p>\n\n<p>Thanks in advance </p>\n\n<p>Ya\nI got the mistake. There was an extra symbol in my country list , so the ajax out put is stopped</p>\n"},{"tags":["php","magento","e-commerce"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13248293,"title":"how to show reviews on tabcontent?","body":"<p>In my <code>magento details</code> page there is a <code>tabcontent</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/BD4Fb.png\" alt=\"enter image description here\"></p>\n\n<p>When i clicking the <strong><code>review</code></strong>  <strong>(see on fig)</strong>  i want to show my reviews on the tab under <strong>review</strong>  of the particular product</p>\n\n<p>Please help me to get a solution</p>\n"},{"tags":["php","architecture","parallel-processing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":34,"score":0,"question_id":13263434,"title":"The architecture of a PHP web application","body":"<p><strong>Hello everyone!</strong></p>\n\n<p>We are working on a web application in PHP that is composed by several and different modules. One of this modules is a web crawler, the rest are mostly different proves that will be done once the crawler finishes it's job.</p>\n\n<p>Each one of these modules need to be controlled from a main file that would initially trigger the crawler.We need to establish a communication between the crawler.php and the main.php in order to receive and send real time information from the crawler and also to inform when it finishes so we can trigger the other modules (in parallel) when it does. Long story short, each one of the modules should be able to talk with the supposed main.php file.</p>\n\n<p>At this moment, all the modules are done and fully working, but not the main file.</p>\n\n<p><strong>Among the needs, the system need to be able to:</strong></p>\n\n<ol>\n<li>The main.php need to send instructions to the different modules.</li>\n<li>Such as start working, pause, or stop the job.</li>\n<li>Each one of the modules need to send information back to the main.php.</li>\n<li>Mostly in order to track the progress and trigger different actions.</li>\n<li>It would be great that the system doesn't need the user's browser to be\nopen in order to work, in order works, we would like the entire\napplication to be able to run as a background process.</li>\n</ol>\n\n<p><strong>So, here comes the questions!</strong></p>\n\n<p>First of all, I understand this could be done using web sockets, Javascript or even HTML5, how do you find this approach? In case we go for PHP, which possibilities do we have besides using fsockopen or pcntl_fork? Is there any recommendation or better solution that we are missing?</p>\n\n<p>Thanks a lot to anyone helping us out on this complex question.\n<strong>All the best!</strong></p>\n"},{"tags":["php","javascript","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":69,"score":-1,"question_id":13246459,"title":"php mysql dynamic table display with numbring","body":"<p>i have page where i populate table from mysql using php. I have 10 tables. \nIf there is no data in table then the table is not displayed.</p>\n\n<p>i have displayed numbering like \"1\" for table one 2 for table 2 and so on . now if table 3,6,9 have no data then page will display table of numbers 1,2,4,5,7,8,10. but i want that numbring according to the number of tables displayed.</p>\n\n<pre><code>$tbl2= \"SELECT * FROM wp_health_aanvullend_moduliar WHERE health_id=$hid\";\n$rs2 = mysql_query($tbl2);\n$count2 = mysql_num_rows($rs2);\n\n &lt;?php if($count2 &gt; 0){?&gt;\n\n&lt;table class=\"sub_front_efect\" cellpadding=\"0\" cellspacing=\"0\" style=\" border:none; margin:10px 0;\"&gt;\n&lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th colspan=\"100%\" class=\"health_sub_front\"&gt;Aanvullend moduliar&lt;/th&gt;&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n\n&lt;?php  $wp_health_aanvullend_moduliar = \"wp_health_aanvullend_moduliar\";\n             $crows = $wpdb-&gt;get_results( \"SELECT * FROM $wp_health_aanvullend_moduliar WHERE health_id=$hid\");\n              foreach ($crows as $crow) {\n                 $type          = $crow-&gt;type ;\n                 $price         = $crow-&gt;price;\n\n\n              ?&gt;\n    &lt;tr data-price=\"&lt;?php echo $price; ?&gt;\"&gt;&lt;td width=\"65%\"&gt;&lt;?php echo $type; ?&gt;&lt;/td&gt;&lt;td style=\"border-right:1px solid #ccc;\"&gt;&amp;euro; &lt;?php echo $price; ?&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;?php \n              }\n    ?&gt;\n  &lt;/tbody&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;?php } ?&gt;\n</code></pre>\n\n<p>if all the table has data then all displayed.<img src=\"http://i.stack.imgur.com/J2t1l.png\" alt=\"tables with numbers\">\nwhat can be the logic </p>\n\n<p>thanks  </p>\n"},{"tags":["php","jquery","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":822,"score":0,"question_id":9780879,"title":"submit form using Jquery Ajax Form Plugin and php?","body":"<p>this a simple example in how to submit form using the Jquery form plugins and retrieving data using html format\nhtml Code</p>\n\n<pre><code>&lt;html&gt; \n&lt;head&gt; \n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js\"&gt;&lt;/script&gt; \n    &lt;script src=\"http://malsup.github.com/jquery.form.js\"&gt;&lt;/script&gt; \n\n    &lt;script&gt; \n // prepare the form when the DOM is ready \n    $(document).ready(function() { \n        // bind form using ajaxForm \n        $('#htmlForm').ajaxForm({ \n            // target identifies the element(s) to update with the server response \n            target: '#htmlExampleTarget', \n\n            // success identifies the function to invoke when the server response \n            // has been received; here we apply a fade-in effect to the new content \n            success: function() { \n                $('#htmlExampleTarget').fadeIn('slow'); \n            } \n        }); \n    });\n    &lt;/script&gt; \n&lt;/head&gt; \n&lt;body&gt;\n&lt;form id=\"htmlForm\" action=\"post.php\" method=\"post\"&gt; \n    Message: &lt;input type=\"text\" name=\"message\" value=\"Hello HTML\" /&gt; \n    &lt;input type=\"submit\" value=\"Echo as HTML\" /&gt; \n&lt;/form&gt;\n&lt;div id=\"htmlExampleTarget\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>PHP Code</p>\n\n<pre><code>&lt;?php \necho '&lt;div style=\"background-color:#ffa; padding:20px\"&gt;' . $_POST['message'] . '&lt;/div&gt;'; \n?&gt;\n</code></pre>\n\n<p>this just work fine\nwhat i need to know if what if i need to Serialize the form fields so how to pass this option through the JS function\nalso i want show a loading message while form processed\nhow should i do that too\nthank you </p>\n"},{"tags":["php","api","service"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":3,"view_count":24,"score":-2,"question_id":13263390,"title":"Online Mobile Recharge Services for PHP site","body":"<p>I want to include online mobile recharge facilities for india on my PHP site. so please tell me the way how can i include this facility on my site or is there any service or API for this.</p>\n"},{"tags":["php","javascript","html","mysql","parameter-passing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13232944,"title":"Autofill of fields in a form depending on the selection from a select tag (drop down menu)","body":"<p>I have a form which has a select tag; on selection of an item from the drop down rest of the form fields should get filled accordingly.Note that all the form data comes from mysql database. Below is my code :</p>\n\n<pre><code>    &lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n            function populateData($id)\n            {\n                alert('in populateData');\n                y = document.getElementById(\"selectCard\");\n                document.getElementById(\"to_address\").value = to_address[y.selectedIndex];\n                document.getElementById(\"subject\").value = subject[y.selectedIndex];\n                document.getElementById(\"email_content\").value = email_content[y.selectedIndex];\n            }\n    &lt;/script&gt;\n    &lt;body&gt;\n        &lt;?php\n            mysql_connect(\"localhost\", \"someUser\", \"password\") or die(\"Connection Failed\");\n            mysql_select_db(\"mns\")or die(\"Connection Failed\");\n            $query = \"SELECT * FROM table\";\n            $result = mysql_query($query);\n        ?&gt;              \n        &lt;select id=\"selectCard\" class=\"dropdown\" onchange=\"populateData($id)\"&gt;\n            &lt;?php\n                while ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {\n            ?&gt;  \n            &lt;option value=\"&lt;?php echo $line['source_name'];?&gt;\"&gt; &lt;?php echo $line['source_name'];?&gt;\n            &lt;?php\n                $id = $line['source_id'];           \n                $source_name = $line['source_name'];\n                $source_email = $line['source_email'];\n                $phone_no = $line['source_id'];\n                $disteller_function = $line['disteller_function'];\n                }\n            ?&gt;\n        &lt;/select&gt;               \n        &lt;P&gt;&lt;INPUT ID=\"to_address\" TYPE=\"TEXT\" NAME=\"to_address\" SIZE=\"25\"&gt;&lt;/P&gt;    \n        &lt;P&gt;&lt;INPUT ID=\"subject\" TYPE=\"TEXT\" NAME=\"subject\" SIZE=\"25\"&gt;&lt;/P&gt;         \n        &lt;P&gt;&lt;INPUT ID=\"email_content\" TYPE=\"TEXT\" NAME=\"email_content\" SIZE=\"500\"&gt;&lt;/P&gt;         \n        &lt;P&gt;&lt;INPUT TYPE=\"SUBMIT\" VALUE=\"Submit\" NAME=\"B1\"&gt;&lt;/P&gt;                       \n    &lt;/body&gt;\n</code></pre>\n\n<p>When am passing '$id' as parameter, the 'populateData($id)' function is not getting called.And When i remove the parameter the code works but i get 'undefined' in rest of the form fields.          </p>\n\n<p>Any help is much appreciated.</p>\n\n<p>Nanashi         </p>\n"},{"tags":["php","api","magento","rest","magento-1.7"],"answer_count":0,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":12,"score":2,"question_id":13263343,"title":"How to get Access Token and Access Token Secret from Magento 1.7 REST API","body":"<p>I've registered my application on my magento admin.</p>\n\n<p>already got the Consumer Key and Consumer Secret.</p>\n\n<p>but i have no luck to get the access token and access token secret.</p>\n\n<p>it said </p>\n\n<blockquote>\n  <p>oauth_problem=parameter_absent&amp;oauth_parameters_absent=oauth_consumer_key</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/DpGmA.png\" alt=\"Simple REST API\"></p>\n\n<p>i'm testing based on this link</p>\n\n<p><a href=\"http://www.magentocommerce.com/api/rest/testing_rest_resources.html\" rel=\"nofollow\">http://www.magentocommerce.com/api/rest/testing_rest_resources.html</a></p>\n\n<p>What i need to know the answer is</p>\n\n<ol>\n<li>What must i fill to Header &amp; Data textfield?</li>\n<li>How to get the Access Token and Access Secret Token (on Mozilla)?</li>\n<li>Is there any tutorial step by step to test any REST API?</li>\n</ol>\n"},{"tags":["php","caching","joomla"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13263327,"title":"caching for a specific resource","body":"<p>some times it will be a stupid question!!!.</p>\n\n<p>I have found this in google page speed test</p>\n\n<p>The following cacheable resources have a short freshness lifetime. Specify an expiration at least one week in the future for the following resources:</p>\n\n<pre><code>http://ladydecosmetic.com/.../opensans-semibold-webfont.woff (expiration not specified)\nhttp://ladydecosmetic.com/.../sansation_bold-webfont.woff (expiration not specified)\nhttp://cdn.api.twitter.com/.../count.json?... (15 minutes)\nhttp://connect.facebook.net/en_US/all.js (17.6 minutes)\nhttp://platform.twitter.com/widgets.js (30 minutes)\nhttps://apis.google.com/js/plusone.js (30 minutes)\nhttp://ajax.googleapis.com/.../jquery-ui.css (60 minutes)\nhttp://www.google-analytics.com/ga.js (12 hours)\n</code></pre>\n\n<p>so my question is can we specify expiration for those mentioned resources? or what is the general way to pass this test?</p>\n\n<p>thanks in advance</p>\n"},{"tags":["php","javascript","jquery","ajax","browser"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":67,"score":-1,"question_id":13263051,"title":"How to display confirmation if user clicks on a back browser button?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/136937/is-there-a-way-to-catch-the-back-button-event-in-javascript\">Is there a way to catch the back button event in javascript?</a>  </p>\n</blockquote>\n\n\n\n<p>In my application I want only a certain number of scripts (Text1.php, Text2.php and Text3.php) to contain a piece of code where that if the user clicks on the back browser button, it will display a confirmation box like the one below:</p>\n\n<pre><code>confirm(\"You have clicked on the browser's back button. If you confirm to go back via the browser back button, you will be logged out and lose your current assessment details.\" + \"\\n\" + \"\\n\" + \"Are you sure you want to go back and lose current assessment details?\" + \"\\n\" );\n</code></pre>\n\n<p>The requirments are the following:</p>\n\n<ol>\n<li>How to show the confirm if the user clicks on the back browser button?</li>\n<li>If user confirms the confirmation then navigate to Text4.php (This is where it logs out user)</li>\n<li>If user cancels confirmation then just close confirmation box so user can continue what they are doing (guessing this is something to do with <code>return false;</code></li>\n<li>Only want this to happen for scripts (Text1.php, Text2.php and Text3.php) </li>\n<li>Need it to work on all major browsers (IE, Chrome, Firefox, Safari, Opera)</li>\n</ol>\n\n<p>Thank you</p>\n"},{"tags":["php","memory","xlsx"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13262877,"title":"simplexlsx out of memory","body":"<p>I am using simplexlsx class to read 38879 rows of data (on 1 sheet) and I had a problem with memory (Out of Memory). My server's memory size is 48 GIGS and I set the memory_limit (php.ini) on 9000MB, but the problem is still there! Can you tell me what I am supposed to do?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":7651004,"title":"Session_start failing because lack of permissions","body":"<p>I'm using Windows 7 with an Administrator account. I have Xampp installed at C:\\xampp.</p>\n\n<p>I have the same problem that <a href=\"http://stackoverflow.com/questions/670595/php-session-start-fails\">this situation</a>, and I tried:</p>\n\n<ul>\n<li>Uncheck \"read only\" boxes to all files and folders</li>\n<li>attrib -r -a C:\\xampp\\tmp /S /D (without the /D gives file not found)</li>\n<li>Selected \"everyone\" in security just to make sure. </li>\n</ul>\n\n<p>My xampp and tmp folder are now probably the unsafest folder in my computer, but I still get</p>\n\n<blockquote>\n  <p>Warning: session_start() [function.session-start]:\n  open(\\xampp\\tmp\\sess_1fcpeje5cqaopevmlclif9ejc0, O_RDWR) failed: No\n  such file or directory (2)</p>\n</blockquote>\n\n<p>Which I think it means that the folder is still not writable.\nMy code is just as </p>\n\n<pre><code>&lt;?php\nsession_start();\n....\n&gt;\n</code></pre>\n"},{"tags":["c#","php","wcf","flash","real-time"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13262992,"title":"real-time web update using WCF","body":"<p>I have been reading a lot of forums regarding the use of WCF in web, most specifically, this topic: <a href=\"http://stackoverflow.com/questions/3306744/wcf-with-flash-tutorial\">WCF with Flash tutorial</a>, but I am really confused. </p>\n\n<p>I have an existing feed server that is using WCF service. It is, with no problems, supplying real-time information to its windows applications clients. What i would like to do is to have a web application to subscribe to the feeds that i am supplying to the windows application clients. With the forum that i have read (the one i have indicated), it seems like it will be a request reply method. And i think, using that, i wouldn't be able to achieve the real-time transfer of feeds for it. </p>\n\n<p>I would like to know if there is an equivalent for the callback function in web development.</p>\n"},{"tags":["php","arrays","wordpress","foreach"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13263082,"title":"Storing Array in Wordpress API Setting Field","body":"<p>I am currently trying to develop a backend to manage a slider. I am using the wordpress settings API and media uploader to upload the images. Right now everything saves correctly and as I expected, but I am using Appendo to be able to add however many slides needed. Right now it will only save one.</p>\n\n<p>So for example there would be three different li elements in the slide_settings function after a user added 3 slides.</p>\n\n<p>Is it possible to store these values in an array I can access? Also, would it run through the whole array and save them? Do I run a foreach on the li element? I am still somewhat new to PHP and how foreach loops work.</p>\n\n<p>Here is the code for the wrapper:</p>\n\n<pre><code>function slider_options_page() {\n?&gt;\n&lt;div class=\"wrap\" id=\"manager_wrap\"&gt;    \n    &lt;div class=\"icon32\" id=\"icon-tools\"&gt;&lt;/div&gt;\n    &lt;h2&gt;Slider Settings&lt;/h2&gt;\n        &lt;form method=\"post\" action=\"options.php\"&gt;\n        &lt;?php settings_fields('slider_options'); ?&gt;\n        &lt;ul id=\"manager_form_wrap\"&gt;\n        &lt;?php do_settings_sections(__FILE__); ?&gt;\n        &lt;/ul&gt;           \n        &lt;input type=\"submit\" value=\"Submit\" class=\"button-primary\" value=\"&lt;?php esc_attr_e('Save Changes'); ?&gt;\" /&gt;          \n        &lt;/form&gt;\n&lt;/div&gt;\n&lt;?php   \n}\n</code></pre>\n\n<p>And the code for the setting field:</p>\n\n<pre><code>function slide_setting() { \n$options = get_option('slider_options');\n?&gt;\n&lt;li class=\"slide\"&gt;\n    &lt;input name='slider_options[slide]' type='text' value='&lt;?php echo $options['slide'] ?&gt;' /&gt;\n    &lt;input class=\"upload_button\" type=\"button\" class=\"button\" value=\"&lt;?php _e( 'Choose Slide' ); ?&gt;\" /&gt;\n        &lt;div class=\"upload_preview\" style=\"min-height: 100px;\"&gt;\n            &lt;img style=\"max-width:100%;\" src=\"&lt;?php echo $options['slide'] ?&gt;\" /&gt;\n        &lt;/div&gt;                  \n    &lt;button class=\"remove_slide button-secondary\"&gt;Remove This Slide&lt;/button&gt;                    \n&lt;/li&gt;   \n &lt;?php\n }\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13262187,"title":"Jquery/PHP $.post not working with SheepIT fields","body":"<p>I'm trying to make a calculator using the <a href=\"http://www.mdelrosso.com/sheepit/index.php?sec=demo3&amp;lng=en_GB\" rel=\"nofollow\">Jquery SheepIT plugin</a>.</p>\n\n<p>SheepIT clones input fields, which I have working fine. After generating these fields I want to post a total of fields with JQUERY using something like this:</p>\n\n<pre><code>    [SheepIT generated fields with names and values]                \n\n    &lt;script&gt;\n    function calc() {\n        $.post('process/calculate-charges.php', $(\"form\").serialize(), function(data) { $('#result').html(data); });\n    }\n    &lt;/script&gt;\n\n    &lt;input type=\"button\" value=\"Calculate Total\" onclick=\"calc()\" /&gt;\n    &lt;div id=\"result\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>My problem is jquery will not $.post the fields that have been cloned/dynamically generated with SheepIt! It's only posting the fields that were there on the page when the page first loaded.</p>\n\n<p>When i manually put a form around the fields and submitted them straight to a php file the $_POST array contains all the fields (from SheepIT!) like I need it to. I just want Jquery to give me the same results as this does.</p>\n\n<p>Can anyone provide any advice or an example. Thank you. If you require any additional information please let me know.</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":36,"score":-2,"question_id":13262794,"title":"PHP Range Function","body":"<p>I need some help w/ range function:</p>\n\n<p>Code: <code>range(1,4)</code></p>\n\n<p>Output:</p>\n\n<pre><code>Array\n(\n    [0] =&gt; 1\n    [1] =&gt; 2\n    [2] =&gt; 3\n    [3] =&gt; 4\n)\n</code></pre>\n\n<hr>\n\n<p>How can I get an output like:</p>\n\n<pre><code>Array\n(\n    [01] =&gt; 01\n    [02] =&gt; 02\n    [03] =&gt; 03\n    [04] =&gt; 04\n)\n</code></pre>\n"},{"tags":["php","json","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13262904,"title":"Read row from CSV file and export to JSON","body":"<p>I want to export CSV file to JSON file,require is read value at recommend field and write to JSON file. Exapmle : IN row 1,recomnend =2 will read the row that id=2 and print to JSON file that values : id,product_id,title.</p>\n\n<pre><code>$json = array();\n\n        $json['id'] = $row['id'];\n        $json['product_id'] = $row['product_id'];\n        $json['title'] = $row['title'];\n        $json['outline'] = $row['outline'];\n        $recom[] = $json;  \nprint json_encode($recom);\n</code></pre>\n\n<p><a href=\"http://ns0.upanh.com/b6.s33.d3/3a3ebb93a87c5703f673b399d5613ec2_50639320.untitled.png\" rel=\"nofollow\">http://ns0.upanh.com/b6.s33.d3/3a3ebb93a87c5703f673b399d5613ec2_50639320.untitled.png\n</a></p>\n"},{"tags":["php","mysql","sql","phpmyadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13244406,"title":"MySQL Tables for School Website","body":"<p>Right now I have 40+ tables for my website and I don't think I'm using MySQL to it's full power quite right. I am making a website similar to Moodle. It basically just holds tests for students grouped by courses.</p>\n\n<p><strong>Origonal Tables</strong>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>courses - Lists all courses (ID, Name)\nc_$id   - Lists all the Tests (ID, Name, etc) for course number $id\na_$id   - Lists all questions for the test number $id (Question, A, B, C, D)\ng_$id   - Lists all grades for the course with course number $id.\nc_a     - Lists course ID and assignment ID pairs ex: (1,2) (1,3) (2,2) (2,3)\n</code></pre>\n\n<p><strong>Tables Revision 1:</strong>\n</p>\n\n<pre><code>courses   - Lists all courses (ID, Name, etc)\ntests     - Lists all tests (ID, Name, etc)\nquestions - Lists all questions from all tests (ID, Ques, Ans)\ngrades*   - Lists all grades (studentID, courseID, testID, grade)\nstudents* - Lists all students and their courses (StudentID, courseID)\n</code></pre>\n\n<p>The grades* table, it's basically 3 primary keys and a value. Something seems odd about it. Is there a better way? Same goes for the students table. Both are basically connections of the other tables. Primary key for fast searching is not possible?</p>\n\n<p><strong>Origonal Post:</strong></p>\n\n<p>What is the most efficient way to recreate this to utilize the power of MySQL?</p>\n\n<p>As of right now when a new course is made it creates a new table for that course (<code>c_$id</code>), then a table for each assignment and a list of grades for that course <code>g_$id</code>. Then when creating an assignment it creates a new <code>a_$id</code> table,adding that course and assignment pair to <code>c_a</code>.</p>\n\n<p>I have removed the \"<code>*</code>\" from most of my select statements and added \"<code>LIMIT 1</code>\" to any that are selecting a primary key, next is solving this OOP issue.</p>\n"},{"tags":["php","javascript","facebook","facebook-graph-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":13,"score":-4,"question_id":13262898,"title":"Cant open Watch action link. Gives server error","body":"<p>I submitted an action link which is the built-in <code>Watch</code> and i got a response that there are things needed to be replace or changed. I tried opening the the said action link but i get a server error. In the facebook account that I'm using, I got a notification there saying, again, I need to make some changes in the action link. I was not able to read everything there because it too gives me a server error when I try to open it.</p>\n\n<p>So what I did is I removed the action link in the open graph and the objects there. Created a new one, still the built-in watch action link. But still it gives me a server error.</p>\n\n<p>What am I suppose to do now?</p>\n"},{"tags":["php","ajax"],"answer_count":4,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":985,"score":4,"question_id":2126410,"title":"xajax alternative?","body":"<p>I really love the simplicity of xajax calls from PHP, however xajax project seems dead by now... Is there any nice alternative or equivalent to xajax which is actively in development?</p>\n"},{"tags":["php","symfony1","symfony-1.4","propel"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":42,"score":1,"question_id":13234058,"title":"Symfony/Propel 1.4: Read from one, write to other DB","body":"<p>We have an existing project (SNS website+android/Iphone games) in Symfony 1.4/ Propel 1.4</p>\n\n<p>We are experiencing extra load on DB server (say DB1). We are doing DB Optimization but as immediate solution we decided to create one more DB server in the way DB2 is exact replica of DB1 all the time. Currently we have only DB1, used for both read and write operations.</p>\n\n<p>Now we need to move all read operations to DB2 and keep write operations (generally in transactions) on DB1 as it is now.</p>\n\n<p>What are the possible ways to make those changes (On production server without much downtime) and if possible, with minimal code changes.</p>\n\n<p><strong>Edit after first comment</strong></p>\n\n<p>Based on link given by J0k and some other links, I'd done following on local dev environment.</p>\n\n<ol>\n<li>Created a test symfony 1.4 project  </li>\n<li><p>Updated database.yml as follow</p>\n\n<pre><code>all:\n  propel:\n    class: sfPropelDatabase\n    param:\n      classname: PropelPDO\n      dsn: 'mysql:host=localhost;dbname=wzo;'\n      username: root\n      password: mysql\n      encoding: utf8\n      persistent: true\n      pooling: true\n    slaves:\n      slave1:\n        dsn:      'mysql:host=localhost;dbname=wzoslv;'\n        username: root\n        password: mysql\n        encoding: utf8\n</code></pre>\n\n<p><em>Where database <code>wzoslv</code> is exact replica of database <code>wzo</code> except change in one test entry. On table <code>odd_play</code> row 26 (PK) column <code>result</code> entries are <code>WON1</code> and <code>WON</code> respectively.</em></p></li>\n<li><p>run symfony tasks</p>\n\n<pre><code>php symfony propel:build-schema\nphp symfony propel:build-model\nphp symfony cc\n</code></pre></li>\n<li><p>Created a module and added following code:</p>\n\n<pre><code>class wzoActions extends sfActions\n{\n  public function executeIndex(sfWebRequest $request)\n  {\n    $con_write = Propel::getConnection(OddPlayPeer::DATABASE_NAME, Propel::CONNECTION_WRITE);\n    $con_read = Propel::getConnection(OddPlayPeer::DATABASE_NAME, Propel::CONNECTION_READ);\n    $oddPlay = OddPlayPeer::retrieveByPK(26,0,$con_write);\n    echo \"on write connection, result=\".$oddPlay-&gt;getResult();\n    $oddPlayRead = OddPlayPeer::retrieveByPK(26,0,$con_read);\n    echo \"&lt;br/&gt;on Read connection, result=\".$oddPlayRead-&gt;getResult();\n    exit;\n    $this-&gt;setLayout('layout');\n  }\n}\n</code></pre>\n\n<p>Run <code>http://local.sftest.com/index.php/wzo/index</code> in the browser, output was,</p>\n\n<blockquote>\n  <p>on write connection, result=WON //Correct expected output</p>\n  \n  <p>on Read connection, result=WON //Not correct. That should be WON1</p>\n</blockquote></li>\n</ol>\n\n<p>I guess passing <code>OddPlayPeer::DATABASE_NAME</code> while creating both read/write connection is the issue but that how it was suggested in online examples. Can someone please suggest where I'm making the mistake?</p>\n\n<p><strong>Edit: Few more input</strong></p>\n\n<p>I updated debug echos  in <code>lib\\vendor\\symfony\\lib\\plugins\\sfPropelPlugin\\lib\\vendor\\propel\\Propel.php</code> to check how it is returning the connection. Found that it is entering in following if (line 544-549)</p>\n\n<pre><code>$slaveconfigs = isset(self::$configuration['datasources'][$name]['slaves']) ? self::$configuration['datasources'][$name]['slaves'] : null;\n\nif (empty($slaveconfigs)) {\n  echo \"inelseifif&lt;br/&gt;\";// no slaves configured for this datasource\n  self::$connectionMap[$name]['slave'] = false;\n  return self::getConnection($name, Propel::CONNECTION_WRITE); // Recurse to get the WRITE connection\n}\n</code></pre>\n\n<p>where <code>$slaveconfigs</code> are empty so returning write connection. Now the question is, why slaveconfigs is empty?</p>\n\n<p>I also try editing sfDatabaseConfigHandler.class.php as defined in <a href=\"http://forum.symfony-project.org/viewtopic.php?t=22380\" rel=\"nofollow\">old forums</a> but doing so, break symfony somewhere and nothing gets display on web and even in logs.</p>\n"},{"tags":["php","service","affiliate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":20,"score":-5,"question_id":13262960,"title":"I would like looking for an affiliate service provider?","body":"<p>I'm looking for an affiliate service provider which can be:\n- Return APIs that support PHP and allow me manage my data such as fee.\n- It has APIs's documents, tutorials in English.\n- It must has English interface.</p>\n\n<p>Any suggestion for me? Thank you in advance.</p>\n"},{"tags":["php","jquery","ajax","return-value"],"answer_count":3,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":8955,"score":5,"question_id":4594265,"title":"multiple return values from PHP with jQuery AJAX","body":"<p>I'm using this jQuery code:</p>\n\n<pre><code>$.ajax\n({\n    type: \"POST\",\n    url: \"customerfilter.php\",\n    data: dataString,\n    cache: false,\n    success: function(html)\n    {\n        $(\".custName\").html(html);\n    }\n});\n</code></pre>\n\n<p>How can i do something like this: <code>$(\".projDesc\").html(html1);\n</code>\nSo i can split the returned results into two html elements?</p>\n\n<pre><code>echo \"&lt;p&gt;\" .$row['cust_name']. \"&lt;/p&gt;\";\n</code></pre>\n\n<p>thats the PHP i'm using and i want to echo another statement which i can put into another HTML element</p>\n\n<p>Does this make sense?</p>\n"},{"tags":["php","wordpress","frameworks","themes","wordpress-theming"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13217985,"title":"Set WordPress Default Template","body":"<p>I'm using the <em><a href=\"https://github.com/devinsays/options-framework-theme\" rel=\"nofollow\">Options Framework Theme</a></em> to put together my options page and would just like to know how would I set up/call the <em>Default Template</em> - for whichever one the user has selected. </p>\n\n<p>For example, on my <em>Theme Options</em> page, you can choose from the following:</p>\n\n<ol>\n<li>Full Page</li>\n<li>Side Bar Left</li>\n<li>Side Bar Right</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/mjQSI.png\" alt=\"enter image description here\"></p>\n\n<p>Once the user has selected one of these, when they go to create a  <em>New Page</em>, in the <em>Page Attributes > Template</em> drop-down menu, the \"<em>Default Template</em>\" should be the one that they chose from before...</p>\n\n<p><img src=\"http://i.stack.imgur.com/MCyXo.png\" alt=\"enter image description here\"></p>\n\n<p>In my <code>options.php</code> file:</p>\n\n<pre><code>$options[] = array(\n        'name' =&gt; \"Default Template\",\n        'desc' =&gt; \"The default layout when a new page is created.\",\n        'id' =&gt; \"layout_options\",\n        'std' =&gt; \"2c-r-fixed\",\n        'type' =&gt; \"images\",\n        'options' =&gt; array(\n            '1col-fixed' =&gt; $imagepath . '1col.png',\n            '2c-l-fixed' =&gt; $imagepath . '2cl.png',\n            '2c-r-fixed' =&gt; $imagepath . '2cr.png')\n    );\n</code></pre>\n\n<p>To call the output:</p>\n\n<pre><code>&lt;?php echo of_get_option('layout_options', 'no entry' ); ?&gt;\n</code></pre>\n\n<p>Where/what would I need to paste in throughout my theme files to get it working?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":13250725,"title":"Pyramid of asterisks in php","body":"<p>I am having problem creating a pyramid of asterisk.\nPlease see my code.</p>\n\n<pre><code>  &lt;?php\n\n    for($i=1;$i&lt;=5;$i++){\n        for($j=1;$j&lt;=$i;$j++){\n                    echo \"*\";\n        }\n        echo \"&lt;br /&gt;\";\n    }\n\n    ?&gt;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>*\n**\n***\n****\n*****\n</code></pre>\n\n<p>My question is how I am going to make that like.</p>\n\n<pre><code>    *\n   * *\n  * * *\n * * * * \n* * * * *\n</code></pre>\n"},{"tags":["php","facebook","cron"],"answer_count":1,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":106,"score":6,"question_id":13217564,"title":"Facebook php post to fan page with cronjob?","body":"<p>I am using the following code to post to my facebook fan page and it is working fine. Now I want to use cronjob in order to post to Facebook. I know I have to use as access token but I am not sure how to set it up. I tried to use <code>echo</code> my own access token and the page's access token and use it in the post api but that did not work I got this error:</p>\n\n<pre><code>Uncaught OAuthException: An active access token must be used to query information about the current user.\n</code></pre>\n\n<p>Here is my code that I tried:</p>\n\n<pre><code>require_once('scripts/facebook.php');\n    $config = array('appId' =&gt; 'xxx','secret' =&gt; 'xxx');\n\n    $params = array('scope'=&gt;'user_likes,publish_actions,email,offline_access,publish_stream,manage_pages');\n    $facebook = new Facebook($config);\n    $user = $facebook-&gt;getUser();\n    if($facebook-&gt;getUser()) {\n    try {\n\n        $user_profile = $facebook-&gt;api('/me');\n        $access_token = $facebook-&gt;getAccessToken();\n        //echo \"1. \".$access_token;\n\n      } catch(FacebookApiException $e) {\n                        $login_url = $facebook-&gt;getLoginUrl($params);\n                        error_log($e-&gt;getType());\n                        error_log($e-&gt;getMessage());\n      }   \n    } else {\n        $login_url = $facebook-&gt;getLoginUrl($params);\n\n    }    \n\n$page_id = \"xxxxxxxxxxxxx\";\n            $page_access_token = \"\";\n            $result = $facebook-&gt;api(\"/me/accounts\");\n            foreach($result[\"data\"] as $page) {\n                if($page[\"id\"] == $page_id) {\n                $page_access_token = $page[\"access_token\"];\n                //echo '&lt;br&gt;';\n                //echo \"2. \".$page_access_token;\n                break;\n                    }\n                }\n\n\n        $args = array(\n            'access_token'  =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\n            'message'       =&gt; stripslashes($image_caption).$animaged_gif,\n            'name' =&gt; stripslashes($image_caption).$animaged_gif,\n            'link' =&gt; \"http://www.xxx.com/images.php?i=\".$image_name,\n            'picture' =&gt; \"http://www.xxx.com/thumbnails/\".$image_name.\".png\",\n            'actions' =&gt; array(\n            'name' =&gt; 'See Pic',\n            'link' =&gt; \"http://www.xxx.com/images.php?i=\".$image_name\n            )\n\n        );\n       $post = $facebook-&gt;api(\"/$page_id/feed\",\"post\",$args);\n</code></pre>\n\n<p>As you can see that I tried to use the actual access token that I got when I echo out my own access token. But that did not work. I also used the page's access token, but that also did not work. Can you please tell what I am missing here or what is the proper way to do this ?\nUPDATE: After some further search I did, I came across <code>setAccessToken</code> and <code>$page_info = $fb-&gt;api(\"/\".$sInfo['pageId'].\"?fields=access_token\");</code> but there is very limited resources on how to use them. I am not even sure if those will be appropriate to this problem. All I need to know is which access token I need to use and what is the appropriate code to set it up ?</p>\n"},{"tags":["php","mysql"],"answer_count":8,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":8216830,"title":"MySQL Query in PHP - Not Correct?","body":"<p>What is wrong with this query? It appears to be correct to me:</p>\n\n<pre><code>mysql_query(\"UPDATE culture SET cult_desc=$culture WHERE cult_id is $UID\");\n</code></pre>\n\n<p>Modified it, NetBeans is still giving me an error. Here's my total code for the page:</p>\n\n<pre><code>$culture = $_POST[\"culture\"];\nif (isset($_POST[\"id\"]))\n    $UID = $_POST[\"id\"];\n    mysql_query(\"UPDATE culture SET cult_desc='$culture' WHERE cult_id=$UID\");\nelse\n     mysql_query(\"INSERT INTO culture\n             VALUES(cult_desc='$culture')\");\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13262733,"title":"How do I check to see if \"title\" exist in mysql database","body":"<p>First stackoverflow question ever woot!</p>\n\n<p><strong>FUNCTION :</strong> To check and see if data exist before allowing INSERT - trying to make it non-case senstive and as open as possbile since the title I'm trying to avoid a dup is only for a specifc artistid (explained below)</p>\n\n<p>The table row structure is as follows</p>\n\n<ul>\n<li>id (auto_increment) </li>\n<li>artist (specfic id number only assigned to that artist) </li>\n<li>title (what we are trying to make sure we don't get a dupicate only for this artist</li>\n</ul>\n\n<p><strong>ISSUE :</strong> Does not get needed data from database or post defined error, might be wrong in if statement = unknown exactly what is issue</p>\n\n<p>$_POST['title']; is passed from user input</p>\n\n<pre><code>            if (isset($submit)) {\n                $date = date(\"Ymd\");\n                $cleanTitle =  $_POST['title'];\n                $querytitle = mysql_real_escape_string($_POST['title']);\n                $queryalbum = mysql_real_escape_string($_POST['album']);\n\n                // Check to see if Title exist for specfic Artist\n                $checkTitle = mysql_query(\"SELECT * from lyrics WHERE artist = '$artist'\");\n                if (!$checkTitle) {\n                    die('Query Failed');\n                } \n                if ($checkTitle == $cleanTitle)  {\n// do whatever\n}\n                print_r($checkTitle); // the data returned from the query\n</code></pre>\n\n<p><strong>UPDATE :</strong> INSERT IGNORE wouldn't work sicne I'm inserting the data via $artist and need to check and see if title exist on that artist first. or i might be wrong. i'm unsure on how to do it \n$artist is a specfic ID number defined higher in the code</p>\n"},{"tags":["php","eclipse","xampp","localhost","pdt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":11,"score":0,"question_id":13262832,"title":"Using eclipse as php IDE how to copy files to external folder - localhost","body":"<p>I installed eclipse IDE with PDT plugin to work with php on eclipse. \nI want the feature like netbeans, i.e. copy files to external folder (For me it is xampp/htdocs) so I can run my php files as I code.</p>\n"},{"tags":["php","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":33,"score":1,"question_id":13262327,"title":"How to get original URL from a specific Controller + Action","body":"<p>I've been working on a project and everything's fine until my partner wants to request to an original URL without rewriting.</p>\n\n<p>For example:\nHe wants to call to </p>\n\n<blockquote>\n  <p><a href=\"http://mydomain.com/index.php?module=default&amp;controller=check&amp;action=index\" rel=\"nofollow\">http://mydomain.com/index.php?module=default&amp;controller=check&amp;action=index</a></p>\n</blockquote>\n\n<p>instead of </p>\n\n<blockquote>\n  <p><a href=\"http://mydomain.com/default/controller/index\" rel=\"nofollow\">http://mydomain.com/default/controller/index</a>.<br /></p>\n</blockquote>\n\n<p>Is there any way that i can make the above URL working?</p>\n"},{"tags":["php","mysql","email","marketing"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12195741,"title":"Email marketing statistics implementation","body":"<p>I will soon be tasked with making an email campaign manager, and part of it will be a statistics screen that will show how many emails were delivered successfully, how many were not, and how many people actually opened the email.</p>\n\n<p>The main thing I can't get my head around is how to code the part that deals with people opening the email.</p>\n\n<p>I know you could probably do it with a 1x1 white pixel, and then perhaps somehow have the server detect that it was loaded based on the image file name and trigger a script from that. But not all email clients have images enabled and in some cases they are disabled completely etc. I also think this method is quite dated?</p>\n\n<p>I would like to know how the big players do this like Cheetah Mail etc.</p>\n\n<p>What is the best way to do this using PHP/MySQL? </p>\n\n<hr>\n\n<p>Thanks for your reply.\nThese are opted in subscribers and there will be afew links in the body of the email that will go to certain places on our websites. Tracking of those is easy because the link will have a string appended to it which will make it easy to detect if they visit the site from an email.</p>\n\n<p>If whitepixel is the way to go at the moment, how do I go about linking the loading of that pixel to a script that is triggered on my server?</p>\n"},{"tags":["php","mysql","sql","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13244328,"title":"Updating a MySQL database via PDO and tokens - all parameters being set to last value in dataset","body":"<p>As the title states: I am trying to update specific records in a MySQL data base using PDO and tokens to secure against any injection.</p>\n\n<p>Here is my code:</p>\n\n<p>Some arrays to help build the query:</p>\n\n<pre><code>$id = 1234\n$values = array ('a','b','c',);\n$variables = array ($A, $B, $C);\n</code></pre>\n\n<p>The query built via loop:</p>\n\n<pre><code>$sql =  \"UPDATE table1 SET \";   \n        foreach($values as $value)\n        {\n        $sql .=\"$value = :$value, \";\n        }\n        $sql = rtrim($sql,', ');    \n        $sql .=\" WHERE id = '$id'\";\n</code></pre>\n\n<p>Execution of query via PDO:</p>\n\n<pre><code>try     \n{\n$pdo = new PDO('mysql:host=localhost; dbname=db01', $username, $password);\n$pdo-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n$stmt = $pdo-&gt;prepare($sql);\nforeach(array_combine($values, $variables) as $value=&gt;$variable)\n{\n$stmt-&gt;bindParam(\":$value\", $variable);\n}\n\n$stmt-&gt;execute();\n</code></pre>\n\n<p>The result:\nEvery field in the specified record (matching $id) is set to the same value, which is always equal to the contents of the last variable listed in the array (in this example they would all contain the value held in $C)</p>\n\n<p>echoing the SQL query shows it has been constructed correctly.</p>\n\n<p>Any ideas? Thanks for your consideration</p>\n"},{"tags":["php"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13262560,"title":"compare the values of a two dimensional array and return a single dimension array in php","body":"<p>how can create a function in php that accept a two dimension array as parameter , something like this:</p>\n\n<pre><code>function check_the_length (array[$a_string][$length]){\n\nreturn $result\n}\n</code></pre>\n\n<p>and return an array as an result , like this:</p>\n\n<pre><code>$result=(true,false,true,false);\n</code></pre>\n\n<p>By the way if you have any better solution to making such a function please let me know</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","cakephp","encoding","json-encode","php-5.2"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":4,"view_count":42,"score":-1,"question_id":13261723,"title":"json_encode ENT_QUOTES alternative &quot; for PHP lower 5.3","body":"<p>My problem is to get the correct output on a server with php 5.2, where I can't set the second parameter for <code>json_encode</code> because it was added in 5.3 which is still not available on the server. I'm using cakephp by the way. </p>\n\n<p>The reason why I used the second parameter <code>json_encode($array, ENT_QUOTES)</code> was that:</p>\n\n<pre><code>&lt;img src=\"image/path\" alt=\"\" /&gt; \n</code></pre>\n\n<p>ended up encoded: </p>\n\n<pre><code>&lt;img src=\"&amp;quot;image/path&amp;quot;\" alt=\"&amp;quot;&amp;quot;\" /&gt; \n</code></pre>\n\n<p>but with <code>json_encode($array, ENT_QUOTES)</code> everything worked fine. </p>\n\n<p>So is there an alternative way to do the same thing? </p>\n\n<p>I already tried to use <code>htmlentities_decode(json_encode($array), ENT_QUOTES)</code> but it didn't remove the quotes. Only with preg_replace I could remove the <code>&amp;quot;</code> but then in javascript I still got errors because of some wrong place slashes and it's a very dirty way to do it. </p>\n\n<p>So I hope someone has a good Idea about it.</p>\n\n<hr>\n\n<p>Addition info:</p>\n\n<p><code>echo $this-&gt;Html-&gt;image('../images/thumbs/'.$pic['filename']);</code> \noutputs the image markup I used for my description. (cakephp function) then I get the content with the following code and print the json_encoded array. </p>\n\n<pre><code>$content = $this-&gt;fetch('content');\n\necho json_encode(array(\n    'content' =&gt; $content,\n    'request' =&gt; $this-&gt;request,\n    'data' =&gt; $this-&gt;request-&gt;data,\n    'message' =&gt; strip_tags($this-&gt;Session-&gt;flash())\n   )\n);\n</code></pre>\n\n<p>I once just copied the ENT_QUOTE solution from somewhere and it worked, but JSON_HEX_TAG I just notice works too. But when I have to use json_encode without any parameters I have the described problem.</p>\n"},{"tags":["php","hotlinking"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13262436,"title":"hotlink protection","body":"<p>i made this simple code to prevent hotlinking my files from my php download file :</p>\n\n<pre><code>if ((strpos($_SERVER['HTTP_REFERER'],'www.domain.com')!==0)) {\n    $redirect='index.php';\n    header(\"Location: $redirect\");\n    exit;\n}\n</code></pre>\n\n<p>it's not working , it always redirect me to index.php even if i clicked the link inside my wbesite.\ni tried to change the domain to many types like :</p>\n\n<blockquote>\n  <p><a href=\"http://www.domain.com\" rel=\"nofollow\">http://www.domain.com</a> <br> www.domain.com <br> domain.com <br> domain</p>\n</blockquote>\n\n<p>but still the same problem</p>\n"},{"tags":["php","image","image.createimage"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3219,"score":2,"question_id":5577903,"title":"problem with imagecreatefromjpeg() php","body":"<p>I'm using imagecreatefromjpeg() function to merge two pictures..</p>\n\n<p>now the problem which i'm facing is that when i use the pictures from my server, it works perfectly and when i use pictures from some other website, it doesn't work.</p>\n\n<p>For eg: when i use this php file <a href=\"http://coolfbapps.in/test/merger.php\" rel=\"nofollow\">http://coolfbapps.in/test/merger.php</a> with function</p>\n\n<pre><code> imagecreatefrompng('http://coolfbapps.in/test/1.png');\n</code></pre>\n\n<p>It works perfectly fine as the image is at my own server</p>\n\n<p>but when i alter this funtion n put the link of an image which is not on my server,</p>\n\n<p>for eg. </p>\n\n<pre><code>  imagecreatefrompng('http://www.businesseconomics/Test.png');\n</code></pre>\n\n<p>it doesnt work. (the image file is not on my server)</p>\n\n<p>please suggest me an alternative to this function or a solution as i want to use this with facebook apps..</p>\n\n<p>Fuctions like file-get-contents are also showing the same error. i hope its not server end problem..\n       allow_url_fopen is on but \n       allow_url_include is off</p>\n\n<p><strong>Update...Actual code. I'm using this to merger two pictures</strong></p>\n\n<pre><code> $dest = imagecreatefrompng('http://coolfbapps.in/test/1.png');\n\n $src = imagejpeg('http://img.allvoices.com/thumbs/image/111/111/75152279-pic.jpg');\n\n imagealphablending($dest, false);\n imagesavealpha($dest, true);\n\n imagecopymerge($dest, $src, 10, 9, 0, 0, 181, 180, 100); \n\n header('Content-Type: image/png');\n imagepng($dest);\n\n imagedestroy($dest);\n imagedestroy($src);\n</code></pre>\n"},{"tags":["php","android","popup"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13260516,"title":"Dealing with php popup windows in an Android WebView","body":"<p>I'm working on the following project</p>\n\n<p><a href=\"http://code.google.com/p/openemr-app/\" rel=\"nofollow\">http://code.google.com/p/openemr-app/</a></p>\n\n<p>Its a specialized client browser for OpenEMR.</p>\n\n<p>In OpenEMR, there are lots of php buttons that open up other windows with selections to choose from.  Once a selection is chosen, it is supposed to open the corresponding information in the  proper frame of the main window.</p>\n\n<p>In my webview, this doesn't work at all.  No popup is generated, so, for instance, when searching, no patient list is brought up.</p>\n\n<p>I turned on javascript and javascript popup, and multiple window support in my webchromeclient, I also have the onJsAlert method overridden as prescribed in another post regarding this subject, but still I'm not getting any joy.</p>\n\n<p>This is a free and open source project that helps doctors all over the world.\nCan you help?</p>\n\n<p>[edited for completeness]</p>\n"},{"tags":["php","xhtml","web-frameworks"],"answer_count":10,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1322,"score":2,"question_id":637135,"title":"The best php basic framework","body":"<p>I'm wondering if there's any framework that I could use for a basic website with CMS features.</p>\n\n<p>Some features that I was looking for in the framework are:</p>\n\n<ul>\n<li>basic CMS editing features,</li>\n<li>possibly easy way of constructing web forms, (contact us, feedback, subscription)</li>\n<li>pretty URL with mod-rewrite.</li>\n</ul>\n\n<p>Maybe I'm asking too much. </p>\n"},{"tags":["php","flex","if-statement","login"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13262342,"title":"Login screen, already logged in go to view ()","body":"<p>So, I finally got my login screen working. You can log in and it will guide you to the other page. </p>\n\n<p>One of the next problems is that, since I am using a tabbednavigation menu with 5 tabs, and the login screen is a state on one of them, every time I click on the tab I will go to the login screen state first. </p>\n\n<p>how can I make this go to the other state,  as in:  if user logged in,  go to state ()</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;s:View xmlns:fx=\"http://ns.adobe.com/mxml/2009\"\n            xmlns:s=\"library://ns.adobe.com/flex/spark\"\n            currentState=\"login\" tabBarVisible=\"{currentState!='login'}\"&gt;\n\n        &lt;s:states&gt;\n            &lt;s:State name=\"login\"/&gt;\n            &lt;s:State name=\"planner\"/&gt;\n        &lt;/s:states&gt;\n\n&lt;fx:Script&gt;\n    &lt;![CDATA[\n\n        import mx.rpc.events.ResultEvent;\n//private function login() :void\n//{\n//loginservice.send();\n//}\n\n        private function checkLogin(evt:ResultEvent):void\n\n        {\n\n            if(loginservice.lastResult.loginsuccess == \"yes\")\n\n            {\n\n                currentState = \"planner\";\n\n            } \n            if(evt.result.loginsuccess == \"no\")\n\n            {\n                statusLabel.text = \"Incorrect. (Try user/password)\";\n\n            }       \n\n        }\n\n        protected function submit_clickHandler(event:MouseEvent):void\n        {\n            // TODO Auto-generated method stub\n\n        }\n\n    ]]&gt;\n&lt;/fx:Script&gt;\n\n\n    &lt;fx:Declarations&gt;\n        &lt;!-- Place non-visual elements (e.g., services, value objects) here --&gt;\n\n        &lt;s:HTTPService id=\"loginservice\"\n                       method=\"GET\"\n                       url=\"http://localhost:8888/MenuPlannerApp/services/login4.php\"\n                       useProxy=\"false\"\n                       result=\"checkLogin(event)\"&gt;\n            &lt;s:request xmlns=\"\"&gt;\n\n                &lt;email&gt;{email.text}&lt;/email&gt;\n\n                &lt;password&gt;{password.text}&lt;/password&gt;\n            &lt;/s:request&gt;\n        &lt;/s:HTTPService&gt;\n\n    &lt;/fx:Declarations&gt;\n    &lt;s:BorderContainer includeIn=\"login\" width=\"100%\" height=\"100%\" &gt;\n        &lt;s:Label id=\"statusLabel\" /&gt;  \n        &lt;s:TextInput id=\"email\" y=\"192\" left=\"15\" right=\"15\" text=\"email\"/&gt;\n        &lt;s:TextInput id=\"password\" y=\"247\" left=\"15\" right=\"15\" text=\"password\" displayAsPassword=\"true\"/&gt;\n        &lt;s:Button id=\"submit\" y=\"306\" right=\"15\" width=\"100\" height=\"30\"\n                  label=\"Login\" click=\"loginservice.send()\"/&gt;\n        &lt;s:Button id=\"LoginCreate\" y=\"306\" left=\"15\" width=\"100\" height=\"30\"\n                  label=\"Create\"/&gt;\n        &lt;s:Label x=\"166\" y=\"39\" width=\"113\" height=\"101\" fontSize=\"30\"\n                 text=\"Menu&amp;#xd;Planner\"/&gt;\n    &lt;/s:BorderContainer&gt;\n    &lt;s:BorderContainer includeIn=\"planner\" width=\"100%\" height=\"100%\"&gt;\n\n\n&lt;s:HGroup y=\"10\" width=\"320\" height=\"46\" horizontalAlign=\"center\"\n          textAlign=\"center\"&gt;\n\n&lt;/s:HGroup&gt;\n    &lt;s:VGroup includeIn=\"planner\" &gt;\n     &lt;/s:VGroup&gt;\n\n    &lt;/s:BorderContainer&gt;\n&lt;/s:View&gt;\n</code></pre>\n"},{"tags":["php","security"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13262185,"title":"MD5 the id in URL and get the id to other page using PHP","body":"<p>Suppose that I have code as below:</p>\n\n<pre><code>&lt;td&gt;&lt;a href=\"view_edit_form.php?id=&lt;?php echo md5($row[0]);?&gt;\"&gt;Edit&lt;/a&gt;&lt;/td&gt;\n</code></pre>\n\n<p>And in page <code>view_edit_form.php</code> I get the id by using this code <code>$ID = $_GET['id'];</code></p>\n\n<p><strong>The problem</strong></p>\n\n<p>I can not get the <code>id</code> if I <code>md5</code> it like this.Anyone help me please, Thanks.</p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":469,"score":1,"question_id":11860695,"title":"load images dynamically in php from mysql database into a jquery slider","body":"<p>I have written a web application that involves having users upload pictures to the site. On the homepage, I dynamically show the newest pictures/items uploaded in PHP, limiting it to ten. However, the page looks so static and I have searched on Google, bing, ask, yahoo, etc for days now and haven't had any answers. </p>\n\n<p>I have written the code to store store the images, and get them from the db.\nThe images are shown on the homepage, and the only thing i have left to do is load it in a slider.</p>\n\n<pre><code>$sql = mysql_query(\"SELECT * FROM items ORDER BY item_date_added DESC LIMIT 10\")or die(mysql_error());\n\nwhile($row = mysql_fetch_array($sql)){\n    //$user_id = $row['user_id'];\n    $item_name = $row['item_name'];\n    $item_id = $row['item_id'];\n\n    $check_pic = \"users/$item_name.jpg\";\n\n\n\n        if (file_exists($check_pic)) {\n\n              $show_pic = \"&lt;img src=\\\"users/$item_name.jpg\\\" width=\\\"100px\\\" height=\\\"100px\\\" border=\\\"5\\\" id='img'/&gt;\";\n\n             //$user_pic3 = \"&lt;img src=\\\"users/$rid/image01.jpg\\\" width=\\\"50px\\\" height=\\\"50px\\\" border=\\\"1\\\" /&gt;\";\n              //$MemberDisplayList .= '&lt;a href=\"profile2/index.php?id=' . $rid . '\"&gt;' . $user_pic3 . '&lt;/a&gt;';\n\n\n              $i++;\n               $show_new_items .= \"&lt;a href='item_view?item_id=$item_id&amp;&amp;session_item=$item_id'&gt;$show_pic&lt;/a&gt;\";\n\n        }\n\n$newly_listed_names .= \" &lt;a href='item_view?item_id=$item_id&amp;&amp;session_item=$item_id'&gt; $item_name &lt;/a&gt; | \";\n\n\n\n}\n</code></pre>\n\n<p>///////// END  SHOW NEWLY ADDED ITEMS ///////////////////////////////////////////////////</p>\n\n<p>the newly added items in echoed in a div in the body. this is the website : <a href=\"http://www.clicktradeghana.com\" rel=\"nofollow\">http://www.clicktradeghana.com</a> </p>\n\n<p>Can anyone help me please! it's been bothering me for a while now. Thanks.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":58,"score":-3,"question_id":13262119,"title":"My website does not have Site Title","body":"<p>I used seo validator to check my website, but it says my website does not have site title. I have these header codes below:</p>\n\n<pre><code>&lt;head profile=\"http://gmpg.org/xfn/11\"&gt;\n&lt;meta name=\"google-site-verification\" content=\"RR4KnVDyxKEeBxQg8Qwphb0E2RuBTxVE3y-NrLS_tsw\" /&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"&lt;?php bloginfo('html_type'); ?&gt;; charset=&lt;?php bloginfo('charset'); ?&gt;\" /&gt;\n\n    &lt;title&gt;&lt;?php bloginfo('name'); ?&gt; &lt;?php if ( is_single() ) { ?&gt; &amp;raquo; &lt;?php } ?&gt; &lt;?php wp_title(); ?&gt;&lt;/title&gt;\n    &lt;meta name=\"Description\" content=\"Davao Property For Sale is the desired partner of Filipino families in finding and owning a HOME in Davao City, Philippines every step of the way.\" /&gt;\n    &lt;meta name=\"Keywords\" content=\"Davao City, real estate, House for sale, rush house, brand new, ready for occupancy, Davao Property\" /&gt;\n</code></pre>\n\n<p>Please help!</p>\n"},{"tags":["php","wordpress"],"answer_count":6,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":8154,"score":7,"question_id":4090698,"title":"Wordpress: include content of one page in another","body":"<p>How do I include the page content of one or more page in another page?</p>\n\n<p>ex. I have <strong><em>pageA</em></strong>, <strong><em>pageB</em></strong> and <strong><em>pageC</em></strong> and I want to include the contents of these pages in <strong><em>pageX</em></strong></p>\n\n<p>is there a wordpress function that loads the post of a specified page/post?<br>\nlike show_post(\"pageA\")??</p>\n"},{"tags":["php","variables","include"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13255552,"title":"Using outside variables inside an included file (PHP)","body":"<p>My goal is to have multiple sites run off the same files, but have a set of variables that determine which database to access:</p>\n\n<pre><code>&lt;?php \n\n$siteDB = \"this\";\n$domainName = \"thisdomain\";\n$twitterName = \"thistwitter\";\n$facebookName = \"thisfacebook\";\n\ninclude 'http://www.mysite.com/site_files/index.php'; \n\n?&gt;\n</code></pre>\n\n<p>When I try to access the variables in the <code>site_files/index.php</code> they return NULL. I also tried using <code>$GLOBALS['siteDB']</code>, but no luck, which didn't surprise me. </p>\n\n<p>I know there are a couple similar questions out there to this one, but I also wanted to ask if this is even the best way to go about doing this. Should I be using some type of configuration file, or session variables?</p>\n\n<hr>\n\n<p>I have my site files organized like:</p>\n\n<p><code>www.mysite.com/site1</code></p>\n\n<p><code>www.mysite.com/site2</code></p>\n\n<p><code>www.mysite.com/site3</code></p>\n\n<p><code>www.mysite.com/site4</code></p>\n\n<p><hr>\nThe files for the sites are located at:</p>\n\n<p><code>www.mysite.com/site_files</code></p>\n\n<p><hr>\nWhen the files are updated, and because all sites access the same file, they all update. The file above would be at:</p>\n\n<p><code>www.mysite.com/siteX/index.php</code></p>\n"},{"tags":["php","html","parsing","url","dom"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":30,"score":-6,"question_id":13262002,"title":"HTML documents parsing (title, keywords, description, h1 tags) in real-time efficiently?","body":"<p>I got search results from Yahoo API. I want to parse each result which is HTML document grabbing (title, keywords, description and h1 tags anchor texts). When I test this for a single document it works fine. But, with a list of HTML documents (search results 'url'), it takes long time (3-6 mins). I want to do that efficiently?</p>\n\n<p>What should I do in this situation? Any idea?</p>\n"},{"tags":["php","mysql","mysqli"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13262128,"title":"How to output module's names as an echo?","body":"<p>Ok, this is what is happening:</p>\n\n<ol>\n<li><p>When user opens the application, it will display 2 drop down menus, one for courses and the other for modules. The courses drops down menu will display a list of all the courses while in the mean time the modules drop down menu only shows the \"Please Select\" option. </p></li>\n<li><p>When the user selects a course, it will suddenly display the relevant modules in the modules drop down menu depending on the course chosen. The modules are displayed by the editsessionadmin.php file using the jquery function to navigate to the module.php page and displaying the relevant modules options.</p></li>\n<li><p>Now when the user submits the course and modules details, it is suppose to output the Course Id and Course Name and display the Module Id and the Module Name. Now it displays everything but the Module Name. </p></li>\n</ol>\n\n<p>My question is how can I get the Module Name to be displayed.</p>\n\n<p>Below is the editsession.php script where it contains the courses drop down menu and the module drop down menu with the \"Please Select\" option:</p>\n\n<pre><code>   &lt;?php\n\n    // connect to the database\n    include('connect.php');\n\n    /* check connection */\n    if (mysqli_connect_errno()) {\n    printf(\"Connect failed: %s\\n\", mysqli_connect_error());\n    die();\n    }\n\n    $sql = \"SELECT CourseId, CourseName FROM Course ORDER BY CourseId\"; \n\n    $sqlstmt=$mysqli-&gt;prepare($sql);\n\n    $sqlstmt-&gt;execute(); \n\n    $sqlstmt-&gt;bind_result($dbCourseId, $dbCourseName);\n\n    $courses = array(); // easier if you don't use generic names for data \n\n    $courseHTML = \"\";  \n    $courseHTML .= '&lt;select name=\"courses\" id=\"coursesDrop\" onchange=\"getModules();\"&gt;'.PHP_EOL; \n    $courseHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;  \n\n    while($sqlstmt-&gt;fetch()) \n    { \n    $course = $dbCourseId;\n    $coursename = $dbCourseName; \n    $courseHTML .= \"&lt;option value='\".$course.\"'&gt;\" . $course . \" - \" . $coursename . \"&lt;/option&gt;\".PHP_EOL;  \n\n    $outputcourse = \"\"; \n    $outputcourse .= \"&lt;p&gt;&lt;strong&gt;Course:&lt;/strong&gt; \" . $course .  \" - \"  . $coursename . \"&lt;/p&gt;\";\n\n    } \n\n    $courseHTML .= '&lt;/select&gt;'; \n\n    $moduleHTML = \"\";  \n    $moduleHTML .= '&lt;select name=\"modules\" id=\"modulesDrop\"&gt;'.PHP_EOL; \n    $moduleHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;  \n    $moduleHTML .= '&lt;/select&gt;'; \n\n\n    ?&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n\n    function getModules() { \n    var course = jQuery(\"#coursesDrop\").val(); \n    jQuery('#modulesDrop').empty(); \n    jQuery('#modulesDrop').html('&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'); \n    jQuery.ajax({ \n    type: \"post\", \n    url:  \"module.php\", \n    data: { course:course }, \n    success: function(response){ \n    jQuery('#modulesDrop').append(response); \n    } \n    }); \n\n\n    }\n\n\n    &lt;/script&gt; \n\n&lt;form action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\" onsubmit=\"return validation();\"&gt;&lt;table&gt;\n&lt;tr&gt;\n&lt;th&gt;Course: &lt;?php echo $courseHTML; ?&gt;&lt;/th&gt;\n&lt;th&gt;Module: &lt;?php echo $moduleHTML; ?&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;p&gt;&lt;input id=\"moduleSubmit\" type=\"submit\" value=\"Submit Course and Module\" name=\"moduleSubmit\" /&gt;&lt;/p&gt;\n&lt;div id=\"moduleAlert\"&gt;&lt;/div&gt;\n&lt;/form&gt;\n\n&lt;?php\n\nif (isset($_POST['moduleSubmit'])) {    \n\n$outputmodule = \"\"; \n$outputmodule = \"&lt;p&gt;&lt;strong&gt;Module:&lt;/strong&gt; \" . $_POST['modules'] . \"&lt;/p&gt;\";\n\necho $outputcourse;\necho $outputmodule;\n}\n\n?&gt;\n</code></pre>\n\n<p>Below is the module.php where it displays the modules options in the module drop down menu:</p>\n\n<pre><code>&lt;?php\n\n     // connect to the database\n include('connect.php');\n\n /* check connection */\n if (mysqli_connect_errno()) {\nprintf(\"Connect failed: %s\\n\", mysqli_connect_error());\ndie();\n}\n\n\n$course = isset($_POST['course']) ? $_POST['course'] : ''; \n\n$sql = \"\nSELECT cm.CourseId, cm.ModuleId, \nc.CourseName,\nm.ModuleName\nFROM Course c\nINNER JOIN Course_Module cm ON c.CourseId = cm.CourseId\nJOIN Module m ON cm.ModuleId = m.ModuleId\nWHERE\n(c.CourseId = ?)\nORDER BY c.CourseId, m.ModuleId\n\"; \n\n $sqlstmt=$mysqli-&gt;prepare($sql);\n\n $sqlstmt-&gt;bind_param(\"s\",$course);\n\n $sqlstmt-&gt;execute(); \n\n $sqlstmt-&gt;bind_result($dbCourseId,$dbModuleId,$dbCourseName,$dbModuleName);\n\n\n$moduleHTML  = \"\";  \n\n while($sqlstmt-&gt;fetch()) { \n    $moduleHTML .= \"&lt;option value='$dbModuleId'&gt;\" . $dbModuleId . \" - \" . $dbModuleName . \"&lt;/option&gt;\".PHP_EOL;   \n} \n\n\necho $moduleHTML; \n\n $sqlstmt-&gt;execute(); \n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","one-time-password"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":17,"score":-2,"question_id":13262087,"title":"One time pad in PHP , for two factor login Authentication","body":"<p>Good day , guys sorry for my silly question ! currently am so interested in two factor login system , now I want to make two factor login system for my new web application.am somehow good in PHP ,so i just want to ask you guys ,anyone have any idea about one time pad ? or maybe anyone use it before ,can share with me some idea!!\nfor those didn't know , let me explain \nwe will have a system ,which generate second factor parameters ,then we'll print that pad (card) ,then user once want to login ,system ask user to insert one of this passwords ,instead of his own password..... each row in that pad has ID , e.g : A01 , B03 , ... , so system just request user to enter A01 , and after user insert his username and password , system will check the second parameter as well , if its working with algorithm ,it will move to next page !!!!</p>\n\n<p>See , I have this idea ! but have no idea how to implement it ! if anyone have idea ,pliz share with me !\ntanx </p>\n"},{"tags":["php","delete","directory","multiple","unlink"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":977,"score":-1,"question_id":9075844,"title":"PHP unlink command deleting multiple files","body":"<p>I am calling the php <code>unlink()</code> function on a directory (<code>user-images/1/p/</code>) containing the following files:</p>\n\n<pre><code>1.jpg\n1-s.jpg\n1big.jpg\n2.jpg\n2-s.jpg\n2big.jpg\n</code></pre>\n\n<p>The actual call itself is as follows:</p>\n\n<pre><code>unlink('user-images/1/p/1big.jpg');\n</code></pre>\n\n<p>Instead of just deleting <code>1big.jpg</code>, it deletes all files with a <code>1</code> in them (<code>1big.jpg</code>, <code>1-s.jpg</code>, <code>1.jpg</code>). I've researched this quite a bit and can't seem to find anyone posting with a similar issue.</p>\n\n<p>EDIT:\nbelow is the full script, not much there really, don't see how anything could be affected.  I've never seen this before either :(</p>\n\n<pre><code>&lt;?PHP\nunlink('user-images/1/p/1.jpg');\nunlink('user-images/1/p/1-s.jpg');\n$uid = '1';\n$fileName = '467';\n$image = '/friskyfriends/user-images/1/p/1-big.jpg';\n$width = 320;\n$height = 320;\nbuildPics();\n//buildPics($uid,$fileName,$image,$width,$height);\n?&gt;\n</code></pre>\n"},{"tags":["php","wordpress","wordpress-plugin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":12,"score":-3,"question_id":13262062,"title":"after pre_get_posts action get_children doesn't work in the loop","body":"<p>on the function php</p>\n\n<pre><code>function cstm_get_posts($wp_query) {\n    some code here\n }\n add_action('pre_get_posts', 'cstm_get_posts' );\n</code></pre>\n\n<p>archive php</p>\n\n<pre><code>loop\n    $attachments = get_children( array(\n    'numberposts' =&gt; 1,\n    'order'=&gt; 'ASC',\n    'post_mime_type' =&gt; 'image',\n    'post_parent' =&gt; $post-&gt;ID,\n    'post_type' =&gt; 'attachment'\n    ));\ndisplay attachments image\n</code></pre>\n\n<p>after setting pre_get_posts get_children won't work if i comment out pre_get_posts it works</p>\n"},{"tags":["java","php","hacking"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13260476,"title":"How to pass input to a web page using a automated script","body":"<p>How to pass input to a php web page using a automated script ,i.e. i just want to know how pass arguments to text fields using a script. like passing input to username and password field of a web page and then pressing submit button(that too with a script).</p>\n\n<p>favorable language: JAVA</p>\n"},{"tags":["php","jquery","css"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2188,"score":0,"question_id":4332379,"title":"Simple DatePicker-like Calendar","body":"<p>Can anyone recommend a simple datepicker calendar that I can use for a blog to link to different urls rather than for a form? jquery or css based would be good. When clicking next/prev month I don't want it reload page.</p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":52,"score":-5,"question_id":13261949,"title":"Newbie with php need help getting PHP files working online, where to upload / folder structure?","body":"<p>I have made my way through a php / mysql book but cannot figure out how to get my site working online.  i.e. where to save files and the folder structure to use.</p>\n\n<p>Here is what I have:</p>\n\n<p>-Multiple php files in htdocs folder for user registration, login, file uploading etc..(used abyss as my local server if that matters).</p>\n\n<p>-Database connection script outside htdocs folder for security purposes.  </p>\n\n<p>I just have a free 000webhost account I have been trying to use for testing but cannot get it working not matter where I upload my files to. It may be the free host that is tripping me up because I cannot even get a info() script to work, but either way I would just like to know how to do this correctly.</p>\n\n<p>Any help is appreciated</p>\n"},{"tags":["php","include"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13261925,"title":"Using same files for multiple sites (PHP)","body":"<p>My goal is to have multiple sites like this:</p>\n\n<p><code>www.mysite.com/site1/</code></p>\n\n<p><code>www.mysite.com/site2/</code></p>\n\n<p><code>www.mysite.com/site3/</code></p>\n\n<p><code>www.mysite.com/site4/</code></p>\n\n<p><hr>\nThe files for the sites are located at:</p>\n\n<p><code>www.mysite.com/site_files/</code></p>\n\n<p>These include the various pages for the site, as well as the css, js, and images.\n<hr>\nEach of these pages will be nearly the same, but will load content from a different database, and some coloring, as well as some images, will be different.</p>\n\n<p>I'm just curious as to what the best way of doing this would be. I've tried taking the <code>index.php</code> from <code>www.mysite.com/site_files/</code> and including it from the <code>index.php</code> in on of the sites:</p>\n\n<p><strong>Contents of a <code>www.mysite.com/site</code> index.php:</strong></p>\n\n<pre><code>&lt;?php \n\n     $siteDB = \"this\";\n     $domainName = \"thisdomain\";\n     $twitterName = \"thistwitter\";\n     $facebookName = \"thisfacebook\";\n\n     include 'http://www.mysite.com/site_files/index.php'; \n\n?&gt;\n</code></pre>\n\n<p>Then in site_files index.php I'd have a reference to $siteDB:</p>\n\n<pre><code>echo $siteDB;\n</code></pre>\n\n<p>Using this method the variables aren't available to included code.</p>\n\n<p>Each of the sites index.php will have different variables, but they will all include the same <code>site_files/index.php</code></p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["php","css","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13259588,"title":"css not showing up in calender after adding ajax controls","body":"<p>I'm trying to make a calender in php, i have done the first part and have the layout and information, i am trying to add a previous and next month now and the css has gone for some reason. I am following a tutorial </p>\n\n<p>The only info that shows is the previous and next month button and the current month. I have all three files in the htdocs folder of xampp. I dont know whats wrong :(</p>\n\n<p>here is the file to view everything</p>\n\n<p>show_calendar.php</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"calCss.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\" /&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction initialCalendar(){\nvar hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar currentTime = new Date();\nvar month = currentTime.getMonth() + 1;\nvar year = currentTime.getFullYear();\nshowmonth = month;\nshowyear = year;\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction next_month(){\nvar nextmonth = showmonth + 1;\nif (nextmonth &gt; 12) {\n   nextmonth = 1;\n   showyear = showyear + 1;\n }\n showmonth = nextmonth;\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction last_month(){\n\nvar lastmonth = showmonth - 1;\nif (lastmonth &lt; 1) {\n   lastmonth = 12;\n   showyear = showyear - 1;\n }\n showmonth = lastmonth;\n\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body onLoad=\"initialCalendar();\"&gt;\n&lt;div id=\"showCalendar\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>calendar_start.php</p>\n\n<pre><code>&lt;?php\n$showmonth = $_POST['showmonth'];\n$showyear = $_POST['showyear'];\n$showmonth = preg_replace('#[^0-9]#i', '', $showmonth);\n$showyear = preg_replace('#[^0-9]#i', '', $showyear);\n\n$day_count = cal_days_in_month(CAL_GREGORIAN, $showmonth, $showyear);\n$pre_days = date('w', mktime(0,0,0, $showmonth, 1, $showyear));\n$post_days = (6 - (date('w', mktime(0,0,0, $showmonth, $day_count,$showyear))));\n\necho '&lt;div id=\"calendar_wrap\"&gt;';\necho '&lt;div class=\"title_bar\"&gt;';\necho '&lt;div class=\"previous_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Previous Month\" onClick=\"javascript:last_month();\"&gt;&lt;/div';\necho '&lt;div class=\"show_month\"&gt;' . $showmonth . '/' . $showyear . '&lt;/div&gt;';\necho '&lt;div class=\"next_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Next Month\" onClick=\"javascript:next_month();\"&gt;&lt;/div';\necho '&lt;/div&gt;';\necho '&lt;div class=\"week_days\"&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Mon&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Tue&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Wed&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Thur&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Fri&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sat&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sun&lt;/div&gt;';\necho '&lt;div class=\"clear\"&gt;&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n/* Previous Month Filler Days */\nif ($pre_days != 0) {\nfor($i = 1 ; $i&lt;=$pre_days;$i++) {\necho '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\n\n/* Current Month */\nfor($i=1; $i&lt;= $day_count; $i++) {\necho '&lt;div class=\"cal_day\"&gt;';\necho '&lt;div class=\"day_heading\"&gt;' . $i . '&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n}\n/* Next Month Filler Days */\nif ($post_days != 0) {\nfor ($i=1; $i&lt;=$post_days; $i++) {\n echo '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\necho '&lt;/div&gt;';\n?&gt;\n</code></pre>\n\n<p>here is the css</p>\n\n<p>calCss.css</p>\n\n<pre><code>#calendar_wrap {\nwidth: 924px;\nmargin-left: auto;\nmargin-right: auto;\noverflow: hidden;\n}\n.title_bar {\nwidth: 100%; \nheight: 30px;\n}\n.previous_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: left;\n}\n.show_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: center;\n}\n.next_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: right;\n}\n.week_days {\nwidth: 100%;\n}       \n.days_of_the_week  {\nfloat: left;\nwidth: 14%;\ntext-align: center;\n}      \n.cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #9C9;\n}\n.day_heading {\nposition: relative;\nfloat: left;\nwidth: 40px;\nheight: 16px;\npadding: 6px;\ncolor: #000;\nfont-family: Arial;\nfont-size: 14px;\n}    \n.openings {\nwidth: 100%;\nclear:left;\ntext-align: center;\n}\n.non_cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #CCC;\n}\n\n.clear {\nclear: both;\n}\n</code></pre>\n\n<p>Can anyone see anything? any help would be great, what errors do i need to show in the google developer tools?</p>\n"},{"tags":["php","parsing","recursive-regex","lookaround","wikitext"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":9517131,"title":"Parsing balanced nested wiki templates and extract a single line parameter's content by a regexp","body":"<p>I know parsing nested strings or HTML is better done by a real parser but in my case I have simple templates and wanted to extract the title content of a Wiki parameter 'title' from a template. It took me a while to achieve this but thanks to the regex tool of Lars Olav Torvik (<a href=\"http://regex.larsolavtorvik.com/\" rel=\"nofollow\">http://regex.larsolavtorvik.com/</a>) and this user forum here I got to it. May be someone finds it useful. (We all want to contribute, he, won't we? ;-) The following code annotated with comments does the trick. I had to do it with look around assertions to get not two templates mixed together whe there is no title in one of them.</p>\n\n<p>I'm not sure yet for the two questions in the regex commentsâsee <code>(?# Questions: â¦)</code>âif I understood the recursive part at <code>(?R)</code>. Is it, that it obtains its content to check for from the outermost defined level, i.e. second regexp line <code>\\{\\{</code> and last regexp line <code>\\}\\}</code>? Would that be correct? And what is the difference between <code>++</code> and <code>+</code> before the alternative of <code>(?R)</code> booth work equally, so it seems when tested.</p>\n\n<ol>\n<li><p>The origninal wiki templates on a page (most simple):\n</p>\n\n<pre><code>$wikiTemplate = \"\n{{Templ1\n| title = (1. template) title\n}}\n\n{{Templ2\n| any parameter = something {{template}}\n}}\n\n{{Templ1\n| title = (3. template) title\n}}\n\";\n</code></pre></li>\n<li><p>The replacement:\n</p>\n\n<pre><code>$wikiTemplate = preg_replace(\n  array(\n  // tag all templates with START â¦ END and add a TITLE-placeholder before\n  // and take care of balanced {{ â¦  }} recursiveness \n    \"@(?s)   (?# switch to dotall match, i.e. also linebreaks )\n      \\{\\{ (?# find two {{ )\n      (?: (?# group 1 as a non-backreferenced match  )\n        (?:  (?# group 2 as a non-backreferenced match  )\n          (?! (?# in group 1 anything but not {{ or }} )\n            \\{\\{ \n            |   (?# or )\n            \\}\\}\n          )\n          .\n        )++  (?# Question: what is the differenc between ++ and + here? )\n        |    (?# or )\n        (?R) (?# is it recursive of what is defined in the outermost,\n              i.e. 2nd regexp line with \\{\\{ and last line with \\}\\}\n              Question: is that here understood correctly? ) \n      )\n      * (?# zero or many times of the inner regexp defintions )\n      \\}\\} (?# find two }} )\n    @x\",// x-extended â ignore white space in the pattern\n  // replace TITLE by single line content of title parameter \n    \"@\n      (?&lt;=TITLE) (?# TITLE must preceed the following linebreak but is not\n                  backreferenced within \\\\0, i.e. the whole returned match)\n      ([\\n\\r]+)  (?#linebr in 1 may also described as . because of\n                  s-modifier dotall)\n      (?:        (?# start non-backreferenced match )\n        .        (?# any character but not followed by START)\n        (?!START)\n      )+      (?# multiple times)\n      (?:     (?# start non-backreferenced match )\n        \\|\\s*title\\s*=\\s* (?#find the parameter '| title = ')\n      )\n      ([^\\r\\n]+)  (?#get title now to \\\\2 but exclude the line break. \n                   Note it is buggy when there is no line break )\n      (?:     (?# start non-backreferenced match )\n        .     (?# any character but not followed by END)\n        (?!END)\n      )\n      +       (?# multiple times)\n      .       (?# any single character, e.g. the last  because as all\n               stuff before captures anything not followed by END)\n      (?:END) (?#a not backreferenced END)\n    @msx\", // m-multiline, s-dotall match also linebreaks,\n           // x-extended â ignore white space in the pattern\n  ), \n  array(\n    \"TITLE\\nSTART\\\\0END\", // \\0 is the whole returned match, i.e. the template\n  # replace the TITLE to  TITLEtitle contentTITLEâ¦\n    \"\\\\2TITLE\\\\0\",\n  ),\n  $wikiTemplate\n);\nprint_r($wikiTemplate);\n</code></pre></li>\n<li><p>The output is then with the titles tagged by TITLE above each template but only if there was a title:\n</p>\n\n<pre><code>TITLE(1. template) titleTITLE\nSTART{{Templ1\n | title = (1. template) title\n}}END\n\nTITLE\nSTART{{Templ2\n | any parameter = something {{template}}\n}}END\n\nTITLE(3. template) titleTITLE\nSTART{{Templ1\n | title = (3. template) title\n}}END\n</code></pre></li>\n</ol>\n\n<p>Any inside for my questions regarding regexp understanding, or some improvements? \nThanks, Andreas.</p>\n"},{"tags":["php","css","url","css-selectors"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13251007,"title":"php page id changes, css id changes issue","body":"<p>I'm theming a website <a href=\"http://www.complementchic.com\" rel=\"nofollow\">http://www.complementchic.com</a></p>\n\n<p>so in my css, I've set css for the body to resize images at</p>\n\n<p><a href=\"http://www.complementchic.com/modules/vente_flash/flashSale.php\" rel=\"nofollow\">http://www.complementchic.com/modules/vente_flash/flashSale.php</a></p>\n\n<pre><code> #module-vente_flash-flashSale\n</code></pre>\n\n<p>but when I have the page switching language through \nphp post the url becomes:</p>\n\n<p><a href=\"http://www.complementchic.com/modules/vente_flash/flashSale.php?&amp;id_lang=2\" rel=\"nofollow\">http://www.complementchic.com/modules/vente_flash/flashSale.php?&amp;id_lang=2</a></p>\n\n<p>and as a result my body id in css is changing to</p>\n\n<pre><code> #module-vente_flash-flashSale?&amp;id_lang=2\n</code></pre>\n\n<p>and I'm unable to use this ID in my css stylesheet -</p>\n\n<p>So, a) is there a way for me to use this ID in my stylesheet or fix this issue,</p>\n"},{"tags":["php","netbeans","documentation-generation","code-completion"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":3110,"score":3,"question_id":4360892,"title":"How to add documentation for my functions in Netbeans PHP?","body":"<p>I tried the following,</p>\n\n<pre><code>/*\n * addRelationship\n *\n * Adds a relationship between two entities using the given relation type.\n *\n * @param fromKey the original entity\n * @param toKey the referring entity\n * @param relationTypeDesc the type of relationship\n */\n\nfunction addRelationship($fromKey, $toKey, $relationTypeDesc) {\n    $relationTypeKey = $this-&gt;getRelationTypeKey($relationTypeDesc);\n</code></pre>\n\n<p>But, when I tried to use it in another place, it says PHPDoc not found.</p>\n\n<p><img src=\"http://i.stack.imgur.com/nrhBe.png\" alt=\"alt text\"></p>\n\n<p><strong>Any Ideas on how to get this to work in NetBeans PHP?</strong></p>\n\n<p><strong>UPDATE :</strong></p>\n\n<p>The following is the updated syntax which will work in NetBeans PHP - </p>\n\n<pre><code>/** \n * addRelationship\n *\n * Adds a relationship between two entities using the given relation type.\n *\n * @param integer $fromKey the original entity\n * @param integet $toKey the referring entity\n * @param string $relationTypeDesc the type of relationship\n */\n\nfunction addRelationship($fromKey, $toKey, $relationTypeDesc) {\n</code></pre>\n"},{"tags":["php","zend-framework","zend-view","zend-layout"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1425,"score":1,"question_id":2253170,"title":"Zend Framework - Last Code to Execute Before Layout is Rendered","body":"<p>I want to execute some code right before the layout is rendered, after all other code is executed.  Where would I put that code?</p>\n\n<p>I am specifically trying to modify the files referenced in the headLink, headScript, and inlineScript view helpers before they're used by the layout.</p>\n\n<p>Here are the steps I want to take:</p>\n\n<ol>\n<li>Loop over the files in those view helpers</li>\n<li>Make a list of the local files</li>\n<li>Remove local files from the view helpers</li>\n<li>Reference the local file list as a parameter to a server script that combines them for a single HTTP request</li>\n<li>Add that new combine script reference to the appropriate view helper</li>\n</ol>\n\n<hr>\n\n<p>It doesn't appear that a Front Controller Plugin is going to help me accomplish this, and here's why:</p>\n\n<ol>\n<li><code>postDispatch()</code> gets executed after every controller action that's executed, and I need the full list of stylesheets/javascripts</li>\n<li><code>dispatchLoopShutdown()</code> gets executed after the controller action loop, but the layout has already been rendered at this point</li>\n</ol>\n\n<hr>\n\n<p>As Rufinus suggested, I solved this by extending the View Helpers.  <a href=\"http://stackoverflow.com/questions/2269306/modify-stack-in-the-zend-headscript-view-helper\">My question from that angle as well as the solution is here</a>.</p>\n"},{"tags":["php","html","json","post"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":66,"score":-3,"question_id":13261615,"title":"Is it possible to send a json array via post?","body":"<p>Im trying to send a json array to a php post request.</p>\n\n<pre><code>$myarray[] = 500;\n$myarray[] = \"hello world\";\n</code></pre>\n\n<p>how can I send $myarray json data to a php post request?</p>\n\n<p>Here's what I tried:</p>\n\n<pre><code>&lt;form name=\"input\" action=\"post.php\"&gt;\n&lt;input type=\"hidden\" name=\"json\" value=\"[500,'hello world']\" /&gt;\n&lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Im testing the API and was told it only takes json data...but I can't seem to get it to work. My guess is Im sending the json data wrong. Any thoughts?</p>\n"},{"tags":["php","if-statement"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":46,"score":-1,"question_id":13261495,"title":"If $variable = 0 not working","body":"<pre><code>if($_POST['user_admin'] = 0){ $acct_type = \"a standard\"; }\nelseif($_POST['user_admin'] = 1){ $acct_type = \"an administrator\"; }\necho $acct_type;\necho $_POST['user_admin'];\n</code></pre>\n\n<p>Whether <code>$_POST['user_admin']</code> is 0 or 1, <code>$acct_type</code> still returns \"an administrator\" Why?</p>\n"},{"tags":["php","json","viewmodel","zend-framework2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13256639,"title":"How to avoid wrapping response with \"content\" when returning ViewModel in controller action?","body":"<p>Using Zend Framework 2 and an AbstractRestfulController where the getList action is implemented like this:</p>\n\n<pre><code>public function getList() {\n    return new ViewModel(array(\n        'entities' = array(1 =&gt; array(/*..*/), 2 =&gt; array(/*..*/))\n    ));\n}\n</code></pre>\n\n<p>I've added the JsonStrategy to the view manager so when my UA sends <code>Accept: text/html</code> ZF2 uses the correct view to format the data. When my UA sends <code>Accept: application/json</code> ZF2 (correctly) responds with <code>application/json</code> and JSON encodes the data.</p>\n\n<p>But now the all the entities are wrapped inside a 'content' node (the <code>ViewModel::$captureTo</code> property).</p>\n\n<p>If the action controller returns a JsonModel I can avoid this. But then the JsonStrategy always responds with application/json, without checking Accept. </p>\n\n<p>Is there any way to avoid it while still using the ViewModel, and not the JsonModel?</p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":40,"score":-3,"question_id":13261398,"title":"How do I to redirect after form submission in PHP?","body":"<p>On my site, there is a mailing list form in a box. After the user enters their name &amp; email address, I want to change <em>JUST that box</em>, not the entire page, into a <code>div</code> the same size displaying a thank you message. Like an iFrame form redirect?</p>\n"},{"tags":["php","forms","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13261116,"title":"Not understanding why $_POST isn't set after click on input button","body":"<p>In the context of a form without a submit button, I am not understanding why the $_POST variable doesn't get set.  Here is my code:</p>\n\n<pre><code>&lt;?php\n  $view=\"blablabla\";\n?&gt;\n&lt;form class=\"\" method='POST' accept-charset=\"UTF-8\" action='index.php'&gt;\n&lt;p&gt;\n  &lt;textarea rows=\"4\" cols=\"60\" name='article' id='article' WRAP=SOFT&gt;\n    &lt;?php\n      echo $view;\n    ?&gt;\n  &lt;/textarea&gt;\n&lt;/p&gt;    \n&lt;p&gt;\n  &lt;input type=\"button\" name='do1' id='do1' value=\"do 1\"/&gt;\n  &lt;input type=\"button\" name='do2' id='do2' value=\"do 2\"/&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n\n&lt;?php\n  var_dump(\"POST :\",$_POST);\n?&gt;\n</code></pre>\n\n<p>Shouldn't the var_dump show a value to $_POST once I click one of the 2 buttons?</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":42,"score":-3,"question_id":13261573,"title":"How to store data in php file itself?","body":"<p>I am making a system which would ask user for mysql details. I want those details to be written in a settings.php file.</p>\n\n<p>Settings file contains the following data:</p>\n\n<pre><code>$host = \"\";\n$database = \"\";\n$user = \"\";\n$password = \"\";\n$localelang = \"\";\n</code></pre>\n"},{"tags":["php","javascript","html","css"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13261653,"title":"Image gallery that scrolls to the image that corresponding to the clicked thumbnail","body":"<p>I am creating a website that has an image gallery. </p>\n\n<p>You have a side menu with the different categories, a hidden div that appears when you click on a category, filled with thumbnails, and when you click on any of the thumbnails it hides the thumbnails div and shows the image gallery in its place. </p>\n\n<p>An example of what I am trying to do is here : <a href=\"http://www.matitacorp.com/web/portfolio.php\" rel=\"nofollow\">http://www.matitacorp.com/web/portfolio.php</a></p>\n\n<p>What I would like to do is when the thumbnail div hides and the image gallery appears I would also like the image that corresponds to the thumbnail clicked to appear, even if it is 3 or 4 pictures lower in the scrollable thumbnail gallery. </p>\n\n<p>I've tried using .scrolltop() and setting the value but I think that I am missing something. My div's appear properly but I am not getting the scrolltop value to work or I am using the complete wrong function. Hopefully someone can help out.</p>\n\n<p>Here is a piece of the code that I am trying to use:</p>\n\n<pre><code>//thumbnail section\n&lt;div id=\"booth\"&gt;      \n  &lt;a href=\"#\" id=\"identityoverlay\"&gt;&lt;img src=\"thumb1\" alt=\"\" /&gt;&lt;/a&gt;\n  &lt;a href=\"#\" id=\"identityoverlayA\"&gt;&lt;img src=\"thumb2\" alt=\"\" /&gt;&lt;/a&gt;\n  &lt;a href=\"#\" id=\"identityoverlayB\"&gt;&lt;img src=\"thumb3\" alt=\"\" /&gt;&lt;/a&gt;\n&lt;/div&gt;\n\n//main image section\n&lt;div id=\"identityOverlay\" style=\"background-image:url(images/bkgrnd_700.gif); height:720px; display:none;\"&gt;               \n\n    &lt;div id=\"imageGallery style=\"padding-left:95px; padding-top:10px; padding-bottom:15px; overflow:auto; height:610px;\"&gt;            \n                &lt;img src=\"mainImg1\" /&gt;&lt;br /&gt;              \n                &lt;img src=\"mainImg2\" /&gt;&lt;br /&gt;              \n                &lt;img src=\"mainImg3\" /&gt;&lt;br /&gt;              \n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    $(\"#identityoverlay\").click(function () {\n      $(\"#identityOverlay\").show();     \n      $(\"#booth\").hide();\n});    \n\n    $(\"#identityoverlayA\").click(function () {       \n      var myCont = document.getElementById (\"imageGallery\");\n              myCont.scrollTop(100); \n\n      $(\"#identityOverlay\").show();       \n      $(\"#booth\").hide();\n});   \n&lt;/script&gt; \n</code></pre>\n\n<p>Thanks!    </p>\n"},{"tags":["php","apache"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13261327,"title":"PHP script executes twice when longer than 60 seconds","body":"<p>Alright, so I've been wracking my brain about this for the past 3 hours now and been googling like crazy with no resolution to the problem. So, I wrote an example script that reproduces this since my original script is around 800 lines. </p>\n\n<pre><code>&lt;?php\n    set_time_limit(0);\n    ini_set('max_input_time', '-1');\n    ini_set('max_execution_time', '0');\n\n    error_log(\"executing script... \");\n    $time = time();\n    for ($t = 0; $t &lt;= 15; $t++) {\n        error_log(\"Logging: $t (\".(time()-$time).\" seconds)\");\n        sleep(5);\n    }\n    error_log(\"execution done (\".(time()-$time).\" seconds)\");\n?&gt;\n</code></pre>\n\n<p>Now, the sleep function is just being used to re-create the time of execution of the page and is not used in the original code. This will produce the following result in the error_log file</p>\n\n<pre><code>[Tue Nov 06 16:24:14 2012] executing script...\n[Tue Nov 06 16:24:14 2012] Logging: 0 (0 seconds)\n[Tue Nov 06 16:24:19 2012] Logging: 1 (5 seconds)\n[Tue Nov 06 16:24:24 2012] Logging: 2 (10 seconds)\n[Tue Nov 06 16:24:29 2012] Logging: 3 (15 seconds)\n[Tue Nov 06 16:24:34 2012] Logging: 4 (20 seconds)\n[Tue Nov 06 16:24:39 2012] Logging: 5 (25 seconds)\n[Tue Nov 06 16:24:44 2012] Logging: 6 (30 seconds)\n[Tue Nov 06 16:24:49 2012] Logging: 7 (35 seconds)\n[Tue Nov 06 16:24:54 2012] Logging: 8 (40 seconds)\n[Tue Nov 06 16:24:59 2012] Logging: 9 (45 seconds)\n[Tue Nov 06 16:25:04 2012] Logging: 10 (50 seconds)\n[Tue Nov 06 16:25:09 2012] Logging: 11 (55 seconds)\n[Tue Nov 06 16:25:14 2012] executing script...\n[Tue Nov 06 16:25:14 2012] Logging: 0 (0 seconds)\n[Tue Nov 06 16:25:14 2012] Logging: 12 (60 seconds)\n[Tue Nov 06 16:25:19 2012] Logging: 1 (5 seconds)\n[Tue Nov 06 16:25:19 2012] Logging: 13 (65 seconds)\n[Tue Nov 06 16:25:24 2012] Logging: 2 (10 seconds)\n[Tue Nov 06 16:25:24 2012] Logging: 14 (70 seconds)\n[Tue Nov 06 16:25:29 2012] Logging: 3 (15 seconds)\n[Tue Nov 06 16:25:29 2012] Logging: 15 (75 seconds)\n[Tue Nov 06 16:25:34 2012] Logging: 4 (20 seconds)\n[Tue Nov 06 16:25:34 2012] execution done (80 seconds)\n[Tue Nov 06 16:25:39 2012] Logging: 5 (25 seconds)\n[Tue Nov 06 16:25:44 2012] Logging: 6 (30 seconds)\n[Tue Nov 06 16:25:49 2012] Logging: 7 (35 seconds)\n[Tue Nov 06 16:25:54 2012] Logging: 8 (40 seconds)\n[Tue Nov 06 16:25:59 2012] Logging: 9 (45 seconds)\n[Tue Nov 06 16:26:04 2012] Logging: 10 (50 seconds)\n[Tue Nov 06 16:26:09 2012] Logging: 11 (55 seconds)\n[Tue Nov 06 16:26:14 2012] Logging: 12 (60 seconds)\n[Tue Nov 06 16:26:19 2012] Logging: 13 (65 seconds)\n[Tue Nov 06 16:26:24 2012] Logging: 14 (70 seconds)\n[Tue Nov 06 16:26:29 2012] Logging: 15 (75 seconds)\n[Tue Nov 06 16:26:34 2012] execution done (80 seconds)\n</code></pre>\n\n<p>heres some settings from phpinfo that are relevant</p>\n\n<pre><code>=== apache2handler ===\nMax Requests: Per Child: 1000 - Keep Alive: on - Max Per Connection: 200\nTimeouts: Connection: 300 - Keep-Alive: 2 \n\n=== PHP Version 5.4.5 Core Settings ===\nmax_execution_time     Local: 0     Master: 30\nmax_input_time         Local: -1    Master: -1\n</code></pre>\n\n<p>I have tried everything i can think of. it appears to be a server setting either with Apache or PHP, because when i run this same script on my localhost, it executes successfully like it should without the double load. and before its asked, yes every time I make an INI change or apache config change I have been restarting apache.</p>\n\n<p>also, here is the access_log entries for the example above.</p>\n\n<pre><code>*.*.*.* - - [06/Nov/2012:16:43:56 -0700] \"GET /test.php HTTP/1.1\" 200 20 \"-\" \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0\" *.*.*.* *********.com 80 55050278 1012 321 *.*.*.*\n*.*.*.* - - [06/Nov/2012:16:44:56 -0700] \"GET /test.php HTTP/1.1\" 200 20 \"-\" \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0\" *.*.*.* *********.com 80 60054985 1012 321 *.*.*.*\n</code></pre>\n\n<p>There is definitely something doing this once 60 seconds has been reached in execution time because when i change the execution time to say, 55 seconds, it runs once just as it should.</p>\n\n<pre><code>[Tue Nov 06 16:46:00 2012] executing script...\n[Tue Nov 06 16:46:00 2012] Logging: 0 (0 seconds)\n[Tue Nov 06 16:46:05 2012] Logging: 1 (5 seconds)\n[Tue Nov 06 16:46:10 2012] Logging: 2 (10 seconds)\n[Tue Nov 06 16:46:15 2012] Logging: 3 (15 seconds)\n[Tue Nov 06 16:46:20 2012] Logging: 4 (20 seconds)\n[Tue Nov 06 16:46:25 2012] Logging: 5 (25 seconds)\n[Tue Nov 06 16:46:30 2012] Logging: 6 (30 seconds)\n[Tue Nov 06 16:46:35 2012] Logging: 7 (35 seconds)\n[Tue Nov 06 16:46:40 2012] Logging: 8 (40 seconds)\n[Tue Nov 06 16:46:45 2012] Logging: 9 (45 seconds)\n[Tue Nov 06 16:46:50 2012] Logging: 10 (50 seconds)\n[Tue Nov 06 16:46:55 2012] execution done (55 seconds)\n</code></pre>\n\n<p>Any help with this will be much appreciated!</p>\n"},{"tags":["php","regex","preg-match"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13261250,"title":"Regex pattern for matching single quoted words in a string and ignore the escaped single quotes","body":"<p>My PHP code looks like this:</p>\n\n<pre>\n$input = \"City.name = 'New York'\";\n$literal_pattern = '/\\'.[^\\']*\\'/';\npreg_match($literal_pattern, $input, $token);\necho $token[0]; // prints 'New York'\n</pre>\n\n<p>My regex needs to grab literals with escaped single quotes like:</p>\n\n<pre>\n$input = \"City.name = 'New \\' York'\";\n$literal_pattern = ???????????;\npreg_match($literal_pattern, $input, $token);\necho $token[0]; // should prints 'New \\' York'\n</pre>\n\n<p>What wil be the reges for $literal_pattern ?</p>\n"},{"tags":["php","pdf","image-processing","imagemagick","imagick"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13261189,"title":"How can I create a specific number of thumbnails from a PDF using Imagick, ImageMagick, and PHP?","body":"<p>I'd like to use PHP, ImageMagick, and Imagick ( PHP Class ) to create thumbnails of a PDF. Some PDFs will only have one page, and some will have many.  I'd like to specify a number ( N ) of thumbnails to create, one for each of the first N pages in the PDF.</p>\n\n<p>The code below works, but produces errors when the PDF doesn't have enough pages ( because I'm trying to instantiate Imagick on a PDF page that doesn't exist ).  I also know that ImageMagick can create thumbnails for all the pages in a PDF when used from the command line.  I'd like to mimic that behavior in the most efficient way ( memory and processor ), while controlling the number of thumbs created ... I only need a thumbnail for the first N pages in large PDFs.</p>\n\n<p>I've looked at various methods to determine the number of pages in a PDF, and they all seem to be resource intensive.  Perhaps the code below is my best bet.  It accomplishes my goal, but bothers me because it results in some errors ... even though they don't affect the ultimate outcome.</p>\n\n<p>Here is my code that currently works ( with errors when the PDF has fewer than N pages ):</p>\n\n<pre><code>private function create_thumbnails(\n    $num_thumbs = 3     // how many thumbnails to create, defaults to one\n) {\n\n    echo \"\\n\\n    creating thumbnails ... \";\n\n    $num_thumbs_created = 0;\n    while( $num_thumbs_created &lt; $num_thumbs )\n    {\n\n        try {\n\n            // instantiate imagick with the pdf\n            $Image = new Imagick( $this-&gt;file_path_pdf . '[' . $num_thumbs_created . ']' );\n\n            // define image file\n            $Image-&gt;setImageColorspace( 255 );\n            $Image-&gt;setCompression( Imagick::COMPRESSION_JPEG );\n            $Image-&gt;setCompressionQuality( 60 );\n            $Image-&gt;setImageFormat( 'jpg' );\n\n            // size the thumbnail\n            //  - resized relative to 8.5x11 ( assuming most pdfs are paper sized )\n            $Image-&gt;resizeImage( 180, 232, imagick::FILTER_POINT, 1 );\n\n            // save image\n            $Image-&gt;writeImage( substr( $this-&gt;File-&gt;path, 0, -4 ) . '-' . $num_thumbs_created . '.jpg' );\n            $Image-&gt;clear();\n\n            $num_thumbs_created++;\n\n        } catch( Exception $e ) {\n\n            echo \"\\n  * failed to create some or all thumbnails: \" . $e-&gt;getMessage();\n            break;\n\n        }\n\n    }   \n\n    $Image-&gt;destroy();\n\n    echo \"done\";\n\n}\n</code></pre>\n"},{"tags":["php","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13261505,"title":"Issue with Populating dropdown from MySQL database","body":"<p>hi using following php code I am trying to populate a dropbox from mysql database:</p>\n\n<pre><code>enter code here\n&lt;?php\n$mysqli = new mysqli('localhost', 'root', '', 'testdb');\nif (mysqli_connect_errno())\n {\n   die('Unable to connect!');\n }\nelse\n{\n $query = 'SELECT * FROM language';\n  if ($result = $mysqli-&gt;query($query))\n   {\n    if ($result-&gt;num_rows &gt; 0)\n     {\n ?&gt;\n   &lt;p&gt; Select a language\n    &lt;select id=\"selectLanguage\"&gt;\n    &lt;option value=\"\"&gt;select&lt;/option&gt;\n &lt;?php\n    while($row = $result-&gt;fetch_assoc())\n {\n  ?&gt;\n  &lt;option value='&lt;?php echo $row[0]; ?&gt;'&gt;&lt;?php echo $row[1]; ?&gt;&lt;/option&gt;\n &lt;?php\n  }\n   ?&gt;\n &lt;/select&gt;\n &lt;/p&gt;\n  &lt;p id=\"result\"&gt;&lt;/p&gt;\n &lt;?php\n  }\n else\n  {\n   echo 'No records found!';\n   }\n $result-&gt;close();\n   }\n  else\n   {\n      echo 'Error in query: $query. '.$mysqli-&gt;error;\n    }\n   }\n   $mysqli-&gt;close();\n   ?&gt;\n</code></pre>\n\n<p>I am not getting any error but the dropbox populated by this message instead of cell values stored in database:\n<strong>(!) Notice : Undefined offset:0 in C:\\wamp\\test\\index.ph on line 40 Call Stack#TimeMemoryFunctionLocation 10.0009684656{main}()...\\index.php:0'></strong>\ncan you please let me know why this is happening?</p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13261501,"title":"Cross-Domain AJAX workarounds without jQuery","body":"<p>I have custom AJAX code on a blog page that I set up to access my PHP files on my own domain, but oh no! I can't do that.</p>\n\n<p>I would use jQuery to work around this, but can't, because I cannot upload the apparently neccessary jQuery.js to the website, as it is not mine.</p>\n\n<p>Is there a way to access PHP requests by modifying HTML <b>only</b> on a page?</p>\n"},{"tags":["php","javascript"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":40,"score":0,"question_id":13244642,"title":"Running a PHP Mysql query loop in Javascript","body":"<p>I'm trying to make my javascript menu dynamic by pulling existing pages from my mysql database.</p>\n\n<p>I want to do this:\n<a href=\"http://stackoverflow.com/questions/12531993/apply-php-mysql-while-loop-in-javascript-object\">Apply php/MySql while loop in javascript object</a> -\nBut in a .js file.</p>\n\n<pre><code>anylinkmenu4.items=[\n\n[\" echo looped content here   \", \"echo looped content here.php\"] ]\n</code></pre>\n\n<p>If the question above answers the question please let me know because I haven't been able to run php in a .js file.</p>\n"},{"tags":["php","mysql","excel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12950978,"title":"Using libXL with PHP and mySQL","body":"<p>I'm working on importing and exporting very high volumes of data from Excel into/out of MySQL via PHP. I have a working solution but it is very memory intensive and slow.</p>\n\n<p>I have seen that a developer has produced a Unix build PHP script incorporating libXL - a very fast C library for excel that costs about $200. This purports to process 10,000 cells in 0.03 secs using 262kb of PHP memory.</p>\n\n<p>I also notice that someone posting on this site is developing a stand alone dll based on libXL which I don't think will be suitable for my purpose. </p>\n\n<p>Questions:</p>\n\n<p>Is anyone out there looking to produce a simple to implement PHP libaray built around libXL which I could deploy on both a local Windows based XAMPP rig and onto my UNIX based host (Hostpapa while I'm developing)</p>\n\n<p>Would I need to buy libXL for both Windows and UNIX to work both locally and on-line</p>\n\n<p>Are there any other PHP solutions which are very fast and have low memory requirements</p>\n\n<p>I have tried every PHP solution suggested by the PHPExcel developer, Mark Baker (thanks Mark), and nothing meets my requirements fully so no suggestions along those lines please.</p>\n\n<p>I am considering learning Perl so I can use the excellent Excel parser that exists but unfortunately I've got time constraints and I think that will take me too long.</p>\n"},{"tags":["php","imagecreatefrompng"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13261366,"title":"Xampp imagecreatefrompng() producing broken image","body":"<p>I have looked at several other similar questions, but unfortunately none of them have helped with the problem I am having.</p>\n\n<p>This is the script.</p>\n\n<pre><code> &lt;?php\n    // returns a PNG graph from the $_GET['per'] variable\n    $per = imagecreate(302,7);\n    $background = imagecolorallocate($per, 0xFF, 0xFF, 0xFF);\n    $foreground = imagecolorallocate($per, 0x00, 0x8A, 0x01);\n    $border = imagecolorallocate($per, 0x99, 0x99, 0x99);\n    if ($_GET['per'] &gt; 0)\n    {\n        $grad = imagecreatefrompng(\"images/grad.png\");\n        $per2 = imagecopy($per, $grad, 1, 1, 0, 0, ($_GET['per'] * 3), 5);\n        imagerectangle($per, 0, 0, 301, 6, $border);\n    }\n\n    header(\"Content-type: image/png\");\n    imagepng($per,NULL,5);\n?&gt;\n</code></pre>\n\n<p>I have checked GD support is on so I am not sure what the problem is. If I build just a simple bar without use of an image it will work fine, but when I try to build with an image it just shows a picture of a broken image.</p>\n"},{"tags":["php","facebook","facebook-graph-api"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":4293,"score":5,"question_id":6256198,"title":"Retrieving my Facebook fan page wall posts via PHP now gives \"An access token is required to request this resource.\"","body":"<p>This is a rather infuriating problem. We had code that was working perfectly fine for months and now, all of the sudden, it doesn't. The code just used this url to grab the wall posts we were making on our fan page and showed them on our site. http://graph.facebook.com/[our number]/feed?limit=10</p>\n\n<p>Now it doesn't work and I've spent a ridiculous number of hours sifting through search results on this issue. Unfortunately, everything I find seems to be referring to Facebook apps and not fan pages. I can't stop seeing how I need to authenticate it using my secret key, but I can't find anything that shows me what my fan page's secret key is or if one even exists. I can't, for the life of me, get this thing working and I can't figure out why it just randomly stopped working in the first place.  </p>\n\n<p>Here's the error we get: </p>\n\n<pre><code>{\n   \"error\": {\n      \"type\": \"OAuthException\",\n      \"message\": \"An access token is required to request this resource.\"\n   }\n}\n</code></pre>\n\n<p>EDIT: So thanks much to Frank Farmer for finding that post, the problem is needing an access token, which I can't find ANY solution to getting ANYWHERE. </p>\n"},{"tags":["java","php","pack"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13261147,"title":"Need Java equivalent to pack(\"H32\", param) from php","body":"<p>I need a java equilavent from this php code:</p>\n\n<pre><code>$string = \"testing\";\n$hexchal = pack('H32', $string);\n</code></pre>\n\n<p>I did search the internet, but found no answer.</p>\n\n<p>Hope you could help me!</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","encryption","rsa","bouncycastle","publickey"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13229751,"title":"PhpSeclib <-> BouncyCastle RSA","body":"<p>I generated on server side a pair public/private keys using phpseclib like</p>\n\n<pre><code>include 'Crypt/RSA.php';\n$rsa = new Crypt_RSA();\n$rsa-&gt;setPrivateKeyFormat(CRYPT_RSA_PRIVATE_FORMAT_PKCS1);\n$rsa-&gt;setPublicKeyFormat(CRYPT_RSA_PUBLIC_FORMAT_PKCS1);\nextract($rsa-&gt;createKey());\necho $privatekey;\necho \"\\n\\n\\n\";\necho $publickey;\n</code></pre>\n\n<p>Now i want import on client side Public key using Java Bouncy Castle engine. \nHere my Public key</p>\n\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIGJAoGBAJEGAmaQejDgJaCg/B5+g68arqpMpl6jZ9+p8TBzNRIq+Ygt/n3iqz+pAtltrlRnmqSD\nsvx0LMluw1wXezQ1pz2tTJTEhg6b69Qui0o//W5UDfle4yOyAHaOs8MD5nubJjXFU8vGiEdektET\njgKqiSr5TBgZoHy+YDWpd4yTemXVAgMBAAE=\n-----END PUBLIC KEY-----\n</code></pre>\n\n<p>But I can do it. I tried to do it serveral ways but i always get errors.</p>\n\n<pre><code>AsymmetricKeyParameter publicKey = \n    (AsymmetricKeyParameter) PublicKeyFactory.createKey(b64.decodeBuffer(key));\nAsymmetricKeyParameter publicKey = \n    (AsymmetricKeyParameter) PublicKeyFactory.createKey(key.getBytes())\n</code></pre>\n\n<p>Also</p>\n\n<pre><code>PEMReader pemReader = new org.bouncycastle.openssl.PEMReader (reader);\nPemObject pem = pemReader.readPemObject();\n</code></pre>\n\n<p>All these ways generate error. </p>\n\n<p>How should i import Public key using Java Bouncy Castle engine?</p>\n\n<p>Thank you\nPavel</p>\n"},{"tags":["php","file-get-contents"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13259353,"title":"Text between two tags (","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3577641/how-to-parse-and-process-html-with-php\">How to parse and process HTML with PHP?</a>  </p>\n</blockquote>\n\n\n\n<p>please help me, i need script which select text between tag's <em>( <code>&lt;DIV id=\"image\"&gt;any text in source soce&lt;/DIV&gt;</code> )</em> on loaded page with file_get_contents.</p>\n\n<p>A friend advised me, but it does not work:</p>\n\n<pre><code>$vyber = file_get_contents($url);\npreg_match_all(\"'&lt;span&gt;(.*?)&lt;/span&gt;'si\", $vyber, $get);\n</code></pre>\n"},{"tags":["php","javascript","facebook","facebook-like","facebook-likebox"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13261399,"title":"How to add the same like used for images an albumes on your external website?","body":"<p>I am in the process of making an image gallery for my website, of which the same photographs can be viewed on Facebook with the additional features to share, like and whatnot. These options, particularly the 'Like' feature for this question but if your able to help on implementing the other features too that would be brilliant, I would like to add on my website.</p>\n\n<p>I know how to add a like button for a URL, edit the settings and whatnot, however I cannot seem to find out how, if it is at all possible, to have the same like button on a photograph on the pages albums so the user can click to like it on the website and Facebook meaning wherever they like the image, it'll show on both.</p>\n\n<p>I have tried using the image URL, the page which you can view the image on and whatnot, however this is treated as a different 'Like' and not the same.</p>\n\n<p>Best Regards,\nTim</p>\n"},{"tags":["php","opencart"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13063617,"title":"Session variables too persistent in OpenCart 1.5.3.1 (PHP)","body":"<p>I'm using a module called FB JS Connect (a free extension, and I can't seem to find it in Extensions now.) All it does is allow users to login using their Facebook ID. </p>\n\n<p>It works pretty well, and uses FB API.</p>\n\n<p>The problem is that, a user logs into OC using the FB Connect button, do something, then logs out. Another user logs in (not using FB Connect button), and the previous user's FB information is still in $_SESSION !</p>\n\n<p>The 4 variables persist in $_SESSION are listed below, until new FB user logs in :</p>\n\n<ul>\n<li>fb__state</li>\n<li>fb__user_id</li>\n<li>fb__code</li>\n<li>fb__access_token</li>\n</ul>\n\n<p>I don't dare to mess around in the code to \"fix\" this issue without expert advices because it might break a lot of things.</p>\n\n<p>I guess I'll need to clear this manually. </p>\n\n<p>I tried putting the following in index.php, and it seems that $session = new Session(); in index.php is called multiple times when user logs in.</p>\n\n<pre><code>// Session\n$session = new Session();\n\nunset($session-&gt;data['fb_&lt;FBAppId&gt;_state']);\nunset($session-&gt;data['fb_&lt;FBAppId&gt;_code']);\nunset($session-&gt;data['fb_&lt;FBAppId&gt;_user_id']);\nunset($session-&gt;data['fb_&lt;FBAppId&gt;_access_token']);\n\n$registry-&gt;set('session', $session); \n</code></pre>\n\n<p>What's the best way to handle this?</p>\n"},{"tags":["php","jquery","for-loop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13261336,"title":"Using JQuery slideToggle with dynamicall generated PHP information","body":"<p>I have thoroughly confused myself.</p>\n\n<p>I have a page with information that is dynamically generated with PHP. I am trying to use jQuery to hide and reveal the information. However, when I execute the code the function only works on the first instance.  </p>\n\n<p>Here's the html/php code:</p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n\n&lt;?php\n\nforeach ($datas as $name)\n{\n    if ($name['state'] === 'PA') \n    {\n        echo\n        '&lt;input type=\"hidden\" name=\"id\" value=\"' . $name['id'] . '\" /&gt;' .\n        '&lt;h1 id=\"name\"&gt;' . htmlentities($name['name']) . '&lt;/h1&gt;' .\n        '&lt;p id=\"descriptionlist\"&gt;' .\n        htmlentities($name['description']) . ' ' .\n        '&lt;br /&gt;' .\n        '&lt;ul id=\"link\"&gt;' .\n        '&lt;li class=\"l1\"&gt;' .\n        '&lt;a href=\"' . $name['site'] . '\"target=\"_blank\"&gt;' . $name['sname'] . '&lt;/a&gt;' .\n        '&lt;/li&gt;' .\n        '&lt;/ul&gt;' .                           \n        '&lt;/p&gt;' .\n\n'&lt;div id = \"locBar' . $name['id'] . '\"&gt;' .  '&lt;div id=\"locText' . $name['id'] . '\"&gt;' .   \n'&lt;h2 id=\"location\"&gt;Location&lt;/h2&gt;' .\n'&lt;/div&gt;' . '&lt;/div&gt;' .\n'&lt;div id=\"locDiv' . $name['id'] . '\"&gt;' .\n</code></pre>\n\n<p>Here's the jQuery script:</p>\n\n<pre><code>$(document).ready(function(){\n$('#locBar').click(function(){\n$('#locDiv').slideToggle('slow')\n})\n});\n</code></pre>\n\n<p>Obviously, jQuery doesn't understand that if I am clicking the div in the second iteration, that anything should happen.  How do I fix this?</p>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13230446,"title":"facebook php-sdk inner website pages wont authenticate","body":"<p>I'm using php-sdk to integrate my website to Facebook app.<br>\nIt works great on root pages, however on inner pages it doesn't.<br>\nI narrowed the code down to the bare minimum but still hasn't got this one.<br>\nI made sure php-sdk is directed from root.</p>\n\n<p>Anyone encountered that?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13260856,"title":"PHP select closest to variable","body":"<p>Just wondering how I would select the closest variable.\nI have a set list of military times, i.e:\n0030\n0100\n0130\n0200\netc...</p>\n\n<p>All in half hour increments. How would I select the closest time to now.\nFor example.\nUser clicks on the button, php gets the time it is now, and selects the closest time variable. So if it's 0144, it would pick 0130. and if it's 0146, it would pick 0200.</p>\n"},{"tags":["php","javascript","html","css","httpwebrequest"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":6124991,"title":"Limiting Server request in a page","body":"<p>I think every one goes through this problem. In my page, I use jQuery , jQuery UI, and many plugins and normally all of these plugins including UI, has its own seperate CSS. Furthermore, I have a habit of seperating my CSS as per the module in different files. </p>\n\n<p>So, now whenever I am loading a page, it requests the server for at least 30 additional resources comprising of <code>styles</code> and <code>scripts</code>, not forgetting <code>includes</code> and <code>requires</code> of the PHP. In slower PCs (by this I am saying systems with 1GB Ram, which should be more than enough I think) I find my pages slow even in local server. </p>\n\n<p>Now this is really unacceptable, And I need serious suggestion about fixing this issue.</p>\n"},{"tags":["php","curl","checkbox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13260719,"title":"curl checking a checkbox","body":"<p>I have a simple php curl function that goes to another site(not owned by me) and fills in the fields and works properly the only thing is i cant get it to check a check box. i cant seem to find an answer.</p>\n\n<pre><code>curl_setopt($ch, CURLOPT_HEADER, false);\n\ncurl_setopt($ch, CURLOPT_NOBODY, false); \ncurl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); \n\ncurl_setopt($ch, CURLOPT_COOKIEJAR, $cookie_file_path); \ncurl_setopt($ch, CURLOPT_COOKIEFILE, $cookie_file_path); \n\ncurl_setopt($ch, CURLOPT_USERAGENT, \"Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.12) Gecko/20050915 Firefox/1.0.7\"); \n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_VERBOSE, 1);\ncurl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);\n\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); \ncurl_setopt($ch, CURLOPT_CUSTOMREQUEST, \"POST\"); \ncurl_setopt($ch, CURLOPT_POST, 1); \n$searchCriteria = array(\n      'historicalMatches' =&gt; $_POST['historicalMatches'],  //the checkbox\n      'firstName'  =&gt; $_POST['firstName'], \n      'middleName' =&gt; $_POST['middleName'],\n      'lastName'   =&gt; $_POST['lastName'], \n      'suffix'     =&gt; $_POST['suffix'],\n      'age'        =&gt; $_POST['age'],\n      etc..);\n\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $searchCriteria);  \n</code></pre>\n\n<p>i have tried setting the value to 1 and on and checked. The html for the checkbox on the other page is: </p>\n\n<pre><code>&lt;input type=\"checkbox\" name=\"historicalMatches\" value=\"on\"&gt;\n</code></pre>\n\n<p>all i need to do is make sure it is checked everytime. So i can add a 2nd </p>\n\n<pre><code>curl_setopt($ch, CURLOPT_POSTFIELDS, 'check the box');\n</code></pre>\n\n<p>that just clicks the box I just cant figure it out. Thanks</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13261131,"title":"jQuery AJAX url can't be found","body":"<p>I am trying to have a form add a comment to the database with ajax. The problem I am having is that ajax cannot find the url because of how my current url is structured</p>\n\n<pre><code>url.com/thread/id\n</code></pre>\n\n<p>I am trying to have the ajax request sent to</p>\n\n<pre><code>url.com/ajax_comment\n</code></pre>\n\n<p>If I enter the whole URL it works correctly. However I need to avoid doing so as this script will be installable on multiple domains. So how can I accomplish this without hard coding the url in?</p>\n\n<p>Is there a structure in javascript, similar to PHP where you can do <code>include('./folder/file.php');</code> or there is another method to accomplish this?</p>\n"},{"tags":["php","permutation","project-euler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13261136,"title":"Clarifying what is meant by the wording for Project Euler #24?","body":"<p><a href=\"http://projecteuler.net/problem=24\" rel=\"nofollow\" title=\"Problem 24\">Problem 24</a> clearly asks:</p>\n\n<blockquote>\n  <p>What is the millionth lexicographic permutation of the digits 0, 1, 2, 3, 4, 5, 6, 7, 8 and 9?</p>\n</blockquote>\n\n<p>If my initial string then is:</p>\n\n<pre><code>$str = \"0123456789\";\n</code></pre>\n\n<p>I interpret the request to mean: perform 1,000,000 permutations on $string.</p>\n\n<pre><code>for( $i = 0; $i &lt; 1000000; $i++ ) {\n\n    $str = lexicographicPermute($str);\n\n}\n\necho $str; // prints 2783915604, an incorrect answer.\n</code></pre>\n\n<p>However, if I only perform 999,999 permutations instead, then it returns the correct answer.</p>\n\n<p>I'm still trying to wrap my head around why it is correct though. </p>\n\n<p>What interpretation of the question would lead you to not perform 1,000,000 permutations?</p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":55,"score":-1,"question_id":13256652,"title":"Inserting a date automatically","body":"<p>Can someone show me how I would add a date automatically upon submit to this page? The DB id is \"table1\" and the feild id is \"date\". </p>\n\n<p>My code:</p>\n\n<pre><code>&lt;?php\n\nif (isset($_POST[\"submit\"]) &amp;&amp; $_POST[\"submit\"] == \"Submit\")\n{\n    for ($count = 1; $count &lt;= 9; $count++)\n    {\n        $fields[$count] = \"\";\n        if (isset($_POST[\"field\" . $count . \"\"]))\n        {\n            $fields[$count] = trim($_POST[\"field\" . $count . \"\"]);\n            //echo $fields[$count] . \"&lt;br /&gt;\";\n        }\n    }\n\n    $con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n    $carriername = mysql_real_escape_string($_POST['carriername']);\n    $fromzip = mysql_real_escape_string($_POST['fromzip']);\n    $tozip = mysql_real_escape_string($_POST['tozip']);\n    $typeofequipment = mysql_real_escape_string($_POST['typeofequipment']);\n    $weight = mysql_real_escape_string($_POST['weight']);\n    $length = mysql_real_escape_string($_POST['length']);\n    $paymentamount = mysql_real_escape_string($_POST['paymentamount']);\n    $contactperson = mysql_real_escape_string($_POST['contactperson']);\n    $loadtype = mysql_real_escape_string($_POST['loadtype']);\n\n    $insert = \"INSERT INTO table1 (`carriername` ,`fromzip` ,`tozip` ,`typeofequipment` ,`weight` ,`length` ,`paymentamount` ,`contactperson` ,`loadtype`) VALUES('$carriername' ,'$fromzip' ,'$tozip' ,'$typeofequipment' ,'$weight' ,'$length' ,'$paymentamount' ,'$contactperson' ,'$loadtype');\";\n    mysql_query($insert) or die(mysql_error());\n\n    $select = \"SELECT `carriername` ,`fromzip` ,`tozip` ,`typeofequipment` ,`weight` ,`length` ,`paymentamount` ,`contactperson` ,`loadtype` FROM `table1` ORDER BY `paymentamount` DESC;\";\n    $result = mysql_query($select) or die(mysql_error());\n}\n?&gt;\n&lt;/script&gt;\n&lt;style =\"text-align: center; margin-left: auto; margin-right: auto;\"&gt;&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div\n style=\"border: 2px solid rgb(0, 0, 0); margin: 16px 20px 20px; width: 400px; background-color: rgb(236, 233, 216); text-align: center; float: left;\"&gt;\n&lt;form action=\"\" method=\"post\";\"&gt;\n  &lt;div\n  style=\"margin: 8px auto auto; width: 300px; font-family: arial; text-align: left;\"&gt;&lt;br&gt;\n  &lt;table style=\"font-weight: normal; width: 100%; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n   &lt;table\n style=\"font-weight: normal; width: 100%; text-align: right; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n    &lt;tbody&gt;\n    &lt;tr&gt;\n    &lt;td style=\"width: 10%;\"&gt;Carrier:&lt;/td&gt;&lt;td&gt;\n &lt;?php  \n\n$con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n$query=(\"SELECT * FROM table2\"); \n\n$result=mysql_query($query) or die (\"Unable to Make the Query:\" . mysql_error() ); \necho \"&lt;select name=carriername&gt;\";   \n\nwhile($row=mysql_fetch_array($result)){  \n\necho \"&lt;OPTION VALUE=\".$row['carriername'].\"&gt;\".$row['carriername'].\"&lt;/OPTION&gt;\"; \n} \n\necho \"&lt;/select&gt;\";  \n\n\n?&gt;\n              &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Pick Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"fromzip\" name=\"fromzip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Drop Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"tozip\" name=\"tozip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Load Type:&lt;/td&gt;&lt;td&gt; &lt;input id=\"loadtype\" name=\"loadtype\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Rate:&lt;/td&gt;&lt;td&gt; &lt;input id=\"paymentamount\" name=\"paymentamount\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n          &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;p style=\"text-align: center;\"&gt;&lt;input name=\"submit\" value=\"Submit\"\n class=\"submit\" type=\"submit\"&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;p style=\"margin-bottom: -20px;\"&gt;&amp;nbsp;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["php","fuelphp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13210612,"title":"Fuelphp orm if id not exsitst","body":"<p>I ran into a small problem what i cant really solve.</p>\n\n<p>I created a delete function for videos in fuel php with orm, and maybe its a but stupid but i cant really figure out how to redirext the user if and id doest not exsits.</p>\n\n<p>here is my code</p>\n\n<pre><code>public function action_delete($id)\n    {\n\n        $deletevideo = Model_Video::find($id);\n\n        if($deletevideo-&gt;user_id != Session::get('sentry_user')):\n            Session::set_flash('fail', 'The video you want to remove is not yours, we logged this activity');\n            Response::redirect(Uri::base() . \"myvideos\");\n        else:\n            unlink(realpath(\"users/video/\" . $deletevideo-&gt;video_preview));\n            unlink(realpath(\"users/video/\" . $deletevideo-&gt;video_file));\n            $deletevideo-&gt;delete();\n            Response::redirect(Uri::base() . \"myvideos\");\n        endif;\n    }\n</code></pre>\n\n<p>html </p>\n\n<pre><code>&lt;a href=\"&lt;?php echo Uri::base(); ?&gt;video/delete/&lt;?php echo $myvid-&gt;id; ?&gt;\" onclick = \"if (! confirm('Are your sure you want to delete this video? &lt;?php echo $myvid-&gt;video_title; ?&gt;')) return false;\" class=\"btn btn-danger\"&gt;Delete&lt;/a&gt;\n</code></pre>\n\n<p>I saw in a forum people talked about <code>DB::expr</code> to achive this but can find any example about it.</p>\n\n<p>Could please someone give me a hint?</p>\n"},{"tags":["php","windows","networking","drive"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":30,"score":4,"question_id":13260991,"title":"PHP is_dir() returns false on Windows network drive","body":"<p>I have a network drive mapped to drive letter X:\\ going to an external hard drive with the path of \"\\\\X-Drive\\Public\\Data\".  </p>\n\n<p>I am using Zend Server with Apache. </p>\n\n<p>My PHP command is simple</p>\n\n<pre><code>$isFolder = is_dir(\"x:/\");\necho($isFolder); //FALSE\n</code></pre>\n\n<p>Things you should know:  </p>\n\n<p>The code:</p>\n\n<pre><code>$isFolder = is_dir(\"c:/\");\necho($isFolder); //TRUE\n</code></pre>\n\n<p>works as expected. </p>\n\n<p>I am running the Zend Apache service as an administrator user. I know this is working properly because in Task Manager the httpd.exe process shows the correct user. </p>\n\n<p>The drive is indeed mapped.  I have tried mapping it with several users, to include the same user that Zend Apache uses to no avail. </p>\n\n<p>I have read every post on this matter that I could find.  Every problem I've come across exists either because of user permissions, or a typo.  I don't see how my problem fall into either category.  </p>\n\n<p>I have also tried:</p>\n\n<pre><code>system('net use X: \"\\\\x-drive\\public\" password1 /user:username /persistent:no');\n$isFolder(is_dir(\"x:/\"));\necho($isFolder); //FALSE\n</code></pre>\n\n<p>I am running Windows Vista x64, and the production code will run in Windows 7 x64.  </p>\n\n<p>What other problems could I be running in to?</p>\n"},{"tags":["php","apache"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":23,"score":-1,"question_id":13261074,"title":"Open_Basedir Master value: 0, but it has a local value","body":"<p>I have checked my phpinfo and it says that my <code>open_basedir</code> local value is something, but the master value is not set.</p>\n\n<p>How can I clear the local value? As I need a script which is using <code>open_basedir</code>.</p>\n"},{"tags":["php","arrays","duplicate-data"],"answer_count":10,"favorite_count":2,"up_vote_count":31,"down_vote_count":1,"view_count":23145,"score":30,"question_id":307650,"title":"How to remove duplicate values from an array in PHP","body":"<p>( can't believe this hasn't been asked in SO yet... )</p>\n\n<p>How can I remove duplicate values from an array in PHP?</p>\n"},{"tags":["php","ios","xml","nsarray"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":77,"score":3,"question_id":13254934,"title":"NSArray is empty in iOS despite mysql entry","body":"<p>I have been trying to fill an array in Xcode with xml output from a php script so that ios can connect to mysql. However, I keep getting an empty value for my array despite the fact that there is information in mysql. That must mean that either my attribute section or my parsing of the xml is wrong, but I really don't know what it is that actually is wrong (and no amount of starring at it seems to help). I am not getting any errors from php or xcode. Any ideas?</p>\n\n<p><strong>EDIT: I have followed the suggestions below and I am still getting an empty value, although I believe that it is coming from my php...</strong></p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    char *cStr = \"YES\";\n    NSString *str3 = [NSString stringWithUTF8String:cStr];\n\n\n    NSString *urlString = [NSString stringWithFormat:@\"(censored)\", _login];\n\n    NSXMLParser *Parser = [[[NSXMLParser alloc] initWithContentsOfURL:[NSURL URLWithString:urlString]] autorelease];\n    [Parser setDelegate:self];\n    [Parser parse];\n\n\nNSDictionary *itemAtIndex =(NSDictionary *)[oneam objectAtIndex:0];\n  oneam = [[NSMutableArray alloc] init];   \n    if (([[itemAtIndex objectForKey:@\"its\"]isEqualToString:str3 ])) {\n            [switch1 setOn:YES animated:YES];\n    }\n    else {\n            [switch1 setOn:NO animated:YES];\n    }\n\n}\n\n- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict {\n\n    if ( [elementName isEqualToString:@\"location\"]) {\n        [oneam addObject:[[NSDictionary alloc] initWithDictionary:attributeDict]];\n    NSLog(@\"The array is %@\", oneam);\n    }\n}\n</code></pre>\n\n<p>And here is my php...</p>\n\n<pre><code>&lt;?php\n\n$login = \"hello\";\n$dbh = new PDO('(censored)');\n$sql = \"SELECT oneam FROM login WHERE username = '$login'\";\n\n$q = $dbh-&gt;prepare( $sql );\n\n$doc = new DOMDocument();\n$r = $doc-&gt;createElement( \"oneam\" );\n$doc-&gt;appendChild( $r );\nforeach ( $q-&gt;fetchAll() as $row) {\n    $e = $doc-&gt;createElement( \"location\" );\n\n    $e-&gt;setAttribute( 'its', $row['oneam']);\n\n    $r-&gt;appendChild( $e );\n\n}\nprint $doc-&gt;saveXML();\n?&gt;\n</code></pre>\n"},{"tags":["php","mysql","pdo","limit","posts"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13260783,"title":"Optional LIMIT for a function grabbing all post with PDO","body":"<p>I'm trying to create a function that will grab all posts within a table. I also wanted to add a optional LIMIT parameter. Here is an example:</p>\n\n<pre><code>function get_all_posts($conn, $limit = 0) {\nif ($limit &gt; 0) {\n    $stmt = $conn-&gt;prepare(\"SELECT * FROM posts LIMIT :limit\");\n    $stmt-&gt;execute(array(\n        ':limit' =&gt; $limit\n    ));\n    $results = $stmt-&gt;fetchAll();\n    return $results ? $results : false ;\n} else {\n    $stmt = $conn-&gt;prepare(\"SELECT * FROM posts\");\n    $stmt-&gt;execute();\n    $results = $stmt-&gt;fetchAll();\n    return $results ? $results : false ;\n}\n}\n</code></pre>\n\n<p>If I call the function without using the limit parameter it works and displays all the posts. But if I call the function like this: get_all_posts($conn, \"1\"); Then I get this error:</p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1'' at line 1' in /Applications/MAMP/htdocs/sandbox/blog2/functions.php:19 Stack trace: #0 /Applications/MAMP/htdocs/sandbox/blog2/functions.php(19): PDOStatement->execute(Array) #1 /Applications/MAMP/htdocs/sandbox/blog2/index.php(12): get_all_posts(Object(PDO), '1') #2 {main} thrown in /Applications/MAMP/htdocs/sandbox/blog2/functions.php on line 19</p>\n</blockquote>\n\n<p>Can anyone show me where I've gone wrong?</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13260956,"title":"Rewriting included div from another included div","body":"<p>I have a code sniplet edited from a tutorial, for rewriting a div from a file.\nThe file using this code is in a separate php document,\nand I use <code>include</code> to show it in the main document.\n(Reason for that is that's I'm rewriting part in it with php code, so it needs to refresh).</p>\n\n<pre><code>$(document).ready(function() {\n    $('#pl').click(function(){  \n        var toLoad = $(this).attr('href');\n        $('#pfun').hide('slow',loadContent);\n        $('#load').remove();\n        $('#dplay').append('&lt;span id=\"load\"&gt;&lt;/span&gt;');\n        $('#load').fadeIn('normal');\n        function loadContent() {$('#dplay').load(toLoad,'',showNewContent())}\n        function showNewContent() {$('#pfun').show('slow',hideLoader());}\n        function hideLoader() {$('#load').fadeOut('normal');}\n        return false;\n    });\n});\n</code></pre>\n\n<p>Everything works ok, but I can't figure out how to do something new:\nI have 2 divs (this included) both on the same page, which I want to rewrite to from documents. I'm trying to use the other one as an IFrame of sorts.\n(There's a reason I'm not using an IFRAME)</p>\n\n<p>What I need to know, is where can I add to/change this,\nto target another DIV named \"display\"?\nI'm still learning JS, so don't know many functions, like when/where to do .parent.\nso I am going to need an example, please.</p>\n\n<p>Also, when I use chgdir() in php, to change the root to a subdirectory, it shows the new correctly when I echo getcwd. However, all the links on the page still link to and show images from the starting directory. Any ideas why it would successfully echo the new dir, but not change where the links point to, and where the images load from?</p>\n\n<p>Reminder: These functions are called from <code>include</code>d divs.</p>\n\n<p>Thanks for any insight on either of these!</p>\n"},{"tags":["php","javascript"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":65,"score":-3,"question_id":13260616,"title":"convert number from 12 to 12.00","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5648205/in-php-how-to-print-a-number-with-2-decimals-but-only-if-there-are-decimals-al\">In PHP, how to print a number with 2 decimals, but only if there are decimals already?</a>  </p>\n</blockquote>\n\n\n\n<p>Brothers I want to convert me any way I entered into a text field automatically turns\n12 to 12.00</p>\n\n<p>How possible work by php and javascript</p>\n\n<p>Thanks</p>\n"},{"tags":["php","query"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":7,"view_count":65,"score":-7,"question_id":13260741,"title":"Why doesn't this query return any results?","body":"<p>The query below returns nothing, and frankly I do not understand why. Any hint will be appreciated. Must be an error in the code</p>\n\n<pre><code>$query = sprintf(\"SELECT *, \n    unix_timestamp(StartDate) AS SD FROM %s AS a\n    FROM \" . AL_ARTICLES_TABLE . \" AS art\n    INNER JOIN \" . AL_USERS_TABLE . \" AS u ON art.AuthorID = u.UserID\n    WHERE a.Visible=1 AND a.Status=1  \n    AND a.IsFinished=1     LEFT JOIN \" . AL_CATASSOC_TABLE . \" \n    AS ca ON art.ArticleID = ca.ArticleID\n    INNER JOIN \" . AL_CATEGORIES_TABLE . \" \n    AS c ON ca.CategoryID = c.CategoryID \n    WHERE ca.CategoryID IN(%s) \n    AND art.Featured=1  \n    AND art.Visible=1 \n    AND c.inrecent=1  \n    AND art.Status=1  \n    AND unix_timestamp(a.StartDate) &lt;= unix_timestamp(now()) \n    AND (unix_timestamp(a.ExpiryDate) &gt;= unix_timestamp(now()) \n    OR a.EnableExpiry=0) %s  \n    ORDER BY StartDate DESC, ArticleID DESC %s\", \n    AL_ARTICLES_TABLE, AL_USERS_TABLE, AL_CATASSOC_TABLE, AL_CATEGORIES_TABLE, $podcastQuery, $limitArticles);\n</code></pre>\n"},{"tags":["php","symfony-1.4","fpdf","symfony-plugins"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13259545,"title":"no footer/header - extends class?","body":"<p>My /symfony/lib/fpdf/fpdf.php:</p>\n\n<pre><code>//Version: 1.7                                                                 *\n\ndefine('FPDF_VERSION','1.7');\n\nclass FPDF\n{\nvar $page;               // current page number\nvar $n; \n....\n</code></pre>\n\n<p>My /symfony/lib/fpdf/extends.php:</p>\n\n<pre><code>define('font/');\nrequire('fpdf.php');\n\nclass PDF extends FPDF {\n\n    //Page header\n        function Header() {\n            //Logo\n            $this-&gt;Image('logo_pb.png', 10, 8, 33);\n            //Arial bold 15\n            $this-&gt;SetFont('Arial', 'B', 15);\n            //Move to the right\n            $this-&gt;Cell(80);\n            //Title\n            $this-&gt;Cell(30, 10, 'Title', 1, 0, 'C');\n            //Line break\n            $this-&gt;Ln(20);\n        }\n\n    //Page footer\n        function Footer() {\n            //Position at 1.5 cm from bottom\n            $this-&gt;SetY(-15);\n            //Arial italic 8\n            $this-&gt;SetFont('Arial', 'I', 8);\n            //Page number\n            $this-&gt;Cell(0, 10, 'Page ' . $this-&gt;PageNo() . '/{nb}', 0, 0, 'C');\n        }\n\n    }\n</code></pre>\n\n<p>My action in some_module/action.class.php:</p>\n\n<pre><code>$pdf = new FPDF('P', 'cm', 'A4');\n$pdf-&gt;SetAutoPageBreak(true);\n\ndefine('EURO', chr(128));\n$pdf-&gt;AddPage();\n...//somecode what is workking\n$pdf-&gt;AddPage();\n</code></pre>\n\n<p>But there is no header or footer. What do I do wrong?       </p>\n"},{"tags":["php","stdout","stdin"],"answer_count":3,"favorite_count":9,"up_vote_count":10,"down_vote_count":1,"view_count":9844,"score":9,"question_id":937627,"title":"how to redirect STDOUT to a file in PHP?","body":"<p>The code below almost works, but it's not what I really meant:</p>\n\n<pre><code>ob_start();\necho 'xxx';\n$contents = ob_get_contents();\nob_end_clean();\nfile_put_contents($file,$contents);\n</code></pre>\n\n<p>Is there a more natural way?</p>\n"},{"tags":["php","session-variables","session-state","session-cookies"],"answer_count":9,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":99,"score":4,"question_id":12890360,"title":"How can I manage separate session states for two different websites on the same hosting using php","body":"<p>I am currently developing two web sites, and debugging them by connecting to <code>localhost</code>. </p>\n\n<p>The first site is referenced with <code>http://localhost/web1</code> and the second is referenced with  <code>http://localhost/web2</code>. </p>\n\n<p>I have created a login script for each in which three domain-specific session variables are set, e.g.:</p>\n\n<ol>\n<li><code>$_SESSION['web1_user']</code></li>\n<li><code>$_SESSION['web1_login']</code></li>\n<li><code>$_SESSION['web1_sessionID']</code></li>\n</ol>\n\n<p>However, when I log in to <strong>both</strong> sites on the <strong>same browser</strong>, then log out of <strong>one</strong> site (which fires <code>session_destroy()</code>, I am automatically logged out of the <strong>second</strong> site as well.</p>\n\n<p>Any ideas as to how I might resolve this problem would be very much appreciated. :(</p>\n"},{"tags":["php","javascript","forms","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13260584,"title":"Dynamically passing PHP variables","body":"<p>I'm trying to accomplish a JavaScript form that will load the result from a PHP request on an external website, after a text box is filled out.</p>\n\n<p>Right now, I have</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"/&gt;\nfunction sendrequest() {\ndocument.location=\"myphpsite.com/submit.php?tb=\"+document.getElementById(\"tb\").value;\n}\n&lt;/script&gt;\n&lt;form&gt;\n&lt;input type=\"text\" id=\"tb\" onChange=\"sendrequest()\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This code is going nowhere, because from my current knowledge, you can only load PHP variables on startup, by using \"script src=... \", and by having the php page return some javascript code.</p>\n\n<p>What I'm looking for is a way to request/receive php variables dynamically, something that would work like this:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\nfunction getdata() {\nreturn document.get(\"myphpsite.com/submit.php?tb=hi\");\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>In other words, is there a function that dynamically \"reads\" a website, and returns the raw text?</p>\n"},{"tags":["php","html-parsing"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":3866016,"title":"Checking up on a link exchange","body":"<p>I have made a link exchange with another site. 3 days later, the site has removed my link.</p>\n\n<p>Is there a simple php script to help me control link exchanges and notify me if my link has been removed?</p>\n\n<p>I need it as simple as possible, and not a whole ad. system manager.</p>\n"},{"tags":["php","html","apache",".htaccess","mamp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13260492,"title":"htaccess and php files - treating all files as php?","body":"<p>I have a website on localhost, latest MAMP build.\nThe subfolder is test2.</p>\n\n<p>This is its .htaccess:</p>\n\n<pre><code>DefaultType text/html\nDefaultType application/x-httpd-php\n</code></pre>\n\n<p>Is this the correct way to ensure files get treated as both HTML and PHP?</p>\n"},{"tags":["php","browser","download"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13255960,"title":".php pages download instead of opening in a browser","body":"<p>I've found lots of posts telling of how to force a browser to download a file instead of opening it, but I'm a bit confounded as to why my files, which are meant to open in a browser, are sent to download instead.</p>\n\n<p>These are .php pages, which worked perfectly under the previous URL.  They have been uploaded to the same server under a new URL, but I'm not sure what needs to be adjusted for them to open in a browser correctly.</p>\n"},{"tags":["php","arrays","multidimensional-array"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13259143,"title":"Making values unique in multidimensional array","body":"<p>I have some Problems reducing a multidimensional array into a normal one.</p>\n\n<p>I have an input array like this:</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array (\n        [0] =&gt; 17\n        [1] =&gt; 99\n    )\n[1] =&gt; Array (\n        [0] =&gt; 17\n        [1] =&gt; 121\n    )\n[2] =&gt; Array (\n        [0] =&gt; 99\n        [1] =&gt; 77\n    )\n[3] =&gt; Array (\n        [0] =&gt; 45\n        [1] =&gt; 51\n    )\n[4] =&gt; Array (\n        [0] =&gt; 45\n        [1] =&gt; 131\n    )\n</code></pre>\n\n<p>So I have a multidimensional array with some overlaps in the values (eg 17,99 and 17,121)\nNow I want to have an output like this:</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array (\n        [0] =&gt; 17\n        [1] =&gt; 99\n        [2] =&gt; 121\n        [3] =&gt; 77\n    )\n[2] =&gt; Array (\n        [0] =&gt; 45\n        [1] =&gt; 51\n        [3] =&gt; 131\n    )\n</code></pre>\n\n<p>I want to save, which articles are the same in my database this way. The output array shpuld still be a multidimesional array, but every number on the second level should be unique in the array.</p>\n\n<p>I'm trying to solve this for more than a week now, but I dont get it to work. I know it should be easy...but anyway - I dont get it :D</p>\n\n<p>This is what i got so far:</p>\n\n<pre><code>$parity_sorted = array();\n    foreach($arr as $key =&gt; $a){\n        if(count($parity_sorted) &gt; 0){\n        foreach($parity_sorted as $key2 =&gt; $arr_new){\n            if(in_array($a[0], $arr_new) || in_array($a[1], $arr_new)){\n                if(!in_array($a[0], $arr_new)){array_push($parity_sorted[$key2], $a[0]);}\n                if(!in_array($a[1], $arr_new)){array_push($parity_sorted[$key2], $a[1]);}\n            } else {\n                array_push($parity_sorted, array($a[0],$a[1]));\n            }\n        }\n        } else {\n            array_push($parity_sorted, array($a[0],$a[1]));\n        }\n\n    }\n</code></pre>\n\n<p>Did you maybe already solve problem like this or is there a much easier way? Maybe I just think too complicated (It's not my first try, but this code was the last try)</p>\n\n<p>Any help would be appreciated. Thanks a lot</p>\n"},{"tags":["php","zend-framework","date","age"],"answer_count":7,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1055,"score":1,"question_id":6974131,"title":"How to calculate age from date with Zend_Date","body":"<p>How can I calculate age from born date using Zend_Date object?</p>\n"},{"tags":["php","regex"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13260202,"title":"php regular expression for dictionary string","body":"<p>I could use some help writing a regular expression for this dictionary string (I don't use them all that often).</p>\n\n<p>This is an example of the string dictionary:</p>\n\n<pre><code>O:8:\"stdClass\":5:{s:4:\"sent\";i:0;s:6:\"graded\";i:0;s:5:\"score\";i:0;s:6:\"answer\";s:14:\"&lt;p&gt;Johnson&lt;/p&gt;\";s:8:\"response\";s:0:\"\";}\n</code></pre>\n\n<p>I want to extract Johnson from the string dictionary.  </p>\n\n<p>Any help would be appreciated, thanks.</p>\n"},{"tags":["php","python"],"answer_count":6,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":545,"score":2,"question_id":3452107,"title":"Programming language for simple dynamic web site development?","body":"<p>I only know the basics of HTML/CSS. The only experience with web development I have is whatever I learned in Web Development 101 at my university, aka \"OMG - CSS u guise, 101\". </p>\n\n<p>I'm mainly interested in building simple dynamic sites. That's the whole reason I got into this in the first place. I'm at the point now where I realize that it's not enough to only know HTML and CSS.</p>\n\n<p>I realize that I'm going to have to go through a learning curve no matter what programming language I choose to learn, so I figure I should learn something that will be most the beneficial in the long run. I'm all about putting in the sweat equity now to build a better future. PHP seems like the easy and obvious first choice, but I keep reading over and over and over again how people have switched from PHP to Python and never been happier. Or how you should skip PHP altogether and just learn Python or Perl.</p>\n\n<p>But I don't understand why that is!</p>\n\n<p>I keep looping back to thinking \"F___ it, I just need to learn PHP so I can be a WordPress ninja.\" But then I do some more reading, and I walk away feeling like PHP is more of a 'temporary fix' language, and that the REAL languages are Python/Perl/Ruby. But I'm very split because I really don't need to do anything complicated. I just need to build basic 50-page web sites with some database interactivity.</p>\n\n<p>Do you have any advice? What would you learn if you were in my spot??</p>\n"},{"tags":["php","google-maps-markers"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":34,"score":1,"question_id":13250171,"title":"Get google map when click on an address","body":"<p>I want to place google map in my PHP project.. Is it possible to get google map while click on an addresss?? My requirement is \"when clicking on the address it will open in maps\" Is it possible in PHP?? Anybody please help..</p>\n"},{"tags":["php","regex","string"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":13245183,"title":"How to extract an array from a string that contains a numbered list?","body":"<p>Using PHP, I am looking to extract an array from a string that contains a numbered list.</p>\n\n<p>Example string:</p>\n\n<pre><code>The main points are: 1. This is point one. 2. This is point two. 3. This is point three.\n</code></pre>\n\n<p>would result in the following array:</p>\n\n<pre><code>[0] =&gt; 1. This is point one.\n[1] =&gt; 2. This is point two.\n[2] =&gt; 3. This is point three.\n</code></pre>\n\n<p>The format of the string can vary - e.g.:</p>\n\n<pre><code>1. This is point one, 2. This is point two, 3. This is point three.\n1) This is point one  2) This is point two 3) This is point three\n1 This is point one. 2 This is point two. 3 This is point three.\n</code></pre>\n\n<p>I have started using <strong>preg_match_all</strong> with the following pattern:</p>\n\n<pre><code>!((\\d+)(\\s+)?(\\.?)(\\)?)(-?)(\\s+?)(\\w+))!\n</code></pre>\n\n<p>but I am unsure as how to match rest of string/up to the next match.</p>\n\n<p>Example available at <a href=\"http://regexr.com?32n9c\" rel=\"nofollow\">RegExr</a></p>\n"},{"tags":["php",".htaccess","rewrite"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":950,"score":2,"question_id":5437019,"title":"htaccess rewrite if redirected file exists","body":"<p>The problem: Some html pages of php equivalents (apple.html, apple.php; orange.html, orange.php), but not all do (grapes.html).</p>\n\n<p>The goal: If the php version exists, rewrite, otherwise keep it the html version.</p>\n\n<p>I have:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteRule ^(.*)\\.html$ /$1.php [R]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)\\.php$ /$1.html [R]\n</code></pre>\n\n<p>Interesting issues:</p>\n\n<p>If I don't put / in front of $1.php then I end up with: site.com/document/root/path (ie: site.com/home/user/www/file.php)</p>\n\n<p>When calling the second RewriteRule, I get <a href=\"http://site.com/http:/site.com/page.html\" rel=\"nofollow\">http://site.com/http:/site.com/page.html</a> and it tells me there were too many redirects. Notice how there is only one / in the second http.</p>\n\n<p>I've made some progress, I added RewriteBase / and removed the / before the $1, but I still get the too many redirects error (the web page at site.com/page.html has resulted in too many redirects. Clearing your cookies for this site or allowing third-party cookies may fix the problem. If not, it is possibly a server configuration issue and not a problem with your computer).</p>\n\n<p>It seems like if I just rewrite html -> php -> html I get the same error. So it looks like the logic is working, but that sort of logic isn't allowed. I can't think of any other way I could see if a \"php version\" of a file exists? The only way I can think of is do something similar to:</p>\n\n<pre><code>RewriteCond ^(.*)\\.html$ $1.php -f\nRewriteRule ^(.*)\\.html$ $1.php [R]\n</code></pre>\n\n<p>Unfortunately that doesn't quite work (I'm guessing because it has three segments on the condition line). I'm trying to get the filename without the extension, then say if filename.php is a file, rewrite page.html to page.php</p>\n"},{"tags":["php","javascript","wordpress","plugins","tinymce"],"answer_count":8,"favorite_count":8,"up_vote_count":14,"down_vote_count":0,"view_count":9289,"score":14,"question_id":2855890,"title":"Call TinyMCE in a WordPress plugin","body":"<p>Is there a way to add TinyMCE into my own WordPress plugin?</p>\n\n<p>I have a textarea in my back end script and want to make this area into a TinyMCE WYSIWYG editable field. Is there a way to do that?</p>\n\n<p><img src=\"http://dl.getdropbox.com/u/6357394/wysiwyg.jpg\" alt=\"wysiwyg demonstration screenshot\"></p>\n\n<p>This code does not work for me:</p>\n\n<pre><code>&lt;?php\n    wp_tiny_mce(false,array(\"editor_selector\" =&gt; \"test\"));\n?&gt;\n&lt;textarea class=\"test\" id=\"test\" name=\"test\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>It shows the javascript error</p>\n\n<pre><code>f is undefined\n</code></pre>\n\n<p>Firebug screenshot:\n<img src=\"http://dl.getdropbox.com/u/6357394/mceeror.png\" alt=\"TinyMCE error\"></p>\n\n<p>This didn't work either:</p>\n\n<pre><code>&lt;textarea class=\"theEditor\" id=\"videogalerie-add_description\" name=\"videogalerie-add_description\"&gt;&lt;/textarea&gt;\n</code></pre>\n"},{"tags":["php","installation","environment","duplication"],"answer_count":4,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":81,"score":7,"question_id":13259727,"title":"How to duplicate a PHP-based website?","body":"<p><strong>Background:</strong></p>\n\n<p>I'm new to PHP, but I've been asked to make some code changes to support an application hosted on our Intranet. The actual code changes don't look too bad.  However, there is currently no development environment, so I have undertaken to create a duplicate server to develop and test my changes. </p>\n\n<p>At this point, and not being well-versed in PHP, it looks like I may have to reverse engineer all the Apache HTTPD and PHP configuration settings/options/packages on the production machine unless I can strategically copy the existing production environment to the development machine.  </p>\n\n<p><strong>My questions:</strong> </p>\n\n<ol>\n<li>Is it possible to do that?  i.e. to FTP certain directories in the Apache/PHP installation over to replicate the original environment?  If so, which directories?  One complication may be that the original environment is SUSE Linux and the development machine is CentOS.  Other than that, I have installed the matching HTTPD and PHP versions on the dev machine.</li>\n<li>If this isn't wise/possible, how should I go about duplicating the environment?  What areas should I check?</li>\n</ol>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","magento","cart","magento-admin","magento-1.7"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12105983,"title":"Shopping cart items not showing in customer view","body":"<p>Running Magento 1.7.2.</p>\n\n<p>When inside the customer view in the administrator it shows 1 item in the customers cart but not the details. Iâve attached a screen shot. Does anyone know what the issue could be or can you verify that itâs working properly so I know itâs my installation?</p>\n\n<p>Thanks.</p>\n\n<p><strong><a href=\"http://www.whitesharkcreations.com/magento_bug.jpg\" rel=\"nofollow\">View Screenshot Here</a></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/zGbT3.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["php","javascript","jquery","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":91,"score":-2,"question_id":13260102,"title":"$.get() Javascript","body":"<p>its my first try to do something with jquery/Ajax/php/webtech and I'm really stuck.</p>\n\n<p>I'm trying to  use a get() Jquery to execute a php script to do some sql things. I need to pass two variables to the php file. This isn't working, and I can't find the problem..</p>\n\n<pre><code>&lt;body&gt;\n&lt;script&gt;\nfunction addBeer (name,price)\n{\n$.get(\"beer.php\", { n: name, p:price });\nwindow.alert(link);\n} \n&lt;/script&gt;\n&lt;h1&gt;OG297 BIERLIJST&lt;/h1&gt;\n&lt;?php\n$price = 0.30;\n$con = mysql_connect('localhost', 'root', 'root');\nif (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n\nmysql_select_db(\"Og297.Drinkers\", $con);\n\n$result = mysql_query(\"SELECT * FROM Og297.Drinkers\");\n\n\nwhile($row = mysql_fetch_array($result)){\n$picture = $row['Picture'];\n$name = $row['Name'];\necho \"&lt;div onclick= \\\"addBeer('$name','$price')\\\" class= 'thumbnail'&gt;&lt;img src= $picture                   height= '90' width= '90' alt= $name title= $name&gt;&lt;div class= 'overlay'&gt;&lt;/div&gt;&lt;/div&gt;\";}\n\nmysql_close($con);\n?&gt;\n</code></pre>\n\n<p>\nThe function that uses the $.get is addBeer and is called in the div.</p>\n\n<p>This is my php file:</p>\n\n<pre><code>&lt;?php\n\n   $name = $_GET[\"n\"];\n   $price =$_GET[\"p\"];\n$con = mysql_connect('localhost', 'root', 'root');\nif (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n\nmysql_select_db(\"Og297.Bierlijst\", $con);\nmysql_query(\"INSERT INTO  `Og297`.`Bierlijst` (\n`Id` ,\n`Name` ,\n`Prijs` ,\n`Betaald` ,\n`Time`\n)\nVALUES (\nNULL ,  '$name',  '$price',  '0', \nCURRENT_TIMESTAMP\n);\");\nmysql_close($con);\n\n\n?&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","sql","cookies","registration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13259966,"title":"Create a random, sequenced id based on cookie session?","body":"<p>I have a user sign up or registration form to allow guests to my site become registered members. The form consists of first name, last name, email etc, the action goes to process_reg.php on submit.</p>\n\n<p>The information is then inserted into an sql table 'ptb_registrations'. but it doesn't work yet because i am trying to randomly generate a new user id with the form from a cookie session. I'm not sure if what i'm doing is right. can people please correct me where I'm wrong or point me in the right direction. Thanks.</p>\n\n<p>here's my script for process_reg.php:</p>\n\n<pre><code>&lt;?php\nrequire_once(\"session.php\"); \nrequire_once(\"functions.php\");\nrequire('_config/connection.php');\n?&gt;\n&lt;?php \n\nsession_start();\n\ninclude '_config/connection.php'; \n\n\nfunction get_user_id() {\n    global $connection;\n    global $email;\n    $query = \"SELECT *\n                FROM ptb_registrations\n                WHERE email = \\\"$email\\\"\n                \";\n        $user_id_set = mysql_query($query, $connection);\n        confirm_query($user_id_set);\n        return $user_id_set;\n        }\n?&gt;\n&lt;?php\n$user_id_set = get_user_id();\nwhile ($user_id = mysql_fetch_array($user_id_set)) {\n    $cookie1 = \"{$user_id[\"id\"]}\";\n    setcookie(\"ptb_registrations\", $cookie1, time()+3600);  /* expire in 1 hour */\n\n}\n?&gt;\n&lt;?\n\n$first_name = $_POST['first_name'];\n$last_name = $_POST['last_name'];\n$email = $_POST['email'];\n$display_name = $_POST['display_name'];\n$date_of_birth = $_POST['date_of_birth'];\n$contact_number = $_POST['contact_number'];\n$station = $_POST['station'];\n$hobbies = $_POST['hobbies'];\n$gender = $_POST['gender'];\n$password = $_POST['password'];\n\n\n\n\n\n\n\n\n$result = mysql_query(\"SELECT first_name FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT last_name FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT display_name FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT email FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT contact_number FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT date_of_birth FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT hobbies FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT station FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT gender FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n$result = mysql_query(\"SELECT password FROM ptb_registrations WHERE id=\".$cookie1['user_id'].\"\");\n\n\n\n\n\n\nif(!$result) \n{ \necho \"The username you entered does not exist\"; \n} \nelse \nif($email!= mysql_result($result, 0)) \n{ \necho \"\"; \n\n\n    $sql=mysql_query(\"INSERT ptb_registrations SET first_name='$first_name' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET last_name='$last_name' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET display_name='$display_name' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET email='$email' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET contact_number='$contact_number' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET date_of_birth='$date_of_birth' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET hobbies='$hobbies' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET station='$station' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET gender='$gender' WHERE id=\".$cookie1['user_id'].\"\"); \n    $sql=mysql_query(\"INSERT ptb_registrations SET password='$password' WHERE id=\".$cookie1['user_id'].\"\"); \n\n\n}\n    if($sql) \n    { \n    echo \"&lt;div class=\\\"infobox-profile\\\"&gt; &lt;strong&gt;Thank You&lt;/strong&gt; - We have received your registration details.&lt;/div&gt;\"; \n    }\nelse\n{ \necho \"&lt;div class=\\\"infobox-profile\\\"&gt; &lt;strong&gt;Oooops!&lt;/strong&gt; - Something went wrong. &lt;a href=\\\"../edit_contact_number.php\\\"&gt;Click here&lt;/a&gt; to try again.&lt;/div&gt;\"; \n}  \n?&gt;\n&lt;? ob_flush(); ?&gt;\n\n&lt;style&gt;\n.infobox-profile {\n    background-color: #e1e0f7;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 14px;\n    color: #181469;\n    padding-top: 20px;\n    padding-right: 10px;\n    padding-bottom: 20px;\n    padding-left: 70px;\n    margin-bottom: 20px;\n    background-image: url(../img/icons/info-icon.png);\n    background-repeat: no-repeat;\n    background-position: 15px center;\n    border-top-width: 1px;\n    border-top-style: solid;\n    border-top-color: #8f8fdb;\n    border-right-width: 1px;\n    border-bottom-width: 1px;\n    border-left-width: 1px;\n    border-right-style: solid;\n    border-bottom-style: solid;\n    border-left-style: solid;\n    border-right-color: #8f8fdb;\n    border-bottom-color: #8f8fdb;\n    border-left-color: #8f8fdb;\n    border-radius: 4px;\n    width: 385px;\n    margin-left:8px;\n}\n&lt;/style&gt;\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13256782,"title":"How can I have dropdown box with the list and inserted value as default for UPDATE In PHP.?","body":"<p>First I would like to update the records.\nI created dropdown box which has values from mySQL FROM SELECT statemet it's working fine with one previously selected database entry. \nbut what I would like to have another values for the modification wich i have in another table.</p>\n\n<p><strong>DROP DOWN FOR THE UPDATE from order table value.</strong></p>\n\n<pre><code>    echo '&lt;div class = \"MediaType\" &gt;'; //Start class Media Type\n    echo '&lt;strong&gt;&lt;label for=\"rate\"&gt;Media Type&lt;/label&gt;&lt;/strong&gt;';\n    echo '&lt;br/&gt;&lt;br/&gt;' ;\n\n        $sql = \"SELECT `media_type` FROM `order` where `po_number` = '\".$ponumber.\"'\";\n        $result = mysql_query($sql);\n\n        while ($row = mysql_fetch_array($result)) \n            {\n                echo \"&lt;select class='dropdownsize' name='media_type[]' tabindex='$k'&gt;\";\n\n                echo \"&lt;option value='\" . $row['media_type'] . \"'&gt;\" . $row['media_type'] . \"&lt;/option&gt;\";\n                echo '&lt;/select&gt;';\n                echo '&lt;br/&gt;';\n            }\n\necho '&lt;/div&gt;'; //End Class Media Type\n</code></pre>\n\n<p>It's give me value \"ONLINE\" in dropdown which I selected and Inserted during the Insert process.</p>\n\n<p><strong>DROP DOWN FOR INSERT Page from media_type table</strong></p>\n\n<pre><code>echo '&lt;div class = \"MediaType\" &gt;'; //Start class Media Type\n    echo '&lt;strong&gt;&lt;label for=\"rate\"&gt;Media Type&lt;/label&gt;&lt;/strong&gt;';\n    echo '&lt;br/&gt;&lt;br/&gt;' ;\n\n        //for loop for dropdown from user index//\n        for($k=1;$k&lt;=$textboxindex;$k++)\n        {\n        $sql = \"SELECT media_type FROM media_type\";\n        $result = mysql_query($sql);\n            echo \"&lt;select class='dropdownsize' name='media_type[]' tabindex='$k'&gt;\";\n            while ($row = mysql_fetch_array($result)) \n            {\n                echo \"&lt;option value='\" . $row['media_type'] . \"'&gt;\" . $row['media_type'] . \"&lt;/option&gt;\";\n            }\n            echo '&lt;/select&gt;';\n            echo '&lt;br/&gt;';\n        }\necho '&lt;/div&gt;'; //End Class Media Type\n</code></pre>\n\n<p>table name = \"media_type\"\nvalues = \"TV\",\"ONLINE\",\"Roller\",Banner\",\"Roll Over\"</p>\n\n<p>I want to have this \"media_type\" values in my update drop box as same as the insert dropbox so enduser can modify entry with media_type values as Insert. but when it's display 1st time then default values of dropbox should be same as previous entered data.</p>\n\n<p>sorry my question is confusing.\nWhat is the best way to doing.?\nAny help will be appreciate.\nthank You </p>\n"},{"tags":["php","iis6"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3096,"score":0,"question_id":5878776,"title":"Running PHP in IIS6","body":"<p>i am using IIS to run my php website and i configure IIS to work with php as its explained the following tutorial</p>\n\n<p><a href=\"http://www.wikihow.com/Install-PHP-5-for-IIS-6\" rel=\"nofollow\">http://www.wikihow.com/Install-PHP-5-for-IIS-6</a></p>\n\n<p>but when i run any php page is give me the following error</p>\n\n<p>You have attempted to execute a CGI, ISAPI, or other executable program from a directory that does not allow programs to be executed. </p>\n\n<p>i follow this <a href=\"http://serverfault.com/questions/251499/error-when-installing-php5-on-iis6/252149#252149\">http://serverfault.com/questions/251499/error-when-installing-php5-on-iis6/252149#252149</a></p>\n\n<p>now i am getting the following error message</p>\n\n<p>FastCGI Error</p>\n\n<h2>The FastCGI Handler was unable to process the request.</h2>\n\n<p>Error Details:</p>\n\n<p>Could not find entry for \"php\" on site 67761686 in [Types] section. \nError Number: 1413 (0x80070585). \nError Description: Invalid index. \nHTTP Error 500 - Server Error.\nInternet Information Services (IIS) </p>\n\n<p>here is my updated fcgiext.ini</p>\n\n<pre><code>[Types]\nphp=PHP\n\n[PHP]\nExePath=C:\\PHP\\php-cgi.exe\n</code></pre>\n\n<p>now i am getting this error message</p>\n\n<pre><code>The FastCGI Handler was unable to process the request. \n--------------------------------------------------------------------------------\n\nError Details:\n\nThe FastCGI process exceeded configured request timeout \nError Number: 258 (0x80070102). \nError Description: The wait operation timed out. \n</code></pre>\n"},{"tags":["php","javascript","swig"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":64,"score":-1,"question_id":13259926,"title":"Script engine for PHP?","body":"<p>The actual goal is pass a some script (preferably JS) to Php from remote. Its possible that I am totally mistaken by this approach, so please feel welcome to correct me. </p>\n\n<p>The method however isn't new of course. There are plenty languages for C for instance but the same doesn't seem to apply to PHP. Of course, its already a script language.  As is the most supported language in hosting services, I thought I get around a PHP implementation of my software by using similar techniques as in C. </p>\n\n<p>And yes, I used Google but there isn't much to get on that. </p>\n\n<p>I don't mind to put some bigger work in this.</p>\n\n<p>References : <a href=\"http://stackoverflow.com/questions/4435656/embedded-javascript-interpreter-for-php\">Embedded Javascript interpreter for php</a>. Which would be something at least.</p>\n\n<p>Update : I am interested in all solutions, not just JS. Sorry for the wrong text. And of course, it must work with any standard hosting. </p>\n"},{"tags":["php","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":31,"score":-2,"question_id":13259849,"title":"PHP Regex to Match This:","body":"<pre><code>[foreach:regex]\n    [r_hello]\n[/foreach]\n</code></pre>\n\n<p>Trying to match the above: <code>regex</code> (word between <code>:</code> and <code>]</code>) will be <code>$1</code> and anything between <code>[foreach:regex]</code> and <code>[/foreach]</code> will be <code>$2</code>.</p>\n\n<p>So far I have this: <code>/\\[foreach:(.*)\\](.*)\\[\\/foreach\\]/s</code></p>\n\n<p>But I'm getting this error: <code>Notice: Undefined index: regex] [r_hello</code></p>\n"},{"tags":["php","email","registration","email-validation","disposable"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":352,"score":1,"question_id":10976706,"title":"How to Block Disposable Email Addresses in your website's registration form?","body":"<p>Please, i would like to know of the possible ways to block disposable email addresses from registering in my website. </p>\n\n<p>For simplicity, let's take the example where the registration form of the website is done with HTML and PHP.</p>\n\n<p>Any ideas, solutions or suggestions would be greatly appreciated.</p>\n"},{"tags":["php","mysql","sql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13258893,"title":"MySql - Joining another table with multiple rows, inserting a query into a another query?","body":"<p>I've been racking my brain for hours trying work out how to join these two queries..</p>\n\n<p>My goal is to return multiple venue rows (from venues) based on certain criteria... which is what my current query does....</p>\n\n<pre><code>SELECT venues.id AS ven_id, \n   venues.venue_name, \n   venues.sub_category_id, \n   venues.score, \n   venues.lat, \n   venues.lng, \n   venues.short_description, \n   sub_categories.id, \n   sub_categories.sub_cat_name, \n   sub_categories.category_id, \n   categories.id, \n   categories.category_name, \n   ((ACOS(  SIN(51.44*PI()/180)*SIN(lat*PI()/180) + COS(51.44*PI()/180)*COS(lat*PI()/180)*COS((-2.60796 - lng)*PI()/180)) * 180/PI())*60 * 1.1515) AS dist\n\nFROM venues, \n  sub_categories, \n  categories \nWHERE \n  venues.sub_category_id = sub_categories.id \n  AND sub_categories.category_id = categories.id \nHAVING \n  dist &lt; 5 \nORDER BY score DESC \nLIMIT 0, 100\n</code></pre>\n\n<p>However, I need to include another field in this query (thumbnail), which comes from another table (venue_images). The idea is to extract one image row based on which venue it's related to and it's order. Only one image needs to be extracted however. So LIMIT 1.</p>\n\n<p>I basically need to insert this query:</p>\n\n<pre><code>SELECT \n  venue_images.thumb_image_filename, \n  venue_images.image_venue_id,  \n  venue_images.image_order \nFROM venue_images \nWHERE venue_images.image_venue_id = ven_id //id from above query\nORDER BY venue_images.image_order \nLIMIT 1\n</code></pre>\n\n<p>Into my first query, and label this new field as \"thumbnail\".</p>\n\n<p>Any help would really be appreciated. Thanks!</p>\n"},{"tags":["php","c++"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":32,"score":-2,"question_id":13257992,"title":"How can I inform a C++ application with JSON data when an event occurs in my PHP?","body":"<p>Basically, I want to inform a C++ application (a game application) when an event occurs in my PHP page.</p>\n\n<p>Below is an example:</p>\n\n<ul>\n<li>User logs in to website and purchases something.</li>\n<li>PHP validates this transaction and returns a JSON/XML object to C++ application.</li>\n<li>C++ application receives transactionID and gives user the item he bought. </li>\n</ul>\n\n<p>Right now I do this in a bad way. PHP writes to database, C++ application constantly reads the database, causing a performance loss.</p>\n\n<p>How can I archieve this?</p>\n"},{"tags":["php","symfony2","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":45,"score":-2,"question_id":13258169,"title":"Where do Model classes go in symfony2","body":"<p>I am new to Symfony2. Coming from Zend background, I do not see any folder for Models. How do Models and Controllers communicate?</p>\n\n<p>What if I do not want to use Doctrine. Even if I use Doctrine, where will the Models live and how can they communicate with controllers?</p>\n\n<p>Symfony website has some good documentation about symfony2, but it is not on par with the documentation I noticed for symfony1.X .The official documentation does not have what namespaces should be added when using different doctrine methods.\nThanks for the community in advance for the tips.</p>\n"},{"tags":["php","youtube","youtube-api"],"answer_count":4,"favorite_count":129,"up_vote_count":173,"down_vote_count":0,"view_count":97348,"score":173,"question_id":2068344,"title":"How to get thumbnail of YouTube video link using YouTube API?","body":"<p>I want to pass a YouTube URL to maybe YouTube's API and get the video thumbnail using PHP &amp; curl? Is that possible?</p>\n"},{"tags":["php","windows","nginx"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12487147,"title":"php-cgi.exe quits after exactly 500 hits","body":"<p>For the life of me, I can't figure this out.</p>\n\n<p>This is my development machine setup:</p>\n\n<p>Windows 7 Home Premium 64 bit,<br>\nWebserver: NGINX 1.3.6 c:\\users\\user_name\\devel\\nginx<br>\nPHP: 5.4.7 c:\\users\\user_name\\devel\\nginx\\php5</p>\n\n<p>Everything works fine except that after exactly 500 hits, my php-cgi.exe quits unexpectedly.  No error logs, no events, nothing.  It just dies after 500 hits...EVERY SINGLE TIME.  I haven't found a single source of information online to help me on this. All the configuration seems valid and good.  This is happening on two different machines (my development desktop and my notebook).  I've tried different nginx.conf and php.ini files...still the same.</p>\n\n<p>I just need to get a better idea on how to go about debugging this.  Any suggestions?</p>\n"},{"tags":["php","mysql","fullcalendar"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":481,"score":0,"question_id":4538492,"title":"Viewing events in FullCalendar ordered by event ID instead of start timestamp","body":"<p>I have a calendar set up and when viewing the month view I want to display the events which have been created by their ID and not the time they are due to start.</p>\n\n<p>Is this possible? And if so, how would I go about changing the code to display the events in this manner?</p>\n"},{"tags":["php","drupal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13242402,"title":"Database Query during Dynamic Drupal node creation to get Entity ID","body":"<p>I have a script which grabs the latest image from our surf webcam, it saves a node of type Photos. In that content type i have an entity field which references the swell size (content type swell_data). I can add a static entity id no problem:</p>\n\n<pre><code>// Reference Swell Data ID 176821 \n$node-&gt;field_buoy_ref[$node-&gt;language][0]['target_id'] = 176821;\n</code></pre>\n\n<p>How would I dynamically find the latest node created by the swell_data content type (added hourly using a CRON job) and use that value instead? For your reference this is the current script i am using (thanks to <a href=\"http://fooninja.net/2011/04/13/guide-to-programmatic-node-creation-in-drupal-7/\" rel=\"nofollow\">FooNinja</a>)</p>\n\n<pre><code>define('DRUPAL_ROOT', getcwd());\nrequire_once 'includes/bootstrap.inc';\ndrupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);\n\n$bodytext = \"This was the view from the Camera at \".date('gA').\" on \".date('l F jS Y');\n\n$node = new stdClass(); // Create a new node object\n$node-&gt;type = \"photos\"; // Or page, or whatever content type you like\nnode_object_prepare($node); \n\n$node-&gt;title = \"Caswell Camera \". date('D M j G:i');\n$node-&gt;language = LANGUAGE_NONE; \n\n// Author\n$node-&gt;name = \"Gower Live\"; // UID of the author of the node; or use $node-&gt;name\n// Publish Node\n$node-&gt;status = 1;\n//Set Body Text\n$node-&gt;body[$node-&gt;language][0]['value']   = $bodytext;\n$node-&gt;body[$node-&gt;language][0]['summary'] = text_summary($bodytext);\n$node-&gt;body[$node-&gt;language][0]['format']  = 'filtered_html';\n\n//Set Image Location (Caswell)\n$node-&gt;field_photo_location[$node-&gt;language][0]['lat'] = 51.570195982718374;\n$node-&gt;field_photo_location[$node-&gt;language][0]['lng'] = -4.030849980797484;\n\n// Set the Photos date\n$node-&gt;field_image_date[$node-&gt;language][0]['value'] = date(\"Y-m-d H:i:s\");\n\n// From the Webcam\n$node-&gt;field_webcam_photo[$node-&gt;language][0]['value'] = \"Caswell\";\n\n// Reference Wave Buoy\n$node-&gt;field_buoy_ref[$node-&gt;language][0]['target_id'] = 176821; // I'd this value dynamically pulled from the DB\n\n// Attach Latest Webcam Image\n$file_path = drupal_realpath('images/webcams/caswell-webcam.jpg');\n$file = (object) array(\n            'uid' =&gt; 1,\n            'uri' =&gt; $file_path,\n            'filemime' =&gt; file_get_mimetype($file_path),\n            'status' =&gt; 1,\n);\n// You can specify a subdirectory, e.g. public://foo/\n$file = file_copy($file, 'public://');\n$node-&gt;field_user_photo[$node-&gt;language][0] = (array) $file;\n\n$path = 'node_created_on' . date('YmdHis');\n$node-&gt;path = array('alias' =&gt; $path);\n\nif($node = node_submit($node)) { // Prepare node for saving\n    node_save($node);\n    echo \"Node with nid \" . $node-&gt;nid . \" saved!\\n\";\n}\n</code></pre>\n\n<p>thanks</p>\n\n<p>Lee</p>\n"},{"tags":["php","mysql","file","variables"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13259766,"title":"How MySql can retrieve and display photos with PHP","body":"<p>I have a PHP site where I have uploaded 10 pictures locally. The pictures are saved in the <code>./images</code> folder and also resampled to a <code>./thumbnails</code> folder. I use this query to extract 7 photo file names from the database.</p>\n\n<pre><code>$imgQuery = \"SELECT FileName, Title, Description FROM PICTURE WHERE OwnerID='$id' LIMIT 0,7\";\n</code></pre>\n\n<p>The database saves <code>PictureID</code>(PK), <code>OwnerID</code>(UNQ, my id is 2), <code>FileName</code>(stores the file name) and <code>Title</code> for the picture and <code>Description</code> for the picture. I use this method of transferring 7 photo filenames, title and description to an array. But how can I extract them from my <code>./thumbnails</code> folder and display them on my PHP page?</p>\n\n<pre><code>if($imgResult = mysqli_query($link, $imgQuery))\n{\n while($imgRow = mysqli_fetch_row($imgResult))\n {\n\n    $filename[] = $imgRow[0];\n    $title[] = $imgRow[1];\n    $description[] = $imgRow[2];\n }\n}\n</code></pre>\n\n<p>Here is where I am displaying the thumbnails <code>t1</code> in the body. I would like to know how can assign the files retrieved by my database to these variables. The description changes based on which name i</p>\n\n<pre><code>$num = count($filename);\nwhile($i &lt; $num)\n{\n$i = 0;\nprint &lt;&lt;&lt;photo\n&lt;body&gt;\n&lt;form action='MyAlbum.php' method='post'&gt;\n    &lt;table&gt;\n        &lt;tr&gt;&lt;td colspan='7' &gt;&lt;h2 align='center'&gt;&lt;?php echo $name;?&gt;'s Album&lt;/h2&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;&lt;td colspan='7' &gt;&lt;?php echo $title[$i];?&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;&lt;td colspan='5' &gt;&lt;?php echo $filename[$i]; ?&gt;&lt;/td&gt;&lt;td colspan='2'&gt;&lt;?php echo $description[$i];?&gt; &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;?php  echo $filename[0];?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php  echo $filename[1];?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php echo $filename[2];?&gt;&lt;/td&gt; \n            &lt;td&gt;&lt;?php echo $filename[3]; ?&gt;&lt;/td&gt;&lt;td&gt;&lt;?php echo $filename[4]; ?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php echo $filename[5]; ?&gt;&lt;/td&gt; \n            &lt;td&gt;&lt;?php echo $filename[6]; ?&gt;&lt;/td&gt; \n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n$i++;\n&lt;/body&gt;\n&lt;/html&gt;\n\nphoto;\n }\n</code></pre>\n"},{"tags":["php","osx","vmware","development-environment","mamp"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":15,"score":0,"question_id":13259831,"title":"Trying to Set-up MAMP with VMWare","body":"<p>I am trying to set-up my local dev environment, and I am having difficulty with MAMP and VMWare. I have followed numerous guides: </p>\n\n<ul>\n<li><a href=\"http://net.tutsplus.com/tutorials/wordpress/how-to-set-up-a-killer-wordpress-testing-environment-locally/\" rel=\"nofollow\">http://net.tutsplus.com/tutorials/wordpress/how-to-set-up-a-killer-wordpress-testing-environment-locally/</a></li>\n<li><a href=\"http://radarearth.com/content/access-macintosh-mamp-server-vmware-virtual-machine\" rel=\"nofollow\">http://radarearth.com/content/access-macintosh-mamp-server-vmware-virtual-machine</a></li>\n</ul>\n\n<p>are just a couple.</p>\n\n<p>My current setup is Mountain Lion with MAMP Pro and VMWare Fusion 5 with Windows 8.\nHas anyone been able to successfully make this work. \nThanks</p>\n"},{"tags":["php","arrays","array-sorting","asort"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13259089,"title":"How to sort an array with one exception in PHP","body":"<p>Let's say I have an array called $array that looks like this once I run asort on it:</p>\n\n<pre><code>Array\n(\n    [1] =&gt; Apples\n    [2] =&gt; Bananas\n    [3] =&gt; Cherries\n    [4] =&gt; Donuts\n    [5] =&gt; Eclairs\n    [6] =&gt; Fried_Chicken\n)\n</code></pre>\n\n<p>What is the simplest way to make it so that, after sorting alphabetically, the key that has the value \"Donuts\" is removed and then put at the end?</p>\n"},{"tags":["php","string","object"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13259754,"title":"PHP converting object to string","body":"<p>I'm planning to save a returned object to a file, for downloading later on to review.\nFor clarity sake, I'm working with an outside API service, and gathering their data, for parsing into another database.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>&lt;?php\nrequire('class.php');\n$client = new connect2Them();\n$logged_in = $client-&gt;login();\nif(!$logged_in){\n  echo \"Not connected!\"; die();\n}\n\n$records = $client-&gt;get_records();\nif(count($records &lt; 1){\n  echo \"No records found\"; die();\n}\n\n$singlerecord = $records[0];\nprint_r($singlerecord);\n\n?&gt;\n</code></pre>\n\n<p>The print_r() works fine, and I get back a very very large amount of data.  I'm doing all this via command-line, so I want to save it to a text file.</p>\n\n<p>I've added this below my $singlerecord:</p>\n\n<pre><code>&lt;?php\n$myFile = \"reviewLater.txt\";\n$fh = fopen($myFile, 'w') or die(\"can't open file\");\n$stringData = $singlerecord;\nfwrite($fh, $stringData);\nfclose($fh);\n\n?&gt;\n</code></pre>\n\n<p>I get this error from PHP:\n<strong>PHP Warning:  fwrite() expects parameter 2 to be string, object given in....</strong></p>\n\n<p>How do I put the print_r() into the reviewLater.txt?</p>\n"},{"tags":["php","javascript","jquery","ajax","jqgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13259003,"title":"jqGrid local data within ajax","body":"<p>Hello stackoverflow nation !\nI've such a snag. Trying to pass in jqGrid array data which is retrieved within ajax, but it doesn't work. lets take a look at script =></p>\n\n<pre><code>$(function(){ // this script works just fine (of course this array and jqGrid initialization script is in the same file)\nvar arr = [\n    {a:\"a\",b:\"b\"},\n    {a:\"c\",b:\"d\"}\n];\n$(\"#_tb\").jqGrid({\n    datatype: \"local\",\n    data: arr,\n    colNames: [\"ONE\",\"Two\"],\n    colModel: [\n        {name:\"a\",index:\"a\",align:\"center\"},\n    {name:\"b\",index:\"b\",align:\"center\"}\n    ],\n    pager: $(\"#_pager\"),\n    height: \"auto\"\n});\n});\n</code></pre>\n\n<p>here is my problem =></p>\n\n<pre><code>$.ajax({\n    url: \"../info.php\",\n    type: \"get\",\n    data: {},\n    success: function(r){\n        $(\"#_tb\").jqGrid({\n        datatype: \"local\",\n        data: r,\n        colNames: [\"ONE\",\"Two\"],\n        colModel: [\n            {name:\"a\",index:\"a\",align:\"center\"},\n            {name:\"b\",index:\"b\",align:\"center\"}\n        ],\n        pager: $(\"#_pager\"),\n        height: \"auto\"\n        });\n    }\n    });\n</code></pre>\n\n<p>this script doesn't work , but data is successfully retrieved within ajax into json format.\nhere is <code>info.php</code> script by the way too</p>\n\n<pre><code>// using PDO for connection\nforeach($con-&gt;query(\"SELECT * FROM tb\") as $row){\n    $info[] = array(\n        \"a\" =&gt; $row[\"a\"],\n        \"b\" =&gt; $row[\"b\"]\n    );\n}\necho json_encode($info);\n</code></pre>\n\n<p>PS. In my opinion my problem is connected to <strong>datatype</strong> , but can't made up my mind how to solve that despite of searching examples like that . \nAlso remarkable is that I want datatype to be local , because of searching and filtering data in jqGrid without any SQL where statements.\nWith any advice I'll be pleased , thanks :)</p>\n"},{"tags":["php","arrays","function"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":42,"score":4,"question_id":13259614,"title":"PHP array_search consistently returns first key of array","body":"<p>I recently noticed trouble when using the array_search function in my code. I am searching the array \"$allcraftatts\" for the value \"sharp\". I tried to isolate the problem by setting up a two line experiment:</p>\n\n<pre><code>$testcopy=$allcraftatts;\n$testsharp=array_search(\"sharp\", $testcopy);\n</code></pre>\n\n<p>Using \"print_r(get_defined_vars());\" later on, I get this result:</p>\n\n<pre><code>[testcopy] =&gt; Array\n                (\n                    [0] =&gt; 0\n                    [1] =&gt; 0\n                    [2] =&gt; 0\n                    [3] =&gt; 0\n                    [4] =&gt; 0\n                    [5] =&gt; 0\n                    [6] =&gt; Sharp Stone\n                    [7] =&gt; Sharp Stones\n                    [8] =&gt; stone\n                    [9] =&gt; object\n                    [10] =&gt; sharp\n                    [11] =&gt; hard\n                    [12] =&gt; 0\n                    [13] =&gt; 0\n                    [14] =&gt; 0\n                    [15] =&gt; 0\n                    [16] =&gt; 0\n                    [17] =&gt; 0\n                    [18] =&gt; 0\n                )\n\n[testsharp] =&gt; 0\n</code></pre>\n\n<p>I made sure that I do not modify these variables at any other time.</p>\n\n<p>Now, if I change my code to</p>\n\n<pre><code>$testcopy=$allcraftatts;\nunset($testcopy[0]);\n$testsharp=array_search(\"sharp\", $testcopy);\n</code></pre>\n\n<p>it returns \"1\".</p>\n\n<p>This leads me to believe that it always returns the first key in the array.</p>\n\n<p>It baffles me! This is one of those bugs that makes you fear something wrong with the language itself. However doubtful this is, I actually was eventually driven to looking at the PHP source for something wrong there, but unfortunately could not understand it.</p>\n\n<p>Seeing that it is a function simple as this, I will most definitely be completely humiliated by the inevitably simple answer, but at this point, I just want an answer.</p>\n"},{"tags":["php","mysql","sql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":23,"score":-2,"question_id":13259576,"title":"PHP saving mysql info to php variables","body":"<p>So, what i'm trying to do is that I want this to happen basically, here's my code:</p>\n\n<p>mysql_query(\"SELECT account.id FROM account WHERE account.username= \"\"\");</p>\n\n<p>I want the result of that code stored in a variable named account_id in PHP. But I wasn't able to find anything online that I was able to understand.</p>\n"},{"tags":["php","ssl","curl","wsdl","soap-client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13258895,"title":"Failed access to webservice ssl through php (curl) - ClientSoap","body":"<p>When i use this Php code to access to the wsdl file not secured with authentication basic, it works very well.</p>\n\n<pre><code>&lt;?php\ntry{\n\n    ini_set('soap.wsdl_cache_enabled', false);\n    $url = 'https://webservicexx:10443/Service.asmx?WSDL';\n    $wsdl = get_wsdl($url); \n    $client = new SoapClient($wsdl); \n    print_r($client);\n\n} catch (SoapFault $e) {\n        echo $e;\n\n} \n\nfunction get_wsdl($url) { \n    clearstatcache();\n    $cache_file = \"/var/www/webservice2/soap.wsdl.\" . md5($url); \n    $ch = curl_init($url);\n    $options = array(                           \n                        CURLOPT_FOLLOWLOCATION=&gt;true,\n                        CURLOPT_FRESH_CONNECT=&gt;true,\n                        CURLOPT_RETURNTRANSFER=&gt;true,\n                        CURLOPT_SSL_VERIFYPEER=&gt;false,\n                        CURLOPT_USERAGENT=&gt;\"Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)\");\n    curl_setopt_array($ch, $options);\n    $data = curl_exec($ch);\n    curl_close($ch);\n    file_put_contents($cache_file, $data);\n    return $cache_file; \n\n} \n?&gt;\n</code></pre>\n\n<p>And when i try to access to the wsdl file secured with authentication basic (.NET), by changing the $option array, to add login and pass:</p>\n\n<pre><code>$options = array( \n  CURLOPT_POST=&gt;true,\n  CURLOPT_HTTPAUTH=&gt;CURLAUTH_BASIC,\n  CURLOPT_USERPWD=&gt;'myLOGIN:myPASSWORD',\n  CURLOPT_FOLLOWLOCATION=&gt;true,\n  CURLOPT_FRESH_CONNECT=&gt;true,\n  CURLOPT_RETURNTRANSFER=&gt;true,\n  CURLOPT_SSL_VERIFYPEER=&gt;false,\n  CURLOPT_USERAGENT=&gt;\"Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)\");\n</code></pre>\n\n<p>I have problems on the file result. I don't get the wsdl file wich is secured, i have the page error on the file, on my server. That means that i don't have access to the file, because the authentication basic barrier, and the login and pass that i added on the $option array doesn't work. </p>\n\n<p>How can i do it ?</p>\n"},{"tags":["php","oauth","hotmail"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13258971,"title":"hotmail: user authentication and contact retrieval with PHP","body":"<p>I am trying to write a PHP script that will allow me to do two things:</p>\n\n<ol>\n<li><p>Allow users to use their Hotmail (I think its called 'Live' now?) account to authenticate themselves to a website</p></li>\n<li><p>Retrieve an authenticated users contact list from Hotmail.</p></li>\n</ol>\n\n<p>I have trawled the internet for the past 6 hours, looking for at least a working example that I can modify/extend to do the above two things. There are several dozens similar questions asked here on SO for example - <strong>NONE</strong> of the proffered answers work any more (admittedly, some of the questions were a few years old).</p>\n\n<p>I tried the Microsoft site and downloaded the latest version of their API which seems to evolve at a rather alarming rate. I finally managed to track down an <a href=\"https://github.com/liveservices/LiveSDK\" rel=\"nofollow\">API which has not been deprecated (yet?)</a>.</p>\n\n<p>I followed the instructions and when I attempted to authenticate, I was rewarded with the following mesage, for my efforts:</p>\n\n<blockquote>\n<pre><code>We're unable to complete your request\nWindows Live ID is experiencing technical difficulties. Please try again later.\n</code></pre>\n</blockquote>\n\n<p>I immediately tried the <a href=\"http://isdk.dev.live.com/ISDK.aspx\" rel=\"nofollow\">online version of the demo</a> and perhaps unsurprisingly, that worked like a charm.</p>\n\n<p>As an aside, I managed to implement the same functionality for Yahoo and GMail, using their OPEN APIs, under an hour each. Now, it is possible that my unmitigated hatred of all things proprietary (sorry make that Microsoft), is causing me to lose the plot a little here.</p>\n\n<p>Has anyone ACTUALLY (in 2012) managed to get a working sample in PHP that allows:</p>\n\n<ol>\n<li>Hotmail (live?) user authentication</li>\n<li>Hotmail user contact email retrieval</li>\n</ol>\n\n<p>If you have, a code snippet, or a link to where I can find such a snippet would be very useful, as I have so far, wasted a whole afternoon trying to work the Microsoft Live API via PHP.</p>\n\n<p>PS: No, I'm not interested in OpenInviter, its broken.</p>\n"},{"tags":["php","javascript","jquery","css3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":13259451,"title":"jquery plugin to create square-tiles with a background image","body":"<p>I need to split an image into square-shape tiles on which users can hover or click on.</p>\n\n<p>Should i use pure css or do I have to use jquery ? Do you have examples of jquery plugins doing that? (I found <a href=\"http://imanish.co.in/demo/imjqmosaic/\" rel=\"nofollow\">this one</a> but would be interested in other suggestions)</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["php","xpath","xml-parsing","domxpath"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13258164,"title":"Why is this xPath query in PHP not working?","body":"<p>I'm new to PHP and stackoverflow. I created a script that takes content from a form and searches for a file list corresponding to the category and subject given. Now, the xPath part throws an error when the script is launched. It says:  </p>\n\n<p><strong>Fatal error:</strong> Call to a member function getElementsByTagName() on a non-object on line 10.</p>\n\n<p>Here's the code:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>if (isset($_GET[\"subject\"])){\n    $subject = $_GET[\"subject\"];\n    $category = $_GET[\"category\"];\n    $doc = new DOMDocument();\n    $doc-&gt;load('Files.xml');\n    $xpath = new DOMXPath($doc);\n    //subject\n    $subjectpath = 'subject[@name=\"' . $subject . '\"]';\n    $ssubjectfiles = $xpath-&gt;query($subjectpath)-&gt;item(0);\n    $subjectfiles = $ssubjectfiles-&gt;getElementsByTagName('file');\n    //category\n    $categorypath = 'subject[@name=\"' . $subject . '\"]/category[@name=\"' . $category . '\"]';\n    $scategoryfiles = $xpath-&gt;query($categoryfiles)-&gt;item(0);\n    $categoryfiles = $scategoryfiles-&gt;getElementsByTagName('file');\n    function getFiles($files){\n    foreach($files as $file){\n        $filevalue = $file-&gt;nodeValue;\n        echo '&lt;li&gt;' . $filevalue . '&lt;/li&gt;';\n    }\n    }\n    switch($category){\n    case 'Select a category or leave to get all the results':\n        getFiles($subjectfiles);\n    break;\n    default:\n        getFiles($categoryfiles);\n    }\n}\n</code></pre>\n\n<p>Why isn't it working? Do I have to convert the object somehow?</p>\n\n<p>Thank you!</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>It looks like the problem was the relative link. I changed it to <code>http://localhost/Files.xml</code> and it seems to work. Thank you all anyway.</p>\n"},{"tags":["php","mysql","query","combine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":13259250,"title":"PHP & MySQL: How to combine UPDATE and SELECT (with min function) queries","body":"<p>I'm trying to select a row with the least value from a MySQL table and update the flag column for that row using PHP. But it's not working for me. If I break it into two queries, it works, but combining the two isn't going anywhere. What am I doing wrong?</p>\n\n<p>Here's what works:</p>\n\n<pre><code>$flag = 1;\n$query = \"SELECT MIN(value) FROM \". $myTable;\n$data = mysqli_query($dbh, $query);\n$dataSet = mysqli_fetch_row($data);\n$value = $dataSet[0];\n$queryUpdate = \"UPDATE \". $myTable . \" SET flag='\" . $flag . \"' WHERE value='\" . $value. \"'\";\n$dataUpdate = mysqli_query($dbh, $queryUpdate);\n</code></pre>\n\n<p>Here are attempts I made but failed:</p>\n\n<pre><code>//attempt #1\n$flag = 1;\n$query = \"UPDATE \". $myTable . \" SET flag='\" . $flag . \"' WHERE value=( SELECT MIN(value) FROM '\". $myTable . \"')\";\n$data = mysqli_query($dbh, $query);\n\n// attempt #2\n$flag = 1;\n$query = \"UPDATE \". $myTable . \" SET flag='\" . $flag . \"' ORDER BY value ASC LIMIT 1\";\n$data = mysqli_query($dbh, $query);\n\n// attempt #3\n$flag = 1;\n$query = \"UPDATE \". $myTable . \" T1 \nINNER JOIN ( SELECT MIN(value) FROM \". $myTable . \" ) T2\nON T1.id = T2.id\nSET T1.flag=\" . $flag;\n$data = mysqli_query($dbh, $query);\n</code></pre>\n\n<p>mysqli_error() returns </p>\n\n<blockquote>\n  <p>Warning: mysqli_error() expects exactly 1 parameter, 0 given [in the $data = mysqli_query($dbh, $query) lines.]</p>\n</blockquote>\n\n<p>Any help would be so appreciated.</p>\n"},{"tags":["php","email","codeigniter","html-email"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":562,"score":2,"question_id":9062192,"title":"Add extra header information in codeigniter email","body":"<p>I would like to send some extra information on the emails which is sent from codeigniter library. Is there any way to configure or add this?</p>\n\n<p>I want to categorize all the outgoing mail from my site. I need to include sendgrid category header for tracking.</p>\n"},{"tags":["php","session","session-timeout","hitcounter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13259171,"title":"PHP session based hit counter too trigger-happy","body":"<p>I have a simple session-based PHP hit counter on a website. The problem is that it seems to be adding phantom hits whenever I have the website open for some time (even without me reloading it), so I'm thinking the session timeout is set to a very short amount of time somewhere on the server. However, I have checked php.ini and the timeout is the standard 24 minutes, while phantom hits get added every three minutes or so.</p>\n\n<p>The website has no nameservers pointing to it yet, nothing links to it, so it's not an issue of robots/crawlers. Here is my code:</p>\n\n<pre><code>            $hit_file = file(__DIR__ . \"/hit_file.txt\");\n\n            $hit_num = $hit_file[0];\n            if(!isset($_SESSION['been']))\n\n                {\n\n\n                    $hit_num++;\n\n                    $hit_write = fopen(__DIR__ . \"/hit_file.txt\", 'w');\n\n                    fwrite($hit_write, $hit_num);\n\n                    fclose($hit_write);\n\n                    $_SESSION['been'] = 1;\n\n                }\n\n             echo $hit_num;\n</code></pre>\n\n<p>UPDATE: I have noticed some weird access.log entries. They all follow this format:\n::1 - - [06/Nov/2012:22:05:03 +0100] \"GET / HTTP/1.0\" 200 3719 \"-\" \"-\"</p>\n\n<p>I get one every five minutes or so which is about how often phantom hits get added. What on earth are they?</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13259407,"title":"PHP - Is there a NOT-complicated way to determine the position of a link on page?","body":"<p>I would like to write a script which determines the position of hyperlinks from other domains which link to my website. For example I want to know if the link comes from \"inside an article\", \"inside a sidebar (left / right)\", \"inside the footer\". The only way I can think of is to check the CSS classes which wrap the link. For example a link is inside the class \"left_sidebar\", then it's likely inside the left sidebar :) \nBut this seems like a buggy way to determine this. This may work with well designed Wordpress themes, but will fail with many other sites.</p>\n\n<p>So is there a better way to do this? Thanks!</p>\n"},{"tags":["php","mysql","query","dynamic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13241092,"title":"Stored MySQL Procedures vs. Dynamic MySQL Queries","body":"<p>I'm developing a basic php based function that executes MySQL queries in order to sort the data in the database and present it to the user. As a general statement, is it considered best practice to simply construct static queries and to execute them as needed, or simply piece together elements of a MySQL statement based on conditions? </p>\n\n<p>To narrow the question, I have a specific example:</p>\n\n<p>Say I have a few drop-down menus that define the search on the user's end. Let one drop-down simply contain a list of names, say Bob Smith, and the two others a date range. From there, I can easily create a search along the lines of <code>SELECT item FROM checkOUT WHERE...</code> I can definitely write a general query with parameters to be executed when ALL three of the parameters are present. Consider the case when only a date range is selected regardless of individuals - that would require only two parameters and a different general query. And what if the data is spread across multiple tables? That has to be taken into account. I should add as well that my function is based on drop-down menus - not original user input.</p>\n\n<p>Basically, what would be the best method to create the MySQL Query - prepared statements or dynamically created statements? Obviously, the end result will rely on a hybrid of the two, but to which side it leans the farthest is the issue. I'm asking this question as I am not too familiar with this particular side of handling multiple queries from one source. Typically, I simply have to execute one query to get what I need and work with it - not sorting.</p>\n\n<p>Any insight is appreciated.  </p>\n"},{"tags":["php","mysql","forms","select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13259491,"title":"MySQL Use Array From Non Existent Column","body":"<p>I'm not sure if my title is even worded correctly.  Hopefully I can explain this in a concise manner.  I'm trying to select all from a database:</p>\n\n<pre><code>if (! empty ( $fname ) &amp;&amp; ! empty ( $lname )) {\n        $query5 = \"select * from \" . $db_prefix . \"customer_det where (fname = '\" . $fname . \"' and lname = '\" . $lname . \"')\";\n            $result5 = $mysqli-&gt;query ( $query5 ) or die ( mysql_error () );\n    } else {\n        $query5 = \"select * from \" . $db_prefix . \"customer_det where phone = '\" . $phone . \"'\";\n\n        $result5 = $mysqli-&gt;query ( $query5 ) or die ( mysql_error () );\n\n    }\n</code></pre>\n\n<p>Then my next statement basically says if $result5 === NULL then insert stuff.  Problem is I'm var_dump($result5) and it looks like it's printing out an array.</p>\n\n<pre><code>object(mysqli_result)#4 (5) { [\"current_field\"]=&gt; int(0) [\"field_count\"]=&gt; int(34) [\"lengths\"]=&gt; NULL [\"num_rows\"]=&gt; int(0) [\"type\"]=&gt; int(0) }\n</code></pre>\n\n<p>Basically what I'm trying to say is how can I write an IF $result5 = non existent statement.  Is it a count or num_rows function im looking for here?</p>\n"},{"tags":["php","javascript","html"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":22,"score":0,"question_id":13259115,"title":"How to use View buttons to pace a foreach in Controller?","body":"<p>All,</p>\n\n<p>I'm building a small PHP site using an MVC pattern.  Inside my Controller, I have an array of articles that I want to send to the View page.  However, I want the articles to appear one at a time in the View, and only change to the next one when the user clicks on one of several buttons.  One button just allows the user to see the next article, other buttons allow the user to \"grade\" or endorse the article (this info is sent back to the controller) <strong>and</strong> move on to the next article.</p>\n\n<p>How should I do that?  The buttons are within a form, and I have Javascript functions attached to each.  A simplified version of the code would look like that:</p>\n\n<p>In Controller:</p>\n\n<pre><code>&lt;?php\n  $array=array(10,11,12,13,14,15,16);\n  $_SESSION['next']=true;\n  foreach($array as $a){\n    if($_SESSION['next']){\n      $_SESSION['next']=false;\n      $view=$a;\n    }\n  }\n?&gt;\n</code></pre>\n\n<p>In View:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  function doOne(){}\n  function doTwo(){}\n&lt;/script&gt;\n&lt;form class=\"ReviewArticles\" method='POST' accept-charset=\"UTF-8\" action='index.php?action=reviewArticles'&gt;\n&lt;p&gt;\n  &lt;textarea rows=\"4\" cols=\"60\" name='article' id='article' WRAP=SOFT&gt;\n    &lt;?php\n      echo $view;\n    ?&gt;\n  &lt;/textarea&gt;\n&lt;/p&gt;    \n&lt;p&gt;\n  &lt;button type=\"button\" name='showNext1' id='showNext1' onclick=\"doOne()\" &gt;Show next 1&lt;/button&gt;\n  &lt;button type=\"button\" name='showNext2' id='showNext2' onclick=\"doTwo()\" &gt;Show next 2&lt;/button&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I need to send back to the Controller some info to load the next item in the array.  I also need to send some other data related to the user \"endorsing\" of the article, and I want those to take place together (only one button).</p>\n"},{"tags":["php","mongodb","doctrine","doctrine-odm"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":421,"score":1,"question_id":11125389,"title":"Doctrine ODM / MongoDB not retrying queries?","body":"<p>I'm using Doctrine ODM to connect to MongoDB. I have a three node replica set: two fulls and one arbiter. Replication is solely for higher availability, I don't seek to distribute reads across nodes. My application is logging <code>MongoCursorException</code>s every so often with the message <code>not master and slaveok=false</code>. I don't see any evidence that a failover event occurred in the mongodb logs and the primary didn't change. CORRECTION: <strong>failover had indeed occurred</strong>, but the exception with <code>not master and slaveok=false</code> was appearing often, even showing up 6 hours after a new primary was successfully elected.</p>\n\n<p>What to do? I see our version of <a href=\"http://github.com/doctrine/mongodb\" rel=\"nofollow\">doctrine-mongodb</a> includes <a href=\"https://github.com/doctrine/mongodb/pull/35\" rel=\"nofollow\">(experimental?) retry functionality</a>, but I don't see an easy way to enable that.</p>\n\n<p>Not sure if it matters, but this is a Symfony2 (v2.0) app.</p>\n\n<p><a href=\"https://groups.google.com/d/topic/mongodb-user/6p710Rdycpg/discussion\" rel=\"nofollow\">https://groups.google.com/d/topic/mongodb-user/6p710Rdycpg/discussion</a> implies that we <em>need</em> retries (emphasis mine):</p>\n\n<blockquote>\n  <p>Your application must be written to reconnect/retry since there are \n  any number of transient (network) errors which could come up much like \n  the rolling upgrade process during <strong>normal operation</strong>.</p>\n</blockquote>\n\n<p>The <a href=\"http://php.net/class.mongocursorexception\" rel=\"nofollow\">Mongo PHP extension docs</a> seem to account for this:</p>\n\n<blockquote>\n  <p>The driver will automatically retry \"plain\" queries (not commands) a couple of times if the first attempt failed for certain reasons. This is to cause fewer exceptions during replica set failover (although you will probably still have to deal with some) and gloss over transient network issues.</p>\n</blockquote>\n\n<p>And I thought <code>doctrine-mongodb</code> just used the PHP extension to actually talk to mongod. So I'm left a bit confused whether or not I <em>should</em> have to worry about retry configuration.</p>\n\n<p>I think I solved part of the problem: I <strong>removed the arbiter</strong> from the connection string following <a href=\"https://groups.google.com/d/msg/mongodb-user/3RCCEdQAAYk/ChCI5PEudEgJ\" rel=\"nofollow\">this advice from Kristina Chodorow</a>. I'm no longer seeing any <code>MongoCursorException</code>s with the message <code>not master and slaveok=false</code>. I might have been hitting <a href=\"https://jira.mongodb.org/browse/PHP-392\" rel=\"nofollow\">https://jira.mongodb.org/browse/PHP-392</a>.</p>\n\n<p>However, I'm still getting a few <code>MongoCursorException</code>s with the message <code>couldn't determine master</code> during failover. For example, I just did a failover; based on the mongod logs, a new primary was elected after a few seconds, but the web application was throwing that exception even 5 minutes later.</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13258994,"title":"Sanitize currency input","body":"<p>I'm working with currency input. Only two digits after decimal mark should be used. I tried casting input to float and multiplying by 100, which works fine until someone enters more than two digits after decimal mark:</p>\n\n<pre><code>// Returns 6999.8 instead of 6999\n$cents = floatval('69.998') * 100;\n</code></pre>\n\n<p>Then I tried casting result to int, so sequential digits after decimal point are ignored. It solves above problem ('69.998' becomes 6999), but creates a new one with float to integer conversion:</p>\n\n<pre><code>// Returns 6998 instead of 6999\n$cents = intval(floatval('69.99') * 100);\n</code></pre>\n\n<p>I also considered floor(), but it triggers the same float issue as intval(). </p>\n\n<p>This is what I'm thinking about using:</p>\n\n<pre><code>$cents = intval((string)(floatval('69.99') * 100));\n</code></pre>\n\n<p>It works in both cases, but feels like a hack and it's late and my head hurts so maybe I'm missing something obvious here. Is there a better way to do this?</p>\n"},{"tags":["php","security","xss","sql-injection"],"answer_count":10,"favorite_count":162,"up_vote_count":206,"down_vote_count":0,"view_count":69744,"score":206,"question_id":129677,"title":"What's the best method for sanitizing user input with PHP?","body":"<p>Is there a catchall function somewhere that works well for sanitizing user input for sql injection and XSS attacks, while still allowing certain types of html tags?</p>\n"},{"tags":["php","algorithm","binary","code-efficiency","huffman-encoding"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":80,"score":6,"question_id":13258327,"title":"PHP Efficient way to Convert String of Binary into Binary","body":"<p>here is the skinny (scroll down to see the problem): I am doing Huffman Encoding to compress a file using PHP (for a project).  I have made the map, and made everything into a string like so:</p>\n\n<pre><code>00101010001100001110011101001101111011111011\n</code></pre>\n\n<p>Now, I need to convert that into an actual binary string, in its current state, it is only a string of 1s and 0s.</p>\n\n<p>Here is <strong>the problem</strong>:</p>\n\n<p>The string of 1s and 0s is 17,747,595 characters long, and it is really slowing down at around 550,000</p>\n\n<p>This is the code I have:</p>\n\n<pre><code>&lt;?php\n\n$i=0\n$len = strlen($binaryString);\n\nwhile ($i &lt; $len){\n    $section = substr($binaryString,$i,$i+8);\n    $out .= chr(bindec($section));\n    $i=$i+8;\n}\n\n?&gt;\n</code></pre>\n\n<p>How can I make this efficient enough to run the 17 million character string?</p>\n\n<p>Thanks very much for any support!</p>\n"},{"tags":["php","browser","post","webpage","expired"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1803,"score":1,"question_id":1987765,"title":"Error - Web Page Has Expired in PHP?","body":"<p>I have six pages for a registration form in my PHP project. </p>\n\n<p>In between any of the page if I press the back button from the explorer bar I get the error:</p>\n\n<pre><code>\"Webpage has Expired\". \n</code></pre>\n\n<p>I am using <code>$_POST</code> to submit the data. I can't understand why this occurs? </p>\n"},{"tags":["php","database","login","mysqli"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13259109,"title":"PHP mysqli query isnt working","body":"<p>when the user enters their details they click on login but its not working, my connection to the database is fine its this file that is not working, any help would be appreciated, thanks\n    \n\n<pre><code>include '../connection.php'; //used to include connection file that is 1 level higher in the directory \n\n$username = $_REQUEST['username'];\n$password = $_REQUEST['password'];\n\n$fquery = 'SELECT Username FROM login LIMIT 0, 30 ';\n$squery = 'SELECT Password FROM login LIMIT 0, 30 ';\n\n$username_query = mysqli_query($dbc, $fquery);\n$password_query = mysqli_query($dbc, $squery);\n\n$username_row = mysqli_fetch_array($username_query);\n$password_row = mysqli_fetch_array($password_query);\n\nif($username == $username_row &amp;&amp; $password == $password_row) {\n    echo 'username and password correct';\n}\n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","error-handling","http-status-code-500","googlebot"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13249258,"title":"In Webmaster tools googlebot is getting a crawl error 500 from the server","body":"<p>I've noticed my sites are not ranking as well as they did before and when I checked Webmaster tools I see that gooblebot cannot crawl pages that I can perfectly crawl with my browser and I'm getting an 500 error.</p>\n\n<p>The websites are not wordpress and use php.</p>\n\n<p>What can be causing this problem?</p>\n\n<p>This is the actual error in WMT</p>\n\n<p>HTTP/1.1 500 Internal Server Error\nDate: Tue, 06 Nov 2012 21:04:38 GMT\nServer: Apache\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nSet-Cookie: PHPSESSID=blkss9toirna36p2mjl44htv01; path=/\nVary: Accept-Encoding\nContent-Encoding: gzip\nContent-Length: 3840\nConnection: close\nContent-Type: text/html</p>\n"},{"tags":["php","coding-style","shorttags"],"answer_count":23,"favorite_count":36,"up_vote_count":162,"down_vote_count":0,"view_count":41012,"score":162,"question_id":200640,"title":"Are PHP short tags acceptable to use?","body":"<p>Here's the info <a href=\"http://www.php.net/manual/en/language.basic-syntax.php\">according to the official documentation</a>:</p>\n\n<blockquote>\n  <p>There are four different pairs of\n  opening and closing tags which can be\n  used in php. Two of those, <code>&lt;?php ?&gt;</code>\n  and <code>&lt;script language=\"php\"&gt; &lt;/script&gt;</code>,\n  are always available. The other two\n  are short tags and ASP style tags, and\n  can be turned on and off from the\n  php.ini configuration file. As such,\n  while some people find short tags and\n  ASP style tags convenient, they are\n  less portable, and <strong>generally not\n  recommended</strong>.</p>\n</blockquote>\n\n<p>In my experience most servers <em>do</em> have short tags enabled. Typing</p>\n\n<pre><code>&lt;?=\n</code></pre>\n\n<p>is far more convenient than typing</p>\n\n<pre><code>&lt;?php echo \n</code></pre>\n\n<p>The programmers convenience is an important factor, so <strong>why</strong> are they not recommended?</p>\n"},{"tags":["php","mysql","cookies"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13259126,"title":"What's a secure way to create a \"remember me\" system in PHP with cookies?","body":"<p>I'm at the beginning of a project that will have a \"remember me\" option when the user authenticates.</p>\n\n<p>My user's database table have the following basic structure for authentication:</p>\n\n<ul>\n<li>id       :   a random number generated when user is registered. (key)</li>\n<li>username :   an username choosen by the user, can be changed to another unique username.</li>\n<li>hash     :   the hash of the password created with \"phpass\" when the password is set.</li>\n</ul>\n\n<p>I'd like to know a safe way to keep the user logged in, even in more than one computer, using cookies and MySQL.</p>\n\n<p>I wish I can use the same cookies to store a temporaly session or a \"remember me\" section. I've read about tokens and about hashing all user information to a cookie but is it safe? I checked Facebook's cookies that are used after user authentication and there's user id entry, is it really necessary for what I whant to do?</p>\n\n<p>If I decide to hash information to the cookie should I use \"phpass\" that probably is slower or a simple MD5 function, seen that the authentication verification wiil be in every page and every AJAX request? Should I renew a user token every time I verify for login?</p>\n\n<p>Finally, what's the best choice I have? I know there's a lot of questions similar to this but I didn't found something like \"the best way\" to do this. In every post I find there's something different and contradictory about this subject. I'd like to know a safe and clean way to do it.</p>\n"},{"tags":["php","sql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13258801,"title":"Pulling Data in PHP from SQL Server","body":"<p>I have an issue with my script somewhere but do not know exactly where it is incorrect.  Here is the code:</p>\n\n<pre><code>&lt;title&gt;Log&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;h1&gt; Log &lt;/h1&gt;\n\n&lt;form method=\"get\" action=\"getlog.php\"&gt; \n\n&lt;table width=\"300\" border=\"0\"&gt;\n  &lt;tr&gt;\n    &lt;td&gt; Forte ID:&lt;/td&gt;\n    &lt;td&gt;&lt;select id=\"ForteID\" name=\"ForteID\"&gt;                    \n                    &lt;option value=\"nc4682\"&gt;nc4682&lt;/option&gt;\n                    &lt;option value=\"bs1441\"&gt;bs1441&lt;/option&gt;\n                    &lt;option value=\"sp3212\"&gt;sp3212&lt;/option&gt;                 \n        &lt;/select&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\n &lt;input type=\"submit\" name=\"getLog\" value=\"Get Log\"&gt;\n &lt;/form&gt; \n\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;?php\n/*print_r($_POST);*/\n$serverName = 'SRB-Nick_Desktop\\SQLEXPRESS';\n$connectionInfo = array('Database'=&gt;'cslogs', 'UID'=&gt;'cslogslogin', 'PWD'=&gt;'123456');\n$connection = sqlsrv_connect($serverName, $connectionInfo);\n\n$query = 'SELECT    ForteID, Disposition, appNumber, Finance_Num, Num_Payments, ACH_CC,     Notes from logs';\n\n$result = sqlsrv_query($connection,$query);\n\nif (!$result) \n{\n    $message = 'ERROR: ' . sqlsrv_errors();\n    return $message;\n}\nelse\n{\n    $i = 0;\n    echo '&lt;html&gt;&lt;body&gt;&lt;table&gt;&lt;tr&gt;';\n    while ($i &lt; sqlsrv_num_rows($result))\n    {\n        $meta = sqlsrv_fetch($result, $i);\n        echo '&lt;td&gt;' . $meta-&gt;name . '&lt;/td&gt;';\n        $i = $i + 1;\n    }\n    echo '&lt;/tr&gt;';\n\n    while ( ($row = sqlsrv_fetch_array($result))) \n    {\n        $count = count($row);\n        $y = 0;\n        echo '&lt;tr&gt;';\n        while ($y &lt; $count)\n        {\n        $c_row = current($row);\n        echo '&lt;td&gt;' . $c_row . '&lt;/td&gt;';\n        next($row);\n        $y = $y + 1;\n    }\n    echo '&lt;/tr&gt;';\n}\nsqlsrv_free_stmt ($result);\n\necho '&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;';\n}\nsqlsrv_close( $connection);\n?&gt;\n</code></pre>\n\n<p>And this is what I get in result, no matter what is selected in the drop down box and hit the button get log.</p>\n\n<p>nc4682  nc4682  Save    Save    asdf    asdf    fdas    fdas    1   1   cc  cc  asdf    asdf\nbs1441  bs1441  LOC LOC AN00336862  AN00336862  None    None    0   0   ach ach Backout Backout\nnc4682  nc4682  Save    Save    AN00336862  AN00336862  easdf   easdf   2   2   ach ach asdf    asdf\nsp3212  sp3212  Sale    Sale    NCXXXXXX1   NCXXXXXX1   none    none    1   1   cc  cc  asdfasdfasdf    asdfasdfasdf</p>\n\n<p>Each column is duplicated.  There are supposed to be 7 columns.</p>\n"},{"tags":["php","foreach"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":38,"score":3,"question_id":13259227,"title":"PHP foreach array push with key and value","body":"<p>I have this foreach here</p>\n\n<pre><code>&lt;?php foreach($division as $value){\n            $arraydivision[] = $value['name'];\n        } ?&gt;\n</code></pre>\n\n<p>but the keys come back as 0, 1, 2, 3, 4</p>\n\n<p>I would like the keys to be also the names...I have tried</p>\n\n<pre><code>&lt;?php foreach($division as $value){\n            $arraydivision[] = $value['name'] =&gt; $value['name'];\n        } ?&gt;\n</code></pre>\n\n<p>But that didnt work, just gave me an error...anyone know why this is not working?</p>\n"},{"tags":["php","html-parsing"],"answer_count":15,"favorite_count":286,"up_vote_count":373,"down_vote_count":4,"view_count":41608,"score":369,"question_id":3577641,"title":"How to parse and process HTML with PHP?","body":"<p>How can one <strong>parse HTML</strong> and extract information from it? What libraries exist for that purpose? What are their strengths and drawbacks?</p>\n\n<blockquote>\n  <p><strong>This is a <a href=\"http://stackoverflow.com/tags/php/info\">General Reference</a> question for the <a href=\"/questions/tagged/php\" class=\"post-tag\" title=\"show questions tagged 'php'\" rel=\"tag\">php</a> tag</strong></p>\n</blockquote>\n"},{"tags":["php","phpexcel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13257901,"title":"PHPExcel saving template with an excessive file size","body":"<p>Version information:</p>\n\n<p>PHPExcel - 1.7.8</p>\n\n<p>linux - Linux version 2.6.18-274.12.1.el5 (mockbuild@builder10.centos.org) (gcc version 4.1.2 20080704 (Red Hat 4.1.2-51))</p>\n\n<p>PHP Version - 5.3.17</p>\n\n<p>I have a sales reporting template that I use to create a weekly report.  Everything works perfectly, except for the output file size.</p>\n\n<p>The input template is only 249kb in size, and yet the output file ends up being over 4mb in size.</p>\n\n<p>There are a total of 97 cells that have any data put added into them.  When I insert the data manually, the size stays correct.</p>\n\n<p>Original Template size - 254,464</p>\n\n<p>Manual Entry Output size - 254,464</p>\n\n<p>PHPExcel Output size - 4,230,656</p>\n\n<p>I based my code off of the 30template.php example.</p>\n\n<p>Any thoughts on what could be causing this is appreciated!</p>\n\n<p>If any other information is needed I'll respond with what I can.</p>\n"},{"tags":["php","exec","proc-open"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":10666700,"title":"Passing interactive arguments for PHP exec() method","body":"<p>Need a help to implement the following. I have a C program file as follows:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nmain()\n{\n  int x;\n  int args;\n\n  printf(\"Enter an integer: \");\n  if (( args = scanf(\"%d\", &amp;x)) == 0) {\n      printf(\"Error: not an integer\\n\");\n  } else {\n      printf(\"Read in %d\\n\", x);\n  }\n  if (( args = scanf(\"%d\", &amp;x)) == 0) {\n      printf(\"Error: not an integer\\n\");\n  } else {\n      printf(\"Read in %d\\n\", x);\n  }\n}\n</code></pre>\n\n<p>I generated a.out and now I want to call this a.out using exec(\"a.out\", $output). But my problem is that I'm getting how to pass the value of integer when it asks for. I tried using proc_open() but I could not understand its usage. I will appreciate your help if you can give me piece of PHP code which can handle this to pass these two values and finally print the received result.</p>\n\n<p>Best Regards</p>\n"},{"tags":["php","arm","cross-compiling","thttpd"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2706,"score":2,"question_id":3817685,"title":"cross-compiled THTTPD server with PHP runs fine, but no PHP","body":"<p>We need some PHP on an ARM board. I've successfully cross-compiled both PHP 5 and THTTPD and they both seem to run fine on the ARM board, only the .php pages are shown unprocessed (if you do \"View Source\" in the web browser, you can see the PHP code).</p>\n\n<p>It has to be a silly configuration detail, I really feel that I am snatching defeat from the jaws of victory. Any help or smart ideas would be greatly appreciated!</p>\n\n<p>Here are my steps to build, deploy and test:</p>\n\n<p>My thttpd.conf file is:</p>\n\n<pre><code>dir=/srv/www\nphppat=**\nphpspat=**.php\nlogfile=/srv/www/logs/web.log\nnochroot\nport=80\n</code></pre>\n\n<p>My procedure was:</p>\n\n<pre><code>cd ~/packages/php/\ntar xjvf php-5.2.1.tar.bz2\ncd ~/packages/thttpd/\ntar xzvf thttpd-2.21b.tar.gz\n\ncd ~/packages/php/php-5.2.1/\nmkdir install-arm\nexport CC=/bin/arm-linux-gcc\nexport CXX=/bin/arm-linux-cpp\n./configure --host=i386-linux-gnu --target=arm --prefix=install-arm \\\n--disable-short-tags --without-mysql \\\n--without-pear --disable-all --disable-short-tags\n--enable-force-cgi-redirect --enable-discard-path \\\n--with-thttpd=../../thttpd/thttpd-2.21b\nmake\nmake install\n\ncd ~/packages/thttpd/thttpd-2.21b\nexport CC=/bin/arm-linux-gcc\nexport CXX=/bin/arm-linux-c++\nexport CPP=/bin/arm-linux-c++\n./configure --host=i386-linux-gnu --target=arm --prefix=/srv/www\n\n\n# I got compiling errors for thttpd.c caused by the ifdef condition not happening and \n# an include file not added. Deleted the ifdef/end if and recompiled. This \n# necessary for two files.\n\n\n################ in file thttpd.c changed:\n\n        #ifdef HAVE_FCNTL_H\n        #include &lt;fcntl.h&gt;\n        #endif\n\n# to:\n        #include &lt;fcntl.h&gt;\n\n\n############### in file fdwatch.c changed:\n\n        #ifdef HAVE_POLL_H\n        #include &lt;poll.h&gt;\n        #else /* HAVE_POLL_H */\n        #ifdef HAVE_SYS_POLL_H\n        #include &lt;sys/poll.h&gt;\n        #endif /* HAVE_SYS_POLL_H */\n        #endif /* HAVE_POLL_H */\n\n# to:\n        #include &lt;poll.h&gt;\n# also tried:\n        #include &lt;sys/poll.h&gt;\n# (both work)\n\nmake\n\n# to make sure we get 0 (success) despite the warnings:\necho $?\n\n# no make install, all references indicated it's broken and I also got errors\n# where directories with the same name prevented files from being written.\n\n########## deployment to board\n\n# copied \"php\" and \"thttpd\" executables in /usr/sbin using following command\n# in Cutecom:\ncd /usr/sbin\ntftp -g -r php 192.168.1.25\ntftp -g -r thttpd 192.168.1.25\nchmod +x php\nchmod +x thttpd\n\n# unsure, should I get a libphp5.so ? Where is it?:\n# tried:\n# cd /usr/lib\n# tftp -g -r libphp5.a 192.168.1.25\n# chmod +rx\n\ncd /srv/www\nmkdir conf\ncd conf\ntftp -g -r thttpd.conf 192.168.1.25\ncd /srv\n\n/usr/sbin/thttpd -C /srv/www/conf/thttpd.conf\n\n\n# HTML pages and images displayed fine, test.php is passed without pre-processing,\n# contains:\n# &lt;?\n#    phpinfo();\n# ?&gt;\n\n\n##############  Testing if PHP works on the ARM board\n\nroot@arago:/srv/www/cgi-bin# php -v\nPHP 5.2.1 (cli) (built: Sep 27 2010 10:59:59) \nCopyright (c) 1997-2007 The PHP Group\nZend Engine v2.2.0, Copyright (c) 1998-2007 Zend Technologies\n\n\nroot@arago:/srv/www/cgi-bin# php -r 'phpinfo();'\nphpinfo()\nPHP Version =&gt; 5.2.1\n\nSystem =&gt; Linux arago 2.6.33-rc4 #1 PREEMPT Thu Mar 25 15:06:29 IST 2010 armv5tejl\nBuild Date =&gt; Sep 27 2010 11:30:59\nConfigure Command =&gt;  './configure' '--host=i386-linux-gnu' '--target=arm'\n'--prefix=install-arm' '--disable-short-tags' '--without-mysql' '--without-pear'   \n'--disable-all' '--disable-short-tags' '--enable-force-cgi-redirect' '--enable-\ndiscard-path' '--with-thttpd=../../thttpd/thttpd-2.21b'\nServer API =&gt; Command Line Interface\nVirtual Directory Support =&gt; disabled\nConfiguration File (php.ini) Path =&gt; install-arm/lib\nPHP API =&gt; 20041225\nPHP Extension =&gt; 20060613\nZend Extension =&gt; 220060519\nDebug Build =&gt; no\nThread Safety =&gt; disabled\nZend Memory Manager =&gt; enabled\nIPv6 Support =&gt; enabled\nRegistered PHP Streams =&gt; php, file, data, http, ftp  \nRegistered Stream Socket Transports =&gt; tcp, udp, unix, udg\nRegistered Stream Filters =&gt; string.rot13, string.toupper, string.tolower,   \nstring.strip_tags, convert.*, consumed\n\n\nThis program makes use of the Zend Scripting Language Engine:\nZend Engine v2.2.0, Copyright (c) 1998-2007 Zend Technologies\n\n\n _______________________________________________________________________\n\n\nConfiguration\n\nPHP Core\n\nDirective =&gt; Local Value =&gt; Master Value\nallow_call_time_pass_reference =&gt; On =&gt; On\nallow_url_fopen =&gt; On =&gt; On\nallow_url_include =&gt; Off =&gt; Off\nalways_populate_raw_post_data =&gt; Off =&gt; Off\narg_separator.input =&gt; &amp; =&gt; &amp;\narg_separator.output =&gt; &amp; =&gt; &amp;\nasp_tags =&gt; Off =&gt; Off\nauto_append_file =&gt; no value =&gt; no value\nauto_globals_jit =&gt; On =&gt; On\nauto_prepend_file =&gt; no value =&gt; no value\nbrowscap =&gt; no value =&gt; no value\ndefault_charset =&gt; no value =&gt; no value\ndefault_mimetype =&gt; text/html =&gt; text/html\ndefine_syslog_variables =&gt; Off =&gt; Off\ndisable_classes =&gt; no value =&gt; no value\ndisable_functions =&gt; no value =&gt; no value\ndisplay_errors =&gt; On =&gt; On\ndisplay_startup_errors =&gt; Off =&gt; Off\ndoc_root =&gt; no value =&gt; no value\ndocref_ext =&gt; no value =&gt; no value\ndocref_root =&gt; no value =&gt; no value\nenable_dl =&gt; On =&gt; On\nerror_append_string =&gt; no value =&gt; no value\nerror_log =&gt; no value =&gt; no value\nerror_prepend_string =&gt; no value =&gt; no value\nerror_reporting =&gt; no value =&gt; no value\nexpose_php =&gt; On =&gt; On\nextension_dir =&gt; install-arm/lib/php/extensions/no-debug-non-zts-20060613 =&gt; install- \narm/lib/php/extensions/no-debug-non-zts-20060613\nfile_uploads =&gt; On =&gt; On\nhighlight.bg =&gt; &lt;font style=\"color: #FFFFFF\"&gt;#FFFFFF&lt;/font&gt; =&gt; &lt;font style=\"color:   \n#FFFFFF\"&gt;#FFFFFF&lt;/font&gt; \n\nhighlight.comment =&gt; &lt;font style=\"color: #FF8000\"&gt;#FF8000&lt;/font&gt; =&gt; &lt;font \nstyle=\"color: #FF8000\"&gt;#FF8000&lt;/font&gt;\nhighlight.default =&gt; &lt;font style=\"color: #0000BB\"&gt;#0000BB&lt;/font&gt; =&gt; &lt;font \nstyle=\"color: #0000BB\"&gt;#0000BB&lt;/font&gt;\nhighlight.html =&gt; &lt;font style=\"color: #000000\"&gt;#000000&lt;/font&gt; =&gt; &lt;font style=\"color: \n#000000\"&gt;#000000&lt;/font&gt;\nhighlight.keyword =&gt; &lt;font style=\"color: #007700\"&gt;#007700&lt;/font&gt; =&gt; &lt;font \nstyle=\"color: #007700\"&gt;#007700&lt;/font&gt;\nhighlight.string =&gt; &lt;font style=\"color: #DD0000\"&gt;#DD0000&lt;/font&gt; =&gt; &lt;font style=\"color:\n#DD0000\"&gt;#DD0000&lt;/font&gt;\nhtml_errors =&gt; Off =&gt; Off\nignore_repeated_errors =&gt; Off =&gt; Off\nignore_repeated_source =&gt; Off =&gt; Off\nignore_user_abort =&gt; Off =&gt; Off\nimplicit_flush =&gt; On =&gt; On\ninclude_path =&gt; .: =&gt; .:\nlog_errors =&gt; Off =&gt; Off\nlog_errors_max_len =&gt; 1024 =&gt; 1024\nmagic_quotes_gpc =&gt; On =&gt; On\nmagic_quotes_runtime =&gt; Off =&gt; Off\nmagic_quotes_sybase =&gt; Off =&gt; Off\nmail.force_extra_parameters =&gt; no value =&gt; no value\nmax_execution_time =&gt; 0 =&gt; 0\nmax_input_time =&gt; -1 =&gt; -1\nmemory_limit =&gt; 128M =&gt; 128M\nopen_basedir =&gt; no value =&gt; no value\noutput_buffering =&gt; 0 =&gt; 0\noutput_handler =&gt; no value =&gt; no value\npost_max_size =&gt; 8M =&gt; 8M\nprecision =&gt; 14 =&gt; 14\nrealpath_cache_size =&gt; 16K =&gt; 16K\nrealpath_cache_ttl =&gt; 120 =&gt; 120\nregister_argc_argv =&gt; On =&gt; On\nregister_globals =&gt; Off =&gt; Off\nregister_long_arrays =&gt; On =&gt; On\nreport_memleaks =&gt; On =&gt; On\nreport_zend_debug =&gt; Off =&gt; Off\nsafe_mode =&gt; Off =&gt; Off\nsafe_mode_exec_dir =&gt; /usr/local/php/bin =&gt; /usr/local/php/bin\nsafe_mode_gid =&gt; Off =&gt; Off\nsafe_mode_include_dir =&gt; no value =&gt; no value\nsendmail_from =&gt; no value =&gt; no value\nsendmail_path =&gt;  -t -i  =&gt;  -t -i \nserialize_precision =&gt; 100 =&gt; 100\nshort_open_tag =&gt; Off =&gt; Off\nSMTP =&gt; localhost =&gt; localhost\nsmtp_port =&gt; 25 =&gt; 25\nsql.safe_mode =&gt; Off =&gt; Off\ntrack_errors =&gt; Off =&gt; Off\nunserialize_callback_func =&gt; no value =&gt; no value\nupload_max_filesize =&gt; 2M =&gt; 2M\nupload_tmp_dir =&gt; no value =&gt; no value\nuser_dir =&gt; no value =&gt; no value\nvariables_order =&gt; EGPCS =&gt; EGPCS\nxmlrpc_error_number =&gt; 0 =&gt; 0\nxmlrpc_errors =&gt; Off =&gt; Off\ny2k_compliance =&gt; On =&gt; On\nzend.ze1_compatibility_mode =&gt; Off =&gt; Off\n\ndate\n\ndate/time support =&gt; enabled\nTimezone Database Version =&gt; 2006.16\nTimezone Database =&gt; internal\nDefault timezone =&gt; UTC\n\nDirective =&gt; Local Value =&gt; Master Value\ndate.default_latitude =&gt; 31.7667 =&gt; 31.7667\ndate.default_longitude =&gt; 35.2333 =&gt; 35.2333\ndate.sunrise_zenith =&gt; 90.583333 =&gt; 90.583333\ndate.sunset_zenith =&gt; 90.583333 =&gt; 90.583333\ndate.timezone =&gt; no value =&gt; no value\n\nReflection\n\nReflection =&gt; enabled\nVersion =&gt; $Id: php_reflection.c,v 1.164.2.33.2.33 2007/01/01 09:36:05 sebastian Exp $\n\nstandard\n\nRegex Library =&gt; Bundled library enabled\nDynamic Library support not available&lt;br /&gt;.\n\nDirective =&gt; Local Value =&gt; Master Value\nassert.active =&gt; 1 =&gt; 1\nassert.bail =&gt; 0 =&gt; 0\nassert.callback =&gt; no value =&gt; no value\nassert.quiet_eval =&gt; 0 =&gt; 0\nassert.warning =&gt; 1 =&gt; 1\nauto_detect_line_endings =&gt; 0 =&gt; 0\ndefault_socket_timeout =&gt; 60 =&gt; 60\nsafe_mode_allowed_env_vars =&gt; PHP_ =&gt; PHP_\nsafe_mode_protected_env_vars =&gt; LD_LIBRARY_PATH =&gt; LD_LIBRARY_PATH\nurl_rewriter.tags =&gt; a=href,area=href,frame=src,form=,fieldset= =&gt;   \na=href,area=href,frame=src,form=,fieldset=\nuser_agent =&gt; no value =&gt; no value\n\nAdditional Modules\n\nModule Name\n\nEnvironment\n\nVariable =&gt; Value\nTSLIB_TSDEVICE =&gt; /dev/input/touchscreen0\nUSER =&gt; root\nOLDPWD =&gt; /srv/www\nHOME =&gt; /home/root\nPS1 =&gt; \\u@\\h:\\w\\$ \nLOGNAME =&gt; root\nTERM =&gt; linux\nPATH =&gt; /usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:\nSHELL =&gt; /bin/sh\nPWD =&gt; /srv/www/cgi-bin\nTZ =&gt; UTC\nEDITOR =&gt; /bin/vi\n\nPHP Variables\n\nVariable =&gt; Value\n_SERVER[\"TSLIB_TSDEVICE\"] =&gt; /dev/input/touchscreen0\n_SERVER[\"USER\"] =&gt; root\n_SERVER[\"OLDPWD\"] =&gt; /srv/www\n_SERVER[\"HOME\"] =&gt; /home/root\n_SERVER[\"PS1\"] =&gt; \\u@\\h:\\w\\$ \n_SERVER[\"LOGNAME\"] =&gt; root\n_SERVER[\"TERM\"] =&gt; linux\n_SERVER[\"PATH\"] =&gt; /usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:\n_SERVER[\"SHELL\"] =&gt; /bin/sh\n_SERVER[\"PWD\"] =&gt; /srv/www/cgi-bin\n_SERVER[\"TZ\"] =&gt; UTC\n_SERVER[\"EDITOR\"] =&gt; /bin/vi\n_SERVER[\"PHP_SELF\"] =&gt; -\n_SERVER[\"SCRIPT_NAME\"] =&gt; -\n_SERVER[\"SCRIPT_FILENAME\"] =&gt; \n_SERVER[\"PATH_TRANSLATED\"] =&gt; \n_SERVER[\"DOCUMENT_ROOT\"] =&gt; \n_SERVER[\"REQUEST_TIME\"] =&gt; 1267544129\n_SERVER[\"argv\"] =&gt; Array\n(\n    [0] =&gt; -\n)\n\n_SERVER[\"argc\"] =&gt; 1\n_ENV[\"TSLIB_TSDEVICE\"] =&gt; /dev/input/touchscreen0\n_ENV[\"USER\"] =&gt; root\n_ENV[\"OLDPWD\"] =&gt; /srv/www\n_ENV[\"HOME\"] =&gt; /home/root\n_ENV[\"PS1\"] =&gt; \\u@\\h:\\w\\$ \n_ENV[\"LOGNAME\"] =&gt; root\n_ENV[\"TERM\"] =&gt; linux\n_ENV[\"PATH\"] =&gt; /usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:\n_ENV[\"SHELL\"] =&gt; /bin/sh\n_ENV[\"PWD\"] =&gt; /srv/www/cgi-bin\n_ENV[\"TZ\"] =&gt; UTC\n_ENV[\"EDITOR\"] =&gt; /bin/vi\n\nPHP License\nThis program is free software; you can redistribute it and/or modify\nit under the terms of the PHP License as published by the PHP Group\nand included in the distribution in the file:  LICENSE\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nIf you did not receive a copy of the PHP license, or have any\nquestions about PHP licensing, please contact license@php.net.\n</code></pre>\n"},{"tags":["php","web-services","soap"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":7501,"score":2,"question_id":4906871,"title":"Fatal error: Uncaught SoapFault exception: [WSDL]","body":"<p>I'm having trouble calling a web service I've set up from PHP. The obfuscated adress <code>http://XXX.XXX.XXX.XXX/test.asmx?wsdl</code> in the error message below returns a valid WSDL. I've successfully tried to call it as a web service using a VB.net client, but when I call it from PHP on Debian I get the following message:</p>\n\n<pre>\nFatal error: Uncaught SoapFault exception: [WSDL] SOAP-ERROR: Parsing WSDL:\n  Couldn't load from 'http://XXX.XXX.XXX.XXX/test.asmx?wsdl'\n  in /var/www/domain/mywebsite.com/public_html/catalog/fomeus/orders.php:101\n\nStack trace:\n  #0 /var/www/domain/mywebsite.com/public_html/catalog/fomeus/orders.php(101):\n    SoapClient->SoapClient('http://XXX.XXX.XXX.XXX/', Array) #1 {main} thrown\n    in /var/www/domain/mywebsite.com/public_html/catalog/fomeus/orders.php\n    on line 101\n</pre>\n\n<p>What could the problem be? I've included my code for the web service and the PHP client below.</p>\n\n<p><strong>Web Service:</strong></p>\n\n<pre><code>Imports System.Web.Services\nImports System.Web.Services.Protocols\nImports System.ComponentModel\n...\n' To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line.\n' &lt;System.Web.Script.Services.ScriptService()&gt; _\n&lt;System.Web.Services.WebService(Namespace:=\"http://tempuri.org/\")&gt; _\n&lt;System.Web.Services.WebServiceBinding(ConformsTo:=WsiProfiles.BasicProfile1_1)&gt; _\n&lt;ToolboxItem(False)&gt; _\nPublic Class WebService1\nInherits System.Web.Services.WebService \n    &lt;WebMethod()&gt; _\n    Public Function HelloWorld() As String\n        Return \"Hello World\"\n    End Function\nEnd Class\n</code></pre>\n\n<p><strong>PHP client:</strong></p>\n\n<pre><code>require_once($_SERVER['DOCUMENT_ROOT'].\"/catalog/fomeus/includes/soap/nusoap.php\");\n\n$objClient = new soapclient(\"http://XXX.XXX.XXX.XXX/test.asmx?wsdl\",\n    array('trace' =&gt; 1, 'exception' =&gt; 0, 'cache_wsdl' =&gt; 0));\n\nprint_r($objClient -&gt; HelloWorld());\n</code></pre>\n\n<p>I'm using PHP version 5.2.6 if that's of any help. I've been going through plenty of posts in different forums trying to figure out what the problem is. Many people have had the same issue, but none of the solutions I've found so far work for me. Any help would be greatly appreciated.</p>\n"},{"tags":["php","mysql","phpmyadmin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":70,"score":-2,"question_id":13205077,"title":"Auto Create PHP Scripts from a Mysql Database?","body":"<p>Is there any free site/software that can take a MYSQL database structure\nand auto generate the html forms, and php code to insert, modify, and delete.</p>\n\n<p>I used it a few years ago to quickly develop a prototype.</p>\n\n<p>I came across this in my search tonight:</p>\n\n<p><a href=\"http://www.fpmg.co.cc/index.php\" rel=\"nofollow\">http://www.fpmg.co.cc/index.php</a></p>\n\n<p>But it doesn't read an existing mysql database or table (that i know of)\nbut it's similar in terms that it will auto generate all the form/html and php code </p>\n\n<p><strong>* Import DDL Statements from this link does this a little bit too after looking into it\n*</strong> Not 100% what I needed, but it could help a little</p>\n\n<p>==========================</p>\n\n<h1><strong>This worked for me below.</strong> Nov.5th,2012</h1>\n\n<p>Update: using this: <a href=\"http://www.turningturnip.co.uk/free-mysql-php-generator/generator.php\" rel=\"nofollow\">http://www.turningturnip.co.uk/free-mysql-php-generator/generator.php</a> created this with this link: <a href=\"http://www.turningturnip.co.uk/free-mysql-php-generator/web-code-creator.php\" rel=\"nofollow\">http://www.turningturnip.co.uk/free-mysql-php-generator/web-code-creator.php</a></p>\n\n<pre><code>CREATE TABLE `test` (\n`id` int(6) NOT NULL auto_increment,\n`firstname` varchar(255) NOT NULL default '',\n        `lastname` varchar(255) NOT NULL default '',\n        `ssn` varchar(255) NOT NULL default '',\n        PRIMARY KEY  (`id`),\nUNIQUE KEY `id` (`id`)\n)\nENGINE=MyISAM AUTO_INCREMENT=1;\n</code></pre>\n"},{"tags":["php","windows","phpunit","cli"],"answer_count":3,"favorite_count":7,"up_vote_count":11,"down_vote_count":0,"view_count":2688,"score":11,"question_id":5614204,"title":"PHPUnit Command Line Tool Not working","body":"<p>I run XAMPP on windows. </p>\n\n<p>I've recently downloaded PHPUnit from the PEAR CLI tool. </p>\n\n<p>Everything looks fine, (eclipse correctly suggests code completion so it means that it was correctly added to the include_path),<strong>but</strong> whenever I try and get it to work via console by typing <code>phpunit</code> (it's in the environmental PATH variable), it hangs on for a seconds or two and then closes( as if it was terminated).</p>\n\n<p>I've tried <code>phpunit --help</code> also, and no success.</p>\n\n<p>Also tried <code>phpunit --verbose</code>.</p>\n\n<p>Has anyone else had that same problem or knows the solution?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","sql","user","expire"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13258951,"title":"redirect to page if expiration date = today's date?","body":"<p>I have a site with users on. Each users account has an expiration date in mysql table 'subscription_expires'.</p>\n\n<p>Is there a way to redirect a user to another page other than dashboard.php if their profile or the 'subscription_expires' is = to todays date after an attempt of login in which says their profile has expired. </p>\n\n<p>I've tried to have a go by using 'sub_expires' etc but no luck it still logs the user in if their profile is expired. </p>\n\n<p>here's my login script:</p>\n\n<pre><code>&lt;?php\n\n    if (logged_in()) {\n        redirect_to(\"dashboard.php\");\n    }\n\n    include_once(\"includes/form_functions.php\");\n\n    // START FORM PROCESSING\n    if (isset($_POST['submit'])) { // Form has been submitted.\n        $errors = array();\n\n        // perform validations on the form data\n        $required_fields = array('email', 'password');\n        $errors = array_merge($errors, check_required_fields($required_fields, $_POST));\n\n        $fields_with_lengths = array('email' =&gt; 30, 'password' =&gt; 30);\n        $errors = array_merge($errors, check_max_field_lengths($fields_with_lengths, $_POST));\n\n        $email = trim(mysql_prep($_POST['email']));\n        $password = trim(mysql_prep($_POST['password']));\n        $hashed_password = md5($password);\n\n        if ( empty($errors) ) {\n            // Check database to see if email and the hashed password exist there.\n            $query = \"SELECT id, email, close_account \";\n            $query .= \"FROM ptb_users \";\n            $query .= \"WHERE email = '{$email}' \";\n            $query .= \"AND password = '{$hashed_password}' \";\n            $query .= \"AND close_account = '0' \";\n            $query .= \"LIMIT 1\";\n            $result_set = mysql_query($query);\n            confirm_query($result_set);\n            if (mysql_num_rows($result_set) == 1) {\n                // email/password authenticated\n                // and only 1 match\n                $found_user = mysql_fetch_array($result_set);\n                $_SESSION['user_id'] = $found_user['id'];\n                $_SESSION['email'] = $found_user['email'];\n                $_SESSION['sub_expires'] = $found_user['subscription_expires'];\n\n                $result = mysql_query(\"UPDATE ptb_users SET user_online='Online' WHERE id=\".$_SESSION['user_id'].\"\") \nor die(mysql_error());\n\n\n                redirect_to(\"dashboard.php\");\n            } else {\n                // email/password combo was not found in the database\n                $message = \"&lt;div class=\\\"infobox\\\"&gt;&lt;strong&gt;Email/Password combination incorrect.&lt;/strong&gt;&lt;br /&gt;\n                    Please make sure your caps lock key is off and try again.&lt;/div&gt;\";\n            }\n\n                } else {\n            if (count($errors) == 1) {\n                $message = \"&lt;div class=\\\"infobox\\\"&gt;There was 1 error in the form.&lt;div&gt;\";\n\n\n            } else {\n                $message = \"&lt;div class=\\\"infobox\\\"&gt;There were \" . count($errors) . \" errors in the form.&lt;div&gt;\";\n            }\n        }\n\n\n    } else { // Form has not been submitted.\n        if (isset($_GET['logout']) &amp;&amp; $_GET['logout'] == 1) {\n            $message = \"&lt;div class=\\\"infobox\\\"&gt;You are now logged out.&lt;/div&gt;\";\n        } \n        $email = \"\";\n        $password = \"\";\n    }\n?&gt;\n            &lt;?php if (!empty($message)) {echo \"&lt;p class=\\\"message\\\"&gt;\" . $message . \"&lt;/p&gt;\";} ?&gt;\n            &lt;?php if (!empty($errors)) { display_errors($errors); } ?&gt;\n            &lt;form action=\"login.php\" method=\"post\"&gt;\n\nEmail&lt;br /&gt;\n&lt;input name=\"email\" type=\"text\" value=\"&lt;?php echo htmlentities($email); ?&gt;\" size=\"40\" maxlength=\"50\" /&gt;\n\n  &lt;br /&gt;\n  &lt;br /&gt;\n  Password&lt;br /&gt;\n  &lt;input name=\"password\" type=\"password\" value=\"&lt;?php echo htmlentities($password); ?&gt;\" size=\"40\" maxlength=\"30\" /&gt;\n\n  &lt;br /&gt;\n  &lt;br /&gt;\n&lt;input type=\"submit\" name=\"submit\" value=\"Login\" /&gt;\n\n\n            &lt;/form&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":56,"score":-5,"question_id":13259157,"title":"Check if email exists via jquery/ajax","body":"<p>I have the following code that works perfect for adding an entry to my database. however, 2 issues.</p>\n\n<p>I'm new to sending things via ajax and i have a pretty good understanding of php, so i know the traditional way of checking etc. I just dont know how to incorporate the email check into my ajax code. Code is below:</p>\n\n<pre><code>$(document).ready(function(){\n$(\"#RegisterInterest\").submit(function(e) {\n    $.ajax({\n        type: \"POST\",\n        url: \"registerinterest.php\",\n        data: $(e.target).serialize(),\n        dataType: \"json\",\n        error: function(jqXHR, textStatus, errorThrown){\n            $('#FormHolder').fadeOut();\n            $('#FormFail').fadeIn();\n            //$('#error-output').html(errorThrown);\n        },\n        success: function(data){\n            $('#FormHolder').fadeOut();\n            $('#FormSuccess').fadeIn();\n            //$('#success-output').html(data);\n        }\n    });\n    return false;\n});\n});\n</code></pre>\n\n<p>Like i say, it inserts data fine. I just need to make it check for an empty field and throw up and error and not insert to database, and the same when the email already exists</p>\n"},{"tags":["php","security","symfony2","symfony-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13233026,"title":"Catch AccountStatusException","body":"<p>I would like to implement a custom logic for my users implementing the <a href=\"http://api.symfony.com/2.1/Symfony/Component/Security/Core/User/AdvancedUserInterface.html\" rel=\"nofollow\">AdvancedUserInterface</a></p>\n\n<p>I would like to allow non-enabled users to access some zones (like the account zone where they can change their e-mail if they made a mistake).</p>\n\n<p>According to the documentation : </p>\n\n<blockquote>\n  <p>If any of the methods in this interface return false, authentication\n  will fail.</p>\n  \n  <p>If you need to perform custom logic for any of these situations, then\n  you will need to register an exception listener and watch for the\n  specific exception instances thrown in each case. All exceptions are a\n  subclass of AccountStatusException</p>\n</blockquote>\n\n<p>So I tried to create a Listener by adapting <a href=\"http://symfony.com/doc/current/cookbook/service_container/event_listener.html\" rel=\"nofollow\">this cookbook article</a> to the security events :</p>\n\n<pre><code>&lt;?php\n\nnamespace Acme\\DemoBundle\\Listener;\n\n\nuse Symfony\\Component\\Security\\Core\\SecurityContextInterface;\n\nuse Symfony\\Component\\Security\\Core\\Exception\\AccountStatusException;\n\nclass NecdocPatientExceptionListener\n{\n    public function onKernelException($event)\n    {\n        // Handle event\n    }\n}\n</code></pre>\n\n<p>And I've added it to the bundle's services.xml :</p>\n\n<pre><code>services:\n    kernel.listener.acme_user_exception_listener:\n        class: Acme\\DemoBundle\\Listener\\AcmeExceptionListener\n        tags:\n            - { name: kernel.event_listener, event: security.authentication.success, method: onKernelException }\n</code></pre>\n\n<p>This catches \"AuthenticationFailureEvent\" : when the user enters bad credentials, but not AccountStatusException.\nI've been looking to the Security component code, and it seems that exceptions are caught without triggering any events.\nIs there a way to catch those exceptions anyways ?</p>\n"},{"tags":["php","xslt","conditional-statements","choose"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13241038,"title":"PHP XSL Conditional Statement (CHOOSE, WHEN, IF, OTHERWISE) Causes 500 Internal Server Error","body":"<p>Here's the problem. I am taking returned XML data that is returned from a web application and processing it into HTML through XSLT for the user to see. This works flawlessly on my local WAMP server (Apache 2.2.21, PHP 5.3.8, libxml 2.7.8, libxslt 1.1.23). However when I load it onto my Arvixe Hosted server (Apache 2.2.23, PHP 5.2.17, libxml 2.7.8, libxslt 1.1.27) it fails. I was able to drill down and discover that the xsl transformation is working until I incorporate any conditional statement (choose, when, if, otherwise, etc.) at which point it throws a \"500 Internal Server Error\". I have checked the error logs and there is nothing related to the problem. If I eliminate all conditional statements and only display the values of each XML node:</p>\n\n<pre><code>&lt;xsl:value-of select=\"MORTGAGEDATA/APPLICATION/UNDERWRITINGCASE/FHAVA/CaseTypeCD\"/&gt;\n</code></pre>\n\n<p>Everything works fine</p>\n\n<p>But if I add in a conditional statement:</p>\n\n<pre><code>    &lt;xsl:choose&gt;        \n        &lt;xsl:when test=\"MORTGAGEDATA/APPLICATION/UNDERWRITINGCASE/FHAVA/FHAVAFieldOfficeCode = '0670'\"&gt;\n            &lt;xsl:text&gt;Tulsa, OK&lt;/xsl:text&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:when test=\"MORTGAGEDATA/APPLICATION/UNDERWRITINGCASE/FHAVA/FHAVAFieldOfficeCode = '0339'\"&gt;\n            &lt;xsl:text&gt;Washington, DC&lt;/xsl:text&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:when test=\"MORTGAGEDATA/APPLICATION/UNDERWRITINGCASE/FHAVA/FHAVAFieldOfficeCode = '0344'\"&gt;\n            &lt;xsl:text&gt;Wilmington, DE&lt;/xsl:text&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:otherwise&gt;\n            &lt;xsl:text&gt;Not Applicable&lt;/xsl:text&gt;\n        &lt;/xsl:otherwise&gt;\n    &lt;/xsl:choose&gt;\n</code></pre>\n\n<p>The browser displays a 500 Internal Server Error</p>\n\n<p>Anyone have any clue what could cause this?</p>\n\n<p>At my wits end! Cannot for the life of me figure out why this is happening. </p>\n"},{"tags":["php","xml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":3443952,"title":"XML file validation using PHP","body":"<p>I am using DOMDocument for xml file validation. It takes more than 30 minutes in validating a 67MB xml file. Is there any other way to improve this checking time?</p>\n"},{"tags":["php","codeigniter","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13163649,"title":"Doctrine inconsistently and silently fails to load model","body":"<p>Ok, I'm using Doctrine2 in Codeigniter along the lines of <a href=\"http://www.joelverhagen.com/blog/2011/05/setting-up-codeigniter-2-with-doctrine-2-the-right-way/\" rel=\"nofollow\">Joel Verhagen</a> and things have been working fine, but now I have a mysterious issue.</p>\n\n<p>When destroying an item things work fine:</p>\n\n<pre><code>$delete = $this-&gt;doctrine-&gt;em-&gt;getRepository('Entities\\Item')-&gt;findOneBy(array('slug' =&gt; $item));\n$this-&gt;doctrine-&gt;em-&gt;remove($delete);\n$this-&gt;doctrine-&gt;em-&gt;flush();\n</code></pre>\n\n<p>but updating an item fails, silently, right after the getRepository():</p>\n\n<pre><code>$item = $this-&gt;doctrine-&gt;em-&gt;getRepository('Entities\\Item')-&gt;findOneBy(array('id' =&gt; $id));\n$item-&gt;setDescription(html_entity_decode($_POST['content']));\n$this-&gt;doctrine-&gt;em-&gt;persist($item);\n$this-&gt;doctrine-&gt;em-&gt;flush();\n</code></pre>\n\n<p>Same controller, and that is all the code in each action. All of my other controllers are fine, but this fails with nothing in any logs. Splitting the getRepository and find calls dies right after the getRepository. Moving the getRepository into the __construct causes update() to die with the find.</p>\n\n<p>Thoughts? Leads? It seems anyone else on SO ends up either going a different direction or never having solved the problem.</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>Edit:\nAdd Models</p>\n\n<p>Yaml</p>\n\n<p>Item</p>\n\n<pre><code>Entities\\Item:\n    type: entity\n    table: items\n    id:\n        id:\n            type: integer\n            primary: true\n            notnull: true\n            generator:\n                strategy: AUTO\n    fields:\n        title:\n            type: string(255)\n            notnull: true\n        slug:\n            type: string(255)\n            notnull: true\n        description:\n            type: string(255)\n    manyToOne:\n        type:\n            targetEntity: Type\n            inversedBy: item\n            joinColumn:\n                name: type_id\n                referencedColumnName: id\n    options:\n        charset: utf8\n        type: InnoDB\n</code></pre>\n\n<p>Type</p>\n\n<pre><code>Entities\\Type:\n    type: entity\n    table: types\n    id:\n        id:\n            type: integer\n            primary: true\n            notnull: true\n            generator:\n                strategy: AUTO\n    fields:\n        title:\n            type: string(255)\n            notnull: true\n        slug:\n            type: string(255)\n            notnull: true\n        description:\n            type: string(255)\n    oneToMany:\n        items:\n            targetEntity: Item\n            orphanRemoval: true\n            mappedBy: type\n    manyToMany:\n        fields:\n            targetEntity: Field\n            inversedBy: types\n            joinTable:\n                name: fields_types\n                joinColumns:\n                    type_id:\n                        referencedColumnName: id\n                inverseJoinColumns:\n                    field_id:\n                        referencedColumnName: id\n    options:\n        charset: utf8\n        type: InnoDB\n</code></pre>\n\n<hr>\n\n<p>PHP</p>\n\n<p>Item</p>\n\n<pre><code>&lt;?php\n\nnamespace Entities;\n\nuse Doctrine\\ORM\\Mapping as ORM;\n\n/**\n * Entities\\Item\n */\nclass Item\n{\n    /**\n     * @var integer $id\n     */\n    private $id;\n\n    /**\n     * @var string $title\n     */\n    private $title;\n\n    /**\n     * @var string $description\n     */\n    private $description;\n\n    /**\n     * @var \\Doctrine\\Common\\Collections\\ArrayCollection\n     */\n    private $fields;\n\n    /**\n     * Constructor\n     */\n    public function __construct()\n    {\n        $this-&gt;fields = new \\Doctrine\\Common\\Collections\\ArrayCollection();\n    }\n\n    /**\n     * Get id\n     *\n     * @return integer \n     */\n    public function getId()\n    {\n        return $this-&gt;id;\n    }\n\n    /**\n     * Set title\n     *\n     * @param string $title\n     * @return Item\n     */\n    public function setTitle($title)\n    {\n        $this-&gt;title = $title;\n\n        return $this;\n    }\n\n    /**\n     * Get title\n     *\n     * @return string \n     */\n    public function getTitle()\n    {\n        return $this-&gt;title;\n    }\n\n    /**\n     * Set description\n     *\n     * @param string $description\n     * @return Item\n     */\n    public function setDescription($description)\n    {\n        $this-&gt;description = $description;\n\n        return $this;\n    }\n\n    /**\n     * Get description\n     *\n     * @return string \n     */\n    public function getDescription()\n    {\n        return $this-&gt;description;\n    }\n\n    /**\n     * Add fields\n     *\n     * @param Entities\\Field $fields\n     * @return Item\n     */\n    public function addField(\\Entities\\Field $fields)\n    {\n        $this-&gt;fields[] = $fields;\n\n        return $this;\n    }\n\n    /**\n     * Remove fields\n     *\n     * @param Entities\\Field $fields\n     */\n    public function removeField(\\Entities\\Field $fields)\n    {\n        $this-&gt;fields-&gt;removeElement($fields);\n    }\n\n    /**\n     * Get fields\n     *\n     * @return Doctrine\\Common\\Collections\\Collection \n     */\n    public function getFields()\n    {\n        return $this-&gt;fields;\n    }\n    /**\n     * @var Entities\\Type\n     */\n    private $types;\n\n\n    /**\n     * Set types\n     *\n     * @param Entities\\Type $types\n     * @return Item\n     */\n    public function setTypes(\\Entities\\Type $types = null)\n    {\n        $this-&gt;types = $types;\n\n        return $this;\n    }\n\n    /**\n     * Get types\n     *\n     * @return Entities\\Type \n     */\n    public function getTypes()\n    {\n        return $this-&gt;types;\n    }\n    /**\n     * @var Entities\\Type\n     */\n    private $type;\n\n\n    /**\n     * Set type\n     *\n     * @param Entities\\Type $type\n     * @return Item\n     */\n    public function setType(\\Entities\\Type $type = null)\n    {\n        $this-&gt;type = $type;\n\n        return $this;\n    }\n\n    /**\n     * Get type\n     *\n     * @return Entities\\Type \n     */\n    public function getType()\n    {\n        return $this-&gt;type;\n    }\n    /**\n     * @var string $slug\n     */\n    private $slug;\n\n\n    /**\n     * Set slug\n     *\n     * @param string $slug\n     * @return Item\n     */\n    public function setSlug($slug)\n    {\n        $this-&gt;slug = $slug;\n\n        return $this;\n    }\n\n    /**\n     * Get slug\n     *\n     * @return string \n     */\n    public function getSlug()\n    {\n        return $this-&gt;slug;\n    }\n}\n</code></pre>\n\n<p>Type</p>\n\n<pre><code>&lt;?php\n\nnamespace Entities;\n\nuse Doctrine\\ORM\\Mapping as ORM;\n\n/**\n * Entities\\Type\n */\nclass Type\n{\n    /**\n     * @var integer $id\n     */\n    private $id;\n\n    /**\n     * @var string $title\n     */\n    private $title;\n\n    /**\n     * @var string $description\n     */\n    private $description;\n\n    /**\n     * @var \\Doctrine\\Common\\Collections\\ArrayCollection\n     */\n    private $items;\n\n    /**\n     * Constructor\n     */\n    public function __construct()\n    {\n        $this-&gt;items = new \\Doctrine\\Common\\Collections\\ArrayCollection();\n    }\n\n    /**\n     * Get id\n     *\n     * @return integer \n     */\n    public function getId()\n    {\n        return $this-&gt;id;\n    }\n\n    /**\n     * Set title\n     *\n     * @param string $title\n     * @return Type\n     */\n    public function setTitle($title)\n    {\n        $this-&gt;title = $title;\n\n        return $this;\n    }\n\n    /**\n     * Get title\n     *\n     * @return string \n     */\n    public function getTitle()\n    {\n        return $this-&gt;title;\n    }\n\n    /**\n     * Set description\n     *\n     * @param string $description\n     * @return Type\n     */\n    public function setDescription($description)\n    {\n        $this-&gt;description = $description;\n\n        return $this;\n    }\n\n    /**\n     * Get description\n     *\n     * @return string \n     */\n    public function getDescription()\n    {\n        return $this-&gt;description;\n    }\n\n    /**\n     * Add items\n     *\n     * @param Entities\\Item $items\n     * @return Type\n     */\n    public function addItem(\\Entities\\Item $items)\n    {\n        $this-&gt;items[] = $items;\n\n        return $this;\n    }\n\n    /**\n     * Remove items\n     *\n     * @param Entities\\Item $items\n     */\n    public function removeItem(\\Entities\\Item $items)\n    {\n        $this-&gt;items-&gt;removeElement($items);\n    }\n\n    /**\n     * Get items\n     *\n     * @return Doctrine\\Common\\Collections\\Collection \n     */\n    public function getItems()\n    {\n        return $this-&gt;items;\n    }\n    /**\n     * @var \\Doctrine\\Common\\Collections\\ArrayCollection\n     */\n    private $fields;\n\n\n    /**\n     * Add fields\n     *\n     * @param Entities\\Field $fields\n     * @return Type\n     */\n    public function addField(\\Entities\\Field $fields)\n    {\n        $this-&gt;fields[] = $fields;\n\n        return $this;\n    }\n\n    /**\n     * Remove fields\n     *\n     * @param Entities\\Field $fields\n     */\n    public function removeField(\\Entities\\Field $fields)\n    {\n        $this-&gt;fields-&gt;removeElement($fields);\n    }\n\n    /**\n     * Get fields\n     *\n     * @return Doctrine\\Common\\Collections\\Collection \n     */\n    public function getFields()\n    {\n        return $this-&gt;fields;\n    }\n    /**\n     * @var string $slug\n     */\n    private $slug;\n\n\n    /**\n     * Set slug\n     *\n     * @param string $slug\n     * @return Type\n     */\n    public function setSlug($slug)\n    {\n        $this-&gt;slug = $slug;\n\n        return $this;\n    }\n\n    /**\n     * Get slug\n     *\n     * @return string \n     */\n    public function getSlug()\n    {\n        return $this-&gt;slug;\n    }\n}\n</code></pre>\n"},{"tags":["php","wordpress"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13184551,"title":"how to set a defult sort for wordpress post types","body":"<p>I have made a post type \"events\", that use a custom field \"Datum\" (swedish for date).\nI want the default view for this post type to be sorted by this field.</p>\n\n<p>so far i got:</p>\n\n<pre><code> register_post_type(\n                'events',\n                array(\n                        'labels' =&gt; array(\n                                'name' =&gt; __( 'Arrangemang' ),\n                                'singular_name' =&gt; __( 'Arrangemang' )\n                        ),\n                        'supports' =&gt; array(\n                                'title',\n                                'editor',\n                                'custom-fields'\n                        ),\n                        'public' =&gt; true,\n                        'has_archive' =&gt; true,\n                        'query_var' =&gt; array(\n                                'post_type' =&gt; 'events',\n                                'meta_key' =&gt; 'Datum',\n                                'orderby' =&gt; 'meta_value',\n                                'order' =&gt; 'ASC',\n                        ),\n                )\n        );\n</code></pre>\n\n<p>but the ordering dosn't work, if I on the archive page for events run: <code>print_r($wp_query-&gt;query_vars);</code> i get:</p>\n\n<pre><code>Array\n(\n    [post_type] =&gt; events\n    [error] =&gt; \n    [m] =&gt; 0\n    [p] =&gt; 0\n    [post_parent] =&gt; \n    [subpost] =&gt; \n    [subpost_id] =&gt; \n    [attachment] =&gt; \n    [attachment_id] =&gt; 0\n    [name] =&gt; \n    [static] =&gt; \n    [pagename] =&gt; \n    [page_id] =&gt; 0\n    [second] =&gt; \n    [minute] =&gt; \n    [hour] =&gt; \n    [day] =&gt; 0\n    [monthnum] =&gt; 0\n    [year] =&gt; 0\n    [w] =&gt; 0\n    [category_name] =&gt; \n    [tag] =&gt; \n    [cat] =&gt; \n    [tag_id] =&gt; \n    [author_name] =&gt; \n    [feed] =&gt; \n    [tb] =&gt; \n    [paged] =&gt; 0\n    [comments_popup] =&gt; \n    [meta_key] =&gt; \n    [meta_value] =&gt; \n    [preview] =&gt; \n    [s] =&gt; \n    [sentence] =&gt; \n    [fields] =&gt; \n    [category__in] =&gt; Array\n        (\n        )\n\n    [category__not_in] =&gt; Array\n        (\n        )\n\n    [category__and] =&gt; Array\n        (\n        )\n\n    [post__in] =&gt; Array\n        (\n        )\n\n    [post__not_in] =&gt; Array\n        (\n        )\n\n    [tag__in] =&gt; Array\n        (\n        )\n\n    [tag__not_in] =&gt; Array\n        (\n        )\n\n    [tag__and] =&gt; Array\n        (\n        )\n\n    [tag_slug__in] =&gt; Array\n        (\n        )\n\n    [tag_slug__and] =&gt; Array\n        (\n        )\n\n    [meta_query] =&gt; Array\n        (\n        )\n\n    [ignore_sticky_posts] =&gt; \n    [suppress_filters] =&gt; \n    [cache_results] =&gt; 1\n    [update_post_term_cache] =&gt; 1\n    [update_post_meta_cache] =&gt; 1\n    [posts_per_page] =&gt; 100\n    [nopaging] =&gt; \n    [comments_per_page] =&gt; 50\n    [no_found_rows] =&gt; \n    [order] =&gt; DESC\n    [orderby] =&gt; wp_posts.post_date DESC\n)\n</code></pre>\n\n<p>have i misunderstand the argument query_var for register_post_type\nor why isn't is sorting the list as i asked for?</p>\n"},{"tags":["php","apache","curl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13259136,"title":"Worked and than stopped working... CURLOPT_FOLLOWLOCATION cannot be activated when safe_mode is enabled -","body":"<p>I have just written a code which has worked well. It has got the data with CURL, I have run the .php file 2x times, but for the 3rd time I got this message all over the site: <code>CURLOPT_FOLLOWLOCATION cannot be activated when safe_mode is enabled or an open_basedir is set in</code></p>\n\n<p>I have NOT changed anything. What could be the problem? So it has worked well, than stopped working...</p>\n"},{"tags":["php","mysql","orm","symfony1","cpu-speed"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":267,"score":1,"question_id":11294747,"title":"What performance improvements can I make to Symfony + Doctrine?","body":"<p>I've recently built a reasonably complex database application for a university handling almost 200 tables. Some tables can (e.g. Publications) hold 30 or more fields and store 10 one-to-one FK relations and up to 2 or 3 many-to-many FK relations (using crossreference-ref tables). I use integer IDs throughout and normalisation has been key every step of the way. AJAX is minimal and most pages are standard CRUD forms/processes.</p>\n\n<p>I used Symfony 1.4, and Doctrine ORM 1.2, MySQL, PHP.</p>\n\n<p>While the benefits to development time and ease of maintenance have been enormous (in using an MVC and ORM), we've been having problems with speed. That is, when we have more than a few users logged in and active at any one time the application slows considerbly (up to 20 seconds to save or edit a record).</p>\n\n<p>We're currently engaged in discussions with our SysAdmin but they say that we should have more than enough power. With 6 or more users engaged in activity, we end up queuing 4 CPUs in a virtual server environment while memory usage is low (no bleeds).</p>\n\n<p>Of course, we're considering multi-threading our mySQL application (if this will help), refining our code (though much of it is generated by the MVC) and refining our cache usage (this could be better, though the majority of the screen used is user-login specific and dynamic); we've installed APC, extra memory, de-fragmented our database, I've tried unsetting all recordsets (though I understand this is now automatic within the ORM), instigating manual garbage recycling...</p>\n\n<p>But the question I'm asking is whether mySQL, PHP, and Symfony MVC was actually a poor choice for developing an application of this size in the first place? If so, what do people normally use/recommend for a web-based database interface application of this kind of size/complexity?</p>\n"},{"tags":["php","fuelphp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13254795,"title":"Using variables in Model Crud with Advanced Usage with Closure","body":"<pre><code>echo $slot-&gt;id;\n$slot-&gt;players = (Model_Players::find(function ($query)\n{\n    return $query-&gt;join('users')\n        -&gt;on('players.player', '=', 'users.id')\n        -&gt;where('players.slot', $slot-&gt;id);\n})) ?: array();\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>4\n\nErrorException [ Notice ]: Undefined variable: slot  \nAPPPATH/classes/controller/booking.php @ line 98:  \n98: -&gt;where('players.slot', $slot-&gt;id);\n</code></pre>\n\n<p>How do I send the <code>$slot</code> object into the function?</p>\n"},{"tags":["php","mysql","fulltext"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13259090,"title":"Mysql Fulltext search with different number of columns","body":"<p>I've been taking my first stab at Fulltext searching and am having trouble getting the query to work. Here's the new code I've been trying (from a PHP file):</p>\n\n<pre><code>$browse_all_query = \"(SELECT master_id, title, series_id, series_number, year, date, day, month, speaker_id, speaker2_id, speaker3_id \" .\n                    \"FROM master \" .\n                    \"WHERE MATCH (title) AGAINST ($where_clause)) \" .\n                    \"UNION \" .\n                    \"(SELECT camp_name, camp_id \" .\n                    \"FROM camp \" .\n                    \"WHERE MATCH (camp_name) AGAINST ($where_clause)) \" .\n                    \"UNION \" .\n                    \"(SELECT subject_name, subject_id \" .\n                    \"FROM subject \" .\n                    \"WHERE MATCH (subject_name) AGAINST ($where_clause)) \" .\n                    \"UNION \" .\n                    \"(SELECT speaker_id, s_title, f_name, m_name, l_name, l_name2 \" .\n                    \"FROM speaker \" .\n                    \"WHERE MATCH (s_title, f_name, m_name, l_name, l_name2) AGAINST ($where_clause)) \" .\n                    \"UNION \" .\n                    \"(SELECT series_title, series_id \" .\n                    \"FROM series \" .\n                    \"WHERE MATCH (series_title) AGAINST ($where_clause)) \";\n</code></pre>\n\n<p>Now, I understand that a big issue for me here is that I have different numbers of columns in my select statements as well as different data types. What I need is to figure out how I can pull all the information I need from all the columns I've selected, yet still use fulltext search.  This is an online audio library. I'm using a regular WHERE/LIKE setup now, but unfortunately using that method, searching for one speaker's name (Glenn Clark) brings up results for \"glenn\" and \"clark\" wherever they are used as I sanitize and separate my keywords....not to mention that the \"speaker\" table has separate columns for first name and last name.</p>\n\n<p>What would be the best way around this?</p>\n\n<p>My table structure is:</p>\n\n<ol>\n<li>Master (the main table with 13 columns)</li>\n<li>Speaker (6 columns)</li>\n<li>Camp (3 columns)</li>\n<li>Series (6 columns)</li>\n<li>Subject (2 columns)</li>\n</ol>\n\n<p>In my current code I was selecting all the extra bits of information not directly relative to the search at the same time I ran the search, as I use those bits (like all the \"id\" fields) to output all the information I needed for the results as seen here:\n<img src=\"http://i.stack.imgur.com/HgNx2.jpg\" alt=\"enter image description here\"></p>\n\n<p>Am I needing additional queries or am I going about this completely the wrong way.</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["php","mysql","web-applications","seo"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":38,"score":-2,"question_id":13258532,"title":"How do sites use referral URLs without running into SEO issues?","body":"<p>I was looking through a few websites recently and noticed a trend I'm not sure I understand. Sites are creating unique referral URLs for customers in the form of:</p>\n\n<p><a href=\"http://customname.site.com\" rel=\"nofollow\">http://customname.site.com</a></p>\n\n<p>(If somebody were to use <a href=\"http://www.site.com/customname\" rel=\"nofollow\">http://www.site.com/customname</a> it would function the same way).</p>\n\n<p>I can see the sites are using 302 redirects at some point using Google Chrome then doing some sort of htaccess redirect, taking the subdomain name (customname) and applying it as a referral parameter then keeping in session during the entire process.</p>\n\n<p>However, there must be thousands of these custom URLs that people are typing in. How are each one of these \"subdomains\" not treated as separate URLs which in turn are redirected to the same page (in short, generating tons of links all pointing to the same page which Google would normally frown upon)? Additionally, the links also appear on the site themselves as clickable links so I'm not sure how these are not tracked.</p>\n\n<p>Similarly, the \"unique\" url is not indexed or cached in any Google search results. How is this capability handled?</p>\n\n<p>It does NOT highlight the referral aspect, but a true example of this is visiting <a href=\"http://sfgiants.com\" rel=\"nofollow\">http://sfgiants.com</a> which does a 302 redirect to the much longer proper San Francisco Giants MLB homepage. I am wondering how SFgiants.com is not indexed (assuming that direct shortened link appears on several MLB pages)?</p>\n\n<h2>Note:</h2>\n\n<p>Some users on here are way too uptight and think everybody is trying to scamp them or get them to signup for something. Above are made up URLs but if you want an actual site to browse for reference let me know.</p>\n"},{"tags":["php","ajax","path"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13247553,"title":"Path issue with autoload function to get files for use in Ajax","body":"<p>So my project uses an MVC framework and I have a page with an Ajax script I run to get content from the server.  When the PHP script is called in the Ajax script, I want to access the classes already in my library for use in the PHP script.  To do this, I use what I call an ajaxBootstrap to call the appropriate function that then instantiates the objects needed for that specific Ajax script.</p>\n\n<p>To load those classes from my library I have an autoload function in my ajaxBootstrap so I don't need to use a bunch of require and include statements.  My problem is those files aren't being loaded due to a path issue with the autoload function.  When I use a require statement with the same path, the classes load with no problems, its only when I try to load them using the autoload function that I get an 500 internal server error.</p>\n\n<p>Here is my ajaxBootstrap file:</p>\n\n<pre><code>// This file routes Ajax requests made in JS files and instantiates a specific object to carry out the actions needed for that particular Ajax operation \n\n// Autoload any classes that are required\nfunction autoLoad($classToLoad)\n{\n    if(file_exists('../library/' . $classToLoad . 'class.php')) // File in the library folder\n    {\n        require('../library/' . $classToLoad . '.class.php');\n   }\n    else if(file_exists('../../app/models/' . $classToLoad . 'class.php')) // File in the models folder\n    {\n        require('../../app/models/' . $classToLoad . '.class.php');\n    }\n}\n\nspl_autoload_register('autoLoad');\n\n// Determine which fucntion to call based on the url that's listed in the Ajax request\nswitch($_GET['action'])\n{\n    case 'pageOne':\n        pageOne();\n        break;\n    case 'pageTwo':\n        pageTwo();\n        break;\n}\n\nfunction pageOne()\n{\n    $test = new Test();\n    $test-&gt;funcThatReturnStuff();\n}\n\nfunction pageTwo()\n{\n    $test2 = new Test2();\n    $test2-&gt;funcThatReturnStuff();\n}\n</code></pre>\n\n<p>Like I mentioned eariler, if I use a require statement such as:</p>\n\n<pre><code>require('../library/Test.class.php');\n$test = new Test();\n$test-&gt;funcThatReturnStuff();\n</code></pre>\n\n<p>The class loads and works just fine.  But using the same path in the autoloader function throws an error.  The really odd thing is if I put an else if statement in the autoloader that loads a class from the folder where my ajaxBootstrap is it also works fine too...</p>\n\n<p>I know I could just use the require statements and be done with the problem but I want to be able to scale the project and not need to use loads of require statements in the future.  BTW, I use '../' to get from where my ajaxBootstrap file is to my other folders.</p>\n\n<p>Also, to add to my previous post, I've tried replacing the <code>../</code> with absolute paths using <code>define('ROOT', dirname(__FILE__) . '/')</code> and also <code>define('ROOT', $_SERVER['DOCUMENT_ROOT'] . '/path/to/folder/')</code> neither of which worked and still gave me the internal server error in Firebug.  In addition, I haven't received any errors in my error log either.</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":["php","mysql","escaping","user-input"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13258964,"title":"Storing user-contributed text with links and formatting","body":"<p>How can I store user contributed text while maintaing links, formatting, etc? (Basically exactly what stack overflow does with our posts)</p>\n\n<p>It seems extremely dangerous to allow any HTML to be stored in text. What are some existing conventions?</p>\n\n<p>Site is built in PHP, databases are MySQL if it matters. </p>\n"},{"tags":["php","symfony2","symfony-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":96,"score":3,"question_id":13179849,"title":"Symfony 2.1 Security Cross Subdomain","body":"<p>Running Symfony 2.1 on an application and we have different sandboxes of the code. Eg. </p>\n\n<ul>\n<li><code>aequasi.someurl.com</code> </li>\n<li><code>dev.someurl.com</code> </li>\n<li><code>hotcarl.someurl.com</code></li>\n</ul>\n\n<p>I cant seem to figure out why, but when im logged into <code>aequasi</code>, and i go to <code>hotcarl</code>, i need to log in again. When i do, it logs me out of <code>aequasi</code>.</p>\n\n<p>All sandboxes are using the same database for auth</p>\n\n<p>i have this in my <code>config.yml</code>:</p>\n\n<pre><code>framework:\n    session:\n        cookie_domain: .someurl.com\n        domain:        .someurl.com\n</code></pre>\n\n<p>ive got the <code>php.ini</code> set up to use the same url too</p>\n\n<p>also, the session_id's are the same</p>\n"},{"tags":["php","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":24,"score":-6,"question_id":13258543,"title":"How to Create menu items automatically when creating a post in WordPress?","body":"<p>i am using wordpress 3.4.2 now my question was whenever i create a post it will be added automatically in main menu  it is possible?</p>\n\n<p>Edit:\n my code:</p>\n\n<pre><code>    /* take care of the urls */\n    add_filter( 'wp_get_nav_menu_items', 'cpt_archive_menu_filter', 10, 3 );\n    function cpt_archive_menu_filter( $items, $menu, $args ) {\n    /* alter the URL for cpt-archive objects */\n\n   $menu_order = count($items); /* Offset menu order */\n\n     $child_items = array();\n   foreach ( $items as &amp;$item ) {\nif ( $item-&gt;object != 'cpt-archive' ) continue;\n$item-&gt;url = get_post_type_archive_link( $item-&gt;type );\n\n/* retrieve all children */\nforeach ( get_posts( 'post_type='.$item-&gt;type.'&amp;numberposts=-1' ) as $post ) {\n  /* hydrate with menu-specific information */\n  $post-&gt;menu_item_parent = $item-&gt;ID;\n  $post-&gt;post_type = 'nav_menu_item';\n  $post-&gt;object = 'custom';\n  $post-&gt;type = 'custom';\n  $post-&gt;menu_order = ++$menu_order;\n  $post-&gt;title = $post-&gt;post_title;\n  $post-&gt;url = get_permalink( $post-&gt;ID );\n  /* add as a child */\n  $child_items []= $post;\n}\n</code></pre>\n\n<p>}\n  return array_merge( $items, $child_items );\n}</p>\n"},{"tags":["php","uservoice"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":9377183,"title":"Using OAuth with UserVoice API","body":"<p>I am currently developing a Facebook App in which I wish to add Uservoice forums and suggestions</p>\n\n<p>I have managed to use the API to pull in the forums and suggestions that have already been created, but I am now wanting to allow the user to create / vote on suggestions within a forum. The documentation at UserVoice does not give examples of setting an app in PHP with Oauth.</p>\n\n<p>I am new the OAuth topic and have done some reading around the subject and understand the fundamentals of how OAuth works but I just dont know how to implement the requests in PHP. Any help would be appreciated </p>\n\n<p>Thanks</p>\n"},{"tags":["php","objective-c","ios","cryptography","aes"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13244260,"title":"Trying to find an Objective-C AES encryption method that works","body":"<p>I have spent hours on Google, StackExchange, etc trying to find a working AES encryption solution.  I cannot seem to find one that works.  I have the following PHP snippet that I would like to work in conjunction with an Objective-C class.  It doesn't matter if I have to switch to AES 128 on the PHP side of things to make it easier.  Could somebody help me since I am not very versed in the cryptography side of things?</p>\n\n<pre><code>&lt;?php\n    class StringOperations {\n        public static function decryptData($data, $key) {\n            return rtrim(mcrypt_decrypt(MCRYPT_RIJNDAEL_256, md5($key), base64_decode($data), MCRYPT_MODE_CBC, md5(md5($key))), \"\\0\");\n        }\n\n        public static function encryptData($data, $key) {\n            return base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, md5($key), $data, MCRYPT_MODE_CBC, md5(md5($key))));\n        }\n    }\n?&gt;\n</code></pre>\n\n<p>If you need anything else to help you answer my question, please comment.</p>\n"},{"tags":["php","api","yahoo","import-contacts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":11925893,"title":"Yahoo YQL testing console and my app are returning different results","body":"<p>yahoo YQL test console can list my contacts. whereas in my application i see no results. Empty. what am i missing ? (I am using php sdk)</p>\n\n<p>i have set up my yahoo application setting contacts and profile features enabled.</p>\n\n<p>I have been working with yahoo api for 2 days. does it have problems ?</p>\n"},{"tags":["php","oop"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":48,"score":-3,"question_id":13258686,"title":"include methods from external php file in a class","body":"<p>I have a class with own methods and on the other side a php file what contains external methods. From documentation is clear that inside of a class includeing external functions is not possible</p>\n\n<p>How could I inculde this functions in my class. Making an another class and extend my first class it can not be an option. </p>\n"},{"tags":["php","vim","autocomplete"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":256,"score":2,"question_id":9863706,"title":"php autocomplete with vim","body":"<p>i'm looking for an php autocomplete solution for vim. I already was at this thread:\n<a href=\"http://stackoverflow.com/questions/1224838/vim-php-omni-completion/2316468\">VIM php omni completion</a>\nbut it doesn't work for me.\nI generate the tags file with this bash script:</p>\n\n<pre><code>#!/bin/bash\nexec ctags -V -f tags \\\n-h \\\".php\\\" -R \\\n--exclude=\\\"\\.git\\\" \\\n--totals=yes \\\n--language-force=PHP \\\n--tag-relative=yes \\\n--PHP-kinds=+cfiv \\\n--regex-PHP='/(abstract)?\\s+class\\s+([^ ]+)/\\2/c/' \\\n--regex-PHP='/(static|abstract|public|protected|private)\\s+(final\\s+)?function\\s+(\\&amp;\\s+)?([^ (]+)/\\4/f/' \\\n--regex-PHP='/interface\\s+([^ ]+)/\\1/i/' \\\n--regex-PHP='/\\$([a-zA-Z_][a-zA-Z0-9_]*)/\\1/v/' \\\nkernel/classes/\n</code></pre>\n\n<p>but the autocomplete is not as desired. I don't even know if the plugin is loading.\nso, how can i see if the plugin is loading? (the plugin is located under bundle, i use pathogen, and other plugins do work..)\nit is necessary to activate something else?\ni have VIM - Vi IMproved 7.3, Exuberant Ctags 5.8</p>\n\n<p>thanks</p>\n"},{"tags":["php","html-parsing","domdocument","libxml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13258756,"title":"Screen Scrape using libxml but simple like SimpleHtmlDom","body":"<p>I tried using SimpleHtmlDom for some screen scraping.  I liked the simple syntax and interface for getting around.  However the memory issues were too problematic.</p>\n\n<p>DomDocument seems to be good, but I having trouble using it.  It's not as intuitive as SimpleHtmlDom.</p>\n\n<p>Is there are any html parsing technology for PHP that uss libxml, but has a JQuery sort of feel as far as selectors? </p>\n"},{"tags":["php","javascript","import"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13258288,"title":"Importing a txt semi-colon delimited file via php and into a new format","body":"<p>I might have bitten off more than I can chew with this one, but hopefully you guys can help. Here's the story.</p>\n\n<p>I have a user generated .txt file that gets updated regularly through the day via a calendar module I have installed on my site. I need to be able to access SOME of that data to block out dates that are reserved in the calendar. First, here's the syntax of the calendar .txt file. To make it more readable, I'll put each segment of data on its own line:</p>\n\n<pre><code>2012-11-08;;1;;0,\n2012-11-09;;1;;0,\n2012-11-10;;1;;0,\n2012-11-13;;2;;0,\n2012-11-14;;2;;0,\n2012-12-05;;1;;150,\n2012-12-06;;1;;150\n</code></pre>\n\n<p>Here's where things get complicated though. I can easily import this using a little php script into my CMS. But I only need certain data from the above feed, and I need it organized in a slightly different format than it's currently being output in. I am using the jquery datepicker on another calendar to show the availability to guests, and I have a JS script that blocks out dates using this format.</p>\n\n<pre><code>var disabledDays = [\n    \"11-21-2012\",\n    \"12-17-2012\",\n    \"12-02-2012\",\n    \"01-03-2013\",\n    \"01-04-2013\",\n    \"01-05-2013\"\n];\n</code></pre>\n\n<p>Any item in the .txt file that has a \"2\" or \"0\" after the date is a \"Booked\" or \"Unavailable\" date, respectively, and needs to be included in the JS feed above; i.e.; 2012-11-13;;2;;0,</p>\n\n<p>The final number in the .txt file, which above was either a 0 or 150 can be discarded entirely, as that's the price and isn't relevant to the JS calendar. And the final thing is the date is in a slightly different order in the .txt file than what I need it to be in the .JS file (which I'll create using PHP).</p>\n\n<p>I am sure all of the above is possible using PHP, but I'm running in circles trying to get this working. Anyone have any ideas?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","friendly-url"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1488,"score":0,"question_id":5205456,"title":".htaccess mod_rewrite > 500 Internal Server Error","body":"<p>I am new with .htaccess, so this might be a dummy question :).</p>\n\n<p>My original link is:</p>\n\n<pre><code>http://example.com/CareerDays/index.php?u_type=admin\n</code></pre>\n\n<p>And I'm trying to make it look like this:</p>\n\n<pre><code>http://example.com/v/admin\n</code></pre>\n\n<p>The entire code looks like this:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^v/([^/]*)$ /CareerDays/index.php?u_type=$1 [L]\n</code></pre>\n\n<p>And I always get \"<strong>500 Internal Server Error</strong>\" :(</p>\n\n<p>Any suggestions ?</p>\n"},{"tags":["php","domdocument","textnode","domelement"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13244420,"title":"Adding marked-up text to DOMDocument in php","body":"<p>Is there a way to add marked up text (with <code>&lt;span&gt;</code>, <code>&lt;p&gt;</code>, <code>&lt;br /&gt;</code>, and the likes) to a text node, without having to create all the mark-up nodes by hand? I dont want to use a CDATASection node.</p>\n\n<p>Edit: I just found the answer. Someone else had asked a very similar question in regards to XML: <a href=\"http://stackoverflow.com/questions/598829/xml-node-with-mixed-content-using-php-dom\">XML node with Mixed Content using PHP DOM</a></p>\n"},{"tags":["php","regex"],"answer_count":7,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":899,"score":1,"question_id":1737881,"title":"RegEx to get the keywords from HTML","body":"<p>I'm trying to obtain the keywords from an HTML page that I'm scraping with PHP. </p>\n\n<p>So, if the keywords tag looks like this:</p>\n\n<pre><code>&lt;meta name=\"Keywords\" content=\"MacUpdate, Mac Software, Macintosh Software, Mac Games, Macintosh Games, Apple, Macintosh, Software, iphone, ipod, Games, Demos, Shareware, Freeware, MP3, audio, sound, macster, napster, macintel, universal binary\"&gt;\n</code></pre>\n\n<p>I want to get this back:</p>\n\n<pre><code>MacUpdate, Mac Software, Macintosh Software, Mac Games, Macintosh Games, Apple, Macintosh, Software, iphone, ipod, Games, Demos, Shareware, Freeware, MP3, audio, sound, macster, napster, macintel, universal binary\n</code></pre>\n\n<p>I've constructed a regex, but it's not doing the trick.</p>\n\n<pre><code>(?i)^(&lt;meta name=\\\"keywords\\\" content=\\\"(.*)\\\"&gt;)\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["php","ajax","facebook","application","chat"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":39,"score":-5,"question_id":13258548,"title":"Needed my chat application to work like Facebook chat","body":"<p>I am working on chat application project using php+ajax. Its working fine but when i post  a message it takes more than 5-8 seconds for ajax to display even thought the ajax is refreshed for every 1 sec, but while comparing to facebook chat app user message will be posted immediately and seen on chat window. How is that done?  are they calling from database or its just temp message from jquery? </p>\n"},{"tags":["php","codeigniter","activerecord","mysqli"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":30,"score":-5,"question_id":13258232,"title":"Query for a users status type","body":"<p>I am trying to come up with a query in codeigniter where I can list users with a specific status or specific statuses. My statuses are numeric in a column called <code>status_id</code>. So lets say for the sake of example. <code>0</code> means inactive, unverified. <code>1</code> means active, verified. <code>2</code> means suspended/banned. In some cases I want to list only the people unverified, sometimes only the active. However other times I want to list them all, but grouped together. I also in some cases need to break this down a bit further, to pull based on whether a user is a standard user or an admin. The column for that is <code>user_type</code>. I know Im going to have to eventually do a <code>JOIN</code> in order to get the details of the user but for now Im fine grabbing just the ID's (also numeric) of each member.</p>\n\n<p>What I would like to do in the long run is build a reusable function, that I can use for all instances by passing parameters to the function. That will dynamically build the query that will give me results I am looking for. Problem is I am not sure where to begin outside of.</p>\n\n<pre><code>public function get_users($params = array())\n{\n    if(count($params) == 0)\n    {\n       $this-&gt;db-&gt;select();\n       $this-&gt;db-&gt;from('users');\n    }\n    else\n    {\n       //questionable code to build dynamic query.\n    }\n  return $query_result;\n}\n\n//then Id like to be able to call it from my controllers like.\n$this-&gt;users_model-&gt;get_users();\n</code></pre>\n"},{"tags":["php","string","newline","strstr"],"answer_count":8,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":399,"score":1,"question_id":9097682,"title":"Obtain first line of a string in PHP","body":"<p>In PHP 5.3 there is a <a href=\"http://www.php.net/manual/en/function.strstr.php\" rel=\"nofollow\">nice function</a> that seems to do what I want:</p>\n\n<pre><code>strstr(input,\"\\n\",true)\n</code></pre>\n\n<p>Unfortunately, the server runs PHP 5.2.17 and the optional third parameter of <code>strstr</code> is not available. Is there a way to achieve this in previous versions in one line?</p>\n"},{"tags":["php","jquery","json"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13258446,"title":"Jquery make var in $.getJSON for","body":"<p>I have the following function:</p>\n\n<pre><code>$.getJSON('/chat_new', function(data) {\n\n  for (var i in data) {\n\n  }\n\n});\n</code></pre>\n\n<p>When I do in the for: <code>alert(i+' en '+data[i]);</code> I get 2 alerts one with userid and one with chat_code.</p>\n\n<p>When I do in the for: <code>i = data[i];</code> and outside the function <code>alert(userid);</code> I get an error in the code that userid is not defined.</p>\n\n<p>In the php file chat_new you have:</p>\n\n<pre><code>$var = array(\n    'userid' =&gt; 1,\n    'chat_code' =&gt; 2,\n);\n\necho json_encode($var);\n</code></pre>\n"},{"tags":["php","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":45,"score":2,"question_id":13258154,"title":"How do I strip part of a url?","body":"<p>How do I strip a part of the url? I do not know much about htaccess or apache.</p>\n\n<p>I would like to strip <code>www.mysite.com/page=services</code> to <code>www.mysite.com/services</code> for example.</p>\n\n<p>What exactly do I need to put in the .htaccess file in order to achieve this, and would that work for other pages as well?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","asp.net"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13255360,"title":"asp.net does not recognize index.php as index page","body":"<p>The website uses the asp.net framework.</p>\n\n<p>The problem is that I have a folder with an <code>index.php</code> as the index page. It only loads if I specify the path as <code>/folder/index.php</code>, but throws up a 403 forbidden if I use just <code>/folder</code>. (<code>/folder</code> works if an <code>index.html</code> is in the folder)</p>\n\n<p>How can this be resolved? I am not at all experienced with asp.net and prefer not to mess with any of the existing config files if possible.</p>\n\n<p>Note: The PHP page loads perfectly fine. The problem is that asp.net is not recognizing the index.php page as an index page.</p>\n\n<p>SOLUTION:\nI followed EdSF's advice and created a web.config file in that folder with the following inside the config</p>\n\n<pre><code>&lt;configuration&gt;\n   &lt;system.webServer&gt;\n    &lt;defaultDocument&gt;\n        &lt;files&gt;\n            &lt;add value=\"index.php\" /&gt;\n        &lt;/files&gt;\n    &lt;/defaultDocument&gt;\n   &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["php","zend-guard"],"answer_count":0,"favorite_count":2,"up_vote_count":1,"down_vote_count":3,"view_count":14,"score":-2,"question_id":13258324,"title":"return nothing after encoding with zend guard","body":"<p>i faced a weired problem after guarding my file with zend. my language array \"$Lang\" would returns \"L\" or empty...</p>\n\n<p>I have no idea what my problem is...</p>\n\n<p>this is sample of my array:</p>\n\n<pre><code>$lang['login']['exit'] = 'Ø®Ø±ÙØ¬';\n</code></pre>\n"},{"tags":["php","url","seo"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":167,"score":0,"question_id":11449177,"title":"How to hide file name, id and session variable in URL using php?","body":"<p>I don't want to display file name and other information in URL</p>\n\n<p>For example\nExisting url format:</p>\n\n<p><code>http://xklsv.me/viewblog.php?id=514/clneditor/IHC%202012&amp;PHPSESSID=5dc775452d77e5</code></p>\n\n<p>The one that I want: \n<code>xklsv.me/clneditor/2012/</code></p>\n\n<p>Any suggestions as to how to achieve this will help. </p>\n"},{"tags":["php","magento"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":13255967,"title":"Module \"Mage_Api\" requires module \"Mage_Core\" error in magento","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/10547281/magento-error-module-mage-api-requires-module-mage-core\">Magento error: Module âMage_Apiâ requires module âMage_Coreâ</a>  </p>\n</blockquote>\n\n\n\n<p>error list when I open site:</p>\n\n<pre><code>Module \"Mage_Api\" requires module \"Mage_Core\".\n\nTrace:\n#0 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/Config.php(849): Mage::throwException('Module \"Mage_Ap...')\n#1 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/Config.php(812): Mage_Core_Model_Config-&gt;_sortModuleDepends(Array)\n#2 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/Config.php(315): Mage_Core_Model_Config-&gt;_loadDeclaredModules()\n#3 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/App.php(414): Mage_Core_Model_Config-&gt;loadModules()\n#4 /home/towelsjt/public_html/app/code/core/Mage/Core/Model/App.php(343): Mage_Core_Model_App-&gt;_initModules()\n#5 /home/towelsjt/public_html/app/Mage.php(683): Mage_Core_Model_App-&gt;run(Array)\n#6 /home/towelsjt/public_html/index.php(87): Mage::run('', 'store')\n#7 {main}\n</code></pre>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":33,"score":-3,"question_id":13258330,"title":"Could need some help on MVC (PHP)","body":"<p>I want to improve my code by using MVC, atm I'm only working on small projects but I want to learn the basics BEFORE I really need them. Maybe I'll use a framework in the future but for now I want to UNDERSTAND the concept and be able to use/create a small framework by myself.</p>\n\n<p>So there are many tutorials on that topic but there are only pretty small examples. It's like one table, one task. Ye its obviously that you will need one controller/model/view for those examples but whats about a real site/application?</p>\n\n<p>I just made a small site which querys some data from a database. The data will be displayed via tables. There are two columns, and below the tables there are PHP generated charts. So how will I split this site? The Chart is using the same data as the table, so is it just another view? But its on the same site, would I use two views and put them in one template? Or should the graphic be generated in the view, cuz at the end its display logic?</p>\n\n<p>What about controllers? Take one for everything cuz its pretty much the same stuff on both sites or one per site? Whats about the columns? Take one controller per site or even per column? And when it comes to the model, use one for every column/table or do everything in just one?</p>\n\n<p>I'm pretty confused how to split everything up. Oh and finally another problem, there should only be five rows displayed on the left column of the first page, who would make the math? It would be like query something with rownum 1-5, 6-10 etc. but the controller would only get the pageNumber via $_GET. Would those math be made within the controller, who would only ask the model for 1-5 or would the model get the pageNumber and the math would be made within the model? (I'm not going to query all data and decide those display logic in the view, cuz im gonna work on pretty big tables with a lot of rows and the graphics/tables might get refreshed via ajax, so I would only query data being displayed).</p>\n\n<p>As you can see I'm quite confused but I really want to improve my code atm its just some HTML/PHP mixed files.</p>\n\n<p>Picture of my small project: <a href=\"http://fc09.deviantart.net/fs71/f/2012/286/b/5/warehouse_monitoring_by_alpenbog-d5hngja.png\" rel=\"nofollow\">http://fc09.deviantart.net/fs71/f/2012/286/b/5/warehouse_monitoring_by_alpenbog-d5hngja.png</a></p>\n"},{"tags":["java","php","ubuntu","nginx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13257927,"title":"Can't execute a Java jar file via PHP on Ubuntu","body":"<p>Here is my PHP code:</p>\n\n<pre><code>&lt;?php\nexec('java -jar ~/src/epubcheck-*/epubcheck-*.jar -out /var/www/epubcheck-outputs/output.xml /var/www/AChristmasCarol.epub');\n</code></pre>\n\n<p>When I try the command in the terminal it works... But in PHP it does not.</p>\n\n<p>Also I don't even get the java version. But I do get to see the \"hey...\" so some commands do work, others don't.</p>\n\n<p>I am using NGiNX has my server.</p>\n"},{"tags":["php","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13258296,"title":"Adding checks to Large SQL query","body":"<p>Here is the query:</p>\n\n<pre><code>SELECT tbl_product.id, tbl_productspecification.id AS specificationId,\n            tbl_product.ProductId, tbl_seller.CompanyName, tbl_product.ProductName, tbl_product.Description, mst_Categories.id AS 'Category',\n            tbl_productspecification.RetailPrice, tbl_productspecification.SalePrice,\n            tbl_product.image, tbl_productspecification.Discount, tbl_product.EndTime, tbl_product.Seller_Id\n            FROM tbl_product\n            LEFT OUTER JOIN tbl_seller ON tbl_seller.SelId = tbl_product.Seller_Id\n            LEFT OUTER JOIN mst_Categories ON (mst_Categories.id = tbl_product.Category OR mst_Categories.id = tbl_product.SubCategory)\n            LEFT OUTER JOIN tbl_productspecification ON tbl_productspecification.ProductId = tbl_product.ProductId\n            LEFT OUTER JOIN mst_image ON mst_image.Product = tbl_product.ProductId\n            LEFT OUTER JOIN tbl_dealinterest ON tbl_dealinterest.ProductId = tbl_product.ProductId\n            where tbl_product.Active='y' and tbl_product.StartTime &lt;= '\".date(\"Y-m-d H:i:s\").\"' and tbl_product.EndTime&gt;'\".date(\"Y-m-d\").\" 06:00:00'\n            \".$subquery.\" \".$groupby;\n</code></pre>\n\n<p>The <code>tbl_dealinterest</code> table has a few fields:</p>\n\n<pre><code>[BuyerId] [ProductId] [Active] \n</code></pre>\n\n<p>I need to filter out any records are in <code>tbl_dealinterest</code> that match <code>[BuyerId]</code> <code>[ProductId]</code> and <code>[Active]</code> does not equal <code>n</code></p>\n\n<p>I have tried a few things but not all the products are listed <code>tbl_dealinterest</code>.  Only when someone chooses an option does it get entered.</p>\n"},{"tags":["php","css","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13258521,"title":"ajax post Calendar Controls in php. The css does not display","body":"<p>I am trying to make a calender in php, i have done the first part and have the layout and information, i am trying to add a previous and next month now and the css has gone for some reason. I am following a tutorial - <a href=\"http://www.youtube.com/watch?v=0v39T-9_cFM&amp;feature=plcp\" rel=\"nofollow\">http://www.youtube.com/watch?v=0v39T-9_cFM&amp;feature=plcp</a></p>\n\n<p>The only information that shows is the previous and next month button and the current month. I have all three files in the htdocs folder of xampp. I dunno whats wrong :(</p>\n\n<p>here is the file to view everything</p>\n\n<p>show_calendar.php</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"calCss.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\" /&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction initialCalendar(){\nvar hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar currentTime = new Date();\nvar month = currentTime.getMonth() + 1;\nvar year = currentTime.getFullYear();\nshowmonth = month;\nshowyear = year;\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction next_month(){\nvar nextmonth = showmonth + 1;\nif (nextmonth &gt; 12) {\n   nextmonth = 1;\n   showyear = showyear + 1;\n }\n showmonth = nextmonth;\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction last_month(){\n\nvar lastmonth = showmonth - 1;\nif (lastmonth &lt; 1) {\n   lastmonth = 12;\n   showyear = showyear - 1;\n }\n showmonth = lastmonth;\n\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body onLoad=\"initialCalendar();\"&gt;\n&lt;div id=\"showCalendar\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>calendar_start.php</p>\n\n<pre><code>&lt;?php\n$showmonth = $_POST['showmonth'];\n$showyear = $_POST['showyear'];\n$showmonth = preg_replace('#[^0-9]#i', '', $showmonth);\n$showyear = preg_replace('#[^0-9]#i', '', $showyear);\n\n$day_count = cal_days_in_month(CAL_GREGORIAN, $showmonth, $showyear);\n$pre_days = date('w', mktime(0,0,0, $showmonth, 1, $showyear));\n$post_days = (6 - (date('w', mktime(0,0,0, $showmonth, $day_count,$showyear))));\n\necho '&lt;div id=\"calendar_wrap\"&gt;';\necho '&lt;div class=\"title_bar\"&gt;';\necho '&lt;div class=\"previous_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Previous Month\" onClick=\"javascript:last_month();\"&gt;&lt;/div';\necho '&lt;div class=\"show_month\"&gt;' . $showmonth . '/' . $showyear . '&lt;/div&gt;';\necho '&lt;div class=\"next_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Next Month\" onClick=\"javascript:next_month();\"&gt;&lt;/div';\necho '&lt;/div&gt;';\necho '&lt;div class=\"week_days\"&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Mon&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Tue&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Wed&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Thur&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Fri&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sat&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sun&lt;/div&gt;';\necho '&lt;div class=\"clear\"&gt;&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n/* Previous Month Filler Days */\nif ($pre_days != 0) {\nfor($i = 1 ; $i&lt;=$pre_days;$i++) {\necho '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\n\n/* Current Month */\nfor($i=1; $i&lt;= $day_count; $i++) {\necho '&lt;div class=\"cal_day\"&gt;';\necho '&lt;div class=\"day_heading\"&gt;' . $i . '&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n}\n/* Next Month Filler Days */\nif ($post_days != 0) {\nfor ($i=1; $i&lt;=$post_days; $i++) {\n echo '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\necho '&lt;/div&gt;';\n?&gt;\n</code></pre>\n\n<p>here is the css</p>\n\n<p>calCss.css</p>\n\n<pre><code>#calendar_wrap {\nwidth: 924px;\nmargin-left: auto;\nmargin-right: auto;\noverflow: hidden;\n}\n.title_bar {\nwidth: 100%; \nheight: 30px;\n}\n.previous_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: left;\n}\n.show_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: center;\n}\n.next_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: right;\n}\n.week_days {\nwidth: 100%;\n}       \n.days_of_the_week  {\nfloat: left;\nwidth: 14%;\ntext-align: center;\n}      \n.cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #9C9;\n}\n.day_heading {\nposition: relative;\nfloat: left;\nwidth: 40px;\nheight: 16px;\npadding: 6px;\ncolor: #000;\nfont-family: Arial;\nfont-size: 14px;\n}    \n.openings {\nwidth: 100%;\nclear:left;\ntext-align: center;\n}\n.non_cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #CCC;\n}\n\n.clear {\nclear: both;\n}\n</code></pre>\n\n<p>Can anyone see anything? any help would be great</p>\n"},{"tags":["php","sql","database","function"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13257934,"title":"PHP SQL Discount Code For Specific Items?","body":"<p>This function successfully calculates a global percentage using a single discount code, although I'm having problems making the code discount a specific range of items instead of globally.   The basket session holds id, name, desc, price, qty etc... but everything I've tried thus far has failed, I realize I need to implement it into the foreach loop (which I keep breaking or updates every item one way or another) or use a different method entirely but I'm really unsure as how to proceed.</p>\n\n<p>I'm not an experienced PHP Dev by the way I just enjoy learning and working basic markup.  Any helpful pointers someone can provide would be very much appreciated.  Thanks!</p>\n\n<pre><code>    $code = $this-&gt;request['code'];\n\n    $discount_status = 'NONE'; // no discount available / applied\n    if ( !empty($this-&gt;config['DISCOUNT_CODE']) &amp;&amp; !empty($this-&gt;config['DISCOUNT_PERCENT']) &amp;&amp; !empty($code) ) {\n        if ( $code == $this-&gt;config['DISCOUNT_CODE'] ) {\n            $discount_status = 'OK';\n        }\n        else {\n            $discount_status = 'ERROR';\n        }\n    }       \n\n    // calculate basket total\n    $basket_value = 0;\n    $discount_factor = 1;\n    if ( $discount_status == 'OK' ) {\n        // apply discount\n        $discount_factor = ( 100 - $this-&gt;config['DISCOUNT_PERCENT'] ) / 100;\n    }   \n\n    if ( !empty($_SESSION['basket']) &amp;&amp; is_array($_SESSION['basket']) ) {       \n    foreach( $_SESSION['basket'] as $basketItem ) {                 \n        // Apply discount to each item separately       \n        $basket_value += sprintf(\"%.02f\", $basketItem['detail_price'] * $discount_factor) * $basketItem['qty'];  \n        }       \n    }   \n\n    // check delivery cost\n    $delivery_area = $this-&gt;DeliveryAreaManager-&gt;getRecord($this-&gt;request['da']);\n    if ( !empty($delivery_area['cost']) &amp;&amp; ( $delivery_area['free_from'] &lt;= 0 || $basket_value &lt; $delivery_area['free_from'] ) ) {\n        $basket_value += $delivery_area['cost'];\n    }\n\n    // return JSON response\n    $data = JSONUtils::encode(\n        array(\n            'discount_status' =&gt; $discount_status,\n            'basket_value' =&gt; sprintf(\"%.02f\", $basket_value),\n        )\n    );\n\n    return $data;\n</code></pre>\n"},{"tags":["php","facebook","sockets","facebook-graph-api","weather"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":15,"score":-3,"question_id":13255230,"title":"After fetching the users location, how would I find out their current weather also using PHP?","body":"<p>I am fairly new to the PHP programming language with experiences with other programming languages. My Facebook application is almost complete to request the user information and whatnot so all is going good so far.</p>\n\n<p>What I would like to know how to do in PHP is after this is all set up and I they have allowed the application to access their user data, is to get their location, I'm going to keep it simple as possible at the moment with no else statements if they have not got it set, but basically the styles will show differently according to their weather.</p>\n\n<p>This is for a UK, North-West gardening business, so if it is snowy in their area, it'll show  snowy scenery and could ask if they would want any snow to be ploughed and whatnot. Of course the the weather forecasters are not perfect and they might not have a real location set but I can eventually work around this via else statements for seasonal weather and whatnot.</p>\n\n<p>Thank you in advanced for any help and/or advice. If you are to link me to a tutorial, could you please link me directly to the final product, as I learn best being thrown in at the deep end so to speak, which is how I learnt other languages, reading through it and whatnot seeing what makes what tick so to speak.</p>\n\n<p>Best Regards,\nTim</p>\n"},{"tags":["php","javascript","jquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13257716,"title":"og:description 'content' unterminated string literal","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5296402/unterminated-string-literal\">unterminated string literal</a>  </p>\n</blockquote>\n\n\n\n<p>I have a problem setting og:description with followed function...</p>\n\n<pre><code>function createFacebookMeta($title, $fcUrl, $fcImg, $fcDesc){    \n    $fcDesc = (strlen($fcDesc) &gt; 100) ? substr($fcDesc,0,150).'...' : $fcDesc;\n    $faceBook = \"&lt;script type=\\\"text/javascript\\\"&gt;\n\n\n$(document).attr('title', '\".$title.\"');\n$('meta[property=\\\"og:title\\\"]').attr('content', '\".$title.\"');\n$('meta[property=\\\"og:url\\\"]').attr('content', '\".$fcUrl.\"');\n$('meta[property=\\\"og:image\\\"]').attr('content', '\".$fcImg.\"');\n$('meta[property=\\\"og:description\\\"]').attr('content', '\".$fcDesc.\"');\nFB.XFBML.parse();\n&lt;/script&gt;\";\necho $faceBook;\n}\n</code></pre>\n\n<p>as response i get in firebug </p>\n\n<p>unterminated string literal</p>\n\n<pre><code> $('meta[property=\"og:description\"]').attr('content', 'Logos gedruckt&lt;br /&gt;  //breaks here\n</code></pre>\n\n<p>even if i use striptags it reports same ... if i donÂ´t set og:description default meta description is taken (np here) which is about the same lenght, as i read that fb takes arround 300 chars from it max</p>\n\n<p>thank you</p>\n\n<p>$fcDesc is db result</p>\n\n<pre><code>$fcDesc = \"Logos gedruckt\n&lt;br&gt;\n100% Baumwolle\n&lt;br&gt;\nVorne: Logo\n&lt;br&gt;\nRÃ¼cken: Cash Ruls\";\n</code></pre>\n\n<p>(product description)</p>\n"},{"tags":["php","html","caching","submit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":8,"view_count":40,"score":-7,"question_id":13258032,"title":"PHP form will not save input text information on submit","body":"<p>I have a PHP form that submits to itself. We are using HTML as the web form and submit to the database using PHP. We have the form validating information. If the information is not correct, it resubmits the page to itself with an error message. But, the information that was entered is not stored. How do I get this information to store and load if the validation is incorrect?\nThanks!</p>\n"},{"tags":["php","xslt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13258377,"title":"Faster XSL processor for PHP","body":"<p>We currently use build in php XSL processor as a templating engine for our web app. Which in turns uses libxslt library. The speed of it seems to be unsatisfactory. Is there a faster/better XSL processing engine that can be used with PHP? Or is there a way to speed up libxslt installation?</p>\n"},{"tags":["php","sql","ini"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":133,"score":1,"question_id":5217542,"title":"Is it dangerous to remove \"magic_quotes_gpc\" from .htaccess file?","body":"<p>I'm installing <code>phplist</code> under my server that is based on cgi mode. I read that I have to hide the part related to \"magic_quotes_gpc\" on .htaccess file and that I also need to configure php.ini file so to allow magic quotes.</p>\n\n<p>I have configured a separate database for phplist different from that of my site.\nSo is there anything dangerous about that? What is it about \"sql injectors\" ?</p>\n\n<p>I'm using PHP Version 4.4.9</p>\n"},{"tags":["php","session","queue","multiple"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":42,"score":0,"question_id":13251314,"title":"Ordering multiple calls to the same script","body":"<hr>\n\n<p><strong>* THIS BIT IS FIXED IN STONE *</strong></p>\n\n<hr>\n\n<p>We have 1 webpage with 3 iFrames inside. All iFrames point to the same script but pass different querytring values. E.g.</p>\n\n<ul>\n<li><strong>Webpage</strong>: mypage.html</li>\n<li><strong>iFrame1</strong>: script.php?x=1 </li>\n<li><strong>iFrame2</strong>: script.php?x=2 </li>\n<li><strong>iFrame3</strong>: script.php?x=3</li>\n</ul>\n\n<p>So when a user visits the webpage, they are calling script.php 3 times.</p>\n\n<hr>\n\n<p><strong>* QUESTION *</strong></p>\n\n<hr>\n\n<p>Is there a way to get script.php to be aware that it is being called 3 times by the same client/browser/person and then order or queue those calls? E.g.</p>\n\n<ul>\n<li><strong>1st time</strong> - set an ID and save to session</li>\n<li><strong>2nd time</strong> - get the ID from the session and use it</li>\n<li><strong>3rd time</strong> - get the ID from the session and use it</li>\n</ul>\n\n<p><em>What's happening to me at the moment is that script.php is being executed 3 times at the same time and each iFrame is setting it's own ID. I'd like them all to use the same ID.</em></p>\n\n<p>Hope that makes sense?</p>\n\n<p>Thanks in advance for you help.</p>\n\n<p>Ryan</p>\n"},{"tags":["php","joomla","joomla2.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13258339,"title":"Joomla template not ordering correctly","body":"<p>My joomla site is not ordering modules correctly, </p>\n\n<p>here is an example <a href=\"http://sdcbytes.com/why.jpg\" rel=\"nofollow\">http://sdcbytes.com/why.jpg</a> Its also doing it on the archives page.</p>\n\n<p>Here is my articles template .php file <a href=\"http://sdcbytes.com/why.html\" rel=\"nofollow\">http://sdcbytes.com/why.html</a></p>\n\n<p>Thanks for helping.</p>\n"},{"tags":["php","oauth","uservoice"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12259894,"title":"UserVoice's OAuth Implementation in PHP","body":"<p>I am able to get the Records of the <a href=\"http://www.uservoice.com\" rel=\"nofollow\">UserVoice</a> by calling and Unauthorized Requests but now i want to create and Update things in which i need OAuth but i am unable to find the <a href=\"http://www.uservoice.com\" rel=\"nofollow\">UserVoice's</a> PHP Implementation of OAuth and Create/Update/Delete with <a href=\"http://www.uservoice.com\" rel=\"nofollow\">UserVoice</a> API is there anyone can guide me how to Implement such thing?? </p>\n"},{"tags":["php","mysql","doctrine2"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":73,"score":4,"question_id":13239392,"title":"Foreign key constraint fails because insert statement not yet committed (MySQL)","body":"<p>I have a PHP script using <a href=\"http://en.wikipedia.org/wiki/Doctrine_%28PHP%29\" rel=\"nofollow\">Doctrine</a> 2 which does essentially the following:</p>\n\n<pre><code>$entityManager-&gt;transactional(function($em) {\n    $foreignObject = new DoctrineEntities\\ForeignTable();\n    $em-&gt;persist($foreignObject);\n    $em-&gt;flush();\n    $aObject = new DoctrineEntities\\A();\n    $aObject-&gt;ForeignID = $foreignObject-&gt;ID;\n    $em-&gt;persist($aObject);\n    $em-&gt;flush();\n});\n</code></pre>\n\n<p>I'm getting an integrity constraint violation:</p>\n\n<blockquote>\n  <p><i>a foreign key constraint fails (dbName.A, CONSTRAINT A_ForeignID FOREIGN KEY (ForeignID) REFERENCES <code>ForeignTable</code> (<code>ID</code>) ON DELETE NO ACTION ON UPDATE NO ACTION)</i></p>\n</blockquote>\n\n<p>My guess is that the constraint is checked before the commit, and it doesn't check to see whether an insert I made that hasn't been committed yet might make the constraint pass rather than fail. But I really do want these two insert statements wrapped in the same transaction. So what can I do?</p>\n\n<hr>\n\n<p><em><strong>SQL Context</em></strong></p>\n\n<p>Table <strong>A</strong></p>\n\n<pre><code>CREATE TABLE `A` (\n  `ID` int(11) NOT NULL AUTO_INCREMENT,\n  `ForeignID` int(11) NOT NULL,\n  PRIMARY KEY (`ID`),\n  KEY `A_ForeignID` (`ForeignID`),\n  CONSTRAINT `A_ForeignID` FOREIGN KEY (`ForeignID`) REFERENCES `ForeignTable` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_swedish_ci\n</code></pre>\n\n<p>Table <strong>ForeignTable</strong></p>\n\n<pre><code>CREATE TABLE `ForeignTable` (\n  `ID` int(11) NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_swedish_ci\n</code></pre>\n"},{"tags":["php","mysql","rows"],"answer_count":9,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":131,"score":3,"question_id":11323526,"title":"PHP - Multiple MySQL result, in seperate variables","body":"<p>I need to do a MySQL query to search for an inexact match / match containing the submitted value.</p>\n\n<p>The following is an example of what is in my database:</p>\n\n<pre><code>id               img\n1          1001_ABC_01.jpg\n2          1001_ABC_02.jpg\n3          1002_ABC_01.jpg\n4          1002_ABC_02.jpg\n5          1002_ABC_03.jpg\n6          1002_ABC_04.jpg\n7          1002_ABC_05.jpg\n8          1003_ABC_01.jpg\n9          1003_ABC_02.jpg\n10         1003_ABC_03.jpg\n</code></pre>\n\n<p>I need the query to search for the first part of the filename (<code>1002</code>) and and assign each returned result in the img field a different variable. The maximum amount of variables would be 5.</p>\n\n<p>For example, if I search <code>1002</code>, it should assign the following variables:</p>\n\n<pre><code>    &lt;?php\n    $img1 = '1002_ABC_01.jpg';\n    $img2 = '1002_ABC_02.jpg';\n    $img3 = '1002_ABC_03.jpg';\n    $img4 = '1002_ABC_04.jpg';\n    $img5 = '1002_ABC_05.jpg';\n    ?&gt;\n</code></pre>\n\n<p>so that way I can echo each filename result individually.</p>\n\n<p>Again, the maximum amount of variables here will be 5, so if more than 5 results are returned, only the first 5 will be assigned variables.</p>\n\n<p>Please let me know if this is possible and how to write a PHP script to do it.</p>\n"},{"tags":["php","jquery","mysql","forms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13258187,"title":"Trying to edit a shopping cart script","body":"<p>I found this shopping cart script that works great for what I need but I can't figure out how to transfer one variable to the checkout page. Basically I am calling the products page like so \"products.php?dealID=$dealID\" from my customer info form. From the products page once the customer click on checkout it should be \"checkout.php?dealID=$dealID. I can't seem to make it work. I am still learning so I am 100% sure I'm missing alot of stuff. Thanks for reading and I hope someone can help me pass that one variable over to the checkout page.</p>\n\n<p>Here is the products page code:</p>\n\n<pre><code>    &lt;div class=\"item\" data-id=\"1\" data-name=\"Item #1\" data-price=\"47.50\"&gt;\n    &lt;img src=\"images/1.jpg\" alt=\"Item #1\"/&gt;\n    &lt;p&gt;&lt;button class=\"add-to-cart\" type=\"button\"&gt;Add to Cart&lt;/button&gt;&lt;/p&gt;\n    &lt;p class=\"itemPrice\"&gt;47.50 $&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the code for script</p>\n\n<pre><code>$(document).ready(function(){\n\n$(document).shoppingCart({\n\n        cartBlock: \"#cart\",\n        shopBlock: \"#shop\",\n        toCart: \".add-to-cart\",\n        currency: \"$\",\n        quantityLimit: 5,\n        checkoutAction: \"checkout.php\"\n\n});\n\n    });\n</code></pre>\n\n<p>Add to cart code</p>\n\n<pre><code>function addToCart(itemID){\n\n        if($.cookie(\"cart\")){var cartArray = stringToArray($.cookie(\"cart\"));}\n        else{var cartArray = new Array();}\n\n        var itemName = $(\".item[data-id=\"+itemID+\"]\").attr(\"data-name\");\n        var itemPrice = $(\".item[data-id=\"+itemID+\"]\").attr(\"data-price\");\n\n        if(cartArray.length == 0){\n            var cartItem = [itemID, itemName, itemPrice, 1];\n            cartArray.push(cartItem);\n        }\n        else if(cartArray.length &gt; 0){\n\n            for(var i = 0; i &lt; cartArray.length; i++){\n                if(cartArray[i][0] == itemID){\n                    var isInCart = true; index = i;\n                    break;\n                }\n                else{isInCart = false;}\n            }\n\n            if(isInCart){\n                var newQuantity = eval(cartArray[index][3]+\"+1\");\n                if(newQuantity &gt; options.quantityLimit){newQuantity = options.quantityLimit;}\n                cartArray[index][3] = newQuantity;\n            }\n            else{\n                var cartItem = [itemID, itemName, itemPrice, 1];\n                cartArray.push(cartItem);\n            }\n\n        }\n        $.cookie(\"cart\", cartArray.join(\"|\"), {path:\"/\"});\n        generateShoppingCart(options.cartBlock);\n    }\n</code></pre>\n\n<p>And here is the checkout </p>\n\n<pre><code>function checkOut(){\n\n        if($.cookie(\"cart\")){\n\n            var cartArray = stringToArray($.cookie(\"cart\"));\n\n            if($(\"#checkout-form\").length != 0){$(\"#checkout-form\").remove();}\n\n            var checkoutForm = $(\"&lt;form&gt;\", {\n                id: \"checkout-form\",\n                action: options.checkoutAction,\n                method: \"post\",\n                css: {display:\"none\"}\n            });\n\n            var cost = 0;\n\n            for(var i = 0; i &lt; cartArray.length; i++){\n\n                var itemInputGroup = '&lt;input type=\"hidden\" name=\"id[]\" value=\"'+cartArray[i][0]+'\"/&gt;'+\n                '&lt;input type=\"hidden\" name=\"name[]\" value=\"'+cartArray[i][1]+'\"/&gt;'+\n                '&lt;input type=\"hidden\" name=\"price[]\" value=\"'+cartArray[i][2]+' '+options.currency+'\"/&gt;'+\n                '&lt;input type=\"hidden\" name=\"quantity[]\" value=\"'+cartArray[i][3]+'\"/&gt;';\n\n                checkoutForm.append(itemInputGroup);\n                cost += (cartArray[i][2] * cartArray[i][3]);\n\n            }\n\n            checkoutForm.append('&lt;input type=\"hidden\" name=\"cost\" value=\"'+cost.toFixed(2)+' '+options.currency+'\"&gt;');\n            $(\"body\").append(checkoutForm);\n            checkoutForm.submit();\n\n        }\n        else{generateShoppingCart(options.cartBlock);}\n\n    }\n</code></pre>\n"},{"tags":["php","forms","perl","http"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":56,"score":-6,"question_id":13258182,"title":"How to transle code from PERL to PHP","body":"<p>I have follow perl code:</p>\n\n<pre><code>my $form = POST 'http://example.com/api',\n    Content_Type =&gt; 'form-data',\n    Content =&gt; [\n        # param =&gt; [ file, filename, Other ]\n        \"UFileManager[picture]\" =&gt; \"\",\n        \"UFileManager[picture]\" =&gt; [ $filename,\n                                   $filename,\n                                   Content_Type =&gt; 'image/png' ],\n        yt0 =&gt; \"Upload\",\n        ];\n</code></pre>\n\n<p>So how can I port it to PHP. Or how <code>Content</code> looks like in html request body?</p>\n"},{"tags":["php","syntax","parse-error"],"answer_count":2,"favorite_count":13,"up_vote_count":103,"down_vote_count":1,"view_count":2961,"score":102,"question_id":13228306,"title":"In PHP, why does </script> not show a parse error?","body":"<p>I was running the following <a href=\"http://en.wikipedia.org/wiki/PHP\">PHP</a> code:</p>\n\n<pre><code>&lt;?php \n    &lt;/script&gt;\n?&gt;\n</code></pre>\n\n<p>There were no parse errors and the <strong>output was</strong> \"<code>?&gt;</code>\" (<a href=\"http://ideone.com/0FbOdx\">example</a>).</p>\n\n<p>In similar cases I do get a parse error:</p>\n\n<pre><code>&lt;?php \n    &lt;/div&gt;\n?&gt;\n</code></pre>\n\n<blockquote>\n  <p>Parse error: syntax error, unexpected '&lt;' in ...</p>\n</blockquote>\n\n<p>Why doesn't <code>&lt;?php &lt;/script&gt; ?&gt;</code> give the same error?</p>\n"},{"tags":["php","mysql"],"answer_count":5,"favorite_count":15,"up_vote_count":34,"down_vote_count":0,"view_count":778,"score":34,"question_id":12859942,"title":"Why shouldn't I use mysql_* function in PHP?","body":"<p>What are the technical reasons that I shouldn't use <code>mysql_*</code> functions? (<code>mysql_query</code>, <code>mysql_connect</code>, <code>mysql_real_escape_string</code>)?</p>\n\n<p>Why should I change them as long as it works on my site?</p>\n"},{"tags":["php","mysql","ajax","google-maps","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13252543,"title":"Save Google Maps Marker Properites to MySQL database","body":"<p>I am creating a website that on one end a user will be able to place a marker on a Google Map using the Google Maps API. I want a user on the other end to be able to load a Google Map and see the markers that were placed from the other person. Think of something like the game Battle Ship.</p>\n\n<p>The the first user's side, the following code shows an object with all the properties of the marker. I turn it into a JSON to be passed to my php script.</p>\n\n<pre><code>function packageMarker(){   \n        var markerObj = new Object();\n        markerObj.index = unitMarker.index;\n        markerObj.country = unitMarker.country;\n        markerObj.Type = unitMarker.type;\n        markerObj.Lat = unitMarker.Lat;\n        markerObj.Lng = unitMarker.Lng;\n        markerObj.Icon = unitMarker.icon;\n        markerObj.CallSign = unitMarker.labelContent;\n        markerObj.unitModel = unitMarker.unitModel;\n        markerObj.num = unitMarker.numOfUnit;\n        markerObj.package = unitMarker.packageType;\n        markerObj.cRadius = unitMarker.cRadius; //in meters\n        if(markerObj.country = \"America\"){\n            markerObj.cColor = \"Blue\";\n        }else{\n            markerObj.cColor = \"Red\";\n        }\n        markerObj.SLat = \"\";\n        markerObj.SLng = \"\";\n        markerObj.ELat = \"\";\n        markerObj.ELng = \"\";\n\n        var queryString = JSON.stringify(markerObj);\n</code></pre>\n\n<p>That all works fine.</p>\n\n<p>I now want to pass that over to my php script to place inside my MySQL database. This is were I get lost. I know I need to use an AJAX call. All the examples I find are for forum submissions but I am not doing that. Once a marker is placed (onClick Event), I want it to be added to the database.</p>\n\n<p>My php script should work. It reads in the variable, decodes it, and inserts into the database.</p>\n\n<p>In a more clear way of say what I want:<br>\nWhat a way to send my JSON object to a php script and have it return success or error not having a forum submission.</p>\n\n<p>Thank you for any help you give</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":13252920,"title":"How to compare zero integer with value","body":"<p>In database, Student_id is containing 0 value. I want to check it in if condition, but required result is not achieved. I have tried following scenarios in if condition:</p>\n\n<pre><code>if(is_null($item['student_id'])) {}\n\nif($item['student_id'] === 0){}\n\nif($item['student_id'] == 0){}\n\nif(intval($item['student_id']) == 0){}\n\nif(strval(\"$item['student_id']\") == \"0\"){}\n</code></pre>\n\n<p><strong>Note:</strong> Currently Iam trying to print some message in if conditions. But on student_id = 0, nothing is printed. If student_id is other than 0, then print is working fine.</p>\n\n<p>Can some one guide me what Iam doing wrong and how it can be rectified.</p>\n\n<p>I have added var_dump</p>\n\n<pre><code>    array\n  '_id' =&gt; \n    object(MongoId)[2]\n      public '$id' =&gt; string '50906d7fa3c412bb040eb577' (length=24)\n  'student_id' =&gt; int 0\n  'type' =&gt; string 'exam' (length=4)\n  'score' =&gt; float 54.653543636265\narray\n  '_id' =&gt; \n    object(MongoId)[6]\n      public '$id' =&gt; string '50906d7fa3c412bb040eb578' (length=24)\n  'student_id' =&gt; int 0\n  'type' =&gt; string 'quiz' (length=4)\n  'score' =&gt; float 31.950044967421\narray\n  '_id' =&gt; \n    object(MongoId)[2]\n      public '$id' =&gt; string '50906d7fa3c412bb040eb579' (length=24)\n  'student_id' =&gt; int 0\n  'type' =&gt; string 'homework' (length=8)\n  'score' =&gt; float 14.850457681164\n</code></pre>\n"},{"tags":["php","zend-db","zend-framework2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13257592,"title":"implement login authentication using zend model and controller","body":"<p>I am using Zend 2.0 and I have never used EXTJS in combination with Zend.</p>\n\n<p>Here is my extjs code in view/login/index.phtml:</p>\n\n<pre><code>&lt;?php $this-&gt;inlineScript()-&gt;captureStart() ?&gt;\nvar LoginWindow\nExt.onReady(function() {\n\n    LoginWindow = new Ext.create('Ext.window.Window',{\n        title: 'Login',\n        closable: false,\n        draggable: false,\n        resizable: false,\n        width: 370,\n        items: [\n            Ext.create('Ext.form.Panel', {\n                id: 'LoginForm',\n\n                bodyPadding: 5,\n                width: 350, \n\n                url: '/',\n                layout: 'anchor',\n                defaults: {\n                    anchor: '100%'\n                },\n\n                // The fields\n                defaultType: 'textfield',\n                items: [{\n                    fieldLabel: 'Username',\n                    name: 'user',\n                    allowBlank: false\n                },{\n                    fieldLabel: 'Password',\n                    inputType: 'password',\n                    name: 'pw',\n                    allowBlank: false\n                }],\n\n                // Reset and Submit buttons\n                buttons: [{\n                    text: 'Reset',\n                    handler: function() {\n                        this.up('form').getForm().reset();\n                    }\n                },\n                {\n                    text: 'Submit',\n                    formBind: true,\n                    disabled: true,\n                    handler: function() {\n                        var form = this.up('form').getForm();\n\n                    }\n                }]\n            })\n        ]\n    });\n    Ext.getBody().mask()\n\n    LoginWindow.show()  \n\n});\n\n&lt;?php $this-&gt;inlineScript()-&gt;captureEnd() ?&gt;\n</code></pre>\n\n<p>Now I am not sure how to send the username/password to LoginController.php and use the model to authenticate username/password from the database table.</p>\n\n<p>Any example or possible solution would really help.</p>\n"},{"tags":["php","mysqli"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13257910,"title":"inputting data from an array into a database","body":"<p>I am trying to get information into my database and am running into a problem that I am sure I am just making a simple mistake.  To update the table I am using:</p>\n\n<pre><code>    $conn-&gt;query(\"update webPrice set price= \" . $amazonResult['price'] . \" where asin = '\" . $amazonResult['asin'] . \"'\");\n</code></pre>\n\n<p>$conn is my connection.  The price is consistently entered as 0.  I know there is information there since when I do print_r($amazonResult) I see everything that I want to insert into the DB.  Code to get amazon info is:</p>\n\n<pre><code>    foreach($parsed_xml-&gt;GetMyPriceForASINResult as $item ) {\n $asin2 =$item-&gt;attributes()-&gt;ASIN;\n$current = $item-&gt;Product;\n\n $status = $item-&gt;attributes()-&gt;status;\n\n      if (stristr($status, \"Success\") == true)\n{\n        $amazonResult = array(\n                        'asin' =&gt; $asin2,\n            'price' =&gt; $current-&gt;Offers-&gt;Offer-&gt;BuyingPrice-&gt;ListingPrice,//AttributeSets-&gt;children('ns2', true)-&gt;\n                            );\n</code></pre>\n\n<p>I think the issue is with my update statement, but I an not sure what it is.  The asin info is entered correctly.  the fields are price = double and asin = varchar.</p>\n\n<p><strong>EDIT:</strong>  here is the result of print_r($amazonResult);</p>\n\n<pre><code>Array ( [asin] =&gt; SimpleXMLElement Object ( [0] =&gt; 0176055452 ) [price] =&gt; SimpleXMLElement Object ( [CurrencyCode] =&gt; USD [Amount] =&gt; 10.11 ) )\n</code></pre>\n"},{"tags":["php","json","symfony2","twig"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13257156,"title":"How do I return a twig rendered template as part of a JSON response?","body":"<p>I want to return an HTML snippet as well as other values in a json string, here is what I have:</p>\n\n<pre><code>$html = $this-&gt;render('sometemplate.html.twig', array( 'somevar' =&gt; $somevar ) );\n$response = new Response(json_encode( array(\"html\" =&gt; $html, \"name\" =&gt; \"Joe Bloggs\") ));\n$response-&gt;headers-&gt;set('Content-Type', 'application/json');\nreturn $response;\n</code></pre>\n\n<p>But all I get is <code>{\"html\":{\"headers\":{}}}</code>. Is there a way to just grab the rendered HTML?</p>\n"},{"tags":["php","image","resize","png"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13257405,"title":"Why is resized PNG image so much bigger than original image?","body":"<p>I am quite confused why PNG images that are resized using GD library are much bigger in size than the original.</p>\n\n<p>This is the code I am using to resize the image: </p>\n\n<pre><code>// create image from posted file\n$src = imagecreatefrompng($file['tmp_name']);\n// get original size of uploaded image\nlist($width,$height) = getimagesize($file['tmp_name']);\nif($width&gt;$maxImgWidth) {\n    // resize the image to maxImgWidth, maintain the original aspect ratio\n    $newwidth = $maxImgWidth;\n    $newheight=($height/$width)*$newwidth;\n    $newImage=imagecreatetruecolor($newwidth,$newheight);\n\n    // fill transparent with white\n    /*$white=imagecolorallocate($newImage, 255, 255, 255); \n    imagefill($newImage, 0, 0, $white);*/\n\n    // the following is to keep PNG's alpha channels\n    // turn off transparency blending temporarily\n    imagealphablending($newImage, false);\n    // Fill the image with transparent color\n    $color = imagecolorallocatealpha($newImage,255,255,255,127);\n    imagefill($newImage, 0, 0, $color); \n    // restore transparency blending\n    imagesavealpha($newImage, true);\n\n    // do the image resizing by copying from the original into $newImage image\n    imagecopyresampled($newImage,$src,0,0,0,0,$newwidth,$newheight,$width,$height);\n\n    // write image to buffer and save in variable\n    ob_start(); // Stdout --&gt; buffer\n    imagepng($newImage,NULL,5); // last parameter is compression 0-none 9-best (slow), see also http://www.php.net/manual/en/function.imagepng.php\n    $newImageToSave = ob_get_contents(); // store stdout in $newImageToSave\n    ob_end_clean(); // clear buffer\n    // remove images from php buffer\n    imagedestroy($src);\n    imagedestroy($newImage);\n    $resizedFlag = true;\n}\n</code></pre>\n\n<p>Then I save $newImageToSave as blob in mysql database.</p>\n\n<p>I tried to prevent alpha channel and just set white background, no significant change in file size. I tried setting the \"compression\" parameters (0 to 9), but still bigger then the original.</p>\n\n<p><strong>Example</strong><br />\nI took this <a href=\"http://upload.wikimedia.org/wikipedia/commons/5/53/Wikipedia-logo-en-big.png\" rel=\"nofollow\">image</a> (1058px*1296px) and resized it to 900px * 1102px. These are the results: </p>\n\n<p>Original File: 328 KB<br />\nPNG (0): 3,79 MB<br />\nPNG (5): 564 KB<br />\nPNG (9): 503 KB<br /></p>\n\n<p>Any tip how to get the resized image smaller in file size is appreciated.</p>\n\n<p>--</p>\n\n<p>PS: I thought it could be bit depth, but as you can see, the example image above has 32 bits, whereas the resized image is 24 bits.</p>\n"},{"tags":["php","loops","curl","for-loop","foreach"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13257814,"title":"PHP loop curl request one by one","body":"<p>How to make a <code>foreach</code> or a <code>for</code> loop to run only when the curl response is received..</p>\n\n<p>as example :</p>\n\n<pre><code>for ($i = 1; $i &lt;= 10; $i++) {\n $ch = curl_init();\n curl_setopt($ch,CURLOPT_URL,\"http://www.example.com\");\n\n if(curl_exec($ch)){ // ?? - if request and data are completely received\n   // ?? - go to the next loop\n }\n // DONT go to the next loop until the above data is complete or returns true\n}\n</code></pre>\n\n<p>i don't want it to move to the next loop without having the current curl request data received.. one by one, so basically it opens up the url at first time, waits for the request data, if something matched or came true then go to the next loop,</p>\n\n<p>you dont have to be bothered about the 'curl' part, i just want the loop to move one by one ( giving it a specific condition or something ) and not all at once</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":56,"score":-8,"question_id":12790140,"title":"Viewing an image file as soon as it is uploaded","body":"<p>Here is the situation:</p>\n\n<p>I upload an image file and I want to see that file as soon as it is uploaded. Can I view that file in the .html file without first sending that image to the server? If so then how can I do it?</p>\n\n<p>My goal is to have a user upload a photo then he will see that photo as soon as he has uploaded it.</p>\n"},{"tags":["php","sql","sql-server"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":35,"score":-2,"question_id":13257659,"title":"sqlsrv returns empty query","body":"<p>I got a weird problem, on a other webserver (and other mssql server) there wasn't a problem.\nBut now I can connect to the server, I can connect to the database.</p>\n\n<p>And I can execute a query (at least I can use the syntax and it doesn't show an error) but it has no results. Also a <code>sqlsrv_fetch_array</code> returns <code>false</code>..</p>\n\n<p>And I don't have that much mssql knowledge, so I just have a very basic installation.</p>\n\n<p>What did I do wrong or what information do you need?</p>\n\n<p>PS. I'm using windows sql server 2008 R2.</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["php","curl","file-get-contents"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":105,"score":-5,"question_id":11376156,"title":"Download page content PHP","body":"<p>I have tried a whole bunch of stuff to get the content of <a href=\"http://www.findchips.com\" rel=\"nofollow\">www.findchips.com</a></p>\n\n<p>And I just can't get this done.\nAny ideas for getting it?</p>\n\n<p>Edit: I was trying to get the content with multiple methods, but i finally got it with curl.\nThank you and sorry for not being clear.</p>\n"},{"tags":["php","wordpress","wordpress-theming"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13257708,"title":"Prevent a WordPress theme from updating","body":"<p>We've inherited a WordPress theme that's a heavily customized version of the <a href=\"http://themeid.com/responsive-theme/\" rel=\"nofollow\">Responsive</a> wordpress theme. But the author never changed the theme meta info, so it still shows up as \"Responsive theme\" in the WordPress backend, with a link to update it, etc. </p>\n\n<p>I want to change the theme from \"Responsive\" to \"Responsive - Customized\" and disable the update link so that the changes don't get blown out. I know how to change the theme title/info in the style sheet, but I can't figure out how to get rid of the theme's update functionality?</p>\n\n<p>The link:<br>\n<img src=\"http://i.stack.imgur.com/R4B5n.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","mysql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13109511,"title":"SMS Exam Timetable Checking System","body":"<pre>\ntbl_student\n+-------+--------+----------+\n| s_id  | f_name |  s_name  |\n+-------+--------+----------+\n| 12715 | Gina   | Chikweya |\n|       |        |          |\n+-------+--------+----------+\ntbl_class\n +----------+-------+------+\n| cos_code | s_id  | pos  |\n+----------+-------+------+\n| bsad296  | 12715 |    5 |\n+----------+-------+------+\n\ntbl_exam\n+-----------+--------+-------------+--------+\n| cos_code  | e_time |   e_date    | e_row  |\n+-----------+--------+-------------+--------+\n| bsad296   | 10:00  | 12/12/2012  |      5 |\n+-----------+--------+-------------+--------+\n\n</pre>\n\n<p>these are tables for an exam timetable checking system the problem is my sql is limited but would want a student to input his id(s_id) i want the a query which will return cos_code, e_time, e_date, e_row the student is taking that is suppose i populate my tables with more data</p>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":16,"score":2,"question_id":13257587,"title":"Facebook comment counter not working","body":"<p>I'm using facebook comment plugin with my php dynamic website. The comment box is working fine but the facebook count is not working it always shows zero comments.</p>\n\n<p>I use this in index.php</p>\n\n<pre><code>&lt;script&gt;(function(d, s, id) {\nvar js, fjs = d.getElementsByTagName(s)[0];\nif (d.getElementById(id)) return;\njs = d.createElement(s); js.id = id;\njs.src = \"//connect.facebook.net/nl_NL/all.js#xfbml=1\";\nfjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));\n&lt;/script&gt;\n</code></pre>\n\n<p>I use this on the page with the comment box</p>\n\n<pre><code>&lt;fb:comments-count href=\"http://mywebsite.nl/news/&lt;?=$news['ID'];?&gt;.html\"&gt;&lt;/fb:comments-count&gt;\n</code></pre>\n\n<p>Any solutions?</p>\n"},{"tags":["php","json","stdclass"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13257006,"title":"Can't get property from valid stdClass object","body":"<p>I'm having a very interesting problem with PHP. The following code grabs a line from a text file, decodes that text as json into an stdClass object, then puts it into an array conditionally on one of its properties. </p>\n\n<pre><code>$fileStream = @fopen($fileName, 'r+');\n    $lastUpdate = $_POST['lastUpdate'];\n    if($fileStream) {\n        $eventArray = array();\n        while (($buffer = fgets($fileStream, 8192)) !== false) {\n                $decodedEvent = json_decode($buffer);\n                echo var_dump($decodedEvent);\n            if ($decodedEvent-&gt;timestamp &gt; $lastUpdate) {\n                array_push($eventArray, $decodedEvent);\n            }\n        }\n        $jsonEvents = json_encode($eventArray);\n        echo $jsonEvents;\n    }\n    else {\n        $fileStream = @fopen($fileName, 'a');\n    }\n    @fclose($fileStream);\n</code></pre>\n\n<p>This produces the error:</p>\n\n<pre><code>Notice:Trying to get property of non-object in C:\\****\\gameManager.php on line 23\n</code></pre>\n\n<p>I know that the object is valid in multiple ways. For instance, var_dump is producing this:</p>\n\n<pre><code>object(stdClass)#1 (3) {\n [\"name\"]=&gt;\n string(4) \"move\"\n [\"args\"]=&gt;\n array(3) {\n   [0]=&gt;\n   int(24)\n   [1]=&gt;\n   int(300)\n   [2]=&gt;\n   int(50)\n }\n [\"timestamp\"]=&gt;\n float(1352223678463)\n}\n</code></pre>\n\n<p>If I try to access $decodedEvent using <code>$decodedEvent[\"timestamp\"]</code> I get an error telling me that objects can't be accessed as arrays.</p>\n\n<p>Also, it does indeed echo proper json, which can only be encoded from a proper object:</p>\n\n<pre><code>[{\"name\":\"move\",\"args\":[24,300,50],\"timestamp\":1352223678463}]\n</code></pre>\n\n<p>Am I missing something here, or is PHP misbehaving? Any help is greatly appreciated.</p>\n\n<p><strong>EDIT</strong>: Here is the input from the file:</p>\n\n<pre><code>{\"name\":\"move\",\"args\":[24,300,50],\"timestamp\":1352223678463}\n</code></pre>\n"},{"tags":["php","javascript","facebook"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":13,"score":-2,"question_id":13257565,"title":"facebook showing sign up pop up on my facebook page","body":"<p>When I open my facebook page for example <a href=\"https://www.facebook.com/xyz\" rel=\"nofollow\">https://www.facebook.com/xyz</a> without login then it shows my time line which is publicly visible but with a sign-up pop up which hides my time line. What should I exactly needs to do so that I can hide this sign up pop and thus can other user able to see my time line without logged in. </p>\n\n<p>Please guide. This is one of my clients requirement.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","regex","string","preg-match"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13257367,"title":"Parsing from:x; but not lfrom:x;","body":"<p>I am trying to parse a string with something like :</p>\n\n<pre><code>preg_match( \"|from:(.*?);|\", $string, $match);\n</code></pre>\n\n<p>But then I found that the string can also contain <code>lfrom:</code> and <code>_from:</code></p>\n\n<p>A few examples of how the string can be:</p>\n\n<blockquote>\n  <p>var1:34234;from:website1.com;lfrom:website2.com;var2:343423;\n  lfrom:website1.com;var1:4234234;from:website2.com\n  from:website1.com;_from:website2.com;lfrom:website2.com;var1:43523;</p>\n</blockquote>\n\n<p>How can I parse only <code>from:(.*?);</code> and not <code>lfrom</code>, <code>_from</code>, etc.</p>\n"},{"tags":["php","apache","html5","audio"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":155,"score":0,"question_id":10983482,"title":"Mp3 streaming/downloading website - apache server memory issue","body":"<p>I have a website, in which users can upload mp3 files (uploadify), stream them using an html5 player (jplayer) and download them using a php script (www.zubrag.com/scripts/). </p>\n\n<p>When a user uploads a song, the path to the audio file is saved in the database and i'm using that data in order to play and show a download link for the song. \nThe problem that i'm experiencing is that, according to my host, this method is using a lot of memory on the server, which is dedicated. </p>\n\n<p>Link to script: <a href=\"http://pastebin.com/Vus8SRa7\" rel=\"nofollow\">http://pastebin.com/Vus8SRa7</a> </p>\n\n<p>How should I handle the script properly? And what would be the best way to track down the problem? Any ideas on cleaning up the code? </p>\n\n<p>Any help much appreciated.</p>\n"},{"tags":["php","html","mysql","forms"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13243772,"title":"How do I change the value of textarea by option selected?","body":"<p>I am trying to change the contents of  depending on the current option selected.</p>\n\n<p>The getData(page) comes back correctly (onChange) but it just doesn't go over to the variable I get \"Fatal error: Call to undefined function getData() in C:\\xampp\\htdocs\\pdimi\\admin\\editpages.php on line 42\"</p>\n\n<p>EDIT: This is how I finished it!</p>\n\n<p>Javascript:</p>\n\n<pre><code>&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction getData(combobox){\nvar value = combobox.options[combobox.selectedIndex].value;\n// TODO: check whether the textarea content has been modified.\n// if so, warn the user that continuing will lose those changes and\n// reload a new page, and abort function if so instructed.\ndocument.location.href = '?page='+value;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Select form:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;select name=\"page\" onChange=\"getData(this)\"&gt;\n    &lt;?php\nif (isset($_REQUEST['page']))\n    $page = mysql_real_escape_string($_POST['page']);\nelse\n    $page = '';\n$query = \"SELECT pageid FROM pages;\";\n?&gt;\n&lt;option value=\"select\"&gt;Select Page&lt;/option&gt;\n    &lt;option value=\"indexpage\"&gt;Index Page&lt;/option&gt;\n    &lt;option value=\"starthere\"&gt;Start Here&lt;/option&gt;\n\n    &lt;/select&gt;\n</code></pre>\n\n<p>Textarea:</p>\n\n<pre><code>&lt;textarea class=\"ckeditor\" name=\"page_data\" cols=\"80\" row=\"8\" id=\"page_data\"&gt;\n    &lt;?php\nif (isset($_GET['page'])) {\n$sql1 = @mysql_query(\"SELECT * FROM pages WHERE pageid='\".$_GET['page'].\"'\") or die(mysql_error());\n$sql2 = @mysql_fetch_array($sql1) or die(mysql_error());\n\nif ($sql1) {\necho $sql2['content'];\n}\n}\n\n?&gt;\n&lt;/textarea&gt;\n</code></pre>\n\n<p>And that is that!</p>\n"},{"tags":["php"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13257056,"title":"Add Edit Form with select element","body":"<p>I have one form that is used for adding and editing. My goal here is to on the add form have it pre-select the count(items)+1 value. On the edit form I need it to pre-select the value from the database when it it matches the increment of the for loop. Right now the $selected value isn't working and I\"m not sure how to implement the part for the add form. Any ideas?</p>\n\n<pre><code>&lt;?php for($x = 1; $x &lt;= count($items)+1; $x++)\n{\n    if (isset($item_data))\n    {\n        $selected = $item_data-&gt;item_sort_order === $x ? ' selected=\"selected\"' : '';\n    }\n    echo '&lt;option value=\"'.$x.'\"';\n    if (isset($selected)) { echo $selected; }\n    echo '&gt;'.$x.'&lt;/option&gt;';\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","mvc","cakephp","smarty","best-fit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":13256013,"title":"CakePHP vs. Smarty","body":"<p>This is less of a help me question, and more asking people thoughts and suggestions, and whats consider more of a forward thinking solution.</p>\n\n<p>First off I created a site that used NO template library and really had very little abstraction between presentation and code behind (there was some), So I decided there had to be a better way (and I wanted master pages similar to asp.net ), and I started slowly (still in progress) converting pages to use Smarty, but now I've done some research into CakePHP and interested in using MVC and the application tools it offers, I am familiar with MVC through some work I've done in ASP.net.</p>\n\n<p>My questions is do I completely abandon Smarty in favor of Cakes CTP files, which does not completely separate presentation from logic, or do I go through he hassle of trying to use Smarty templates with Cake, or I'm just asking for trouble. Or do I avoid the Cake route altogether? (which is tempting, converting my existing project to CakePHP seems daunting, (as it feels almost like it would be a re-write), but I feel the benefits would out weight the cons?).</p>\n\n<p>thoughts?</p>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT:</strong> the site I've built is a community theatre management system, its sorta like a cms system, but less blog-ish (at the moment no blog), and more who, what, when, where focused, here is the link to the site, its mostly db driven. <a href=\"http://marshallareastagecompany.org/\" rel=\"nofollow\">http://marshallareastagecompany.org/</a></p>\n"},{"tags":["php","mysql"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13257353,"title":"Order date from most recent down","body":"<p>I'm looking to sort my info by the most recent date down as well as a cost amount from cheapest to more expensive. My date field is a timestamp in mysql that is defualted with current timestamp. I also have a \"paymentamount\" that I want to organize as well. This is what I have so far and its not working. </p>\n\n<pre><code>$select = \"SELECT * FROM `Carriers` ORDER BY date,paymentamount DESC\";\n</code></pre>\n"},{"tags":["php","arrays","google-analytics-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13243863,"title":"How to force an array to display all the values?","body":"<p>the output for my array look similar to this after print_r($segments):   </p>\n\n<pre><code>Array\n(\n    [kind] =&gt; analytics#segments\n    [username] =&gt; account@gmail.com\n    [totalResults] =&gt; 2334\n    [startIndex] =&gt; 1\n    [itemsPerPage] =&gt; 1000\n    [items] =&gt; Array\n    (\n        [0] =&gt; Array\n            (\n                [id] =&gt; -1\n                [kind] =&gt; analytics#segment\n                [selfLink] =&gt; https://www.googleapis.com/analytics/v3/management/segments/gaid::-1\n                [segmentId] =&gt; gaid::-1\n                [name] =&gt; All Visits\n                [definition] =&gt; \n            )\n...\n\n        [999] =&gt; Array\n            (\n                [id] =&gt; -1\n                [kind] =&gt; analytics#segment\n                [selfLink] =&gt; https://www.googleapis.com/analytics/v3/management/segments/gaid::-1\n                [segmentId] =&gt; gaid::-1\n                [name] =&gt; All Visits\n                [definition] =&gt; \n            )\n    )\n)\n</code></pre>\n\n<p>This array is an output from google analytics API PHP, the max that it displayed me is <strong><em>1000</em></strong> rows as mentioned in the <strong><em>itemsPerPage</em></strong> parameter,  but I do have more than 1000, close to <strong><em>2334</em></strong> as mentioned in <strong><em>totalResults</em></strong> parameter.   </p>\n\n<p>Does some one have any idea how to force it to display all output at once?</p>\n\n<p>When I run this :</p>\n\n<pre><code> $nextLink = $results-&gt;getNextLink()\n            ? $results-&gt;getNextLink() : 'none';\n\nprint($nextLink);\n</code></pre>\n\n<p>The output is a <strong>link</strong>:\n<a href=\"https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?start-index=1001&amp;max-results=1000\" rel=\"nofollow\">https://www.googleapis.com/analytics/v3/management/accounts/~all/webproperties/~all/profiles?start-index=1001&amp;max-results=1000</a></p>\n\n<p><code>Accoring to this</code> <a href=\"https://developers.google.com/apps-script/class_analytics_v3_schema_accounts\" rel=\"nofollow\">documentation</a> <code>I have to use the parameter called</code> <strong>max-results</strong> <code>to display more results per page, but I have no idea how to do so, no much documentation about it.</code></p>\n\n<p>Any idea how to get the rest of the results using the <strong>max-results</strong> parameter or the <strong>link</strong>? </p>\n"},{"tags":["php","windows","path"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13255760,"title":"Is it possible to temporarily change PATH in PHP?","body":"<p>I tried using the following code to temporarily change <code>PATH</code> before using <code>exec()</code>.  </p>\n\n<pre><code>$s1 = getenv ('PATH');\nputenv('PATH=c:\\bins');\n$s2 = getenv ('PATH');\nputenv('PATH='.$s1);\n$s3 = getenv ('PATH');\nvar_dump($s1);\nvar_dump($s2);\nvar_dump($s3);\n</code></pre>\n\n<p>The first time the script runs everything works as expected.  Here's the output:</p>\n\n<pre><code>string 'C:\\Program Files (x86)\\'... (length=1400)\nstring 'c:\\bins' (length=7)\nstring 'C:\\Program Files (x86)\\'... (length=1400)\n</code></pre>\n\n<p>However, it appears that PHP destroys <code>PATH</code> after this script runs because running it a second time produces the following output.</p>\n\n<pre><code>boolean false\nstring 'c:\\bins' (length=7)\nstring '' (length=0)\n</code></pre>\n\n<p>I'm getting this behaviour on Windows with lighttpd and PHP 5.3 via fastcgi.  I haven't test with Linux/Apache yet.</p>\n\n<p>The following approach doesn't work on windows (even if you use &amp;):\n<a href=\"http://stackoverflow.com/questions/3550449/how-to-set-path-in-php\">How to set $PATH in PHP?</a></p>\n\n<p>Does anyone know a OS agnostic way to change <code>PATH</code>?</p>\n"},{"tags":["php","jquery","jquery-jtable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13227242,"title":"How to pass values from separate form in the url along with JQuery?","body":"<p>I have a separate form in the php page which also has Jquery jtable plugin to display data from Mysql database. The form has a drop down list boxes. i have to pass the values from those dropdown along with the Jtable action List in the url, to list table with respect to the condition selected from the drop down.</p>\n\n<pre><code>   &lt;div id=\"machinelog\"&gt;\n    &lt;form id=\"intermediate\" name=\"inputMachine\" method=\"post\"&gt;\n    &lt;select id=\"selectMachine\" name=\"selectMachine\"&gt; \n        &lt;option value=\"M1\" &gt;Machine 1&lt;/option&gt;\n        &lt;option value=\"M2\" &gt;Machine 2&lt;/option&gt;\n        &lt;option value=\"M3\" &gt;Machine 3&lt;/option&gt;\n    &lt;/select&gt;  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n\n\n&lt;input id=\"Button\" class=\"button\" type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;  \n</code></pre>\n\n<p>If i choose Machine 1 from the dropdown list, i have to make the jtable to display only the rows which has machine as Machine 1.</p>\n\n<p>i have to access the form values inside the Jtable container so that i can pass those valus in the url.</p>\n\n<pre><code>   &lt;div id=\"MachineLogTableContainer\" style=\"width: 1000px; margin-left: 254px;margin-top: -440px;position: static;\"&gt;&lt;/div&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n        $(document).ready(function () {\n            //var s=$('#selectMachine').val();\n            //alert(s);\n            var machineLogMessages = {\n                    addNewRecord: '+ New Machine Log'\n                };\n\n            //Prepare jTable\n            $('#MachineLogTableContainer').jtable({\n                messages:machineLogMessages,\n                title: 'Machine Log',\n                paging: true, //Enable paging\n                pageSize: 10,\n                actions: {\n                    listAction: 'MachineLogActions.php?action=list',\n                    createAction: 'MachineLogActions.php?action=create',\n                    updateAction: 'MachineLogActions.php?action=update',\n                    deleteAction: 'MachineLogActions.php?action=delete'\n                },\n                fields: {\n                    event_id: {\n                        key: true,\n                        edit: false,\n                        title: 'Event Id',\n                        width: '5.8693%',\n                        create:false,\n                        edit:false,\n                        list: false\n                    },\n                    event_type: {\n                        title: 'Event Type',\n                        width: '9%',\n                        options: 'MachineLogActions.php?action=list_type'\n                    },\n                    machine: {\n                        title: 'Machine',\n                        width: '16%',\n                        options: 'MachineLogActions.php?action=list_name'\n                    },\n                    user: {\n                        title: 'User',\n                        width: '11%',\n                        options: 'MachineLogActions.php?action=list_user'\n                    },\n                    timestamp: {\n                        title: 'Timestamp',\n                        width: '15%'\n                    },\n                    shift: {\n                        title: 'Shift',\n                        width: '9%',\n                        options: 'MachineLogActions.php?action=list_shift'\n                    },\n                    reason: {\n                        title: 'Reason',\n                        width: '25%',\n                        options: 'MachineLogActions.php?action=list_reason'\n                    },\n                    count: {\n                        title: 'Count',\n                        width: '3%'\n                    }\n                }\n            });\n\n            //Load person list from server\n            $('#MachineLogTableContainer').jtable('load');\n\n        });\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>once i press the submit button, my listing url should also contain the machine value.</p>\n\n<pre><code>        listAction: 'MachineLogActions.php?action=list&amp;MachineId=',+machineId\n</code></pre>\n\n<p>Is it possible in Jquery. </p>\n\n<p>I tried like this </p>\n\n<pre><code>    var s=$('#selectMachine').val();\nalert(s);\n</code></pre>\n\n<p>i get the following error in chrome</p>\n\n<pre><code>    Uncaught SyntaxError: Unexpected token ,\n</code></pre>\n"},{"tags":["php","javascript"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13255741,"title":"How to Fill Up Input boxes from data base based on 1st Entry.?","body":"<p>First I'm New to PHP and JavaScript.</p>\n\n<p>I have more then one input boxes for date Entering in PHP.\nwhat I would like to do is if user Enter date in first input box based on this entered date, Rest of the input boxes should fill up automatically from SQL tables (which has date by week) when leave from 1st input box(OnChange).</p>\n\n<p>I don't have any idea about it how can i do that.\nAny helps will be appreciate..\nThank you</p>\n\n<p>i have this code for the input boxes </p>\n\n<pre><code>echo '&lt;div class = \"start_date\" &gt;'; //Start_Date class start\necho '&lt;strong&gt;&lt;label for=\"start_date\"&gt;Start Date&lt;/label&gt;&lt;/strong&gt;';\necho '&lt;br/&gt;&lt;br/&gt;'; \nfor($k=1;$k&lt;=$textboxindex;$k++)\n    {\n    echo \"&lt;input type=\\\"text\\\" class='textboxsize' id= \\\"inputField$k\\\" name=\\\"start_date[]\\\" value=\\\"$start_date\\\" tabindex='$k'/&gt;\";\n    echo \"&lt;br/&gt;\";\n    }\n\necho '&lt;/div&gt;'; //Start_date Class End\n</code></pre>\n"},{"tags":["php","video","video-streaming","html5-video"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13257127,"title":"How can we get the details of percentage of flv video played by a user using php","body":"<p>Is there any way to measure the duration for which the user watched the video...using php?</p>\n\n<p>I have a web app for videos, here i want to check that for how many minutes the user has played the respective flash or wmv video files, so that i can keep track of it in my database.</p>\n\n<p>Is there any flash player that provides this..through api or something..?</p>\n"},{"tags":["php","mysql","database","session"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13256560,"title":"Storing user data in sessions - from DB","body":"<p>If I have a login system or something similar, I store a session_id and a user_id  in sessions, but any other data pertaining to a certain user is stored in a database. I've seen other scripts where people store other data (<em>username, email etc</em>) in sessions. </p>\n\n<p>I was just wondering, which would be \"better\"? Saving data in sessions from the DB or having less sessions and grabbing the data from the database?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","html5","script","upload","progress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":33,"score":-2,"question_id":13256973,"title":"Create an Upload Progress Bar/Meter display for HTML5 but hidden be on NON-HTML5 Browsers","body":"<p>I want to create an upload progress bar/meter if possible to work as cross-browser support or else just work to on HTML5 browsers and be hidden/disabled with non-html5 browsers... </p>\n\n<p>So far i have tried so many html5 upload progress script but they all required using custom uploading input tag/divs which does not work with my page function below... </p>\n\n<p>So any idea what uplaod progress script can work properly with my page below and how to set it up properly?</p>\n\n<pre><code>&lt;body&gt;\n&lt;div class=\"wrapper\"&gt;\n&lt;div class=\"replay\"&gt;\n&lt;h2&gt; Upload replay &lt;/h2&gt; \n&lt;?php\n$print_info = false;\ndefine(\"MAX_UPLOAD_SIZE\", 3000000);\n\n// Upload a file\nif(isset($_POST['uploadReplay'])) {\n    if(!isset($_FILES['replay_file']) || !isset($_POST['replay_title']) || !isset($_POST['replay_winner']) || !isset($_POST['replay_text'])) {\n        echo 'Error: Make sure you\\'ve filled out all the fields.';\n    }\n    else {\n       $title = htmlspecialchars(trim($_POST['replay_title']));\n       $winner = htmlspecialchars(trim($_POST['replay_winner']));\n       $text = htmlspecialchars(trim($_POST['replay_text'])); \n\n       // Check that we have a file\n       $replayUploaded = false;\n       $replayFile = \"\";\n\n       if(( !empty($title) &amp;&amp; !empty($winner) &amp;&amp;\n            !empty($_FILES[\"replay_file\"])) &amp;&amp; ($_FILES['replay_file']['error'] == 0)) {\n          //Check if the file is JPEG image and it's size is less than 350Kb\n          $filename = basename($_FILES['replay_file']['name']);\n          $ext = substr($filename, strrpos($filename, '.') + 1);\n          $uniqueID = time();\n\n\n          if (($ext == \"w3g\") &amp;&amp; $_FILES[\"replay_file\"][\"size\"] &lt; MAX_UPLOAD_SIZE) {\n             //Determine the path to which we want to save this file\n              $newname = dirname(__FILE__).'/replays/'.$uniqueID.'.'.$ext;\n              //Check if the file with the same name is already exists on the server\n              if (!file_exists($newname)) {\n                //Attempt to move the uploaded file to it's new place\n                if ((move_uploaded_file($_FILES['replay_file']['tmp_name'], $newname))) {\n                   $replayFile = $uniqueID.'.'.$ext;\n                   $replayUploaded = true;\n                } \n                else {\n                   print_message(\"Error: A problem occurred during file upload!\");\n                }\n              } \n              else {\n                 print_message(\"Error: File \".$_FILES[\"replay_file\"][\"name\"].\" already exists\");\n              }\n          } \n          else {\n             print_message(\"Error: Only .w3g replays under 3 MB are accepted for upload\");\n          }\n        } \n        else {\n            print_message(\"Error: Make sure you've filled out all the fields\");\n        }\n\n        // If the replay was uploadead successfully, process it\n        if( $replayUploaded ) {\n            @require(\"reshine.php\");\n\n            $replay = new replay('replays/'.$replayFile);\n\n            $replay-&gt;extra['title'] = $title;\n\n            /* Determine the winner \n             * If the uploader chose \"Automatic\" then check if the parser was able to determine a winner,\n             * otherwise the winner is set to \"Unknown\"\n             * Alternatively the uploader can set the winner manually\n             */\n            if(\"Automatic\" != $winner) {\n                $replay-&gt;extra['winner'] = ( $winner == \"Sentinel\" ? \"Sentinel\" : \"Scourge\" );\n            }\n            else if(isset($replay-&gt;extra['parsed_winner'])) {\n                $replay-&gt;extra['winner'] = $replay-&gt;extra['parsed_winner'];\n            } \n            else {\n                $replay-&gt;extra['winner'] = \"Unknown\";\n            }\n\n            $replay-&gt;extra['text'] = $text;\n            $replay-&gt;extra['original_filename'] = $filename;\n\n\n            $txt_file = fopen('replays/'.$replayFile.'.txt', 'a');\n\n            flock($txt_file, 2);\n            fputs($txt_file, serialize($replay));\n            flock($txt_file, 3);\n            fclose($txt_file);\n\n            if ( $replay-&gt;extra['parsed'] == false ) {\n                // Replay not parsed\n            }\n            else {\n                // Replay saved, display the link.\n                print_message('Replay uploaded successfully. &lt;a href=\"view_replay.php?file='.$replayFile.'\" alt=\"View replay\" &gt; View details &lt;/a&gt;');\n                $print_info = true;    \n            }\n\n\n        }\n\n\n    }\n}\n\nfunction print_message($msg) {\n    echo '&lt;div style=\"padding-left: 10px; padding-bottom: 10px;\" &gt;';\n    echo $msg;\n    echo '&lt;/div&gt;';\n}    \n?&gt;\n\n    &lt;div class=\"content\" style=\"width: 99%;\"&gt;\n\n        &lt;form enctype=\"multipart/form-data\" action=\"upload_replay.php\" method=\"post\"&gt;\n        &lt;fieldset&gt;\n          &lt;label for=\"replay_title\" &gt;Title*: &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/label&gt;&lt;input name=\"replay_title\" id=\"replay_title\" type=\"input\" /&gt;\n          &lt;br /&gt;\n          &lt;label for=\"replay_winner\" &gt;Winner: &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/label&gt;\n            &lt;select name=\"replay_winner\" id=\"replay_winner\"  /&gt;\n                &lt;option value=\"Automatic\"&gt;Automatic &lt;/option&gt;\n                &lt;option value=\"Sentinel\"&gt;Sentinel &lt;/option&gt;\n                &lt;option value=\"Scourge\"&gt;Scourge &lt;/option&gt;\n            &lt;/select&gt;\n          &lt;br /&gt;\n          &lt;label for=\"replay_text\" style=\"vertical-align: top;\" &gt;Description: &lt;/label&gt;\n          &lt;textarea name=\"replay_text\" id=\"replay_text\" cols=\"65\"&gt;&lt;/textarea&gt;\n          &lt;br /&gt;\n          &lt;input type=\"hidden\" name=\"MAX_FILE_SIZE\" id=\"'.MAX_UPLOAD_SIZE.'\" value=\"3000000\" /&gt;\n          &lt;label for=\"replay_file\" &gt;File*: &lt;/label&gt;&lt;input name=\"replay_file\" id=\"replay_file\" type=\"file\" /&gt;\n          &lt;input type=\"submit\" value=\"Upload\" name=\"uploadReplay\" /&gt;\n        &lt;/fieldset&gt;\n      &lt;/form&gt;    \n\n    &lt;/div&gt;\n&lt;?php\n    if( $print_info ) {   \n        echo ('&lt;div class=\"content\" style=\"width: 99%;\"&gt;\n            &lt;h2&gt; Compact replay info &lt;/h2&gt;\n            &lt;textarea style=\"width: 99%; height: 500px;\"&gt;\n&lt;div class=\"wrapper\"&gt;\n&lt;div class=\"replay\"&gt;\n&lt;h2 class=\"replay_h2\"&gt;'.$title.'&lt;/h2&gt;\n    &lt;div class=\"replay_content \" style=\"text-align: center;\"&gt;');\n    $replay-&gt;print_team_heroes(0);\n\n    echo   ('&lt;div class=\"replay_content \" style=\"padding-left: 0px; text-align: center;\"&gt;\n            &lt;a href=\"download.php?f='.$replayFile.'&amp;fc='.$replay-&gt;extra['original_filename'].'\" style=\"display: inline;\"&gt; &amp;raquo;&amp;nbsp;&amp;nbsp; Download  &amp;laquo; &lt;/a&gt; \n            &lt;a href=\"view_replay.php?file='.$replayFile.'\" target=\"_blank\" style=\"display: inline;\"&gt;  &amp;raquo; More Info &amp;laquo; &lt;/a&gt;    \n        &lt;/div&gt;');\n    $replay-&gt;print_team_heroes(1); \n    echo   ('&lt;/div&gt;                             \n&lt;/div&gt;\n&lt;/div&gt;\n            &lt;/textarea&gt;\n        &lt;/div&gt;');\n    }\n?&gt;      \n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["php","automation","download"],"answer_count":4,"favorite_count":6,"up_vote_count":10,"down_vote_count":0,"view_count":16521,"score":10,"question_id":40943,"title":"How to Automatically Start a Download in PHP?","body":"<p>What code do you need to add in PHP to automatically have the browser download a file to the local machine when a link is visited?</p>\n\n<p>I am specifically thinking of functionality similar to that of download sites that prompt the user to save a file to disk once you click on the name of the software?</p>\n"},{"tags":["java","php","jsp","jnlp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13257228,"title":"Creating JNLP on fly with php having issue with icedtea web start","body":"<p>I am using PHP/JSP to generate jnlp file on the fly. I use one url www.example.com/start that reads a jnlp file that contains some tags which are replaced with dynamic values. It replace the tag(arg1,arg2) with some calculated values in the file and then output the jnlp file that is downloaded on user browser.  the JNLP file contains following url as href in codebase.</p>\n\n<p>test.php?arg1=value&amp;arg2=val2</p>\n\n<p>the test.php file reads the URI and output the same jnlp file again. this file doesn't calculate anything. It just replaces the received value in URL with the tags of file as above.</p>\n\n<p>Issue:</p>\n\n<p>When I run the url www.example.com/start in browser and open the jnlp with javaws, it works fine but if I use icedtea which is default option in firefox to open jnlp file then it doesn't work and show a jnlp read error. </p>\n\n<p>In my investigation, I found that when we open jnlp with icedtea, it doesn't pass the ?arg1=value&amp;arg2=val2 in test.php that cause issue. Can anybody help me on this. </p>\n"},{"tags":["php"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13257225,"title":"cannot connect to Mysql using new password with sqlyog, sqlyog uses old database password to connect","body":"<p>I have imported Mysql database from my old Web Server to my new Server running on Linux. When I connect to this Mysql database using phpmyadmin, it connects using the new database root password, but when I connect to the same database using sqlyog (port:3306) it does not connect using the database's new root password, rather it still connects with the old root password that was used in my old Web Server.</p>\n"},{"tags":["php","wordpress","debugging","post"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":220,"score":3,"question_id":7878279,"title":"How to debug save_post actions in WordPress?","body":"<p>I have some custom post meta being generated and ready to add to a post's meta. I know how to do this however <code>save_post</code> causes a redirection after POST data has been sent. This means I am redirected to the dashboard and lose access to my POST data - therefore I cannot debug easily.</p>\n\n<p>Currently using something like:</p>\n\n<pre><code>add_action('save_post', 'something_process');\nfunction something_process() {\n   if(defined('DOING_AUTOSAVE') &amp;&amp; DOING_AUTOSAVE) return;\n   print_r($_POST);\n}\n</code></pre>\n\n<p>Is there a way to <em>easily</em> debug this?</p>\n"},{"tags":["php","mysql","calendar","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13256947,"title":"MySQL subquery returning more than one result","body":"<p>Does someone figures out a way to make this code works even when <strong>MySQL subquery</strong> returns more than one result? It is working fine when the user has no event related to him, or when the user has one event related to him, but when a <strong>user is related to more than one event</strong>, the subquery returns more than one result and than the code gets nothing to work with.</p>\n\n<pre><code>$stmt = $db-&gt;prepare(\"SELECT * FROM events WHERE\n                  id_events = ( SELECT id_events FROM relationship_events WHERE id_user = ?)\");\n$stmt-&gt;bindParam(1, $idUser);\n$stmt-&gt;execute();\n\n$rawTimeStamps = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);\n$cleanDateArray = array();\n\nforeach ($rawTimeStamps as $t) {\n$rawDate = $t['start'];\n$rawDate = getdate($rawDate);\n$cleanDate = mktime(0,0,0,$rawDate['mon'],$rawDate['mday'],$rawDate['year']);\n$cleanDateArray[] = $cleanDate;\n}\n\nfor($list_day = 1; $list_day &lt;= $days_in_month; $list_day++):\n\n$calendar.= '&lt;td class=\"calendar-day\"&gt;';\n    $timestamp = mktime(0,0,0,$month,$list_day,$year);\n    if (!empty($cleanDateArray) &amp;&amp; in_array($timestamp, $cleanDateArray)) {\n\n    $date = getdate($timestamp);\n    $time_start = mktime(0,0,0,$date['mon'],$date['mday'],$date['year']);\n    $time_end = mktime(23,59,59,$date['mon'],$date['mday'],$date['year']);\n    $stmt = $db-&gt;prepare('SELECT title FROM events WHERE start BETWEEN ? AND ?');\n    $stmt-&gt;bindParam(1,$time_start,PDO::PARAM_INT);\n    $stmt-&gt;bindParam(2,$time_end,PDO::PARAM_INT);\n    $stmt-&gt;execute();\n    $events = $stmt-&gt;fetch(PDO::FETCH_ASSOC);\n\n    $calendar.= '&lt;div class=\"day-number day-number-event\"&gt;&lt;a href=\"#\"&gt;'.$list_day.'&lt;/a&gt;&lt;/div&gt;&lt;p&gt;'.$events[\"title\"].'&lt;/p&gt;';\n    } else {\n    $calendar.= '&lt;div class=\"day-number day-number-noevent\"&gt;'.$list_day.'&lt;/div&gt;&lt;div id=\"calendar-events\"&gt;&lt;/div&gt;';\n    }\n</code></pre>\n"},{"tags":["php","javascript","mysql","ajax","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13257039,"title":"After Sharing a FB-link, insert into mysql not working","body":"<p>Hey I have a problem...</p>\n\n<p>I would like to when a user has shared a link from my facebook app, that i get his id into my db.</p>\n\n<p>The way i share the link is via the facebook dialog javascript example that i have modified</p>\n\n<p><strong>The sharing javascript code</strong></p>\n\n<pre><code>&lt;script&gt;\n      FB.init({appId: 'xxxx', channelUrl: 'xxxx', status: true, cookie: true});\n\n      function postToFeed() {\n\n        // calling the API ...\n        var obj = {\n          method: 'feed',\n          link: 'https://developers.facebook.com/docs/reference/dialogs/',\n          picture: 'http://fbrell.com/f8.jpg',\n          name: 'Facebook Dialogs',\n          caption: 'Reference Documentation',\n          description: 'Using Dialogs to interact with users.'\n        };\n\n        function callback(response) {\n            xmlhttp=new XMLHttpRequest();\n            xmlhttp.onreadystatechange=function(){\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n                    document.getElementById('msg').innerHTML = \"Post ID: \" + response['post_id'];\n                    document.getElementById('post').style.display = \"none\";\n                }\n            }\n            xmlhttp.open(\"POST\",\"shared.php\",true);\n            xmlhttp.send(\"id=xxx\");\n        }\n\n        FB.ui(obj, callback);\n      }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>The PHP Code</p>\n\n<pre><code>$con = mysqli_connect(\"xxxx\",\"xxx\",\"xxx\",\"xxx\");\n    if (!$con) {\n        die('Could not connect: ' . mysql_error());\n    };\n\n        mysqli_query($con, \"INSERT INTO xxx (fb-id) VALUES (\".$_POST['id'].\")\");\n\n    mysqli_close($con)\n</code></pre>\n\n<p>When I have shared the link I get the post_id, but the nothing in the db ?</p>\n\n<p>Can anybody tell whats wrong ?</p>\n"},{"tags":["php","sockets"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":61,"score":4,"question_id":12965312,"title":"What's the canonical way to put a read timeout on a stream in PHP?","body":"<p>Here's some sample code:</p>\n\n<pre><code>&lt;?php\n$fp = fsockopen($host, $port, $errno, $errstr, $connectTimeout);\n\nif (!$fp) {\n    echo \"$errstr ($errno)&lt;br /&gt;\\n\";\n} else {\n    echo \"connected\\n\"; \n    while (!feof($fp)) {\n        echo fgets($fp, 128);\n    }\n    fclose($fp);\n}\n</code></pre>\n\n<p>I've seen\n<code>stream_set_timeout($fp, 5);</code> and<br>\n<code>socket_set_option($fp, SOL_SOCKET, SO_RCVTIMEO, array(\"sec\"=&gt;5, \"usec\"=&gt;0));</code>,\nbut the read never times out.</p>\n\n<p>I've seen several caveats in the PHP docs for <code>stream_set_timeout()</code>:</p>\n\n<blockquote>\n  <p>This function doesn't work with advanced operations like\n  stream_socket_recvfrom(), use stream_select() with timeout parameter instead.</p>\n</blockquote>\n\n<p>I'd rather not use <code>select()</code> or a loop. What is the canonical way to have a blocking read with timeout?</p>\n"},{"tags":["php","zend-framework","soap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":10414003,"title":"PHP Soap MustUnderstand","body":"<p>I have a soap server in Zend Framework and have added a filter before the request hits the soap_server to parse the header and allow wsse. This works fine.</p>\n\n<p>Yesterday I received a call with the attribute MustUnderstand=1 on the Security element in the header. The soap_server then throws: header not understood.</p>\n\n<p>Is it possible to do a workaround to have zend_soap_server ignore the mustunderstand=1 on the header?</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":13256895,"title":"Populate two different tables","body":"<p>I need to populate two different tables on change of two different selectors, each one should point to the corresponding table. I have try different thing but i think I'm looking the wrong way. Any idea? Any hint?  </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script&gt;\n\nfunction showUser(str)\n{\nif (str==\"\")\n  {\n  document.getElementById(\"txtHint\").innerHTML=\"\";\n  return;\n  }\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"txtHint\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"getuser.php?q=\"+str,true);\nxmlhttp.send();\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form&gt;\n&lt;select name=\"users\" onchange=\"showUser(this.value)\"&gt;\n&lt;option value=\"\"&gt;Select a person:&lt;/option&gt;\n&lt;option value=\"1\"&gt;Peter Griffin&lt;/option&gt;\n&lt;option value=\"2\"&gt;Lois Griffin&lt;/option&gt;\n&lt;option value=\"3\"&gt;Glenn Quagmire&lt;/option&gt;\n&lt;option value=\"4\"&gt;Joseph Swanson&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n&lt;br /&gt;\n&lt;div id=\"txtHint\"&gt;&lt;b&gt;Person info will be listed here.&lt;/b&gt;&lt;/div&gt;\n\n&lt;form&gt;\n&lt;select name=\"users\" onchange=\"showUser(this.value)\"&gt;\n&lt;option value=\"\"&gt;Select a person:&lt;/option&gt;\n&lt;option value=\"1\"&gt;Peter Griffin&lt;/option&gt;\n&lt;option value=\"2\"&gt;Lois Griffin&lt;/option&gt;\n&lt;option value=\"3\"&gt;Glenn Quagmire&lt;/option&gt;\n&lt;option value=\"4\"&gt;Joseph Swanson&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n&lt;br /&gt;\n&lt;div id=\"txtHint2\"&gt;&lt;b&gt;Person info will be listed here.&lt;/b&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n"},{"tags":["php","netsuite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13256994,"title":"Netsuite Error INVALID_KEY_OR_REF","body":"<p>Getting this error Invalid custrecord_lt_partner reference key 225399. While trying to insert into </p>\n\n<p>The first two fields are lists/records &amp; the third field is free form text.</p>\n\n<p>Netsuite with Admin rights</p>\n\n<p>Here is the code</p>\n\n<pre><code>global $nsClient;\n\n$recordTypeRef = array(\"internalId\" =&gt; 91);\n\n$partnerName = \"225399\";\n$companyName = \"20562\";\n$labAcctNum  = \"7182794\";\n\n$partnerNameFields = new nsComplexObject('SelectCustomFieldRef');\n\n$partnerNameFields-&gt;setFields(\n    array(\n        'value'         =&gt; new nsListOrRecordRef(array('internalId' =&gt; $partnerName)),\n        'internalId'    =&gt; 'custrecord_lt_partner' \n    )\n);\n\n$companyNameFields = new nsComplexObject('SelectCustomFieldRef');\n\n$companyNameFields-&gt;setFields(\n    array(\n        'value'         =&gt; new nsListOrRecordRef(array('internalId' =&gt; $companyName)),\n        'internalId'    =&gt; 'custrecord_lt_company' \n    )\n);\n\n\n$labAcctNumFields = new nsComplexObject('StringCustomFieldRef');\n\n$labAcctNumFields-&gt;setFields(\n    array(\n        'internalId' =&gt; 'custrecord_lt_user_lab_acct_number',\n        'value'      =&gt; $labAcctNum, \n    )\n);\n\n\n$customRecordFields = array(\n    \"recType\"           =&gt; $recordTypeRef,\n    \"customFieldList\"   =&gt; array($partnerNameFields, $companyNameFields, $labAcctNumFields),\n);\n\n\n$customRecord = new nsComplexObject('CustomRecord');\n\n$customRecord-&gt;setFields($customRecordFields);\n\n//echo \"&lt;pre&gt;\"; print_r($customRecord); echo \"&lt;/pre&gt;\"; exit;\n\n\n$addResponse = $nsClient-&gt;add($customRecord);\n\nif($addResponse-&gt;isSuccess) {\n    echo \"&lt;pre&gt;\"; print_r(\"Success\"); echo \"&lt;/pre&gt;\"; exit;\n}\nelse {\n    echo \"&lt;pre&gt;\"; print_r($addResponse-&gt;statusDetail[0]-&gt;message); echo \"&lt;/pre&gt;\"; exit;\n}\n</code></pre>\n"},{"tags":["php","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13255767,"title":"PHP and CSV each column data is not getting wrapped in enclosures","body":"<p>I have the following code, </p>\n\n<pre><code>function Warrantyform($to, $subject, $template, $replaceArray)\n{\n    $return = \"\";\n    $str = valString($template);\n    //die(var_dump($replaceArray));\n    CallDatabase(\"insert into sales_formsholder \n     (iformtype, cto, csubject, cmsg, chtmlmsg) \n     values ( 1 ,'\" . $to . \"', '\" . $subject . \"', '\" . $str . \"', '')\");\n    //$handle = fopen($_SERVER[\"DOCUMENT_ROOT\"]. \"/cron/\" . date(dMY) . \".csv\");\n    $aList = array();\n    foreach ($replaceArray as $k =&gt; $v) {\n        $aList[] = (string)$v ;\n    }    \n    $aList[] = date(\"d.m.Y h:i:s\");\n    $aCsvLine = array(\n        $aList\n    );\n    $fp = fopen($_SERVER['DOCUMENT_ROOT'] . \n      \"/cron/register_warranty_\" . date(\"dMY\") . \".csv\", 'a');\n    //die(var_dump($fp));\n    foreach ($aCsvLine as $fields) {\n        fputcsv($fp, $fields);\n    }\n    fclose($fp);\n}\n</code></pre>\n\n<p>I was expecting the get output like this, </p>\n\n<pre><code>\"column 1\", \"column 2\", \"column 3\", \"column 4\", \"column 5\"\n</code></pre>\n\n<p>but what I am getting is more like, </p>\n\n<pre><code>\"column 1\", column 2, column 3, \"column 4\", \"column 5\"\n</code></pre>\n\n<p>I need every entry in the CSV by enclosed correctly why is this not happening?</p>\n"},{"tags":["php","lazy-loading","public-members"],"answer_count":9,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":165,"score":3,"question_id":10640744,"title":"lazy load public class data member in PHP","body":"<p>I want to lazy load the public data members of a class in PHP. Assume we have the following class:</p>\n\n<pre><code>&lt;?php\nclass Dummy\n{\n    public $name;\n    public $age;\n    public $status_indicator;\n}\n?&gt;\n</code></pre>\n\n<p>If <code>$name</code>, <code>$age</code> and <code>$status_indicator</code> were private data members I would lazy load them via their getter methods, but since they are public - I am unclear as to how to lazy load them. Is this possible?</p>\n\n<p><b>EDIT</b>:\nSomeone commented that there is a method called <code>__get</code> which might help to solve this issue, but I didn't understand it.</p>\n"},{"tags":["php","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13256204,"title":"Inserting Data From Database Into View - Codeigniter","body":"<p>Okay, so I'm grabbing the data I need properly from the database. However, how do I take the \"echo data\" and echo it as a variable in my view?</p>\n\n<p>For example,</p>\n\n<pre><code>&lt;? echo $row1-&gt;title; ?&gt;\n</code></pre>\n\n<p>is not working when placed in the view.</p>\n\n<p>Here's a portion of my controller:</p>\n\n<pre><code>// Pricing and package details insert from db\n    $query = $this -&gt; db -&gt; query('SELECT title, price, number_sites, number_entries, white_label FROM pricing');\n\n    $row1 = $query-&gt;row(0); // 0 grabs first row in table: Package 1         \n\n    echo $row1-&gt;title;\n    echo $row1-&gt;price;\n    echo $row1-&gt;number_sites;\n</code></pre>\n\n<p>If you want to view the entire controller, check it here:\n<a href=\"http://codepad.org/4nRrywzl\" rel=\"nofollow\">http://codepad.org/4nRrywzl</a></p>\n"},{"tags":["php","options","zen-cart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13238847,"title":"How to turn off global features in zen carts options_name_manager.php","body":"<p>I have been looking through code and forums for hours. Does any one know how to make it so that by default the Global features drop down is set to off on the options_name_manager file so that the global features are hidden. I have a customer who doesn't need to see those options and so I want to hide it. </p>\n\n<p>I have done some extensive googling and come up blank. Any help is appreciated. I have even tried hard coding the variable which changes the drop down but doesn't hide the section that it needs to!!</p>\n"},{"tags":["php","security"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":54,"score":0,"question_id":13247997,"title":"$_SERVER['PHP_SELF'] vulnerability not \"working\"?","body":"<p>Looking at an old code of a client, he's using</p>\n\n<pre><code>&lt;form action=\"&lt;?php echo $_SERVER['PHP_SELF']; ?&gt;\" /&gt;\n</code></pre>\n\n<p>I was wondering if it was subject to XSS, but when I try :</p>\n\n<ul>\n<li><code>form.php\"&gt;&lt;script&gt;alert('xss');&lt;/script&gt;</code> => 404 NOT FOUND from Apache</li>\n<li><code>form.php/\"&gt;&lt;script&gt;alert('xss');&lt;/script&gt;</code> => 404 From my app</li>\n</ul>\n\n<p>I must specify that I also use ?action=specific_page in the url for its normal use.</p>\n\n<p>Does that mean no XSS is possible using <code>PHP_SELF</code> or does that mean I'm trying it the wrong way?</p>\n"},{"tags":["php"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":153,"score":0,"question_id":1808219,"title":"resending information problem","body":"<p>i've a search bar from where users can search for videos..\nafter the search, the user goes on to click and watch a video(from the search result)..when the user hits the browser's back button it displays the following</p>\n\n<blockquote>\n  <p>To display this page, Firefox must\n  send information that will repeat any\n  action (such as a search or order\n  confirmation) that was performed\n  earlier.</p>\n</blockquote>\n\n<p>instead of just showing the results..\ni just want to display the results of search when the user hits back..is it something related to cache?\nthankx..</p>\n"},{"tags":["php","apache","ip"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":44,"score":-6,"question_id":13256616,"title":"could I select my server IP address in php script","body":"<p>because twitter limit api query every hour/IP, and my server has 3 ip address. So could I select my server IP address in php script, so that I could get 3 times twitter api query traffic.</p>\n\n<pre><code>if(php_sapi_name() == 'cli'){\n   //if(my server ip == '1.1.1.1'){\n     ... \n   //}\n}\n</code></pre>\n"},{"tags":["php","session","session-state"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13256417,"title":"Questions about PHP session based logins","body":"<p>I have a couple of questions about PHP session based logins.  I have used the following tutorial to create a login form that connects to an existing user database that I have:</p>\n\n<p><a href=\"http://www.sourcecodester.com/tutorials/php/4341/how-create-login-page-phpmysql.html\" rel=\"nofollow\">http://www.sourcecodester.com/tutorials/php/4341/how-create-login-page-phpmysql.html</a></p>\n\n<p>I understand most of it, but I'd just like to query a couple of things that I do not understand:</p>\n\n<pre><code>//Login Successful\nsession_regenerate_id();\n$member = mysql_fetch_assoc($result);\n$_SESSION['SESS_MEMBER_ID'] = $member['mem_id'];\n$_SESSION['SESS_FIRST_NAME'] = $member['username'];\n$_SESSION['SESS_LAST_NAME'] = $member['password'];\nsession_write_close();\nheader(\"location: home.php\");\nexit();\n</code></pre>\n\n<p>The following code goes in the login_exec.php page - I think that this code is setting the session ID upon a successful login - am I correct?  </p>\n\n<p>What I do not understand is the reason for \"SESS_MEMBER_ID\", \"SESS_FIRST_NAME\" and \"SESS_LAST_NAME\" - why is that there and what is it doing precisely?</p>\n\n<p>My second question.  In \"home.php\" - when a user clicks \"logout\", they are directed back to index.php and somehow the session is being destroyed.  How, exactly, is the session getting destroyed when clicking \"logout\".</p>\n\n<p>Thirdly, is it possible to change \"home.php\" so that there is an if/else statement in place that says something like \"if logged_in echo \"yay, you are logged in\" with a variety of logged in content, \"else if not_logged_in echo \"sorry, you are not logged in and cannot view this page, please go to the following page to log in\".   If it is possible, how would I do that?</p>\n\n<p>Many Thanks</p>\n"},{"tags":["php","mysql","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13256573,"title":"Multiple records for orders and invoices found in Magento store","body":"<p>Recently I upgraded my old magento store to new version. In the new version I found some records are missing for order and invoices. \nTo find the missing records I write a script which searches for records present in the old database that are not in the new. So I came to know that magento upgrade done the right job but the missing records are actually duplicate entries in the old database. Can someone explain me why duplicates entries are there for some order and invoice numbers.</p>\n"},{"tags":["php","mysql","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":51,"score":5,"question_id":13256237,"title":"php/pdo/msql - access denied","body":"<p>There is a little pdo problem, that I have been working on for a while now. Since I don't know what is wrong here, I thought about taking it to this list. Maybe some of you know more...</p>\n\n<p>I have a website with a login that checks a user and a password against a mysql driven database. When the pdo connection is made in the same file all works fine, one can log in, without any problems. Just as it is supposed to work...</p>\n\n<p>However, when moving the database connection part to a seperate function, which I include from another file, pdo fails on me, and gives me:     </p>\n\n<blockquote>\n  <p>SQLSTATE[28000] [1045] Access denied for user '...'@'...' (using\n  password: NO)\n      Fatal error: Call to a member function prepare() on a non-object in /.../.../... on line 41</p>\n</blockquote>\n\n<p>For the sake of clarity, here is the code:</p>\n\n<p><strong>Version 1:</strong></p>\n\n<p>This works:</p>\n\n<pre><code>&lt;?php\n    require \"./vars_and_functions.php\";\n\n    /* open database connection */\n    try {\n    $pdo = new PDO(\"mysql:host=$db_host;dbname=$db_name\", $db_user, $db_pass);\n\n    /* query */\n    $query = \"SELECT uname, passw FROM members WHERE uname = ? AND passw = ?\";\n    $q = $pdo-&gt;prepare($query);\n    $q-&gt;execute(array($u_name, $p_word_md5));\n    $result = $q-&gt;rowCount();\n\n    if($result == 1) { /* we have a match */                       \n    /* close the database connection */\n               $pdo = null;  \n\n                /* and redirect */\n                header(\"...\");\n\n    } /* if */\n    else { /* wrong credentials */\n        /* close the database connection */                \n                $pdo = null;\n\n                /* and go back to the login page */ \n        header(\"...\");\n    } /* else */\n        } /* try */ \n    catch(PDOException $e) {  \n        echo $e-&gt;getMessage();  \n    } /* catch */\n?&gt;\n</code></pre>\n\n<p><strong>Here is version 2</strong></p>\n\n<p>This does not work:</p>\n\n<pre><code>&lt;?php\n        require \"./vars_and_functions.php\";\n\n        /* open database connection */\n        $pdo = database_connection();\n\n\n\n    /* query */\n            $query = \"SELECT uname, passw FROM members WHERE uname = ? AND passw = ?\";\n            $q = $pdo-&gt;prepare($query);\n            $q-&gt;execute(array($u_name, $p_word_md5));\n            $result = $q-&gt;rowCount();\n\n        if($result == 1) { /* we have a match */                       \n               /* close the database connection */\n                   $pdo = null;  \n\n                    /* and redirect */\n                    header(\"...\");\n\n        } /* if */\n        else { /* wrong credentials */\n            /* close the database connection */                \n                    $pdo = null;\n\n                    /* and go back to the login page */ \n            header(\"...\");\n        } /* else */\n            } /* try */ \n    catch(PDOException $e) {  \n        echo $e-&gt;getMessage();  \n    } /* catch */\n?&gt;\n</code></pre>\n\n<p>My includefile vars_and_functions.php looks like this:</p>\n\n<pre><code>$db_host = \"...\";       \n$db_name = \"...\";           \n$db_user = \"...\";       \n$db_pass = \"...\";       \n\nfunction database_connection() {\n    try {\n    $pdo = new PDO(\"mysql:host=$db_host;dbname=$db_name\", $db_user, $db_pass);\n}  \ncatch(PDOException $e) {  \n    echo $e-&gt;getMessage();  \n}  \n\nreturn $pdo;\n}\n</code></pre>\n\n<p>The only real difference to my mind is that here, the pdo connection is made via a function call, whereas the function sits in the include file vars_and_functions.php.</p>\n\n<p>What's wrong here?</p>\n"},{"tags":["php","firefox","google-chrome","whitespace","opera"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13256447,"title":"Mysterious space in my website on Chrome and FF?","body":"<p>After i type </p>\n\n<pre><code>date_default_timezone_set('Europe/Vilnius');\n</code></pre>\n\n<p>my website's top gets mysterious blank space. Don't know why - because when i remove it - everything is fine. It doesn't matter where i put that line, the blank space is on top. It is with FF and Chrome, but looks fine with Opera.</p>\n\n<p>Thanks for your help :)</p>\n"},{"tags":["php","namespaces","autoload","spl-autoload-register","spl-autoloader"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13237883,"title":"autoloading namespaced classes from a php.ini included path","body":"<p>I have a class that is namespaced in a directory outside the project. The directory is included in the include_path directive. I want to use an spl_autoload class to autoload the class. But I am only getting errors. Itseems like it is only trying to load files from the project directory</p>\n\n<p>This is a windows machine, but I would like it to work on a windows or Linux machine</p>\n\n<blockquote>\n  <h2>incude_path directive</h2>\n  \n  <p>include_path = \".;C:\\xampp\\php\\PEAR;C:\\Users\\Joey\\Dropbox\\web\\global_includes;C:\\Users\\Joey\\Dropbox\\web\\global_includes\\utility;C:\\Users\\Joey\\Dropbox\\web\\global_includes\\utility\\arrayTools\"</p>\n</blockquote>\n\n<pre><code>    //index.php\n    require 'bootstrap.php';\n\n    $array = array('Hello','world');\n    $array[] = array('Hello','world','2');\n    $array[2][1] = array('Hello','world',3);\n\n    echo '&lt;p&gt;The number of dimesions: '.utility\\arrayTools\\arrayTools::numberOfDimensions($array).'&lt;/p&gt;';\n\n    //bootstrap.php\n    spl_autoload_register('autoLoader::autoLoad');\n\n\n    class autoLoader\n    {\n      public static function autoLoad($file)\n      {\n          if(is_string($file)){\n              if(file_exists(\"$file.php\")){\n                  try{\n                     include \"$file.php\";\n                  }catch(Exception $exc){\n                      echo '&lt;pre&gt;&lt;p&gt;'.$exc-&gt;getMessage().'&lt;/p&gt;'.$exc-&gt;getTraceAsString().'&lt;/pre&gt;';\n                  }\n              }\n          }\n      }\n    }\n</code></pre>\n"},{"tags":["php","round","floor","bcmath","ceil"],"answer_count":2,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":880,"score":4,"question_id":1642614,"title":"How to ceil, floor and round bcmath numbers?","body":"<p>I need to <strong>mimic the exact functionality of the <a href=\"http://php.net/manual/en/function.ceil.php\" rel=\"nofollow\">ceil()</a>, <a href=\"http://www.php.net/manual/en/function.floor.php\" rel=\"nofollow\">floor()</a> and <a href=\"http://www.php.net/manual/en/function.round.php\" rel=\"nofollow\">round()</a> functions on bcmath numbers</strong>, <a href=\"http://stackoverflow.com/questions/231057/how-to-round-ceil-floor-a-bcmath-number-in-php\">I've already found a very similar question</a> but unfortunately <a href=\"http://stackoverflow.com/questions/231057/how-to-round-ceil-floor-a-bcmath-number-in-php/231171#231171\">the answer provided isn't good enough for me</a> since it <strong>lacks support for negative numbers</strong> and the <strong>precision argument for the round() function is missing</strong>.</p>\n\n<p>I was wondering if anyone can come up with a rather short and elegant solution to this problem.</p>\n\n<p><strong>All input is appreciated, thanks!</strong></p>\n"},{"tags":["php","drupal","drupal-7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13256313,"title":"Drupal 7 error, how can I debug ? \"The website encountered an unexpected error. Please try again later.â","body":"<p>I have this error with Drupal 7, quite useless for debugging.</p>\n\n<p>So my question is : </p>\n\n<ol>\n<li><p>how can I have some more information about this error ? Any report,\nany log anywhere ? Nothing in php errors.</p></li>\n<li><p>how can I disable that message and have a more useful one for debug purpose ?</p></li>\n</ol>\n\n<p><strong>Note</strong> : my question is NOT \"how can I fix this problem\" :)</p>\n\n<p>Apologizes if there's any similar question, haven't found it.</p>\n\n<p>Many thanks !</p>\n"},{"tags":["php","fpdf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13256346,"title":"Formatting text within a cell","body":"<p>I have been instructed to write a script that outputs a contract document as a PDF. The contract template I have been given to use contains blocks of text with bold, italics, and underlines sprinkled throughout otherwise basic strings of times new roman. Currently, I have the contract template in both HTML and MS Doc format.</p>\n\n<p>My first thought was to use the FPDF lib, but FPDF seems to only to be able to draw cells in one text format at a time. Is there a better way to do this?</p>\n\n<p>I found the FPDF Multicell Advanced library, but I'd like to find a solution that doesn't cost before I run to my employer for money.\n<a href=\"http://interpid.eu/fpdf-multicell\" rel=\"nofollow\">http://interpid.eu/fpdf-multicell</a></p>\n"},{"tags":["php","xml","arrays","xpath","simplexml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13185499,"title":"Create nested list with PHP from XML dataset","body":"<p>I'm trying to build an unordered list from an existing XML file which contains categories and subcategories + images. I need each subcategory to be an item in an unordered list with each related image in a nested list. The subcategories should be shown only once (must not repeat if it's the same). I believe what I'm looking for is a recursive loop, but that's where I get lost.</p>\n\n<p>Essentially, I'm trying to achieve a look similar to this:</p>\n\n<p>--------------DOGS-------------<br/>\n    [..........small..........]<br/>\n    [picture] [picture]<br/>\n    [..........large..........]<br/>\n        [picture]<br/>\n--------------CATS-------------<br/>\n    [..........medium..........]<br/>\n    [picture]<br/>\n    [..........large..........]<br/>\n        [picture] [picture]\n<br/><br/></p>\n\n<p><br/>My XML file structure:</p>\n\n<pre><code> &lt;root&gt;\n    &lt;animal&gt;\n        &lt;category&gt;DOGS&lt;/category&gt;\n        &lt;subcategory&gt;small&lt;/subcategory&gt;\n        &lt;name&gt;Terrier&lt;/name&gt;\n        &lt;image&gt;aaa.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;-&lt;/category&gt;\n        &lt;subcategory&gt;small&lt;/subcategory&gt;\n        &lt;name&gt;Havanese&lt;/name&gt;\n        &lt;image&gt;bbb.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;-&lt;/category&gt;\n        &lt;subcategory&gt;large&lt;/subcategory&gt;\n        &lt;name&gt;Dalmatian&lt;/name&gt;\n        &lt;image&gt;ccc.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;CATS&lt;/category&gt;\n        &lt;subcategory&gt;medium&lt;/subcategory&gt;\n        &lt;name&gt;Abyssinian&lt;/name&gt;\n        &lt;image&gt;ddd.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;-&lt;/category&gt;\n        &lt;subcategory&gt;large&lt;/subcategory&gt;\n        &lt;name&gt;Birman&lt;/name&gt;\n        &lt;image&gt;eee.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n    &lt;animal&gt;\n        &lt;category&gt;-&lt;/category&gt;\n        &lt;subcategory&gt;large&lt;/subcategory&gt;\n        &lt;name&gt;American Shorthair&lt;/name&gt;\n        &lt;image&gt;fff.jpg&lt;/image&gt;\n    &lt;/animal&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><br/><br/>Here's what I have attempted so far:</p>\n\n<pre><code>    &lt;?php\n\n    $xml = simplexml_load_file(\"file.xml\");\n\n    $categories     = array();\n    $subcategories = array();\n    $names      = array();\n    $image         = array();\n\n    foreach($xml-&gt;animal as $animals) { \n        $category        = $animals-&gt;category;\n        $subcategory     = $animals-&gt;subcategory;\n        $name            = $animals-&gt;name;\n        $image       = $animals-&gt;image;\n\n        $categories[]     = $category;\n        $subcategories[] = $subcategory;\n        $names[]          = $name;\n        $images[]        = $image\n    }\n\n    function getMenu($xml, $categories, $subcategories, $names, $images) {\n        $output = '&lt;ul&gt;';\n             foreach(array_keys($images) as $n) {       \n                 $output .= '&lt;li class=\"animals\" data-tags=\"'.$names[$n].'\"&gt;';\n                 $output .= '&lt;img src=\"xml/'.$images[$n].'\" width=\"75\" height=\"75\" alt=\"'.$names[$n].'\" /&gt;';\n                 $output .= '&lt;/li&gt;';    \n             }\n\n        $output.= '&lt;/ul&gt;';  \n        return array($output);  \n    }\n\n    $result = getMenu($xml, $categories, $subcategories, $names, $images);\n\n    echo json_encode($result);\n\n    ?&gt;\n</code></pre>\n"},{"tags":["php","sql","join"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13255566,"title":"SQL - Select IDs from two different tables","body":"<p>I have two tables that have logging information for different actions. I want to select information from both logging tables and display it. I cannot modify the application, so I can't modify the table structure. Assuming I wanted, say, 30 records, I figured I could write some kind of join query that would just return the IDs for each table, in order by time. Then I could simply run two separate queries selecting those IDs from the individual tables. I'm not sure how to do this, or if you even can do this, and I'm kind of at a loss. Can anyone help? If there's a cleaner solution I'd be happy to hear that as well, I'm working in PHP.</p>\n\n<p>Example data:</p>\n\n<p>MAGICAL SELECT ? FROM table1 MAGIC JOIN table2 MAGICALLY ORDER BY date DESC LIMIT 3</p>\n\n<p>Table 1</p>\n\n<pre><code>|------|-------|------------|\n| id   | date  | other data |\n|------|-------|------------|\n| 1    | 8     | ...        |\n| 2    | 5     | ...        |\n| 3    | 3     | ...        |\n|------|-------|------------|\n</code></pre>\n\n<p>Table 2</p>\n\n<pre><code>|------|-------|------------|\n| id   | date  | other data |\n|------|-------|------------|\n| 1    | 6     | ...        |\n| 2    | 4     | ...        |\n| 3    | 12    | ...        |\n|------|-------|------------|\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>|-----------|-----------|\n| table1_id | table2_id |\n|-----------|-----------|\n| NULL      | 3         |\n| 1         | NULL      |\n| NULL      | 1         |\n|-----------|-----------|\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","paypal","paypal-api"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3970,"score":2,"question_id":5255571,"title":"Passing price variable to PayPal with custom button","body":"<p>I have a form and a custom paypal button but I am not sure how to pass the value/price variable to paypal.</p>\n\n<pre><code>&lt;form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\"&gt;\n\n\n&lt;input type=\"hidden\" name=\"cmd\" value=\"_s-xclick\"&gt;\n&lt;input type=\"hidden\" name=\"hosted_button_id\" value=\"ZEFZFYBY2SZB8\"&gt;\n&lt;input type=\"image\" src=\"https://www.paypal.com/en_US/i/btn/btn_paynowCC_LG.gif\" border=\"0\" name=\"submit\" alt=\"PayPal - The safer, easier way to pay online!\"&gt;\n&lt;img alt=\"\" border=\"0\" src=\"https://www.paypal.com/en_US/i/scr/pixel.gif\" width=\"1\" height=\"1\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I have a variable <code>$total = \"238.00\";</code></p>\n"},{"tags":["php","mysql","forms","select"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13256202,"title":"MySQL Select AND OR","body":"<p>I'm not having success with my query statement and I think it has to do with the way I'm executing it.</p>\n\n<pre><code>$query5 = \"select * from \".$db_prefix.\"customer_det where (fname = '\".$fname.\"' and lname = '\".$lname.\"') or phone = '\".$phone.\"'\";\n</code></pre>\n\n<p>Essentially I want to select all from customer_det when the first and last name match the posted first and last name.  If there's no posted first and last name, then I want it to select all where the posted phone number matches.  My three variables $fname, $lname, and $phone are all set to read from the previous form $_POST['fname']; etc...</p>\n\n<p>Is this the right logic to be using?  </p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13255224,"title":"send array with jquery ajax","body":"<p>I have this jquery code:</p>\n\n<pre><code>        var myarr = [\"aa\",\"ss\",\"dd\"];\n\n        $.ajax({\n            url: \"proces.php\",\n            data: \"arr=\"+myarr,\n            type: \"POST\",\n            success: function () {\n                alert(\"data is send\");\n            }\n        });\n</code></pre>\n\n<p>I see message <code>data is send</code> but in <code>proces.php</code> file I have this code</p>\n\n<pre><code>$str = '';\nforeach ($_POST['arr'] as $k=&gt;$v) {\n    $str = $str.$v;\n}\n\n$hand = fopen(\"t.txt\",\"w+\");\nfwrite($hand,$str);\n</code></pre>\n\n<p>and in file <code>t.txt</code> nothing is written, please tell where I wrong ?</p>\n"},{"tags":["php","caching","symfony1"],"answer_count":6,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":2618,"score":5,"question_id":1327645,"title":"Clearing Symfony cache for another application","body":"<p>I would like to clear my frontend application's cache from an action in my backend application.</p>\n\n<p>How can I achieve this?</p>\n"},{"tags":["php","smarty"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":167,"score":0,"question_id":8616682,"title":"PHP to Smarty, unsure","body":"<p>I have a nav.php which determines what the current page is and applies a class to the li element. This is the code:</p>\n\n<pre><code>&lt;?php\n$page = basename($_SERVER['PHP_SELF']);\n$page = substr($page, 0, -4);\n//echo $page;\n?&gt;\n\n&lt;ul&gt;\n    &lt;?php if($page == 'dash'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"dash.php\"&gt;Dashboard&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"dash.php\"&gt;Dashboard&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'boot'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"boot.php\"&gt;Boot&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"boot.php\"&gt;Boot&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'account'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"account.php\"&gt;Account&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"account.php\"&gt;Account&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'tools'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"tools.php\"&gt;Tools&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"tools.php\"&gt;Tools&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'news'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"bews.php\"&gt;News&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"news.php\"&gt;News&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'contact'){echo '&lt;li class=\"current\"&gt;&lt;a href=\"contact.php\"&gt;Contact&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"contact.php\"&gt;Contact&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n    &lt;?php if($page == 'logout'){echo '&lt;li class=\"current\"&gt;&lt;a  href=\"logout.php\"&gt;Logout&lt;/a&gt;&lt;/li&gt;'; } else {echo '&lt;li&gt;&lt;a href=\"logout.php\"&gt;Logout&lt;/a&gt;&lt;/li&gt;';} ?&gt;\n\n\n&lt;/ul&gt;\n</code></pre>\n\n<p>Need to convert it to Smarty - appreciate any help.</p>\n\n<p>Solved, me just being silly!</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li class=\"{if $page == 'dash'}current{else}nav{/if}\"&gt;&lt;a href=\"dash.php\"&gt;Dash&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'boot'}current{else}nav{/if}\"&gt;&lt;a href=\"boot.php\"&gt;Boot&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'account'}current{else}nav{/if}\"&gt;&lt;a href=\"account.php\"&gt;Account&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'tools'}current{else}nav{/if}\"&gt;&lt;a href=\"tools.php\"&gt;Tools&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'news'}current{else}nav{/if}\"&gt;&lt;a href=\"news.php\"&gt;News&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'contact'}current{else}nav{/if}\"&gt;&lt;a href=\"contact.php\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"{if $page == 'logout'}current{else}nav{/if}\"&gt;&lt;a href=\"logout.php\"&gt;Logout&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"},{"tags":["php","json","api","curl","twitter"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":147,"score":0,"question_id":13000042,"title":"twitter API 1.1: cannot add the 'count' parameter using curl & php","body":"<p>I'm connecting to the new twitter API to get a list of my profiles' public tweets.\nI'm basically using the following code, which I found here: <a href=\"http://stackoverflow.com/questions/12916539/simplest-php-example-retrieving-user-timeline-with-twitter-api-version-1-1\">simplest php example retrieving user_timeline with twitter API version 1.1</a></p>\n\n<p>I'm getting the last 20 tweets and I've tried many different ways to add the \"count\" parameter to the curl call, but nothing seems to return more results.</p>\n\n<p>I tried giving a value to the $postfields:</p>\n\n<pre><code>$postfields = array(\n        'count' =&gt; 100,\n        'include_rts' =&gt; 1\n    );\n\n//url-ify the data for the POST\nforeach($postfields as $key=&gt;$value) { $fields_string .= $key.'='.$value.'&amp;'; }\nrtrim($fields_string, '&amp;');\n</code></pre>\n\n<p>Giving a simple string value:</p>\n\n<pre><code>Â§postfields = 'count=100';\n</code></pre>\n\n<p>and changing the $url value into:</p>\n\n<pre><code>$url = \"https://api.twitter.com/1.1/statuses/home_timeline.json?count=100\";\n</code></pre>\n\n<p>Any other suggestions?</p>\n\n<p>Thanks for your help!!</p>\n\n<p>This is the complete code for reference:</p>\n\n<pre><code>function buildBaseString($baseURI, $method, $params) {\n    $r = array();\nksort($params);\nforeach($params as $key=&gt;$value){\n    $r[] = \"$key=\" . rawurlencode($value);\n}\nreturn $method.\"&amp;\" . rawurlencode($baseURI) . '&amp;' . rawurlencode(implode('&amp;', $r));\n}\n\nfunction buildAuthorizationHeader($oauth) {\n$r = 'Authorization: OAuth ';\n$values = array();\nforeach($oauth as $key=&gt;$value)\n    $values[] = \"$key=\\\"\" . rawurlencode($value) . \"\\\"\";\n$r .= implode(', ', $values);\nreturn $r;\n}\n\n$url = \"https://api.twitter.com/1.1/statuses/user_timeline.json\";\n$oauth_access_token = \"YOURVALUE\";\n$oauth_access_token_secret = \"YOURVALUE\";\n$consumer_key = \"YOURVALUE\";\n$consumer_secret = \"YOURVALUE\";\n\n$oauth = array( 'oauth_consumer_key' =&gt; $consumer_key,\n            'oauth_nonce' =&gt; time(),\n            'oauth_signature_method' =&gt; 'HMAC-SHA1',\n            'oauth_token' =&gt; $oauth_access_token,\n            'oauth_timestamp' =&gt; time(),\n            'oauth_version' =&gt; '1.0');\n\n\n\n$base_info = buildBaseString($url, 'GET', $oauth);\n$composite_key = rawurlencode($consumer_secret) . '&amp;' .     rawurlencode($oauth_access_token_secret);\n$oauth_signature = base64_encode(hash_hmac('sha1', $base_info, $composite_key, true));\n$oauth['oauth_signature'] = $oauth_signature;\n\n\n\n$header = array(buildAuthorizationHeader($oauth), 'Expect:');\n$options = array( CURLOPT_HTTPHEADER =&gt; $header,\n              //CURLOPT_POSTFIELDS =&gt; $postfields,\n              CURLOPT_HEADER =&gt; false,\n              CURLOPT_URL =&gt; $url,\n              CURLOPT_RETURNTRANSFER =&gt; true,\n              CURLOPT_SSL_VERIFYPEER =&gt; false);\n\n\n\n$feed = curl_init();\ncurl_setopt_array($feed, $options);\n$json = curl_exec($feed);\ncurl_close($feed);\n$twitter_data = json_decode($json);\n</code></pre>\n"},{"tags":["php","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13256074,"title":"multiple queries in php using mysqli_query function","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6821184/how-do-you-do-multiple-sql-statments-in-one-mysql-query\">How do you do multiple SQL statments in one mysql_query?</a>  </p>\n</blockquote>\n\n\n\n<p>In my PHP code:</p>\n\n<pre><code>$result=mysqli_query($this-&gt;con,\"select * from tbl_user where email_id='a@a'\");\nif($result) {\n    echo \"OHEK\";\n}\nif(!$result) {\n    echo \"NOT OHEK\";\n}\n$this-&gt;closeCon();\n</code></pre>\n\n<p>It prints <code>OHEK</code>.</p>\n\n<p>Then I want to execute multiple query like:</p>\n\n<pre><code>$result=mysqli_query($this-&gt;con,\"\n     select * from tbl_user \n     where email_id='a@a';\n     DELETE FROM tbl_user\n\");\n</code></pre>\n\n<p>When I execute in mysql it execute sucessfully but when I execute it by php code the second query will not be executed.</p>\n"},{"tags":["php"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":8,"view_count":82,"score":-5,"question_id":10762879,"title":"How to get the keys with highest values in a php array","body":"<p>I have this array...</p>\n\n<pre><code>Array (\n[1168] =&gt; 46\n[6973] =&gt; 27\n[4585] =&gt; 24\n[1224] =&gt; 23\n[2010] =&gt; 20\n[7514] =&gt; 19\n[1167] =&gt; 17\n[8349] =&gt; 7\n[2476] =&gt; 7\n[5313] =&gt; 7\n[1208] =&gt; 2\n)\n</code></pre>\n\n<p>And I need to get three keys (as values) with the highest values in the previous array:</p>\n\n<pre><code>Array (\n[0] =&gt; 1168\n[1] =&gt; 6973\n[2] =&gt; 4585\n)\n</code></pre>\n"},{"tags":["php","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13227321,"title":"My facebook script don't work using appserv","body":"<p>I coded a script that can upload images to fanpage's on facebook, I tried on a webhosting but open_basedir is disabled for \"realpath\" so I cannot use it (but login, facebook status update and all those things works perfectly). So I tried in a VPS, I installed appserv with Apache 2.2.8 &amp; PHP 5.2.6 but when I try to autenticate with the app i get an error:</p>\n\n<pre><code>Warning: file_get_contents(https://graph.facebook.com/me/accounts?access_token=) [function.file-get-contents]: failed to open stream: No error in C:\\AppServ\\www\\editor_imagenes\\index.php on line 58\n\nWarning: Invalid argument supplied for foreach() in C:\\AppServ\\www\\editor_imagenes\\index.php on line 79\n\nWarning: file_get_contents(https://graph.facebook.com/me?access_token=) [function.file-get-contents]: failed to open stream: No error in C:\\AppServ\\www\\editor_imagenes\\index.php on line 106\n</code></pre>\n\n<p>I know my code it is ok because when i tried on the webhosting works fine... what i can do? Thanks for reading:)</p>\n"},{"tags":["php","apache"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13256062,"title":"One of the rewrite rules stopped working after switching hosting providers","body":"<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\nRewriteRule ^([a-zA-Z0-9]+)$ photo?p=$1\nRewriteRule ^page/([a-zA-Z0-9]+)$ index?page=$1  // up to this point included works fine\nRewriteRule ^waitingroom/page/([a-zA-Z0-9]+)$ waitingroom?page=$1 //doesnt work, 500 error\n</code></pre>\n\n<p>photo, index and waitingroom are actually all php files like photo.php,index.php,waitingroom.php</p>\n\n<p>It works beside the last rewrite rule which is identical to the one before that :(\nAnd it worked fine before i switched to hostgator</p>\n\n<p>Whats wrong with my syntax?</p>\n"},{"tags":["php","reference"],"answer_count":1,"favorite_count":1,"up_vote_count":11,"down_vote_count":0,"view_count":88,"score":11,"question_id":13253034,"title":"New by reference not giving warning","body":"<p>All over the web<a href=\"http://www.php.net/manual/en/language.references.whatdo.php\">[1]</a><a href=\"http://stackoverflow.com/questions/1086539/assigning-the-return-value-of-new-by-reference-is-deprecated\">[2]</a><a href=\"http://www.appnitro.com/forums/topic/errors-message-\">[3]</a>, it says that since PHP 5.0.0 \"assigning the return value of new by reference\" gives a <code>E_DEPRECATED</code> or <code>E_STRICT</code> depending on your php version (<code>E_DEPRECATED</code> didn't exist until 5.3, so it was <code>E_STRICT</code> before that).</p>\n\n<p>As such it is my understanding that this code should give such a warning:</p>\n\n<pre><code>error_reporting(E_ALL | E_STRICT);\n\nclass A\n{\n}\n\n$a =&amp; new A();\n</code></pre>\n\n<p>However, I have tried this on two completely different servers (one running PHP 5.3 and one running PHP 5.2) and neither is actually giving any message! What's going on? Is my understanding incorrect or is something strange going on on those two servers?</p>\n\n<p>(I do also think it is strange that this is deprecated, seeing that <code>$a = null; $b =&amp; $a; $b = new A();</code> does not do the same as <code>$a = null; $b =&amp; $a; $b =&amp; new A();</code>, but that's only a part of the question if I misunderstood what is deprecated...)</p>\n"},{"tags":["php","algorithm","facebook"],"answer_count":6,"favorite_count":8,"up_vote_count":5,"down_vote_count":0,"view_count":20899,"score":5,"question_id":3848004,"title":"facemash algorithm","body":"<p>Anyone know the facemash algorithm that Mark Zuckerberg implemented in his facemash site?\n<a href=\"http://www.thecrimson.com/article/2003/11/19/facemash-creator-survives-ad-board-the/\" rel=\"nofollow\">http://www.thecrimson.com/article/2003/11/19/facemash-creator-survives-ad-board-the/</a></p>\n\n<p>Preferably in PHP &amp; MySQL.</p>\n"},{"tags":["php","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13255913,"title":"Trouble moving uploaded file","body":"<p>I am simply trying to move an uploaded file to a location on my server. Here is my code.</p>\n\n<pre><code>    $target_path = $_SERVER['DOCUMENT_ROOT'] . \"img/uploads/\";\n    $target_path = $target_path . basename($_FILES['imageURL']['tmp_name']);\n\n    if (move_uploaded_file($_FILES['imageURL']['tmp_name'], $target_path)) {\n        echo \"The file has been moved\";\n    } else {\n        echo \"There was an error.\";\n    }\n</code></pre>\n\n<p>I keep getting the error for false and I can't figure out why it won't move it. I've verified the location of it with an if statement it results in true. </p>\n\n<p>I edited the name path for the tmp_name in the array..still hasn't worked. I did a dump and I have no tmp_key for that array. Why am I not getting the key?</p>\n"},{"tags":["php","windows","xampp"],"answer_count":5,"favorite_count":4,"up_vote_count":11,"down_vote_count":0,"view_count":17793,"score":11,"question_id":2154762,"title":"Upgrading PHP in XAMPP for Windows?","body":"<p>I would like to know how you upgrade PHP in Xampp for Windows? I tried to download the latest PHP version from the main PHP site but when I check (phpinfo) I still get that the previous version is still in use.</p>\n\n<p>Please advise.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","jquery","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13255506,"title":"Page not found upon jquery request","body":"<p>I'm trying to figure out what I'm doing wrong here. I have this for my jQuery code and I also have a php controller function called delete that looks like this. Right now when I cxlick on the element with a class of delete it tries to make a request to this page and it can not be found.</p>\n\n<pre><code>mysite.com/cms/ctrlpanel/users/delete \n\npublic function delete($user_id)\n{\n}    \n\n$route['cms/ctrlpanel/users/delete/(:num)'] = 'users/delete/$1';\n\n$('.delete').click(function(e){\n    var element = $(this);\n    e.preventDefault();\n    $.post('/cms/ctrlpanel/users/delete', { 'user_id' : element.attr('rel') }, function(data) \n    {\n\n    ), 'json');\n});\n</code></pre>\n"}]}
