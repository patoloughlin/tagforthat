{"count":14094,"tag":"mvc","questions":[{"tags":["mvc","cakephp","cakephp-2.2"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13259937,"title":"Best way to filter access to controller actions according to a specific client id","body":"<p>Using CakePHP 2.2, I am building an application in which each client has it's own \"realm\" of data and none of the other data is visible to them. For example, a client has his set of users, courses, contractors and jobs. Groups are shared among clients, but they cannot perform actions on groups. All clients can do with groups is assign them to users. So, an administrator (using ACL) can only manage data from the same client id. </p>\n\n<p>All my objects (except groups, of course) have the client_id key. </p>\n\n<p>Now, I know one way to get this done and actually having it working well, but it seems a bit dirty and I'm wondering if there is a better way. Being early in the project and new to CakePHP, I'm eager to get it right.</p>\n\n<p>This is how I'm doing it now :</p>\n\n<p>1- A user logs in. His client_id is written to session according to the data from the user's table.</p>\n\n<pre><code>$user = $this-&gt;User-&gt;read(null, $this-&gt;Auth-&gt;user('id'));\n$this-&gt;Session-&gt;write('User.client_id', $user['User']['client_id']);\n</code></pre>\n\n<p>2- In AppController, I have a protected function that compares that session id to a given parameter.</p>\n\n<pre><code>protected function clientCheck($client_id) {\n    if ($this-&gt;Session-&gt;read('User.client_id') == $client_id) {\n        return true;\n    } else {\n        $this-&gt;Session-&gt;setFlash(__('Invalid object or view.'));\n        $this-&gt;redirect(array('controller' =&gt; 'user', 'action' =&gt; 'home'));\n    }\n}\n</code></pre>\n\n<p>3- Im my different index actions (each index, each relevant controller), I check the client_id using a paginate condition. </p>\n\n<pre><code>public function index() {\n    $this-&gt;User-&gt;recursive = 0;\n    $this-&gt;paginate = array(\n         'conditions' =&gt; array('User.client_id' =&gt; $this-&gt;Session-&gt;read('User.client_id'))\n    );\n    $this-&gt;set('users', $this-&gt;paginate());\n}\n</code></pre>\n\n<p>4- In other actions, I check the client_id before checking the HTTP request type this way.</p>\n\n<pre><code>$user = $this-&gt;User-&gt;read(null, $id);\n$this-&gt;clientCheck($user['User']['client_id']);\n$this-&gt;set('user', $user);\n</code></pre>\n"},{"tags":["asp.net","asp.net-mvc","mvc","real-time"],"answer_count":6,"favorite_count":6,"up_vote_count":10,"down_vote_count":0,"view_count":1750,"score":10,"question_id":5167821,"title":"Real-time ASP.NET MVC Web Application","body":"<p>I need to add a \"real-time\" element to my web application. Basically, I need to detect \"changes\" which are stored in a SQL Server table, and update various parts of the UI when a change has occured.</p>\n\n<p>I'm currently doing this by polling. I send an ajax request to the server every 3 seconds asking for any new changes - these are then returned and processed. It works, but I don't like it - it means that for each browser I'll be issuing these requests frequently, and the server will always be busy processing them. In short, it doesn't scale well.</p>\n\n<p>Is there any clever alternative that avoids polling overhead?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>In the interests of completeness, I'm updating this to mention the solution we eventually went with - <a href=\"https://github.com/SignalR/SignalR\" rel=\"nofollow\">SignalR</a>. It's OS and comes from Microsoft. It's risen in popularity, and I can heartily recommend this, or indeed WebSync which we also looked at.</p>\n"},{"tags":["java","spring","mvc","controller","session-bean"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13276391,"title":"Spring 3 MVC: Expose session scoped bean in MVC Controller method arguments","body":"<p>I want to pass a session-scoped domain bean around my controllers for consistency and simplicity - but this doesn't seem possible OOTB. Hope someone can advise.</p>\n\n<p>Question: <strong>Can a session-scoped bean be exposed as a MVC Controller argument</strong></p>\n\n<hr>\n\n<p>There appears to be an annotation for this: @SessionAttributes(\"myBean\") however this only maintains a Controller-level scope.</p>\n\n<p>I'm looking to avoid having to interact with HttpSession and instead pass around my domain object graph consistently through my controllers. This would seem a fairly standard requirement.</p>\n\n<p>This has benefits:</p>\n\n<ul>\n<li>Testability - just inject bean to test and not have to mock out HttpSession</li>\n<li>Abstraction - avoids Servlet model concerns and just the business problem</li>\n</ul>\n\n<p>Here's the current config:</p>\n\n<pre><code>@Controller\n@SessionAttributes(\"customer\")\npublic class LoginController {\n\n   @Inject Customer customer;\n\n   @RequestMapping(value = \"/login\", method = RequestMethod.GET)\n   public String welcome(Customer customer) {\n         ...\n         return \"loginDetailsView\";\n   }\n\n   public String processLogin(@Valid Customer customer, BindingResult bindingResult) {\n         ...\n         if (bindResult.hasErrors()) {\n             return \"loginDetailsView\";\n         else {\n             return \"homePageView\";\n         }\n   }\n</code></pre>\n\n<p>'Customer' session bean is a regular POJO using XML configured aop-proxy (CGLIB) to allow the session scoped bean to be injected into singletons (controller and service classes):</p>\n\n<pre><code>&lt;beans:bean id=\"customer\" class=\"com.mypackage.domain.Customer\" scope=\"session\"&gt;\n            &lt;aop:scoped-proxy proxy-target-class=\"true\"/&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>The following question is virtually the same but there are no answers that don't involve extension to the Spring 3 core framework. </p>\n\n<p><em>Has this been intentionally omitted by Spring's designers</em>?  My intent is to use the domain model to back the forms without using 'form beans' and a layer of mappers.</p>\n\n<p>Can anyone advise a way / or indicate if this is poor practice? </p>\n\n<p>Prior question with bespoke solution:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3621266/how-to-pass-a-session-attribute-as-method-argument-parameter-with-spring-mvc\">How to pass a session attribute as method argument (parameter) with Spring MVC</a></p>\n\n<p>Please note: attempting to minimise the dependencies on the Spring framework and use Annotation support esp JSR-303 etc. Will adopt any OOTB solution - please don't suggest custom extentions.</p>\n"},{"tags":["mvc","zend-framework","patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13269889,"title":"Calling images from the database on the view is out of MVC?","body":"<p>I've created a model for the base table, the one with the infos.\nThen another model for the images table, and extended it to my generic images model, which is the following:</p>\n\n<pre><code>class Application_Model_GenericImages extends Zend_Db_Table_Abstract {\n   public function getImage($relCol, $id) {\n     $db = $this-&gt;getDefaultAdapter();\n     return $db-&gt;fetchRow(\"SELECT * FROM {$_name} \n                           WHERE {$_name}.{$relCol} = '{$id}'\");\n   }\n\n}\n</code></pre>\n\n<p>The model for the images table is like:</p>\n\n<pre><code>class Application_Model_ImagesTable extends Application_Model_GenericImages {\n   protected $_name = 'images_table';\n}\n</code></pre>\n\n<p>Then on the controller i do the following:</p>\n\n<pre><code>$infoTable = $this-&gt;view-&gt;infoTable = new Application_Model_InfoTable();\n/* I haven't made the info table here because there's no point to... */\n$imagesModel = $this-&gt;view-&gt;imagesModel = new Application_Model_ImagesTable();\n</code></pre>\n\n<p>And finally on the view it's like:</p>\n\n<pre><code>foreach ($infoTable-&gt;fetchAll() as $info) {\n  //Print Some Info\n  $image = $this-&gt;imageModel-&gt;getImage('info_id', $info-&gt;id);\n}\n</code></pre>\n\n<p>Is this wrong? If it is, how bad is this and how's the right way to do it?</p>\n"},{"tags":["mvc","kohana","partial","kohana-3.2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13272560,"title":"kohana kostache partial logic","body":"<p>Started an project using kostache.</p>\n\n<p>I have made some partials like banner,navigatons and footer in my class View_Layout with extends kostache_layout . Partials work fine on each page. </p>\n\n<p>One problem. The navigation show always the same links. My goal is to show links that are appropriate to the user who is logged. How can I put logic in the partial of navigation? I know I can write functions in the View_Layout class but View_Layout must know the user role?</p>\n\n<p>Hope somebody can help me. </p>\n"},{"tags":["mvc","architecture","dao","layer","utility"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13274289,"title":"What is the purpose of utility layer and how is this linked with other layers in a web application architecture?","body":"<p>I am new to j2ee architecture (trying to do some reading on this - please suggest good sources). When we use MVC pattern, the DAO layer consists of classes that contain methods to access the database. Similarly service layer contains classes that make use of methods from DAO classes and have some business logic. I see in some projects that Util classes are used and they contain methods that perform some work for the service layer classes. What is the exact purpose of this Utility layer? Can it contain getters and setters from Spring dependency injection?</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","asset-pipeline","view-inheritance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13260900,"title":"With Rails 3 view inheritance, is it possible to call \"super\" within a child view, but send the parent variables?","body":"<p>Every <code>show</code> action in my app has the same template for every model (it is an Admin-portal type interface). I have a view <code>show.html.erb</code> that all of these models inherit. </p>\n\n<p>The controllers all use InheritedResources, so I have access to some helper variables such as <code>resource</code>, which I use to display the attributes for the model being shown through <code>resource.attributes</code> in my parent view.</p>\n\n<p>What I would like to be able to do is whitelist which attributes are being shown in each model. I have thought of two ways to do this... the first is to define some method in a class my model's inherit from, say it is called <code>attr_visible</code> and define each attribute in the model. The reason I don't like this approach is that it puts too much of the view logic in the models. I would rather provide my views with the model, and let the view determine what is displayed.</p>\n\n<p>The second approach is what this question is about. I want to have a file <code>/app/views/users/show.html.erb</code>, and set which attributes for a User I would like to be shown, say something like:</p>\n\n<pre><code>@attributes = [:name, :email, :etc]\n</code></pre>\n\n<p>And then pass them to the parent view which I described in the beginning of this question. That view would then be able to loop through <code>@attributes</code> and display the attributes necessary.</p>\n\n<p>Is it possible to use a \"<code>super</code>\"-type method from views? Everything I have read about view inheritance suggests the view is loaded based on where it is located in the directory structure, and then after that you're out of luck.</p>\n\n<p>edit: I have sort of done what I want. I defined a partial _show.html.erb in the /app/views/users directory that looks like:</p>\n\n<pre><code>&lt;% @attributes = ['name', ...] %&gt;\n</code></pre>\n\n<p>And then in the parent view I call <code>&lt;%= render \"show\" %&gt;</code> before looping through <code>@attributes</code>. This works, but feels clunky since I am not actually rendering anything when I call <code>render</code>. Is there a better way?</p>\n"},{"tags":["mvc","mongodb","mongoose"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":6,"score":1,"question_id":13274128,"title":"connecting mongoose to every MVC file in mongoose","body":"<p>Using MVC :</p>\n\n<pre><code>Node App Directory\n   App.js\n   Controllers\n      UserController.js\n      OtherController.js\n   Models\n      UserModel.js\n      OtherModel.js\n</code></pre>\n\n<p>Since i used mongoose and mongodb for my dba, and the schema is considered 'model' in this case is the mongoose schema. Must i connect mongoose to each Controller and Model file each time i want to access them?</p>\n"},{"tags":["javascript","jquery","asp.net-mvc-3","mvc","clientside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13273258,"title":"How to change datasource of dropdown in jquery","body":"<p>I am looking to change to list items available in a dropdownlist via jquery (using razor in MVC3).</p>\n\n<p>I have a DDL that is populated from view data;</p>\n\n<pre><code>@Html.DropDownList(\"allusers\", null, null, new { @class = \"chosenlist\" })\n</code></pre>\n\n<p>There is also another set of viewdata called \"allNewUsers\". I have a button that is clicked that runs a bit of clientside jquery:</p>\n\n<pre><code>   $(function() {\n    $('#remove').click(function () {\n        var id = $(\"#allusers\").val();\n        var hdr = $(\"#Holdersid\").val();\n        $.ajax({\n            url: \"RemoveApprover/\" + id + \"/\" + hdr + \"/3\",\n            data: id,\n            success: function (data) {\n                $('#remove').hide();\n               $..change view data here\n            },\n            error: function (xhr, ajaxOptions, thrownError) {  \n                alert(xhr.responseText);\n            }\n        })\n    })\n    });\n</code></pre>\n\n<p>This code runs a public string back on the server and on success hides the remove button. What I then need to do is change the datasource of the DDL from allusers to allNewusers. can I do this easily in my client side code?</p>\n\n<p>many thanks</p>\n"},{"tags":["java","android","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13271854,"title":"Java SE MVC Pattern in Android style","body":"<p>Is there any tutorial/pattern which implements MVC pattern in Java SE ?</p>\n\n<p>I've found few of them, but I don't find them useful enough, eg.</p>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/articles/javase/mvc-136693.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/mvc-136693.html</a></li>\n<li><a href=\"http://www.leepoint.net/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow\">http://www.leepoint.net/notes-java/GUI/structure/40mvc.html</a></li>\n<li><a href=\"http://www.roseindia.net/tutorial/java/jdbc/javamvcdesignpattern.html\" rel=\"nofollow\">http://www.roseindia.net/tutorial/java/jdbc/javamvcdesignpattern.html</a></li>\n</ul>\n\n<p>also <a href=\"http://stackoverflow.com/questions/3066590/gui-not-working-after-rewriting-to-mvc/3072979#3072979\">this question</a> is quite useful, but still not fitting my idea, which is quite similar to the way, Android does implement MVC pattern.</p>\n\n<p><strong>I miss the nice way it is done in Android, where layout (view, xml) is defined independently from controller and Model (DB) is implemented on needs of current purpose.</strong></p>\n\n<p>Maybe I'm looking for some kind of framework, which simplifies the MVC pattern implementation in Java SE. </p>\n\n<p>Anybody got an idea?</p>\n"},{"tags":["php","mvc","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":133,"score":1,"question_id":12477833,"title":"YII backend implementation","body":"<p>I have created frontend-backend structre following <a href=\"http://www.yiiframework.com/wiki/33/\" rel=\"nofollow\">http://www.yiiframework.com/wiki/33/</a>\nso my structure is</p>\n\n<pre><code>wwwroot/\n    index.php\n    backend.php\n    assets/\n    images/\n    js/\n    protected/\n        config/\n            main.php\n        components/\n        controllers/\n        models/\n        modules/\n        views/\n        runtime/\n        backend/\n            config/\n                main.php\n            components/\n            controllers/\n            models/\n            modules/\n            views/\n            runtime/\n</code></pre>\n\n<p>and my backend config is </p>\n\n<pre><code>$backend = dirname(dirname(__FILE__));\n$frontend = dirname($backend);\nyii::setPathOfAlias('backend',$backend);\nreturn array(\n    'basePath' =&gt; $frontend,\n    'controllerPath' =&gt; $backend.'/controllers',\n    'viewPath' =&gt; $backend.'/views',\n...\n    'import'=&gt;array(\n    'backend.modules.rights.*',\n    'backend.modules.rights.components.*',\n    'backend.models.*',\n    'backend.components.*',\n    'application.modules.user.models.*',\n    'application.modules.user.components.*',\n),...\n</code></pre>\n\n<p>Now I need to access controllers,models and views at backend from frontend\nlike <strong>backend.php/discussion</strong>\nand discussion is at protected/controllers/DiscussionController\nwhich right now only accesable from <strong>index.php/discussion</strong></p>\n\n<p>One Solution is \nset <strong>'controllerPath'=>$frontend.'/controllers'</strong>\nbut now i loose backend controllers.\nSo is there is way that when i call a controller, first it looks in backend controllers and then look in frontend controllers(in case not found in backend controllers)?</p>\n"},{"tags":["ruby","ruby-on-rails-3","mvc","cells"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13270785,"title":"Accessing devise helpers from cell's controller and views","body":"<p>I'm using <a href=\"https://github.com/apotonick/cells\" rel=\"nofollow\">cells gem</a> and need access devise helpers from cell controller and view, for example current_user.</p>\n\n<p>In controller i'm done with</p>\n\n<pre><code>include Devise::Controllers::Helpers\nDevise::Controllers::Helpers.define_helpers(Devise::Mapping.new(:student, {}))\n</code></pre>\n\n<p>But in view i should create @variable that assign with devise helper from controller, i can't using current_user directly in my cells view. Is there any elegant solution for my problem ?</p>\n"},{"tags":["spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":20,"score":3,"question_id":13268985,"title":"@ExceptionHandler in Spring","body":"<p>In my application I have configured an error page in web.xml. I need to override that for a specific controller based on a condition. Here when a condition becomes true I need to redirect to a specific error page otherwise normal error page should be rendered.\nHere is the code. Please help me.</p>\n\n<pre><code>@Controller\npublic class Test{\n\n @ExceptionHandler(Exception.class)\n public ModelAndView generateException(HttpServletRequest httpServletRequest){\n  if(condition) {\n   return new ModelAndView(\"myError.jsp\");\n  } else {\n   //should execute default error page.\n  }\n }\n}\n</code></pre>\n"},{"tags":["javascript","mvc","frameworks"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":6,"view_count":28,"score":-6,"question_id":13269104,"title":"Which is the best MVC Javascript Framework available on web?","body":"<p>I would like to know which is the best MVC javascript framework available on net.\nWhat is the generic logic applied to achieve MVC functionality using javascript?</p>\n\n<p>Thanks</p>\n"},{"tags":["oop","mvc","design-patterns","functional-programming","immutable"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13155626,"title":"MVC / Observer & Immutable Data Structures","body":"<p>Can You please explain what are analogues of MVC / Observer techniques in two cases:</p>\n\n<ol>\n<li>Immutable Objects (OOP style)</li>\n<li>Immutable Data (functional style)</li>\n</ol>\n\n<p>For example let's consider following simple GUI example (You can try it live here <a href=\"http://tinkerbin.com/0XDHRXIl\" rel=\"nofollow\">http://tinkerbin.com/0XDHRXIl</a> click 'Run' button to start it and wait 2 sec for text to appear)</p>\n\n<p>It's built with JavaScript because it's easy to play and MVC / Observer are very natural to it</p>\n\n<pre><code>// Model containing the data.\nvar Post = Backbone.Model.extend({}) \n\nvar PostView = Backbone.View.extend({\n  initialize: function() {\n    // Registering view rendering method as\n    // an observer on the model.\n    this.model.on('all', this.render.bind(this))\n  },  \n  // Every time state of model changes \n  // this method will be called.\n  render: function() {\n    // Printing value of model.text attriubute. \n    this.$el.html(this.model.get('text'))\n    return this\n  }\n})\n\n// Now, any time the model is updated the view will be also \n// automatically updated.\npost.set({text: \"hello, it's me\"})\n</code></pre>\n\n<p>But I don't quite understand how to do the same with Immutable OOP and Functional styles, what ways are there?</p>\n"},{"tags":["ruby-on-rails","mvc","omniauth","errors"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13266599,"title":"Omniauth uninitialized constant Rack::OpenID","body":"<p>I want to add google authentication to my rails app. I followed this <a href=\"http://blog.sethladd.com/2010/09/ruby-rails-openid-and-google.html\" rel=\"nofollow\">tutorial</a>, but it writes this: </p>\n\n<blockquote>\n  <p>uninitialized constant Rack::OpenID</p>\n  \n  <p>app/controllers/sessions_controller.rb:5:in `new'</p>\n</blockquote>\n\n<p>my session_controller:</p>\n\n<pre><code>class SessionsController &lt; ApplicationController\n      skip_before_filter :verify_authenticity_token\n\n      def new\n        response.headers['WWW-Authenticate'] = Rack::OpenID.build_header(\n            :identifier =&gt; \"https://www.google.com/accounts/o8/id\",\n            :required =&gt; [\"http://axschema.org/contact/email\",\n                          \"http://axschema.org/namePerson/first\",\n                          \"http://axschema.org/namePerson/last\"],\n            :return_to =&gt; session_url,\n            :method =&gt; 'POST')\n        head 401\n      end\n\n      def create\n        if openid = request.env[Rack::OpenID::RESPONSE]\n          case openid.status\n          when :success\n            ax = OpenID::AX::FetchResponse.from_success_response(openid)\n            user = User.where(:identifier_url =&gt; openid.display_identifier).first\n            user ||= User.create!(:identifier_url =&gt; openid.display_identifier,\n                                  :email =&gt; ax.get_single('http://axschema.org/contact/email'),\n                                  :first_name =&gt; ax.get_single('http://axschema.org/namePerson/first'),\n                                  :last_name =&gt; ax.get_single('http://axschema.org/namePerson/last'))\n            session[:user_id] = user.id\n            if user.first_name.blank?\n              redirect_to(user_additional_info_path(user))\n            else\n              redirect_to(session[:redirect_to] || root_path)\n            end\n          when :failure\n            render :action =&gt; 'problem'\n          end\n        else\n          redirect_to new_session_path\n        end\n      end\n\n      def destroy\n        session[:user_id] = nil\n        redirect_to root_path\n      end\n    end\n</code></pre>\n"},{"tags":["spring","mvc","apache-camel"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13265703,"title":"Camel producerTemplate is not injected in spring MVC","body":"<p>I'm using Spring MVC and Camel in my project, but encountering an issue that the producerTemplate is not able to be Autowired. Please check details below, </p>\n\n<p>File web.xml:</p>\n\n<pre><code>&lt;context-param&gt;\n &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n   &lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>File ispatcher-servlet.xml  </p>\n\n<pre><code>&lt;import resource=\"camel-config.xml\"/&gt;\n</code></pre>\n\n<p>File camel-config.xml, define camelContext</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.myproject.camel.routes\"/&gt;\n&lt;camelContext xmlns=\"http://camel.apache.org/schema/spring\" id=\"myproject.camel\"&gt;\n     &lt;contextScan/&gt;\n &lt;template id=\"producerTemplate\"/&gt;\n&lt;/camelContext&gt;\n</code></pre>\n\n<p>And here is my JAVA class:</p>\n\n<pre><code>package com.myproject.connector.camel;\npublic class CamelConnectorImp{\n    @Autowired\n    private ProducerTemplate producerTemplate; //This is null after starting\n    producerTemplate.requestBodyAndHeaders(serviceEndpoint,request, headers);\n...\n}\n</code></pre>\n\n<p>Can someone point out what I'm doing wrong please?</p>\n"},{"tags":["php","mvc","cakephp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13258397,"title":"List posts by category in CakePHP","body":"<p>I'm new to CakePHP. Please help me to write a function to retrieve posts under a particular category for my blog app built using CakePHP.</p>\n\n<p>My table structure:</p>\n\n<p>posts: id, post, body, created, category_id\ncategory: id, group</p>\n\n<p>Also I had defined:\nInside post model - <code>var $belongsTo = 'Category';</code>\nInside category model - <code>var $hasMany = 'Post';</code></p>\n"},{"tags":["mvc","frameworks","angularjs","server-side"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13265279,"title":"AngularJS integration with serverside MVC Framework","body":"<p>I have created an app with AngularJS. Now for fallback and some extendible functionality I want to integrate it with some other MVC framewrok like JSF2, Struts2, Spring MVC, ruby on rails etc. Can any one suggest me whether is it possible to do this. Which frameowrk should I go with. Can you please share some tutorial/example. It has to be RESTful; so that I can control the flow...</p>\n"},{"tags":["javascript","asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13265800,"title":"Redirect to controller using JavaScript and MVC","body":"<p>Im trying to redirect to a Controller from JavaScript using this line of code</p>\n\n<pre><code> location.href = '/Dashboard/';\n</code></pre>\n\n<p>It redirects to the Dashboard but on my dashboard view this method is called when the document loads </p>\n\n<pre><code> $.post(\"Dashboard/UsersGet\", {}, function (dataSet) {\n    //do something with the dataset\n }); \n</code></pre>\n\n<p>I then get this error.</p>\n\n<pre><code>POST http://localhost:1414/Dashboard/Dashboard/UsersGet 404 (Not Found) \n</code></pre>\n\n<p>I can see that dashboard is added to the url twice. How can I redirect to a Controller without this happening?</p>\n"},{"tags":["php","mvc","frameworks","kohana","web-frameworks"],"answer_count":8,"favorite_count":7,"up_vote_count":7,"down_vote_count":1,"view_count":1210,"score":6,"question_id":6386800,"title":"Learning Kohana","body":"<p>I'm a reasonable intelligent guy and have been involved in a lot of stuff, like html, php, java, c#, c, c++, assembly, and so on and so forth. All in all I think that there's very little I don't have basic understanding of, though of course I'm by no mean an expert in all the subjects, it's simply to illustrate that I'm not as green as I may very well sound.</p>\n\n<p>Now, the thing is that I've been instructed to learn about the Kohana framework, in order to help with some web development at work. Well, that's all well and good, especially as I'm kinda tired of spending my time correcting other peoples HTML/CSS mess. To do some proper coding for a change would indeed be nice.</p>\n\n<p>So I set out to learn, what I thought would be easy as pie, and not only did I think so, I was told so. Imagine my disappointment when after making an effort, I still didn't have the most basic understanding of the subject.</p>\n\n<p>The documentation is unsatisfying to say the least, and I have yet to find a proper explanation of the subject as a whole.</p>\n\n<p>In short, I understand close to nothing, and the harder the effort I make, the more confused I get. I honestly don't know where to begin and end.</p>\n\n<p>I can't really tell you what I need to get going, as my understanding isn't even significant enough to know what I need to learn. I suppose a tutorial explaining, step by step, how to make something useful, would be in order, but I've been unable to find anything in the many hours I've spend searching.</p>\n\n<p>This is my last way out, and the only possibly solution I could come up with. To ask you how you initially leaned to use Kohana.</p>\n\n<p>I do apologize for the lag of an actual question, but I do hope that you'll do your best to help anyway.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":4,"favorite_count":25,"up_vote_count":39,"down_vote_count":0,"view_count":24530,"score":39,"question_id":804399,"title":"CodeIgniter: Create new helper?","body":"<p>I need to loop lot of arrays in different ways and display it in a page. The arrays are generated by a module class. I know that its better not to include functions on 'views' and I want to know where to insert the functions file.</p>\n\n<p>I know I can 'extend' the helpers, but I don't want to extend a helper. I want to kind of create a helper with my loop functions.. Lets call it loops_helper.php</p>\n\n<p>Can I do it?? How?? \nThanks!!</p>\n"},{"tags":["mvc","elmah"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1032,"score":3,"question_id":10059563,"title":"ELMAH and API controller in MVC4 not logging errors","body":"<p>Using an API controller in MVC4, when the controller action throws an exception, ELMAH does not log the error.</p>\n\n<p>I think the problem is that MVC4 sets the HTTP status code to 500, and it returns the exception details in a JSON object, but it does not throw an unhandled exception so ELMAH never sees it.</p>\n\n<p>How can I get ELMAH to capture all responses where the status code is not 200?</p>\n"},{"tags":["asp.net-mvc","mvc","razor","partial-views"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13263358,"title":"MVC: Can Partial View has effect of iframe?","body":"<p>I am wondering in MVC(ie 3) + Razor, could we make partial view have the same effect as iframe? For example right side scroll bar, fixed height, etc.</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":890,"score":2,"question_id":9884179,"title":"Backbone.js: urlRoot with http query string?","body":"<p>In <code>Backbone.js</code> I can appoint where the model fetches it's data:</p>\n\n<pre><code>var Book = Backbone.Model.extend({urlRoot : '/books'});\nvar mybook = new Book({id: \"1\"});\nmybook.fetch();  //it will access '/books/1'\n</code></pre>\n\n<p>But if I want to append a query string after the URL? e.g. the book data is at <code>/books/1&amp;details=true</code>. Can I specify this in model?</p>\n"},{"tags":["mvc","extjs4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13190434,"title":"How to create MVC files in extjs","body":"<p>I want to implement gridview given in link <a href=\"http://docs.sencha.com/ext-js/4-1/#!/example/writer/writer.html....but\" rel=\"nofollow\">http://docs.sencha.com/ext-js/4-1/#!/example/writer/writer.html....but</a> i want to break this single writer.js file into separate model,view,controller and store file in order to implement exact gridview in MVC architecture format.i.e. i want to create four different files formodel,view,controller and store  for implementing same example. So can you please tell me how will be these four separate files.How to divide this single writer.js files code into model,view,controller and store files.\nI am very new to extjs. Please help me.....</p>\n"},{"tags":["mvc","layout","mobile","views","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1075,"score":3,"question_id":10736675,"title":"The following sections have been defined but have not been rendered for the layout page \"~/Views/Shared/_Layout.cshtml\"","body":"<p>I know there are a few questions that have been answered but I didn't find something specific to my case.</p>\n\n<p>I'm using the mobile capabilities of MVC4. So I created a _layout.mobile.cshtml and the corresponding views.</p>\n\n<p>The error above happens when I go in with a mobile device. As you can see, it is trying to display the regular _layout.cshtml instead of the _layout.mobile.cshtml. So I'm assuming it is also trying to display the view (say Index.mobile.cshtm) which doesn't have the section in question. Basically it is mixing the regular layout with the mobile views.</p>\n\n<p>This doesn't happen all the time. If I recycle the pool it works again for a while and then all of the sudden it goes back to having the error and it will continue until I recycle the pool again.</p>\n\n<p>Has anyone seen this problem before that can shed some light?</p>\n\n<p>Thanks \nJohn</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","haml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13262123,"title":"rails form_tag _path parameters","body":"<p>Although the question at '<a href=\"http://stackoverflow.com/questions/11762542/passing-multiple-parameters-in-a-form-tag\">Passing Multiple Parameters in a form_tag</a>' provides some information regarding how one can pass parameters within a form_tag the poster ultimately decided to pursue a different means of achieving said ends (specifically using hidden form fields).</p>\n\n<p>When attempting to use a line of code in a view like:</p>\n\n<pre><code>form_tag(movies_path({:foo = \"bar\"}), {:id =&gt; \"ratings_form\", :method =&gt; :get}) do\n</code></pre>\n\n<p>it seems as though RoR will not make the value of 'foo' available to the controller; is there another syntax which should be used to pass a parameter as part of the path in such a scenario?</p>\n\n<p>If one wishes to pass the parameter as part of the URL one would think such an approach would be correct (and, in fact, the HTML generated indicates as much since the resultant <code>&lt;form&gt;</code> tag contains an <code>action=\"/movies?foo=bar\"</code> statement)...  but the controller evaluates <code>params[:foo]</code> as <code>''</code> and not <code>bar</code>?)</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13256865,"title":"How to manage multiple Subscriptions using one controller action?","body":"<p>I have following subscription creating system, right now when I`m selection available subscription groups(Marketing, Sales) action <code>Save Subscription</code> create this two subscriptions:</p>\n\n<pre><code>@apps = App.all\nif request.post?\n  if params[:subscription] and params[:subscription][:app_id]                       \n    params[:subscription][:app_id].each do |app_id|                \n      Subscription.create_unique({user_id: current_user.id, app_id: app_id, approved: true})\n    end\n    redirect_to root_path\n  end\nend\n@subscriptions = current_user.subscriptions \n</code></pre>\n\n<p>So I can only add new <code>Subscriptions</code>(in this particular example i can only add <code>Engineering</code>)</p>\n\n<p><img src=\"http://i.stack.imgur.com/5VoyD.png\" alt=\"Subscriptions\"></p>\n\n<p>How to refactor that action to be able also destroy subscription groups by uncheck them(ex. I want to unsubscribe from Marketing group) ?</p>\n\n<p>So when I choose <strong>Marketing</strong> and <strong>Enginnering</strong> then <code>params[:subscription][:app_id]</code> will be equal <code>[marketing.id, engineering.id]</code></p>\n\n<pre><code>  # app_menu.html.erb\n  &lt;%= form_for :subscription do |f| %&gt; # this form goes to app_menu action above\n    &lt;ul&gt;\n        &lt;% @apps.each do |app| %&gt;\n        &lt;li&gt;\n            &lt;%= check_box_tag app.id, current_user.access?(app) %&gt;&lt;span&gt;&lt;%= app.name %&gt;&lt;/span&gt;\n        &lt;/li&gt;\n        &lt;% end %&gt;\n    &lt;/ul&gt;\n    &lt;%= f.submit %&gt;\n    &lt;% end %&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>Relations:</p>\n\n<pre><code>App\n  has_many :subscriptions\n  has_many :users, through: :subscriptions\nUser\n  belongs_to :app\n  has_many :subscriptions, :dependent =&gt; :destroy\nSubscription\n  belongs_to :user\n  belongs_to :app\n\n  def self.create_unique(p)\n    s = Subscription.find :first, :conditions =&gt; ['user_id = ? AND app_id = ?', p[:user_id], p[:app_id]]\n    Subscription.create(p) if !s\n  end\n</code></pre>\n\n<p>Schema</p>\n\n<pre><code># == Schema Information\n#\n# Table name: subscriptions\n#\n#  admin      :boolean\n#  app_id     :integer\n#  created_at :datetime\n#  id         :integer          not null, primary key\n#  updated_at :datetime\n#  user_id    :integer\n#\n# Table name: apps\n#\n#  created_at :datetime\n#  id         :integer          not null, primary key\n#  name       :string(255)\n#  updated_at :datetime\n#  user_id    :integer\n#\n# Table name: users\n#\n#  app_id     :integer\n#  created_at :datetime\n#  id         :integer          not null, primary key\n#  updated_at :datetime\n</code></pre>\n\n<p>So the issue is how to find which apps has been unchecked? </p>\n\n<p>Then remove subscription for them and remove Feeds using <code>Feed.app_destroy_items(app)</code></p>\n"},{"tags":["c#","javascript","ajax","mvc","web-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13259774,"title":"How can I debug a 500 Internal Server Error when calling a WebApi from ajax?","body":"<p>I am receiving a 500 Internal Server Error in a MVC 4.5 WebApi project.  I can successfully call my webservice with a GET and a GET with an Id.  But, when I POST a file I am getting the error.  I can set a breakpoint in <code>Application_BeginRequest()</code> and confirm that I am receiving first an OPTIONS request and then the POST.  The method in the controller is not getting called and I have added an <code>Application_Error()</code> method to Global.asax.cs that does not get hit either.  The html page is doing a CORS but I have already handled that using <a href=\"http://nuget.org/packages/Thinktecture.IdentityModel\" rel=\"nofollow\">ThinkTecture.IdentityModel</a>.  I am following the code <a href=\"http://stackoverflow.com/questions/5392344/sending-multipart-formdata-with-jquery-ajax\">here</a> for the file upload.</p>\n\n<p>Any ideas?</p>\n\n<p>Here is the client code:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        var UploadDocument = function () {\n            var url = sessionStorage.getItem(\"url\");\n            var auth = sessionStorage.getItem(\"auth\");\n            var data = new FormData();\n\n            jQuery.each($('#fileToUpload')[0].files, function (i, file) {\n                data.append('file-' + i, file);\n            });\n\n            jQuery.support.cors = true;\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                data: data,\n                cache: false,\n                processData: false,\n                contentType: false,\n                //dataType: \"json\",\n                headers: { Authorization: 'Basic ' + auth },\n                crossDomain: true,\n                success: function (data, textStatus, jqXHR) {\n                    alert('Success');\n                },\n                error: function (jqXHR, textStatus, errorThrown) { alert('Error: ' + textStatus + ' ' + errorThrown.message); }\n            });\n        };\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>My controller code looks like this:</p>\n\n<pre><code>    public int Post(HttpPostedFileBase FileToUpload)\n    {\n        // Do stuff with the file\n    }\n</code></pre>\n\n<p>The request and response look like this:</p>\n\n<pre><code>Request URL:http://localhost:51234/api/TaxDocument\nRequest Method:POST\nStatus Code:500 Internal Server Error\n\nRequest Headers\nAccept:*/*\nAccept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:en-US,en;q=0.8\nAuthorization:Basic YmNhbGxlbjpuZWxsYWM=\nConnection:keep-alive\nContent-Length:2054044\nContent-Type:multipart/form-data; boundary=----WebKitFormBoundaryIGzPKhvRVwFXbupu\nHost:localhost:51234\nOrigin:http://localhost:52386\nReferer:http://localhost:52386/Upload.html\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4\n\nResponse Headers:\nAccess-Control-Allow-Credentials:true\nAccess-Control-Allow-Origin:http://localhost:52386\nCache-Control:no-cache\nContent-Length:1133\nContent-Type:application/json; charset=utf-8\nDate:Tue, 06 Nov 2012 21:10:23 GMT\nExpires:-1\nPragma:no-cache\nServer:Microsoft-IIS/8.0\nX-AspNet-Version:4.0.30319\nX-Powered-By:ASP.NET\nX-SourceFiles:=?UTF-8?B?QzpccHJvamVjdHNcU2F2ZU15VzJcU2F2ZU15VzIuV2Vic2VydmljZVxhcGlcVGF4RG9jdW1lbnQ=?=\n</code></pre>\n"},{"tags":["mvc","grails","web-applications"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13259483,"title":"Grails status page using mvc","body":"<p>I'm new to grails and want to create a page that displays down/up status for certain URLs using green/red boxes.</p>\n\n<p>Historical data will not be necessary, only current status is needed.</p>\n\n<p>Here's an example of what I want the page to look like:</p>\n\n<p><em>Couldn't post the image: \"Oops! Your question couldn't be submitted because: We're sorry, but as a spam prevention mechanism, new users aren't allowed to post images. Earn more than 10 reputation to post images.\"</em></p>\n\n<p>I'll try to draw an example using text:</p>\n\n<pre><code>Grp1 [Red] [Grn] [Grn] [Grn] [Grn] [Grn] [Grn] [Grn]\n\nGrp2 [Grn] [Grn] [Grn] [Grn] [Grn] [Grn] [Grn] [Grn]\n\nGrp3 [Red] [Red] [Red] [Red] [Red] [Red] [Red] [Red]\n</code></pre>\n\n<p>I'd like to use the MVC pattern or something similar so that the URLs are always visited the same amount of times no matter how many browsers are hitting the page.</p>\n\n<p>I'm sure this is a pretty simple thing to do, but I could use some guidance for getting started as I am new to creating grails projects.</p>\n\n<p>Any advice/sample code is much appreciated.</p>\n\n<p>I've tried google searching for some code samples or similar projects and haven't dug up anything yet.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","html-helper","application-start"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13258944,"title":"Access HtmlHelper right after it is created, and before the view","body":"<p>I know that i from Application_Start can ActionFilterAttribute add a custom global filter and manipulate the ModelState and what not.</p>\n\n<p>Is there a similar way, to access the @Html (HtmlHelper) Before it get's send to the view?</p>\n\n<p>The reason for this is that i want to edit (or remove and recreate) the UnobtrosiveValidationAttributes. And if i try to do that in the View like this: <code>@Html.GetUnobtrusiveValidationAttributes(\"PhoneNumber\").Clear();</code> Nothing happens, but i'm thinking it might would work if i got to it earlier?</p>\n\n<p>(If you are wondering why: i need to translate the ErrorMessages inside)</p>\n"},{"tags":["java","mvc","design"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13258733,"title":"MVC Confused about where to put logic.","body":"<p>So I am currently modelling a MVC type system, total noob to this pattern and I'm trying to figure out a couple of things but one thing particular I can't figure out how to handle.</p>\n\n<p>In my system I create e.g a Customer Class &amp; DAO with CRUD functionality which I understand (to an extent  ) etc...</p>\n\n<p>I have a table in my database that log's data, this table is never accessed by the user only the extent that they can view calculations/results from the data in this table. </p>\n\n<p>How do I represent this in my design, I have no need for CRUD functionality only just to return results from SQL (e.g Select average/total/ etc).</p>\n\n<p>I obviously need to access the data but I'm not sure if I need a class that models the table or just somewhere to put the logic. </p>\n\n<p>Any help or pointers would be much appreciated</p>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":33,"score":-3,"question_id":13258330,"title":"Could need some help on MVC (PHP)","body":"<p>I want to improve my code by using MVC, atm I'm only working on small projects but I want to learn the basics BEFORE I really need them. Maybe I'll use a framework in the future but for now I want to UNDERSTAND the concept and be able to use/create a small framework by myself.</p>\n\n<p>So there are many tutorials on that topic but there are only pretty small examples. It's like one table, one task. Ye its obviously that you will need one controller/model/view for those examples but whats about a real site/application?</p>\n\n<p>I just made a small site which querys some data from a database. The data will be displayed via tables. There are two columns, and below the tables there are PHP generated charts. So how will I split this site? The Chart is using the same data as the table, so is it just another view? But its on the same site, would I use two views and put them in one template? Or should the graphic be generated in the view, cuz at the end its display logic?</p>\n\n<p>What about controllers? Take one for everything cuz its pretty much the same stuff on both sites or one per site? Whats about the columns? Take one controller per site or even per column? And when it comes to the model, use one for every column/table or do everything in just one?</p>\n\n<p>I'm pretty confused how to split everything up. Oh and finally another problem, there should only be five rows displayed on the left column of the first page, who would make the math? It would be like query something with rownum 1-5, 6-10 etc. but the controller would only get the pageNumber via $_GET. Would those math be made within the controller, who would only ask the model for 1-5 or would the model get the pageNumber and the math would be made within the model? (I'm not going to query all data and decide those display logic in the view, cuz im gonna work on pretty big tables with a lot of rows and the graphics/tables might get refreshed via ajax, so I would only query data being displayed).</p>\n\n<p>As you can see I'm quite confused but I really want to improve my code atm its just some HTML/PHP mixed files.</p>\n\n<p>Picture of my small project: <a href=\"http://fc09.deviantart.net/fs71/f/2012/286/b/5/warehouse_monitoring_by_alpenbog-d5hngja.png\" rel=\"nofollow\">http://fc09.deviantart.net/fs71/f/2012/286/b/5/warehouse_monitoring_by_alpenbog-d5hngja.png</a></p>\n"},{"tags":["php","mvc","cakephp","smarty","best-fit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":13256013,"title":"CakePHP vs. Smarty","body":"<p>This is less of a help me question, and more asking people thoughts and suggestions, and whats consider more of a forward thinking solution.</p>\n\n<p>First off I created a site that used NO template library and really had very little abstraction between presentation and code behind (there was some), So I decided there had to be a better way (and I wanted master pages similar to asp.net ), and I started slowly (still in progress) converting pages to use Smarty, but now I've done some research into CakePHP and interested in using MVC and the application tools it offers, I am familiar with MVC through some work I've done in ASP.net.</p>\n\n<p>My questions is do I completely abandon Smarty in favor of Cakes CTP files, which does not completely separate presentation from logic, or do I go through he hassle of trying to use Smarty templates with Cake, or I'm just asking for trouble. Or do I avoid the Cake route altogether? (which is tempting, converting my existing project to CakePHP seems daunting, (as it feels almost like it would be a re-write), but I feel the benefits would out weight the cons?).</p>\n\n<p>thoughts?</p>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT:</strong> the site I've built is a community theatre management system, its sorta like a cms system, but less blog-ish (at the moment no blog), and more who, what, when, where focused, here is the link to the site, its mostly db driven. <a href=\"http://marshallareastagecompany.org/\" rel=\"nofollow\">http://marshallareastagecompany.org/</a></p>\n"},{"tags":["ios","performance","mvc","key-value-observing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13256093,"title":"Design assistance for MVC and KVO","body":"<p>I have data that is persisted on the device that needs to sync with my my server, in terms of design am I on the right track?</p>\n\n<p>I have a model with a method to return my local objects, let's call it <code>[model objects]';</code> </p>\n\n<p>Within this method it returns the local objects immediately but I'd also like to check if the server needs to update any of these objects so in the background thread I run a method that uses an <code>async NSUrlConnection</code> that will return the JSON of each object that needs to be updated in which I will save that to core data. In the Table View Controller I would set a KVO to observe when the values changed for the <code>updatedObjects</code> then reload the objects displayed in the <code>objectTableView</code>.</p>\n\n<p><strong>Question: Is this the correct way to handle this? Am I missing something? Can I improve this somehow?</strong></p>\n\n<p>I am also thinking of disabling the UITableViewCells of the objects that are being updated and showing a <code>UIActivityIndicator</code> during the downloading and saving stages but I'm not sure if this will cause any race conditions in the UX.</p>\n\n<p>Hopefully this was explained well enough for you to understand, if you have any questions I will try to reply immediately.</p>\n"},{"tags":[".net","mvc","routing","webforms"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1503,"score":1,"question_id":1470997,"title":"Html.ActionLink construct wrong link when a non-mvc route is added","body":"<p>I have an application here with a mix of webform and mvc. I specify the routing as below</p>\n\n<pre><code>        routes.Add(\"AspxRoute\", new Route(\"Upload/New\", new WebFormRouteHandler&lt;Page&gt;(\"~/Uploads.aspx\")));\n\n        routes.MapRoute(\n            \"Default\",                                              // Route name\n            \"{controller}/{action}/{id}\",                           // URL with parameters\n            new { controller = \"Home\", action = \"Index\", id = \"\" }  // Parameter defaults\n        );\n</code></pre>\n\n<p>So that virtual path to \"Upload/New\" actually maps to an aspx webform page.</p>\n\n<p>But my problem is that Html.ActionLink(\"Test\", \"Controller\", \"Action\") now renders </p>\n\n<blockquote>\n  <p>/Upload/New?Controller=Controller&amp;Action=Action</p>\n</blockquote>\n\n<p>Having looked at the MVC source code, I understand that it is because ActionLink calls to <em>RouteCollection.GetVirtualPath(requestContext, routeName, mergedRouteValues)</em>, where routeName is left to null. And somehow this defaults to use the AspxRoute route to construct the url. I tried to added another route before \"AspxRoute\", but it seems it always defaults to the non-mvc routehandler one.</p>\n\n<p>How does <em>RouteCollection.GetVirtualPath</em> behave when routeName is null? And why is it behaving this way for my case?</p>\n\n<p>How do I construct a correct url? Do I need to write a new Htmlhelper extension?</p>\n\n<p>Cheers</p>\n"},{"tags":["c#","asp.net-mvc","mvc","razor","orchardcms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":46,"score":-1,"question_id":13237264,"title":"Orchard CMS Blog View / Layout","body":"<p>I'm new to Orchard CMS &amp; MVC so please take this into account. Any help -the more the better- will be greatly received.</p>\n\n<p>I want to add widgets to my blog summary page. What is the best way to achieve this? Ive tried creating a layer for the blog summary page defined by the rules for the layer, so as to be unique to this page. However, this only allows me to add widgets into the layer zones.</p>\n\n<p>What i need/want to do is to effectively create a side bar with a tag cloud and a blogroll showing titles of other posts, and a couple of other bits of content. This would mean moving the blog summary content into another zone inorder that i can fit widgets down the side.</p>\n\n<p>Is this the correct approach? If so how do i shift the summary stuff into another zone??\nIf this isnt the best approach, what is???</p>\n\n<p>Is this where projections come in???</p>\n\n<p>Thanks</p>\n"},{"tags":["c#",".net","mvc","partial-views"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":499,"score":0,"question_id":4432856,"title":"Passing correct model to partial view","body":"<p>I have been looking at this error for quite some time, and can't seem to figure out what I might have done wrong.</p>\n\n<p>I have a partial view which is added like this:</p>\n\n<pre><code>        &lt;% Html.RenderPartial(\"~/Views/ForumPosts/ForumPostCreateForm.ascx\", ViewData.Model); %&gt;\n</code></pre>\n\n<p>And the top of the partial view looks like this:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" AutoEventWireup=\"true\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;xxxx.Web.Controllers.ForumThreadsController.ForumThreadFormViewModel&gt;\" %&gt;\n</code></pre>\n\n<p>The error I receive is the following:</p>\n\n<p><em>The model item passed into the dictionary is of type 'xxx.Core.ForumThread', but this dictionary requires a model item of type 'xxx.Web.Controllers.ForumThreadsController+ForumThreadFormViewModel'.</em></p>\n\n<p>If am not mistaken both takes the model called ForumThread, but apparently I must have missed something.</p>\n"},{"tags":["spring","mvc","maven","project","cloudfoundry"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12453505,"title":"Spring Template Project Now Working with Cloud Foundry Server","body":"<p>Hope someone could help me solve my problem. I'm currently trying to create a spring mvc project using STS tool.\nSo I created one using the Spring Template Project provided by STS. I tried to run it using tomcat server and it's doing fine. But when I tried using the VMare Cloud Foundry Server, it is not working anymore. I'm having this kind of error: </p>\n\n<pre><code>org.apache.jasper.JasperException: java.lang.NullPointerException\norg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:538)\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:370)\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\norg.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)\norg.springframework.web.servlet.view.AbstractView.render(AbstractView.java:262)\norg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1157)\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:927)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:827)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:617)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n</code></pre>\n\n<p>I would appreciate any help!</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","internationalization","interceptor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13033502,"title":"LocaleChangeInterceptor - what is the expected behaviour?","body":"<p>I just took the first step into area of internationalization, where i will be preparing a Spring MVC application for multi-language use. I googled and read a few examples (like this one: <a href=\"http://viralpatel.net/blogs/spring-3-mvc-internationalization-i18n-localization-tutorial-example/\" rel=\"nofollow\">http://viralpatel.net/blogs/spring-3-mvc-internationalization-i18n-localization-tutorial-example/</a>) and it seems pretty straightforward. I used the exact same setup from this example and the code from the  fix referenced in it. I have seen this same setup in a number of posts on different forums.</p>\n\n<p>The one thing i don't fully understand is this: I have a controller method with a mapping that looks like this:</p>\n\n<p>@RequestMapping(value = \"/placeDetails.htm\", method = RequestMethod.GET)\npublic String showPlaceDetails(Model model, @RequestParam(value = \"placeId\", required = true) int placeId, Locale locale) {</p>\n\n<p>It would catch a request like this one:\nwww.me.com/placeDetails.htm?placeId=123. </p>\n\n<p>The href that i add to the \"change language\" menu item says href=\"?lang=en\". As far as i can see, i end up with the URL www.me.com/placeDetails.htm?lang=en (i see this when i hover over the menu item). The method's request mapping above will not recognize this and i get an error message from Tomcat saying \"The request sent by the client was syntactically incorrect ().\". My controller knows of no call to www.me.com/placeDetails.htm with a parameter called lang.</p>\n\n<p>It was (and still is) my assumption that i should not have to add another method with a request mapping that includes the lang parameter. I assumed the LocaleChangeInterceptor would intercept this call and handle it.</p>\n\n<p>So my question is: am i making the right assumption and if i am not, how is the interceptor supposed to work when the controller method has other parameters. If i am making the right assumption - any ideas why this is not working.</p>\n"},{"tags":["objective-c","ios","mvc","game"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":13251044,"title":"MVC design brickbreaker game","body":"<p>I need A little help with how the structure of my game should look like. I'm trying to do a brickbreaker game, with different settings and levels etc.\nAnd I'm trying to figure out, what files should I have?\nWell the easy one is Ball.h, it will have properties such as position and velocity.\nThen I need a controller, is a ViewController same as a just a controller?\nShould I have just a GameViewController or a GameController and a GameViewController?\nWich files would you have created? </p>\n"},{"tags":["javascript","mvc","angularjs","angular"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13247738,"title":"Is AngularJS really MVC?","body":"<p>I'm looking through examples on <a href=\"http://angularjs.org/\" rel=\"nofollow\">the AngularJS home page</a>  specifically Add Some Control. I dont quite understand how it maps to MVC pattern.</p>\n\n<p>Its more or less clear that the template (index.html) can be thought of as the view, objects constructed by TodoCtrl from todo.js as the controller, but where is a model? Attributes like <code>ng-model</code> map to some internal pieces of the framework and dont directly expose an object which we could call a model.</p>\n\n<p>Is it correct to call AngularJS an MVC framework?</p>\n"},{"tags":["python","mvc","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13247089,"title":"QAbstractTableModel and QComboBox together","body":"<p>I have a subclass of a <code>QAbstractTableModel</code> and I want to use <code>QComboBox</code> to display a dropbox for this table.</p>\n\n<p>But by default it shows just the first column of my table, which is not what I want. I've tried <code>setModelColumn</code> to shows the column 1 instead of 0 but it did not work.</p>\n\n<p>After having a look around in the internet, I've found 2 solutions:</p>\n\n<ol>\n<li>Create another <code>QAbstractListModel</code> from the same data in the <code>QAbstractTableModel</code></li>\n<li>Use a <code>QSortFilterProxyModel</code> to hide other columns</li>\n</ol>\n\n<p>Which is the best?\nThanks</p>\n"},{"tags":["asp.net-mvc-3","mvc","reference","runtime-error",".net-assembly"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13243270,"title":"MVC 3 assembly conflict How to","body":"<p>Every time I download some open source or paid MVC3 app I get some assembly conflicts, ie: missing assemblies, wrong versions etc. So I figure I should ask a more general question:</p>\n\n<p>In a typical project you have a folder called References and all assemblies seem to be in that folder, with their version numbers and Copy To Local options etc.</p>\n\n<p>However out of the 10-20 references in that folder I often find just a few in the web.config.</p>\n\n<p>I the latest case of this annoying mixup I have in web.config:</p>\n\n<pre><code>&lt;compilation debug=\"false\" targetFramework=\"4.0\"&gt;\n  &lt;assemblies&gt;\n    &lt;add assembly=\"System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;add assembly=\"System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;add assembly=\"System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;add assembly=\"System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;add assembly=\"System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n  &lt;/assemblies&gt;\n&lt;/compilation&gt;\n</code></pre>\n\n<p>I get an error that project trying to load System.Web.Helpers, Version=1.0.0.0 - it's not found. </p>\n\n<p>In the References folder the System.Web.Helpers referenced is version 2.0.0 and it's not possible to change this version number as it's greyed out. Changing to Specific Version doesn't change anything.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>Why are there the 4 references in Web.config? Why not just the references folder? </p>\n\n<p>Why do i often find <em>a partial number of assembly tags</em> in web.config instead of none or alternatively  all the references seen under the References project folder?</p>\n\n<p>Thanks,</p>\n"},{"tags":["mvc","web-applications"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":308,"score":0,"question_id":668980,"title":"Recommended data structure/format for web MVC applications?","body":"<p>What's a good data structure for use in MVC web applications to use to pass data into view to ensure standardization and keep the view as non-coder friendly as possible?</p>\n"},{"tags":["php","html","mvc","design-patterns","joomla"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":13243220,"title":"Why does Joomla separate MVC View into two parts","body":"<p>I have been using joomla more than for a year now and familiar with the MVC pattern as well. But I'm unclear how Joomla uses MVC when showing a view. In the components deveopers use below two method.</p>\n\n<p><strong><em>1st method</em></strong></p>\n\n<pre><code>class myView extends JView\n{\n     function display($tpl = null)\n     {                  \n       //HTML &amp; PHP goes here\n     }  \n\n}\n</code></pre>\n\n<p><em><strong>2nd method</em></strong></p>\n\n<pre><code>class myView extends JView\n{\n        function display($tpl = null)\n            {                   \n            parent::display($tpl);\n            }   \n\n}\n</code></pre>\n\n<p>In the 2nd method they create a <code>tmpl</code> folder and place a <code>default.php</code> inside of it. All the HTML and PHP code then goes inside that file.</p>\n\n<p>Now problem is why they use 2nd method when we can right away use 1st method? What's the industry standard? What are the pros and cons of above methods? What should be used and why and depending on what? Thanks</p>\n"},{"tags":["php","mvc","magento","design-patterns","joomla"],"answer_count":5,"favorite_count":5,"up_vote_count":8,"down_vote_count":0,"view_count":103,"score":8,"question_id":13242279,"title":"Why split the View in MVC into a view class and a template","body":"<p>I'm relatively new to design pasterns but I feel that I've got a good understanding of the MVC pattern and the advantages that this separation of code brings.</p>\n\n<p>However, both times I've seen the MVC pattern in action (Magento and Joomla!), there is further specialization, with the view consisting of a view class (Magento block) and a PHP template file. I would appreciate it if someone could explain the benefit of this split.</p>\n\n<p>I'm also at a loss as to how to split my code between the view class and the template file. Sometimes I find myself writing what seems to be a redundant view class (in Joomla!) which simply accesses the model and then just makes the data available for the template. What code should appear in the template and what code should appear in the view class?</p>\n"},{"tags":["mvc","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13220001,"title":"Static external streaming data source MVC","body":"<p>I am new to MVC and from what I understood so far, each web request is independent, and in the controller you usually create a new Model object and load it from some data source.\nThat's great when you work against a DB and load the model object you need.</p>\n\n<p>But what if my data source is a live real-time streaming data, and when the user click on a button I need to give him the last data I got from the stream ?</p>\n\n<h3>The simplest example I can think of is stock data:</h3>\n\n<blockquote>\n  <p>Assume that I have a data source object that connects to the exchange and subscribes to a live feed of stock prices, and, when the client click on a button \"Get last quote\", I need to return the latest price I got (<em>note:</em> I do NOT need to stream data to the client, only return a snapshot when he clicks, or every 5 seconds etc).</p>\n</blockquote>\n\n<p>So what I'm looking to do is, when the application starts create my static data source object, have it connected to the exchange and start listening to the feed, on each price change it stores it on some local variable, and in my Controller all I need to do is to call to my static data source and ask for the last tick (and it will return the value of the local variable).</p>\n\n<p>Hope my question is clear. I know, it might be simple, but I just don't know, what is the correct pattern for this in MVC. Any ideas?</p>\n"},{"tags":["objective-c","ios","mvc","core-location"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13241852,"title":"Formatting data using MVC design","body":"<p>I have a TableViewController and model class <code>TripInfo</code>. When the cell accessory view is tapped, I'd like to return the address of the current location to the cell's textfield. I'm having trouble figuring out how to do this cleanly abiding by the MVC pattern. </p>\n\n<p>Here's what I have so far:</p>\n\n<p>1.TableViewController implementation: accessory view is tapped, <code>locationManager</code> starts updating\n2.TableViewController implementation:<code>locationManager</code> didUpdateLocation method is called and sets the current to the model object property <code>self.tripInfo.location</code></p>\n\n<p>Now I need to convert this location into a physical address. I was going to put this code in a model class method that returns an address as a string, for example:</p>\n\n<pre><code>- (NSString *)createAddressStringFromLocation: (CLLocation *)location\n{\n\n    __block NSString *locationAddress = @\"\";\n\n    CLGeocoder *gecoder = [[CLGeocoder alloc] init];\n    [gecoder reverseGeocodeLocation:location completionHandler:^(NSArray *placemarks, NSError *error) {\n        CLPlacemark *placemark = [placemarks lastObject];\n\n        locationAddress = [NSString stringWithFormat:@\"%@\", ABCreateStringWithAddressDictionary(placemark.addressDictionary, NO)];\n    }];\n\n    return locationAddress;\n}\n</code></pre>\n\n<p>Then in cellForRow:</p>\n\n<pre><code>cell.textField.text = [NSString stringWithFormat:@\"%@\", [self.tripInfo createAddressStringFromLocation:self.tripInfo.fromLocation]];\n</code></pre>\n\n<p>Is this bad design to have cellForRow basically wait for this method to complete in my model class?</p>\n"},{"tags":["ruby-on-rails","mvc","design-patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13238539,"title":"How can I conditionally, or contextually, load an interface of methods into a model from a Rails /lib?","body":"<p>We have a set of reports that run out of <code>/lib</code>.  These have grown so voluminous that we now have written many methods that would count as helpers or other 'decorator-style' methods relating specifically to Reporting.  </p>\n\n<p>These additional methods live in the report, and look like:</p>\n\n<pre><code>class report\n  def get_latest_credential_updated_date\n    credentials.map(&amp;:updated_at).compact.max\n  end\n\n  def initialize \n    # set up stuff\n  end\nend\n</code></pre>\n\n<ol>\n<li><p>Is there a way to load a module, or otherwise inject code to a Model when the reporting lib loads:</p>\n\n<pre><code>class Loan &lt; ActiveRecord::Base\n  def get_latest_credential_updated_date\n    credentials.map(&amp;:updated_at).compact.max\n  end\nend\n</code></pre></li>\n<li><p>Is there a better pattern to represent this architecture?</p></li>\n</ol>\n"},{"tags":["mvc","castle-windsor"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2367,"score":3,"question_id":1285605,"title":"SportsStore: MVC programming issue [Castle WindsorControllerFactory]","body":"<p>So I've been following Steven Sanderson's book called Pro ASP.NET MVC Framework, and I'm running into an exception:</p>\n\n<pre><code>No parameterless constructor defined for this object.\nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.\n\nException Details: System.MissingMethodException: No parameterless constructor defined for this object.\n\nSource Error:\n\nLine 16:             HttpContext.Current.RewritePath(Request.ApplicationPath, false);\nLine 17:             IHttpHandler httpHandler = new MvcHttpHandler();\nLine 18:             httpHandler.ProcessRequest(HttpContext.Current);\nLine 19:             HttpContext.Current.RewritePath(originalPath, false);\nLine 20:         }\n\n\nSource File: C:\\Users\\Stephen\\Documents\\Visual Studio 2008\\Projects\\SportsStore\\WebUI\\Default.aspx.cs    Line: 18\n</code></pre>\n\n<p>Here's my WindsorControllerFactory code:</p>\n\n<pre><code>public class WindsorControllerFactory : DefaultControllerFactory\n{\n    WindsorContainer container;\n\n    // The constructor\n    // 1. Sets up a new IoC container\n    // 2. Registers all components specified in web.config\n    // 3. Registers all controller types as components\n    public WindsorControllerFactory()\n    { \n        // Instantiate a container, taking configuration from web.config\n        container = new WindsorContainer(\n                        new XmlInterpreter(new ConfigResource(\"castle\"))\n                    );\n\n        // Also register all the controller types as transient\n        var controllerTypes = from t in Assembly.GetExecutingAssembly().GetTypes()\n                              where typeof(IController).IsAssignableFrom(t)\n                              select t;\n\n        foreach (Type t in controllerTypes)\n            container.AddComponentWithLifestyle(t.FullName, t, Castle.Core.LifestyleType.Transient);\n    }\n\n    // Constructs the controller instance needed to service each request\n    protected override IController GetControllerInstance(Type controllerType)\n    {\n        return (IController)container.Resolve(controllerType);\n    }\n}\n</code></pre>\n\n<p>My Global.asax.cs code:</p>\n\n<pre><code>protected void Application_Start()\n    {\n        RegisterRoutes(RouteTable.Routes);\n        ControllerBuilder.Current.SetControllerFactory(new WindsorControllerFactory());\n    }\n</code></pre>\n\n<p>And the web.config values:</p>\n\n<pre><code>&lt;configSections&gt;\n    &lt;section name=\"castle\"\n             type=\"Castle.Windsor.Configuration.AppDomain.CastleSectionHandler,\n                   Castle.Windsor\"/&gt;\n&lt;/configSections&gt;\n&lt;castle&gt;\n    &lt;properties&gt;\n      &lt;myConnStr&gt;Server=.\\SQLEXPRESS;Database=SportsStore;Trusted_Connection=yes;&lt;/myConnStr&gt;\n    &lt;/properties&gt;\n    &lt;components&gt;\n      &lt;component id=\"ProdsRepository\"\n                 service=\"DomainModel.Abstract.IProductsRepository, DomainModel\"\n                 type=\"DomainModel.Concrete.SqlProductsRepository, DomainModel\"&gt;\n        &lt;parameters&gt;\n          &lt;connectionString&gt;#{myConnStr}&lt;/connectionString&gt;\n        &lt;/parameters&gt;\n      &lt;/component&gt;\n    &lt;/components&gt;\n&lt;/castle&gt;\n</code></pre>\n\n<p>Thanks all!\n-Steve</p>\n"},{"tags":["javascript","mvc","backbone.js","backbone-views"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13239450,"title":"Backbone.js - views within views and re-renders","body":"<p>I have a collection of items and I am building a simple interface that lists the items on the left, then shows the detail of the currently selected item on the right.</p>\n\n<p>I am trying to render a ItemView for each item within a ItemsListView. I need to bind to the model's change event so that the ItemView is updated along with the ItemDetailView.</p>\n\n<p>In my implementation below, when updating the model that is showing in the ItemDetailView, setting a new property on the model updates the ItemDetailView but not it's representation in the ItemView. I know that I am doing something silly. How can I re-implement this so that both are re-rendered?</p>\n\n<p>P.S. I am trying to avoid re-rendering the List view every time. I'd like to re-render each ItemView in the list separately.</p>\n\n<pre><code>var Item = Backbone.Model.extend({\n\n});\n\nvar Items = Backbone.Collection.extend({\n\n  model: Item\n\n});\n\nvar ItemView  = Backbone.View.extend({\n\n  template: window.JST['item/list'],\n\n  initialize: function() {\n    _.bindAll(this, 'render');\n    this.model.bind('change', this.render);\n  },\n\n  render: function() {\n    $(this.el).html(this.template(this.model.toJSON()));\n    return this;\n  }\n\n});\n\nvar ItemDetailView = Backbone.View.extend({\n\n  el: $('.detail .grid'),\n\n  template: window.JST['item/detail'],\n\n  initialize: function() {\n    _.bindAll(this, 'render');\n    this.model.bind('change', this.render);\n    this.render();\n  },\n\n  render: function() {\n    $(this.el).html('').fadeOut('fast', function() {\n      $(this.el).html(this.template(this.model.toJSON())).fadeIn();\n    }.bind(this));\n    return this;\n  }\n\n});\n\n// for the Items collection\nvar ItemsView = Backbone.View.extend({\n\n  el: $('.items ol.grid'),\n\n  initialize: function() {\n    _.bindAll(this, 'render');\n  },\n\n  render: function() {\n\n    // need to put this as the first item in the list\n    $(this.el).html('&lt;li class=\"listHeader\"&gt;&lt;/li&gt;');\n\n    // iterate over the collection and render each ItemView separately\n    this.collection.each(function(l) {\n      var lv = new ListView({ model: l, collection: this.collection });\n      var html = lv.template(lv.model.toJSON());\n      $(this.el).append(html);\n    }.bind(this));\n  }\n\n});\n</code></pre>\n"},{"tags":["c++","mvc","qt","qtreeview","qtreewidget"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":244,"score":0,"question_id":9668983,"title":"QTreeView vs setIndexWidget","body":"<p>I am using QStandardItemModel with QStandardItem's.</p>\n\n<p>I don't want to write my own model and any delegates.</p>\n\n<p>I just want to have tree of checkboxes with QComboBox'es in second column...</p>\n\n<pre><code>m_model-&gt;setColumnCount(2);\nfor (int i = 0; i &lt; sectionCount; i++)\n{\n    QStandardItem * section = new QStandardItem(tr(\"Section %1\").arg(i+1));\n    section-&gt;setCheckable(true);\n    section-&gt;setCheckState(Qt::Checked);\n\n    for (int j = 0; j &lt; itemsCount; j++)\n    {\n        QStandardItem * item = new QStandardItem(tr(\"Item %1\").arg(j+1));\n        item-&gt;setCheckable(true);\n        item-&gt;setCheckState(Qt::Checked);\n\n        QStandardItem * item2 = new QStandardItem(\"xxx\");\n\n        section-&gt;appendRow(QList&lt;QStandardItem*&gt;() &lt;&lt; item &lt;&lt; item2);\n\n        QComboBox * combo = new QComboBox();\n        QModelIndex index = m_model-&gt;index(j, 1, );\n\n        // HERE i have index = {-1;-1}\n\n        ui-&gt;treeView_options-&gt;setIndexWidget(index, combo);\n    }\n    m_model-&gt;appendRow(section);\n}\n</code></pre>\n\n<p>Is it possible to use setIndexWidget this way?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have no QComboBox in second column... Why?</p>\n"},{"tags":["ruby-on-rails","mvc","rspec"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3085,"score":2,"question_id":326277,"title":"Rails: calling a model class in a library","body":"<p>I'm trying to verify that a parameter is an instance of a specific class in Rails:</p>\n\n<pre><code>def schedule(action, *args)\n  if arg.is_a? Aircraft\n    ...\n  end\nend\n</code></pre>\n\n<p>I'm doing this in a library class (the file is in <em>lib/</em>) and I get an <strong>uninitialized constant Aircraft</strong> error. Aircraft is a model class, with a corresponding <em>aircraft.rb</em> file in <em>app/models</em>.</p>\n\n<p>Can I use model classes and instances in a library? How?</p>\n\n<p><hr /></p>\n\n<p><strong>Error context:</strong></p>\n\n<p>The error happens in RSpec tests; the code works in the browser. I tried requiring the model in the *<em>spec.rb</em> file, no success at the moment.</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13236182,"title":"Backbone Collection mysterious model property","body":"<p>I'm trying to write a simple application to understand Backbone.js basics.\nI'm using Jerome Gravel-Niquet's <a href=\"https://github.com/jeromegn/Backbone.localStorage\" rel=\"nofollow\">localStorage</a>.</p>\n\n<p>Here is the code:</p>\n\n<p><strong>models/fighter-model.js</strong></p>\n\n<pre><code>var fight = fight || {};\n\nfight.Fighter = Backbone.Model.extend({\n\n    defaults: {\n        name: null,\n        level: 1,\n        exp: 1\n    },\n\n    initialize: function () {\n        console.log(\"Initialize a new Fighter.\");\n    },\n\n    validate: function (attribs) {\n        if (!attribs.name) {\n            return \"No name defined for this new Fighter.\";\n        }\n    }\n\n});\n</code></pre>\n\n<p><strong>collections/fighter-collection.js</strong></p>\n\n<pre><code>var fight = fight || {};\n\nvar FighterList = Backbone.Collection.extend({\n\n    model: fight.Figther,\n\n    localStorage: new Backbone.LocalStorage('fighters-store')\n\n});\n</code></pre>\n\n<p><strong>main.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"fr\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"&gt;\n    &lt;title&gt;TEST JS&lt;/title&gt;\n\n    &lt;script type=\"text/javascript\" src=\"lib/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"lib/underscore.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"lib/backbone.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"lib/backbone.localStorage.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div id=\"app\"&gt;\n\n    &lt;/div&gt;\n\n    &lt;script type=\"text/template\" id=\"fighter-template\"&gt;\n        Fighter named &lt;%= name %&gt; is level &lt;%= level %&gt; and has &lt;%= exp %&gt; points.\n    &lt;/script&gt;\n\n    &lt;script type=\"text/javascript\" src=\"models/fighter-model.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"collections/fighter-collection.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"views/fighter-view.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"views/fighters-view.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Then is the console here is what I'm trying to do:</p>\n\n<pre><code>var c = new FighterList();\nc.create({name:'Ryu'});\n\nTypeError: undefined is not a function\n</code></pre>\n\n<p>But if I redefine <code>model</code> manually, then the <code>create</code> function works:</p>\n\n<pre><code>c.model = fight.Fighter\nc.create({name:'Ryu'});\n\nInitialize a new Fighter.\n</code></pre>\n\n<p><strong>Why is <code>c.model</code> undefined even though I already defined it in the collection definition ?</strong></p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13235096,"title":"MVC Validation: Service Layer or Data Annotations","body":"<p>I hope this isn't terribly subjective, but when it comes to validating business logic, I see two paths that, unless I'm mistaken, deliver pretty much the same result:</p>\n\n<ul>\n<li><p>Use a service layer where all validation on your models is performed (ref: <a href=\"http://www.asp.net/mvc/tutorials/older-versions/models-%28data%29/validating-with-a-service-layer-cs\" rel=\"nofollow\">http://www.asp.net/mvc/tutorials/older-versions/models-%28data%29/validating-with-a-service-layer-cs</a>)</p></li>\n<li><p>Decorate your models with Data Annotations</p></li>\n</ul>\n\n<p>In the first instance, the model is a dumb container for data, and in the second, the model knows about its valid state. Above and beyond that, is there nuance between the two that I'm missing? Should one be used over the other in some instances?</p>\n\n<p>Thanks,</p>\n\n<p>Chris</p>\n"},{"tags":["c#","html","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13234765,"title":"Set model property in Jquery","body":"<p>I am trying to set Model property <strong>Id</strong> as follows :</p>\n\n<pre><code>'&lt;%= Model.Id %&gt;' = $(\"#Id\");  \n</code></pre>\n\n<p>But getting error in firebug :  </p>\n\n<pre><code>Invalid left-hand side in assignment.\n</code></pre>\n\n<p>How to set <code>Model.Id</code> ?<br>\nPlease let me know if more is required.<br>\nThanks,<br>\nNitish</p>\n"},{"tags":["php","mvc","soa","silex"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13232017,"title":"What is the best way to model the business logic in Silex?","body":"<p>I am not sure if I get the overall idea of Silex right where to store \"business logic\" which is not directly related to persistance, views, etc.</p>\n\n<p>Example: In my \"demo app\" I needed a way to generate n unique numbers. I needed those numbers in a template to include partial templates. I created a RandomNumberServiceProvider which can return n numbers between x and y. In my $app-closure I used this service, assigned the random numbers to my twig template. Done.</p>\n\n<p>More complex example: Let's say you have to develop a \"complex\" import function. You have to read data from the disk, validate the data, transform it somehow and finally store it into the database. Would you also create a ImportServiceProvider in this case which accesses other services (for persistance...)?</p>\n"},{"tags":["mvc","ember.js"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13230463,"title":"Binding Ember.TextField value to another Controller's property","body":"<p>My index.html says:</p>\n\n<pre><code> &lt;script type=\"text/x-handlebars\" data-template-name=\"loggedout\"&gt;\n &lt;label&gt;Username: &lt;/label&gt;{{view Ember.TextField placeholder=\"your username\"  valueBinding=\"App.LoggedoutController.username\"}}&lt;br /&gt;\n &lt;label&gt;Password: &lt;/label&gt;{{view Ember.TextField placeholder=\"your password\" valueBinding=\"App.LoggedoutController.password\" type=\"password\"}}&lt;br /&gt;\n &lt;br /&gt;&lt;button {{action login}}&gt;Login&lt;/button&gt;\n &lt;/script&gt;\n</code></pre>\n\n<p>The action goes to my router which redirects to my controller</p>\n\n<pre><code> App.LoggedoutController = Ember.Controller.extend({\n\n    username: '',\n    password: '',\n    isError: false,\n\n    tryLogin: function() {\n      console.log(\"InController: launched\");\n      var username = this.get(\"username\");\n      console.log(\"Check:\" + username);\n      ....\n</code></pre>\n\n<p>but Check is empty.</p>\n\n<p><a href=\"http://jsfiddle.net/wfabs/KsNaX/\" rel=\"nofollow\">Fiddle</a></p>\n"},{"tags":["java","mvc","jsf","jsf-2"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":43,"score":-1,"question_id":13232167,"title":"Good sample about JSF params","body":"<p>I need a good sample to implement about JSF 2 and params use.\nI would like to learn something in this format:</p>\n\n<pre><code>users.jsf?action=edit&amp;id=54\nproducts.jsf?action=all&amp;category=5&amp;page=2\nlogs.jsf?action=all&amp;datein=12/12/2011&amp;dateout=12/12/2012\n</code></pre>\n\n<p>I'm googling since last week, but I did not found nothing cool.</p>\n"},{"tags":["mvc","jsf","java-ee","struts"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13229379,"title":"JSF and Struts used together","body":"<p>In an interview I was asked,\"Can Struts be used with JSF?\"</p>\n\n<p>I replied,\"JSF and Struts are two different frameworks, they have different structures, they can't be used together\".</p>\n\n<p>was I right?</p>\n\n<p>and please tell me if Struts can be used with JSF?if yes, then how?</p>\n"},{"tags":["java","mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":39,"score":-5,"question_id":13231347,"title":"Difference between facade and controller","body":"<p>Can anybody explain me the difference between Facade pattern and Controllers in MVC?\nAre both different concepts?Request to explain through a simple example.</p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13225444,"title":"Is accessing Models from Other Controllers Considered Breaking the MVC Framework","body":"<p>Quick question: Is it wrong for a controller to access two or more Models? Let's say there are two Two controller with each have their own models. Accessing the model of the other controller breaks the rule in MVC? Should I access the model through a controller (if HMVC) the proper way of getting to that model?</p>\n"},{"tags":["ipad","cocoa","mvc","scene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13229990,"title":"Cocoa: scene vs. view","body":"<p>Noob question here. I think I get the basics of the three basic Model-View-Controller elements. Sort of. But what is a scene? I know iPad can have more than one scene per screen, and iPhone/iPod can have just one. But how does a scene relate to a view?  </p>\n\n<p>If I'm getting it horribly wrong, please be kind :)</p>\n"},{"tags":["java","mvc","java-ee","seo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13228568,"title":"does mvc architecture affect SEO?","body":"<p>I have my MVC architecture in my webapplication.Now  the flow is as follows:</p>\n\n<pre><code>starter.jsp -&gt; SERVLET -&gt;view.jsp\n</code></pre>\n\n<p>Now view.jsp expects cetrtain request parameters to be present in request object.</p>\n\n<p>When view.jsp is called using above workflow everything works fine.But if view.jsp is called directly then it does not get expected attributes in request and forwards to error.jsp</p>\n\n<p>Now Will search engine directly call view.jsp? or will it travel from starter.jsp to view.jsp?</p>\n\n<p>Detailed example:</p>\n\n<pre><code>main page has a href to a article.\nhref =\"servlet?id=xyz\"\n\nNow servlet gets the id from request.\nServlet gets details for id from DB , puts the Object obtained from DB as request attribute \nidDetails\nAnd forwards to view.jsp\nView.jsp gets request attribute idDetails\nSo view.jsp expects idDetails to be present as request attribute\n</code></pre>\n"},{"tags":["c#","mvc","dependency-injection","inversion-of-control","castle-windsor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":305,"score":0,"question_id":9471556,"title":"How to correctly instance EF Object Data Context using DI with Castle?","body":"<p>So far what I have is the following installer:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Registers all repositories.\n/// &lt;/summary&gt;\npublic class RepositoryInstaller : IWindsorInstaller\n{\n    public void Install(IWindsorContainer container, IConfigurationStore store)\n    {\n        container.Register(\n            AllTypes.FromAssemblyContaining&lt;EntityFrameworkLinkRepository&gt;()\n                .BasedOn&lt;IRepository&gt;()\n                .WithService.Select(ByConvention)\n                .Configure(WithDependencies)\n                .LifestylePerWebRequest()\n            );\n    }\n\n    private IEnumerable&lt;Type&gt; ByConvention(Type type, Type[] types)\n    {\n        if (type.BaseType == null || !type.Name.EndsWith(type.BaseType.Name))\n        {\n            return Enumerable.Empty&lt;Type&gt;();\n        }\n        return new[] { type.BaseType };\n    }\n\n    private void WithDependencies(ComponentRegistration component)\n    {\n        Type type = component.Implementation;\n        string key;\n        if (type.BaseType == null || !type.Name.EndsWith(type.BaseType.Name))\n        {\n            key = type.Name;\n        }\n        else\n        {\n            key = type.Name.Substring(0, type.Name.Length - type.BaseType.Name.Length);\n        }\n        component.DependsOn(new\n        {\n            connectionString = ConnectionString(key)\n        });\n    }\n\n    private string ConnectionString(string key)\n    {\n        string connectionString = Config.GetConnectionString(key);\n        return connectionString;\n    }\n}\n</code></pre>\n\n<p>Which resolves the repositories.</p>\n\n<p>Now, the repository is instanced like this:</p>\n\n<pre><code>public class EntityFrameworkLinkRepository : LinkRepository\n{\n    private readonly ObjectDataContext context; // TODO shouldn't this be receiving a lifetimed ODC, instead of just the connString?\n\n    public EntityFrameworkLinkRepository(string connectionString)\n    {\n        if (connectionString == null)\n        {\n            throw new ArgumentNullException(\"connectionString\");\n        }\n        this.context = new ObjectDataContext(connectionString);\n    }\n\n// etc...\n</code></pre>\n\n<p>My question here is how I should be resolving the object data context, rather than just creating a new one (and not even disposing of it), what's the correct way to resolve an EF data context through Castle using DI?</p>\n\n<p>I guess I would like the ODC to be shared across all repositories that pertain to the same web request (that would be the way that makes the most sense to me, right?)</p>\n\n<p>But since my implementation of <code>ObjectContext</code> is specific to <code>EntityFramework</code>, I'm kind of lost as to how I'm supposed to resolve it, should I explicitly register it with something like this?</p>\n\n<pre><code>container.Register(\n    Component\n    .For&lt;ObjectDataContext&gt;()\n    .DependsOn(new\n    {\n        connectionString = ConnectionString(\"EntityFramework\")\n    })\n    .ImplementedBy&lt;ObjectDataContext&gt;()\n);\n</code></pre>\n"},{"tags":["mvc","node.js","geddy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13215409,"title":"How to load model in to controller with geddy","body":"<p>I have a Locations controller and Location model\nI want to use the the Location model in another controller but calling</p>\n\n<pre><code>geddy.models.Locations.all(...);\n</code></pre>\n\n<p>does not work. It says Locations is undefined.</p>\n\n<p>How do I make it load the model manually? Or should I create a function in the Locations controller to grab the data using a request on the client or a call directly to the controller on the sever?</p>\n"},{"tags":["mvc","design-patterns","design","conventions"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":127,"score":3,"question_id":13098287,"title":"Should controller methods take arguments?","body":"<p>Given that there is file selection widget on the view and controller need to handle event of selecting file, should I rather write controller method:</p>\n\n<pre><code>public void fileSelected(String filePath){\n  //process filePath\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public void fileSelected(){\n  String filePath = view.getSelectedFilePath();\n  //process filePath\n}\n</code></pre>\n\n<p>The first approach seems to introduce less coupling between C and V: C don't know what exactly data does C need while handling given event.</p>\n\n<p>But it requires creating a lot of verbose methods similar to <code>getSelectedFile</code> on V side.</p>\n\n<p>On the other hand, second approach may lead to cluttered controller methods in more complex cases than in example (much more data to pass than just <code>filePath</code>).</p>\n\n<p>From your own experience, which approach do you prefer?</p>\n"},{"tags":["mvc","nginx","provider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13227347,"title":"Nginx configuration for MVC as client","body":"<p>Can somebody shine a light?\nThis is the issue: I need to create a site on a server that runs Nginx. I have no experience with this server, so I have been sticking my nose in it.\nI want to omit the index.php, so that </p>\n\n<pre><code>http://www.mydomain.com/index.php/welcome/index\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>http://www.mydomain.com/welcome/index\n</code></pre>\n\n<p>I then want to extract the /welcome/index so I can start and play with that in the MVC application. I have been looking around, but I get lost in the club of people that are likely doing their own configurations.</p>\n\n<p>My question is if I can influence the server response as a client, like it is done with Apache through the htaccess file, or do I need to involve the provider who is hosting the server? I have requested to alter the server for this, but the support I get is not very helpful.</p>\n\n<p>I was able to simulate the required server response within the nginx.conf file. This tells me that it can be done. \nFor those interested. Read the values on the url through $_SERVER['REQUEST_URI'].</p>\n\n<pre><code>worker_processes  1;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        location / {\n            root   html;\n            index  index.php index.html index.htm;\n\n\n           try_files $uri $uri/ /index.php;\n\n        }\n\n                include mime.types;\n\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        location ~ \\.php$ {\n            root           html;\n            fastcgi_pass   127.0.0.1:9000;\n            fastcgi_index  index.php;\n            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            include        fastcgi_params;\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13225427,"title":"In model-view-control is it ok for the model to tell the view how an item should be displayed?","body":"<p>I have a <em>Compressor</em> component in my model: </p>\n\n<pre><code>public class Compressor extends MComponent {    \n\n    public static final double THRESHOLD_MAX = 1; \n    public static final double THRESHOLD_MIN = 0;\n    public static final double THRESHOLD_DEFAULT = 1; \n    private double threshold; \n\n    /* &lt;snip&gt; - many other parameters*/\n\n    public void setThreshold(double v)      { this.threshold = v; }\n}\n</code></pre>\n\n<p>And for this particular application, I have a GUI I'm constructing with Java Swing, which adds sliders, buttons etc to display and control the Compressors parameters.</p>\n\n<p>Now some of these sliders should operate on a linear scale, while others should operate on a logarithmic/expontial scale (where a move of the slider will make a small change of value in the lower end, and a large change of value at the upper end).  </p>\n\n<p>I have a GuiConstructor class that handily creates sliders and and their move events, so that they'll act appropriately given a Min value, max value, Exponential/Linear type, and a q value (for exponential types). </p>\n\n<pre><code>    gc.addSliderPanel(\n            panel,\n            \"Threshold\",\n            Compressor.THRESHOLD_MIN,\n            Compressor.THRESHOLD_MAX,\n            c.getThreshold(),\n            GuiConstructor.Scale.LINEAR, /*&lt;-- this line*/\n            0,\n            new SetThreshold(c),\n            DEFAULT_SLIDER_GRAINS,\n            GuiConstructor.SliderValueType.FLOAT); \n</code></pre>\n\n<p>The question is - should I be declaring the display type in the <em>view</em> or would be ok to specify the display type in the <em>model</em>? </p>\n\n<p>eg.</p>\n\n<pre><code>public class Compressor extends MComponent {    \n\n    public static final double THRESHOLD_MAX = 1; \n    public static final double THRESHOLD_MIN = 0;\n    public static final double THRESHOLD_DEFAULT = 1;\n    public static final GuiConstructor.Scale THRESHOLD_SCALETYPE = GuiConstructor.Scale.LINEAR;  \n    private double threshold;           \n</code></pre>\n\n<p>I like the idea of specifying it in the model, as I only need to think about the display parameters when I create each component, rather than when I'm putting it together. </p>\n"},{"tags":["c#","asp.net","mysql","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":256,"score":2,"question_id":5909381,"title":"Generate database from model using MySQL as database","body":"<p>I am using ASP.Net MVC2.  I have a model with database design, and need to create a database from that model using MySQL as the back end.</p>\n\n<p>I right-click on the model and select the <code>generate database from model</code> option, then I select MySQL as back end.  </p>\n\n<p>After that I can get a SQL query to execute. But when I execute the query, MS SQL Server is executing instead of MySQL. </p>\n\n<p>Do you know how to make a database from the model using MySQL.</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":57,"score":6,"question_id":13222954,"title":"Is it bad design to have models using both Observer and Observable in Java?","body":"<p>This question pertains to MVC (Model-View-Controller). My Model currently updates my View when it has changed using the Observer / Observable pattern in Java:</p>\n\n<pre><code>public class Model extends Observable {\n}\n\npublic class View implements Observer {\n\n    @Override\n    public void update(observable o, Object obj) {\n        // ... update the view using the model.\n    }\n\n}\n</code></pre>\n\n<p>This works fine. However, my model is growing more complex - it's starting to hold Lists of other classes:</p>\n\n<pre><code>public class Model extends Observable {\n    List&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\n}\n\npublic class Person {\n    private String name = \"\";\n    // ... getter / setter for name\n}\n</code></pre>\n\n<p>My problem is: when a Person's name changes I want to update the view listening to the model which contains that person. The only way I can think of is to have Model implement an Observer class and have Person extend an Observable class. Then, when Person changes, he notifies his observers (which would include the parent Model).</p>\n\n<p>However, this seems like a lot of work if my models get complex. Are there any better ways to \"bubble-up\" changes to the parent model?</p>\n"},{"tags":["php","database","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13217782,"title":"PHP and true MVC structure with an advanced database structure","body":"<p>I'm busy developing the first phase of a hotel booking system based on a pure PHP MVC structure. I tried getting acquainted with the libraries like Cake and CodeIgniter but I wasn't comfortable with how little control I had.</p>\n\n<p>So I opted to build my own mini framework which has worked out quite well for me so far. Now, the database structure I'm using is rather complex. There are quite a few many-to-many relationships and one-to-many relationships. I opted to not enforce any referential integrity in the database itself as I believe that should be done at a programming level to avoid frustration later on - things don't always work as planned and I find it easier to figure out what's going on programmatically than in an SQL database with less then explanatory error messages</p>\n\n<p>SO, to the crux - the decision I'm struggling to make is where to place those arbitrary SQL statements to do with relationships between my different objects.</p>\n\n<p>So, for example, I have two objects - users and properties. In this relationship, users are owners of properties that might house a room that will be rented out. In my Users object model (MVC) I have methods like 'insert', 'delete', 'update', 'getUser', 'userExists'. Similar methods exist in my properties model.</p>\n\n<p>Each model extends a Database class that I created to leverage a connection to the database.</p>\n\n<p>In this structure, where and how do I manage the relationships between these objects? The relationship is Properties_has_Users -> it's may-to-many. Where do I create the insert, update and delete methods for the relationship? In it's own object called \"Properties_Users_Relationships? In the controller of one of the objects?</p>\n\n<p>I'm new to these forums and in fact in my three years of development I've never posted on a forum - just read them so please let me know if there's something else you'd like me to post to reference or make it clearer.</p>\n\n<p>Thanks </p>\n"},{"tags":["java","swing","mvc","listener","mouselistener"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13217684,"title":"Java MVC - problems adding a MouseListener","body":"<p>I am a Java student and just ended the basic functionality of a little command line card game. The game is a simplified version of Magic-type trading card game. There is no AI, you play against yourself or another human player. </p>\n\n<p>At this point, i am trying to add some GUI to it using MVC, but <strong>i'm finding problems adding a MouseListener to a button</strong>.</p>\n\n<p>This is a brief explanation of what's going on:</p>\n\n<ul>\n<li>I have a <code>Model</code> class, that extends <code>Observable</code> by inheritance of a superclass</li>\n<li>A <code>View</code> class, that implements <code>Observer</code>.</li>\n<li>And a <code>Controller</code> class that extends <code>MouseAdapter</code></li>\n</ul>\n\n<p>Then i put everything together:</p>\n\n<pre><code>....\n\nView view = new View();\nModel model = new Model();\n\nmodel.addObserver( view );\n\nController controller = new Controller();\n// associate Controller's Model and View objects\ncontroller.addModel(model);\ncontroller.addView(view);\n\nview.addController(controller); // i try to add the MouseListener\n\n....\n</code></pre>\n\n<p>The addController() method of View is:</p>\n\n<pre><code>public void addController(Controller controller){\n            this.myButton.addMouseListener( controller )\n}\n</code></pre>\n\n<p>I already checked that <code>addController()</code> method is being called (println something inside it), but the Listener is not being set for some reason: <code>mouseReleased()</code> is never called when i click the button.</p>\n\n<p>Any thoughts or any step that i may have overlooked? Appreciate.</p>\n\n<p><strong>Edit (Controller code):</strong></p>\n\n<pre><code>public class Controller extends MouseAdapter {\n\n    Model model;\n    View view;\n\n    public void addModel(Model m){\n            this.model = m;\n    }\n\n    public void addView(View ui){\n            this.view = ui;\n    }\n\n    // All @Overrides\n\n    @Override\n    public void mouseReleased(MouseEvent me) {\n        System.out.println(\"oh, it arrived\");\n    }\n}\n</code></pre>\n"},{"tags":["json","mvc","monotouch"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":920,"score":1,"question_id":8450720,"title":"Monotouch: Deserialize JSON from MVC to Montouch","body":"<p>In my test vb.net MVC web app, I have this json....</p>\n\n<pre><code>Public Class Person\n    Public Property Name As String\n    Public Property Age As Byte\n    Public Sub New(name As String, age As Byte)\n        Me.Name = name\n        Me.Age = age\n    End Sub\nEnd Class\n\nFunction GetPerson() As JsonResult\n    Dim p As New Person(\"John Doe\", 50)\n    Return Json(p, JsonRequestBehavior.AllowGet)\nEnd Function\n</code></pre>\n\n<p>And in Monotouch I've got this...</p>\n\n<pre><code>JsonObject j;\nUri address = new Uri(\"http://mysite/home/GetPerson\");\nHttpWebRequest httpReq = (HttpWebRequest)HttpWebRequest.Create (address);\nusing (HttpWebResponse httpRes = (HttpWebResponse)httpReq.GetResponse ()) {\n    Stream s = httpRes.GetResponseStream ();\n    j = (JsonObject)JsonObject.Load (s);\n}\n</code></pre>\n\n<p>And this class...</p>\n\n<pre><code>Public Class Person {\n    Public string Name { get; set; }\n    Public byte Age { get; set; }\n}\n</code></pre>\n\n<p>How do I parse the JsonObject j into class of Person? .. I hoped for something like Person p = (Person)j.value;</p>\n\n<p>Thanks!\nMojo</p>\n"},{"tags":["java","mvc","spring-mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13203952,"title":"Spring Form Handling Form Exeption","body":"<p>When i go to form site <code>Spring</code> thorow exeptions:</p>\n\n<pre><code>01:34:09,257 ERROR [org.springframework.web.servlet.tags.form.LabelTag] (http-localhost-127.0.0.1-8080-1) Neither BindingResult nor plain target object for bean name 'name' available as request attribute: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'name' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:141) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:174) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getPropertyPath(AbstractDataBoundFormElementTag.java:194) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.autogenerateFor(LabelTag.java:129) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.resolveFor(LabelTag.java:119) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.writeTagContent(LabelTag.java:89) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspx_meth_form_005flabel_005f0(person_jsp.java:112)\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspService(person_jsp.java:67)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:253) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:840) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:560) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:488) [jbossweb-7.0.13.Final.jar:]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1047) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:817) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\n    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_09]\n\n01:34:09,275 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/SpringMVCreName].[jsp]] (http-localhost-127.0.0.1-8080-1) Servlet.service() for servlet jsp threw exception: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'name' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:141) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:174) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getPropertyPath(AbstractDataBoundFormElementTag.java:194) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.autogenerateFor(LabelTag.java:129) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.resolveFor(LabelTag.java:119) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.writeTagContent(LabelTag.java:89) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspx_meth_form_005flabel_005f0(person_jsp.java:112)\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspService(person_jsp.java:67)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:253) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:840) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:560) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:488) [jbossweb-7.0.13.Final.jar:]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1047) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:817) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\n    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_09]\n\n01:34:09,292 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/SpringMVCreName].[mvc-dispatcher]] (http-localhost-127.0.0.1-8080-1) Servlet.service() for servlet mvc-dispatcher threw exception: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'name' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:141) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:174) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getPropertyPath(AbstractDataBoundFormElementTag.java:194) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.autogenerateFor(LabelTag.java:129) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.resolveFor(LabelTag.java:119) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.writeTagContent(LabelTag.java:89) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspx_meth_form_005flabel_005f0(person_jsp.java:112)\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspService(person_jsp.java:67)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:253) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:840) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:560) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:488) [jbossweb-7.0.13.Final.jar:]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1047) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:817) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\n    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_09]\n</code></pre>\n\n<p>I have form <code>person.jsp</code>:</p>\n\n<pre><code>&lt;%@taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\"%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Person form&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form method=\"POST\" action=\"addPerson.html\"&gt;\n\n        &lt;form:label path=\"name\"&gt;&lt;/form:label&gt;\n\n        &lt;form:label path=\"lastName\"&gt;&lt;/form:label&gt;\n\n        &lt;form:label path=\"age\"&gt;&lt;/form:label&gt;\n\n        &lt;input type=\"submit\" value=\"Add Contact\" /&gt;\n\n    &lt;/form&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And controler:</p>\n\n<pre><code>@Controller\npublic class FormControler {\n\n    @RequestMapping(value=\"/addPerson\", method = RequestMethod.POST)\n    private void contrler(@ModelAttribute(\"person\")Person person, BindingResult result) {\n\n        System.out.println(\"Name \"+person.getName());\n\n    }\n    @RequestMapping(value=\"/person\", method = RequestMethod.GET)\n    public ModelAndView showContscts() {\n\n        return new ModelAndView(\"person\", \"command\", new Person());\n    }\n\n}\n</code></pre>\n\n<p>And <code>Person.java</code>:</p>\n\n<pre><code>public class Person {\n\n    private String name;\n    private String lastName;\n    private String age;\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getAge() {\n        return age;\n    }\n    public void setAge(String age) {\n        this.age = age;\n    }\n\n\n}\n</code></pre>\n\n<p>Also <code>index</code> site wih <code>&lt;a href</code>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n    &lt;a href=\"person\"&gt;Person&lt;/a&gt;\n\n&lt;/body&gt;\n&lt;/\n</code></pre>\n"},{"tags":["ios","mvc","design-patterns","observer-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13215032,"title":"NSTimer in a controller, how to notify the view?","body":"<p>In my iOS application, when the user pushes a button in a view, a NSTimer is trigered in the controller.\nOn the third tick, I would like to make the background of the view bliking.</p>\n\n<p>I've written the blinking function in the view (it should't be written in the controller, should it ?)</p>\n\n<p>I can trigger this blinking function in the controller by</p>\n\n<pre><code>LostView *lostView = (LostView* ) self.view;\n[lostView blinkBackground];\n</code></pre>\n\n<p>But it's bad, isn't it ? The controller shoudn't know the view neither the name of the function ?\nI would like to apply the MVC pattern</p>\n\n<p>Is the observer/obervable pattern applicable in this situation ?</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","frameworks","node.js"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":2889,"score":6,"question_id":6651146,"title":"State of the art in MVC frameworks for node.js?","body":"<p>I'd very much like to have some idea of the state of the art of MVC frameworks for <strong>node.js</strong>. Specifically, current commercial practice of the art, not research, with frameworks for front-end web apps. As a PHP programmer might choose Yii Frameworkwhat are the options for node.js programmers and what are the pros and cons for the main contenders?</p>\n"},{"tags":["php","asp.net-mvc","mvc","activerecord"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13214625,"title":"What is the best place to put logic that merges two activerecord lists for presentational purposes in an MVC app?","body":"<p>I have a few instances where I need to merge two or more lists of different activerecord models, filter the merged list based on some criteria and potentially sort it for presentational purposes.  Where would you typically perform this type of logic in an MVC application?  One idea I had was to adopt some methodology similar to the viewmodel pattern used in MVC.net for this PHP app I am building.</p>\n\n<p>Here is what I was thinking</p>\n\n<pre><code>public class myViewModel\n{\n    private $modelList1;\n    private $modelList2;\n\n    public  $mergedList;\n\n    public function __construct($myModelList1, $myModelList2)\n    {\n            $this-&gt;modelList1 = $myModelList1;\n            $this-&gt;modelList2 = $myModelList2;\n\n            mergeLists();\n            filterList();\n            sortList();\n    }\n\n    private function mergeLists\n    {\n            // sets $mergedList based on $modelList1 and $modelList2\n    }\n\n    private function filterList\n    {\n            // filters $mergedList\n    }\n\n    private function sortList\n    {\n            // sorts $mergedList\n    }\n}\n</code></pre>\n\n<p>After the viewmodel has been constructed, it would be passed to the view by the controller and the view could access the $mergedList property.</p>\n\n<p>Is this a reasonable way to handle this or is there a better way?  I assume it belongs in some kind of model other than an activerecord model and I didn't think a service was the proper place though I could be wrong...\nAlso would you say this logic is domain logic or presentation logic?</p>\n"},{"tags":["spring","mvc","spring-security"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":71,"score":3,"question_id":13211021,"title":"Spring security, bypass login page after changing password","body":"<p>I'm relatively new to Java/Spring/MVC. I hope someone can shine some light on this, because this problem is about to ruin yet another weekend without getting solved.</p>\n\n<p>At the moment I'm working on a project, implementing a couple of RFC's. Each RFC has it's own 'challenges', ranging from changing hibernate queries and stored procedures to minor textual changes and adding extra fields to forms.</p>\n\n<p>The problem I am now facing has (I think) to do with Spring security.</p>\n\n<p>The present situation:<br>\nTo login to the application, user is presented by a login page (/user/login.jsp). After entering a username and password, user is sent to welcome page (/welcome/hello.jsp).</p>\n\n<p>If a user forgets their password, they use a link that will sent an email providing a link to a page (/welcome/newPassword?code=xxx) where a new password can be entered. Entering the Submit-button will do some validation, save the password in the database and displays a 'password changed' message on the page.\nTo enter the application, user will now have to login with the new password.</p>\n\n<p>What the customer wants:\nAfter submitting the new password, the user should be automatically logged in with the new password and redirected to /welcome/hello.jsp</p>\n\n<p>I searched the web, but couldn't find the scenario I was looking for (or maybe didn't recognize it!).</p>\n\n<p>What I thought would do the trick:</p>\n\n<p>I have this method in WelcomeController which presently handles the new password:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST)\npublic void newPassword(Model model, HttpSession httpSession, ModelAttribute(PASSWORD) Passwords password, BindingResult result) {\n    logger.debug(\"Posting password for new password\");\n    ScreenMessage message = null;\n\n    //\n    try {\n        // errors from initBinder - back to page\n        if (result.hasErrors()) {\n            return;\n        }\n\n        // Validate input: on error go back to form\n        passwordValidator.validate(password, result);\n        if (result.hasErrors()) {\n            return;\n        }\n\n        // Save password\n        passwordService.createNewOwnPassword(result, password);\n        if (result.hasErrors()) {\n            return;\n        }\n\n        // No errors\n        message = new ScreenMessage();\n        message.setText(CHANGED);\n        message.setArg(THIS_PASSWORD, 0);\n        model.addAttribute(MESSAGE, message);\n        httpSession.setAttribute(ACTION_READ, Boolean.TRUE);\n\n        // Errors are fatal.\n    } catch (Exception e) {\n        logger.error(\"ERROR-CHANGE-password for user: \" + password.getUser().getLoginName(), e);\n        result.reject(  ERROR_FATAL, new Object[] { password}, ERROR_FATAL);\n    } finally {\n        model.addAttribute(PASSWORD, password);\n    }\n}\n</code></pre>\n\n<p>I thought I could simply change this method to have it return a ModelAndView and use redirect:</p>\n\n<pre><code>ModelAndView mav = new ModelAndView(\"redirect:/welcome/hello\", (ModelMap) model);\n        return mav; \n</code></pre>\n\n<p>But: It keeps sending me to /user/login, exactly the page I don't want to go to...</p>\n\n<p>Extra information that could be handy:</p>\n\n<p>As far as I can tell the application is using Spring 2.5.</p>\n\n<p>(I hope relevant) Part of my security-applicationContext.xml:</p>\n\n<pre><code>    &lt;!--  always-use-default-target=\"true\" --&gt;\n    &lt;security:form-login login-page=\"/dyn/user/login\" \n        login-processing-url=\"/dyn/user/j_spring_security_check\"\n        default-target-url=\"/dyn/welcome/hello\" \n        always-use-default-target=\"true\"\n        authentication-failure-handler-ref=\"exceptionTranslationRouting\" /&gt;\n\n    &lt;security:access-denied-handler error-page=\"/dyn/welcome/hello\" /&gt;\n\n    &lt;security:logout logout-success-url=\"/dyn/user/logout\" invalidate-session=\"true\" /&gt;\n</code></pre>\n\n<p>Is my idea of redirecting to /welcome/hello too simple or am I just missing something small? </p>\n"},{"tags":["jquery","asp.net","ajax","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2849,"score":2,"question_id":8045345,"title":"MVC Jquery Ajax updating your Partial View","body":"<p>I have an MVC 3 application that is calling a Web Service it consumes to call Sharepoints API. The call takes roughly 6 seconds regardless of your results, so i have decided to add a async call using JQuery to provide the user with a waiting indicator. I have it almost competed, but i am unable to get the view to update with the returned data. I have narrowed it down to the view as when i get to the partial view that has the data, i have a break point in the ForEach loop and there is data in there and it is what i am expecting, but when i get to the View itself in the browser, the table is not populated. Here is my AJAX call that is started when a input button is clicked, which triggers great:</p>\n\n<pre><code>$(function () {\n            $(\"#ajax-indicator\").hide();\n        });\n\n        function getData() {\n            $(\"#ajax-indicator\").show();\n\n            $.ajax({\n                type: \"POST\",\n                url: \"/Home/MakeCall\",\n                // the URL of the controller action method \n                data: null,\n                // optional data          \n                success: function (result) {\n                    // do something with result  \n                    $(\"#ajax-indicator\").toggle();\n                },\n                error: function (req, status, error) {\n                    // do something with error     \n                }\n            });\n\n        }\n</code></pre>\n\n<p>Here is within the same View, a the indicator div that gets hidden, the button and lastly the Render partial.</p>\n\n<pre><code> &lt;div id=\"ajax-indicator\"&gt;\n        &lt;img alt=\"AJAX Indicator\" src=\"&lt;%= Url.Content(\"../../images/ajax-loader.gif\") %&gt;\" /&gt;\n    &lt;/div&gt;\n    &lt;div id='button'&gt;\n        &lt;% using (Html.BeginForm())\n           { %&gt;\n               &lt;input type=\"submit\" name=\"submit\" value=\"Get Data\" onclick=\"getData();\" /&gt;\n           &lt;% } \n        %&gt;\n    &lt;/div&gt;\n\n\n    &lt;% Html.RenderPartial(\"MakeCall\", ViewData[\"viewModel\"]); %&gt;\n</code></pre>\n\n<p>The partial page looks like this:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;AsyncCallTest.Models.SharepointModel&gt;\" %&gt;\n&lt;table border=\"1\"&gt;\n&lt;tr&gt;\n&lt;td&gt;Folder Name&lt;/td&gt;\n&lt;td&gt;Link&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n\n&lt;% if (Model != null)\n   {\n       foreach (var item in Model.FolderList)\n       {\n       %&gt;\n    &lt;td&gt; FolderName: &lt;%: item.FolderName%&gt;&lt;/td&gt;\n       &lt;%\n       }\n   }\n\n     %&gt;\n     &lt;/tr&gt;\n     &lt;/table&gt;\n</code></pre>\n\n<p>When i look at the item.FolderName I have data there, but we are getting nada. i feel like i am missing something silly. Any ideas?</p>\n"},{"tags":[".net","mvc","nhibernate","caching","evict"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13131796,"title":"NHibernate caching issue - When to call Evict?","body":"<p>I've run into an apparent caching issue where what's being returned by NHibernate is not matching up with what's in the DB.</p>\n\n<p>I believe this is level2 cache data.  It looks like I can use the Evict to do this, but <strong>when should the Evict method actually be called?</strong>  For my particular application, the data is going to be unique to the user and chances are the data provided will only be used once*.  </p>\n\n<p><strong>Can I disable Level2 caching for these sets of objects completely?</strong></p>\n\n<p><em>UPDATE 10/31</em></p>\n\n<p>My scenario is this: I have a shopping cart where the customer is going to be adding and removing items.  What I am doing is the following: before the updates to the cart are processed, I evict the <code>Cart</code> and <code>CartProduct</code> entities. Once this is done, I retrieve the list of <code>CartProducts</code> from the provider and return the view (this is happening in a .NET MVC Controller).  </p>\n\n<p><em>UPDATE 11/3</em></p>\n\n<p>The shopping cart has since been finished, and I ran into an issue that appeared to be related to the same NHibernate issue, but in fact was an MVC issue.  Deeper digging revealed that the HTML Helper extensions were overriding the value I supposed and replacing with what was in the Model state.  So a double whammy on this one.  Hope this helps someone.</p>\n"},{"tags":["iphone-sdk-3.0","mvc"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":2764,"score":2,"question_id":1185789,"title":"iPhone 3.0 SDK: stacked presentModalViewController calls or in series?","body":"<p>Here's the scenario: if this is a user's first time logging into my web service, I present a modal login view.  Upon success, the user may have multiple items in his/her account and must choose one of them before he/she can proceed with the rest of the app.</p>\n\n<p>I want to put up <em>another</em> modal view with a picker so the user can make the choice.</p>\n\n<p>All the examples I've seen of multiple modals presented are canned ones (like the email composer modal, with the people picker modal coming up over it), which is of no use because the code isn't available.</p>\n\n<p>When I try putting up the login modal, then dismissing it, then presenting the picker, I get a recursion somewhere with a selector being sent to subviews being sent to subviews being sent to ....</p>\n\n<p>Can anyone point me to some sample code?  </p>\n\n<p>I'm keeping a reference to the login view, so I figured I'd just pose the stack (well, two) modal views, then dismiss the login modal and they'd all go away (like the documentation says), but I can't seem to get this going.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ruby-on-rails","mvc","methods","routes","links"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":124,"score":3,"question_id":13182661,"title":"Rails 3 how do I use link_to to change the value of a boolean in the db?","body":"<p>Hey guys im trying to create a simple link that will allow an admin to approve a user on my website </p>\n\n<p>quite similar to what this guy was trying : <a href=\"http://stackoverflow.com/questions/7124781/in-rails-3-how-do-i-use-button-to-to-change-the-value-of-a-boolean\">In Rails 3 how do I use button_to to change the value of a boolean?</a></p>\n\n<p>im relatively new to rails so bear with me :)</p>\n\n<p>Heres how it was supposed to work :</p>\n\n<ol>\n<li>Admin clicks the link to approve a user</li>\n<li>The link calls the activate function in UsersController</li>\n<li>The active function calls that users model </li>\n<li>the user model updates the approved attribute to true and saves it</li>\n</ol>\n\n<p>and here's how i was going to do it </p>\n\n<p>in my users#index view</p>\n\n<pre><code> &lt;% @users.each do |user| %&gt; \n &lt;%= link_to 'Approve', :action =&gt; \"index\", :method =&gt; 'activate', :id =&gt; user.id, :class =&gt; 'btn btn-mini btn-danger' %&gt; \n&lt;% end %&gt; \n</code></pre>\n\n<p>in my userController</p>\n\n<pre><code>def activate\n  @user = User.find(params[:user])\n  @user.activate_user\nend\n</code></pre>\n\n<p>in my user model</p>\n\n<pre><code>def activate_user \n  self.approved = 'true'\n  self.save\nend\n</code></pre>\n\n<p>and my routes </p>\n\n<pre><code>devise_for :users, :controllers =&gt; { :registrations =&gt; \"registrations\" }\n\nresources :users do\n  member do\n    get 'activate'\n    put 'activate'\n  end\nend\n\nmatch \"users/:id/activate\" =&gt; \"users#activate\"\n</code></pre>\n\n<p>Now when i click the link (to approve users), im sent back to the user index page (like im supposed to) but the user field \"approved\" is still set to false :I</p>\n\n<p>the url i get after clicking the link : </p>\n\n<pre><code>  http://localhost:3000/users?class=btn+btn-mini+btn-danger&amp;id=2&amp;method=activate\n</code></pre>\n\n<p>Any ideas ? this is driving me nuts :)</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As suggested iv added the url to the link_to helper</p>\n\n<pre><code>&lt;% @users.each do |user| %&gt; \n  &lt;%= link_to \"Approve\", :controller =&gt; \"users\", :id =&gt; user.id, :action =&gt; \"activate\", :method =&gt; :put, :approved =&gt; true %&gt; \n&lt;% end %&gt;\n</code></pre>\n\n<p>When i click the helper link i get </p>\n\n<pre><code>wrong number of arguments (1 for 2) \n</code></pre>\n\n<p>in app/controllers/users_controller.rb:7:in `activate'</p>\n\n<pre><code>def activate\n  @user = User.find(params[:id])\n  @user.update_attribute(params[:user])\n  redirect_to \"/users?approved=false\"\nend\n</code></pre>\n\n<p>line 7 where the error is \n    @user.update_attribute(params[:user])</p>\n\n<p>what else should i put there ? </p>\n\n<p>oh and here is my route for this method</p>\n\n<pre><code>match \"/users/:id/activate\" =&gt; \"users#activate\"\n</code></pre>\n\n<p><strong>UPDATE V2</strong>\nokey so i have changed that update line to :</p>\n\n<pre><code>@user.update_attributes(@user.approved, \"true\")\n</code></pre>\n\n<p>and it seems to do everything i want it to do except changing the value to true ! </p>\n\n<p>ive also tried to use 1 for true (and the update_attribute function) and non-strings.. running out of ideas here lol</p>\n"},{"tags":["iphone","ios","xcode","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13206900,"title":"seperate view from controller","body":"<p>In order to respect the MVC pattern, I would like to dissociate the view from the controller.\nFor example </p>\n\n<ul>\n<li>QuestionView (inherits from UIVIew)</li>\n<li>QuestionViewController (inherits from UIViewController</li>\n</ul>\n\n<p>In my controller, I set the view self.view = ...</p>\n\n<p>But when I push a button in the view, it should call a method from the controller BUT the view souldn't know its controller right ?</p>\n\n<p>So how can I link the view to the controller ?</p>\n"},{"tags":["php","mvc"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13205864,"title":"Passing multiple parameters to index controller using CodeIgniter-like MVC","body":"<p>I am just beginning to learn PHP, so I apologize if this is a basic question. I am using what I understand to be a CodeIgniter-like MVC framework (NOT CI though - a homegrown framework) </p>\n\n<p>I am trying to pass two parameters to my index controller, each of which will display a different error message. The errors are generated from two individual post functions (i.e., if user's log in is incorrect and if email already exists at sign up).</p>\n\n<pre><code>public function index($error1=NULL, $error2=NULL) {\n\n$this-&gt;template-&gt;content = View::instance('v_index_index');\n$this-&gt;template-&gt;content-&gt;error1 = $error1;\n$this-&gt;template-&gt;content-&gt;error2 = $error2;\n\necho $this-&gt;template;\n\n}\n</code></pre>\n\n<p>What I am observing is that the only error displayed is the parameter that appears in the parentheses first (e.g., at index/index/error2 the error1 message is displayed). I've already tested the logic for determining the error type, so I know that is correct and believe it must have something to do with the above. </p>\n\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["javascript","mvc","drop-down-menu","viewdata","selectlist"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":6882,"score":1,"question_id":609063,"title":"Populating dropdownlist with selectlist in ViewData","body":"<p>I am trying to populate an HTML.Dropdownlist with a selectlist which is populated with a string value (a location address) and text (a location description) fields from a database call. I am passing the selectlist as viewdata to my view. The dropdown populates fine but when I go to use the value it is null or empty as seen by an alert I put in my javascript function. Here is the code Any ideas why \"this.locations.value\" is null:</p>\n\n<p>My View code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    var map;\n    var gdir;\n    var geocoder = null;\n    var addressMarker;\n\n\n    function setDirections(fromAddress, toAddress, locale) {\n\n        alert(toAddress);\n        gdir.load(\"from: \" + fromAddress + \" to: \" + toAddress,\n        { \"locale\": locale });\n    }\n\n&lt;/script&gt;\n\n      &lt;div id=\"maincontent2\"&gt;\n      &lt;form action=\"#\" onsubmit=\"setDirections(this.from.value, this.locations.value, 'en_US'); return false\"&gt;\n\n        &lt;table&gt;\n        &lt;tr&gt;&lt;th align=\"left\"&gt;From:&amp;nbsp;&lt;/th&gt;\n\n        &lt;td align=\"left\" &gt;&lt;input type=\"text\" id=\"fromAddress\" name=\"from\" size=\"35px\"\n        value=\"King of Prussia, PA\"/&gt;&lt;/td&gt;\n        &lt;th align=\"left\"&gt;&amp;nbsp;&amp;nbsp;To:&amp;nbsp;&lt;/th&gt;\n        &lt;td align=\"left\"&gt; &lt;%= Html.DropDownList(\"locations\",(SelectList)ViewData[\"OfficeLocations\"])%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n        &lt;td&gt;&lt;/td&gt;\n        &lt;td align=\"left\"&gt;\n        &lt;br /&gt;\n        &lt;input name=\"submit\" type=\"submit\" value=\"Get Directions!\" /&gt;\n        &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;table&gt;\n        &lt;tr&gt;\n        &lt;td valign=\"top\"&gt;&lt;div id=\"drv_directions\" style=\"width: 250px\"&gt;&lt;/div&gt;&lt;/td&gt;\n        &lt;td valign=\"top\" style=\"padding-top:15px\"&gt;&lt;div id =\"map_canvas\"&gt;&lt;/div&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;      \n     &lt;/form&gt;\n</code></pre>\n\n<p>My Controller Code:</p>\n\n<pre><code>    public ActionResult Directions()\n    {\n        uls_dbDataContext ulsdb_dc = new uls_dbDataContext();\n\n        ViewData[\"OfficeLocations\"] = new SelectList(ulsdb_dc.GetOfficeLocations(),\"location_address\", \"location_name\");\n\n        ViewData[\"Title\"] = \"Directions\";\n\n        return View();\n    }\n</code></pre>\n"},{"tags":["javascript","mvc","angularjs","meteor"],"answer_count":1,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":187,"score":0,"question_id":13150826,"title":"Using AngularJS with MeteorJS","body":"<p>So I am fairly new to both of these technologies. My plan was to implement the Peepcode Tunes project that they made with Backbone ( <a href=\"https://github.com/philipkobernik/backbone-tunes\" rel=\"nofollow\">https://github.com/philipkobernik/backbone-tunes</a> ) with MeteorJS and then try implementing it using MeteorJS with the AngularJS addon. Someone has already done it all in just Angular: <a href=\"https://github.com/angular/peepcode-tunes\" rel=\"nofollow\">https://github.com/angular/peepcode-tunes</a></p>\n\n<p>Most things went pretty smoothly. You can see what I have so far at:</p>\n\n<p>Just Meteor: <a href=\"https://github.com/Jonovono/Meteor-peepcode-tunes\" rel=\"nofollow\">https://github.com/Jonovono/Meteor-peepcode-tunes</a>\nMeteor and AngularJs: <a href=\"https://github.com/Jonovono/Meteor-angular-peepcode-tunes\" rel=\"nofollow\">https://github.com/Jonovono/Meteor-angular-peepcode-tunes</a></p>\n\n<p>I really enjoy working with Angular and being able to pass things from the view like: </p>\n\n<pre><code>ng-click=\"pl.add(album)\"&gt;\n</code></pre>\n\n<p>Which seems more complicated when just using Meteor.</p>\n\n<p>However one question I am having. Say I want to save the playlist every time a album is added/removed. So that if the page is refreshed it still is there. I don't know the best way to do this and when using AngularJS with Meteor I am confused how this should be done. </p>\n\n<p>Right now when using Angular and Meteor I do something like this:</p>\n\n<pre><code>$scope.Playlist = new Meteor.AngularCollection(\"playlist\", $scope);\n$scope.playlist = $scope.Playlist.findOne({});\n\n    $scope.pl.add = function(album) {\n    if ($scope.playlist.indexOf(album) != -1) return;\n    $scope.playlist.push(album);\n    $scope.playlist.$save();\n};\n</code></pre>\n\n<p>However that does not seem to save it to the database. But if I were to do something like:</p>\n\n<pre><code>    album.title = \"CHANGED\"\n    album.$save()\n</code></pre>\n\n<p>It seems like it would save this to the database.</p>\n\n<p>I am sure I am just missing something small in regards to Meteor or the AngularJS add on to it. Any enlightenment would be awesome!</p>\n"},{"tags":["ruby-on-rails-3","mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13186963,"title":"How does the MVC pattern work in Ruby On Rails","body":"<p>I'm still trying to understand MVC in Rails, but so far I've deduced the following:</p>\n\n<ul>\n<li>The <strong>Controller</strong> is very thin, and uses the <strong>Models</strong> to construct the data to send back to the <strong>View</strong>.</li>\n<li>The <strong>Models</strong> are not like <a href=\"http://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow\">DTOs</a>, but rather they contain all the necessary biz logic to return data to the Controller.</li>\n<li>The View doesn't receive Models per say, it just receives properties defined in the corresponding <strong>Actions</strong> in the Controller.</li>\n</ul>\n\n<h2>Questions</h2>\n\n<p>So, I have a few questions:</p>\n\n<ol>\n<li><p><strong>Is my assumption of how MVC works in Rails correct</strong>, if not how does it work?</p></li>\n<li><p>If it is correct, that means that <strong>Models</strong> are never sent to the Views?</p></li>\n<li><p>If all the biz logic is in the Models, and so your Models have explicit dependencies then:</p>\n\n<ul>\n<li>how do you abstract say, your data access layer from the Controllers if the Models have explicit dependencies (say on Mongodb) and your Controllers and Models are so closely bound?</li>\n</ul></li>\n</ol>\n\n<p><em><strong>NOTE:</strong> What do I mean by explicit dependencies</em>:</p>\n\n<p>In <a href=\"https://github.com/RailsApps/rails3-mongoid-devise\" rel=\"nofollow\">this best practices Ruby On Rails sample</a> you'll notice the <a href=\"https://github.com/RailsApps/rails3-mongoid-devise/blob/master/app/models/user.rb\" rel=\"nofollow\">Users Model implements Mongoid directly</a>.</p>\n"},{"tags":["php","sql","mvc","relational-database","models"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13200282,"title":"The best way to organize MVC Model without using ORM?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5863870/how-should-a-model-be-structured-in-mvc\">How should a model be structured in MVC?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm playing around with my own little MVC framework. Until now I was using Doctrine for Object Relation Mapping and this was nice. At first it looked as the best way to setup your MVC. The way I was using it was something like this, I had folder Application/Model and this is where I would put all of the Model files, like Doctrine Entities, Services that would do some global tasks, validators etc... So Model was a folder where all of the meat of the MVC application would go. And then I would register Model folder as library with SPL Class loader and I was able to get any entity like this:</p>\n\n<pre><code>$users = new \\Application\\Model\\Entity\\User();\n</code></pre>\n\n<p>Now I decided to not use ORM since I dont really like it anymore, I wont talk about why but lets just say I want to use raw SQL instead of ORM. Now the question is what would be a proper way to organize my folder structure to achieve this?</p>\n\n<p>I'm thinking about creating new folder Tables in Model folder so I can have something like this: Application\\Model\\Tables\\User.php , and from that PHP file I can access all the actions on User table, like update, get, insert etc...</p>\n\n<p>Now the question is how would I organize my Model folder to use RDMS but without using ORM?\nSince Model is a layer, and Model should have Domain Objects and Data Mappers. Domain objects are objects representing current application Domain objects and Mappers would persist those Domain objects. How could I organize this to use raw SQL, but without ORM, and without building my own ORM?</p>\n\n<p>Is there any good framework that dosent use ORM or Active Record pettern so I could explore his code to see how are they doing this?</p>\n"},{"tags":["asp.net","mvc","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":2987513,"title":"How to show route default value?","body":"<p>I have a route:</p>\n\n<p><code>\n\"{culture}/{controller}/{action}/{id}\",\nnew { culture = \"en\", controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n</code></p>\n\n<p>The Url becomes\n<code>\n<a href=\"http://mysite.com\" rel=\"nofollow\">http://mysite.com</a>\n</code></p>\n\n<p>I want to show the culture name so that the url will look like this:\n<code>\n<a href=\"http://mysite.com/en\" rel=\"nofollow\">http://mysite.com/en</a>\n</code></p>\n"},{"tags":["objective-c","ios","mvc","database-design","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13197263,"title":"Core Data: Traverse managed objects relationships with an abstract entity in-between","body":"<p>I have the following Core Data model, in which <code>ProFormaPeriod</code> is a subclass of the <strong>abstract entity</strong> <code>FiscalPeriod</code>. In my fetch request, I would like to traverse from <code>CalendarPeriod</code> to <code>IBEstType</code>. </p>\n\n<p>How can I do this as <code>fiscalPeriod</code> is the only relationship I get offered in code completion and not <code>ProformaPeriod</code>. </p>\n\n<p>Would I need to model an additional direct relationship from <code>CalendarPeriod</code> to <code>ProformaPeriod</code>?</p>\n\n<p><img src=\"http://i.stack.imgur.com/RHvt3.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13197297,"title":"Are there any restrictions on which component in MVC that can hold a reference to?","body":"<p>As the title says:</p>\n\n<p>Are there any restrictions on which component in MVC that can hold a reference to?</p>\n\n<p>Can a view hold a reference to a controller? And so on..</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":13194658,"title":"Object null in PHP MVC","body":"<p>Why is object User null? $_GET[\"username\"] gives the correct string in NavigationView and I get the values that I want from the database. </p>\n\n<p>User</p>\n\n<pre><code>class User {\n\nprivate $m_id;\nprivate $m_username;\nprivate $m_description;\n\npublic function __construct($id, $username, $description) {\n    $this-&gt;m_id;\n    $this-&gt;m_username;\n    $this-&gt;m_description;\n\n}\n\npublic function getId() {\n    return $this-&gt;m_id;\n}\npublic function getUsername() {\n    return $this-&gt;m_username;\n}\npublic function getDescription() {\n    return $this-&gt;m_description;\n}\n}    \n</code></pre>\n\n<p>UserController</p>\n\n<p>user is null</p>\n\n<pre><code>class UserController {\n\n public function doControll(\\Model\\Database $db, \\Model\\UserHandler $userHandler) {\n\n    $user = \\View\\NavigationView::getCurrentUser($userHandler, $db);\n\n    $out-&gt;m_userHtml = $userView-&gt;showUser($user);\n\n    return $out;\n }\n}\n</code></pre>\n\n<p>NavigationView</p>\n\n<p>$username is not empty</p>\n\n<pre><code>class NavigationView {\n\n public static function getCurrentUser(\\Model\\UserHandler $userHandler, \n                                                        \\Model\\Database $db) {\n     if (isset($_GET[\"username\"])) {\n        $username = $_GET[\"username\"];\n        $ret = $userHandler-&gt;getUser($username, $db);\n                    return $ret;         \n     }\n }\n}\n</code></pre>\n\n<p>UserHandler</p>\n\n<p>I get the values that I want from the database</p>\n\n<pre><code>class UserHandler{\n\npublic function getUser($username, Database $db) {\n        $sql = \"SELECT * FROM user WHERE m_username = ?\";\n        $stmt = $db-&gt;Prepare($sql);\n\n        $stmt-&gt;bind_param(\"s\", $username);\n\n        $stmt-&gt;execute();\n\n        if ($stmt-&gt;bind_result($id, $username, $description) == FALSE) {\n                    throw new \\Exception($this-&gt;mysqli-&gt;error);\n            }\n\n\n         if ($stmt-&gt;fetch()) {\n\n            $ret = new User($id, $username, $description);       \n         } else {\n            throw new \\Exception(\"Could not find a user\");\n\n         }\n\n         $stmt-&gt;close();\n         return $ret;\n\n    }\n\n}\n</code></pre>\n\n<p>UserView</p>\n\n<pre><code>class UserView {\n\n public function showUser(\\Model\\User $user) {\n\n    $test = $user-&gt;getUsername();\n\n    return \"\n        &lt;div&gt;\n            &lt;h1&gt;$test&lt;/h1&gt;\n                    &lt;/div&gt;\n\n    \";\n\n }\n}\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc","migration"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13191273,"title":"Connect two entities in Rails","body":"<p>I've got two entities: Issue and Project and I need to connect them together. \nIn model/issue.rb I've got:</p>\n\n<pre><code>class Issue &lt; ActiveRecord::Base\n   attr_accessible :description, :estimate, :label, :status, :title\n   belongs_to :project\n   validates :title, :presence =&gt; true\n   validates :estimate, :numericality =&gt; {:greater_than_or_equal_to =&gt; 0.1}\nend\n</code></pre>\n\n<p>and in model/project.rb:</p>\n\n<pre><code>class Project &lt; ActiveRecord::Base\n   attr_accessible :description, :title\n   has_many :issues, :dependent =&gt; :destroy\nend\n</code></pre>\n\n<p>And now, I need to create issue under some (selected) project. I know project id, but I don't know it in issue controller. Can you tell me, what should I do? Do I need some new migrations or controllers? Thanks</p>\n\n<p>EDIT</p>\n\n<p>Ruby 1.8.7</p>\n\n<p>Rails 1.9.3</p>\n\n<p>Rake 0.9.2.2</p>\n\n<p>I made new migration:</p>\n\n<pre><code>def self.up\nadd_column :issues, :project_id, :integer, :null =&gt; false\nend\n</code></pre>\n\n<p>but there is no project_id column in issues table.</p>\n"},{"tags":["java","mvc","architecture","svg"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13193508,"title":"How many instances of View objects in MVC","body":"<p>I am trying to create a MVC application for editing SVG objects.\nI have classes like <code>Circle</code>, <code>Rectangle</code>, <code>Text</code> as Model and <code>CircleView</code>, <code>RectangleView</code> and <code>TextView</code> as View.</p>\n\n<p><em>Is it correct from the point of view of MVC to have for each instance of a shape (for example <code>Circle</code>) to have an instance of a View (like <code>CircleView</code>)?</em></p>\n\n<p>That would mean for 100 shapes drawn on the canvas I will get 100 View instances.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":40,"score":-2,"question_id":13116755,"title":"How to pass value from Parent View to Partial View on load","body":"<p>I am opening one edit Profile page in my view. I want to display skills of the person in his profile Page; his skills are stored in another table. Now I want to open one Partial View to show his skills. Please help me how to show the partial View.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","entity-framework","stored-procedures"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":293,"score":0,"question_id":10282061,"title":"HOw can I access two database in single .edmx file?","body":"<p>I have created mvc3 application.</p>\n\n<p>I have one <code>.edmx</code> already created which is based on <code>Db1</code> but now\nI have created a view which is based on <code>Database2</code> and I need to use this view inside my project.</p>\n\n<p>For that I need to update my EF <code>.edmx</code> file.\nbut when I right click and select option <code>Update model from Database</code>\ni'm only getting <code>all tables , view ,sps from</code>Db1<code>` its obvious\nBut as i need to use view which is from</code>Database2<code>how can i add it into my model</code>.edmx` file?\nplease help. </p>\n"},{"tags":["python","django","mvc","metaclass"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13189837,"title":"Django duplicate model definition/fields","body":"<p>Here's what I was using:</p>\n\n<pre><code>class a(models.Model):\n    x = models.CharField()\n\nclass b(a):\n    pass\n</code></pre>\n\n<p>The problem with this is that when an instance of b is created, an instance of a is also created, I'm guessing this is because b is inheriting some property that Django assigns such as the database table. I would like to have b have all the fields and methods so that this duplication does not happen. How can this be done <strong>without simply copy and pasting all the code from a to b or using an abstract base class c and have a and b both inherit from c (I'd like to only have two models/classes)?</strong> Would you have to use metaclasses?</p>\n"},{"tags":["javascript","mvc","routing","angularjs","angular"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":212,"score":2,"question_id":12524533,"title":"Can angularjs routes have default parameter values?","body":"<p>Can I set a default value of a parameter of a route in angularjs ? Is there a way to have '/products/123' and '/products/' handled by the same route ?</p>\n\n<p>I'm looking to refactor my existing code, which looks like:</p>\n\n<pre><code>myModule.config(['$routeProvider', function($routeProvider) {\n    $routeProvider.\n     when('/products/', {templateUrl: 'products.html', controller: ProductsCtrl}).            \n     when('/products/:productId', {templateUrl: 'products.html', controller: ProductsCtrl})\n}]);\n\n\nfunction ProductsCtrl($scope, $routeParams) {\n    $scope.productId = typeof($routeParams.productId) == \"undefined\" ? 123 : $routeParams.productId;\n}\n</code></pre>\n\n<p>It works, but it's not very elegant. Is there a better way ?</p>\n"},{"tags":["cocoa","mvc","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13190025,"title":"Coordination between classes in Cocoa","body":"<p>I have a program with a lot of controllers which need to co - ordinate with each other . I'm confused about which mechanism to use . What are the pro and con of using :</p>\n\n<ul>\n<li>Delegate</li>\n<li>Bindings</li>\n<li>Notifications</li>\n<li>Key Value observing</li>\n</ul>\n\n<p>Specifically is there any problem with using notifications all over place ? I'm planning to do that as it allows a class to just put out some information and not bother about anything else.</p>\n"},{"tags":["java","swing","mvc","design-patterns","swingworker"],"answer_count":3,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":246,"score":6,"question_id":12759619,"title":"MVC - SwingWorker with a long running process that should update the view","body":"<p><strong>How to obtain separation of the View from model when using a SwingWorker  with a long running process that should send updates back to the controller ?</strong> </p>\n\n<ul>\n<li><p>I can use the <code>SwingWorkers</code> <code>doInBackground()</code> to keep the EDT responsive by calling   e.g <code>model.doLongProcess()</code> from in there great!</p></li>\n<li><p>The issue I have is trying to get data back before the process is finished, to update the view with the progress..</p></li>\n<li><p>I know that I can get data back by using by using the <code>SwingWorkers</code> <code>publish()</code> method but this I think forces me to write the code for the <code>doLongProcess()</code> method within  <code>doInBackground()</code>.</p></li>\n</ul>\n\n<hr>\n\n<p>For reference the MVC implementation I have a looks a little like this:</p>\n\n<p><a href=\"http://www.leepoint.net/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow\">http://www.leepoint.net/notes-java/GUI/structure/40mvc.html</a></p>\n\n<pre><code>/ structure/calc-mvc/CalcMVC.java -- Calculator in MVC pattern.\n// Fred Swartz -- December 2004\n\nimport javax.swing.*;\n\npublic class CalcMVC {\n    //... Create model, view, and controller.  They are\n    //    created once here and passed to the parts that\n    //    need them so there is only one copy of each.\n    public static void main(String[] args) {\n\n        CalcModel      model      = new CalcModel();\n        CalcView       view       = new CalcView(model);\n        CalcController controller = new CalcController(model, view);\n\n        view.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>I have one Model Class which wraps a number of other classes together to a form simple interface for the controller.</p>\n\n<p>I really don't want to have to move all/some/any of the code from these Classes into the controller - It doesn't belong there.</p>\n\n<hr>\n\n<p><strong>Update:</strong> </p>\n\n<p>Here is the approach that I am taking - Its not the cleanest solution and It could be perceived as an abuse of <code>PropertyChangeSupport</code>.. on a semantic level.</p>\n\n<p>Basically all the low-level classes that have long running methods will have a <code>propertyChangeSupport</code> field. The long running methods call the <code>firePropertyChange()</code> periodically to update on the status of the method and not necessarily to report the change of a property - that is what I mean by semantic abuse!.</p>\n\n<p>Then the Model class which wraps the low level classes catches these events and issues its own highlevel <code>firePropertyChange</code> .. which the <code>controller</code> can listen for... </p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>To clarify, when I call firePropertyChange(propertyName, oldValue, newValue);</p>\n\n<ul>\n<li>propertyName ---> I abuse the propertyName to represent a topicname</li>\n<li>oldValue =null</li>\n<li>newValue = the message that I want to broadcast</li>\n</ul>\n\n<p>Then the PropertyChangeListener in the model or where ever can discern the message based on the topicname.  </p>\n\n<p>So Iv basically bent the system to use it like a publish-subscribe ....</p>\n\n<hr>\n\n<p>I guess in place of the above method I could add a progress field to the lowlevel classes that gets updated, and then firePropertyChange based on that.. this would fall into line with how its supposed to be used.</p>\n"},{"tags":["html","asp.net-mvc-3","mvc","drop-down-menu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2109,"score":0,"question_id":6333270,"title":"Populate @Html.DropDownList with a List<string> using MVC","body":"<p>I'm trying to populate a @Html.DropDownList with a List using MVC and Razor.\nBellow is my code for the controller. So I need to pick the list out of my ViewBag and fill the dropdownlist. </p>\n\n<pre><code>public ActionResult Register()\n    {\n        sparklingEntities context = new sparklingEntities();\n        var query = (from discs in context.Disciplines\n                     select discs).ToList();\n        List&lt;string&gt; listOfDiscs = new List&lt;string&gt;();\n        foreach (var item in query)\n        {\n            listOfDiscs.Add(item.Discipline);\n        }\n        ViewBag.ListOfDisciplines = listOfDiscs;\n        return View();\n    }\n</code></pre>\n\n<p>Thanks for the help.</p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":3,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":374,"score":7,"question_id":9440519,"title":"Symfony2 MVC: where does my code belong?","body":"<p>I'm seeking clarification on whether to put code in a controller, an entity or to make a service.</p>\n\n<p>I have 'cardset' and 'card' objects (where many of the latter are embedded in the former, MongoDB), represented by normal PHP classes/objects. These contain attributes e.g. 'id', 'postal_address'.</p>\n\n<p>I have a method that generates a PDF of a card. Currently I have that inside the 'Card' object so from a Controller I can call:</p>\n\n<pre><code>$card-&gt;makePDF()\n</code></pre>\n\n<p>That seems clean and OO to me, but I suspect I'm wrong.</p>\n\n<p>If I put all the logic in the controller that gets long and unwieldy, and I'm not sure the controller is the place for methods that act on my objects. Is that what services are for?</p>\n\n<p>To try and summarise: should an object know all the regular things it could do 'to itself' and have them inside as member functions, or should methods elsewhere be passed the object to act upon. If so, where should those methods be kept?</p>\n\n<p>I'm pretty sure it's not a 'Repository' because that just seems to help retrieve/store entities.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","model","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13177824,"title":"Yii: Following strict MVC rules to ensure that all the business logic is in appropriate places","body":"<p>Sticking to MVC basics in Yii, I am trying to embed my business rules in the model class but facing problem in implementing it. The problem at hand is to stop the user from making duplicate entries and code the function in model class that checks if the entry already exists in table. I want to write a method in my model class which would query the sames model's underlying table and if the new business entity exists, it simply returns false. If I code this in controller, I can achieve the desired functionality but I want to keep this in model so that where ever the model is used, I can access the method and also stick to MVC basics which dictates Thin Controllers and Thick Models. Thanks in advance.</p>\n"},{"tags":["mvc","frameworks","coldfusion"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":13172495,"title":"How to organize ColdFusion-based MVC application?","body":"<p>I want to move one of our existing apps (currently located in <a href=\"http://www.companywebsitegoeshere.com/myapp1\" rel=\"nofollow\">http://www.companywebsitegoeshere.com/myapp1</a>) to an MVC structure. </p>\n\n<p>As can be seen in the URL, there are <b>many</b> apps running in the website which I intend to move at some stage. I <b>don't have write access</b> to the wwwroot (/var/www/html in my case) and the webserver is used by multiple developers across the company.</p>\n\n<p>I'm hoping I can have the MVC framework core files/folders + my app all located in in 1 subfolder. In the case of myapp1, all the filers and folders will be inside /var/www/html/myapp1 subfolder.</p>\n\n<p>Can you please point me to the right direction (links/guides/docs/videos/etc)? I've looked at several like cfwheels/mach-ii/fw1 but they seemed to require wwwroot access.</p>\n"},{"tags":["mvc","javafx-2","fxml","scenebuilder"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13125653,"title":"Correct MVC approach for communication between classes of a custom component in JavaFX 2","body":"<p>I have a custom <code>JavaFX-2</code> component written in the <code>fxml</code> language (Which I'll referrer as child or children), which I used the <code>JavaFX Scene Builder</code> to create it. One of my view classes need to display several (~100) of those components and communicate with them.  With the <code>MVC</code> architecture in mind, what's the best approach for communication?</p>\n\n<ol>\n<li>(Container) Model -> (Children) Model</li>\n<li>(Container) Controller -> (Children) Controller</li>\n<li>(Container) Controller -> (Children) Model</li>\n</ol>\n\n<p>Basically I need at least to be able to monitor 2 case of events happening in the children UI and or in the container object. </p>\n\n<p><strong>Case 1</strong>: The user clicked a button (or interacted with another object) which exists inside my custom component (child), the container must be communicate about the change.</p>\n\n<p><strong>Case 2</strong>: The user triggered an event on the container, filtering the components based on a specific query for example, I need to communicate the children about this change.</p>\n\n<p>Thanks in advance for all the help. Cheers</p>\n"},{"tags":["php","mvc","joomla"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13160062,"title":"Joomla Component MVC variable passing between View and Controller","body":"<p>I am relatively new to Joomla and the way they implement an MVC arcitecture. It is slighty different to how I am used to it (Code Igniter, etc) and I am having a few issues simply passing data to the view.</p>\n\n<p>I have created a function in the controller called 'getInitClubs' which sould be run automatically when the page runs, therefore I have made a call to this function from the 'view.html' file.</p>\n\n<p>Here is my code:</p>\n\n<p>Controller function:</p>\n\n<pre><code>public function getInitClubs() {\n        $model =&amp; $this-&gt;getModel('directory');\n        $init_clubs = $model-&gt;clubResults($conds = array());\n        return $init_clubs;\n    }\n</code></pre>\n\n<p>Model Function:</p>\n\n<pre><code>public function clubResults($conds) {\n    $query = \"SELECT * FROM vyj20_contact_details\";\n    if(isset($conds['city'])) {\n        $query .= \" WHERE state = '\" . mysql_escape_string($conds['city']) . \"'\";\n    }\n    if(isset($conds['suburb'])) {\n        $query .= \" AND suburb = '\" . mysql_escape_string($conds['suburb']) . \"'\";\n    }\n    $this-&gt;_db-&gt;setQuery($query);\n    $results = $this-&gt;_db-&gt;loadObjectList();\n    return $results;\n}\n</code></pre>\n\n<p>Now i know the model and controller code works, this is not the issue, the issue is actually pulling the results from the controller function 'getInitClubs' and showing them through the view.</p>\n\n<p>How do I call the controller function from the view (like I would on Code Igniter MVC) in order to collect results for display? I have tried and tried but just can't seem to figure it out!\nThanks</p>\n"},{"tags":["mvc","charts","telerik"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":976,"score":4,"question_id":7147581,"title":"Telerik MVC Chart ClientEvents.OnDataBinding","body":"<p>I want to show a poll result for a specific poll question.\nWhen question list clicked i want to bind my chart with a query according to selected questionId.</p>\n\n<p>So my plan was;\n1. get questionId from selected question row. it's ok.</p>\n\n<ol>\n<li><p>defining ClientEvents.OndataBinding event on my chart. So i would be able to \npass questionId with; </p>\n\n<p>function onChartDataBinding(e) {\n        e.data = $.extend(e.data, { questionId: questionId });\n    }</p></li>\n<li><p>using <code>$('#ChartPollResults').data('tChart').rebind();</code> on question list grid row selected event.</p></li>\n</ol>\n\n<p>This scenario works when i have second grid binding according to first grids selected row.\nBut it seems there is no ClientEvents.OnDataBinding event on chart control.\nAnd \"<code>rebind()</code>\" method isn't supported on Chart control.</p>\n\n<p>The chart conrol i use is below.</p>\n\n<pre><code>@(Html.Telerik().Chart&lt;QuestionResult&gt;()\n                            .Theme(\"WebBlue\")\n                            .Name(\"ChartPollResults\")\n                            .Title(\"Poll Question Choice Number vs. Choice Count\")\n                            .Legend(legend =&gt; legend.Position(ChartLegendPosition.Bottom))\n                            .Series(series =&gt;\n                            {\n                                series.Bar(\"ChoseCount\").Name(\"Choice Count\").Gap(5);\n                            })\n                            .CategoryAxis(axis =&gt; axis.Categories(o =&gt; o.ChoiceNumber))\n\n                            .DataBinding(dataBinding =&gt; dataBinding.Ajax().Select(\"_PollResultChartBinding\", \"Poll\", new { questionId = 0 }))\n                            .HtmlAttributes(new { style = \"width: %100px; height: 270px\" })\n                    )\n</code></pre>\n\n<p>My Controller binding method;</p>\n\n<pre><code>public ActionResult _PollResultChartBinding(int questionId = 0)\n{\n            //questionId = 3;\n            if (!ModelState.IsValid || questionId == 0)\n                return Json(new List&lt;QuestionResult&gt;());\n\n            PollQuestionDefinition pollQuestion = service.Get(questionId);\n            List&lt;PollAnswer&gt; pollAnswers = service.GetPollAnswersByQuestion(questionId);\n            PollQuestionResultUI result = new PollQuestionResultUI(pollQuestion, pollAnswers);\n\n            return Json(result.Results);\n}\n</code></pre>\n\n<p>When i comment out <code>//questionId = 3;</code> line i can see the results for the question wiht Id= 3 in chart with no problem.</p>\n\n<p>But i can't pass questionId to chart.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13168174,"title":"MVC - Codeigniter - View talking to the model","body":"<p>In most of the posts I've seen on StackOverflow surrounding the MVC architecture, people have said that the model should only be communicated with from the controller, and not from the view.</p>\n\n<p>I'm a little confused about this, because when you Google MVC:\n-<a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a>\n-<a href=\"http://i.msdn.microsoft.com/dynimg/IC108622.gif\" rel=\"nofollow\">http://i.msdn.microsoft.com/dynimg/IC108622.gif</a>\nthe graphics seem to indicate that there is communication from the view directly to the model.</p>\n\n<p>The specific application I'm wondering about this for is an Ajax/jQuery hierarchical select box like the one here <a href=\"http://kotowicz.net/jquery-option-tree/demo/demo.html\" rel=\"nofollow\">http://kotowicz.net/jquery-option-tree/demo/demo.html</a>. After each selection I was thinking of getting the next box's data from the model. I'm using the Codeigniter framework.</p>\n\n<p>Just after some expertise around the best practice here.</p>\n"},{"tags":["c#","javascript","mvc","server-sent-events"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":13168306,"title":"How to let the function wait until event is fired?","body":"<p>On the server-side I've got a hook function that looks like this:</p>\n\n<pre><code>public ActionResult Hook(string token)\n{\n    try\n    {\n        ManualResetEvent Event = new ManualResetEvent(false);\n        int EID = (new Random()).Next(100, 10000000); Collective.SessionPool[token].EventPool.Add(EID, Event);\n        Event.WaitOne(); \n        Collective.SessionPool[token].EventPool.Remove(EID);\n        return new ServerSentEventResult()\n        {\n            Content = () =&gt;\n            {\n                return Serializer.Serialize(new EventResult() { Data = Collective.SessionPool[token].Data, Event = Collective.SessionPool[token].Event });\n            },\n            Version = (new Random()).Next(100, 10000000)\n        };\n    }\n    catch (Exception e)\n    {\n        return Content(\"Error: An error has occured on the hooked thread. Re-hook to try again.\");\n    }\n}\n</code></pre>\n\n<p><code>ServerSentEvent</code> Class looks like this:</p>\n\n<pre><code>public class ServerSentEventResult : ActionResult\n{\n    public delegate string GetContent();\n    public GetContent Content { get; set; }\n    public int Version { get; set; }\n\n    public override void ExecuteResult(ControllerContext context)\n    {\n        if (context == null)\n        {\n            throw new ArgumentNullException(\"context\");\n        }\n\n        if (this.Content != null)\n        {\n            HttpResponseBase response = context.HttpContext.Response;\n            response.ContentType = \"text/event-stream\"; response.BufferOutput = false; response.Charset = null;\n            string[] newStrings = context.HttpContext.Request.Headers.GetValues(\"Last-Event-ID\");\n            if (newStrings == null || newStrings[0] != this.Version.ToString())\n            {\n                try\n                {\n                    response.Write(\"retry:\" + (new Random()).Next(200, 350) + \"\\n\");\n                    response.Write(string.Format(\"id:{0}\\n\", this.Version));\n                    response.Write(string.Format(\"data:{0}\\n\\n\", this.Content()));\n                    response.End();\n                }\n                catch (HttpException e) { }\n            }\n            else\n            {\n                response.Write(String.Empty);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that when there are two clients connected one of the two can't reconnect after receiving the first event. This is because somehow an error occurs in the Hook function but when you try to look at the output manually it works and looks all perfectly fine. </p>\n\n<p>I'm thinking it has something to do with the way I handle the waiting process, this happens by halting the execution through a <code>ManualResetEvent</code>. It was the best I could find to let this happen. </p>\n\n<p>Could someone please help me out?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","design"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13166587,"title":"How to have different controllers/actions for one view","body":"<p>What is the best method to have one single view (I have one html page with different sections () sort of like mini pages on one page) and have different sections call different controllers and actions through that one view?\nBecause in layouts only one &lt;%= yield %> is acceptable?</p>\n"},{"tags":["php","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13158380,"title":"Interaction between \"fat model\" and controller","body":"<p>I'm trying to apply \"fat model\" principle, but I have no clue how to make interaction between \"fat model\" and controller correctly.</p>\n\n<p>Let's suppose that we have <code>Model_User</code>, <code>Controller_User</code> and <code>Model_User_Resource</code> (interacting with Db).</p>\n\n<pre><code>class Model_User\n{\n\n    public function register($data, $sendRegistrationEmail = false) {\n\n        //checking ACL rules\n        if (!$this-&gt;getAcl()-&gt;checkAcl('registration')) {        \n            throw new Acl_Exception();\n        }\n\n        //validating form\n        $F = new Form_User_Registration($data);\n        if (!$F-&gt;isValid()) {\n            return $F;\n        }\n\n        //inserting data and returning new user's id\n        $Resource = new Model_User_Resource();\n        $userId = $Resource-&gt;insert($data);\n\n        return $userId;\n\n    }\n\n}\n\nclass Controller_User\n{\n\n    public function registrationAction() {\n\n        $post = $this-&gt;getRequest-&gt;getPost();\n        $Model = new Model_User();\n        $result = $Model-&gt;register($post);\n\n        if ($result instanceof Form_User_Registration) {\n            //model has returned Form instance\n            return new Response(json_encode($result-&gt;getErrors()));\n        }\n\n        //registration was successful and we're doing some kind of redirect here, I suppose\n\n    }\n\n}\n</code></pre>\n\n<p>So, what's wrong with this code?\nModel could: throw Acl exception, return Form instance if some errors occured, return integer if success or any other exceptions.\nMy question is: <strong>Is it correct that Model is returning errors in this way? What is the best practice? Could this way be pain in the ass in the future?</strong></p>\n\n<p>Thank you!</p>\n"},{"tags":["javascript","mvc","internet-explorer-6","spine.js"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":639,"score":2,"question_id":7020987,"title":"Spine.js IE6 Support","body":"<p>So I've been looking at <a href=\"http://maccman.github.com/spine/\" rel=\"nofollow\">Spine.js</a> recently as an alternative to Backbone. However, in the documentation is states:</p>\n\n<blockquote>\n  <p>Works in all major browsers (Chrome, Safari, Firefox, IE >= 7)</p>\n</blockquote>\n\n<p>then in the comments on <a href=\"http://addyosmani.com/blog/building-apps-spinejs/\" rel=\"nofollow\">this</a> page some one says:</p>\n\n<blockquote>\n  <p>Spine doesn't seem to run in IE6 or IE7... Maybe even other Internet\n  Explorers.  Shouldn't this be pointed out? Backbone runs fine with\n  these. Am I just missing something?</p>\n</blockquote>\n\n<p>reply:</p>\n\n<blockquote>\n  <p>Maybe because of json? \"If you're using an older browser which doesn't\n  have native JSON support (i.e. IE 7), you'll need to include json2.js\n  which adds legacy support.\" (from the docs)</p>\n</blockquote>\n\n<p>This is literally ALL the information i could find on the subject. Does anyone know if ie6 is at all supported? If not I'm afraid I will not be able to use it...</p>\n"},{"tags":["javascript","jquery","ajax","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13151470,"title":"Override url and parse in Backbone collection","body":"<p>I want to override the collection for development purpose (return fake json results from a JSON var or JSON file). But I got error doing below with <code>url</code></p>\n\n<p><a href=\"http://jsfiddle.net/qhoc/uZhM8/\" rel=\"nofollow\">http://jsfiddle.net/qhoc/uZhM8/</a></p>\n\n<pre><code>GET http://fiddle.jshell.net/_display/[object%20Object],[object%20Object] 404 (NOT FOUND)\n</code></pre>\n\n<p>However, if I use <code>parse</code>, it seems the <code>parse</code> got executed right after <code>initialize</code> because of both my <code>console.log</code> results show the same thing</p>\n\n<p><a href=\"http://jsfiddle.net/qhoc/uZhM8/1/\" rel=\"nofollow\">http://jsfiddle.net/qhoc/uZhM8/1/</a></p>\n\n<p><strong>So how to override the <code>url</code> so that fetch can add another JSON at some point (in separate function)?</strong></p>\n"},{"tags":["asp.net","mvc","checkbox","unchecked"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":535,"score":0,"question_id":4341572,"title":"ASP.NET: How to make a checkbox always unchecked even post-submit","body":"<p>Just started learning how to develop a ASP.NET application, i am puzzled on how to make a checkbox is always unchecked even after form submit where a user tick the checkbox. The checkbox is for acknowledgment that user agrees to the terms and conditions ... and when form submit return some errors I want to display the error message on the screen and keep the checkbox unchecked regardless it was ticked or not.</p>\n\n<p>In my view I have the following:</p>\n\n<pre><code>&lt;%: Html.CheckBoxFor(m =&gt; m.UserAgreement) %&gt;\n</code></pre>\n\n<p>And I have tried both the following in my controller and none of them works:</p>\n\n<pre><code>ViewData[\"UserAgreement\"] = false;\n\nreturn View(new MyModel { UserAgreement = false});\n</code></pre>\n\n<p>Anyone can help on how to achieve what I need? Thank you.</p>\n"},{"tags":["c#","mvc","activedirectorymembership"],"answer_count":3,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":878,"score":6,"question_id":4671460,"title":"MVC Active Directory Membership","body":"<p>I am trying to make use of the active directory membership rather than SQL but there is very limited documentation available online.  I have managed to connect my application to the domain controller without any problems but when you use \"Context.User.Identity.Name\" it comes up with DOMAIN\\User.  I want to basically drill down and get information such as full name, e-mail address, etc.</p>\n\n<p>I just need a useful link and the searching I have done doesn't appear to have got me anywhere!</p>\n\n<p>Many thanks</p>\n"},{"tags":["mvc","mvvm"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":807,"score":3,"question_id":3739385,"title":"ASP.Net MVC and MVVM","body":"<p>MVVM is a Microsoft design pattern that existed before ASP.Net MVC. Can anyone through light on differences between MVVM and the new MVC pattern?. </p>\n"},{"tags":["c#","mvc","asp.net-mvc-3","gridview","c#-4.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":733,"score":0,"question_id":6139912,"title":"Expandable GridView Tree","body":"<p>What is the best way to make a Expandable TreeGridView in ASP.NET MVC 3.0 . \nSomething like this, A grid with a parent like treeview.</p>\n\n<blockquote>\n  <ul>\n  <li>1 AAAAA Description\n  <ul>\n  <li>20201 100 10 B</li>\n  <li>20203 300 15 C</li>\n  </ul></li>\n  <li>2 BBBBB Description B\n  <ul>\n  <li>20201 100 10 B</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>I need Something like this ... <a href=\"http://blogs.msdn.com/b/markrideout/archive/2006/01/08/510700.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/markrideout/archive/2006/01/08/510700.aspx</a></p>\n"},{"tags":["ruby-on-rails","mvc","model"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13144601,"title":"Where should I place a \"notify user\" method in a Rails app (or any MVC app)?","body":"<p>I have heard several views on MVC structure in a web application. Some people believe the model should be very small, and only contain ActiveRecord (or some other ORM) and small things like <code>validates</code> and <code>belongs_to</code>, so model's are only a couple lines long.</p>\n\n<p>I personally think the model can play a larger role in apps. For example, I need to notify a user frequently throughout my app. The notifications can trigger from multiple controllers. They all send a notification to a user based on his or her notification settings, which is an object accessible through the user model.</p>\n\n<p>I would like to make something like:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  #validations, relationships, etc\n\n  def notify(event)\n    notif = Notification.new\n    notif.type = event.type\n    notif.to = self.id\n    # etc\n\n    if notif.save\n      # send the notification based on the settings\n    end\n  end\nend\n</code></pre>\n\n<p>This would make it possible from any controller to use <code>@user.notify</code> to deliver messages to a user. This makes things really clean, but I realize there is some logic in my model. Not to mention the model makes another model.</p>\n\n<p>Another approach I wouldn't mind is creating the notification and sending it through that object. So controllers could do <code>Notification.new(:to =&gt; @user.id, ...)</code> and then deliver the message via a <code>Notification.send</code>. This would also put some logic in the Notification object so it knows how to send itself. In fact, I might like this approach better than creating the notification object through the User model.</p>\n\n<p>I don't mind these small bits of logic in the Model to make things convenient when sending messages from multiple controllers. Is this the best way to go about it? I suppose a more purist method is to include a NotificationHelper module in each controller that sends notifications?</p>\n\n<p>edit: I've been reading a bit about \"domain logic\" in models. It seems like this is encouraged, and I suppose the <code>notify</code> or <code>send</code> methods are considered domain logic. Can any developer experienced in MVC comment on this?</p>\n"},{"tags":["php","oop","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13143558,"title":"How can I make User class accessible to all in a PHP MVC?","body":"<p>I'm working on a PHP MVC but struggling to handle certain aspects of the design, making the User information accessible easily to everything is really puzzling me.</p>\n\n<p>I did have User as an abstract class so you could just use <code>User::getUserId()</code> but I'm not sure that was the right way to do it?</p>\n\n<p>I've now changed it to the following but it's not working.</p>\n\n<p><strong>The Problem</strong></p>\n\n<p>Say I have a basic controller where I want to instantiate the User class every time it's run:</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>class controller{\n\n    public $user;\n\n    function __construct(){\n\n        $this-&gt;user = new User();\n        $user-&gt;sessionRefresh();\n        $user-&gt;getUserId();\n\n    }\n}\n</code></pre>\n\n<p>and then I have a User model class that was instantiated:</p>\n\n<p><strong>User Model Class</strong></p>\n\n<pre><code>class User{\n\n    var $userId;\n\n    function sessionRefresh(){\n\n        if (isset($_SESSION['userId']) &amp;&amp; $_SESSION['created'] + 15 * 60 &lt; time())                  \n            session_regenerate_id();\n    }\n\n    function getUserId(){\n\n        $this-&gt;userId = $_SESSION['userId'];\n    }\n}\n</code></pre>\n\n<p>and then I have more controllers that extend the default controller:</p>\n\n<p><strong>Forum Controller</strong> - Very basic just to demo what I'm trying</p>\n\n<pre><code>class forumcontroller extends controller{\n\n    function __construct(){\n\n        require 'templates/forum.php';\n    }\n\n}\n</code></pre>\n\n<p><strong>Forum Template</strong> - Very basic example</p>\n\n<pre><code>&lt;html&gt;\n&lt;title&gt;Forum&lt;/title&gt;\n&lt;body&gt;\n    &lt;div&gt;Welcome User: &lt;?=$user-&gt;userId;?&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Is what I'm doing completely wrong?</p>\n\n<p>I've only recently tried to take the leap from procedural to mvc/oop in PHP and clearly it's confusing me still.</p>\n"},{"tags":["java","swing","mvc","arraylist","jlist"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13141732,"title":"When ArrayList is updated in Model JList should be updated in View","body":"<p>I've been playing around with this for a while now with no success.  I've had a look at ListModel but have struggled to implement it into my current project.</p>\n\n<p>I have a Producer class thread adding elements to an ArrayList in the Model.  This works fine and the ArrayList is being updated at runtime.  My problem is, I then want the new objects added to the ArrayList to be added to the JList in the View class.  I can't see how to incorperate ListModel or DefaultListModel into my current setup.  Help much appreciated.</p>\n\n<pre><code>public class Person\n{\n    private String name;\n    private int    age;\n\n    public Person(String name, int age)\n    {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public int getAge()\n    {\n        return age;\n    }\n\n    public String toString()\n    {\n        return this.name;\n    }\n}\n\npublic class Producer extends Thread\n{\n    private Model model;\n\n    public Producer(Model model)\n    {\n        this.model = model;\n    }\n\n    public void run()\n    {\n        Person fred     = new Person(\"Fred Flintstone\", 37);\n        Person wilma    = new Person(\"Wilma Flintstone\", 18);\n        Person pebbles  = new Person(\"Pebbles Flintstone\", 15);\n        Person dino     = new Person(\"Dino Flintstone\", 45);\n        Person barney   = new Person(\"Barney Rubble\", 76);\n        Person betty    = new Person(\"Betty Rubble\", 76);\n        Person bamm     = new Person(\"Bamm-Bamm Rubble\", 76);\n\n        try\n        {\n            model.addPerson(fred);\n            Thread.sleep(1500);\n            model.addPerson(wilma);\n            Thread.sleep(1500);\n            model.addPerson(pebbles);\n            Thread.sleep(1500);\n            model.addPerson(dino);\n            Thread.sleep(1500);\n            model.addPerson(barney);\n            Thread.sleep(1500);\n            model.addPerson(betty);\n            Thread.sleep(1500);\n            model.addPerson(bamm);\n        }\n        catch(Exception e)\n        {\n            System.out.println(\"Error adding Person object to Model.people\n                                ArrayList\" + e);\n        }\n    }\n}\n\npublic class Model \n{\n    private List &lt;Person&gt; people;\n\n    public Model()\n    {\n        people = new ArrayList&lt;Person&gt;();\n    }\n\n    public List&lt;Person&gt; getPeople()\n    {\n        return people;\n    }\n\n    public void addPerson(Person aPerson)\n    {\n        people.add(aPerson);\n        System.out.println(\"Person object added to people list:\" + aPerson);\n    }\n\n    public void removePerson(Person aPerson)\n    {\n        people.remove(aPerson);\n    }\n}\n\npublic class View extends JFrame\n{\n    private JPanel              topPanel, botPanel;\n    private JList               peopleList;\n    private JScrollPane         scrollPane;\n    private Model               model;\n\n    public View(Model model)\n    {\n        this.model = model;\n        setSize(200, 220);\n        setTitle(\"View\");\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        topPanel = new JPanel();\n        botPanel = new JPanel();\n        peopleList = new JList(model.getPeople().toArray());\n        scrollPane = new JScrollPane(peopleList);\n        topPanel.setLayout(new GridLayout(1, 1));\n        topPanel.add(scrollPane);\n        topPanel.setBorder(BorderFactory.createTitledBorder\n       (BorderFactory.createEtchedBorder(), \"People list\"));\n\n        Container cp = getContentPane();\n        cp.add(topPanel, BorderLayout.NORTH);\n        cp.add(botPanel, BorderLayout.SOUTH);\n    }\n}\n\npublic class Main \n{\n    public static void main(String[] args)\n    {\n        Model model = new Model();\n        View theView = new View(model);\n        theView.setVisible(true);\n        Producer producer = new Producer(model);\n        producer.start();\n    }\n}\n</code></pre>\n"},{"tags":["iphone","ios","mvc","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13140574,"title":"ios, code-reuse issue, reuse viewController?","body":"<p>I have a view controller(A) which shows a list of items download from server.  </p>\n\n<p>I have another view controller(B) with segmented control.<br>\nWhen second index of segmentedControl is selected, the view controller(B) shows a list of items in the same format as in the controller(A).<br>\nWhen first index of segmentedControl is selected, the view controller(B) shows the items in different format.  </p>\n\n<p>I want A and B share a code for the common stuff.</p>\n\n<p>I first thought ok I could move all the view-related code to \"common_view class\" and use the view class from both controllers.<br>\nBut, it turns out that there are codes which are not related to view(such as downloading stuff from server, which is controller-part of mvc pattern).  </p>\n\n<p>Now I'm perplexed, \"is it a good idea to share a controller-part code? is it even possible?\"  </p>\n\n<p>I could factor out a common code into a commonViewController, and instantiate it from controller(A) and controller(B), and add commonViewController.view as a subview.<br>\nBut is this really desirable? or do you suggest any better way to do this?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12963363,"title":"using routes.MapPath to accomadate missing URL oparameter","body":"<p>I have an MVC website which used to use URLs in the standard format of:  Controller/Action.</p>\n\n<p>Recently, I have changed it to:   Site/Controller/Action. </p>\n\n<p>The problem is, there are several links to my site out there which follow the old format, and I want to redirect them accordingly.</p>\n\n<p>for example: mydomain.com/Home/CustomerSearch now should go to mydomain.com/Online/Home/CustomerSearch</p>\n\n<p>whereas: mydomain.com/AffiliatesHome/CustomerSearch now should go to mydomain.com/Affiliate/AffiliatesHome/CustomerSearch</p>\n\n<p>How can I get it to handle the redirecting by putting in the extra routing, depending on the link they came in by?</p>\n\n<p>The current routing I am using is:</p>\n\n<p>routes.MapRoute(\n      \"Default\", // Route name\n      \"{site}/{controller}/{action}/{id}\",<br>\n      new {site=\"IS\", controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n   );</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13009730,"title":"Why does my dynamic viewdata not get listed in my partial view?","body":"<p>I have passed the value from controller </p>\n\n<pre><code>public ActionResult Index(int? Page, string sortcol=\"ID\", string sortorder=\"ASC\", string firstname = \"\", string lastname = \"\", string emailaddress = \"\")\n{\n     int TotalPages = 0;\n\n        var userlist = ur.GetUsersList(firstname, lastname, emailaddress, Page ?? 1, PageSize,out TotalPages, sortcol, sortorder);\n\n        ViewBag.PageIndex = 1;\n\n        ViewData[\"TotalPages\"] = TotalPages.ToString();\n\n        if (Request.IsAjaxRequest())\n        {\n            return PartialView(\"ListUsers\", userlist);\n        }\n        return View(userlist);\n    }\n</code></pre>\n\n<p>And in my parent view:</p>\n\n<pre><code>@Html.Partial(\"ListUsers\", Model, ViewData)\n</code></pre>\n\n<p>And in my child view (listusers):</p>\n\n<pre><code>@ViewData[\"TotalPages\"]\n</code></pre>\n\n<p>i cannot get the value of Viewdata totalpages. Why is it so?\nIt always returns zero.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","razor","telerik-grid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":43,"score":-2,"question_id":13098543,"title":"how to bind the dynamic data table in mvc grid asop.net","body":"<p>I need to bind the dynamic data table in mvc grid. Give some code, samples and examples. for the dynamic data binding\n Thank you </p>\n"},{"tags":["asp.net-mvc","mvc","model-binding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13110728,"title":"Use single view model for details, edit and list","body":"<p>My view model looks something like this:</p>\n\n<pre><code>public class CarViewModel {\n    public CarModel Car { get; set; }\n    public List&lt;CarModel&gt; Cars { get; set; }\n}\n</code></pre>\n\n<p><code>CarModel</code> looks like:</p>\n\n<pre><code>public class Car() {\n    public string Make { get; set; }\n    public string Model { get; set; }\n    . . .\n}\n</code></pre>\n\n<p>My goal is to only have a single view model that I can use for both my list views and single views. For the list view, I would hydrate the Cars list and use that within the view, while ignoring the single Car entity.</p>\n\n<p>For a details view, it would be the opposite. My controller would hydrate the single Car entity, and the view would use that and ignore the List.</p>\n\n<p>This is partially working, but the model binding is weak.</p>\n\n<p>DRY (don't repeat yourself) and SOC/SRP (separation of concerns/single responsibility principal) seem to be conflicting here. What's the best way to handle both a list view plus a details view? I have a feeling the answer is to create duplicate view models, but I don't want to duplicate code if I can help it.</p>\n"},{"tags":["html","mvc","ember.js","javascript-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13124251,"title":"Emberjs: reload current state when global action called","body":"<p>Suppose I enter the 'user' state in the following Ember code:</p>\n\n<pre><code>Html:    \n&lt;button {{action doSomething App.currentUsername}}&gt;Go!&lt;/button&gt;\n\nJS:\nApp.Router = Ember.Router.extend({\n    enableLogging: true,\n    root: Ember.Route.extend({\n        doSomething: Ember.Route.transitionTo('user'),\n        main: Ember.Route.extend({\n            route: '/'\n        }),\n        user: Ember.Route.extend({\n            route: '/:username',\n            connectOutlets: function(router, context) {\n                //some actions\n            }\n        })\n    })\n});\n</code></pre>\n\n<p>When 'doSomething' action is called again I want Ember to rerun the connectOutlets code (because the username would have changed). </p>\n\n<p>Putting the code in a 'doSomething' action inside 'user' doesn't work beacause I need the context.</p>\n\n<p>Any idea how to do that? </p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","learn"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":66,"score":-3,"question_id":13119710,"title":"Best ways learn mvc views","body":"<p>mvc concepts controller and model but I'm a little bit confused about creating views, how can I easily learn this? Is there any standard procedure?</p>\n"},{"tags":["mvc","mvvm","windows-8","mvp","winjs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":13127540,"title":"WinJS: does MVVM, MVP or MVC fit better with it?","body":"<p>I am building a simple Windows 8 LOB application using Javascript (WinJS) and HTML. In the application I would not like to have any third party dependencies. When deciding on the application structure I'm debating which pattern would fit best with the technology and the WinJS framework. </p>\n\n<p>My initial thoughts on the main advantages / disadvantages of using these patterns are as follow.</p>\n\n<p><strong>MVVM</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/RIEMJ.png\" alt=\"MVVM\"></p>\n\n<ul>\n<li>Pro: Clean separation of business logic in the ViewModel, making (unit)testing of the BL  easy</li>\n<li>Con: WinJS only has one-time and one-way databinding implemented out of the box, two-way databinding and commanding (binding to events) is not. These have to be implemented in a custom way (which can get tricky if one wants to stick with mostly declarative syntax on the view).</li>\n</ul>\n\n<p><strong>MVP</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/9j5Wl.png\" alt=\"MVP\"></p>\n\n<ul>\n<li>Pro: the presenter still contains all of the business logic together with the view logic and can be (unit)tested by itself. No data binding is needed in this approach.</li>\n<li>Con: both the View and the Presenter code will be more verbose than in the case of MVVM as they now have to notify each other on status changes. The View needs to forward events onto the Presenter and the Presenter has to update the View when its state changes.</li>\n</ul>\n\n<p><strong>MVC</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/2J3NX.png\" alt=\"MVC\"></p>\n\n<ul>\n<li>Pro: the View is very lightweight and no data binding is needed for this approach either.</li>\n<li>Con: the Controller has to register and handle input events (e.g. keyboard and mouse events) as well as contain the business logic. Compated to the ViewModel in MVVM and the Presenter in MVP this class would be the most bloated and somewhat more difficult to (unit) test.</li>\n</ul>\n\n<p>Based on these I would choose MVP to build this app. Could you agree with this or contradict?</p>\n"},{"tags":["php","ajax","mvc","design-patterns"],"answer_count":9,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":2696,"score":7,"question_id":719040,"title":"Kohana - where do you put AJAX scripts?","body":"<p>I am using <a href=\"http://kohanaphp.com/\">Kohana</a> but this question applies to Rails, CI, or any other MVC web development framework. Where is the best place to stick one's server side AJAX scripts? </p>\n\n<p>I was <em>planning</em> on creating an Ajax_Controller and using a method/action per individual script.</p>\n\n<p>For example, a login form on the home page <strong><code>index.php/home</code></strong> would send an XMLHttpRequest to <strong><code>index.php/ajax/login</code></strong>, and the edit profile form <strong><code>index.php/profile/edit</code></strong> would send an XMLHttpRequest to <strong><code>index.php/ajax/editprofile</code></strong>. What's the best practice?</p>\n"},{"tags":["jquery","mvc","backbone.js","coffeescript","requirejs"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":170,"score":0,"question_id":11776125,"title":"Coffeescript, RequireJS, Backbone - @ is out of scope","body":"<p>I have following code</p>\n\n<pre><code>define [\n  \"jquery\", \n  \"backbone\", \n  \"underscore\",\n  \"models/days\"\n], ($, Backbone, _, days) =&gt;\n\n  class Calendar extends Backbone.View\n\n    el          : \"#calendar_box\"\n    collection  : days\n\n    display: =&gt;\n      @collection.fetch_data\n        month :8\n        year  :2012\n      , @render\n\n    render: =&gt;\n      # console.log @collection - gives \"undefined\"\n      console.log @ # this returns \"Window\" instead of \"Calendar\" - current obj.\n\n  # return the calendar object\n  new Calendar()\n</code></pre>\n\n<p>It's a BackboneView in Coffeescript, which requests the server to get the days of the given month and year as a calendar.</p>\n\n<p>The data is returned fine, because I can check it in the Chrome console - the GET request and its response.</p>\n\n<p>However, within the \"render\" function, it looks like \"@\" is at the global level, instead of within the \"Calendar\" level. </p>\n\n<p>What happened here?</p>\n"},{"tags":["php","forms","mvc","handling"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13125699,"title":"A few questions about form handling with MVC","body":"<p>I'm working on a personnal project of website where eventually some sort of email form is gonna be needed. For that purpose, I'm currently exercising by trying to make a model, a view and a controller to handle data submitted by a HTML form.</p>\n\n<p>I'm not going anywhere from here, and I really can't seem to get it right. I've been testing things for hours but it's not functionnal at all, and I think I've missed something important. I just want for now to succeed in fetching my POST datas, check the validation rules, and either showing a result page with some echos in it, or redirecting to the form by showing errors.</p>\n\n<p>These are the files I'm working with atm :</p>\n\n<p><strong>GreetingsFormController.php</strong> : Controller</p>\n\n<pre><code>class GreetingsFormController extends FrontController\n{\n    public function process()\n{\n    global $smarty; \n    $smarty-&gt;assign('action','classes/GreetingsForm.php');\n\n}\n\npublic function displayContent()\n{\n    global $smarty;\n    $smarty-&gt;display(_VIEWS_DIR_.'greetingsform.tpl');\n}   \n\n}\n</code></pre>\n\n<p><strong>GreetingsForm.php</strong> : Model</p>\n\n<pre><code>&lt;?php\n\nclass GreetingsFormCore {\n\n    public $fromFirstname;\n    public $fromName;\n    public $fromAdress;\n    public $fromCountry;\n    public $toFirstName;\n    public $toName;\n    public $toAdress;\n    public $message;\n    public $send;\n\n    public $errors;\n\n    function getValues()\n    {    \n        if (isset($_POST['fromFirstName']))\n            $fromFirstname = $_POST['fromFirstName'];\n        if (isset($_POST['fromName']))      \n            $fromName = $_POST['fromName'];\n        if (isset($_POST['fromAdress']))\n            $fromAdress = $_POST['fromAdress'];\n        if (isset($_POST['fromCountry']))\n            $fromCountry = $_POST['fromCountry'];\n        if (isset($_POST['toFirstName']))           \n            $toFirstName = $_POST['toFirstName'];\n        if (isset($_POST['toName']))\n            $toName = $_POST['toName'];\n        if (isset($_POST['toAdress']))\n            $toAdress = $_POST['toAdress'];\n        if (isset($_POST['message']))       \n            $message = $_POST['message'];\n        if (isset($_POST['send']))  \n            $send = $_POST['send'];\n    }\n\n\n    function checkData()\n    {\n\n        if (strlen($fromFirstName) &lt; 3)\n            $errors['fromFirstName'] = 'From : First name too short';\n        elseif (strlen($fromFirstName) &gt; 50)\n            $errors['fromFirstName'] = 'From : First name too long';\n\n        if (strlen($fromName) &lt; 3)\n            $errors['fromName'] = 'From : Name too short';  \n        elseif (strlen($fromName) &gt; 50)\n            $errors['fromName'] = 'From : Name too long';\n\n        if (!ereg('.*@.*\\..{2,4}', $fromAdress))\n            $errors['fromAdress'] = 'From : Email address invalid';\n\n        if (!ereg('.*@.*\\..{2,4}', $toAdress))\n            $errors['toAdress'] = 'From : Email address invalid';\n\n        if (strlen($toFirstName) &lt; 3)\n            $errors['toFirstName'] = 'To : First name too short';\n        elseif (strlen($toFirstName) &gt; 50)\n            $errors['toFirstName'] = 'To : First name too long';\n\n        if (strlen($toFirstName) &lt; 3)\n            $errors['toName'] = 'To : Name too short';  \n        elseif (strlen($toName) &gt; 50)\n            $errors['toName'] = 'To : Name too long'; \n\n        if (strlen($message) == 0)\n        $errors['message'] = 'Message required';\n\n        return (count($errors));\n    }\n\n\n}   \n</code></pre>\n\n<p><strong>greetingsform.tpl (the form part)</strong> : View    </p>\n\n<pre><code>    &lt;form action={$action} method=POST name=\"greetings\"&gt;\n\n    &lt;p&gt;\n    &lt;b&gt;From :&lt;/b&gt;\n    &lt;br/&gt;&lt;label&gt;First Name:     &lt;/label&gt;&lt;input type=TEXT name=\"fromFirstName\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Last Name:      &lt;/label&gt;&lt;input type=TEXT name=\"fromName\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Email Adress:   &lt;/label&gt;&lt;input type=TEXT name=\"fromAdress\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Country:        &lt;/label&gt;&lt;input type=TEXT name=\"fromCountry\" value=''&gt;\n    &lt;/p&gt;\n\n    &lt;p&gt;\n    &lt;b&gt;To :&lt;/b&gt;\n    &lt;br/&gt;&lt;label&gt;First name:     &lt;/label&gt;&lt;input type=TEXT name=\"toFirstName\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Last name:      &lt;/label&gt;&lt;input type=TEXT name=\"toLastName\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Email Adress:   &lt;/label&gt;&lt;input type=TEXT name=\"toAdress\" value=''&gt;\n    &lt;/p&gt;\n\n    &lt;p&gt;\n    &lt;b&gt;&lt;label&gt;Message:      &lt;/label&gt;&lt;/b&gt;\n    &lt;br/&gt;\n    &lt;textarea name=\"message\" STYLE='width:500;height:300'&gt;&lt;/textarea&gt;&lt;br/&gt;\n    &lt;input type=SUBMIT value=\"send\" NAME=\"send\" &gt;\n    &lt;/p&gt;\n\n    &lt;/form&gt;\n</code></pre>\n\n<p>Oh, and I'm using Smarty for my views, but I think it doesn't matter here. :)</p>\n\n<p>I would be really glad if someone could tell me where to go from here, because for now, I'm just getting an empty greetingsForm.php showing whenever I'm clicking submit, and I haven't yet succeeded in showing anything else after submit.</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-2","validation","asp.net-mvc-3"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1899,"score":3,"question_id":6495510,"title":"MVC 2 vs MVC 3 custom validation attributes using DataAnnotationsModelValidatorProvider.RegisterAdapter","body":"<p>I read on some post, but cant find it now that in MVC 3 it was not really needed to create a Validator, only the Attribute.  Is this true?  I do say I find it confusing that the attribute has the IClientValidatable on it.  So what does the DataAnnotationsModelValidator class do if the annotation has the client side script name (IClientValidatable), and the ability to validate (ValidationAttribute IsValid)?</p>\n\n<p>It would be really nice if I didnt have to register the Attribute with the Validator in the global.  Can this be done?  Did I read some bad advise?</p>\n\n<p>EDIT: Interestingly enough I just tested it by excluding the validator, put all the logic in IsValid and it works great.  I guess the only thing that might be missing would be the controller context, but I am not sure that is useful in validation.  The IsValid has ValidationContext which has ServiceContainer if I needed a service.  Any real disadvantage I am not picking up on here?</p>\n\n<p>EDIT 2:\nI will start with a validator from this example: <a href=\"http://blogs.msdn.com/b/simonince/archive/2010/06/04/conditional-validation-in-mvc.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/simonince/archive/2010/06/04/conditional-validation-in-mvc.aspx</a></p>\n\n<p>The Attribute:</p>\n\n<pre><code>public class RequiredIfAttribute : ValidationAttribute, IClientValidatable\n{\n    private RequiredAttribute innerAttribute = new RequiredAttribute();\n    public string DependentProperty { get; set; }\n    public object TargetValue { get; set; }\n\n    public RequiredIfAttribute(string dependentProperty, object targetValue)\n    {\n        this.DependentProperty = dependentProperty;\n        this.TargetValue = targetValue;\n    }\n\n    public override bool IsValid(object value)\n    {\n        return innerAttribute.IsValid(value);\n    }\n\n    public System.Collections.Generic.IEnumerable&lt;ModelClientValidationRule&gt; GetClientValidationRules(ModelMetadata metadata, ControllerContext context)\n    {\n        ModelClientValidationRule modelClientValidationRule = new ModelClientValidationRule()\n        {\n            ErrorMessage = FormatErrorMessage(metadata.DisplayName),\n            ValidationType = \"requiredifattribute\"\n        };\n        modelClientValidationRule.ValidationParameters.Add(\"requiredifattribute\", DependentProperty);\n        yield return modelClientValidationRule;\n    }\n}\n</code></pre>\n\n<p>The Validator:</p>\n\n<pre><code>public class RequiredIfValidator : DataAnnotationsModelValidator&lt;RequiredIfAttribute&gt;\n{\n    public RequiredIfValidator(ModelMetadata metadata, ControllerContext context, RequiredIfAttribute attribute)\n        : base(metadata, context, attribute)\n    {\n    }\n\n    public override IEnumerable&lt;ModelClientValidationRule&gt; GetClientValidationRules()\n    {\n        return base.GetClientValidationRules();\n    }\n\n    public override IEnumerable&lt;ModelValidationResult&gt; Validate(object container)\n    {\n        var field = Metadata.ContainerType.GetProperty(Attribute.DependentProperty);\n        if (field != null)\n        {\n            var value = field.GetValue(container, null);\n            if ((value == null &amp;&amp; Attribute.TargetValue == null) ||\n                (value.Equals(Attribute.TargetValue)))\n            {\n                if (!Attribute.IsValid(Metadata.Model))\n                    yield return new ModelValidationResult { Message = ErrorMessage };\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>With the current code above, I need to register in the Global.asax.cs file:</p>\n\n<pre><code>DataAnnotationsModelValidatorProvider.RegisterAdapter(typeof(RequiredIfAttribute), typeof(RequiredIfValidator));\n</code></pre>\n\n<p>But if I move everything into just the attribute, I dont have to register it:</p>\n\n<pre><code>public class RequiredIfAttribute : ValidationAttribute, IClientValidatable\n{\n    private RequiredAttribute innerAttribute = new RequiredAttribute();\n    public string DependentProperty { get; set; }\n    public object TargetValue { get; set; }\n\n    public RequiredIfAttribute(string dependentProperty, object targetValue)\n    {\n        this.DependentProperty = dependentProperty;\n        this.TargetValue = targetValue;\n    }\n\n    protected override ValidationResult IsValid(object value, ValidationContext validationContext)\n    {\n        var field = validationContext.ObjectInstance.GetType().GetProperty(DependentProperty);\n        if (field != null)\n        {\n            var dependentValue = field.GetValue(validationContext.ObjectInstance, null);\n            if ((dependentValue == null &amp;&amp; TargetValue == null) ||\n                (dependentValue.Equals(TargetValue)))\n            {\n                if (!innerAttribute.IsValid(value))\n                    return new ValidationResult(ErrorMessage);\n            }\n        }\n        return ValidationResult.Success;\n    }\n\n    public System.Collections.Generic.IEnumerable&lt;ModelClientValidationRule&gt; GetClientValidationRules(ModelMetadata metadata, ControllerContext context)\n    {\n        ModelClientValidationRule modelClientValidationRule = new ModelClientValidationRule()\n        {\n            ErrorMessage = FormatErrorMessage(metadata.DisplayName),\n            ValidationType = \"requiredifattribute\"\n        };\n        modelClientValidationRule.ValidationParameters.Add(\"requiredifattribute\", DependentProperty);\n        yield return modelClientValidationRule;\n    }\n}\n</code></pre>\n\n<p>Is there an problem with the last bit of code replacing all of the other code?  Why would I keep the validator class?</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13123451,"title":"Two-tiered models and controllers in Rails","body":"<p>New to Rails and having a hard time envisioning how to proceed with a project.  I would like to create a simple page where users:</p>\n\n<p>a) select a \"project\", sends to project page\nb) from project page, can repeatedly query an API and get results</p>\n\n<p>As I'm still wrapping my head around scaffolding and creating models and controllers, I'm wondering if the following makes sense:</p>\n\n<pre><code>rails generate Project person:string\nrails generate API_call title:string response:text\n</code></pre>\n\n<p>I suppose my question is then, how do I link entries in the API_call table to specific projects?  Is this the \"references\" option?</p>\n\n<p>many thanks in advance... </p>\n"},{"tags":["mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13121608,"title":"BackboneJS and Model/Collection","body":"<p>Have json-data like this:</p>\n\n<pre><code>{ tournaments: [ {\n   tournament_id: \"...\"\n   tournament_name: \"...\"\n   events: [ {\n       event_id: ...\n       event_name: ....\n       param : [ {\n           param_a : \n           param_b : ..\n           subparan : [ {\n               sub_1: 1\n               sub_2 : 2...\n</code></pre>\n\n<p>So. I don't understand - how to it implement into BackBone Collection/Model style?</p>\n\n<p>How to handle change sub_1? - Made Collection of Collection of Collection?</p>\n"},{"tags":["asp.net-mvc","json","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13121149,"title":"How to return exception data in json format from App_Error in global.asax?","body":"<p>I'm working on Asp.net MVC project as a single page application for error handling I want to return json data from App_Error method in global.asax to UI and show it by jQuery or call a controller and return partialView.\nI don't want to refresh the page or redirect it to Error page.</p>\n"},{"tags":["php","oop","mvc","symfony2","model"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13121104,"title":"Models in Symfony2, and other MVC frameworks?","body":"<p>I'm trying to understand how Models work in proper MVC.</p>\n\n<p>As far as I know, Models in MVC is where the application logic happens, Models are meat, or back bone of MVC. Views are just presentation, and Controllers are \"glue\" that asks Models to do some actions, return some data, and pass that information to the View that is presented to the user.</p>\n\n<p>Now, I'm exploring all kinds of different MVC frameworks and would like to understand how to use models in MVC. Symfony 2 is interesting framework as far as Models goes, since there are no Models :)</p>\n\n<p>I have problems grasping some of the features of Symfony2, and where does Models fit in Symfony2 MVC.</p>\n\n<p>By definition, Models are where domain logic, and database actions goes.</p>\n\n<p>So <strong>my questions are</strong>:</p>\n\n<ol>\n<li>In Symfony2 we have Entities, and Services, are those two Models in Symfony?</li>\n<li>What is the difference in Symfony2 Services, and Web Services?</li>\n</ol>\n\n<p>So my questions are where is the Model in Symfony2? Since Model is a layer, composed of Domain Objects, and Data Mappers, then I can assume that Entities are Domain Objects, and Doctrine is Data Mapper, is that correct?</p>\n\n<p>And where do Symfony2 services fit in?</p>\n"},{"tags":["php","mvc","content-management-system","expressionengine","content-management"],"answer_count":0,"favorite_count":2,"up_vote_count":2,"down_vote_count":2,"view_count":70,"score":0,"question_id":13121458,"title":"PHP Enterprise CMS Recommendation - Need Accreditation","body":"<p>We are looking to start using an enterprise level CMS.  However, with the Internet full of various solutions claiming to be enterprise level, and be the best in their class, I would love some real world recommendations.</p>\n\n<p>I do have some absolute musts:</p>\n\n<ul>\n<li>MVC</li>\n<li>PHP</li>\n<li>MySQL support</li>\n<li>Official accreditation available</li>\n</ul>\n\n<p>We are keen users of CodeIgniter, so the obvious one to me was Expression Engine.  I would love some feedback on it, but it may be difficult to use without accreditation (I won't go into why accreditation is needed, as that the reasoning isn't really important).</p>\n\n<p>Another solution I've seen is Pimcore, but it seems very difficult to use from a site administrator point-of-view.  Even the simplest of tasks such as adding a page seem to be quite a slog.</p>\n\n<p>We're looking for enterprise level here, so not the likes of WordPress and Joomla!</p>\n\n<p>Nice to haves include:</p>\n\n<ul>\n<li>Easy learning curve</li>\n<li>Close to the workings of a standard framework (eg CI)</li>\n<li>Large, strong community</li>\n<li>Free (only a nice to have, <strong>not</strong> a requirement!)</li>\n<li>Easy to use/intuituve for the site administrator</li>\n<li>Conferences/Training available</li>\n</ul>\n"},{"tags":["mvc","asp.net-mvc-4","structure","renderpartial","partial-view"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13120025,"title":"MVC 4 solution structure Partial View","body":"<p>Well since most of the tutorials and demos chooses to put the partial view in shared folder im asking for a better way to do this.</p>\n\n<p>My problem:\nI want to use partial views in order to create a dynamic interface with reusable views. As i can with usercontrols. Since there might be a lot of partial views i want to put them in a seperate folder than the shared folder. </p>\n\n<p>example:\nHow it looks today:</p>\n\n<p>[View]</p>\n\n<ul>\n<li>[View.Home]\n<ul>\n<li>index.cshtml</li>\n</ul></li>\n<li>[View.Shared]\n<ul>\n<li>_layout.cshtml</li>\n</ul></li>\n</ul>\n\n<p>A better way\n[View]</p>\n\n<ul>\n<li>[View.Home]\n<ul>\n<li>index.cshtml</li>\n</ul></li>\n<li>[View.Shared]\n<ul>\n<li>_layout.cshtml</li>\n</ul></li>\n<li>[View.Shared.Partial]\n<ul>\n<li>partial1.cshtml</li>\n<li>etc</li>\n</ul></li>\n</ul>\n\n<p>Or should i rethink my approach enirely? if so how? if not what should i think about?</p>\n"},{"tags":["objective-c","ios","mvc","conceptual"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13118061,"title":"MVC: Controller keeps array of model objects or view objects?","body":"<p>I have a view controller <code>placeViewController</code> which pulls in a bunch of <code>Place</code> objects, and from these loads and populates a matching bunch of <code>PlaceView</code> objects which are then displayed as subviews to its main view.</p>\n\n<p>I need to update these views periodically which requires information from the model and other places to be pushed into the views</p>\n\n<p>How should I properly structure this?</p>\n\n<ul>\n<li><p>Keep an array of <code>Place</code> objects and give the model a <code>PlaceView</code> property to store pointers to the views</p></li>\n<li><p>Keep an array of <code>PlaceView</code> objects and give the view a <code>Place</code> property to store pointers to the places</p></li>\n<li><p>Keep both arrays and use a lot of <code>indexOfObject</code> <code>objectAtIndex</code> to jump between them</p></li>\n<li><p>Some other way??</p></li>\n</ul>\n"},{"tags":["ruby-on-rails","mvc","activerecord","model"],"answer_count":5,"favorite_count":4,"up_vote_count":13,"down_vote_count":0,"view_count":10057,"score":13,"question_id":1342761,"title":"How to skip ActiveRecord callbacks?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/632742/how-can-i-avoid-running-activerecord-callbacks\">How can I avoid running ActiveRecord callbacks?</a>  </p>\n</blockquote>\n\n\n\n<p>I have model like this</p>\n\n<pre><code>class Vote &lt; ActiveRecord::Base  \n    after_save :add_points_to_user\n\n    .....\nend\n</code></pre>\n\n<p>Is it possible to somehow force model to skip calling <code>add_points_to_user</code> when saved? Possibly something like <code>ActiveRecord#delete</code> vs <code>ActiveRecord#destroy</code>?</p>\n"},{"tags":["design","mvc","design-patterns"],"answer_count":8,"favorite_count":14,"up_vote_count":21,"down_vote_count":0,"view_count":9004,"score":21,"question_id":141912,"title":"Alternatives to the MVC","body":"<p>What are the alternative \"design methods\" to the Model View Controller? MVC seems to be popular (SO was built with it, I know that much) but is it the only method used?</p>\n"},{"tags":["mysql","c","mvc","stored-procedures"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":30,"score":-4,"question_id":13116548,"title":"how to create Stored procedures in mysql","body":"<p>Please suggest a way, how to create stored procedures containing \"In\" and \"Out\" paramaters, in mysql and use them in the C# mvc .net frame work and Also access those prameters in the C# code.</p>\n\n<p>Thakyou,\nSanaa.</p>\n"},{"tags":["mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":227,"score":0,"question_id":5551259,"title":"MVC question: direct modell <-> view communication - why?","body":"<p>can anybody tell me, why communicates the model direct with the view in the MVC pattern, and why not just throught the controller?</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a></p>\n"},{"tags":["javascript","mvc","javascriptmvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13114764,"title":"MVC JS Platform","body":"<p>This isn't so much a technical question as it is a question for opinions and information collecting. My company is looking to switch from our jQuery spaghetti front-end to a well-structured MVC platform where our view doesn't have to be directly manipulated.  Ideally, we would like to be able to update a data model in javascript and have that automatically update the view dynamically.  I know Dojo is a great platform for MVC, but this is a big decision so I was hoping someone on here had some experience.  Our product requires high portability between mobile and desktop platforms, and will eventually be almost exclusively AJAX driven with all HTML loaded as a skeleton and manipulated by an engine written in JS.  Thanks!</p>\n"},{"tags":["multithreading","qt","mvc","model-view"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13113743,"title":"Qt application with MVC and multithreading","body":"<p>This Qt application I am working on has model view controller in main thread, while the data structure under dataModel and the data model are modified by a network working thread (basically it is getting data from server). \nThe application crashes ramdonly. Based on my triage, it shows it crashes at some Qt deep model functions triggered by my data model modification. So I put lock on those data model functions. But now it still crashes. </p>\n\n<p>What is right design for this case? I also tried to promote data model modification to main thread, which means once data structure is changed, it emits a signal to controller, then the slot function in controller modifies the data model. This crashes too. plus this design looks weird. data structure changes model directly seems a better design, but it will keep model in working thread. I looked at a lot of model/view examples, all of them model contains data and model is not in worker thread. So none of them is my case.</p>\n\n<p>Thanks,</p>\n"},{"tags":["visual-studio","mvc","azure","azure-configuration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":165,"score":0,"question_id":8099203,"title":"Why Project Not Build in Azure One Web Role for Multiple Website setup?","body":"<p>I got 1 Azure web role for multiple websites, and it worked, the code in \"ServiceDefinition.csdef\" looks like:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;Sites&gt;\n        &lt;Site name=\"SiteA\" physicalDirectory=\"..\\SiteA\"&gt;\n            &lt;Bindings&gt;\n                &lt;Binding name=\"HttpBinding\" endpointName=\"HttpEndpoint\" hostHeader=\"a.com\" /&gt;\n            &lt;/Bindings&gt;\n        &lt;/Site&gt;\n        &lt;Site name=\"SiteB\" physicalDirectory=\"..\\SiteB\"&gt;\n            &lt;Bindings&gt;\n                &lt;Binding name=\"HttpBinding\" endpointName=\"HttpEndpoint\" hostHeader=\"b.com\" /&gt;\n            &lt;/Bindings&gt;\n        &lt;/Site&gt;\n        &lt;Site name=\"SiteC\" physicalDirectory=\"..\\SiteC\"&gt;\n            &lt;Bindings&gt;\n                &lt;Binding name=\"HttpBinding\" endpointName=\"HttpEndpoint\" hostHeader=\"c.com\" /&gt;\n            &lt;/Bindings&gt;\n        &lt;/Site&gt;\n    &lt;/Sites&gt;\n</code></pre>\n\n<p>A, B, C all works.</p>\n\n<p>but the situation is, A, B, C are projects, need to build ( as release ) to get them work well.\nWhat Azure tool (in Visual Studio) does is just simply copy them (the folder) not build them ( as release). The result is, all files on server, even MVC patten works, but the Web.Release.config does not replace(a part of) Web.config, so some codes not work.</p>\n\n<p><strong>My question is, how to setup Azure support multiple projects, and build them as release, in one web role?</strong></p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1391,"score":1,"question_id":8495706,"title":"MVC Html.ActionLink with post funtionality?","body":"<p>I'm checking to see if anyone has written an MVC extension for Html.ActionLink that you can pass in Post parameters like such:</p>\n\n<pre><code>&lt;% Html.ActionLink(\"Click me\", \"Index\", \"Home\", new { MyRouteValue = \"123\" }, null, new { postParam1 = \"a\", postParam2 = \"b\" }); %&gt;\n</code></pre>\n\n<p>That would render the link like normal but having an onClick event that submits an also rendered form with an Action url for the Action, Controller, and Route Values with additional hidden inputs from the Post Parameters like such:</p>\n\n<pre><code>&lt;a href=\"#\" onClick=\"$('#theform').submit(); return false;\"&gt;Click me&lt;/a&gt;\n&lt;form id=\"theform\" action=\"/Home/Index/123\" method=\"post\"&gt;\n   &lt;input type=\"hidden\" name=\"postParam1\" value=\"a\"&gt;\n   &lt;input type=\"hidden\" name=\"postParam2\" value=\"b\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I'm looking to redirect users to various pages with potentially a lot of data. Not only from page to page, but from email to page also. This would be highly reusable and I think would clean up a lot of code, and would save a bunch of time writing this if its already floating around out there. I hate recreating the wheel when I don't have to. Thanks!</p>\n"},{"tags":["mvc","cs193p"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":20,"score":-3,"question_id":13111163,"title":"CS193P, A1: +/- in model and controller?","body":"<p>I've just completed the Fall 2011 CS193P first assignment, but I'm wondering whether I respected the model/controller roles properly.  This assignment involves creating a simple calculator, one element of which is a \"+/-\" button.  </p>\n\n<p>All of the other operations (+, -, etc.) get dealt with in the model (\"CalculatorBrain.m\"), but because of its unique behaviour, I've had to put some code regarding +/- directly in the controller (\"CalculatorViewController.m\").  For those of you who've seen this assignment before, is this bad form?</p>\n\n<p>Thanks! </p>\n\n<hr>\n\n<p>EDIT:  Not sure if I was clear or general enough here, sorry.  Basically, I want to know whether the controller should ever carry out the nitty-gritty of program function, or if that should always be left up to the model.</p>\n"},{"tags":[".net","database","entity-framework","mvc","c#-4.0"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1563,"score":1,"question_id":6073623,"title":"Entity Framework Enums as POCO only","body":"<p>I am trying to save an Enum that exists in my model down to the database but everytime I do Entity Framwework complains that there is no look up table associated with the Enum. I do not want a look up table, I just want the enum to exist in code and be stored as integers in the database.</p>\n\n<blockquote>\n  <p>An error occurred while saving\n  entities that do not expose foreign\n  key properties for their\n  relationships. The EntityEntries\n  property will return null because a\n  single entity cannot be identified as\n  the source of the exception. Handling\n  of exceptions while saving can be made\n  easier by exposing foreign key\n  properties in your entity types. See\n  the InnerException for details.</p>\n  \n  <p>\"Cannot insert the value NULL into\n  column 'Type', table\n  'Test.dbo.Interests'; column\n  does not allow nulls. INSERT\n  fails.\\r\\nThe statement has been\n  terminated.</p>\n</blockquote>\n\n<p>The value for Type is definitely not null, EF just treats it that way cause it can't find a Foreign key table that I don't want in the first place. </p>\n\n<p><strong>How do I get entity framework to treat my enum as an int and then convert back out when I call down to the database to retrieve my model?</strong></p>\n"},{"tags":["php","mvc","class","methods"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13110784,"title":"loading method based on URL","body":"<p>I am trying to build a small mvc-based application.</p>\n\n<p>How do I call a method in a class based on a query string?</p>\n\n<p>For example, the $_GET query string is being set as load_master_form</p>\n\n<pre><code>http://www.domain.com/settings/load_master_form\n</code></pre>\n\n<p>And to call the method within the settings class, I am doing:</p>\n\n<pre><code>function __construct(){\n    $this-&gt;{$_GET['method']}();\n}\n</code></pre>\n\n<p>But obviously that doesn't work - it just isn't possible to load a method like that. So how would it be done?</p>\n"},{"tags":["javascript","jquery","mvc","backbone.js","underscore.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13105574,"title":"extend() using underscore vs. backbone","body":"<p>I know backbone is somewhat depending on underscore and jquery. Is there difference between the two lines below?</p>\n\n<pre><code>app.notifications = _.extend({}, Backbone.Events);\n</code></pre>\n\n<p><strong>AND</strong> </p>\n\n<pre><code>app.notifications  = Backbone.Events.extend({});\n</code></pre>\n\n<p>If they are <strong>NOT</strong> the same, how different?</p>\n"},{"tags":["mvc","web-deployment"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":13109263,"title":"What was MVC invented for?","body":"<p>I am new in web development, and read some wiki and discussions about MVC. However, the more I read, the more confusion I have about its design purpose.</p>\n\n<p>I just want to know why is this design pattern invented? And what problem is it used to solve? </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["django","mvc"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":399,"score":6,"question_id":8590468,"title":"django: Fat models and skinny controllers?","body":"<p>This is a general architecture question.  I read in many places that in an MVC framework, (1) models ought to be fat, and controllers ought to be skinny.  But I also read that (2) the details depend on the framework you're developing in.  So, what if you're developing in django?</p>\n\n<p>My experience with django is that a lot of the logic ends up getting put into views and forms.  Not the \"business logic,\" but the details of handling requests, sessions, etc.  In terms of lines of code, these details often outweigh the business logic of manipulating model objects.  Am I doing something wrong, or is this how django works?</p>\n"},{"tags":["javascript","mvc","client-side","angularjs","server-side"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":125,"score":0,"question_id":13067607,"title":"AngularJS client MVC pattern?","body":"<p>Until now I was mainly using <code>Struts 2</code>, <code>Spring</code>, <code>JQuery</code> technology stack for building web applications. The point is, that mentioned stack uses server side <code>MVC</code> pattern.  The main role of web browsers was limited to a request/response cycle (+ client side validation). Data retrieval, business logic, wiring and validation were mainly responsibilities of the server side. </p>\n\n<p>I have few questions regarding <em>AngularJS</em> framework that were produced by following quotes I read:</p>\n\n<hr>\n\n<p>From the <a href=\"http://docs.angularjs.org/tutorial/step_02\" rel=\"nofollow\"><em>AngularJS tutorial</em></a>:</p>\n\n<blockquote>\n  <p>For Angular apps, we encourage the use of the Model-View-Controller\n  (MVC) design pattern to decouple the code and to separate concerns.</p>\n</blockquote>\n\n<p>From the <em><a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93View%E2%80%93Controller\" rel=\"nofollow\">Wikipedia Modelviewcontroller</a></em>:</p>\n\n<blockquote>\n  <p>ModelViewController (MVC) is an architecture that separates the\n  representation of information from the user's interaction with\n  it. The model consists of application data and <strong>business rules</strong>,\n  and the controller mediates input, converting it to commands for the\n  model or view</p>\n</blockquote>\n\n<hr>\n\n<p><em>AngularJS</em> uses client side <code>MVC</code> pattern. So my question is, whether is it safe that business logic resides on client side? Can we trust the client? How is validation done (just client)?</p>\n\n<p>If we have, for example, traditional server side MVC application, business rules would be on server side and the validation would be on the client and server side (1 request less for validation).</p>\n\n<p><strong>What would be the best way to write a robust AngularJS application? MVC on client side and some kind  of MC (model, controller) on server side?</strong> </p>\n\n<p>Does that means, that MODEL and CONTROLLER are in one way duplicated (client/server)?</p>\n\n<p>I know my question is somehow weird, but I think the reason is, that I am somehow acustomed to traditional server side MVC pattern. I am sure there is someone, that have already done same transition.</p>\n"},{"tags":["asp.net","mvc","cookies","session-cookies"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1061,"score":0,"question_id":5200731,"title":"IE 8 will no longer accept cookies from localhost","body":"<p>I had to disable cookies for some testing in a web application.  now for some reason in IE I cannot get cookies working on localhost any more. They work as expected in Safari, Firefox, and Chrome, but for some unknown reason I cannot for the life of me get cookies working on localhost. I have tried literally every setting imaginable with absolutely no luck.  If I change the Url to 'localhost.\" it works as expected, but when I just use \"localhost\", without the \".\" period, cookies are absolutely not written. What the heck did i do? I tried upgrading to IE 9 and that didn't work. I reverted back to IE 8 and still have the same problem.  I'm going absolutely mad trying to firgure out what is causing this.  I tried tools, internet options, privacy, advanced, and explicit tell the browser to accept all 1st and 3rd party cookies and I'll be damned if I'm on a localhost site, the cookies are not written.  This has worked perfect in the past, so it's no doubt some setting I changed but I cannot for the life of me figure out what the hell is going on. If anyone has any idea of how I can remedy this, please do let me know.  I've tried every setting imaginable with absolutely no luck.  I hate internet explorer but that a conversation for a different day.</p>\n"},{"tags":["mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":53,"score":-1,"question_id":13106973,"title":"Is this a correct MVC implementation?","body":"<p>I try implement MVC pattern for simple example of add one number to other and show the answer.</p>\n\n<p>So, i do next classes:</p>\n\n<p><strong>Model</strong>: caring array of values and know how to do sum of them </p>\n\n<pre><code>public interface IModel\n{\n    void SetValues(int[] values);\n    int GetResult();\n}\n\npublic class ModelAdder : IModel\n{\n    private int[] _values;\n\n    public void SetValues(int[] values)\n    {\n        _values = values;\n    }\n\n    public int GetResult()\n    {\n        int res = 0;\n\n        foreach (int i in _values)\n        {\n            res += i;\n        }\n\n        return res;\n    }\n}\n</code></pre>\n\n<p><strong>View</strong>: know how to get values form screen, get button event and shoe result:</p>\n\n<pre><code>public delegate void Calculate();\n\npublic interface IView\n{\n    event Calculate CalculateEvent;\n\n    int[] GetValues();\n    void SetResult(int res);\n}\n\n/// &lt;summary&gt;\n/// Interaction logic for View.xaml\n/// &lt;/summary&gt;\npublic partial class View : UserControl, IView\n{\n    public View()\n    {\n        InitializeComponent();\n    }\n\n    public event Calculate CalculateEvent;\n\n    public int[] GetValues()\n    {\n        int a, b;\n\n        if (!(int.TryParse(val1.Text, out a) &amp;&amp; int.TryParse(val2.Text, out b)))\n        {\n            throw new Exception();\n        }\n\n        return new int[] { a, b };\n    }\n\n    public void SetResult(int res)\n    {\n        result.Content = res;\n    }\n\n    private void CalculateResult(object sender, RoutedEventArgs e)\n    {\n        if (CalculateEvent != null)\n        {\n            CalculateEvent();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Controller</strong> know get IView and IModel and know what to do when get button click event:</p>\n\n<pre><code>public class Controller\n{\n    private IView _view;\n    private IModel _model;\n\n    public Controller(IView view, IModel model)\n    {\n        _view = view;\n        _model = model;\n\n        _view.CalculateEvent += new Calculate(_view_CalculateEvent);\n    }\n\n    void _view_CalculateEvent()\n    {\n        _model.SetValues(_view.GetValues());\n        _view.SetResult(_model.GetResult());\n    }\n}\n</code></pre>\n\n<p>Using:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        Controller controller = new Controller(myView, new ModelAdder());\n    }\n}\n</code></pre>\n\n<p>Sequence diagram of calculation:\n<img src=\"http://i.stack.imgur.com/mAWwa.jpg\" alt=\"enter image description here\"></p>\n\n<p>Please, correct me, if it is not meet the MVC pattern requirements</p>\n"},{"tags":["javascript","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":139,"score":4,"question_id":12443313,"title":"Using agility.js for page layout and composition","body":"<p>I am new to MVC-style javascript libraries, so pardon me if this question is too basic.  I'm trying to write a <a href=\"http://en.wikipedia.org/wiki/Single-page_application\" rel=\"nofollow\">Single-Page Application</a> entirely in <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a> and <a href=\"http://agilityjs.com/\" rel=\"nofollow\">agility.js</a>.  The examples given in the agility.js <a href=\"http://agilityjs.com/docs\" rel=\"nofollow\">documentation</a> consist entirely of adding html elements to the document root.  Question: Is there a 'Best-Practices' way to assemble a page by components.</p>\n\n<p>Here is a rough outline of my html app:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt; ... &lt;/head&gt;\n    &lt;body&gt;\n        &lt;header&gt; ... &lt;/header&gt;\n        &lt;div id=PageHolder&gt;\n            &lt;div id=AppPane_1&gt;&lt;/div&gt;\n            &lt;div id=AppPand_2&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;footer&gt; ... &lt;/footer&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Within the 'AppPane' divs will be the content of the application.</p>\n\n<p>Okay, given all of this, I'm not asking what can I do, but I'm asking what should I do.</p>\n\n<p>I see from the documentation and my research that I have 3 choices:</p>\n\n<ol>\n<li>create my page composition from atomic agility objects and assemble them in a <code>jQuery</code> document ready block.  <code>$$.document.append(Foo)</code> works for the root element, but I could not figure out how to add Foo's children to foo.</li>\n<li>Use one (very large) agility object which lays out the basic static html from above and append controls and whatnot to that using the <code>controller</code> functions (which I havn't been able to get to work either)</li>\n<li>Use one root agility object and append all the children onto it using view (somehow, I havn't been able to get that to work either.)</li>\n</ol>\n\n<p>Which of these is best, and what is the syntax involved?  Thanks in advance, any guidance in assembling html components into a cogent agility app would be much appreciated.</p>\n\n<p><a href=\"http://jsbin.com/ojenon/1/\" rel=\"nofollow\">http://jsbin.com/ojenon/1/</a></p>\n\n<hr>\n"},{"tags":["vb.net","mvc","jquery-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":147,"score":0,"question_id":9266263,"title":"jquery mobile mvc RadioButtonFor vb.net grouping name issue","body":"<p>I am using jquery mobile with asp.net mvc in vb trying to render a yes/no radio button group:</p>\n\n<pre><code>@For Each fqi In Model.Options\n\n                    @Html.LabelFor(Function(m) m.CurrentValue, fqi.Value)\n                    @Html.RadioButtonFor(Function(m) m.CurrentValue, fqi.Checked)\n\n     Next\n</code></pre>\n\n<p>But it doesn't render properly</p>\n\n<p>when comparing with regular jquerymobile radio button group, I noticed that the html behind is adding additional div tag of <code>&lt;div class=\"ui-radio\"&gt;</code></p>\n\n<p>How do I use the radiobuttonfor correctly to work properly with jquerymobile?</p>\n\n<p>I've researched and play around and I know that if I just use below, it will work. But I need to use the radiobuttonfor tag....</p>\n\n<pre><code>If Model.IsRadioList Then\n    @&lt;fieldset data-role=\"controlgroup\" data-type=\"horizontal\"&gt;\n    @For Each fqi In Model.Options\n\n\n                    @&lt;label for=\"@fqi.Value\"&gt;@fqi.Text&lt;/label&gt;\n                    @&lt;input type=\"radio\" name=\"@fqi.Name\" id=\"@fqi.value\" value=\"@fqi.Value\" /&gt;\n\n     Next\n\n        &lt;/fieldset&gt;\n</code></pre>\n"},{"tags":["mvc","design-patterns","gui","mvp","glossary"],"answer_count":16,"favorite_count":383,"up_vote_count":483,"down_vote_count":0,"view_count":79321,"score":483,"question_id":2056,"title":"What are MVP and MVC and what is the difference?","body":"<P>When looking beyond the RAD (drag-drop and configure) way of building User Interfaces that many tools encourage you are likely to come across 2 design patterns called Model-View-Controller and Model-View-Presenter. My question has two parts to it:</P>\r\n<OL>\r\n<LI>What issues do these patterns address?</LI>\r\n<LI>How are they similar?</LI>\r\n<LI>How are they different?</LI></OL>"},{"tags":[".net","winforms","mvc","mvp"],"answer_count":8,"favorite_count":80,"up_vote_count":59,"down_vote_count":0,"view_count":20953,"score":59,"question_id":654722,"title":"Implementing MVC with Windows Forms","body":"<p>Where can I find a good example on how to completely implement the MVC pattern in Windows Forms. I found many tutorials and code examples on various sites (e.g. CodeProject, .NetHeaven) but many are more representative for the observer pattern than MVC. Since the application I want to develop is for a school project, I am reluctant to using frameworks like <a href=\"http://trac.puremvc.org/PureMVC_CSharp\" rel=\"nofollow\">PureMVC</a> or <a href=\"http://www.mvcsharp.org/\" rel=\"nofollow\">MVC#</a>.</p>\n"},{"tags":["mvc","architecture","dto","data-transfer","data-transfer-objects"],"answer_count":5,"favorite_count":7,"up_vote_count":21,"down_vote_count":0,"view_count":11342,"score":21,"question_id":1051182,"title":"what is Data Transfer Object?","body":"<p>what is a Data Transfer Object?</p>\n\n<p>In MVC are the model classes DTO, and if not what are the differences and do we need both?</p>\n"},{"tags":["php","mvc","acl"],"answer_count":3,"favorite_count":13,"up_vote_count":18,"down_vote_count":0,"view_count":2673,"score":18,"question_id":3430181,"title":"ACL implementation","body":"<p><strong>First question</strong></p>\n\n<p>Please, could you explain me how simpliest ACL could be implemented in MVC.</p>\n\n<p>Here is the first approach of using Acl in Controller...</p>\n\n<pre><code>&lt;?php\nclass MyController extends Controller {\n\n  public function myMethod() {        \n    //It is just abstract code\n    $acl = new Acl();\n    $acl-&gt;setController('MyController');\n    $acl-&gt;setMethod('myMethod');\n    $acl-&gt;getRole();\n    if (!$acl-&gt;allowed()) die(\"You're not allowed to do it!\");\n    ...    \n  }\n\n}\n?&gt;\n</code></pre>\n\n<p>It is very bad approach, and it's minus is that we have to add Acl piece of code into each controller's method, but we don't need any additional dependencies!</p>\n\n<p>Next approach is to make all controller's methods <code>private</code> and add ACL code into controller's <code>__call</code> method.</p>\n\n<pre><code>&lt;?php\nclass MyController extends Controller {\n\n  private function myMethod() {\n    ...\n  }\n\n  public function __call($name, $params) {\n    //It is just abstract code\n    $acl = new Acl();\n    $acl-&gt;setController(__CLASS__);\n    $acl-&gt;setMethod($name);\n    $acl-&gt;getRole();\n    if (!$acl-&gt;allowed()) die(\"You're not allowed to do it!\");\n    ...   \n  }\n\n}\n?&gt;\n</code></pre>\n\n<p>It is better than previous code, but main minuses are...</p>\n\n<ul>\n<li>All controller's methods should be private </li>\n<li>We have to add ACL code into each controller's __call method.</li>\n</ul>\n\n<p>The next approach is to put Acl code into parent Controller, but we still need to keep all child controller's methods private.</p>\n\n<p>What is the solution? And what is the best practice?\nWhere should I call Acl functions to decide allow or disallow method to be executed.</p>\n\n<p><strong>Second question</strong></p>\n\n<p>Second question is about getting role using Acl. Let's imagine that we have guests, users and user's friends. User have restricted access to viewing his profile that only friends can view it. All guests can't view this user's profile. So, here is the logic..</p>\n\n<ul>\n<li>we have to ensure that method being called is profile</li>\n<li>we have to detect owner of this profile</li>\n<li>we have to detect is viewer is owner of this profile or no</li>\n<li>we have to read restriction rules about this profile</li>\n<li>we have to decide execute or not execute profile method</li>\n</ul>\n\n<p>The main question is about detecting owner of profile. We can detect who is owner of profile only executing model's method $model->getOwner(), but Acl do not have access to model. How can we implement this?</p>\n\n<p>I hope that my thoughts are clear. Sorry for my English.</p>\n\n<p>Thank you.</p>\n"},{"tags":["c#","asp.net-mvc","linq","mvc","many-to-many"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13100062,"title":"LINQ Intersect Query for Many to Many relationship using .NET4 MVC4 Code First","body":"<p>In .NET4 MVC 4 using Code First I have two classes that form a many to many relationship.\nHow can I write a simple LINQ query to find all Games that have at least one or more genres from a given list of genres? (i.e. Retreive all games that are of the Strategy and/or Sandbox genre)</p>\n\n<pre><code>public class Game\n{\n    public int ID { get; set; }\n    public virtual ICollection&lt;Genre&gt; Genres { get; set; }\n}\n\npublic class Genre\n{\n    public int ID { get; set; }\n    public virtual ICollection&lt;Game&gt; Games { get; set; }\n}\n</code></pre>\n\n<p>Please note that I am using Code First so I have no access to the abstracted join table GenreGames.</p>\n\n<p>I have tried the following to find a game that contains at least one genre ID from the array gid:</p>\n\n<pre><code>var gid = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\nvar result = from g in unitOfWork.GameRepository.dbSet\n             where (\n                 from gen in unitOfWork.GenreRepository.dbSet\n                 where gid.Contains(gen.ID)\n                 select gen.ID\n             ).Any()\n             select g;\n</code></pre>\n\n<p>When retrieving the results</p>\n\n<pre><code>List&lt;Game&gt; similiarGames = result.ToList&lt;Game&gt;();\n</code></pre>\n\n<p>the following error comes up. </p>\n\n<blockquote>\n  <p>Unable to create a constant value of type 'GratifyGaming.Domain.Models.Genre'. Only primitive types or enumeration types are supported in this context.</p>\n</blockquote>\n\n<p>How can I get the results I want using only primitive or enumeration types? Is there a workaround?</p>\n"},{"tags":["ruby-on-rails","mvc","view","controller","nested"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13099255,"title":"ROR: Nested views","body":"<p>I have a page object and various template objects in my application. pages have names, descriptions urls etc and each have a relationship with a template.   templates have different numbers of content boxes and relationships with other controllers (like blogs, galleries etc.).</p>\n\n<p>When I am rendering a page I can work out what template is attached to the page, and what the relevant content is based on that. but I am not sure what the best way is to render the nested Items.   </p>\n\n<p>Are you meant to somehow render the templates view from within the other view?  Or would you have to just rewrite the view altogether?   In this case would I have to create an extra template view for each different template, bundle it with the page views, and then only include it if it is the right one?     </p>\n\n<p>Would this be the same for galleries and blogs? do they all need to be bundled with the page? Or can it be called from its proper location?</p>\n\n<p>I'm not sure what the best practice is here and haven't had any luck googling it. I'm suspecting that the key words im using aren't correct. Or this is common knowledge that isn't worth documenting.</p>\n"},{"tags":["c#","linq-to-sql","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1376,"score":1,"question_id":1605382,"title":"Get Birthday reminder Linq Query ignoring year","body":"<p>Am using C# MVC and i need to get the user details who having birthday with in next 20 days. using linq to sql query which wants to compare only date and month and not the year, to fetch the users who having birthday within next 20days, anyone kindly help me with the linq to sql query to get the users who having birthday within next 20 days.</p>\n\n<p>thanks in advance,</p>\n"},{"tags":["spring","mvc","jackson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13098971,"title":"How do I add a jackson objectmapper dateformat config into spring mvc config?","body":"<p>I have a problem about jackson 2.1.</p>\n\n<p>My pojo have some date properties, I want turn it to string, I setted it in spring-servlet.xml but it's not usefull.</p>\n\n<p>I don't like use <code>@JsonSerialize(using = JsonDateSerializer.class)</code> on the setter.</p>\n\n<p>this is my configuration:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n    &lt;property name=\"objectMapper\"&gt;\n        &lt;bean class=\"com.fasterxml.jackson.databind.ObjectMapper\"&gt;\n            &lt;property name=\"dateFormat\"&gt;\n                &lt;bean class=\"java.text.SimpleDateFormat\"&gt;\n                    &lt;constructor-arg type=\"java.lang.String\" value=\"yyyy-MM-dd\"&gt;&lt;/constructor-arg&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["javascript","mvc","mobile","ember.js","handlebars.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13051352,"title":"Delegate touchstart events to click handler","body":"<p>I'd like to delegate all touchstart events to the defined click handler as a default for iPhone and other \"Touch-Browsers\". I came up with two approaches: </p>\n\n<p>1) Extend the Ember.View to delegate all touchstart events to the click handler(s):</p>\n\n<pre><code> Ember.View.reopen({\n      touchStart: function(event) {\n         return this.click(event);\n      }\n });\n\n App.SomeView = Ember.View.extend({\n      click: function(event) {\n         console.log('should be fired for click and touchstart events');\n      },          \n });\n</code></pre>\n\n<p>2) specify multiple action events in the (handlebars) template:</p>\n\n<pre><code>  &lt;i {{action someAction on=\"click,touchStart\"}} &gt;&lt;/i&gt;\n</code></pre>\n\n<p>Both approaches do not work. What am i missing? The Ember.Button is implemented <a href=\"https://github.com/emberjs/ember.js/blob/master/lib/ember.js\" rel=\"nofollow\">similar</a> (line 18625).</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","design-patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":13043183,"title":"Ruby on rails without models - if data CRUD is performed by webservices API","body":"<p>I have been pondering about developing a new application with rails (probably without models?). What I meant is; backend will be written in any other language and that will provide the RESTful APIs, which will be consumed by Rails app. </p>\n\n<p>Since backend API will take care of all data CRUD actions and rails app will not have access to database directly. So there is no use of rails model in such architecture? </p>\n\n<p>I can directly make curl call to APIs from controllers too, but I wish to keep my controller skinny while fat models.</p>\n\n<p>Or other way, API curl calls can be made in the models and it can behave like data CRUD being done to the database in that model. </p>\n\n<p>In any of above scenarios, I will not be able to get benefit of many rails features or gems (such as friendly_id) which works on active records/ORM. </p>\n\n<p>I am really confused as which way I should go? And what is the best practice? What architecture you can suggest? I definitely wants to keep my backend completely decoupled and providing only RESTful apis only.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":7942865,"title":"asp.net mvc error not showing ysod","body":"<p>Im running an asp.net mvc site on iis7, using iis express in dev and when an exception occurs in one of my views, the browser returns something that looks like binary in a text editor.</p>\n\n<p>Its not generating the normal ysod.</p>\n\n<p>Has anyone seen this before?</p>\n\n<p>Cheers,\nByron</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Its related to my compression action filter. It looks like the response isnt 'decompressing' if an exception occurs in the view.</p>\n\n<pre><code>public class EnableCompression : ActionFilterAttribute {\n\n    public override void OnActionExecuting(ActionExecutingContext filterContext) {\n\n        HttpRequestBase request = filterContext.HttpContext.Request;\n\n        string acceptEncoding = request.Headers[\"Accept-Encoding\"];\n\n        if (string.IsNullOrEmpty(acceptEncoding)) return;\n\n        acceptEncoding = acceptEncoding.ToUpperInvariant();\n\n        HttpResponseBase response = filterContext.HttpContext.Response;\n\n        if (acceptEncoding.Contains(\"GZIP\")) {\n            response.AppendHeader(\"Content-encoding\", \"gzip\");\n            response.Filter = new GZipStream(response.Filter, CompressionMode.Compress);\n        } else if (acceptEncoding.Contains(\"DEFLATE\")) {\n            response.AppendHeader(\"Content-encoding\", \"deflate\");\n            response.Filter = new DeflateStream(response.Filter, CompressionMode.Compress);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","jquery","mvc","backbone.js"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13094306,"title":"How to set the id of a View in Backbone.js?","body":"<p>In Backbone.js when I create a view I can initialise the 'class' attribute of it's element as shown below:</p>\n\n<pre><code>var newView = Backbone.View.extend({\n    className: 'foo'\n});\n</code></pre>\n\n<p>Is there a similar way to set the 'id' attribute in a similar way?</p>\n"},{"tags":["c#","asp.net","mvc","asp.net-mvc-3"],"answer_count":5,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":13915,"score":8,"question_id":5972536,"title":"Html.TextBoxFor formatting or Html.EditorFor htmlAttributes?","body":"<p>I am kind of stumped because, I want to format the value and add a html attribute for css class. </p>\n\n<p>If I use <code>@Html.TextBoxFor(m =&gt; m.DateModified)</code>\n- I can add html attribute but formatting does not work via DisplayFormat attribute on the member.</p>\n\n<p>If I use  <code>@Html.EditorFor(m =&gt; m.DateModified)</code>\n- Formatting works but I cannot add html attribute</p>\n\n<p>If I use <code>@Html.TextBox(\"DateModified\", Model.DateModified, ...)</code>\n- I get null reference exception when Model is null when the form is in add mode</p>\n\n<p>What is the best way to achieve this?</p>\n"},{"tags":["java","mvc","reflection"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13091427,"title":"Action based controller using reflections","body":"<p>I'm modeling a controller reflection based. I would like to know if you agree my implementation and what could to be enhanced.</p>\n\n<p>I'm starting with reflection and I would like to know if I'm using good practices.</p>\n\n<p>Sample: www.sample.com/Main?mvc=user/edit/5</p>\n\n<p>See it:</p>\n\n<pre><code>public class StartController extends HttpServlet {\n\n    @Override\n    public void service(HttpServletRequest req, HttpServletResponse resp)\n            throws ServletException, IOException\n    {\n        String vars = req.getParameter(\"mvc\");\n            ApplicationContext context = WebApplicationContextUtils.getWebApplicationContext(getServletContext());\n\n        MainController main = new MainController();\n        main.RESTProcess(req, resp, context, vars);\n    }\n}\n\npublic class MainController extends Controller {\n\n    public void RESTProcess(HttpServletRequest req, HttpServletResponse resp, ApplicationContext context, String vars)\n            throws IOException, ServletException\n    {\n        String[] url;\n        int nvars;\n\n        String controller = null;\n        String action = null;;\n        String[] params = null;\n        int i;\n        int n;\n\n        String controllerName;\n        String actionName;\n\n        if(vars == null || \"\".equals(vars.trim()))\n        {\n            this.redirect(resp,\"home\");\n        }\n        else\n        {       \n            url = vars.split(\"/\");\n            nvars = url.length;\n\n            if(nvars &gt; 0)\n            {\n                controller = url[0].trim(); //users\n                if(nvars &gt; 1)\n                {\n                    action = url[1].trim(); //edit\n                    if(nvars &gt; 2)\n                    {\n                        n = 0;\n                        params = new String[nvars - 2]; //array[0] = 5 (iduser)\n                        for(i = 2; i &lt; nvars; i++)\n                        {\n                            params[n] = url[i];\n                            n++;\n                        }\n                    }\n                }\n\n\n                controllerName = this.getFirstUpper(controller) + \"Controller\"; //HomeController, UserController pattern\n                if(!controllerName.equals(\"Controller\"))\n                {\n                    actionName = \"action\" + this.getFirstUpper(action); //actionIndex, actionEdit pattern\n                    if(!action.equals(\"action\"))\n                    {\n                        try\n                        {\n                            Class classe = Class.forName(\"com.sample.controller.\" + controllerName);\n                            try\n                            {\n                                Constructor c = classe.getConstructor(HttpServletRequest.class, HttpServletResponse.class, String[].class);\n                                try\n                                {\n                                    Object obj = c.newInstance(req, resp, context, params);\n\n                                    Method m = classe.getMethod(actionName, null);\n                                    m.invoke(obj, null);\n\n                                    System.out.println(obj.toString());\n                                }\n                                catch (Exception e)\n                                {\n                                    e.printStackTrace();\n                                }\n                            }\n                            catch (Exception e)\n                            {\n                                e.printStackTrace();\n                            }\n                        }\n                        catch (Exception e)\n                        {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n            else\n            {\n                this.redirect(resp,\"home\");\n            }\n        }\n    }\n\n    public String getFirstUpper(String str)\n    {\n        Integer x = str.length();\n        str = str.substring(0,1).toUpperCase().concat(str.substring(1, x));\n\n        return str;\n    }\n}\n\npublic class UserController extends Controller {\n\n    private HttpServletRequest req;\n    private HttpServletResponse resp;\n    private ApplicationContext context;\n    private String[] params;\n\n    public UserController(HttpServletRequest req, HttpServletResponse resp, ApplicationContext context, String[] params)\n    {\n        this.req = req;\n        this.resp = resp;\n        this.context = context;\n        this.params = params;\n    }\n\n    public void actionEdit()\n    {\n        Long id = Long.valueOf(this.params[0]);\n        System.out.println(\"/home/edit\");\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13015571,"title":"CodeIgniter menu/nav dilemma","body":"<p>I'm trying out CodeIgniter and the whole MVC pattern. I have installed <a href=\"http://www.williamsconcepts.com/ci/codeigniter/libraries/template/reference.html\" rel=\"nofollow\">Colin Williams' Template library</a>, but I get stuck when trying to think of the proper way to include two menus/navs: one general (maybe at the top) and one sidebar that is specific for each controller.</p>\n\n<p>Either way, their placements are not relevant, I'm thinking about the general structure of the code. For now I have a function <code>get_menu()</code> in my model and the return from this is given as an argument when loading a partial template view for the sidebar. Or should I do it in the controller?</p>\n\n<p>A buddy of mine gave me advice not to extend the default controller or model with i.e. a <code>MY_Controller</code>, but I don't know when when implementing the general menu? Or should I maybe hardcode this in the template config file?</p>\n\n<p>I can find no guidelines for this type of task. Everywhere I go I find a new solution and many of them are not pretty and the other lot have a lot of duplicated code.</p>\n\n<p><strong>Edit.</strong> I've updated my code. I'm still undecided on how to write the top nav (probably in <code>MY_Controller</code> so that I can highlight the current page).</p>\n\n<p><strong>MY_Controller.php</strong></p>\n\n<pre><code>abstract class MY_Controller extends CI_Controller {\n    protected $_nav;\n\n    const CONTENT_REGION = 'content';\n    const NAV_REGION = 'nav';\n    const TITLE_REGION = 'title';\n\n    const SIDEBAR_NAV_TEMPLATE = 'templates/sidebar_nav';\n\n    public function __construct() {\n        parent::__construct();\n        $this-&gt;_load_nav();\n    }\n\n    abstract protected function _get_nav();\n\n    protected function _load_nav() {\n        $this-&gt;_nav = array('nav' =&gt; $this-&gt;_get_nav());\n    }\n\n    protected function _render() {\n        $args = func_get_args();\n        $n = func_num_args() - 1;\n\n        if ($n &lt; 2) {\n            return;\n        }\n\n        $this-&gt;template-&gt;write(self::TITLE_REGION, $args[0]);\n\n        for ($i = 1; $i &lt; $n; $i++) {\n            $this-&gt;template-&gt;write_view(self::CONTENT_REGION, $args[$i], $args[$n]);\n        }\n\n        $this-&gt;template-&gt;write_view(self::NAV_REGION, self::SIDEBAR_NAV_TEMPLATE, $this-&gt;_nav);\n        $this-&gt;template-&gt;render();\n    }\n\n    protected function _set_active_view($active) {\n        if ($active !== null &amp;&amp; isset($this-&gt;_nav['nav'][$active])) {\n            $this-&gt;_nav['nav'][$active]['class'] .= ' active';\n        }\n    }\n}\n</code></pre>\n\n<p><strong>collection.php</strong></p>\n\n<pre><code>class Collection extends MY_Controller {\n    public function __construct() {\n        parent::__construct();\n        $this-&gt;load-&gt;model('collection_model');\n    }\n\n    protected function _get_nav() {\n        return array(\n            'collection/view' =&gt; array(\n                'href'  =&gt; 'collection/view',\n                'value' =&gt; 'View collection',\n                'class' =&gt; 'icon-film'\n            ),\n            'collection/add' =&gt; array(\n                'href'  =&gt; 'collection/add',\n                'value' =&gt; 'Add title',\n                'class' =&gt; 'icon-plus-sign'\n            )\n        );\n    }\n\n    public function index() {\n        $this-&gt;view();\n    }\n\n    public function view() {\n        $data['list'] = $this-&gt;collection_model-&gt;get_list();\n        $this-&gt;_set_active_view('collection/view');\n        $this-&gt;_render('View Collection', 'collection/view', $data);\n    }\n}\n</code></pre>\n\n<p><strong>sidebar_nav.php</strong></p>\n\n<pre><code>&lt;ul class=\"nav nav-list bs-docs-sidenav\"&gt;\n    &lt;?php\n\n    foreach ($nav as $item) {\n        echo '&lt;li';\n\n        if ($item['class'] !== null || $item['class'] !== '') {\n            echo ' class=\"' . $item['class'] . '\"';\n        }\n\n        echo '&gt;&lt;a href=\"' . $item['href'] . '\"&gt;' . $item['value'] . '&lt;/a&gt;&lt;/li&gt;';\n    }\n\n    ?&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>How does this look? I might write a function <code>_render($title, $view, $data)</code> in <code>MY_Controller</code> that does all the template stuff. What do you think?</p>\n\n<p>Another solution I've been thinking about is to remove <code>_get_nav()</code> and load the needed nav data from a config file, but I don't know how to do this.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2184,"score":1,"question_id":5544891,"title":"logout feature in code igniter","body":"<p>I started using codeigniter for my project. I have user authentication system for my website. I have seen the videos from nettuts for the login information. I am confused why the logout is not working properly. </p>\n\n<p>I have the following logout function in my login controller.</p>\n\n<pre><code>function logout() {\n        $this-&gt;session-&gt;sess_destroy();\n        redirect('main');\n    }\n</code></pre>\n\n<p>If I click on the logout button I am redirecting the user to the main page. But after redirecting the user to the main page, if click on the back button on the browser I will see the logoff and my name on the top of the page. I need some help on where I am going wrong or is there any important piece of code I am missing in my controller</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I think I found the solution. I should append the following code into the appropriate controller</p>\n\n<pre><code>$this-&gt;output-&gt;set_header(\"Cache-Control: no-store, no-cache, must-revalidate, no-transform, max-age=0, post-check=0, pre-check=0\");\n$this-&gt;output-&gt;set_header(\"Pragma: no-cache\"); \n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","model-validation","validationattribute"],"answer_count":2,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":232,"score":4,"question_id":12938576,"title":"Best approach for complex model/submodel validation (MVC)","body":"<h1>Problem</h1>\n\n<p>I know there is a lot of ways of doing Model validation within MVC, and there is quite a lot of documentation regarding this topic. However, I'm not quite sure what's the best approach for validating properties of the <strong>Model</strong> which are <em>\"Sub Model\"</em> of <strong>same type</strong>. </p>\n\n<p>Keep in mind the following</p>\n\n<ul>\n<li>I still want to to take profit of the <code>TryUpdateModel/TryValidateModel</code> methods</li>\n<li>Each of these <em>\"sub models\"</em> have strongly typed views</li>\n<li>There is one strongly typed view for the <code>MainModel</code> class that renders the overall display view</li>\n</ul>\n\n<p>It might sound a little confusing but i'll throw in some code to clarify. Take as example the following classes:</p>\n\n<p><strong>MainModel:</strong></p>\n\n<pre><code>class MainModel{\n    public SomeSubModel Prop1 { get; set; }\n    public SomeSubModel Prop2 { get; set; }\n}\n</code></pre>\n\n<p><strong>SomeSubModel:</strong></p>\n\n<pre><code>class SomeSubModel{\n      public string Name { get; set; }\n      public string Foo { get; set; }\n      public int Number { get; set; }\n}\n</code></pre>\n\n<p><strong>MainModelController:</strong></p>\n\n<pre><code>class MainModelController{\n\n    public ActionResult MainDisplay(){\n         var main = db.retrieveMainModel();\n         return View(main); \n    }\n\n    [HttpGet]\n    public ActionResult EditProp1(){\n         //hypothetical retrieve method to get MainModel from somewhere\n         var main = db.retrieveMainModel();\n\n         //return \"submodel\" to the strictly typed edit view for Prop1\n         return View(main.Prop1);\n    }\n\n    [HttpPost]\n    public ActionResult EditProp1(SomeSubModel model){\n\n         if(TryValidateModel(model)){\n              //hypothetical retrieve method to get MainModel from somewhere\n              var main = db.retrieveMainModel();\n              main.Prop1 = model;\n              db.Save();\n\n              //when succesfully saved return to main display page \n              return RedirectToAction(\"MainDisplay\");\n         }\n         return View(main.Prop1);\n    }\n\n    //[...] similar thing for Prop2 \n    //Prop1 and Prop2 could perhaps share same view as its strongly \n    //typed to the same class\n}\n</code></pre>\n\n<p>I believe this code all make sense until now (correct me if it's not the case) because <code>TryValidateModel()</code> is validating against a model with no <code>ValidationAttribute</code>. </p>\n\n<p>The problem lies here, where would be the best place, or what would be the best and most elegant way to have <strong>different validation constraints</strong> for <code>Prop1</code> and <code>Prop2</code> while still taking advantage of <code>TryValidateModel()</code> and not filling the Edit method with conditional statements and <code>ModelState.AddModelError()</code></p>\n\n<p>Usually you could have validation attributes in the <code>SomeSubModel</code> class, but it wouldn't work in this case, because there is different constraints for each property. </p>\n\n<p>Other option is that there could be Custom validation attribute in the <code>MainModel</code> class, but it also wouldn't work in this case because the <code>SomeSubModel</code>object is passed directly to the view and when validating has no reference to its <code>MainModel</code> object.</p>\n\n<p>The only left option I can think about is a ValidationModel for each property, but I am not quite what would be the best approach for this.</p>\n\n<h1>Solution</h1>\n\n<p>Here's solution I implemented, based of @MrMindor's answer.</p>\n\n<p><strong>Base ValidationModel class:</strong></p>\n\n<pre><code>public class ValidationModel&lt;T&gt; where T : new()\n{\n    protected ValidationModel() {\n        this.Model = new T();\n    }\n    protected ValidationModel(T obj) { \n        this.Model = obj; \n    }\n\n    public T Model { get; set; }\n}\n</code></pre>\n\n<p><strong>Validation Model for Prop1</strong></p>\n\n<pre><code>public class Prop1ValidationModel:ValidationModel&lt;SomeSubModel&gt;\n{\n    [StringLength(15)]\n    public string Name { get{ return base.Model.Name; } set { base.Model.Name = value; } }\n\n    public Prop1ValidationModel(SomeSubModel ssm)\n        : base(ssm) { }\n}\n</code></pre>\n\n<p><strong>Validation Model for Prop2</strong></p>\n\n<pre><code>public class Prop2ValidationModel:ValidationModel&lt;SomeSubModel&gt;\n{\n    [StringLength(70)]\n    public string Name { get{ return base.Model.Name; } set { base.Model.Name = value; } }\n\n    public Prop2ValidationModel(SomeSubModel ssm)\n        : base(ssm) { }\n}\n</code></pre>\n\n<p><strong>Action</strong></p>\n\n<pre><code>[HttpPost]\npublic ActionResult EditProp1(SomeSubModel model){\n\n     Prop1ValidationModel vModel = new Prop1ValidationModel(model);\n     if(TryValidateModel(vModel)){\n\n          //[...] persist data\n\n          //when succesfully saved return to main display page \n          return RedirectToAction(\"MainDisplay\");\n     }\n     return View(model);\n}\n</code></pre>\n"},{"tags":["java","spring","mvc","freemarker"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13085693,"title":"Spring with FreeMarker: Could not resolve view with name 'Home' in servlet with name 'MyServlet'","body":"<p>I am trying to create a very simple integration of FreeMarker and Spring. However, when I run my example, I get an exception:</p>\n\n<pre><code>GRAVE: Servlet.service() for servlet MyServlet threw exception\njavax.servlet.ServletException: Could not resolve view with name 'Home' in servlet with name 'MyServlet'\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1162)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:950)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>I don't know what's wrong with my configuration:</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextClass&lt;/param-name&gt;\n        &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;com.jverstry.Configuration&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p><strong>Web Configuration</strong></p>\n\n<pre><code>@EnableWebMvc\n@Configuration\n@ComponentScan(basePackages = \"com.jverstry\")\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public ViewResolver getViewResolver() {\n\n        FreeMarkerViewResolver resolver = new FreeMarkerViewResolver();\n        resolver.setCache(true);\n        resolver.setPrefix(\"WEB-INF/pages/\");\n        resolver.setSuffix(\".ftl\");\n\n        return resolver;\n\n    }\n\n    @Bean\n    public FreeMarkerConfigurer getFreemarkerConfig() {\n\n        FreeMarkerConfigurer result = new FreeMarkerConfigurer();\n\n        result.setTemplateLoaderPath(\"WEB-INF/pages/\");\n\n        return result;\n\n    }   \n\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@Controller\npublic class MyController {\n\n    @RequestMapping(value = \"/\")\n    public String home(@ModelAttribute(\"model\") ModelMap model) {\n\n        model.addAttribute(\"MsTime\", System.currentTimeMillis());\n\n        return \"Home\";\n\n    }\n\n}\n</code></pre>\n\n<p><strong>P.S.</strong>: Of course, there is a <code>Home.ftl</code> file in <code>WEB-INF/pages/</code>.</p>\n"},{"tags":[".net","asp.net-mvc","mvc","asp.net-webforms"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":58,"score":0,"question_id":13085689,"title":".Net Or .net MVC ? Beginer in need of an opinion","body":"<p>When I began learning ASP I was told to download Visual Web Developer 2008 Express. In essence I wanted to start building sites with valid log ins, possible grocery carts and simple profile for users. I realized that I am going to have to dig deeper than simply a tutorial series and found myself choosing between classic ASP.NET and MVC. However, search results aren't very clear to me as to which I should be learning. \nIn order to make sites as listed above would you suggest learning MVC or classic ASP.NET? In a nutshell why?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":91,"score":3,"question_id":13087055,"title":"Rails create or update Users","body":"<p>I am very very new to Rails and am struggling a little.</p>\n\n<p>I have users that follow a basic sign up, edit process.</p>\n\n<p>I have a situation where a user can be 'part registered', i.e a users email address in the db with a random password as they where put in there via an invite process by an existing user.</p>\n\n<p>When an invited user who already technically exists in the db tries to register I get 'email already exists' since I do have uniqueness checks applied to the user object and a unique index on the table. </p>\n\n<p>I did turn this off and using if statements within the create method to see if the user exists and checked other values did an update or a new and save. All of the if conditions were ignored and a new user was created.</p>\n\n<p>What I want to do is use the same registration form that 'creates' a user to update an existing 'part registered' user with their entered password and name if they exist (email address check) and other db flags are set to true. if the user does exist but the conditions not met load a 'forgot password' page or if user is a new user create and save it.</p>\n\n<p>Any assistance or advice on how to achieve the above would be brill.</p>\n\n<p>Thanks</p>\n\n<p>Vicky</p>\n\n<hr>\n\n<p>Here is my set up:</p>\n\n<p>User class</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  attr_accessor :password\n  attr_accessible :email, :name, :password, :password_confirmation, :tandc\n\n  email_regex = /\\A[\\w+\\-.]+@[a-z\\d\\-.]+\\.[a-z]+\\z/i\n\n  validates :name, :presence =&gt; true,\n                   :length =&gt; { :maximum =&gt; 50 }\n\n  validates :email, :presence =&gt; true,\n                    :format =&gt; {:with =&gt; email_regex },\n                    :uniqueness =&gt; { :case_sensitive =&gt; false }\n\n  validates :password,  :presence =&gt; true,\n                        :confirmation =&gt; true,\n                        :length =&gt; { :within =&gt; 6..40 }\n\n  validates :tandc, :presence =&gt; true\n\n  before_save :encrypt_password\n  .\n  .\n  .\nend\n</code></pre>\n\n<p>I have a UsersController with the following</p>\n\n<pre><code>  def new\n    @user = User.new\n    @title = \"Sign Up\"\n  end\n\ndef create\n if @user.save\n    sign_in @user\n    redirect_to @user\n else\n    @title = \"Sign up\"\n    render 'new'\n end\nend\n\ndef update\n  if @user.update_attributes(params[:user])\n    redirect_to @user\n  else\n   @title = \"Edit\"\n   render 'edit'\n  end\nend\n.\n.\n.\n</code></pre>\n\n<p>I have views:\n user > new.html.erb</p>\n\n<pre><code>&lt;%= form_for(@user, :html =&gt; { :class =&gt; \"validateUser\", :name =&gt;\"edit_user\"}) do |f| %&gt;\n  .\n  .\n  .\n  form stuff here\n  .\n  .\n  .\n&lt;% end %&gt;\n</code></pre>\n\n<p>and user > edit.html.erb</p>\n\n<pre><code>  &lt;%= form_for(@user, :html =&gt; { :class =&gt; \"validateUser\", :name =&gt;\"edit_user\"}) do |f| %&gt;\n  .\n  .\n  .\n  form stuff here\n  .\n  .\n  .\n  &lt;% end %&gt;\n</code></pre>\n\n<p>my routes for users are as follows</p>\n\n<pre><code>    users GET    /users(.:format)                users#index\n          POST   /users(.:format)                users#create\n new_user GET    /users/new(.:format)            users#new\nedit_user GET    /users/:id/edit(.:format)       users#edit\n     user GET    /users/:id(.:format)            users#show\n          PUT    /users/:id(.:format)            users#update\n          DELETE /users/:id(.:format)            users#destroy\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","view","model","alias"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13087424,"title":"In MVC is there a way to Alias the Model Properties to display in a html.Labelfor","body":"<p>In my users form I want to use the html.Labelfor  helper, but instead of  Model Property name of CatName, I would like  Category Name Instead. I know I could put this in a , but I have to reuse the names over and over. Below is example.</p>\n\n<p>Model Property:</p>\n\n<pre><code>public string CatName { get; set; }\n</code></pre>\n\n<p>VIEW:</p>\n\n<pre><code>@Html.LabelFor(model =&gt; model.CatName)  //Displays CatName , I want Category Name\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","c#-4.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13085485,"title":"Loading selected radio buttons using an editor c#","body":"<p>In relation to this question:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/12883869/grouping-radio-buttons-in-c-sharp-mvc\">StackOverflow - Grouping radio buttons in c# mvc</a></p>\n\n<p>I have managed now to load and save the selected options from the form into a database but now the user may need to edit this.</p>\n\n<p>How do I load the view with the selected user's choices? I cannot see where you can set selected Answer. On load I am getting the default values selected</p>\n"},{"tags":["database","mvc","controller","asp.net-mvc-4","authorization"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13084523,"title":"Prevent authorized user from editing data which does not belong to him","body":"<p>I have read a dozen questions concerning custom authorization filters in ASP.NET MVC, but none of them tackles what I have in mind. </p>\n\n<p>Here is the setup:</p>\n\n<ul>\n<li>ASP.NET MVC 4 project</li>\n<li>UserProfiles are stored in DB (EF5) and linked to the SimpleMembershipProvider with WebSecurity.InitializeDatabaseConnection. So I can always get a UserProfile based on User.Identity.Name </li>\n<li>Each User entity has a collection of BlogPost's in a one-to-many relationship.</li>\n<li>Each BlogPost \"knows\" the user that owns it via a UserProfile property (thanks EF!).</li>\n</ul>\n\n<p>Imagine that John tries to access <a href=\"http://mysite.com/BlogPosts/Edit/5\" rel=\"nofollow\">http://mysite.com/BlogPosts/Edit/5</a> and that BlogPost number 5 is Mary's blog post. John is authorized since he is logged in and he passes the built-in authorization scheme, but he does not have the right to edit Mary's blos post. I hope you get the picture.</p>\n\n<p>I know about authorization in ASP.NET MVC and I know that I can build my own custom IAuthorizationFilter. However, <strong>my authorization filter has to access the database</strong> (DbContext in my case) in order to check whether the entity being edited/deleted, i.e. BlogPost number 5 is owned by the currently logged in user. In other words, the currently logged in user can only edit and delete his \"stuff\". Each \"stuff\" knows the user that owns it.</p>\n\n<p>Something like this in pseude code:</p>\n\n<pre><code>var currentlyLoggedUser = this.dbContext.UserProfiles.Single(user =&gt; user.Username == this.User.Identity.Name); \n\nif (blogPost.UserProfile != currentlyLoggedUser)\n{\n// \"John you are not allowed to edit someone else's blog post, you bad boy\".\n}\n</code></pre>\n\n<p>So, my two simple questions are:\n1. What is the \"best practices\" way to <strong>access the database from within a custom IAuthorizationFilter</strong>? Should I somehow inject my IRepository (the interface serving my DbContext) into the authorization filter attribute? Should I try to find my IRepository from the Controller from within the OnAuthorization method of my filter? Is it ok to access the DB from within a filter in the first place?\n2. If using an IAuthorizationFilter for this task is not the \"best practices\" way to do this, then what is?</p>\n\n<p>So to summarize:</p>\n\n<p><strong>How can I make sure that the currently logged user can edit/delete only his \"stuff\", if every \"stuff\" knows the user that owns it?</strong></p>\n"},{"tags":["php","mvc","iis7","url-rewriting","web-config"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13081673,"title":"404 page when defining Controller and Action in custom PHP MVC in IIS","body":"<p>I am building a custom PHP MVC framework based on <a href=\"http://www.youtube.com/watch?v=Aw28-krO7ZM\" rel=\"nofollow\">http://www.youtube.com/watch?v=Aw28-krO7ZM</a> (Create Your Own MVC - Jream), however I am using IIS as my local webserver.  I have installed the Url Rewrite Module and added the following rule:</p>\n\n<pre><code>&lt;rewrite&gt;\n  &lt;rules&gt;\n    &lt;rule name=\"MyRewriteRule\" stopProcessing=\"true\"&gt;\n      &lt;match url=\"^(.*)$\" ignoreCase=\"false\"/&gt;\n      &lt;action type=\"Rewrite\" url=\"index.php?url={R:1}\" appendQueryString=\"true\" /&gt;\n      &lt;conditions&gt;\n        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" /&gt;\n        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" /&gt;\n      &lt;/conditions&gt;\n    &lt;/rule&gt;\n &lt;/rules&gt;\n&lt;/rewrite&gt;\n</code></pre>\n\n<p>The MVC is structured as follows:</p>\n\n<pre><code>application(folder)\n   config(folder), controllers(folder), view(folder), model(folder) etc...\npublic(folder)\n   css, images, js, etc...\nindex.php\nweb.config\n</code></pre>\n\n<p>The url <code>http://localhost:8080/MyApp/</code> works just fine but <code>http://localhost:8080/MyApp/index/</code> fails...or <code>/home</code>, <code>/legal</code> any controller for that matter.  In the custom Bootstrap.php file the following code executes:</p>\n\n<pre><code>&lt;?php class Bootstrap{\n   function __construct(){\n      //format the url\n      $url=isset($_GET['url'])? $_GET['url']: null; //when a controller is specified it fails before even hitting this point, im sent to the error 404 page before getting past here\n      $url=rtrim($url,'/');\n      $url=explode('/',$url);\n\n      if(empty($url[0])){\n         require 'application/controllers/index.php';\n         //.....blah blah blah\n      }\n        //more irrelevant code...\n         require 'application/controllers/'.url[0]'.php';\n      //more irrelevant code...\n     }} ?&gt;\n</code></pre>\n"},{"tags":["json","mvc","asp.net-web-api","web-api"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":356,"score":1,"question_id":11732097,"title":"JsonValue returned by MVC Web Api is empty in client side","body":"<p>I'm using MVC web Api for RESTful purpose. My controller methods return serialized Json object in string format to client and it works fine. I've got some simple method like this:</p>\n\n<pre><code>public string Put(Folder folder)\n{\n   var folder1 = new Folder{Id=\"1\", IsShared=true,Name= folder.Name};\n   var jsSerializer = new JavaScriptSerializer();\n   return jsSerializer.Serialize(folder1);\n}\n</code></pre>\n\n<p>I call Get, Put, Delete and Post methods in QUnit test like this and it works fine:</p>\n\n<pre><code>ajax: {\n        getData: function (url, data) {\n            return processRequest(url, data, \"GET\");\n        },\n\n        postData: function (url, data) {\n            return processRequest(url, JSON.stringify(data),\"POST\");\n        },\n\n        updateData: function (url, data) {\n            return processRequest(url, JSON.stringify(data),\"UPDATE\");\n        },\n\n        deleteData: function (url, data) {\n            return processRequest(url, JSON.stringify(data),\"DELETE\");\n        },\n\n        processRequest: function (url, data, type) {\n            return $.ajax({\n                type: type,\n                dataType: \"json\",\n                contentType: \"application/json;charset=utf-8\",\n                url: url,\n                data: data,\n                processData: true\n            });\n        }\n    },\n</code></pre>\n\n<p>I need to change return value from string to actual Json object because client doesn't want serialized Json anymore they need actual Json object. So I changed the method return type to JsonValue and parse the serialized Json object using JsonValue.Parse() method. When I trace my codes in server side, JsonValue object has proper values in its properties and looks fine but the returned JsonValue in client side has empty properties. here is changed method:</p>\n\n<pre><code>public JsonValue Put(Folder folder)\n{\n   var folder1 = new Folder{Id=\"1\", IsShared=true,Name= folder.Name};\n   var jsSerializer = new JavaScriptSerializer();\n   return JsonValue.Parse(jsSerializer.Serialize(folder1));\n}\n</code></pre>\n\n<p>here is test result:</p>\n\n<pre><code>Expected:   \n{\n  \"Id\": \"1\",\n  \"IsShared\": true,\n  \"Name\": \"abc\"\n}\n\nActual:\n{\n  \"Id\": [],\n  \"IsShared\": [],\n  \"Name\": []\n}\n</code></pre>\n\n<p>I appreciate any idea.</p>\n"},{"tags":["html5","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13081454,"title":"How is added listener is called in html 5 SSE","body":"<p>This is my code :\nThis code is on client side which fires the notification</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n//this calls my action in my controller\n    var source = new EventSource('/dinners/checkrsvp');\n    source.onopen = function (event) {\n    };\n\n    source.onerror = function (event) {\n    };\n\n    source.onmessage = function (event) {\n        document.getElementById('divSSE').innerHTML = event.data + '&lt;br&gt;';\n    };\n\n//my event listener\n    source.addEventListener('ping', function (event) {\n        $('&lt;li&gt;').text(event.data).appendTo('#divSSE');\n     }, false);\n&lt;/script&gt;\n</code></pre>\n\n<p>How will be my \"ping\" listener will be called?</p>\n"},{"tags":["php","javascript","ajax","mvc","front-controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13060712,"title":"Javascript Login Page with PHP authentication script- Which implementation is Best?","body":"<p>I wrote a working php authentication script for my HTTP file Server. Now, I want to write a login page with some nice graphics. I usually write my pages in HTML5, javacscript, and CSS. I am not sure how to implement the php authentication script. So far I have two ways I think I know of:</p>\n\n<ol>\n<li><p>Write the login page in html5 and javascript, use ajax call to the php script after user enters name/password in input boxes, pass the username and password to the script, and have php return ether true or false depending on if that user was authenticated. Problem is, I do not know how to get php return true or false to javascript.</p></li>\n<li><p>Write a PHP front controller model where the index.php loads html5, javascript, and css for graphics and if user is authenticated then redirect to the normal index.html document for the html file server. The problem with this is I am not familiar with using php as the front controller and I don't know if I can dynamically change elements with javascript for special effects just as if it was a normal html5 page. </p></li>\n</ol>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13066824,"title":"Unable to cast object of type in MVC 3.0 Razor","body":"<p>I am new MVC 3.0 Razor.  I am using LINQ to get the details of profiles.</p>\n\n<p>In the controller i am using</p>\n\n<pre><code>  var q = from m in networks.Entities\n                    join o in networks.EntityTypes on m.EntityTypeIdFk \n                    where m.Status == 1\n                    orderby m.EntityName\n                    select new { m.EntityName,m.EntityDescription,o.EntityTypeName };\n\n            ViewBag.EntitiesName = q.ToList();\n</code></pre>\n\n<p>on the View i m using</p>\n\n<pre><code>@foreach (var res in ViewBag.EntitiesName)\n    {\n        &lt;tr&gt;\n            &lt;td&gt;@res.EntityName&lt;/td&gt;\n            &lt;td&gt;@res.EntityDescription&lt;/td&gt;\n            &lt;td&gt;@res.EntityTypeName&lt;/td&gt;\n        &lt;/tr&gt;\n    }\n</code></pre>\n\n<p>in the @res i m getting the resultant array. But still i m getting error \"Unable to cast object of type\"</p>\n\n<p>Please Help me to resolve this.</p>\n\n<p>Thanks,\nSaloni</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2939,"score":2,"question_id":6872332,"title":"how to solve The message filter indicated that the application is busy. (Exception from HRESULT: 0x8001010A (RPC_E_SERVERCALL_RETRYLATER)) asp.net mvc","body":"<p>I ran my code in Visual Studio 2010. It works fine when I publish my application.   </p>\n\n<p>In Windows Server 2003 IIS6.0 I get an exception.</p>\n\n<blockquote>\n  <p>The message filter indicated that the application is busy. (Exception from HRESULT: 0x8001010A (RPC_E_SERVERCALL_RETRYLATER)) asp.net mvc</p>\n</blockquote>\n\n<p>My code is here:  </p>\n\n<p>public ActionResult Getfile(int id)\n        {</p>\n\n<pre><code>        Candidate candidate = IcandidateRepository.GetCandidate(id);\n\n        if (candidate.FilePath != null)\n        {\n            string Filename = Path.GetFileName(candidate.FilePath);\n            //string[] filename = candidate.FilePath.Split('\\\\');\n            //foreach (var file in filename)\n            //{\n            //    Filename = file;\n            //}\n\n            Microsoft.Office.Interop.Word.Application wordApplication = new Microsoft.Office.Interop.Word.Application();\n            object nullobj = System.Reflection.Missing.Value;\n            object filepath = candidate.FilePath;\n            object ofalse = false;\n            object isvisible = false;\n            Microsoft.Office.Interop.Word.Document doc = wordApplication.Documents.Open(ref filepath,\n            ref nullobj, ref nullobj, ref nullobj, ref nullobj, ref nullobj,\n            ref nullobj, ref  nullobj, ref nullobj, ref nullobj, ref isvisible,\n            ref nullobj, ref nullobj, ref nullobj, ref nullobj, ref nullobj);\n            wordApplication.Visible = false;\n            string newfilename = Filename.Replace(\".doc\", \".html\");\n            object onewfilename = @\"D:\\\\clg\\\\\" + newfilename;\n            object encoded = Microsoft.Office.Core.MsoEncoding.msoEncodingUTF8;\n            object encodending = Microsoft.Office.Interop.Word.WdLineEndingType.wdCRLF;\n            object oformat = Microsoft.Office.Interop.Word.WdSaveFormat.wdFormatHTML;\n            doc.SaveAs(ref onewfilename, ref oformat, ref nullobj,\n                        ref nullobj, ref nullobj, ref nullobj, ref nullobj, ref nullobj, ref nullobj,\n                        ref nullobj, ref nullobj, ref encoded, ref nullobj,\n                        ref nullobj, ref encodending, ref nullobj);\n            doc.Close(ref ofalse, ref nullobj, ref nullobj);\n\n            wordApplication.Quit(ref nullobj, ref nullobj, ref nullobj);\n            string newfile = onewfilename.ToString();\n\n\n\n\n\n            if (Filename != null)\n            {\n                dynamic cmd = System.Diagnostics.Process.Start(newfile);\n\n                return RedirectToAction(\"CandidateDetails\", new { id = candidate.CandidateID });\n\n            }\n        }\n\n\n        return View(\"FileNotFound\");\n\n\n   }\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","deployment"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2827,"score":1,"question_id":5832653,"title":"How to deploy an MVC application on IIS 7?","body":"<p>I have a MVC application and I can't get it working on IIS 7. Debugging in VS2010 works fine, but when I publish the website to my local IIS7, I see nothing but blank pages.</p>\n\n<p>Here is what I have done:</p>\n\n<p>On the project, right click and click Publish. In the Publish Web window I set these settings:</p>\n\n<ul>\n<li>Publish method: Web deploy</li>\n<li>Service URL: localhost</li>\n<li>Site/application: Default Web Sit\\Africa</li>\n<li>both, <code>Mark as IIS application on destination</code> and <code>Leave extra files on destination (do not delete</code> are checked.</li>\n</ul>\n\n<p>In IIS, my application runs under a application pool with supports .net 4.0 and managed pipeline is set to integrated.</p>\n\n<p>I don't get any error while publishing, but when I navigate to my site I only see blank pages. Nothing happens.</p>\n\n<p>What goes wrong?</p>\n\n<p>EDIT:</p>\n\n<p>When I navigate to <a href=\"http://localhost/Africa/\" rel=\"nofollow\">http://localhost/Africa/</a> I see a blank page. When I navigate to <a href=\"http://localhost/Africa/Views/Home/\" rel=\"nofollow\">http://localhost/Africa/Views/Home/</a> I get a 500 error. </p>\n\n<p>How can I solve this?</p>\n"},{"tags":["java","mvc","design-patterns","simulation","oo"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":82,"score":3,"question_id":13077023,"title":"How to set up simulation architecture, OO design","body":"<p>I'm building a simulation in Java. So, I'll break my simulation into two parts:</p>\n\n<p>1) The simulation engine</p>\n\n<p>2) The simulation model</p>\n\n<p>Basically I want a little help (tips/advice) about how to split it up i.e. what goes where.</p>\n\n<p>So I'm thinking that the engine will keep track of time. It will listen for events and when events arrive it will update the state of the simulation ( I'm building a discrete event simulation). The simulation model will have the GUI and it will get the logic and data from the actual engine. I'm thinking that the model will provide the actual events as input to the engine. I've been thinking about a car analogy where the engine is the body of the car and the model the driver. So I want it to behave like the driver(model) telling the car(engine) what to do i.e. when to turn when to break and what speed to go at etc</p>\n\n<p>Do you think I'm tackling this in the right way? I can sense that I sound a little confusing and not very clear. So I'll just clarify that what I'm looking for is just some input to how I should split this up and what the responsibility of engine and model should actually be.</p>\n\n<p>Also, I was wondering, if I were to implement the MVC design pattern, how would that fit in with the way I'm trying to break it up?</p>\n\n<p>EDIT:</p>\n\n<p>By model I mean that I want the simulation to have a set of specific rules which the engine then follows. As I'm building a road traffic simulator, the rules could be like, the distribution of cars, driver profiles, what cars may and may not do ( e.g. stop for red light) etc. So the model is like the \"brain\" of the simulation if you get what I mean, and then the engine being the actual simulation of the set of \"rules\" specified by the model. I hope this makes more sense. </p>\n"},{"tags":["java","swing","mvc","jframe"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13072575,"title":"How to close a previous Frame when a new Frame is opened","body":"<p>I am coding MVC. In my controller i am listening to the action and if the user clicks a \"SHOW-LIST\" button i am making an instance of my view class which extends from JFrame and therein the view class i create a new JFrame. My problem is that if i click on SHOW-LIST button multiple times, i have the frame opened multiple time. Can somebody please tell me how can i do so so that once a new frame is about to open the old frame closes..</p>\n\n<p>Controller</p>\n\n<pre><code>public void actionPerformed(ActionEvent event) {\n  String viewAction = event.getActionCommand();\n  ...\n    if (viewAction.equals(\"SHOW-LIST\")) {\n      showListUI = new ShowListDialogUI(displayedCustomerList);\n    }\n}\n</code></pre>\n\n<p>View</p>\n\n<pre><code>class ShowListDialogUI extends JFrame{\n  public ShowListDialogUI (List&lt;Customer&gt; customerList) {\n    ..\n    // I am drawing it here\n    ..\n  }\n}\n</code></pre>\n"},{"tags":["php","mysql","database","mvc","cakephp"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2885,"score":3,"question_id":1788072,"title":"CakePHP using multiple databases for models","body":"<p>Is it possible for certain models to be in one database and other models in another (using the same connection)?</p>\n\n<p>I have a number of read-only tables that I want shared between multiple installations of my system. Other tables need to be per-installation. For the sake of example, let's say <code>users</code> is the shared table, and <code>posts</code> is per-installation.</p>\n\n<p>In one schema (let's call it \"shared\") we have the <code>users</code> table, and in another schema (\"mycake\") is <code>posts</code>.</p>\n\n<p>I've been able to get the User model reading from the other database by creating a new database connection which points to the shared database (though the two databases are on the same host and are both accessible with the same login details).</p>\n\n<pre><code>class User extends AppModel {\n    var $useDBConfig = 'sharedConnection';\n}\n</code></pre>\n\n<p>The problem is when it comes time to join to the <code>posts</code> table. It doesn't prepend the schema name to the table name, and so it can't find <code>posts</code>.</p>\n\n<pre><code>// what it does\nSELECT * FROM users User INNER JOIN posts Post ...\n\n// what I'd like it to do:\nSELECT * FROM shared.users User INNER JOIN mycake.posts Post ...\n</code></pre>\n\n<p>So basically, <strong>is there a way to assign a fully qualified table name to a model and force it to use that in all its queries?</strong> Setting <code>var $useTable = 'shared.users';</code> doesn't help... </p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":505,"score":0,"question_id":8965352,"title":"Creating DropDownListFor in a Partial View in MVC","body":"<p>I have created a partial view that displays a dropdownlist</p>\n\n<p><code>html.DropDownListFor(m =&gt; m.SelectOption, Model.SelectOption)</code></p>\n\n<p>I get an error of Object not reference to an instance....</p>\n\n<p>If I put the code above into my view (aspx) it works fine no problem. But in the partial view I get the error. </p>\n\n<p>The textbox controls in my partial view works fine using the same model. I just can't around the DropDownList.</p>\n"},{"tags":["c#","mvc","design-patterns","uml"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":10948226,"title":"Control Boundary Entity in Code","body":"<p>there are many text about Boundary , Entity , Control class and ICONIX process and Robustness Diagrams.but there is no code samples in real , how can we implement control classes in code ? here is my code sample , i want to detect that where is the control class in this code ? </p>\n\n<p>classes :</p>\n\n<p>Program_Boundary : Boundary Class</p>\n\n<p>Person           : Entity</p>\n\n<p>People           : Entity ( because it has CRUD operations )</p>\n\n<p>Where is Control class  ? Is there a control class for this example :</p>\n\n<pre><code>class Program_Boundary // BoundaryClass\n{\n    static void Main(string[] args)\n    {\n        People people = new People();\n        Person person;\n        for (int i = 0; i &lt; 5; i++)\n        {\n            Console.WriteLine(\"Enter name:\");\n            string name = Console.ReadLine();\n            Console.WriteLine(\"Enter family:\");\n            string family = Console.ReadLine();\n            person = new Person(name, family);\n            people.Add(person);\n        }\n    }\n}\nclass People //Entity Class\n{\n    List&lt;Person&gt; person_list = new List&lt;Person&gt;();\n    public People()\n    {\n\n    }\n    public void Add(Person person)\n    {\n        person_list.Add(person);\n    }\n    public void Delete(string name, string family)\n    {\n        for (int i = 0; i &lt; person_list.Count; i++)\n            if (person_list[i].name == name &amp;&amp; person_list[i].family == family)\n                person_list.Remove(person_list[i]);\n    }\n    public void Update(string name, string family, string new_name, string new_family)\n    {\n        for (int i = 0; i &lt; person_list.Count; i++)\n            if (person_list[i].name == name &amp;&amp; person_list[i].family == family)\n            {\n                person_list[i].name = new_name;\n                person_list[i].family = new_family;\n            }\n    }\n}\nclass Person //Entity Class\n{\n    private string _name;\n    private string _family;\n\n    public Person(string n,string f)\n    {\n        _name = n;\n        _family = f;\n    }\n    public string name { get { return _name; } set { _name = value; } }\n    public string family { get { return _family; } set { _family = value; } }\n}\n</code></pre>\n"},{"tags":["xml","mvc","combobox","sencha-touch-2","store"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13066637,"title":"Load data from XML to selectfield in a form in sencha touch 2","body":"<blockquote>\n  <p>I want to populate data from an XML file to a selectfield in a form in sencha 2. how to do that.</p>\n</blockquote>\n"},{"tags":["javascript","jquery","mvc","http","backbone.js"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":1708,"score":7,"question_id":8291596,"title":"Are there any Backbone.js tutorials that teach \".sync\" with the server?","body":"<p>I read many Backbone.js tutorials, but most of them deal with static objects.  </p>\n\n<p>Of course, I have data on the server.  I want a tutorial that shows how backbone.js can communicate with the server to fetch data, post data, etc.</p>\n\n<p>This is <code>.sync</code>, right?  I read the backbone.js documentation, but still fuzzy on how to use this feature.</p>\n\n<p>Or can someone show me an example?</p>\n\n<p>According to: <a href=\"http://documentcloud.github.com/backbone/#Sync\">http://documentcloud.github.com/backbone/#Sync</a></p>\n\n<blockquote>\n  <p>Backbone.sync is the function that Backbone calls every time it\n  attempts to read or save a model to the server.</p>\n</blockquote>\n\n<p>But when? Where do I put the function? I don't know how to use it, and the documentation doesn't give any examples. When does the data get loaded into my models? I get to define when...right?</p>\n"},{"tags":["mvc","attributes","dataannotations","scaffolding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12896883,"title":"Passing values from model to view via AdditionalMetadata","body":"<p>In my Model I have a propety decorated with the AdditionalMetadata attribute to pass through help text that I want to render:</p>\n\n<pre><code>[AdditionalMetadata(\"HelpText\", \"help text goes here\")]\n</code></pre>\n\n<p>In my EditorTemplate (/views/shared/editorTemplates/Object.ascx) I then check to see if this value is set:</p>\n\n<pre><code>&lt;% if (ViewData.ModelMetadata.AdditionalValues.ContainsKey(\"HelpText\"))\n{ %&gt;\n  &lt;span class='editor-help'&gt;\n    &lt;%= ViewData.ModelMetadata.AdditionalValues[\"HelpText\"].ToString()%&gt;\n  &lt;/span&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>However, when I put a breakpoint on ViewData.ModelMetadata.AdditionalValues, its always empty, even though I'm breaking on the correct field and the attribute is definitely set. I'm using MVC4 in case the behaviour has changed since MVC3?</p>\n\n<p>Is there any other step I have to do to pass a custom vale through from the model to the view?</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","jquery","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13067412,"title":"Backbone.js and jquery javascript mvc","body":"<p>For my project i am looking to build a complex javascript application i already have it built with php and jquery, but its really rough and not scalable.</p>\n\n<p>I have been looking at the many many options of mvc based javascript frameworks and backbone knockout and ember always pop up, after reading lots of post explain the pros and cons of each framework i am still finding it hard to agree on one.</p>\n\n<p>my application so far is built with the following\nUI : jquery,html,css\nServer : php (built on codeigniter)</p>\n\n<p>i am using lots of jquery plugins with my app so far (jplayer,tablesorter etc etc ) so these will all need to play nicely with which ever framework i decide on.</p>\n\n<p>But i want to start building large scale javascript applications rather than a mass of jquery which i currently have (i love jquery by the way just thinking as i start building bigger application i feel like i should change).</p>\n\n<p>Hopefully with my web app i can extend it to mobile ipad, iphone etc so i have been building and adding to my api as i go along, i am currently using parts of the api within my application to grab certain info say.</p>\n\n<pre><code>$.getJSON('http://example.com/api/m/user/id/'+data.userid+'/accounts', function(data) {\n      //console.log(data);\n      var html = \"&lt;li&gt;&lt;a href='#'&gt;Home&lt;/a&gt;&lt;/li&gt;\";\n      $.each(data.results, function(key, val) {\n        html += \"&lt;li&gt;&lt;a href='#'&gt;\"+val.accounts+\"&lt;/a&gt;&lt;/li&gt;\";\n\n      });\n      html += \"\";\n      callback(html);\n\n}); \n</code></pre>\n\n<p>but when submitting forms i am using php.</p>\n\n<p>I now this is a very vague post but i really wanted to asked for advise with my following setup, as i am finding hard to decide (What would other people use? is it best to work solely from the api for everything etc etc)???</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","html.actionlink"],"answer_count":5,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":1735,"score":6,"question_id":8331041,"title":"How to use MVC 3 @Html.ActionLink inside c# code","body":"<p>I want to call the @Html.ActionLink method inside a c# function to return a string with a link on it.</p>\n\n<p>Something like this:</p>\n\n<pre><code>string a = \"Email is locked, click \" + @Html.ActionLink(\"here to unlock.\", \"unlock\") ;\n</code></pre>\n"},{"tags":["asp.net","mvc","checkbox","asp.net-membership"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":679,"score":0,"question_id":3022836,"title":"ASP.NET MVC 2 - Checkboxes","body":"<p>I'm using <code>string[] roles = Roles.GetAllRoles()</code> to get a string[] of all the ASP.NET membership roles for my application.  I'm sending the roles to my view in ViewData and using a foreach to create a set of Checkboxes using <code>&lt;%: Html.CheckBox(\"RoleCheckBox\") %&gt;</code>.  There are 3 roles and my view does render 3 checkboxes.  When I do a View/Source, I see the checkboxes and their corresponding hidden  tags.  They all have the same, so there are 6  tags with the name \"RoleCheckBox\" - 3 that render the checkboxes and 3 that are hidden.</p>\n\n<p>The problem comes when I post the form back to my controller and bind the results - something like <code>public ActionResult Create(Person person, string[] RoleCheckBox)</code>.  I get FOUR strings and I have no idea where the fourth string (\"false\") is coming from.  I could do some testing by trying various combinations of checks to see which one (hopefully) doesn't change and ignore it but that's just ugly.</p>\n\n<p>Does anyone know why this would be happening?</p>\n\n<p>Thanks,</p>\n\n<p>Jay</p>\n"},{"tags":["asp.net-mvc-3","entity-framework","mvc","poco","data-access-layer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13059901,"title":"Passing POCOs or EF objects to the Web project?","body":"<p>Say I have a Visual studio solution with two projects: one web project, and one data project.</p>\n\n<p>Does it really matter whether I pass the EF object from the data project to the web project, or do I need to explicitly define POCOs in the data project to pass to the web project?</p>\n\n<p>It seems to me that needing to create POCOs instead of simply using EF objects adds yet another thing that needs to be done...and I don't particularly see the purpose.</p>\n"},{"tags":["java","swing","mvc","code-review"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":206,"score":2,"question_id":10967754,"title":"What is wrong in my MVC implementation?","body":"<p>I need to implement passengers that going to TaxiStation. Each Passenger must be independent object (a thread). When passenger \"going\" it should be displayed in appropriate View(let say GoingToStationPanel) when it arrived to station it should be removed from GoingToStationPanel and displayed in ArrivedToStationPanel. When station closed all passengers should be notified about this by station, should leave the station and should be displayed in appropriate view. There is should be a button that will create new passenger</p>\n\n<p>After reading some examples, I tried to implement MVC on my program, but I get that all classes are too coupled and view location depends on location of model in code. What is wrong and how to fix it?</p>\n\n<p>I have 2 panels inside <code>WrapperMyPanel</code>. Each one of those 2 panels implement \n<code>PassengerEventsViewListener</code>.</p>\n\n<ol>\n<li><p>The first problem I see is that each panel must implement ALL methods of <code>PassengerEventsViewListener</code> even if it doesn't need all of them.</p></li>\n<li><p>The second problem is if I want to move, for example, <code>MyPanel1</code> outside of <code>WrapperMyPanel</code>, so how I will be able to register it(<code>MyPanel1</code>) on Passenger model? after all passenger is created in <code>WrapperMyPanel</code>.</p></li>\n</ol>\n\n<p>The model and view are too coupled here. Where is my mistake and how to fix 2 problems above?</p>\n\n<p><strong>View</strong></p>\n\n<pre><code>class WrapperMyPanel extends JPanel\n{\n    public WrapperMyPanel ()\n    {\n         MyPanel1 panel1 = new MyPanel1();\n         MyPanel2 panel2 = new MyPanel2();\n\n        JButton btnAddPassenger = new JButton(\"Add passenger\");         \n        btnAddPassenger.addActionListener(new ActionListener() {            \n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                Passenger passenger = Dialog.showPassengerDialog(station);\n                if(passenger != null) {\n                    passenger.registerViewListener(panel1 );\n                    passenger.registerViewListener(panel2 );\n                    passenger.start();\n                }\n            }\n        });\n\n        add(btnAddPassenger);\n        add(panel1);        \n        add(panel2);\n    }\n}\n</code></pre>\n\n<p><strong>PassengerEventsViewListener</strong></p>\n\n<pre><code>public interface PassengerEventsViewListener {\n    void goingToStationEvent(EventArgs&lt;Passenger&gt; args);\n    void arrivedToStationGateEvent(EventArgs&lt;Passenger&gt; args);\n    //...\n}\n</code></pre>\n\n<p><strong>PassengerModel</strong></p>\n\n<pre><code>class Passenger extends Thread\n{\n    Vector&lt;PassengerEventsViewListener&gt; viewListener;\n    //...\n    void fireGoingToStation() { //for each listener: listener.goingToStationEvent(this); }\n    void fireArrivedToStation() { ... }\n}\n</code></pre>\n"},{"tags":["python","django","mvc"],"answer_count":3,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":1650,"score":3,"question_id":6621653,"title":"Django vs. Model View Controller","body":"<p>Can somebody explain me where the diferences are between Django and the Model View Controller pattern?</p>\n\n<p>Functionally, what can we expect from those differences  i.e. what works differently comparing Django to, for example, Ruby on Rails?</p>\n"},{"tags":["asp.net-mvc-3","mvc","models"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13060812,"title":"Models - in Data Project or Web Project?","body":"<p>When creating a new ASP.NET MVC3 application, in the default project there is a <code>Models</code> folder. This <code>Models</code> folder includes the <code>AccountModels</code> - <code>RegisterModel</code>, <code>LoginModel</code>, etc. </p>\n\n<p>I have a separate project for the DAL - it includes a <code>repository</code> and a <code>service</code>.</p>\n\n<p>Now, I have a method in my <code>service</code>:</p>\n\n<p><code>TblUser Register(RegisterModel model);</code></p>\n\n<p>For this to work, I must reference the web project in my data project.</p>\n\n<p>Is this appropriate, or should I include my <code>Models</code> folder in my data project instead?</p>\n"},{"tags":["ruby-on-rails","html5","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13060364,"title":"How do i make an offline web app with reporting?","body":"<p>I have a potential client that wants to build a platform agnostic application. Initially it'll run on a windows 7 tablet and will expand. Its a roofing business, so they're going to take pictures with the camera, fill out some forms, and then generate a report from it. The first thing I can think of is making an API call to a web service I create that does some crystal reports magic them returns to the client. </p>\n\n<p>Problem is, they aren't always guaranteed internet access. What can I do here? My thoughts right now are building the app in rails or MVC 4. </p>\n"},{"tags":["asp.net","javascript","jquery","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":401,"score":3,"question_id":2037295,"title":"$.getJSON  back button showing JSON return data not the page","body":"<p>I have a little issue with my site.   I have a page that hosts a google map.  However the map does not get shown until the user clicks a button.  It then call $.getJSON to get the addresses that i need to show on the map...</p>\n\n<pre><code>$.getJSON(theurl, function(json) {\n  ...\n}\n</code></pre>\n\n<p>It all works fine.  However if the user then moves to a different page and then clicks the Back button they get the data from the $.getJSON call displayed, not the page itself.  </p>\n\n<p>It's as if the call to get the addresses has become part of the browsing history. If the user hits refresh when the data appears the full page then gets displayed.</p>\n\n<p>Can anyone tell me how to stop this from happening.</p>\n\n<p>I'm using the googlemap in an ASP.Net MVC site.</p>\n\n<p>Thanks</p>\n"},{"tags":["iphone","objective-c","cocoa-touch","mvc","parent-child"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":267,"score":1,"question_id":7506125,"title":"iPhone: How can a child tell his parent to do something","body":"<p>OK, I have a RootViewController.m and defined a method in there:</p>\n\n<pre><code>-(void)doSomethingParent\n{\n    NSLog(@\"Parent is doing something after child has asked\");\n}\n</code></pre>\n\n<p>I then added a childViewController.view like so:</p>\n\n<pre><code>if (self.child == nil) {\n\n    ChildViewController *cvc = [[ChildViewController alloc]\n                                initWithNibName:nil bundle:nil];\n    self.child = cvc;\n    [cvc release];\n\n}    \n[self.view insertSubview: child.view atIndex:0];\n</code></pre>\n\n<p>Now, I thought it would be very useful indeed if I could call my doSomethingParent method from the child. So I thought I would do it like this:</p>\n\n<pre><code> @implementation ChildViewController\n@class RootViewController;\n\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n\n    [super doSomethingParent];\n\n}\n</code></pre>\n\n<p>But xCode tells me that \"-doSomethingParent\" not found... but I put @class in there?! Shouldn't it find it? I don't want to import the whole thing as I thought @class would be sufficient to let the child know that the parent has a method called doSomethingParent...</p>\n\n<p>I'd be very grateful for any suggestions. Thanks in advance!</p>\n"},{"tags":["mvc","database-design","web-applications","sqlalchemy","pyramid"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":112,"score":3,"question_id":12549071,"title":"Should I extract functionality from this model class into a form class? (ActiveRecord Pattern)","body":"<p>I am in the midst of designing an application following the mvc paradigm. I'm using the sqlalchemy expression language (not the orm), and pyramid if anyone was curious. </p>\n\n<p>So, for a user class, that represents a user on the system, I have several accessor methods for various pieces of data like the avatar_url, name, about, etc. I have a  method called getuser which looks up a user in the db(by name or id), retrieves the users row, and encapsulates it with the user class.</p>\n\n<p>However, should I have to make this look-up every-time I create a user class? What if a user is viewing her control panel and wants to change avatars, and sends an xhr; isn't it a waste to have to create a user object, and look up the users row when they wont even be using the data retrieved; but simply want to make a change to subset of the columns? I doubt this lookup is negligible despite indexing because of waiting for i/o correct?</p>\n\n<p>More generally, isn't it inefficient to have to query a database and load <em>all</em> a model class's data to make any change (even small ones)?</p>\n\n<p>I'm thinking I should just create a seperate form class (since every change made is via some form), and have specific form classes inherit them, where these setter methods will be implemented. What do you think?</p>\n\n<p>EX: Class: Form &lt;- Class: Change_password_form &lt;- function: change_usr_pass </p>\n\n<p>I'd really appreciate some advice on creating a proper design;thanks.</p>\n"},{"tags":["java","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":117,"score":2,"question_id":10973044,"title":"MVC Java confusion","body":"<p>Let me start by saying this is a homework assignment, I don't need any coding help though -- I just feel lost when I try to make sense of how to implement MVC with what the instructions say... I have read many many examples from forums and different websites (even my two books for this data structures class) and I have a great understanding of <em>what</em> MVC is. I just get so confused when it comes to implement it with code...</p>\n\n<p>So this is what the teacher gave us to work with:</p>\n\n<blockquote>\n  <p>The class <code>Driver</code> (VIEW), class <code>List</code> (MODEL), and class <code>Tests</code>\n  (CONTROLLER) such that an object of this class can store a students\n  first name, last name, five test scores, average tests score, and\n  grade.  Add constructors and methods to manipulate data stored in an\n  object. Among other things, your classes must contain methods to\n  calculate test averages, return test averages, calculate grades,\n  return grades, and modify individual test scores. The method <code>toString()</code>\n  must return test data (including students name, five test scores,\n  average, and grade) as a <code>String</code> plus the class average.</p>\n</blockquote>\n\n<p>I do realize she labled what classes should be what, and I have already made those classes... My confusion is what class to give what methods/functions/variables etc.</p>\n\n<p>The model should hold information its like a database .... so should I make another class <code>Student</code> that has variables first/last name and test averages? But then which class will get the getter and sett methods? </p>\n\n<p>Again, I have searched and searched and searched, I have seen many examples but its just not clicking for me :(</p>\n\n<p>Thanks to anyone that can dumb this down enough based off what the teacher has presented....</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":465,"score":3,"question_id":12011496,"title":"MVC 4 installation failure","body":"<p>I am attempting to install MVC 4 to my desktop.  I am the only person in the office whop is having this problem even though we all have the same machines with the same software.  I'm not sure what the problem is.  The installation prints a log file but I don't know what any of it means.  If anyone has an answer I would appreciate it.  Here is the log file:</p>\n\n<pre><code>DownloadManager Information: 0 : Loading product xml from: https://go.microsoft.com/?linkid=9810537\nDownloadManager Information: 0 : https://go.microsoft.com/?linkid=9810537 responded with 302\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 302 Found\nCache-Control: private\nContent-Length: 175\nContent-Type: text/html; charset=utf-8\nExpires: Fri, 17 Aug 2012 17:13:22 GMT\nLocation: https://www.microsoft.com/web/webpi/4.0/webproductlist.xml\nServer: Microsoft-IIS/7.5\nX-AspNet-Version: 2.0.50727\nSet-Cookie: MC1=GUID=c6f89ed006465f41bf8ce6e310c073fb&amp;HASH=d09e&amp;LV=20128&amp;V=3;    domain=microsoft.com; expires=Sun, 03-Oct-2010 07:00:00 GMT; path=/\nX-Powered-By: ASP.NET\nDate: Fri, 17 Aug 2012 17:14:22 GMT\n\n\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/webproductlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nCache-Control: max-age=900\nAccept-Ranges: bytes\nETag: \"d77eb3a9227bcd1:0\"\nServer: Microsoft-IIS/7.5\nP3P: CP=\"ALL IND DSP COR ADM CONo CUR CUSo IVAo IVDo PSA PSD TAI TELo OUR SAMo CNT COM INT NAV ONL PHY PRE PUR UNI\"\nX-Powered-By: ASP.NET\nX-Powered-By: ARR/2.5\nX-Powered-By: ASP.NET\nDate: Fri, 17 Aug 2012 17:14:21 GMT\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\-477760839.xml.temp\nDownloadManager Warning: 0 : Could not resolve keyword ID Sharepoint\nDownloadManager Warning: 0 : Could not resolve keyword ID Office\nDownloadManager Warning: 0 : Could not resolve keyword ID Sharepoint\nDownloadManager Warning: 0 : Could not resolve keyword ID Office\nDownloadManager Warning: 0 : Could not resolve keyword ID SQL\nDownloadManager Warning: 0 : Could not resolve keyword ID SQL\nDownloadManager Warning: 0 : Could not resolve keyword ID WIF\nDownloadManager Warning: 0 : Could not resolve keyword ID identity\nDownloadManager Warning: 0 : Could not resolve keyword ID federation\nDownloadManager Warning: 0 : Could not resolve keyword ID claims\nDownloadManager Warning: 0 : Could not resolve keyword ID authentication\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Loading product xml from: https://www.microsoft.com/web/webpi/4.0/webapplicationlist.xml\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/webapplicationlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nCache-Control: max-age=900\nAccept-Ranges: bytes\nETag: \"43da3ca8137bcd1:0\"\nServer: Microsoft-IIS/7.5\nP3P: CP=\"ALL IND DSP COR ADM CONo CUR CUSo IVAo IVDo PSA PSD TAI TELo OUR SAMo CNT COM INT NAV ONL PHY PRE PUR UNI\"\nX-Powered-By: ASP.NET\nX-Powered-By: ARR/2.5\nX-Powered-By: ASP.NET\nDate: Fri, 17 Aug 2012 17:14:22 GMT\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\251486345.xml.temp\nDownloadManager Warning: 0 : Could not resolve keyword ID Katalready\nDownloadManager Warning: 0 : Could not resolve keyword ID Katalready\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID Katalready\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID Katalready\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Loading product xml from: https://www.microsoft.com/web/webpi/4.0/mediaproductlist.xml\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/mediaproductlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nDate: Fri, 17 Aug 2012 17:14:22 GMT\nEtag: \"1b51c01e6f4ecd1:0\"\nCache-Control: max-age=900\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\598799360.xml.temp\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Loading product xml from: https://www.microsoft.com/web/webpi/4.0/toolsproductlist.xml\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/toolsproductlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nDate: Fri, 17 Aug 2012 17:14:22 GMT\nEtag: \"4e6536ff8276cd1:0\"\nCache-Control: max-age=900\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\672503665.xml.temp\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Loading product xml from: https://www.microsoft.com/web/webpi/4.0/enterpriseproductlist.xml\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/enterpriseproductlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nDate: Fri, 17 Aug 2012 17:14:22 GMT\nEtag: \"a68a64382f88cc1:0\"\nCache-Control: max-age=900\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\1505006577.xml.temp\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Getting ratings file from http://go.microsoft.com/?linkid=9752395\nDownloadManager Information: 0 : http://go.microsoft.com/?linkid=9752395 responded with 302\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 302 Found\nCache-Control: private\nContent-Length: 203\nContent-Type: text/html; charset=utf-8\nExpires: Fri, 17 Aug 2012 17:13:24 GMT\nLocation: http://www.microsoft.com/web/handlers /WebPI.ashx?command=getatomfeedwithavgratingquery\nServer: Microsoft-IIS/7.5\nX-AspNet-Version: 2.0.50727\nSet-Cookie: MC1=GUID=5dcd22f7d0af19428d827c6bc0604293&amp;HASH=f722&amp;LV=20128&amp;V=3; domain=microsoft.com; expires=Sun, 03-Oct-2010 07:00:00 GMT; path=/\nX-Powered-By: ASP.NET\nDate: Fri, 17 Aug 2012 17:14:24 GMT\n\n\nDownloadManager Information: 0 : Contextual entry products: MVC4VS2010\nDownloadManager Information: 0 : Adding product ASP.NET MVC 4 (VS 2010) (MVC4VS2010) to cart\nDownloadManager Information: 0 : Contextual navigation to product 'MVC4VS2010'\nDownloadManager Information: 0 : Ratings file loaded successfully\nDownloadManager Information: 0 : Adding product 'MVC4VS2010'\nDownloadManager Information: 0 : Adding dependency product 'MVC4VS2010_Only\nDownloadManager Information: 0 : Setting current install to 1\nDownloadManager Information: 0 : Starting install sequence\nDownloadManager Information: 0 : Downloading file 'http://download.microsoft.com/download/2/F/6/2F63CCD8-9288-4CC8-B58C-81D109F8F5A3/AspNetMVC4Setup.exe' to: C:\\Users\\ppprog6202\\AppData\\Local\\Temp\\tmp6948.tmp\nDownloadManager Information: 0 : Content-disposition header: attachment\nDownloadManager Information: 0 : File 'C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\installers\\MVC4VS2010_Only\\F46B534A9D488ABEC38EFB67571F52B4A6FC43E3\\AspNetMVC4Setup.exe' already exists, deleting old copy of the file\nDownloadManager Information: 0 : Moving downloaded file 'C:\\Users\\ppprog6202\\AppData\\Local\\Temp\\tmp6948.tmp' to: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\installers\\MVC4VS2010_Only\\F46B534A9D488ABEC38EFB67571F52B4A6FC43E3\\AspNetMVC4Setup.exe\nDownloadManager Information: 0 : Starting EXE command for product 'ASP.NET MVC 4 Installer (VS 2010)- Default Locale'. Commandline is: 'C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\installers\\MVC4VS2010_Only\\F46B534A9D488ABEC38EFB67571F52B4A6FC43E3\\AspNetMVC4Setup.exe /q /log C:\\Users\\PPPROG~1\\AppData\\Local\\Temp\\MVC4VS2010_Only_install.htm'. Process Id: 3676\nDownloadManager Information: 0 : Install exit code for product 'ASP.NET MVC 4  Installer (VS 2010)- Default Locale' is -2147023254\nDownloadManager Error: 0 : Install return code for product 'ASP.NET MVC 4 Installer (VS 2010)- Default Locale' is Failure\nDownloadManager Warning: 0 : Dependency failed for product 'ASP.NET MVC 4 (VS 2010)'. Skipping install\nDownloadManager Information: 0 : Product ASP.NET MVC 4 Installer (VS 2010)- Default Locale done install completed\nDownloadManager Information: 0 : Increasing current install to 2\nDownloadManager Information: 0 : Product ASP.NET MVC 4 (VS 2010) had a dependency fail. Increasing install product to 3\n</code></pre>\n"},{"tags":["apache","mvc","tomcat6","java-6","virtual-server"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":25,"score":-3,"question_id":13053993,"title":"Website with large number of users keeps going down due to memory leaks:Tomcat6 and Java 6","body":"<p>We host many websites on one of our two virtual servers. We use tomcat 6 and Java 6.\nIt is an MVC model with a hibernate like layer.\nThe problem is, one of our biggest clients with the most number of members, keeps crashing the server every 6-8 hours(precisely in the mornings when most members login)\nWe have been having this issue for 4 days now. Trying to figure out the problem but we suspect memory leaks. Any suggestions?</p>\n"},{"tags":["asp.net-mvc","mvc","view","model","html-helper"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13052936,"title":"Mvc Html.Label or Html.TextBox doesn't create","body":"<p>I'm making a test page for a project I'm working on and I've made desired progress so far but I'm trying to create TextBoxes from a model of List being passed to the view, however, the it seems to just ignore anything I have tried.</p>\n\n<pre><code>&lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;input id=\"btnsubmit\" type=\"submit\" name=\"Submit\" onclick=\"Submit\" /&gt;\n    &lt;div id=\"divControls\"&gt;\n     &lt;% foreach (TextBox control in (this.Model as List&lt;TextBox&gt;))\n        {\n            Html.Label(\"lblLabel\", control.Text);\n            Html.TextBox(control.ID, control.Text, new { id = control.ID, style = \"width:50\", name = \"txt\" + control.ID });\n        } %&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The List isn't null in the Controller on return. I don't have a clue at what the problem could be. If I throw a <p>Something</p> in the for loop it executes the appropriate number of times so why isn't it creating the labels or textboxes?\nAt first I thought it was that I'm adding them inside a form but I removed the form tags and it still didn't work so I really have no Idea, any help would be much appreciated. I'm relatively new to MVC.</p>\n\n<pre><code>[HttpPost]\n        public ActionResult Index(FormCollection form)\n        {\n            List&lt;TextBox&gt; controls = new List&lt;TextBox&gt;();\n            foreach (String Key in form.Keys)\n            {\n                if (Key.Contains(\"txt\"))\n                {\n                    TextBox textBox = new TextBox();\n                    textBox.ID = Key;\n                    textBox.Text = form.GetValues(Key)[0];\n                    controls.Add(textBox);\n                }\n            }\n            return View(\"Index\", controls);\n        }\n</code></pre>\n\n<p>Here's my Action encase it's helps.\nAlso encase I wasn't clear enough, I am adding controls to a form at runtime using JQuery and then that Action will be part of the submit so it must send the textboxes back to the view so they are not deleted.\nLike I said I'm new to the whole MVC and Asynchronous thing so If there's a better way to do this, advice would be much appreciated.</p>\n"},{"tags":["mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13052939,"title":"Best practice, Using MVC controllers for css/js output?","body":"<p>As I understood the MVC pattern, it should be used for passing the Model to Controller and View, and then Render it as an HTML/JSON document.</p>\n\n<p>In some projects, I see that some people use MVC controller/actions for giving JavaScript or CSS output in application. As an example, consider that they want to change the website template (Exactly, the css of template) in the nights and days, and now for that, they create an MVC Controller/Action like this <code>/CssController/Style</code> and link it in <code>&lt;head&gt;</code>:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;link href='/CssController/Style' /&gt;\n        ...\n    &lt;/head&gt;\n    ...\n&lt;/html&gt;\n</code></pre>\n\n<p>So, they manage this business in the controller, for example changing the <code>body</code> background, for nights set <code>background-color: black;</code> and for days <code>background-color: white;</code>. This action will return an CSS document.<br>\nHowever, it works perfectly, no problem.</p>\n\n<p>I want to know, is this approach correct?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor","encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13050430,"title":"Adding CSS class to web grid column item conditionally","body":"<p>Is it possible to conditionally set a CSS class or encode a string to html for a certain web grid column? I was able to append span tags to the item using format: in the column, but now I need to add a class to the span tags based on a helper function in razor view or a bool expression from the controller/model. <strong>I do not want to do this with JS, C# should suffice</strong>.</p>\n\n<p>Here is what I tried in view model:</p>\n\n<pre><code> @grid.GetHtml(\n headerStyle:\"reviewGridHeader\",\n    columns: grid.Columns(\n    ...[other columns]...\n    grid.Column(columnName: \"FeedBack\", format: @&lt;span&gt;@CheckFeedBack(item.FeedBack)&lt;/span&gt;)\n))\n</code></pre>\n\n<p>Helper function in view model (splits and compares string):</p>\n\n<pre><code>    static string CheckFeedBack(string item) {\n        String[] feedbacks = System.Text.RegularExpressions.Regex.Split(item, \"of\");\n\n        //if feedback complete\n        if((Convert.ToInt32(feedbacks[0]) == (Convert.ToInt32(feedbacks[1]))))\n        {\n            string newFeedback = @\"&lt;span class=\"\"feedBackComplete\"\"&gt;\"+ item +\"&lt;/span&gt;\";\n            string encodedFeedback = System.Web.HttpUtility.HtmlEncode(newFeedback);\n\n            return encodedFeedback;\n        }\n        return item;\n    }\n</code></pre>\n\n<p>And here is the presentation, which conditionally works when feedback complete:</p>\n\n<p><img src=\"http://i.stack.imgur.com/JV8dw.png\" alt=\"feedback column\"></p>\n\n<p><strong>Update:</strong> After guidance from Zach with returning a MvcHtmlString, I had some problems being able to use this helper method above in a WebGrid Column. Below shows the correct syntax:</p>\n\n<pre><code>grid.Column(columnName: \"FeedBack\", format: (item) =&gt; CheckFeedBack(item.FeedBack), style: \"webGridAlignment\")\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":13039833,"title":"New to rails. Index action doesnt like my initialization method.. Why?","body":"<p>I am completely new to rails and playing with the code to make pages work. \nThe link <em>localhost:3000/zombies/1</em> works (show action) \nbut localhost:3000/zombies (index action) doesn't. Below are my routes and controller:</p>\n\n<p><strong>ROUTES ARE:</strong>\n resources :zombies</p>\n\n<p><strong>CONTROLLER is:</strong></p>\n\n<pre><code> class ZombiesController &lt; ApplicationController\n    before_filter :get_zombie_params\n\n   def index\n    respond_to do |format|\n      format.html # index.html.erb\n      format.json { render json: @zombies }\n    end\n   end\n\n   def show\n    @disp_zombie = increase_age @zombie, 15\n    @zombie_new_age = @disp_zombie\n    respond_to do |format|\n      format.html # show.html.erb\n      format.json { render json: @zombie }\n    end\n  end\n\n  def increase_age zombie, incr\n   zombie = zombie.age + incr\n  end\n\n  def get_zombie_params\n    @zombie=Zombie.find(params[:id])\n    @zombies = Zombie.all\n\n  end\nend\n</code></pre>\n\n<p>Why is this?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13052583,"title":"Issue updating dropdlownlist within grid","body":"<p>I have a grid that has a column (UnitText) within it that becomes a dropdownlist when inserting an item.  Right now, UnitText has an EditorTemplate called CategoryUnitcshtml.  Here is where things become slightly tricky.</p>\n\n<p>I want to prevent duplicates.  Currently, I load the data source for the dropdownlist within CategoryUnit.  To prevent duplicates, I decided to change the data source pending what is already within the grid.</p>\n\n<p>Ex.  Unit1 = \"NASA\", Unit2 = \"AF\", Unit3 = \"DoD\"\nThe grid currently has only one unit.  It is AF.  I want to prevent the dropdownlist from adding AF to it's selection.</p>\n\n<p>This much I have.  However, I need to update the list each time a Unit is added.  CategoryUnit is only loaded during the page being created and doesn't update.</p>\n\n<p>Thus far, this is what I have.</p>\n\n<p>View</p>\n\n<pre><code>@(Html.Telerik().Grid&lt;CategoryModel.CategoryUnitsModel&gt;()\n                    .Name(\"categoryunits-grid\")\n                    .DataKeys(keys =&gt;\n                    {\n                        keys.Add(x =&gt; x.Id);\n                        keys.Add(x =&gt; x.CategoryId);\n                        keys.Add(x =&gt; x.UnitId);\n                    })\n                    .DataBinding(dataBinding =&gt;\n                    {\n                        dataBinding.Ajax()\n                            .Select(\"CategoryUnitsList\", \"Category\", new { categoryId = Model.Id })\n                            .Insert(\"CategoryUnitsInsert\", \"Category\", new { categoryId = Model.Id })\n                            .Update(\"CategoryUnitsInsert\", \"Category\", new { categoryId = Model.Id })\n                            .Delete(\"CategoryUnitsDelete\", \"Category\", new { categoryId = Model.Id });\n                    })\n                    .Columns(columns =&gt;\n                    {\n                        columns.Bound(x =&gt; x.UnitId)\n                            .Visible(false);\n                        columns.Bound(x =&gt; x.UnitText);\n                        columns.Command(commands =&gt;\n                        {\n                            commands.Edit();\n                            commands.Delete();\n                        })\n                       .Width(100);\n                    })\n                    .ToolBar(commands =&gt; commands.Insert())\n                    .Pageable(settings =&gt; settings.PageSize(gridPageSize).Position(GridPagerPosition.Both))\n                    .ClientEvents(events =&gt; events.OnRowDataBound\"onRowDataBound\"))\n                    .EnableCustomBinding(true))\n\n                &lt;script type=\"text/javascript\"&gt;\n                    function onRowDataBound(e) {\n                        $(e.row).find('a.t-grid-edit').remove(); //remove Delete button\n                    }\n                &lt;/script&gt;\n</code></pre>\n\n<p>EditorTemplates/CategoryUnit</p>\n\n<pre><code>@using Telerik.Web.Mvc.UI;\n@using Nop.Core.Domain.Customers;\n@using Nop.Services.Units;\n\n@{    \nvar _unitsService = EngineContext.Current.Resolve&lt;IUnitsService&gt;();\nvar units = _unitsService.GetAvailableUnits(ViewBag.CategoryId);\n\nvar unitsList = new List&lt;SelectListItem&gt;();\nforeach (var unit in units)\n{\n    var text = unit.UnitName + \" (\" + unit.UnitAcronym + \")\";\n    if (text != null)\n    {\n        //Telerik has an issue when quotes are used. That'why we manually remove all quotes\n        //Find more info here: http://www.nopcommerce.com/boards/t/11413/tabs-can-not-be-selected-in-admin-edit-products.aspx\n        //TODO remove this code once it's fixed by Telerik team\n        text = text.Replace(\"\\\"\", \"\");\n    }\n    var item = new SelectListItem()\n    {\n        Text = text,\n        Value = unit.Id.ToString()\n    };\n\n    unitsList.Add(item);\n}    \n}\n\n@Html.Telerik().DropDownList().Name(\"UnitText\").BindTo(unitsList)\n</code></pre>\n\n<p>Model</p>\n\n<pre><code>public partial class CategoryUnitsModel : BaseNopEntityModel\n    {\n        public int CategoryId { get; set; }\n        public int UnitId { get; set; }\n        [NopResourceDisplayName(\"Admin.Catalog.Categories.Units.Fields.UnitText\")]\n        [UIHint(\"CategoryUnit\")]\n        public string UnitText { get; set; }\n    }\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>[HttpPost, GridAction(EnableCustomBinding = true)]\n    public ActionResult CategoryUnitsList(GridCommand command, int categoryId)\n    {\n        if (!_permissionService.Authorize(StandardPermissionProvider.ManageCatalog))\n            return AccessDeniedView();\n\n        var categoryUnits = _unitsService.GetCategoryUnits(categoryId, command.Page - 1 , command.PageSize);\n        var categoryUnitsModel = PrepareCategoryUnitsModel(categoryUnits);\n\n        ViewBag.CategoryId = categoryId;\n\n        var model = new GridModel&lt;CategoryModel.CategoryUnitsModel&gt;\n        {\n            Data = categoryUnitsModel,\n            Total = categoryUnitsModel.Count\n        };\n\n        return new JsonResult\n        {\n            Data = model\n        };\n    }\n\n    //public ActionResult CheckCategoryUnit(int categoryId, int unitId)\n    //{\n    //    var categoryUnit = _categoryService.GetCategoryUnitByCategoryIdAndUnitId(categoryId, unitId);\n    //    return Json(categoryUnit != null, JsonRequestBehavior.AllowGet);\n    //}\n\n    [GridAction(EnableCustomBinding = true)]\n    public ActionResult CategoryUnitsInsert(GridCommand command, CategoryModel.CategoryUnitsModel model)\n    {\n        if (!_permissionService.Authorize(StandardPermissionProvider.ManageCatalog))\n            return AccessDeniedView();\n\n        var searchForEntry = _unitsService.GetCategoryUnitByCategoryIdAndUnitId(model.CategoryId, Int32.Parse(model.UnitText));\n        if (searchForEntry != null)\n        {\n            TempData[\"PopupMessage\"] = \"Units may not be added twice for a category\";\n            return CategoryUnitsList(command, model.CategoryId);\n        }\n\n        var categoryUnit = new CategoryUnits\n        {\n            UnitId = Int32.Parse(model.UnitText),\n            CategoryId = model.CategoryId\n        };\n\n        _unitsService.InsertCategoryUnit(categoryUnit);\n\n        return CategoryUnitsList(command, model.CategoryId);\n    }\n\n    [GridAction(EnableCustomBinding = true)]\n    public ActionResult CategoryUnitsDelete(GridCommand command, CategoryModel.CategoryUnitsModel model, int id)\n    {\n        if (!_permissionService.Authorize(StandardPermissionProvider.ManageCatalog))\n            return AccessDeniedView();\n\n        var categoryId = model.CategoryId;\n        _unitsService.DeleteCategoryUnit(model.CategoryId, id);\n\n        return CategoryUnitsList(command, categoryId);\n    }\n</code></pre>\n\n<p>Btw, the ViewBag.CategoryId currently is set during the Index of the page.  I didn't show it since the code is rather lengthly.</p>\n\n<p>Any help would be appreciated.  Thanks.</p>\n\n<p>Kindest Regards,\nChad Johnson</p>\n"},{"tags":["mvc","passive-view"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13052453,"title":"Passive View when building complex view with multiple sub components","body":"<p>If you have a UI that is composed with multiple sub components. What's the best way to implement it using passive view? </p>\n\n<p>Is it best to implement each components with it's own controller/model/view? How to coordinate the dependencies in the components? </p>\n"},{"tags":["json","linq","mvc","autocomplete"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13051272,"title":"MVC autocomplete how do I get my list of items into an object to return to Json","body":"<p>I am returning a List from the database. I need to return an Object for the Json method.\nAny Ideas. I am new to linq and MVC. </p>\n\n<pre><code>public ActionResult Autocomplete(string term)\n        {\n            var names = itemsRepository.GetListItemNames(term);\n              ///linq code to get my name object out\n            return Json(names, JsonRequestBehavior.AllowGet);\n        }\n</code></pre>\n"},{"tags":["c#","javascript","asp.net-mvc","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":13038592,"title":"Getting information from my controller into onclick confirm(alert)","body":"<p>i try to confirm a sale and i need sum information about the product..</p>\n\n<p><strong>my View</strong></p>\n\n<pre><code>@using (Html.BeginForm())\n{\n    @Html.ValidationSummary(true)\n&lt;fieldset&gt;\n    &lt;legend&gt;Card&lt;/legend&gt;\n\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.CardModel.SerialNumber, \"Serial No\")\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.EditorFor(model =&gt; model.CardModel.SerialNumber, new { id = \"sn\" })\n        @Html.ValidationMessageFor(model =&gt; model.CardModel.SerialNumber)\n    &lt;/div&gt;\n\n      &lt;p&gt;\n        &lt;input type=\"submit\" value=\"CardSale\" id=\"btnSubmit\"\n        onclick=\"if (confirm('The owner dealer price is : **@Model.OwnerPrice** . Are you sure?')) { return true; } else { return false; }\" /&gt;\n    &lt;/p&gt;\n\n&lt;/fieldset&gt;\n}           \n</code></pre>\n\n<p>i tryed with the ' $.getJSON ' like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() \n {\n  $(\"#btnSubmit\").click(function ()\n  {\n        var serial = $(\"#sn\");\n        var price = \"\";\n        var url = \"\";\n        url = \"@Url.Action(\"GetOwnerPrice\",\"Card\")/\"+serial;\n\n        $.getJSON(url,function(data)\n        {   \n            alert(data.Value);\n        });\n    });       \n });\n</code></pre>\n\n<p></p>\n\n<p>and on the controller</p>\n\n<pre><code> public ActionResult GetOwnerPrice(int sn)\n    {\n        var owner = db.Dealers.Single(s =&gt; s.DealerID == db.Dealers.Single(o =&gt; o.UserName == User.Identity.Name).OwnerDealerID);\n        var ownerPrice = owner.ProductToSale.Single(pr =&gt; pr.ProductID == sn).SalePrice;\n\n        return Json(ownerPrice, JsonRequestBehavior.AllowGet);\n    }\n</code></pre>\n\n<p>but i dont know how to return it to the onclick confirm msg or into my ViewModel..</p>\n\n<p>any help?</p>\n"},{"tags":["javascript","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13046514,"title":"Javascript MVC framework similar to Asp.net MVC","body":"<p>Which Javascript MVC framework is closest in terms of concepts of routing, models, views and controllers to Asp.net MVC?</p>\n\n<p>I have completed a personal project using the excelent <a href=\"http://sammyjs.org/\" rel=\"nofollow\">Sammy.js</a> with <a href=\"http://mustache.github.com/\" rel=\"nofollow\">Mustache.js</a> and have felt comfortable with Sammy due to its similarity to <a href=\"https://github.com/thecodejunkie/Nancy\" rel=\"nofollow\">Nancy</a> the Micro .net framework.</p>\n\n<p>I would like to convert this project to another Javascript MVC framework so I can have a comparision of strengths and weaknesses, I would like to choose one similar to Asp.net MVC but I am facing the <a href=\"http://en.wikipedia.org/wiki/The_Paradox_of_Choice%3a_Why_More_Is_Less\" rel=\"nofollow\">paradox</a> of <a href=\"http://www.hanselman.com/blog/TheBigGlossaryOfOpenSourceJavaScriptAndWebFrameworksWithCoolNames.aspx\" rel=\"nofollow\">choice</a>.</p>\n"},{"tags":["asp.net-mvc","visual-studio-2010","mvc","view","asp.net-mvc-views"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13050164,"title":"Column ordering in the MVC Visual Studio - default List template View","body":"<p>Started working with MVC 3 web framework in Visual Studio 2010, and with first tutorial, setting up a View which lists all my database table data, created with Entiity model, have searched for simple whay to add column (field) ordering to the resulting webpage.</p>\n\n<p>Something I would thought standard in the code that the controller or add view would make.</p>\n\n<p>Iv ended up adding in on control method, returning to my index page, with two added actionlinks after the header name to request for order based on clicked page.</p>\n\n<p>Code below reworked to use an image instead of the html.actionlink</p>\n\n<pre><code>   &lt;th&gt;\n            ORGANISATION\n            &lt;a href=\"@Url.Action(\"ORGANISATION\", \"Orgs/IndexOrder\", new { order_by = \"ORGANISATION\", order_desc = false })\" border=0&gt;\n                &lt;img src=\"@Url.Content(\"~/Images/ArrowUp.jpg\")\" alt=\"Order ORGANISATION Ascending\"   /&gt;\n            &lt;/a&gt;\n            &lt;a href=\"@Url.Action(\"ORGANISATION\", \"Orgs/IndexOrder\", new { order_by = \"ORGANISATION\", order_desc = true }) \" border=0&gt;\n                &lt;img src=\"@Url.Content(\"~/Images/ArrowDown.jpg\")\" alt=\"Order ORGANISATION Descending\"  /&gt;\n            &lt;/a&gt;\n        &lt;/th&gt;\n</code></pre>\n\n<p>If someone knows if there is a qucik way to do this in Visual Studio, then manully making it for each View that I will need it for.</p>\n\n<p>thanks</p>\n"},{"tags":["mvc","null","controller","structuremap"],"answer_count":4,"favorite_count":4,"up_vote_count":9,"down_vote_count":0,"view_count":2081,"score":9,"question_id":923926,"title":"StructureMap controller factory and null controller instance in MVC","body":"<p>I'm still trying to figure things out with StructureMap and one of the issues i'm running into is my Controller Factory class blowing up when a null controller type is passed to it. This only happens when the application builds for the first time, after which every subsequent build works fine. Even when i shutdown Visual Studio and reopen the project (I'm not running this in IIS). It's almost like there is some sort of caching going on. This is what the controller class looks like:</p>\n\n<pre><code>public class IocControllerFactory : DefaultControllerFactory\n{\n    protected override IController GetControllerInstance(Type controllerType)\n    {\n        try\n        {\n            return (Controller)ObjectFactory.GetInstance(controllerType);\n        }\n        catch (StructureMapException)\n        {\n            System.Diagnostics.Debug.WriteLine(ObjectFactory.WhatDoIHave());\n            throw;\n        }\n    }\n}\n</code></pre>\n\n<p>What could be wrong? Do i need to have every controller registered? Thank you.</p>\n"},{"tags":["mvc","view","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13044913,"title":"Joomla include view in other view","body":"<p>I have problem with including Joomla views. I have many views in my extension and I want to include another one in my Dialog. </p>\n\n<p>How can I do it? </p>\n\n<p>In my first view I have this code:</p>\n\n<pre><code>&lt;div id=\"modalDostawca\" title=\"Dostawcy\"&gt;\n    &lt;div id=\"wewM\"&gt;\n//in here i want to include view data/tmpl/default.php\n\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["javascript","mvc","extjs","sencha-touch","sencha-touch-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12658452,"title":"About the relationship between view and controller in MVC paradigm, specifically Sencha Touch, thanks~","body":"<p>I'm trying to use Sencha Touch 2 to write an app to help me memorize all those vocabulary. </p>\n\n<p>I'm working on the part that a list displays some words. I want the list view to be able to consult the notebook controller so that it can know whether each word is in the notebook already and that way it can display an 'add to notebook' or 'remove from notebook' button for each word accordingly. </p>\n\n<p>I'm just wondering whether it's a good practice to let view initiate requests to controller. When working in Objective-C, it seems that I can have this done by setting a controller to be the delegate of a view. So is there an equivalent approach in Sencha Touch? </p>\n"},{"tags":["javascript","mvc","user-interface","prototype"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13024274,"title":"backbone.js examples","body":"<p>I've just started looking at backbone.js/underscore, with jquery and require.js. I'm interested to hear other people's experience with this stack.</p>\n\n<p>I want to build a fast front end prototyping setup that will let me do a bunch of similar types of app front ends quickly.</p>\n\n<p>Any productive comments about other alternatives are welcome.  Pointers to examples would be appreciated.</p>\n\n<p>I've already gotten good word about Ember.js and will give it a try soon.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","swing","mvc","jtable","abstracttablemodel"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":13043111,"title":"How to check all check boxes at a click of a button","body":"<p>I am new to Swing, UI and MVC\nI have created a code based on MVC. Now my problem is that that in the controller part i have an actioneventlistener which listens to different button clicks. Out of all those buttons i have \"select all\" and \"de-select all\". In my view i have a table, one of the column of that table contains \"check boxes\". Now, when i click the \"select-all\" button i want to check all the check boxes and with \"de-select all\" i want to uncheck all of them.</p>\n\n<p>Below is my code which is not working. Please tell me what am i doing wrong here. Also, if someone knows a more elagent way please share. Thanks</p>\n\n<p>In my view</p>\n\n<pre><code>public class CustomerSelectorDialogUI extends JFrame{\n\n  public CustomerSelectorDialogUI(TestApplicationUI ownerView, DummyCustomerStore dCStore, boolean modality) {\n\n    //super(ownerView, modality);\n    setTitle(\"[=] Customer Selection Dialog [=]\");\n    //setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n    custSelectPanel = new JPanel();\n    buttonPanel = new JPanel();\n    selectAllButton = new JButton(\" Select All \");\n    clearAllButton = new JButton(\" Clear All \");\n    applyButton = new JButton(\" Apply \");\n    cancelButton = new JButton(\" Cancel \");\n\n    PopulateAndShow(dCStore, Boolean.FALSE);\n}\n\npublic void PopulateAndShow(DummyCustomerStore dCStore, Boolean select) {\n    List data = new ArrayList();\n    for (Customer customer : dCStore.getAllCustomers()) {\n        Object record[] = new Object[COLUMN_COUNT];\n        record[0] = (select == false) ?  Boolean.FALSE : Boolean.TRUE;\n        record[1] = Integer.toString(customer.customerId);\n        record[2] = customer.fullName;\n        data.add(record);\n    }\n    tModel = new TableModel(data);\n\n            // In the above for loop accoring to user input (i.e click on check all or\n            // uncheck all) i have tried to update the data. As it can be seen that i\n            // have a condition for record[0]. \n            //After the loop, here i have tried several options like validate(). repaint but to no avail\n\n            customerTable = new JTable(tModel);\n    scrollPane = new JScrollPane(customerTable);\n\n    setContentPane(this.createContentPane());\n\n    setSize(480, 580);\n    setResizable(false);\n    setVisible(true);\n\n\n}\n\nprivate JPanel createContentPane() {\n    custSelectPanel.setLayout(null);\n\n    customerTable.setDragEnabled(false);\n    customerTable.setFillsViewportHeight(true);\n\n    scrollPane.setLocation(10, 10);\n    scrollPane.setSize(450,450);\n\n    custSelectPanel.add(scrollPane);\n\n    buttonPanel.setLayout(null);\n    buttonPanel.setLocation(10, 480);\n    buttonPanel.setSize(450, 100);\n    custSelectPanel.add(buttonPanel);\n\n    selectAllButton.setLocation(0, 0);\n    selectAllButton.setSize(100, 40);\n    buttonPanel.add(selectAllButton);\n\n\n    clearAllButton.setLocation(110, 0);\n    clearAllButton.setSize(100, 40);\n    buttonPanel.add(clearAllButton);\n\n    applyButton.setLocation(240, 0);\n    applyButton.setSize(100, 40);\n    buttonPanel.add(applyButton);\n\n    cancelButton.setLocation(350, 0);\n    cancelButton.setSize(100, 40);\n    buttonPanel.add(cancelButton);\n\n    return custSelectPanel;\n}\n}\n</code></pre>\n\n<p>Table Model</p>\n\n<pre><code>private class TableModel extends AbstractTableModel {\n\n    private List data;\n    public TableModel(List data) {\n        this.data = data;\n    }\n\n    private String[] columnNames = {\"Selected \",\n            \"Customer Id \",\n            \"Customer Name \"\n    };\n\n    public int getColumnCount() {\n        return COLUMN_COUNT;\n    }\n    public int getRowCount() {\n        return data == null ? 0 : data.size();\n    }\n\n    public String getColumnName(int col) {\n        return columnNames[col];\n    }\n\n    public void setValueAt(Object value, int rowIndex, int columnIndex) {\n        getRecord(rowIndex)[columnIndex] = value;\n        super.fireTableCellUpdated(rowIndex, columnIndex);\n    }\n\n    private Object[] getRecord(int rowIndex) {\n        return (Object[]) data.get(rowIndex);\n    }\n\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        return getRecord(rowIndex)[columnIndex];\n    }\n\n    public Class getColumnClass(int columnIndex) {\n        if (data == null || data.size() == 0) {\n            return Object.class;\n        }\n        Object o = getValueAt(0, columnIndex);\n        return o == null ? Object.class : o.getClass();\n    }\n\n    public boolean isCellEditable(int row, int col) {\n        if (col &gt; 0) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n} \n}\n</code></pre>\n\n<p>A Views Action Listener</p>\n\n<pre><code>class CustomerSelectorUIListener implements ActionListener{\n\nCustomerSelectorDialogUI custSelectView;\nController controller;\n\npublic CustomerSelectorUIListener (Controller controller, CustomerSelectorDialogUI custSelectView) {\n    this.custSelectView = custSelectView;\n    this.controller = controller;\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    String actionEvent = e.getActionCommand();\n\n    else if ( actionEvent.equals( \"clearAllButton\" ) )\n    {\n        controller.checkButtonControl(false);\n    }       \n    else if ( actionEvent.equals( \"selectAllButton\" ) )\n    {\n        controller.checkButtonControl(true);\n    }       \n}\n}\n</code></pre>\n\n<p>Main Controller</p>\n\n<pre><code>public class Controller implements ActionListener{\n\nCustomerSelectorDialogUI selectUI;\nDummyCustomerStore store;\n\npublic Controller( DummyCustomerStore store, TestApplicationUI appUI )\n{\n    this.store = store;\n    this.appUI = appUI;\n    appUI.ButtonListener( this );           \n} \n\n@Override\npublic void actionPerformed(ActionEvent event) {\n    String viewAction = event.getActionCommand();\n\n    if (viewAction.equals(\"TEST\")) {\n        selectUI = new CustomerSelectorDialogUI(appUI, store, true);\n        selectUI.showTextActionListeners(new CustomerSelectorUIListener( this, selectUI ) );\n        selectUI.setVisible( true );\n    }\n}\n\npublic void checkButtonControl (Boolean checkAll) {\n    selectUI.PopulateAndShow(store, checkAll);\n}       \n}\n</code></pre>\n"},{"tags":["mvc","microsoft-web-deploy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13042631,"title":"Receiving an error doing code first MVC web deployment","body":"<p>I have set up a remote server running SQl Server Web edition and full IIS 7.5. I am able to deploy my MVC 4 application to the remote box without issue, but when I try to run the website I receive the following error:</p>\n\n<pre><code>Login failed for user 'IIS APPPOOL\\backoffice.mysite.com'.\nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.\n\nException Details: System.Data.SqlClient.SqlException: Login failed for user 'IIS APPPOOL\\backoffice.mysite.com'.\n</code></pre>\n\n<p>The Error Console says:</p>\n\n<pre><code>    Exception information: \n    Exception type: InvalidOperationException \n    Exception message: The ASP.NET Simple Membership database could not be initialized. For more information, please see http://go.microsoft.com/fwlink/?LinkId=256588\n   at MyModels.Filters.InitializeSimpleMembershipAttribute.SimpleMembershipInitializer..ctor() in c:\\Users\\Administrator\\Documents\\MySite\\MyModels\\Filters\\InitializeSimpleMembershipAttribute.cs:line 47\n\nAn error occurred while getting provider information from the database. This can be caused by Entity Framework using an incorrect connection string. Check the inner exceptions for details and ensure that the connection string is correct.\n</code></pre>\n\n<p>It is very possible that my connection string is incorrect as the error log suggests. My connection running locally in Visual Studio is:</p>\n\n<pre><code>&lt;add name=\"MyDB\" connectionString=\"Data Source=(LocalDb)\\v11.0;Initial Catalog=MyDB;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|\\MyDB.mdf\" providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p>I have set up a transformation for the connection on the remote server as:</p>\n\n<pre><code>&lt;add name=\"MyDB\" connectionString=\"Data Source=(local);Initial Catalog=MyDb;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<ol>\n<li><p>Normally I use SQL login so I am confused here. What should the connection string look for SQL Server Web Edition using Windows Authentication?</p></li>\n<li><p>It looks like the IIS APPPOOL\\backoffice.mysite.com is the trying to create the DB. Is this correct? If so do I not need to create a login and user for this user in SQL Management Studio?</p></li>\n<li><p>Do I need to create the DB in SQL Management Studio before running the deployment?</p></li>\n</ol>\n\n<p>Thank so much!</p>\n"},{"tags":["javascript","mvc","node.js","backbone.js"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":13041777,"title":"Understanding TodoMVC Example","body":"<p>Starting to learn node.js and backbone.js and am using the TodoMVC example as my guide. There are a couple parts I am having trouble wrapping my head around. See below.</p>\n\n<p>Here is app.js. </p>\n\n<pre><code>var express = require('express')\n  , http = require('http')\n  , mongoose = require('mongoose')\n  , models = require('./models')\n  , routes = require('./routes')\n  , app = express();\n\napp.configure(function () {\n  app.set('views', __dirname + '/views');\n  app.set('view engine', 'jade');\n  app.use(express.favicon());\n  app.use(express.logger('dev'));\n  app.use(require('stylus').middleware({ src: __dirname + '/public' }));\n  app.use(express.static(__dirname + '/public'));\n  app.use(express.bodyParser());\n  app.use(express.methodOverride());\n  app.use(app.router);\n});\n\napp.configure('development', function () {\n  app.use(express.errorHandler());\n});\n\nroutes.init(app);\n\n\nmongoose.connect(\"127.0.0.1\", \"todomvc\", 27017);\n\nhttp.createServer(app).listen(3000);\n\nconsole.log(\"Express server listening on port 3000\");\n</code></pre>\n\n<p>Heres is ./models:</p>\n\n<pre><code>var mongoose = require('mongoose'),\n\n  TodoSchema = new mongoose.Schema({\n    title: { 'type': String, 'default': 'empty todo...' },\n    order: { 'type': Number },\n    done: { 'type': Boolean, 'default': false }\n  });\n\nmodule.exports = mongoose.model('Todo', TodoSchema);\n</code></pre>\n\n<p>Andy finally, here is ./routes:</p>\n\n<pre><code>(function (exports) {\n\n  \"use strict\";\n\n  var mongoose = require('mongoose')\n    , crudUtils = require('../utils/crudUtils')\n    , Todo = mongoose.model('Todo');\n\n  function index(req, res) {\n    res.render('index', { 'title': 'Backbone.js, Node.js, MongoDB Todos' });\n  }\n\n  exports.init = function (app) {\n    app.get('/', index);\n    crudUtils.initRoutesForModel({ 'app': app, 'model': Todo });\n  };\n\n}(exports));\n</code></pre>\n\n<p>So my question is, how is the 'Todo' model in mongoose.model('Todo') in the routes module available in this scope? I see that the models module is exporting mongoose.model('Todo', TodoSchema); so I have to believe that is how the routes module has access to it, but I don't know why. What am I missing? I have a feeling its just not a complete understanding of scope in this situation. Also, I am not sure of the reasoning of having the routes function anonymous. </p>\n\n<p>Many thanks!</p>\n"},{"tags":["php","javascript","ajax","mvc","history"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":13041730,"title":"Javascript framework without need for a hash or hasbang (history API?)","body":"<p>I am currently working on a new application/website. I am using AngularJS to fetch JSON data from the back end, that uses PHP. However, if I want the website's pages to be indexed by Google, I have to support the AJAX crawling scheme. Additionally, if I want my site to be accessible to older browsers or non JS users on the same domain, URLs for JS and non-JS users won't be the same.</p>\n\n<p>This is kind of a pain.</p>\n\n<p>What if we could do this:</p>\n\n<ul>\n<li>on the first request, get the whole page, rendered as HTML</li>\n<li>for all subsequent requests, use AJAX and return JSON data server side (by checking if the request was made via XmlHttpRequest)</li>\n</ul>\n\n<p>This way, you get the benefits from AJAX (as of the 2nd request from a user's session) but there is always a fallback if a user has disabled Javascript, has a slow browser or whatever. In addition, no need to comply with the AJAX crawling scheme since everyone views the page of your site via a unique URI.</p>\n\n<p><strong>Here comes my question:</strong></p>\n\n<p>Are there any actively maintained open source Javascript framework out there that uses the History API to build fast and responsive AJAX applications without the need for a hash/hashbang and compliance with the AJAX crawling scheme?</p>\n\n<p>Or maybe this is possible with current frameworks? I just couldn't find a lot of information on this.</p>\n\n<p><strong>EDIT:</strong>\nAfter looking around a bit, I found <a href=\"http://davisjs.com/\" rel=\"nofollow\">http://davisjs.com/</a>:</p>\n\n<blockquote>\n  <p>A small JavaScript library using HTML5 history.pushState that allows simple Sinatra style routing for your JavaScript apps.</p>\n</blockquote>\n\n<p>Could be a good starting point.</p>\n\n<p><strong>EDIT:</strong>\nPlease note I am not looking for a completely cross browser compatible framework or library. I am targeting the latest versions of Firefox/Chrome.</p>\n"},{"tags":["asp.net","mvc","telerik"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2609,"score":0,"question_id":5523839,"title":"Telerik MVC Extension  Grid Loaded within Tabstrip doesnt support clientEvents","body":"<p>I am facing serious problem while trying to work in clientevents  provided with asp.net mvc telerik grid.\nHeres the two different scenarios:\nWhen I am putting the following script in a view or partial view it works fine;</p>\n\n<pre><code>   &lt;%= Html.Telerik().Grid&lt;Plan&gt;()\n            .Name(\"Grid\")\n            .DataKeys(keys =&gt; keys.Add(p =&gt; p.StaffId))\n            .ToolBar(commands =&gt; { commands.SubmitChanges();\n                                     commands.Position(GridToolBarPosition.Bottom);\n            }).PrefixUrlParameters(false)\n\n            .DataBinding(dataBinding =&gt;\n                dataBinding.Ajax()\n                        .Select(\"_SelectBatchEmployees\", \"Employee\")\n                    .Update(\"_SaveBatchEmployees\", \"Employee\")\n            )\n            .Columns(columns =&gt;\n            {\n                columns.Bound(p =&gt; p.FullName).Width(320).ReadOnly(true);\n                columns.Bound(p =&gt; p.Title).Width(220).ReadOnly(true);\n                columns.Bound(p =&gt; p.PerformanceRating).Title(\"Perf. Rating\").Format(\"{0:n}\").Width(80);\n                columns.Bound(p =&gt; p.RecommendedIncreaseAmountFrom).Width(80);\n\n            })\n            .ClientEvents(events =&gt;\n                    events.OnDataBinding(\"Grid_onDataBinding\").OnError(\"Grid_onError\").OnEdit(\"onEdit\").OnDataBound(\"onDataBound\"))\n            .Editable(editing =&gt; editing.Mode(GridEditMode.InCell))\n            .Pageable(page =&gt; page.PageSize(40))\n            .Scrollable()\n            .Sortable()\n            .Footer(true)\n\n            %&gt;\n\n\n     &lt;script type=\"text/javascript\"&gt;\n         function Grid_onError(args) {\n             if (args.textStatus == \"modelstateerror\" &amp;&amp; args.modelState) {\n                 var message = \"Errors:\\n\";\n                 $.each(args.modelState, function (key, value) {\n                     if ('errors' in value) {\n                         $.each(value.errors, function () {\n                             message += this + \"\\n\";\n                         });\n                     }\n                 });\n                 args.preventDefault();\n                 alert(message);\n             }\n         }\n         function onDataBound(e) {\n             //alert(e.dataItem);\n         }\n\n         function onEdit(e) {\n             var dataItem = e.dataItem;\n             var mode = e.mode;\n             var form = e.form;\n             var priceTextBox = $(form).find('#Grade');\n             dataItem.RecommendedIncreaseAmountFrom = 10 * 5;\n\n             e.preventDefault();\n\n\n         }\n\n         function Grid_onDataBinding(e) {\n             var grid = $(this).data('tGrid');\n             if (grid.hasChanges()) {\n                 if (!confirm('You are going to lose any unsaved changes. Are you sure?')) {\n                     e.preventDefault();\n                 }\n             }\n         }\n\n        &lt;/script&gt;\n</code></pre>\n\n<p>But when I partially load view thru tabstrip on demand loading it dont works. And when I removed the clientevents part it started working?? I dont know what is the reason but I need to work, please help me and heres my code:</p>\n\n<pre><code>&lt;%@ Page Title=\"\" Language=\"C#\" MasterPageFile=\"~/Views/Shared/Edit.Master\" Inherits=\"System.Web.Mvc.ViewPage&lt;dynamic&gt;\" %&gt;\n\n    &lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"TitleContent\" runat=\"server\"&gt;\n        Index\n    &lt;/asp:Content&gt;\n\n    &lt;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n    &lt;%=\n                Html.Telerik().TabStrip()\n                    .Name(\"planingTabs\").HtmlAttributes(new {style = \"overfloat:auto\"})\n                    .Items(parent =&gt; parent.Add() //.HtmlAttributes(new {style = \"overfloat:auto\"})\n                                         .Text(\"Test\")\n                                         .LoadContentFrom(\"PlanGrid\", \"Employee\").Selected(true))\n\n            %&gt;\n\n    &lt;/asp:Content&gt;\n</code></pre>\n\n<p>Below is controller code:</p>\n\n<pre><code>public ActionResult Index()\n            {\n                return View();\n            }\n\n            public ActionResult PlanGrid()\n            {\n                return PartialView();\n            }\n\n            [GridAction]\n            public ActionResult _SelectBatchEmployees()\n            {\n                            return View(new GridModel { Data = _employeeRepository.GetAll()});\n            }\n            [AcceptVerbs(HttpVerbs.Post)]\n            [CultureAwareAction]\n            [GridAction]\n            public ActionResult _SaveBatchEmployees([Bind(Prefix =\n                \"inserted\")]IEnumerable&lt;Plan&gt; insertedProducts,\n                [Bind(Prefix = \"updated\")]IEnumerable&lt;Plan&gt; updatedProducts,\n                [Bind(Prefix = \"deleted\")]IEnumerable&lt;Plan&gt; deletedProducts)\n            {\n\n                //if (insertedProducts != null)\n                //{\n                //    foreach (var product in insertedProducts)\n                //    {\n                //        SessionProductRepository.Insert(product);\n                //    }\n                //}\n                if (updatedProducts != null)\n                {\n                    foreach (var employee in updatedProducts)\n                    {\n                        var target = _employeeRepository.One(p =&gt; p.StaffId == employee.StaffId);\n                        if (target != null)\n                        {\n                            //target.ProductName = product.ProductName;\n                            //target.UnitPrice = product.UnitPrice;\n                            //target.UnitsInStock = product.UnitsInStock;\n                            //target.LastSupply = product.LastSupply;\n                            //target.Discontinued = product.Discontinued;\n\n\n                            _employeeRespository.Save();\n                        }\n                    }\n                }\n                //if (deletedProducts != null)\n                //{\n                //    foreach (var product in deletedProducts)\n                //    {\n                //        SessionProductRepository.Delete(product);\n                //    }\n                //}\n                return View(new GridModel { Data = _employeeRespository.GetAll() });\n            }\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","html-helper"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1694,"score":4,"question_id":8698720,"title":"When using Html.TextBoxFor, add the name of the model as prefix to id","body":"<p>I have an asp mvc 3 project When I use</p>\n\n<pre><code>@Html.TextBoxFor(model =&gt; model.Name)\n</code></pre>\n\n<p>the TexBoxFor render as</p>\n\n<pre><code>&lt;input id=\"Name\" name=\"Name\" type=\"text\" value=\"\" /&gt;\n</code></pre>\n\n<p>my model is \"UserModel\" :</p>\n\n<pre><code>[DisplayName(\"Name\")]\npublic string Name{ get; set; }\n</code></pre>\n\n<p>Is there a way to add to the name of the model as prefix in the id? maybe some attribute?</p>\n\n<p>I want that the text box will render as</p>\n\n<pre><code>&lt;input id=\"UserName\" name=\"UserName\" type=\"text\" value=\"\" /&gt;\n</code></pre>\n"},{"tags":["wcf","security","mvc"],"answer_count":0,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13038646,"title":"WCF as BLL (Middle Tier) and Security techniques","body":"<p>So bear with me, i am new at MVC and WCF. I already have a set of services (WCF) that exposes my BLL and I am trying to consume those from my MVC.net web application but i am unsure on how to perform security operations here.</p>\n\n<p>These are my app requirements:</p>\n\n<ul>\n<li>Be able to consume WCF services using different credentials for every user on the web application</li>\n<li>My BLL (WCF) needs to know what consumer is calling it (right now I only have the MVC app but i am planning to add iOS and Andriod calls to it, so later on i will add REST services to the WCF endpoints) Is there any design pattern for this out there? (or should i just use the soap header to include the caller ID? should i use some sort of caller secret or something?)</li>\n<li>I need a security mechanism like Tokens or something so I dont have to pass the username and password on every call of the service method (WCF)</li>\n</ul>\n\n<p>What i have so far:</p>\n\n<ul>\n<li>WCF uses a certificate and  and   with a custom username validator.</li>\n<li>I have manually coded proxies using the contract interfaces instead of generated proxies: But I hate the fact that i have to validate username and password every time a call is made to a WCF service. How in heaven can i use Tokens here? like to know if a given token sent on the soap header is valid or not yet expired? i have searched a lot and no tutorial/code/example is clear enough for me to actually start coding that ;(</li>\n<li>I am trying to cache the ChannelFactory but should I? i mean, i will need to cache a channer factory per logged in user per contract ;( is that ok? what can i do here?</li>\n</ul>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","mvc","session","struts"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13038096,"title":"Calling Two Actions together in Struts-SpringMvc apps","body":"<p>I have website running on 2 web apps, struts based message board running as APP-1, and Spring MVC based web site as APP-2. The sign-in procedure is dual, mean either user can sign-in from APP-1 or APP-2. It creates cookie on every sign-in and each app can detect that cookie.</p>\n\n<p>Now, the problem is with the sign-out. The sign-out is a REST call, so, if I sign-out from APP-1, I have to send an action for APP-2 for sign-out then redirect to the main page.</p>\n\n<p>The problem is with forward or redirect I can do only one thing. Example:</p>\n\n<pre><code>void method() {\n  response.sendRedirect(url1); // nothing return, just a signout Rest action...\n  response.sendRedirect(url2); // it will redirect to other page.....any idea how it work...\n}\n</code></pre>\n\n<p>I wanna run these two action together in a Spring MVC controller. And Both should run in same session. I tried with other way through URL calling REST action:</p>\n\n<pre><code>  Sign-Out Action....\n  Then.....REST Signout Action for APP-2 through URL....It runs but not in same session...\n  URL urlAction = new URL(url);\n  HttpURLConnection conn = (HttpURLConnection)urlAction.openConnection();\n  conn.setRequestMethod(\"GET\");\n  BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n  then \n  redirect:\"www.home.com\";\n</code></pre>\n\n<p>It works but not running in same session...Any idea how to solve this issue.....</p>\n\n<p>I also try with HttpClient but no luck...</p>\n\n<pre><code>  DefaultHttpClient httpClient = new DefaultHttpClient();\n  HttpGet getRequest = new HttpGet(\"Rest Action URL....\");\n  HttpResponse res = httpClient.execute(getRequest);\n</code></pre>\n"},{"tags":["php","mvc","e-commerce","opencart"],"answer_count":1,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":2490,"score":6,"question_id":10700761,"title":"How to create a custom admin page in opencart?","body":"<p>I want to know how to make a custom admin panel page in opencart.</p>\n\n<p>Requires login with the controller - the admin panel does not seem to use the same controller as the normal site. I know <a href=\"http://stackoverflow.com/questions/9490723/opencart-php-custom-page-without-using-the-information-feature\">how to make custom pages with opencart</a> (but this is not for the admin)</p>\n\n<p>A simple Hello World example would be great</p>\n"},{"tags":["php","mvc","routes"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":48,"score":-1,"question_id":13037247,"title":"More advanced request routing in an MVC application","body":"<p>At the moment I have a very simple MVC framework up that I'm developing to learn. I have very basic routes at the moment, it transforms a given URL into a controller and method pair. Routes are defined as so:</p>\n\n<pre><code>class Routes {\n    public static $routes = array(\n        '/' =&gt; array('Pages', 'home'),\n        '/test' =&gt; array('Pages', 'home')\n    );\n}\n</code></pre>\n\n<p>in this example, <code>Pages</code> is the controller and <code>home</code> is the method. The controller and method are then called like so:</p>\n\n<pre><code>if(isset(Routes::$routes[$path])) {\n    $controllerName = Routes::$routes[$path][0];\n    $actionName = Routes::$routes[$path][1];\n} else {\n    // TODO: create a specific 404 handler\n}\n\n$controllerName .= 'Controller';\n$controller = new $controllerName();\n\nreturn $controller-&gt;$actionName();\n</code></pre>\n\n<p>there's some more code with this but I've dumbed it down for this example. Now, I'd like to implement a way to pass parameters to the method. For example, given a URL like <code>http://site.com/users/41</code> I want to define a route like <code>/users/:id</code> and then have the <code>$id</code> parameter passed to the method of the controller that handles this request, which is <code>41</code>.</p>\n\n<p>I've already looked at other frameworks like CakePHP and CodeIgniter but their routing methods seem very complicated compared to mine and most of it is going over my head.</p>\n\n<p>Any advice? Thank you.</p>\n"},{"tags":["mvc","dci"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13031407,"title":"DCI context in a web application","body":"<p>I'm thinking how and when a DCI context can be used in a Web application. I'm considering this high-level use case:</p>\n\n<ol>\n<li>User enters city, arrival, departure, room type and clicks \"Search\".</li>\n<li>System displays a list of hotels </li>\n<li>User clicks on a Hotel logo to read its details </li>\n<li>System displays hotel details </li>\n<li>User clicks \"Book now\"</li>\n<li>System displays payment form </li>\n<li>User enter customer details, billing information and clicks \"Submit\". </li>\n<li>System validates billing information and displays a booking confirmation.</li>\n</ol>\n\n<p>This is very high-level and surely needs to be broken down. The first steps (1-2, 3-4, 5-6) feels like simple resource requests that could be handled with some search- and REST-architecture. So my first question is, is there a need for a DCI-context in those cases, isn't plain MVC enough? Of course a \"Hotel\" data entity could play a role, but would you consider it feasible, especially if it's the only actor?</p>\n\n<p>The last step is where I see that DCI could be very useful, for now there is work to do in a procedural fashion. (Creating a Customer, adding a Booking to the Hotel, sending confirmation mail...)</p>\n\n<p>What are your thoughts on this? Am I on the right track?</p>\n"},{"tags":["javascript","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":64,"score":-2,"question_id":13034954,"title":"Difference between double and single quotes","body":"<p>I have an MVC app where I'm inserting some text into the DOM using jQuery.</p>\n\n<p>If I use:</p>\n\n<pre><code>$(\"#toggle\").text('&lt;%: translated.Show %&gt;');\n</code></pre>\n\n<p>The text is rendered. </p>\n\n<p>If I use:</p>\n\n<pre><code>$(\"#toggle\").text(\"&lt;%: translated.Show %&gt;\");\n</code></pre>\n\n<p>Where resource string is wrapping in double quotes it throws a JavaScript error, note the single quotes wrapping the working version and double quotes wrapping the erroneous version. </p>\n\n<p>Can anyone explain why, I thought there was little difference between single and double quotes in Javascript. </p>\n\n<p>The 'translated.Show' string does not contain quotes just plain text.</p>\n"},{"tags":["java","mvc","decorator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13032341,"title":"decorator pattern to allow different behavior of a model","body":"<p>I was wondering whether the use of a decorator pattern is good in case I want my model (\"M part\" of MVC) to raise Exceptions depending on their origin. I explain myself.</p>\n\n<p>I have a class called Game which is a part of the Model. I have two Views : a GUI and a command line. I want my model to raise an Exception for command line view when the user enters a character instead of a number (for example). Of course I don't want this Exception to be handled by the model as it \"belongs\" to the command line and not to the Model itself.</p>\n\n<p>To encapsulate those two different behaviors, I plan to decorate the Game class with two classes : CommandLineGame and GUIGame which have only one attribute : Game and handle their own kind of Exception. Is it a good idea ? Is there a better one ? The problem of such a solution is that every model class raising Exception depending on its origin has to be decorated...</p>\n"},{"tags":["java","swing","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":69,"score":-3,"question_id":12973497,"title":"MVC Architecture - Where to place logic?","body":"<p>I'm creating a simulation for displaying an automated Maze Solver, in which there is little user input.</p>\n\n<p>The MVC architecture is used and is implemented in Java. The View is to receive and draw data from the Model, through the Controller.</p>\n\n<p>As it stands, I have two options available to update the Model logic and in turn update the View:</p>\n\n<ul>\n<li>Controller implements Runnable </li>\n<li><p>Controller creates a thread: </p>\n\n<pre><code>Thread runControl = new Thread(this);\nrunControl.start();\n</code></pre></li>\n<li><p>Thread can then execute run() in Controller, which updates the Model logic and pass through the new data to the View</p></li>\n</ul>\n\n<p>This isn't my preferred method, however, as I'd sooner have the Model running its own logic. I would prefer:</p>\n\n<ul>\n<li>Model implements Runnable</li>\n<li>Model contains all logic in run()</li>\n<li>Controller creates a Thread for the Model and executes the model</li>\n</ul>\n\n<p>I'm lost at this point. The Model can then update its own logic accordingly, but then whilst the Model Thread is running, how can the Controller be notified of changes in the Model data and in turn retrieve that data (that is still being manipulated/updated) to then notify the View?</p>\n"},{"tags":["c#","asp.net-mvc","mvc","controller","refactoring"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":13028317,"title":"How to factor error-handling code out of an MVC controller?","body":"<p>Most of the time, I can figure out how to factor out business logic from an MVC controller into a service or a model.  However the exception to this is error handling, which it seems to me is the controller's responsibility.  However, it can lead to rather \"un-skinny\" controllers.  For example:</p>\n\n<pre><code>if ((foundEvent = repoEvent.GetEventById(id)) == null) {\n    return HttpNotFound(\"Could not find event with id {0}.\".FormatWith(id));\n}\n\nvar assessment = isSample ? foundEvent.SampleAssessment : foundEvent.ActualAssessment;\nif (assessment == null) {\n    return HttpNotFound(\"Could not find {0}assessment for event with id {1}\".FormatWith(isSample ? \"sample \" : \"\", id));\n}\n\nif (assessment.UnmappedCaseStudiesCount == 0) {\n    TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"This assessment (\\\"{0}\\\") has no case studies!\".FormatWith(assessment.Name);\n    return RedirectToAction(\"Index\", \"Events\");\n}\n</code></pre>\n\n<p>In all the cases above, it seems to me that the logic does belong in the controller because the controller is setting up error messages rather than returning a view (this is re-enforced by the fact that things like <code>HttpNotFound</code> and <code>RedirectToAction</code> are members of the <code>Controller</code> class, and so are unavailable to classes that don't extend <code>Controller</code>).  However you can see how this would get long and messy after a short while.  Is there a way to factor out this kind of error handling in the controller to make the controller more \"skinny\", or does this stuff simply belong in the controller?</p>\n\n<p>Here's a larger snippet of code indicating how I refactored to allow 2 action methods to use the same view model setup code.  However, it still results in 90+ lines of code in the controller just for 2 action methods; again, not a very \"skinny\" controller:</p>\n\n<pre><code>#region Private methods\nprivate StartAssessmentViewModel getStartViewModel(int eventId, bool isSample, out ActionResult actionRes) {\n    actionRes = null;\n\n    EventRepository repoEvent = new EventRepository();\n    Event foundEvent;\n    if ((foundEvent = repoEvent.GetEventById(eventId)) == null) {\n        actionRes = HttpNotFound(\"Could not find event with id {0}.\".FormatWith(eventId));\n        return null;\n    }\n\n    var assessment = isSample ? foundEvent.SampleAssessment : foundEvent.ActualAssessment;\n    if (assessment == null) {\n        actionRes = HttpNotFound(\"Could not find {0}assessment for event with id {1}\".FormatWith(isSample ? \"sample \" : \"\", eventId));\n        return null;\n    }\n\n    if (assessment.UnmappedCaseStudiesCount == 0) {\n        TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"This assessment (\\\"{0}\\\") has no case studies!\".FormatWith(assessment.Name);\n        actionRes = RedirectToAction(\"Index\", \"Events\");\n        return null;\n    }\n\n    try {\n        // Has the assessment finished? (samples don't count)\n\n        UserAssessmentRepository repoUa = new UserAssessmentRepository();\n        var foundUa = repoUa.GetUserAssessment(foundEvent.EventId, assessment.AssessmentId, User.Identity.Name);\n        // TODO: check that foundUa.Assessment.IsSample is OK; may need to make .Assessment a concrete instance in the repo method\n        if (foundUa != null &amp;&amp; !foundUa.Assessment.IsSample) {\n            if (_svcAsmt.IsAssessmentFinished(foundUa)) {\n                // TODO: test that this way of displaying the error works.\n                TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"You have already completed the assessment for this event ('{0}'); you cannot start it again.\".FormatWith(foundEvent.Name);\n                actionRes = RedirectToAction(\"Index\", \"Events\");\n                return null;\n            }\n\n            // Has it been started already?\n            if (_svcAsmt.IsAssessmentStarted(foundEvent.EventId, foundUa.AssessmentId, User.Identity.Name)) {\n                actionRes = RedirectToAction(\"Question\", new { id = foundUa.UserAssessmentId });\n                return null;\n            }\n        }\n\n        return Mapper.Map&lt;StartAssessmentViewModel&gt;(assessment);\n    }\n    catch (Exception ex) {\n        TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"Could not display start screen for assessment {0} on event {1}; error: {2}\".FormatWith(assessment.AssessmentId, foundEvent.EventId, ex.Message);\n        actionRes = RedirectToAction(\"Index\", \"Events\");\n        return null;\n    }\n}\n#endregion\n\npublic ActionResult Start(int id, bool isSample = false) {\n    // Set up view model\n    ActionResult actionRes;\n    StartAssessmentViewModel viewModel = getStartViewModel(id, isSample, out actionRes);\n    if (viewModel == null) {\n        return actionRes;\n    }\n\n    return View(viewModel);\n}\n\n[HttpPost, ActionName(\"Start\")]\npublic ActionResult StartConfirmed(int id, StartAssessmentViewModel viewModel) {\n    // Set up view model\n    ActionResult actionRes;\n    StartAssessmentViewModel newViewModel = getStartViewModel(id, viewModel.AssessmentIsSample, out actionRes);\n    if (newViewModel == null) {\n        return actionRes;\n    }\n\n    if (!ModelState.IsValid) {\n        return View(newViewModel);\n    }\n\n    // Model is valid; if it's not a sample, we need to check the access code\n    if (!viewModel.AssessmentIsSample) {\n        if (viewModel.AccessCode != \"12345\") {\n            // Invalid access code\n            TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"The access code '{0}' is incorrect.\".FormatWith(viewModel.AccessCode);\n            return View(newViewModel);\n        }\n    }\n\n    // Access code is valid or assessment is sample; redirect to first question\n    return RedirectToAction(\"Question\", new { id = 1 });\n}\n</code></pre>\n"},{"tags":["iphone","objective-c","ios","mvc","properties"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":13025712,"title":"How do you associate a Model with a UIButton (or in general, UIViews) in iOS?","body":"<p>I have a screen that shows details of a \"Newspaper\" (model) instance. The ViewController of my screen has one property for this Newspaper model. A Newspaper instance contains several Article instances, and these Article instances must be represented as UIButtons in the screen. Tapping the UIButton must display an alert message containing the title of the Article.</p>\n\n<p>What are some good ways to associate the UIButton with an Article model?\nBasically, when tapping the UIButton, how do I retrieve the UIButton's corresponding Article instance?</p>\n\n<p>I currently have two approaches in mind:</p>\n\n<ol>\n<li>Override the UIButton, and add a property for the Article instance. \n<ul>\n<li>This violates the MVC model, since the view (UIButton) has a direct means of communication with the model (Article), but this will simplify button actions since the UIButton can simply call its property to know what Article instance will be used to do the action (display an alert message containing the title of the Article).</li>\n</ul></li>\n<li>Create an NSArray of UIButtons (buttonsArray), and an NSArray of Article instances (articlesArray).\n<ul>\n<li>Index 0 of the buttonsArray correspond to index 0 of the articlesArray. The Article instance associated with the tapped UIButton will be based on the button's position in the array. In order to retrieve the corresponding Article of a UIButton, the buttonsArray must be looped until the tapped UIButton is found, and then getting the Article from the articlesArray using the same index.</li>\n</ul></li>\n</ol>\n\n<p>Are there better ways to achieve this?</p>\n\n<p>EDIT: The buttons will have animations and gesture recognizers.\nAlso, the information needed by the button action from the Article model does not only include the title (e.g. article position, or the object itself if it will be passed to another screen, etc.).</p>\n"},{"tags":["java","mvc","view","model","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13027746,"title":"Can the View call the Model in a MVC-structure in Java?","body":"<p>I'm making a basic MVC structure in Java and I'm wondering if the view is allowed to call the model for information?</p>\n\n<p>For example: A user clicks a button that is created in the View. The View calls the Controller which has a handler that tells him what to do next. Then the Controller calls a method in the Model, and sends a value also. At the same time the Controller calls the method \"UpdateLabel\" in the View. Now is allowed to call a method in the Model from the \"UpdateLabel\" method in the View, so the View can use the value that's stored in the Model?</p>\n\n<p>Thanks in advance for reading and responding to my question!</p>\n"},{"tags":["mvc","events","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12959541,"title":"What is the best way for showing a loading bar/spinner when a backbone collection is being fetched?","body":"<p>Good day!</p>\n\n<p>Recently I have been into backbone/require, and getting to learn some really cool stuff. I am trying to learn what is the best practice for showing the loading bar/spinner when a backbone collection is being fetched. Here are some strategies that I found as being used, for triggering a fetch/syncing event on the collection:</p>\n\n<p><strong>Method 1:</strong> Override the backbone's sync method before the application starts, and trigger a 'syncing' event on that collection</p>\n\n<p><strong>Method 2:</strong> Override the backbone's fetch method before the application starts, and trigger a 'fetching' event on that collection</p>\n\n<p><strong>Method 3:</strong> When a collection is being defined, override the fetch() method and trigger an event 'fetching', so that any instance can be monitored for fetching</p>\n\n<p><strong>Method 4:</strong> Some people suggest using event aggregation so that when a view calls fetch() for a collection, that view triggers an event.</p>\n\n<p>Here is my situation:</p>\n\n<ul>\n<li>Lets say I have a collection C</li>\n<li>There are 2 views V1 and V2 that have access to it</li>\n<li>V1 can call fetch on C but V2 can't</li>\n<li>When C starts the fetch, only V2 is supposed to display a loading bar, and turn it off when reset() is called on C</li>\n<li>There can also be other views V3, V4 etc which might also need to the loading bar when C is being fetched</li>\n</ul>\n\n<p>What would be the best mechanism to to show the loading bar, keeping strict MVC pattern intact?</p>\n\n<p><strong>Option 1:</strong> Should the views listen to a 'syncing' event on the collection? Problem: If other fetch(), save() is called, the loading bar might display</p>\n\n<p><strong>Option 2:</strong> Should the views listen for a 'fetch()' event on the collection and act accordingly?</p>\n\n<p><strong>Option 3:</strong> Should one view inform another when it calls fetch() on a collection?</p>\n\n<p><strong>Option 4:</strong> Should the view call a fetching method on the window or an event aggregator?</p>\n\n<p>Other Methods and Options are also welcomed. Your suggestions and advice would be the best resource. Thanks.</p>\n"},{"tags":["c#","mvc","parallel.foreach"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13024594,"title":"How to verify if Parallel.Foreach is working correctly","body":"<p>Inside a Parallel Foreach I'm calling a service that gives me all information about an article, If I try to take the information about only one it takes 6 seconds. </p>\n\n<p>My questions about that: </p>\n\n<ul>\n<li><p>If I want to take the information about 4 articles, how long will it take? +- 6 seconds??</p></li>\n<li><p>Actually doing that it takes 27 seconds, There's an easy way to check if it's working on parallel ??</p></li>\n</ul>\n\n<p><em>Working with C# MVC3</em></p>\n\n<p>Code:</p>\n\n<pre><code>   private void PopulateArticleDictionary()\n    {\n        List&lt;Article&gt; tmpArticleFirstLevel = new List&lt;Article&gt;();\n        Parallel.ForEach&lt;Article&gt;(ArticlesFirstLevel,\n            article =&gt;\n            {\n                var articleInDepth = ArticleService.SearchByCode(article.Code, article.Code18, article.Quantity, \"ES\", \"EUR\");\n                if (articleInDepth == null)\n                {\n                    tmpArticleFirstLevel.Add(article);\n                }\n                else\n                {\n                    tmpArticleFirstLevel.Add(articleInDepth);\n                }                   \n\n            }\n            );            \n        ArticlesFirstLevel = tmpArticleFirstLevel;\n    }\n</code></pre>\n\n<p>Thank's !</p>\n"},{"tags":["spring","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13007689,"title":"Spring MVC and Backbone.js Integration Issue","body":"<p>I am trying to understand the integration of Spring MVC with backbone.js as its view technology. I find a couple of examples online such as <a href=\"https://github.com/sdeleuze/spring-backbone-todo/\" rel=\"nofollow\">here</a> and <a href=\"https://github.com/consileonpl/spring-3.1-backbone.js-todo-list\" rel=\"nofollow\">here too</a> However, in both of these samples, I am facing the same issues that the Spring MVC controller (the TodoController in the first link and TaskController in the second) does not seem to get called. </p>\n\n<p>First, there are no log messages printed (even if I do a desperate <em>System.out.println()</em> in the controller class). Second, when I try to set break points in the controller classes and go into debug mode, it was not stopped at all, but the example is accessible  through localhost:8080/todo  (Assume that is the url of the deployed war file). In both examples, a code based configuration approach is used (there is no web.xml). So I am wondering, does the controller class ever got called?  </p>\n\n<p>I have been stumbling on this for the weekend. So I would really appreciate it if someone can point me the right direction. Thanks!!!</p>\n"},{"tags":["mvc","ember.js"],"answer_count":1,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":70,"score":6,"question_id":13015077,"title":"Ember multiple instance of controllers","body":"<p>I've been using Ember for a while but still struggling sometimes to find out the best practices. So one of the Ember ways regarding controller and view is </p>\n\n<blockquote>\n  <p>an opinion of Ember's designers, that is enforced by the router is that for a given BaseName (e.g. \"Application,\" \"CustomerEntry,\" \"My Items\") there should be a BaseNameView and a BaseNameController.  -- <a href=\"http://emberjs.com/guides/router_primer/#toc_views-are-tightly-coupled-to-their-controllers\">Ember guide</a></p>\n</blockquote>\n\n<p>The problem is that what if I want multiple instances of the same view on a page. Since the controller is created during initiation of the application, they are singletons under the application namespace, which will not be able to hold two instances of the model data. </p>\n\n<p>One solution I see is to create controllers(and model data) manually and pass them to views. But in this case, I'd like Ember not create controllers automatically for me. Put it another way, why would Ember creates controllers as singletons during application startup. </p>\n"},{"tags":["asp.net-mvc","mvc","razor","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":13022650,"title":"MVC 4 returns 404 on returnUrl from Login Screen","body":"<p>I have a simple MVC application - a list of employees, buttons to delete the employee, and login screen</p>\n\n<p>When the user presses the button to delete the Employee they are requested to Login</p>\n\n<p>This takes them away from the EmployeeController to an AccountController that handles the login. The returnUrl is also passed to this. The user gets authenticated successfully and the Account controller goes to Redirect to the ReturnUrl and this is where it throws a 404.</p>\n\n<p>The returnUrl = /Employees/Delete/127 - the id of the employee. As far as I can see this is correctly configured in the controller and RouteConfig.</p>\n\n<p>When I remove the [Authorise] attribute it works just fine. So I suspect it must be with the redirect but I do not understand why?</p>\n\n<p><strong>EDIT</strong>:\nI also tried HttpPost in the using FormMethod.Post in the view but it made no difference but after leaving the Login I don't know it it os post or get - or could the Redirect to the return url be generating a Get and not a post?</p>\n\n<p><strong>EDIT AGAIN</strong>: Thinking about this it is probably not a good design. I am requesting the user to Authorize after they have pressed the delete button. I should probably not expose the delete button unless they are already Authorized but is it possible to do anyway?</p>\n\n<p><img src=\"http://i.stack.imgur.com/LPEgE.png\" alt=\"404 error\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/J4VFf.png\" alt=\"Account Controller with redirect\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/8a1mH.png\" alt=\"view generating the delete button\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/x4Q4d.png\" alt=\"employee controller with the Delete action\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/pMTRL.png\" alt=\"generated html\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/ncIkp.png\" alt=\"route config\"></p>\n"},{"tags":["c#","asp.net","jquery","mvc","widget"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":668,"score":0,"question_id":3618452,"title":"Save state of Widgets in ASP.NET MVC using jQuery and Json","body":"<p>I am using ASP.NET MVC in C# </p>\n\n<p>I have a page where the user can move different Widgets around the page, and I now need a method to save the state of the widgets. I am using jQuery in the HTML page, and the jQuery posts the new page layout using JSON. I am unsure how to read the JSON in the controller.</p>\n\n<p>The code I'm using is based on this example here - <a href=\"http://webdeveloperplus.com/jquery/saving-state-for-collapsible-drag-drop-panels/\" rel=\"nofollow\">http://webdeveloperplus.com/jquery/saving-state-for-collapsible-drag-drop-panels/</a>, but the code for saving the result is in PHP.</p>\n\n<p><strong>jQUERY</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\" &gt;\n$(function () {\n    $('.dragbox')\n.each(function () {\n    $(this).hover(function () {\n        $(this).find('h2').addClass('collapse');\n    }, function () {\n        $(this).find('h2').removeClass('collapse');\n    })\n    .find('h2').hover(function () {\n        $(this).find('.configure').css('visibility', 'visible');\n    }, function () {\n        $(this).find('.configure').css('visibility', 'hidden');\n    })\n    .click(function () {\n        $(this).siblings('.dragbox-content').toggle();\n        //Save state on change of collapse state of panel\n        updateWidgetData();\n    })\n    .end()\n    .find('.configure').css('visibility', 'hidden');\n});\n\n    $('.column').sortable({\n        connectWith: '.column',\n        handle: 'h2',\n        cursor: 'move',\n        placeholder: 'placeholder',\n        forcePlaceholderSize: true,\n        opacity: 0.4,\n        start: function (event, ui) {\n            //Firefox, Safari/Chrome fire click event after drag is complete, fix for that\n            if ($.browser.mozilla || $.browser.safari)\n                $(ui.item).find('.dragbox-content').toggle();\n        },\n        stop: function (event, ui) {\n            ui.item.css({ 'top': '0', 'left': '0' }); //Opera fix\n            if (!$.browser.mozilla &amp;&amp; !$.browser.safari)\n                updateWidgetData();\n        }\n    })\n.disableSelection();\n});\n\nfunction updateWidgetData() {\n    var items = [];\n    $('.column').each(function () {\n        var columnId = $(this).attr('id');\n        $('.dragbox', this).each(function (i) {\n            var collapsed = 0;\n            if ($(this).find('.dragbox-content').css('display') == \"none\")\n                collapsed = 1;\n            //Create Item object for current panel\n            var item = {\n                id: $(this).attr('id'),\n                collapsed: collapsed,\n                order: i,\n                column: columnId\n            };\n            //Push item object into items array\n            items.push(item);\n        });\n    });\n    //Assign items array to sortorder JSON variable\n    var sortorder = { items: items };\n\n    //Pass sortorder variable to server using ajax to save state\n    $.post('/Widgets/SaveLayout', 'data=' + $.toJSON(sortorder), function (response) {\n        if (response == \"success\")\n            $(\"#console\").html('&lt;div class=\"success\"&gt;Saved&lt;/div&gt;').hide().fadeIn(1000);\n        setTimeout(function () {\n            $('#console').fadeOut(1000);\n        }, 2000);\n    });\n    alert(sortorder);\n}\n</code></pre>\n\n<p></p>\n\n<p>I am willing to consider alternative ways to do this, as I may not have chosen the best way to do this.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","routing","url-routing"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":3078,"score":4,"question_id":343638,"title":"MVC Routing - Parameter names question","body":"<p>I'm looking for some information on Routing in MVC with C#. I'm currently very aware of the basics of routing in MVC, but what i'm looking for is somewhat difficult to find. </p>\n\n<p>Effectively, what I want to find is a way of defining a single route that takes a single parameter.</p>\n\n<p>The common examples I have found online is all based around the example</p>\n\n<pre><code>routes.MapRoute(\n    \"Default\",\n    \"{controller}.mvc/{action}/{id}\"\n    new { controller = \"Default\", action=\"Index\", id=\"\"});\n</code></pre>\n\n<p>By mapping this route, you can map to any action in any controller, but if you want to pass anything into the action, the method parameter must be called \"id\". I want to find a way around this if it's possible, so that I don't have to constantly specify routes just to use a different parameter name in my actions.</p>\n\n<p>Has anyone any ideas, or found a way around this?</p>\n"},{"tags":["php","mvc","classloader","naming","autoload"],"answer_count":4,"favorite_count":13,"up_vote_count":17,"down_vote_count":1,"view_count":7687,"score":16,"question_id":791899,"title":"Efficient PHP auto-loading and naming strategies","body":"<p>Like most web developers these days, I'm thoroughly enjoying the benefits of solid MVC architecture for web apps and sites.  When doing MVC with PHP, autoloading obviously comes in extremely handy.</p>\n\n<p>I've become a fan of <a href=\"http://www.php.net/spl_autoload_register\" rel=\"nofollow\"><code>spl_autoload_register</code></a> over simply defining a single <code>__autoload()</code> function, as this is obviously more flexible if you are incorporating different base modules that each use their own autoloading.  However, I've never felt great about the loading functions that I write.  They involve a lot of string checking and directory scanning in order to look for possible classes to load.</p>\n\n<p>For example, let's say I have an app that has a base path defined as <code>PATH_APP</code>, and a simple structure with directories named <code>models</code>, <code>views</code> and <code>controllers</code>.  I often employ a naming structure whereby files are named <code>IndexView.php</code> and <code>IndexController.php</code> inside the appropriate directory, and models generally have no particular scheme by default. I might have a loader function for this structure like this that gets registered with <code>spl_autoload_register</code>:</p>\n\n<pre><code>public function MVCLoader($class)\n{\n    if (file_exists(PATH_APP.'/models/'.$class.'.php')) {\n        require_once(PATH_APP.'/models/'.$class.'.php');\n        return true;\n    }\n    else if (strpos($class,'View') !== false) {\n        if (file_exists(PATH_APP.'/views/'.$class.'.php')) {\n            require_once(PATH_APP.'/views/'.$class.'.php');\n            return true;\n        }\n    }\n    else if (strpos($class,'Controller') !== false) {\n        if (file_exists(PATH_APP.'/controllers/'.$class.'.php')) {\n            require_once(PATH_APP.'/controllers/'.$class.'.php');\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>If it's not found after that, I might have another function to scan sub-directories in the models directory. However, all the if/else-ing, string checking and directory scanning seems inefficient to me, and I'd like to improve it.</p>\n\n<p>I'm very curious what file naming and autoloading strategies other developers might employ. I'm looking specifically for good techniques to employ for efficient autoloading, and not alternatives to autoloading.</p>\n"},{"tags":["unit-testing","mvc","html-helper"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":605,"score":2,"question_id":3946273,"title":".net mvc2 custom HtmlHelper extension unit testing","body":"<p>My goal is to be able to unit test some custom HtmlHelper extensions - which use RenderPartial internally.</p>\n\n<p><a href=\"http://ox.no/posts/mocking-htmlhelper-in-asp-net-mvc-2-and-3-using-moq\" rel=\"nofollow\">http://ox.no/posts/mocking-htmlhelper-in-asp-net-mvc-2-and-3-using-moq</a></p>\n\n<p>I've tried using the method above to mock the HtmlHelper.  However, I'm running into Null value exceptions.\n\"Parameter name: view\"</p>\n\n<p>Anyone have any idea??  Thanks.</p>\n\n<p>Below are the ideas of the code:</p>\n\n<pre><code>    [TestMethod]\n    public void TestMethod1()\n    {\n        var helper = CreateHtmlHelper(new ViewDataDictionary());\n        helper.RenderPartial(\"Test\");  // supposingly this line is within a method to be tested\n        Assert.AreEqual(\"test\", helper.ViewContext.Writer.ToString());\n    }\n\n\n    public static HtmlHelper CreateHtmlHelper(ViewDataDictionary vd)\n    {\n        Mock&lt;ViewContext&gt; mockViewContext = new Mock&lt;ViewContext&gt;(\n            new ControllerContext(\n                new Mock&lt;HttpContextBase&gt;().Object,\n                new RouteData(),\n                new Mock&lt;ControllerBase&gt;().Object),\n            new Mock&lt;IView&gt;().Object,\n            vd,\n            new TempDataDictionary(),\n            new StringWriter());\n        var mockViewDataContainer = new Mock&lt;IViewDataContainer&gt;();\n        mockViewDataContainer.Setup(v =&gt; v.ViewData)\n            .Returns(vd);\n        return new HtmlHelper(mockViewContext.Object,\n                                mockViewDataContainer.Object);\n    }\n</code></pre>\n"},{"tags":["objective-c","osx","mvc","nsarray"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13017152,"title":"MVC pattern and model object initialization in Objective-C Cocoa app","body":"<p>This is a pretty basic question, however hopefully somebody can help me out:</p>\n\n<p>If I am using an instance of <code>NSArray</code> to populate a pop-up button, where in terms of MVC does that <code>NSArray</code> need to be initialised? I'm guessing it would fall under Model, however if that's the case, how do I initialise the array? Do I start a new implementation file to contain the array? (Obviously don't want to use my app delegate file as that would fall under Controller, not Model.)</p>\n"},{"tags":["java","mvc","jsf","service-layer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":13011392,"title":"JSF Service Layer","body":"<p>I am not sure whether my approach with the MVC environment in JSF is the best way to go. Since I am trying to get the most out of JSF I would like to know how my Service Layer (or Model, speaking in MVC terms) should be 'designed'.</p>\n\n<p>I know the View-Controller ratio should be 1 to 1 (exceptions ruled out).\nNow in what way should I design my Service Layer? Should I use one big service (don't think so)? If not, based on what should I split my services?</p>\n\n<p>Note, my Service will be called from the Beans (Controllers in MVC terms) and the Service itself will call DAO's using JPA when necessary.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["asp.net-mvc","mvc","modelbinders"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":413,"score":0,"question_id":1989071,"title":"Can't add ModelBinder attribute to a property of input model","body":"<p>I want to specify the model binder to use for a property of my input model.</p>\n\n<pre><code>public class SendEmailInput\n{\n    [Required, EmailAddress]\n    public string From { get; set; }\n    [Required]\n    public string To { get; set; }\n    [Required]\n    public string Subject { get; set; }\n    [Required, ModelBinder(typeof(RadEditorModelBinder))]\n    public string Body { get; set; }\n}\n</code></pre>\n\n<p>However the ModelBinderAttribute cannot be applied to properties. This seems stupid since I can apply it to method parameters. What should I do to work around this limitation?</p>\n"},{"tags":["jquery","asp.net-mvc","json","mvc","twitter-bootstrap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13016929,"title":"Any Way to Implement Twitter Bootstrap using MVC 4 validation? Instead of using jquery?","body":"<p>As mentioned in the title, any advice would be appreciated. Also, anyway to know how to implement jquery to post data from dropdown list, checked box over to MVC 4 server side and responding back?\nLike, wow to implement System.Web.Mvc.Html and System.Web.Mvc.Ajax libraries with Twitter Bootstrap component?</p>\n\n<p><a href=\"http://twitter.github.com/bootstrap/\" rel=\"nofollow\">http://twitter.github.com/bootstrap/</a>\nThere is no way to show how to implement those information mentioned above.</p>\n"},{"tags":["ruby-on-rails","mvc","view","resources","relationship"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13013408,"title":"Adding a button to a view for updating a model in rails","body":"<p>I have two resources, A and B with a many to many relationship between them. When pressing a button on A's show view I wish to establish the relationship between the A object and a B object which I also have access to from the view.</p>\n\n<p>How can you do this in rails3?</p>\n\n<p>Edit: A relevant snippet of the relationship. Everything else is standard generated using <code>rails generate scaffold</code></p>\n\n<pre><code>class Course &lt; ActiveRecord::Base\n  ...\n  has_many :course_auth_users\n  has_many :students, :through =&gt; :course_auth_users, :source =&gt; :user\n  ...\nend\n\n\nclass User &lt; ActiveRecord::Base\n  ...\n  has_many :course_auth_users\n  has_many :enrolled_on_courses, :through =&gt; :course_auth_users, :source =&gt; :course\n  ...\nend\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","validation","binding"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1328,"score":4,"question_id":559189,"title":"MVC RC Validation: Is this right?","body":"<p>I'm just trying to do some simple validation in MVC RC and am getting an error.  For the purposes of this question, I am <strong>not using the UpdateModel</strong>.</p>\n\n<p>Here is the code in the form:</p>\n\n<pre><code>&lt;%= Html.TextBox(\"UserId\")%&gt;\n&lt;%= Html.ValidationMessage(\"UserId\") %&gt;\n</code></pre>\n\n<p>If I add the following line in the controller, I will get a NullReferenceException on the TextBox:</p>\n\n<pre><code>ModelState.AddModelError(\"UserId\", \"*\");\n</code></pre>\n\n<p>So to fix this, I've also added the following line:</p>\n\n<pre><code>ModelState.SetModelValue(\"UserId\", ValueProvider[\"UserId\"]);\n</code></pre>\n\n<p>Why am I having to rebind the value?  <strong>I only have to do this if I add the error</strong>, but it seems like I shouldn't have to do this.  I feel like Im doing something incorrectly or just not familiar enough with binding.</p>\n\n<p>It looks like Im not the only one who has seen this.  Per request, here is the controller code:</p>\n\n<pre><code>[AcceptVerbs(HttpVerbs.Post)]\n    public ActionResult Create(FormCollection collection)\n    {\n        AppUser newUser = new AppUser();\n\n        try\n        {\n            newUser.UserId = collection[\"UserId\"];\n\n            AppUserDAL.AddUser(newUser);\n\n            return RedirectToAction(\"Index\");\n        }\n        catch (Exception ex)\n        {\n            ViewData[\"ReturnMessage\"] = ex.Message;\n\n            ModelState.AddModelError(\"UserId\", \"*\");\n            ModelState.SetModelValue(\"UserId\", ValueProvider[\"UserId\"]);\n\n\n            return View(newUser);\n        }\n</code></pre>\n"},{"tags":["c#","mvc","design-patterns","data-access-layer","datamapper"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12953660,"title":"How to implement Data Mapper / Repository persistence patterns for diverse data sources?","body":"<p>I am writing a new website project pretty much from scratch. The project is in C# but my background is in PHP (the pseudo-code below is a bit if a mixture, trying to be both succinct and declarative).</p>\n\n<p><strong>The problem</strong></p>\n\n<p>I need to retrieve configuration data from one of two places - sometimes from the local Database and sometimes from a Soap service. I should be able to create the same set of Model objects from either source.</p>\n\n<p>The data is stored in completely different structures in the different data sources - several different Soap responses need to be pieced together from the Soap end, whereas the DB structure is much closer to how I'm structuring my Model objects in the code.</p>\n\n<p>The configuration is made up of a tree of objects: <em>Products</em> contain <em>Properties</em> which contain <em>Options</em> which have <em>Conditions</em> for when they apply.</p>\n\n<p><strong>The goals</strong></p>\n\n<p>I want to separate concerns as much as possible (to hopefully facilitate both test-/maintain-/extend-ability):</p>\n\n<ul>\n<li>My Model objects should know nothing about Data Persistence or retrieval</li>\n<li>The Data Persistence object should, as far as possible, be agnostic about the exact type of Data Source</li>\n<li>I want to separate object creation out as much as possible.</li>\n</ul>\n\n<p><strong>Questions</strong></p>\n\n<p>I'm aware of various design patterns around this (although I'm not entirely sure I understand them entirely). I <a href=\"http://programmers.stackexchange.com/questions/170295/how-should-i-architect-my-model-and-data-access-layer-objects-in-my-website/170297\">asked a question on Programmers</a> similar to this and got a response about <a href=\"http://stackoverflow.com/questions/1974735/what-exactly-is-persistence-ignorance\">Persistence Ignorance</a> (<a href=\"http://stackoverflow.com/questions/905498/what-are-the-benefits-of-persistence-ignorance\">more here</a>) and the <a href=\"http://msdn.microsoft.com/en-us/library/ff649690.aspx\" rel=\"nofollow\">Repository</a> pattern, which both seem to be concepts from the Microsoft world.</p>\n\n<p>As far as I can tell \"Persistence Ignorance\" is simply the concept of having Model objects that know nothing about your Data Storage mechanism, and the Repository pattern seems very similar to the Data Mapper pattern, except that it <a href=\"http://stackoverflow.com/questions/804751/what-is-the-difference-between-the-data-mapper-table-data-gateway-gateway-da#answer-814479\">may be more of a facade</a>, hiding more of what's actually going on.</p>\n\n<p>So my questions are:</p>\n\n<p><em>In the Data Mapper pattern should I have one Mapper per Model object? Rather than having one for the entire configuration tree?</em></p>\n\n<p>And therefore, should I have a configuration tree building object that uses all those Mapper objects?</p>\n\n<pre><code>class ConfigBuilder() {\n    public ConfigBuilder (productMapper, propertyMapper, optionMapper, conditionMapper) {\n        // save them into local properties\n    }\n\n    public Products() {\n       var products = productMapper.FetchAll();\n\n       foreach (var product in products) {\n           AddProperties(product);\n       }\n\n        return products;\n    }\n\n    private AddProperties(products) { /* ... */ }\n    private AddOptions(property) { /* ... */ }\n    private AddConditions(option) { /* ... */ }\n}\n</code></pre>\n\n<p>Does this seem like a good solution?</p>\n\n<p><em>Where should the logic to build the objects be located?</em></p>\n\n<p>At some point there needs to be a considerable amount of logic to build my configuration objects from the random array of XML data that I get back from the Soap service, and a smaller amount of logic to do the same from the database.</p>\n\n<p>Should I be putting the logic to build the objects in separate instances of the Mapper objects?</p>\n\n<pre><code>interface IProductMapper { FetchAll; FetchByCode; Create; Delete; Update  }\n\nclass ProductMapperXml implements IProductMapper {\n    public ProductMapperXml(xmlDataSource) {}\n    public FetchAll() { /* A whole bunch of logic to create the Product objects from XML data source */ }\n}\n\nclass ProductMapperDatabase implements IProductMapper {\n    public ProductMapperDatabase(databaseConnection) {}\n    public FetchAll() { /* Select and build products from the database */ }\n}\n</code></pre>\n\n<p>Is this okay? Should this logic be abstracted further? If so why? Also, I'm a bit uneasy about the <code>ProductMapperXml</code> object having considerable logic itself and also being responsible for creating <code>Product</code> objects internally. Should I be passing it a <code>ProductFactory</code> of some sort? Or just use a factory method?</p>\n\n<p>Please please let me know if there are more elegant ways to solve this than my suggestions? Also if there are any layers of abstraction or Design Patterns I could benefit from that I've missed?</p>\n"},{"tags":["flex","mvc","frameworks"],"answer_count":15,"favorite_count":23,"up_vote_count":29,"down_vote_count":0,"view_count":13224,"score":29,"question_id":37043,"title":"Flex MVC Frameworks","body":"<p>I'm currently using and enjoying using the Flex MVC framework <a href=\"http://www.puremvc.org\" rel=\"nofollow\">PureMVC</a>.  I have heard some good things about Cairngorm, which is supported by Adobe and has first-to-market momentum.  And there is a new player called Mate, which has a good deal of buzz.</p>\n\n<p>Has anyone tried two or three of these frameworks and formed an opinion?</p>\n\n<p>Thanks!</p>\n"},{"tags":["ruby-on-rails-3","mvc","view","model","partials"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13012635,"title":"How to stay MVC and have dynamic partials calls in rails?","body":"<p>I was wondering if it was correct to do the following in the model:</p>\n\n<pre><code>get_partial\n    #logic...\n      return \"_partial_name1\"\n    #more logic\n      return  \"_partial_name2\"\n    #more logic\n      return  \"_partial_name3\"\n    else\n      \"_partial_name4\"\n    end\nend\n</code></pre>\n\n<p>and in the view :</p>\n\n<pre><code>&lt;%= render @product.get_partial %&gt;\n</code></pre>\n\n<p>There is NO erb code in the model, only logic choosing wich partial it should display.\nI tested it and it works, but I wanted to know if it is correct from an MVC point of view. If not, where should this logic be placed?</p>\n"},{"tags":["php","mvc","namespaces","directory","structure"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":102,"score":-1,"question_id":13012369,"title":"PHP 'Hello World' and MVC","body":"<p>I am a bit familiar with OOP in PHP and I am just trying to take a stab at MVC but there is something I can't get past. I know similar questions has been asked a few times but I got no answers to my specific question. What I would like to do is to create a 'Hello World' using PHP in MVC using the following directory structure:</p>\n\n<ul>\n<li>/public\n<ul>\n<li>/public/index.php</li>\n</ul></li>\n<li>/models\n<ul>\n<li>/models/helloworldmodel.php</li>\n</ul></li>\n<li>views\n<ul>\n<li>/views/helloworldview.phtml</li>\n</ul></li>\n<li>controllers\n<ul>\n<li>/controllers/helloworldcontroller.php</li>\n</ul></li>\n</ul>\n\n<p>My (shared) server has been configured via the <code>.htaccess</code> to have the public directory as the root directory. What I would like to do is to have the <code>index.php</code> load the controller, then have the controller invoke the <code>helloworldmodel.php</code> which in turn will return a string (Hello World) to the controller, then I would like to pass this string to the <code>hellowordview.phtml</code> and print it to the screen. MY BIGGEST PROBLEM is linking the files so they can see each other when I instantiate an object. In its most simple form, what do I need to make this work the way I outlined it? A link to a tutorial will also work, but I have not found anything that answers my specific question.</p>\n"},{"tags":["mvc","applet","http-status-code-401"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13008512,"title":"java applet 401 error","body":"<p>I implement a java applet working on MVC Applicaiton. I signed the jar file and put the same folder with the view page. </p>\n\n<p>I can download applet from localhost but I cannot do it from publised website. It gives 401.2 error (authentication) while downloading the applet. </p>\n\n<p>Do you have any solution for this?</p>\n"},{"tags":["wpf","asp.net-mvc","mvc","mvvm","windows-phone"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13009415,"title":"ASP.Net MVC AND WPF wioth probably Windows 8 Phone","body":"<p>I am currently developing an application that utlises telerik ORM tools to manage access to a back end database. On top of this layer I am implementing a Business Layer(domain) containing the real world objects that represent my application model.\nSo far so good.</p>\n\n<p>The issue I have now is one of serious confusion. I will be developing a ASP.Net MVC web site that forms the main hub of my application. In addition to this I have the requirement to create a WPF application that implements some integration into the desktop and lastly I would like to implement a Windows 8 phone app containing a subset of the ASP.Net website functionality but that will also implement some of the WPF functionality.</p>\n\n<p>The problem is I would like to keep the application as simple as possible and maintain a high level of code reuse. Ideally I don't want to implement multiple business layers but I'm not sure of what architectural patterns would be best used? I think adding some kind of service - be it REST, Web services, WEB API or something on top of the business layer and then dealing with each UI technology independently will be the way to go but I thought I'd ask for opinions and advice before I head down a route and end up back tracking?</p>\n"},{"tags":["c#","mvc","postback","custom-validators"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12978102,"title":"Custom validation in MVC can't seem to find the declared method","body":"<p>I have an invoice object with the following property definition in it ...</p>\n\n<pre><code>[CustomValidation(typeof(InvoiceValidator), \"ValidateInvoiceDate\")]\n public DateTime InvoiceDate { get; set; }\n</code></pre>\n\n<p>When I do a postback in my MVC app I get an invoice object back then do this ...</p>\n\n<pre><code>if(ModelState.IsValid)\n{\n   SaveInvoice(invoice);\n}\n</code></pre>\n\n<p>My validator looks like this ...</p>\n\n<pre><code>public static class InvoiceValidator\n{\n   public static ValidationResult ValidateInvoiceDate(DateTime invoiceDate, ValidationContext context)\n   {\n       // some validation code (omitted)\n   }\n}\n</code></pre>\n\n<p>My problem seems to be getting the dam thing to work as at the moment it simply throws an exception: </p>\n\n<pre><code>The CustomValidationAttribute method 'ValidateInvoiceDate' does not exist in type 'InvoiceValidator' or is not public and static.\n</code></pre>\n\n<p>This statement is clearly not right, the validator class exists and so does the method with the right modifiers (public, static).  This is code i've used loads before and usually works fine but for some reason this time isn't working. </p>\n\n<p>Any ideas what else might cause this exception to be thrown?</p>\n\n<p>Things i've tried:</p>\n\n<p>clean solution and full rebuild (no errors at compile time).\nrename the method / validator class and refactor attribute to new values then recompile\nscratch head\nask on here</p>\n\n<p>looks to me like my code isn't being run correctly or something because I can't see why a clearly declared public static method would result in an error saying it's not declared other than that. </p>\n"},{"tags":["spring","mvc","spring-mvc","model"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":2188,"score":3,"question_id":8593397,"title":"Backbone.js + Spring MVC. Save model","body":"<p>I'm am junior in Backbone.js. When I send request from JSP FORM server side auvtomaticaly parse datas to my ModelObject. But when I sending requests from Backbone save() my ModelObject is empty on Server Side. How can I do it like as JSP FORMs?</p>\n\n<pre><code>    @RequestMapping(value = \"/member/ajax*\", method = RequestMethod.POST)\n    public void onSubmitAjax(Member member, HttpServletResponse response, HttpServletRequest request) throws Exception {\n        //member is empty           \n        memberManager.saveMember(member); \n\n    }\n</code></pre>\n\n<p>when I use GET it's working on Client Side:</p>\n\n<pre><code>@RequestMapping(value = \"/member/ajax*\", method = RequestMethod.GET)\n    public\n    @ResponseBody\n    Member showForm(@RequestParam(required = false) Long id, HttpServletRequest request) throws Exception {\n        Member member = memberManager.getMember(id);\n        return member;\n    }\n</code></pre>\n"},{"tags":["mvc","zend-framework","frameworks","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13003571,"title":"Zend Framework non-existent controller redirects to home page?","body":"<p>When I type an invalid url (non-existent controller), it displays the homepage rather than return a 404 Page Not Found page. Does anyone know the possible reason?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","mvc","spring-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13005078,"title":"java.util.MissingResourceException: Can't find bundle for base name views, locale en","body":"<p>I have a file called <code>views.properties</code> inside my <code>src/main/webapp</code> folder. and I have the following line inside my <code>court-servlet.xml</code> file. The <code>court-servlet.xml</code> is located in <code>src/main/webapp/WEB-INF</code> folder.</p>\n\n<pre><code>&lt;bean id=\"resourceBundleResolver\"\n    class=\"org.springframework.web.servlet.view.ResourceBundleViewResolver\"&gt;\n    &lt;property name=\"basename\" value=\"views\" /&gt;\n    &lt;property name=\"order\" value=\"#{contentNegotiatingResolver.order+1}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>However, I keep getting exception whenever I launch the app. It keeps throwing exception</p>\n\n<pre><code>java.util.MissingResourceException: Can't find bundle for base name views, locale en\njava.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1427)\njava.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1250)\njava.util.ResourceBundle.getBundle(ResourceBundle.java:952)\norg.springframework.web.servlet.view.ResourceBundleViewResolver.getBundle(ResourceBundleViewResolver.java:271)\norg.springframework.web.servlet.view.ResourceBundleViewResolver.initFactory(ResourceBundleViewResolver.java:225)\norg.springframework.web.servlet.view.ResourceBundleViewResolver.loadView(ResourceBundleViewResolver.java:194)\norg.springframework.web.servlet.view.AbstractCachingViewResolver.createView(AbstractCachingViewResolver.java:158)\norg.springframework.web.servlet.view.AbstractCachingViewResolver.resolveViewName(AbstractCachingViewResolver.java:77)\norg.springframework.web.servlet.view.ContentNegotiatingViewResolver.resolveViewName(ContentNegotiatingViewResolver.java:357)\norg.springframework.web.servlet.DispatcherServlet.resolveViewName(DispatcherServlet.java:1091)\norg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1040)\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:798)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:621)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n</code></pre>\n\n<p>Can someone please help me solving this issue? I tried some solutions posted here before, but none of them works.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","entity-framework","sdf"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":209,"score":1,"question_id":10084312,"title":"sdf file not showing in App_Data (using MVC application)","body":"<p>I followed the \"Creating an Entity Framework Data Model for an ASP.NET MVC Application\" in ASP.net and changed it to meet my needs.\nI built the project and run it - everything works fine (I can view details, edit and save).\nI press \"Show all files\" and there is nothing under App_Data.\nI tried to read the related threads here but i couldn't fix it.\nI will appriciate any Idea!</p>\n\n<p>this is my connection string:</p>\n\n<pre><code>&lt;connectionStrings&gt;\n&lt;add name=\"ApplicationServices\"\n     connectionString=\"data source=.\\SQLEXPRESS;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|aspnetdb.mdf;User Instance=true\"\n     providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>Thank you!</p>\n"},{"tags":["php","mvc","caching","memcached","apc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12999351,"title":"Caching strategies in MVC Framework?","body":"<p>I wrote my own little PHP MVC Framework, and now Im exploring caching strategies in PHP MVC Frameworks. Im thinking about what can be cached, where and how.</p>\n\n<p>The framework I have is simple MVC Framework. I have front controller, that boots up application, registers class auto loading, sets up php run time directives... and at the end analyses URL and dispatches request to appropriate controller, method, action controller, how ever you want to call it. From controller, I have access to Domain Objects, and Data Mappers that can persist Domain Objects to some storage, most of the time Relation Database.\nFrom Controllers I have access to Domain Objects and Data Mappers.</p>\n\n<p>So as far as caching goes these are the things I can things I know I can do at the moment.\nWith PHP I can use APC Cache that is opcode cache, but I can also use it to save variables into RAM. Then I can use Memcache and Memcahed that works joust as APC cache but I can access stored cache from different servers If I have to scale. And those two are not opcode caches.</p>\n\n<p>As far as I know I can do these things:</p>\n\n<ol>\n<li><p>When in controllers, I can save Domain Objects into cache, so I dont have to open connection to database every time, if I already have that Domain Object in cache.</p></li>\n<li><p>I can build my cache system, that would analyze URLs at bootstrap, and then get already interpreted page for that URL if cache with that page URL exists, if not it would process request and then save that page into cache and associate it with current URL</p></li>\n</ol>\n\n<p>So, as you can see I dont really know how to implement cache in my MVC, and where should I cache things, how, and what possibilities exists.</p>\n\n<p>So can someone explain this better, or redirect me to some good articles where I could learn about cacheing?</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","fancybox","partialview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":343,"score":0,"question_id":8764811,"title":"FancyBox with PartialView in MVC3","body":"<p>I'm wondering if anyone has an idea for how to use FancyBox in an MVC3 site to load a partial view (as a popup). FancyBox works fine for me when loading a full view, but breaks if the controller method returns a partial view. </p>\n\n<ol>\n<li>I've followed all the instructions on the fancybox site.</li>\n<li><p>customizations:</p>\n\n<pre><code>$(\"a.myclass\").fancybox({\n ...\n 'type': ajax\n});\n</code></pre></li>\n<li><p>the link</p>\n\n<pre><code>@Html.ActionLink(\"My Popup\", \"MyActionName\", new {@class = \"myclass\"} )\n</code></pre></li>\n</ol>\n\n<p>Any idea why this will work with a full view, and not a partial?</p>\n\n<p>Thanks!!</p>\n"},{"tags":["php","mvc","cakephp-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":318,"score":0,"question_id":10230126,"title":"Working with saveAssociated method in CakePHP","body":"<p>I'm trying to work with <code>saveAssociated</code> method in <code>CakePHP</code> without great success, the method seems to work partially, in facts I have three model in the save process:\n<code>Character</code>, which <code>$hasMany</code> > <code>Property</code> and <code>Label</code> so this is the <code>Character</code> model:</p>\n\n<pre><code>class Character extends AppModel {\n    public $name = 'Character';\n    public $belongsTo = 'User';\n    public $hasMany = array (\n        'Property' =&gt; array (\n            'dependent' =&gt; true\n        )\n    );\n    public $hasOne = array (\n        'Label' =&gt; array (\n            'dependent' =&gt; true\n        )\n    );\n    public $validate = array (\n        'name' =&gt; array (\n            'required' =&gt; true,\n            'rule' =&gt; array('between', 0, 100),\n            'message' =&gt; 'This is the error message for \"name\" field'\n        ),\n        'description' =&gt; array (\n            'allowEmpty' =&gt; true,\n            'rule' =&gt; array('between', 0, 100),\n            'message' =&gt; 'This is the error message for \"description\" field'\n        )\n    );\n}\n</code></pre>\n\n<p>this is the data I get from the form:</p>\n\n<pre><code>array(\n    'Character' =&gt; array(\n        'name' =&gt; 'Character name',\n        'description' =&gt; 'Character description',\n        'image' =&gt; 'http://url.com/image.jpg'\n    ),\n    'Label' =&gt; array(\n        'name' =&gt; 'Basic attributes',\n        'value' =&gt; 'Value'\n    ),\n    'Property' =&gt; array(\n        (int) 0 =&gt; array(\n            'name' =&gt; 'Strenght',\n            'value' =&gt; '15'\n        )\n    )\n)\n</code></pre>\n\n<p>then in my <code>CharactersController</code> i do this to <code>saveAssociated</code> data:</p>\n\n<pre><code>class CharactersController extends AppController {\n\n    public $uses = array ('Character', 'Property', 'Label');\n\n    public function add () {\n        if (!empty($this-&gt;request-&gt;data)) {\n            $this-&gt;Character-&gt;saveAssociated($this-&gt;request-&gt;data);\n        }\n        debug ($this-&gt;request-&gt;data);\n    }\n\n}\n</code></pre>\n\n<p>The <code>Character</code> data is saved successfully but not <code>Label</code> and <code>Property</code>, where I'm wrong?</p>\n"},{"tags":["mvc","templates","view","count","ienumerable"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":468,"score":0,"question_id":5656393,"title":"MVC IEnumerable of EditorFor Template; how to get the count","body":"<p>ViewModel:</p>\n\n<pre><code>public class Foo {\n    IEnumerable&lt;Bar&gt; Bars { get; set; }\n</code></pre>\n\n<p>Foo Template:</p>\n\n<pre><code>@Html.EditorFor(x =&gt; x.Bars)\n</code></pre>\n\n<p>Bar Template:</p>\n\n<pre><code>//this is the closest I could find \n@ViewData.TemplateInfo.HtmlFieldPrefix //equals \"Bars[0]\" on the first iteration\n</code></pre>\n\n<p>Is there a way to get the count of the current iteration inside the template during the render process? Aside from parsing the HtmlFieldPrefix string into a count.</p>\n"},{"tags":["php","mvc","kohana"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":101,"score":0,"question_id":12902971,"title":"PHP MVC - Convert JSON to Model data","body":"<p>So essentially I find myself writing a bunch of boiler plate code that takes info from a JSON encoded string and puts that data into the models used in my MVC web app. Is there an accepted method of doing this? Should every model have an associative array to model object converter? Should there be a utility class I write to do this? Basically, I am just trying to remove that code from my controllers to slim them down and I am new to PHP MVC. I am using Kohana 3.2 if that is of any relevance to the question.</p>\n\n<p>EDIT:</p>\n\n<p>I was asked to clarify. I receive data in string format that is JSON encoded (from a web service of my own writing - Java /w Jersey). So essentially, the models in my web app are not pulling their information from a database, but rather from a web service. Since the web service returns everything in JSON format, I find myself writing code that deals with that issue. The other way around, I can tell the GSON google code to convert JSON to a particular Java object. There does not seem to be a one liner way to do this in PHP. I am not talking about the stdClass object, but a model.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12995459,"title":"New to Rails: How are you using application_controller.rb in your rails app?","body":"<p>I am just getting into rails and begining to understand it slowly. Can someone explain or give me ideas on the benefits or when and whys for coding inside the application_controller? What are some usecases. How are you using the application controller for your rails app? I dont want to put too much code in there because from what I understand, this controller gets called for every request. Is this true? </p>\n"},{"tags":["asp.net-mvc","json","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12999467,"title":"How to pretty-print JSON script in MVC 4 API","body":"<p>How can I get the following JSON response to look cleaner using MVC 4 API.  This is a sample JSON</p>\n\n<pre><code>{\"Name\":\"Apple\",\"Expiry\":\"2008-12-28T00:00:00\",\"Price\":3.99}\n</code></pre>\n\n<p>Pretty JSON</p>\n\n<pre><code>{\n  \"Name\":\"Apple\",\n  \"Expiry\":\"2008-12-28T00:00:00\",\n  \"Price\":3.99\n}\n</code></pre>\n"},{"tags":["php","mvc","variables","views"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12998648,"title":"Restricting variable use to one file","body":"<p>Bit of a weird question but bear with me. I'm writing a small MVC framework mostly for learning purposes. When I load views, I just include the view file and then use <code>extract($data);</code> so I can use variables in my view. This is that it looks like in my controller:</p>\n\n<pre><code>// Assign view variables and load the views\n$data = array('title' =&gt; 'testing the framework',\n              'users' =&gt; $this-&gt;models['Users']-&gt;getAllUsers());\n$this-&gt;loadViews(array('header', 'home', 'footer'), $data);\n</code></pre>\n\n<p>It works perfectly, but it just occured to me that if I have any variables elsewhere in my project that are called <code>$title</code> or <code>$users</code>, they will conflict to what I'm <code>extract()</code>'ing. THis hasn't become a problem yet but I have a feeling I need to deal with it now before it does.</p>\n\n<p>The only solution I've found is using a prefix for the variables being <code>extract()</code>ed. SO I can use them in my template like <code>&lt;?php echo $tpl_whatever; ?&gt;</code> instead of <code>&lt;?php echo $whatever; ?&gt;</code></p>\n\n<p>Can anyone offer some advice? Maybe a way I can limit the variables scope?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","mvc"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1658,"score":2,"question_id":5669109,"title":"Change datetime to date in MVC 3 C#","body":"<p>I'm using the MVC 3 with C#  and I have a problem when displaying dates in a dropdown list.\nDates are displayed as follow: <strong>4/21/2011 12:00:00</strong> AM, but I just want to format them this way:  <strong>4/21/2011</strong>, which is exactly the format in my database.</p>\n\n<p>The date attribute in the database is date and not datetime.</p>\n\n<p>The code in the model:</p>\n\n<pre><code>[DisplayFormat(DataFormatString = \"{mm/dd/yyyy}\", ApplyFormatInEditMode=false)]\npublic DateTime? booksDate { get; set; }\n</code></pre>\n\n<p>the controller looks like this:</p>\n\n<pre><code> var booksDates = from dates in db.Books\n                             orderby dates.booksDate\n                             select new { dates.booksDate};\n\n          ViewBag.Dates = BooksDates.Distinct();\n</code></pre>\n\n<p>and finally the code in my view:</p>\n\n<pre><code>&lt;td&gt;Books dates&lt;/td&gt;\n            &lt;td&gt;@Html.DropDownList(\"booksDate\", new SelectList(ViewBag.Dates as System.Collections.IEnumerable, \"booksDate\", \"booksDate\"), \"Select a date\") &lt;/td&gt;\n</code></pre>\n\n<p>Where i'm wrong ?</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","cakephp","cli","bake"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":213,"score":0,"question_id":4595114,"title":"Cakephp Problems with the bake script","body":"<p>I have apache, php, and Mysql installed on my computer. I have added the PHP directory and C:\\Apache\\htdocs\\cake\\cake\\console to my environmental variables path. When i load the path to the console on my CLI it loads cake.php then i type cake bake and it asks me for the path of my app, then database config. Now instead o f it loading the DMVC... menu it just returns to set the path and database and its like a loop. not sure what i am doing wrong.</p>\n\n<p>All help appreciated</p>\n\n<p>Thanks</p>\n\n<p>Joe</p>\n"},{"tags":["java","spring","mvc","jboss"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12995697,"title":"How to deploy spring mvc application in jboss server?","body":"<p>I am implementing a Spring MVC application using JBoss application server.\nI am getting the following exceptions when i run the application during JBoss server start up.\nWhere as it's working fine in Tomcat.</p>\n\n<p>Can anyone please give me some suggestions.\nI am using Eclipse IDE.</p>\n\n<pre>\nUnexpected error during load of:com.ibm.icu.impl.data.LocaleElements_zh__PINYIN: java.lang.ClassFormatError: Unknown constant tag 60 in class file com/ibm/icu/impl/data/LocaleElements_zh__PINYIN\n\nException sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener: org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from ServletContext resource [/WEB-INF/dispatcher-servlet.xml]; nested exception is java.lang.NoClassDefFoundError: org/jboss/virtual/VirtualFileVisitor\n</pre>\n"},{"tags":["c#",".net","mvc","asp.net-mvc-2","modelbinding"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":394,"score":2,"question_id":4195766,"title":"How to ignore model binding from querystring in MVC","body":"<p>I have form submission doing a post back.  The controller action accepts the values as parameters.  For ex: EditProduct(int productid, string productname).  </p>\n\n<p>productid is supplied from the form in a hidden field.  How can I ensure that that a user \nwill not invoke this action and pass this productid and name as  queystring and the model binding will bind the vales and product is saved in database?</p>\n"},{"tags":["mvc","validation","select","knockout.js","integer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12995140,"title":"Knockoutjs mvc dropdowlistfor integer validation","body":"<p>I have a problem with using Knockout js and Bootstrap combobox.</p>\n\n<p>I am outputting a bootstrap combobox which has autocomplete feature to be output for an MVC dropdownlistfor\nUsing Knockout js, I am setting the necessary options to the select control. The bootstrap combobox plugin creates an input control over the select control and hides the select control.</p>\n\n<p>I used the following article as reference to create by autocomplete dropdown.</p>\n\n<p>Here is the html that is created when I use Bootstrap Comobox plugin on my select (dropdownlist)control.</p>\n\n<pre><code>    &lt;div class=\"combobox-container combobox-selected\"&gt;\n\n&lt;input data-val=\"true\" data-val-required=\"The OperatorKey field is required.\" name=\"OperatorKey0\" type=\"text\" autocomplete=\"off\" class=\"input-mini input-validation-error\"&gt;\n\n&lt;span class=\"add-on btn dropdown-toggle\" data-dropdown=\"dropdown\"&gt;&lt;span class=\"caret\"&gt;&lt;/span&gt;\n\n&lt;span class=\"combobox-clear\"&gt;&lt;i class=\"icon-remove\"&gt;&lt;/i&gt;&lt;/span&gt;&lt;/span&gt;\n\n    &lt;select class=\"combobox\" data-bind=\"options: $root.Operators, optionsText:'Name', optionsValue:'OperatorKey', attr : {id: 'OperatorKey'+ $index(), name : 'OperatorKey'+ $index()}, value: OperatorKey\" data-val=\"true\" data-val-number=\"The field OperatorKey must be a number.\" data-val-required=\"The OperatorKey field is required.\" id=\"OperatorKey0\" name=\"OperatorKey0\"&gt;\n\n    &lt;option value=\"1\"&gt;Is&lt;/option&gt;\n    &lt;option value=\"2\"&gt;In&lt;/option&gt;\n    &lt;option value=\"3\"&gt;NotIn&lt;/option&gt;\n    &lt;option value=\"4\"&gt;Like&lt;/option&gt;\n    &lt;option value=\"5\"&gt;GEq&lt;/option&gt;\n    &lt;option value=\"6\"&gt;LEq&lt;/option&gt;\n\n    &lt;/select&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The value binding I am doing to the select control is a property which is an int (id) and in \nknockout bindings I set the optionsValue='OperatorKey' and optionsText='Name'.\nNow, the problem is when I hit submit, since the input control has a text value, the validation of integer is firing and it says the field must be a number.</p>\n\n<p>For example, lets say the options of select control are 'Option1' with value 1, 'Option2' with 2, etc.\nWhen I select the second option, since the input box has the text 'Option2', the validation says its not a valid integer. This is because the property I created the bootstrp combobox for is an integer property. </p>\n\n<p>Not sure how to go about to avoid firing this validation error.\nPlease advise.</p>\n\n<p>Thanks.</p>\n"},{"tags":["mvc","requirements","class-diagram"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":80,"score":-1,"question_id":12990522,"title":"Creating MVC Class Diagram from set of requirements","body":"<p>I am having a little problem, since I do not understand fully how to produce MVC class diagram, I thought id seek help here. Let me explain my problem first. I am making a web application project and I had to specify set of requirements for each type of user there is (Employee, Manager, And Boss) I have a set of requirements that I have made earlier on, and now I have to map them into MVC class diagram. And I have no idea how...</p>\n\n<p>e.g. I have login page (requirements are - username field, password field, pin field, login button, reset field button, and forgot your password button)\nUser (Username, Password, Pin)\n<img src=\"http://i.stack.imgur.com/0ZugL.png\" alt=\"enter image description here\"></p>\n\n<p>Would this class diagram be correct ??.</p>\n"},{"tags":["asp.net-mvc","mvc","tdd","unity","moq"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12989766,"title":"MVC4 TDD with multiple layers","body":"<p>I am learning about DI, IoC and MOQ so I can TDD my new MVC4 application.</p>\n\n<p>I followed a lot of examples online but there is one thing I cannot get my hands around.</p>\n\n<p>My application consists out of 3 layers (physical projects):</p>\n\n<ol>\n<li>Application layer (controllers / models / standard MVC4 stuff).</li>\n<li>Business layer (does all the calculating and processing data).</li>\n<li>DAL (EF5).</li>\n</ol>\n\n<p>Now I have a very simple <code>UserController</code></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class UserController : Controller\n{\n    readonly IUserRepository _repository;\n\n    public UserController(IUserRepository rep)\n    {\n        _repository = rep;\n    }\n\n    public ActionResult Index()\n    {\n        IList&lt;User&gt; users = _repository.Get(10);\n        return View(users);\n    }\n</code></pre>\n\n<p>Dependency is injected with Unity and this works fine.</p>\n\n<p>In the business layer I have the repositories:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface IUserRepository\n{\n    IList&lt;User&gt; Get(Int32 count);\n}\n\npublic class UserRepository : IUserRepository\n{\n    public IList&lt;User&gt; Get(Int32 count)\n    {\n        // Here I fetch the data from the Database\n        // and do some stuff with it, this can be\n        // quite a big method.\n    }\n}\n</code></pre>\n\n<p>Now I need to access my DAL which I can do in my <code>UserRepository</code>'s Get method.</p>\n\n<p>Only how do I unit test this? There should not be a dependency in the class I think because of the testability.</p>\n\n<p>If I use the actual <code>UserRepository</code> class in my unit test to test it will go to the DAL and use data from there, but I need mock data.</p>\n\n<p>Do I need to make another <code>IUserDataRepository</code> where the actual data is fetched from the database and pass this into the <code>UserRepository</code> constructor or should I use Unity to handle this for me?</p>\n\n<p><strong>Possible answer?</strong></p>\n\n<p>I created a new interface called <code>Users</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Users: IUsers\n{\n    private readonly IUserRepository _userRepository;\n    public Users(IUserRepository userRepository)\n    {\n        _userRepository = userRepository;\n    }\n\n    public User Get(String id)\n    {\n       // Do all the magic here here\n    }\n}\n</code></pre>\n\n<p>From this interface <code>IUsers</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface IUsers\n{\n    User Get(String id);\n}\n</code></pre>\n\n<p>But I moved my database oriented repositories to the DAL:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class UserRepository : IUserRepository\n{ \n    public User Get(String id)\n    {\n        // Retrieve the user from the database with EF5\n    }\n}\n\npublic interface IUserRepository\n{\n    User Get(String id);\n}\n</code></pre>\n\n<p>The controller stayed about the same, but now has a dependency to the IUser interface:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class UserController : Controller\n{\n    readonly IUsers _users;\n\n    public UserController(IUsers users)\n    {\n        _users = users;\n    }\n\n    public ActionResult Index()\n    {\n        User user = _users.Get(10);\n        return View(users);\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","models","controllers"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12985357,"title":"Issue with base class that gets extended by both Models and Controllers","body":"<p>I've got a question regarding a conflict / conundrum I've run into with my application. </p>\n\n<p>I want to make some common \"stuff\" available to all of my models and controllers, such as data from a cache, or session information, as well as the methods of my PDO wrapper. </p>\n\n<p>Currently each individual feature controller and feature model extends a base controller and base model, which in turn extend a single object that does all of that common stuff. </p>\n\n<p>A controller will get called by a router/dispatcher, and the controller will then call on a model to get some data. The problem with this is it means the main Object gets constructed twice: once when the feature controller is called, and again when the feature controller calls the feature model. </p>\n\n<p>See the diagram below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/AeqJT.png\" alt=\"How my MVC app is currently structured\"></p>\n\n<p>Obviously I'm doing something wrong, so I was wondering if there's some kind of best practice solution to this issue. </p>\n\n<p>What I <em>dont</em> want is to have to pass the stuff the object loads, through the controller, to the model. That means any time I have to add a new common element to Object, I have to pass it through to the Model. </p>\n\n<p>It's far simpler and easier for $this->cache or $this->db or $this->session to always be universally available in both controllers and models (as well as future helpers and misc classes). </p>\n\n<p>How would I go about solving this issue? </p>\n\n<p>Thanks :)</p>\n"},{"tags":["java","spring","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12978074,"title":"Spring @ResponseBody view resolution","body":"<h1>Question</h1>\n\n<p>Have anyone figured out an alternative means of view resolution for <code>@ResponseBody</code> (to allow implementing part of what <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-config\" rel=\"nofollow\"><code>ConcentNegotiatingViewResolver</code></a> does) ?</p>\n\n<h1>Reasoning</h1>\n\n<p>The spring view resolution mechanism is very powerful, in particular with <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/view/ContentNegotiatingViewResolver.html\" rel=\"nofollow\"><code>ContentNegotiatingViewResolver</code></a>, allowing view resolution e.g., on path extensions (<code>foo.json</code>) or request parameters (<code>?view=json</code>). </p>\n\n<p>However, when using <code>@ResponseBody</code> annotation the view resolution chain is bypassed. With <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-config\" rel=\"nofollow\"><code>mvc:annotation-driven</code></a> we get a <a href=\"http://static.springsource.org/spring/docs/3.1.0.RC1/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html\" rel=\"nofollow\"><code>RequestMappingHandlerAdapter</code></a> instead, with view resolution which seems to be based solely on the <code>Accept</code>header. </p>\n"},{"tags":["mvc","web-applications","mobile","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":11828333,"title":"mvc 4 desktop and mobile","body":"<p>I would like to use ASP.NET MVC 4 to build a web site that will target both desktop and mobile users (will leave tablets to one side for this discussion)</p>\n\n<p>There appears to be a number of options available to me and I would like to obtain some feedback.</p>\n\n<p>The first option involves using the same web site for both desktop and mobile users.  Each page request would go to the respective controller and would render a view dependent on the form factor (and maybe even dependent on the device type, e.g. Windows Phone, IPhone, etc).  Responsive design would be used top ensure that the UI was suitably tailored to the expected user experience (portrait, landscape).  This option has the following benefits (as I see it):</p>\n\n<ul>\n<li>No duplication of controller logic</li>\n<li>Single site to maintain</li>\n<li>no redirect for the user to a different site</li>\n<li>no duplication of pages to inform the search crawler about</li>\n</ul>\n\n<p>The second option involves having a separate site for mobile which only provides views and controller action methods for mobile.  This would also have the ability to provide device specific views (using display modes) and responsive design for orientation.  This option has the following benefits:</p>\n\n<ul>\n<li>Full controll over the mobile experience in terms of what pages are available (I know that I could conditional render action links but with this option, if functionality is not permitted on the device, a page doesnt exist in the site!</li>\n<li>Separate release cycles for mobile.</li>\n<li>But the biggest draw-back is the fact that controller logic will almost certainly be duplicated between the desktop site and the mobile site which feels like it will really hurt in the future.</li>\n</ul>\n\n<p>It feels like the purist MVC should have the controller which should obtain the data and then provide a view which allows the data to be surfaced on the most appropriate page.  This feels like option 1.</p>\n\n<p>I guess it comes down to should we have a device specific site (http://m.) or do we design a site that can be viewed from an array of devices?</p>\n\n<p>Thoughts?</p>\n"},{"tags":["asp.net-mvc-3","excel","mvc","interop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12985769,"title":"Return Excel file as result from MVC","body":"<ol>\n<li>If I opt for using Interop, does it require to have Excel installed on server-side?</li>\n<li>Are there any additional reasons why not to use Interop?</li>\n<li>Should I go for <code>System.Web.UI.WebControls.GridView</code> server-side solution, populate it and write it in result?</li>\n<li>Any other intelligent solution that preserves MVC logic and features?</li>\n</ol>\n"},{"tags":["javascript","mvc","node.js","mongodb"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":141,"score":0,"question_id":12990771,"title":"Creating a NodeJS + Mongo DB MVC, any ideas how to start?","body":"<p>I use PHP with most of my projects/startups, I'm thinking of moving into NodeJS because I heard it's cool, I just need few tips or links to start with creating an MVC in NodeJS and MongoDb.</p>\n"},{"tags":["php","jquery","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12991098,"title":"View with multiple controllers - which way to connect them is in the spirit of MVC?","body":"<p>I'm writting MVC application in PHP/JQuery (I don't want to use ready-made frameworks anyway).</p>\n\n<p>My application consists of few panels (e.g. <em>login panel</em>, <em>user info panel</em>, <em>settings panel</em> etc.).</p>\n\n<p>Typically, all panels' elements (like buttons and links) are connected in JQuery and when I e.g. click on the button from <em>login panel</em> (with <em>id</em> '<em>button-login-send</em>': <strong>type-panel's name-real id</strong>), JQuery send by POST the '<em>event</em>' to the PHP (my own <em>event</em> structure, with id and other data).</p>\n\n<p>By the <em>id</em> in the <em>event</em> (middle part of the <em>id</em>), I can decide which panel was involved in action.</p>\n\n<p>I have the different controller for each panel (<em>loginPanelController</em>, <em>userInfoPanelController</em> etc.).</p>\n\n<p>What will be in the spirit of MVC:</p>\n\n<ol>\n<li>The jQuery View object send <em>event</em> to the PHP 'super' controller object which decide to which 'sub' controller send the <em>event</em> by it's id. Than the 'super' controller receive <em>commands</em> from 'sub' controller and respond with them to the JQuery View object.</li>\n<li>The JQuery View object send <em>event</em> to the PHP '<em>divider</em>' object which decide to which controller send the <em>event</em> by it's id. Rest the same.</li>\n</ol>\n\n<p>I know it may seems to be no significant differences. But my question is which will be strict MVC solution - controller &amp; sub-controllers, '<em>divider</em>' &amp; controllers or maybe something else?</p>\n\n<p>p.s. Because of the technology and other things, I have one View in HTML/JQuery (even if maybe all panels should have their own views) and I don't want to change it or the method of communication by the POST (<em>event->, &lt;-commands</em>).</p>\n"},{"tags":["php","mvc","design-patterns"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":165,"score":3,"question_id":8285300,"title":"MVC - sub-folders controllers","body":"<p>I am thinking to create my own simple MVC framework in PHP. I thought it would be good idea to improve my skill in PHP.</p>\n\n<p>I have a questions about admin section, how do you create it?</p>\n\n<p>In kohana, controllers can be in sub-folders:</p>\n\n<p>for example: <code>/controller/admin/admin.php</code></p>\n\n<p>What is other way? As long code can be shared to parent helpers/libs or parent models.</p>\n"},{"tags":["php","mvc","front-controller","autoloader"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12961422,"title":"Where should autloader go in MVC?","body":"<p>I'm trying to build a simple MVC framework to better understand certain concepts. The first thing that I thought would be important to address is a front controller that handles all of the requests for my applications.</p>\n\n<p>Once I started to think about it, I wasn't sure of the best way to load the classes that my application would be using. My current thought process is that my autoloader should be located in the front controller since every request utilizes it. Where do most frameworks typically put this? Looking through a few already built frameworks hasn't helped me much as a lot of the functionality far exceeds what I need, complicating it so much that it's hard to understand.</p>\n\n<p>The class loader that I am trying to use can be found here <a href=\"https://gist.github.com/221634\" rel=\"nofollow\">https://gist.github.com/221634</a></p>\n\n<p>Just trying to figure out how to appropriately build and organize a simple MVC framework.</p>\n"},{"tags":["c#","mvc","iis7","httpmodule","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":669,"score":0,"question_id":4228886,"title":"IIS7 HTTPModule not able to rewrite path to a MVC sub application","body":"<p>I have an HTTPModule running in IIS 7 providing a number of different URL rewrite services.</p>\n\n<p>For example:</p>\n\n<pre><code>public void Init(HttpApplication context)\n{\n    ...\n    HttpContext.Current.RewritePath(landingPage.NewPath,\n                                string.Empty,\n                                landingPage.NewQueryString +\n                                ((landingPage.NewQueryString == string.Empty) ? \"\" : \"&amp;\") +\n                                queryString);\n    ...\n}\n</code></pre>\n\n<p>I have a sub application with its own app pool written in MVC:  <strong>http://www.SomeSiteWithURLrewrite.com/SubMVCApplication/</strong></p>\n\n<p>This module works great except for with MVC applications created as sub applications. </p>\n\n<p>When I make an http request that will be rewritten: <strong>http://www.SomeSiteWithURLrewrite.com/Arbitrary/Path/To/Be/Rewritten</strong></p>\n\n<p>I receive a  HTTP Error 404.0 - Not Found</p>\n\n<p>The 404 error page shows that there was a call to \"http://www.SomeSiteWithURLrewrite.com/Arbitrary/Path/To/Be/Rewritten\" that had been rewritten to the physical path \"C:{RootDirectory}\\SubMVCApplication\\\" with the handler of \"StaticFile\".</p>\n\n<p>I am not sure why the pipline is not recognizing the \"HttpContext.Current.RewritePath\" as an MVC request.  Is it because the MVC app is in its own application?</p>\n\n<p>How can I call RewritePath (or something similar) and have IIS render an ASP.Net MVC page.in a sub application</p>\n"},{"tags":["mvc","nhibernate","session"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12985225,"title":"Fetching Nhibernate Lazy data inside mvc view","body":"<p>I want to fetch lazy data inside mvc view.<br>\nSo I have created an <code>ActionFilterAttribute</code> as you can see bellow.<br>\nBut for some reason, the session close before <code>OnActionExecuted</code>.<br>\nAny Idea why?<br>\nTx</p>\n\n<pre><code>public class DatabaseTransactionAttribute : ActionFilterAttribute\n    {\n        public override void OnActionExecuting(ActionExecutingContext filterContext)\n        {\n            DatabaseConnector.GetTransaction();\n        }\n\n\n\n        public override void OnActionExecuted(ActionExecutedContext filterContext)\n        {\n            if(DatabaseConnector.GetCurrentSession().IsActive())\n            {\n                if(filterContext.Exception == null)\n                {\n                    DatabaseConnector.GetCurrentSession().Commit();\n                }\n                else\n                {\n                    DatabaseConnector.GetCurrentSession().MarkForRollBack();\n                }\n            }\n        }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":6059511,"title":"Should I bold the text in View, Controller or Model? (Codeigniter, not not specific to it)","body":"<p>Lets refer to '<a href=\"http://www.yelp.com/search?find_desc=food&amp;ns=1&amp;find_loc=Cambridge,%20MA%2002138#find_loc=new%20york%20city\" rel=\"nofollow\">Sort by</a>' section on Yelp: </p>\n\n<p>I have 3 anchor() functions that generate the 3 links. When one of the 'sort by' option is selected, I want to remove the hyperlink/anchor() and bold it to show that it is selected just like on the page above.</p>\n\n<p>Right now I am thinking of doing a uri_to_assoc() to $arr because the selected option will be in the url like controller/function/sort_by/best_reviews/.., then based on what is the key (best_reviews) or element (sort_by), use the following code in <strong>view</strong></p>\n\n<pre><code>&lt;?php\n$arr = uri_to_assoc(3);\n\nif($arr['sort_by'] == 'best_reviews') {\n    echo \"&lt;strong&gt;Best Reviews&lt;/strong&gt;\";\n} else {\n    anchor('controller/function/sort_by/best_reviews', 'Best Reviews');\n]\n?&gt;\n</code></pre>\n\n<p>Now I believe the MVC idea is to keep little php code (logic code?) in the view. In this case, will you put the above code in the view, or have that logic in controller/model then pass the final code to display (either the echo or the anchor()) in an array and just echo the array in view?\n.</p>\n\n<p>.</p>\n\n<p><strong>Mini Question (PHP)</strong></p>\n\n<p>If $arr['sort_by'] is not defined in the case that /sort_by/variable does not exist in the url, the statement if($arr['sort_by'] == 'best_reviews') will give an error. Will u nest all the above code in a if(isset($arr['sort_by'])){} ?</p>\n"},{"tags":["javascript","jquery","mvc","dom","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":182,"score":0,"question_id":12987001,"title":"Loading Partial Page With Angular and Compile The Controller","body":"<p>In large scale application, our web application might be organize into separate partial page in order to increase the modularity of our application. In some case compiling a partial page loaded through XHR or Ajax request either using Angular $http.get or JQuery $.load will introduce an error.</p>\n\n<p>Using my scenario as example, exactly I'm using Kohana PHP framework so i can control the modularity of my web application on the server level. As usual all template and page been separate into view, leaving all HTML, JS and CSS together on presentation layer. </p>\n\n<p>This will giving an great flexibility for me to implement the Javascript MVW/MVC stack on client side processing as my web app are heavily depend on AJAX request to fetch data from back end application. In my scenario im using AngularJS and below is a simple pseudo on how the data from Model presented to client.</p>\n\n<blockquote>\n  <p>Kohana Model > Kohana Controller > Kohana View > XHR > JQuery\\Angular > DOM</p>\n</blockquote>\n\n<p>One of my part in my application that really give me bump and get me drink few bottles of metabolism drink to solve the application. Is where i have a Modal dialog and the partial page are load through XHR from server and attached it to selected DOM. </p>\n\n<p>The problem is when Angular try to compile the partial page, when it found the ng-controller directive it will be looking for the function referring to the processed directive. Error were produce where the controller is not found as it not yet evaluated by DOM parser. But when you pre-delare the function somewhere in your application just before your load the partial page, everything is OK. Below is the example on how i setup a Dialog service that will be called from link directive when i clicked the said link.</p>\n\n<pre><code>var dialogService = angular.module('dialog.service', []);\ndialogService.factory('Dialog', function($http,$compile){\n    var dialogService = {};\n    dialogService.load = function(url, scope){\n        $(\"#dialog:ui-dialog\").dialog( \"destroy\" );\n        $(\"#dialog\").attr('title','Atlantis');\n\n        $http.get(url).success(function (data) {\n            html = $compile(data)(scope);\n            $('#dialog-content').html(html);\n\n            $(\"#dialog\").dialog({\n                width: '600px',\n                buttons: {\n                    \"Ok\": function() {\n                        $( this ).dialog( \"close\" );\n                        return true;\n                    },\n                },\n                close: function(){\n                    if (typeof (onClose) == 'function') { onClose(); }\n                },\n            });\n        });\n    }\n\n    return dialogService;\n});\n</code></pre>\n\n<p>After some research i have found some solution and sharing it with fellas on my answer for others beginner like me. (sorry for my English).</p>\n"},{"tags":["xml","mvc","data","sencha-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12986306,"title":"Unable to show data from xml in different panels","body":"<p>I am trying to show data from  a <code>xml</code> file in different panels but it is not showing up, infact using list fetches all the data but problem is with individual items.</p>\n\n<p>My  <code>xml</code> file is as follows</p>\n\n<pre><code>&lt;ajatus&gt;\n    &lt;timeline&gt;\n    &lt;username&gt;Prasanth&lt;/username&gt;\n    &lt;hourstoday&gt;0.00&lt;/hourstoday&gt;\n    &lt;hoursyesterday&gt;9.56&lt;/hoursyesterday&gt;\n    &lt;hoursthisweek&gt;48.56&lt;/hoursthisweek&gt;\n    &lt;hourslastweek&gt;63.68&lt;/hourslastweek&gt;\n    &lt;hoursthismonth&gt;891.52&lt;/hoursthismonth&gt;\n    &lt;hourslastmonth&gt;1515.12&lt;/hourslastmonth&gt;\n    &lt;/timeline&gt;\n&lt;/ajatus&gt;\n</code></pre>\n\n<p>My code in view - </p>\n\n<pre><code> var timeTpl= new Ext.XTemplate(\n        '&lt;tpl for=\".\"&gt;',\n            '&lt;div&gt;&lt;strong&gt;{username}&lt;/strong&gt;',\n        '&lt;div&gt;{hourstoday}',\n        '&lt;div&gt;{hoursyesterday}',\n        '&lt;div&gt;{hoursthisweek}',\n        '&lt;div&gt;{hourslastweek}',\n        '&lt;div&gt;{hoursthismonth}',\n        '&lt;div&gt;{hourslastmonth}',\n    '&lt;/tpl&gt;'\n);\n..{\n        xtype: 'panel',\n    cls: 'dashfont',\n    html: '&lt;div&gt; Hours Today &lt;br&gt;&lt;p style=\"font-size:22px;\"&gt;&lt;/p&gt;&lt;/div&gt;',\n    store: 'storedash',\n    grouped: true,\n    itemTpl:'&lt;div&gt;{userhome}&lt;/div&gt;',\n    flex: 3,\n}\n</code></pre>\n"},{"tags":["c#","mvc","mvvm","mvp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":64,"score":-1,"question_id":12984421,"title":"difference between UI logic and Presentation logic","body":"<p>What is the difference between UI Logic and Presentation Logic? (in a context such as MVVM, MVP and MVC)</p>\n\n<p>Thanks.</p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12984390,"title":"MVC homecontroller delete record in DB","body":"<p>ATM my code to create a record works fine(see below)</p>\n\n<pre><code>  public class HomeController : Controller\n</code></pre>\n\n<p>{\n    private MoviesDBEntities _entities = new MoviesDBEntities();</p>\n\n<pre><code>public ActionResult Index()\n{\n    return View(_entities.MovieTable1.ToList());\n}\n\n//\n// GET: /Home/Details/5\n\npublic ActionResult Details(int id)\n{\n    return View();\n}\n\n//\n// GET: /Home/Create\n\npublic ActionResult Create()\n{\n    return View();\n}\n\n//\n// POST: /Home/Create\n\n[HttpPost]\n//public ActionResult Create(FormCollection collection)\npublic ActionResult Create([Bind(Exclude = \"id\")]MovieTable1 movieToCreate)\n{\n    try\n    {\n        // TODO: Add insert logic here\n        _entities.AddToMovieTable1(movieToCreate);\n        _entities.SaveChanges();\n\n        return RedirectToAction(\"Index\");\n    }\n    catch\n    {\n        return View();\n    }\n}\n</code></pre>\n\n<p>when i try to add code to delete a record i get an error in the .aspx page(see below)\n(home controller)</p>\n\n<pre><code>public ActionResult Delete(int id)\n    {\n        return View();\n    }\n\n    //\n    // POST: /Home/Delete/5\n\n    [HttpPost]\n    //public ActionResult Delete(int id, FormCollection collection)\n    public ActionResult Delete([Bind(Exclude = \"id\")]MovieTable1 movieToDelete)\n    {\n        try\n        {\n            // TODO: Add delete logic here\n            _entities.DeleteObject(movieToDelete);\n            _entities.SaveChanges();\n\n            return RedirectToAction(\"Index\");\n        }\n        catch\n        {\n            return View();\n        }\n    }\n</code></pre>\n\n<p>(delete.asp) page</p>\n\n<pre><code>&lt;div class=\"display-label\"&gt;Id&lt;/div&gt;\n    &lt;div class=\"display-field\"&gt;&lt;%: Model.Id %&gt;&lt;/div&gt;\n\n    &lt;div class=\"display-label\"&gt;Title&lt;/div&gt;\n    &lt;div class=\"display-field\"&gt;&lt;%: Model.Title %&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["mvc","ckeditor"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":12984289,"title":"MVC Homecontroller edit details in DB","body":"<p>so just used a basic tutorial to make a DB and add new records to it. This all works fine...However now I would like to edit a record....</p>\n\n<pre><code>// GET: /Home/Edit/5\n\n    public ActionResult Edit(int id)\n    {\n        return View();\n    }\n\n    //\n    // POST: /Home/Edit/5\n\n    [HttpPost]\n    //public ActionResult Edit(int id, FormCollection collection)\n    public ActionResult Edit([Bind(Exclude = \"id\")]MovieTable1 movieToCreate)\n    {\n        try\n        {\n            // TODO: Add update logic here\n\n           //so i need to insert a line of code here to say something like update\n            //I was using the previous code:\n           //_entities.AddToMovieTable1(movieToCreate);\n            _entities.SaveChanges();           \n\n            return RedirectToAction(\"Index\");\n        }\n        catch\n        {\n            return View();\n        }\n    }\n</code></pre>\n\n<p>This isnt working I think all i have to do is edit the line '_entities.AddToMovieTable1(movieToCreate);' to something to edit the record</p>\n\n<p>to get the add new record working ive used the code...</p>\n\n<pre><code> public class HomeController : Controller\n{\n    private MoviesDBEntities _entities = new MoviesDBEntities();\n    //\n    // GET: /Home/\n\n    public ActionResult Index()\n    {\n        return View(_entities.MovieTable1.ToList());\n    }\n\n    //\n    // GET: /Home/Details/5\n\n    public ActionResult Details(int id)\n    {\n        return View();\n    }\n\n    //\n    // GET: /Home/Create\n\n    public ActionResult Create()\n    {\n        return View();\n    }\n\n    //\n    // POST: /Home/Create\n\n    [HttpPost]\n    //public ActionResult Create(FormCollection collection)\n    public ActionResult Create([Bind(Exclude = \"id\")]MovieTable1 movieToCreate)\n    {\n        try\n        {\n            // TODO: Add insert logic here\n            _entities.AddToMovieTable1(movieToCreate);\n            _entities.SaveChanges();\n\n            return RedirectToAction(\"Index\");\n        }\n        catch\n        {\n            return View();\n        }\n    }\n</code></pre>\n"},{"tags":["mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12983626,"title":"Zero padding in model, view or controller?","body":"<p>There's some disagreement in my circle about where to 0-pad a number: model, view or controller. Since the number is stored as a number in the database, it has to be padded when necessary for display.</p>\n\n<p>Opinions?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","mvc","zend-framework","dependency-injection","zend-framework2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1086,"score":1,"question_id":8288214,"title":"ZF2 Dependency Injection - Injecting tables into classes","body":"<p><strong>Please note: This was ZF beta 1. I doubt this is the same for current release</strong></p>\n\n<p>I was just attempting to inject dependencies into some of my classes. I thought I had this down as I was already managing it with quite a few things like injecting <code>database configurations</code>, <code>DB adapters</code> and <code>auth adapters</code> into my <code>UserMapper</code> class.</p>\n\n<p>I was trying to do the same with some other classes of mine and couldn't work out at all why it just wasn't working like my <code>UserMapper</code> class was. Now I see that the <code>UserMapper</code> class is being injected into a controller which has an alias set for it at the top of the config file.</p>\n\n<p>So I guess without having it first injected by using a controller... how am I supposed to be injecting stuff into my Models? I'm using the standard <code>ZF2 Skeleton by EvanDotPro</code></p>\n\n<p>My Models are in:</p>\n\n<pre><code>Application\\Model\\\nApplication\\Model\\DbTable\n</code></pre>\n\n<p>My config currently looks something like:</p>\n\n<pre><code>&lt;?php\nreturn array(\n'bootstrap_class' =&gt; 'Application\\Bootstrap',\n'layout'          =&gt; 'layouts/layout.phtml',\n'di'              =&gt; array(\n    'instance' =&gt; array(\n        'alias' =&gt; array(\n            'index'             =&gt; 'Application\\Controller\\IndexController',\n            'view'              =&gt; 'Zend\\View\\PhpRenderer'\n        ),\n\n        'Zend\\View\\HelperLoader' =&gt; array(\n            'parameters' =&gt; array(\n                'map' =&gt; array(\n                    'url' =&gt; 'Application\\View\\Helper\\Url',\n                ),\n            ),\n        ),\n\n        'Zend\\View\\HelperBroker' =&gt; array(\n            'parameters' =&gt; array(\n                'loader' =&gt; 'Zend\\View\\HelperLoader',\n            ),\n        ),\n\n        'Application\\Controller\\IndexController' =&gt; array(\n            'parameters' =&gt; array(\n                'userMapper' =&gt; 'Application\\Model\\UserMapper',\n                'flashMessenger' =&gt; 'Zend\\Mvc\\Controller\\Plugin\\FlashMessenger'\n            )\n        ),\n\n        'Application\\Model\\UserMapper' =&gt; array(\n            'parameters' =&gt; array(\n                'db' =&gt; 'Zend\\Db\\Adapter\\PdoMysql',\n                'authAdapter' =&gt; 'Zend\\Authentication\\Adapter\\DbTable',\n                'userTable' =&gt; 'Application\\Model\\DbTable\\UserTable'\n            )\n        ),\n\n        'Application\\Model\\DbTable\\UserTable' =&gt; array(\n            'parameters' =&gt; array(\n                'config' =&gt; 'Zend\\Db\\Adapter\\PdoMysql',\n            )\n        ),\n\n            // Auth adapter\n\n        'Zend\\Authentication\\Adapter\\DbTable' =&gt; array(\n            'parameters' =&gt; array(\n                'zendDb' =&gt; 'Zend\\Db\\Adapter\\PdoMysql',\n                'tableName' =&gt; 'users',\n                'identityColumn' =&gt; 'username',\n                'credentialColumn' =&gt; 'password',\n                'credentialTreatment' =&gt; 'MD5(CONCAT(?,\"OSalTyr$\"))'\n            )\n        ),\n\n        // DB Adapter\n\n        'Zend\\Db\\Adapter\\PdoMysql' =&gt; array(\n            'parameters' =&gt; array(\n                'config' =&gt; array(\n                    'host' =&gt; 'localhost',\n                    'username' =&gt; 'root',\n                    'password' =&gt; '',\n                    'dbname' =&gt; 'blahblah',\n                ),\n            ),\n        ),\n\n        // View\n\n        'Zend\\View\\PhpRenderer' =&gt; array(\n            'parameters' =&gt; array(\n                'resolver' =&gt; 'Zend\\View\\TemplatePathStack',\n                'options'  =&gt; array(\n                    'script_paths' =&gt; array(\n                        'application' =&gt; __DIR__ . '/../views',\n                    ),\n                ),\n                'broker' =&gt; 'Zend\\View\\HelperBroker',\n            ),\n        ),\n\n    ),\n),\n\n'routes' =&gt; array(\n    'default' =&gt; array(\n        'type'    =&gt; 'Zend\\Mvc\\Router\\Http\\Regex',\n        'options' =&gt; array(\n            'regex'    =&gt; '/(?P&lt;controller&gt;[^/]+)(/(?P&lt;action&gt;[^/]+)?)?',\n            'spec'     =&gt; '/%controller%/%action%',\n            'defaults' =&gt; array(\n                'controller' =&gt; 'error',\n                'action'     =&gt; 'index',\n            ),\n        ),\n    ),\n    'home' =&gt; array(\n        'type' =&gt; 'Zend\\Mvc\\Router\\Http\\Literal',\n        'options' =&gt; array(\n            'route'    =&gt; '/',\n            'defaults' =&gt; array(\n                'controller' =&gt; 'index',\n                'action'     =&gt; 'index',\n            ),\n        ),\n    ),\n),\n);\n</code></pre>\n\n<p>Thanks, Dominic</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12978853,"title":"Providing updates during a long Rails controller action","body":"<p>I have an action that takes a long time. I want to be able to provide updates during the process so the user is not confused as to whether he lost the connection or something. Can I do something like this:</p>\n\n<pre><code>class HeavyLiftingController &lt; ApplicationController\n  def data_mine\n    render_update :js=&gt;\"alert('Just starting!')\"\n    # do some complicated find etc.\n    render_update :js=&gt;\"alert('Found the records!')\"\n    # do some processing ...\n    render_update :js=&gt;\"alert('Done processig')\"\n    # send @results to view\n  end\nend\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","model-binding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12982362,"title":"MVC nested model collection is empty (not null)","body":"<p>I have a model that has a property which is a collection. I can successfully bind from the edit actions, for example:</p>\n\n<pre><code>    [HttpGet]\n    public ActionResult Edit(string id)\n    {\n        // code here\n        return this.View(complexModel);            \n    }\n\n    [HttpPost]\n    public ActionResult Edit(ComplexModel complexModel)\n    {\n        // code here\n        return RedirectToAction(\"AnotherAction\")            \n    }\n</code></pre>\n\n<p>In the post method I can successfully receive all the object properties, including the collection one. However I have another view that can invoke the Edit action. When this happens I can see that the html rendered is the same (i.e. the nested property info is there). When I save the changes in the post Edit I receive all the correct properties with one exception - the collection propery has zero items.</p>\n\n<p>Where do I have to search for the problem?</p>\n\n<p>Update:\nI am properly iterating through the collection and displaying all items with EditorFor; however when coming from a differnt view (the different view is in another controller and the Edit link is placed in a Display Template - if that makes any difference) with the same exact model I can see that the html is the same since all the properties of the collection are there.</p>\n"},{"tags":["php","oop","mvc","dispatcher","router"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":74,"score":3,"question_id":12976855,"title":"PHP - call_user_function_array or Reflection class pass by reference?","body":"<p>I'm trying to dispatch request in MVC framework.\nI have a routing object that matches current URI against defined routes. If there is a match, it returns instance of Route object. Through that Route object I can access matched controller, method and method arguments.</p>\n\n<p>I can use it like this:</p>\n\n<pre><code>$route-&gt;getClass(); name of controller class to instantiate\n$route-&gt;getMethod(); name of method to call\n$route-&gt;getArgs(); array holding arguments that should be passed to method\n</code></pre>\n\n<p>I can also add new arguments if I need to. For example, I can add Dependency Injection Container and current HTTP Request object instances to args like this:</p>\n\n<pre><code>$route-&gt;addArg('container', $container);\n$route-&gt;addArg('request', $request);\n</code></pre>\n\n<p>Now $route->getArgs holds all arguments fetched from URI, but also a $container instance and $request instance. $container is dependency injection container i wrote. And $request is object that represents current HTTP Request.</p>\n\n<p>So the idea is to instantiate Router, get current Route, then add objects I would like to use inside every method / action controller. And then pass that Route object to Dispatcher, and when request is dispatched, I would be able to use $container, $request and other arguments in every method / action controller.</p>\n\n<p>The problem I have is that when I use lets say blog controller and post method. By default, and always, it shoud have instance of $container, and $request (since I pushed them into Route::$args, plus any other argument / variable defined in routes definitions or fetched from URI.</p>\n\n<p>So when Im in my Blog Controller, post method I want it to act like this:</p>\n\n<pre><code>public function post($container, $request)\n{\nif($request-&gt;isAjax) {\n// -- Its ajax request\n}\n\n$twig = $container-&gt;getService(\"Twig\");\n}\n</code></pre>\n\n<p>I dispatch request something like this:</p>\n\n<p>Im using call_user_function_array to make it work:</p>\n\n<pre><code>$app = new $controller();\ncall_user_function_array(array($app, $method), $args);\n</code></pre>\n\n<p>Now this all works as it should but I have one problem.\nWhen Im using that post controller I must be careful in what order are post method arguments ordered.</p>\n\n<p>So i can do this:</p>\n\n<pre><code>public function post($id, $url, $container, $request) {\n// -- SNIP --\n}\n</code></pre>\n\n<p>but I cant use it this way:</p>\n\n<pre><code>public function post($container, $url, $request, $id) {\n/-- SNIP --\n}\n</code></pre>\n\n<p>So you get the problem, I cant mix arguments inside my method the way I want, and I need to keep an eye on order in which those arguments get defined in Route:$args array.</p>\n\n<p>Every method / action controller should have $request, and $container instances plus arguments fetched through URI or defined in route definition.</p>\n\n<p>Is there any way to make it work without having to think In what order is post method getting arguments? Does this have something to do with passing by reference? Since php passes variables by value?</p>\n\n<p>Im using call_user_function_array and I want to find solution for call_user_function_array.\nIs this possible?</p>\n\n<p>If not, can this be done using Reflection class?</p>\n"},{"tags":["c#","mvc","telerik","reference","circular"],"answer_count":4,"favorite_count":5,"up_vote_count":3,"down_vote_count":0,"view_count":1212,"score":3,"question_id":7888770,"title":"Telerik MVC Grid with Ajax Binding using EntityObjects gets Circular References exception","body":"<p>I have been using Telerik MVC Grid for quite a while now and It is a great control, however, one annoying thing keeps showing up related to using the grid with Ajax Binding to objects created and returned from the Entity Framework.  Entity objects have circular references, and when you return an IEnumerable from an Ajax callback it generates an exception from the JavascriptSerializer if there are circular references.  This happens because the MVC Grid uses a JsonResult which in turn uses JavaScriptSerializer which does not support serializing circular references.  </p>\n\n<p>My solution to this problem has been to use LINQ to create view objects that do not have the Related Entites.  This works for all cases, but reqires the creation of new objects and the copying of data to / from entity objects to these view objects.  Not alot of work, but it is work.</p>\n\n<p>I have finally figured out how to generically make the grid not serialize the circular referneces (ignore them) and I wanted to share my solution for the general public, as I think it is generic, and plugs into the environment nicely.  </p>\n\n<p><strong>The solution has a couple of parts</strong></p>\n\n<ol>\n<li>Swap the default grid serializer with a custom serializer</li>\n<li>Install the Json.Net plug-in available from Newtonsoft (this is a great library)</li>\n<li>Implement the grid serializer using Json.Net</li>\n<li>Modify the Model.tt files to insert [JsonIgnore] attributes in front of the navigation properties</li>\n<li>Override the DefaultContractResolver of Json.Net and look for the _entityWrapper attribute name to ensure this is also ignored (injected wrapper by the poco classes or entity framework)</li>\n</ol>\n\n<p>All of these steps are easy in and of themselves, but without all of them you cannot take advantage of this technique.  </p>\n\n<p>Once implemented correctly i can now easily send any entity framework object directly to the client without creating new View objects.  I dont recommend this for every object, but sometimes it is the best option.  It is also important to note that any related entires are not availalbe on the client side, so don't use them.</p>\n\n<p><b>Here are the Steps required</b></p>\n\n<ol>\n<li><p>Create the following class in your application somewhere.  This class is a factory object that the grid uses to obtain json results.  This will be added to the telerik library in the global.asax file shortly.</p>\n\n<pre><code>public class CustomGridActionResultFactory : IGridActionResultFactory\n{\n    public System.Web.Mvc.ActionResult Create(object model)\n    {\n        //return a custom JSON result which will use the Json.Net library\n        return new CustomJsonResult\n        {\n            Data = model\n        };\n    }\n}\n</code></pre></li>\n<li><p>Implement the Custom ActionResult.  This code is boilerplate for the most part.  The only interesting part is at the bottom where it calls JsonConvert.SerilaizeObject passing in a ContractResolver.  The ContactResolver looks for properties called _entityWrapper by name and sets them to be ignored.  I am not exactly sure who injects this property, but it is part of the entity wrapper objects and it has circular referneces.</p>\n\n<pre><code>public class CustomJsonResult : ActionResult\n{\n    const string JsonRequest_GetNotAllowed = \"This request has been blocked because sensitive information could be disclosed to third party web sites when this is used in a GET request. To allow GET requests, set JsonRequestBehavior to AllowGet.\";\n\n    public string ContentType { get; set; }\n    public System.Text.Encoding ContentEncoding { get; set; }\n    public object Data { get; set; }\n    public JsonRequestBehavior JsonRequestBehavior { get; set; }\n    public int MaxJsonLength { get; set; }\n\n    public CustomJsonResult()\n    {\n        JsonRequestBehavior = JsonRequestBehavior.DenyGet;\n        MaxJsonLength = int.MaxValue; // by default limit is set to int.maxValue\n    }\n\n    public override void ExecuteResult(ControllerContext context)\n    {\n        if (context == null)\n        {\n            throw new ArgumentNullException(\"context\");\n        }\n\n        if ((JsonRequestBehavior == JsonRequestBehavior.DenyGet) &amp;&amp; string.Equals(context.HttpContext.Request.HttpMethod, \"GET\", StringComparison.OrdinalIgnoreCase))\n        {\n            throw new InvalidOperationException(JsonRequest_GetNotAllowed);\n        }\n\n        var response = context.HttpContext.Response;\n        if (!string.IsNullOrEmpty(ContentType))\n        {\n            response.ContentType = ContentType;\n        }\n        else\n        {\n            response.ContentType = \"application/json\";\n        }\n        if (ContentEncoding != null)\n        {\n            response.ContentEncoding = ContentEncoding;\n        }\n        if (Data != null)\n        {\n            response.Write(JsonConvert.SerializeObject(Data, Formatting.None,\n                                                       new JsonSerializerSettings\n                                                           {\n                                                               NullValueHandling = NullValueHandling.Ignore,\n                                                               ContractResolver =  new PropertyNameIgnoreContractResolver()\n                                                           }));\n        }\n    }\n}\n</code></pre></li>\n<li><p>Add the factory object to the telerik grid.  I do this in the global.asax Application_Start() method, but realistically it can be done anywhere that makes sense.</p>\n\n<pre><code>DI.Current.Register&lt;IGridActionResultFactory&gt;(() =&gt; new CustomGridActionResultFactory());\n</code></pre></li>\n<li><p>Create the DefaultContractResolver class that checks for _entityWrapper and ignores that attribute.  The resolver is passed into the SerializeObject() call in step 2.</p>\n\n<pre><code>public class PropertyNameIgnoreContractResolver : DefaultContractResolver\n{\n    protected override JsonProperty CreateProperty(System.Reflection.MemberInfo member, MemberSerialization memberSerialization)\n    {\n        var property = base.CreateProperty(member, memberSerialization);\n\n        if (member.Name == \"_entityWrapper\")\n            property.Ignored = true;\n\n        return property;\n    }\n}\n</code></pre></li>\n<li><p>Modify the Model1.tt file to inject attributes that ignore the related entity properties of the POCO Objects.  The attribute that must be injected is [JsonIgnore].  This is the hardest part to add to this post but not hard to do in the Model1.tt (or whatever filename it is in your project).  Also if you are using code first then you can manually place the [JsonIgnore] attributes in front of any attribute that creates a circular reference.</p>\n\n<p>Search for the region.Begin(\"Navigation Properties\") in the .tt file.  This is where all of the navigation properties are code generated.  There are two cases that have to be taken care of the many to XXX and the Singular refernece.  There is an if statement taht checks if the property is </p>\n\n<pre><code>RelationshipMultiplicity.Many\n</code></pre>\n\n<p>Just after that code block you need to insert the [JasonIgnore] attribute prior to the line</p>\n\n<pre><code>&lt;#=PropertyVirtualModifier(Accessibility.ForReadOnlyProperty(navProperty))#&gt; ICollection&lt;&lt;#=code.Escape(navProperty.ToEndMember.GetEntityType())#&gt;&gt; &lt;#=code.Escape(navProperty)#&gt;\n</code></pre>\n\n<p>Which injects the proprty name into the generated code file.  </p>\n\n<p>Now look for this line which handles the Relationship.One and Relationship.ZeroOrOne relationships.  </p>\n\n<pre><code>&lt;#=PropertyVirtualModifier(Accessibility.ForProperty(navProperty))#&gt; &lt;#=code.Escape(navProperty.ToEndMember.GetEntityType())#&gt; &lt;#=code.Escape(navProperty)#&gt;\n</code></pre>\n\n<p>Add the [JsonIgnore] attribute just before this line.</p>\n\n<p>Now the only thing left is to make sure the NewtonSoft.Json library is \"Used\" at the top of each generated file.  Search for the call to WriteHeader() in the Model.tt file.  This method takes a string array parameter that adds extra usings (extraUsings).  Instead of passing null connstruct an array of strings and send in the \"Newtonsoft.Json\" string as the first element of the array.  The call should now look like:</p>\n\n<pre><code>WriteHeader(fileManager, new [] {\"Newtonsoft.Json\"});\n</code></pre></li>\n</ol>\n\n<p>Thats all there is to do, and everthing starts working, for every object.  </p>\n\n<h1>Now for the disclaimers</h1>\n\n<ul>\n<li>I have never used Json.Net so my implementation of it might not be\noptimal. </li>\n<li>I have been testing for about two days now and havent found any cases where this technique fails.  </li>\n<li>I also have not found any incompatibilities between the JavascriptSerializer and the JSon.Net serializer but that doesnt mean\nthere arent any</li>\n<li>The only other caveat is that the i am testing for a property called \"_entityWrapper\" by name to set its ignored property to true. This is obviously not optimal.</li>\n</ul>\n\n<p>I would welcome any feedback on how to improve this solution.  I hope it helps someone else.</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12980904,"title":"Good Java MVC security framework","body":"<p>Can anyone recommend me a good authentication security framework that allows the user to be authenticated by an email address as the user name, and allows the user to have a separate screen name?  </p>\n"},{"tags":["spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12979426,"title":"Multiple Dispatcher servlet example and configuration in Spring","body":"<p>Can some one give me a link for multiple dispatcher servlet example?. I am trying to run two applications in a single Spring MVC. I have checked different examples in google and written everything in web.xml, wrote two *-servlet.xml files. I have different jsp pages. Specified different url's for the application. But still one of the application is not running?</p>\n\n<p>Any brief example link or can anyone atleast tell me the configuration files required when writing two dispatcher servlets in a Spring MVC.</p>\n\n<p>Thank You\nSam</p>\n"},{"tags":["objective-c","ios","mvc","view"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12979910,"title":"IOS Dev Switch views within a view","body":"<p>I am creating a tutorial based iphone app. On the app, I plan to have pictures to be displayed along with text. How can I have it so that the text can change within the same view. For example, if one was to read the entire text, than press next new text would appear.</p>\n"},{"tags":["php","mvc","symfony2","tree","twig"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12976900,"title":"How to access a specific method in a loop?","body":"<p>Let's say I have a Category entity, a Person entity, and these two are related by a Contract Entity.\n<br/>\nIn my view, I need to display a category with all its subcategories with the number of persons</p>\n\n<p>For example :\nwhen the user is on the page to view \"the category A\", I would like he/she sees that :</p>\n\n<pre><code>Category A                  10 persons\n  subcategory a.1            4 persons\n  subcategory a.2            6 persons\n</code></pre>\n\n<p>So in my show.html.twig, I would write :</p>\n\n<pre><code>{{ category.title }}  {{ nb_persons }}\n{% for child in children %}\n   {{ child.title }} //{{ child.getNbPersons() }}??, how to get the number of persons for each child ?\n{% endfor %}\n</code></pre>\n\n<p>Here's my CategoryController.php</p>\n\n<pre><code>public function showAction($id_category)\n{\n    $em=$this-&gt;getDoctrine()-&gt;getEntityManager();\n    $repo = $em-&gt;getRepository('MyBundle:Category');\n    $this-&gt;param['category']= $repo-&gt;find($id);\n    $this-&gt;param['nb_persons'] = $repo-&gt;getNbPersonsByCategory($id_category);\n    $this-&gt;param['children'] = $repo-&gt;children($this-&gt;param['category'], true, 'title');\n\nreturn $this-&gt;render('MyBundle:Category:show.html.twig', $this-&gt;param);\n}\n</code></pre>\n\n<p>But to display the number of persons for each subcategory(child) I need to use a method like child.getNbPersons(), but this would force me to use a repository function in my entity Category.php and this is a bad practice I think.\nWhat can I do ? </p>\n"},{"tags":["javascript","mvc","view","treeview","extjs4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12978791,"title":"view not showing store when initcomponent loads store extjs 4.1.1","body":"<p>Using ExtJs 4.1.1</p>\n\n<p>I have some stores that will need to be created for each instance of a particular view. So, I am creating these stores within the initcomponent method of the view. This is all part of a refactoring of some code I am doing. I am attempting to make this view component able to be instantiated with multiple instances, while have a single controller take care of all instances. My goals aside, here is what I am doing:</p>\n\n<p>A particular treestore is populated with data(doesn't matter how, the data does end up in the store as verified with firebug). A treeview is defined within the view, and it takes the populated treestore as its store. However, when the view comes up. The data is not in the treeview. I beleive this may have something to do with all the static config loading before initComponent runs, although I am not sure. If I could get some insight on that process, it would be very helpful. I am thinking I say this.store1 belongs to the view in the view config, but then define this.store1 within the views initComponent. Is this the wrong way to do it???</p>\n\n<p>Any suggestions are appreciated.</p>\n\n<p>Using ExtJs 4.1.1</p>\n"},{"tags":["php","mvc","joomla","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12974421,"title":"Change default view of controller using view-list member: How to set view models?","body":"<p>I'm building a Joomla 2.5 component, and I want to change the view being rendered after a 'save' item action. This is easy enough (in the JControllerAdmin extended class constructor)</p>\n\n<pre><code>$this-&gt;view_list = \"myview\"\n</code></pre>\n\n<p>However, <code>myview</code> needs to load a couple of models to work. Elsewhere in the code this is done by a controller, for example  <code>controller.php</code> (the component's master controller in the component root):</p>\n\n<pre><code>$view = &amp;$this-&gt;getView('myview', 'html');\n$view-&gt;setModel($this-&gt;getModel('myviewSpecialModel'),false);\n$view-&gt;display();\n</code></pre>\n\n<p>My question: I'm not sure where in <code>JControllerAdmin</code> I can put this code so the necessary models are loaded before the view is displayed. Any advice?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","activerecord","migration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12971331,"title":"Create a new migration from controller","body":"<p>I would like to add to my table participant many attributes, since the yaml configuration file is given to me in input and I do not know how many attributes include before. My idea is to create a controller that goes to read the file and enter in the table participant how many attributes are specified in this. and I was looking for a way to do this, maybe wrong :)</p>\n\n<p>I put in my controller:</p>\n\n<pre><code> sql = \"ALTER TABLE participants ADD COLUMN foo TEXT\"\n ActiveRecord::Migration.connection.execute(sql)\n system \"rake db:migrate\"\n</code></pre>\n\n<p>In db/scehma.rb now there is t.text \"foo\", but in db/migrate there isn't a new migration that I can use to go back in case of errors. How do I create one of these?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","validation","nested-forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12972112,"title":"Nested model validation - errors don't show","body":"<p>There have been many questions about this, but none of them seem to help. And yes, I have watched <a href=\"http://railscasts.com/episodes/196-nested-model-form-part-1\" rel=\"nofollow\">this rails cast</a>.</p>\n\n<p>I have an Author who has many Books, like so:</p>\n\n<p>Author:</p>\n\n<pre><code>class Author &lt; ActiveRecord::Base\n  attr_accessible :name\n  has_many :books, dependent: :destroy\n\n  accepts_nested_attributes_for :books, allow_destroy: true\n\n  validates :name, presence: true\n  validates :name, length: { minimum: 3 }\nend\n</code></pre>\n\n<p>Book:</p>\n\n<pre><code>class Book &lt; ActiveRecord::Base\n  attr_accessible :name, :year\n  belongs_to :author\n\n  validates :name, :year, presence: true\n  validates :year, numericality: { only_integer: true, less_than_or_equal_to: Time.now.year }\nend\n</code></pre>\n\n<p>I created the following form to add a book to an author in authors#show:</p>\n\n<pre><code>&lt;%= form_for([@author, @book], html: { class: \"well\" }) do |f| %&gt;\n&lt;% if @book.errors.any? %&gt;\n    &lt;div class=\"alert alert-block\"&gt;\n        &lt;ul&gt;\n            &lt;% @author.errors.full_messages.each do |msg| %&gt;\n                &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;\n            &lt;% end %&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;% end %&gt;\n#labels and buttons...\n&lt;% end %&gt;\n</code></pre>\n\n<p>...with the following authors_controller method:</p>\n\n<pre><code>def show\n    @author = Author.find(params[:id])\n    @book = @author.books.build\nend\n</code></pre>\n\n<p>...and the following books_controller method:</p>\n\n<pre><code>def create\n    @author = Author.find(params[:author_id])\n    if @author.books.create(params[:book])\n      redirect_to author_path(@author)\n    else\n      render action: :show\n    end\n  end\n</code></pre>\n\n<p>I cannot seem to figure out why the form does not display any error messages. I followed the example from railscasts where they say there should be an instance variable of books in the form instead of @author.books.build, so I put the latter in the controller and @book in the form - still to no avail.</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3","mvc","telerik"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":688,"score":1,"question_id":9689876,"title":"MVC3 - Server validation with Telerik Modal Window using Ajax call","body":"<p><strong>SOLVED</strong></p>\n\n<p>Im going to paste my code before I ask the question.</p>\n\n<p><strong>My script:</strong></p>\n\n<pre><code>    function showDialog(arg) {\n    var url = '/Home/ReserveRent/';\n    $.ajax({\n            type: \"GET\",\n            url: url,\n            data: { saleslineId: arg },\n            dataType: \"html\",\n            success: function(data) { $('#ModalPay' + arg).html(data); },\n            error: function() { alert(url + '  ' + arg); }\n        });\n    $(\"#Window\" + arg).data(\"tWindow\").center().open().refresh();\n}\n</code></pre>\n\n<p><strong>My Controller ActionResult GET and POST:</strong></p>\n\n<pre><code>        public ActionResult ReserveRent(int salesLineId)\n    {\n        if(User.Identity.IsAuthenticated)\n        {\n            var salesLine = _salesLineLogic.GetSalesLine(salesLineId);\n\n            if (!salesLine.IsAvailable)\n            {\n                ViewBag.AvailableSalesLine = @\"essi orlosfeign er v miur ekki lengur til leigu  essu tmabili.\";\n                return RedirectToAction(\"Index\", \"Home\");\n            }\n\n            salesLine.IsAvailable = false;\n            _salesLineLogic.SaveToDatabase();\n\n            var payment = new Payment { FK_SalesLineID = salesLineId, EditedBy = \"PayRent.cshtml (GET)\", EditedOn = DateTime.Now };\n\n            return PartialView(new HomeFormViewModel(payment, salesLineId));\n        }\n        else\n        {\n            return RedirectToAction(\"LogOn\", \"Account\");\n        }\n    }\n\n    [HttpPost]\n    [Authorize]\n    public ActionResult ReserveRent(int salesLineId, Payment payment)\n    {\n        //removed a lot of code since it is not relevant to question\n\n        var cardValidation = new CreditCardAttribute();\n\n        if (cardValidation.IsValid(payment.VirtualCardnumber))\n        {\n            try\n            {\n                //removed a lot of code since it is not relevant to question\n                //here is success\n\n                return RedirectToAction(\"RentPaid\", \"Payment\", payment);\n            }\n            catch (_ErrorException e)\n            {\n                //Code removed, error handling\n            }\n        }\n        else\n        {\n            //Code removed\n            ModelState.AddModelError(\"\", @\"Kortanmeri (\" + payment.VirtualCardnumber + @\") er ekki lglegt, vinsamlegast reyni aftur.\");\n            return PartialView(new HomeFormViewModel(payment, salesLineId));\n        }\n\n        return PartialView(new HomeFormViewModel(payment, salesLineId));\n    }\n</code></pre>\n\n<p><strong>My foreach loop within my Index page rendering Telerik Windows:</strong></p>\n\n<pre><code>&lt;div&gt;\n@foreach (ShowAvailability availability in Model.ShowAvailabilities)\n{\n    foreach (var salesLine in availability.SalesLinesForSale)\n    {\n        SalesLine line = salesLine;\n        string modalPay = \"ModalPay\" + line.SalesLineID;\n        Html.Telerik().Window()\n        .Name(\"Window\" + line.SalesLineID)\n        .Title(line.Unit.Name)\n        .Content(@&lt;text&gt;\n            @using (Html.BeginForm(\"ReserveRent\", \"Home\", new { salesLineId = line.SalesLineID }, FormMethod.Post, new { id = \"feedback-form\" }))\n            {\n\n                &lt;p class=\"note\"&gt;This is &lt;strong&gt;salesLine&lt;/strong&gt; @line.SalesLineID.&lt;/p&gt;\n\n                &lt;div style=\"@modalPay\"&gt;\n                    @{Html.RenderPartial(\"ReserveRent\", Model);}\n                &lt;/div&gt;\n                &lt;div class=\"form-actions\"&gt; &lt;button onclick=\"cancelModalRent('@line.SalesLineID')\" type=\"button\" class=\"t-button t-state-default\"&gt; Htta vi&lt;/button&gt; \n            &lt;button type=\"submit\" class=\"t-button t-state-default\"&gt; Bka&lt;/button&gt;                         \n            &lt;button type=\"button\" onclick=\"showDialog('@line.SalesLineID')\" class=\"t-button t-state-default\"&gt;eeeeeee&lt;/button&gt;&lt;/div&gt;\n            }\n    &lt;/text&gt;)\n        .Buttons(b =&gt; b.Maximize())\n        .Width(500)\n        .Draggable(true)\n        .Modal(true)\n        .Visible(false)\n        .Render();\n    }\n}\n</code></pre>\n\n<p></p>\n\n<p><strong>My FormViewModel:</strong></p>\n\n<pre><code>    public class HomeFormViewModel\n    {\n    private readonly UnitLogic _unitLogic = new UnitLogic();\n\n    public ShowAvailability ShowAvailability            { get; private set; }\n    public List&lt;ShowAvailability&gt; ShowAvailabilities    { get; private set; } \n    public List&lt;Unit&gt; Units                             { get; private set; }\n    public List&lt;Unit&gt; Areas                             { get; private set; }\n    public List&lt;SelectListItem&gt; AreaSelectList          { get; private set; }\n    public Payment Payment                              { get; private set; }\n    public int SalesLineId                              { get; private set; }\n\n    public HomeFormViewModel(ShowAvailability showAvailability)\n    {\n        ShowAvailability = showAvailability;\n\n        Units = _unitLogic.GetAllUnits();\n    }\n\n    public HomeFormViewModel(List&lt;ShowAvailability&gt; showAvailabilities)\n    {\n        ShowAvailabilities = showAvailabilities;\n\n        Units = _unitLogic.GetAllUnits();\n\n        Areas = _unitLogic.GetAllAreas();\n\n        var selectListItems = new List&lt;SelectListItem&gt;\n                                  {\n                                      new SelectListItem\n                                          {\n                                              Selected = true,\n                                              Text = @\"ll svi\",\n                                              Value = \"0\"\n                                          }\n                                  };\n\n        selectListItems.AddRange(Areas.Select(unit =&gt; new SelectListItem\n                                                          {\n                                                              Selected = false,\n                                                              Text = unit.Name,\n                                                              Value = unit.UnitID.ToString()\n                                                          }));\n        AreaSelectList = selectListItems;\n    }\n\n    public HomeFormViewModel(Payment payment, int salesLineId)\n    {\n        SalesLineId = salesLineId;\n        Payment = payment;\n    }\n}\n</code></pre>\n\n<p><strong>My partial View (the one that should stay open when validation occur):</strong></p>\n\n<pre><code>@model AFLOrlofMVC3.Controllers.HomeFormViewModel\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n@{\n    string modalPay = \"ModalPay\" + Model.SalesLineId;\n}\n&lt;div&gt;\n@Html.ValidationSummary(true)\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.PayerName)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.PayerName, new { style = \"width: 175px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.PayerName)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.VirtualCardnumber)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.VirtualCardnumber, new { style = \"width: 125px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.VirtualCardnumber)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.CVC)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.CVC, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.CVC)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.ExpirationDate)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.ExpirationDate, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.ExpirationDate)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.EditedOn)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.EditedOn, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.EditedOn)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.EditedBy)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.EditedBy, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.EditedBy)\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Screenshots:  First picture is my dialog window, second picture what happens on submit</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/f0013.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/FjKU8.png\" alt=\"enter image description here\"></p>\n\n<p><strong>My question:</strong></p>\n\n<p>If I want to only refresh my dialog window with the result from my Ajax call, should I change the ajax call in any way for that to work or should I return something else than PartialView()?   Im thinking mainly about the server side validation and the validationsummary should display the error.</p>\n"},{"tags":["c#","mvc","content-management-system","tinymce","orchardcms"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12969949,"title":"Orchard text editor cannot save my html","body":"<p>I'm using orchard CMS to build a website, i added a page via the orchard's text editor.\nI input the following code and save:</p>\n\n<pre><code>&lt;a class=\"tile wide imagetext bg-color-blue\" href=\"./bootstrap-scaffolding.html\"&gt;\n     &lt;div class=\"image-wrapper\"&gt;\n          &lt;img src=\"content/img/My Apps.png\" /&gt;\n      &lt;/div&gt;\n      &lt;div class=\"column-text\"&gt;\n      &lt;div class=\"text\"&gt;Grid system&lt;/div&gt;\n          &lt;div class=\"text\"&gt;Layouts&lt;/div&gt;\n          &lt;div class=\"text\"&gt;Responsive design&lt;/div&gt;\n       &lt;/div&gt;\n     &lt;span class=\"app-label\"&gt;SCAFFOLDING&lt;/span&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>But i find that the code is changed in text editor when open the editor again, they are:</p>\n\n<pre><code>&lt;h2&gt;Bootstrap Metro&lt;/h2&gt;\n&lt;div class=\"image-wrapper\"&gt;&lt;img src=\"content/img/My Apps.png\" /&gt;&lt;/div&gt;\n&lt;div class=\"column-text\"&gt;\n&lt;div class=\"text\"&gt;Grid system&lt;/div&gt;\n&lt;div class=\"text\"&gt;Layouts&lt;/div&gt;\n&lt;div class=\"text\"&gt;Responsive design&lt;/div&gt;&lt;/div&gt;\n&lt;a class=\"tile wide imagetext bg-color-blue\" href=\"./bootstrap-scaffolding.html\"&gt;&lt;span class=\"app-label\"&gt;SCAFFOLDING&lt;/span&gt; &lt;/a&gt;\n</code></pre>\n\n<p>The changed code are:</p>\n\n<pre><code>&lt;a class=\"tile wide imagetext bg-color-blue\" href=\"./bootstrap-scaffolding.html\"&gt;&lt;span class=\"app-label\"&gt;SCAFFOLDING&lt;/span&gt; &lt;/a&gt;\n</code></pre>\n\n<p>Could you please give me any suggestion?</p>\n"},{"tags":["mvc","extjs","ext.net","gridpanel"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":117,"score":1,"question_id":12964305,"title":"EXT.net - Grid Panel via Entity with DropDowns, Dates, Pin Editing and Deletion","body":"<p>Title sounds like a real mouthful, so let me try to explain this. I'm very strong with grinding out Web Forms and this is my second crack at using a framework and MVC (don't ask about the first one). Start with a table like this:</p>\n\n<p>Title: Milestones <br/>\nId      int - Auto, PK<br/>\nProject_Id      int - FK, Many Milestones to One Project, Provided static for now<br/>\nNumber          int<br/>\nName            varchar(50)<br/>\nStatus_Id       int - FK One Status to One Milestone<br/>\nPlannedDate date<br/>\nLatestEstimate  date<br/>\nMilestoneType_ID    int - FK One Type to One Milestone<br/></p>\n\n<p>These all sit on an SQL server, are pulled in by an Entity and then are pulled in by an ObjectDataSource, like this:</p>\n\n<pre><code>    &lt;asp:ObjectDataSource runat=\"server\" ID=\"MilestonesObjectSource\" SelectMethod=\"GetByProject\"\n        DeleteMethod=\"DeleteMilestone\" TypeName=\"TCProjectManagement.Models.MilestonesAddition\"&gt;\n        &lt;SelectParameters&gt;\n            &lt;asp:Parameter DefaultValue=\"6\" Name=\"ProjectID\" Type=\"Int32\" /&gt;\n        &lt;/SelectParameters&gt;\n        &lt;DeleteParameters&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"Id\" /&gt;\n        &lt;/DeleteParameters&gt;\n        &lt;UpdateParameters&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"Id\" /&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"Number\" /&gt;\n            &lt;asp:Parameter Type=\"String\" Name=\"Name\" /&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"Status_Id\" /&gt;\n            &lt;asp:Parameter Type=\"DateTime\" Name=\"PlannedDate\" /&gt;\n            &lt;asp:Parameter Type=\"DateTime\" Name=\"LatestEstimate\" /&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"MilestoneType_ID\" /&gt;\n        &lt;/UpdateParameters&gt;\n    &lt;/asp:ObjectDataSource&gt;\n</code></pre>\n\n<p>Sofar so good. Data pull seems to work out okay. I've got a couple more Object Sources that deal exclusively with the Foriegn Keys, so I'll skip those since they seem to be working.</p>\n\n<p>The problems I have are attempting to stitch together many examples that don't seem to go together well. My objectives, in no paticular order:</p>\n\n<p>1) Pin Editing: Click a button to edit, click it again to confirm. Rather do this than have somebody infer to double click for a change. Sofar, this sorta works.<br/>\n2) Drop Downs for Foriegn Keys: While not in edit mode, should display the \"Name\" field of the FK. While in edit it should be a Drop Down for options (there's only three). This stays blank dispite what I do.<br/>\n3) Deletion: Press a button to blow away a row. I put the button there but it's a copy of the JS for editing. What do I need to use to have it be deletion?<br/>\n4) Dates: This doesn't work at all. One of the weird parts is that from the SQL server's type of Date, it gets changed to DateTime in the Entity and stays that way throughout. However, I cannot get the desired control of ext:DateField to cooperate with the provided data since it displays a time and completely blanks out when editing.. I know I'm doing something wrong here.<br/>\n5) Saving Changes: Not quite sure I set it up right (or at all).<br/></p>\n\n<p>Provisions of Javascript:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n            var pinEditors = function (btn, pressed) {\n                var columnConfig = btn.column,\n                column = columnConfig.column;\n\n                if (pressed) {\n                    column.pinOverComponent();\n                    column.showComponent(columnConfig.record, true);\n                } else {\n                    column.unpinOverComponent();\n                    column.hideComponent(true);\n                }\n            };\n            var pinDeleters = function (btn, pressed) { };\n        &lt;/script&gt;\n</code></pre>\n\n<p>And ASP Code:</p>\n\n<pre><code>    &lt;ext:GridPanel ID=\"MilestonesGridPanel\" runat=\"server\" Title=\"Milestones\" Width=\"1000px\"\n        Height=\"300px\"&gt;\n        &lt;Store&gt;\n            &lt;ext:Store ID=\"MilestonesGridStore\" runat=\"server\" DataSourceID=\"MilestonesObjectSource\"&gt;\n                &lt;Model&gt;\n                    &lt;ext:Model runat=\"server\" IDProperty=\"Id\"&gt;\n                        &lt;Fields&gt;\n                            &lt;ext:ModelField Name=\"Id\" Type=\"Int\" /&gt;\n                            &lt;ext:ModelField Name=\"Number\" Type=\"Int\" /&gt;\n                            &lt;ext:ModelField Name=\"Name\" Type=\"String\" /&gt;\n                            &lt;ext:ModelField Name=\"Status_Id\" Type=\"Int\" /&gt;\n                            &lt;ext:ModelField Name=\"PlannedDate\" /&gt;\n                            &lt;ext:ModelField Name=\"LatestEstimate\" /&gt;\n                            &lt;ext:ModelField Name=\"MilestoneType_ID\" Type=\"Int\" /&gt;\n                        &lt;/Fields&gt;\n                    &lt;/ext:Model&gt;\n                &lt;/Model&gt;\n            &lt;/ext:Store&gt;\n        &lt;/Store&gt;\n        &lt;ColumnModel&gt;\n            &lt;Columns&gt;\n                &lt;ext:Column ID=\"IdColumn\" runat=\"server\" DataIndex=\"Id\" Text=\"DBID\" Visible=\"false\" /&gt;\n                &lt;ext:ComponentColumn ID=\"NumberColumn\" runat=\"server\" DataIndex=\"Number\" OverOnly=\"true\"\n                    Pin=\"true\" Flex=\"1\" Text=\"Number\" Editor=\"true\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:NumberField ID=\"NumberColumnNumberField\" runat=\"server\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"NameColumn\" runat=\"server\" DataIndex=\"Name\" OverOnly=\"true\"\n                    Pin=\"true\" Flex=\"1\" Text=\"Name\" Editor=\"true\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:TextField ID=\"NameColumnTextField\" runat=\"server\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"StatusColumn\" runat=\"server\" DataIndex=\"Status_Id\" OverOnly=\"true\"\n                    Pin=\"true\" Flex=\"1\" Text=\"Status\" Editor=\"true\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:ComboBox ID=\"StatusColumnDropDownBox\" runat=\"server\" QueryMode=\"Local\" Editable=\"false\"\n                            StoreID=\"MilestoneStatusStore\" DisplayField=\"Name\" ValueField=\"ID\" EmptyText=\"Empty\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"PlannedDateColumn\" runat=\"server\" DataIndex=\"PlannedDate\"\n                    OverOnly=\"true\" Pin=\"true\" Flex=\"1\" Text=\"Planned Date\" Editor=\"true\"&gt;\n                    &lt;Renderer Format=\"Date\" FormatArgs=\"'m/d/y'\" /&gt;\n                    &lt;Component&gt;\n                        &lt;ext:DateField ID=\"PlannedDateColumnTextField\" runat=\"server\" Format=\"MM/dd/yyyy\"\n                            EmptyText=\"Empty\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"LatestEstimateColumn\" runat=\"server\" DataIndex=\"LatestEstimate\"\n                    OverOnly=\"true\" Pin=\"true\" Flex=\"1\" Text=\"Latest ETA\" Editor=\"true\"&gt;\n                    &lt;Renderer Format=\"Date\" FormatArgs=\"'m/d/y'\" /&gt;\n                    &lt;Component&gt;\n                        &lt;ext:DateField ID=\"LatestEstimateColumnTextField\" runat=\"server\" Format=\"MM/dd/yyyy\"\n                            EmptyText=\"Empty\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"MilestoneTypeColumn\" runat=\"server\" DataIndex=\"MilestoneType_ID\"\n                    OverOnly=\"true\" Pin=\"true\" Flex=\"1\" Text=\"Milestone Type\" Editor=\"true\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:ComboBox ID=\"MilestoneTypeColumnComboBox\" runat=\"server\" QueryMode=\"Local\" Editable=\"false\"\n                            StoreID=\"MilestoneTypesStore\" DisplayField=\"Name\" ValueField=\"ID\" EmptyText=\"Empty\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"EditColumn\" runat=\"server\" Width=\"30\" PinAllColumns=\"false\"\n                    AutoWidthComponent=\"false\" OverOnly=\"true\" Text=\"Edit\" Sortable=\"False\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:Button ID=\"EditButton\" runat=\"server\" ToolTip=\"Pin Editors\" Icon=\"Pencil\" AllowDepress=\"true\"\n                            EnableToggle=\"true\" Width=\"25\"&gt;\n                            &lt;Listeners&gt;\n                                &lt;Toggle Fn=\"pinEditors\" /&gt;\n                            &lt;/Listeners&gt;\n                        &lt;/ext:Button&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"DeleteColumn\" runat=\"server\" Width=\"30\" PinAllColumns=\"false\"\n                    AutoWidthComponent=\"false\" OverOnly=\"true\" Text=\"Delete\" Sortable=\"False\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:Button ID=\"DeleteButton\" runat=\"server\" ToolTip=\"Delete Milestone\" Icon=\"Delete\"\n                            AllowDepress=\"true\" EnableToggle=\"false\" Width=\"25\"&gt;\n                            &lt;Listeners&gt;\n                                &lt;Click Handler=\"#{MilestonesGridStore}.remove(this.parentMenu.dataRecord)\" /&gt;\n                            &lt;/Listeners&gt;\n                        &lt;/ext:Button&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n            &lt;/Columns&gt;\n        &lt;/ColumnModel&gt;\n        &lt;SelectionModel&gt;\n            &lt;ext:RowSelectionModel runat=\"server\" Mode=\"Single\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Select Handler=\"#{DeleteMilestoneGridButton}.enable();\" /&gt;\n                    &lt;Deselect Handler=\"if (!#{MilestonesGridPanel}.selModel.hasSelection()) { \n                                #{DeleteMilestoneGridButton}.disable();\n                                       }\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:RowSelectionModel&gt;\n        &lt;/SelectionModel&gt;\n        &lt;Buttons&gt;\n            &lt;ext:Button ID=\"AddtoMilestoneGridButton\" runat=\"server\" Text=\"Insert\" Icon=\"Add\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Click Handler=\"#{MilestonesGridStore}.insert(0, {}); #{MilestonesGridPanel}.editingPlugin.startEditByPosition({row:0, column:0});\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:Button&gt;\n            &lt;ext:Button ID=\"DeleteMilestoneGridButton\" runat=\"server\" Text=\"Delete\" Icon=\"Delete\"\n                Disabled=\"true\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Click Handler=\"#{MilestonesGridPanel}.deleteSelected();\n                                    if (!#{MilestonesGridPanel}.hasSelection()) {\n                                        #{DeleteMilestoneGridButton}.disable();\n                                    }\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:Button&gt;\n            &lt;ext:Button ID=\"RefreshMilestonesGridButton\" runat=\"server\" Text=\"RefresH\" Icon=\"Reload\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Click Handler=\"#{MilestonesGridStore}.load();\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:Button&gt;\n            &lt;ext:Button ID=\"SaveMilestoneGridButton\" runat=\"server\" Text=\"Save\" Icon=\"Disk\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Click Handler=\"#{MilestonesGridStore}.sync();\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:Button&gt;\n        &lt;/Buttons&gt;\n    &lt;/ext:GridPanel&gt;\n</code></pre>\n"},{"tags":["c#","mvc","entity-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":1767,"score":5,"question_id":7348663,"title":"C# Entity-Framework: How can I combine a .Find and .Include on a Model Object?","body":"<p>I'm doing the mvcmusicstore practice tutorial. I noticed something when creating the scaffold for the album manager (add delete edit).</p>\n\n<p>I want to write code elegantly, so i'm looking for the clean way to write this.</p>\n\n<p>FYI i'm making the store more generic:</p>\n\n<p>Albums = Items</p>\n\n<p>Genres = Categories</p>\n\n<p>Artist = Brand</p>\n\n<p>Here is how the index is retrieved (generated by MVC):</p>\n\n<pre><code>var items = db.Items.Include(i =&gt; i.Category).Include(i =&gt; i.Brand);\n</code></pre>\n\n<p>Here is how the item for delete is retrieved:</p>\n\n<pre><code>Item item = db.Items.Find(id);\n</code></pre>\n\n<p>The first one brings back all the items and populates the category and brand models inside the item model. The second one, doesn't populate the category and brand.</p>\n\n<p>How can i write the second one to do the find AND populate whats inside (preferably in 1 line)... theoretically - something like:</p>\n\n<pre><code>Item item = db.Items.Find(id).Include(i =&gt; i.Category).Include(i =&gt; i.Brand);\n</code></pre>\n"},{"tags":["cocoa","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12970735,"title":"MVC theory/Cocoa: where to create model?","body":"<p>I have an AppDelegate, an NSWindowController and some Views. What is the best place to define <code>DataModel * data;</code>, initialize <code>[[data alloc] initWithSomething]</code> etc.?</p>\n\n<p>I suppose it must be done in WindowController (.h and .m), since model must be handled by the main controller. Am I right? I've got a small doubt about keeping a pointer to Model in AppDelegate...</p>\n\n<p>Sorry if my terminology is not MVC-correct, I'm just studying...</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12967735,"title":"Redirect action not working","body":"<p>I'm guessing this one's pretty easy to do, but I don't know how, so I figured I'd ask. </p>\n\n<p>I have a delay job in my app that calls a roll_back method in my Order model if something hasn't happened within five minutes. That method both destroys the instance it's called on and, before doing so, does a bunch of related things to associated models. The method is working just great.</p>\n\n<p>The trouble is, once the method is done running, most users will be on the show page for the Order that has just been deleted, and I was hoping to redirect users to a different page once the time ran out and that roll_back method was called. </p>\n\n<p>So I originally just tried this in the rollback method, right after the \"self.destroy\" line.</p>\n\n<pre><code>redirect_to \"/orders/new\", :notice =&gt; \"Blah\"\n</code></pre>\n\n<p>Didn't work, though. And at any rate, some poking around on the internet informed me that actions like redirect should be in the controller instead. </p>\n\n<p>So I instead went and put that line in the Orders Controller's destroy method, right after @order.destroy. I figured when the roll_back method called self.destroy, it'd then do the redirect -- but that didn't work either, I'm guessing because the model destroy doesn't go through the controller. </p>\n\n<p>So I'm not really sure how to do this. All the delay job/rollback stuff is in my model, but I'm apparently not supposed / unable to redirect users from the model. Any idea how to do this?</p>\n\n<hr>\n\n<p>Tried this again, with this in my method, in case it was a routing error (I know orders_path to exist). </p>\n\n<pre><code>def destroy\n    @order = Order.find(params[:id])\n    @order.destroy\n    redirect_to orders_path, notice: \"blah\"\nend\n</code></pre>\n"},{"tags":["mvc","model","controller","formatting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12959823,"title":"Where formatting data ? Model ? Controller?","body":"<p>I need to format data to use them after MySQL request.</p>\n\n<p>Format date (using date library), sort and arrange data (using loop) etc.</p>\n\n<p>Php example (CodeIgniter framework):</p>\n\n<pre><code>$result = $query-&gt;result_array();\n$data = array();\nforeach($result as $key =&gt; $value) {\n    $result[$key]['date'] = px_date_time_format($result[$key]['date'], 'fr');       \n    if ($value['id_parent'] == 0) {\n        $data[$value['id']] = $result[$key];\n    }\n}\n\nforeach($result as $key =&gt; $value) {\n    if ($value['id_parent'] != 0) {\n        $data[$value['id_parent']]['children'][$value['id']] = $value;  \n    }\n}\n\nreturn $data;\n</code></pre>\n\n<p>Where should I format this data? In my Model or my Controller?</p>\n"},{"tags":["php","jquery","ajax","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":10632803,"title":"Why am I getting a 500 Internal Server Error?","body":"<p>I'm learning so far, but this db ajax communication always makes me bang my head against the wall.</p>\n\n<p>This is the controller:</p>\n\n<pre><code>function become_teacher()\n{   \n    $this-&gt;load-&gt;model('class_model');\n    $data = array('user_id' =&gt; $this-&gt;input-&gt;post('user_id'),\n        'group_id' =&gt; $this-&gt;input-&gt;post('user_group') \n    );\n    $this-&gt;class_model-&gt;change_to_teacher($data);\n}\n</code></pre>\n\n<p>Here is the Model:</p>\n\n<pre><code>function change_to_teacher($data)\n{\n    $this-&gt;db-&gt;insert('user_groups', $data);\n    return;     \n}\n</code></pre>\n\n<p>And here is the script:</p>\n\n<pre><code>&lt;p&gt;Om du vill kunna skapa lektionen bli lrare. &lt;/p&gt;\n&lt;button class=\"btn teacher\"&gt;Bli lrare&lt;/button&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var user_id = $('.meta').text().trim();\n    var user_group = '4';\n    $('.teacher').on('click', function() {\n        $.ajax({\n            type: \"POST\",\n            url: \"http://localhost:8888/testing/index.php/cours/become_teacher\",\n            data: \"{ user_id: user_id, user_group: user_group }\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>The <code>var user_id</code> is getting its data from the header file, not included here.\nAny help would be much appreciated!</p>\n"},{"tags":["visual-studio-2010","visual-studio","mvc","ext.net"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12957048,"title":"How to create a MVC Ext.Net project in Visual Studio?","body":"<p>This is my first time using Ext.Net and I just can't figure out how to get set up.</p>\n\n<p>When I open Visual Studio, do I want to make a new \"Project\" or \"Web Site\"?</p>\n\n<p>Choosing \"Project\" gives me the option to use MVC, but I can't figure out how to use Ext.Net from there. </p>\n\n<p>The little bit of information I was able to find about getting started with Ext.Net tells me to make a website so I can drag \"ResourceManager\" and \"Window\" onto a .aspx page. But then, I don't know how to make it MVC from there.</p>\n\n<p>If someone could just give me the basic steps to get a blank website running, that would be great.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12964926,"title":"Load CodeIgniter models in Controller constructor","body":"<p>Coming from C#/.NET MVC 3/4, I'm not really used to CodeIgniter's implementation of models.</p>\n\n<p>The documentation shows models being loaded within controller methods, however I'm using the model in almost every method and my model is storing data used across its methods in properties via its constructor.</p>\n\n<p>Is there any reason  NOT to instantiate the model in the controller constructor that I'm overlooking?</p>\n"},{"tags":["vb.net","entity-framework","mvc","web-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12964520,"title":"MVC4 Web Api not returning Entity Framework IEnumerable()","body":"<p>I have a simple table as follows mapped with Entity Framework. I am trying to return just a very basic call of IEnumerable(Of MyTableObject) however MVC API is just bombing out with error code 500. When I try to return a IEnumerable(Of String) and select just a single column it does the same.</p>\n\n<p><img src=\"http://i.stack.imgur.com/NXthz.png\" alt=\"Entity Framework Model\"></p>\n\n<p>I try to return this model with the following code.</p>\n\n<pre><code>' GET api/chatlog\nPublic Function GetValues() As IEnumerable(Of ChatLog)\n    Using mcEntity As New McEntities\n\n        Return mcEntity.ChatLogs.ToList()\n    End Using\nEnd Function\n</code></pre>\n\n<p>Unfortunate for me with the return data. I get nothing?</p>\n\n<p>Does MVC Web API not support passing objects from EF down the pipe or do I manually have to Serialize this into XML?</p>\n\n<p>Fiddler throws \"HTTP/1.1 500 Internal Server Error\"</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","nested-forms"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":42,"score":0,"question_id":12963336,"title":"Nested model/form doesn't create an entry","body":"<p>While delving into ruby's nested models I encountered an issue.</p>\n\n<p>Consider the following scenario, </p>\n\n<p>I have the following models:</p>\n\n<ul>\n    <li>Author</li>\n    <li>Book</li>\n</ul>\n\n<p>With the following specifications:</p>\n\n<p><b>Author:</b></p>\n\n<pre><code>class Author &lt; ActiveRecord::Base\n  attr_accessible :name\n  has_many :books, dependent: :destroy\n\n  accepts_nested_attributes_for :books #I read this is necessary here: http://stackoverflow.com/questions/12300619/models-and-nested-forms\n\n  # and some validations...\nend\n</code></pre>\n\n<p><b>Book:</b></p>\n\n<pre><code>class Book &lt; ActiveRecord::Base\n  attr_accessible :author_id, :name, :year\n  belongs_to :author\n\n  #and some more validations...\nend\n</code></pre>\n\n<p><strong>I would like to add a book to an author. Here is my authors_controller:</strong></p>\n\n<pre><code>def new_book\n  @author = Author.find(params[:id])\nend\n\ndef create_book\n  @author = Author.find(params[:id])\n  if @author.books.create(params[:book]).save\n    redirect_to action: :show\n  else\n    render :new_book\n  end\nend\n</code></pre>\n\n<p><strong>And this is the form with which I try doing it:</strong></p>\n\n<pre><code>&lt;h1&gt;Add new book to &lt;%= @author.name %&gt;'s collection&lt;/h1&gt;\n&lt;%= form_for @author, html: { class: \"well\" } do |f| %&gt;\n    &lt;%= fields_for :books do |b| %&gt;\n        &lt;%= b.label :name %&gt;\n        &lt;%= b.text_field :name %&gt;\n        &lt;br/&gt;\n        &lt;%= b.label :year %&gt;\n        &lt;%= b.number_field :year %&gt;\n    &lt;% end %&gt;\n    &lt;br/&gt;\n    &lt;%= f.submit \"Submit\", class: \"btn btn-primary\" %&gt;\n    &lt;%= f.button \"Reset\", type: :reset, class: \"btn btn-danger\" %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><b>Problem:</b>\nWhen I type in the data and click \"submit\" it even redirects me to the correct author, but it doesn't save a new record for that author.\nAfter a lot of research I can't seem to find what I am doing wrong here.</p>\n"},{"tags":["mvc","controller","use-case"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12957428,"title":"MVC, controller - use cases","body":"<p>I've learned that you should set up the controller-class in a MVC-OOD as a use case, from top to bottom in only one method that run the MVC-classes.</p>\n\n<p>Is it OK to use different methods in one controller to get more control and better overview?</p>\n\n<p>Let's say you wanna run a controller that will display a login form (getting the html etc from the View). And the same controller will also display a log-out button IF the user is NOT logged in.\nThis could be done with a single method in the controller, but using two methods seems better. One method to call if you want the login form, and one to call if you want to log-out button.\n(just an example)</p>\n\n<p>So, what does the pros say. Should each controller contain one \"use case\" method only, or could it be several?</p>\n"},{"tags":["javascript","mvc","architecture"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":606,"score":3,"question_id":1587037,"title":"How to structure Javascript architecture to complement a PHP MVC web app?","body":"<p>I am working on a new JavaScript architecture for a web app iteration. The previous iteration had lots of inline code, scattered includes, no directory structure for .js files and everything was in the global namespace. I am aiming to: keep the script includes in the footer, keep everything in an application namespace/object, add organization to the .js files and minify all the application specific files in to one bundle.js</p>\n\n<p>I am trying to take a modular approach based on Nicholas Zakas: Scalable JavaScript Application Architecture <a href=\"http://www.yuiblog.com/blog/2009/09/17/video-bayjax-sept-09/\" rel=\"nofollow\">http://www.yuiblog.com/blog/2009/09/17/video-bayjax-sept-09/</a></p>\n\n<p>the site is currently structred like so</p>\n\n<pre><code>/app\n /models\n /views\n   /home\n   /auth\n   /meta\n     about.tpl\n     contact.tpl\n     privacy.tpl\n /controllers\n   home.php\n   auth.php\n   meta.php\n /public\n  /js\n   core.js\n   /modules\n     module files here\n   /jquery\n     jqueryplugins here\n   /controllers\n     home.js\n     auth.js\n     meta.js\n</code></pre>\n\n<p>the controllers have methods which correspond to our url routing and view rendering. For example <code>http://localhost/meta/contact</code> would call the \"contact\" action on the \"meta\" controller and render the meta/contact template.</p>\n\n<p>I am planning the js architecture around a single initialization call to the apps global object passing it the controller and method as arguments i.e. </p>\n\n<pre><code>localwebapp.init(controller, method);\n</code></pre>\n\n<p>At this point in the design I am struggling on inheritance and module implementation. Some modules will be global and be used throughout all the site, some modules will be used through out specific controllers, and some modules will be on controller actions only.\nModules are independent and will not communicate with each other they will need to be assigned to a \"sandbox\" which they will check with for event triggers</p>\n\n<p>I'm thinking I will need sandbox and module classes. The controller scripts will basically be a few lines of modules being assigned to the sandbox and initialized.</p>\n\n<p>Let me know if I am reinventing a wheel here. Any direction is much appreciated. I have looked in to javascript MVC frame works like JavaScriptMVC but it looks like it is not what I need</p>\n"},{"tags":["c#","mvc","asp.net-mvc-routing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":248,"score":0,"question_id":9082581,"title":"Dynamically adding to RouteTable isnt working","body":"<p>I am currently writing a news article aspect to an application and I adding the new route (for the new article) to my RouteTable, which appears to add fine, but the routes are unreachable?</p>\n\n<p>The code I am using is as follows:</p>\n\n<pre><code>var routes = RouteTable.Routes;\nusing (routes.GetWriteLock())\n{\n    var url = contentHelper.GetPageUrl(page);\n    routes.MapRoute(page.Id.ToString(), url, new { controller = \"Cms\", action = \"Index\", id = url }, new[] { \"Web.Controllers.CmsController\" });\n}\n</code></pre>\n\n<p>The new Url, as I previously said, is added to the RouteTable.Routes but I cant get to the page. After a restart it is picked up by RegisterRoutes in the Global.asax and works fine.</p>\n\n<p>Any light that you can shed on this would be great, as I want to achieve this without forcing an app restart</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is the RegisterRoutes from my global.asax   </p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n        routes.MapRoute(\"LogOff\", \"LogOff\", new { controller = \"Account\", action = \"LogOff\" });\n\n        routes.MapRoute(\n                \"News\", // Route name\n                \"News/\",// URL with parameters\n                new { controller = \"NewsPage\", action = \"Index\" }, // Parameter defaults\n                new[] { \"Web.Controllers.NewsController\" }\n            );\n\n        //register all content pages\n        var urls = new ContentPageHelper().GetAllUrls();\n        foreach (var url in urls)\n        {\n            routes.MapRoute(url.Key.ToString(), url.Value, new { controller = \"Cms\", action = \"Index\", id = url.Key }, new[] { \"Web.Controllers.CmsController\" });\n        }\n\n        routes.MapRoute(\n            \"Default\", // Route name\n            \"{controller}/{action}/{id}\",// URL with parameters\n            new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults\n        );\n    }\n</code></pre>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","asp.net-mvc-2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":101,"score":1,"question_id":12960490,"title":"TextBox Value gets blank on Submit","body":"<p>I created a application in MVC2 by choosing (ASP.Net MVC 2 Web Application). This provided some Home/About Controllers/Models/Views.</p>\n\n<h2>I additionally created a Model with the Name of Index like below...</h2>\n\n<pre><code>namespace MvcApplication1.Models\n{\n    public class Index\n    {\n        [DataType(DataType.Text)]\n        public String Name { get; set; }\n    }\n}\n</code></pre>\n\n<h2>Following is my Index View</h2>\n\n<pre><code>&lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"TitleContent\" runat=\"server\"&gt;\n    Index\n&lt;/asp:Content&gt;\n&lt;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n    &lt;% using (Html.BeginForm()) \n        {%&gt;\n    &lt;%:Html.TextBoxFor(x=&gt; x.Name) %&gt;\n    &lt;input type=\"submit\" name=\"Click here\" /&gt;\n    &lt;%} %&gt;\n&lt;/asp:Content&gt;\n</code></pre>\n\n<h2>Following is my Controller</h2>\n\n<pre><code>[HttpPost]\npublic ActionResult Index(Index Model)\n{\n      ViewData[\"Message\"] = \"Welcome to ASP.NET MVC!\";\n      return View();\n}\n</code></pre>\n\n<h2>Question</h2>\n\n<p>When I keep the Index controller like below. and If I click the submit button. This is clearing the TextBox COntrols. Like below</p>\n\n<pre><code>    public ActionResult Index()\n    {\n          ViewData[\"Message\"] = \"Welcome to ASP.NET MVC!\";\n          return View();\n    }\n</code></pre>\n\n<p>TextBox will not be cleared in case in incorporating the Model as Parameter in the Action method...</p>\n\n<p>What's the reason for this behaviour ?</p>\n"},{"tags":["database","mvc","activerecord","yii","models"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":856,"score":1,"question_id":9835160,"title":"Yii ActiveRecord Not Working Properly","body":"<p>I created a a model using Gii code generator to ensure that I will not have any mistakes in creating my models.\nand this was the code that was generated.</p>\n\n<pre><code>&lt;?php\n\n/**\n * This is the model class for table \"siteconfig\".\n *\n * The followings are the available columns in table 'siteconfig':\n * @property integer $config_id\n * @property string $key\n * @property string $value\n * @property string $update_time\n */\nclass SiteConfigurationRecord extends CActiveRecord\n{\n    /**\n     * Returns the static model of the specified AR class.\n     * @param string $className active record class name.\n     * @return SiteConfigurationRecord the static model class\n     */\n    public static function model($className=__CLASS__)\n    {\n        return parent::model($className);\n    }\n\n    /**\n     * @return string the associated database table name\n     */\n    public function tableName()\n    {\n        return 'siteconfig';\n    }\n\n    /**\n     * @return array validation rules for model attributes.\n     */\n    public function rules()\n    {\n        // NOTE: you should only define rules for those attributes that\n        // will receive user inputs.\n        return array(\n            array('key, value, update_time', 'required'),\n            array('key', 'length', 'max'=&gt;255),\n            // The following rule is used by search().\n            // Please remove those attributes that should not be searched.\n            array('config_id, key, value, update_time', 'safe', 'on'=&gt;'search'),\n        );\n    }\n\n    /**\n     * @return array relational rules.\n     */\n    public function relations()\n    {\n        // NOTE: you may need to adjust the relation name and the related\n        // class name for the relations automatically generated below.\n        return array(\n        );\n    }\n\n    /**\n     * @return array customized attribute labels (name=&gt;label)\n     */\n    public function attributeLabels()\n    {\n        return array(\n            'config_id' =&gt; 'Config',\n            'key' =&gt; 'Key',\n            'value' =&gt; 'Value',\n            'update_time' =&gt; 'Update Time',\n        );\n    }\n\n    /**\n     * Retrieves a list of models based on the current search/filter conditions.\n     * @return CActiveDataProvider the data provider that can return the models based on the search/filter conditions.\n     */\n    public function search()\n    {\n        // Warning: Please modify the following code to remove attributes that\n        // should not be searched.\n\n        $criteria=new CDbCriteria;\n\n        $criteria-&gt;compare('config_id',$this-&gt;config_id);\n        $criteria-&gt;compare('key',$this-&gt;key,true);\n        $criteria-&gt;compare('value',$this-&gt;value,true);\n        $criteria-&gt;compare('update_time',$this-&gt;update_time,true);\n\n        return new CActiveDataProvider($this, array(\n            'criteria'=&gt;$criteria,\n        ));\n    }\n}\n?&gt;\n</code></pre>\n\n<p>so i use this model in a controller in this way</p>\n\n<pre><code>$etona = new SiteConfigurationRecord();\n            $crit = new CDbCriteria();\n            $crit-&gt;select = \"value\";\n            $crit-&gt;condition = \"key=:key\";\n            $crit-&gt;params = array(\":key\"=&gt;\"sitename\");\n            $etona = $etona-&gt;find($crit);\n</code></pre>\n\n<p>But a strange error occurs</p>\n\n<blockquote>\n  <p>CDbCommand failed to execute the SQL statement: SQLSTATE[42000]:\n  Syntax error or access violation: 1064 You have an error in your SQL\n  syntax; check the manual that corresponds to your MySQL server version\n  for the right syntax to use near 'key='sitename' LIMIT 1' at line 1.\n  The SQL statement executed was: SELECT value FROM <code>siteconfig</code> <code>t</code>\n  WHERE key=:key LIMIT 1</p>\n</blockquote>\n\n<p>Where I went wrong? please help me</p>\n"},{"tags":["c++","mvc","treeview","gtk","gtkmm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12926440,"title":"Gtk::TreeModel::iterator usage when implementing TreeModel","body":"<p>I am trying to implement own TreeModel for use in TreeView.</p>\n\n<p>I have subclassed Gtk::TreeModel and currently trying to override virtual methods with my own implementation.</p>\n\n<p>But i have a problem with very basics of it. Say, we have</p>\n\n<pre><code>virtual bool iter_next_vfunc(const iterator &amp;iter, iterator &amp;iter_next) const;\n</code></pre>\n\n<p>function where i am supposed to read <code>iter</code> variable, somehow understand where it points to and based on this, fill <code>iter_next</code> with point next to the current. </p>\n\n<p>But i do not understand how to do this. </p>\n\n<p>What is 'index', 'pointer' or whatever based on what i could understand where <code>iter</code> is pointing to?</p>\n"},{"tags":["php","mvc","templates","magento","content-management-system"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":67,"score":0,"question_id":12957035,"title":"Magento : Page selection is missing with custom product list","body":"<p>I have written a controller which generates a product collection based on the requested category and a attribute filter.</p>\n\n<p>I generate the render with this code :</p>\n\n<pre><code>public function AfficherCollection($collection){\n if ($collection){\n  Mage::getSingleton('catalog/product_visibility')-&gt;addVisibleInCatalogFilterToCollection($collection);       \n  $magento_block = Mage::getSingleton('core/layout');\n  $productsHtml  = $magento_block-&gt;createBlock('catalog/product_list');\n  $productsHtml -&gt;setTemplate('catalog/product/list.phtml')-&gt;setCollection($collection);\n  echo $productsHtml-&gt;toHTML();\n }  \n}\n</code></pre>\n\n<p>The render works well but the problem is the page selector is missing.\nBut if I call my page with <code>?p=2</code> in page argument ; I have the desired products, so there are not any functional problems but still a page layout problem.</p>\n\n<p>Have you got an idea ?\nThank you!</p>\n"},{"tags":["ajax","spring","mvc","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12957193,"title":"Spring MVC 3.0 - restrict what gets routed through the dispatcher servlet","body":"<p>I want to use Spring MVC 3.0 to build interfaces for AJAX transactions.  I want the results to be returned as JSON, but I don't necessarily want the web pages to be built with JSP.  I only want requests to the controllers to be intercepted/routed through the DispatcherServlet and the rest of the project to continue to function like a regular Java webapp without Spring integration.</p>\n\n<p>My thought was to define the servlet-mapping url pattern in web.xml as being something like \"/controller/*\", then have the class level @RequestMapping in my controller to be something like @RequestMapping(\"/controller/colors\"), and finally at the method level, have @RequestMapping(value = \"/controller/colors/{name}\", method = RequestMethod.GET). </p>\n\n<p>Only problem is, I'm not sure if I need to keep adding \"/controller\" in all of the RequestMappings and no matter what combo I try, I keep getting 404 requested resource not available errors.</p>\n\n<p>The ultimate goal here is for me to be able to type in a web browser \"http://localhost:8080/myproject/controller/colors/red\" and get back the RGB value as a JSON string.</p>\n"},{"tags":["mvc","node.js","express"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12943553,"title":"What is the difference between a node.js express route and a controller?","body":"<p>Is there anything that is different or more powerful with a traditional controller over an express route?  </p>\n\n<p>If you have an express app and define models, does it become an MVC application, or is there more necessary?</p>\n\n<p>I'm just wondering if I'm missing out on extra/easier functionality in my node express apps by not upgrading to a more legitimate 'controller'.  If there is such a thing.</p>\n\n<p>Thanks!</p>\n\n<p>Edit:  To clarify, if you use a route like so:</p>\n\n<pre><code>// routes/index.js\nexports.module = function(req, res) {\n  // Get info from models here, \n  res.render('view', info: models);\n}\n</code></pre>\n\n<p>What makes it any different from a controller?  Is a controller able to do more?  </p>\n"},{"tags":["javascript","mvc","data-binding","angularjs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1133,"score":2,"question_id":11616636,"title":"two-way filtering in angular.js?","body":"<p>One of the interesting things Angular.js can do is apply a filter to a particular databinding expression, which is a convenient way to apply, for example, culture-specific currency or date formatting of a model's properties. It is also nice to have computed properties on the scope. The problem is that neither of these features work with two-way databinding scenarios - only one-way databinding from the scope to the view. This seems to be a glaring omission in an otherwise excellent library - or am I missing something?</p>\n\n<p>In KnockoutJS, I could create a read/write computed property, which allowed me to specify a pair of functions, one which is called to get the value of the property, and one which is called when the property is set. This allowed me to implement, for example, culture-aware input - letting the user type \"$1.24\" and parsing that into a float in the ViewModel, and have changes in the ViewModel reflected in the input. </p>\n\n<p>The closest thing I could find similar to this is the use of $scope.$watch(propertyName, functionOrNGExpression); This allows me to have a function invoked when a property in the $scope changes. But this doesn't solve, for example, the culture-aware input problem. Notice the problems when I try to modify the $watched property within the $watch method itself:</p>\n\n<p><a href=\"http://jsfiddle.net/gyZH8/2/\" rel=\"nofollow\">http://jsfiddle.net/gyZH8/2/</a></p>\n\n<p>Edit: fixed the link</p>\n\n<p>The input element gets very confused when the user starts typing. I improved it by splitting the property into two properties, one for the unparsed value and one for the parsed value:</p>\n\n<p><a href=\"http://jsfiddle.net/XkPNv/1/\" rel=\"nofollow\">http://jsfiddle.net/XkPNv/1/</a></p>\n\n<p>Edit: fixed the link</p>\n\n<p>This was an improvement over the first version, but is a bit more verbose, and notice that there is still an issue of the parsedValue property of the scope changes (type something in the second input, which changes the parsedValue directly. notice the top input does not update). This might happen from a controller action or from loading data from a data service.</p>\n\n<p>Is there some easier way to implement this scenario using Angular.js? Am I missing some functionality in the documentation? </p>\n"},{"tags":["php","mysql","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":68,"score":2,"question_id":12956099,"title":"MVC - if query in a model of an object graps all needed data, can child object be without model?","body":"<p>Consider the following part of a web-app:\nA wall which contains an unknown number of blocks, which themselves contain an unknown number of boxes.</p>\n\n<p>My approach (yet on paper only, sorry no code) will be to create a <code>class wall</code>, a <code>class block</code> and a <code>class box</code>. (wall contains blocks contain boxes). (each block and each box may have different param values)</p>\n\n<p>In my database, I have information about the wall, about the blocks and about the boxes in separate tables. Yet, with only one large (but optimized) query I can grab all data I need. (each box has the id of its parent block). Correct me if i'm wrong, but lowering the number of queries and relying more on php stuff seems to be the right way to improve speed. </p>\n\n<p>Based on that, I was wondering :\nFollowing an MVC pattern/structure, should <code>block</code> and <code>box</code> also have a Model, even if the query in my wall Model already grabs all the needed information? Or is that just not the right way to go?</p>\n\n<p>Thank you!</p>\n"},{"tags":["asp.net-mvc","mvc","azure","acs","iprincipal"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12486649,"title":"Extending Azure ACS Claims for MVC Sessions","body":"<p>I am developing an MVC 4 Application to be hosted in Azure and want to use their ACS service for authentication. Once the user is authenticated I will use the resulting claim details to correlate to my local records. Subsequent to that, I would like to extend the claimset to include additional claims that represent local authorizations which my application would use for authorization decisions. I assume I need to replace the Principle but I'm not sure where/when to do this in MVC and want to avoid breaking any of the authentication plumbing which would normally be used throughout the life of the session. Can anyone shed some light on this? </p>\n"},{"tags":["php","mvc","symfony2","twig"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12953444,"title":"Symfony - Show price based on Authentication Role","body":"<p>I have different Authentication Roles set up in Symfony using the Security Bundle.</p>\n\n<pre><code>* Wholesale\n* Detailing\n* Public\n</code></pre>\n\n<p>Based on the authentication that the user is logged in with I want to display different prices for products.</p>\n\n<p>In my Product entity I have </p>\n\n<pre><code>$protected wholesalePrice;\n$protected detailingPrice;\n$protected publicPrice;\n</code></pre>\n\n<p>Can I use one view to get the price for that specific Authentication Role or should I create 3 different views?</p>\n"},{"tags":["javascript","asp.net-mvc","mvc","tooltip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":12217972,"title":"custom tooltip in MVC on a table - show data per line","body":"<p>I am struggling to get an intuitive tooltip to display per line in my MVC application.</p>\n\n<pre><code>   @foreach (var item in Model)\n{\n\n    int countSDOL = (item.sdolDetails.Count(i =&gt; i.userid == item.id));\n    int workFlow = (item.workflows.Count(i =&gt; i.actionOutstanding == true));     \n    @Html.HiddenFor(modelItem =&gt; item.id)\n    &lt;tr style=\"@(workFlow &gt; 0 ? \"Background-color:#87BEF5\" : \"\")\"&gt;\n    &lt;td&gt;\n         @if (workFlow &gt; 0)\n            {     \n\n                &lt;button id=\"quickButton\" class=\"classname\" value=\"@item.id\" data-task-id=\"@item.id\"&gt;Actions&lt;/button&gt;\n            }\n    &lt;/td&gt;\n    &lt;td&gt;\n             &lt;div class=\"tooltip\"&gt;\n               @foreach (var role in item.userRoles)\n               {\n                    &lt;div title=\"\"&gt;\n                    @Html.DisplayFor(roles =&gt; role.role.roleDescription) \n                    &lt;/div&gt;\n               }                        \n          &lt;/div&gt;  \n     &lt;/td&gt;\n      &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.title)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.forename)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.surname)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.employeeNumber)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.sdolInitiation)\n        &lt;/td&gt;\n        &lt;td align=\"center\"&gt;\n            @if (item.trainingTrackerPassed.Equals(true))\n            {\n                &lt;img src=\"../../Content/tick.png\" /&gt;\n            }\n            else\n            {\n                &lt;img src=\"../../Content/cross.PNG\" /&gt;\n            }\n        &lt;/td&gt;\n        &lt;td align=\"center\"&gt;\n        @if (item.userValid.Equals(true))\n        {\n                &lt;img src=\"../../Content/tick.png\" /&gt;\n        }\n        else\n        {\n                &lt;img src=\"../../Content/cross.PNG\" /&gt;\n        }\n\n        &lt;/td&gt;\n        &lt;td align=\"left\"&gt;\n            @Html.ActionLink(\"Details\", \"Details\", new { id = item.id }) |\n            @Html.ActionLink(\"Roles\", \"Index\", \"Roles\", new { id = item.id }, null) |\n           @if (countSDOL == 0)\n           {\n            @Html.ActionLink(\"SDOL\", \"Create\", new { id = item.id }, null)                                       \n           }\n           else\n           {\n            @Html.ActionLink(\"SDOL\", \"Sdol\", new { id = item.id }, null)   \n           }        \n        &lt;/td&gt;\n        &lt;td&gt;\n         &lt;a id=\"download_now\"&gt;show&lt;/a&gt;   \n        &lt;/td&gt;\n    &lt;/tr&gt;\n\n}\n</code></pre>\n\n<p>Above is my view. Notice the nested @foreach in there. This shows for each row in the table a list of roles assigned for that row. </p>\n\n<p>What I really need to do is show this div containing the roledescriptions as a tool tip per line. I tried downloading and using jquery tools and managed to get it to display a tool tip, but it would only work on the first row of the table. each subsequent row wouldn't display a tooltip. looking at the examples on their site, there is only examples of tooltip one value for an entire table.. has anyone done what I am trying to achieve??</p>\n\n<p>Many thanks</p>\n"},{"tags":["objective-c","ios","mvc","core-data","gridview"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":215,"score":3,"question_id":12841635,"title":"How to implement more than one controller in objective C","body":"<p>First of all I don't know If controller is the right word. What I want to achieve is this.</p>\n\n<pre><code>   @interface ClubViewController : CoreDataTableViewController :NRGridViewController\n   {\n</code></pre>\n\n<p>I know that this is not possible in objective-C. But is there a way to work around this? \nBecause I want to use CoreDateTableViewController and NRGridViewController.</p>\n\n<p>Kind regards</p>\n\n<p>Stef\n<strong>EDIT</strong></p>\n\n<p>This is how my storyboard Hierarchy looks like.</p>\n\n<pre><code>-ViewController\n  -TableView\n      -View\n      -TableViewCell\n</code></pre>\n\n<p>So I have a tableview Controller but above this tableview controller you find a small view with three buttons. When I push on button 1 I want to take the tableview away and draw a gridView with the NRGridview Controller. But when I push on button 2 and 3 I fill up my tableview using the CoreDataTableViewController. </p>\n\n<p>I hope this explains more my problem.</p>\n"},{"tags":["asp.net-mvc","mvc","design-patterns","architecture","orchardcms"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12926934,"title":"Modular enterprise architecture using MVC and Orchard CMS","body":"<p>I'm making a large scale MVC application using Orchard. And I'm going to be separating my logic into modules. I'm also trying to heavily decouple the application for maximum extensibility and testability.</p>\n\n<p>I have a rudimentary understanding of IoC, Repository Pattern, Unit of Work pattern and Service Layer pattern.</p>\n\n<p>I've made myself a diagram. I'm wondering if it is correct and if there is anything I have missed regarding an extensible application.</p>\n\n<p>Note that each module is a separate project.</p>\n\n<p><img src=\"http://i.stack.imgur.com/b8da2.png\" alt=\"Architecture diagram\"></p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>So I have many UI modules that use the db module, that's why they've been split up. There are other services the UI modules will use. The UI modules have been split up because they will be made over time, independent of each other. </p>\n"},{"tags":["php","json","mvc","kohana"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12942815,"title":"Marshalling information from JSON into MVC model classes","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12902971/php-mvc-convert-json-to-model-data\">PHP MVC - Convert JSON to Model data</a>  </p>\n</blockquote>\n\n\n\n<p>Is there an easy way using vanilla PHP, a PHP library, or Kohana to easily marshall information from a json encoded object into a Kohana MVC model object? The json_encoded object has the same fields as the model object, but none of the functionality. Is there a generally accepted way of avoiding this silly dance? </p>\n\n<p>It just feels like I am constantly writing code to move data around with code like:</p>\n\n<pre><code>$array = json_decode(returnsObject());\n$model = Model::factory(\"model\");\n$model-&gt;field1 = $array['field1'];\n$model-&gt;field2 = $array['field2'];\n.....\n</code></pre>\n\n<p>Now obviously I have this in a method, but it seems outlandish that there is not a better method of doing this.</p>\n"},{"tags":["java","spring","mvc","mvvm","architecture"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":171,"score":4,"question_id":12883759,"title":"Maintaining Clean Architecture in Spring MVC with a data-centric approach","body":"<h1>Maintaining Clean Architecture in Spring MVC with a data-centric approach</h1>\n\n<p>I'm trying to map out the architecture for the front-end of a new Java-based web app (portal type application) we are making at work. I want to get this right from day one, and I would like to kick off a discussion here to help me implement Uncle Bob's <a href=\"http://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"nofollow\">Clean Architecture</a> in my architectural design.</p>\n\n<p>Here's a quick run-down of our tech stack, top to bottom (the technology isn't importance, the structure is):</p>\n\n<ul>\n<li>Oracle Database</li>\n<li>Oracle Service Bus exposing services using WSDLs</li>\n<li>JAX-WS generated Java-classes from the WSDLs (let's call this the \"generated service layer\")</li>\n<li>A Domain module consisting of POJOs mapped to the generated data objects</li>\n<li>A Consumer-module exposing the \"generated service layer\" to the front-end application</li>\n<li>A Spring MVC based front-end module using FreeMarker to render the views</li>\n</ul>\n\n<p>A key point:</p>\n\n<blockquote>\n  <p>In particular, the name of something declared in an outer circle must not be mentioned by the code in the an inner circle. That includes, functions, classes. variables, or any other named software entity.</p>\n</blockquote>\n\n<p>Attempting to adhere to Bob's Clean Architecture, I've gone back and forth a bit with myself regarding where to place the <em>application logic</em>, namely the \"Use Case\"-layer in his architecture.</p>\n\n<p>Here is the approach I've come up with:</p>\n\n<h2>Layer 1 - Entities</h2>\n\n<blockquote>\n  <p>Entities encapsulate Enterprise wide business rules. </p>\n</blockquote>\n\n<p>This is where our Domain module containing the <em>domain-objects</em> lives, these are self-containing objects with minimal dependencies on each other. Only logic pertaining to the objects themselves may live on these domain objects, and no use-case specific logic.</p>\n\n<p>Access to our database is exposed via WSDLs using a service bus that transforms the data, as opposed to an ORM like JPA or Hibernate. Because of this, we do not have \"entities\" in the traditional sense (with Ids), but a <em>data-centric approach</em> making this layer a data access layer, presented to the rest of the application by the Consumer-module.</p>\n\n<h2>Layer 2 - Use Cases</h2>\n\n<blockquote>\n  <p>The software in this layer contains application specific business rules.</p>\n</blockquote>\n\n<p>This is where logic specific to our application's use cases lives. Changes to this layer should not affect the data access layer (layer 1). Changes to the GUI or framework implementation (Spring MVC) should not affect this layer.</p>\n\n<p><strong>This is where it gets a little tricky:</strong>\nSince our data access layer (in layer 1) must be kept clean of application logic, we need a layer that facilitates use of that layer in a fashion that suits the use cases. One solution I've found to this problem is the use a variant of the \"<em>MVVM-pattern</em>\" that I choose to call <em>MVC-VM</em>. See below for an explanation. The \"VM\"-part of this lives in this Use Case-layer, represented by <code>*ViewModel</code>-classes that encapsulate this Use Case-specific logic.</p>\n\n<h2>Layer 3 - Interface Adapters</h2>\n\n<blockquote>\n  <p>The software in this layer is a set of adapters that convert data from the format most convenient for the use cases and entities, to the format most convenient for some external agency such as the Database or the Web.</p>\n</blockquote>\n\n<p>This is where the MVC-architecture of our GUI lives (the \"MVC\" in our \"MVC-VM\"). Essentially this is when the <code>Controller</code>-classes get data from the <code>*ViewModel</code>-classes and puts it in Spring MVC's <code>ModelMap</code> ojects that are used directly by the FreeMarker-templates in the View.</p>\n\n<p>The way I see it, the servicebus would in our case also fall in under this layer.</p>\n\n<h2>Layer 4 - Frameworks and Drivers</h2>\n\n<blockquote>\n  <p>Generally you dont write much code in this layer other than glue code that communicates to the next circle inwards.</p>\n</blockquote>\n\n<p>This layer is really just a configuration-layer in our application, namely the Spring configuration. This would for example be where we specify that FreeMarker is used to render the view.</p>\n\n<hr>\n\n<h3>Model View ViewModel Pattern</h3>\n\n<blockquote>\n  <p>MVVM facilitates a clear separation of the development of the graphical user interface (either as markup language or GUI code) from the development of the business logic or back end logic known as the model (also known as the data model to distinguish it from the view model). The view model of MVVM is a value converter meaning that the view model is responsible for exposing the data objects from the model in such a way that those objects are easily managed and consumed.</p>\n</blockquote>\n\n<p>More on the MVVM-pattern at <a href=\"http://en.wikipedia.org/wiki/Model_View_ViewModel\" rel=\"nofollow\">Wikipedia</a>.</p>\n\n<p>The MVC-VM roles would be fulfilled in our application like so:</p>\n\n<ul>\n<li><strong>Model</strong> - represented simply by the <code>ModelMap</code> datastructure in Spring MVC that is used by the view templates.</li>\n<li><strong>View</strong>  - FreeMarker templates</li>\n<li><p><strong>Controller</strong> Spring's <code>Controller</code>-classes that directs <em>HTTP URL requests</em> to specific <em>handlers</em> (and as such functions as a FrontController). The handlers in these classes are responsible for fetching data from the use case-layer and pushing it out to the view templates when showing data(HTTP <code>GET</code>), as well as sending data down for storing (HTTP <code>POST</code>). This way it essentially functions as a <em>binder</em> between the ViewModel and View, using the Model.</p></li>\n<li><p><strong>ViewModel</strong> - These classes are responsible for 1) structuring data from the data access layer in a fashion that is usable by the View and 2) treat data-input from the View. \"Treat\" means to validate and to break down the data so that it can be sent down the stack for storing. This layer would take form as <code>&lt;UseCase&gt;VM</code>-classes in a <code>viewmodel</code> package in our Spring MVC front-end module.</p></li>\n</ul>\n\n<p>A key component here is the implicit binding that happens in Spring MVC between <code>ModelMap</code> and the FreeMarker-templates. The templates only use the model (<code>ModelMap</code>s), where the controller has put the data in a format it can use. That way we can make templates like so:</p>\n\n<pre><code>&lt;body&gt;\n  &lt;h1&gt;Welcome ${user}!&lt;/h1&gt;\n  &lt;p&gt;Our latest product:\n  &lt;a href=\"${latestProduct.url}\"&gt;${latestProduct.name}&lt;/a&gt;!\n&lt;/body&gt;\n</code></pre>\n\n<hr>\n\n<p>I apologize for the verbose explanation, but I could not explain this (relatively simple) architecture in fewer words. </p>\n\n<p>I would greatly appreciate some input on my approach here - am I on the right track? Does the MVC-VM thing make sense? Am I violating any Clean Architecture Principles?</p>\n\n<p>There are of course many solutions to this, but I am trying to find a solution that is 1) not over-engineered and 2) adheres to the principles of Bob's Clean Architecture.</p>\n\n<hr>\n\n<h2>Update:</h2>\n\n<p>I think the key issue that puts me off here is what form the \"Use case\" layer takes in this application. Remember we have an MVC front-end that gets data from a data access layer. If the MVC part fits in Bob's \"Interfaces adapters\", and the domain models of the data layer fit in Bob's \"Entities\" layer, then what do I call the use case classes that implement application logic? I am tempted to just call them <code>&lt;UseCase&gt;Model</code>s and put them in the MVC project, but according to Bob</p>\n\n<blockquote>\n  <p>The models are likely just data structures that are passed from the controllers to the use cases, and then back from the use cases to the presenters and views.</p>\n</blockquote>\n\n<p>so that means my model objects should be \"dumb\" (like a simple <code>Map</code>. <code>ModelMap</code> in Spring) and it is then the responsibility of the controller to put data from the Use Case class into this Map-structure. </p>\n\n<p>So again, what form does my Use Case-classes take? How about <code>&lt;UseCase&gt;Interactor</code>?</p>\n\n<p><strong>But in conclusion</strong> I realize that the MVC-MV-thing is over-engineering (or simply incorrect) - as \"mikalai\" indicates below this essentially just a two-layer applcation in its current form; a data access layer and a front-end MVC layer. Simple as that.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc","asp.net-mvc-3"],"answer_count":4,"favorite_count":4,"up_vote_count":8,"down_vote_count":0,"view_count":1862,"score":8,"question_id":4947854,"title":"How to get the column titles from the Display(Name=) DataAnnotation for a strongly typed list scaffold view at runtime?","body":"<p>how do i get the [Display(Name=\"Some Title\")] DataAnnotations \"Some Title\" rendered in the List scaffold view's output?</p>\n\n<p>I create a strongly typed list scaffold view for this class:</p>\n\n<pre><code>public class CompanyHoliday\n{\n    [Key]\n    public int Id { get; set; }\n\n    [Required]\n    [Display(Name = \"Datum\")]\n    [DataType(System.ComponentModel.DataAnnotations.DataType.Date)]\n    public DateTime Date { get; set; }\n\n    [Required]\n    [StringLength(50)]\n    [Display(Name = \"Feiertag Name\")]\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>The view looks like this:</p>\n\n<pre><code>@model IEnumerable&lt;Zeiterfassung.Domain.CompanyHoliday&gt;\n\n@{\n    ViewBag.Title = \"Year\";\n}\n\n&lt;h2&gt;Year&lt;/h2&gt;\n\n&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n&lt;table&gt;\n&lt;tr&gt;\n    &lt;th&gt;&lt;/th&gt;\n    &lt;th&gt;\n        Date\n    &lt;/th&gt;\n    &lt;th&gt;\n        Name\n    &lt;/th&gt;\n&lt;/tr&gt;\n\n@foreach (var item in Model) {\n&lt;tr&gt;\n    &lt;td&gt;\n        @Html.ActionLink(\"Edit\", \"Edit\", new { id=item.Id }) |\n        @Html.ActionLink(\"Details\", \"Details\", new { id=item.Id }) |\n        @Html.ActionLink(\"Delete\", \"Delete\", new { id=item.Id })\n    &lt;/td&gt;\n    &lt;td&gt;\n        @String.Format(\"{0:g}\", item.Date)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @item.Name\n    &lt;/td&gt;\n&lt;/tr&gt;\n}\n\n&lt;/table&gt;\n</code></pre>\n\n<p>However i don't want \"Date\" and \"Name\" in the table header - i want \"Datum\" and \"Feiertag Name\" rendered there dynamically. </p>\n\n<p>The actual column header titles should come from the Display Dataannotation.</p>\n\n<p>How to do this?</p>\n\n<p>Thanks, toebens</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","architecture","service-layer"],"answer_count":4,"favorite_count":15,"up_vote_count":20,"down_vote_count":1,"view_count":2997,"score":19,"question_id":8735466,"title":"Fat model / thin controller vs. Service layer","body":"<p>I have been developing enterprise applications for many years using .Net \nMy apps usually have a domain model containing entities mapping to SQL DB tables.\nI use a Repository pattern, Dependency injection and a service layer.</p>\n\n<p>Recently we started working on MVC 3 projects and we had a debate where to put which logic.\nI came accross thin Controller / FAT Model architecture and was wondering how the service layer would fit in</p>\n\n<h2>Option 1 - Model talks to services</h2>\n\n<p>Controller is thin, calls methods on the models. The models \"know\" how to load themselfs from the DB and talk to repositories or services.\nE.g. customerModel has a Load(id) method and loads the customer and some child objects like GetContracts().</p>\n\n<h2>Option 2 - Controller talks to services</h2>\n\n<p>Controller asks Services to retrieve model objects. The logic of loading / storing etc. Is in the service layer. The model is a pure entity model with data only.</p>\n\n<p>Why would option 1 be a better choice especially when we talk about enterprise applictions my experience tells me to separate concerns, keep models AND Controllers as thin as possible and have specialized services doing the Business logic (imcl. The DB interaction)</p>\n\n<p>Thanks for all advices and references to good resources.</p>\n"},{"tags":["mvc","openid","asp.net-mvc-4"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":98,"score":1,"question_id":10916299,"title":"OpenId (FB/G+/Live) authentication / membership provider with MVC4?","body":"<p>I once heard either Hanselman or ScottGu saying they are considering adding OpenId membership and authentication provider to MVC4 (likely also web forms). I have not seen this mentioned within MVC4 RC release notes. Any idea whether this will make RTM?</p>\n"},{"tags":["javascript","jquery","asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":11632732,"title":"ASP.NET MVC - Automatic notifications when a record is modified?","body":"<p>I have just used the NotifyIcon class in a windows application and I think it is really handy. I'm predominantly a web developer so I just wanted to find out if there is anything similar to this for a website.</p>\n\n<p>The website I want to incorporate this into has a Ticket Management module where users can capture tickets/problems and then get responses to these tickets from my client's employees who handle the ticket.</p>\n\n<p>Obviously I realize that the notification or pop up will need to be shown in the page, but is there a way to put a timer on the specific page, or even the Master page (maybe javascript or JQuery), to poll the database every few minutes and check for recently modified tickets and let the logged in user know that a ticket has been updated?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ajax","mvc","sap","abap","sap-bsp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":12838637,"title":"How to use Ajax in BSP?","body":"<p>I am learning BSP framework in SAP. So far I've succeeded to get my MVC model working.</p>\n\n<p>Here is my code.<br> <b> View </b></p>\n\n<pre><code>&lt;body&gt;\n    &lt;z:form&gt;\n   &lt;z:input binding=\"//c/counter\"\n            invisible=\"true\"/&gt;\n    Counter : &lt;z:write binding=\"//c/counter\"/&gt;\n\n    &lt;z:button fcode=\"incr\"\n                      text=\"Increase\"/&gt;\n    &lt;z:button fcode=\"decr\"\n                      text=\"decrease\"/&gt;\n    &lt;/z:form&gt;\n  &lt;/body&gt;\n</code></pre>\n\n<p><b> Controller </b>\n<br> Through fcode I invoke the \"fcode_incr\" method in Controller.\n'c' is a model instance of zcl_counter.\nit has an attribute counter which will be increased by this method.</p>\n\n<pre><code>method fcode_incr.\n   c-&gt;increment( ).\nendmethod.\n</code></pre>\n\n<p>I hope zcl_model is obvious and its code is not relevant here.</p>\n\n<p>The problem when I press the \"increase\" button, server sends a request. When it gets the response, it refresh the page. So i get the incremented value.\nhow can I get it working with Ajax so the page remains without refreshing?</p>\n\n<p>I've already tried Ajax with \"XML page with flowlogic\". \nlike \"Eventhandler-->OnRequest\"</p>\n\n<pre><code>request-&gt;get_form_field('variable').\n</code></pre>\n\n<p>Does it help any further?</p>\n\n<p><b> <i>The right</i> Ajax Call would be </b></p>\n\n<pre><code>$.ajax({\n        url:'ajaxController.do',\n        statusCode:{\n          404: function(){\n            alert(\"not found\");\n          }\n        },\n        success: function(data){\n          $('#viewData').html(data);\n        }\n       }).error(function(){\n          alert(\"failed\");\n});\n</code></pre>\n"},{"tags":["python","django","mvc","data-access-layer","business-logic-layer"],"answer_count":6,"favorite_count":10,"up_vote_count":17,"down_vote_count":0,"view_count":447,"score":17,"question_id":12578908,"title":"Separation of business logic and data access in django","body":"<p>I am writing a project in Django, and I see that 80% of the code is in the file <code>models.py</code>. This code is confusing and after a certain time, I cease to understand what is really happening.</p>\n\n<p>That's what bothers me:</p>\n\n<ol>\n<li>I find ugly, that my model-level (which was supposed to be\nresponsible only for the work with data from a database) is also\nsending some email, walks on api to other services, etc. </li>\n<li>Also, I find it unacceptable placing business logic in the view, because in\nthis way it becomes difficult to control. For example, in my\napplication there are at least three ways in which to create a new\nmodel <code>User</code>, but technically it should create a uniform way. </li>\n<li>I do not always notice when the methods and\nproperties of my models becomes not deterministic and when they becomes to have\nside effects.</li>\n</ol>\n\n<p>It's a simple example:</p>\n\n<pre><code># At first, it was like this:\n\nclass User(db.Models):\n\n    def get_present_name(self):\n        return self.name or 'Anonymous'\n\n    def activate(self):\n        self.status = 'activated'\n        self.save()\n\n# Over time, it turned into this:\n\nclass User(db.Models):\n\n    def get_present_name(self): \n        # property became not deterministic in terms of database\n        # data is taken from another service by api\n        return remote_api.request_user_name(self.uid) or 'Anonymous' \n\n    def activate(self):\n        # method was to have a side effect (send message to user)\n        self.status = 'activated'\n        self.save()\n        send_mail('Your account is activated!', '', [self.email])\n</code></pre>\n\n<p>What I want is to separate entities in my code:</p>\n\n<ol>\n<li><strong>Entities of my database, database level, \"What contains my application?</strong></li>\n<li><strong>Entities of my application, business logic level, \"What can make my application?\"</strong></li>\n</ol>\n\n<p>My question is: What are the good practices to implement such an approach that can be applied in Django?\nThank you!</p>\n"},{"tags":["php","xml","mvc","joomla","joomla2.5"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12909324,"title":"Add File Uploader to Joomla Admin Component","body":"<p>I made Joomla admin component according to Joomla guide - <a href=\"http://docs.joomla.org/Developing_a_Model-View-Controller_Component/2.5/Developing_a_Basic_Component\" rel=\"nofollow\">http://docs.joomla.org/Developing_a_Model-View-Controller_Component/2.5/Developing_a_Basic_Component</a></p>\n\n<p>In that i need to have file uploader which let user to upload single file. </p>\n\n<p>In administrator\\components\\com_invoicemanager\\models\\forms\\invoicemanager.xml i have defined </p>\n\n<pre><code>&lt;field name=\"invoice\" type=\"file\"/&gt;\n</code></pre>\n\n<p>In the controller administrator\\components\\com_invoicemanager\\controllers\\invoicemanager.php im trying to retrieve that file like below. But its not working (can't retrieve file) </p>\n\n<p>Where am i doing it wrong ?</p>\n\n<p>How can i get file and save it on disk ?</p>\n\n<pre><code>class InvoiceManagerControllerInvoiceManager extends JControllerForm\n{\n    function save(){\n        $file = JRequest::getVar( 'invoice', '', 'files', 'array' );\n        var_dump($file);\n        exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12925666,"title":"CodeIgniter Best Practice Items List","body":"<p>I'm creating an ebay-style (but more simplistic) shop in CodeIgniter and I'd like to know the best way to handle the items code/controllers.</p>\n\n<p>At the moment, I've got a Category controller which is the main controller (in routes). /category/id is supposed to show a list of items for a specific category, and /category or / shows all items.</p>\n\n<p>The category index($id=0){} in the controller loads the category helper which generates the category listing, then I echo it out in the view.</p>\n\n<p>Now I'm up to the stage of adding the items aspect... Users need to be able to add items, view specific items, and the category code needs to be able to show all items or a specific category of items.</p>\n\n<p>I was thinking of having a items controller with add_item, view_item, however now I'm wondering how I should be fetching the category listing from within the categories controller.</p>\n\n<p>Should I have a items helper that loads the items model, fetches the list of items based off the category, assigns the list to a variable and echos the list? And when a user wants to view a specific item it loads the item controller view_item, and for adding add_item etc?</p>\n\n<p>I also want the categories to display whilst they're viewing an item, so if I do it this way I'll also need to load the category helper within the items controller... Is this bad practice due to code repetition?</p>\n"},{"tags":["mvc","jsp","servlets","resultset"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":59,"score":-1,"question_id":12917395,"title":"Use ResultSet object in JSP without JSTL","body":"<p>I want to pass my query's result i.e ResultSet to JSP just for the display as i am using MVC framework.</p>\n\n<p>My Servlet Code:</p>\n\n<pre><code>Connection c=Connectivity.dbConnect();\n       PreparedStatement ps=c.prepareStatement(\"select role from login where userid=? and password=?\");\n       ps.setString(1,userid);\n       ps.setString(2,pass);\n       ResultSet rs=ps.executeQuery();\n\n     if(rs.next())\n     {\n\n          if(rs.getString(1).equals(\"admin\"))\n                   {\n\n           ps=c.prepareStatement(\"select * from user where userid=?\");\n           ps.setString(1,userid);\n           rs=ps.executeQuery();   \n           Result r=ResultSupport.toResult(rs);          \n           request.setAttribute(\"res\",r);       \n\n           rs.close();\n           c.close();\n           return mapping.findForward(\"us\");//to User.jsp\n\n\n                   }\n      }\n</code></pre>\n\n<p>I've used ResultSupport.toResult() to forward it to JSP (forwarded by 'us' mapping) but that requires JSTL code in JSP :</p>\n\n<p>User.jsp -</p>\n\n<pre><code>&lt;c:forEach var=\"data\" items=\"${requestScope.res.rows}\"&gt;\n      &lt;h1&gt;${data.userid}&lt;/h1&gt;\n               &lt;h2&gt;${data.name}&lt;/h2&gt;\n               &lt;h2&gt;${data.password}&lt;/h2&gt;\n               &lt;h2&gt;${data.emailid}&lt;/h2&gt;\n  &lt;/c:forEach&gt;\n</code></pre>\n\n<p>Moreover if i directly pass ResultSet like <code>request.setAttribute(\"ResultSet\",rs);</code>  i wouldn't be able to close the connection in JSP.</p>\n\n<p>This Code works fine but i do NOT want to use JSTL/EL or Lists , i want to use scriplets in JSP that can handle Result or ResultSet attribute from Servlet. </p>\n"},{"tags":["php","mysql","mvc","frameworks","cakephp-1.2"],"answer_count":9,"favorite_count":8,"up_vote_count":11,"down_vote_count":1,"view_count":2790,"score":10,"question_id":3060699,"title":"PHP Framework Benefits / Downfalls","body":"<p>I have been a PHP developer for about 10 years now and until about a month ago I have never used a framework.</p>\n\n<p>The framework I am now using due to an existing codebase is cakePHP 1.2</p>\n\n<p>I can see certain benefits of the frameworks with the basic helpers like default layouts. I can definitely see the benefits of MVC keeping the logic separate etc. But the query building just seems to be bloated. Is this expected? </p>\n\n<p>Am I likely to be able to build better queries than the framework could build? I just feel I  could get my apps running better without a framework.</p>\n\n<p>What are your thoughts?</p>\n"},{"tags":["javascript","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":52,"score":-6,"question_id":12927139,"title":"Is there any good book/tutorials on Javascript mvc frameworks like stealJS, backbone ?","body":"<p>how to i get started on Javascript mvc frameworks like stealJS, backbone ? </p>\n"},{"tags":["php","unit-testing","mvc","activerecord","fuelphp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12926411,"title":"Unit Testing a FuelPHP Model","body":"<p>So I have a very simple (at least right now it is) model that returns a contact via it's primary key ID:</p>\n\n<pre><code>class Model_Contact extends \\Fuel\\Core\\Model\n{\n    public function get_by_id($contact_id)\n    {\n        return Entity_Contact::find_by_pk($contact_id);\n    }\n}\n</code></pre>\n\n<p>The <code>Entity_Contact</code> class looks like this (irrelevant array content omitted):</p>\n\n<pre><code>class Entity_Contact extends \\Core\\Entity_Base\n{\n    protected static $_table_name = 'contacts';\n    protected static $_properties = array(...);\n    protected static $_public_settable_properties = array(...);\n    protected static $_rules = array(...);\n}\n</code></pre>\n\n<p>Note: <code>\\Core\\Entity_Base</code> extends <code>\\Fuel\\Core\\Model_Crud</code></p>\n\n<p>I might use this in a controller like so:</p>\n\n<pre><code>$model = new Model_Contact();\n$contact = $model-&gt;get_by_id(4);\n</code></pre>\n\n<p>I know that in order to unit test this, I should mock out the actual database call (<code>Entity_Contact::find_by_pk</code>), but I'm not sure how to do this. Since I'm using Fuel's <code>Model_crud</code> functionality (where the DB accessors are actually a part of the domain object model), I'm not sure that I can completely mock the database---or maybe I'm missing something.</p>\n\n<p>So the question: how would you write a test for <code>Model_Contact::get_by_id()</code>?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["ruby-on-rails","mvc","view","controller"],"answer_count":1,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":1965,"score":8,"question_id":3757491,"title":"Can I get the name of the current controller in the view?","body":"<p>I am rather certain this is a stupid question, but I can't find the answer.</p>\n\n<p>Is there a way to figure out what the current controller is from within the view?</p>\n\n<p>For an example of why I would want to know this: if several controllers share the same layout, I may have a part in the layout ERB file where I want to highlight the current page's menu item based on the controller.</p>\n\n<p>Maybe that is a bad approach. If so, what is the more preferred way to do this?</p>\n\n<p>I'm interested to know about getting the name of the current controller either way, though.</p>\n\n<p>(Obviously I could put something like <code>@controller_name = 'users'</code> in each controller; but that seems like the sort of thing Rails would've already done behind the scenes. So I'm just wondering if there's a built-in way.)</p>\n"},{"tags":["mvc","datatable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12916672,"title":"dataTable().makeEditable() - how to call a specific action method for Add","body":"<p>In the default implementation of dataTable().makeEditable(), the action method called while clicking on Ok button of the formAddNewRow is AddData(string name, string .....).</p>\n\n<p>How can I call a specific action method such as AddCompany(string name, string .....)?</p>\n\n<p>I have tried using the below code, but it threw an error:\n$(document).ready(function () {\n            $('#myDataTable').dataTable().makeEditable({\n                sAddURL: \"/Admin/AddCOIRole\"\n              });\n        });</p>\n"},{"tags":["osx","cocoa","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12903586,"title":"Questions regarding MVC design architecture of a Cocoa app","body":"<ul>\n<li>My goal </li>\n</ul>\n\n<p>Make an app with one window. The root view of the window will be a couple of images with 4 buttons. Each of these 4 buttons will display a different (main) view. Each main view will display other (sub)views and each main and sub views should be capable of \"going back\" to the root view.</p>\n\n<ul>\n<li><p>What I have done (it is based on Apple's ViewController project)</p>\n\n<ul>\n<li><p>I created 1 <code>NSWindowController</code> and 4 <code>NSViewController</code> with their respected XIB files. </p></li>\n<li><p>The AppDelegate alloc/init an <code>NSWindowController</code> object with the nib containing the window and the root view, then calls <code>showWindow</code> method on it.</p></li>\n<li>My subclass of <code>NSWindowController</code> has two ivars: one <code>NSView</code> representing the root view  bound in IB, and one <code>NSViewController</code> representing the current view controller.</li>\n<li>I bound the 4 buttons to the method which changes the view depending on the button tag.</li>\n</ul></li>\n</ul>\n\n<p>Here is how Apple's ViewController project implements it <a href=\"http://pastie.org/private/zmqpzgnudgovagwigal8dq\" rel=\"nofollow\">http://pastie.org/private/zmqpzgnudgovagwigal8dq</a></p>\n\n<p>Nonetheless, this doesn't work for me, it just add the view on top of the root view.</p>\n\n<p>As you see, I'm a bit lost, feel free to share your ideas!</p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12899543,"title":"php mvc pass userdata","body":"<p>I am using a personal MVC system to create a blog. It works. \nNow I want to submit a user comment.\nThe thing is, I don't want to submit the user id and post id in AJAX. That would enable frawd comments.\nHow do I \"remember\" the user's session and pass it to the server?</p>\n\n<p>My post look like this: <code>var text = encodeURI($('#folderComment').val());</code></p>\n\n<pre><code>var text = encodeURI($('#folderComment').val());\n$.post(\n        \"&lt;?= URL_MVC ?&gt;/FolderComment/add/\"+text, {},\n        function(data){\n            var content = data.split(\"##\");\n            var html = '&lt;tr&gt;';\n            html += '&lt;td&gt;' + content[0] + '&lt;br&gt;' + content[2] + '&lt;/td&gt;';\n            html += '&lt;td&gt;' + content[1] + '&lt;/td&gt;';\n            html += '&lt;/tr&gt;';\n            $('#commentsTable').prepend(html);\n        });\n</code></pre>\n\n<p>Do I have to send the user's id? Because in the receiving controller I am using </p>\n\n<pre><code>$userid = isset($_SESSION['user']['fkuser']) ? $_SESSION['user']['fkuser'] : $defaultid;\n</code></pre>\n\n<p>this parameter works fine on the view, and the model, but, when I send AJAX request to the controller, it's not working...</p>\n"},{"tags":["mvc","constructor","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":155,"score":0,"question_id":12917465,"title":"Reference a button created in constructor from Controller on Sencha Touch 2?","body":"<p>I've been researching on how to reference methods of a button using MVC on Sencha Touch, but none of the articles has worked fine for me since I declare all my controls on the constructor of my views.</p>\n\n<p>Here is an example of my code:</p>\n\n<pre><code>Ext.define('TPTMOBILE.view.Login',{\n    extend: 'Ext.Panel',\n    ...\n    config: {\n        ...\n    },\n\n    constructor: function(){\n        var submitButton = Ext.create('Ext.Button', {\n            text: 'Login'\n        });\n    }\n\n});\n</code></pre>\n\n<p>So I'd like to know how to reference the onTap method of my 'submiButton' button.</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["c++","qt","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12893904,"title":"Automatically refreshing a QTableView when data changed","body":"<p>I have written a custom data model to be displayed with several QTableViews.</p>\n\n<p>Technically, everything works fine: my views show the changes made from my model. My data model is editable, and the <code>setData()</code> method does emit the <code>dataChanged()</code> signal and returns <code>true</code> on successful edition.</p>\n\n<p>However, my problem is that I have to move my mouse over a <code>QTableView</code> for it to show the actual change, while I would like all views to show the changes when they were made, without needing to interact with the views in order for them to be updated.</p>\n\n<p>Any idea? Thanks,</p>\n\n<hr/>\n\n<p>It may be relevant to mention that I do not use the default <code>Qt::EditRole</code> role to edit data, but rather a custom enum value (named <code>ActiveRole</code>).</p>\n\n<p>Here is what I am seeking: my data model contains properties on how to display data, used to generate style sheets that are fed to the viewS.</p>\n\n<p>Thus, when altering the model, for each view, all its items are impacted, which is why the <code>dataChanged()</code> signal is sent with indices covering all cells.</p>\n\n<p>I also tried to emit <code>layoutChanged()</code>, but it does not seem to change the behavior in my case.</p>\n\n<p>Here is an excerpt of the <code>setData()</code> method:</p>\n\n<pre><code>bool DataModel::setData(QModelIndex const&amp; idx, QVariant const&amp; value, int role)\n{\n  if (ActiveRole == role)\n  {\n    // Update data...\n\n    QModelIndex topLeft = index(0, 0);\n    QModelIndex bottomRight = index(rowCount() - 1, columnCount() - 1);\n\n    emit dataChanged(topLeft, bottomRight);\n    emit layoutChanged();\n\n    return true;\n  }\n  return false;\n}\n</code></pre>\n\n<p>Here is a sample of the <code>data()</code> method:</p>\n\n<pre><code>QVariant DataModel::data(QModelIndex const&amp; idx, int role) const\n{\n  if (ActiveRole == role)\n  {\n    boost::uuids::uuid id;\n\n    return qVariantFromValue(id);\n  }\n\n  return QVariant();\n}\n</code></pre>\n\n<p>And <code>flags()</code> does indicate an editable model:</p>\n\n<pre><code>Qt::ItemFlags DataModel::flags(QModelIndex const&amp; idx) const\n{\n  if (false == idx.isValid())\n  {\n    return Qt::ItemIsEditable;\n  }\n\n  return QAbstractTableModel::flags(idx) | Qt::ItemIsEditable;\n}\n</code></pre>\n\n<p>I have a custom delegate, which relies heavily on this <a href=\"http://stackoverflow.com/a/1956781/948128\">SO thread</a> for overriding the <code>paint</code> and the <code>sizeHint</code> methods in order to draw a <code>QTextDocument</code>. Also, it provides the content of the <code>ActiveRole</code> to the editor in <code>setEditorData</code>, and calls <code>DataMode::setData</code> in <code>setModelData</code>:</p>\n\n<pre><code>void DataModelDelegate::setEditorData(QWidget* editor, QModelIndex const&amp; idx) const\n{\n  auto active = qVariantValue&lt;boost::uuids::uuid&gt;(idx.data(ActiveRole));\n  static_cast&lt;DataModelEditor*&gt;(editor)-&gt;setActive(active);\n}\n\nvoid DataModelDelegate::setModelData(QWidget* editor, QAbstractItemModel* model, QModelIndex const&amp; idx) const\n{\n  auto active = static_cast&lt;DataModelEditor*&gt;(editor)-&gt;getActive();\n  model-&gt;setData(idx, qVariantFromValue(active), ActiveRole);\n}\n</code></pre>\n\n<p>In the <code>createEditor()</code>, I plug a signal from the editor to a slot of my delegate for committing data:</p>\n\n<pre><code>QWidget* DataModelDelegate::createEditor(QWidget* parent, QStyleOptionViewItem const&amp; option, QModelIndex const&amp; idx) const\n{\n  auto editor = new DataModelEditor(parent);\n  connect(editor, SIGNAL(activeItem()), this, SLOT(commitEditorData()));\n  return editor;\n}\n</code></pre>\n\n<p>When clicking on an item, the editor triggers the <code>activeItem</code> signal; the connected slot <code>commitEditorData</code> in turn raises the <code>commitData</code> signal with the editor in argument.</p>\n\n<p>So all my views use these custom delegate, editor, and data model. The view that I am interacting with does show the change immediately, but the other views need to have the mouse hovering over them to show changes as well.</p>\n"},{"tags":["mvc","design-patterns","flask"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12547206,"title":"Flask-framework: MVC pattern","body":"<p>Flask-framework is MVC. What part of the application should I consider a model, what a view and what a controller? Both in regular application and in RESTful app.</p>\n\n<p>When I say RESTful I mean something like this:</p>\n\n<pre><code>main_dir--|\n          |\n         app1--|\n          |    |\n          |  __init__.py\n          |  api.py\n          |  models.py\n          |\n         static--|\n          |      |\n          |    all the static stuff\n          |\n         app.py # with blueprints registering\n</code></pre>\n"},{"tags":["php","mvc","transactions","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":12916781,"title":"MVC pattern usual practice for saving more than one model in a transaction","body":"<p>I want to save two models in a transaction but it will be used on more than one view.</p>\n\n<p>Should I put that transaction in one of those models? Or should I somehow reuse the controller action?</p>\n\n<p>What is the best practice for MVC pattern in this case?</p>\n\n<p>note: My view is consisted of more than one model.</p>\n"},{"tags":["oop","mvc","software-design","design-principles"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":11718094,"title":"MVC: Reset password belongs to Service layer or Actual Entity","body":"<p>I am relatively new to MVC, and have just come across some pre-existing code. </p>\n\n<p>We have a UserService, which mainly contains CRUD operations, and perhaps, one or two business logic operations - all needed by our controllers. It encapsulates the context and the Membership. </p>\n\n<p>I was about to implement the ResetPassword operations, but I was not sure where to implement it; whether to implement it at the UserService or at the User Entity. </p>\n\n<hr>\n\n<p><em>UserService</em></p>\n\n<pre><code>bool ResetPassword(string username, string newPassword);\n</code></pre>\n\n<p>This would lead to my controller being:</p>\n\n<pre><code>ActionResult ResetPassword(string username, string newPassword)\n{\n  userService.ResetPassword(username, newPassword);\n}\n</code></pre>\n\n<p>vs</p>\n\n<p><em>User</em></p>\n\n<pre><code>bool ResetPassword(string newPassword)\n</code></pre>\n\n<p>This would lead to my controller being:</p>\n\n<pre><code>ActionResult ResetPassword(string username, string newPassword)\n{\n  var user = userService.GetUser(username);\n  user.ResetPassword(newPassword);\n}\n</code></pre>\n\n<p>Which approach is recommended?</p>\n"},{"tags":["mvc","class","models"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":11978374,"title":"Using class libary and MVC model","body":"<p>I was wondering if the solution I make could be done smarter, and well I guess so. My problem is that I got a class libary where I Keep all my methods. Then I got my MVC where I use a model. These two model are the same, but I need to convert those, and its stupid. </p>\n\n<p>In my class libary I use Entity Framework, where I get the self generated classes. </p>\n\n<p>In my MVC Model class I create a class so I can put on regular expression and so.</p>\n\n<p>The problem: when I want to send a method back I often just want to send the object I get in return from my view. Im tired of creating an instance of an object and then do this:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult CreateUser(UserModel user)\n    {\n        //my class libary / entity framework class for a user\n        User efUser = new User();\n        efUser.Email = user.Email;\n        efUser.Username = user.Username;\n        efUser.Password = user.Password;\n\n        UserBLL userBLL = new UserBLL();\n\n        //send the method to classlibary / logic layer\n        userBLL.CreateUser(efUser);\n\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n"},{"tags":["mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":121,"score":2,"question_id":4475515,"title":"MVC: Am I doing it right?","body":"<p>Hey people. I don't know if I understood 100% the MVC concept.</p>\n\n<p>I'm having troubles with the Model-View relation.</p>\n\n<p>In order to present the data to the user, the View must have access to the data, right?\nIs this access obtained by passing all the needed data to the view directly (and having the view hold the data within its class as an attribute), or just obtain the data \"parsed\" as strings, integers, etc... as it is needed (as the user navigates through the GUI) from the controller, by raising events? I feel like this is a little bit event overkill, since the data hasn't changed. </p>\n\n<p>BTW, can you tell me what those arrows on the MVC diagram on Wikipedia do on a real example? Thanks.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":12825129,"title":"Correct model to use for flexible survey in MVC ","body":"<p>I'm looking to create an MVC application to edit the results of various customer surveys. but Im struggling to get the approach/ model right in my head.</p>\n\n<p>I have survey results that are stored across different database tables (one table for each version of the survey) with each version having a slightly different set of columns. I've created a combined (Sql)view which just shows the table columns that i want to edit, as the source tables contain a lot of irrelevant columns. </p>\n\n<blockquote>\n  <p>CREATE VIEW [vw_CombinedSurveyResults] AS</p>\n  \n  <p>SELECT     'V10_v2' as anTable, UniqueRecordID, ddDate, iIncidNo, bA, bB, bC, null as 'bD \n  FROM        V10_v2</p>\n  \n  <p>UNION \n  SELECT     '10_v1' as anTable, UniqueRecordID, ddDate, iIncidNo, bA, bB, null as bC, bD \n  FROM V10_v1</p>\n  \n  <p>UNION \n  SELECT    'V9_v6' as anTable,  UniqueRecordID, ddDate, iIncidNo, bA, null as bB, null as bC, bD \n  FROM         V9_v6</p>\n</blockquote>\n\n<p>My first idea was to search the combined (sql)view (filtering by date and the incident number) to and then display the results in a table, so far so good. </p>\n\n<p>The part where Im having a brain freeze is deciding on how best to update a selected individual survey records is a neat and tidy way, and in a way that will require minimal effort when the future versions of the survey are created.</p>\n\n<p>So far Ive got created a sql view for each of the  source tables (cut down to just have the columns Im interested in) and using these views to create some Linq To Sql classes for each of the source cut-down views. (These are the Models)</p>\n\n<p>Ive used one of these autogenerated classes as the model a to create strongly typed view for editing the survey values (of just one version, v10_v2) .</p>\n\n<p>Ive got a controller for updating a cut-down view (V10_v2)  and that all works  fine  but that is just for one survey version which proves a concept but its very clunky.</p>\n\n<p>To  continue down this path will mean  Ill need to create multiple (MVC) views and controllers, one for each survey table, but there must be a slicker/easier way of organising  the models or views or both?</p>\n\n<p>Thanks in advance for any suggestions.</p>\n"},{"tags":["spring","mvc","deployment","jboss5.x"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":50,"score":1,"question_id":12911731,"title":"How to create a war file of Spring MVC Project and deploy it in JBOSS 5?","body":"<p>How to create a war file of Spring MVC Project anddeploy it in JBOSS 5?</p>\n"},{"tags":["jquery","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12910589,"title":"Pass jquery parameters to Controller Action","body":"<p>I want to pass 2 parameters with ajax function to the Controller Action, but the code that I use it's not working. \nThe action is called but without parameters; what is wrong in the code below? Please help.\nThank you!</p>\n\n<p>view code:</p>\n\n<pre><code>        &lt;fieldset&gt;\n            @Html.Label(\"Start date: *\")\n            @Html.TextBoxFor(model =&gt; model.startDate, new { Class = \"calendar\", data_mini = true, data_role = \"datebox\", data_options = \"{\\\"mode\\\":\\\"calbox\\\",\\\"useNewStyle\\\": true,\\\"overrideStyleClass\\\": \\\"calendar\\\",\\\"fieldsOrderOverride\\\": [\\\"d\\\",\\\"m\\\",\\\"y\\\"],\\\"headerFormat\\\":\\\"%A,%d, %-m, %Y\\\",\\\"dateFormat\\\":\\\"DD-MM-YYYY\\\",\\\"useTodayButton\\\":true}\" })\n        &lt;/fieldset&gt;\n        &lt;fieldset&gt;\n            @Html.Label(\"End date: *\")\n            @Html.TextBoxFor(model =&gt; model.endDate, new { Class = \"calendar\", data_mini = true, data_role = \"datebox\", data_options = \"{\\\"mode\\\":\\\"calbox\\\",\\\"useNewStyle\\\": true,\\\"overrideStyleClass\\\": \\\"calendar\\\",\\\"fieldsOrderOverride\\\": [\\\"d\\\",\\\"m\\\",\\\"y\\\"],\\\"headerFormat\\\":\\\"%A,%d, %-m, %Y\\\",\\\"dateFormat\\\":\\\"DD-MM-YYYY\\\",\\\"useTodayButton\\\":true}\" })\n        &lt;/fieldset&gt;\n        &lt;fieldset&gt;\n            @Html.Label(\"Submited: *\")\n        &lt;/fieldset&gt;\n        &lt;a data-role=\"button\" id=\"search\" name=\"search\" data-theme=\"a\" class=\"book ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a\"&gt;\n        &lt;span class=\"ui-btn-inner ui-btn-corner-all\"&gt;&lt;span class=\"ui-btn-text\"&gt;Search&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Jquery code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n $(\"#search\").click(function () {\n    GetNewDaysList();\n   });\n//gets elements for the selected dates\nfunction GetNewDaysList() {\nvar action = '@Url.Action(\"GetNewDays\", \"ApproveWork\")';\nvar criteria = new Array($(\"#startDate\").val(),$(\"#endDate\").val());\n    var opt = {\n        type: \"GET\",\n        data: { criteria: criteria },\n        url: action,\n        success: DaysListSuccess,\n        error:DaysListFailed\n    };\n    jQuery.ajax(opt);\n}\n\n  function DaysListSuccess(data) {\n    if (data != undefined) {\n        $.mobile.hidePageLoadingMsg();\n        $('ul').hide();\n        $(\"#employeeDays\").html(data).trigger('create');\n        $(\"#searchSection\").show();\n        $(\"#employeeDays\").show();\n    }\n}\n\n  function DaysListFailed() {\n //\n}\n});\n</code></pre>\n\n<p></p>\n\n<p>Controller code:</p>\n\n<pre><code>    [HttpGet]\n      public ActionResult GetNewDays(IEnumerable&lt;string&gt; criteria)\n    {\n        List&lt;string&gt; criteriaList = criteria.ToList();\n        DateTime start = DateTime.ParseExact(criteriaList[1],\"dd-MM-yyyy\", System.Globalization.CultureInfo.InvariantCulture);\n        string startToString = start.ToString(\"yyyyMMdd\");\n        DateTime end = DateTime.ParseExact(criteriaList[2], \"dd-MM-yyyy\", System.Globalization.CultureInfo.InvariantCulture);\n        string endToString = end.ToString(\"yyyyMMdd\");            \n        List&lt;string&gt; daysList = new List&lt;string&gt;();\n       var model = new ApproveWorkModel();\n       model.daysList = daysList;\n       return PartialView ( \"EmployeeDays\",model);\n    }\n}\n</code></pre>\n"},{"tags":["mvc","language-agnostic"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12908015,"title":"Redirect or load a view in MVC?","body":"<p>There are times when the document the user is looking for is not present in our the database, we want to inform them that the document does not exist. We can either redirect them to another page or load another view, which one is appropriate? When to use redirect over view?</p>\n"},{"tags":["qt","mvc","layout"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":11024531,"title":"Qt: view added to layout not updating, but will update when not in layout","body":"<p>A widget called Tachometer will update accordingly when a signal is sent from its corresponding model, but it will not respond at all when I add the widget to a layout. What might account for this? Without showing the internals of the model or the view (which would be exhaustive), I will attempt to point out where it is not working:</p>\n\n<pre><code>void MainWindow::setupWidgets()\n{\n    QHBoxLayout *horiz1 = new QHBoxLayout();\n    QHBoxLayout *horiz2 = new QHBoxLayout();\n    odometer = new Odometer(ui-&gt;dashFrame);\n    fuelGauge = new FuelGauge(ui-&gt;dashFrame);\n    tripometer = new Tripometer(ui-&gt;dashFrame);\n    tachometer = new Tachometer(ui-&gt;dashFrame);\n    temperatureGauge = new TemperatureGauge(ui-&gt;dashFrame);\n    oilPressureGauge = new OilPressureGauge();\n    QVBoxLayout *vertOPG = new QVBoxLayout();\n\n    if ( oilPressureGauge-&gt;getTitle() != \"\" )\n    {\n        QLabel *OPGLabel = new QLabel(oilPressureGauge-&gt;getTitle());\n        vertOPG-&gt;addWidget(OPGLabel);\n    }\n    vertOPG-&gt;addWidget(oilPressureGauge);\n\n    speedometer = new Speedometer(ui-&gt;dashFrame);\n    horiz1-&gt;addWidget(tachometer);\n    horiz1-&gt;addWidget(speedometer);\n    horiz2-&gt;addWidget(fuelGauge);\n    horiz2-&gt;addWidget(temperatureGauge);\n    horiz2-&gt;addLayout(vertOPG);\n    horiz2-&gt;addWidget(tripometer);\n    horiz2-&gt;addWidget(odometer); // will NOT update when added to layout\n    QVBoxLayout *vert1 = new QVBoxLayout(ui-&gt;dashFrame);\n    vert1-&gt;addLayout(horiz1);\n    vert1-&gt;addLayout(horiz2);\n    this-&gt;ui-&gt;dashFrame-&gt;setLayout(vert1);\n}\n</code></pre>\n\n<p>I am perplexed that the other Widgets will update as expected, but not the object named tachometer. As I said before, if I don't add it to the layout, e.g.</p>\n\n<pre><code>// ...\ntachometer = new Tachometer(ui-&gt;dashFrame);\n// ...\n</code></pre>\n\n<p>it appears to work just fine. Furthermore, by debugging on the console I see that the RPM value for the tachometer is being sent to the appropriate slot that updates the view for the tachometer (I just noticed the tachometer finally responded to the update, but it isn't updating after every timeout as it should). It seems like some latency issues are clearly involved here.\nIf anyone might have an idea as to why this might be, I would greatly appreciate some clarification.</p>\n"},{"tags":["mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":711,"score":0,"question_id":3209896,"title":"Which is better ? MVC or 3 Layered Architecture","body":"<p>Which Technology is better? ASP.net 3 layered architecture or MVC\nPlease Let me know.</p>\n"},{"tags":["asp.net","jquery","mvc","jquery-ajax","asyncfileupload"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3173,"score":0,"question_id":4747357,"title":"file upload using ajax in asp.net mvc","body":"<p>file upload using ajax by retaining all the other information in the page.</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12904417,"title":"Request.IsLocal alternative?","body":"<p>As far as I understand, <a href=\"http://msdn.microsoft.com/en-us/library/system.web.httprequest.islocal.aspx\" rel=\"nofollow\">Request.IsLocal</a> returns true in two scenarios. If the IP address of the request originator is 127.0.0.1, or if the IP address of the request is the same as the server's IP address.</p>\n\n<p>I'm using this on a page which is regularly called by a cron task (using an absolute URL). Unfortunately this cron job is run on the same server as the page, meaning that IsLocal always returns true.</p>\n\n<p>Ideally, I need a function which will <em>just</em> return true if I'm on localhost. How can I do this in a ASP.NET MVC environment?</p>\n"},{"tags":["java","spring","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12903343,"title":"How to pass class object from one controller to other","body":"<p>First controller gets the object from class TestClass by binding from jsp</p>\n\n<pre><code>protected ModelAndView onSubmit(HttpServletRequest request,\n        HttpServletResponse response,\n        BindException errors, TestClass test)\n        throws Exception {\n\n\n    ModelAndView mv = new ModelAndView(\"page.jsp\", \"modelObject\", test);\n\n    return mv;\n}\n</code></pre>\n\n<p>and is processing to second one where he only get the object and passed back to other jsp page</p>\n\n<pre><code>protected Test showForm(HttpServletRequest request,\n        HttpServletResponse response,\n        BindException errors, TestClass test)\n        throws Exception {\n\n    return test;\n}\n</code></pre>\n\n<p>another solution for this problem or better way can you give it ?</p>\n"},{"tags":["asp.net-mvc","mvc","jquery-ui","asp.net-mvc-2","asp.net-mvc-3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":254,"score":1,"question_id":6678122,"title":"How to get the event of the partialview button in a jQuery modal dialog","body":"<p>I have a partial view named xyz and I have a lot of buttons on it which implements different functionality.</p>\n\n<pre><code> $('#dialog').dialog({\n        autoOpen: false,\n        width: 700,\n        resizable: false,\n        modal: true,\n        open: function (event, ui) { $(this).load('&lt;%=Url.Action(\"PushButton\",\"Body\",new {Parm=\"text\",Parm1=\"Value\"}) %&gt;'); },\n        position: 'top' \n    });\n</code></pre>\n\n<p>I'm opening this partial view XYZ in a jQuery modal dialog box. I have some buttons in the partialview XYZ. I'm not getting how to fire the event explicitly. Like if I want to close the dialog box by click of the button created in Partialview.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","active-directory"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":2189,"score":6,"question_id":6605666,"title":"Querying Active Directory from MVC result in: Attempted to access an unloaded appdomain. (Exception from HRESULT: 0x80131014)","body":"<p>I have an issue using c# on .Net 4 in a MVC web application, where when I query Active Directory, I <em>frequently</em> get an error: <strong><em>Attempted to access an unloaded appdomain. (Exception from HRESULT: 0x80131014).</em></strong></p>\n\n<p>The strange thing is, that it will work flawlessly for a time, and then it will just start happening, and then just disappear again.</p>\n\n<p>I have made a few modifications to the function to get it to work , but they all seem to fail. I am wondering if I am doing something wrong, or if there is a better way to do it.</p>\n\n<p>Here is my current fucntion, that will accept a loginId, and a PrincipalContext. The loginId can either be the user DisplayName <em>i.e \"John Smith\"</em>, or <em>DOMAINNAME\\josmi</em>. The default is to use the first 2 letters of their firstname, and then the first 3 letters of their surname. There is a check in there if this is not the case. This part if fine.</p>\n\n<pre><code>public List&lt;ADGroup&gt; GetMemberGroups(string loginId, PrincipalContext principalContext, int tries = 0)\n{\n    var result = new List&lt;ADGroup&gt;();\n\n    try\n    {\n        var samAccountName = \"\";\n        if (loginId.Contains(\" \"))\n        {\n            var fName = loginId.Split(Char.Parse(\" \"))[0].ToLower();\n            var sName = loginId.Split(Char.Parse(\" \"))[1].ToLower();\n\n            if (sName.Trim().Length == 2)\n                samAccountName = string.Format(\"{0}{1}\", fName.StartsWith(\".\") ? fName.Substring(0, 4) : fName.Substring(0, 3), sName.Substring(0, 2));\n            else\n                samAccountName = string.Format(\"{0}{1}\", fName.StartsWith(\".\") ? fName.Substring(0, 3) : fName.Substring(0, 2), sName.Substring(0, 3));\n        }\n        else\n            samAccountName = loginId.Substring(loginId.IndexOf(@\"\\\") + 1);\n\n        var authPrincipal = UserPrincipal.FindByIdentity(principalContext, IdentityType.SamAccountName, samAccountName);\n\n        if (authPrincipal == null)\n            throw new Exception(string.Format(\"authPrincipal is null for loginId - {0}\", loginId));\n\n        var firstLevelGroups = authPrincipal.GetGroups();\n\n        AddGroups(firstLevelGroups, ref result);\n    }\n    catch\n    {\n        if (tries &gt; 5)\n            throw;\n\n        tries += 1;\n\n        System.Threading.Thread.Sleep(1000);\n        GetMemberGroups(loginId, principalContext, tries);\n    }\n\n    return result;\n}\n\n    private void AddGroups(PrincipalSearchResult&lt;Principal&gt; principal, ref List&lt;ADGroup&gt; returnList)\n    {\n        foreach (var item in principal)\n        {\n            if (item.GetGroups().Count() &gt; 0)\n                AddGroups(item.GetGroups(), ref returnList);\n\n            returnList.Add(new ADGroup(item.SamAccountName, item.Sid.Value));\n        }\n    }\n</code></pre>\n\n<p>This function is called like this:</p>\n\n<pre><code>MembershipGroups = ad.GetMemberGroups(user.SamAccountName, new PrincipalContext(ContextType.Domain));\n</code></pre>\n\n<p>The the error that I <em>SOMETIMES</em> get is: </p>\n\n<blockquote>\n  <p>System.AppDomainUnloadedException:\n  Attempted to access an unloaded\n  appdomain. (Exception from HRESULT:\n  0x80131014)    at\n  System.StubHelpers.StubHelpers.InternalGetCOMHRExceptionObject(Int32\n  hr, IntPtr pCPCMD, Object pThis)    at\n  System.StubHelpers.StubHelpers.GetCOMHRExceptionObject(Int32\n  hr, IntPtr pCPCMD, Object pThis)    at\n  System.DirectoryServices.AccountManagement.UnsafeNativeMethods.IADsPathname.Retrieve(Int32\n  lnFormatType)    at\n  System.DirectoryServices.AccountManagement.ADStoreCtx.LoadDomainInfo()\n  at\n  System.DirectoryServices.AccountManagement.ADStoreCtx.get_UserSuppliedServerName()\n  at\n  System.DirectoryServices.AccountManagement.ADDNLinkedAttrSet.BuildPathFromDN(String\n  dn)    at\n  System.DirectoryServices.AccountManagement.ADDNLinkedAttrSet.MoveNextPrimaryGroupDN()\n  at\n  System.DirectoryServices.AccountManagement.ADDNLinkedAttrSet.MoveNext()\n  at\n  System.DirectoryServices.AccountManagement.FindResultEnumerator<code>1.MoveNext()\n  at\n  System.DirectoryServices.AccountManagement.FindResultEnumerator</code>1.System.Collections.IEnumerator.MoveNext()</p>\n</blockquote>\n"},{"tags":["mvc","magento","themes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12898853,"title":"Magento: Change Theme via Controller","body":"<p>As the title says, is there a way to load a Magento theme from the Controller without switching store? Thanks.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","stream","ram"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":12433132,"title":"How to properly stream big data from MVC3 without using too much RAM?","body":"<p>I'd like to use <code>HttpResponse.OutputStream</code> together with <code>ContentResult</code> so that I can <code>Flush</code> from time to time to avoid using too much RAM by .Net.</p>\n\n<p>But all examples with MVC <code>FileStreamResult, EmptyResult, FileResult, ActionResult, ContentResult</code> show code that gets all the data into memory and passes to one of those. Also one post suggest that returning <code>EmptyResult</code> together with using <code>HttpResponse.OutputStream</code> is bad idea. How else can I do that in MVC ?</p>\n\n<p>What is the right way to organize flushable output of big data (html or binary) from MVC server ? </p>\n\n<p>Why is returning <code>EmptyResult</code> or <code>ContentResult</code> or <code>FileStreamResult</code> a bad idea ?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12846850,"title":"Accessing a partial view from a different control from within an area","body":"<p>Within an MVC view I'd like to access a partial view from a different controller. Before I explain my issue at hand you should know where everything is in my solution:</p>\n\n<pre><code>Areas      \n   MyArea    \n        Views\n         Cont1\n           PartialPages\n           ViewImIn\n         Cont2\n            PartialPages\n               ViewICall\n</code></pre>\n\n<p>Now, in ViewImIn.cshtml I call ViewIcall.cshtml like this: </p>\n\n<pre><code>@Html.Partial(\"~/Views/Cont2/PartialPages/ViewICall.cshtml\", Model)\n</code></pre>\n\n<p>But I keep getting the error stating that the \"partial view was not found or view engine does not support searched locatio...\"</p>\n\n<p>Please help.. I've also tried \"../Cont2/PartialPages/ViewICall\" and variations of it</p>\n"},{"tags":["mvc","google","asp.net-mvc-4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12897542,"title":"fetching first name and last name always gives me approval window google openid","body":"<p>Im using this code to fetch my attributes:</p>\n\n<pre><code> IAuthenticationRequest openIdRequest =openId.CreateRequest(Identifier.Parse(openIdIdentifier));\n\n        var fetch = new FetchRequest();\n        fetch.Attributes.AddRequired(WellKnownAttributes.Contact.Email);\n        fetch.Attributes.AddRequired(WellKnownAttributes.Name.First);\n        fetch.Attributes.AddRequired(WellKnownAttributes.Name.Last);\n        fetch.Attributes.AddRequired(WellKnownAttributes.Name.Alias);\n        openIdRequest.AddExtension(fetch);\n</code></pre>\n\n<p>The problem is if I fetch more than just the email I always get prompted for approval, even if I check the remember box, when using google. If I only get the email I get passed on to the restricted area of my page without having to approve. Does anyone have a solution for this?</p>\n"},{"tags":["php","mvc","rest","zend-framework2","content-negotiation"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":115,"score":3,"question_id":12881717,"title":"Is it OK to have content negotiation in your controller layer?","body":"<p>In Zend Framework 2, content negotiation happens on the view layer and I am pretty happy with it. An example in my controller:</p>\n\n<pre><code>public function viewAction()\n{\n    $id   = $this-&gt;params('id');\n    $user = $this-&gt;getRepository()-&gt;findUser();\n\n    return new ViewModel(array(\n        'user' =&gt; $user,\n    ));\n}\n</code></pre>\n\n<p>This either renders the view.phtml template to return html or it converts the user object to a JSON response. A so-called view strategy determines how to render the response based on the request.</p>\n\n<p><strong>\"REST\" Application Flow in my webapp</strong></p>\n\n<p>This type of content negotiation works pretty good for many use cases:</p>\n\n<ol>\n<li><code>/user</code> or <code>indexAction()</code> returns an array of users => html of JSON possible;</li>\n<li><code>/user/1</code> or <code>viewAction()</code> returns user object => html or JSON possible (example from above);</li>\n<li><code>/user/1/update</code> or <code>updateAction()</code> returns a html form. A POST to this url returns html or JSON when errors are present. Or on success it redirects to <code>viewAction()</code> and thus returns the new version of the user => html and JSON again possible;</li>\n<li><code>/user/create</code> or <code>createAction()</code> returns a html form. A POST to this url returns html or JSON when errors are present. Or on success it redirects to <code>viewAction()</code> for the just created user => html and JSON again possible</li>\n</ol>\n\n<p><strong>My Question</strong></p>\n\n<p>There are a few use cases where the content negotiation is sort-of \"required\" in the controller layer. I am not sure if I overlook some possibilities: are there options I can use in for example the following cases?</p>\n\n<ol>\n<li>Delete a user: POST to the <code>/user/1/delete</code>. In case of a html view, you will be redirected to the list of users (where the deleted user is now missing). In case you want a JSON response, you want to return 200 OK and a JSON object with a message the delete was successful.</li>\n<li>Post a comment to a blog article. In case of a html view, you will be redirected to the post where you see your comment is appended. In case you ask for a JSON response, you want to return 200 OK and a JSON object with the comment you just placed. </li>\n</ol>\n\n<p>My goal would be to not replicate the content negotiation already present in the view layer. It would also make my controllers more fat, since I have now two possible responses (JSON vs html) but that might not be the only case. If I later want to support XML or another format, I have for every action switches for those response types.</p>\n"},{"tags":["asp.net-mvc","mvc","dependency-injection","inversion-of-control","dynamo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12834883,"title":"Dynamo IoC and Mvc","body":"<p>I'm trying out Dynamo IoC with the web extensions for Mvc, and I see they've done a great work creating a custom HttpApplication to derive your Global.asax from. However it seems I'm missing something.</p>\n\n<p>I want to accomplish DI in my controllers, but I'm stuck with the usual \"The controller must have a parameterless constructor\" problem.</p>\n\n<p>This is what I do in my global.asax (which derives from <code>DynamoMvcAndWebApiApplication</code>):</p>\n\n<pre><code>protected override void RegisterDependencies(Dynamo.Ioc.IIocContainer container)\n{\n    container.Register&lt;ILogger, FakeLogger&gt;();\n}\n</code></pre>\n\n<p>Then my controller:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    private readonly ILogger logger;\n\n    public HomeController(ILogger logger)\n    {\n        this.logger = logger;\n    }\n\n    public ActionResult Index()\n    {\n        logger.Log(\"test\");\n        return View();\n    }\n}\n</code></pre>\n\n<p>This gets me the \"no parameterless constructor error\". I thought the web extensions of Dynamo already took care of whatever was required to make DI work.</p>\n\n<p>If I add a parameterless constructor it gets called, but then my ILogger will be null, and I'll get a NullReferenceException in my action method.</p>\n\n<p>I thought about having to implement a ControllerFactory but I also thought that if it was mandatory they would have provided it along with all other stuff for MVC, so I think that I am misusing what is provided.</p>\n\n<p>I'd like to know if anyone knows how to make DI work in this scenario. Thanks.</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":320,"score":1,"question_id":4604696,"title":"Returning http status code 409 result unmolested","body":"<p>I am trying to return a HTTP response with 409 status code, content type \"application/json\" and a json data in the content.</p>\n\n<p>The problem is that at the client level, response.content returns html result. Somehow ASP.Net MVC has decided to return a html error message instead of what I intended. I've checked at web.config and 409 is not part of the custom error message. I've checked IIS 7.0 Error Pages section as well for 409 and it is not set there.</p>\n\n<p>I wonder where I can find the default configuration that manage asp.net mvc http error code mechanism. </p>\n\n<p>I am working based on ASP.Net MVC 2.0 and .Net 4.0 on Vista.</p>\n"},{"tags":["php","mysql","mvc","codeigniter","activerecord"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12889604,"title":"How to split a query result in to multi pages (pagination) and sort query data?","body":"<p>In my model I get the entire <code>order</code> table.</p>\n\n<pre><code>return $this-&gt;db-&gt;get('order')-&gt;result();\n</code></pre>\n\n<p>In my view i do a <code>foreach</code> to loop through the data. </p>\n\n<pre><code>&lt;?php foreach ($orders as $order) : ?&gt;\n&lt;tr&gt;\n   &lt;td&gt;&lt;?php echo $order-&gt;id; ?&gt;&lt;/td&gt;\n   &lt;td&gt;&lt;?php echo $order-&gt;order_status; ?&gt;&lt;/td&gt;\n   &lt;td&gt;&lt;?php echo $order-&gt;cart; ?&gt;&lt;/td&gt;\n     . . . \n&lt;?php endforeach; ?&gt;\n</code></pre>\n\n<p></p>\n\n<p>Ok so that works like a charm. However I need to be able to do some data arranging here.</p>\n\n<ol>\n<li>I want to be able to sort records by <code>id</code> so that I can get the latest on top</li>\n<li>I want to split the results (pagination) say every 25 records and add the (go to next page link)</li>\n</ol>\n\n<p>I'm using <strong>Codeigniter</strong> and building on the MVC pattern. So is their a library perhaps or built-in functions in <code>CI</code> that allow me accomplish these 2 objectives? I appreciate all helpful advice, code examples and general guidance. Thank you in advance for your time! :)</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>Sorry I didn't mention this.. Can someone give me an example of how the <code>query</code> needs to be structured <code>return $this-&gt;db-&gt;get('order', 25)-&gt;result();</code> isn't exactly giving me the desired result here.</p>\n"},{"tags":["mvc","iis7","performance"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":584,"score":0,"question_id":2320636,"title":"How can I optimize MVC and IIS pipeline to obtain higher speed?","body":"<p>I am doing performance tweaking of a simple app that uses MVC on IIS 7.5.\nI have a StopWatch starting up in Application_BeginRequest and I take a snapshot at Controller.OnActionExecuting.</p>\n\n<p>So I measure the time spend in the entire IIS pipeline: from request receipt to the moment execution finally gets to my controller.</p>\n\n<p>I obtain 700 microseconds on my 3GHz quad-core (project compiled Release x64), and I wonder where the bottleneck is, especially hearing some people say that one can get up to <a href=\"http://stackoverflow.com/questions/43743/asp-net-mvc-performance/530946\">8000 page loads per second</a> with MVC.</p>\n\n<p>How can I optimize MVC and IIS pipeline to obtain higher speed?</p>\n"},{"tags":["mvc","validation","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12864871,"title":"Prevent Code Repetition CodeIgniter Validation","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12485719/constructor-session-validation-for-different-functions\">Constructor session validation for different functions</a>  </p>\n</blockquote>\n\n\n\n<p><strong>Framework</strong> : CI (CodeIgniter)</p>\n\n<p><strong>Situation</strong> :</p>\n\n<p>I have 4 pages(controllers) namely:</p>\n\n<p><code>home</code>\n<code>login</code>\n<code>dashboard</code>\n<code>editprofile</code></p>\n\n<p><strong>ACCESS</strong></p>\n\n<ul>\n<li><p><strong>home</strong> can be accessed by all types of users, logged in or not</p></li>\n<li><p><strong>login</strong> must be only be access if not authenticated</p></li>\n<li><p><strong>dashboard</strong> and editprofile must only be accessed by students(authenticated users)</p></li>\n</ul>\n\n<p>I have this validatation for my controllers like this:</p>\n\n<pre><code>if($this-&gt;session-&gt;userdata('isLoggedIn')){\n    // stay here do the function\n} else {\n// leave this page\n    header('Location:'.base_url().'login');\n}\n</code></pre>\n\n<p>I have that in my <code>function index(){}</code>.</p>\n\n<p>But as I develop the system, as i create more methods, more controllers, it's becoming messier..\nfor you need to use  this</p>\n\n<pre><code>if($this-&gt;session-&gt;userdata('isLoggedIn')){\n// stay here do the function\n} else {\n// leave this page\nheader('Location:'.base_url().'login');\n}\n</code></pre>\n\n<p>everytime you have a method, </p>\n\n<p>i've read several questions in stackoverflow... and the only best answer is this: link here</p>\n\n<p>it says that i must use decorator pattern for that... but i don't clearly get how am i suppose to do that.</p>\n"},{"tags":["ruby-on-rails","mvc","routes","ruby-on-rails-3.2","custom-url"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12887706,"title":"Ruby on Rails: Showing Member's Name Instead of ID in Show","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3747483/making-a-pretty-url-via-ruby\">making a pretty url via ruby</a>  </p>\n</blockquote>\n\n\n\n<p>I have looked around but I can't find an answer.  I am either not asking the right question and/or I am not looking in the right place.</p>\n\n<p>I have the following defined:  </p>\n\n<pre><code>config/routes.rb\nresources :members\n\nmembers_controller.rb\ndef show\n@member = Member.find(params[:id])\nend\n</code></pre>\n\n<p>As of now when showing a member, the URL is <a href=\"http://myapp.tld/members/1\" rel=\"nofollow\">http://myapp.tld/members/1</a>.  Let's say the member's name was cooldude.  How hard would it be to show <a href=\"http://myapp.tld/members/cooldude\" rel=\"nofollow\">http://myapp.tld/members/cooldude</a> or even <a href=\"http://myapp.tld/cooldude\" rel=\"nofollow\">http://myapp.tld/cooldude</a> if possible?</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["javascript","mvc","mvvm","asp.net-mvc-4","client-side"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12883429,"title":"Updating/Returning ViewModel Back To Server","body":"<p>Being fairly new to web dev and MVC4, I am encountering the same design issue repeatedly and was hoping someone could tell me what the right/supported/etc.. solution was in the MVC4 world:</p>\n\n<p>Basically, I've drunk the view model koolaid and have view models for every view in my project, most of which are partial subviews dynamically updating on something of a single page application.  All proceeds well generating/rendering the view, and then a user updates a number of values on the client side and it's time to update the server. </p>\n\n<p>As an example, let's say it's a simple container view model:</p>\n\n<pre><code>public class Data {\n  public List&lt;Prop&gt; Props { get; set; }\n}\n\npublic class Prop {\n  public string Id { get; set; }\n  public int Value { get; set; }\n}\n</code></pre>\n\n<p>So let's just say the user is adding new props to the container.  How do I get the modified object back to the server?  </p>\n\n<p>So far: If it's important that the server be in sync realtime, I can make a call with each addition/update on the server and then either keep things in sync on the client or simply have the server return the updated view.  For simple scenarios like that, all is well.</p>\n\n<p>But I find myself often in the case where I want the client to be able to manipulate the object (through the view/js/etc) and I don't really need to update on the server until they are done and submit.  What I really want is to be able to pass the object down with the rendered view, interact with it via Javascript, and then pass the object back to the controller when all is done.  How do I that?  (Apologies it took a while to get to the point!)</p>\n\n<p>Alternatives I've seen:</p>\n\n<p>-- Quick &amp; Dirty (http://stackoverflow.com/questions/9741445/encode-viewmodel-properties-to-javascript-in-razor):  Which sure will put the object in javascript on the client, though it seems hack-ish to just be serializing the whole object into the client side html without any validation, etc.  (Though I do realize eventually that's how the object is making it's way down, but it seems like you're bypassing the whole MVC4 object handling/parsing.)</p>\n\n<p>-- Upshot.Js seemed promising with MS support at one time, but it seems that has died: <a href=\"http://stackoverflow.com/questions/12238855/current-status-of-upshot-js\">Current status of Upshot.js</a></p>\n\n<p>-- Breeze.js (http://www.breezejs.com/) seems to be an attempt to take over there, though my concern there is that it's fairly new and not much broad adoption yet.</p>\n\n<p>Ultimately the thing that makes me feel like I'm missing what must be a somewhat obvious alternative is that all the pieces are clearly built into MVC4 already.  When you use a form view for example, your fields are databound to the controls, and when the form is submitted, a parallel JSON object is created, sent to the controller, and then parsed into your POCO ViewModel object for you.  That's basically the roundtrip I'm looking for (though retaining the full JSON object clientside).  What's the \"proper\" way to handle that?</p>\n\n<p>Much appreciated all!<br>\n-Gene</p>\n"},{"tags":["php","mysql","query","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12886621,"title":"HOW TO DB query multi-tables relational db","body":"<h1><code>Customer table</code></h1>\n\n<pre><code>///////////////////////////////////////////////////////////\n|      id[PR]  |      name        |       email           |  \n|      10      |      fabio       |     fab@fab.com       |   \n|      11      |      james       |     james@james.com   |   \n</code></pre>\n\n<h1><code>Order table</code></h1>\n\n<pre><code>//////////////////////////////////////////////////////////////////\n|  order_id[PR]  |  ship_to[FK]  |  bill_to[FK]   | customer[FK] |  product, total, etc\n|      251       |       3       |         2      |       10     |  . . . \n</code></pre>\n\n<h1><code>Ship to table</code></h1>\n\n<pre><code>//////////////////////////////////////////////////////////////////////\n|   customer[FK]  |  ship_to[PR]  |   label   |    address           |  city, state, zip, etc\n|       10        |      3        |   office  |  123 main st         |  . . .\n|       10        |      1        |   home    |  85 some place st    |  . . .\n</code></pre>\n\n<h1><code>Bill to table</code></h1>\n\n<pre><code>///////////////////////////////////////////////////////////////////////////\n|   customer[FK]  |  bill_to[PR]  |   label   |    account                |  billing details\n|       10        |      2        |   visa    |  AES_CRYPT(temp storage)  |   . . .\n|       10        |      1        |     mc    |  AES_CRYPT(temp storage)  |   . . .\n</code></pre>\n\n<p>Ok so each customer can have multi-ship to addresses and multi-payment methods on file in their account. When they place an order the order table stores the cart and session information.</p>\n\n<p>I need to generate <code>invoices</code> how do I structure my query so that when i lookup the order table i can see the row of <code>ship to table</code> and the row of <code>bill to table</code> instead of the <code>id</code> of the row in the associated table.</p>\n\n<p>Now mind you i don't expect anyone to write my code but if you can please give me some links to read up on that would be great or an example would be awesome. Please note im building on codeigniter so im using the MVC pattern.</p>\n\n<p>? - Should all of these lookups be structured in 1 model function or should they be spread over several functions in the model?</p>\n\n<pre><code>return $this-&gt;db-&gt;get('order_table')-&gt;result();\n#this would return all the orders in the order table . \n</code></pre>\n\n<p>in my <code>view</code> i would foreach these results and make the order-id a link to more details/ invoice   page. How do i pass the values from the row to the model query to generate the proper details/invoice page?</p>\n\n<p>E.g. - So if you click on order 251, you will see a details page with an invoice that will say </p>\n\n<ol>\n<li>customer id 10</li>\n<li>name: fabio</li>\n<li>email: fab@fab.com</li>\n<li>ship to: office, 123 main st...</li>\n<li>bill to: visa, acct#, etc...</li>\n</ol>\n"},{"tags":["asp.net-mvc","mvc","razor","asp.net-mvc-4","asp.net-mvc-areas"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":791,"score":3,"question_id":11590822,"title":"Getting System.Web.Optimization to work in a razor view within a class library","body":"<p>I'm building a modular MVC4 app, where each module (=area) is a class library. Models and controllers compile into the .dll, the views get copied into the appropriate folder. At runtime, everything works fine. At design time there is one annoying problem left: When editing a razor view within a class library, Visual Studio doesn't recognize the System.Web.Optimization Namespace.</p>\n\n<pre><code>The name \"Styles\" does not exist in the current context.\nThe name \"Scripts\" does not exist in the current context.\n</code></pre>\n\n<p>I tried adding the assembly to the system.web/compilation section in the root and the inner web.config:</p>\n\n<pre><code>&lt;add assembly=\"System.Web.Optimization, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" /&gt;\n</code></pre>\n\n<p>I tried it without the specific version, too. Both methods didn't solve the problem, but triggered an asp.net runtime error (visible in the first line of the razor view):</p>\n\n<pre><code>Could not load file or assembly 'System.Web.Optimization, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified.\n</code></pre>\n\n<p>The assembly is referenced in the project and 'Copy Local' is set to 'True'. It's also added as a namespace in the razor configuration section.</p>\n\n<p>I suspect it's a general problem i'll encounter with other assemblies in the future.</p>\n\n<p><strong>Edit:</strong> I did the general setup to get Intellisense going in a razor view within a class library. Everything works so far, except that VS2010 doesn't recognize the Optimization Namespace.</p>\n"},{"tags":["php","performance","mvc","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12885270,"title":"Would there be benefit in CakePHP performance if it dropped support for JS/AJAX engines?","body":"<p>My main Question:</p>\n\n<p><strong>Is there any practical effect on performance of CakePHP (i.e. faster view rendering), if support for JS helpers was dropped from the core completely?</strong></p>\n\n<p>My reasoning: </p>\n\n<p>Right now CakePHP has a few classes that allow a programmer to create basic client-side code using PHP, both for things like effects and AJAX requests.</p>\n\n<p>There is some coupling with the View object, which could be degrading to performance.</p>\n\n<p>Considering that a lot of frameworks are moving to a RESTful model and in general it is hard to keep up with the changes of the client-side frameworks, while coupling them with the server-side framework, like CakePHP.</p>\n\n<p>I am wondering if it's worthwhile to drop support for JS/AJAX and focus on PHP framework patterns. Of course we lose the ability to write some JS code through the helpers, but in my opinion it is still best left to a JS framework. </p>\n\n<p>The benefits are reduced coupling, lighter weight, and possibly improved performance. </p>\n"},{"tags":["ruby-on-rails-3","mvc","rails-routing","railstutorial.org"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12878821,"title":"Extending ROR Tutorial: Microposts with their own page","body":"<p>I'm extending the functionality in Michael Hartl's ROR Tutorial, and I am trying to create individual pages for microposts. My question is very similar to <a href=\"http://stackoverflow.com/questions/10859118/ruby-on-rails-app-tutorial-cant-display-micropost-page\">this question</a>, but the answers to that question did not work for me.</p>\n\n<p>In the feed, when a title of a post is clicked I want it to go to a page for that post. For starters, every single post title links to the same URL: <strong>http://localhost:3000/microposts</strong> where I get a <strong>No route matches [GET] \"/microposts\"</strong> message.  I know something is missing that would make the link unique and take it to the the individual post. </p>\n\n<p>This is my <strong>_feed_item.html.erb:</strong></p>\n\n<pre><code>&lt;li id=\"&lt;%= feed_item.id %&gt;\"&gt;\n  &lt;%= link_to gravatar_for(feed_item.user), feed_item.user %&gt;\n  &lt;span class=\"title\"&gt;&lt;strong&gt;&lt;%= link_to feed_item.title, @micropost %&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;\n    &lt;span class=\"user\"&gt;\n      &lt;p&gt;&lt;small&gt;Created by: &lt;%= link_to feed_item.user.name, feed_item.user %&gt;&lt;br&gt;\n        &lt;%= feed_item.loc1T %&gt;&lt;br&gt;\n         &lt;%= feed_item.startTime.strftime('%A, %B %d, %Y') %&gt;&lt;/small&gt;&lt;/p&gt;\n    &lt;/span&gt;\n    &lt;span class=\"content\"&gt;&lt;%= feed_item.content %&gt;&lt;/span&gt;\n    &lt;span class=\"timestamp\"&gt;\n      Posted &lt;%= time_ago_in_words(feed_item.created_at) %&gt; ago.\n    &lt;/span&gt;\n  &lt;% if current_user?(feed_item.user) %&gt;\n    &lt;%= link_to \"delete\", feed_item, method: :delete,\n                                     data: { confirm: \"Are you sure?\" },\n                                     title: feed_item.content %&gt;\n  &lt;% end %&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>I added \"<code>:show</code>\" to <code>resources :microposts, only: [:create, :destroy, :show]</code></p>\n\n<p>This is my <strong>config/routes.rb:</strong></p>\n\n<pre><code>SampleApp::Application.routes.draw do\n  resources :users do\n    member do\n      get :following, :followers\n    end\n  end\n  resources :sessions, only: [:new, :create, :destroy]\n  resources :microposts, only: [:create, :destroy, :show]\n  resources :relationships, only: [:create, :destroy]\n\n  root to: 'static_pages#home'\n\n  match '/signup',  to: 'users#new'\n  match '/signin',  to: 'sessions#new'\n  match '/signout', to: 'sessions#destroy', via: :delete\n\n  match '/help',    to: 'static_pages#help'\n  match '/about',   to: 'static_pages#about'\n  match '/contact', to: 'static_pages#contact'\n</code></pre>\n\n<p>I added </p>\n\n<pre><code>def index\n      end\n</code></pre>\n\n<p>to my <strong>microposts_controller.rb:</strong></p>\n\n<pre><code>class MicropostsController &lt; ApplicationController\n  before_filter :signed_in_user, only: [:create, :destroy]\n  before_filter :correct_user,   only: :destroy\n\n  def index\n  end\n\n  def create\n    @micropost = current_user.microposts.build(params[:micropost])\n    if @micropost.save\n      flash[:success] = \"Micropost created!\"\n      redirect_to root_url\n    else\n      @feed_items = []\n      render 'static_pages/home'\n    end\n  end\n\n  def destroy\n    @micropost.destroy\n    redirect_to root_url\n  end\n\n  private\n\n    def correct_user\n      @micropost = current_user.microposts.find_by_id(params[:id])\n      redirect_to root_url if @micropost.nil?\n    end\nend\n</code></pre>\n\n<p><strong>$ rake routes</strong> regarding microposts looks like this:</p>\n\n<pre><code>    microposts POST   /microposts(.:format)          microposts#create\n     micropost DELETE /microposts/:id(.:format)      microposts#destroy\n               DELETE /relationships/:id(.:format)   relationships#destroy\n               GET    /microposts(.:format)          microposts#index\n               POST   /microposts(.:format)          microposts#create\n new_micropost GET    /microposts/new(.:format)      microposts#new\nedit_micropost GET    /microposts/:id/edit(.:format) microposts#edit\n               GET    /microposts/:id(.:format)      microposts#show\n               PUT    /microposts/:id(.:format)      microposts#update\n               DELETE /microposts/:id(.:format)      microposts#destroy\n</code></pre>\n"},{"tags":["mvc","interface","module","components","diagram"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12877938,"title":"modules contract by interface, diagram, logic, general informations","body":"<p>Here is my question, I hope that I'll write it correctly because it is a precise question.</p>\n\n<p>I wonder how to use the interfaces as a contract between two modules. When I draw the module diagrams I never knows which of the modules as the circle and which has the half-open circle. A clear way on how to make the distinction would be very appreciated!</p>\n\n<p>I don't want an example on how to use an interface because I know the properties of the interfaces (behaviors, etc).</p>\n\n<p>Let's say that I got 2 modules, one contains the Bussiness logic, so I'll call it \"Model\", the other contains the GUI so I'll call it \"View\".</p>\n\n<p>The view needs a Treeview and a Matrix on each nodes. So we got a tree-like hierarchie that the Model knows about, and for each node we want to fill a matrix of values.</p>\n\n<pre><code>root\n- node1\n-- leaf1\n-- leaf2\n- node2\n- node3\n-- leaf3\n-- leaf4\n</code></pre>\n\n<p>My guts are telling me that I should do something like this:</p>\n\n<pre><code>interface IModelHierarchicMatrix {\n    void setTreeViewValues(TreeViewModel treeview);\n    void getMatrixValues();\n    void setMatrixValues(int[] values);\n}\n\nclass Model implements IModelHierarchicMatrix {\n    // the code where I override the interface's function\n}\n</code></pre>\n\n<p>So nice, we can call the needed function for the GUI at the Model. But how can we tell the GUI's class that we need that kind of behaviors (class, etc)...\nI find myself often doing this kind of thing:</p>\n\n<pre><code>interface IModelHierarchicMatrixGlue {\n    void acceptModel(IModelHierarchicMatrix model);\n}\n\nclass Gui implements IModelHierarchicMatrixGlue {\n    private IModelHierarchicMatrix model;\n\n    ...\n\n    @Override\n    public void acceptModel(IModelHierarchicMatrix model) {\n        if (this.model == null) {\n            this.model = model;\n        }\n    }\n}\n</code></pre>\n\n<p>But I always wonder if it's a good way of creating the contract between the Model and the View.\nIf I got to create a bi-directional contract between the Modules, how should I do that? Because it might create a cyclic logic between the interfaces...</p>\n\n<p>I hope my question was clear enough, thanks in advance.</p>\n"},{"tags":["mvc","node.js","partial-views","railway.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12877573,"title":"Render partial in railway.js","body":"<p>I'm very new to node.js and I'm using the railway.js framework to learn MVC at the sametime. We use C# at work. I'm a front-end Dev.. I can't seem to figure out or see any documentation on how to render a partial view in railway properly. Any help would be appreciated. </p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12872577,"title":"return result from model to view (right MVC conception)","body":"<p>I dont know a good MVC pattern, now learn... So, I want to make: obtain rows from database, if result none (0 rows) print \"we have no results\", otherwise print results.</p>\n\n<p>In model I have this php code</p>\n\n<pre><code>function getAutos () {\n    //here connect to database\n\n    $res = $this-&gt;db-&gt;query(\"SELECT names FROM auto\");\n    if ($res-&gt;num_rows == 0) {\n        return \"we have no results\";\n    }\n    else {\n        return $res;\n    }\n\n}\n</code></pre>\n\n<p>this function  returns object or string, right? now in view I make:</p>\n\n<pre><code>&lt;!--some html code --&gt;\n&lt;?php\n$resultFromGetAutos  = /*result from function getAutos ()*/\n\nif (is_object(resultFromGetAutos)) {\n     while ($row = resultFromGetAutos-&gt;fetch_assoc()) {\n         echo row['names'].\"&lt;br&gt;\";\n    }\n}\nelse {\n    echo resultFromGetAutos;\n}\n?&gt;\n&lt;!--some html code --&gt;\n</code></pre>\n\n<p>It works, but as I understood, many PHP code  in view, is not right MVC, that is when I check result type in view: <code>if (is_object(Resultat)) {do something} else { do other something }</code>  this is not right MVC conception? if not right, how is right way in such situations?</p>\n"},{"tags":["jquery","mvc","spring-mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":79,"score":-3,"question_id":12874498,"title":"jQuery model-view-controller vs Spring MVC","body":"<p>my question is what potential problems or difficulties would be with implementing usual web app with somewhat reach user interface (multiple dynamic tabs, accordians and so on) using jQuery MVC approach with Spring REST vs using Spring MVC. \nProblems what I can think of could be: I will not be able to use Spring security fully, JavaScript coding could become hard to manage,  any form verification becomes not easy to manage...  what else?  and does jQuery MVC with REST make sense at all?\nOn other side jQuery with MVC and REST move all GUI concerns to JavaScript side (whether it is bad or not) and leave all data manipulation to server side.</p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12873655,"title":"Right mvc concept, little php code in view","body":"<p>I have one not understood point In MVC pattern. Please help understood.</p>\n\n<p>for example we have table for cars in database, we want obtain and print results from table, but if results are not found (0 rows), in this case print: \"We dont have results\"</p>\n\n<p>this is <code>models.php</code></p>\n\n<pre><code>class modesl {\n\nfunction getCars () {\n\n    $res = $this-&gt;db-&gt;query(\"SELECT names FROM cars\");\n    if ($res-&gt;num_rows == 0) {\n        return \"We dont have results\";\n    }\n    else {\n        return $res;\n    }\n\n}\n\n}\n</code></pre>\n\n<p>this is <code>views.php</code></p>\n\n<pre><code>class views {\n\n    function loadHTML ($resultFromCars) {\n         require 'carspage.php';\n    }\n\n}\n</code></pre>\n\n<p>this is <code>carspage.php</code></p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;?php\n\n    if (is_object($resultFromCars)) {\n        while ($row = $resultFromCars-&gt;fetch_assoc()) {\n            echo $row['names'].\"&lt;br&gt;\";\n        }\n    }\n    else {\n        echo  $resultFromCars;\n    }\n\n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>this is <code>controllers.php</code></p>\n\n<pre><code>class controllers {\n\n    function generatePage () {  \n        $model = new models();\n        $resultFromCars = $model-&gt;getCars();\n\n\n        $view = new views();\n        $view-&gt;loadHTML($resultFromCars);\n    }\n\n}\n</code></pre>\n\n<p>This works, but as I know, many php code in view, (that is condition <code>if (is_object) { } else { }</code> ) is not right MVC. tell please for this concret case, what must be change in my architecture (lol), for obtain right MVC concept?</p>\n"},{"tags":["android","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12872195,"title":"Passing data from Activity to model","body":"<p>I have a model represented with Foo object. Assume my model stores names and dates as following:</p>\n\n<pre><code>class Foo {\n  List&lt;String&gt; mNames;\n  List&lt;Date&gt; mDate;\n} \n</code></pre>\n\n<p>One of activities prints pairs of names-dates allowing user to modify the date: so there is a textView storing name and editText with date. </p>\n\n<p>How do I update the actual date in model except searching with the string key? I mean, the main problem is that I can modify my \"name\" field anyway before output. So I need to control my modification before using it as a key for update.</p>\n"},{"tags":["c#","mvc","iprincipal","iidentity"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1523,"score":0,"question_id":6597243,"title":"mvc implementing iprincipal and iidentity with use of custom membership and role provider","body":"<p>I'm stuck with the implementation of a custom iprincpal and iidentity object. I spend a day now for searching how to implement these right and extend it with more informations.</p>\n\n<p>I want to extend the Information @Context.User.Identity.Name with custom variables like full name or something else.</p>\n\n<p>Regards,\nfloat </p>\n\n<p>EDIT: Now i got the following code but if i try to read @((CustomPrincipal)Context.User.Identity).Nachname I'm getting a error that System.Web.Security.FormsIdentity could not be casted to CustomPrincipal. </p>\n\n<p>Any ideas?</p>\n\n<p>Class Custom Principal         </p>\n\n<pre><code>public class CustomPrincipal : GenericPrincipal\n{\n    public CustomPrincipal(IIdentity identity, String[] roles) : base(identity, roles){ \n\n    }\n    public String Vorname { get; set; }\n    public String Nachname { get; set; } \n}\n</code></pre>\n\n<p>AccountModel:</p>\n\n<pre><code>public class FormsAuthenticationService : IFormsAuthenticationService\n{\n    public void SignIn(string userName, bool createPersistentCookie)\n    {\n        if (String.IsNullOrEmpty(userName)) throw new ArgumentException(\"Der Wert darf nicht NULL oder leer sein.\", \"userName\");\n        // Grab user information to insert\n        KIMembershipUser membershipUser = (KIMembershipUser)Membership.GetUser(userName);\n        var customInfo = String.Format(\"{0}|{1}\", membershipUser.Vorname, membershipUser.Nachname);\n        // Create and encrypt the ticket\n        var ticket = new FormsAuthenticationTicket(\n            2, // Version number\n            userName, // Username\n            DateTime.Now, // Issue date\n            DateTime.Now.AddMinutes(30), // Expiration date\n            createPersistentCookie, // Is it persistent?\n            customInfo // User data\n        );\n        var encTicket = FormsAuthentication.Encrypt(ticket);\n        // Store the ticket into a cookie\n        var cookie = FormsAuthentication.GetAuthCookie(FormsAuthentication.FormsCookieName,createPersistentCookie);\n        cookie.Value = encTicket;\n        // Append the cookie to the response\n        HttpContext.Current.Response.Cookies.Add(cookie); \n\n        //FormsAuthentication.SetAuthCookie(userName, createPersistentCookie);\n    }\n\n    public void SignOut()\n    {\n        FormsAuthentication.SignOut();\n    }\n}\n</code></pre>\n\n<p>global.asax:</p>\n\n<pre><code>    protected void Application_PostAuthenticateRequest(){\n        // Collect current security information\n        var principal = HttpContext.Current.User as RolePrincipal;\n        if (principal == null)\n            return;\n        var identity = principal.Identity as FormsIdentity;\n        if (identity == null)\n            return;\n        var roles = principal.GetRoles();\n        // Extract user data in the authentication ticket\n        var customInfo = identity.Ticket.UserData;\n        var tokens = customInfo.Split('|');\n        // Build a richer principal object\n        var CustomPrincipal = new CustomPrincipal(identity, roles){\n            Vorname = tokens[0],\n            Nachname = tokens[1]\n        };\n        // Store the new principal in the HttpContext\n        HttpContext.Current.User = CustomPrincipal;\n    }\n</code></pre>\n"},{"tags":["mvc","architecture","coding-style","file-structure"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":55,"score":0,"question_id":12869724,"title":"Is it better practice to consolidate classes or have them all in separate files?","body":"<p>Are there any </p>\n\n<ol>\n<li>documented best practices one way or the other, or </li>\n<li>significant performance boosts for one or the other?</li>\n</ol>\n\n<p>I was having a debate with a friend and thought I would get the input from the community.</p>\n"},{"tags":["javascript","html","html5","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12831973,"title":"Backbone boilerplate router's root for offline and pre-production","body":"<p>I am using the backbone boilerplate here\n<a href=\"https://github.com/tbranyen/backbone-boilerplate\" rel=\"nofollow\">https://github.com/tbranyen/backbone-boilerplate</a></p>\n\n<p>I do development in static html/js offline and do test offline before uploading to another <strong>pre-production</strong> site online. What annoyed me is that the router works in <strong>pre-production</strong> but not offline. This is the <code>root</code> for pre:</p>\n\n<pre><code>  var app = {\n    // The root path to run the application.\n    root: \"/myfolder/\"\n  };\n</code></pre>\n\n<p>This is the URL for online <strong>pre-production</strong>:</p>\n\n<pre><code>http://www.mywebsite.com/myfolder/index.html\n</code></pre>\n\n<p>This is URL for offline:</p>\n\n<pre><code>file:///C:/Users/MyHome/Desktop/MyProject/MyApp/index.html\n</code></pre>\n\n<p>What do I use for <code>root</code> in offline? Is there a way NOT to keep changing <code>root</code> every time I upload to pre-production? Or does router not working in static html at all?</p>\n\n<p>p.s. This is the code in <strong>main.js</strong></p>\n\n<pre><code>Backbone.history.start({ pushState: true, root: app.root });\n</code></pre>\n"},{"tags":["mvc","frameworks"],"answer_count":10,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":361,"score":2,"question_id":785705,"title":"Which MVC framework","body":"<p>The following criteria has to be met:</p>\n\n<ul>\n<li>stable release (>= 1.0)</li>\n<li>strong community (e.g. lots of forum posts)</li>\n<li>active development (new releases coming out reasonably often)</li>\n<li>good documentation</li>\n<li>important: support (plugin, library, component) for embedding videos (videos will be hosted on local server, not on public video service provider). External component can be used.</li>\n<li>preferred if it's based on PHP, Java, Ruby, Python</li>\n</ul>\n"},{"tags":["ruby-on-rails","mvc","nested-resources"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12172391,"title":"Better way to optimize/refactor handling nested resources in Rails actions/views?","body":"<p>A friend of mine sent me some code who was having trouble understanding how nested resources work in Rails. Having worked with Rails for many years, I quickly explained it to him and then shared some code. Then I enhanced the code to show him an even better way.</p>\n\n<p>You can see the code at <a href=\"https://gist.github.com/3507589\" rel=\"nofollow\">this gist</a>. His code first, followed by my quick explanation code, and then a more complete/robust version.</p>\n\n<p>There are many ways to approach this. My question is, is there a better / more robust / more solid / more flexible / etc way than this? How do <strong>you other professionals</strong> do it?</p>\n"},{"tags":["php","mvc","datamapper"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":170,"score":4,"question_id":11942842,"title":"Who should handle the conditions in complex queries, the data mapper or the service layer?","body":"<p><a href=\"http://stackoverflow.com/questions/6624704/data-mapper-pattern-complexe-query-from-service-layer\">this question</a> did a very good job of clearing my confusion a bit on the matter, but I'm having a hard time finding reliable sources on what the exact limitations of the service layer should be.</p>\n\n<p>For this example, assume we're dealing with books, and we want to get books by author. The <code>BookDataMapper</code> could have a generic <code>get()</code> method that accepts condition(s) such as the book's unique identifier, author name, etc. This implementation is fairly trivial (logically), but what if we want to have multiple conditions that require a more complex query?</p>\n\n<p>Lets say we want to get all book written by a certain author under a specific publisher. We could expand the <code>BookDataMapper-&gt;get()</code> method to parse out multiple conditions, or we could write a new method such as <code>BookDataMapper-&gt;getByAuthorAndPublisher()</code>. </p>\n\n<p>Is it preferable to have the service layer call these [more specific] methods directly, or have the conditions parsed before calling the more generic <code>BookDataMapper-&gt;get()</code> method with multiple conditions passed? In the latter scenario, the service layer would do more of the logical \"heavy lifting,\" leaving the data mapper fairly simple. The former option would reduce the service layer almost entirely to just a middle-man, leaving conditional logic to the data mapper in methods like <code>BookDataMapper-&gt;getByAuthorAndPublisher()</code>.</p>\n\n<p>The obvious concern with letting the service layer parse the conditions is that some of the domain logic leaks out of the data mapper. (this is explained in the linked question <a href=\"http://stackoverflow.com/questions/6624704/data-mapper-pattern-complexe-query-from-service-layer#comment7833999_6626011\">here</a>. However if the service layer was to handle the conditions, the logic wouldn't make it out of the model layer; The controller would call <code>$book_service-&gt;getByAuthorAndPublisher()</code> regardless.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":69,"score":4,"question_id":12866506,"title":"Multiple MVC projects structure","body":"<p>I need help designing a MVC structure for use in a team environment?  Here is a short explanation of what we are doing:</p>\n\n<ul>\n<li>We have different departments that we will be moving to the web (MVC).  For instance, we have a Census Dept, Pipeline Dept, &amp; Compset Dept, etc.</li>\n</ul>\n\n<p>Options:</p>\n\n<ol>\n<li>I can setup a normal MVC solution in Visual Studio for each module.  So I could have a VS Solution for Census, one for Pipeline, etc.  That is all fine but I want to have a shared view(s) that can be used across projects (similar to a Master Page).  How would that work in this scenario?</li>\n<li>I can setup one MVC application that has Areas for each of the departments.  Not a bad option.  It solves my shared views issue.  However, I could end up with 12-15 different areas by the time we are done.  That is a lot of sub folders and code in one huge solution.  Not to mention the fact that I might want to separate my Model &amp; Repository out into their own projects.  Could that even be handled using Areas?</li>\n<li>If there are better idea for this, I'd appreciate help.</li>\n</ol>\n\n<p>We have 8 - 10 developers who will be working on this application(s) moving forward so I just want to make sure I have the best structure possible.</p>\n"},{"tags":["ruby-on-rails-3","mvc","redirect","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12867272,"title":"Rails 310 Redirect Loop","body":"<p>I'm going back to write a basic app with projects that have tasks.  In my show view of a project I want to list the tasks and also include a form.  When I wire this all up I get 310 Redirect loop.  It's been a while since I've written anything from scratch so would appreciate some help looking at my code.</p>\n\n<p>controller code:</p>\n\n<pre><code>def show\n     @project = Project.find(params[:id])\n     @task = @project.tasks.new(params[:task])\n\n     if @task.save\n         redirect_to @project, :notice =&gt; \"Task added\"\n       else\n         render action: :show\n       end\n   end\n</code></pre>\n\n<p>view code:</p>\n\n<pre><code>&lt;%= @project.project_name %&gt;\n&lt;%= form_for(@task) do |m| %&gt;\n&lt;%= m.label :Task %&gt;\n&lt;%= m.text_field :task_name %&gt;\n&lt;%= m.button :submit %&gt;\n&lt;% end %&gt;\n&lt;% @project.tasks.each do |t| %&gt;\n  &lt;%= t.task_name %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>project.rb</p>\n\n<pre><code>has_many :tasks\n</code></pre>\n\n<p>task.rb</p>\n\n<pre><code>belongs_to :project\n</code></pre>\n"},{"tags":["javascript","ruby-on-rails","mvc","post","iframe"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12864719,"title":"submit form in ruby on rails where action is your full url","body":"<p>So a follow up to this question: <a href=\"http://stackoverflow.com/questions/12844277/getting-bad-request-from-ruby-on-rails-ssl-post\">getting bad request from ruby on rails ssl post</a>. </p>\n\n<p>I fixed that problem and I make the next step in the transaction no problem. The problem I am facing is that their response is sent to an iFrame as a hidden form on an html document. The form then posts to a url that I provide them. </p>\n\n<p>I have tried giving them <code>localhost:3000/policies/complete</code> making a controller action and a route resource for the post but it doesn't ever show anything.\n- It just says <code>javascript error unable to load resource: localhost:3000/policies/complete</code> </p>\n\n<p>So then I tried just <code>/policies/complete</code> (with the coresponding method in my policies controller <code>complete</code>) but for some reason instead of posting to that action - it posted to <code>theirwebserver.com/policies/complete</code> which obviously doesn't exist.</p>\n\n<p>So since it looks like I have to pass in a whole url for it to work correctly the form is going to look like: <code>&lt;form method='Post' action='whatever whole url I give them'&gt;</code></p>\n\n<p>The form looks like this:</p>\n\n<pre><code>&lt;form name=\"frmReturn\" method=\"Post\" action=\"localhost:3000/policies/hosted_checkout_complete\"&gt;\n    &lt;input name=\"PaymentID\" type=\"hidden\" value=\"the value you need really badly!\"&gt;\n    &lt;input name=\"ReturnCode\" type=\"hidden\" value=\"0\"&gt;\n    &lt;input name=\"ReturnMessage\" type=\"hidden\" value=\"Your transaction has been approved.\"&gt; \n&lt;/form&gt;\n</code></pre>\n\n<p>Tl:DC How do I set up my app to handle that?</p>\n\n<p>I can request that they use <code>get</code> to send the information back to me. If that would be easier to set up and accept please let me know!</p>\n"},{"tags":["cocoa-touch","memory-management","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":2482,"score":7,"question_id":1842967,"title":"Using dismissModalViewControllerAnimated won't free any memory","body":"<p>I have a very simple code to show a modal controller (nextController is a class member):</p>\n\n<pre><code>nextController = [[InstructionsScreen alloc] initWithNibName:@\"InstructionsScreen\" bundle:nil];\n[self presentModalViewController:nextController animated:YES];\n[nextController release];\n</code></pre>\n\n<p>And then when the controller should hide:</p>\n\n<pre><code>[self dismissModalViewControllerAnimated:YES];\nnextController = nil;\n</code></pre>\n\n<p>All works good as expected, but when I run instrument Object Allocations it shows that after dismissing the modal controller the memory it allocated is not freed. This becomes a problem because when I show several controllers the memory is over ... </p>\n\n<p>Can anybody give me some clues ? Clang doesn't see any problems, so I'm stuck hitting the memory limit, because the memory of the dismissed controllers won't get released.</p>\n\n<p><hr></p>\n\n<p>EDIT: What I discovered up to now is that it seems to be a leak somewhere in Apple's stuff. Way to reproduce: XCode -> create new project with the template \"Utility application\". Don't write any code yourself. Just create a new utility application and run it with \"Object allocations\", choose to see \"Created &amp; Still living\". Now flip the modal controller few times - you'll see the allocated memory only grows and grows every time the modal controller is appearing and when it's disappearing too ... </p>\n"},{"tags":["objective-c","mvc","architecture"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12822343,"title":"Subview vs childViewController","body":"<p>This is a general question but I'll ask it using a specific example to avoid confusion:</p>\n\n<p>I'm developing an app that has a UIPickerView among other things on a single screen. I was wondering if it's appropriate the make a custom PickerViewController class to control my UIPickerView and then add my PickerViewController as a childVC...</p>\n\n<p>OR should I just create an instance of UIPickerView in my existing VC and control it from there? </p>\n\n<p>When should I do either of these options and what are the advantages of them?</p>\n\n<p>Appreciate the help amigos.</p>\n"},{"tags":["mvc","jsf","model-2-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":231,"score":0,"question_id":11283282,"title":"request.getParameter() returns null","body":"<p>Got a homework assignment that is giving me problems....  Its modifying a JSF project with two pages and a bean to fit MVC2 by adding two more pages and a controller servlet and another bean for the two additional pages.  the new main page forwards to either the second new page or the old first page.  My issue is response.getParameter() always results in null.</p>\n\n<pre><code>&lt;%@page session=\"false\" import=\"java.util.Iterator\"%&gt;\n&lt;%@taglib prefix=\"f\" uri=\"http://java.sun.com/jsf/core\"%&gt;\n&lt;%@taglib prefix=\"h\" uri=\"http://java.sun.com/jsf/html\"%&gt;\n&lt;jsp:useBean id=\"status\" scope=\"request\" class=\"JSFRegistration.Status\" /&gt;\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\n    \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;% if (status!=null &amp;&amp; !status.isSuccessful()){%&gt;\n            &lt;font color=\"red\"&gt;Processing errors:\n                &lt;ul&gt;&lt;%Iterator errors=status.getExceptions();\n            while (errors.hasNext()){\n                Exception e = (Exception) errors.next();%&gt;\n                &lt;li&gt;&lt;%= e.getMessage()%&gt;&lt;%}%&gt;&lt;/ul&gt;&lt;/font&gt;&lt;%}%&gt;\n        &lt;form action=\"LoginServlet\" method=\"POST\"&gt;\n            &lt;% String username = request.getParameter(\"username\");\n            if (username==null) username=\"\";%&gt;\n            &lt;input type=\"text\" name=\"usernameTF\" value=\"&lt;%=username%&gt;\" /&gt;\n            &lt;% String password = request.getParameter(\"password\");\n            if (password==null) password=\"\";%&gt;\n            &lt;input type=\"password\" name=\"passwordTF\" value=\"&lt;%=password%&gt;\" /&gt;\n            &lt;input type=\"submit\" value=\"Login\" /&gt;\n        &lt;/form&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>this is basically a direct copy from our book but the fields I need for the new main page.  Same for the controller servlet, a direct copy except only contains the fields I need.</p>\n\n<pre><code>protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n    RequestDispatcher view = null;\n    Status status = new Status();\n    request.setAttribute(\"status\", status);\n    String username = request.getParameter(\"username\");\n    String password = request.getParameter(\"password\");\n    if (username==null || username.length()==0)\n        status.addException(new Exception(\"Please enter username\"));\n    if (password==null)\n        status.addException(new Exception(\"Please enter password\"));\n    if (!status.isSuccessful()){\n        view = request.getRequestDispatcher(\"Login.jsp\");\n        //view.forward(request, response);\n    }\n    else\n        try{\n            request.setAttribute(\"username\", username);\n            request.setAttribute(\"password\", password);\n        view = request.getRequestDispatcher(\"Registration.jsp\");\n        } catch (Exception e) {\n            status.addException(new Exception(\"Error\"));\n            view = request.getRequestDispatcher(\"Login.jsp\");\n        }\n    view.forward(request, response);\n}\n</code></pre>\n\n<p>and the Status class, again a direct copy from the book.</p>\n\n<pre><code>public class Status {\nprivate ArrayList exceptions;\n\npublic Status(){\n    exceptions = new ArrayList();\n}\npublic void addException(Exception exception) {\n    exceptions.add(exception);\n}\npublic boolean isSuccessful(){\n    return (exceptions.isEmpty());\n}\npublic Iterator getExceptions(){\n    return exceptions.iterator();\n}\n</code></pre>\n\n<p>regardless of what is typed into the two boxes, stepping through a debug shows the values not getting passed to the parameters.  I get the created exceptions printed above the screen for both fields if both have text, if only one has text and when both are empty.  </p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":901,"score":2,"question_id":9776312,"title":"Hidden form fields not appearing in MVC Model after post-back","body":"<p>I have a new MVC 4 Application with a fairly basic View/Controller. The associated Model contains a couple properties that I've mapped to <strong>Hidden</strong> form fields. When the Page renders the first time (<em>e.g. via the HttpGet Action</em>) it all looks fine. But when the form is Post'ed by selecting the Submit button the resulting Model presented to the Action no longer has the Hidden field values set. Here is a walkthrough of the particulars.</p>\n\n<p>Here is a sample of the <strong>Model</strong>:</p>\n\n<pre><code>public class Application\n{\n    public bool ShowSideBars { get; set; }\n}\n</code></pre>\n\n<p>Here is the initial <strong>Controller</strong> *<em>Action</em>* (<em>which seems to work fine</em>):</p>\n\n<pre><code>[HttpGet]\npublic ActionResult Application()\n{\n    var model = Request.ParseFromQueryString&lt;Application&gt;();\n    model.ShowSideBars = true;\n\n    return View(model);\n}\n</code></pre>\n\n<p>This maps to the <strong>View</strong> as follows:</p>\n\n<pre><code>&lt;fieldset&gt;\n    @Html.HiddenFor(m =&gt; m.ShowSideBars)\n...\n&lt;/fieldset&gt;\n</code></pre>\n\n<p>This results in the following <strong>mark-up</strong> to be rendered inside the fieldset:</p>\n\n<pre><code>&lt;input data-val=\"true\" data-val-required=\"The ShowSideBars field is required.\" id=\"ShowSideBars\" name=\"ShowSideBars\" type=\"hidden\" value=\"True\" /&gt;\n</code></pre>\n\n<p><em><strong>Note</strong>: I sure wish I knew why MVC has decided to add the '... field is required' content when I didn't flag it as required, but that's for another question</em></p>\n\n<p>Here is the <strong>Action</strong> that is called when the form is submitted. At this point the aforementioned property will no longer be set to '<strong>true</strong>'. </p>\n\n<pre><code>[HttpPost]\npublic ActionResult Application(Application application)\n{\n    // Other work done here\n\n    return View(application);\n}\n</code></pre>\n\n<p>At present, there are no custom Model Binders. Also, I've tested some other data types and I'm seeing the same thing. </p>\n\n<p>Can someone explain why hidden form values are not being returned? Am I just doing this all wrong?</p>\n"},{"tags":["mvc","magento","shipping"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":174,"score":1,"question_id":6288738,"title":"Magento Shipping Options","body":"<p>I'm making a shipping module for Magneto.\nCan't figure out how to include a text-box or any other form elements in the shipping module.\nLike for example if I need to have special instructions box for shipping.</p>\n\n<p>Does anyone know how I can do this? In which file to add the code? config.xml, system.xml or the PHP file?</p>\n\n<p>I've managed to add a box in the admin side of it. But I need that to show up on the front end as well.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","sencha-touch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12865355,"title":"How to create an simple login and logout application in sencha touch","body":"<p>I am new to sencha touch but i have some experience on extjs like designing screens and using mvc so i am creating an phone based application which can do login and load's screen according to the user specified like if we are going for admin so it should open all screens or if am going with some other username it just open other screen like profile or something i wanna specify</p>\n\n<p>Basically creating a login and logout function/or screen based on Sencha touch 2 and i have desgined few screens like two textareas and a button if you wanted to take a look i can provide you the url </p>\n\n<p>Any references will sure help ....</p>\n\n<p>Thanks  </p>\n"},{"tags":["mvc","zend-framework","zend-acl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12852338,"title":"Zend_ACL - Cannot use my current model with it, I think I'm doing MVC the wrong way here","body":"<p>I've just started using Zend_ACL to restrict access to certain controllers based on user roles. Its working pretty fine except however now I need to set it up so that users can only access their own records. For example my application allows people to make bookings. I need to restrict using ACL that users can only view their own bookings on the application while administrators can see all bookings.</p>\n\n<p>I read about using assertations but some how I think I've been using my models the wrong way. Here is how I set up a typical model.</p>\n\n<pre><code>&lt;?php\n\nclass Model_Bookings extends Zend_Db_Table {\n\n  //class Variable\n  protected $_name = 'bookings';\n  protected $_primaryKey = 'id';\n\n  function _toArray($a, $index='id', $value='title') {\n  }\n\n  function add($data) {\n  }\n\n  function update($data) {\n  }\n\n  function delete($id) {\n  }\n\n\n  function get($id = false, $options = false) {\n\n  }\n\n}\n\n?&gt;\n</code></pre>\n\n<p>The model in this case doesn't correspond to a single instance of the booking object :( how can I use such a model in this case when restricting views using ACL i.e how can I set it up so that when the user goes to list of bookings he sees only his bookings. Do I need to do some major refactoring here? Please help.</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12850028,"title":"MVC3 Html.DropDownList  Value of DropDownList never changes","body":"<p>I have a DropDownList control inside of my model, TaskDetailsModel. I've declared my DropDownList as:</p>\n\n<pre><code>&lt;%= Html.DropDownListFor(model =&gt; model.TaskType, new SelectList(Model.TaskTypeDisplayNames, Model.TaskTypes))%&gt;\n</code></pre>\n\n<p>My model's corresponding class contains the following property declarations:</p>\n\n<pre><code>public class TaskDetailsModel\n{        \n    [DisplayName(\"Task Type\")]\n    public TaskType TaskType { get; set; }\n\n    public List&lt;TaskType&gt; TaskTypes = new List&lt;TaskType&gt; { TaskType.Decommission, TaskType.Install, TaskType.Modify, TaskType.Move, TaskType.Other, TaskType.Rename };\n    public List&lt;string&gt; TaskTypeDisplayNames = new List&lt;string&gt; { \"Decommission\", \"Install\", \"Modify\", \"Move\", \"Other\", \"Rename\" };\n}\n</code></pre>\n\n<p>When everything loads and displays to the user -- the correct TaskType selection has been made. That is, I have no problem loading with the non-default select option. As such, I believe that at least part of this code is working properly.</p>\n\n<p>However, any changes made to the select are lost. When I attempt to post my form back to the server -- I see that my selected option never changes. I was wondering what I am doing incorrectly to incur such behavior.</p>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>public TaskDetailsModel(Task task)\n{\n    TaskType = task.TaskType;\n}\n\n//Client-side code to retrieve form values:\nvar getDialogData = function () {\n    var dialogData = {};\n\n    $(workflowDialogContent).find('input,p,select').each(function () {\n        if ($(this).is('input')) {\n            dialogData[this.id] = $.trim($(this).val());\n        }\n        else if ($(this).is('select')) {\n            //At this point in time the selected option does not match what I see on the screen. The user has modified the selected value. I do not see it reflected here.\n            console.log(\"Inside here for:\", this);\n            dialogData[this.id] = $.trim($(this).find('option:selected').val());\n        }\n        else {\n            dialogData[this.id] = $.trim($(this).text());\n        }\n    });\n\n    return JSON.stringify(dialogData);\n};\n</code></pre>\n"},{"tags":["php","mvc","iis7"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":75,"score":-2,"question_id":12862815,"title":"One model, one view, one controller. Is there any very simple way to show this in an example?","body":"<p>I have searched and read about mvc.  I understand MVC.  I am only stuck on the beginnings.  If I can just get that rolling, I'll be alright to continue.  But as soon as I get going the writer throws in something they don't explain.  Example, they will show a model extends some class, but they never show you that class or don't explain it.  I know this has been asked a bunch on SO, but it seems to degrade into complexity too fast.</p>\n\n<p>Is it possible to just have one model, one controller, and one view and show that as an example?  Am I making it too simple?</p>\n\n<p>I have looked at various premade frameworks, codeigniter, wigbi, skinnymvc, etc.  I do not want to use them right now.  I understand OOP and OOD.  I just can't put this together for whatever reason.  Thanks for anything that shows a model, a controller, a view, one system, three pages, that isn't secretly three gigantic pages that are masquerading as simple, maybe just a select * from users.  I am trying to use PDO if that matters.</p>\n"},{"tags":["mvc","grails","scaffolding"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12861768,"title":"Scaffolding with Grails - How to use custom actions for custom views with the templates plugin","body":"<p>I need to build my own view which can be displayed by the default scaffolding mechanism. I've already installed the templates plugin with which you can modify the default layout of domain classes, controllers, views and a lot more.</p>\n\n<p>Therefore i've designed my own layout with the thought to display just forms and lists of data. Especially when i need to add some data via AJAX i need to load the rendered form for that via a scaffolded controller in a div-container.</p>\n\n<p>My controller looks like this:</p>\n\n<pre><code>class DummyController {\n static scaffold = true\n\n def ajx_create() {\n    render(view: \"ajx_create\")\n }\n}\n</code></pre>\n\n<p>Calling the function render('hello world') within the action ajx_create works but trying to call render(view:'ajx_create.gsp') does not. </p>\n\n<p>How can i configure the scaffolding mechanism to display this new file called ajx_create.gsp?\nIs this even possible? </p>\n\n<p>I'm grateful for any help!</p>\n"},{"tags":[".net","mvc","integration-testing","mstest"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":105,"score":2,"question_id":10270030,"title":"Can't get MvcIntegrationTestFramework to work","body":"<p>I'm trying to get Steven Sanderson's <a href=\"http://blog.stevensanderson.com/2009/06/11/integration-testing-your-aspnet-mvc-application/\" rel=\"nofollow\">MvcIntegrationTestFramework</a> to work with our MVC 4 application. I really like the idea of being able to write integration tests that does not require a browser yet tests the entire flow.</p>\n\n<p>I cant get this to run. When I execute a very simple test all I get is this:</p>\n\n<blockquote>\n  <p>Unable to create instance of class website.tests.UnitTest1. Error:\n  System.InvalidOperationException: Could not load\n  MvcIntegrationTestFramework.dll within a bin directory under\n  C:[path]\\Website. Is this the path to your ASP.NET MVC application,\n  and have you set up a post-build event to copy your test assemblies\n  and their dependencies to this folder? See the demo project for an\n  example..</p>\n</blockquote>\n\n<p>It is the correct path to the MVC application and Ive put the test project beside it in the solution. Ive also set up the post-build copy string and it copies the .dll files which I verify by looking in the MVC apps bin folder. Still it claims it cant find the <code>MvcIntegrationTestFramework.dll</code></p>\n\n<p>Im using MSTest as test framework.</p>\n\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["c#","jquery","ajax","mvc"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":3222,"score":4,"question_id":2526694,"title":"MVC partial page update","body":"<p>I have an MVC project where I have a form with fields a user can enter and save.  On that same page I have a table which shows a brief listing of information that the user just saved.  The problem I am having is trying to update only the table after a save and not an entire page refresh.  </p>\n\n<p>Is this possible in jquery or MVC?  If so does anyone have an example.    </p>\n\n<p>Here is what the action in the controller looks like:</p>\n\n<pre><code>public ActionResult RefreshList()\n    {\n        string _employeeID = Request.QueryString[\"empIDSearch\"];\n        this.ViewData[\"coursehistorylist\"] = _service.ListCoursesByEmpID(_employeeID);\n        return View(\"CourseHistoryList\");\n    }\n</code></pre>\n\n<p>The function in the view: (and this is where I'm confused on how to update only the table)</p>\n\n<pre><code>$.ajax({\n        url: \"/Home/RefreshList\",\n        type: \"POST\",\n        success: function(result) {\n            alert(\"got here\");\n        },\n        error: function(xhr, ajaxOptions, thrownError) {\n            alert(xhr.status + \" \" + thrownError + \" \" + ajaxOptions);\n        }\n    });\n</code></pre>\n\n<p>Grabbing the ViewData from the controller:</p>\n\n<pre><code>&lt;% foreach (var item in\n  (IEnumerable&lt;EdMVC.Models.tblEdCourse&gt;)ViewData[\"coursehistorylist\"])\n {\n%&gt; \n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["asp.net-mvc","mvc","separation-of-concerns"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":12844525,"title":"Separation of Concerns, Business logic vs Presentation logic","body":"<p>In MVC or in general, when trying to separate business logic from the view, how far do you go in terms of removing logic from the views? Should a view have zero logic? Should there be multiple static views with simple \"holes\" that variables fill, or can we have a single view that can output different html depending on the situation?</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Your name is @uname&lt;/h1&gt;\n        @if(account&lt;3000) { \n             &lt;p&gt;You are an ok customer&lt;/p&gt;\n        } else { \n             &lt;p&gt;You are a great customer&lt;/p&gt;\n        }\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Is the above OK, or should there be two views, one for an OK customer, and one for a great customer?</p>\n"},{"tags":["php","mvc","dependency-injection"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":8249986,"title":"Dependency Injection of optional user components","body":"<p>I've been trying to build my own PHP MVC framework purely as an educational exercise and I wanted some input on how best to deal/design the framework to support dependency injection of optional user components. </p>\n\n<p>For example, there is a 'core' framework config object and then, under the application folder, the user could specify their own application config file/object should they require it. </p>\n\n<p>Rather than create the core config object within a specific controller, I inject the core config object into the controller as this will make testing easier (and follows the principle of dependency injection). </p>\n\n<p>This is all well and good and makes sense, but what happens with the application config object? A user could use the framework and NEVER need an application specific config obejct/file and so injecting an application specific config object for every controller seems inefficient and a waste (on resources).</p>\n\n<p><strong>So basically what I'm asking is how can I support dependency injection of components that the user may or may not need?</strong></p>\n\n<p>Please keep in mind that I've very new to the idea of dependency injection and TDD, so I'm guessing there's a very trivial solution to the question above, but I haven't stumbled across it yet from all the articles I've read. </p>\n\n<p>I thought I found the answer in this <a href=\"http://misko.hevery.com/2008/08/21/where-have-all-the-singletons-gone/\" rel=\"nofollow\">http://misko.hevery.com/2008/08/21/where-have-all-the-singletons-gone/</a> Misko Hevery article, but I think factories do not solve the problem of optional user components. </p>\n"},{"tags":["javascript","mvc","extjs","extjs4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12857923,"title":"Ext.ComponentLoader lazy loading html+js within component","body":"<p>I have four files:</p>\n\n<pre><code>layout.html //contains ext resources\nlayout.js //contains my panel\npartial.html //contains &lt;script src=\"partial.js\"&gt;\npartial.js //contains a component\n</code></pre>\n\n<p>I have this panel configured in my layout.js:</p>\n\n<pre><code>var myPanel = Ext.widget('panel',{\n    title: 'Load HTML into panel',\n    html: 'initial',\n    width: 300,\n    height: 300,\n    loader: {\n        url: 'partial.html',\n        renderer: 'html',\n        scripts: true,\n        autoLoad: true\n    },\n    renderTo: Ext.getBody()\n});\n</code></pre>\n\n<p>And this code in my partial.js</p>\n\n<pre><code>Ext.onReady(function(){\n\n    var myDynPanel = Ext.widget('panel',{\n        title: 'Is this working',\n        html: 'Dynamic test',\n        //renderTo: 'myDynPnl'\n    });\n\n});\n</code></pre>\n\n<p>I want to render <em>myDynPanel</em> inside my <em>myPanel</em>. I am aware that the <code>renderer</code> config on the loader can be set to component, but I'm working with C#.NET MVC and I'm getting partial views results as HTML.</p>\n\n<p>My solution now is create a <code>&lt;div id=\"myDynPnl\"&gt;&lt;/div&gt;</code> inside partial.html and render the dynamic panel to the div. But I don't want to use id in my page.</p>\n\n<p>What is the best way to accomplish this. Thanks in advance.</p>\n\n<p>using:\nExtJS 4.1.2</p>\n"},{"tags":["android","mvc","class"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":57,"score":3,"question_id":12817350,"title":"Gui is update before function's execution complete","body":"<p>I have two activities in which I am using the same code for add, update and delete with an <code>AlertDialog</code>. Now I want to write that code in class file and then access that function from my  activities. I also want the <code>UI</code> to be updated only after the function completes execution.</p>\n\n<p>I have tried calling the function of class file like </p>\n\n<pre><code>Contact_update c=new Contact_update(context);\nc.delete();\nmyactivityfunction_gui_update();\n</code></pre>\n\n<p>But the problem is that before the function is completed the execution of the  <code>myactivityfunction_gui_update();</code> is getting called so I can't get updated result in my activity. Can anybody tell me what is the correct way?</p>\n"},{"tags":["php","oop","mvc","yii"],"answer_count":3,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":484,"score":7,"question_id":6289067,"title":"How to come up with a plan when developing a website with Yii","body":"<p>I am new to OOP and MVC, but have been programming procedurally with PHP for several years. Now its time to dive into OOP and MVC. I have installed a new web app with Yii and need a bit of direction. My client wants me to fork a website from the procedural PHP I coded to the Yii framework using OOP. The website contains recipes, comments, user registration, submit recipes, comment on them, manage their account, etc. Also, will be adding a new feature of user badges and tags similar to how SO uses them.</p>\n\n<p>My question is how to come up with a plan of attack using OOP. Would it be best to have a controller for each feature of the website, like RecipeController, and TagsController, and ViewRecipeController, BadgesController, AccountController, etc. or is that too simplified?</p>\n\n<p>Sorry, but with this being my first venture into OOP, and a framework, I'm a bit hesitant to start blindly. I have seen plenty of Hello World tuts but they don't reveal much else than the very basics. I'm looking for more information about planning the project and how to break it down into parts so it is logical and I won't have to start over a week from now because I didn't think of something or didn't know at the time. Just trying to get all my ducks in a row first.</p>\n\n<p>Thanks for the assistance!</p>\n"},{"tags":["mvc","xna","xna-4.0"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12853896,"title":"MVC in XNA game development - Am I doing it right? Rudimentary MVC GameEngine","body":"<p>I've read a lot about using MVC in game development and it seems to be a good way (speaking of testing, code reusing, etc ...)</p>\n\n<p>I created a XNA project and tried to implement MVC. But I'm not sure if I'm doing it right.\nYou can find the project at <a href=\"https://github.com/bux578/XNA-MVC-Template\" rel=\"nofollow\">https://github.com/bux578/XNA-MVC-Template</a> </p>\n\n<p>(Could you have a look at it?)</p>\n\n<hr>\n\n<p>I seperated the game into three blocks:</p>\n\n<ul>\n    <li>Renderers (the \"View\")</li>\n    <li>GameObjects and GameLogic (the \"Model\")</li>\n    <li>Controllers</li>\n</ul>\n\n<p>On top of these components is a GameEngine object (created by the XNA game class) which instantiates all of the components and handles the draw and update methods (game class calls <code>GameEngine.Draw</code> and <code>GameEngine.Update</code>)</p>\n\n<p>Additionally GameEngine creates the Player object and a World object.\nAll <code>GameObjects</code> are POCOs. The World holds the Player, the \"obstacles\" and \"enemies\".</p>\n\n<p>The World is passed as an argument to the <code>Renderers</code> so they have access to the object they need to draw and the world (if the objects need to visually interact with the world).</p>\n\n<p>The <code>Controller</code> recieves input and changes the model by using the <code>GameLogic</code>.</p>\n\n<hr>\n\n<p>If it's somehow helpful to you, feel free to extend, fork or copy it.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":102,"score":2,"question_id":12851919,"title":"Clueless About Rails... Demystify how to use variables across controllers views and models please","body":"<p>I am new to ruby and a total noob in rails. My head is spinning with octothorps and cucumber and BDD after reading Michael Hartl's tutorial.</p>\n\n<p>I have experience in server side development using Archaic Java and ugly jsp/servlets. I wanna be cool and learn rails.</p>\n\n<p>Need help understanding basic Rails Concepts, even after reading the book, it just doesn't click:</p>\n\n<ol>\n<li>I thought I knew how to use the darn instance variables across the Models, views and controllers, but when I use them things don't work. I need the rules for where I can use them, when and how. I kinda get how to use instance variables from the controller to the view. But Model to controller? - Clueless. </li>\n<li>Methods in the model, why do they need to be methods? Can i just create variables and use them in my controllers and views? How does that part work.</li>\n<li>um, sort of like the first question.. Variable usage in models and controllers ... ??</li>\n</ol>\n"},{"tags":["jquery","ajax","json","spring","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3357,"score":1,"question_id":8653915,"title":"JQuery send JSON to Spring MVC controller","body":"<p>I' not able to send a JSON object with JQuery Ajax to a Spring MVC controller. This is the definition of the method of my controller: </p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"InboxViewTemplate\")\npublic class InboxViewController {\n\n@ResponseBody\n    @RequestMapping(value = \"updateInboxView\")\n    public String updateInboxView(HttpServletRequest request, InboxView inboxView) {\n...\n}\n</code></pre>\n\n<p>then I'm trying to invoke this request:</p>\n\n<pre><code>$.ajax({\n            dataType: 'json',\n            contentType: \"application/json\",\n            url: ctx + \"/InboxViewTemplate/updateInboxView\",\n            data: ({inboxView : {createUser:\"dave\"}}),\n            success: function(data) {\n                $(\"#updateInboxView\").html(data);\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                alert(jqXHR + \" : \" + textStatus + \" : \" + errorThrown);\n            }\n          });\n      }\n</code></pre>\n\n<p>but the JSON object is not passed. Can someone help me? Thanks in advance.</p>\n"},{"tags":["mvc","asp.net-mvc-2","controller","datatables"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":10687981,"title":"Server side for datatables in MVC not working on deployment","body":"<p>I am using server side processing for my datatables in MVC 2.0 . I have a controller which I am using to handle the incoming requests.\nWhen I view the page on my localhost , it works fine and this is a sample of the request header it sends</p>\n\n<pre><code>http://localhost:42417/EmissionByRegion/DataProviderAction?_=1337611318226&amp;sEcho=1&amp;iColumns=40&amp;sColumns=&amp;iDisplayStart=0&amp;iDisplayLength=10&amp;mDataProp_0=0&amp;mDataProp_1=1&amp;mDataProp_2=2&amp;mDataProp_3=3&amp;mDataProp_4=4&amp;.......[it goes on till 39 columns]\n</code></pre>\n\n<p>This gets a valid json response and everything works well.\nBut when I publish this code on a server which is using IIS 7.5 , when there is a postback to the server with the same request parameters:</p>\n\n<pre><code>http://domain.com/EmissionByRegion/DataProviderAction?_=1337612368137&amp;sEcho=1&amp;iColumns=40&amp;sColumns=&amp;iDisplayStart=0&amp;iDisplayLength=10&amp;mDataProp_0=0&amp;mDataProp_1=1&amp;mDataProp_2=2&amp;mDataProp_3=3&amp;mDataProp_4=4&amp;........\n</code></pre>\n\n<p>I get a 404 - File or directory not found.</p>\n\n<p>If i just type this : domain.com/EmissionByRegion/DataProviderAction</p>\n\n<p>, it shows that the controller is there and is looking for valid parameters. So it is picking up the controller but when the parameters are being passed, it doesnt work.\nWhy is the same project not working on the server even though it was working on the local machine and what do I do to get it to work?\nPlease help .\nThanks </p>\n"},{"tags":["php","mysql","mvc","doctrine","relational-database"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12850629,"title":"Doctrine, Entities design for simple CMS?","body":"<p>Im trying to build blog system using my homemade PHP MVC Framework.\nFramework layer is pretty nice, I have routing and dispatcher that invokes appropriate controller. From controller I have access to Dependency Injection Container where I can get services defined in config like this:</p>\n\n<pre><code>$orm = $this-&gt;container-&gt;getService(\"DoctrineOrm\");\n$pages = $orm-&gt;getRepository('Models\\Entities\\PagesRepository')-&gt;getAllPages();\n</code></pre>\n\n<p>Now Im stuck with building database schema for this application. Its something like Micro CMS. I would like to have pages, that would be joust static pages with page_url, and page_content. But I also want to have blog that would have posts, categories, comments etc...</p>\n\n<p>Im using Doctrine ORM for mapping.</p>\n\n<p>Routes look like this:</p>\n\n<pre><code>'/'                           =&gt; 'Page-&gt;index()',\n'/{pageurl}'                  =&gt; 'Page-&gt;page($pageurl)', // shows page with url = {$pageurl}\n\n'/{pageurl}/post/{url}'       =&gt; 'Blog-&gt;post()', // shows post with url =&gt; {$url}\n'/{pageurl}/posts/{num}'      =&gt; 'Blog-&gt;posts()', // lists 10 posts starting with {$num}\n'/{pageurl}/category/{url}'   =&gt; 'Blog-&gt;category()', // shows posts in category with url = {$url}\n'/{pageurl}/categories/{num}' =&gt; 'Blog-&gt;categories()', // lists 10 categories starting with {$num}\n</code></pre>\n\n<p>Now the problem is that I would have any number of Page Entities that would represent statical page. And I would have only one Blog page. That Blog page would have Posts and Categories. But I want both Page Entity and Blog Entity to act as a Page that has its URL.</p>\n\n<p>So how would I build entities with Doctrine to have both Page and Blog act as a page? And the problem is how can I check if requested page is Static Page, or Blog Page, since from Controller I would only have $pageurl? \nShould I use inheritance with Doctrine here? The problem is that I get $pageurl, and dont know should I return static page, or its a blog page so I need to fetch posts, categories etc...</p>\n\n<p>Hope you understand my problem, if something is not clear, please ask.</p>\n"},{"tags":["java","spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":12848989,"title":"Return Custom object from Spring Controller","body":"<p>I'm sending an ajax request from a web page which get's mapped to a method in my controller. I return type of this method I have set to a custom MessageForm object, which I create inside the method. </p>\n\n<p>The problem is I'm getting a 500 internal server error when I send the ajaz request, but don't know why.</p>\n\n<p>Do I have to return a specific object from a controller method?</p>\n\n<p>Thanks.</p>\n"},{"tags":["json","spring","mvc","list"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":125,"score":1,"question_id":11190763,"title":"Mapping one item posted in json object to the list object in Spring MVC","body":"<p>I have in trouble with posting json object and mapping it with List object in Spring MVC controller. I have the form that has several checkboxes. When a user checks and submits, data in the form is deserialized, sent to Spring MVC controller and mapped to List type object. When a user checks two or more checkboxes, it works fine. but for just one box, it doesn't. </p>\n\n<p>When a user checks two or more, the data is deserialized like below.</p>\n\n<pre><code>{\"users\":[\"137\",\"138\"]}\n</code></pre>\n\n<p>However, when a user checks just one checkbox, it is like</p>\n\n<pre><code>{\"users\":\"138\"}\n</code></pre>\n\n<p>and 400 bad request error is returned.</p>\n\n<p>Is there any workaround or solution for this?</p>\n\n<p>The jqeury codes are:</p>\n\n<pre><code>$(document).ready(function() {\n    $('#groupusers').submit(function() {\n    var users = $(this).serializeObject();\n    $.postJSON(\"${context}/admin/groups/${group.seq}/users\", users, function(result) {\n        ...\n    });\n    return false;\n});\n</code></pre>\n\n<p>And the form is:</p>\n\n<pre><code>&lt;form id=\"groupusers\" method=\"post\" accept-charset=\"UTF-8\" action=\"/\" class=\"edit_group\"&gt;\n  ...\n  &lt;div id=\"users\"&gt;\n    &lt;c:forEach var=\"user\" items=\"${users}\"&gt;\n      &lt;label&gt;&lt;input id=\"users\" name=\"users\" type=\"checkbox\" value=\"${user.seq}\" /&gt; ${user.firstName} ${user.lastName}&lt;/label&gt;&lt;br&gt;\n    &lt;/c:forEach&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>List object mapped to the form data:</p>\n\n<pre><code>public class AssignedUsers {\n  private List&lt;Long&gt; users;\n  ...\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","mvc","web-applications","frameworks","single-page-application"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12847236,"title":"Pure-Javascript MVC-framework","body":"<p>I recently made use of Backbone as the <strong>MVC-framework</strong> for the <strong>single page web application</strong> we developed in my company. I found out that Backbone lacks some features that are quite important for larger applications (<strong>e.g. ui bindings, module-concept as in CommmonJS</strong>) poor model-definitions).</p>\n\n<p>During my research on JavaScript-MVC-frameworks that would fill those gaps I only found frameworks requiring <strong>additional server software, compiling</strong> and so on.</p>\n\n<p>Aren't there any pure-JS-MVC-frameworks?</p>\n\n<p>Thanks in advance :)</p>\n\n<p>Best wishes</p>\n\n<p>Leo</p>\n"},{"tags":["javascript","mvc","frameworks","single-page-application"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12846920,"title":"Javascript MVC-framework (JS only)","body":"<p>Are there any JavaScript-MVC-frameworks for single page applications? (JS only, so without the need to compile or additional server software)</p>\n\n<p>Note that I recently abandoned Backbone after using it for a quite large application.\nResons: Missing ui bindings, no module-concept (e.g. CommmonJS-like), poor model-defnitions and so on.</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12823986,"title":"Can I have a Partial controller in Zend?","body":"<p>In the Zend Framework is it possible to have a controller which executes some logic and then sets some view variables ready for the partial to display? </p>\n\n<hr>\n\n<p>To clarify I have a view which implements a partial.</p>\n\n<p>I have logic in my partial to get some items from the database. It then displays the items.</p>\n\n<p>At the moment the logic is in the partial's view (.pthml file).</p>\n\n<p>Is there a controller or something I can use to execute this logic outside the partial view? </p>\n\n<p>As I understand the MVP pattern, I shouldn't have logic like this in the view.</p>\n"},{"tags":["asp.net-mvc","mvc","object","action","asp.net-mvc-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":9086272,"title":"How do I convert an object to a RouteValueDictionary inside an Action?","body":"<p>I need to be able to pass multiple parameters if needed into an action. They will ultimately be passed into a second action which will know the details (how many, what they are called) but my first action does not need to know this, it just needs to pass them on.  So I call the first action like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>RedirectToAction(\"Action1\", \"Controller1\", new {\n                     dcontroller = \"Controller2\",\n                     daction = \"Action2\",\n                     dparameters = new { tabSelected = \"1\" }\n                 })\n</code></pre>\n\n<p>and <code>dparameters</code> gets passed, but when I get into the action that needs to use the parameters I can't get at them. The object looks like this:</p>\n\n<pre><code>... dparameters [string[1]}\n [0]\"{ tabSelected = 1 }\"\n</code></pre>\n\n<p>but if I try <code>dparameters[0]</code> I get the error</p>\n\n<blockquote>\n  <p><code>Cannot apply indexing with [] to an expression of type 'object'.</code></p>\n</blockquote>\n\n<p>I also tried</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>RouteValueDictionary p = new RouteValueDictionary(dparameters);\n</code></pre>\n\n<p>which created a p with 7 Key / item pairs, <code>p.Key[3] = SyncRoot</code>, <code>p.Value[3] = string[1]</code> and I'm back to the same issue.</p>\n"},{"tags":["java","mvc","jdbc","dao"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12831876,"title":"Creating JDBC Connections Outside The DAO","body":"<p>So I just finished learning JDBC this weekend and have successfully transferred my code from the main method into an MVC app. The purpose of this application is to hold a roster of players and display a users credentials if requested. The program works great and when I request a url like...</p>\n\n<pre><code>http://localhost:8084/gmustudent/players?id=1\n</code></pre>\n\n<p>I get the correct output for that player! The problem is I am performing the database connection within my PlayersDAO class and I assume that this is not the \"best\" way to do this. So I have two questions.</p>\n\n<ol>\n<li>Is there a way to perform the database connection within the web.xml\nfile or some other file so that when the server is initially started it will\nimmediately perform the connection to the database and be ready to\nquery when asked?</li>\n<li>And is this actually a better alternative to having the connection in the DAO or would this have unforeseen negative drawbacks. AKA would a constant connection to my database be exactly what I do not want?</li>\n</ol>\n\n<p>Any comments or links would be greatly appreciated. And I'll share the code I currently have for my DAO class so that you can see what I have so far. Thank you all!</p>\n\n<pre><code>package com.jdbc.test;\n\nimport java.sql.SQLException;\nimport java.sql.Connection;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\nimport java.sql.DriverManager;\n\npublic class PlayersDAO \n{\n    public static Players viewPlayer(int id) throws SQLException\n    {\n        Connection connection = null;\n        Statement statement = null;\n        ResultSet resultSet = null;\n        Players playerObject = null;\n\n        try\n        {\n            String url = \"jdbc:mysql://localhost:3306/gmustudent\";\n            String username = \"root\";\n            String password = \"root\";\n\n            try\n            {\n                Class.forName(\"com.mysql.jdbc.Driver\");\n            }\n            catch(ClassNotFoundException error)\n            {\n                System.out.println(\"Error: \" + error.getMessage());\n            }\n\n            connection = DriverManager.getConnection(url, username, password);\n            statement = connection.createStatement();\n            resultSet = statement.executeQuery(\"SELECT * FROM players WHERE id = \" + id);\n\n            if(resultSet.next())\n                playerObject = new Players(resultSet.getLong(\"id\"), resultSet.getString(\"name\"), resultSet.getString(\"position\"), resultSet.getString(\"height\"), resultSet.getString(\"year\"), resultSet.getString(\"hometown\"), resultSet.getString(\"highschool\"), resultSet.getString(\"headshot\"));   \n        }\n        finally\n        {\n            if (connection != null) try{connection.close();} catch(SQLException ignore) {}\n            if (statement != null) try{statement.close();} catch(SQLException ignore) {}\n            if (resultSet != null) try{resultSet.close();} catch(SQLException ignore) {}\n        }\n\n        return playerObject;\n    }\n}\n</code></pre>\n"},{"tags":["java","ajax","hibernate","mvc","jsp"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":12816687,"title":"Sample Ajax program for JSP+Servlets+Hibernate","body":"<p>In my app im using JSP as view,servlet as controller,hibernate as model..</p>\n\n<p>in that app jsp pages im have to fill form while creating new user with fields like username and all.</p>\n\n<p>now i want to use AJAX code to check if username name with entered name in form is already there in the database or not...</p>\n\n<p>can any1 guide me how to write coding for this as well as the control flow..</p>\n\n<p>i have googled but didnt got any idea how to do this requirement..</p>\n\n<p>thanks in advance</p>\n"},{"tags":["java","swing","mvc","undo-redo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12823044,"title":"using undo/redo in Swing for an MVC model?","body":"<p>I have an MVC model,and Im trying to add an undo/redo feature to it.\nUser can place a number in a JTextField, and when they click the UNDO button, it should be erased.\nI have provided the code for my classes that implement this. The error I get is at the bottom.</p>\n\n<p>The Control package:</p>\n\n<h1>ButtonnGUIControl.java</h1>\n\n<p>package control;</p>\n\n<p>/**\n * This class will control the button actions of the GUI.It implements the actionListener() method \n *  and based on the button that was clicked, it initializes the \n * corresponding component in the model class.\n * \n */</p>\n\n<pre><code>public class ButtonGUIControl implements ActionListener{\nprivate SudokuModel model;\nprivate ButtonGUI bgui;\nfinal UndoManager manager = new UndoManager();\n\n\n\npublic ButtonGUIControl(SudokuModel model) {\n    this.model = model;\n}\n\n/*This method will listen for user events, and act accordingly\n * */\n\npublic void actionPerformed(ActionEvent e) {\n    try {   \n         if(e.getActionCommand().equals(\"Check My Answer!\")){\n\n            model.checkGame();\n        }\n\n\n         else if (e.getActionCommand().equals(\"Undo\")){\n\n             try {\n\n                    manager.undo();\n                } catch (CannotUndoException ex) { ex.printStackTrace(); }\n                finally {\n                    //updateButtons();\n                }                   \n         }\n         else if (e.getActionCommand().equals(\"Redo\")){\n\n             manager.redo();\n             System.out.println(\"e.getActionCommand().equals redo\");\n         }\n\n        //otherwise, it simply places the selected number in the grid\n        else{\n\n            model.setNumber(Integer.parseInt(e.getActionCommand()));\n        }\n\n    } catch (NumberFormatException e1) {}\n\n    catch (IOException e1) {}\n    catch (CannotUndoException ex) {\n        System.out.println(\"Unable to undo: \" + ex);\n        ex.printStackTrace();\n        }\n    catch (CannotRedoException ex) {\n        System.out.println(\"Unable to redo: \" + ex);\n        ex.printStackTrace();\n    }    \n\n}\n\npublic void undoableEditHappened(UndoableEditEvent evt) {\n\n    manager.addEdit(evt.getEdit());\n\n    //bgui.updateButtons();\n\n}\n</code></pre>\n\n<p>}</p>\n\n<hr>\n\n<p>In the view package:\nButtonGUI.java</p>\n\n<p>I add an actionListner to the buttons:</p>\n\n<p>RedoBttn.addActionListener(buttonController);</p>\n\n<p>UndoBttn.addActionListener(buttonController);</p>\n\n<hr>\n\n<p>In the Grid.java, which extends the JTextField:</p>\n\n<pre><code>public class Grid extends JTextField {\nprivate int x;       \nprivate int y; \n\nfinal UndoManager manager = new UndoManager();\n\n\npublic Grid(int x, int y) {\n    super(\"\");\n    this.x = x;\n    this.y = y;\n    getDocument().addUndoableEditListener(manager);\n\n\n\n    setPreferredSize(new Dimension(40, 40));\n    setBorder(BorderFactory.createLineBorder(Color.GREEN));\n    setOpaque(true);\n}\n\n\npublic void setNumber(int number, boolean userInput)  {\n\n\n    if(number &gt; 0 &amp; !userInput){\n        setText(\"\"+number);\n        setEditable(false);\n\n\n    }\n\n    //These set of numbers are the only ones that the user can undo/redo\n    else if (number &gt; 0 &amp; userInput){\n        setText(\"\"+number);\n        setEditable(true);\n}\n    else\n    setText(\"\");\n</code></pre>\n\n<hr>\n\n<p>I also added a mouse listenr to each of the JTextFields in another class in the view package.\nSo I think I have the undo/redo structure right.\nWhen I run the program, I can select a number and place it in a JTextField(grid), but as soon as I hit \"undo\" I get the following exception:</p>\n\n<pre><code>    javax.swing.undo.CannotUndoException\nat javax.swing.undo.UndoManager.undo(UndoManager.java:411)\nat control.ButtonGUIControl.actionPerformed(ButtonGUIControl.java:76)\nat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\nat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\nat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\nat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\nat java.awt.Component.processMouseEvent(Component.java:6505)\nat javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\nat java.awt.Component.processEvent(Component.java:6270)\nat java.awt.Container.processEvent(Container.java:2229)\nat java.awt.Component.dispatchEventImpl(Component.java:4861)\nat java.awt.Container.dispatchEventImpl(Container.java:2287)\nat java.awt.Component.dispatchEvent(Component.java:4687)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\nat java.awt.Container.dispatchEventImpl(Container.java:2273)\nat java.awt.Window.dispatchEventImpl(Window.java:2713)\nat java.awt.Component.dispatchEvent(Component.java:4687)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)\nat java.awt.EventQueue.access$000(EventQueue.java:101)\nat java.awt.EventQueue$3.run(EventQueue.java:666)\nat java.awt.EventQueue$3.run(EventQueue.java:664)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\nat java.awt.EventQueue$4.run(EventQueue.java:680)\nat java.awt.EventQueue$4.run(EventQueue.java:678)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:677)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n\n<p>and line 76 is where I call:</p>\n\n<pre><code>    manager.undo() \n</code></pre>\n\n<p>in a try/catch block.</p>\n\n<p>Any idea whats wrong? Is it my undo/redo implementation or  something else?</p>\n\n<p>Thanks!!!</p>\n"},{"tags":["javascript","jquery","mvc","knockout.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12840023,"title":"How to change the index of a knockoutjs observableArray without replacing the whole array","body":"<p>Im a knockoutjs newbie, Basically what I want to do on the page is, I load a list of activation Details in the view,\neach with a remove link associated with a list item.\neach activation detail item contains three properties, index,ActivationDate and ExpiryDate,\neg.</p>\n\n<pre><code>    var activationItem = {\n            'index': count,\n            'activationDate': item.activationDate,\n            'expiryDate': item.expiryDate\n        };\n</code></pre>\n\n<p>Now everytime a user clicks remove on any particular item. it should re-order all the lists index to still reflect properly incremented indexes. eg 1,2,3,4 instead of 1,3,4 if item 2 was removed.</p>\n\n<p>How've done it is replacing the array. as follows:</p>\n\n<pre><code>       //Removes selected item from activationlist\nself.RemoveActivationListItem_Click = function () {\n\n    self.activationListItems.remove(this);\n\n    var count = 1;\n    var replaceArray = ko.observable([]);\n\n    //Re index all of the array items\n    ko.utils.arrayForEach(self.activationListItems(), function(item) {\n\n        var activationItem = {\n            'index': count,\n            'activationDate': item.activationDate,\n            'expiryDate': item.expiryDate\n        };\n\n        replaceArray().push(activationItem);\n\n        count++;\n\n    });\n\n    self.activationListItems.removeAll();\n    self.activationListItems(replaceArray());\n\n    TINY.box.show({ html: \"Activation item removed\", animate: true, close: false, boxid: 'message',autohide:5,top:90,left:0});\n\n};\n</code></pre>\n\n<p>Is there not a better method than this?</p>\n"},{"tags":["mvc","menu","extjs4","treepanel"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1177,"score":3,"question_id":7452311,"title":"Extjs4 how to change the store in treepanel","body":"<p>I have some menu tree stores in 'app/store/', such as 'menu1.js' , 'menu2.js'.\nIn my web page, I have a navigation bar at top region with many buttons to control the menu tree at left region to change the menu. But I do not know how to change the store in this tree panel.\nHere is my code:</p>\n\n<p>app/store/Menus1.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Ext.define('Crm.store.Menus1', {\n    extend: 'Ext.data.TreeStore',\n    root: {\n        expanded: true, \n        children: [{    \n            text: \"subroot1\",\n            expanded: true,\n            children:[\n                { id: 'item01', text: \"item1\", leaf: true },\n                { id: 'item02', text: \"item2\", leaf: true },\n            ]\n        }, {\n            text: \"subroot2\",, \n            expanded: true, \n            children: [\n                { id: 'item03', text: \"item3\", leaf: true },\n                { id: 'item04', text: \"item4\", leaf: true }\n            ]\n        }]\n    }\n});\n</code></pre>\n\n<p>app/store/Menus2.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Ext.define('Crm.store.Menus2', {\n    extend: 'Ext.data.TreeStore',\n    root: {\n        expanded: true, \n        children: [{\n            text: \"subroot1\",\n            expanded: true,\n            children:[\n                { id: 'item05', text: \"item5\", leaf: true },\n                { id: 'item06', text: \"item6\", leaf: true },\n            ]\n        }, {\n            text: \"subroot2\",, \n            expanded: true, \n            children: [\n                { id: 'item07', text: \"item7\", leaf: true },\n                { id: 'item08', text: \"item8\", leaf: true }\n            ]\n        }]\n    }\n});\n</code></pre>\n\n<p>app/view/MenuBar.js (ie: I do not set its store)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Ext.define('Crm.view.MenuBar', {\n    extend: \"Ext.panel.Panel\",\n    alias:'widget.crm_menubar',\n    initComponent: function() {\n        Ext.apply(this, {\n            id: 'crm-menuBar',\n            xtype:'panel',\n            width: 212,\n            frameHeader:false,\n            hideCollapseTool:true,\n            split: true,\n            collapsible:true,\n            collapseMode: 'mini',\n            items: [\n                Ext.create('Ext.tree.Panel', {\n                    id: 'menutree',\n                    border: false,\n                    margin:'5 4 0 4',\n                    height: '98%',                  \n                    rootVisible: false,\n                }),\n            ]\n        });\n        this.callParent();\n    }\n});\n</code></pre>\n\n<p>app/controller/Navi.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Ext.define('Crm.controller.Navi', {\n    extend: 'Ext.app.Controller',\n    requires: [ 'Crm.store.Menus1', 'Crm.store.Menus2' ],\n    stores: [ 'Menus1''Menus2' ],\n    refs: [\n        { ref: 'crm_naviationBar', selector: 'crm_naviationBar' },\n        { ref: 'crm_menubar', selector: 'crm_menubar' } \n    ],\n    init: function(){\n        var menutree = Ext.getCmp('menutree');\n        var menustore = menutree.getStore();\n        menustore = Menus1;   // I want initial the menu's store with Menus1\n        //menustore = Ext.create('Crm.store.Menus1');  \n\n        this.control({\n            'button': {\n                click: this.onItemClicked,\n                scope: this\n            } \n        });\n    },\n    onItemClicked: function(btn,eventObj){\n        var menustore = Ext.getCmp('menutree').getStore();\n        var btnId = btn.getId();\n\n        if (btnId == 'btn_menus1') { //When button1 is clicked, change menu to menus1\n            menustore = Menus1;\n            //menustore = Ext.create('Crm.store.Menus1');       \n        } else if (btnId == 'btn_menus2') { //When button2 is clicked, change menu to menus2\n            menustore = Menus2;\n            //menustore = Ext.create('Crm.store.Menus1');\n        }\n    }\n});\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","pdf-generation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":12839103,"title":"how do I put an image in a PDF document using iTextSharp?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12837503/how-to-add-image-in-pdf-file\">How to add image in pdf file</a>  </p>\n</blockquote>\n\n\n\n<p>How to add an image in pdf file, as i tried to generate a pdf using <a href=\"http://www.semanticarchitecture.net/www/pdf-reporting-using-asp-net-mvc/\" rel=\"nofollow\">This</a> Blog.</p>\n"},{"tags":[".net","jquery","asp.net-mvc","mvc","json"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3067,"score":1,"question_id":1357901,"title":".NET/MVC JSON response opens up dialog box to save","body":"<p>I am trying to submit a form via jquery's ajax method in my .net mvc application.  I've set the dataType to json and the contentType to \"application/json; charset=utf-8\".  In my controller action, I'm returning a JsonResult.  </p>\n\n<p>For some reason, the JSON response doesn't get handled correctly and instead I get a dialog box to save a file with the JSON object inside of it.</p>\n\n<pre><code>$(document).ready(function() {\n\n    $(\"#editPageContentForm\").submit(function() {\n\n        $.ajax(\n  {\n      type: \"POST\",\n      dataType: \"json\",\n      url: $(\"#editPageContentForm\").attr(\"action\"),\n      contentType: \"application/json; charset=utf-8\",\n      data: { ID: $(\"#id\").val(), small_title: $(\"#small_title\").val(), big_title: $(\"#big_title\").val(), body: $(\"#body\").val(), subheading: $(\"#subheading\").val() }, \n\n      success: function(result) {\n          alert('hi');\n      },\n\n      error: function(req, status, error) {\n          alert(\"Sorry! We could not receive your feedback at this time.\");\n      }\n  }\n );\n })\n</code></pre>\n\n<p>In my controller action, I have something akin to:</p>\n\n<pre><code>public JsonResult Edit(int id, string small_title, string big_title, string subheading, string body)\n{\n     return Json(new {success = true, message = \"success\"});\n}\n</code></pre>\n\n<p>Why is the response not coming back as JSON?</p>\n"},{"tags":["php","html","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":12836476,"title":"Bad Practice requiring file within a model?","body":"<p>I have built an MVC php application and was wondering, if instead of having to write out a large amount of html and set the data, could I not just have all this html (with some php) in a separate file and just require it?</p>\n\n<p>For example:</p>\n\n<pre><code>$test = '&lt;div&gt;\n         Test content\n         &lt;div&gt;More content&lt;/div&gt;\n         &lt;/div&gt;';\n$APP-&gt;Template-&gt;setData('test', $test, FALSE);\n</code></pre>\n\n<p>Instead could I not just use:</p>\n\n<pre><code>$test = require(\"includes/content.php\");\n$APP-&gt;Template-&gt;setData('test', $test, FALSE);\n</code></pre>\n\n<p>Would this be considered as bad practice? It just seems that by requiring files, it can shorten the length of controllers. </p>\n\n<p>Would be good to get anybodies advice on this matter. </p>\n"},{"tags":["flex","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12834699,"title":"How to \"feed\" data from view to model?","body":"<p>I know I might not be supposed to be doing this, but I see no way around this.</p>\n\n<p>I have a bunch of tabs (TabNavigator) each containing a datagrid based on the same view but with different content.</p>\n\n<p>In the model, I have an Id specifying which tab I am in (and based on that I will subsequently fill the grids from within my controller).</p>\n\n<p>My problem is, how to feed the Id.</p>\n\n<p>What I tried to do so far is, in my View:</p>\n\n<pre><code>&lt;fx:Script&gt;\n    &lt;![CDATA[\n        import com.to.my.controller.MyController;\n        import com.to.my.models.MyModel;\n\n        import mx.events.ListEvent;\n\n        [Inject][Bindable] public var controller:MyController;\n        [Inject][Bindable] public var model:MyModel;\n\n        this.model.tabTypeId = this.parentDocument.myTabNavigator.selectedChild.id;\n\n\n    ]]&gt;\n&lt;/fx:Script&gt;\n</code></pre>\n\n<p>But apparently this is wrong at compile time:</p>\n\n<pre><code>The this keyword can not be used in static methods. It can only be used in instance methods, function closures, and global code.\n</code></pre>\n\n<p>Total flex newbie... sorry...</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mvc","spring"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2490,"score":2,"question_id":6451377,"title":"Loading context in Spring using web.xml","body":"<p>Is there a way that a context can be loaded using web.xml in a Spring MVC application?</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12837333,"title":"backbone design queries","body":"<p>In an MVC controller is what holds the business logic. In backbone the\ncontrollers have been renamed to route. Now there are couple of things\nwhich bring in confusion. </p>\n\n<ol>\n<li><p>Model should have business logic. </p></li>\n<li><p>Collection is the collection of models. </p></li>\n<li><p>Views are where the templates are rendered, and most of the DOM\nevent handling is done. </p></li>\n<li><p>Apart from routing, what do the routers do? And where should more\nof business logic go to the routers or to the models? </p></li>\n</ol>\n\n<p>Do the views perform anything extra other than rendering DOM\nvariables?</p>\n"},{"tags":["iphone","ios","mvc","modalviewcontroller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":12827363,"title":"How to pop up a view controller on top?","body":"<p>Situation: \nIn have lot of view controllers in my app and they are presented as navigation or modal view controllers. The app communicates with the server from almost all the screens. I want to show a login screen to the user when his/her credentials are expired. I want to present the login screen as a modal on top of the current view on the screen and dismiss it as soon as login is successful. \nI have really no idea how can I achieve this. If there is a modal view displayed on the screen by some view controller and login screen is also required to be presented as a modal, from where should I do this. I tried switching rootViewController of the window in appDelegate but it didn't work well and also messed up lot of things. Please provide me suggestions. </p>\n"},{"tags":["c#","linq","image","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":255,"score":0,"question_id":10933439,"title":"Insert signature data into SQL Server in MVC 2 C#","body":"<p>I have working code that uses signature pad data to create and save a signature bmp image to a file location. My question is: how can I modify this code to insert the image into a SQL Server 2008 image field?</p>\n\n<p>The following from my Controller obtains signature data from a signature tablet and creates a bmp image and saves it to a file location.</p>\n\n<pre><code>        [PrincipalPermission(SecurityAction.Demand, Authenticated = true)]\n    public ActionResult SaveSignature2(IPrincipal principal) {\n        int userId = ((ScoutIdentity)principal.Identity).UserId.Value;\n        //Put user code to initialize the page here\n        SIGPLUSLib.SigPlus sigObj = new SIGPLUSLib.SigPlus();\n        sigObj.InitSigPlus();\n        sigObj.AutoKeyStart();\n\n        string visitorname = Request.Form[\"visitorname\"];\n        visitorname = visitorname.Replace(\" \", \"\"); //combines the first name with last name with no spaces\n        visitorname = visitorname.Trim();\n        string thevrvIDstr = Request.Form[\"vrvID\"];\n        int thevrvID = Convert.ToInt32(thevrvIDstr);\n\n        //use the same data to decrypt signature\n        sigObj.AutoKeyData = Request.Form[\"SigText\"];\n\n        sigObj.AutoKeyFinish();\n        sigObj.SigCompressionMode = 1;\n        sigObj.EncryptionMode = 2;\n\n        //Now, get sigstring from client\n        //Sigstring can be stored in a database if \n        //a biometric signature is desired rather than an image\n        sigObj.SigString = Request.Form[\"hidden\"];\n\n        if (sigObj.NumberOfTabletPoints() &gt; 0) {\n            sigObj.ImageFileFormat = 0;\n            sigObj.ImageXSize = 500;\n            sigObj.ImageYSize = 150;\n            sigObj.ImagePenWidth = 8;\n            sigObj.SetAntiAliasParameters(1, 600, 700);\n            sigObj.JustifyX = 5;\n            sigObj.JustifyY = 5;\n            sigObj.JustifyMode = 5;\n            long size;\n            byte[] byteValue;\n            sigObj.BitMapBufferWrite();\n            size = sigObj.BitMapBufferSize();\n            byteValue = new byte[size];\n            byteValue = (byte[])sigObj.GetBitmapBufferBytes();\n            sigObj.BitMapBufferClose();\n            System.IO.MemoryStream ms = new System.IO.MemoryStream(byteValue);\n            System.Drawing.Image img = System.Drawing.Image.FromStream(ms);\n            String path;\n            path = System.AppDomain.CurrentDomain.BaseDirectory;\n            path = path + \"/uploadFiles/Signatures/\"+thevrvIDstr+\".bmp\";\n            img.Save(path, System.Drawing.Imaging.ImageFormat.Bmp);\n\n\n\n           ViewData[\"Result\"] = (\"Image saved successfully to \" + path);\n        }\n        else {\n            ViewData[\"Result\"] = \"signature has not been returned successfully!\";\n        }\n\n\n        ViewData[\"Result\"] = sigObj.SigString;\n        //return RedirectToAction(\"vrSignIn\");\n        return View();\n    }\n</code></pre>\n\n<p>I also have code elsewhere in my controller that gets an uploaded file and inserts it into the database. This code works OK.</p>\n\n<pre><code> [AcceptVerbs(HttpVerbs.Post)]\n    public ActionResult UploadTempFiles(string id, string u)\n    {\n        //this method temporarily stores files \n        string userIdString = Cryptographer.DecryptSymmetric(\"RijndaelManaged\", SecurityImpl.UrlToBase64(u));\n        int userId = Convert.ToInt32(userIdString);\n\n        if (Request.Files.Count &gt; 0)\n        {\n            for (int i = 0; i &lt; Request.Files.Count; i++)\n            {\n                HttpPostedFileBase file = Request.Files[i];\n                int contentlength = file.ContentLength;\n                byte[] b = new byte[contentlength];\n                Stream s;\n                s = file.InputStream;\n                s.Read(b, 0, contentlength);\n                VisitRequest.AddVisitorSignature(userId, b);\n            }\n        }\n\n        return View(\"UploadFiles\");\n    }\n</code></pre>\n\n<p>I'm thinking that I can use some part of the second code to interrupt the image creation process in the first code and insert the image into the database INSTEAD of saving the image to a file location. I don't know how to do that.</p>\n"},{"tags":["java","spring","mvc","jsp","el"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12821002,"title":"JSP form select bind with map","body":"<p>I am trying to bind a map element to choosen value from JSP. Elements of select are comming from different map, but keySets are same in both maps.</p>\n\n<p>Part of java code :</p>\n\n<pre><code>private Map&lt;String, List&lt;String&gt;&gt; customCriteriaMap = new HashMap&lt;&gt;();\nprivate Map&lt;String, String&gt; activeCustomCriteria = new HashMap&lt;&gt;();\n</code></pre>\n\n<p>So for example:\ncustomCriteriaMap have 1 entry:</p>\n\n<pre><code>key: International, value: list contains: true, false\n</code></pre>\n\n<p>activeCriteriaMap have alsoe 1 entry:</p>\n\n<pre><code>kry: International, value: true\n</code></pre>\n\n<p>Now after choosing false on select and submiting form i would like to have entry in activeCriteriaMap:</p>\n\n<pre><code>key: International, value: false \n</code></pre>\n\n<p>Jsp code:</p>\n\n<pre><code>&lt;div class=\"grid_6 two\"&gt;\n    &lt;c:forEach items=\"${settingsForm.customCriteria}\" var=\"actualCriteriaValues\"&gt;\n        &lt;c:set var=\"actualCriteriaKey\" value=\"${actualCriteriaValues.key}\" /&gt;\n        &lt;c:set var=\"activeCriteria\" value=\"${settingsForm.activeCustomCriteria[actualCriteriaKey]}\"/&gt;\n        &lt;label&gt;Criteria:&lt;/label&gt;\n        &lt;form:select path=\"activeCustomCriteria[${actualCriteriaKey}]\" &gt;\n            &lt;c:forEach items=\"${actualCriteriaValues.value}\" var=\"actualCriteriaValue\"&gt;\n                &lt;c:set var=\"optionLabel\" value=\"${actualCriteriaValue}\"/&gt;\n                &lt;c:choose&gt;\n                    &lt;c:when test=\"${optionLabel eq 'N'}\"&gt;\n                        &lt;c:set var=\"optionLabel\" value=\"False\"/&gt;\n                    &lt;/c:when&gt;\n                    &lt;c:when test=\"${optionLabel eq 'Y'}\"&gt;\n                        &lt;c:set var=\"optionLabel\" value=\"True\"/&gt;\n                    &lt;/c:when&gt;\n                &lt;/c:choose&gt;\n                &lt;form:option value=\"${actualCriteriaValue}\" label=\"${optionLabel}\"/&gt;\n            &lt;/c:forEach&gt;\n        &lt;/form:select&gt;\n    &lt;/c:forEach&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Values in activeCustomCriteria do not change after selecting different value from select and submit. It is always same - default value.</p>\n\n<p>Thanks in advance,\nMarek.</p>\n"},{"tags":[".net","mvc","localization","dataannotations"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":762,"score":1,"question_id":5421646,"title":".NET MVC : Localizing RequiredAttribute (without resource files)","body":"<p>This is the problem that we're facing in .NET MVC 2. </p>\n\n<p>We're trying to use DataAnnotations to take care of the Model Validation for us, like it's supposed to. The only problem that we're having is that we don't want the standard error messages (because we have multiple languages on our website).</p>\n\n<p>We want to localize this, but the way the site is setup, is that all text comes from a database. So we'd like to have our error messages in the database as well.</p>\n\n<p>So we wrote a custom RequiredAttribute, like this:</p>\n\n<pre><code>public class LocalizedRequiredAttribute : RequiredAttribute\n{   \n    public string LocalizedErrorMessage\n    {\n        get\n        {\n            return ErrorMessage;\n        }\n        set\n        {\n            ErrorMessage = value.Translate();\n        }\n    }\n\n}\n</code></pre>\n\n<p>We wrote an extension to the String class to add the \"Translate()\" method, which does the necessary database lookup for the correct localized version.</p>\n\n<p>We use our attribute like this:</p>\n\n<pre><code>[LocalizedRequired(LocalizedErrorMessage = \"Naam is required\")]\npublic string Name {get; set; }\n</code></pre>\n\n<p>This works, but only once. </p>\n\n<p>If you visit the site in French first, you'll see the French error message stating that you're supposed to enter a value. If you visit the English site later, you'll still see the French error on the English page. The Setter seems to be called only once.</p>\n\n<p>What can we do to prevent this behavior and refresh the error message every time the validation is run / the model is populated with values?</p>\n\n<p>Thanks for any help you can give me.</p>\n"},{"tags":["java","swing","mvc","gui","actionlistener"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12833030,"title":"Separate AcionListener from GUI","body":"<p>I'm new to java programming and currently enrolled in a 2week class. I'd like to ask is it possible to separate acionlistener from the gui class? I'd like to apply mvc while I'm still learning but have no idea on how to start with and how should I do it.</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextArea;\n\n\npublic class WriteFile extends JFrame implements ActionListener{\n    JTextArea textBox;\n    JButton convert;\n\n    WriteFile(){\n        //windows\n        setDefaultCloseOperation(javax.swing.WindowConstants.HIDE_ON_CLOSE);\n        setVisible(true);\n        setSize(300, 300);\n        setLocationRelativeTo(null);        \n        //others\n        textBox = new JTextArea(\"Type something here\", 5, 15);\n        convert = new JButton(\"Display\");\n        //layout        \n        add(textBox, BorderLayout.CENTER);\n        add(convert, BorderLayout.LINE_END);        \n        //actionlistener\n        convert.addActionListener(this);        \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent event) {\n        String output = \"\";\n        output = textBox.getText();\n        JOptionPane.showMessageDialog(null, output);\n\n    }\n}\n</code></pre>\n\n<p>and here is my main:</p>\n\n<pre><code>import java.awt.BorderLayout;\n\npublic class main {\n\n    public static void main(String[] args) {\n        WriteFile wc = new WriteFile();\n        wc.pack();\n    }\n}\n</code></pre>\n"},{"tags":["mvc","spring","tiles"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":6926,"score":4,"question_id":5003995,"title":"Spring 3 MVC and Apache Tiles 2 Integration Error","body":"<p>I have been trying to integrate Spring (3.0.4 and 3.0.5) MVC with Apache Tiles (2.1.2,2.1.4 and 2.2.2) to no avail. In every case i get the following error:</p>\n\n<p>java.lang.NoClassDefFoundError: org/apache/tiles/startup/BasicTilesInitializer</p>\n\n<p>According to the Tiles documentation, BasicTilesInitializer has been deprecated. I figured the latest version of Spring's <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/view/tiles2/TilesConfigurer.html\" rel=\"nofollow\">TilesConfigurer</a> would reference the correct class, but it doesnt and I still get the same error.</p>\n\n<p>I'm using the following configuration to setup Tiles in my spring mvc app:</p>\n\n<pre><code>&lt;beans:bean \n    id=\"tilesConfigurer\" \n    class=\"org.springframework.web.servlet.view.tiles2.TilesConfigurer\"&gt;\n    &lt;beans:property name=\"definitions\"&gt;\n        &lt;beans:list&gt;\n            &lt;beans:value&gt;/WEB-INF/tiles/tiles.xml&lt;/beans:value&gt;\n        &lt;/beans:list&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean \n    class=\"org.springframework.web.servlet.view.tiles2.TilesViewResolver\"&gt;      \n    &lt;beans:property \n        name=\"viewClass\" value=\"org.springframework.web.servlet.view.tiles2.TilesView\"/&gt;                \n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>Ideally, I would like to get Spring 3.0.5 working with Tiles 2.2.2. They are the latest versions as of this post.</p>\n"},{"tags":["javascript","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":136,"score":1,"question_id":10537074,"title":"can't get simple agility.js to work","body":"<p>I'm trying to learn agility.js and what I thought should be a simple exmaple, I can't get to work and I'm not sure why.  Clicking the button should change the text of the span to \"Goodbye World\" but clicking does nothing.  Any ideas?</p>\n\n<pre><code>var message = \n        $$(\n            {txt:'Hello World'}, \n            {format:'&lt;span data-bind=\"txt\" /&gt;&lt;button id=\"btn\"&gt;Click Me&lt;/button&gt;'}, \n            {'click #btn' : function(){ this.model.set({txt:\"Goodbye World\"}) }}\n        );\n\n\n$$.document.append(message);\n</code></pre>\n"},{"tags":["mvc","node.js"],"answer_count":7,"favorite_count":8,"up_vote_count":20,"down_vote_count":0,"view_count":10562,"score":20,"question_id":5248582,"title":"Node.js MVC framework","body":"<p>I would like to use Node.js to develop a website. I've seen a lot of frameworks here: <a href=\"https://github.com/joyent/node/wiki/modules#web-frameworks-micro\" rel=\"nofollow\">https://github.com/joyent/node/wiki/modules#web-frameworks-micro</a> but do not know which one is the most accepted by the community (let's say: the most popular). Did anyone tried any of these frameworks and/or used it in production and what is your experience? Thanks.</p>\n"},{"tags":["php","mvc","magento","module","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":979,"score":0,"question_id":6684756,"title":"Magento Module IndexController - IndexAction function 404's","body":"<p>Removing the Class around the IndexAction causes a server error, so I know the code is running as expected up to that point.</p>\n\n<pre><code>class Foo_Bar_IndexController extends Mage_Core_Controller_Front_Action{\n    public function indexAction(){\n        echo \"&lt;h1&gt;Echo from indexcontroller.&lt;/h1&gt;\";\n    }\n}\n</code></pre>\n\n<p>Ideally the echo would be replaced by loading template files, but I've been stuck on it 404ing for the last 2 days and just want to get past that.</p>\n\n<p>I've read through about a dozen tutorial, followed 4 to completetion, but this issue pops up every time.\nDoes anyone have an idea what could be causing this?</p>\n\n<p>Edit--\nSorry, for the brevity. I wasn't sure how much I should distend the page.</p>\n\n<p>@ Alan Storm -- I found your tutorial here. <a href=\"http://alanstorm.com/magento_controller_hello_world\" rel=\"nofollow\">http://alanstorm.com/magento_controller_hello_world</a> (Great Detail, very helpful in understanding what all the xml tags do). This is a copy of that tutorial with Foo replacing Alanstormdotcom and Bar replacing Helloworld. Even copy/pasting I end up with the same 404.</p>\n\n<p>Here is my current config file:\nPATH: app/code/local/Foo/Bar/etc/config.xml (edit: corrected path)</p>\n\n<pre><code>&lt;config&gt;\n&lt;modules&gt;\n    &lt;Foo_Bar&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/Foo_Bar&gt;\n&lt;/modules&gt;\n&lt;frontend&gt;\n    &lt;routers&gt;\n        &lt;bar&gt;\n            &lt;use&gt;standard&lt;/use&gt;\n            &lt;args&gt;\n                &lt;module&gt;Foo_Bar&lt;/module&gt;\n                &lt;frontName&gt;bar&lt;/frontName&gt;\n            &lt;/args&gt;\n        &lt;/bar&gt;\n    &lt;/routers&gt;  \n&lt;/frontend&gt;\n&lt;/config&gt;\n</code></pre>\n\n<p>Edit---\nthe last remaining file\nPath: app/etc/modules/Foo_Bar.xml</p>\n\n<pre><code>&lt;config&gt;\n&lt;modules&gt;\n    &lt;Foo_Bar&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;codePool&gt;local&lt;/codePool&gt;\n    &lt;/Foo_Bar&gt;\n&lt;/modules&gt;\n&lt;/config&gt;       \n</code></pre>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":12790661,"title":"Backbone | Benefits of breaking traditional MVC approach","body":"<p>Trying to learn backbone with in the context of MVC.</p>\n\n<p>Can't seem to find a good tutorial that relates to this.  They are all a bit abstract and use Backbone terminology.</p>\n\n<p>Since they don't use standard MVC, what theory/design guidelines are they using?</p>\n\n<p>Can someone relate Backbone to a standard MVC and what the design choices where when they decided not to adhere to it?</p>\n\n<p>Can anyone explain in simple terms what their design methodology is.  I understand JavaScript and MVC. I know a little jQuery.</p>\n\n<p>I'd like to use Backbone, but I want to understand how it works.</p>\n\n<p>I've looked online and looked through one tutorial, but they usually explain how to use it.</p>\n\n<p>Not why or how it works internally ( its only about 500 lines with out comments ).  I'm in the process of digesting this, but having a top level view of the code would make this process easier.</p>\n\n<p><a href=\"http://backbonejs.org/#faq\" rel=\"nofollow\">Backbone FAQ</a></p>\n\n<pre><code>    Co.Controller = function (o_p) {\n        var o_p_string_send;\n\n// Run Model.pre()\n\n        if (Mo[o_p.model].hasOwnProperty(\"pre\")) {\n            $A.time(false);\n            o_p = Mo[name].pre(o_p);\n\n// Run View.pre() - should I implement\n\n        } else {\n            return false;\n        }\n\n        if (o_p.result !== 'complete') {\n\n// Hit the server via ajax\n\n            o_p_string_send = JSON.stringify(o_p);\n            $A.time(false);\n            $A.ajax({\n                type: 'post',\n                url: $A.Un.get('path') + 'arcmarks/source/class.CMachine.php',\n                data: 'pipe=' + o_p_string_send,\n                callback: function (o_p_string_receive) {\n                    var pass_prefix = o_p_string_receive.slice(0, 3);\n                    if (pass_prefix === '|A|') {\n                        $A.time(false);\n                        o_p.server = JSON.parse(o_p_string_receive.slice(3));\n\n// Run Model.post()\n\n                        if (Mo[o_p.model].hasOwnProperty(\"post\")) {\n                            o_p = Mo[name].post(o_p);\n\n// Run View.post() - should I implement\n\n                            $A.time(true);\n                            $A.log('Server: true | \\n' + this.responseText + '\\n');\n                            return true;\n                        }\n                        return false;\n                    }\n\n// Server error\n\n                    $A.log('Server: false | \\n' + this.responseText + '\\n');\n                    return false;\n                }\n            });\n        }\n    };\n</code></pre>\n"},{"tags":["mvc","wif"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":293,"score":1,"question_id":5367308,"title":"How to create the MVC equivalent of WIF PassiveSignInStatus Control?","body":"<p>I have included the below in my MVC View page</p>\n\n<pre><code> &lt;%@ Page Title=\"\" Language=\"C#\" MasterPageFile=\"~/Views/Shared/Base.Master\"  Inherits=\"System.Web.Mvc.ViewPage\" %&gt;\n\n &lt;%@ Register TagPrefix = \"idfx\" Assembly = \"Microsoft.IdentityModel, Version=3.5.0.0,  Culture=neutral, PublicKeyToken=31bf3856ad364e35\" Namespace =  \"Microsoft.IdentityModel.Web.Controls\" %&gt;\n\n  &lt;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"Content\" runat=\"server\"&gt;\n\n   &lt;idfx:FederatedPassiveSignInStatus \n            ID=\"FederatedPassiveSignInStatus1\" \n            runat=\"server\" \n            OnSignedOut=\"FederatedPassiveSignInStatus1SignedOut\" \n            SignOutText=\"Logout\" \n            FederatedPassiveSignOut=\"true\"   \n            SignOutAction=\"FederatedPassiveSignOut\" /&gt;\n  &lt;/asp:Content&gt;\n</code></pre>\n\n<p>Since this is MVC, I cannot have runat=server attribute. When I remove the runat attribute, the page loads ok, but the control is not get displayed. How can I achieve this in MVC?</p>\n"},{"tags":["c#","ajax","linq","mvc","dynamic"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":3379,"score":3,"question_id":1389850,"title":"System.Linq.Dynamic and DateTime","body":"<p>I am using System.Linq.Dynamic to do custom where clauses from an ajax call in .Net MVC 1.0.</p>\n\n<p>It works fine for strings, int etc but not for DateTime, I get the exception cannot compare String to DateTime.  The very simple test code is</p>\n\n<p>items = items.Where(string.Format(@\" {0} > {1}{2}{1} \", searchField, delimiter, searchString));</p>\n\n<p>Where searchField will be for example start_date and the data type is DateTime, delimiter is \" (tried with nothing as well) and searchString will be 01-Jan-2009 (tried with 01/01/2009 as well) and items is an IQueryable from LinqToSql.</p>\n\n<p>Is there a way of specifying the data type in a dynamic where, or is there a better approach.  It is currently already using some reflection to work out what type of delimiter is required.</p>\n"},{"tags":["asp.net-mvc","mvc","asynchronous"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":201,"score":1,"question_id":9804960,"title":"What is AsyncManager.OutstandingOperations?","body":"<p>Thanks to MSDN, they don't explain anything about it:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/system.web.mvc.async.asyncmanager.outstandingoperations(v=vs.108).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/system.web.mvc.async.asyncmanager.outstandingoperations(v=vs.108).aspx</a></p>\n\n<p>Can somebody please explain <code>AsyncManager.OutstandingOperations</code> with a simple example?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","drop-down-menu","telerik"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":729,"score":1,"question_id":9017683,"title":"Telerik grid with dropdownList","body":"<p>Now i have tryed to solve the problem for several hours and im about to give up...</p>\n\n<p>I am using MVC 3 grid kontrol from Telerik. In my grid i want dropdownlists selected item to be corresponding to Role of the user. Dropdownlist have all the User Roles.   </p>\n\n<pre><code>@(Html.Telerik().Grid(Model)\n    .Name(\"Grid\").TableHtmlAttributes(new { width=\"800\"})\n    .Columns(columns =&gt;\n    {\n        //if (userIsInWhateverRole){\n        //    columns.Template(o =&gt; Html.Action(GenerateYourLinkStuffHere));\n        //}\n        columns.Bound(o =&gt; o.Name).Width(150);\n        columns.Bound(o =&gt; o.Email).Width(120);\n        columns.Template(\n            @&lt;text&gt;\n                @Html.DropDownList(item.Role, (IEnumerable&lt;SelectListItem&gt;)item.Roles)\n                @Html.DropDownListFor(x =&gt; item.Role, (IEnumerable&lt;SelectListItem&gt;)item.Roles)\n            &lt;/text&gt;\n        ).Width(120);\n    })\n    .Sortable()\n    .Scrollable()\n    .Groupable()\n    .Filterable()\n    .Pageable(paging =&gt; paging.PageSize(5))\n)\n</code></pre>\n"},{"tags":["mvc","publishing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":12428910,"title":"Loading an MVC site","body":"<p>Hello I am in desperate need of help. I just created an MVC site made in Visual Web Developer 2010\nand each time and on different Web Hosts I get --Index of /-- instead of the site loading properly. It's as if the server or browser is looking for an 'index' file instead of being routed through the MVC folders to the proper start up page. I've done everything I believe I am suppose to do as far bring all my dll 'system' files to the 'bin' folder as well as everything else including getting a Web Host that has MVC supporting server but I still keep getting 'Index of /' and the folders instead of the site. Can anyone help? I'm really in a spot. I've been working on this site for months and I need to get it up and running.</p>\n\n<p>Thanks, Rob</p>\n"},{"tags":["sql","asp.net-mvc-3","mvc","dataprovider"],"answer_count":5,"favorite_count":0,"up_vote_count":11,"down_vote_count":0,"view_count":15842,"score":11,"question_id":6865249,"title":"Unable to find the requested .Net Framework Data Provider. It may not be installed. - when following mvc3 asp.net tutorial","body":"<p>I am following the ASP.NET MVC 3 Music store application tutorial but I keep getting stuck in part 4: <a href=\"http://www.asp.net/mvc/tutorials/mvc-music-store-part-4\">http://www.asp.net/mvc/tutorials/mvc-music-store-part-4</a>. It keeps telling me that I do not have the SQL data provider installed:</p>\n\n<p>Exact error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>System.ArgumentException was unhandled by user code\n  Message=Unable to find the requested .Net Framework Data Provider.  It may not be installed.\n  Source=System.Data\n  StackTrace:\n       at System.Data.Common.DbProviderFactories.GetFactory(String providerInvariantName)\n       at System.Data.Entity.Internal.LazyInternalConnection.TryInitializeFromAppConfig(String name)\n       at System.Data.Entity.Internal.LazyInternalConnection.Initialize()\n       at System.Data.Entity.Internal.LazyInternalConnection.get_ConnectionHasModel()\n       at System.Data.Entity.Internal.LazyInternalContext.InitializeContext()\n       at System.Data.Entity.Internal.InternalContext.Initialize()\n       at System.Data.Entity.Internal.InternalContext.GetEntitySetAndBaseTypeForType(Type entityType)\n       at System.Data.Entity.Internal.Linq.InternalSet`1.Initialize()\n       at System.Data.Entity.Internal.Linq.InternalSet`1.GetEnumerator()\n       at System.Data.Entity.Infrastructure.DbQuery`1.System.Collections.Generic.IEnumerable&lt;TResult&gt;.GetEnumerator()\n       at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\n       at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\n       at MusicApplication.Controllers.StoreController.Index() in C:\\Users\\Michelle\\documents\\visual studio 2010\\Projects\\MusicApplication\\MusicApplication\\Controllers\\StoreController.cs:line 18\n       at lambda_method(Closure , ControllerBase , Object[] )\n       at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)\n       at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)\n       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n       at System.Web.Mvc.ControllerActionInvoker.&lt;&gt;c__DisplayClass15.&lt;InvokeActionMethodWithFilters&gt;b__12()\n       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)\n  InnerException: \n</code></pre>\n\n<p>I have added the reference to System.Data.SqlServerCe - still have the same error. Any guidance would be really appreciated</p>\n"},{"tags":["mvc","design-patterns","class-diagram"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12823992,"title":"Can the Observer Pattern be removed from MVC?","body":"<p>I want to know if you can remove the Observer Pattern from MVC (where the Observer goes from the Model to the View, notifying any changes in the Model and updating the View), and what would be the consequences if we remove it.</p>\n"},{"tags":["ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12823810,"title":"Rails 3: Determining which Controller is Active","body":"<p>I have a view that can be accessed by multiple controllers. For the most part, they display the same information, but this information is tweaked slightly from one controller to the next. I need a way to distinguish which controller is being used at any given moment. I do this by declaring an \"@context\" variable in the controller, such as:</p>\n\n<pre><code>@context = \"index\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@context = \"show\"\n</code></pre>\n\n<p>I can then easily check within the view which controller is being used. For instance:</p>\n\n<pre><code>&lt;% if @context == \"index\" %&gt;\n  &lt;h1&gt;Index&lt;/h2&gt;\n&lt;% elsif @context == \"show %&gt;\n  &lt;h2&gt;Show&lt;/h2&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>However, this feels hacky, and I'm certain there's a cleaner solution. Does anyone know of one?</p>\n"},{"tags":["c#",".net","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":221,"score":1,"question_id":10751834,"title":"Custom Profile Provider : The settings property '' was not found - MVC3","body":"<p>I've been having this issue when trying to edit/update a user profile. Essentially when a user registers, they have a bool call 'AuthorizedTeamMember' set to false. Their Team Manager can then set it to true to authorize the user.</p>\n\n<p>However, when clicking the \"Authorize\" button to authorize the user I get the following error:</p>\n\n<pre><code>The settings property 'AuthorizedTeamMember' was not found.\n</code></pre>\n\n<p>I've had a good look around to find a solution, but nothing seems to work. It seem's to error before it hits the method 'AuthorizePlayer' on the HttpPost.</p>\n\n<p><strong>Anyway here's my custom profile provider:</strong></p>\n\n<pre><code>namespace iConfirm.Models\n{\n    public class TeamPlayer : ProfileBase\n    {\n        [Display(Name = \"First Name\")]\n        public virtual string FirstName\n        {\n            get\n            {\n                return (this.GetPropertyValue(\"FirstName\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"FirstName\", value);\n            }\n        }\n\n        [Display(Name = \"Last Name\")]\n        public virtual string LastName\n        {\n            get\n            {\n                return (this.GetPropertyValue(\"LastName\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"LastName\", value);\n            }\n        }\n        [Display(Name = \"Date Of Birth\")]\n        public virtual string DateOfBirth \n        {\n            get\n            {\n                return (this.GetPropertyValue(\"DateOfBirth\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"DateOfBirth\", value);\n            }\n        }\n        [Display(Name = \"Phone Number\")]\n        public virtual string PhoneNumber\n        {\n            get\n            {\n                return (this.GetPropertyValue(\"PhoneNumber\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"PhoneNumber\", value);\n            }\n        }\n        public virtual string TeamId\n        {\n            get\n            {\n                return (this.GetPropertyValue(\"TeamId\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"TeamId\", value);\n            }\n        }\n        public virtual bool AuthorizedTeamMember\n        {\n            get\n            {\n                return (bool)base[\"AuthorizedTeamMember\"]; //&lt;-- Errors here on post\n            }\n            set\n            {\n                base[\"AuthorizedTeamMember\"] = value;\n            }\n        }\n        public static TeamPlayer GetProfile(string username)\n        {\n            return Create(username) as TeamPlayer;\n        }\n\n        public static List&lt;TeamPlayer&gt; GetProfilesByTeam(int teamId)\n        {\n            //var profileList = ProfileManager.GetAllProfiles(ProfileAuthenticationOption.All);\n            var profilesInTeam = Membership.GetAllUsers().Cast&lt;MembershipUser&gt;()\n            .Select(user =&gt; TeamPlayer.Create(user.UserName, true) as TeamPlayer)\n            .Where(profile =&gt; profile.GetPropertyValue(\"TeamId\").ToString().Equals(teamId.ToString()))\n            .ToList();\n\n            return profilesInTeam;\n\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Here's the code that will Authorize the user:</strong></p>\n\n<pre><code>        [HttpPost]\n        public ActionResult AuthorizePlayer(TeamPlayer teamPlayer)\n        {\n            teamPlayer.AuthorizedTeamMember = true;\n            var user = TeamPlayer.GetProfile(teamPlayer.UserName);\n                user.FirstName = teamPlayer.FirstName; \n                user.LastName = teamPlayer.LastName;\n                user.AuthorizedTeamMember = teamPlayer.AuthorizedTeamMember;\n                user.DateOfBirth = teamPlayer.DateOfBirth;\n                user.PhoneNumber = teamPlayer.PhoneNumber;\n                user.Save();\n            /*TeamPlayer _teamPlayer = TeamPlayer.Create(teamPlayer.UserName) as TeamPlayer;\n            //var tempProfile = TeamPlayer.Create(teamPlayer.UserName) as TeamPlayer;\n            _teamPlayer.AuthorizedTeamMember = true;\n            _teamPlayer.Save();\n            //Email user that they have been authorized*/\n            return View(\"Index\");\n        }\n</code></pre>\n\n<p><strong>And finally the view:</strong></p>\n\n<pre><code>@model iConfirm.Models.TeamPlayer\n@{\n    ViewBag.Title = \"AuthorizePlayer\";\n    MembershipUser user = Membership.GetUser(Model.UserName);\n}\n\n&lt;h2&gt;AuthorizePlayer&lt;/h2&gt;\n@using (Html.BeginForm()) {\n    @Html.ValidationSummary(true)\n\n    &lt;fieldset&gt;\n        &lt;legend&gt;Authorize the following user?&lt;/legend&gt;\n        @Html.HiddenFor(model =&gt; model.AuthorizedTeamMember)\n        &lt;div class=\"display-label\"&gt;\n            Username\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.UserName)\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Full Name\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.FirstName) @Html.DisplayFor(model =&gt; model.LastName)\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Email\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @user.Email\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Telephone number\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.PhoneNumber)\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Date of Birth\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.DateOfBirth)\n        &lt;/div&gt;\n\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Authorize\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated. </p>\n\n<p>Alex</p>\n"},{"tags":["javascript","mvc","ember.js"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":209,"score":1,"question_id":12602429,"title":"EmberJS Nested Views and Controllers","body":"<p>I'm writing an app with EmberJS v1.0.pre. I have an <code>ArrayController</code> which contains a list of all persons. There are a bunch of nested views showing the person, their pets and the notes for each pet.</p>\n\n<pre><code>|----------------------------------------|\n| John                                   | &lt;- Person\n|----------------------------------------|\n|   Quincy (Dog)                         | &lt;- Pet\n|     - Super ornery                     | &lt;- Note\n|     - Likes XYZ Dog food               |\n|     - Will eat your socks              |\n|                                        |\n|   Tom (Cat)                            |\n|    - Always (not) catching mice        |\n|                                        |\n|----------------------------------------|\n| Roger                                  |\n|----------------------------------------|\n|   V (Dog)                              |\n|    - Likes XYZ Dog food                |\n|    - Sneezes, but it's ok              |\n|                                        |\n|----------------------------------------|\n| ...                                    |\n</code></pre>\n\n<p>From the pure MVC standpoint it feels like there should be a controller for each child, but I can't figure out how to achieve that in Ember. There is the top Array controller and then all the individual views. If I want to delete a note, or edit it, it seems like I need to pass the view's context up to the controller.</p>\n\n<pre><code>// in the view\nclick: function () {\n  this.get('controller').updateNote(this.get('content'))\n}\n</code></pre>\n\n<p>This feels really bad to me, the View is not supposed to be the authoritative source for data. My assumption is that an ArrayController would instantiate an <code>itemControlerClass</code> along with the <code>itemViewClass</code>.</p>\n\n<p><strong>UPDATE:</strong> I have created a <a href=\"http://jsfiddle.net/noazark/HmHK3/\" rel=\"nofollow\">fiddle</a> to better illustrate my problem. The functionality is intentionally incomplete, the purpose is to finish the functionality by increasing the content when an item on the list is clicked.</p>\n\n<p><strong>UPDATE:</strong> Sorry, I deleted the fiddle on accident! I'm doing some work on a final solution, so I'll try to create a new fiddle w/ the solution.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","mini-profiler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12822048,"title":"C# MVC unable to get ignoreRoute to work (MiniProfiler still displays them?)","body":"<p>In my <code>Application_Start</code> I have a call to a RegisterRoutes method that I call the following:</p>\n\n<pre><code>// Do not process any static files\nroutes.IgnoreRoute(\n  \"{*staticfile}\", new { staticfile = @\".*\\.(jpg|gif|jpeg|png|js|css|htm|html|htc)$\" }\n);\n</code></pre>\n\n<p>Additionally, I have <a href=\"http://miniprofiler.com/\" rel=\"nofollow\">MiniProfiler</a> configured which I run like so:</p>\n\n<pre><code>    protected void Application_BeginRequest()\n    {\n        MiniProfiler.Start();\n\n        var profiler = MiniProfiler.Current;\n        using (profiler.Step(\"Application_BeginRequest\"))\n        {\n        }\n    }\n</code></pre>\n\n<p>Now when I launch my website, I am seeing images being profiled:</p>\n\n<p><img src=\"http://i.stack.imgur.com/y5IvT.png\" alt=\"MiniProfiler image\"></p>\n\n<p>Which to me seems to state that my IgnoreRoute is not working properly, or the Image should have never made it up to the MiniProfiler state. Am I incorrect in this, or am I doing something wrong?</p>\n"},{"tags":["spring","mvc","spring-mvc","dispatcher"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":154,"score":0,"question_id":12815032,"title":"Spring MVC configuration considering web.xml","body":"<p>I am new to Spring MVC and want to know how actual flow works.</p>\n\n<p>I found few example of Spring MVC and generally every example has extra redirection ie\nin web.xml, welcome-file tag will send the control to some jsp file which basically does redirection to login form(for example) which is mapped with some domain.</p>\n\n<p>I am following Example in this link,\n<a href=\"http://www.dzone.com/tutorials/java/spring/spring-simple-form-controller-1.html\" rel=\"nofollow\">http://www.dzone.com/tutorials/java/spring/spring-simple-form-controller-1.html</a></p>\n\n<p>web.xml</p>\n\n<pre><code>&lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\n        &lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>redirect.jsp</p>\n\n<pre><code>&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n&lt;% response.sendRedirect(\"userRegistration.htm\"); %&gt;\n</code></pre>\n\n<p>So, to avoid this redirection, I changed my mappings,\n<strong>Case 1</strong></p>\n\n<p>web.xml</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>mvc-dispatcher-servlet.xml</p>\n\n<pre><code>&lt;bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"prefix\"&gt;\n        &lt;value&gt;WEB-INF/jsp/&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"suffix\"&gt;\n        &lt;value&gt;.jsp&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"simpleUrlMapping\" class=\"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping\"&gt;\n&lt;property name=\"mappings\"&gt;\n    &lt;props&gt;\n        &lt;prop key=\"/\"&gt;show&lt;/prop&gt;\n    &lt;/props&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"show\" class=\"com.jft.common.controller.HelloWorldController\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>HelloWorldController.java</p>\n\n<pre><code>public HelloWorldController(){\n    setCommandClass(Contact.class);\n    setCommandName(\"customerForm\");\n    setFormView(\"index\");\n}\n</code></pre>\n\n<p>In this case it is not working, and in logs it displays as </p>\n\n<pre><code>No mapping found for HTTP request with URI [/HelloWorldMVC/WEB-INF/jsp/index.jsp] in DispatcherServlet with name 'mvc-dispatcher'\n</code></pre>\n\n<p>Now, if I add that extra redirection and make modification to my files like</p>\n\n<p><strong>Case 2</strong></p>\n\n<p>web.xml</p>\n\n<pre><code>&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>redirect.jsp</p>\n\n<pre><code>&lt;% response.sendRedirect(\"register.html\"); %&gt; in redirect\n</code></pre>\n\n<p>and make my dispatcher servlet xml file as</p>\n\n<pre><code>&lt;bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"prefix\"&gt;\n        &lt;value&gt;WEB-INF/jsp/&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"suffix\"&gt;\n        &lt;value&gt;.jsp&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"simpleUrlMapping\" class=\"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping\"&gt;\n&lt;property name=\"mappings\"&gt;\n    &lt;props&gt;\n        &lt;prop key=\"/register.html\"&gt;show&lt;/prop&gt;\n    &lt;/props&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"show\" class=\"com.jft.common.controller.HelloWorldController\"&gt;\n</code></pre>\n\n<p> </p>\n\n<p>\n        \n            \n                show\n            \n        \n    </p>\n\n<p>Everything works in this case.</p>\n\n<p>what is happening in previous case, that after finding formView name again it is going inside dispatcher servlet to finding mapping for /HelloWorldMVC/WEB-INF/jsp/index.jsp.</p>\n\n<p>In Case 1, What I am getting is,</p>\n\n<p>I kept url pattern as /* for dispatcher servlet, so first request which will come as \"localhost:8080/HelloWorldMVC/\"; will be intercepted and I have mapping for that show , which goes to controller and get the page ie \"index\" and after applying prefix and suffix it becames \"/HelloWorldMVC/WEB-INF/jsp/index.jsp\", now again it is searching mapping for this request, my question is why it is searching again? which is not happening when I go through redirection way.</p>\n"},{"tags":["database","query","mvc","kohana","prepared-statement"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12810106,"title":"Kohana parameterised execution of query within view","body":"<p>I'm just trying to get my head around Kohana, so if I'm going about this the wrong way, let me know!</p>\n\n<p>I want to group results in my output. The way I did this in vanilla-PHP / PDO was to prepare a query, and then execute it within the output results. I can't get there in Kohana (3.2.2), though.</p>\n\n<p>In this case, on my 'terms' page, I want to group 'terms' by 'type', with each group of terms separated by a 'type' header.</p>\n\n<p>My 'terms' controller is (simplified):</p>\n\n<pre><code>class Controller_Terms extends Controller {\n\n  public function action_index() \n  {\n    $view = View::factory('terms');\n\n    // types of term - for grouping terms together\n    $sql = 'SELECT DISTINCT Type \n            FROM Term';\n    $view-&gt;types = DB::query(Database::SELECT, $sql)-&gt;as_object()-&gt;execute();\n\n    // list of terms - executed separately for each type\n    $sql = 'SELECT TermId, Term\n            FROM Term\n            WHERE Type = :type';\n    $view-&gt;terms = DB::query(Database::SELECT, $sql)-&gt;as_object();\n\n    $this-&gt;response-&gt;body($view);\n  }\n\n}\n</code></pre>\n\n<p>And the 'terms' view includes (simplified):</p>\n\n<pre><code>&lt;? foreach ($types as $type): ?&gt;\n&lt;h2&gt;&lt;?= $type-&gt;Type ?&gt;&lt;/h2&gt;\n&lt;? $params = array(':type' =&gt; $type-&gt;Type);\n   $terms-&gt;parameters($params)-&gt;execute(); \n   foreach ($terms as $term): ?&gt;\n    &lt;a href=\"term/&lt;?= $term-&gt;TermId ?&gt;\"&gt;&lt;?= $term-&gt;Term ?&gt;&lt;/a&gt;\n&lt;? endforeach // term ?&gt;\n&lt;? endforeach // type ?&gt;\n</code></pre>\n\n<p>I get the 'type' headers ok, but I don't get any terms within each type.</p>\n\n<p>Any suggestions appreciated!</p>\n"},{"tags":["asp.net-mvc-3","mvc","webgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12814260,"title":"MVC3 WebGrid Pagination hide the next and previous links for a certain count of pages","body":"<p>I am developing MVC3 website and using mvc3 webgrid control in it.</p>\n\n<p>The problem which I encounter is to hide the <strong>></strong> and <strong>&lt;</strong> links for Previous and Next page of pagination when the page size is 5 or less otherwise it displays Normally.</p>\n\n<pre><code>@{\nvar grid = new WebGrid(source: Model, defaultSort: \"FirstName\", rowsPerPage: 5,\ncanPage:true, canSort: true);\n }\n\n@grid.GetHtml(tableStyle: \"grid\", headerStyle: \"table-heading\",\n              footerStyle: \"pager\",\n              alternatingRowStyle: \"gird-second-row\",\n              selectedRowStyle: \"gird-first-row\",\n              rowStyle: \"gird-first-row\", columns: new[] {\n      grid.Column(\"Title\", header: \"FirstName\")\n})\n</code></pre>\n\n<p>Any help?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12814483,"title":"Codeigniter Model Parameter Passing","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12629365/codeigniter-and-the-model-view-controller-your-experience-your-meaning\">CodeIgniter and the Model-View-Controller  your experience / your meaning?</a>  </p>\n</blockquote>\n\n\n\n<p>I am guessing quite a simple question. With PHP and an MVC framework such as Codeigniter, is it better practice to always pass variables to the model? For example, should you pass post variables through the method call or directly reference <code>$this-&gt;input-&gt;post()</code> in the method itself? I am guessing it is best to pass them because you cannot assume the parameters will always come from the same source?</p>\n\n<p>Thanks,</p>\n\n<p>Tom</p>\n"},{"tags":["mvc","design-patterns","class-diagram"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12810782,"title":"MVC pattern & other patterns included","body":"<p>I need to know what design patterns are included in MVC, because I've checked out online that this MVC pattern uses Observer, in order to notify the view from changes in the model.</p>\n\n<p>Is there any other pattern included, like Composite, Strategy or even Mediator?</p>\n\n<p>What happens if we take out the Observer pattern from MVC? Does it still work? How would it change?</p>\n"},{"tags":["php","mvc","module","patterns","vendor"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12810899,"title":"How do I effectively implement modules in an MVC framework, and handle routing to multiple Controllers in a single module?","body":"<p>I've developed a basic MVC framework as a learning project in php--this is actually the second version of it, and I'm trying to improve two aspects that the first version fell short on:</p>\n\n<ul>\n<li><strong>Request Routing:</strong> mapping requests, e.g. /controller/action/[params] </li>\n<li><strong>Modules:</strong> drop-in applications designed to extend the application, e.g. a CMS.</li>\n</ul>\n\n<h2>This is where I'm at right now:</h2>\n\n<ol>\n<li><p>I'm able to take a request and parse it into it's various pieces,\ne.g. controller, action, args, etc.. These map to corresponding\ncontroller classes/files, e.g. \"/foo/bar\" -> FooController::bar() -\nall of which is done in my RequestRouter class and encapsulated in a\nRequest object.</p>\n\n<ul>\n<li>I maintain a Manifest object that contains categorized references (controllers, lib, etc) to application files. The manifest is used by my autoloader method.</li>\n<li>Since the manifest is cached, it is rebuilt whenever I add new files/classes, this true for when new modules get added/removed.</li>\n</ul></li>\n<li><p>The Controller::methods() render the correct views fine.</p></li>\n<li><p>Then comes the modules, which are organized like the core is structured\n(/root/raspberry/vendors/core/module)</p></li>\n</ol>\n\n<h2>The Problem</h2>\n\n<p>The issue that I think I'm having at the moment is a combination of Routing/Request Handling where modules are concerned:</p>\n\n<ul>\n<li>If I request project.dev/admin it maps to the\n<strong>AdminController::index()</strong> -- this is correct</li>\n<li>However, when I reference project.dev/admin/editor I still get <strong>AdminController::editor()</strong> where what I really want is <strong>EditorController::index()</strong></li>\n</ul>\n\n<p>After some research, I figure I could create a <strong>Decorator</strong>, which implements a <strong>Front Controller</strong> pattern and wraps a given Controller. The decorator could re-parse the request to make /editor the controller and re-map the remaining segments (/editor/action/args). </p>\n\n<p>All of this seems like it could work fine, but I feel like I'm missing something fundamental earlier in the flow (RequestRouter). I've research other similar questions here in SO, and read up on HMVC, and in principle it seems like it might answer my questions, but it seems more interface-driven than framework-driven (if that makes sense?) I've also looked at other frameworks like Kohana, but I'm not quite grasping how their module system and routing to multiple controllers in the same module work.</p>\n\n<p>Any insights or suggestions on how to effectively implement a module system without introducing a Front Controller or re-parsing a request would be much appreciated. Alternately, if I should re-structure my modules in a different manner, I'd like to understand how to do that.</p>\n\n<h2>Additional Info:</h2>\n\n<p>My RequestRouter maintains a list of routes that I pre-defined (including their default methods). Using these pre-defined routes, I <strong>can</strong> access /admin/editor and get EditorController::index(), but I'd have to define a route for every controller and request that goes to controllers in the module. I don't think this is good design. Here's a sample of my routes:</p>\n\n<pre><code>Array\n(\n    [/foo] =&gt; Array\n        (\n            [controller] =&gt; FooController\n            [method] =&gt; bar\n            [path] =&gt; /core\n        )\n\n    [/admin] =&gt; Array\n        (\n            [controller] =&gt; AdminController\n            [method] =&gt; index\n            [path] =&gt; /vendors/admin\n        )\n\n    [/admin/editor] =&gt; Array\n        (\n            [controller] =&gt; EditorController\n            [method] =&gt; index\n            [path] =&gt; /vendors/admin\n        )\n\n)\n</code></pre>\n\n<p>This is what my Request object looks like:</p>\n\n<pre><code>Request Object\n(\n    [properties:Request:private] =&gt; Array\n        (\n            [url] =&gt; /admin/editor\n            [query] =&gt; \n            [uri] =&gt; /admin/editor\n            [controller] =&gt; admin\n            [action] =&gt; editor\n            [args] =&gt; \n            [referrer] =&gt; Array\n                (\n                    [HTTP_REFERER] =&gt; \n                    [REMOTE_ADDR] =&gt; 127.0.0.1\n                    [HTTP_VIA] =&gt; \n                    [HTTP_X_FORWARDED_FOR] =&gt; \n                )\n\n            [get] =&gt; \n        )\n\n    [request_status:Request:private] =&gt; 200\n)\n</code></pre>\n\n<p>This is a sample of my Manifest:</p>\n\n<pre><code>[controller] =&gt; Array\n    (\n        [icontroller] =&gt; /htdocs/raspberry/raspberry/core/controller/icontroller.class.php\n        [index] =&gt; /htdocs/raspberry/raspberry/core/controller/index.php\n        [serviceerror] =&gt; /htdocs/raspberry/raspberry/core/controller/serviceerror.controller.php\n        [admin] =&gt; /htdocs/raspberry/raspberry/vendors/core/admin/controller/admin.controller.ph\n        [composer] =&gt; /htdocs/raspberry/raspberry/vendors/core/admin/controller/composer.controller.php\n    )\n</code></pre>\n\n<p>This is the application file system:</p>\n\n<p><a href=\"http://s11.postimage.org/pujb2g9v7/Screen_shot_2012_10_09_at_8_45_27_PM.png\" rel=\"nofollow\">http://s11.postimage.org/pujb2g9v7/Screen_shot_2012_10_09_at_8_45_27_PM.png</a></p>\n"},{"tags":["java","swing","mvc","undo-redo"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":113,"score":1,"question_id":12772821,"title":"How to implement undo/redo in Java for MVC model?","body":"<p>I am having trouble understanding the undo/redo functions using UndoManager, and integrating it with the MVC model.</p>\n\n<p>I am not sure where to put the various methods(in model, view or control)\nand I am still not sure how to use the undo manager.</p>\n\n<p>My control class implements UndoableEditListener \nIt creates:</p>\n\n<pre><code>private UndoManager manager = new UndoManager();\n</code></pre>\n\n<p>and in:</p>\n\n<pre><code>public void actionPerformed(ActionEvent e) {\n   if (e.getActionCommand().equals(\"Undo\")) {    \n      try {\n          manager.undo();   \n      } catch (CannotUndoException ex) { \n          ex.printStackTrace(); \n      }\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>I understand up to here, but the rest I am not sure what to do. I know I will have to add more in the model and view class, but not sure where.\nDO I have to have the following classes?</p>\n\n<pre><code>public class UndoAction extends AbstractAction {}\n\npublic void undoableEditHappened(UndoableEditEvent e) {\n</code></pre>\n\n<p>I am simply placing an integer number in a textfield, and then I want to be able to undo this.I set the number in the textfield in the view class.I want to acheive this the simplest way possible, no fancy coding! This is a minor part of my assg but I just cant get it working!!</p>\n\n<p>==========================================================\nHere is a more detailed description of my code, maybe it will help:</p>\n\n<p>I have a model, view and control package.</p>\n\n<p>Contol has:\nButtonGUIControl.java, which  implements both </p>\n\n<pre><code>    ActionListener and \n    UndoableEditListener.\n\n\n    final UndoManager manager = new UndoManager();\n</code></pre>\n\n<p>In the actionPerformed method, it calls</p>\n\n<pre><code>    if (e.getActionCommand().equals(\"Undo\")){\n\n             try {\n\n                    manager.undo();\n                }\n</code></pre>\n\n<p>and in:</p>\n\n<pre><code>    public void undoableEditHappened(UndoableEditEvent evt) {\n          manager.addEdit(evt.getEdit());\n</code></pre>\n\n<p>}</p>\n\n<p>In the View:\nGrid.java , which extends JTextField will add the following, wherever it needs to display a number on the GUI:(model is simply an instance of my Model class)</p>\n\n<pre><code>    getDocument().addUndoableEditListener(new ButtonGUIControl(model));\n</code></pre>\n\n<p>Could it be because the UndoManager is being created in a different package? I really have no idea how to debug this anymore!!</p>\n\n<p>I could post my entire code if that helps. I guess Im not sure how to integrate this with my mvc model structure.</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":83,"score":-1,"question_id":12808856,"title":"Where does the database live in MVC?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5863870/how-should-a-model-be-structured-in-mvc\">How should a model be structured in MVC?</a>  </p>\n</blockquote>\n\n\n\n<p>I've been trying to wrap my head around the MVC-style application for awhile, but beyond the most basic parts of an app my code gets into this death-spiral of a bloated Model/Database class containing far too many different pieces of logic. What I've recently realized is that these should be subdivided into other classes along more logical lines, ie: a class for user-related functions and another for application data functions.</p>\n\n<p>However, I'm not quite sure how best to implement the database to:</p>\n\n<ol>\n<li>Open only a single connection to the database, but let multiple model objects use it.</li>\n<li>Keep any platform specific database logic contained within a single object.</li>\n</ol>\n\n<p>Where do <em>you</em> put the database in your code? How do you pass it around?</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-3","knockout.js"],"answer_count":4,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":2397,"score":3,"question_id":5741929,"title":"Knockoutjs - how can you pass the model to the view","body":"<p>I've just started looking at <a href=\"http://knockoutjs.com/\" rel=\"nofollow\">knockoutjs</a> after watching the <a href=\"http://channel9.msdn.com/Events/MIX/MIX11/FRM08\" rel=\"nofollow\">MIX 11</a> talk and it looks very promising. </p>\n\n<p>I can understand how to pass your model back to your controller as json and update/save the model but how can I pass my model to my view and make it observable?</p>\n\n<p>For example if I have the following class:</p>\n\n<pre><code>public class Person {\n  public string FirstName { get; set; }\n  public string LastName { get; set; }\n}\n</code></pre>\n\n<p>I can pass it from my controller as json using a JsonResult so I send something like to my view:</p>\n\n<pre><code>{ \n  firstName : \"Bob\",\n  lastName : \"Jones\"\n};\n</code></pre>\n\n<p>But how do I make the properties observable and make this a viewModel within my code?</p>\n\n<p>Thanks</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12805632,"title":"Ruby on Rails initial controller setup","body":"<p>I'm getting started with Ruby on Rails and have some questions. I currently have a website that is written in Perl/HTML/Javascript, etc. My goal is to convert this website to use Rails. I'm running into a stubmling block on how to get started.</p>\n\n<p>Here is the general overview of the current website:\nThe main page has 3 selection lists that get populated on page load (via SQL). The user can select an option from one of these lists (say a date as one of the lists stores dates). Currently, using AJAX, this calls a Perl CGI script which queries the database with the chosen date and returns a table containing the appropriate records (fills in division next to the selection lists).\nThere are no other pages on the website (besides a changelog) as everything happens on the main page. The selection lists do not get refreshed after each selection due to AJAX.</p>\n\n<p>My question is, would I have a controller called Selection to populate the lists and another called Output to create the table of records? Does that setup makes sense?</p>\n\n<p>Thank you!</p>\n"},{"tags":["wcf","mvc","wcf-web-api","asp.net-web-api","web-api"],"answer_count":4,"favorite_count":3,"up_vote_count":11,"down_vote_count":0,"view_count":5347,"score":11,"question_id":9778665,"title":"Mvc 4 vs. Wcf Web Api","body":"<p>What are the pros and cons of using each technology?</p>\n\n<p>WCF Web Api is now merged into Asp.net\nAsp.net web api now supports self hosting.</p>\n\n<p>I still imagine if I want to expose multiple protocol schemas for the same operation I would still lean towards WCF or can Mvc end point do this too?</p>\n\n<p>Also does the new Asp.Net web api expose Wsdl? If not how would the client figure out what operation is available to them?</p>\n\n<p>Arguably the best feature of Mvc is the modelbinder. How robust is the WCF equivalent? </p>\n\n<p>So can someone tell me what advantage does the Asp.net web api bring to the table? WCF seems overwhelmingly the more powerful/scalable choice, imo. About the only thing the Mvc Web Api has over the WCF model is probably ease of development, but that means squat if it ends up being a serious design limitation down the road.</p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12799080,"title":"Symfony2 - how to organize Controllers?","body":"<p>This question can be related to any MVC Framework.</p>\n\n<p>How do you organize your controllers in MVC application?</p>\n\n<p>Lets say I have a Blog application. This blog application would have 2 layers.\nBlog layer that shows latest 10 posts, single post, posts by category etc.</p>\n\n<p>And I would have Admin layer that would enable user to create new blog post, edit post, delete post, create category...</p>\n\n<p>How would I build my controllers?\nShould I create Blog Controller and Admin Controller?\nOr should I fallow Domain Driven Design and create BlogController, PostController that would deal with actions related to that Object?</p>\n\n<p>The question is how to organize your controllers, should Controllers be something like \"namespaces\" for related functionality? So Administration functionality would have Admin controller that would deal with create, update, delete actions, and Blog Controller would deal with showing those posts to the end user?</p>\n\n<p>I hope you get what I need, explanation on how to organize your Controllers in MVC?</p>\n"},{"tags":["c#","mvc","asp.net-mvc-4","soa"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":66,"score":1,"question_id":12799757,"title":"Using web service in MVC, new Model or not?","body":"<p>I'm going to develop a web-based system with MVC4 which will use web services (WCF, exactly) for getting data from data provider (I can't use direct connection to SQL)</p>\n\n<p>So, I have a question about using the web services in this project. Is this correct to use directly web service models as MVC model or I should create separate models for my MVC project and then map web service models to the models in MVC with an object-mapper (such as <code>EmitMapper</code>)?</p>\n\n<p><strong>Note</strong>: Consider that the web services may changes a lot.</p>\n"},{"tags":["mvc","knockout.js","asp.net-web-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":139,"score":0,"question_id":12796477,"title":"How do you implement a generic CRUD grid using knockout.js?","body":"<p>I have a very nice grid with Create, Retrieve, Edit and Delete functionality.  I am using knockout.js on the client and WebAPI on the back end.  </p>\n\n<p>I would like to extend this to a number of different objects.  Essentially I have a List&lt;T&gt; where T is an MVC view model and the knockout view and view model should be able to work out what they should look like based on T.</p>\n\n<p>Does anyone know of a simple way to display any viewmodel (with specific controls for editing based on the viewmodel itself - eg datepicker for dates, input for string, drop downs etc) in a grid format and have generic CRUD functions.</p>\n\n<p>Below is an example of the exiting HTML I am using (for a specific object):</p>\n\n<pre><code>&lt;table class=\"table table-striped table-bordered\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n        &lt;th&gt;Value Date&lt;/th&gt;\n        &lt;th&gt;Position Date&lt;/th&gt;\n        &lt;th&gt;Book&lt;/th&gt;\n        &lt;th&gt;Currency&lt;/th&gt;\n        &lt;th&gt;Currency Base&lt;/th&gt;\n        &lt;th&gt;Amount1&lt;/th&gt;\n        &lt;th&gt;Amount2&lt;/th&gt;\n        &lt;th&gt;Position Type&lt;/th&gt;\n        &lt;th style=\"width: 100px; text-align:right;\" /&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n   &lt;tbody data-bind=\" template:{name:templateToUse, foreach: pagedList }\"&gt;&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>and the templates look like this:</p>\n\n<pre><code>&lt;script id=\"itemsTmpl\" type=\"text/html\"&gt;\n&lt;tr&gt;\n    &lt;td data-bind=\"text: valueDate.formattedDate\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: positionDate.formattedDate\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: book\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: currency\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: currencyBase\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: amount1\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: amount2\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: positionType\"&gt;&lt;/td&gt;\n    &lt;td class=\"buttons\"&gt;\n        &lt;a class=\"btn\" data-bind=\"click: $root.edit\" href=\"#\" title=\"edit\"&gt;&lt;i class=\"icon-pencil\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;a class=\"btn\" data-bind=\"click: $root.remove\" href=\"#\" title=\"remove\"&gt;&lt;i class=\"icon-trash\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/script&gt;\n\n&lt;script id=\"editTmpl\" type=\"text/html\"&gt;\n&lt;tr&gt;\n    &lt;td&gt;&lt;input data-bind=\"datepicker: valueDate.formattedDate, datepickerOptions: { dateFormat: 'yy/mm/dd' }\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"datepicker: positionDate.formattedDate, datepickerOptions: { dateFormat: 'yy/mm/dd' }\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: book\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: currency\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: currencyBase\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: amount1\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: amount2\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: positionType\"/&gt;&lt;/td&gt;\n    &lt;td class=\"buttons\"&gt;\n        &lt;a class=\"btn btn-success\" data-bind=\"click: $root.save\" href=\"#\" title=\"save\"&gt;&lt;i class=\"icon-ok\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;a class=\"btn\" data-bind=\"click: $root.cancel\" href=\"#\" title=\"cancel\"&gt;&lt;i class=\"icon-remove\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>I would like the View as well as the View Model to be generic and not \"hard-coded\" as above.  I am sure someone else must have done something like this.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc","asp.net-mvc-2"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":1447,"score":6,"question_id":3679263,"title":"Where to write Database and Business logic in MVC?","body":"<p>As I am learning and working on Asp.Net MVC application, I want to know that what is the better place to write <code>Business Logic</code> and <code>Data Access logic</code> in <code>MVC</code>.</p>\n\n<p>Where should I write DataAccess and Business Logic among three layers (<code>Model, View and Controller</code>) ??</p>\n\n<p>Could anybody please tell me the correct way to write the code for this.</p>\n\n<p>Scenario: I want to <code>retrieve all the employees where employee name like 'Mi%'</code> ( I have <code>SQL procedure to execute and retrieve the data.</code>)</p>\n\n<p>PS: <strong>Want to know that where I should create instance of Business Logic class and where I should create instance of Data Access layers class?</strong></p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","mvc","design-patterns","dci","event-based-programming"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12784276,"title":"Data-Context-Interaction (DCI) and evented programming in javascript","body":"<p>I recently saw the following presentation on DCI by Trygve Reenskaug :\n<a href=\"https://vimeo.com/43536416\" rel=\"nofollow\">https://vimeo.com/43536416</a> \nIt kinda blew my mind. Mmmh, seeing in code the interaction between different components of a software is an attractive idea. </p>\n\n<p>I tried to find examples of DCI in javascript, unsuccessfully. Then I started wondering. Isn't the DCI pattern opposed to the evented programming pattern ?</p>\n\n<p>Evented programming is trendy in javascript, i guess because it allows decoupling, and because   classical inheritance concepts are not native to js. I think I understand the benefits of evented programming but I also noticed that debugging can be damn hard when it requires to follow event message. </p>\n\n<p>Is it correct to say that both concepts are opposed ? Or did I got it wrong ? Is there some example implementations of DCI in js that I missed ? What should I look at in order to dig the concept ?</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12796940,"title":"How to make a pdf report of a particular view in mvc3","body":"<p>I wanted to get all student information in tabular format so i created appropriate view. Now can i make a pdf report of that view(By passing that view to any action)  which will look exactly as view is looking???</p>\n"},{"tags":["c#","asp.net-mvc","mvc","asp.net-mvc-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":38,"score":-1,"question_id":12797029,"title":"Typecast two model and Return other model","body":"<pre><code>   public static  Coupons.Domain.RejectedCoupons CoupontoRej(Coupons.Domain.Coupon coupon)             {    \n            Coupons.Domain.RejectedCoupons a = coupon;   \n           return a;\n</code></pre>\n\n<p><br>\n    Help me out , getting Error ,\n    not working for me</p>\n\n<pre><code>Error   2   Cannot implicitly convert type 'Com.Arpur.Coupons.Domain.Coupon' to 'Com.Arpur.Coupons.Domain.RejectedCoupons'  C:\\Users\\Agha\\Desktop\\Coupon\\Com.Arpur.Coupon.User\\Helpers\\ExtensionMethods.cs  71  48  Com.Arpur.Coupon.User\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12789763,"title":"How do I make several different edit/update views for a model while maintaining rest? (rails)","body":"<p>I have a model \"Voyage\" which needs several different types of forms.</p>\n\n<p>There is an arrival form, departure form, check-in form, etc.</p>\n\n<p>Currently I have this implemented by creating new actions in my controller, such as</p>\n\n<pre><code>    def arrival_form\n    ...\n    end\n\n    def departure_form\n    ...\n    end\n</code></pre>\n\n<p>All of these are basically edit/update actions though.</p>\n\n<p>I feel like there probably is a better, cleaner way to do it but I just haven't been able to figure it out.</p>\n"},{"tags":["php","mvc","dispatcher","router"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":155,"score":1,"question_id":4757213,"title":"get count controller args from router?","body":"<p>ok im learning on how to make my own custom mvc system, so far i have created things like router and the controller.</p>\n\n<p>example i have a controller profile class and an url www.helloworld.com/args1/args2/args3</p>\n\n<pre><code>class Profiles\n{\n    function index($args1,$args2)\n    {\n        echo var_dump($args1,$args2);\n    }\n}\n</code></pre>\n\n<p>heres are part of my router class that execute the method and the parms</p>\n\n<pre><code>        if (is_callable(array($controller,$method))) {\n            call_user_func_array(array($controller, $method), $this-&gt;params);\n        }\n</code></pre>\n\n<p>so far no error but somehow i need to give a 404. if the <code>$this-&gt;params</code> is different then the <code>count(params)</code> in the method that i call at <code>call_user_func_array(array($controller, $method), \n$this-&gt;params);</code></p>\n\n<p>ok what im thinking is if count get params not same as count params at the called class then 404,\nlets say i can count my $this->params it gave me a 3. but how about the params in the called class ?\nhow can we <strong>count params in a called class by call_user_func_array</strong>?</p>\n\n<p>Thanks for looking in</p>\n\n<p>Adam Ramadhan</p>\n"},{"tags":["objective-c","cocoa-touch","mvc","design","nstimer"],"answer_count":3,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":339,"score":7,"question_id":8218514,"title":"Observer pattern for stopwatch","body":"<p>I'm trying to implement a stopwatch based on the MVC model.</p>\n\n<p>The stopwatch uses the NSTimer with the selector <code>-(void) tick</code> being called every timeout.</p>\n\n<p>I've tried to make the stopwatch as a model for reusability but I've run into some design problems regarding how to update the view controller for each tick.</p>\n\n<p>First I created a protocol with the tick method and made the view controller its delegate. The view controller then updates the views based on the timer's properties at each tick. elapsedTime is a readonly NSTimeInterval. </p>\n\n<p>It works, but I'm thinking it might be bad design. I'm an Objective-C/Cocoa Touch beginner. Should I be using something like KVO? Or is there a more elegant solution for the model to notify the view controller that <code>elapsedTime</code> has changed?</p>\n"},{"tags":["mvc","events","symfony2","doctrine","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12738974,"title":"Remove Doctrine life cycle event from within a Symfony2 controller","body":"<p>I am looking to remove a <a href=\"https://github.com/l3pp4rd/DoctrineExtensions/blob/master/lib/Gedmo/Tree/TreeListener.php\" rel=\"nofollow\">Doctrine Extensions life cycle event listener</a> from within a controller.</p>\n\n<p>I need to remove the listener for update events because I need to update all nodes in the tree at once. Something that is not supported by the library, but is possible by directly setting the correct left, right, level etc...</p>\n\n<p>Is it possible to remove a life cycle even from within a controller? What is a possible solution for this situation.</p>\n\n<p>I thought something like this might work, but it did not</p>\n\n<pre><code>$evm = $em-&gt;getEventManager();\n\n$listener = new \\Gedmo\\Tree\\TreeListener();\n$evm-&gt;removeEventListener( array( 'postUpdate' ), $listener );\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":414,"score":1,"question_id":6432967,"title":"Call one function from another using codeigniter","body":"<p>I'm using CodeIgniter and I came across an interesting problem. I need to use the variables from one function on another. I was planning to do this by simply declaring global variables (which I wasn't able to) do in the framework. So I tried calling one function from within another (this is all happening in the controller). Since apparently this can't be done I made a helper file with the common function and then just tried to load it but I get this error:</p>\n\n<pre><code>Fatal error: Call to undefined method ReporteNominas::getValues()\n</code></pre>\n\n<p>the helper file is inside the helpers folder and it contains this:</p>\n\n<pre><code>function getValues($getThem, $tpar, $vpiso, $tcomi, $tgas, $ttotal){\n            $totalPares = $tpar;\n            $ventasPiso = $vpiso;\n            $totalComisiones = $tcomi;\n            $totalGastos = $tgas;\n            $totalTotal = $ttotal;\n            if($getThem){\n                return $totalPares . \",\" . $ventasPiso . \",\" . $totalComisiones . \",\" . $totalGastos . \",\" . $totalTotal;\n            }\n        }\n</code></pre>\n\n<p>and I'm trying to call it doing this:</p>\n\n<pre><code>$this-&gt;load-&gt;helper('helper_common_functions_helper');\n                $this-&gt;getValues(false, $query['cant'], $query['sum'], $query['com'], $query['gas'], $query['tot']);\n</code></pre>\n\n<p>what could I be missing here?</p>\n"},{"tags":["xml","linq","mvc","sorting"],"answer_count":1,"favorite_count":6,"up_vote_count":5,"down_vote_count":0,"view_count":3346,"score":5,"question_id":2208844,"title":"How to sort XML in LINQ C# by an attribute value? Also MVC","body":"<p>(Using the latest MVC 2 RC 2) I'm trying to sort some XML in LINQ (C#) by an element's attribute's value...</p>\n\n<pre><code>var sites = from s in xDoc.Element(\"sites\").Elements(\"site\")\norderby s.Attribute(\"name\")\nselect s;\n</code></pre>\n\n<p>But when I pass this to my View I get the exception:</p>\n\n<pre><code>Exception Details: System.ArgumentException: At least one object must implement IComparable.\nSource Error: \nLine 37:                &lt;/th&gt;\nLine 38:            &lt;/tr&gt;\nLine 39:            &lt;% foreach (var item in Model)\nLine 40:               { %&gt;\nLine 41:            &lt;tr&gt;\n</code></pre>\n\n<p>Can someone tell me how to sort XML using LINQ and have it render properly?</p>\n"},{"tags":["c#","asp.net-mvc","mvc","forms","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":143,"score":1,"question_id":2193673,"title":"Best way to implement an ASP.NET MVC list (C#)","body":"<p>I'd like to have a section of my page where, lets say, some basic contact fields can be entered. Without having to hit the \"Save\" submit button, the user can add more contacts by hitting a \"+\" button, which adds more fields to the page.</p>\n\n<p>This would be fairly easy in standard web forms, but I'm a little lost as to how it should work in MVC.</p>\n\n<p>How should I do it, do you think?</p>\n"},{"tags":["asp.net","sql","xml","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":441,"score":1,"question_id":2108112,"title":"Dealing with XML in ASP.NET MVC","body":"<p>I have a block of XML in a database which is easy enough to pull out using ASP.NET MVC, however I would like to access and modify the XML in an way more consistent with class instances. Is there a way to get the MVC (or any other model) to generate a data access (or perhaps Entity) class set from the DB-stored XML?</p>\n\n<p>If the above is rather obtuse, the question could be summarised as; What method would you use to best access and modify XML stored in a database from an ASP.NET MVC application?</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12791722,"title":"Access post vars in the model or pass them through function calls in the view?","body":"<p>So while tinkering around with my own home built MVC framework I noticed something that looked in need of some refactoring.</p>\n\n<p>If I have a function call in the view that calls a function residing in the model and that function takes session/post/get vars for parameters.  Is it best to pass those vars as arguments in the function call or just access them in the function that's in the model?</p>\n\n<p>Code in the view:</p>\n\n<pre><code>$model = $this-&gt;model; // Shortcut to the model\n$vaildator = $this-&gt;model-&gt;validator; // Shortcut to the Validator object in the model\n$btnPressed = $this-&gt;model-&gt;btnPressed; // Shortcut to the btnPressed flag var in the model\n\n&lt;label for=\"firstName\"&gt;First Name: &lt;span class=\"&lt;?php echo $model-&gt;setReq($_POST['firstName'], 'First name'); // Set the class of the span tag the holds the 'required' text ?&gt;\"&gt;(required)&lt;/span&gt;&lt;/label&gt;\n&lt;input type=\"text\" name=\"firstName\" id=\"firstName\" title=\"First name\" value=\"&lt;?php echo htmlspecialchars($btnPressed ? $_POST['firstName'] : 'First name'); // Echo the user's entry or the default text ?&gt;\" maxlength=\"50\" /&gt;\n&lt;?php if($btnPressed) $vaildator-&gt;valName($_POST['firstName'], true, true, 'First name'); // Check for errors and display msg if error is found ?&gt;\n</code></pre>\n\n<p>Code in the model:</p>\n\n<pre><code>// If the field is empty or still contains the default text, highlight the 'required' error msg on the input field by changing the msg's class\n// Note: used only for input fields that are required\npublic function setReq($postVar, $defaultText)\n{\n    $className = 'required';\n\n    if($this-&gt;btnPressed)\n    {\n        $className = $postVar == '' || $postVar == $defaultText ? 'reqError' : 'required';\n        return htmlspecialchars($className);\n    }\n    else\n    {\n        return htmlspecialchars($className); \n    }\n}\n</code></pre>\n\n<p>The reason I ask is because putting the arguments in the function calls in the view makes the view seem logic heavy but doing it the other way, accessing session/get/post vars in the model, seems a bit hacky and would make the code not very reusable.  Thanks for any advice!</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","ruby-on-rails-3"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":3657,"score":7,"question_id":4301249,"title":"How to change the default path of view files in a Rails 3 controller?","body":"<p>I have a controller called <code>ProjectsController</code>. Its actions, by default, look for views inside <code>app/views/projects</code>. I'd like to change that path for all methods (<code>index</code>, <code>show</code>, <code>new</code>, <code>edit</code> etc...) in the controller.</p>\n\n<p>For example:</p>\n\n<pre><code>class ProjectsController &lt; ApplicationController\n\n  #I'd like to be able to do something like this\n  views_path 'views/mycustomfolder'\n\n  def index\n    #some code\n  end\n\n  def show\n    #some code\n  end\n\n  def new\n    #some code\n  end\n\n  def edit\n    #some code\n  end\nend\n</code></pre>\n\n<p>Please note I am not changing each method with <code>render</code> but defining a default path for all of them. Is this possible? If so, how?</p>\n\n<p>Thank you!</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","nested-attributes"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":11875829,"title":".build can't assign foreign key that doesn't exist yet","body":"<p>I have the following code for creating pictures for users in my users controller:</p>\n\n<pre><code>  def new\n    @user = User.new\n    @pictures = @user.pictures.build({:placement =&gt; \"front\"},{:placement =&gt; \"profile\"})\n  end\n</code></pre>\n\n<p>However, when I create a new user, it isn't automatically building pictures with placement \"front\" or \"profile.\"  In fact, there's no update whatsoever to pictures.  The pictures model has </p>\n\n<pre><code>attr_accessible :placement\n</code></pre>\n\n<p>and in picture.rb</p>\n\n<pre><code>belongs_to :user\n</code></pre>\n\n<p>and in user.rb</p>\n\n<pre><code>has_many :pictures\naccepts_nested_attributes_for :pictures, allow_destroy: true\n</code></pre>\n\n<p>Why is my build command silently failing?</p>\n\n<h1>UPDATE</h1>\n\n<p>Using .save!, I have learned that <code>@pictures</code> are being assigned, but the problem is no user_id being associated with them.  When I intentionally assign the user_id, as in:</p>\n\n<pre><code>def new\n    @user = User.new\n    @pictures = @user.pictures.build({:placement =&gt; \"front\", :user_id =&gt; @user.id},{:placement =&gt; \"profile\", :user_id =&gt; @user.id})\n end\n</code></pre>\n\n<p>It still does not assign a user_id.  </p>\n\n<p>Strangely, when I run the very same commands in the rails console, it <strong>does correctly assign</strong> the user_id.  </p>\n\n<p>It appears that the new @user does not get an auto id assigned to him until after the @pictures command is run, yet the console version is succeeding because it is performing the operations in sequence.  </p>\n\n<p>So, that's why I'm seeing a blank id.  </p>\n\n<p>Why is this happening?  And isn't this simultaneous id assignment something the model is supposed to take care of with <code>belongs_to</code> and <code>has_many</code>, and <code>accepts_nested_attributes_for</code>?  </p>\n\n<p>What is the appropriate way to address assigning nested attributes if the ID that links them together isn't created until after save?</p>\n\n<p><em>Why does this not work?</em></p>\n"},{"tags":["php","arrays","mvc","object"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":59,"score":-2,"question_id":12774789,"title":"use array of objects in php is a good practice?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12774655/is-a-good-practice-to-use-array-of-objects-in-php\">is a good practice to use array of objects in php?</a>  </p>\n</blockquote>\n\n\n\n<p>For example, it is a good practice to do this in php:</p>\n\n<p>I have a class test, it is a controller class where I instantiate the view and the model class, but what if I need to instantiate if another model I would have to create another object, instead of that I create an array of objects that holds the instances of each model or view:    </p>\n\n<pre><code>class test extends Controller{\n\n    //The vars $Model and $View are arrays declared in the parent class\n\n    public function __construct(){\n        parent::__construct();\n        $this-&gt;Model[\"testModel\"] = new testModel();\n        $this-&gt;Model[\"otherModel\"] = new otherModel();\n        $this-&gt;View[\"testView\"] = new testView();\n    }\n\n    public function index_action(){\n        $this-&gt;View[\"testView\"]-&gt;assign(\"name\", $this-&gt;getParam(\"name\"));\n        $this-&gt;View[\"testView\"]-&gt;showTestTemplate();\n    }\n\n    public function other_method(){\n\n        echo \"Hello world\";\n\n    }\n\n}\n</code></pre>\n"},{"tags":[".net","json","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":10869180,"title":"Storing json in a hidden field to deserialize to a model property list","body":"<p>Good morning all.  I've been pondering over the best way to use plupload with my mvc web app to marry up uploaded files with their respective record when created on the back-end.</p>\n\n<p>I've finally boiled it down to the following process - this will work for both new and existing records (think CMS):</p>\n\n<ol>\n<li>Create new record, use plupload to upload multiple files.</li>\n<li>Multiple files (series of json strings representing each file) are stored on the client then posted back via hidden field.</li>\n<li>A property on the model for the form holds the result of these uploaded files so I can handle the back-end business.</li>\n</ol>\n\n<p>The model (without the fluff of unrelated properties) will look like this:</p>\n\n<pre><code>public class Record{\n    public IList&lt;ClientFile&gt; Files {get;set;}\n}\n</code></pre>\n\n<p>Client file looks like this:</p>\n\n<pre><code>public class ClientFile{\n    public string UniqueId{get;set;}\n}\n</code></pre>\n\n<p>My problem lies with what I have on the client after each successful upload (a json string of ClientFile) and how I can correctly get this into hidden field and bound correctly so I can have the list of client files ready in my model.</p>\n\n<p>I'm thinking along the lines of either structuring the hidden field(s) right so the binder knows how to wire them up to the list, or having do some some custom deserializing myself to turn the collection of json strings into a list of objects.</p>\n\n<p>Does anyone have any wisdom before I lose my bank holiday weekend to mvc.</p>\n"},{"tags":["java","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":89,"score":5,"question_id":12785696,"title":"Java Click Counter using MVC","body":"<p>I'm trying to write a really simple Java example to learn MVC. It's a JButton that when clicked increments a counter and displays the number of clicks so far.</p>\n\n<p>I broke out the Model, View and Controller into separate classes, and thought I was on the right path, but when I click the button the JLabel that displays the counter continues to stay at 0.</p>\n\n<p>Can someone take a quick look and see why the JLabel that should display the number of clicks always stays at 0?</p>\n\n<p>Thanks</p>\n\n<pre><code>View\n\npackage mvc;  \nimport javax.swing.JButton;  \nimport javax.swing.JLabel;  \nimport javax.swing.JTextArea;  \nimport javax.swing.SwingUtilities;  \nimport javax.swing.WindowConstants;  \n\n\npublic class View extends javax.swing.JFrame {  \n    private JButton jButton1;  \n    private JLabel jLabel1;  \n    private Controller c;   \n    private Model m;  \n\n    /**\n    * Auto-generated main method to display this JFrame\n    */\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                Controller c = new Controller();    \n\n                Model m = new Model();\n\n                View inst = new View(c,m);\n                inst.setLocationRelativeTo(null);\n                inst.setVisible(true);\n            }\n        });\n    }\n\n    public View(Controller c, Model m) {\n        super();\n        this.c = c;     \n        this.m = m;\n        initGUI();\n    }\n\n    private void initGUI() {\n        try {\n            setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n            getContentPane().setLayout(null);\n            {\n                jButton1 = new JButton();\n                getContentPane().add(jButton1, \"Center\");\n                jButton1.setText(\"Click\");\n                jButton1.setBounds(314, 180, 101, 34);\n                jButton1.addActionListener(c);\n            }\n            {\n                jLabel1 = new JLabel();\n                getContentPane().add(getJLabel1());\n                jLabel1.setText(\"Click Count = \" + c.getClickCount());\n                jLabel1.setBounds(439, 183, 91, 27);\n\n            }\n            pack();\n            this.setSize(818, 414);\n        } catch (Exception e) {\n            //add your error handling code here\n            e.printStackTrace();\n        }\n    }\n\n    public JLabel getJLabel1() {\n        return jLabel1;\n    }   \n}\n\nEnd View\n\nController class\n\npackage mvc;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Controller implements ActionListener \n{   \n    Model m;\n    View v;\n\n    public Controller()\n    {\n        m = new Model();        \n        v = new View(this, m);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent arg0) \n    {\n        if (arg0.getSource() == \"Click\")\n        {\n            m.addClick();\n            v.getJLabel1().setText(\"Click count = \" + getClickCount());\n        }\n\n    }\n\n    public int getClickCount()\n    {\n        return m.getClicks();\n    }\n}\n\nEnd Controller class\n\nModel class\n\npackage mvc;\n\npublic class Model \n{\n    private int clicks;\n\n    public Model()\n    {\n        clicks = 0;\n    }\n\n    public void addClick()\n    {\n        clicks++;\n    }\n\n    public int getClicks()\n    {\n        return clicks;\n    }\n}\n\nEnd Model class\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":37,"score":-2,"question_id":12786614,"title":"Why entity has data that just serve view?","body":"<p>In all books or articles that explain MVC I read having View relevant data or method in Model is bad practice, for example having method for decorate data as string or images.\nBut when I start learning ASP.NET MVC by examples often see a property in model contain image address just for use by view, it feels wrong. Can someone explain this to me?</p>\n"},{"tags":["c#","jquery","mvc","csv"],"answer_count":4,"favorite_count":4,"up_vote_count":8,"down_vote_count":0,"view_count":6917,"score":8,"question_id":4668906,"title":"Export to CSV using MVC, C# and jQuery","body":"<p>I am trying to export a list to a CSV file.\nI got it all working up to the point I want to write to file to the response stream. This doesn't do anything.</p>\n\n<p>Here is my code:</p>\n\n<p>Call the the method from the page.</p>\n\n<pre><code>$('#btn_export').click(function () {\n         $.post('NewsLetter/Export');\n});\n</code></pre>\n\n<p>The code in the controller is as follows:  </p>\n\n<pre><code>[HttpPost]\n        public void Export()\n        {\n            try\n            {\n                var filter = Session[FilterSessionKey] != null ? Session[FilterSessionKey] as SubscriberFilter : new SubscriberFilter();\n\n                var predicate = _subscriberService.BuildPredicate(filter);\n                var compiledPredicate = predicate.Compile();\n                var filterRecords = _subscriberService.GetSubscribersInGroup().Where(x =&gt; !x.IsDeleted).AsEnumerable().Where(compiledPredicate).GroupBy(s =&gt; s.Subscriber.EmailAddress).OrderBy(x =&gt; x.Key);\n\n                ExportAsCSV(filterRecords);\n            }\n            catch (Exception exception)\n            {\n                Logger.WriteLog(LogLevel.Error, exception);\n            }\n        }\n\n        private void ExportAsCSV(IEnumerable&lt;IGrouping&lt;String, SubscriberInGroup&gt;&gt; filterRecords)\n        {\n            var sw = new StringWriter();\n            //write the header\n            sw.WriteLine(String.Format(\"{0},{1},{2},{3}\", CMSMessages.EmailAddress, CMSMessages.Gender, CMSMessages.FirstName, CMSMessages.LastName));\n\n            //write every subscriber to the file\n            var resourceManager = new ResourceManager(typeof(CMSMessages));\n            foreach (var record in filterRecords.Select(x =&gt; x.First().Subscriber))\n            {\n                sw.WriteLine(String.Format(\"{0},{1},{2},{3}\", record.EmailAddress, record.Gender.HasValue ? resourceManager.GetString(record.Gender.ToString()) : \"\", record.FirstName, record.LastName));\n            }\n\n            Response.Clear();\n            Response.AddHeader(\"Content-Disposition\", \"attachment; filename=adressenbestand.csv\");\n            Response.ContentType = \"text/csv\";\n            Response.Write(sw);\n            Response.End();\n        }\n</code></pre>\n\n<p>But after <code>Response.Write(sw)</code> nothing is happening. Is it even possible to save a file this way?</p>\n\n<p>Regards  </p>\n\n<p><strong>Edit</strong><br>\nThe response headers I see when I click the button are:  </p>\n\n<pre><code>HTTP/1.1 200 OK\nCache-Control: private\nContent-Type: text/csv; charset=utf-8\nServer: Microsoft-IIS/7.5\nX-AspNetMvc-Version: 2.0\nContent-Disposition: attachment; filename=adressenbestand.csv\nX-Powered-By: ASP.NET\nDate: Wed, 12 Jan 2011 13:05:42 GMT\nContent-Length: 113\n</code></pre>\n\n<p>Which seem OK to me..</p>\n\n<p><strong>Edit</strong><br>\nI got rid of the jQuery part en replaced it by an hyperlink and this is working fine for me now:  </p>\n\n<pre><code>&lt;a class=\"export\" href=\"NewsLetter/Export\"&gt;exporteren&lt;/a&gt;\n</code></pre>\n"},{"tags":["c#","mvc","entity-framework-5"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":12195484,"title":"Accessing the db connection from within my code first \"table\" class","body":"<p>Is it possible to get to the current connection from inside your code first \"table\" class?</p>\n\n<p>I'm trying to write a MVC Multi Tenancy app (1 app, many db's) the easiest way i can think of is to pass the connection string (or tenant name) when creating the dbcontext (i've looked at other ways to do this, but don't really understand them). However once i go into the table class I cannot then access the current db connection to perform other actions i need.</p>\n\n<p><strong>Example code</strong></p>\n\n<pre><code>public class ConnectionContext : DbContext\n{\n    public ConnectionContext(String connectionString) \n        : base(connectionString)\n    {\n        if (!this.Database.Exists())\n            throw new Exception(\"Database does not exist\");\n    }\n\n    public DbSet&lt;Table1&gt; Table1 { get; set; }\n}\n\n[Table(\"Table1\")]\npublic class Table1\n{\n    [Key]\n    public String Column1 { get; set; }\n\n    public String Column2 { get; set; }\n\n    public Int32 GetNoOfColumns()\n    {\n        using (var conn = new ConnectionContext(\"???\")) // &lt;-- **issue here**\n        {\n            //Code to get info\n\n            return 0;\n        }\n    }\n\n    public void Authorize()\n    {\n        using (var conn = new ConnectionContext(\"???\")) // &lt;-- **issue here**\n        {\n            this.Column2 = \"Authorized\";\n\n            conn.Entry(this).State = EntityState.Modified;\n            conn.SaveChanges();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","cakephp"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":61,"score":-1,"question_id":12779843,"title":"CakePHP MVC Structure For Browser Game","body":"<p>I'm using (and learning) CakePHP to build an MMO browser-based PHP game. I'm new to the MVC concept, and am just looking for some advise on setting up some of my controllers, etc.</p>\n\n<p>People who play the game will be able to choose from a number of isntances of that game that are currently running, so I regard each Game as being an object, and then there are Players and Planets within each Game. I've created a Model, View and Controller for each of those but, I want to create an admin page that uses all three models. A page where an admin can create, delete and modify Games, Players and Planets. This seems to break the MVC \"rules\", as I need a view that uses all three models, just for something as simple as showing the admin lists of all instances of all three objects.</p>\n\n<p>Throughout the game, whenever viewing information about a Planet, within an instance of a Game, I'll be needing to look up Player information in the same view, continuously. I've realised that I can't separate any of my game elements into distinct models. There has to be inter-dependence.</p>\n\n<p>Is MVC the right thing for me to be using, here? If it is, how should I be looking at my three main game objects within the MVC framework? Is it \"okay\" to get info from multiple models within one view, and, how is that done?</p>\n"},{"tags":["c#","asp.net-mvc","linq","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12777284,"title":"Specified type member\"Status\" not supported in LINQ to Entities","body":"<p>I have a class called SmsContent</p>\n\n<pre><code>public class SmsContent\n    {        \n        public int Id { get; set; }           \n        public string Description { get; set; }\n        public string Content { get; set; }            \n\n        public SmsContentStatus Status { get; set; }\n        public ActivityId ActivityId { get; set; }       \n    }\n</code></pre>\n\n<p>And I have an enum type SmsContentStatus </p>\n\n<pre><code>public enum SmsContentStatus\n    {\n        Active = 0,\n        Partial,\n        Inactive,\n        Deleted\n    }\n</code></pre>\n\n<p>I'm trying to use this in my Controller</p>\n\n<pre><code>public ActionResult Index()\n    {\n        var db = new IvrDbContext();\n        var status = SmsContentStatus.Partial;\n\n        var content = db.SmsContents.Where(p =&gt; p.Status == status).FirstOrDefault();\n        if (content != null)\n        {\n            return View(content);\n        }\n        else\n        {\n            return View();\n        }\n    }\n</code></pre>\n\n<p>and then use it in my view</p>\n\n<pre><code>@model IEnumerable&lt;Sample.Models.SmsContent&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var model = @Html.Raw(Json.Encode(Model));\n    for (var m in model) {\n                console.log(m.Content);\n            }\n&lt;/script&gt;\n</code></pre>\n\n<p>but I'm getting the error\n \"The specified type member 'Status' is not supported in LINQ to Entities.\nOnly initializers, entity members, and entity navigation properties are supported.\"</p>\n\n<p>Any help gratefully received!</p>\n"},{"tags":["ruby-on-rails","oop","mvc","search","cells"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12769912,"title":"Is handling requests/accessing database in cells a good practice? and more about MVC with cells and OOP","body":"<p><em>I am just wondering whether this is a good approach to make a model request inside a cell definition....?</em></p>\n\n<p>I am also need to define in general what is more convenient way to implement different representations for search results in different context from OOP point of view.</p>\n\n<p><strong>What do I need this for?</strong></p>\n\n<p>I have categories with items. I want to implement search results as a cell. \nSearch results should be represented in a bit different way according to three cases: </p>\n\n<ul>\n<li>search for all items in specified category</li>\n</ul>\n\n<p>E.g. let category be \"animals\" (this category contains: dog, cat, and bird items in the database) then I should see in browser:</p>\n\n<blockquote>\n<pre><code> Category Items\n    dog\n    cat\n    bird\n</code></pre>\n</blockquote>\n\n<ul>\n<li>search for items similar to specified \"pattern\" in all categories</li>\n</ul>\n\n<p>E.g let pattern be \"do\":</p>\n\n<blockquote>\n<pre><code>Similar Items\n   Animals\n      dog\n   Cars\n      dodge\n</code></pre>\n</blockquote>\n\n<ul>\n<li>search for items similar to specified \"pattern\" inside specified \"category\"</li>\n</ul>\n\n<p>E.g. let pattern be \"do\" and category be \"animals\":</p>\n\n<blockquote>\n<pre><code>Category Items\n    dog\nSimilar Items\n    Cars\n       dodge\n</code></pre>\n</blockquote>\n\n<p>I decided to experiment with cells gem to implement this stuff...</p>\n\n<p>This is what i want to display via cell:\n(app/cells/search_result/display.html.haml)</p>\n\n<pre><code>%h1\n  = @category_items[:title]\n%ul\n  - for i in @category_items[:items]\n    %li\n      = link_to \"#{i.code} #{i.summary}\", category_item_path(i.category.name, i.code)\n\n%h1\n  = @similar_items_by_category[:title]\n%ul\n  - for cat in @similar_items_by_category[:items_by_category].keys\n    %li\n      = \"#{cat.name}\"\n      %ul\n        - for i in @similar_items_by_category[:items_by_category][cat]\n          %li\n            = link_to \"#{i.code} #{i.summary}\", category_item_path(i.category.name, i.code)\n</code></pre>\n\n<p>This is my cell:\n(app/cells/search_result_cell.rb)</p>\n\n<pre><code>class SearchResultCell &lt; Cell::Rails\n\n  def display options\n    setup! options\n\n    render\n  end\n\n  def setup! options\n\n    #some code here that defines\n    # category_items_title, like \"Category Items\"\n    # array_of_found_items\n    # similar_item_title, like \"Similar Items\"\n    # hash_of_found_items_by_category\n    #this code will be different for each search case in correspondent overridden function\n\n    @category_items = { title: category_items_title, items: array_of_found_items }\n    @similar_items_by_category = { title: similar_item_title, items_by_category: hash_of_found_items_by_category }\n  end\n\nend\n</code></pre>\n\n<p>I am going to have separate cell class for each \"search\" case, derive it from the SearchResultCell (maybe I'll rename it to something like GenericSearchResultCell), and override setup! function for each case... And then will use builder to define wich class to build... </p>\n\n<p>This is my view:\n(app/views/items/index.html.haml)</p>\n\n<pre><code>= render_cell :search_result, :display #, ... - and here some options...\n</code></pre>\n\n<p>Now <strong>QUESTIONS</strong>:</p>\n\n<ol>\n<li><p>Should I make real search requests inside \"setup!\" function in a cell? And then make my controller ItemsController just \"parse\" route, and provide that options to be passed to my SearchCell...</p></li>\n<li><p>Or should I make my ItemsController be responsible for both \"parsing\" route and making search requests (defining array_of_found_items, and hash_of_found_items_by_category by itself)? And then just pass all this stuff to the SearchCell as options...</p></li>\n<li><p>Is all this \"cells experiments\" worthy? Is there any more convenient way to implement my \"search\" views and controllers?</p></li>\n</ol>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","entity-framework","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12777458,"title":"How To Get Value From DB While Editting Entry with Null value","body":"<p><strong>Error Message:</strong>\nAn object with the same key already exists in the ObjectStateManager. The ObjectStateManager cannot track multiple objects with the same key.</p>\n\n<p>I want to get Image Url from database if fileupload has null value(not change).\nI mean if i change smallImage and not change LargeImage,then it should get largeImage value from DB.</p>\n\n<pre><code>[HttpPost]\n    public ActionResult Edit(Blog blog, HttpPostedFileBase smallImage, HttpPostedFileBase largeImage)\n    {\n        if (ModelState.IsValid)\n        {\n            if (smallImage != null)\n            {\n                blog.SmallImage = smallImage.ContentLength + \"_\" + smallImage.FileName;\n                string filepath = Path.Combine(Server.MapPath(\"~/Content/Blog/\"), smallImage.ContentLength + \"_\" + smallImage.FileName);\n                smallImage.SaveAs(filepath);\n            }\n            else\n            {\n                blog.SmallImage = db.Blogs.Find(blog.ID).SmallImage;\n            }\n            if (largeImage != null)\n            {\n                blog.LargeImage = largeImage.ContentLength + \"_\" + largeImage.FileName;\n                string filepath = Path.Combine(Server.MapPath(\"~/Content/Blog/\"), largeImage.ContentLength + \"_\" + largeImage.FileName);\n                largeImage.SaveAs(filepath);\n            }\n            else\n            {\n                blog.LargeImage = db.Blogs.Find(blog.ID).LargeImage;\n            }\n            blog.PostDate = Convert.ToDateTime(DateTime.Now.ToShortDateString());\n            db.Entry(blog).State = EntityState.Modified;\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n        return View(blog);\n    }\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["java","mvc","javafx-2","playing-cards"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":12336593,"title":"mvc design in a card game","body":"<p>I'm trying to make a card game.</p>\n\n<p>some classes I have are: CardModel, CardView; DeckModel, DeckView. </p>\n\n<p>The deck model has a list of card model, According to MVC, if I want to send a card to a deck, I can add the card model to the deck model, and the card view will be added to the deck view by a event handler.</p>\n\n<p>So I have a addCard(CardModel m) in the DeckModel class, but if I want to send a event to add the card view of that model to the deck view, I only know let the model has a reference to view.</p>\n\n<p><strong>So the question is:</strong> If the card model and deck model have to have a reference to their view classes to do it? If not, how to do it better?</p>\n\n<p><strong>Update, the code:</strong></p>\n\n<pre><code>public class DeckModel {\nprivate ArrayList&lt;CardModel&gt; cards;\n\nprivate ArrayList&lt;EventHandler&gt; actionEventHandlerList;\n\npublic void addCard(CardModel card){\n    cards.add(card);\n\n    //processEvent(event x);\n    //must I pass a event that contain card view here?\n}\n\nCardModel getCards(int index){\n    return cards.get(index);\n\n}\n\npublic synchronized void addEventHandler(EventHandler l){\n    if(actionEventHandlerList == null)\n        actionEventHandlerList = new ArrayList&lt;EventHandler&gt;();\n\n    if(!actionEventHandlerList.contains(l))\n        actionEventHandlerList.add(l);\n}\n\npublic synchronized void removeEventHandler(EventHandler l){\n    if(actionEventHandlerList!= null &amp;&amp; actionEventHandlerList.contains(l))\n        actionEventHandlerList.remove(l);\n}\n\nprivate void processEvent(Event e){\n    ArrayList list;\n\n    synchronized(this){\n        if(actionEventHandlerList!= null)\n            list = (ArrayList)actionEventHandlerList.clone();\n        else\n            return;\n    }\n    for(int i=0; i&lt;actionEventHandlerList.size(); ++i){\n        actionEventHandlerList.get(i).handle(e);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":88,"score":-3,"question_id":12774462,"title":"Java Core MVC Framework","body":"<p>I was wondering if there exists such thing as Java SE MVC framework. I've been confused about Hibernate and Spring, these 2 framworks are for Java EE web applications and i like to program in Java SE (Core) and was wondering if there exists MVC framework for it or if anyone can give a tutorial link how to build one in Java SE.</p>\n"},{"tags":["java","mvc","templates","scala","playframework"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":238,"score":0,"question_id":10910215,"title":"play2 framework my template is not seen. : package views.html doesn not exist","body":"<p>Good day. Please advice me. The problem is that controller doesn't see template I want to use:</p>\n\n<blockquote>\n  <p>[etl_admin] $ compile [info] Compiling 3 Scala sources and 4 Java\n  sources to\n  D:\\ECLIPSE_WORKSPACES\\play2_apps\\etl_admin\\target\\scala-2.9.1\\classes...\n  [error]\n  D:\\ECLIPSE_WORKSPACES\\play2_apps\\etl_admin\\app\\controllers\\EtlWorkflowSeqNodeController.java:7:\n  error: package views.html.etlworkflowseqnode does  not exist [error]\n  import views.html.etlworkflowseqnode.list; [error]<br>\n  ^ [error]\n  D:\\ECLIPSE_WORKSPACES\\play2_apps\\etl_admin\\app\\controllers\\EtlWorkflowSeqNodeController.java:14:\n  error: cannot find symbol</p>\n  \n  <p>[error]             list.render(EtlWorkflowSeqNode.findTree(jobId))\n  [error]             ^ [error]   symbol:   variable list [error]<br>\n  location: class EtlWorkflowSeqNodeController [error] 2 errors [error]\n  {file:/D:/ECLIPSE_WORKSPACES/play2_apps/etl_admin/}etl_admin/compile:compile:\n  javac returned nonzero exit code [error] Total time: 7 s, completed\n  05.06.2012 17:14:44</p>\n</blockquote>\n\n<p>Here is controller code:</p>\n\n<pre><code>package controllers;\n\nimport play.mvc.Controller;\nimport play.mvc.Result;\nimport models.EtlWorkflowSeqNode;\nimport play.db.jpa.Transactional;\nimport views.html.etlworkflowseqnode.list; /*LINE #7, Eclipse really tells that there is no such package*/\n\npublic class EtlWorkflowSeqNodeController  extends Controller {\n\n    @Transactional\n    public static Result list(Integer jobId) {\n        return ok(\n            list.render(EtlWorkflowSeqNode.findTree(jobId))\n        );\n    }\n}\n</code></pre>\n\n<p>I've attached an image with my project tree. There is such package and there is template named \"list\".\n<img src=\"http://i.stack.imgur.com/lBWRr.png\" alt=\"My Eclipse\">\nwhat do I do Wrong</p>\n"},{"tags":["javascript","mvc","node.js","websocket","pylons"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":377,"score":0,"question_id":8346755,"title":"MVC / websockets in node.js","body":"<p>I'm thinking about building some intranet applications that make use of websockets. I'm currently using Python/Pylons for my web framework on the server, and doing polling to update items in the DOM of the page. Pylons is not well suited to communicate with websockets (IMHO) as it uses a thread per connection. I'm considering using node.js as the server to communicate with the websocket connections from my web application. Here's the \"10,000 foot view\" of my application:</p>\n\n<ul>\n<li>Pylons delivers the web content (html, css, images, javascript, etc.)</li>\n<li>JavasSript on the page application opens up websocket(s) to the node.js server</li>\n<li>The node.js server pushes data to the application through the websocket</li>\n<li>JavaScript updates the page DOM elements based on the data from the websocket</li>\n</ul>\n\n<p>The data in the case above comes from a MySQL database, which is where my question comes from. I've set up MVC type applications before, and can do the same kind of thing in node.js. However, if I have a long lived websocket open to the node.js server, how does node.js become aware of changes in the Model and push them out to the application? For instance if I want to update totals presented on the web application page, and those totals change due to actions in the system outside of node.js (other web applications), how is node.js notified of those changes? The thing that comes to mind is to have node.js poll the database for various changes and propagate the changes to the various Views. But to me that just sounds like I'm moving my polling from the web application to the node.js server?</p>\n\n<p>Anyone have any ideas, suggestions or pointers on this?</p>\n\n<p>Thanks in advance!\nDoug</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor","covariance"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12773505,"title":"ASP.NET MVC 3 views, super classes don't work for subclasses?","body":"<p>I have the following classes -</p>\n\n<pre><code>public abstract class BusinessObject { }\npublic abstract class Form: BusinessObject { }\npublic abstract class BillableForm: Form { }\npublic class MembershipForm: BillableForm { }\n\npublic abstract class Dto&lt;T&gt;: where T: BusinessObject { }\npublic abstract class InboxDto&lt;T&gt;: Dto&lt;T&gt; where T: Form { }\npublic class MembershipFormDto: InboxDto&lt;MembershipForm&gt; { }\n</code></pre>\n\n<p>And I have the following views -</p>\n\n<pre><code>membershipform.cshtml:\n@model AdminSite.Models.MembershipFormDto\n@{\n    Layout = \"~/Views/Inbox/Shared/_LayoutForm.cshtml\"\n}\n\n_LayoutForm.cshtml:\n@model InboxDto&lt;Form&gt;\n</code></pre>\n\n<p>When I land on the membershipform.cshtml page, I get the following exception stating:</p>\n\n<p>The model item passed into the dictionary is of type 'AdminSite.Models.MembershipFormDto', but this dictionary requires a model item of type 'AdminSite.Infrastructure.Models.InboxDto`1[BusinessLogic.Inbox.Form]'.</p>\n\n<p>From everything I can tell, <code>MembershipFormDto</code> IS-A <code>InboxDto</code> of type <code>MembershipForm</code>, where <code>MembershipForm</code> IS-A <code>Form</code>.  What gives?</p>\n"},{"tags":[".net","security","mvc","wif"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12655250,"title":"How can i expose pattern for a user to link two accounts together in Azure ACS and WIF (SWT tokens)","body":"<p>Right now when the user is authenticated (over Azure ACS with WIF enabled for SWT tokens) it dont look like I can let them sign in again with a new provider and get two tokens.</p>\n\n<p>im looking for a pattern that would let users link two accounts together?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12766490,"title":"The correct way to implement a nested form in Rails","body":"<p>Sorry for the vauge title, I couldn't think of a better one.  I am creating a sports tipping application.  I have a games model that consists of teamA and teamB.  I also have a 'tip' model that will consist of the game id and the team id that the user selects.  A tip only relates to one team. (one to many).  </p>\n\n<p>What I want is a form that will list all open games with the 2 teams being check boxes that the user can select.<br>\nFor example :</p>\n\n<p>GAME 1</p>\n\n<p>. teamA   . teamB</p>\n\n<p>GAME 2</p>\n\n<p>.teamC    . teamD</p>\n\n<p>......\netc.  </p>\n\n<p>I want to know what is the correct 'rails' way of doing something like this ?  I want to know the 'right' way of approaching something (for a change).  What I am doing now seems to be on the way to working but it feels like there may be a better way.</p>\n\n<p>My idea was to have the new method in my tips_controller pass the games to the form and then let the create method do the work of creating several 'tips'.  I am looking at the nested_form gem but am not exactly sure that this will fit <a href=\"https://github.com/ryanb/nested_form\" rel=\"nofollow\">https://github.com/ryanb/nested_form</a> .</p>\n\n<p>Thankyou for any ideas, I am new to ruby on rails.</p>\n"},{"tags":["javascript","mvc","view","ember.js"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":110,"score":3,"question_id":12767008,"title":"ember.js view example from docs","body":"<p>I'm new to Ember and I try to execute all examples from the documentation. But I found, that some of them won't work.<br>\nFor example, in the 'Building a View Hierarchy' section. I try to execute the first example, but I don't see InfoView data (<a href=\"http://jsfiddle.net/LMnet/EX8HY/\" rel=\"nofollow\">jsFiddle</a>). But if I add 'view' before data, like this:</p>\n\n<pre><code>&lt;b&gt;Posts:&lt;/b&gt; {{view.posts}}\n&lt;br&gt;\n&lt;b&gt;Hobbies:&lt;/b&gt; {{view.hobbies}}\n</code></pre>\n\n<p>All template looks fine (<a href=\"http://jsfiddle.net/LMnet/EX8HY/5/\" rel=\"nofollow\">jsFiddle</a>).\nSo, what is the point of this 'view' word? In the UserView template I didn't write any prefixes before the data and it works normally.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","activerecord"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12765862,"title":"How to associate existing model with new model in Rails","body":"<p>I have a 'tip' model and a 'team' model.  I am trying to create a form where a user will select the winning teams from several games.  So far the user can select the winning teams and those id's are being saved as foriegn keys in the Tip model (team_id).  But after saving, I can't go (for example )  @tip.team.name .  What do I need to do ?  How do I associate it (I though rails might magically do it if foriegn key is set), I am very new to rails.  Thanks for any help !</p>\n\n<pre><code>class Tip &lt; ActiveRecord::Base\nattr_accessible :user_id, :team_id, :team, :game_id, :game, :comp, :comp_id\nbelongs_to   :game\nbelongs_to   :comp\nbelongs_to   :team\nend\n\nclass Team &lt; ActiveRecord::Base\nattr_accessible :name\nhas_many   :tips\nend\n\ndef create\nparams['game'][0].each do |key, value|\n    @tip = Tip.new\n    @tip.team_id = value\n    @tip.game_id = key\n    @tip.save\nend\n</code></pre>\n\n<p>This last  method may be messy too, but not sure how else to do it.  There are several 'tips' that I want to create in the one form. </p>\n\n<p>EDIT : To be clear I am quite sure it's a one to many relationship, I am creating several tips in the one form but each tip only relates to one team.</p>\n\n<p>EDIT :  Actually my approach (which I'm sure is not close to the best way, did allow tip.team.name.  It was a silly error relating to my test data that made me think otherwise.</p>\n"},{"tags":["java","swing","mvc","observer-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":11402244,"title":"Observer/observable objects with MVC pattern","body":"<p>I have this situation:</p>\n\n<p>An object that it's observable and another object that it is observer.</p>\n\n<p>the observer has a method <code>update(Observable obs,Object obj)</code> that receive through <code>notifyObservers</code> the object changed.when observer receives the notify, update method prints the object changed. I want print out the result in a gui that implements MVC pattern.I'm following  this guide <a href=\"http://www.oracle.com/technetwork/articles/javase/index-142890.html\" rel=\"nofollow\">MVC pattern</a>.\nMy idea is to make the <code>Controller</code> the observer. something like that:</p>\n\n<pre><code>public class Controller extends AbstractController implements Observer \n{\n    public static final String TOTAL_HIT_COUNT_PROPERTY = \"Total Hit\";\n\n    public void changeTotalHitCount(long new_total_hit_count)\n    {\n        setModelProperty(TOTAL_HIT_COUNT_PROPERTY, new_total_hit_count);\n    }\n\n    @Override\n    public void update(Observable o, Object arg) \n    {\n\n    }\n}\n</code></pre>\n\n<p>but I don't know if it's a correct implementation!</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":5,"up_vote_count":3,"down_vote_count":0,"view_count":6757,"score":3,"question_id":6022231,"title":"Simple PHP MVC example","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1497497/hello-word-example-in-mvc-approach-to-php\">Hello Word example in MVC approach to PHP</a>  </p>\n</blockquote>\n\n\n\n<p>I'm looking for a very simple PHP MVC implementation example, in order to understand the concept a little better. Most tutorials i found on the web really suck, they're bland copy/paste or the author has no idea what the heck he's doing, just following a trend.</p>\n"},{"tags":["c#","mvc","events","design-patterns","chess"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":120,"score":1,"question_id":12308823,"title":"Trying to understand MVC. Is this right?","body":"<p>The way it was explained was through the use of events and the publish/subscribe model. Basically, the model would just be the data and it would have no knowledge of the view/GUI/UI. The model is typically just an abstract object that operates on its data and can perform operations and whatnot.</p>\n\n<p>The view is a different class that responds to changes in the model and usually displays this data to the user. Previously, I did not know how this could occur without coupling between the view and model but having it explained with events clears that confusion up a lot. Does this mean that the model contains public events that itself raises when something interesting happens? For example, if we were programming a game of Chess, when a piece was moved, the model would raise the event of <code>PieceMoved</code> with the necessary information (which piece, moved from where to where, etc.) and the view could subscribe to such an event and then show an animation of the piece moving from its old square to its new square.</p>\n\n<p>The part that still confuses me is the exact nature of the controller. I'm having trouble understanding how it supplies the model and view with new information. I imagine the controller contains references to the model and view. Keeping with the Chess example, would the controller just respond to user input (for example to move a piece) and then just suggest to the model what piece wants to move to where? Then the model takes this information, sees if it's a legitimate move, and if so, update the model accordingly, raise the <code>PieceMoved</code> event, to which the view reacts and updates the graphical realm accordingly?</p>\n\n<p>Lastly, how does the controller find out which piece is trying to be moved? It seems like that type of thing is heavily tied to the view (let's say moving involved first clicking the piece you wish to move and then the destination square). I imagine the controller would respond to a mouse click and sends those coordinates to the model but how would the model know how to translate those coordinates to find which piece was selected? Isn't that heavily tied to the view? It seems like the view would have to perform some logic processing instead of simply responding to the model and controller but then it wouldn't be a proper view anymore (instead a view/model mix).</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12762049,"title":"Expression MVC2","body":"<p>I use expression in Java MVC <br />\n<code>&lt;p&gt;${i}&lt;/p&gt;</code> <br />\nI define a method <br /></p>\n\n<pre><code>public static String test(int i) {\n    //\n}\n</code></pre>\n\n<p>I can't call method <code>test</code> in Expression\n<code>${test(i)}</code> \nHow to fix it?</p>\n"},{"tags":["javascript","mvc","backbone.js","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12762574,"title":"backbone-style models in angularjs?","body":"<p>I apologize if this question has already been answered elsewhere, but I couldn't find a full, obvious (to me, at least) solution.</p>\n\n<p>I have experience with the idea of a Model in backbone. In my mind, it's similar to a class in any other OOP language - create a \"class\" using Backbone.Model.extend(), and call new on it when you want a new instance of that class. If I have a app namespace, I can store all of my objects there, and do something like App.getAllThisOrThatTypeModel().</p>\n\n<p>Is this a service in angular? Is it an ok \"best practice\" to have a LOT of services (one for each type of model), basically mimicking \"class\" with \"service\"?</p>\n\n<p>I'm just trying to wrap my head around the best way to deal with models as I try to migrate from backbone to angular to experiment - any advice for someone migrating in this direction would be greatly appreciated.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":12744982,"title":"How can I maintain the detail part data in MVC?","body":"<p>I have a Header and Detail. Customer creation is my header, It may have multiple details like contact details, finance details ,etc.</p>\n\n<p>I maintain saved detail data in session. When i am saving header, I get the saved detail data in session and assign it with the header object (Customer is my object it has details objects) and saved into the db.</p>\n\n<p>So my question is instead of storing every details (every details is list) part in session is there any way to do the same without using session?</p>\n\n<p>Sorry for explaining without source.</p>\n"},{"tags":["mvc","validation","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12751638,"title":"Validation strategies with AngularJS","body":"<p>I'm evaluating AngularJS and so far I'm very enthusiastic about it. But there's something missing on the validation front: the available options, such as the <a href=\"http://docs.angularjs.org/guide/forms\" rel=\"nofollow\">built-in mechanisms</a> and the <a href=\"http://angular-ui.github.com/\" rel=\"nofollow\">AngularUI initiative</a>, implement validators through directives and, as such, every validation should be declared in the view:</p>\n\n<pre><code>&lt;form ng-controller=\"SomeController\"&gt;\n    &lt;!-- Notice the 'required' attribute directive below: --&gt;\n    &lt;input type=\"text\" ng-model=\"user.name\" name=\"uName\" required /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>In this example, the view is defining that <code>user.name</code> is required. It's like saying the view defines the proper shape of the model. Isn't it a little backwards? Shouldn't the view reflect the states, including error states when it's the case?</p>\n\n<p>Am I mistaken? I'm wondering if it's possible to apply any validators in the <strong>controller</strong>, signaling the model's data as valid/invalid, and updating the view accordingly (painting form controls with red, showing error messages, clearing previous errors and so on). I'm assuming AngularJS is powerful enough for this, but in the docs and samples so far I just haven't seen anything like I've described above. Thanks!</p>\n"},{"tags":["asp.net-mvc","mvc","iis7","httphandler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12758126,"title":"Why are there two web.config files in my MVC application","body":"<p>There is one in the Views folder.</p>\n\n<p>And there is another in the root of the app.</p>\n\n<p>I want to register a custom handler and i cant understand where the code should go.\nI'm running IIS7 in Integrated Mode so I have to add a <code>&lt;handlers&gt;</code> tag to the <code>&lt;system.webServer&gt;</code> but when I'm looking at the web.config at the Views folder I see that it uses a <code>&lt;httpHandlers&gt;</code> under <code>&lt;system.web&gt;</code> tag.</p>\n\n<p>So two questions:\n  1. why are there two web.config files in an mvc application?\n  2. where and in what way I should register my custom HTTP Handler?</p>\n"},{"tags":["ruby-on-rails","mvc","activerecord","ruby-on-rails-3.2","relational-database"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12750497,"title":"What is the most effecient way to get and view commonly used data inside a Rails application?","body":"<p>I have three models all associated with eachother via <code>has_many :through</code> method. </p>\n\n<pre><code>ProgramCategory\nProgramSubcategory\nProgram\n</code></pre>\n\n<p>Inside my application, I need to use ProgramCategory.title, ProgramSubcategory.title and Program.title very often. Lets say, there'll be a dynamic sidebar menu and it will look like this:</p>\n\n<pre><code>|- Shows (ProgramCategory)\n  |- Action (ProgramSubcategory)\n    |- Lost (Program)\n    |- Games of Thrones (Program)\n    |- Dexter (Program)\n</code></pre>\n\n<p>Since I'm aware of power of <code>application_controller</code>, <code>application_helper</code> and <code>partials</code>; I feel lost about combining all of these together to find the most appropriate way.</p>\n\n<p>Where and how should I call my models? Where should I build my methods to have access it through all of my controllers? Should I simply create a partial and render it at <code>application</code> layout?</p>\n\n<p>I need some expert enlightment, please...</p>\n\n<p>Thanks.</p>\n"},{"tags":["spring","mvc","maven","apache-poi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":287,"score":1,"question_id":10181400,"title":"Apache POI (poi-ooxml) for Excel 2007 and Spring MVC DocumentBuilderFactory cannot be found","body":"<p>I'm having some trouble trying to include Apache POI poi-ooxml library to my project. I'm using Maven and the following dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>But after doing this I'm not able to start my Spring MVC app again, Here is the stacktrace:</p>\n\n<blockquote>\n  <p>Exception created : org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from ServletContext resource [/WEB-INF/context/applicationContext.xml]; nested exception is javax.xml.parsers.FactoryConfigurationError: Provider for javax.xml.parsers.DocumentBuilderFactory cannot be found</p>\n</blockquote>\n\n<p>So, what I understand is that poi-ooxml is including another xml parser that override the default Java VM defaut one that is used by Spring to read its xml configuration file.</p>\n\n<p>If I exclude the 2 following libs:</p>\n\n<ul>\n<li>xmlbeans</li>\n<li>xml-apis</li>\n</ul>\n\n<p>All is working fine (I'm able to start my Spring app) but of course Apache POI is no longer working as he's missing these 2 required libs...</p>\n\n<p>Any advice will be greatly appreciated ;)</p>\n\n<p>Thanks</p>\n"},{"tags":["web-services","api","mvc","node.js","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12755045,"title":"Backbone.js and communication with the server (retrieving refined data sets)","body":"<p>In backbone.js, my understanding of communication with the server to retrieve data is cloudy at best... My current confusion is:</p>\n\n<blockquote>\n  <p>When you use a Collection you can fetch a set of data from the\n  database through the Model and filter out unwanted results. My concern\n  with this is that in an instance where the unfiltered results ends up\n  being millions of results long, this would slow things down.</p>\n</blockquote>\n\n<p>I know this must not be the case of how it functions because others use backbone.js and I haven't seen this complaint before.</p>\n\n<p><strong>QUESTION:</strong>\nThrough backbone.js, when you fetch a set of objects where does it communicate to and how do you pass variables to specify filters for the method? For example, call to a get method that could take a user_id to return objects with the associated user_id.</p>\n\n<p>If this is not the correct approach please let me know.</p>\n\n<p>Explanation of how backbone.js communicates with the server, what type of interface it expects to communicate. Examples would also be very helpful.</p>\n\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["c#","asp.net-mvc","entity-framework","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12754576,"title":"Create controller logic for ASP.Net MVC for logged in user","body":"<p>I have the following models:</p>\n\n<pre><code>public class Expense\n{\n    [Key]\n    [DatabaseGeneratedAttribute(DatabaseGeneratedOption.Identity)]\n    public int ID { get; set; }\n    [Required]\n    public string Name { get; set; }\n    [Required]\n    [Column(TypeName = \"Money\")]\n    public decimal Limit { get; set; }\n    [Required]\n    [ForeignKey(\"UserProfile\")]\n    public int UserProfileId { get; set; }\n    [Required]\n    public virtual UserProfile UserProfile { get; set; }\n}\n\n[Table(\"UserProfile\")]\npublic class UserProfile\n{\n    [Key]\n    [DatabaseGeneratedAttribute(DatabaseGeneratedOption.Identity)]\n    public int UserId { get; set; }\n    public string UserName { get; set; }\n    public virtual ICollection&lt;Expense&gt; Expenses { get; set; }\n}\n</code></pre>\n\n<p>I have a logged in user, and I would like that user to be able to add new Expenses. The create controller actions looks as follows:</p>\n\n<pre><code>    //\n    // GET: /Expenses/Create\n\n    public ActionResult Create()\n    {\n\n        return View();\n    }\n\n    //\n    // POST: /Expenses/Create\n\n    [HttpPost]\n    public ActionResult Create(Expense expense)\n    {            \n        if (ModelState.IsValid)\n        {\n            UserProfile user = db.UserProfiles.Single(u =&gt; u.UserName == User.Identity.Name)\n            user.Expenses.Add(expense);                \n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n\n        return View(expense);\n    }\n</code></pre>\n\n<p>With the view:</p>\n\n<pre><code>@model MoneyDrainPlug.Models.Expense\n\n@{\n    ViewBag.Title = \"Create\";\n}\n\n&lt;h2&gt;Create&lt;/h2&gt;\n\n@using (Html.BeginForm()) {\n    @Html.ValidationSummary(true)\n\n    &lt;fieldset&gt;\n        &lt;legend&gt;Expense&lt;/legend&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Name)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Name)\n            @Html.ValidationMessageFor(model =&gt; model.Name)\n        &lt;/div&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Limit)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Limit)\n            @Html.ValidationMessageFor(model =&gt; model.Limit)\n        &lt;/div&gt;        \n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Create\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n\n&lt;div&gt;\n    @Html.ActionLink(\"Back to List\", \"Index\")\n&lt;/div&gt;\n\n@section Scripts {\n    @Scripts.Render(\"~/bundles/jqueryval\")\n}\n</code></pre>\n\n<p>When the post happens, ModelState.IsValid is false in the controller. This is because the there is no UserProfileId set in the expense. It does not help if I set the UserProfile and\\or UserProfileId before calling ModelState.IsValid.</p>\n\n<p>What would be the correct and secure way of handling this? Surely I should not trust a UserProfileId sent from the client? </p>\n\n<p>In case it matters, I am using asp.net MVC 4.</p>\n\n<p>Thanks in advance    </p>\n"},{"tags":["php","mvc","url-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":7556471,"title":"Handling unreadable/not found files in MVC (PHP)","body":"<p>I'm still writing my simple MVC for learning and eventually make a framework for my applications and now I'm writing the routing class and have faced dilemma. Since this community is big, I wanted to hear different opinions before continue. At some point entered URL might not match any controller or there might be a controller with unreadable file. Now I'm faced with dilemma on how do I notify user of the situation.</p>\n\n<p>First option that I see is throwing an exception. This is easy option but catching exceptions might be a problem and it is not centralized.</p>\n\n<p>Another is calling error controller populating a message error or fixed error. \nThere might be other options and I would like to hear from you buddies.</p>\n"},{"tags":["cocoa-touch","mvc","design"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12751630,"title":"have too many methods in view controller but don't know what other classes to create or which methods to move there","body":"<p>I'm a newbie working on an app that both shows the user haiku chosen at random from a collection that comes with the app and allows him/her to write haiku to add that collection.  It also takes the user to a webview of a page from which s/he can buy haiku books.  The thing is, I've put almost all my methods in the view controller, and I have a feeling that good MVC work would divide this up differently.  Here are my basic methods (I've merged a few, left a few out that are submethods of other methods, and also Foundation and UIKit methods, for the sake of brevity), with brief descriptions:</p>\n\n<pre><code>GHHaiku.m //This is a model class, or at least I think it is.\n\n-(int)chooseNumber {\nreturns a random number \n}\n\n-(NSString *)haikuToShow {\nuses that number to return haiku from collection\n}\n\nGHViewController.m\n\n-(void) viewDidLoad\n-(void) viewDidUnload\n\n-(void) clearScreen {\ngets rid of all UITextFields and images so that a new set of them can be created, perhaps with different parameters.\n}\n\n-(void) saveData {\nsaves persistent information like whether user has read the instructions\n}\n\n-(void)home {\ntakes user home from whatever screen we're in and shows next haiku\n}\n\n//--code to set up navBar and Toolbar\n\n-(void)createNavBar:title {\ncreates and adds buttons to a UINavigationItem with title as title and adds UINavigationBar to view\n}\n\n-(void) loadToolbar {\nloads toolbar at bottom of screen and adds buttons\n}\n\n//--code for instructions page\n\n-(void) haikuInstructions {\nshows instructions on screen\n}\n\n//--code for Amazon page\n\n-(void) loadAmazon {\nloads webview of haiku page at amazon.com\n}\n\n-(void) webViewDidFinishLoad:(UIWebView)\n-(BOOL) webview:(UIWebView) shouldStartLoadWithRequest:(NSURLRequest) navigationType:(UIWebViewNavigationType)\n-(void) connectWithURLNSString) andBaseURLString: (NSString)\n-(BOOL) connection: (NSURLConnection) didFailWithError: (NSError)\n\n-(void) doneWithAmazon {\ntakes user out of webview Amazon and shows next haiku\n}\n\n//--code for compose page\n\n-(void) createSpaceToWrite {\nsets up and shows an editable UITextView\n}\n\n-(void) userWritesHaiku {\nallows user to write haiku\n}\n\n-(void) userEditsHaiku {\ntakes user to edit screen for haiku s/hes already written.\n\n-(void) userFinishedWritingHaiku {\nshows action sheet once users done\n}\n\n-(void) deleteHaiku {\nallows user to delete haiku s/hes written\n}\n\n-(void) saveUserHaiku {\nsaves user haiku to documents folder\n}\n\n-(void) takeToOptOut {\nallows user to opt out of sending haiku to central database\n}\n\n//--code for sharing\n\n-(void) createImage {\ncreates image of haiku\n}\n\n-(void) showActionSheet {\ngives user options to tweet, faceBook, or email\n}\n\n-(void) share {\nallows user to tweet, email, or facebook that image\n}\n\n//--code for display page\n\n-(IBAction)chooseDatabase: (UISegmentedControl) {\nallows user to choose whether to see his/her own haiku and/or haiku that come with the application\n}\n\n-(void) fadeView {\nfades the UISegmentedControl for chooseDatabase\n}\n\n-(void) nextHaiku {\nshows next haiku\n}\n\n-(void) previousHaiku {\nshows previous haiku\n}\n</code></pre>\n\n<p>I have to imagine that some of those belong in separate classes, but I don't know what to put where and what to keep in GHViewController.  (I think part of my confusion comes because \"view controller\" has both \"view\" and \"controller\" in it and I don't understand whether it's a view, a controller, or neither....)</p>\n\n<p>Anyway, I would love suggestions about other classes I ought to create and which methods I should put in them.</p>\n"},{"tags":["php","mvc","joomla","joomla-extensions","joomla-component"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1058,"score":0,"question_id":10514363,"title":"joomla pass variable between views","body":"<p>I'm in the middle of programming a joomla component, this component will have a multiple step form for registration, the first one containing 2 radio buttons. What is the easiest approach to pass the variable from the radiobutton on to step2? when the user submits the first form the controller is called to display the second step, is there an easier approach to this? Thanks in advance.</p>\n\n<p>Code:</p>\n\n<p>step1 of the form (view code):</p>\n\n<pre><code>&lt;form name=\"step1\" action=\"&lt;?php echo JRoute::_('index.php option=com_mycomponent&amp;task=mycomponent.register'); ?&gt;\" method=\"POST\"&gt;\n&lt;input type=\"radio\" name=\"placement\" value=\"0\" checked /&gt; Option 1&lt;br /&gt;\n&lt;input type=\"radio\" name=\"placement\" value=\"1\" /&gt; Option 2&lt;br /&gt;\n&lt;div class=\"next\" onClick=\"document.forms['step1'].submit();\"&gt;&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Controller code to handle mycomponent.register</p>\n\n<pre><code>class mycomponentControllermycomponent extends JController\n\n{\n\n    public function register()\n\n    {\n    $this-&gt;setRedirect(JRoute::_('index.php?option=com_mycomponent&amp;view=default&amp;layout=step2', false));\n    }\n\n}\n</code></pre>\n\n<p>I would like to pass the value from the radio to step2 ;)</p>\n\n<p>Hope i didn't miss a topic concerning this already, couldn't find one atleast! </p>\n"},{"tags":["asp.net","mvc","web-config","url-routing","asp.net-mvc-routing"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":2824,"score":5,"question_id":2006673,"title":"ASP.NET MVC Default URL View","body":"<p>I'm trying to set the Default URL of my MVC application to a view within an area of my application.  The area is called \"<strong>Common</strong>\", the controller \"<strong>Home</strong>\" and the view \"<strong>Index</strong>\".</p>\n\n<p>I've tried setting the defaultUrl in the forms section of web.config to \"<strong>~/Common/Home/Index</strong>\" with no success.</p>\n\n<p>I've also tried mapping a new route in global.asax, thus:</p>\n\n<pre><code>routes.MapRoute(\n        \"Area\",\n        \"{area}/{controller}/{action}/{id}\",\n        new { area = \"Common\", controller = \"Home\", action = \"Index\", id = \"\" }\n    );\n</code></pre>\n\n<p>Again, to no avail.</p>\n"},{"tags":["c#","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":259,"score":0,"question_id":7658406,"title":"MVC - Forms Authentication, IFrame cookies, dynamic Cookieless mode","body":"<p>I have a WebApplicatoon which some of my customers would like to use within an IFrame.\nHowever because saving cookies within IFrame's in Internet Explorer is not supported my Forms authentication doesn't.</p>\n\n<p>I can easily solve this by adding </p>\n\n<p><code>&lt;forms loginUrl=\"~/Account/LogOn\" timeout=\"2880\" cookieless=\"UseUri\" /&gt;</code></p>\n\n<p>However since my site shows its current url (as any web page does) when it runs outside an iframe this results in some VERY ugly Urls.</p>\n\n<p>So my thought is. \nIs there any way to solve the IFrame cookie issue with IE (and Safari) without adding P3P headers. </p>\n\n<p>If this is not possible, is there then any way to change the Cookieless mode from code ?\nIam thinking of having a IFrame Route which then enables cookieless mode.\nSomething like <a href=\"http://www.mypage.com/IFrame/Account/Login\" rel=\"nofollow\">http://www.mypage.com/IFrame/Account/Login</a>.\nSince this Route is only used within IFrame's the URL doesnt matter.</p>\n\n<p>Does anyone have a good solution for this ?</p>\n"},{"tags":["javascript","mvc","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12734970,"title":"AngularJS - Modifying html element after linking","body":"<p>My app generates dynamic forms based on data from a web service.</p>\n\n<p>For example, the web service might return:\n[{Name:'Age',DataType:'Number'},{Name:'PhoneNumber',DataType:'Phone'}]</p>\n\n<p>In the html, the field list is bound like this:</p>\n\n<pre><code>&lt;div ng-repeat=\"v in model.Variables\"&gt;\n    &lt;input type=\"text\" ng-model=\"v.Value\" dynamic-variable=\"{{v.DataType}}\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>DynamicVariable is my directive that watches for changes on attrs.DynamicVariable (the value will change during linking), and performs custom actions based on the type (ex, for 'Phone' datatype, it applies a mask to the input element).</p>\n\n<p>If the type is 'Number', then I have to wrap the existing element in some spans in order to create a number control that has some additional functionality.</p>\n\n<pre><code>var minusButton = '&lt;button type=\"button\" class=\"button number-down\"&gt;-&lt;/button&gt;';\nvar wrapper = '&lt;span class=\"number input margin-right\"&gt;&lt;/span&gt;';\nvar plusButton = '&lt;button type=\"button\" class=\"button number-up\"&gt;+&lt;/button&gt;';\nelement.attr('size', '3');\nelement.wrap(wrapper);\nelement.before(minusButton);\nelement.after(plusButton);\n</code></pre>\n\n<p>However, this seems to break model binding - once the element is wrapped in more html, no binding to/from the model takes place anymore.  Similarly, an element.replaceWith() approach also breaks the binding.</p>\n\n<p>Any idea why this happens, or what a workaround might be?  Thanks!</p>\n"},{"tags":["mvc","extjs","ember.js","javascript-framework","google-closure"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":85,"score":-1,"question_id":12743833,"title":"Portal using JavaScript MVC framework","body":"<p>I am more looking for feedback / advices on this one...</p>\n\n<p>I need to develop an enterprise-level portal system (User-based dashboards, with integration of standalone, reusable \"modules) using a pure JavaScript MVC/HTML5 approach. The \"modules\" would call backend REST services.</p>\n\n<p>I am familiar with several JS frameworks such as Ember, Backbone, Angular, Google Closure and even different players such as Meteor and Derby.</p>\n\n<p>However, since this is going to be a large-scale project which needs to survive for at least 5 years; I am looking for feedback on which framework to chose, and why... :-)</p>\n\n<p>I even considered ExtJS, or going more server side with GWT...</p>\n\n<p>What are your opinions ? :)</p>\n"},{"tags":["javascript","mvc","node.js","express","ember.js"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1082,"score":0,"question_id":10550436,"title":"Node - Express + Ember + Socket io project file structure for MVC development","body":"<p>So i've recently started getting into <strong>node</strong>, and have started working on a few projects using the <strong>Express framework</strong>. I love it - the syntax really appeals to me, being an interactive jQuery dev.</p>\n\n<p>However, in terms of a project file structure, i seem to be clueless and appear to be, perhaps, bloating things out of proportion.</p>\n\n<p>I've got a basic project boilerplate over on github: <a href=\"https://github.com/KingScooty/node-express-3.0-html5-boilerplate\" rel=\"nofollow\">https://github.com/KingScooty/node-express-3.0-html5-boilerplate</a> that works for me quite nicely.</p>\n\n<p>And now i'm looking to integrate <strong>Ember.js</strong>. However, i have no idea how to structure the directories. I'm thinking something along the lines of this:</p>\n\n<pre><code>project\n app\n  collections\n  models\n  views\n node_modules\n public\n  css\n  img\n  js\n routes\n server\n     environment\n     logs\n</code></pre>\n\n<p>Socket io settings go in the server folder, along with all the node server config and environment config settings (development / staging / production). Static files and jQuery go in public, and the MVC app goodness goes in the app folder.</p>\n\n<p>But it doesn't feel right having a public folder separate from the app folder. Not to mention how i'd even go about including the various JS files in the MVC folder structure. </p>\n\n<p><em><strong>(Front end MVC development is something i know very little about, but this is what i'm trying to learn while also trying to integrate it into my Node environment)</em></strong></p>\n\n<p>If someone can point me on the right path for front end MVC development while utilising a node / socket io powered back end, that would be wicked!</p>\n\n<p>Cheers.</p>\n\n<p>-S</p>\n"},{"tags":["javascript","mvc","frameworks","client-side"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":12741974,"title":"JavaScript frameworks that allow loading of data from multiple endpoints","body":"<p>A project I'm working on has these (unusual) requirements:</p>\n\n<ul>\n<li>User provides a list of API endpoints in a settings panel (all of these would implement the same API, just different servers).</li>\n<li>Client has to load models from each of these endpoints, and also keep track of the server each model row came from. When a model row is updated or deleted, the request needs to be sent to the same server the model row came from.</li>\n<li>This model data is coming from multiple independent servers, so IDs are not consistent (i.e. server 1 and server 2 will both probably have a row with an ID of 1).</li>\n<li>On the view side, data from multiple servers has to be merged and displayed</li>\n</ul>\n\n<p>I've looked at several frameworks, and so far the best I've come up with that is capable of this is Backbone.js. However, I would really prefer something more opinionated like Ember.js or Batman.js - something that provides model bindings and conventions. Do I have any other options?</p>\n"},{"tags":["javascript","jquery","mvc","node.js","socket.io"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12594581,"title":"Seperating View & Controller logic in Javascript objects","body":"<p>Im wanting to seperate the DOM manipulation and interatcion (jQuery) lets call this the VIEW from my client side application logic (socket.io) lets call this the controller. The communication needs to be two way:</p>\n\n<ul>\n<li>VIEW to CONTROLLER when user interacts with the DOM e.g. clicks a button</li>\n<li>CONTROLLER to VIEW when server sends an update to be displayed in DOM e.g. new chat message</li>\n</ul>\n\n<p>I'm having trouble communicating between these two JavaScript objects. How do i communicate between the two in a efficient way?? simple example below. </p>\n\n<pre><code>// CONTROLLER LOGIC (socket.io stuff)\nfunction socketController() {}\n\nsocketController.prototype = {\n\n    constructor: function() {\n\n        // define socket listners\n    this.socket.on('chatMessage', this.chatUpdate.bind(this));\n    }\n\n    chatUpdate: function(data) {\n\n        // somehow call a \"render\" function on the \"view\" object\n        // this.view.renderChatDOM(data.username, data.message);\n    }\n}\n\n// VIEW LOGIC (jQuery stuff)\nfunction jqueryView() {}\n\njqueryView.prototype = {\n\n    onDOMReady: function() {\n\n        // bind event handlers\n        $('#send-message').bind('click', this.sendMessage.bind(this));          \n    }\n\n    sendMessage: function(event) {\n\n            // manipulate DOM\n        var $messageNode = $('#message-input'),\n                $buttonNode = $('#send-message'),\n                message = $messageNode.val();\n\n            $messageNode.val(''); // clear input\n\n            // somehow call the socketController and send data\n            // this.socketController.chatSend(message);\n    }\n}\n</code></pre>\n"},{"tags":["javascript","mvc","web-applications","ember.js","patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":12738679,"title":"Using Ember.js, what are some common patterns of handling keyboard events?","body":"<p>What I am trying to do:</p>\n\n<p>Imagine in the browser there is an array of divs, the divs are instantiated or deleted per user request.\nWhen left arrow or right arrow keys are pressed, the divs should move left or right.</p>\n\n<p>My current ( poorly crafted ) solution:</p>\n\n<p>Event handling and delegation:</p>\n\n<pre><code>function onDocumentKeyDown( event ){\n     switch ( event.keyCode ){\n            case 37: App.objectsView.scrollLeft(); break;\n            case 39: App.objectsView.scrollRight(); break;\n     }\n}\n\n\n// add event listener to document\nfunction addEventListeners() {\n    document.addEventListener( 'keydown', onDocumentKeyDown, false );\n}\naddEventListeners();\n</code></pre>\n\n<p>Application container view:</p>\n\n<pre><code>App.objectsView = Ember.ContainerView.create({\n\n    childViews: [],\n\n    // CRUD stuff\n    createView: function(){ ... },\n\n    deleteView: function(){ ... }, \n\n    updateView: function(){ ... },\n\n    // navigation stuff\n    scrollRight: function(){\n        this.scroll('right')\n    },\n\n    scrollLeft: function(){\n        this.scroll('left')\n    },\n\n    scroll: function( direction ){\n        this.get('childViews').forEach( function( key ){\n            var object = key;\n            object.move( direction );\n        }, this)\n    },\n\n\n});\n</code></pre>\n\n<p>Application view class ( for completeness, not really that relevant ):</p>\n\n<pre><code>App.ObjectView = Ember.View.extend( Animation, {\n\n    ...\n\n    move: function( param ){ ... }\n\n});\n</code></pre>\n\n<p>*Note, most of the dom selection and change css attribute logic is brought into the view via an Animation mixin.</p>\n\n<p>As you could see, I really don't like this implementation because:</p>\n\n<ol>\n<li><p>Each key event is bound to to a specific function in container view, what if I want key 37 to do one thing in some context and something else in another context ( for example where the mouse arrow is )? </p></li>\n<li><p>The onDocumentKeyDown function is added to the document, I can't exactly say why but it looks jarring to me.</p></li>\n<li><p>ObjectsView has both logic that manages instantiation <em>and</em> event delegation. Is the containerView in Ember even meant to handle navigation logic at all? ( I could separate them into two different functions, but if the events are handled the same way, then they seem to be morally equivalent solutions ).</p></li>\n</ol>\n\n<p>Are there any commonly used patterns in Ember or just any JS MV* framework that handle key event via some sort of single instance central hub, and then propagate to other parts of the system per application state? And this Ember router concept, does that fit in here somehow?</p>\n\n<p>Thank you!</p>\n"},{"tags":["ruby-on-rails","mvc","design-patterns","controllers"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12697780,"title":"Fat controllers in rails","body":"<p>I started working through the tutorial at <a href=\"http://ruby.railstutorial.org/\" rel=\"nofollow\">railstutorial.org</a> \nto get exposure to the framework. My controllers aren't monstrous yet, but I can\nsee that <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow\">Single Responsibility Principal(SRP)</a> isn't being applied throughout the tutorial, as it extends beyond the scope of the tutorial. </p>\n\n<p>I've got this <a href=\"https://github.com/nieve/Nivter/blob/master/app/controllers/users_controller.rb\" rel=\"nofollow\">relatively simple controller here</a>. I can already see different concerns (e.g. authentication and authorization) leaking into this controller, which contains too many actions to begin with. This assigns too many actions to one controller.\nI stumbled upon <a href=\"https://github.com/jonleighton/focused_controller\" rel=\"nofollow\">rails focused controllers</a> which solves one of these issues\nand looks quite interesting. </p>\n\n<p><strong>Is this a common solution? Or are better solutions available?</strong></p>\n\n<p>In the .net world, we tend to use <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow\">aspect oriented programming(AOP)</a> to\nachieve a cleaner <a href=\"http://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow\">Separation of Concerns (SoC)</a>. However, recently a few guys have written a new front controller framework called <a href=\"http://fubumvc.readthedocs.org/en/latest/topics/behaviors/index.html\" rel=\"nofollow\">Fubu Behaviours</a>. It captures the idea of a request pipeline nicely. Something that makes more and more sense to me.</p>\n\n<p>In order to handle a request we tend to go through a few steps before (and sometimes\nafter) the action is executed. In some cases, conditionally ending the request. It seems natural to use something like behaviors, a pipeline or a russian dolls pattern. \nSo that each link in the chain is responsible for either continuation or cessation. Inheritance doesn't seem to be the best solution. </p>\n\n<p><strong>Is there anything similar to that in rails? Would it make sense in rails?</strong></p>\n\n<p>Recommended readings will be just as well welcome!</p>\n"},{"tags":["windows","mvc","authentication","anonymous","integrated"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12731359,"title":"MVC 3 anoNynmous and Windows authentication combined","body":"<p>I have a web application which is secured down by Windows authentication. However, I have one controller which needs to be available globally to anyone, so they do not need a Windows account on the server to be granted access.</p>\n\n<p>I have got this to work by enabling both Windows authentication, and Anonymous Authentication in IIS. My controllers now look like this:</p>\n\n<pre><code>[Authorize]\npublic class MyController : Controller\n{\n    public Index()\n    {\n    }\n\n    public DoStuff()\n    {\n    }\n\n    etc...\n}\n</code></pre>\n\n<p>My anonymous controller is the same, except I have removed the [Authorise] attribute from the start of it.</p>\n\n<p>Am I right in saying that this instructs the web application to only allow those users with a Windows account to use the majority of controllers, except for the controller which I want to allow anonymous access to?</p>\n\n<p>It seems to work just fine, but I wanted to ensure I have not left a gaping security hole open by doing this?</p>\n\n<p>Are there any issues with enabling both methods of authentication, and setting the application up in this way?</p>\n"},{"tags":["php","mvc","architecture","model"],"answer_count":5,"favorite_count":99,"up_vote_count":81,"down_vote_count":2,"view_count":5845,"score":79,"question_id":5863870,"title":"How should a model be structured in MVC?","body":"<p>I am just getting a grasp on the MVC framework and often I wonder how much code should go in the model. I trend of have a data access class that has methods like this:</p>\n\n<pre><code>public function CheckUsername($connection, $username)\n{\n    try\n    {\n        $data = array();\n        $data['Username'] = $username;\n\n        //// SQL\n        $sql = \"SELECT Username FROM\" . $this-&gt;usersTableName . \" WHERE Username = :Username\";\n\n        //// Execute statement\n        return $this-&gt;ExecuteObject($connection, $sql, $data);\n    }\n    catch(Exception $e)\n    {\n        throw $e;\n    }\n}\n</code></pre>\n\n<p>My models tend to be just an entity class that is mapped to the database table.</p>\n\n<p>Should the model object have all the database mapped properties as well as the code above or is it OK to separate that code out that actually does the database work?</p>\n\n<p>Will I end up having four layers?</p>\n"},{"tags":["asp.net-mvc-3","mvc","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12453114,"title":"Url routing in mvc 3.0","body":"<p>I want to have below specific Url routing for my website</p>\n\n<p><a href=\"http://www.MyWebsite?Region=US&amp;Area=South\" rel=\"nofollow\">http://www.MyWebsite?Region=US&amp;Area=South</a></p>\n\n<p>based on passed Region and Area query string parameter, i want to redirect to a specific controller action.</p>\n\n<p>Problems: </p>\n\n<ol>\n<li>What should be the Url Routing ?</li>\n<li>Whether creating a common controller action which redirects to specific action will work here?</li>\n</ol>\n\n<p>Any help would be greatly appriciated !!</p>\n\n<p>Thanks</p>\n"},{"tags":["php","oop","mvc","codeigniter"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":1058,"score":8,"question_id":3113407,"title":"Codeigniter: when to use a model vs library?","body":"<p>I've starting using Codeigniter for a project recently (few months ago) but its getting a little out of hand with a bunch of models that need to interact with each other and I was wondering if I should be creating a library instead?</p>\n\n<p>In my case, I have a user action that happens when you win a game and it would get logged in  my user_model but I also want it to get put in my events_model?</p>\n\n<p>Should something like this that affects multiple models become a library? </p>\n\n<p>I know it should NOT be in the controller because I'd have to reuse this trigger in multiple controllers (might not make sense for the provided example but does for my application).</p>\n"},{"tags":["mvc","zend-framework","exception"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12729679,"title":"Make Zend find my custom application exceptions","body":"<p>I have a question similar to this thread : [throwing-exceptions-from-model-view-controller-in-a-zend-framework-application][1]</p>\n\n<p>I have a standard MVC structure like this:</p>\n\n<pre><code>/application\n/myapp\n    /controllers\n    /forms\n    /models\n    /exceptions\n        Default.php (class Myapp_Exception_Default extends Zend_Exception)\n</code></pre>\n\n<p>And no matter what when I try to do:</p>\n\n<pre><code>throw new Myapp_Exception_Default();\n</code></pre>\n\n<p>I get :</p>\n\n<pre><code>Fatal error: Class 'Myapp_Exception_Default' not found\n</code></pre>\n\n<p>My question is how to make Zend find my custom Exceptions ? I didn't find any configuration options to declare it.</p>\n"},{"tags":["php","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":687,"score":4,"question_id":2958500,"title":"PHP form post, automatically mapping to an object (model binding)","body":"<p>I do a lot of ASP.NET MVC 2 development, but I'm tackling a small project at work and it needs to be done in PHP.  </p>\n\n<p>Is there anything built-in to PHP to do model binding, mapping form post fields to a class?  Some of my PHP code currently looks like this:</p>\n\n<pre><code>class EntryForm\n{\n    public $FirstName = \"\";\n    public $LastName = \"\";\n}\n\n    $EntryForm = new EntryForm();\n\nif ($_POST &amp;&amp; $_POST[\"Submit\"] == \"Submit\")\n{\n    $EntryForm-&gt;FirstName = trim($_POST[\"FirstName\"]);\n    $EntryForm-&gt;LastName = trim($_POST[\"LastName\"]);\n}\n</code></pre>\n\n<p>Is there anything built-in to a typical PHP install that would do such mapping like you'd find in ASP.NET MVC, or does it require an additional framework?</p>\n"},{"tags":["iphone","objective-c","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":224,"score":1,"question_id":9576231,"title":"Accessing view controllers programmatically","body":"<p>New to iOS development, I've been following the tutorials on developer.apple.com, and am now adding functionality to those examples to further my knowledge.</p>\n\n<p>The \"<a href=\"https://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/SecondiOSAppTutorial/Introduction/Introduction.html\" rel=\"nofollow\">second ios app</a>\" tutorial gives you a navigation controller based app. Extending this app, I want to have a tab bar controller as the first view controller.</p>\n\n<p>So I now have the following setup:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9eYRk.png\" alt=\"Storyboard\"></p>\n\n<p>All good. But there is code in the BirdsAppDelegate (a UIApplicationDelegate) which was relying on the navigation controller being the root view controller, so it can create and assign the \"datacontroller\" object.</p>\n\n<p>This is the original code (before I added the tab bar controller):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n\n    UINavigationController *navigationController = (UINavigationController *)self.window.rootViewController;\n    BirdsMasterViewController *firstViewController = (BirdsMasterViewController *)[[navigationController viewControllers] objectAtIndex:0];\n\n    BirdSightingDataController *aDataController = [[BirdSightingDataController alloc] init];\n    firstViewController.dataController = aDataController;\n    return YES;\n}\n</code></pre>\n\n<p>Now this code fails because it assumes the root view controller is the navigation controller.</p>\n\n<p>I have updated the code so that it works - but in my opinion it is ugly, and would have to be changed every time I make a change to the view controller hierarchy:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:    (NSDictionary *)launchOptions\n{\n    // Override point for customization after application launch.\n\n    UITabBarController *tabBarController =  (UITabBarController *)self.window.rootViewController;\n\n    UINavigationController *navigationController = (UINavigationController *)    [[tabBarController viewControllers] objectAtIndex:0];\n\n    BirdsMasterViewController *firstViewController = (BirdsMasterViewController*) [[navigationController viewControllers] objectAtIndex:0];\n\n    BirdSightingDataController *aDataController = [[BirdSightingDataController alloc] init];\n\n    firstViewController.dataController = aDataController;\n\n    return YES;\n}\n</code></pre>\n\n<p>So my question is: What is the better way to do what I am doing in the code above, so that any changes to the hierarchy will not break the code?</p>\n\n<p>How do I programmatically access the view controller I am after in the application delegate, so that I can create and assign it's BirdSightingDataController object?</p>\n\n<p>Thanks!</p>\n"},{"tags":["asp.net","flash","mvc","embed","folder"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1121,"score":0,"question_id":2780060,"title":"Unable to set relative path for flash file in ASP.NET MVC using AC_FL_RunContent","body":"<p>I have a website using asp.net mvc in which I need to embed a flash file in view. I am unable to set the relative path for the flash file. Given below is the code I am using:</p>\n\n<p><pre><code>\n AC_FL_RunContent(\n'codebase', 'http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0',\n'width', '487',\n'height', '359',\n'menu', 'false',\n'movie', 'images/butterfly',\n'quality', 'high',\n'allowscriptaccess', 'sameDomain',\n'pluginspage', 'http://www.macromedia.com/go/getflashplayer'\n);\n</pre></code></p>\n\n<p>where I copied butterfly.swf in a directory called images. images directory resides in the views folder.</p>\n\n<p>If I use code behind( default.aspx default.aspx.cs) in a different solution  with the same folder strucuture, browser is able to load the flash file.</p>\n\n<p>Could you please throw some light on the MVC folder structure issue??</p>\n\n<p>Thanks a lot.</p>\n\n<p>Mahesh</p>\n"},{"tags":["c++","mvc","design","c++11"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12680694,"title":"View state and application design","body":"<p>I have a toolbar controller which is capable of updating the toolbar state ( enabled/disabled, pressed/unpressed ) by querying document properties or the application framework.  I have some buttons that represent the current state of a view.</p>\n\n<p>From an application design standpoint I like having toolbar controller able to update the button state at any time given a document.  I also prefer the toolbar controller &amp; button handlers to have no internal state.</p>\n\n<p>Options as I see it - looking for other suggestions:</p>\n\n<ul>\n<li>Create a mechanism for visiting all views of a document with a visitor that can capture the state of the view which is then used to enable/disable/press/depress the button.</li>\n<li>Create some connection between views and toolbar handlers that allows the toolbar buttons to directly ask the views.</li>\n<li>Other??</li>\n</ul>\n"},{"tags":["mvc","internet-explorer","jquery-ajax"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":302,"score":3,"question_id":8732826,"title":"Null parameters in MVC action from jQuery ajax call during navigation (IE only)","body":"<p>I am a programmer on an MVC/ajax project that receives significant traffic from its customers. We've been seeing one or two isolated instances (per day) of a controller action not receiving parameters from the client.</p>\n\n<p>Long story short: the actions are being called via jQuery ajax, and the action params are only null if the ajax call is made while the browser is navigating to another page. IE click a link and then trigger an ajax call.</p>\n\n<p>I added some crude validation around these calls to ensure that we aren't actually passing nulls in the ajax data, and this hasn't alleviated the problem. An example of one of the calls is below.</p>\n\n<pre><code>    var searchValue = _txtSearch.val().trim();\n\n    if (searchValue === null \n        || searchValue === undefined \n        || searchValue.length &lt; _minimumLengthForSearch) {\n        _txtSearch.focus();\n        return;\n    }\n    // clear out the value when launching\n    _txtSearch.val('');\n\n    $.post(_quickSearchUrl,\n        { searchString: searchValue },\n        function (data) {...},\n    \"json\");\n</code></pre>\n\n<p>I found <a href=\"http://blogs.msdn.com/b/ie/archive/2008/07/14/ie8-ajax-navigation.aspx\" rel=\"nofollow\">an old IEBlog post</a> that suggests IE might handle this situation differently from other browsers. I was curious as to whether anyone else has encountered this phenomena before. Again, I can only reproduce this issue in IE and only during page navigation.</p>\n\n<p>Edit: It is difficult to reproduce this exception with Fiddler active for some reason, but when I manage to Fiddler displays the following error message: </p>\n\n<p>Fiddler has detected a protocol violation in session #4.\nContent-Length mismatch: Request Header indicated 24 bytes, but client sent 0 bytes.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","asp.net-mvc-4"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12698613,"title":"Models for View in MVC","body":"<p>I have just a quick question about how to properly pass data to a view using the MVC pattern.</p>\n\n<p>I have an EditProfile/Register model (Name, Email, Country). The View has a country dropdown list, and I need to pass it a list of countries.</p>\n\n<p>Is it to correct to create a new model (just for the view), that basically encapsulates my EditProfile/Register model, and a List? Do I create this view specific model in the controller? (as opposed to my data access project).</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","asp.net","mvc","skin"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":4039,"score":4,"question_id":5274407,"title":"Disable autocomplete on html helper textbox in MVC","body":"<p>Ok,</p>\n\n<p>I would in normal asp.net use a theme to turn off autocomplete on all text boxes on an entire site. However i cannot do this on MVC because nothing in the theme .skin files seems to work.</p>\n\n<p>I have this in my .skin file:</p>\n\n<pre><code>&lt;asp:TextBox runat=\"server\" autocomplete=\"off\" /&gt;\n</code></pre>\n\n<p>however this does not render at all, of course because this is not how MVC works. Anyway is there any way i can get this sort of thing to work.\nThe site i am trying to do it on is too big to warrant changing every textbox or creating a new HTML helper to solve the issue?</p>\n\n<p>Anyone got any ideas?</p>\n"},{"tags":["mvc","sencha-touch-2","tabbar","tabpanel","tabview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12703264,"title":"cant customize the tabbar view in TabPanel in sencha touch 2. The default view is showing always.","body":"<p>I want to change the view of tabs i want them large &amp; rectangle but they are showing like default capsules (rectangular with curved radius). How to customize them?</p>\n\n<h3>HERE IS THE CODE</h3>\n\n<pre><code>var entryForm = Ext.define(\"TimeSheet.view.Newentry\", {\nextend: \"Ext.TabPanel\",\nrequires: [\"Ext.XTemplate\", \"Ext.field.DatePicker\", \"Ext.field.Select\", \"Ext.TitleBar\", \"Ext.DateExtras\"],\nxtype:'newentryview',\n\nconfig: {\n    autodestroy: true,\n    fullscreen: true,\n    scrollable: true,\n    cardSwitchAnimation: 'cube',\n    tabBarPosition: 'top',\n    tabBar: {\n        height: '70px',\n        layout: {\n            pack: 'center'\n        }\n    },\n    defaults: {\n        styleHtmlContent: true\n    },\n    items: [{\n        title: 'Add Entry',\n        iconMask: true,\n        iconCls: 'info',\n        flex: 1,\n        style: 'border: none; font: 22px Arial black',\n        fullscreen: true,\n    },{\n        title: 'Dashboard',\n        iconMask: true,\n        iconCls: 'compose',\n        flex: 1,\n        cls: 'dashpnl',\n        style: 'border: none; font: 22px Arial black',\n        fullscreen: true,\n    },{\n        title: 'Settings',\n        iconMask: true,\n        iconCls: 'settings',\n        fullscreen: true,\n        html: 'Page 3',\n    }]\n}\n</code></pre>\n\n<p>});</p>\n"},{"tags":["jquery","asp.net-mvc-3","mvc","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":144,"score":1,"question_id":12491044,"title":"passing model from view to controller using jquery","body":"<p>I have a view</p>\n\n<pre><code>@using staffInfoDetails.Models\n@model staffInfo\n\n&lt;link href=\"../../Content/myOwn.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n@{staffInfo stf = Model; \n  }\n\n&lt;div id=\"education1\"&gt;\n@using (Html.BeginForm(\"addNewEdu\",\"Home\",FormMethod.Post))\n{\n    @Html.HiddenFor(x=&gt;x.StaffId)\n    &lt;table&gt;    \n    &lt;tr&gt;\n        &lt;th&gt;Country&lt;/th&gt;\n        &lt;th&gt;Board&lt;/th&gt;\n        &lt;th&gt;Level&lt;/th&gt;\n        &lt;th&gt;PassedYear&lt;/th&gt;\n        &lt;th&gt;Division&lt;/th&gt;\n    &lt;/tr&gt;     \n    &lt;tr&gt; \n       @Html.EditorFor(x =&gt; x.eduList)\n    &lt;/tr&gt;\n    &lt;tr&gt;\n    @*&lt;td&gt;&lt;input type=\"submit\" value=\"create Another\" id=\"addedu\"/&gt; &lt;/td&gt;*@\n    @*&lt;td&gt;@Html.ActionLink(\"Add New\", \"addNewEdu\", new {  Model })&lt;/td&gt;*@    \n    &lt;/tr&gt;\n    &lt;/table&gt;  \n}\n&lt;button id=\"addedu\"&gt;Add Another&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to pass the model staffInfo to controller using jquery as below</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $(\"#addedu\").live('click', function (e) {\n//            e.preventDefault();           \n            $.ajax({\n                url: \"Home/addNewEdu\",\n                type: \"Post\",\n                data: { model: stf },//pass model\n                success: function (fk) {\n                    //                    alert(\"value passed\");\n                    $(\"#education\").html(fk);\n                }\n\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>the jquery seems to pass only elements not whole model so how can I pass model from the view to the controller so that I don't have to write the whole parameters list in jquery</p>\n"},{"tags":["mvc","3-tier"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12705671,"title":"how to query a database from mvc when the database is defined in a distinct project?","body":"<p>I broke my project in two parts, I defined my edmx file in a class library project, added method to display the list of user in a class. I'm trying to call the method from a mvc action method, which will generate a view with the list of user. here is the code sample:\nMethod in data layer:</p>\n\n<pre><code>public class User\n{\n    public List&lt;UserInfo&gt; Display()\n    {\n        using (var context = new Conn())\n        {\n            var list = from s in context.UserInfoes\n                       select s;\n\n            return list.ToList();\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>Action Result:</p>\n\n<pre><code> public ActionResult Index()\n    {\n        var user1 = new User();\n\n        return View(user1.Display()); //here the code is breaking!\n    }\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>@model IEnumerable&lt;Data.UserInfo&gt;\n\n@{\nLayout = null;\n}\n\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Index&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;\n            UserName\n        &lt;/th&gt;\n        &lt;th&gt;\n            Email\n        &lt;/th&gt;\n        &lt;th&gt;\n            Password\n        &lt;/th&gt;\n        &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n\n@foreach (var item in Model) {\n    &lt;tr&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.UserName)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.Email)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.Password)\n        &lt;/td&gt;\n\n    &lt;/tr&gt;\n}\n\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The error its showing is, the underlying provider failed on open! I have added the connection string from app.config to web.config. What I'm doing wrong?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","testing","rspec"],"answer_count":8,"favorite_count":55,"up_vote_count":106,"down_vote_count":2,"view_count":36986,"score":104,"question_id":201385,"title":"Getting Started with RSpec - Looking for tutorials","body":"<p>I am looking to get started building a project and want to use RSpec from day one. My Ruby background is limited; however, I do have a good understanding of MVC and the structure within Ruby.</p>\n\n<p>In doing some research for books and tutorials, I've found no currently published books, and have found no tutorials that give a good \"hello world\" type write up. And the documentation on the RSpec site is sparse to say the least.\nDo any of you have links that you'd like to share of good tutorials of getting started with roR and RSpec?</p>\n"},{"tags":["c#","asp.net","asp.net-mvc","mvc","frameworks"],"answer_count":7,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":366,"score":0,"question_id":2083071,"title":"Simple MVC Framework for ASP.net?","body":"<p>I need a simple MVC framework, without jQuery extensions, hibernate, loggers, etc.. </p>\n\n<p>Only Model-View-Controller functions. Anyone have an idea where I can find one?</p>\n"},{"tags":["spring","mvc","themes","interceptor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12392635,"title":"Spring MVC ThemeChangeInterceptor do not change theme","body":"<p>I am stuck at something really painful.\nI am trying to use the theming of Spring WebMVC.</p>\n\n<p>This is the end of my web-context.xml file :</p>\n\n<pre><code>&lt;beans:bean id=\"themeChangeInterceptor\" class=\"org.springframework.web.servlet.theme.ThemeChangeInterceptor\" &gt;\n    &lt;beans:property name=\"paramName\" value=\"theme\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"themeSource\" class=\"org.springframework.ui.context.support.ResourceBundleThemeSource\"&gt;\n    &lt;beans:property name=\"basenamePrefix\" value=\"theme-\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"themeResolver\" class=\"org.springframework.web.servlet.theme.CookieThemeResolver\" &gt;\n    &lt;beans:property name=\"defaultThemeName\" value=\"default\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"handlerMapping\" class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\"&gt;\n    &lt;beans:property name=\"interceptors\"&gt;\n        &lt;beans:list&gt;\n            &lt;beans:ref bean=\"themeChangeInterceptor\" /&gt;\n        &lt;/beans:list&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>In my header file, I have something like :</p>\n\n<pre><code>&lt;span style=\"float: right\"&gt;\n        &lt;a href=\"?theme=default\"&gt;Default&lt;/a&gt;\n        |\n        &lt;a href=\"?theme=other\"&gt;Other&lt;/a&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>And to finish, my html head has (imported in all views) :</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"&lt;spring:theme code=\"css\"/&gt;\" type=\"text/css\" /&gt;\n</code></pre>\n\n<p>I got the two properties files in src/main/resources, which leads to my css. For example in theme-default.properties, there is :</p>\n\n<pre><code>css=static/css/dev.css\n</code></pre>\n\n<p>My css are in src/webapp/static/css/.\nWhen I load the website for the first time, the theme is default, so I think that the property files and the css are correctly found by the Theme resolver.\nBut when I click on Default or Other in the header, nothing happens.</p>\n\n<p>Do you know where the problem is ?</p>\n\n<p>Thank you very much beforehand !\nOlivier.</p>\n"},{"tags":["actionscript-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12676598,"title":"In MVC, can model make use of services to load some data into a list box of a view?","body":"<p>Is it legal In MVC, so that a \"model\" make use of \"services\" to load some data ( from web) so that the data after loading can be passed into a  list box of a \"view\" ? </p>\n\n<p>My focus is on \"Can Model make use of Services directly for such purposes?\"</p>\n\n<p>V.</p>\n"},{"tags":["database","mvc","ruby-on-rails-3.1"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12697486,"title":"rails 3 sorting a model by foreign key","body":"<p>I have another problem trying to order data from 1 table based on a value in a second table in my rails 3 app</p>\n\n<p>The table lists amounts other things a primary and secondary location choice using the id from a separate locations table for each column</p>\n\n<p>i.e.</p>\n\n<pre><code>LocationGroup\n  id\n  primary =&gt; int (using primary key of Locations)\n  secondary =&gt; int (using primary key of Locations)\n  ...\n\nLocations\n  id\n  locationname =&gt; string\n</code></pre>\n\n<p>what Im trying to do is list all LocationGroups ordered by LocationGroup.primary where LocationGroup.primary is ordered by Locations.locationname ASC</p>\n\n<p>any help would be gratfully recieved</p>\n\n<p>thanks</p>\n\n<p>Mike</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","ruby-on-rails-3.2"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":204,"score":2,"question_id":11984405,"title":"Ruby on Rails Best pratices - Big Controller vs Small Controller","body":"<p>I need some informations for the <strong>best pratices</strong> in Ruby on Rails, especially with <strong>Controler who have to do a lot of things</strong>, so, a simple \"show\" action is now up to  lines. I know, it's not really good, and i have specific code in it. </p>\n\n<p><strong>Here is a sample code :</strong> </p>\n\n<pre><code>def show\n    sound = Sound.find(params[:id])\n    @xml_path = File.dirname(sound.file.path)\n    s3 = AWS::S3.new(\n        :access_key_id =&gt; 'XXX',\n        :secret_access_key =&gt; 'XXX')\n    @url = s3.buckets['dev'].objects[sound.file.path[1..-1]].url_for(:read, :expires =&gt; 10*60)\n\n    if sound.id_job != 0 &amp;&amp; sound.transcript_progress != 100\n      @response = Savon.client(\"http://srap.php?wsdl\").request(:avance) do\n        soap.body = { \n         :Jeton =&gt; \"abcdef\",\n         :ID_job =&gt; sound.id_job,\n        }\n      end\n      @response = @response.to_hash\n      @progress = @response[:avance][:avancement].to_s.split(\"#\")[1]# ID_job received is formed like \"OK#123\", we keep \"123\"\n      if @progress == \"Termine\"\n         sound.transcript_progress = 100\n      elsif @progress == \"ERROR\"\n        flash.now[:alert] = \"Oups, il semblerait que le fichier soit illisible, ou qu'il n'y ait rien a ecouter !\"\n      elsif @progress != \"Queued\"\n        sound.transcript_progress  = @response[:avance_response][:avancement].to_s.split(\"#\")[2].split(\"%\")[0].to_i\n      end\n      sound.save\n    end\n\n    if sound.transcript_progress == 100 # If transcription finished\n      # Get XML File URL on the FTP\n      @xml_path = Savon.client(\"http://srap.php?wsdl\").request(:donneResultat) do\n      soap.body = { \n       :Jeton =&gt; \"XXX\",\n       :FichierSon =&gt; sound.id_job\n      }\n      end\n\n      # Parse XML Path URL on Kimsufi\n      @xml_path = @xml_path.to_hash[:donne_resultat_transposition_response][:chemin_fichier].to_s.split(\"#\")[2].to_s.split(\"/\")[5]\n\n\n      # Create local directory (/tmp/sounds) for XML Temp Save\n      if ! File.directory?(Rails.root.to_s + '/tmp/sounds')\n        Dir.mkdir(Rails.root.to_s + '/tmp/sounds')\n      end\n      # Get XML from FTP\n      ftp=Net::FTP.new                                     \n      ftp.connect(\"ftp.com\", 21)                                                         \n      ftp.login(\"XXX\", \"XXX\")                \n      if ftp.closed?\n        flash.now[:alert] = \"Oups, il semblerait qu'il y ait eu un problme ! Merci d'actualiser la page\"\n      else  \n        ftp.passive = true\n        ftp.chdir('results')\n        ftp.getbinaryfile(@xml_path, Rails.root.to_s + '/tmp/sounds/' + @xml_path)\n        ftp.close\n      end\n\n      # Send XML on S3\n      s3 = AWS::S3.new(\n        :access_key_id =&gt; 'XXX',\n        :secret_access_key =&gt; 'XXX')\n      @xml_new = (File.dirname(@sound.file.path) + '/' + File.basename(@xml_path))[1..-1]\n      s3.buckets['dev'].objects[@xml_new].write(Pathname.new(Rails.root.to_s + '/tmp/sounds/' + @xml_path))\n      @file = s3.buckets['dev'].objects[@xml_new].read()\n    end\n\n\n    # A lot of logic again, i've not did it yet\n\n  end\n</code></pre>\n\n<p>As you can see, i have a lot of logic here, \ni have to check if the transcription is over, \n     if not, update the progress_bar (@sound.transcript_progress), \n     if yes, i first have to connect to a soap action to get the XML path, then get the XML via FTP, then stock it to the Amazon S3 (Shitty SOAP, i have to reparse all response...).</p>\n\n<blockquote>\n  <p>In all my action controller, i have to connect on S3 / SOAP / FTP, not\n  in the same order.. So i i'm thinking to do a class for each, like in\n  C++, an abstraction. I want the stuff done, i don't care (a lot) how\n  it's done. But what's the best pratice with the MVC? I have to make a\n  new folder \"Class?\" A new controller?</p>\n</blockquote>\n\n<p>Thanks you, and thanks for reading all this ;)</p>\n"},{"tags":["c#","mvc","asp.net-2.0"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":242,"score":1,"question_id":1672326,"title":"A minimal MVC setup for ASP.NET 2.0","body":"<p>I have to migrate a web application I made with ASP.NET MVC to a regular Visual Studio 2005 ASP.NET Web Forms based website.</p>\n\n<p>I've looked at things like MonoRail, but it's too different for my co-workers (who are already uncomfortable with MVC) to use.</p>\n\n<p>I've read that the first version of ASP.NET MVC was made in an airplane flight, that's around the kind of complexity I'm willing to deal with.</p>\n\n<p>I don't need an ORM.  I have a homegrown ORM that I've been using for a long time that I will use to replace Entity Framework.</p>\n\n<p>Specifically I'm mostly looking for two things: how to do routes using a line or two in a web.config and a fancy Default.aspx, and how to render an aspx page with model data injected into it.</p>\n"},{"tags":["javascript","oop","mvc","backbone.js","requirejs"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":107,"score":4,"question_id":12695832,"title":"Dependency Injection vs. Managed Dependencies vs. Global Object","body":"<p>I'm working within a Javascript + BackboneJS (an MVC framework) + RequireJS framework, but this question is somewhat OO generic.</p>\n\n<p>Let me start by explaining that in Backbone, your Views are a mix of traditional Views and Controllers, and your HTML Templates are the traditional MVC Views</p>\n\n<p>Been racking my head about this for a while and I'm not sure what the right/pragmatic approach should be.</p>\n\n<p>I have a User object that contains user preferences (like unit system, language selection, anything else) that a lot of code depends on.</p>\n\n<p>Some of my Views do most of the work without the use of templates (by using 3rd party libs, like Mapping and Graphing libs), and as such they have a dependency on the User object to take care of unit conversion, for example. I'm currently using RequireJS to manage that dependency without breaking encapsulation too much.</p>\n\n<p>Some of my Views do very little work themselves, and only pass on Model data to my templating engine / templates, which do the work and DO have a dependency on the User object, again, for things like units conversion. The only way to pass this dependency into the template is by injecting it into the Model, and passing the model into the template engine.</p>\n\n<p>My question is, how to best handle such a widely needed dependency?\n- Create an App-wide reference/global object that is accessible everywhere? (YUK)\n- Use RequireJS managed dependencies, even though it's generally only recommended to use managed dependency loading for class/object definitions rather than concrete objects.\n- Or, only ever use dependency injection, and manually pass that dependency into everything that needs it?</p>\n"},{"tags":["mvc","design"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12694078,"title":"In a MVC application, should the controller or the model handle data access?","body":"<p>We are having some philosopical debates in our company about where the calls to the Business Logic should be to perform CRUD operations.</p>\n\n<p>I believe that the Model should consist of your data structure and that the controller should be responsible for populating the data.</p>\n\n<p>My co-worker believes that all population should be done in the model class itself, and simply called by the controller.  This keeps the controller neat and clean (but, in my opinion, clutters up the model).</p>\n\n<p>He also believes that any call that returns a Json object should happen in the model, not in the controller.  The model would return an array to the controller, which would then return this as a Json object.</p>\n\n<p>What are some different pros/cons to each and is there a right or wrong way to do this?</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12694163,"title":"Creating a table with an arbitrary number of rows as my model?","body":"<p>I am creating a model which is intended to hold a table. The table will hold an arbitrary number of rows defined at run-time. I am wondering if there's an easy way to define this in MVC?</p>\n\n<p>Currently all I have is:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;CableSolve.Web.Models.Orders.ActivityDetailsModel&gt;\" %&gt;\n\n&lt;div id=\"ActivityDisplay\"&gt;\n    &lt;table id=\"ActivitiesGrid\"&gt;\n    &lt;/table&gt;\n    &lt;div id=\"ActivitiesGridPager\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In a different model, I create a table which had a static number of rows. This was pretty easy:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;CableSolve.Web.Models.Orders.OrderDetailsModel&gt;\" %&gt;\n\n&lt;fieldset class=\"collapsible\"&gt;\n    &lt;legend&gt;\n        &lt;%= Html.DisplayFor(model =&gt; model.OrderDetailsLegendName)%&gt;\n    &lt;/legend&gt;\n    &lt;table id=\"OrderDetailsContentTable\" class=\"ContentTable\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;%= Html.DisplayFor(model =&gt; model.OrderID.Name)%&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= Html.DisplayFor(model =&gt; model.OrderID.Value)%&gt;&lt;/td&gt;\n\n            &lt;td&gt;&lt;%= Html.DisplayFor(model =&gt; model.Comment.Name)%&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= Html.DisplayFor(model =&gt; model.Comment.Value)%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        ...\n</code></pre>\n\n<p>So, any ideas on how I could go about having an arbitrary number of rows in ActivitiesGrid? </p>\n\n<p>Basically, my controller is going to get some information at run-time and I want to display the retrieved information in a table, but I do not know how many rows of information I am going to receive.</p>\n\n<p>As a light-weight solution without introducing third-party stuff (for now, if it proves necessary I will):</p>\n\n<pre><code>public class ActivityDetailsModel\n{\n    public List&lt;ActivityRow&gt; ActivityRows = new List&lt;ActivityRow&gt;();\n\n    public struct ActivityRow\n    {\n        public DateTime? Date;\n        public string Person;\n        public string OrderOrTaskID;\n        public string Activity;\n\n        public ActivityRow(DateTime? date, string person, string orderOrTaskID, string activity)\n        {\n            Date = date;\n            Person = person;\n            OrderOrTaskID = orderOrTaskID;\n            Activity = activity;\n        }\n    }\n\n    public ActivityDetailsModel(IEnumerable&lt;Activity&gt; activities)\n    {\n        foreach(Activity activity in activities)\n        {\n            string orderOrTaskID = activity.TaskID != 0\n                                     ? activity.OrderID + \"-\" + activity.TaskID\n                                     : activity.OrderID.ToString();\n\n            string activityDescription = string.Format(\"OldValue: {0}, NewValue: {1}\", activity.OldValue,\n                                                       activity.NewValue);\n\n            ActivityRows.Add(new ActivityRow(activity.UpdateDateTime, activity.UpdateUsername, orderOrTaskID, activityDescription));\n        }\n    }\n}\n\n&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;CableSolve.Web.Models.Orders.ActivityDetailsModel&gt;\" %&gt;\n\n&lt;div id=\"ActivityDisplay\"&gt;\n    &lt;table id=\"ActivitiesGrid\"&gt;\n        &lt;%foreach (var activityRow in Model.ActivityRows)\n          {%&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;%= Html.DisplayForModel(activityRow.Date)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%= Html.DisplayForModel(activityRow.Person)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%= Html.DisplayForModel(activityRow.OrderOrTaskID)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%= Html.DisplayForModel(activityRow.Activity)%&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n          &lt;%}%&gt;\n    &lt;/table&gt;\n    &lt;div id=\"ActivitiesGridPager\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Is this relatively understandable? I hate the mark-up with all the angle-brackets and percent signs, but the project hasn't been developer with the alternative syntax.</p>\n"},{"tags":["design","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":1168506,"title":"MVC Question: How do I know when I'm putting too much logic into my view?","body":"<p>Consider the following from CodeIgniter.  If I am doing this wrong, then please tell me:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;?=$title ?&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;&lt;?=$heading; ?&gt;&lt;/h1&gt;\n\n\n    \t&lt;?php foreach ($query-&gt;result() as $row):?&gt;\n    &lt;p&gt;\n    \t&lt;?=$row-&gt;LastName . ', ' . $row-&gt;FirstName . ' ' . $row-&gt;MiddleName?&gt;\n    \t&lt;/br&gt;\n    \t&lt;?=$row-&gt;myField?&gt;\n    \t&lt;?php if ($row-&gt;myField == ''):?&gt;\n    \tno data found\n    \t&lt;?php endif;?&gt;\n    \tsome text\n    \t&lt;?=$row-&gt;anotherField ?&gt;\n    \t&lt;/br&gt;\n    \t&lt;?php if ($row-&gt;purchasedate !='') {echo 'Purchase Date ' . mdate('%m' . '/' . '%d' .  '/' . '%Y', strtotime($row-&gt; purchasedate));}?&gt;\n\n    &lt;/p&gt;\t\t\n    &lt;p&gt;\n      &lt;label for=\"ProductNumber\"&gt;Product&lt;/label&gt;\n      &lt;input type=\"text\" name=\"Product_number\" id=\"ProductNumber\" value = \n    &lt;?=$row-&gt;ProductNumber?&gt;\n     /&gt;\n    &lt;/br&gt;\n    &lt;?php if ($row-&gt;Purchased == '-1'): ?&gt;\n    &lt;h3&gt;Bought&lt;/h3&gt;\n    &lt;?php endif;?&gt;&lt;/br&gt;\n    &lt;?php if ($row-&gt;Sold == '-1'): ?&gt;\n    &lt;h3&gt;Sold&lt;/h3&gt;\n    &lt;?php endif;?&gt;&lt;/br&gt;\n    &lt;/p&gt;\n\n    \t\t&lt;?php endforeach;?&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I know some of it will not make sense.  I am experimenting and also changed some of the names of fields.</p>\n\n<p>My question is:  Is this too much intermixing of code into my view?  It seems this occurs with most templating but that there is some vague line that just feels wrong when you cross it and you say, \"That's too much logic in my view.\"  I don't know that line.  Is this example crossing it?  A foreach, if thens, echo, strtotime, the ?php tags, etc.</p>\n\n<p>Is it just crossing the \"line\" when I put db access logic and start emitting all my html tags from print or response.write statements all on one big page behind the scenes on the server?</p>\n"},{"tags":["javascript","mvc","knockout.js"],"answer_count":2,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":1947,"score":7,"question_id":6509567,"title":"KnockoutJS - Multiple partial views within on main view?","body":"<p>I am trying to port an existing asp mvc app over to use knockoutjs (pure js/html) as I no longer really need any of the functionality within asp mvc. However one problem I can forsee is the way I am handling some of my pages.</p>\n\n<p>I have one page which contains about 12 partial views, each partial has its own model. Now with Knockout JS it seems like you should only really have 1 viewmodel/view per page, however the page I have contains a large amount of information, the sections would be akin to:</p>\n\n<ul>\n<li>Customer Details</li>\n<li>Customer Address</li>\n<li>Customer Recent Orders</li>\n<li>Customer Cards</li>\n<li>Customer Funds</li>\n<li>...</li>\n</ul>\n\n<p>To make things more tricky if some details change in on part, it needs to change data in another part. So lets say you remove a card it then needs to tell the funds control that it no longer has a card so wont have funds. (This is all an abstract example, but hopefully illustrates the point)</p>\n\n<p>So I am a bit unsure how to do this in knockout, as that would rather have it as one big model, which I would be happy with doing but it contains ALOT of information. As well as multiple forms, as you can update your address without having to update everything else.</p>\n\n<p>So should I just make one large model for this view and just deal with it? or is there a way to have views talk to each other?</p>\n"},{"tags":["asp.net","mvc","rest","routes","odata"],"answer_count":1,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":497,"score":9,"question_id":5042346,"title":"OData-like routes in ASP.NET MVC","body":"<p>Is there a simple way for creating asp.net mvc application with routes based on OData uri conventions <a href=\"http://www.odata.org/developers/protocols/uri-conventions\" rel=\"nofollow\">http://www.odata.org/developers/protocols/uri-conventions</a> ?</p>\n\n<p>It's like a just adding new html format for specification.</p>\n\n<p>Or may be another way for converting Urls into LINQ queryies dynamically?</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12691312,"title":"rails 3 order by another models column","body":"<p>I have 2 models in my Rails 3 app which I use to describe people and where they live\nUnfortunately I set these up without using associations</p>\n\n<p>The 2 tables are setup like this</p>\n\n<pre><code>People\n id\n name\n location_id\n\nLocations\n  id\n  name\n</code></pre>\n\n<p>what I want to do is list all entries in the Peoples table ordered by Locations.name alphabetically and People.name alphabetically </p>\n\n<p>I can do a simple sort using this code which groups each person by a location but I need to drill into the Locations table as well</p>\n\n<pre><code>@people = People.all(:order =&gt; '\"location_id\" ASC, \"name\" ASC')\n</code></pre>\n\n<p>Anyone have any idea?</p>\n\n<p>Also is it a good idea to set up an association in the People class to say location_id is Locations.id</p>\n"},{"tags":["php","mvc","codeigniter","crud"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12689753,"title":"CodeIgniter & MVC, where should the image uploading logic be?","body":"<p>I'm developing a simple app with a CRUD admin panel, using CodeIgniter. One of my models has 5 optional images, so when I create a new register, the app should check the amount of images the user has input, upload and store them properly.</p>\n\n<p>Currently, the code that handles the uploading and the storage is in my controller. However, I've been reading a lot about MVC and some say that the controller should be as <em>skinny</em> as possible, so I'm wondering if it'd be a good idea to move that code to the model.</p>\n\n<p>What do you think?</p>\n"},{"tags":["php","mvc","codeigniter","model"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":814,"score":0,"question_id":8112284,"title":"Extending Models in CodeIgniter","body":"<p>I'm receiving this error for some odd reason:</p>\n\n<pre><code>Fatal error: Class 'crud_model' not found in /application/models/shared_model.php on line 3\n</code></pre>\n\n<p>From this line:</p>\n\n<pre><code>class Shared_model extends crud_model {\n</code></pre>\n\n<p>Which has worked before in the past. Does anyone know what may be occuring here? The file is the respective folder, it's spelled correctly, and I've event tried the following with no positive results.</p>\n\n<pre><code>class Shared_model extends Crud_model {\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class Shared_model extends Crud_Model {\n</code></pre>\n\n<p>Here is crud_model.php</p>\n\n<pre><code>&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Crud_model extends CI_Model {\n\npublic $table_name;\npublic $pk;\n\npublic function __construct()\n{\n    parent::__construct();\n}\n</code></pre>\n\n<p>Here is shared_model.php</p>\n\n<pre><code>&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Shared_model extends Crud_model {\n\npublic function __construct()\n{\n    parent::__construct();\n\n    $this-&gt;pk = 'id';\n    $this-&gt;table_name = 'shares';\n}\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","database-design","mongoid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12688575,"title":"is it possible using state_machine for private message system?","body":"<p>I need make a system private message with mongoid.</p>\n\n<p>I have this model:</p>\n\n<pre><code>class Message\n  include Mongoid::Document\n  include Mongoid::Timestamps::Created\n\n  # Relationships \n  belongs_to :sender, :class_name =&gt; 'User', :inverse_of =&gt; :messages_sent\n  belongs_to :receiver, :class_name =&gt; 'User', :inverse_of =&gt; :messages_received\n  belongs_to :thread, :class_name =&gt; 'Message'  # Reference to parent message\n  has_many :replies,  :class_name =&gt; 'Message', :foreign_key =&gt; 'thread_id'\n  scope :in_reply_to, lambda { |message| where({:thread =&gt; message}).asc('created_at') }\n\n  #validations\n  validates_presence_of :username, :email, :subject, :body, :sender, :receiver\n  validates_length_of :subject, :within =&gt; 10..70\n  validates_length_of :body, :within =&gt; 10..1000\n\n  #state machine has been read message?\n  state_machine :has_been_read, :initial =&gt; :unread do\n     event :read_message do\n        transition :from =&gt; :unread, :to =&gt; :read\n     end\n     event :mark_unread do\n        transition :from =&gt; :read, :to =&gt; :unread\n     end\n  end\n\n  #state machine place_sender can be sent, draft, trash\n   state_machine :place_sender, :initial =&gt; :draft do\n     event :send_message do\n       transition :from =&gt; :draft, :to =&gt; :sent\n     end\n     event :sender_send_to_trash do\n       transition :from =&gt; :draft, :to =&gt; :drafts_trash\n     end\n    end\n\n   #state machine place_sender can be inbox, trash, spam\n    state_machine :place_receiver, :initial =&gt; :in_box do\n     event :receiver_send_to_trash do\n      transition :from =&gt; :inbox, :to =&gt; :trash\n     end\n     event :receiver_send_to_spam do\n      transition :from =&gt; :inbox, :to =&gt; :spam\n     end\n    end\nend\n</code></pre>\n\n<p><strong>My question is if is possible use <a href=\"https://github.com/pluginaweek/state_machine\" rel=\"nofollow\">state_machine</a> gem for this objective or purpose, or if we can do it another way, how should we do it?</strong></p>\n\n<p>Thank you very much!</p>\n"},{"tags":["c#","mvc","expandoobject"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":11256188,"title":"How to add object property on expando at runtime?","body":"<p>I read some article regarding expando object <a href=\"http://stackoverflow.com/questions/5204382/adding-expando-properties-to-a-typed-object-at-runtime-in-c-sharp\">here</a> but I want to achieve different thing.<br>\nI want to add property object with dynamic property at runtime, put value on it and then retrieve later:  </p>\n\n<pre><code>    private static readonly ConditionalWeakTable&lt;object, ExpandoObject&gt; props = new ConditionalWeakTable&lt;object, ExpandoObject&gt;();\n    public static void AddDataExtension(this object key, dynamic value)\n    {\n        props.Add(key, value);\n    }\n\n    public static dynamic GetDataExtension(this object key)\n    {\n        ExpandoObject ex = null;\n        return props.TryGetValue(key, out ex);\n    }  \n</code></pre>\n\n<p>Usage:  </p>\n\n<pre><code>'Insert data at runtime'\ninstance.AddDataExtension(\"Hello\", \"hi\");\n\n'Get the data at runtime'\ninstance.GetDataExtension(\"Hello\")  \n</code></pre>\n\n<p>But I receive this error:  </p>\n\n<pre><code>The best overloaded method match for 'System.Runtime.CompilerServices.ConditionalWeakTable&lt;object,System.Dynamic.ExpandoObject&gt;.Add(object, System.Dynamic.ExpandoObject)' has some invalid arguments  \n</code></pre>\n\n<p>I think I misused this property, is this possible to achieve? if yes, how? Please help. </p>\n\n<p><strong>Edit</strong>  </p>\n\n<p>here is the complete class:  </p>\n\n<pre><code>public static class instance\n{\n    private static readonly ConditionalWeakTable&lt;object, ExpandoObject&gt; props = new ConditionalWeakTable&lt;object, ExpandoObject&gt;();\n        public static void AddDataExtension(this object key, dynamic value)\n        {\n            props.Add(key, value);\n        }\n\n        public static dynamic GetDataExtension(this object key)\n        {\n            ExpandoObject ex = null;\n            return props.TryGetValue(key, out ex);\n        } \n}  \n</code></pre>\n\n<p>What I want to achieve is this:<br>\nI will have random varialbes, for example, \"<code>photo_01, photo_12, photo_15, name_01, name_02, age_01, age_02</code>\"<br>\nIf possible I want to use the method in this way:  </p>\n\n<pre><code>id = &lt;fetch from dbase&gt;\ninstance.AddDataExtension(\"photo_\" + id, byte[]);  \n</code></pre>\n\n<p>And then retrieve the value:  </p>\n\n<pre><code>instance.GetDataExtension(\"photo_\" + id)  \n</code></pre>\n"},{"tags":["php","mysql","mvc","pdo"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":132,"score":1,"question_id":12628736,"title":"PHP MVC, PDO: loop through returned mysql data","body":"<p>In my DB layer class I have a method that takes a select sql query as param:</p>\n\n<pre><code>public function select($sqlQuery) {             \n  $stmt = $this-&gt;pdo-&gt;prepare($sqlQuery);\n  $stmt-&gt;execute();\n  $ret = $stmt-&gt;fetch(PDO::FETCH_ASSOC);\n  return $ret;\n}\n</code></pre>\n\n<p>I want to be able to return the fetched data to my model, and then loop through it in my view class, without using any PDO in the view.</p>\n\n<p>How should this be done the right way?</p>\n\n<p>I want to be able to reach the table rows as $row['testCol'] etc.</p>\n"},{"tags":["jquery","mvc","asynchronous","scrollbar","postback"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12686998,"title":"Maintaining Page Scroll positon after asynchronous postback using jquery in MVC","body":"<p>I am facing problem in maintaining the page scroll postion after asynchronous postback in mvc view. When ever i click on the button with async call the page scrollbar goes up to the page. I am using jquery post method for async call. In my jquery code in post call i am hiding the div or i am manipulating the DOM. Any suggestion to solve this problem is much appreciated .</p>\n\n<p>Regards,\nTariq</p>\n"},{"tags":["asp.net-mvc","mvc","jquery-forms-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12686789,"title":"Form Validation and HTTP Exception","body":"<p>A form is submitted using jQuery form plug-in to an action in MVC framework. In the action, if form validation fails a reply should be sent back to the client. jQuery form plug-in comes with error and success callbacks (like any other jQuery Ajax functions).\nIsnt it a better practice to return an HTTP Exception with error-code 400 (Bad Request) and catch it in error callback rather than returning a successful HTTP response and catching it in success callback?</p>\n\n<p>If the answer is yes, wouldn't it be more descriptive to have data attached to HTTP Exception?\nFrom what I see right now, <code>HTTPException.Data</code> is readonly. One of the constructors seems to do the job (<code>HttpException(SerializationInfo, StreamingContext)</code>) but I cant wrap my head around it.\nWould someone please explain for me how to add data to HTTP Exception?</p>\n"},{"tags":["mvc","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12676420,"title":"passing data to another controller","body":"<p>I need to pass product Id from cart to custom controller, for example\nhttp://<em>*</em>*/catalogsearch/filter/results?product={ID}</p>\n\n<p>I dont have a clue how to pass data like that using magento helpers etc\nThanks</p>\n"},{"tags":["mvc","cakephp"],"answer_count":8,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":6916,"score":4,"question_id":420048,"title":"Any tips on how to learn CakePHP for a beginner?","body":"<p>I am trying to learn CakePHP. I'm having trouble understanding the concept of MVC. Does anyone have any advice for me?</p>\n"},{"tags":["mvc",".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12681260,"title":"RewriteRule Appending Query for Existing Directories","body":"<p>I'm implementing an MVC pattern for my new PHP site with a URL structure like the following:</p>\n\n<pre><code>example.com/module/controller/action?params=...\n</code></pre>\n\n<p>Here is my .htaccess file:  </p>\n\n<pre><code>Options -Indexes\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*) portal.php?mvc=$1 [QSA,L]\n</code></pre>\n\n<p>The rules are working mostly right, however, if I have a directory in the public space with the same name as a module, it appends <code>?mvc=[directory name]</code> to the end of the URL if there is no trailing slash.  </p>\n\n<p>For example:<br>\n<code>example.loc/index</code> turns into <code>example.loc/index/?mvc=index</code><br>\nbut <code>example.loc/index/</code> stays the same.</p>\n\n<p>How can I make it so that if the user types in <code>example.loc/index</code> it has the same behavior as if they had included the ending slash?</p>\n"},{"tags":["mvc","many-to-many"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12684959,"title":"Many to Many Relationship Link Error","body":"<p>I have a many to many relationship between House and Tenant \nI am trying to add tenants to a house with a listbox, but I think i have made a mistake setting up my M:M</p>\n\n<p>My Error</p>\n\n<pre><code>Property accessor 'TenantID' on object 'System.Data.Entity.DynamicProxies.House_12B9E3A2810993C07372CEC61FE6B770BE4602F910FA05366F7834B1C512DEFF' threw the following exception:'An error occurred while executing the command definition. See the inner exception for details.'\n</code></pre>\n\n<p>Inner Exception </p>\n\n<pre><code>{\"Invalid object name 'dbo.TenantsHouses1'.\"}\n</code></pre>\n\n<p>My House Model</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nnamespace FlatSystem.Models\n{\n[Table(\"House\")]\npublic class House\n{\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int HouseID { get; set; }\n\n    public string Address { get; set; }\n    public int BillID { get; set; }\n    public int JobID { get; set; }\n    public int NoteID { get; set; }\n\n    public virtual ICollection&lt;Tenants&gt; TenantID { get; set; }\n}\n}\n</code></pre>\n\n<p>My Tenant Model</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nnamespace FlatSystem.Models\n{\n[Table(\"Tenants\")]\npublic class Tenants\n{\n    //[Key]\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int TenantID { get; set; }\n    public virtual ICollection&lt;House&gt; Houses { get; set; }\n }\n } \n</code></pre>\n\n<p>My TenantsHouse View</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\n\nnamespace FlatSystem.Models\n{\n [Table(\"TenantsHouses\")]\npublic class TenantsHouses\n{\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int HouseID{ get; set; }\n    public virtual House House { get; set; }\n\n    public int TenantID { get; set; }\n    public virtual Tenants Tenants { get; set; }\n}\n}\n</code></pre>\n\n<p>My View Where the Error appears </p>\n\n<pre><code>   @using (Html.BeginForm(\"Add Tenant\", \"Tenant\", new { houseId = @Model.HouseID }))\n {\n        &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Select to Add Item&lt;/td&gt;\n            &lt;td&gt;\n               &lt;div class=\"editor-field\"&gt;\n              @Html.ListBoxFor(model =&gt; model.TenantID,((IEnumerable&lt;FlatSystem.Models.Tenants&gt;)ViewBag.TenantLookupList).Select(option =&gt; new SelectListItem\n                {\n                 Text = Html.DisplayTextFor(_ =&gt; option).ToString(),\n                 Value = option.TenantID.ToString(),\n                 Selected = (Model != null)\n                 }), \"Choose...\")\n              &lt;/div&gt;\n            &lt;/td&gt;\n           &lt;td&gt;&lt;input type=\"submit\" value=\"Add\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;\n }\n</code></pre>\n"},{"tags":[".net","asp.net-mvc","mvc","asynchronous","task-parallel-library"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12680682,"title":".NET Async on the web-- Must It be w/ an Async Controller?","body":"<p>If i'm looking to use TPL async at my data layer, must i also use <code>Task&lt;T&gt;</code> on my MVC controller? </p>\n\n<p>In other words, for async to work with .NET MVC, must it be implemented from the time the request begins in order for it to work on deeper execution layers? Or is there still a benefit to having <code>Task&lt;T&gt;</code> at my DAL/web request level even if i'm using a sync controller?</p>\n"},{"tags":["mvc","jsp","session","java-ee","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12683571,"title":"The View is not reading the current session","body":"<p>This is my servlet that creates the session and stores an accessCount to that current session</p>\n\n<pre><code>@WebServlet(\"/ShowSession.do\")\npublic class ShowSession extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws IOException, ServletException {\n        HttpSession session = request.getSession();\n\n        String header;\n        Integer accessCount  = (Integer)request.getAttribute(\"accessCount\");\n\n        if(accessCount == null){\n            accessCount = new Integer(0);\n            header = \"Welcome New Comer\";\n        }else{\n            header = \"Welcome Back!\";\n            accessCount = new Integer(accessCount.intValue() + 1 );\n        }\n\n        //Integer is immutable data structure. so we cannot\n        //modify the old one in-place,Instead, you have to\n        //allocate a new one and redo setAttribute\n        session.setAttribute(\"accessCount\", accessCount);\n        session.setAttribute(\"heading\", header);\n        RequestDispatcher view = getServletContext().getRequestDispatcher(\"/showsession.jsp\");\n        view.forward(request, response);\n    }\n}\n</code></pre>\n\n<p>And this is the View that prints out the contents of that session</p>\n\n<pre><code>&lt;body&gt;\n    &lt;%\n        HttpSession clientSession = request.getSession();\n        String heading = (String) clientSession.getAttribute(\"heading\");\n        Integer accessCount = (Integer) clientSession\n                .getAttribute(\"accessCount\");\n    %&gt;\n    &lt;h1&gt;\n        &lt;center&gt;\n            &lt;b&gt;&lt;%=heading%&gt;&lt;/b&gt;\n        &lt;/center&gt;\n    &lt;/h1&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Info type&lt;/th&gt;\n            &lt;th&gt;Value&lt;/th&gt;\n        &lt;tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;ID&lt;/td&gt;\n            &lt;td&gt;&lt;%=clientSession.getId()%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Creation Time&lt;/td&gt;\n            &lt;td&gt;&lt;%=new Date(clientSession.getCreationTime())%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Time of last Access&lt;/td&gt;\n            &lt;td&gt;&lt;%=new Date(clientSession.getLastAccessedTime())%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Number OF Access&lt;/td&gt;\n            &lt;td&gt;&lt;%=accessCount%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>THe problem is that even though I already access for a lot of times it still returns me an accessCount == 0,</p>\n\n<p>I am accessing at localhost:8080/someFolderName/ShowSession.do</p>\n"},{"tags":["php","mvc","codeigniter","model","codeigniter-2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12682240,"title":"CodeIgniter, multiple queries in same model method or multiple calls to model in controller?","body":"<p>I'm just starting to convert some basic applications to CodeIgniter and I'm trying to make sure that I start off on the right footing.</p>\n\n<p>Most actions in my controller require at least 1 query and as I see it there are 2 ways to go about this...  </p>\n\n<ol>\n<li><p>Combine the queries into a single method in the model, therefore making only a single call to the model from the controller.</p></li>\n<li><p>Have each query be its own method in the model, then call each method in turn from the controller.</p></li>\n</ol>\n\n<p>So far I've adopted my own policy but I'm not sure if it's advised or breaking the MVC pattern.</p>\n\n<p>If the queries are directly related to one another and only ever run together in sequence (the 2nd query is dependent on the 1st running successful), <strong>or</strong> data from the 1st query is passed to a 2nd query and it's the 2nd query that returns the actual display result set, then I go with <strong>#1</strong></p>\n\n<p>If each of the queries is returning its own individual result set for display, then I go with <strong>#2</strong></p>\n\n<p>Is there a recommended way to structure and separate the logic in this scenario?<br>\nThe last thing I want to do is cause myself a nightmare later down the line. My gut instinct is telling me that as much of the logic should be in the controller as possible.</p>\n"},{"tags":["c#","mvc","repository-pattern","castle-monorail","principles"],"answer_count":3,"favorite_count":29,"up_vote_count":38,"down_vote_count":0,"view_count":4764,"score":38,"question_id":325984,"title":"Service Layers and Repositories","body":"<p>I've been using MVC frameworks for a short while now and I really like how the concerns are separated out.  I've got into a bad habit of letting the controllers do quite a bit of work.  So I'm really looking for some advice.</p>\n\n<p>When I first started using MVC I quite often had the controller doing manipulation on the models after database work had been done.  I knew this was bad so moved that work into the models.  However I'm not happy with that as I want my models to be very learn.</p>\n\n<p>I've done a bit of reading and I see that people are keeping their controllers and models lean by having a service layer, which I like the look of.  </p>\n\n<p>I'm just trying to understand how a service layer and repository should all work together.  Here are my assumptions, can you please let me know if this is a good way of working?</p>\n\n<ol>\n<li>The controller can call the repository directly if no manipulation needs to be done on the data and as such a service layer does not need to get involved</li>\n<li>Once any work needs to be done to data (business logic) then this should be done in the service layer and the controller will make a simple call to the service layer as and when required</li>\n<li>Once a service has done it's business logic it will then use the repository as necessary (if data needs to be persisted).</li>\n<li>Models ideally should be kept lean, ideally actings as nothing more than DTOs</li>\n<li>Validation of data will be done within the models (using MonoRail validation attributes).  I appreciate not even one likes polluting their models with lots of attributes, but that is a different discussion.  I like the benefit of MonoRail's validation attributes for the automatic jQuery validation in the UI.</li>\n</ol>\n\n<p>I'm trying to turn all my code around to the single responsibility principle, hence trying to sort out my coding practices.</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","extjs","view","controller","extjs4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12672576,"title":"How can I reload view in ExtJS4 via controller?","body":"<p>I have a view. Controller is doing some logic, where I press some buttons in view (data passed to server and we have a callback).</p>\n\n<p>I need to update (reload?) view via controller.</p>\n"},{"tags":["jquery","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12679980,"title":"Model properties within JQuery modal box are passed as null on post to controller action","body":"<p>I have a slight problem, I have a view which has a submit button and it posts values to my controller. In my view I have a jquery popup box which I use to render a generic list (property of the model) in the form of editor templates. upon post the model property within the modal box is always null. when the dialog box is called, I think mvc resets the dom and the model properties within the modal are null. please advice. thanks    </p>\n\n<pre><code>&lt;div class=\"bodyContent\"&gt;\n   &lt;span class=\"leftContent\"&gt;\n   @Html.Label(\"Test Exceptions\")\n   &lt;/span&gt;&lt;span class=\"rightContent\"&gt;&lt;span id=\"TestExceptionChildDialogLink\" class=\"treeViewLink\"&gt;\n   Click here to View Test Exceptions&lt;/span&gt;\n   &lt;br /&gt;\n   &lt;span id=\"TestExceptionDisplayy\"&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;div id=\"testExceptiontreeview\" title=\"Dialog Title\" style=\"font-size: 10px; font-weight: normal;\n        overflow: scroll; width: 800px; height: 450px;\"&gt;\n   &lt;div id=\"inputTestExceptions\"&gt;\n      @if (Model.TestExceptionDisplay != null)\n      {\n      @Html.EditorFor(x =&gt; x.TestExceptionDisplay)\n      }\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS File:</p>\n\n<pre><code>var partTextArea;\n    var PartDialog;\n    $(document).ready(function () {\n\n        PartDialog = $(\"#testExceptiontreeview\").dialog({ autoOpen: false, title: 'Parsed Test Exceptions', width: 530, height: 400, buttons: { Close: function () {\n            var btnText = '';\n            $(\"#inputTestExceptions\").attr(\"style\", \"display:inline;\");\n            $('.ui-dialog-buttonpane :button').each(function () {\n                if ($(this).text() == 'Close') {\n                    btnText = 'Close';\n                    $(this).text('Close');\n                    $(\"#inputTestExceptions\").attr(\"style\", \"display:inline;\");\n                }\n\n            });\n            if (btnText == 'Close') {\n                PartDialog.dialog(\"close\");\n            }\n\n            return true;\n        }\n\n        }\n        });\n\n    $('#TestExceptionChildDialogLink').click(function () {\n        $(\"#inputTestExceptions\").attr(\"style\", \"display:inline;\");\n        PartDialog.dialog('open'); \n        });\n    });\n</code></pre>\n"},{"tags":["css","asp.net-mvc","mvc","iis6"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":212,"score":0,"question_id":10389310,"title":"Using MVC 3 to dynamically create Site.css on IIS 6. Works in dev, prod fails. Why?","body":"<p>I am using an MVC controller/action to dynamically create the site.css in my MVC 3 site.  The way it works is I map a route to Site.css like so:</p>\n\n<pre><code>routes.MapRoute(\"CSS\", \"Content/Site.css\", new { controller = \"CSS\", action = \"Index\" });\n</code></pre>\n\n<p>Then in my CSSController I have the following code:</p>\n\n<pre><code>public ActionResult Index() {\n    string path = Request.PhysicalPath.Replace(\"Site.css\",\"SiteStyles.css\");\n    byte[] data = null;\n\n    try {\n        using (FileStream fs = new FileStream(path, FileMode.Open, FileAccess.Read)) {\n            data = ProcessCSS(fs);\n        }\n    } catch (Exception e) {\n        Logger.Write(new LogEntry(e.Message, \"Error\", 99, 1001, System.Diagnostics.TraceEventType.Error, \"CSS Error\", null));\n        throw e;\n    }\n\n    return File(data, \"text/css\",\"Site.css\");\n}\n</code></pre>\n\n<p>What's going on in the ProcessCSS method is it's going through SiteStyles.css and performing a find/replace on some constants I have defined, so that I can have a set of colors defined at the top as named constants, then anywhere I need that color in the site I just use the named constant.  That way I can change the color once, and it propagates to all of the appropriate places in the stylesheet without me having to go touch 5-6 different places.</p>\n\n<p>The above code works great debugging in my local environment and on the dev server, which is Windows Server 2003 running IIS6.  However, when I deploy it to a production server that is also Windows Server 2003 running IIS6 the css is not being loaded and when I try to browse to Site.css (which should be getting mapped via my route) I get a 404 not found error.  If I go to my dev server and get the output for Site.css and create a physical Site.css file on the production server, it works.</p>\n\n<p>Any idea why this is failing on the production server?</p>\n\n<p>I added some logging to my CSSControler to log where it is looking for SiteStyles.css and the log simply isn't being generated on the production server, which tells me the server is ignoring the mapped route entirely and not executing the code in the Controller.</p>\n\n<p>Any suggestions on where to start are appreciated.</p>\n"},{"tags":["mvc","deployment"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":212,"score":0,"question_id":10177714,"title":"Not able to deploy ASP.NET MVC 3","body":"<p>I am trying to implement an iPad application with asp.net MVC 3 and jQuery Mobile.\nCan any one help me to figure it out why I can not deploy my application?</p>\n\n<p>My server : Windows 2008 R2 Standard 64 Bit \nIIS : 7.5\nApplication pool : ASP.NET v4.0</p>\n\n<p>MvcDiagnositics Info as below </p>\n\n<hr>\n\n<p>Microsoft ASP.NET MVC Diagnostics Information</p>\n\n<p>This page is designed to help diagnose common errors related to mismatched or conflicting ASP.NET MVC binaries. </p>\n\n<p>If a known issue is identified, it will be displayed below in red text.\nFor questions or problems with ASP.NET MVC or this utility, please visit the ASP.NET MVC forums at <a href=\"http://forums.asp.net/1146.aspx\" rel=\"nofollow\">http://forums.asp.net/1146.aspx</a>.</p>\n\n<p><strong>Environment Information</strong></p>\n\n<p><strong>Operating system:</strong> Microsoft Windows NT 6.1.7600.0 </p>\n\n<p><strong>.NET Framework version:</strong> 4.0.30319.225 (32-bit) <strong>&lt;----- This should be 64-bit???</strong></p>\n\n<p><strong>Web server:</strong> Microsoft-IIS/7.5 </p>\n\n<p><strong>Integrated pipeline:</strong> False </p>\n\n<p><strong>Worker process:</strong> w3wp.exe </p>\n\n<p><strong>AppDomain:</strong> Homogenous = True, FullTrust = True</p>\n\n<p><strong>ASP.NET MVC Assembly Information (System.Web.Mvc.dll)</strong></p>\n\n<p>Assembly version: Unknown version (3.0.20105.0) </p>\n\n<p>Full name: System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 </p>\n\n<p>Code base: file:///F:/Projects/Mobile/bin/System.Web.Mvc.DLL </p>\n\n<p>Deployment: bin-deployed</p>\n\n<p>ASP.NET MVC Futures Assembly Information (Microsoft.Web.Mvc.dll)</p>\n\n<p>An ASP.NET MVC Futures assembly has not been loaded into this application. A download for this </p>\n\n<p>version of ASP.NET MVC Futures is not available. Pre-release versions of the MVC Futures assembly </p>\n\n<p>are no longer available once that version of ASP.NET MVC has gone RTM.</p>\n\n<p>All Loaded Assemblies</p>\n\n<p>48 assemblies are loaded.</p>\n\n<p>App_global.asax.ur2ey1at, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null [ ver = n/a, GAC = False ]</p>\n\n<p>App_Web_umu0ymeo, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null [ ver = n/a, GAC = False ]</p>\n\n<p>EntityFramework, Version=4.1.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.1.10331.0, GAC = False ]</p>\n\n<p>FiftyOne.Foundation, Version=2.0.6.2, Culture=neutral, PublicKeyToken=e0b3a8da0bbce49c [ ver = 2.0.6.2, GAC = False ]</p>\n\n<p>Microsoft.Build.Utilities.v4.0, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>Microsoft.CSharp, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>Microsoft.JScript, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 10.0.30319.1, GAC = True ]</p>\n\n<p>Microsoft.Web.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>Mobile, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null [ ver = 1.0.0.0, GAC = False ]</p>\n\n<p>mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.225, GAC = True ]</p>\n\n<p>SMDiagnostics, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Activities, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.ComponentModel.DataAnnotations, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Configuration, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Data.DataSetExtensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Drawing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.EnterpriseServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Runtime.Caching, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Runtime.DurableInstancing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Runtime.Serialization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.ServiceModel.Activation, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.ServiceModel.Activities, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.ServiceModel.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.206, GAC = True ]</p>\n\n<p>System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Web.ApplicationServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Web.DynamicData, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.206, GAC = True ]</p>\n\n<p>System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>System.Web.Mobile, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 3.0.20105.0, GAC = False ]</p>\n\n<p>System.Web.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>System.Web.RegularExpressions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Web.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>System.Web.WebPages.Deployment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>System.WorkflowServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Xaml.Hosting, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Xml, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>System.Xml.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>Diagnostics version: Friday, December 10, 2010 (v11) </p>\n\n<h2>Report generated on: Monday, April 16, 2012 10:08:33 AM</h2>\n\n<p>And my Global.asax Info as below</p>\n\n<p>routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");</p>\n\n<p>routes.MapRoute( \"Default\", // Route name</p>\n\n<p>\"{controller}/{action}/{id}\", // URL with parameters</p>\n\n<p>new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults</p>\n\n<p>);</p>\n\n<hr>\n\n<p>My Web.config info as below</p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<hr>\n\n<p>When I test it from my local machine I am able to see this Default page as below</p>\n\n<p>Welcome to the Mobile Home Page</p>\n\n<p>Here's some information about the requesting device:</p>\n\n<p>Screen Width: 640</p>\n\n<p>Screen Height: 480</p>\n\n<p>LayoutEngine: Trident</p>\n\n<p>See MSDN for details of Request.Browser properties.</p>\n\n<p>See 51Degrees.mobi for user guide.</p>\n\n<p>See 51Degrees.mobi Device Data for details of other data properties and to get weekly data updates.</p>\n\n<hr>\n\n<p>The requesting device isn't a mobile. The page must have been requested directly.</p>\n\n<h2>Try accessing the web site from a mobile device, or a mobile device emulator. A list of popular mobile emulators can be found here.</h2>\n\n<p>I have tried to install the aspnet_regiis.exe -i on the server</p>\n\n<p>and I get this error as below</p>\n\n<p>C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319>aspnet_regiis.exe -i Start installing \nASP.NET (4.0.30319). ................ Finished installing ASP.NET (4.0.30319). Setup has detected some errors during the operation. For details, please read th e setup log file C:\\Users\\ADMINI~1.HIS\\AppData\\Local\\Temp\\2\\ASPNETSetup_00009.log</p>\n\n<hr>\n\n<p>**Is that because the aspnet_regiis.net for 64-bit is not installed correctly?</p>\n\n<p>I have been trying to deploy me application on ther server for 3 days but I didn't find any luck.</p>\n\n<p>Please, Help me to find out the issue.</p>\n\n<p>Thank you very much in advance.**</p>\n"},{"tags":["mvc","grails"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12678366,"title":"Grails URL mapping working for controller but not view","body":"<p>Somehow I have gotten sideways with my Grails MVC mapping and I do not understand how.</p>\n\n<p>I have a controller, AController, which I generated using the Grails command line wizard. At a later date I generated a view for that controller to customize the view.</p>\n\n<p>AController is in [project]/grails-app/controllers/[package]/AController.groovy and the view .gsp's are in [project]/grails-app/views/A/.</p>\n\n<p>The URLMappings.groovy has:</p>\n\n<pre><code>    \"/$controller/$action?/$id?\"{\n        constraints {\n            // apply constraints here\n        }\n    }\n</code></pre>\n\n<p>When I run the application and enter a url of the form: localhost:8080/[project]/A/list I reach, as expected, the method A.list in AController.groovy.</p>\n\n<p>However, when I then return from A.list expecting the framework to route to list.gsp in [project]grails-app/views/A/ I see a 500 error with the message:</p>\n\n<p>\"URL mapping must either provide a controller or view name to map to!\"</p>\n\n<p>Obviously I am doing something stupid but I cannot see what it was that I broke. URLMappings.groovy looks correct. File locations look correct. Scaffolding seems properly customized.</p>\n\n<p>Any suggestions? </p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12660224,"title":"MVC Pattern: Usage Best Practices","body":"<p>I am striving to respect the best I can the MVC pattern. It simplifies the life of a developer (or devs) a lot. The thing that I am wondering about is how to load multiple sections at a time.  </p>\n\n<p>To make it clear, I am going to take the example of a to-do list (it's pretty used this days). Let's say there are project -> milestones -> tasks.  </p>\n\n<p>What we need:  </p>\n\n<ul>\n<li>get them all - all the projects with all the milestones with all the tasks in a nested json encoded array.</li>\n<li>get only the projects </li>\n<li>get only the milestones</li>\n<li>get only the tasks  </li>\n</ul>\n\n<p>For the last three, we can have separate controllers that provide us with the corresponding data. The problem shows up when we try to \"get them all\" in a nested json-encoded array.  </p>\n\n<p>What is probably the best way to handle that?  </p>\n\n<p>I thought of a few possibilities:<br>\n - Move the project, milestone and task generators in helper classes - this means we call them from the individual controllers and also call them when we need to get them all<br>\n - From the view of the projects, call the controller/view of the milestones (of each project) [which in turn calls the controller/view of the tasks (of each milestone)]. This might look like a simulation of 3 requests in 1.   </p>\n\n<p>The motivation comes from the fact that while I could fetch all the projects and then the milestones of each and then the tasks of each milestone, it would take a lot of requests. If we could get all the calls in one, it would take considerably less time to get the data, let alone that in one request the data is more organized.</p>\n"},{"tags":["ruby-on-rails","mvc","frontend","barebones"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":1849,"score":6,"question_id":9494468,"title":"Backbone.js frontend with RESTful Rails backend?","body":"<p>I started in the web development world with PHP, and then Rails in the recent few years. Since then I've been doing all my web projects in Rails. </p>\n\n<p>Recently there seems to be a movement towards making Rails as a pure RESTful backend service and using frontend framework such as Backbone.js for all frontend interaction. I'm wondering what's you guys' take on it? Will this be the eventual future? </p>\n\n<p>As well, besides Backbone.js, what are some other alternatives for frontend framework for this purpose? </p>\n\n<p>Also assuming that I will want to support both a desktop version and a mobile version of my app, would this be a proper route to take? So I'll have a single backend service with different frontend services? This way I don't need to manage all the views on Rails' side?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","role"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12672783,"title":"how to mange role Assignment by action wise in MVC3 i.e.each role be assign by different Action?","body":"<p>How to manage role Assignment by action wise in MVC3, i.e. each role is assigned by a different Action in MVC3 in C#.net ?</p>\n"},{"tags":["php","mvc","yii"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1990,"score":4,"question_id":9582237,"title":"Getting Current Controller ID in Yii","body":"<p>I want to get the current controller name that handles the current action.\nbut the in my case <strong>I will look for the current controller in my main.php in my layout files</strong>.</p>\n\n<p>this is my small view of my directory structure to give you an idea where is my layout files and the file where i will put my codes in searching of my controller name</p>\n\n<blockquote>\n  <ul>\n  <li>/protected</li>\n  <li>/themes\n  <ul>\n  <li>/mylayout\n  <ul>\n  <li>/layouts\n  <ul>\n  <li><strong>main.php</strong></li>\n  <li>column1.php</li>\n  <li>column2.php</li>\n  </ul></li>\n  <li>/site\n  <ul>\n  <li>index.php</li>\n  </ul></li>\n  </ul></li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>Is this possible? im trying the following codes but i failed to get my current controller name...</p>\n\n<pre><code>echo Yii::app()-&gt;controller-&gt;getId;\necho Yii:app()-&gt;getController-&gt;id;\necho Yii:app()-&gt;controller-&gt;uniqueID;\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":["mvc","dropdownlistfor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12673117,"title":"jquery ajax to bind dropdownlist MVC","body":"<p>I have a 2 dropdownlist , i have to bind the 2nd one based on the Id i got from first dropdown. in the first dropdown i added OnChange event.</p>\n\n<pre><code>function onChange() {\n                  var variantDropDown = $('#VariantName');\n                  $.ajax({\n                      url:     '/Admin/CustomProductPinCodesManagement/GetProductVarinats',\n                      type : 'post',\n                      data: { productId: $(\"#ProductName\").data(\"tDropDownList\").value() },\n                      success: function (data) {\n                           $.each(variants, function (i, variant) {\n                            $states.append('&lt;option value=\"' + variant.Id + '\"&gt;' +   variant.Name + '&lt;/option&gt;');\n                                                            });\n                      },\n                      error: function () {\n                          alert('Error');\n                      }\n                  });\n            }\n</code></pre>\n\n<p>and this is the c# code .</p>\n\n<pre><code>[HttpPost]\n        public ActionResult GetProductVarinats(string productId)\n        {\n            var variants = _productService.GetProductVariantsByProductId(Convert.ToInt32(productId));\n            return Json(new { Result = true, data = variants }, JsonRequestBehavior.AllowGet);\n        }\n</code></pre>\n\n<p>but it does not work.</p>\n"},{"tags":["asp.net","mvc","live-mesh"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":156,"score":0,"question_id":1862252,"title":"Does Live Mesh exclude .aspx/.ascx files?","body":"<p>I'm tired of zipping up my ASP.net MVC project all the time, so I tried to connect the entire project folder to Live Mesh, so I could work on it both at home and at the office. It seemed to work, but it turns out all the views are excluded and replaced with .wlx counterparts.</p>\n\n<p>Is this a known limitation of Mesh? Does anyone know of a workaround?</p>\n"},{"tags":["database","forms","mvc","dynamic"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12672476,"title":"How to create a form dynamically for Database in ASP.NET MVC3","body":"<p>I am new to MVC3. I need to generate a form dynamically from database with different types of controls in MVC3. what would be the best way of doing it. I have a table in database named as \"tblFormLayout\" with some columns as follows</p>\n\n<h2>id    ControlType     Title</h2>\n\n<p>1     TextBox         Name<br>\n2     DropDownList    Age<br>\n3     Checkbox        Agree<br></p>\n\n<p>I want to generate a Form in MVC so that when it runs it would show me a form with TextBox, a DropDownlist and checbox with name, age and Agree as labels respectively. How to render these controls so that I would also be able to save them into database.</p>\n\n<p>Give directions.</p>\n"},{"tags":["asp.net",".net","mvc","subsonic"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":182,"score":1,"question_id":3376414,"title":"Subsonic many-to-many relationship","body":"<p>I have 3 tables, one is called \"Users\", one is called \"Categories\" and one is a linking table called \"User_Categories_Map\" to link users to categories in a many-to-many relationship.  The linking table consists of UserId's and CategoryId's.  After generating the subsonic classes, I would assume I'd be able to then type User.singleOrDefault(x => x.ID == 1).Categories to select all the categories for a user.  However, this doesn't work.  If you can understand what I'm trying to accomplish here, can anyone tell me how I can make this work in subsonic?  Consequently, I cannot find any documentation on subsonic.  Subsonicproject.com only has a short page a few articles about how to set it up.  Is there documentation somewhere for subsonic?  </p>\n"},{"tags":["java","spring","mvc","http","web-applications"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":152,"score":1,"question_id":12642020,"title":"Send HTTP POST request in Spring MVC","body":"<p>I am working on a project that uses Spring MVC, and one of the requirement involves sending request to an external services to handle some transactions.\nThe problem now is the external services only takes POST method, and I've looked everywhere and could not find a way to forward user to external site as a POST request(similar to form submit).</p>\n\n<p>What we are trying to do:</p>\n\n<p>1) My Controller will receives request and execute some backend thing and construct some parameters to pass on.</p>\n\n<p>2) *Send request to external service via HTTP POST method with some parameters.\n(note. User's browser will show URL of the external site.)</p>\n\n<p>I've looked into different return types for Spring MVC and could not find anything that fits.</p>\n\n<p>Any advice would be greatly appreciated.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","mvc","list","gui","tkinter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12666291,"title":"PYTHON - Unhashable List","body":"<p>I am trying to display some information in a GUI list-box. I have written a test method in a model only portion of my MVC which outputs the information I want; however, when I transfer that code to my full GUI, it throws me an error. </p>\n\n<p><strong>Here are the two pieces of code:</strong></p>\n\n<p><strong>Model:</strong> (note that this method is written for a class <code>Products()</code>)</p>\n\n<pre><code>def test(self):\n    for key in self._items_list:\n        print self.get_item(key) #this refers to the get_item function of the Products class:\n\ndef get_item(self, key):\n    return self._items_list[key] # items_list is a dictionary\n</code></pre>\n\n<p>So, this returns the output I would like to put in my list-box. </p>\n\n<p><strong>Here is how I transfer the code to my GUI</strong> (this is in a class i defined which inherits from Listbox):</p>\n\n<pre><code>def refreshData(self):\n    for keys in self._productslist: #this productslist is equivalent to items_list\n        disp = self._products.get_item(keys) #so i can call the method from the Product class\n        self.insert(END, dips)\n</code></pre>\n\n<p>This throws me the following error when I try to open and display the file: </p>\n\n<pre><code>...in get_item\nreturn self._items_list[key]\nTypeError: unhashable type: 'list'\n</code></pre>\n\n<p>Sorry, this is long and probably very confusing, but essentially I want to know why I get the error for the method in the full version of the code and not in the isolated model. </p>\n\n<p>All the relevant code is identical as far as I know.</p>\n\n<p>Any ideas would be greatly appreciated!</p>\n"},{"tags":["php","mvc","design-patterns","convention"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":143,"score":2,"question_id":12661637,"title":"MVC design convention: CRUDing inherited models","body":"<p>Here's my database structure:</p>\n\n<p><img src=\"http://i.imgur.com/hrSO9.png\" alt=\"database schema\"></p>\n\n<p>In my app I have a company management of customers, employees and branches.</p>\n\n<p>Customers and Employees are associated with one Person, one Individual and one User.\nBranches are associated with one Person and one Company.</p>\n\n<p>So, to insert a new costumer or employee, I have to first insert its common data into <code>Person</code> table, its person data into <code>Person</code> table, then its user data into <code>User</code> table and finally create a new record into <code>Customer</code> or <code>Employee</code> table.</p>\n\n<p>To insert a new branch, I've to first insert its common data into <code>Person</code> table, then its company data into <code>Company</code> table and finally create a new record into <code>Branch</code> table.</p>\n\n<p>I'm new to MVC concept and I'm a bit lost in how I should design my model classes to CRUD them. I'm using CodeIgniter framework, but I think it's irrelevant here. Should I create a separate class model for each database table? If so, how I should code that? (theory only)</p>\n\n<p>For example, to insert a new costumer...</p>\n\n<ol>\n<li>Start a new transaction</li>\n<li>Instantiate a new Person</li>\n<li>Fill Person's data</li>\n<li>Save Person</li>\n<li>Instantiate a new Individual</li>\n<li>Fill Individual's data and relate to its Person</li>\n<li>Save Individual</li>\n<li>Instantiate a new User</li>\n<li>Fill Users' data and relate to its Person</li>\n<li>Save User</li>\n<li>Instantiate a new Costumer</li>\n<li>Fill Costumer's data and relate to its Person</li>\n<li>Save Costumer</li>\n<li>End transaction</li>\n</ol>\n\n<p>Is that correct? Where this code should be, in the costumer's controller? Any better convention to use that database structure (I need to use the third normal form design)? </p>\n"},{"tags":["php","mvc","autoloader"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12654458,"title":"autoloader function and MVC","body":"<p>I am trying to use the <code>autoloader</code> function with my web application.</p>\n\n<p>I have never used MVC before and I am new to the <code>autoloader</code> function. My current <code>autoloader</code> function is below, and it works.</p>\n\n<p>The folder name is <code>applicaton/models</code>.</p>\n\n<p>My file names are <code>model.php</code> and <code>user.class.php</code> (I know \"class\" does not need to be there but it helps me know what my files are).</p>\n\n<pre><code>&lt;?php \n    ini_set('display_errors', 'On'); \n        error_reporting(E_ALL | E_STRICT);\n\n    function autoloader($class){\n        include_once ('/application/models'.strtolower($class).'.class.php');\n    }\n\nspl_autoload_register(autoloader);\n?&gt;\n</code></pre>\n\n<p>If I wanted to auto-load <code>model.php</code> that is in the same directory as my various class files, how would I do that?  Would I simply create a new function, like this:  This is a modified version of using if statements.  I am not getting any errors but then I am not returning an results either if I just echo the file name.</p>\n\n<pre><code>&lt;?php\nini_set('display_errors', 'On');  \nerror_reporting(E_ALL | E_STRICT); \n\nfunction autoloader(){\n\n$controller = '/application/controller/controller.php';\n$model = '/application/models/model.php';   \n\nif (file_exists(\"$model\")) {\n   include $model;\n  //echo 'it works';\n       if (file_exists(\"$controller\")) {\n           include $controller;\n       } else {\n     echo '\"Cannot find the model.php file\"';\n             }  \n}\n}\n\n\n?&gt;\n</code></pre>\n\n<p>Or is there a way that I can create one function that will load both files?  </p>\n"},{"tags":["oop","mvc","codeigniter","user-experience"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":12629365,"title":"CodeIgniter and the Model-View-Controller  your experience / your meaning?","body":"<p>I have a simple question about the principle from the CodeIgniter MVC. \nIf I take a look in the manual from CI (Models) I see for example this:</p>\n\n<pre><code>function insert_entry()\n{\n    $this-&gt;title   = $_POST['title']; // please read the below note\n    $this-&gt;content = $_POST['content'];\n    $this-&gt;date    = time();\n    $this-&gt;db-&gt;insert('entries', $this);\n}\n</code></pre>\n\n<p>Well, ok  to put in data this way is bad I know :) but also if we user $this->input->post()  for me it doesnt look better. Isnt it better to handle the data in the controller before I use a function from  a model? Maybe the model part looks so:</p>\n\n<pre><code>function insert_entry($data)\n{\n    $this-&gt;db-&gt;insert('entries', $data);\n}\n</code></pre>\n\n<p>And in the controller such like this:</p>\n\n<pre><code>$this-&gt;load-&gt;model('Blog');\n$data = array();\n$data['title'] = $this-&gt;input-&gt;post('title');\n$data['content'] = $this-&gt;input-&gt;post('content');\n$this-&gt;Blog-&gt;insert_entry($data);\n</code></pre>\n\n<p>But where i run the validation etc.  model or controller?\nMaybe someone understand what I would like to know. Maybe you have some more experience, links or whatever. Thanks!</p>\n"},{"tags":["query","mvc","yii"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12661510,"title":"Yii MVC : how to select 1 registration using the best method","body":"<p>I have a table in the database and from this table i want to select 1 registration, using the UPDATE field, like: </p>\n\n<pre><code>select * from website order by update asc limit 1; \n</code></pre>\n\n<p>is there a better way to load the registration than using the createCommand ? </p>\n\n<p>and once i load the registration, how to i update the update field ?</p>\n\n<p>I would prefere using Active Records.</p>\n"},{"tags":["c","mvc","gtk","signals"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":216,"score":0,"question_id":6032098,"title":"How do I use gtk_list_store_set_value?","body":"<p>I need to store Data from text widgets in a treeview in a liststore.</p>\n\n<p>To this end I should apparently use gtk_list_store_set_value which is capable of performing the correct typecast.</p>\n\n<p>First: I don't know how. It want's a GValue but every time I try to typecast one it complains vigorously.</p>\n\n<p>Second: What errors would this output if a non-numeric was input into a text field which is connected to a liststore column of type gint?</p>\n\n<p>Third: Is there any easier way I seem to be missing? A reverse connection like the one automatically produced from liststore to cellrenderer?</p>\n"},{"tags":["mvc","jsp","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":166,"score":-4,"question_id":2791405,"title":"Guide need to build a JSP based webapplication","body":"<p>I want do a web-application that consists of the following pages: Main, Inventory, Shopping, Login, and Report. All will be JSPs and all will be called using the MVC pattern where one of two servlets uses the RequestDispatcher to call the appropriate JSP. This uses server-side forwarding and not redirection.</p>\n\n<p>I have ER diagram: <a href=\"http://tinypic.com/r/155oxlt/5\" rel=\"nofollow\">http://tinypic.com/r/155oxlt/5</a></p>\n"},{"tags":["asp.net","mvc","routing","upgrade","publish"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":168,"score":1,"question_id":6203274,"title":"publish asp.net upgraded to 4 and using MVC routing. Access denied","body":"<p>I have upgraded my asp.net 3.5 app to 4.0 and added support for routing (added dlls are made \"copy locaL\"). It works perfectly locally. After deployed to IIS7 (using FileSystem publish method in VS2010) it gives me a 403 \"access is denied\" when I try to acces the base url (mysite.com). If I try to go to any route url (mysite.com/resources) it gives me a 404 error \"File or Directory not found\".</p>\n\n<p>I have removed Authorization section in web.config. \"Intergrated\" is selected for managed pipeline mode in application pool conf. Http Redirection installed</p>\n\n<p>Here is a pattern of my <code>Global.ascx</code> file</p>\n\n<pre><code>routes.MapPageRoute(\n  \"default\",             // Route name \n  \"{tab}\",               // URL \n  \"~/member/{tab}.aspx\", // Physical ASPX file \n  false,\n  new RouteValueDictionary(new {tab = \"Default\"})\n);\n\nroutes.MapRoute(\n  null,\n  \"{controller}/{action}/{id}\",\n  new {\n    action = \"Index\",\n    id = UrlParameter.Optional\n  }\n);\n</code></pre>\n\n<p>UPDATE: Accessing aspx pages directly like <code>mysite.com/member/Default.aspx</code> works without any issue.</p>\n\n<p>Here is detailed error message:</p>\n\n<pre><code>**HTTP Error 403.14 - Forbidden\nThe Web server is configured to not list the contents of this directory.**\n\n    Module DirectoryListingModule \n    Notification ExecuteRequestHandler \n    Handler StaticFile \n    Error Code 0x00000000 \n</code></pre>\n\n<p>looks like the request is handled by the wrong Handler.</p>\n\n<p>What I did miss here? Thanks in advance.</p>\n"},{"tags":["multithreading","mvc","design-patterns","notifications","observer-pattern"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12656327,"title":"Notification system using Observer Pattern in a MVC multithreading application","body":"<p>I am trying to implement a simple notification system in my Client/Server MVC application using the Observer Pattern, but my attempt doesn't work and I don't know why. My code is:</p>\n\n<pre><code>public class ApplicationView extends JFrame implements Observer\n{\n    ApplicationView(ApplicationModel model)\n    {\n        GUI Creation Code...\n    }\n\n    ...\n\n    @Override\n    public void update(Observable o, Object arg)\n    {\n        System.out.println(\"I have received an event!\");\n\n        if(arg instanceof String)\n            System.out.println((String) arg);\n    }\n}\n\npublic class OneClientConnection extends Observable implements Runnable\n{\n    public OneClientConnection(Socket socket) throws IOException\n    {\n        setChanged();\n        notifyObservers(\"You have a new notification!\");\n\n        ...\n     }\n}\n\npublic class Application\n{\n    ApplicationModel applicationModel = new ApplicationModel();\n    ApplicationView applicationView = new ApplicationView(applicationModel);\n    new ApplicationController(applicationView, applicationModel);\n\n    ServerSocket serverSocket = null;\n\n    try\n    {\n        serverSocket = new ServerSocket(PORT);\n\n        while(true)\n        {\n            Socket socket = serverSocket.accept();\n\n            OneClientConnection clientConnection = new OneClientConnection(socket);\n\n            clientConnection.addObserver(applicationView);\n\n            Thread thread = new Thread(clientConnection);\n\n            thread.start();\n        }\n    }\n\n    ... and so on\n</code></pre>\n\n<p>Could you help me understanding why I don't receive any kind of message in my console? What am I doing wrong?</p>\n\n<p>Thank you!</p>\n"},{"tags":["jquery","asp.net","mvc","jquery-validate"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1807,"score":1,"question_id":6735204,"title":"Is there an API for jQuery unobtrusive validation?","body":"<p>I have this validation summary in my code:</p>\n\n<pre><code>@Html.ValidationSummary(false, \"Fix Error\", new { id = \"valSumId\" } )\n</code></pre>\n\n<p>Is there an API so I can add validation error during runtime? Though the following code works, it feels brittle, there's nothing to stop ASP.NET MVC team from not using ul li tags for displaying errors on the next ASP.NET MVC release.</p>\n\n<pre><code>$('input[type=submit]').click(function (e) {\n    e.preventDefault();\n    if ($('form').valid()) {\n        /* ajax submit here */\n\n        if (anErrorOccured) {\n            $('#valSumId').removeClass().addClass('validation-summary-errors');\n            errorList = $('#valSumId &gt; ul');\n\n                    // the message is variable, coming from JSON, and can be a list\n            errorList.append($('&lt;li /&gt;').text('Your ordered quantity is above the stock level'));\n        }\n    }\n});\n</code></pre>\n"},{"tags":["asp.net","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":972,"score":0,"question_id":4712852,"title":"The IControllerFactory 'Spring.Web.Mvc.SpringControllerFactory' did not return a controller for the name 'Account","body":"<p>I am getting problem like </p>\n\n<p>\"The IControllerFactory 'Spring.Web.Mvc.SpringControllerFactory' did not return a controller for the name 'Account'\" . What does this mean?????</p>\n\n<p>I am calling Logon method from controller named Account.\nbut when same file is kept in home controller and called then it renderes.</p>\n"},{"tags":["javascript","mvc","templates","template-engine","multi-tenant"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12649719,"title":"Multi-tenant Javascript Templating","body":"<p>Working on a multi-tenant web application, htmls are being served from the server (struts 1 + tiles). Depending on site id our application resolves which templates to render. \nThe text is handled by a customized i18n resolver. CSS handles the look and feel variation\nSometimes we handle different logic or content depending on the site id. </p>\n\n<p>We are trying to redo some sections-widgets and start handling on the client side instead, struts serving json on widget ajax calls. \nWe have looked into some mvc js framework and some templating engines. Too many options out there... need some advice.</p>\n\n<p>What are your suggestions on a js template engine to handle templates dynamic selection, i18n capabilities and event oriented?</p>\n"},{"tags":["jquery","asp.net-mvc-3","mvc","jqgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":390,"score":1,"question_id":11125073,"title":"Display success message on Jqgrid EDIT form","body":"<p><strong>EDIT PRMS</strong><br>\n    edit: {<br>\n    addCaption: \"Add CDM\",<br>\n    bSubmit: \"Submit\",<br>\n    bCancel: \"Cancel\",<br>\n    bClose: \"Close\",<br>\n    saveData: \"Data has been changed! Save changes?\",<br>\n    bYes: \"Yes\",<br>\n    bNo: \"No\",<br>\n    bExit: \"Cancel\",<br>\n    //serializeEditData: serailize,<br>\n    //editData: {new_CDM_ID: function() { return $('#cdmID').val();} },<br>\n    closeOnEscape: true,<br>\n    recreateForm: true,<br>\n    width: '450',<br>\n    afterSubmit: function (response, postdata) {<br>\n    var result = jQuery.parseJSON(response.responseText);<br>\n    return [result.success, result.message, result.id];\n    //return [success, message, new_id]<br>\n    }<br>\n<strong>Question</strong><br>\nI'm able to capture error message in <strong>afterSubmit</strong> event and also able to display it on edit form of jqgrid. But same is not happeing for success message. I'm able to capture it but not able to display on edit form of jqgrid. Should i use a different event for displaying success message.   </p>\n\n<p>My requirement is<br>\n1)display error message in red (working)<br>\n2)display success message in green (not working)</p>\n"},{"tags":["mvc","datetime","input","model"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":146,"score":1,"question_id":11408446,"title":"MVC datatype.datetime has value but does not display it","body":"<p>input class=\"text-box single-line\" data-val=\"true\" data-val-date=\"The field Bill Date must be a date.\" data-val-required=\"Bill Date is required\" id=\"BillDate\" name=\"BillDate\" type=\"date\" value=\"22.02.2012\"</p>\n\n<p>here is html code shown in source on chrome. But there is no value in the textbox.</p>\n\n<p>And here is my model for the \"BillDate\" </p>\n\n<pre><code>    [Required]\n    [Display(Name = \"Bill Date\")]\n    [DataType(DataType.Date, ErrorMessage = \"Not a valid date\")]\n    [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:dd.MM.yyyy}\")]\n    public DateTime BillDate { set; get; }\n</code></pre>\n\n<p>and this is how i am trying to display it @Html.EditorFor(model => model.BillDate)</p>\n\n<p>Can you help me please...</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-4","mef","maf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":136,"score":0,"question_id":11910829,"title":"MVC 4 add-in architecture with MAF","body":"<p>I am trying to figure out a good architecture to allow other people to build plugins for an MVC 4 application.</p>\n\n<ul>\n<li>There are many resources to learn about MEF.  </li>\n<li>There are quite a bit articles/posts that talk about MVC with MEF.  </li>\n<li>But there are not many learning resources available for MAF and I almost find nothing that discusses both MVC and MAF together.</li>\n</ul>\n\n<p>I really like MAF over MEF as a choice for an add-in framework.</p>\n\n<p>I would really appreciate your thoughts / links on the topic.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","asp.net-mvc-2","asp.net-mvc-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":245,"score":1,"question_id":9898380,"title":"Questionnaire Wizard in MVC3","body":"<p>My requirement is to create a exam questionnaire wizard. The steps in wizard will be dynamically created.There will be some basic steps that will be common for some applicant like language settings etc. The questions will be generated depending on the type of exam selected by the applicant. There will be at least 25 to 35 questions per questionnaire that means there will be 35- 45 steps per wizard. I cannot save the answers in database. It has to be in session and I cannot use java script.</p>\n\n<p>User should have easy accessibility. he can start answering exam in any order he wishes. </p>\n\n<p>My approach was to create usercontrols for basic steps(like language,instruction and Question) and invoke it on the page as and when the link is clicked. I have just put a sample image from my test project. </p>\n\n<p><img src=\"http://i.stack.imgur.com/e5dyV.jpg\" alt=\"enter image description here\"></p>\n\n<p>Since the questions are dynamically fetched depending on applicant I will fetch all the question and create a list and display it using Question user control step by step.</p>\n\n<p>I have created wizards many time in asp.net but not in MVC so I have some doubts.</p>\n\n<p>Issues or Concern Facing:</p>\n\n<p>Navigation button: NEXT and Previous. Can I put it in ASPX page instead of each user control page.</p>\n\n<p>Assume that user has selected one link like say for eg Question 1 he has entered the answer and clicked on another link or NEXT Button how will i get the updated object with the answer user has selected. Since link doesn't have post action.</p>\n\n<p>If you guys can suggest some ways of achieving this, it will be of great help.</p>\n\n<p><strong>Below shown is my aspx page:</strong></p>\n\n<pre><code>&lt;%@ Page Language=\"VB\" MasterPageFile=\"~/Views/Shared/Site.Master\" Inherits=\"System.Web.Mvc.ViewPage(Of MVCApp.WizardVM)\" %&gt;\n&lt;%@ Import Namespace =\"MVCApp\" %&gt;\n&lt;asp:Content ID=\"indexTitle\" ContentPlaceHolderID=\"TitleContent\" runat=\"server\"&gt;\n    Home Page\n&lt;/asp:Content&gt;\n\n&lt;asp:Content ID=\"indexContent\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n&lt;% Using Html.BeginForm(\"Index\", \"Home\")%&gt;\n\n   &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;div id=\"menu\" class=\"block\"&gt;                  \n                      &lt;ul id=\"menuItems\"&gt;              \n                        &lt;% For Each item As MVCApp.MenuVM In Model.menus%&gt;       \n                         &lt;li&gt;&lt;%: Html.ActionLink(item.Description, \"Index\", \"Home\", New With {item.ID}, Nothing)%&gt;&lt;/li&gt;                    \n                        &lt;%Next%&gt;\n                       &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;% Html.RenderPartial(Model.UserControlName, Model.Model)%&gt;             \n\n\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n        &lt;td colspan=2 align=\"right\"&gt;\n            &lt;input type=\"submit\" value=\"Next\" /&gt;\n            &lt;input type=\"submit\" value=\"Previous\" /&gt;\n        &lt;/td&gt;\n        &lt;/tr&gt;\n   &lt;/table&gt;\n\n &lt;% End Using %&gt;        \n\n&lt;/asp:Content&gt;\n</code></pre>\n\n<p><strong>Controller Class:</strong></p>\n\n<pre><code>Public Class HomeController\n    Inherits System.Web.Mvc.Controller\n\n\n    Function Index() As ActionResult\n        Dim oWizard As New WizardVM\n        oWizard = GetData()\n\n        If (ControllerContext.RouteData.Values.Count &gt; 2) Then\n            If (ControllerContext.RouteData.Values.Item(\"ID\") = 1) Then\n                oWizard.UserControlName = \"language\"\n                oWizard.Model = oWizard.Language\n\n            ElseIf (ControllerContext.RouteData.Values.Item(\"ID\") = 3) Then\n                oWizard.UserControlName = \"Question\"\n                oWizard.Model = oWizard.Question\n            End If\n        Else\n            oWizard.UserControlName = \"language\"\n            oWizard.Model = oWizard.Language\n        End If\n\n        Return View(\"index\", oWizard)\n    End Function\n\n    Function About() As ActionResult\n        Return View()\n    End Function\n\n\n    Public Function GetData() As WizardVM\n        Try\n            Dim oWizard As New WizardVM\n\n            Dim oLanaguage As New LanguageVM\n            oLanaguage.Description = \"This is a language test screen.\"\n            oWizard.Language = oLanaguage\n\n\n            Dim oQuestion As New QuestionVM\n            oQuestion.Description = \"This is a Question test screen.\"\n            oWizard.Question = oQuestion\n\n            Dim oMenus As New List(Of MenuVM)\n            Dim oMenuHelper As New MenuHelper\n            oMenus = oMenuHelper.BuildMenu()\n\n            oWizard.menus = oMenus\n\n            Return oWizard\n        Catch ex As Exception\n            Throw ex\n        End Try\n    End Function\n\n\n    &lt;HttpPost()&gt;\n    Function GetLanguageInfo(ByVal oLanguage As LanguageVM) As ActionResult\n        Dim a As Integer\n        a = 10\n        Return View(\"index\")\n    End Function\n</code></pre>\n\n<p><strong>My Model View Classes</strong></p>\n\n<pre><code>Public Class WizardVM\n\n    Public Property SelectedMenuId As Integer\n    Public Property Language As LanguageVM\n    Public Property Question As QuestionVM\n\n    Public menus As List(Of MenuVM)\n\n    Public Property UserControlName As String\n    Public Property Model As Object\n\nEnd Class\n</code></pre>\n\n<p><strong>Language Model View Class</strong></p>\n\n<pre><code>Public Class LanguageVM\n\n    Public Property Description As String\n\nEnd Class\n</code></pre>\n\n<p><strong>Question ModelView Class</strong></p>\n\n<pre><code>Public Class QuestionVM\n    Public Property Description As String\nEnd Class\n</code></pre>\n\n<p><strong>UserControls:</strong></p>\n\n<p><strong>LANUGAGE</strong></p>\n\n<pre><code>&lt;%@ Control Language=\"VB\" Inherits=\"System.Web.Mvc.ViewUserControl(of MVCApp.LanguageVM)\" %&gt;\n&lt;form method=\"post\" action=\"/Home/GetLanguageInfo\"&gt; \n    &lt;p&gt;Description\n    &lt;%= Html.TextBoxFor(Function(model) model.Description)%&gt;\n    &lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Same way i have created for question. I cannot use javascript so i will have to replace links with buttons. but how will i handle the object post. </p>\n"},{"tags":["java","mvc","observer-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12648010,"title":"Understanding MVC using Observer in Java","body":"<p>I study Java MVC from <a href=\"http://www.austintek.com/mvc/\" rel=\"nofollow\">this example</a>.</p>\n\n<p>If the <strong>View</strong> is <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Observer.html\" rel=\"nofollow\">Observer</a> and the <strong>Model</strong> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Observable.html\" rel=\"nofollow\">Observable</a>, why the <code>Observer.update</code> method accepts Observable in the first parameter? If the View worked with the Model (relying on some of its methods), it wouldn't be reusable. Shouldn't be the second parameter the only thing that the View should work with?</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12646825,"title":"Where do I put methods that compute statistics on model data?","body":"<p>In a MVC Rails application, where is the appropriate place to put methods to collect statistical data on models? Suppose I have a Group model and a Member Model. I am asking about two different situations:</p>\n\n<ol>\n<li><p>Where do I put a method that makes calculations about all Groups?  For example, a method that computes the average size of a Group?</p></li>\n<li><p>Where do I put a method that makes calculations about all of the Members of Group.  For example, a method that computes the average age of the Members of a Group?</p></li>\n</ol>\n\n<p>Right now, I am leaning towards making the method in situation 1 a class method for the Group model and the method in situation 2 an instance method for the Group model. I was wondering if these types of calculations should go elsewhere.</p>\n"},{"tags":["python","mvc","wxpython","wxwidgets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12645108,"title":"wxwidgets pubsub -- Detect which object sent message","body":"<p>I am building a GUI with wxPython and attempting to stay true to the MVC by keeping my view in the dark from my model. I am using the pubsub library to send messages from the model which the controller will subscribe to and then update the view as necessary.</p>\n\n<p>I do have a complication however. My model has a list of instances of the same object, and each object will need to send its own health and status status update message. Each object has its own panel in the view as shown below.</p>\n\n<p><img src=\"http://i.stack.imgur.com/dN1Pq.png\" alt=\"dining philosopher status table\"></p>\n\n<p>My controller has a list of the objects:</p>\n\n<pre><code>kierkegaard   = PhilosophersWithMetaData(\"Soren Kierkegaard\", \"thumbnails/kierkegaard.jpg\", forks[0], forks[4])\nlewis         = PhilosophersWithMetaData(\"C.S. Lewis\", \"thumbnails/lewis.jpg\", forks[1], forks[0])\ndostoevsky    = PhilosophersWithMetaData(\"Fyodor Dostoevsky\", \"thumbnails/dostoevsky.jpg\", forks[2], forks[1])\ndescartes     = PhilosophersWithMetaData(\"Rene Descartes\", \"thumbnails/descartes.jpg\", forks[3], forks[2])\nkant          = PhilosophersWithMetaData(\"Immanuel Kant\", \"thumbnails/kant.jpg\", forks[4], forks[3])\n\nphilosopher_list = [kierkegaard, lewis, dostoevsky, descartes, kant]\n</code></pre>\n\n<p>And each Philosopher in the model has:</p>\n\n<pre><code>def changeState(self, new_state):\n    self.state = new_state\n    pub.sendMessage(\"STATE_CHANGED\", self.state)\n</code></pre>\n\n<p>My question is, how do I know which object sent the message so I can update the correct panel? I will need a index or object to reference so I can pass the update onto the view. Is there a \"MVC approved\" way to do this?</p>\n"},{"tags":["ios","mvc","design-patterns","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12643326,"title":"What is the difference between a Model (MVC) in web development compared to iOS development","body":"<p>I come from a Web Development background. I am having trouble understanding how a model is to be used in iOS development.</p>\n\n<p>A model in Web Development is a separate file that Controller files access with functions such as <code>getMysqlQueryOf(stuff);</code></p>\n\n<p>Does iOS development use the same thing? Should I be creating a MyModel.h and MyModel.m file and including/importing this in all of my View Controllers and accessing the methods inside the model class like that?</p>\n\n<p>Can you show a simple example of a Model class and how it would be accessed from a View Controller?</p>\n"},{"tags":["sql-server","asp.net-mvc-3","entity-framework","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12642251,"title":"Nicer way to add entry into main db table and link table","body":"<p>Hi all the below solution works in that it creates a record in the MeetingRoomRequest table and also adds the associated amenities to that request into the MeetingRoomRequestAmenityLink table. However it just feels a bit clunky, so I was wondering if there is a nicer solution out there (i.e. not having to create 2 context instances) using MVC 3 and Entity Framework??</p>\n\n<p>Please note i've set up the necessary relationships (one to many) in SQL Server and Entity Framework.</p>\n\n<p>Also please note AmenityList is an array of id's (e.g. [1,2,4])</p>\n\n<pre><code>private readonly IDataRepository&lt;MeetingRoomRequest&gt; _meetingRoomRequestRepository = new DataRepository&lt;MeetingRoomRequest&gt;();\nprivate readonly IDataRepository&lt;MeetingRoomRequestAmenityLink&gt; _meetingRoomRequestAmenityLinkRepository = new DataRepository&lt;MeetingRoomRequestAmenityLink&gt;();\n\nvar meetingRoomRequestToAdd = new MeetingRoomRequest\n{\n    User = meetingRoomRequestViewModel.User,\n    UserEmail = meetingRoomRequestViewModel.UserEmail,\n    Title = meetingRoomRequestViewModel.Title,\n    Comments = meetingRoomRequestViewModel.Comments,\n    StartDateTime = meetingRoomRequestViewModel.StartTime,\n    EndDateTime = meetingRoomRequestViewModel.EndTime,\n    RequestStatusID = (int)Enums.RequestStatus.New,\n    AttendeeCount = meetingRoomRequestViewModel.AttendeeCount,\n    AttendeeType = meetingRoomRequestViewModel.AttendeeType,\n    OfficeID = meetingRoomRequestViewModel.OfficeId,\n    LocationID = meetingRoomRequestViewModel.LocationId, \n};\n_meetingRoomRequestRepository.Add(meetingRoomRequestToAdd);\n_meetingRoomRequestRepository.SaveChanges();\nvar meetingRoomRequestAdded = meetingRoomRequestToAdd;\n\nforeach (var item in meetingRoomRequestViewModel.AmenityList)\n{\n    var meetingRoomRequestAmenityLinkToAdd = new MeetingRoomRequestAmenityLink\n    {\n        AmenityID = item,\n        MeetingRoomRequestID = meetingRoomRequestAdded.MeetingRoomRequestID\n    };\n    _meetingRoomRequestAmenityLinkRepository.Add(meetingRoomRequestAmenityLinkToAdd);\n    _meetingRoomRequestAmenityLinkRepository.SaveChanges();\n}\n</code></pre>\n"},{"tags":["mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12627170,"title":"Understanding how to structure simple Backbone.js app","body":"<p>I'm just getting my head around Backbone.js and MVC in general. I've built the requisite Todo app and have a decent understanding of models, views, collections, routers, but I'm a little confused where to go from here.</p>\n\n<p>What I'm trying to do now is build a simple model browser with multiple ways to view them. In practice, I would like it to operate almost exactly how Windows or Mac handles file folders, i.e. there is a dropdown menu which allows you to select different ways to view files (the models). Depending on which you select the models are represented as thumbnails, list, or detailed list.</p>\n\n<p>Here is my best idea on how to structure this:</p>\n\n<ul>\n<li>Dropdown menu: view -> model with different view types as options.</li>\n<li>The files: model containing name, date, thumbnail, etc. </li>\n<li>Different views types: each would be a collection of views\nreferencing the models.</li>\n</ul>\n\n<p>My main question is what's the best way to handle the change in the dropdown menu. Do I have each collection of views listen for a change in the dropdown and then hide() or show() based on that? Or do a create a sort of global view that listens for changes in the dropdown view and then calls render() on the chosen collection view? I'd like to do this the right way so that it will scale when I make something more complicated... Any help would be greatly appreciated!</p>\n"},{"tags":["php","oop","mvc","codeigniter","hmvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12642194,"title":"Drivers vs Controllers (MVC)","body":"<p>I am working with Codeignitor 2.x and I was originally using controllers as modules (though not completely HMVC), in that I had a Top Level controller that would call other lower level controllers.  My thinking was that because these lower level controllers were still interacting with the view, that they should remain controllers rather than models or drivers.</p>\n\n<p>What I found, however, is that each instance of a controller also spawns a new instance of CI.  So I would have 3 or 4 instances of CI running for each request.  Ton of overhead, and also caused session issues.</p>\n\n<p>I have since moved these lower level controllers into the library as drivers.  They now capture the CI instance in the construct method, and make modifications to it.  This makes it VERY nice to work with, and doesn't require the HMVC extension.  The drivers are not externally callable either, so it allows me to funnel all requests through specific entry points.</p>\n\n<p><strong>My question is whether this is structurally correct.</strong>  I have always held the notion that drivers should only modify the data they are provided through their method calls, but many of these drivers will pull information directly from GET and POST, and while they will not directly append to the View, they are often accessing view files, and passing the processed view to the CI instance for output.</p>\n\n<p>[EDIT] <em>A little more context:</em>\nOne of the drivers I have created is essentially a user login driver called 'Access'.  It makes calls to the 'User' model for create/login/logout methods.  The driver uses the POST data to check the User model, then loads the correct view with errors and whatever is needed.  The idea, being, with 2 lines, I can include this driver in any controller throughout the project, so there is a significant decrease in code redundancy.  Again, I know that the drivers should be confined to their scope, however the driver does not modify anything outside it's scope, but simply returns the view it has created.</p>\n\n<p>Is there another method to for doing this that is more inline with straight MVC?</p>\n"},{"tags":["javascript","mvc","jqgrid","row"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12299041,"title":"mvc jqgrid without asp - javascript-worked- creating row using tab key","body":"<p>now i can create new row using tab key and can do sorting in columns\nmy script for creating new row\nIn the last editable column of your colModel, write these dataEvents.</p>\n\n<pre><code>dataEvents: [\n{\n    type: 'keydown',\n    fn: function (e) {\n        var key = e.charCode || e.keyCode;\n        if (key == 9)//tab\n        {\n            // var grid = $('#rowed5');\n            grid.jqGrid('saveRow', selIRow, false, 'afterSaveCell');\n            // grid.jqGrid('editCell', selIRow, false, 'clientArray');\n            var a = grid.getDataIDs().length;\n            var b = a + 1;\n            // var ip = 1;\n            if (a == grid.getDataIDs().length) {\n                grid.addRowData(b, { \"id\": b, \"desc\": \"your description\", \"stock\": \"0.0\", \"unitp\": \"0.0\", \"linet\": \"0\" });\n                setTimeout(\"jQuery('#rowed5').editCell(\" + a + \" + 1,2, true);\", 100);\n                grid.jqGrid('editCell', selIRow, false, 'clientArray');\n                grid.jqGrid('editRow', b, false, 'clientArray');\n                grid.jqGrid('saveRow', b, false, 'afterSaveCell');\n            }\n        }\n    }\n}\n]\n</code></pre>\n\n<p>also make sure you got </p>\n\n<pre><code>editurl: 'clientArray',\ncellEdit: true,\n</code></pre>\n\n<p>in your program.</p>\n\n<p>editCell is used to set focus on the first editable cell of jqgrid.</p>\n\n<p>when i got, just thought of sharing here...</p>\n"},{"tags":["asp.net","mvc","asp.net-mvc-3","iis7"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2746,"score":5,"question_id":6123731,"title":"Random Session Timeout in ASP.NET MVC3","body":"<p>i have an application which gets random session timeouts. (IIS 7.5 on Windows 2008 R2, .NET 4.0)</p>\n\n<p>i tried the following:</p>\n\n<ul>\n<li>checked the application log if the w3wp.exe process was crashed, but there is no entry.</li>\n<li>disabled in the application pool the rapid fail protection</li>\n<li>moved to the sql server state provider to be sure the loadbalancers sticky session is not \nthe problem. (we use a kemp loadmaster).</li>\n<li>ensured that no other applications use the same application pool.</li>\n<li>checked that exceptions in a thread of a called assembly is correctly handled. (simulated using throw new exception) and the error handling was correct.</li>\n<li>ensured that the validationKey and decryptionKey is set in the webconfig on all 4 webservers to the same key.</li>\n</ul>\n\n<p>i run now out of ideas how to spot this evil bug. any suggestions? i cannot reproduce the problem on my local machine in the debugger. </p>\n\n<p>one point which is maybe important, the move from page 1 to page 2 where the session loss often happens, takes sometimes more than 120 seconds, because of a third party system which is connected via tcp socket.</p>\n"},{"tags":["mvc","spring","form-validation","portlet"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":910,"score":0,"question_id":6140659,"title":"Spring portlet mvc Validation fails during submission of the editted form","body":"<p>Hi\nI have a form with few validations on it.\nDuring new form submission, if validation fails I can see those error messages.\nbut, during editing the form when I change the field to blank intentionally and submit the form error messages are not shown on Jsp page but I can get the errorcount in controller as 1 .</p>\n\n<pre><code>&lt;portlet:actionURL var=\"actionUrl\"&gt;\n    &lt;portlet:param name=\"action\" value=\"editCommunity\"/&gt;\n    &lt;portlet:param name=\"communityID\" value=\"${community.id}\"/&gt;\n&lt;/portlet:actionURL&gt;\n\n&lt;liferay-ui:tabs names=\"Details\" /&gt;\n\n&lt;form:form commandName=\"community\" method=\"post\" action=\"${actionUrl}\"&gt;\n    &lt;form:hidden path=\"id\"/&gt;\n\n    &lt;div&gt;&lt;form:errors cssClass=\"portlet-msg-error\" path=\"*\"/&gt;&lt;/div&gt;\n\n    &lt;table class=\"manager-detail\"&gt;\n        &lt;tr&gt;\n            &lt;th class=\"portlet-form-field-label\"&gt;\n                &lt;label for=\"community_label_name\"&gt;&lt;spring:message code=\"community.label.name\"/&gt;&lt;/label&gt;         \n                &lt;span class=\"manager-field-required\"&gt;*&lt;/span&gt;\n            &lt;/th&gt;\n            &lt;td&gt;&lt;form:input id=\"community_label_name\" cssClass=\"portlet-form-input-field\" path=\"name\" size=\"30\" maxlength=\"80\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>My edit controller method.....</p>\n\n<p>rendering edit form\n    @RequestMapping(params = \"action=editCommunity\")\n    public String showEditCommunityForm(final RenderRequest request,\n            @RequestParam(value=\"communityID\") Long id, final Model model)\n            throws CommunityNotFoundException {\n        final ThemeDisplay themeDisplay = (ThemeDisplay) request\n                .getAttribute(WebKeys.THEME_DISPLAY);</p>\n\n<pre><code>    model.addAttribute(\"community\", communityService.getCommunity(id));\n\n\n    return \"communityEdit\";\n}\n</code></pre>\n\n<p>edited form is submitted</p>\n\n<pre><code>@RequestMapping(params = \"action=editCommunity\")\npublic void submitEditCommunityForm(final ActionRequest request,\n        final ActionResponse response,\n        @ModelAttribute(\"community\") Community community,\n        BindingResult result, Model model) throws SystemException, PortalException {\n\n    communityValidator.validate(community, result);\n    if (result.hasErrors()) {\n        System.out.println(\"validation errors size...\"+result.getErrorCount());\n        //model.addAttribute(\"community\", community);\n        response.setRenderParameter(\"action\", \"editCommunity\");\n        response.setRenderParameter(\"communityID\", String.valueOf(community\n                .getId()));\n\n    }\n</code></pre>\n\n<p>}\nIt is not full code but a block</p>\n\n<p>I have tried couple of things like,\nchanging the http method from post to POST, but nothing works. Validation perfectly works during form creation, but not during edit.</p>\n\n<p>Am I missing anything? please give me suggestions.</p>\n\n<p>Cheers\nVamshi</p>\n"},{"tags":["forms","mvc","mobile","login","sencha-touch-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12635199,"title":"Can't login to a web application through sencha app on clicking 'Sign in' button","body":"This is my view\n\n<pre><code>Ext.define(\"TimeSheet.view.Tracktime\", {\nextend: \"Ext.form.Panel\",\nrequires: [\"Ext.form.FieldSet\", \"Ext.field.Text\", \"Ext.Button\",\"Ext.Label\", \"Ext.field.Email\", \"Ext.field.Password\",\"Ext.MessageBox\", \"Ext.Img\"],\nalias: \"widget.tracktimeview\",\n\nconfig:{\n    id: 'entrypage',\n    fullscreen: true,\n    url: 'timesheet.ajatus.in/check.php',\n    //standardSubmit: false,\n    method: 'GET',\n    layout: {\n        centered: true,\n    },\n    defaults: {\n        styleHtmlContent: true,\n        //cls: 'backfield'\n    },\n\n    cls: 'panelBackground',\n    items: [{\n        xtype: 'fieldset',\n        id: 'loginfield',\n        autoComplete: true,\n        scrollable: false,\n        cls: 'formfield',\n        items: [{\n                xtype: 'image',\n                src: 'tracktime.png',\n                height: '60px',\n                cls: 'track'\n\n            },\n            {\n                xtype: 'textfield',\n                name : 'name',\n                label: 'tracktime/'\n\n            },\n            {\n                xtype: 'textfield',\n                name : 'uname',\n                allowBlank:false, \n                placeHolder: \"User name\"\n            },\n            {\n                xtype: 'passwordfield',\n                name : 'password',\n                allowBlank:false, \n                placeHolder: 'Password'\n            }\n        ]\n    },{\n        xtype: 'button',\n        id: 'loginbtn',\n        cls: 'enter',\n        text: 'Sign in',\n        ui: 'confirm',\n        height: \"50px\",\n\n     }],\n\n\n\n    control: ({\n\n        '#loginbtn': {\n            tap: function() {\n\n            }\n        }\n    }),\n},});\n</code></pre>\n\n<p><strong>THIS IS CONTROLLER</strong></p>\n\n<pre><code>Ext.define(\"TimeSheet.controller.Track\", {\nextend: \"Ext.app.Controller\",\n\nconfig: {\n    refs: {\n        trackTimeView: \"tracktimeview\",\n        selector: '#tracktimeview',\n\n        addentryView: \"addentryview\",\n        selector: '#addentryview',\n\n        entryPage: '#entrypage',\n\n        loginBtn: '#loginbtn'\n\n    },\n    control:{\n        loginBtn: {\n            tap: \"onLoginBtn\"\n        },\n\n        onloginbtn: {\n            tap: function(btn) {\n                var form = Ext.getCmp('entry');\n                //var values = entry.getValues();\n                entry.submit({\n                    method:'POST',\n                    url: 'xxxxxxxx/check.php',\n                    params: values,\n\n                    success: function(response){\n                      var text = response.responseText;\n                      Ext.Msg.alert('Success', text);\n                 },\n\n                    failure : function(response) {\n                       Ext.Msg.alert('Error','Error while submitting the form');\n                       console.log(response.responseText);\n                 }\n                });\n            }\n        },\n\n\n    }\n},\n\n\nonLoginBtn: function() {\n    console.log(\"onLoginBtn\");\n    var values = TimeSheet.views.tracktimeview.entrypage.getValues();\n    TryLogin(values['uname'], values['password']);\n},\n\nlaunch: function () {\n    this.callParent(arguments);\n    console.log(\"launch\");\n},\ninit: function () {\n    this.callParent(arguments);\n    console.log(\"init\");\n}});\n</code></pre>\n"},{"tags":["javascript","ajax","mvc","openlayers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":156,"score":0,"question_id":12625358,"title":"Changing an OpenLayer vector layer from automatic to manual get request","body":"<p>I have a web server that returns a <code>FeatureCollection</code> in JSON. I was getting this using the code below, which works perfectly:</p>\n\n<pre><code>var vectorLayer = new OpenLayers.Layer.Vector('geoJSON', {\n    strategies: [new OpenLayers.Strategy.Fixed()],\n    protocol: new OpenLayers.Protocol.HTTP({\n        url: '&lt;%= Url.Action(\"Vectors\", \"Maps\") %&gt;',\n        format: new OpenLayers.Format.GeoJSON()\n    }),\n    styleMap: new OpenLayers.StyleMap(style)\n});\n</code></pre>\n\n<p>I want to convert this into a manual async get request as part of something else (I'm displaying routes and want to do several requests, one for each route so I can display them as they are calculated, avoiding a large delay).</p>\n\n<p>So, I've changed the above to the code below:</p>\n\n<pre><code>OpenLayers.Request.GET({\n    url: '&lt;%= Url.Action(\"Vectors\", \"Maps\") %&gt;',\n    async: true,\n    success: function(e) {\n        var features = new OpenLayers.Format.GeoJSON().read(e.responseText);\n        vectorLayer.addFeatures(features);\n    }\n});\n</code></pre>\n\n<p>However, when I run this although the callback is called, the <code>e.responseText</code> looks ok and the features variable seems to contain the correct objects and they do get added to the <code>vectorLayer</code>, <strong>they appear in the wrong place; Right next to the origin</strong>. On OSM's max zoom they are barely apart from each other, when they should be scattered around the UK.</p>\n\n<p>Any idea why since the change to a manual GET they are appearing in the wrong places?</p>\n\n<hr>\n\n<p>See below for my current code listing:</p>\n\n<pre><code>var map, layer;\nmap = new OpenLayers.Map(element.id);\nbaseLayer = new OpenLayers.Layer.OSM('Simple OSM Map');\n\n\nvar context = {\n    getColor: function(feature) {\n        return feature.attributes['Colour'];\n    },\n    getImageURL: function(feature) {\n        return feature.attributes['ImageURL'];\n    },\n    getLabel: function(feature) {\n        return feature.attributes['Label'];\n    }\n};\n\nvar template = {\n    externalGraphic: '${getImageURL}',\n    pointRadius: 5,\n    strokeWidth: 3,\n    strokeColor: \"${getColor}\"\n};\n\n\n\nvar style = new OpenLayers.Style(template, { context: context });\n\n/*var vectorLayer = new OpenLayers.Layer.Vector('geoJSON', {\nstrategies: [new OpenLayers.Strategy.Fixed()],\nprotocol: new OpenLayers.Protocol.HTTP({\nurl: '&lt;%= Url.Action(\"Vectors\", \"Maps\") %&gt;',\nformat: new OpenLayers.Format.GeoJSON()\n}),\nstyleMap: new OpenLayers.StyleMap(style)\n});*/\n\nvar vectorLayer = new OpenLayers.Layer.Vector('geoJSON');\nvectorLayer.styleMap = new OpenLayers.StyleMap(style);\n\nOpenLayers.Request.GET({\n    url: '&lt;%= Url.Action(\"Vectors\", \"Maps\") %&gt;',\n    async: true,\n    success: function(e) {\n        var features = new OpenLayers.Format.GeoJSON().read(e.responseText);\n        vectorLayer.addFeatures(features);\n    }\n});\n\nmap.addLayers([baseLayer, vectorLayer]);\nmap.setCenter(\n    new OpenLayers.LonLat(-4, 55).transform(\n        new OpenLayers.Projection(\"EPSG:4326\"),\n        map.getProjectionObject()\n    ), 6\n);\n</code></pre>\n\n<p>An example of the JSON that gets returned (and hasn't changed since it worked):</p>\n\n<pre><code>{ \"features\" : [ { \"geometry\" : { \"coordinates\" : [ -0.72766602400000002,\n                51.273638529999999\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ [ -0.82559629999999995,\n                  51.296390000000002\n                ],\n                [ -0.72766602400000002,\n                  51.273638529999999\n                ],\n                [ -0.82559629999999995,\n                  51.296390000000002\n                ]\n              ],\n            \"type\" : \"LineString\"\n          },\n        \"properties\" : { \"Colour\" : \"#{72:x2}{241:x2}{152:x2}\",\n            \"ImageURL\" : null\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.82559629999999995,\n                51.296390000000002\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/Home.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.41132172900000002,\n                50.821081319999998\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ [ -0.47245280000000001,\n                  50.817610000000002\n                ],\n                [ -0.41132172900000002,\n                  50.821081319999998\n                ],\n                [ -0.47245280000000001,\n                  50.817610000000002\n                ]\n              ],\n            \"type\" : \"LineString\"\n          },\n        \"properties\" : { \"Colour\" : \"#{206:x2}{155:x2}{66:x2}\",\n            \"ImageURL\" : null\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.47245280000000001,\n                50.817610000000002\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/Home.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ 0.074993041999999996,\n                51.270947649999997\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ [ 0.075924359999999996,\n                  51.268300000000004\n                ],\n                [ 0.074993041999999996,\n                  51.270947649999997\n                ],\n                [ 0.075924359999999996,\n                  51.268300000000004\n                ]\n              ],\n            \"type\" : \"LineString\"\n          },\n        \"properties\" : { \"Colour\" : \"#{99:x2}{146:x2}{254:x2}\",\n            \"ImageURL\" : null\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ 0.075924359999999996,\n                51.268300000000004\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/Home.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.24428876999999999,\n                51.583668719999999\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ [ -0.251608,\n                  51.580390000000001\n                ],\n                [ -0.24428876999999999,\n                  51.583668719999999\n                ],\n                [ -0.251608,\n                  51.580390000000001\n                ]\n              ],\n            \"type\" : \"LineString\"\n          },\n        \"properties\" : { \"Colour\" : \"#{188:x2}{122:x2}{221:x2}\",\n            \"ImageURL\" : null\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.251608,\n                51.580390000000001\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/Home.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -1.4948717600000001,\n                53.68926664\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      }\n    ],\n  \"type\" : \"FeatureCollection\"\n}\n</code></pre>\n"},{"tags":["java","mvc","spring","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":197,"score":0,"question_id":5955875,"title":"Can I user ModelAttribute in parent abstract class for controllers","body":"<p>Example:</p>\n\n<pre><code>class CommonController {\n\n    @ModelAttribute(\"refs\")\n    public List getRef() {\n       ...\n    }\n\n    @ModelAttribute(\"refs2\")\n    public List getRef2() {\n       ...\n    }\n}\n</code></pre>\n\n<p><br/></p>\n\n<pre><code>class MyController extends CommonController {\n\n    @RequestMapping(\"/my\")\n    public String request() {\n        return \"/my\";\n    }\n}\n</code></pre>\n\n<p>The ModelAttribute objects will be available on my page?</p>\n"},{"tags":["ios","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":32,"score":-3,"question_id":12635871,"title":"How to: Model-ViewController","body":"<p>I have got a problem with my Model-View-Controller Code. Theoretically I understand the Basics. But my Code only works with one class. With the other not. Here my code: </p>\n\n<p>My AppDelegate.h</p>\n\n<pre><code>#import \"model.h\"\n\n@interface AppDelegate : UIResponder &lt;UIApplicationDelegate, UITabBarControllerDelegate&gt; {\n   model *m;\n}\n</code></pre>\n\n<p>First question. Do I have to add a @property? </p>\n\n<p>My AppDelegate.m</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\nm = [[model alloc] init];\n</code></pre>\n\n<p>I coded a LoginViewController with is my first appearing view. \nMy LoginViewController.h</p>\n\n<pre><code>#import \"model.h\";\n@interface LoginViewController : UIViewController {\nmodel *m; }\n</code></pre>\n\n<p>Now I want to execute in the LoginViewController.m class a method in the model. \nLike</p>\n\n<pre><code>[m saveUserDataToDefaults:dict];\n</code></pre>\n\n<p>XCode autocompletes the methods name, but the method is not executed? \nWhere is my fault? \nDo I think false? </p>\n\n<p>Thanks for your help in advance!\nRaphael</p>\n"},{"tags":[".net","mvc","model","repeater"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":10327916,"title":"MVC .Net create model and related models at same time","body":"<p>I have a model called Company and company can have 1 or more directors. I want to be able to create any number of directors at the same time as creating a company.</p>\n\n<p>I made the Create view of the of the Director a partial view:</p>\n\n<pre><code>@using (Ajax.BeginForm(\"Create\", \n                       \"Director\", \n                       new AjaxOptions { \n                         HttpMethod = \"POST\", \n                         UpdateTargetId = \"partial\", \n                         InsertionMode = InsertionMode.InsertAfter }))\n{\n @Html.EditorFor(model =&gt; model.Title)\n ...\n}\n</code></pre>\n\n<p>On the Create view of the Company I have a button which loads the partial Create view of the Director into a container:</p>\n\n<pre><code>$.get('@(Url.Action(\"Create\", \"Director\"))', function (result) {  \n            $('#partial').append(result);\n        });\n</code></pre>\n\n<p>This allows the input controls of the Director to be dynamically loaded into the Create view of the Company.</p>\n\n<p>My question is how to handle the creation of Directors at the same time as the company? Or do I need to only allow creation of Directors on Edit and not Create?</p>\n"},{"tags":["ajax","mvc","ruby-on-rails-3.1"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12614696,"title":"Rails 3 Ajax Home Controller the displays data from other controllers","body":"<p>I'm trying to build a site that consistes of a 'home' page that contains image galleries, as well as a few other content pages (about, contact).</p>\n\n<p>I've created the relevant controllers models and views to create and view the pages, and create galleries and upload images and they're all working as you'd expect them too. What I want to do is create a front page that has an image slider on it and a thumbnail for each gallery, and when you click the thumbnail it changes the images in the slider using ajax. Is there any way I can use links on the home page to fetch the data from the galleries controller using AJAX or do I need to make my home controller do all the work?</p>\n\n<p>Sorry if this question is hard to understand or is really simple. I have a background in PHP programming so I'm still trying to get my head around the whole MVC approach.</p>\n"},{"tags":["objective-c","ios","cocoa-touch","mvc","model"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":72,"score":0,"question_id":12633948,"title":"How should a Model be implemented in iOS using Objective-C?","body":"<blockquote>\n  <p>EDIT: Although the answers are teaching me things, I still have no\n  idea how I might \"implement\" a model. Can anyone give me an example as\n  to how I would create a simple model class that has a few basic\n  functions that make calls to NSUserDefaults or JSON web calls and how\n  I would access this from ANY of my view controllers?</p>\n</blockquote>\n\n<p>I am just beginning iOS development and have come to the point where my app will require a Model to interact with the overall data flow between controllers, but am unsure as to how they should be implemented properly.</p>\n\n<p>I understand that the View's are in the storyboard, and the Controllers are the classes associated with those views.</p>\n\n<p>What is the proper way to implement a central Model for an app? Do i create a class (ie \"MyModel.h/.m\") and then import it from all of my view controllers?</p>\n\n<p>I also see people using a UINavigationController->RootViewController as their model, is this viable?</p>\n\n<p>I have googled this question and searched stack overflow for a few hours, but am now resorting to a new question.</p>\n\n<blockquote>\n  <p>EDIT: Although the answers are teaching me things, I still have no\n  idea how I might \"implement\" a model. Can anyone give me an example as\n  to how I would create a simple model class that has a few basic\n  functions that make calls to NSUserDefaults or JSON web calls and how\n  I would access this from ANY of my view controllers?</p>\n</blockquote>\n"},{"tags":["mvc","sencha-touch-2","timepicker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12600447,"title":"xtype: timepicker in sencha touch 2. Same as xtype: datepicker","body":"<p>In Sencha touch 2 MVC how to insert time picker in 24 hr format??\n. I want it in a form but unable to implement.\n`var entryForm = Ext.define(\"TimeSheet.view.Newentry\", {\n    extend: \"Ext.TabPanel\",\n    requires: [\"Ext.XTemplate\", \"Ext.field.DatePicker\", \"Ext.field.Select\", \"Ext.TitleBar\", \"Ext.DateExtras\"],\n    xtype:'newentryview',</p>\n\n<pre><code>config: {\n    //id: 'newEntry',\n    autodestroy: true,\n    fullscreen: true,\n    scrollable: true,\n    cardSwitchAnimation: 'cube',\n    tabBar: {\n        docked: 'top',\n        layout: {\n            pack: 'center'\n        }\n    },\n    defaults: {\n        styleHtmlContent: true\n    },\n    items: [{\n        xtype: 'formpanel',\n        name: 'entryForm',\n        //id: 'entry',          \n        style: 'border: none; font: 22px Arial black',\n        title: 'Add Entry',\n        fullscreen: true,\n        iconMask: true,\n        iconCls: 'info',\n        items: [{\n            xtype: 'fieldset',\n            name: 'fieldSet',\n            autoComplete: true,\n            scrollable: false,\n            cls: 'add',\n            items: [{\n                xtype: 'textfield',\n                name: 'client',\n                placeHolder: 'Client name'\n            },{\n                xtype: 'selectfield',\n                name: 'project',\n                    placeHolder: 'Project',\n                    options: [\n                        {text: 'First Option',  value: 'first'},\n                        {text: 'Second Option', value: 'second'},\n                        {text: 'Third Option',  value: 'third'}\n                    ]\n            },{\n                xtype: 'textfield',\n                name: 'task',\n                placeHolder: 'Task'\n            },{\n                xtype: 'datepickerfield',\n                name: 'date',\n                value: new Date()\n            },{\n                xtype: 'datepickerfield',\n                name: 'time',\n                value: new Date(),\n                //HERE I WANT THE TIME PICKER FIELD IN 24 HR FORMAT..\n            },{\n                xtype: 'textareafield',\n                name: 'notes',\n                ui: 'textarea',\n                maxRows: 5,\n                maxWidth: '100%',\n                placeHolder: 'Add notes here...'\n            },{\n                xtype: 'panel',\n                name: 'btnpanel',\n                height: '51px',\n                width: '100%',\n                layout: {\n                    type: 'hbox'\n                },\n                items: [{\n                    xtype: 'button',\n                    cls: 'btnreset',\n                    text: 'Reset',\n                    style: 'font-size: 14px',\n                    //ui: 'confirm',\n                    height: \"35px\",\n                    width: '40%',\n                    event: 'tap',\n                    handler: function() {\n                        console.log(\"reset\");\n\n                    }\n                },{\n                    xtype: 'spacer'\n                },{\n                    xtype: 'button',\n                    //id: 'submit',\n                    cls: 'btnsubmit',\n                    text: 'Submit',\n                    style: 'font-size: 14px',\n                    //ui: 'confirm',\n                    height: \"35px\",\n                    width: '40%',\n                    //go3: 'submitview' \n                    event: 'tap',\n                    handler: function() {\n                        console.log(\"Submitted\");\n                    }\n                }]\n            }]\n        }]\n\n    },{\n        xtype: 'panel',\n        style: 'border: none; font: 22px Arial black',\n        title: 'Panel 2',\n        fullscreen: true,\n        html: 'Page 2',\n    }]\n}\n</code></pre>\n\n<p>});`</p>\n"},{"tags":["php","mvc","design-patterns","architecture","structure"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":139,"score":1,"question_id":1130348,"title":"Ideas for Implementing multiple views for the same data","body":"<p>I am using CodeIgniter, but the question applies to any MVC framework. I have a custom CMS which allows for the management of 5 different websites. Users log in and switch between these sites. They can add content to each of the areas of the sites. The CMS and data that can be entered is the same for each site. </p>\n\n<p>The public facing sites all look completely different and represent different brands even though they contain the same data as all the others. </p>\n\n<p>So how would you go about implementing these views? Are there any design patterns I should be looking at? </p>\n\n<p>The only way I can think of doing this right now is to put a switch statement inside of each controller > action to grab a different view for each website but there must be a much more clever way of doing this. I want to get get around producing loads of code that looks like this:</p>\n\n<pre><code>class Home extends Controller {\n\n    public function getPage()\n    {\n        $website = $this-&gt;session-&gt;userdata( \"site_id\" );\n        switch( $website )\n        {\n            case \"1\":\n                // load view one\n            break;\n            case \"2\":\n                // load view 2\n            break;\n            // etc etc\n        }\n    }\n}\n</code></pre>\n"},{"tags":["php","database","mvc","patterns"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":120,"score":2,"question_id":12269787,"title":"Data Mapper vs Data access object. Difference. Which one is the better one?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3198419/orm-dao-datamapper-activerecord-tablegateway-differences\">ORM/DAO/DataMapper/ActiveRecord/TableGateway differences?</a>  </p>\n</blockquote>\n\n\n\n<p>Can someone help me to understand difference between data mapper and data access object patterns? I already know about data mapper pattern from zandstra's book. But when i searched for data access object, i found out that there are very similar, or even the same patterns. Also i want to know which one i should use when writing my own framework(i'm trying to implement my own mvc php framework just to learn how modern frameworks work).</p>\n"},{"tags":["flash","flex","mvc","command","robotlegs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":12622323,"title":"RobotLegs Domain logic - where to place it","body":"<p>In <a href=\"http://www.robotlegs.org/\" rel=\"nofollow\">Robotlegs</a> does the domain logic needs to be in the Commands(controller) or the Models?</p>\n\n<p>Example: \nlets say i'm building a \"<a href=\"http://en.wikipedia.org/wiki/Tic-tac-toe\" rel=\"nofollow\">Tic Tac Toe</a>\" game.\ni have:\nGameMadiatore,CellSelectedCommand,BoardModel.</p>\n\n<p>After the user clicks on a cell the \"GameMadiatore\" fires an event that initiates  \"CellSelectedCommand\".\nDoes the \"find 3 in row\" win logic needs to be in the \"BoardModel\" or \"CellSelectedCommand\" or some other command?</p>\n"},{"tags":["c#","wcf","mvc","structuremap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":640,"score":0,"question_id":9623103,"title":"Generic ServiceFactory<T> for WCF Channel Factory and StructureMap with MVC 3","body":"<p>So this will be an interesting post because I must include all my code and will attempt to explain clearly how I have setup my architecture. </p>\n\n<p>I have placed all my Service and DataContracts in a central assembly (DMT.WCF.Contracts). This is done so that the distributed pieces of my application can all reference the same type of service interfaces and contracts which is very nice. </p>\n\n<p>I have setup a StructureMap container to inject my dependencies in the following manner, by specifying a ServiceContext, which will house all of the Service Interface properties so that they can be referenced int he application later.</p>\n\n<pre><code>public interface IServiceContext\n{\n\n}\n\npublic class ServiceContext: IServiceContext\n{\n    public IAuthenticationService AuthenticationService { get; set; }\n    public ServiceContext(IAuthenticationService authenticationService)\n    {\n         AuthenticationService = authenticationService;\n    }\n}\n</code></pre>\n\n<p>Then, I have my StructureMapControllerFactory which looks like the following:</p>\n\n<pre><code>public class StructureMapControllerFactory:DefaultControllerFactory\n{\n    protected override IController GetControllerInstance(RequestContext requestContext, Type controllerType)\n    {\n        if (controllerType == null) return null;\n        return ObjectFactory.GetInstance(controllerType) as IController;\n    }\n}\n</code></pre>\n\n<p>and this is configured in my global.asax like the following:</p>\n\n<pre><code>protected void Application_Start()\n    {\n        ControllerBuilder.Current.SetControllerFactory(new StructureMapControllerFactory());\n        AreaRegistration.RegisterAllAreas();\n        RegisterGlobalFilters(GlobalFilters.Filters);\n        RegisterRoutes(RouteTable.Routes);\n\n        Configure();\n\n    }\n</code></pre>\n\n<p>I wanted to decouple my services as much as possible from my appliction, so I have implemented the following ServiceFactory class that handles providing proxies to StructureMap when the IoC container is configured:</p>\n\n<pre><code>public  static class ServiceFactory\n{\n    private static readonly ClientSection _clientSection = ConfigurationManager.GetSection(\"system.serviceModel/client\") as ClientSection;\n\n    public static T Create&lt;T&gt;()\n    {\n        T context = default(T);\n        foreach(ChannelEndpointElement endpoint in _clientSection.Endpoints)\n        {\n            if(endpoint.Contract == typeof(T).FullName)\n            {\n                IEnumerable&lt;Type&gt; assignables = typeof (Binding).Assembly.GetTypes().Where(p =&gt; typeof(Binding).IsAssignableFrom(p));\n                Type bindingType = assignables.Single(p =&gt; p.Name.ToLower().Equals(endpoint.Binding.ToLower()));\n                context = ChannelFactory&lt;T&gt;.CreateChannel((Binding)Activator.CreateInstance(bindingType, false), new EndpointAddress(endpoint.Address));\n            }\n        }\n        return context;\n    }\n\n}\n</code></pre>\n\n<p>This allows me to pull directly from the config file when creating proxies so I do not need to select \"Add Service Reference\" (as that is technically adding a dependency).</p>\n\n<p>In my global.asax, I can now configure my StructureMap Container like this:</p>\n\n<pre><code>protected void Configure()\n    {\n        ObjectFactory.Configure(x =&gt;\n        {\n            x.Scan(scanner =&gt; scanner.AddAllTypesOf&lt;IController&gt;());\n            x.For&lt;IAuthenticationService&gt;().Use(ServiceFactory.Create&lt;IAuthenticationService&gt;());\n            x.For&lt;IServiceContext&gt;().Use&lt;ServiceContext&gt;();\n\n        });\n    }\n</code></pre>\n\n<p>Although I was initially able to use this in the following manner:</p>\n\n<pre><code>IAuthenticationService service = ServiceContext.AuthenticationService.Authenticat(...);\n</code></pre>\n\n<p>I am now unable to start my application without exceptions being thrown such as the following:</p>\n\n<pre><code>StructureMap configuration failures:\nError:  104\nSource:  Registry:  StructureMap.Configuration.DSL.Registry, StructureMap,  Version=2.6.1.0, Culture=neutral, PublicKeyToken=e60ad81abae3c223\nType Instance '685e2e2a-f271-4163-a6fa-ba074e4082d1' (Object:   DMT.WCF.Contracts.Authentication.IAuthenticationService) cannot be plugged into type   DMT.WCF.Contracts.Authentication.IAuthenticationService, DMT.WCF.Contracts,  Version=1.0.0.0, Culture=neutral, PublicKeyToken=null\n</code></pre>\n\n<p>I am not sure why this is occuring. Like I said, I was initially able to get this up and running, but am not sure what has changed.</p>\n\n<p>I have looked at the many of hundreds of references regarding this error message, but they are all specific to problems that dont seem to match mine, unless I am overlooking my problem.</p>\n\n<p>HELP!!!</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":12630203,"title":"Mvc ActionResult not passing back object on Post request","body":"<p>My resister works perfectly when passing back the form, but one that I built it passes back nothing. I am not sure what I am doing differently than the register page that visual studio provided. It calls the right http post method but the value passed is null. thanks for any help. I just want that model to post back to the controller action result.</p>\n\n<p>Controller</p>\n\n<pre><code>[HttpGet]\n        public ActionResult Support()\n        {\n            ViewBag.Message = \"Your app description page.\";\n\n            return View();\n        }\n          [AllowAnonymous]\n        [HttpPost, ValidateSpamPrevention]\n        public ActionResult Support(QuickEmailModel email)\n        {\n            if (ModelState.IsValid)\n            {\n                 return View(\"thankyou\", email);\n            }\n            return View(email);\n\n        }\n</code></pre>\n\n<p>Model</p>\n\n<pre><code>public class QuickEmailModel\n{\n    [DataType(DataType.EmailAddress)]\n    [EmailAddress]\n    public string Email { get; set; }\n\n    [Required]\n    public string Subject { get; set; }\n\n    [Required]\n    [DataType(DataType.MultilineText)]\n    public string Description { get; set; }\n\n    [Display(Name = \"Company (Optional):\")]\n    public string Company { get; set; }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Top of View</p>\n\n<pre><code>@using PoliteCaptcha\n@model Models.QuickEmailModel\n@{\n    ViewBag.Title = \"Support\";\n}\n</code></pre>\n\n<p>Bottom where the form is</p>\n\n<pre><code> @using (Html.BeginForm())\n                {\n                    @Html.ValidationSummary()\n                    &lt;div class=\"control-group\"&gt;\n                        &lt;label class=\"control-label\"&gt;\n                            @Html.LabelFor(x =&gt; x.Company, \"Company (Optional):\", new { @class = \"control-label\" })&lt;/label&gt;\n                        &lt;div class=\"controls\"&gt;\n                            @Html.TextBoxFor(x =&gt; x.Company, new { @class = \"span4\" })\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control-group\"&gt;\n                        @Html.LabelFor(x =&gt; x.Email, \"Email:\", new { @class = \"control-label\" })\n                        &lt;div class=\"controls\"&gt;\n                            @Html.TextBoxFor(x =&gt; x.Email, new { @Class = \"span4\" })\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control-group\"&gt;\n                        &lt;label class=\"control-label\"&gt;\n                            @Html.LabelFor(x =&gt; x.Subject, \"Subject:\", new { @class = \"control-label\" })&lt;/label&gt;\n                        &lt;div class=\"controls\"&gt;\n                            @Html.TextBoxFor(x =&gt; x.Subject, new { @class = \"span4\" })\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control-group\"&gt;\n                        &lt;label class=\"control-label\"&gt;\n                            @Html.LabelFor(x =&gt; x.Subject, \"Description:\", new { @class = \"control-label\" })&lt;/label&gt;\n                        &lt;div class=\"controls\"&gt;\n                            @Html.TextAreaFor(x =&gt; x.Description, new { @class = \"span4\", @rows = \"6\", id = \"txtDescription\" })\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    @Html.SpamPreventionFields()\n                    &lt;input type=\"submit\" class=\"btn btn-success\" id=\"btnSubmit\" value=\"Submit\" style=\"margin-right: 15em;\n                        float: right;\" /&gt;\n                }\n</code></pre>\n"},{"tags":["c++","mvc","design-patterns"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":2146,"score":5,"question_id":6929957,"title":"MVC approach with C++","body":"<p>I have been learning PHP MVC pattern and it is pretty cool. have almost finished app and I can see how mess you can make a code without good design.\nNow can MCV be applied to C++ apps? Where does Plugin manager/Plugins go if that is even possible?In model or controller?\nThanks! </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I mean C++ with GUI toolkit like QT/Wxwidgets/GTK+\nAlso Please help me on how to implement in C++. I have learned how to do it in PHP but as you know the two languages are somehow different!</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p><a href=\"http://forums.wxwidgets.org/viewtopic.php?f=1&amp;t=30983\" rel=\"nofollow\">http://forums.wxwidgets.org/viewtopic.php?f=1&amp;t=30983</a></p>\n"},{"tags":[".net","mvc","route","constraints","actionfilterattribute"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":257,"score":2,"question_id":5084603,"title":"Use a IRouteConstraint or ActionFilterAttribute when validating session data against route data","body":"<p>I've been implementing a RouteConstraint recently whos responsibility is to Match a custom route value against some model data that is in the session.</p>\n\n<p>What I've found is that the session is null for the routeDirection of IncomingRequest.</p>\n\n<ol>\n<li>Is the session not configured until\nthe controller is\ncreated/initialized?</li>\n<li>If this is the case, is this type of\nfunction better suited to a filter\napplied at the controller level?</li>\n<li>Are there any other viable options?</li>\n</ol>\n\n<p>The shame of it is that this validation does need to be applied on every route except for when the session is configured on first entry, so I thought a route constraint would be the best solution.</p>\n\n<p>Thanks.</p>\n"},{"tags":["jquery","asp.net-mvc","mvc","jqgrid","jqgrid-asp.net"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12601908,"title":"Several nested sub grids in jqgrid","body":"<p>I'm trying to put a subgrid when each row have child rows.</p>\n\n<p>This is my view:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jK5lr.png\" alt=\"enter image description here\"></p>\n\n<p>For example, if i press the + in COMERCIOS, some grid is opened and show two child rows..</p>\n\n<p>I want to set a plus + when the row has one child or more.</p>\n\n<p>I tried to use jqgrd Grid as Subgrid but it is not what i want.</p>\n\n<p>Is it possible to do that?</p>\n"},{"tags":["ruby-on-rails","ajax","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12567923,"title":"Need advice on Rails app site planning: Get JSON from other site and pass it for JS Ajax","body":"<p>I am new in web app development. Recently I've create an app:\n<a href=\"http://konganize.herokuapp.com\" rel=\"nofollow\">http://konganize.herokuapp.com</a></p>\n\n<p>The badges (the icons in body) are collected from another site via <code>jQuery.ajax()</code>.</p>\n\n<p>For mash-up, searching/sorting &amp; user login, I'm going to collect data in server side (Rails).</p>\n\n<p>My plan is like-this: <a href=\"https://docs.google.com/presentation/d/1roDeiHrMDiw8Z9WWsg1GBdjsE60eEAbYcFOxZmp2jpw/edit\" rel=\"nofollow\">Google Document</a></p>\n\n<p>Is it a good approach to collect JSON/XML/API data? Or say, should I use a separate Controller to do it? (Or use rake-task/helper/etc?)</p>\n\n<p>Many thanks for advice and explanation.</p>\n"},{"tags":["objective-c","ios","mvc","view"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12625510,"title":"IOS View changing","body":"<p>I am creating a tutorial inside my iphone app.  I am wondering, do I need to create a new .h .m and .xib file for every view? Or can I hook up multiple .xib files to the same .h file , than use the .m file to switch between the views?</p>\n\n<p>Example</p>\n\n<p>I have a Table View being displayed with multiple options. The user selects an option and that tutorial begins in a different view. Can I use that new views .h .m files to control multiple .xib files, or does each view need their own view controller.</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","mvc","backbone.js","client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":161,"score":0,"question_id":12125923,"title":"Backbone LayoutManager Rendering Collection View's models in batches","body":"<p>For one part of my backbone application, certain json responses can return up to 4000 images.  Obviously, I don't want to render ALL those into the DOM.</p>\n\n<p>I'm using backbone.layoutmanager, but I'm struggling with a way to render a collection's views in batches of say 50 - 100, and the then render the rest as the user scrolls.  Is there way to do this without having to override layoutmanager's implementation of <code>render</code>?</p>\n"},{"tags":["javascript","jquery","html","mvc","templates"],"answer_count":5,"favorite_count":3,"up_vote_count":8,"down_vote_count":2,"view_count":116,"score":6,"question_id":12624563,"title":"How do i separate JavaScript View/Logic code properly","body":"<p>I receive JSON objects from a websocket with update/create/delete flags. Based on this information, I either update, create or delete HTML elements and bind callbacks. This can affect multiple HTML elements.</p>\n\n<p>My current approach was to put everything into specific objects which handle HTML generation via jquery e.g.: </p>\n\n<pre><code>$.(\"&lt;table&gt;\").addChild($(\"&lt;tr&gt;\")).addClass('test')\n</code></pre>\n\n<p>and bind event listeners. But with the addition of more and more code it got really messy and now im looking for a proper way to seperate the code.</p>\n\n<p>Are there any ideas on how to do this properly? Frameworks? Maybe jQuery Templates (which still leaves me in the dark on how add callbacks cleanly)?</p>\n"},{"tags":["mvc","service","model","timer","robotlegs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12622477,"title":"Robot legs- timer is service or model?","body":"<p>in <a href=\"http://www.robotlegs.org/\" rel=\"nofollow\">robotlegs</a> can a Timer be inside a model or should it be encpsulated in a service.</p>\n\n<p>Example:\nlets say i'm implementing a digital clock in robot legs.\nShould the Timer that updates the clock be a part of the ClockModel, \nor should it be in a TimerService the creates a command which updates the ClockModel?</p>\n"},{"tags":["php","mvc","orm","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12623393,"title":"Where to put sql queries in Yii (or any MVC framework with ORM support)?","body":"<p>This is a more of a coding style question for projects using MVC architecture.</p>\n\n<p>I'm working on a project using Yii framework. Each database table has it's own model class and lets me take advantage of Yii's Active Record stuff. Cool.</p>\n\n<p>But now I need to do an SQL query with a complex logic and a lot of tables being joined. \nThe best and quickest way to do this is to write a raw SQL and put it in some<code>getSomeComplexLogicData</code> method.</p>\n\n<p>The question is, where do I put this method? Is it a good practice to leave it in a controller where I'm calling it (it's highly unlikely that it will be re-used anywhere else), or should I put it in some Model class that it best corresponds with?</p>\n"},{"tags":["asp.net-mvc","mvc","view","model"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12622946,"title":"Best practice rendering model attributes: where check whether they are null or string empty","body":"<p>I have a model with several attributes like name, telephone, email, adress et cetera and sometimes some attributes are empty.</p>\n\n<p>as I understand the best practice of mvc I should NOT put HTML in my model like e.g. </p>\n\n<pre><code>if (string.isNullorEmpty(_username))\n    username = \"&lt;span&gt;\" + _username + &lt;/span&gt;;\nelse\n    username = string.Empty;\n</code></pre>\n\n<p>so I am asking myself, where should i check, if the attributes are empty or not. I think it is also not recommended to do this in the view like:</p>\n\n<pre><code>&lt;% if (Model.username != string.empty) { %&gt;\n    &lt;span&gt;&lt;%: Model.username %&gt;&lt;/span&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>What is the best practice for checking model attributes whether they are empty or not???</p>\n\n<p>thanks for your opinions. I am excited to hear from you!!!</p>\n"},{"tags":["mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":260,"score":0,"question_id":448839,"title":"Does the controller handle all interaction with the model in MVC?","body":"<p>I'm creating a pacman game using the MVC pattern.  According to <a href=\"http://upload.wikimedia.org/wikipedia/commons/2/2e/ModelViewControllerDiagram.svg\" rel=\"nofollow\">this diagram on wikipedia</a> the model and the view interact.</p>\n\n<p><em>\"Note: the solid lines indicate a direct association, and the dashed lines indicate an indirect association\"</em></p>\n\n<p>Now from my understanding, surely everything goes through the controller?  Say for example, player moves or user clicks add to cart, does that not then get handled by the controller and the appropriate data in the model manipulated by the controller?</p>\n\n<p>I can't see why the view would interact directly with the model?</p>\n\n<p>Thanks</p>\n\n<p>Adam</p>\n"},{"tags":["c#","mvc","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12622373,"title":"MVC Textbox not accepting empty for nullable int","body":"<p>Model</p>\n\n<pre><code>public int? SizeLength { get; set; }\n</code></pre>\n\n<p>View</p>\n\n<pre><code>&lt;div class=\"editor-field\"&gt;\n    @Html.TextBoxFor(p =&gt; p.SizeLength, new { @style = \"Width: 75px\" })\n    @Html.ValidationMessageFor(p =&gt; p.SizeLength)\n&lt;/div&gt;\n</code></pre>\n\n<p>Problem: </p>\n\n<p>When i leave the field empty i get \"The field SizeLength must be a number.\". Leaving the field empty should be converted to a null value in the returned model. Why do i get this message while my field type is a nullable int?</p>\n"},{"tags":["java","mvc","google-app-engine","frameworks"],"answer_count":6,"favorite_count":10,"up_vote_count":20,"down_vote_count":0,"view_count":9577,"score":20,"question_id":862003,"title":"MVC in a Google App Engine Java world","body":"<p>I'm coming to Java from C# &amp; ASP.NET MVC, I'd love to find an equivalent in the Java world that I could use on the Google App Engine. I've already started to have a play with <a href=\"http://thatismatt.blogspot.com/2009/05/mvc-in-java-world.html\" rel=\"nofollow\">FreeMarker</a> and even made the first steps towards writing a very simple framework. Ideally I wouldn't have to do all the hard work though, someone must have done this already! So my question is - what frameworks are there out there that would be familiar for me coming from ASP.NET MVC and I could use them on Google App Engine for Java.</p>\n\n<p>The key things I'd want are:</p>\n\n<ul>\n<li><strong>Simple Routing</strong> - <code>/products/view/1</code> gets mapped to the view action of the products controller with the productid of 1</li>\n<li><strong>Template Engine</strong> - some way of easily passing 'ViewData' to the view, and from the view easily accessing it, ideally I'd love to avoid anything that is too XMLy (thus why I like <a href=\"http://freemarker.org/\" rel=\"nofollow\">FreeMarker</a>).</li>\n</ul>\n"},{"tags":["java","mvc","javafx","fxml","scenebuilder"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":12619075,"title":"JavaFX showing view make in scene builder with controller","body":"<p>I have this controller:</p>\n\n<pre><code>package cz.vutbr.feec.bmds.cv2;\n\nimport java.awt.Button;\nimport java.awt.TextField;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Slider;\n\npublic class TestGuiController {\n\n    private int buttonPressed = 0;\n    @FXML\n    private Button tlacitko;\n    @FXML\n    private TextField textovePole;\n    @FXML\n    private Slider slider;\n\n    public void buttonPressed(ActionEvent e) {\n        buttonPressed++;\n        textovePole.setText(Integer.toString(buttonPressed));\n    }\n}\n</code></pre>\n\n<p>this fxml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n\n    &lt;AnchorPane prefHeight=\"200.0\" prefWidth=\"200.0\" xmlns:fx=\"http://javafx.com/fxml\" fx:controller=\"cz.vutbr.feec.bmds.cv2.TestGuiController\"&gt;\n      &lt;children&gt;\n        &lt;Button fx:id=\"tlacitko\" layoutX=\"30.0\" layoutY=\"40.0\" mnemonicParsing=\"false\" onTouchPressed=\"#buttonPressed\" text=\"Button\" /&gt;\n        &lt;Slider fx:id=\"slider\" layoutX=\"157.0\" layoutY=\"17.0\" orientation=\"VERTICAL\" /&gt;\n        &lt;TextField fx:id=\"textovePole\" layoutX=\"14.0\" layoutY=\"89.0\" prefWidth=\"134.0\" /&gt;\n      &lt;/children&gt;\n    &lt;/AnchorPane&gt;\n</code></pre>\n\n<p>and this is my main class:</p>\n\n<pre><code>package cz.vutbr.feec.bmds.cv2;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(\"TestGui.fxml\"));\n        primaryStage.setTitle(\"Titulek\");\n        primaryStage.setScene(new Scene(root,300,275));\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>When I run this through ant I get message box with error (exception during running application). I tried simple fxml without controller and it works so I am guesing I do something wrong with controller. What I must change to have it working?</p>\n"},{"tags":["mvc","ember.js"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":12595496,"title":"How can I build a recursive view in Ember?","body":"<p>In my application I have an item called <em>block</em> which can contain and be contained by other <em>block</em> items. To keep things simple, lets say these blocks can be infinitely nested.</p>\n\n<p>I want to know if I can create recursive views corresponding to the blocks that are also nested. Each view will be rendered as a <code>DIV</code> containing its children and residing inside its parent <code>DIV</code>?</p>\n\n<p>While the views are similar in terms of what they can contain, their actual content that will be obtained from the server can be different. Here is an example data:</p>\n\n<pre><code>App.blocks.set('content',[\n    Em.Object.create({title:\"One\", id:\"1\", is_inside:\"0\"}),\n    Em.Object.create({title:\"Two\", id:\"2\", is_inside:\"1\"}),\n    Em.Object.create({title:\"Three\", id:\"3\", is_inside:\"0\"}),\n    Em.Object.create({title:\"Four\", id:\"4\", is_inside:\"3\"}),\n    Em.Object.create({title:\"Five\", id:\"5\", is_inside:\"4\"})\n])\n</code></pre>\n\n<p>In this example, block one would be rendered as root (assume 0 is root which means not inside any other block). Block two would be rendered inside block one and so on.</p>\n\n<p>I noticed a <a href=\"http://stackoverflow.com/questions/9857781/building-a-auto-refreshing-nested-list-in-emberjs\">similar question</a> has been asked a while ago, but I am not satisfied with the answer there. I feel there must be an elegant way to achieve this in Ember.</p>\n\n<p>Can you point me to an example of how this can be done in Ember? If not, any advice that could help me make progress and refine my question would also be very appreciated.</p>\n\n<p>Edit: Here is <a href=\"http://jsfiddle.net/arasbm/nyfk8/4/\" rel=\"nofollow\">a jsFiddle</a> that I made with some initial data that we could use as starting point. With your help hopefully I can make those <code>DIVs</code> nested based on their *is_inside* relation. I have updated the post to use this simpler example.</p>\n"},{"tags":["c#","mvc","web-api"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":5257,"score":2,"question_id":9943502,"title":"URL parameters in MVC 4 Web API","body":"<p>Let say I have two methods in MVC 4 Web API controller:</p>\n\n<pre><code>public IQueryable&lt;A&gt; Get() {}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>public A Get(int id) {}\n</code></pre>\n\n<p>And the following route: </p>\n\n<pre><code>routes.MapHttpRoute(\n    name: \"Default\", \n    routeTemplate: \"{controller}/{id}\",\n    defaults: new { id = RouteParameter.Optional }\n);\n</code></pre>\n\n<p>This works as expected. Adding a one more parameter, e.g.:</p>\n\n<pre><code>public IQueryable&lt;A&gt; Get(int p) {}\n\npublic A Get(int id, int p) {}\n</code></pre>\n\n<p>leads to the situation when MVC returns 404 for the following request:</p>\n\n<pre><code>GET /controller?p=100\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>GET /controller/1?p=100\n</code></pre>\n\n<p>with message \"No action was found on the controller 'controller' that matches the request\"</p>\n\n<p>I expect that URL parameters should be wired by MVC without issues, but it is not true. Is this a bug or my misunderstanding of how MVC maps request to action?</p>\n"},{"tags":["java","swing","mvc","modal-dialog"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":12609652,"title":"MVC Architecture and Modal Dialog Windows","body":"<p>I am developing a project in a MVC architecture. It should be a simple application to manage some customers.</p>\n\n<p>There are MainModel, MainView and MainController classes which make the main window to show the content of the customers tables and to let the user insert, remove or edit customers.</p>\n\n<p>My problem is that the insert and edit buttons should show some dialog windows to let the user insert and edit some text values and I have some doubts.</p>\n\n<p>I would like to ask you some questions:</p>\n\n<ul>\n<li>Should I use the MVC architecture for each dialog window?</li>\n<li><p>If yes, I have tried doing it but my dialog windows are modal, so my code runs the model, runs the view but it gets blocked in the view and it doesn't run the controller class. How could I solve it?</p>\n\n<p>For example here it gets blocked in the \"new InsertCustomerController...\" instruction:</p>\n\n<pre><code>    CustomerModel customerModel = new CustomerModel();\n    InsertCustomerView insertCustomerView = new insertCustomerView(customerModel);\n    new InsertCustomerController(insertCustomerView, customerModel);\n</code></pre></li>\n</ul>\n\n<p>Thank you very much.</p>\n"},{"tags":["java","mvc","gui","swing"],"answer_count":2,"favorite_count":30,"up_vote_count":27,"down_vote_count":0,"view_count":5929,"score":27,"question_id":3066590,"title":"GUI not working after rewriting to MVC","body":"<p>I'm practicing MVC style programming. I have a Mastermind game in a single file, working fine (maybe apart of the fact that \"Check\" button is invisible at start).</p>\n\n<p><a href=\"http://paste.pocoo.org/show/226726/\">http://paste.pocoo.org/show/226726/</a></p>\n\n<p>But when I've rewritten it to model, view, controller files - and when I click on empty Pin (that should be updated, and repainted with new color) - noting happens. Can anybody see any problems here ? I've tried placing repaint() in different places, but it simply does not work at all :/</p>\n\n<p>Main :  </p>\n\n<pre><code>public class Main { \n    public static void main(String[] args){\n        Model model = new Model();\n        View view = new View(\"Mastermind\", 400, 590, model);\n        Controller controller = new Controller(model, view); \n        view.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Model :  </p>\n\n<pre><code>import java.util.Random;\n\npublic class Model{\n    static final int\n    LINE = 5,\n    SCORE = 10, OPTIONS = 20;\n    Pin pins[][] = new Pin[21][LINE];\n    int combination[] = new int[LINE];\n    int curPin = 0;\n    int turn = 1;\n    Random generator = new Random();\n    int repaintPin;\n    boolean pinsRepaint=false;\n    int pinsToRepaint;\n    boolean isUpdate = true, isPlaying = true, isRowFull = false;\n    static final int HIT_X[] = {270,290,310,290,310}, HIT_Y[] = {506,496,496,516,516};\n\n    public Model(){\n\n        for ( int i=0; i &lt; SCORE; i++ ){\n            for ( int j = 0; j &lt; LINE; j++ ){\n                pins[i][j] = new Pin(20,0);\n                pins[i][j].setPosition(j*50+30,510-i*50);\n                pins[i+SCORE][j] = new Pin(8,0);\n                pins[i+SCORE][j].setPosition(HIT_X[j],HIT_Y[j]-i*50);\n            }\n        }\n        for ( int i=0; i &lt; LINE; i++ ){\n            pins[OPTIONS][i] = new Pin( 20, i+2 );\n            pins[OPTIONS][i].setPosition( 370,i * 50 + 56);\n        }\n\n    }\n\n    void fillHole(int color) {\n        pins[turn-1][curPin].setColor(color+1);\n        pinsRepaint = true;\n        pinsToRepaint = turn;\n        curPin = (curPin+1) % LINE;\n        if (curPin == 0){\n            isRowFull = true;\n        }\n        pinsRepaint = false;\n        pinsToRepaint = 0;\n    }\n\n    void check() {\n        int junkPins[] = new int[LINE], junkCode[] = new int[LINE];\n        int pinCount = 0, pico = 0;\n\n        for ( int i = 0; i &lt; LINE; i++ ) {\n            junkPins[i] = pins[turn-1][i].getColor();\n            junkCode[i] = combination[i];\n        }\n        for ( int i = 0; i &lt; LINE; i++ ){\n            if (junkPins[i]==junkCode[i]) {\n                pins[turn+SCORE][pinCount].setColor(1);\n                pinCount++;\n                pico++;\n                junkPins[i] = 98;\n                junkCode[i] = 99;\n            }\n        }\n        for ( int i = 0; i &lt; LINE; i++ ){\n            for ( int j = 0; j &lt; LINE; j++ )\n                if (junkPins[i]==junkCode[j]) {\n                    pins[turn+SCORE][pinCount].setColor(2);\n                    pinCount++;\n                    junkPins[i] = 98;\n                    junkCode[j] = 99;\n                    j = LINE;\n            }\n        }\n        pinsRepaint = true;\n        pinsToRepaint = turn + SCORE;\n        pinsRepaint = false;\n        pinsToRepaint=0;\n\n        if ( pico == LINE ){\n            isPlaying = false;\n        }\n        else if ( turn &gt;= 10 ){\n                isPlaying = false;\n        }\n        else{\n            curPin = 0;\n            isRowFull = false;\n            turn++;\n        }\n    }\n\n    void combination() {\n        for ( int i = 0; i &lt; LINE; i++ ){\n          combination[i] = generator.nextInt(6) + 1;\n        }\n    }\n}\n\nclass Pin{\n    private int color, X, Y, radius;\n\n    public Pin(){\n        X = 0; Y = 0; radius = 0; color = 0;\n    }\n\n    public Pin( int r,int c ){\n        X = 0; Y = 0; radius = r; color = c;\n    }\n\n    public int getX(){\n        return X;\n    }\n\n    public int getY(){\n        return Y;\n    }\n\n    public int getRadius(){\n        return radius;\n    }\n\n    public void setRadius(int r){\n        radius = r;\n    }\n\n    public void setPosition( int x,int y ){\n        this.X = x ;\n        this.Y = y ;\n    }\n    public void setColor( int c ){\n        color = c;\n    }\n    public int getColor() {\n        return color;\n    }\n}\n</code></pre>\n\n<p>View:  </p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class View extends Frame{  \n    Model model;\n    JButton checkAnswer;\n    private JPanel button;\n    private static final Color COLORS[] = {Color.black, Color.white, Color.red, Color.yellow, Color.green, Color.blue, new Color(7, 254, 250)};\n\n    public View(String name, int w, int h, Model m){\n        model = m;\n        setTitle( name );\n        setSize( w,h );\n        setResizable( false );\n        this.setLayout(new BorderLayout());\n\n        button = new JPanel();\n        button.setSize( new Dimension(400, 100));\n        button.setVisible(true);\n        checkAnswer = new JButton(\"Check\");\n        checkAnswer.setSize( new Dimension(200, 30));\n        button.add( checkAnswer );\n        this.add( button, BorderLayout.SOUTH);\n        button.setVisible(true);\n    }\n\n    @Override\n    public void paint( Graphics g ) {\n        g.setColor( new Color(238, 238, 238));\n        g.fillRect( 0,0,400,590);\n\n        for ( int i=0; i &lt; model.pins.length; i++ ) {\n            paintPins(model.pins[i][0],g);\n            paintPins(model.pins[i][1],g);\n            paintPins(model.pins[i][2],g);\n            paintPins(model.pins[i][3],g);\n            paintPins(model.pins[i][4],g);\n        }\n    }\n\n    @Override\n    public void update( Graphics g ) {\n        if ( model.isUpdate ) {\n            paint(g);\n        }\n        else {\n            model.isUpdate = true;\n            paintPins(model.pins[model.repaintPin-1][0],g);\n            paintPins(model.pins[model.repaintPin-1][1],g);\n            paintPins(model.pins[model.repaintPin-1][2],g);\n            paintPins(model.pins[model.repaintPin-1][3],g);\n            paintPins(model.pins[model.repaintPin-1][4],g);\n        }\n    }\n\n    void repaintPins( int pin ) {\n        model.repaintPin = pin;\n        model.isUpdate = false;\n        repaint();\n    }\n\n    public void paintPins(Pin p, Graphics g ){\n        int X = p.getX();\n        int Y = p.getY();\n        int color = p.getColor();\n        int radius = p.getRadius();\n        int x = X-radius;\n        int y = Y-radius;\n\n        if (color &gt; 0){\n            g.setColor( COLORS[color]);\n            g.fillOval( x,y,2*radius,2*radius );\n        }\n        else{\n            g.setColor( new Color(238, 238, 238) );\n            g.drawOval( x,y,2*radius-1,2*radius-1 );\n        }\n        g.setColor( Color.black );\n        g.drawOval( x,y,2*radius,2*radius );\n    }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\npublic class Controller implements MouseListener, ActionListener { \n    private Model model;\n    private View view;\n\n    public Controller(Model m, View v){ \n        model = m;\n        view = v;\n\n        view.addWindowListener( new WindowAdapter(){\n            public void windowClosing(WindowEvent e){\n            System.exit(0);\n        } });\n        view.addMouseListener(this);\n        view.checkAnswer.addActionListener(this);\n        model.combination();\n    }\n\n    public void actionPerformed( ActionEvent e ) {\n        if(e.getSource() == view.checkAnswer){\n            if(model.isRowFull){\n                model.check();\n            }\n        }\n    }\n\n    public void mousePressed(MouseEvent e) {\n        Point mouse = new Point();\n\n        mouse = e.getPoint();\n        if (model.isPlaying){\n            if (mouse.x &gt; 350) {\n                int button = 1 + (int)((mouse.y - 32) / 50);\n                if ((button &gt;= 1) &amp;&amp; (button &lt;= 5)){\n                    model.fillHole(button);\n                    if(model.pinsRepaint){\n                        view.repaintPins( model.pinsToRepaint );\n                    }\n                }\n            }\n        }\n    }\n\n    public void mouseClicked(MouseEvent e) {}\n    public void mouseReleased(MouseEvent e){}\n    public void mouseEntered(MouseEvent e) {}\n    public void mouseExited(MouseEvent e)  {}\n}\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","asp.net-membership","extension-methods"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":12593665,"title":"ASP.NET MVC 3 Controller Extension Method","body":"<p>I am new to mvc 3 and I'm using it with the asp.net membership provider....so I'd like to create an extension method to let me get the logged user GUID from any controller whitin my website</p>\n\n<p>Something like that:</p>\n\n<pre><code>    public static Guid GetLoggedUser(this Controller controller)\n    {\n        return (Guid)Membership.GetUser(controller.User.Identity.Name).ProviderUserKey.ToString();\n    }\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["mvc","joomla","joomla-extensions","joomla-component"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":874,"score":1,"question_id":9711125,"title":"Joomla component : one view calling multiple models?","body":"<p>I want a view to call 2 different models for use.</p>\n\n<p>Controller.php</p>\n\n<pre><code>class StatsController extends JController {\n    function display()\n     {\n        if( !JRequest::getVar( 'view' ) ) {\n            JRequest::setVar('view', 'stats' );\n        }\n        parent::display();\n    }\n    ...\n    ...\n}\n</code></pre>\n\n<p><strong>Stats</strong> view : (index.php?option=com_stats&amp;view=stats)</p>\n\n<pre><code>class StatsViewStats extends JView\n{\n    function display($tpl = null)\n    {\n        $model_helpdesk = &amp; JModel::getInstance('Helpdesk','StatsModel');\n    //$model_chart =  &amp; JModel::getInstance('Chart','StatsModel'); \n    //$model_chart =  &amp;$this-&gt;getModel('Chart');\n    var_dump($model_chart);\n    ...\n    ...\n        parent::display($tpl);\n    }\n}\n</code></pre>\n\n<p>Problem : getting the <strong>Helpdesk model</strong> works fine, but getting the <strong>Chart model</strong> either returns a blanc page , or returns null in <strong>var_dump</strong>. How can i get this second model for use (without modifying the controller) ??</p>\n"},{"tags":["spring","mvc","model","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12602957,"title":"Spring - Specify Implementation class of Model within Controller methods","body":"<p>For the most part I'm trying to code to interfaces as much as possible.  But I'm having problems with a Spring Controller method signature.  If I actually write the signature using the Model's interface, I end up getting the following exception:</p>\n\n<pre><code>BeanInstantiationException: Could not instantiate bean class[PageModel]: Specified class is an interface\n</code></pre>\n\n<p>Granted, I know that it's an interface, and if I change it to the actual implementation class, it works just fine.  But is there no way to code to the interface?  An annotation or something to tell Spring which bean to instantiate?  btw, I'm using annotation configuration.</p>\n\n<pre><code>@RequestMapping(\"SpecificPageController\")\npublic interface PageController {\n\n    @RequestMapping({\"\", \"/load\"})\n    ModelAndView load(@ModelAttribute(\"model\") PageModel model);\n}\n\n@Controller\npublic class SpecificPageController implements PageController {\n\n    @Override\n    public ModelAndView load(final PageModel model) {\n    }\n}\n\npublic interface PageModel {\n    ... getters and setters...\n}\n\npublic class ModelImpl implements PageModel {\n    ... variables, getters, setters...\n}\n</code></pre>\n"},{"tags":["asp.net","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":114,"score":2,"question_id":4077123,"title":"ASP.NET C# Truncate","body":"<p>I have the following content stored inside a database column:</p>\n\n<pre><code>&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\n</code></pre>\n\n<p>It is displayed using the following: <code>&lt;%= m.article %&gt;</code></p>\n\n<p>What I would like to do is strip out the <code>&lt;p&gt;</code> tags and then only show say 40 characters and end it with ... so that I would end up with something like:</p>\n\n<pre><code>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat...\n</code></pre>\n\n<p>I remember reading that using <code>Html.Encode</code> would strip the HTML tags, but not 100% sure about that, and not sure how to combine this with a way of truncating the content to 40 characters. If someone could help me with this that'd be awesome. Thanks.</p>\n"},{"tags":["php","oop","mvc","setter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12606973,"title":"Alter variable directly or use a setter function?","body":"<p>Which is best practice when setting a variable such as a page title tag from within the page controller?</p>\n\n<p>I have:</p>\n\n<pre><code>class About extends Controller {\n\npublic function Index()\n{\n    $this-&gt;view-&gt;pageTitle = 'test 123' ;\n    $this-&gt;view-&gt;metaDescription = 'Description here' ;\n    $this-&gt;view-&gt;metaKeywords = 'dog, cat, monkey' ;\n    $this-&gt;view-&gt;render('about/about') ;\n}\n}\n</code></pre>\n\n<p>Or should I use a setter function like:</p>\n\n<pre><code>$this-&gt;view-&gt;setPageTitle('My Title') ;\n</code></pre>\n"},{"tags":["mvc","jquery-ajax","playframework","playframework-1.x"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12542541,"title":" ajax call from view to controller in Play framework","body":"<p>I am newbie to MVC and Play framework (Java). Instead of using Groovy for dynamic HTML, I made our own page with static HTML, I mean we haven't any Groovy expressions. Here, I have a controller \"Customer\", generates JSON object which has to be sent to an ajax call in view. I tried with render() method, seems I haven't used correctly. can you give me some idea to forward from here. thanks. </p>\n\n<pre><code>public static void customer(){\n    WordAPI objWordAPI=new WordAPI();\n    List&lt;WordInfo&gt; listObjWord= objWordAPI.MakeAPIObject(nSurveyId);\n    JSONSerializer modelSerializer=new JSONSerializer().exclude(\"NSpontanity\",\"NWordRepresentativity\",\"NWordValue\",\"NWordFrequency\",\"class\").rootName(\"Words\");\n    render(\"Application/wordcloud.html\",modelSerializer.serialize(listObjWord));\n  }\n</code></pre>\n\n<p>and ajax call in view \"wordcloud.html\"</p>\n\n<pre><code>$.ajax({\n    url: \"/customer\",\n    dataType : 'json',\n    success: function (data) {\n        alert(data);\n             }\n        })\n</code></pre>\n"},{"tags":["mvc","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12484708,"title":"Appending to list not updating on pull to refresh","body":"<p>I am still new to ST so I am probably doing several things wrong here but I can't figure out where the problems are. </p>\n\n<p><strong>Problem 1</strong>\nwhen I use the pull to refresh plug-in, I get double the data instead of it just refreshing the data. I have seen to use a propertyId and so I did to no avail. This should be simple so probably something silly I'm doing wrong.</p>\n\n<p><strong>Problem 2</strong>\nI am trying to figure out the most efficient way to use the MVC architecture and I have read through the documentation and many examples. So, I don't know if I am just not understanding clearly or need a better example. I am trying to create a simple app for now with a list that I can tap on an item and get a detailed view of that item. I will later evolve it into a more robust monster but for now I am trying to understand the basics. I finally got my close button to close the detail view when I click a list item but then I can no longer get a detail view when tapping another item. I have read that this is due to 'autoDestroy: off' not being present but I tried that, also with no luck. I want to be able to create certain buttons like 'close' that I can put in multiple views and just have to have the logic in the controllers.</p>\n\n<p><strong>Main View</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.view.DistributorView', {\n     //      extend: 'Ext.form.Panel',\n     extend: 'Ext.Container',\n       requires: ['SenchaFirstApp.store.DistributorStore', 'Ext.dataview.List', 'Ext.Toolbar', 'Ext.form.Panel'],\n       model: 'SenchaFirstApp.model.Distributors',\n       alias: 'widget.mainlist',\n       xtype: 'mainlist',\n       config:\n       {\n           layout: 'fit',\n           border: 5,\n           title: 'Distributors',\n           html: 'My datalist',\n           autoDestroy: false,\n           items:[{\n\n               xtype: 'toolbar',\n               docked: 'top',\n               title: 'Distributor List',\n               height: 40,\n               centered: true,\n               items: [\n                {\n                    xtype: 'button',\n                    text: 'Close',\n                    width: 100,\n                    height: 20, \n                    name: 'close',\n            //      iconCls: 'delete',\n                }]\n               },\n           {\n           autoLoad: true,\n           html: ['&lt;div class=\"distr\"&gt;&lt;table&gt;&lt;tr&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Distributor&lt;/th&gt;&lt;th&gt;Site&lt;/th&gt;&lt;th&gt;Status&lt;/th&gt;&lt;th&gt;Active&lt;/th&gt;&lt;th&gt;Assigned&lt;/th&gt;&lt;th&gt;State                             &lt;/th&gt;&lt;th&gt;Schedule&lt;/th&gt;&lt;th&gt;Finished&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;'],\n           itemTpl: [ '&lt;div class=\"distr\"&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;{t}&lt;/td&gt;&lt;td&gt;{distr}&lt;/td&gt;&lt;td colspan=\"2\"&gt;{site}&lt;/td&gt;&lt;td&gt;{status}&lt;/td&gt;                                                       &lt;td&gt;{active}&lt;/td&gt;&lt;td&gt;{assigned}&lt;/td&gt; &lt;td&gt;{state}&lt;/td&gt;&lt;td&gt;{schedule}&lt;/td&gt;&lt;td&gt;{finished}&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;' ],\n           xtype: 'list',\n           store: 'DistrID', \n            plugins: [\n    {\n        xclass: 'Ext.plugin.PullRefresh',\n        pullRefreshText: 'Pull down to refresh Distributor List'\n    }],\n           ui: 'showDetails',\n           id: 'mainlist',\n           autoDestroy: false,\n           }          \n        ]\n       },          \n     });\n</code></pre>\n\n<p><strong>Detailed View</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.view.DetailView',{\n      extend: 'Ext.Panel',\n      requires: ['Ext.Toolbar'],\n      model: 'SenchaFirstApp.model.Distributors',\n      alias: 'widget.detailview',\n      xtype: 'detailview',\n      name: 'detail',\n\n\n    config:{\n         html: 'This will contain detailed information',\n          xtype: 'panel',\n    //    fullscreen: false,\n          centered: true,\n          modal: false,\n          scrollable: true,\n          width: 300,\n          height: 200,\n      },\n       });\n</code></pre>\n\n<p><strong>Store</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.store.DistributorStore', {\n                        extend: 'Ext.data.Store',\n                        requires: ['SenchaFirstApp.model.Distributors'],\n\n                        config: {\n                        //  xtype: 'distrlist',\n                            storeId: 'DistrID',\n                        model: 'SenchaFirstApp.model.Distributors',\n                        autoLoad: true,\n                        proxy: {\n                            type: 'jsonp',\n                            url:'https://ajax.googleapis.com/ajax/services/feed/load?v=1.0&amp;q=http://gdata.youtube.com/feeds/api/users/hobbitin5/uploads&amp;num=4',\n                            reader: {\n                                type: 'json',\n                                rootProperty: 'responseData.feed.entries'\n                            }\n                        }\n                            }\n</code></pre>\n\n<p><strong>Controller to get detailed view</strong></p>\n\n<pre><code> Ext.define('SenchaFirstApp.controller.DistributorsController',{\n       extend: 'Ext.app.Controller',\n       config: \n       {\n           refs: \n           {\n               mainlist: '#mainlist',\n           },\n           control: \n           {\n               mainlist: {\n                   itemtap: 'dispDetail'\n               },\n           },\n\n       //when item is tapped\n         listeners: {\n                itemtap: function(list, index, items, record)\n               {\n                   console.log('An item was tapped and the listener heard it');\n               }\n           }\n        },\n        dispDetail: function(view, record) {\n                console.log('Item was tapped on the Data View');\n                var oldView = this.getMainlist();       \n                var curRecord = oldView.getStore(record);\n                var newView = Ext.create('SenchaFirstApp.view.DetailView');\n                console.log(curRecord);\n                curRecord += 'other stuff';\n                newView.setHtml(curRecord);\n                newView.add(\n        {\n         xtype:  'toolbar',\n         docked: 'top',\n         title: 'Details',\n         height: 40,\n         items: [\n        {\n          xtype: 'button',\n          text: 'Close',\n          width: 100,\n          height: 20,   \n          name: 'close',\n        }]\n\n        }\n      )\n                oldView.add(newView);\n            //  Ext.Viewport.add(newView)\n            //  Ext.Viewport.setActiveItem(newView)\n        }\n\n       });\n</code></pre>\n\n<p><strong>Controller for buttons (just close for now)</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.controller.NavController', {\n       extend: 'Ext.app.Controller',\n       config: \n       {\n            refs: \n            {\n                 mainlist: 'mainlist',\n                 main: '#mainlist',\n                closeBtn: 'button[name=close]',\n                detaillist: {\n                    selector: 'panel panel[name=detail] deetaillist',\n                    xtype: 'detailview',\n                }\n            }, \n            control:\n            {\n                closeBtn: {\n                    tap: 'closeView',\n                },\n\n                mainlist: {\n                    tap: 'closeView',\n                },\n                detaillist: {\n                    tap: 'closeView',\n                }\n            }\n       },\n\n       closeView: function(){\n\n            var newView = this.getMainlist();\n        //  var child = Ext.Viewport.getActiveItem();\n            var child = this.getDetaillist();\n            var instance = Ext.getCmp('mainlist');\n            var activeIndex = instance.indexOf(instance.getActiveItem());\n            var curIndex = activeIndex+1;\n            var closeView = this.getDetaillist();\n            console.log('Close btn clicked' + ' child: ' + this.child +  ' activeIndex: ' + activeIndex);\n          // Ext.Viewport.destroy(closeView); //(child);\n          newView.remove(child);\n          newView.destroy();\n          Ext.Viewport.add(Ext.create('SenchaFirstApp.view.DistributorView'));\n`          }\n\n\n})`;\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.model.Distributors', {\n       extend: 'Ext.data.Model',\n       config: {\n           idProperty: 'DistrID',\n             fields: [\n                {name: 'DistrID'},\n                {name: 't', type: 'string'},\n                {name: 'distr', type: 'string'},\n                {name: 'group', type: 'string'},\n                {name: 'site', type: 'string'},\n                {name: 'status', type: 'string'},\n                {name: 'active', type: 'string'},\n                {name: 'assigned', type: 'string'},\n                {name: 'state', type: 'string'},\n                {name: 'schedule', type: 'string'},\n                {name: 'finished', type: 'string'},\n                //{mapping: 't',\n                // name: 'DistrID'}\n                ],\n       }\n       });\n</code></pre>\n\n<p>I understand that is a lot but any help is appreciated...even a nudge in the right direction. Thanks in advance! Also, I'm sure there is stuff in there that doesn't need to be as I've had trouble locating good examples for what I am trying to accomplish so I have pieces here and there from different examples that I've tried to get to play nice together :(</p>\n"},{"tags":["mvc","networking","graphics","language-agnostic","vector-graphics"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":12599643,"title":"Does there exist a communication based vector drawing platform?","body":"<p>I have an idea for a programmatic vector drawing platform, but I would rather not implement it myself if it exists. The platform should be language agnostic, and approximate the following description of some of its properties:</p>\n\n<ol>\n<li>a server that manages the states of a set of vector displays, and communicates with:</li>\n<li>a class of clients connecting to send drawing instructions to these displays</li>\n<li>a class that connects to view the state of some drawing context and send keyboard/mouse events</li>\n<li>a class that is listening for events, and possibly communicating back with the class of clients described by #2 independent from the graphics server.</li>\n<li>Ideally #1 is cross platform, and the client side of #3 would have a browser based viewer</li>\n</ol>\n\n<p>Does something like this exist already? </p>\n"},{"tags":["javascript","mvc","rest","backbone.js"],"answer_count":5,"favorite_count":13,"up_vote_count":35,"down_vote_count":0,"view_count":13127,"score":35,"question_id":5097107,"title":"How do I fetch a single model in Backbone?","body":"<p>I have a <code>Clock</code> model in Backbone:</p>\n\n<pre><code>var Clock = Backbone.Model.extend({});\n</code></pre>\n\n<p>I'm trying to get an instance of that that has the latest information from <code>/clocks/123</code>. Some things I've tried:</p>\n\n<h3>a \"class\"-level method</h3>\n\n<pre><code>Clock.fetch(123)\n// TypeError: Object function (){ ... } has no method 'fetch'\n</code></pre>\n\n<h3>creating an instance and then calling <code>fetch</code> on it:</h3>\n\n<pre><code>c = new Clock({id: 123})\nc.fetch()\n// Error: A 'url' property or function must be specified\n</code></pre>\n\n<h3>a collection</h3>\n\n<p>I tried creating an <code>AllClocks</code> collection resource (even though I have no use for such a thing on the page):</p>\n\n<pre><code>var AllClocks = Backbone.Collection.extend({\n  model: Clock,\n  url: '/clocks/'\n});\nvar allClocks = new AllClocks();\nallClocks.fetch(123);\n// returns everything from /clocks/\n</code></pre>\n\n<p>How do I just get <strong>one</strong> API-backed Clock?</p>\n"},{"tags":["iphone","mvc","mvp"],"answer_count":4,"favorite_count":7,"up_vote_count":7,"down_vote_count":0,"view_count":484,"score":7,"question_id":3845951,"title":"Discuss on MVC implementation on iPhone","body":"<p>Im a using the MVC pattern for a while on different frameworks such as (swing, android, gwt ...)\nNow, I'm learning the iPhone framework and I am quite surprised about MVC implementation. The questions I am asking are about the view and controller interaction.</p>\n\n<p>First of all, that's the way I conceive the MVC pattern : </p>\n\n<ul>\n<li><p>The view and the controller communicate each other through an interface (one for the view and an other one for the controller)</p></li>\n<li><p>In my conception of the MVC pattern, the controller do not have to know the attribute of the view. (for instance, the controller can't have a label attribute instance of the view but can ask the view to change the value of this label via a method of the view interface)</p></li>\n</ul>\n\n<p>The advantage of not letting the controller directly work on view UI elements is a low coupling and therefore it is possible to test the view easier. The view can be launched and tested on isolation ( or with a mock controller ).</p>\n\n<p>The point is, on iPhone the controllers (ViewController for instance) know directly the UI elements hence my incomprehension.\nMy goal is not to criticise a framework I'm just learning. But if this is really working as I described it, I don't find that really clean...</p>\n\n<p>Is there anybody more experimented with this framework who can give me details / explication ? Or if you feel disagree with my MVC approach, tell me ;)</p>\n\n<p>What's more, I am asking if my approach is not neareast to MVP (described here : <a href=\"http://code.google.com/intl/fr/webtoolkit/articles/testing_methodologies_using_gwt.html\" rel=\"nofollow\">http://code.google.com/intl/fr/webtoolkit/articles/testing_methodologies_using_gwt.html</a>) than MVC.</p>\n"},{"tags":["c#","mvc","mvccontrib","portable-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12477344,"title":"Can I send a message from the web app to a portable area on MvcContrib.Bus","body":"<p>Before I get too stuck in, I wondered if anyone had done this.</p>\n\n<p>All the examples I look at of MvcContrib.Bus show the message being sent by the portable area, to the host.  I would like to be able to then send a message back from the host to the portable area and wondered if this was possible.</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","model-binding","enum-flags"],"answer_count":2,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":1620,"score":5,"question_id":9264927,"title":"Model Bind List of Enum Flags","body":"<p>I have a grid of Enum Flags in which each record is a row of checkboxes to determine that record's flag values.  This is a list of notifications that the system offers and the user can pick (for each one) how they want them delivered:</p>\n\n<pre><code>[Flag]\npublic enum NotificationDeliveryType\n{\n  InSystem = 1,\n  Email = 2,\n  Text = 4\n}\n</code></pre>\n\n<p>I found this <a href=\"http://stackoverflow.com/questions/4194333/mvc-2-passing-enum-to-checkboxfor\">article</a> but he's getting back a single flag value and he's binding it in the controller like this (with a days of the week concept):</p>\n\n<pre><code>[HttpPost]\npublic ActionResult MyPostedPage(MyModel model)\n{\n  //I moved the logic for setting this into a helper \n  //because this could be re-used elsewhere.\n  model.WeekDays = Enum&lt;DayOfWeek&gt;.ParseToEnumFlag(Request.Form, \"WeekDays[]\");\n  ...\n}\n</code></pre>\n\n<p>I can't find anywhere that the MVC 3 model binder can handle flags. Thanks!</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":128,"score":0,"question_id":12599090,"title":"Ajax.BeginForm OnFailure invoked when ModelState is InValid","body":"<p>I want to call \"OnFailure\" when ModelState is not valid in controller.</p>\n\n<p>In My LoginView </p>\n\n<pre><code> @using (Ajax.BeginForm(\"Login\", new AjaxOptions { HttpMethod = \"POST\", UpdateTargetId = \"Login\",InsertionMode = InsertionMode.Replace, OnSuccess = \"Success\", OnFailure = \"onError\" }))\n {\n\n } \n</code></pre>\n\n<p>In Controller </p>\n\n<pre><code>[httpPost]\npublic ViewResult Login(LoginModel model)\n{\n   if (ModelState.IsValid)\n   {\n\n   }\n   else\n   { \n     ModelState.AddModelError(\"login is fail\")\n   }\n   return View(\"Login\",model)\n}\n</code></pre>\n\n<p>so i want call onSuccess Method if ModelState is valid and if it fail then call only OnError method with display all error which are in Model State.</p>\n"},{"tags":["objective-c","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12568992,"title":"Controller, View, Delegation - how to design properly","body":"<p>Searched other questions but still no answer ...\nNeed some advise.\nI am porting my code from another platform to iOS.\nI have an MVC backbone in C++ : \nCData for model. \nCController for controller. </p>\n\n<ul>\n<li>CController creates an instance of CData</li>\n<li>CController creates an instance of CView</li>\n<li>CController inherits from CNotifications abstract</li>\n<li>CController passes \"this\" to constructor of CView</li>\n<li>CView expects CNotifications* in the  constructor and this is how the CView can call the controller back on some important events without actually be aware of the CController itself</li>\n</ul>\n\n<p>On Windows CView would simply access GDI to draw whatever was needed.   </p>\n\n<p>Now I am porting all this to iOS. CData and CController are completely platform independent so all clear. I was going to just re-implement the CView over iOS. And this is where the problem is.</p>\n\n<p>At the start I wanted my ViewController of ios ( the owner of the xib ) just to inherit from CView and implement all CController needs. But then I noticed that there is no multiple inheritance in Obj-C and the ViewController already inherits from UIViewController.</p>\n\n<p>So it seems I need to implement CView in such a way that it has a pointer to ViewController( the owner of the xib ).</p>\n\n<p>And the question is : how to nicely pass to CView a pointer to ViewController ?</p>\n\n<p>I planned the ApplicationDelegate to create the CController which would create the CData and the the CView. I dont want CController to receive a pointer to ViewController and then pass this pointer further to CView - I want CController stay portable...</p>\n\n<p>There are all sorts of things coming into head but I was hoping to get here a widely-acceptable approach</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","arrays","mvc","paginate"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12600752,"title":"paginate array from model in view php mvc","body":"<p>I am making a search form that pulls user data in multi-dimensional arrays from the model, I cant seem to figure out how to paginate it, in an MVC style set up. The model sends the array of unknown length, since there are several search fields which are all optional, to the view. It is <code>$_POST</code> data so I would lose the data when I refresh the page. </p>\n\n<p>Here is a simplified version of array...</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array\n    (\n        [id] =&gt; 1\n\n        [username] =&gt; Rebequa\n\n        [city] =&gt; arlington\n\n        [state] =&gt; va\n\n    )\n\n[1] =&gt; Array\n    (\n        [id] =&gt; 2\n\n        [username] =&gt; steve\n\n        [city] =&gt; \n\n        [state] =&gt; \n\n    )\n\n[2] =&gt; Array\n    (\n        [id] =&gt; 6\n\n        [username] =&gt; Rebequa2\n\n        [city] =&gt; arlington\n\n        [state] =&gt; va\n\n    )\n)\n</code></pre>\n"},{"tags":["mvc","magento","controller","magento-1.7","referer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":113,"score":0,"question_id":12599945,"title":"magento approach saving referer url and keywords","body":"<p>My goal is to save on database the url referer and keywords when entering on any page of our store. I <a href=\"http://stackoverflow.com/questions/4006183/magento-passing-data-between-a-controller-and-a-block\">checked this question and its answer</a> to try to get some light into my problem.</p>\n\n<p>The approach I'm following is:</p>\n\n<ol>\n<li><p>To have a block that will stick on the default layout so it will be loaded on each page (tested, is working). This block will read the referer by using the following code:</p>\n\n<p>$request['url'] = $this->getRequest()->getServer('HTTP_REFERER');</p></li>\n<li><p>Then call function passing the $request to a controller:\nThis step I still do not know how to do it, using redirect? Or maybe by calling a dispatchEvent and on the controller having a <code>postAction</code> function?</p>\n\n<pre><code>//on the phtml file\n&lt;div&gt;\n     &lt;?php\n          $request['url'] = getRequest()-&gt;getServer(HTTP_REFERER);\n          Mage::dispatchEvent(\"allpagescontroller\", $request);\n     ?&gt;\n&lt;/div&gt;\n</code></pre></li>\n<li><p>The controller will instantiate my model and call the setters to update/insert neeeded values</p>\n\n<pre><code>//on the controller\nfunction postAction ($params)\n{\n    $referer = $this-&gt;getRequest()-&gt;getPost();\n}\n</code></pre></li>\n<li><p>On the model I will have all the appropiate code to do the CRUD operations</p></li>\n</ol>\n\n<p>Is this correct? I'm trying to follow the Magento MVC approach by following these steps. For now I've all the code on the phtml file. I'm getting the referer, splitting it and instantiating the model to save everything. But I know this is not correct.</p>\n\n<p>On config.xml for now I have:</p>\n\n<blockquote>\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;config&gt;\n    &lt;modules&gt;\n        &lt;Dts_Allpages&gt;\n            &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;/Dts_Allpages&gt;\n    &lt;/modules&gt;\n    &lt;global&gt;\n      &lt;models&gt;\n          &lt;allpages&gt;\n              &lt;class&gt;Dts_Allpages_Model&lt;/class&gt;\n              &lt;resourceModel&gt;allpages_mysql4&lt;/resourceModel&gt;\n          &lt;/allpages&gt;\n          &lt;allpages_mysql4&gt;\n                  &lt;class&gt;Dts_Allpages_Model_mysql4&lt;/class&gt;\n                &lt;entities&gt;\n                  &lt;keywords&gt;\n                      &lt;table&gt;keywords&lt;/table&gt;\n                  &lt;/keywords&gt;\n                  &lt;referencedpages&gt;\n                      &lt;table&gt;referencedpages&lt;/table&gt;\n                  &lt;/referencedpages&gt;\n              &lt;/entities&gt;\n          &lt;/allpages_mysql4&gt;\n        &lt;/models&gt;\n        &lt;blocks&gt;\n            &lt;allpages&gt;\n                &lt;class&gt;Dts_Allpages_Block&lt;/class&gt;\n            &lt;/allpages&gt;\n        &lt;/blocks&gt;\n        &lt;helpers&gt;\n            &lt;allpages&gt;\n                &lt;class&gt;Dts_Allpages_Helper&lt;/class&gt;\n            &lt;/allpages&gt;\n        &lt;/helpers&gt;\n        &lt;resources&gt;\n            &lt;allpages_write&gt;\n                &lt;connection&gt;\n                    &lt;use&gt;core_write&lt;/use&gt;\n                &lt;/connection&gt;\n            &lt;/allpages_write&gt;\n            &lt;allpages_read&gt;\n                &lt;connection&gt;\n                    &lt;use&gt;core_read&lt;/use&gt;\n                &lt;/connection&gt;\n            &lt;/allpages_read&gt;\n        &lt;/resources&gt;\n    &lt;/global&gt;&gt;\n    &lt;frontend&gt;\n      &lt;routers&gt;\n          &lt;allpages&gt;\n              &lt;use&gt;standard&lt;/use&gt;\n              &lt;args&gt;\n                  &lt;module&gt;Dts_Allpages&lt;/module&gt;\n                  &lt;frontName&gt;allpages&lt;/frontName&gt;\n              &lt;/args&gt;\n          &lt;/allpages&gt;\n      &lt;/routers&gt;\n        &lt;layout&gt;\n            &lt;updates&gt;\n                &lt;allpages&gt;\n                    &lt;file&gt;allpages.xml&lt;/file&gt;\n                &lt;/allpages&gt;\n            &lt;/updates&gt;\n        &lt;/layout&gt;\n    &lt;/frontend&gt;  \n&lt;/config&gt;\n</code></pre>\n</blockquote>\n"},{"tags":["forms","spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12597627,"title":"how do I prevent spring mvc overwriting sessionattributes from request","body":"<p>I have an MVC spring application where the user logs on, this stores a User @SessionAttribute , which I refer to subsequently e.g. when updating a Customer object in a POST request I want the session User info to add to this object.\nMy problem is when I access the @ModelAttribute(\"user\") User object in the customer POST, spring has bound request parameters into it i.e. the User.name has the value of the Customer.name from the submitted form.</p>\n\n<p>NB I've kind of hacked this in that all controllers are subclasses of my AppController, which is where the @SessionAttributes are declared. But the principle would be the same if it was a single controller.</p>\n\n<p>So can I prevent spring binding form:customer name value to User.name?   </p>\n\n<p>(I suspect webflow would be a more suitable framework for this, but don't have the time available right now to rewrite using this)</p>\n"},{"tags":["javascript","html","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12598021,"title":"How do I refresh an html element?","body":"<p>I've tried searching for any possible solutions to my question but none of what I've seen so far works. Anyway, I'm using MVC 3 and I have a form called Add Event. On that page, I have a dropdownlist that contains a list of locations that the user can choose from. I have a link just below that dropdownlist that would allow a user to add a new location. Now, I have the textboxes, dropdowns, etc for creating a new location in a partial view which would appear below the dropdownlist when I click on the link.</p>\n\n<p>Anyway, I need to refresh, just the dropdownlist so that when I add a new Location, it goes right on the list. What happens right now is after I click on save, the partial view hides itself and I still need to refresh the entire page to get the new location on the dropdown list which would then, remove everything I typed in on texboxes and dropdownlists on the same page.</p>\n\n<p>How can I do this using javascript/ajax?</p>\n"},{"tags":["mvc","model-binding","selectlist"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1759,"score":3,"question_id":2917141,"title":"Binding to a SelectList in MVC","body":"<p>Once again I'm confronted with a \"This shouldn't be this ?*!# hard\" situation.</p>\n\n<p>Problem: I want to use a form in MVC for creation of an object. One of the elements of the object is a set of limited choices - a perfect candidate for a drop down list.</p>\n\n<p>But if I use a SelectList in my model, and a drop down list in my View, and then try to post the Model back to my Create method, I get the error \"Missing Method Exception:No Parameterless constructor for this object\".  Exploring the MVC source code, it appears that in order to bind to a model, the Binder has to be able to create it first, and it can't create a SelectList because there is no default constructor for it.</p>\n\n<p>Here's the simplified code:\nFor the model:</p>\n\n<pre><code> public class DemoCreateViewModel\n{\n    public SelectList Choice { get; set; }\n\n}\n</code></pre>\n\n<p>For the controller:</p>\n\n<pre><code>      //\n    // GET: /Demo/Create\n\n    public ActionResult Create()\n    {\n        DemoCreateViewModel data = new DemoCreateViewModel();\n        data.Choice = new SelectList(new string[] { \"Choice1\", \"Choice2\", \"Choice3\" });\n        ViewData.Model = data;\n        return View();\n    }\n\n    //\n    // POST: /Demo/Create\n\n    [HttpPost]\n    public ActionResult Create(DemoCreateViewModel form)\n    {\n        try\n        {\n            // TODO: Add insert logic here\n\n            return RedirectToAction(\"Index\");\n        }\n        catch\n        {\n            return View();\n        }\n    }\n</code></pre>\n\n<p>And for the View:</p>\n\n<pre><code>      &lt;fieldset&gt;\n        &lt;legend&gt;Fields&lt;/legend&gt;\n        &lt;%= Html.LabelFor(model =&gt; model.Choice) %&gt;\n        &lt;%= Html.DropDownListFor(model =&gt; model.Choice, Model.Choice) %&gt;\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Create\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n</code></pre>\n\n<p>Now, I know I can MAKE this work by dropping back 10 yards and punting: bypass model binding and drop back to the FormCollection and validate and bind all the fields myself, but there's got to be a simpler way. I mean, this is about as simple a requirement as it gets.  Is there a way to make this work within the MVC ModelBinding architecture?  If so, what is it?  And if not, how come?</p>\n\n<p>Edit: Well, I have egg on my face, but maybe this will help someone else. I did some more experimenting and found a simple solution that seems to work.</p>\n\n<p>Provide a simple value (string or integer, depending on what your select list value type is), and name that as the model element that you bind to. Then provide a second element as the select list of choices, and name it something else. So my model became:</p>\n\n<pre><code> public class DemoCreateViewModel\n{\n    public string Choice { get; set; }\n    public SelectList Choices { get; set; }\n\n}\n</code></pre>\n\n<p>And then the DropDownListFor statement in the View becomes: </p>\n\n<pre><code>            &lt;%= Html.DropDownListFor(model =&gt; model.Choice, Model.Choices) %&gt;\n</code></pre>\n\n<p>When I do this, the submit button correctly binds the choice made in the form to the string Choice, and submits the model back to the second Create method.</p>\n"},{"tags":["entity-framework","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12596115,"title":"Entity Framework code-first not generating database in SQL Server","body":"<p>I am new to EF code first approach, what I am trying to do is just inserting a record but somehow the database fails to generate in my SQL Server when my SubmitResult method is executed. I placed a breakpoint at <code>unitOfWork.Save();</code> and it went through without catching any errors, I assume that if my connection string is invalid it would have thrown an exception. What could possibly be causing this? </p>\n\n<p>Thanks.</p>\n\n<pre><code>[HttpPost]\npublic JsonResult SubmitResult(String signedRequest, String facebookName, String email, int score, String title)\n{\n    DateTime now = ConstantHelper.GetCurrentTime();\n    try\n    {\n        FacebookSignedRequestUtility fbSignedRequestUtility = new FacebookSignedRequestUtility();\n        fbData = fbSignedRequestUtility.Parse(FacebookUtility.AppSecret, signedRequest);\n\n        Entry entry = new Entry();\n        entry.Fbuid = fbData.FBUID;\n        entry.FacebookName = facebookName;\n        entry.Email = email;\n        entry.Score = score;\n        entry.Title = title;\n        entry.CreatedDateTime = now;\n        entry.ModifiedDateTime = now;\n\n        unitOfWork.EntryRepository.Insert(entry);\n        unitOfWork.Save();\n    }\n    catch (Exception ex)\n    {\n        return Json(new { status = \"false\" });\n    }\n\n    return Json(new { status = \"true\" });\n}\n</code></pre>\n"},{"tags":["database","mvc","jsp","complexity","el"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12594712,"title":"Accessing database through expression language(EL)","body":"<p>just after studying the concept of expression language,from the marvellous book on the subject,HeadFirst Servlets and Jsp,I thought one thing,just as it was possible to access bean components,easily and displaying it(saving us from much coding in servlets and from the deprecated use of scriplets in our jsp page) on the screen,can we redirect that information to our database?If so how?Is this a good practise?Why?Why not?(in terms of space and time complexities).Is this a violation of MVC model and is it still prevalent?I will be highly obliged to hear your kind suggestions.</p>\n"},{"tags":["javascript","jquery","asp.net","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":375,"score":1,"question_id":6535434,"title":"jquery Modal Dialog in asp.net Mvc 2","body":"<p>I have a grid of user info in ASP.NET Mvc 2. When i click on a user, i open a jQuery Modal dialog, which enables to edit the user.I am able to edit and save the user.</p>\n\n<p>Can some one help me on how to do validation on this modal dialog using the asp.net mvc data annotaions on server side and display the validation message.</p>\n"},{"tags":["ajax","html5","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12593077,"title":"HTML5 History API and MVC - Updating grid with ajax during onpopstate","body":"<p>I have a simple page with a grid that supports paging and sorting. On page load I call an action method that displays the grid based on the query string parameters (specifically to support browsers with javascript disabled). When the user changes the page or the sort and javascript is enabled, the grid is refreshed via ajax. When the ajax request completes successfully, I push a state into history storing the page and sort parameters. As the user moves back and forth the onpopstate event uses ajax to refresh the grid based on the history state.</p>\n\n<p>This works great except for the fact that when the user navigates from, say, google back to my page with the grid, the action method is called to display the initial grid and then the onpopstate event uses ajax to refresh the grid. Depending on the speed of the ajax request, the user can clearly see the initial grid turn into the correct grid. I need to support browsers with javascript turned off so I don't see any way to not send the initial grid. Does anybody know how to handle this kind of situation?</p>\n"},{"tags":["mvc","architecture","genetic-algorithm"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":320,"score":5,"question_id":770586,"title":"MVC for desktop app with no data layer","body":"<p>Question might be tricky (because of its nature or my way of describing it), so really read this before answering.  </p>\n\n<p>I have this app to write:<br>\na) desktop app;<br>\nb) no data layer in sense of database, files or any other repository (no need to save, store or load data);<br>\nc) app will have some computation algorithms implemented (Genetic Algorithm);<br>\nb) provides GUI which will display controls for app and computations results.  </p>\n\n<p>I am thinking about using MVC pattern but I have doubts how to use it. Since I have no data layer in sense of (for example) database (data is generated during execution based on user input) I am concerned about way of using MVC in this implementation. So far I have came up with two approaches:  </p>\n\n<ol>\n<li><p>GUI is the View. GeneticAlgorithm is the Controller. GeneticAlgorithmResults is the Model (as class that only stores data). Basic flow:  </p>\n\n<ul>\n<li>The View sends user input to the Controller;  </li>\n<li>The Controller is processing user input and generates data;  </li>\n<li>The Controller sends generated data to the Model;  </li>\n<li>The Model notifies the View about new data;  </li>\n<li>The View pulls new Data and updates the display.  </li>\n</ul></li>\n<li><p>GUI is the View. AppEngine is the Controller. GeneticAlgorithm nad GeneticAlgorithmResults are the Model. Now we have:  </p>\n\n<ul>\n<li>The View sends user input to the Controller;  </li>\n<li>The Controller is processing user input and sends control signals to the Model.  </li>\n<li>The Model updates its internal state (generates new data);  </li>\n<li>The Model notifies the Controller about new data;  </li>\n<li>The Controller pulls data to model;  </li>\n<li>The Controller processes data;  </li>\n<li>The controller pushes processed data to the View;  </li>\n<li>The View updates the display.  </li>\n</ul></li>\n</ol>\n\n<p>First approach seems to be more straightforward and more like MVC. The problem is that some logic would have to be in the Model - decide when to notify the model as not all data updates will be displayed, or maybe display will be updated with the sets of data not every little change. Those decisions will be based on user input. Whats more some additional processing of the data may be needed before actual display. This would be in the View.</p>\n\n<p>On the other hand second approach seems to be more complicated and looks like to much messages are being passed to achieve the task. But it gives full control of Logic to the Controller and separates responsibilities of the View, the Controller and the Model (which is the main purpose of MVC).  </p>\n\n<p>Which approach would you recommend? Or maybe I should mix them and use first approach architecture with communication flow from second approach? Or some different design?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":12586030,"title":"setting the page title, meta info in a view in asp.net mvc 4","body":"<p>I am very new to MVC and I am updating a web form application to mvc. I have a shared layout (masterpage in webforms), I would like to set the meta and title information per view but I see no options for this. thanks for any help.</p>\n"},{"tags":["asp.net-mvc","mvc","gridview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12223583,"title":"Where to specify page/sort for my web grid (e.g. in controller or view)?","body":"<p>Where should I initialize my web grid (and why, please, I'm seeking foresight rather than just opinions)?</p>\n\n<p>On one hand, it seems logical to consider the current page number and sort order a \"view concern\", and from that perspective building a grid in the controller is uncomfortably similar to laying out HTML there.</p>\n\n<p>On the other hand, it seems that page number for example is a \"location concern\", and it makes more sense to parse that directive in the controller.</p>\n\n<p>From experience when the separation of responsibility isn't clear, there's a good chance I'll make a poor choice and end up with major refactoring later.</p>\n"},{"tags":["mvc","class-design"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1465,"score":1,"question_id":447187,"title":"Pacman game class design","body":"<p>I have to write a multiplayer pacman game in Java for a university assignment and I'm after some feedback for my design so far.</p>\n\n<p>So I'm trying to go down an MVC style and <a href=\"http://s3.amazonaws.com/twitpic/photos/large/1822927.jpg?AWSAccessKeyId=0ZRYP5X5F6FSMBCCSE82&amp;Expires=1232036013&amp;Signature=%2FA3laziDAr6j4OsEZLXC%2FiEZV%2BE%3D\" rel=\"nofollow\">this is what I've sketched out</a>.</p>\n\n<p>I've never designed anything using MVC, so my knowledge is really only from the pragmatic programmer and a short lecture so it's quite possible I'll have misunderstood or misinterpreted it slightly.</p>\n\n<p>Also, most of the tutorials I've seen for designing simple games don't mention MVC at all so is this a case where MVC is not a good pattern to use?</p>\n\n<p>My idea so far is that the <em>Game State</em> class would be the main source of data storage as it were, and would use a 2d array to store the state of the game, where the ghosts are, where pacman is etc.</p>\n\n<p>The <em>Game</em> class would be the main controller class that would contain the main game loop and control all the interactions between the data (<em>game state</em>) and the view (probably a <em>GUI</em> representation - I just added text based really as an example).</p>\n\n<p>After I've got the game working I'm going to have to split it out into client/server.  It seems to me, by using this model, that it wouldn't be too hard to keep most of the the data and processing on the server and have the clients interact with the controller and draw their own views.  I have no idea (yet) how this may effect the performance of the game over a network so I'll have to research into that further once the single player version is done.  </p>\n\n<p>Any tips or advice, based on my design so far, would be greatly appreciated - also bearing in mind that it will eventually have to be a multiplayer game.</p>\n\n<p>Cheers,</p>\n\n<p>Adam</p>\n"},{"tags":["mvc","razor","jqgrid","subgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":153,"score":0,"question_id":12478205,"title":"Error 'object doesn't support property or method' in subgrid autogenerated function (mvc, razor, jquery, jqgrid, trirand)","body":"<p>Hi I'm using the trirand examples for jqgrid subgrid (<a href=\"http://www.trirand.net/demoaspnetmvc.aspx\" rel=\"nofollow\">Trirand example Hierarchy 2 level</a>). In my case the subgrid behaviour is inside a autogenerated javascript function.\nWhen I 'translated' the example to my solution (mvc3+razor+entity framework Cf), I get the error 'object doesn't support property or method' in the autogenerated subgrid function. I'm sure this is a simple mistake but i can't save it... and I hope you can help me.</p>\n\n<p>This is my static View:</p>\n\n<pre><code>@{\n    ViewBag.Title = \"Index\";\n}\n&lt;script type=\"text/javascript\"&gt;\n    function showRolesSubGrid(subgrid_id, row_id) {\n        // the \"showSubGrid_OrdersGrid\" function is autogenerated and available globally on the page by the second child grid. \n        // Calling it will place the child grid below the parent expanded row and will call the action specified by the DaraUrl property\n        // of the child grid, with ID equal to the ID of the parent expanded row                \n        showSubGrid_RolesSubGrid(subgrid_id, row_id);\n    }\n&lt;/script&gt;\n&lt;div class=\"bloque\"&gt;\n    &lt;div class=\"ui-widget\"&gt;\n        &lt;h2&gt;Index&lt;/h2&gt;\n\n        &lt;p&gt;\n            @Html.ActionLink(\"Create New\", \"Create\")\n        &lt;/p&gt;\n        @Html.AntiForgeryToken() \n        &lt;div&gt;           \n            @Html.Trirand().JQGrid(Model.MenuGrid, \"MenuGrid\")\n            @Html.Trirand().JQGrid(Model.RolesSubGrid, \"RolesSubGrid\")\n\n        &lt;/div&gt;\n        @Html.Trirand().JQAutoComplete(\n                new JQAutoComplete \n                    {\n                        DisplayMode = AutoCompleteDisplayMode.ControlEditor,\n                        DataUrl = Url.Action(\"AutoCompleteName\", \"MenuItem\")\n                    }, \"AutoCompleteName\")\n        @Html.Trirand().JQAutoComplete(\n                new JQAutoComplete \n                    {\n                        DisplayMode = AutoCompleteDisplayMode.ControlEditor,\n                        DataUrl = Url.Action(\"AutoCompletePadre\", \"MenuItem\")\n                    }, \"AutoCompletePadre\")\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my ModelGrid:</p>\n\n<pre><code>    using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing Trirand.Web.Mvc;\nusing System.Web.UI.WebControls;\n\n\nnamespace MVC.Models.Grids\n{\n    public class MenuGridModel\n    {\n        public JQGrid MenuGrid { get; set; }\n        public JQGrid RolesSubGrid { get; set; }\n        public MenuGridModel()\n        {\n            RolesSubGrid = new JQGrid\n            {\n                Columns = new List&lt;JQGridColumn&gt;\n                                 {\n                                     new JQGridColumn { DataField = \"RoleID\",\n                                                        HeaderText = \"ID\",\n                                                        PrimaryKey = true,\n                                                        Width = 50 },\n                                     new JQGridColumn { DataField = \"RoleName\" }\n                                 },\n                Width = Unit.Pixel(650),\n                Height = Unit.Pixel(350)\n            };\n\n            MenuGrid = new JQGrid\n            {\n                Columns = new List&lt;JQGridColumn&gt;()\n                    {\n                        new JQGridColumn { DataField = \"ID\", \n                                        // always set PrimaryKey for Add,Edit,Delete operations\n                                        // if not set, the first column will be assumed as primary key\n                                        PrimaryKey = true,\n                                        Editable = false,\n                                        Width = 20 },                                    \n                        new JQGridColumn { DataField = \"Name\", \n                                        Editable = true,\n                                        Width = 100 },\n                        new JQGridColumn { DataField = \"ActionName\",                                                         \n                                        Editable = true,\n                                        Width = 100}, \n                        new JQGridColumn { DataField = \"ControllerName\", \n                                        Editable = true,\n                                        Width = 100 },\n                        new JQGridColumn { DataField = \"Url\",\n                                        Editable =  true\n                                        },\n                        new JQGridColumn { DataField = \"Padre\",\n                                        Editable =  true\n                                        }\n                    },\n                Width = Unit.Percentage(100),\n                Height = Unit.Percentage(100)\n            };\n            MenuGrid.ToolBarSettings.ShowRefreshButton = true;\n        }\n    }\n}\n</code></pre>\n\n<p>This is part of my Controller:</p>\n\n<pre><code>    ...\n...\n  public JsonResult Datos()\n    {\n        // instanciar el modelo\n        var gridModel = new MenuGridModel();\n        JsonResult verresul;\n        ConfigGrid(gridModel);\n        JQGridState gridState = gridModel.MenuGrid.GetState();\n        Session[\"gridState\"] = gridState;\n        // devolver un databind segn EF\n        var prueba = GetMenuItem().AsQueryable();\n        verresul = gridModel.MenuGrid.DataBind(prueba);\n        return gridModel.MenuGrid.DataBind(GetMenuItem().AsQueryable());\n    }\n\n    // Este mtodo se llama cuando la SUBgrilla requiere datos\n    public JsonResult DatosRoles(string parentRowID)\n    {\n        int menu_padre_id = Convert.ToInt32(parentRowID);\n        // instanciar el modelo\n        var gridModel = new MenuGridModel();\n        ConfigGrid(gridModel);\n\n        // devolver un databind segn EF\n        //var Roles = from o in db.aspnetdb_Roles_vw\n        //             where o.RoleId == menu_padre\n        //             select o;\n        List&lt;List&lt;aspnetdb_Roles_vw&gt;&gt; roles;\n        //MenuItem pmenu;\n        roles = (from pmenu in db.MenuItems \n                 where pmenu.Id == menu_padre_id\n                 select pmenu)\n                 .Select(rr =&gt; rr.aspnetdb_Roles_vw.ToList()).ToList();\n        return gridModel.RolesSubGrid.DataBind(roles);\n    }\n...\n...\n    public void ConfigGrid(MenuGridModel modeloGrid)\n    {\n        var entidadGrid = modeloGrid.MenuGrid;\n        var sub1Grid = modeloGrid.RolesSubGrid;\n\n        // Personalizar o cambiar algunos comportamientos del modelo\n        // ID de la grilla, por si hay varias\n        entidadGrid.ID = \"MenuGrid\";\n        // DataUrl mapea el mtodo que devuelve los datos\n        entidadGrid.DataUrl = Url.Action(\"Datos\");\n        // EditUrl mapea el mtodo que hace ABM\n        entidadGrid.EditUrl = Url.Action(\"ABM\");\n        entidadGrid.ToolBarSettings.ShowEditButton = true;\n        entidadGrid.ToolBarSettings.ShowAddButton = true;\n        entidadGrid.ToolBarSettings.ShowDeleteButton = true;\n        entidadGrid.EditDialogSettings.CloseAfterEditing = true;\n        entidadGrid.AddDialogSettings.CloseAfterAdding = true;\n        entidadGrid.MultiSelect = true;\n        entidadGrid.MultiSelectMode = MultiSelectMode.SelectOnCheckBoxClickOnly;\n        // SUBgrilla\n        #region SubGrilla\n        entidadGrid.ClientSideEvents.SubGridRowExpanded = \"showRolesSubGrid\";\n        entidadGrid.HierarchySettings.HierarchyMode = HierarchyMode.Parent;\n        entidadGrid.HierarchySettings.ReloadOnExpand = Convert.ToBoolean(ViewData[\"reloadOnExpand\"]);\n        entidadGrid.HierarchySettings.SelectOnExpand = Convert.ToBoolean(ViewData[\"selectOnExpand\"]);\n        entidadGrid.HierarchySettings.ExpandOnLoad = Convert.ToBoolean(ViewData[\"expandOnLoad\"]);\n        entidadGrid.HierarchySettings.PlusIcon = Convert.ToString(ViewData[\"plusIcon\"]);\n        entidadGrid.HierarchySettings.MinusIcon = Convert.ToString(ViewData[\"minusIcon\"]);\n        entidadGrid.HierarchySettings.OpenIcon = Convert.ToString(ViewData[\"openIcon\"]);\n        sub1Grid.ID = \"RolesGrid\";\n        sub1Grid.DataUrl = Url.Action(\"DatosRoles\");\n        sub1Grid.HierarchySettings.HierarchyMode = HierarchyMode.Child;\n        #endregion\n        ...\n        ...\n</code></pre>\n\n<p>And this is my dynamic generated View with the autogenerated subgrid function:</p>\n\n<pre><code>    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml2/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;Index&lt;/title&gt;\n\n    &lt;link href=\"../../Content/notificaciones.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;script src=\"../../Content/jquery-ui/js/jquery-1.7.2.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jquery-ui/js/jquery-ui-1.8.22.custom.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;link href=\"../../Content/jquery-ui/css/redmond/jquery-ui-1.8.22.custom.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;link href=\"/Content/openid-shadow.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;link href=\"/Content/openid.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;script src=\"/Scripts/openid-jquery.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"/Scripts/openid-en.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt; $(document).ready(function () {openid.init('openid_identifier'); }); &lt;/script&gt;\n\n    &lt;link href=\"../../Content/Site.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;script src=\"../../Content/jquery-vertical-accordion-menu/js/jquery.cookie.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jquery-vertical-accordion-menu/js/jquery.hoverIntent.minified.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jquery-vertical-accordion-menu/js/jquery.dcjqaccordion.2.7.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jquery-vertical-accordion-menu/js/jquery.dcjqaccordion.2.7.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/black.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/dcaccordion.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/blue.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/clean.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/demo.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/graphite.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/grey.css\" /&gt;\n\n    &lt;link href=\"../../Content/jqGrid/css/ui.jqgrid.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;script src=\"../../Content/jqGrid/js/i18n/grid.locale-es.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jqGrid/js/jquery.jqGrid.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Scripts/jquery.jqAutoComplete.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\" src=\"../../Content/Flexigrid/js/flexigrid.js\"&gt;&lt;/script&gt;\n    &lt;link href=\"../../Content/Flexigrid/css/flexigrid.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;script src=\"../../Scripts/wiltel.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n        var menuLoaded = false;\n        $(document).ready(function () {\n                $.ajax({\n                        url: \"/Home/MenuLayout\",\n                        type: \"GET\",\n                        success: function (response, status, xhr)\n                                    {\n                                        var nvContainer = $('#navcontainer');\n                                        nvContainer.html(response);\n                                        menuLoaded = true;\n                                    },\n                        error: function (XMLHttpRequest, textStatus, errorThrown)\n                                {\n                                        var nvContainer = $('#navcontainer');\n                                        nvContainer.html(errorThrown);\n                                }\n                        });\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container-fluid\"&gt;\n        &lt;div id=\"header\" class=\"row-fluid\"&gt;\n           &lt;div class=\"content-wrapper\"&gt;\n                &lt;p class=\"site-title\"&gt;&lt;img src=\"../../Content/images/LOGO1.png\" align =\"middle\" /&gt;\n                WILTEL COMUNICACIONES S.A &lt;/p&gt;\n           &lt;/div&gt;\n            &lt;div class=\"login\" &gt;\n                    &lt;p&gt;\n        Hola, &lt;a class=\"username\" href=\"/Account/ChangePassword\" title=\"Change password\"&gt;WILTEL01\\eallasino&lt;/a&gt;!\n        &lt;a href=\"/Account/LogOff\"&gt;Log off&lt;/a&gt;\n    &lt;/p&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div id=\"body\"&gt;\n       &lt;div class= \"menu1\"&gt;\n       &lt;div &gt;\n           &lt;div id=\"navcontainer\"&gt;\n\n           &lt;/div&gt;\n        &lt;/div&gt;\n       &lt;/div&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n    function showRolesSubGrid(subgrid_id, row_id) {\n        // the \"showSubGrid_OrdersGrid\" function is autogenerated and available globally on the page by the second child grid. \n        // Calling it will place the child grid below the parent expanded row and will call the action specified by the DaraUrl property\n        // of the child grid, with ID equal to the ID of the parent expanded row                \n        showSubGrid_RolesSubGrid(subgrid_id, row_id);\n    }\n&lt;/script&gt;\n&lt;div class=\"bloque\"&gt;\n    &lt;div class=\"ui-widget\"&gt;\n        &lt;h2&gt;Index&lt;/h2&gt;\n\n        &lt;p&gt;\n            &lt;a href=\"/MenuItem/Create\"&gt;Create New&lt;/a&gt;\n        &lt;/p&gt;\n        &lt;input name=\"__RequestVerificationToken\" type=\"hidden\" value=\"1kCOOa9WHClxCC_hs3GU_kmTYaRTvE2iB1Wk5SLCNp18j3CJv15Kvu9sUrA92qUP-nC9DnXoqx7LoIvMPJMfUoXMFjWjcz0tdZV2VN78MhY4Hcwhv1mv5LXZ58zroMVIX7oXaBsvJFI77wRBC_zs8zP1XpY1\" /&gt; \n        &lt;div&gt;           \n            &lt;table id='MenuGrid'&gt;&lt;/table&gt;&lt;div id='MenuGrid_pager'&gt;&lt;/div&gt;&lt;script type='text/javascript'&gt;\njQuery(document).ready(function() {jQuery('#MenuGrid').jqGrid({url: '/MenuItem/Datos?jqGridID=MenuGrid',editurl: '/MenuItem/ABM?jqGridID=MenuGrid&amp;editMode=1',mtype: 'GET',datatype: 'json',page: 1,colNames: [\"ID\",\"Name\",\"ActionName\",\"ControllerName\",\"Url\",\"Padre\"],colModel: [{\"key\":true,\"searchoptions\":{},\"index\":\"ID\",\"width\":20,\"name\":\"ID\"},{\"editable\":true,\"searchoptions\":{dataInit:function(el) {setTimeout(function() {var ec = 'AutoCompleteName';if (typeof(jQuery(el).autocomplete) !== 'function')alert('JQAutoComplete javascript not present on the page. Please, include jquery.jqAutoComplete.min.js');jQuery(el).autocomplete( eval(ec + '_acid') );},200);}},\"index\":\"Name\",\"width\":100,\"name\":\"Name\"},{\"editable\":true,\"searchoptions\":{},\"index\":\"ActionName\",\"width\":100,\"name\":\"ActionName\"},{\"editable\":true,\"searchoptions\":{},\"index\":\"ControllerName\",\"width\":100,\"name\":\"ControllerName\"},{\"editable\":true,\"index\":\"Url\",\"searchoptions\":{},\"name\":\"Url\"},{\"editoptions\":{\"value\":\"Inicio:Inicio;Acerca de...:Acerca de...;Tipos de Problemas:Tipos de Problemas;Menus:Menus;Usuarios:Usuarios;reas:reas;Workflow:Workflow;Interfaces:Interfaces;ERP:ERP;Administracin:Administracin;Prueba2:Prueba2;SubP1:SubP1;Roles:Roles\"},\"searchoptions\":{dataInit:function(el) {setTimeout(function() {var ec = 'AutoCompletePadre';if (typeof(jQuery(el).autocomplete) !== 'function')alert('JQAutoComplete javascript not present on the page. Please, include jquery.jqAutoComplete.min.js');jQuery(el).autocomplete( eval(ec + '_acid') );},200);}},\"editable\":true,\"index\":\"Padre\",\"name\":\"Padre\",\"edittype\":\"select\"}],viewrecords: true,scrollrows: false,prmNames: { id: \"ID\" },headertitles: true,pager: jQuery('#MenuGrid_pager'),subGrid: true,subGridOptions: {},subGridRowExpanded: showRolesSubGrid,loadError: jqGrid_aspnet_loadErrorHandler,hoverrows: false,rowNum: 10,rowList: [10,20,30],editDialogOptions: {\"closeAfterEdit\":true,\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },editData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},addDialogOptions: {\"closeAfterAdd\":true,\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },editData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},delDialogOptions: {\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },delData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},searchDialogOptions: {\"resize\":false,\"recreateForm\":true},jsonReader: { id: \"ID\" },sortorder: 'asc',multiselect: true,multiboxonly: true,width: '100%',height: '100%',viewsortcols: [false,'vertical',true]})\n.navGrid('#MenuGrid_pager',{\"edit\":true,\"add\":true,\"del\":true,\"search\":true,\"refresh\":true,\"view\":false,\"position\":\"left\",\"cloneToTop\":true},jQuery('#MenuGrid').getGridParam('editDialogOptions'),jQuery('#MenuGrid').getGridParam('addDialogOptions'),jQuery('#MenuGrid').getGridParam('delDialogOptions'),jQuery('#MenuGrid').getGridParam('searchDialogOptions') ).bindKeys();\nfunction jqGrid_aspnet_loadErrorHandler(xht, st, handler) {jQuery(document.body).css('font-size','100%'); jQuery(document.body).html(xht.responseText);};jQuery('#MenuGrid').filterToolbar({});});&lt;/script&gt;\n            &lt;table id='RolesSubGrid'&gt;&lt;/table&gt;&lt;div id='RolesSubGrid_pager'&gt;&lt;/div&gt;&lt;script type='text/javascript'&gt;\nfunction showSubGrid_RolesSubGrid(subgrid_id, row_id, message, suffix) {var subgrid_table_id, pager_id;\n                        subgrid_table_id = subgrid_id+'_t';\n                        pager_id = 'p_'+ subgrid_table_id;\n                        if (suffix) { subgrid_table_id += suffix; pager_id += suffix;  }\n                        if (message) jQuery('#'+subgrid_id).append(message);                        \n                        jQuery('#'+subgrid_id).append('&lt;table id=' + subgrid_table_id + ' class=scroll&gt;&lt;/table&gt;&lt;div id=' + pager_id + ' class=scroll&gt;&lt;/div&gt;');\n                jQuery('#' + subgrid_table_id).jqGrid({url: '/MenuItem/DatosRoles?jqGridID=RolesSubGrid&amp;parentRowID=' + row_id + '',editurl: '?jqGridID=RolesSubGrid&amp;editMode=1&amp;parentRowID=' + row_id + '',mtype: 'GET',datatype: 'json',page: 1,colNames: [\"ID\",\"RoleName\"],colModel: [{\"key\":true,\"searchoptions\":{},\"index\":\"RoleID\",\"width\":50,\"name\":\"RoleID\"},{\"index\":\"RoleName\",\"searchoptions\":{},\"name\":\"RoleName\"}],viewrecords: true,scrollrows: false,prmNames: { id: \"RoleID\" },headertitles: true,pager: jQuery('#' + pager_id),loadError: jqGrid_aspnet_loadErrorHandler,hoverrows: false,rowNum: 10,rowList: [10,20,30],editDialogOptions: {\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },editData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},addDialogOptions: {\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },editData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},delDialogOptions: {\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },delData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},searchDialogOptions: {\"resize\":false,\"recreateForm\":true},jsonReader: { id: \"RoleID\" },sortorder: 'asc',width: '650',height: '350',viewsortcols: [false,'vertical',true]})\n.bindKeys();\nfunction jqGrid_aspnet_loadErrorHandler(xht, st, handler) {jQuery(document.body).css('font-size','100%'); jQuery(document.body).html(xht.responseText);};}&lt;/script&gt;\n\n        &lt;/div&gt;\n        &lt;script type='text/javascript'&gt;var AutoCompleteName_acid = { id: 'AutoCompleteName',source: '/MenuItem/AutoCompleteName' };&lt;/script&gt;\n        &lt;script type='text/javascript'&gt;var AutoCompletePadre_acid = { id: 'AutoCompletePadre',source: '/MenuItem/AutoCompletePadre' };&lt;/script&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n\n\n    &lt;/div&gt;\n\n    &lt;footer&gt;\n       &lt;div class =\"Info\"&gt;\n            &lt;h3&gt;INFO/NOVEDADES:&lt;/h3&gt;\n\n        &lt;/div&gt;        \n    &lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is where I get the error:</p>\n\n<pre><code>    jQuery('#' + subgrid_table_id).jqGrid({\n    url: '/MenuItem/DatosRoles?jqGridID=RolesSubGrid&amp;parentRowID=' + row_id + '',\n    editurl: '?jqGridID=RolesSubGrid&amp;editMode=1&amp;parentRowID=' + row_id + '',\n    mtype: 'GET',\n    datatype: 'json',\n    page: 1,\n    colNames: [\"ID\", \"RoleName\"],\n    colModel: [{\n        \"key\": true,\n        \"searchoptions\": {},\n        \"index\": \"RoleID\",\n        \"width\": 50,\n        \"name\": \"RoleID\"\n    }, {\n        \"index\": \"RoleName\",\n        \"searchoptions\": {},\n        \"name\": \"RoleName\"\n    }],\n    viewrecords: true,\n    scrollrows: false,\n    prmNames: {\n        id: \"RoleID\"\n    },\n    headertitles: true,\n    pager: jQuery('#' + pager_id),\n    loadError: jqGrid_aspnet_loadErrorHandler,\n    hoverrows: false,\n    rowNum: 10,\n    rowList: [10, 20, 30],\n    editDialogOptions: {\n        \"recreateForm\": true,\n        errorTextFormat: function (data) {\n            return 'Error: ' + data.responseText\n        },\n        editData: {\n            __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val()\n        }\n    },\n    addDialogOptions: {\n        \"recreateForm\": true,\n        errorTextFormat: function (data) {\n            return 'Error: ' + data.responseText\n        },\n        editData: {\n            __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val()\n        }\n    },\n    delDialogOptions: {\n        \"recreateForm\": true,\n        errorTextFormat: function (data) {\n            return 'Error: ' + data.responseText\n        },\n        delData: {\n            __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val()\n        }\n    },\n    searchDialogOptions: {\n        \"resize\": false,\n        \"recreateForm\": true\n    },\n    jsonReader: {\n        id: \"RoleID\"\n    },\n    sortorder: 'asc',\n    width: '650',\n    height: '350',\n    viewsortcols: [false, 'vertical', true]\n}).bindKeys();\n</code></pre>\n\n<p>I'll apreciate any solve direction...</p>\n"},{"tags":["mvc","templates","dataannotations","t4","scaffolding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":12412697,"title":"MVC3 custom template t4 and DataAnnotations","body":"<p>here is my model with DataAnnotations</p>\n\n<pre><code>[DisplayName(\"Title1\"),Display(Name=\"Title2\")]\npublic class MyClass\n{\n  [Display(Name = \"My Class Name\")]\n  public string class_name { get; set; }\n}\n</code></pre>\n\n<p>I would like to know how to access these DataAnnotations of class MyClass (i.e. DisplayName attibute)\nin my T4 template Index.cs.t4</p>\n\n<pre><code>&lt;# } #&gt;\n@{\n  ViewBag.Title = \"&lt;#= viewDataType.Name   #&gt;\";\n  &lt;# if (!String.IsNullOrEmpty(Model.Layout)) { #&gt;\n  Layout = \"&lt;#= Model.Layout #&gt;\";\n&lt;# } #&gt;\n}\n</code></pre>\n\n<p>instead putting viewDataType.Name I would like to have the value of DisplayName attibute of class MyClass</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","html-helper","outputcache"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12568589,"title":"Whats the recommended way to cache 'expensive' queries in an MVC HTML Helper?","body":"<p>I am trying to use output caching on an HTML Helper.  However, even with the attribute set, this code block is always entered when the Helper method is called.  Since the outputcache attribute won't work in this scenario, what would be the recommended way of caching \"expensive\" queries in Html Helpers?</p>\n\n<pre><code>     [OutputCache(Duration = 60)]\n     public static MvcHtmlString CountryDropDownListFor&lt;TModel, TValue&gt;(this HtmlHelper&lt;TModel&gt; html, Expression&lt;Func&lt;TModel, TValue&gt;&gt; expression, object selectedValue)\n    {\n        var doc = new XmlDocument();\n        doc.Load(HttpContext.Current.Server.MapPath(\"~/App_Data/countries.xml\"));\n\n        var items = new Dictionary&lt;string, string&gt;();\n\n        foreach (XmlNode node in doc.SelectNodes(\"//country\"))\n        {\n            items.Add(node.InnerText, node.InnerText);\n        }\n\n        return html.DropDownListFor(expression, new SelectList(items, \"key\", \"value\", selectedValue));\n    }\n</code></pre>\n"},{"tags":["c#","jquery","ajax","mvc","asp.net-mvc-3"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":15636,"score":2,"question_id":6566298,"title":"MVC3 Razor and Modal popup","body":"<p>i need to get a Modal popup that displays a form which will save data back to the db.\nis there is good example of doing it? is Ajax more flexible or using jquery dialog?</p>\n"},{"tags":["c#","php","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12579891,"title":"c# developer choose what php framework","body":"<p>I'm sure this question is asked a lot but I want to describe my situation as developer and based on that it will be great to recommend me what to choose.</p>\n\n<p>I'm .net c# developer and I have basic understanding of php, that means that I'm familiar with  php syntax. Since I'm using mvc pattern on all .net web applications I want to use in php as well. </p>\n\n<p>What orm should you recommend me to work with php, I'm using nhibernate in .net. Is there some webprovider as part of the framework which handled user membership and management. </p>\n\n<p>Thanks</p>\n"},{"tags":["ios","mvc","ios-universal-app"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12578140,"title":"How do i design an iOS universal application for differing 'view' schemes?","body":"<p>I'm working on building a universal iOS configuration application for the iPhone/iPad. But the  layouts ('views') for the iPad are considerably different from that of the iPhone. Considering that only the appearance of the application ('views') change w.r.t the device, what is the most efficient design approach i could follow?</p>\n\n<p>Things I've already looked at</p>\n\n<ol>\n<li><p>I've looked at one strategy where different View controllers are loaded depending on the device in use. But this might be an overkill considering that the 'controls' are the same across devices and only the appearance of the application changes.</p></li>\n<li><p>The use of functions to resize the view frames to layout views as needed automatically. This does not help me much because there is a need to not only change the size of the views but load different views altogether depending on the device.</p></li>\n<li><p>To keep the viewController unchanged but configure the views inside the viewController differently. Right now this seems like the best way to do it, but the application is kinda heavy and it might become very messy in the long run. Or is there a very efficient way to do this?</p></li>\n</ol>\n\n<p>Is there a design strategy for this? \nOr is there any way i can accomplish this efficiently while optimizing effort?</p>\n"},{"tags":["mvc","dependency-injection","unit-of-work"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12573538,"title":"Expensive Object Creation with Dependency Injection","body":"<p>I'm new to DI and I am working on an MVC project where a controller is injected a <a href=\"http://www.martinfowler.com/eaaCatalog/unitOfWork.html\" rel=\"nofollow\">UnitOfWork</a> and this UnitOfWork contains Repositories for each entity type in my domain.  Using <a href=\"http://msdn.microsoft.com/en-us/library/ff714955.aspx\" rel=\"nofollow\">MSDN</a> as a guide, I originally had something like</p>\n\n<pre><code>public IRepository&lt;Employee&gt; Employees {\n    get {\n        if (_employees == null) {\n            _employees = new SqlRepository&lt;Employee&gt;(_context);\n        }\n        return _employees;\n    }\n}\n</code></pre>\n\n<p>However, I thought it'd be nice to inject the Repository, for example:</p>\n\n<pre><code>public SqlUnitOfWork(IRepository&lt;Employee&gt; employees)\n{\n    this.Employees = employees;\n}\n</code></pre>\n\n<p>But what if creating the SqlRepository is very expensive.  Not every controller action uses every repository.  Before I changed to DI, each repository would only be created if they were accessed.  However, now all repositories are created with the UnitOfWork.  I'm trying to determine whether or not it is worth it to inject SqlRepositories when I'm already in a SqlUnitOfWork? Or, should I follow the MSDN example?</p>\n"},{"tags":["php","forms","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12575617,"title":"Form Validate not running","body":"<p>I have read all other questions, including everything on google. There's no visible difference between this one and the same method I'm using for register.\nIt's a very basic concept that doesn't want to work.</p>\n\n<p>Doing a dump of $_POST shows the correct empty string, so something else is going wrong somewhere.</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public function details(){\n    $this-&gt;load-&gt;library('form_validation');\n    //$this-&gt;form_validation-&gt;set_message('current-password', 'Incorrect password');\n    $this-&gt;form_validation-&gt;set_rules('current-password', 'Password', 'required');\n    $this-&gt;load-&gt;view('details', $data);\n}\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>&lt;?php echo validation_errors(); ?&gt;\n&lt;?php echo form_open('user/details'); ?&gt;\n    &lt;input type=\"password\" name=\"current-password\" id=\"current-password\" value=\"\"/&gt;\n    &lt;input type=\"submit\" class=\"submit-save\" value=\"save\"/&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12574975,"title":"Callinf action in controller via jquery","body":"<p>I am new to MVC and I am continuing to learn more each day. I am converting and webform application to MVC for practice and wanted to know is there a way to call GET on a action and return json, array or whatever I want on document.ready function? I can do this using webapi, but I would rather do it using an action in the controller. I like the helpers that they Microsoft provides but they are for forms and action links, etc. Thanks for any help.</p>\n\n<pre><code>$(document).ready(function(){\n$.ajax(Somehow call controller action here with data), success(function that returns json data)\n});\n</code></pre>\n"},{"tags":["asp.net","jquery","mvc","forms"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":884,"score":0,"question_id":1714883,"title":"Show message box with form entries on submitting the from in asp.net mvc","body":"<p>I have a form which takes multiple inputs from user. Now I wanna show the inputs in a confirmation dialog and submit the form if user clicks OK. CanI use jQuery here??</p>\n"},{"tags":["asp.net","jquery","mvc","form-validation","drop-down-menu"],"answer_count":7,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2283,"score":2,"question_id":4543553,"title":"asp.net mvc jquery dropdown validation","body":"<p>how i can validate dropdownlist with unobtrusive javascript ? As its validating textbox for required validator , but its not working for dropdownlist ?</p>\n\n<p>Need to change unobtrusive js file for it ? or is there any other option to validate dropdownlist ?</p>\n\n<p>i want to show errors when i checked form.validate() in my javascript .</p>\n"},{"tags":["javascript","mvc","javascript-framework","backbone.js"],"answer_count":3,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":1037,"score":4,"question_id":6095194,"title":"Backbone.js with non RESTful app? (is Backbone.js right for my current project?)","body":"<p>I'm trying to figure out if Backbone.js is the right framework for my current project: a visualization app.</p>\n\n<p>I have a number of questions:</p>\n\n<p><strong>1) State / Routing?</strong></p>\n\n<p>As this is not your typical RESTful app, but rather a visualization application with various chart types and settings for these charts, how do i maintain state in the URL?\nLet's say my areaChart model has a number of defaults like this:</p>\n\n<pre><code>AreaChartModel = Backbone.Model.extend({\n    defaults: {\n        selectedCountries: [],\n        year: 1970,\n        stacked: false\n    },\n    initialize: function(){\n        [...]\n    }\n});\n</code></pre>\n\n<p>On an update to the model I'd like to serialize some of these attributes so that I can bookmark the specific state: chartApp.html#!year=1970&amp;stacked=false etc.</p>\n\n<p>And vice-versa, when initing the app with this state, how do I \"deparam\" the url state and set the model? Can I use Backbone's intrinsic routing?</p>\n\n<p><strong>2) Controller and coupling?</strong></p>\n\n<p>It seems as Backbone has a pretty tight view-model coupling?\nIs this really how I should bind for example my areaChartView to the model?</p>\n\n<pre><code>AreaChartView = Backbone.View.extend({\n    initialize: function(){\n        areaChartModel.bind(\"change:year\", this.render);\n    }\n});\n</code></pre>\n\n<p>Isn't this normally the role of the controller?</p>\n\n<p><strong>3) Continuation: Model vs. Controller?</strong></p>\n\n<p>Given this scenario:<img src=\"http://i.stack.imgur.com/MW1zi.png\" alt=\"enter image description here\"></p>\n\n<p>A change in the \"Sidebar\" should trigger a sequence of functions:<br>\n1) \"New data for the current selection should be loaded\"<br>\n2) \"Based on this data, the scales in the Visualization view should be updated\"<br>\n3) \"The visualization view should be rendered\"</p>\n\n<p>Where should I place these functions and how can I create an event in the model that I trigger when the state is stable? (i.e. when all the functions have been invoked and it's time to set the view states?)</p>\n"},{"tags":["ruby-on-rails-3","mvc","routes","link-to"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12572303,"title":"link_to :controller, :action in view not working ruby on rails","body":"<p>Trying to use link_to to send info to action in my controller.</p>\n\n<p>Link looks like this:</p>\n\n<pre><code>&lt;%= link_to \"Buy\", {:controller =&gt; :policies, :action =&gt; :policy_option_price_calc, :option =&gt; \"policy_option_a_cost\" }, {:method =&gt; :post}  %&gt;\n</code></pre>\n\n<p>I have a policies controller and inside my action looks like this:</p>\n\n<pre><code>def policy_option_price_calc(params)\n   #logic stuff\n\n   render :partial =&gt; \"/policies/swipe_protect/price_total\"\nend\n</code></pre>\n\n<p>and in my routes I have:</p>\n\n<pre><code>resources :policies\n    member do\n        post 'policy_option_price_calc'\n    end\nend\n</code></pre>\n\n<p>I don't know why but I am getting this url when clicking the link_to link:</p>\n\n<pre><code>http://localhost:3000/?action=policy_option_price_calc&amp;controller=policies&amp;option=policy_option_a_cost\n</code></pre>\n\n<p>Which of course doesn't exist, but its not even giving me an error its just being processed by my <code>HomeControll#index</code></p>\n\n<p>I have looked at: </p>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-button_tag\" rel=\"nofollow\">Form tag helpers</a></p>\n\n<p><a href=\"http://guides.rubyonrails.org/routing.html\" rel=\"nofollow\">rubyguild routing</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/7558601/rails-3-link-or-button-that-executes-action-in-controller\">Stack overflow question</a></p>\n\n<p>Plus many more. Any help would be appreciated, thanks.</p>\n"},{"tags":["c++","mvc","fsm"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12536977,"title":"How do I integrate a finite state machine into my application?","body":"<p>Hi and sorry advance if this has already been covered.</p>\n\n<p>I'm mainly preoccupied with writing numerical software but I'm a bit of a noob when it comes to application design. </p>\n\n<p>I've written a library that essentially takes input from different data streams or static files, performs some data analysis and outputs the data to screen or file etc and I've decided to write a gui application to make it a bit more user friendly. </p>\n\n<p>The sequence in which library calls must be made is fairly simple but there are some constraints on which events should be handled depending on the state the application is in. I.e. I don't want the user to start grabbing from a data source whilst they are already processing from another. </p>\n\n<p>So I've decided to use a finite state machine. However, I was wondering on what the best practice for integrating a finite state machine into your application is. Should I make it the public interface to my library or should I essentially use it as the controller in an MVC framework, with the library being the model and GUI being the view? Or is there a better way of controlling the flow of your application?</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["spring","mvc","junit4","noclassdeffounderror"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12465932,"title":"NoClassDefFoundError with Spring 3.1 Controller Unit Test","body":"<p>I have a simple <code>autowired</code> Controller and a test. When the project is built with mvn and code coverage goals emma:emma and emma:check, the test case fails with following error.</p>\n\n<p>Simple \"mvn test\" command succeeds.\n\"mvn test emma:emma emma:check\" fails.</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/web/bind/support/WebDataBinderFactory\n</code></pre>\n"},{"tags":["jquery","asp.net-mvc","mvc","datatable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12566176,"title":"Retrieve the filtertype of the ColumnFilter Plugin of jQuery DataTable","body":"<p>I am using jQuery DataTable and found some nice Plugin for making filtering easier. It is called ColumnFilter and it is available here:</p>\n\n<p><a href=\"http://code.google.com/p/jquery-datatables-column-filter/\" rel=\"nofollow\">http://code.google.com/p/jquery-datatables-column-filter/</a></p>\n\n<p>Using this plugin is really easy. Right after declaring the DataTable, it is configured like this: </p>\n\n<pre><code>oTable.columnFilter({\n  aoColumns: [\n    { type: \"number-range\" },\n    { type: \"text\" },\n    { type: \"text\" }\n  ]\n});\n</code></pre>\n\n<p>When actually filtering the datasource serverside, I need to know what types has been set in the columnfilter plugin. The reason behind this is, that I encapsulated a generic approach for filtering that basically allows me to do this on an entity in the serverside controller action:</p>\n\n<pre><code>Public Function DataProviderAction(ByVal dataTableParams As JQueryDataTableParamModel) As JsonResult\n  Return GetJson(dataTableParams, Request.Params,\n    Function(r) New String() {\n      Convert.ToString(r.Id),\n      r.Description,\n      r.Comment})\nEnd Function\n</code></pre>\n\n<p>This works due to the fact that the controller is derived from a generic basecontroller Of T. The GetJson method expects a Lambda expression for the creation of a string array. The rest (filtering, sorting and paging) is done in a couple of extension methods on IQueryable(Of T).</p>\n\n<p>Somewhere down the road there exists a strategy that holds a couple of specific filter implementations that are independent of the actual type. This is realized with Dynamic Linq and looks like this:</p>\n\n<pre><code>Public Function ApplyFilter(Of T As {IDataObject})(entities As IQueryable(Of T), filterInfo As System.Tuple(Of String, String)) As IQueryable(Of T) Implements ISmartFilter.ApplyFilter\n  Dim result As IQueryable(Of T) = Nothing\n\n  Try\n    result = entities.Where(If(filterInfo.Item1 = \"\", True, String.Format(\"{0}.ToLower().Contains(@0)\", filterInfo.Item2)), filterInfo.Item1.ToLower)\n  Catch\n  End Try\n\n  Return result\nEnd Function\n</code></pre>\n\n<p>What happens here, is that this Where extension creates an expression that basically says something like \"Where( Description.ToLower().Contains(filtertext))\".</p>\n\n<p>However, I need to call the correct strategy corresponding to the filtertype set in the UI. At the moment, I simply have a context class that holds instances of all Filters and implements a method that iterates through all of them, checking conditions on which it decides whether or not to apply this filter.</p>\n\n<p><strong>It would be easier if I just KNEW the filtertype.</strong> :)</p>\n\n<p>So the question is:</p>\n\n<p>How am I able to put the aoColumns array from dataTable.columnFilter into the parameter list of DataTable so that I can access it from the DataProviderAction method mentioned above?</p>\n\n<p>I also must not alter any code of dataTable and/or columnFilter itself...</p>\n"},{"tags":["javascript","mvc","backbone.js","file-structure"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12566588,"title":"A decent file-structure for my js mvc app","body":"<p>As our in-house app is growing so is the frontend that I'm building with various open source technologies including backbone as an mvc base and require.js as a dependancy manager.</p>\n\n<p>That aside I'm in the process of separating boilerplate code from views, models, collections and routes into a sort of core-library. As I'm doing that I'm reviewing the file-structure and would like weigh in the opinion of others who might have experience/ideas in regards to this.</p>\n\n<p>Right now this is how my structure looks:</p>\n\n<pre><code>public\n    assets\n        css\n            lib                 &lt; CSS libraries used within app\n            app                 &lt; app specific CSS assets\n        images                  &lt; image assets\n        js\n            lib                 &lt; JS libraries used within app\n            lib_ext             &lt; Library overrides\n            app                 &lt; app specific JS\n                collection\n                model\n                template\n                view\n</code></pre>\n\n<p>My current plan of action is to have a 'core' folder in 'js' which has a similar structure to 'app'. All code in the core would be completely decoupled. The classes in app would then inherit from core and only set attributes specific to its' use...</p>\n\n<p>Any opinions on this that I should take into account?</p>\n\n<p>Here is a point on which I'm for example not really sure about:\nWould you put html templates into the core?</p>\n"},{"tags":["objective-c","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":683,"score":1,"question_id":6304326,"title":"confused with MVC in Objective C","body":"<p>I have a small slots game almost developed for iPad as this is my very first interaction with any of Apple technology, so I never really designed this application properly while developing, I want to mould this code into, what apple advocates, <code>Model-View-Controller</code> style. I read a lot about it but still confused.\nThis is what I have:</p>\n\n<ol>\n<li>ViewController class created by\ndefault</li>\n<li>Some methods to control the\nanimation</li>\n<li>Textiles for some data and some\nmethods to access them</li>\n<li>Methods to calculate payouts and\nwinning amounts</li>\n</ol>\n\n<p>So what should I exactly do now to convert it into MVC, how should my approach be?\nAlso tell me any good books or online documentation for the same</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["mvc","layout","zend-framework2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":122,"score":1,"question_id":12550144,"title":"Zend Framework 2: Modify details of layout.pthml in controllers","body":"<p>When I study skeleton application of <code>Zend Framework 2</code>, I want to add a label at upper-right of page to show the <code>UserName</code> who have logged in. But, I am confused at the code of the navigation bar that  was defined in <code>layout.pthml</code>,how can controller communicate with the <code>layout.phtml</code> to modify it?</p>\n\n<p>Thanks in advance!</p>\n\n<p>Furthermore, I want a login form upper-right of page when user not logged in using a helper.But i don't know how to add a form using helper,what should i do?</p>\n"},{"tags":["mvc","controller","cakephp-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12544990,"title":"cakephp2 controllers getting too big","body":"<p>I have a cakephp2 app and the controllers are getting really big.  Is there a best practice for breaking out bits of code into other functions that are not supposed to be actions?  </p>\n\n<p>*Sorry it has been a looong time since I did this with cakephp1.0 and back then I think I called them _functionname, which seems wrong these days.*</p>\n"},{"tags":[".net","asp.net","mvc","captcha"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":841,"score":1,"question_id":1338896,"title":"Trouble with ASP.NET CAPTCHA Control Sample with ASP.NET MVC","body":"<p>I am trying to use the following <a href=\"http://www.codeproject.com/KB/custom-controls/CaptchaControl.aspx\" rel=\"nofollow\">A CAPTCHA Server Control for ASP.NET - by Jeff Atwood</a> within an ASP.NET MVC site.  The custom control doesn't seem to be validating when the form is submitted.</p>\n\n<p>Is there anyone who has done any work with this sample using ASP.NET MVC?</p>\n\n<p>The basic code I am using is as follows:</p>\n\n<pre><code>&lt;% using (Html.BeginForm()) { %&gt;\n&lt;CaptchaControl:CaptchaControl ID=\"CaptchaControl\" Name=\"Security\" runat=\"server\"&gt;&lt;/CaptchaControl:CaptchaControl&gt;\n&lt;input type=\"submit\" value=\"Send Message\" /&gt;\n&lt;% } %&gt;\n</code></pre>\n"},{"tags":["mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":190,"score":2,"question_id":2608530,"title":"MVC best practice when adding functions to controller?","body":"<p>I'm writing a function in my controller; this is supposed to take in a form, process it, register the user in DB, send a confirmation email etc etc.</p>\n\n<p>to avoid this function to be too cluttered, I was thinking of calling some sub-functions (eg:</p>\n\n<pre><code>function registration()\n{\n  //process form..\n\n  _insertInDb($formdata)\n\n  _send_mail($address);\n\n  //load confirmation view..\n}\n\nfunction _send_mail($to)\n{\n  //code here\n}\n\nfunction _insertInDb($formdata)\n{\n  //other code here...\n}\n</code></pre>\n\n<p>I'm not sure whether writing all the functions in the controller would be best practice -maybe I should insert all 'supporting' function (eg send_mail and insertInDb in this example) in another file and then import them?</p>\n\n<p>This would probably make the controller much more readable..\nwhat's your view?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","methodology"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":580,"score":2,"question_id":508587,"title":"ActionMailer best practices: Call method in the model or the controller?","body":"<p>Sending an email is usually called after an action on a model, but the email itself is a view operation. I'm looking for how you think about what question(s) to ask yourself to determine where to put the action mailer method call.  </p>\n\n<p>I've seen/used them:</p>\n\n<ul>\n<li>In a model method - bad coupling of related but seperate concerns?</li>\n<li>In a callback in the model (such as after_save) - best separation as far as I can tell with my current level of knowledge.</li>\n<li>In the controller action - just feels wrong, but are there situations were this would be the smartest way to structure the code?</li>\n</ul>\n\n<p>If I want to know how to program I need to think like a programmer, so learning how you go about thinking through particular programming solutions is worth months of coding on my own in isolation. Thank you!</p>\n"},{"tags":["c#","html","mvc","listbox","html-helper"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":10798654,"title":"Listbox html helper returning zero objects to Post function","body":"<p>I trying to get a listbox for a module I've created to work. The selector works (the titles of the selectable entities appear but there is no data returned to the Post function in the controller.</p>\n\n<p>I don't know what you would need to be able to help me, but here is at least the html code.</p>\n\n<p>HTML code:</p>\n\n<pre><code>    &lt;div class=\"field required\"&gt;\n        @Html.LabelFor(model =&gt; model.Sessions)\n        @Html.ListBox(\"Sessions\", new SelectList(Model.Sessions, \"Id\", \"Title\", 1));\n        @Html.ValidationMessageFor(model =&gt; model.Sessions)\n    &lt;/div&gt;\n</code></pre>\n"},{"tags":["visual-studio-2010","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":7355064,"title":"Mixing MVC 1 and MVC 3","body":"<p>Is there a way to have a project use MVC1 in certain areas and use MVC3 in other areas?\nI have some previous code written but I was thinking of using MVC 3 to add other features.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","swing","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12559194,"title":"MVC pattern with java Swing","body":"<p>I have an Idea to develop a java Swing application using the MVC pattern. I have described my idea below and please let me know that, is this a correct way of using the MVC pattern for java Swing?</p>\n\n<ul>\n<li>this is the view</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/mlwy3.png\" alt=\"enter image description here\"></p>\n\n<p>following methods are used to get and set the name of the above view,</p>\n\n<pre><code>//at top of the view its model and controller is defined as\n    Model model = null;\n    Controller controller = null;\n\n//constructor\npublic view(){\n   this.model = new Model();\n   this.controller = new Controller(this, model);//controller takes view and model as its parameters.\n}\n\n\npublic void v_addShowNameButtonsActionListener(ActionListener al){\n    btnActionListener.addActionListener(al);\n}\n\npublic String v_getName(){\n    return txtName.getText();// txtName is the name of the text field.\n}\n\npublic void v_setName(String name){\n    txtName.setText(name);\n}\n</code></pre>\n\n<ul>\n<li>this is the controller</li>\n</ul>\n\n<blockquote>\n<pre><code>  /*at the top of the controller define the view and model*/\n\n    View view = null;\n    Model model = null;\n\n    /* constructor of the controller*/\n    public Constructor(View view, Model model){\n      this.view = view;\n      this.model = model;\n    }   \n\n    class CreateShowNameButtonsActionListener implements ActionListener{\n      @Override\n      public void actionPerformed(ActionEvent e) {\n          Connection con = null;\n          try{\n              con = ******************** /*get the data base connection*/    \n              view.setName(model.m_getName(con));\n          }catch(Exception ex){\n              ex.printStackTrace();\n          }finally{\n              con.close();\n          }\n      }\n    }\n</code></pre>\n</blockquote>\n\n<ul>\n<li>this is the model</li>\n</ul>\n\n<blockquote>\n<pre><code>Public class Model{\n   public String m_getName(Connection con){\n      String name;\n\n      name = ******* //do database queries and set get the name form the database\n\n      return name;\n   }\n}\n</code></pre>\n</blockquote>\n\n<p>I have briefly described the way I am going to implement the MVC pattern in java Swing.</p>\n"},{"tags":["javascript","mvc","mobile","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":213,"score":0,"question_id":12557610,"title":"Sencha Touch 2 dynamic button on Navigation View","body":"<p>I'm trying to <code>initialize()</code> and <code>destroy()</code> dynamically a button on Navigation View's bar from another view. Button is created fine, but I can't remove it... Tried also <code>hide()</code>, but it's being called twice and isn't helpful. So I'm officially stuck, please help! :-)</p>\n\n<p><strong>My Controller:</strong></p>\n\n<pre><code>Ext.define('MyApp.controller.Application', {\n    extend: 'Ext.app.Controller',\n\n    config: {\n        refs: {\n            buttonNew1: '#btn-new1',\n            buttonNew2: '#btn-new2',\n            buttonNew3: '#btn-new3',\n            buttonNew4: '#btn-new4',\n            buttonDataNew: '#btn-data-new'\n        },\n\n        control: {\n            buttonNew1: { tap: 'onNewButtonTap' },\n            buttonNew2: { tap: 'onNewButtonTap' },\n            buttonNew3: { tap: 'onNewButtonTap' },\n            buttonNew4: { tap: 'onNewButtonTap' },\n            buttonDataNew: { tap: 'onDataNewButtonTap' },\n        }\n    },\n\n    onNewButtonTap: function(button) {\n        console.log(button);\n    },\n\n    onDataNewButtonTap: function(button) {\n        console.log(button);\n    }\n});\n</code></pre>\n\n<p><strong>My Navigation View:</strong></p>\n\n<pre><code>Ext.define('MyApp.view.Main', {\n    extend: 'Ext.navigation.View',\n    xtype: 'view-main',\n\n    config: {\n        autoDestroy: false,\n\n        items: [\n            {\n                xtype: 'container',\n                layout : { type: 'vbox', pack: 'top', align: 'middle' },\n\n                items: [\n                    {\n                        xtype: 'container',\n                        layout: 'hbox',\n\n                        items: [\n                            {\n                                xtype: 'button',\n                                id: 'btn-new1',\n                                text: 'New1'\n                            },\n                            {\n                                xtype: 'button',\n                                id: 'btn-new2',\n                                text: 'New2'\n                            }\n                        ]\n                    },\n                    {\n                        xtype: 'container',\n                        layout: 'hbox',\n\n                        items: [\n                            {\n                                xtype: 'button',\n                                id: 'btn-new3',\n                                text: 'New3'\n                            },\n                            {\n                                xtype: 'button',\n                                id: 'btn-new4',\n                                text: 'New4'\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n});\n</code></pre>\n\n<p><strong>My Data View:</strong></p>\n\n<pre><code>Ext.define(\"MyApp.view.Data\", {\n    extend: 'Ext.dataview.DataView',\n    xtype: 'view-data',\n\n    config: {\n        useComponents: true,\n        layout: { type: 'fit', align: 'center' },\n        defaultType: 'view-data-item',\n        store: 'MyStore'\n    },\n\n    initialize: function() {\n        this.callParent();\n        Ext.Viewport.getActiveItem().getNavigationBar().add(Ext.create('Ext.Button', {\n            id: 'btn-data-new',\n            ui: 'normal',\n            iconCls: 'add1',\n            align: 'right',\n            iconMask: true,\n            hideAnimation: Ext.os.is.Android\n                ? false : { type: 'fadeOut', duration: 200 },\n            showAnimation: Ext.os.is.Android\n                ? false : { type: 'fadeIn', duration: 200 }\n        }));\n    },\n\n    destroy: function() {\n        this.callParent();\n        var button = Ext.getCmp('btn-data-new');\n        if (button) {\n            Ext.Viewport.getActiveItem().getNavigationBar().remove(button);\n        }\n    }\n});\n</code></pre>\n"},{"tags":["php","mvc","no-framework"],"answer_count":14,"favorite_count":28,"up_vote_count":48,"down_vote_count":0,"view_count":14504,"score":48,"question_id":152101,"title":"MVC tutorial that doesn't rely on a framework?","body":"<p>I want to learn MVC \"architecture pattern\" but I don't want to jump into a framework like Rails or Django just yet.  I want to understand the concept first and write some simple code in my currently familiar environment, which happens to be php/html/css/mysql.  I don't necessarily need a tutorial that is based on php, as I do understand a lot of different languages. And I don't want to have to install any frameworks or APIs or libraries.  I just want to learn how to think in MVC and apply it to my projects. Any suggestions?</p>\n"},{"tags":["mvc","zend-framework","layout","action"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12530122,"title":"the action view does not take the layout zend framework","body":"<p>i have contact us controller , that has a form submitted to send action , so after submitting the link is , contactus/send/ </p>\n\n<p>you can see the full layout design in contactus index view , but when i call the action , it seems he can't see the layout , and represent only as text with no css or javascript.</p>\n"},{"tags":["objective-c","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":55,"score":-5,"question_id":12554518,"title":"Is there a way to tell what are the MVCs in Objective C","body":"<p>MVC Paradigm - can one tell <strong>from just looking at the Code</strong>?</p>\n\n<ol>\n<li>If I showed you Objective C code, could you tell which modules are\nModels, which are Views, and which are Controllers? </li>\n<li>In other words, is the \"keyword\" ViewController mean that it controls the View,\nor that it is a Controller? </li>\n<li>Or if someone uses that word, can it possibly be a model? </li>\n<li>Can mis-labeling a .h or a .m section have any\neffect on whether it is a Model or a View or a Controller?</li>\n</ol>\n"},{"tags":["jquery","mvc","playframework","playframework-1.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":152,"score":0,"question_id":12545595,"title":"render JSON data in view - play framework","body":"<p>I am new to play. I am using renderJSON to generate JSON data. How can I access this data in my view. I tried render(\"view\",jsonobject). while I am trying to access this object in jquery script, not receiving any data here. </p>\n\n<p>I tried with an ajax call. following methods are in my controller</p>\n\n<pre><code>public static void getJSONWords(){\n .......\n render(jsonObject);\n}\n\npublic static void wordcloud(){\n    render();\n}\n</code></pre>\n\n<p>and my view \"wordcloud.html\" makes an ajax</p>\n\n<pre><code>       $.ajax({\n\n    url: \"/getJSONWords\",\n    dataType : 'json',\n    success: function (data) {\n             .......\n            });\n</code></pre>\n\n<p>but I'm not getting any data for our ajax call. I tried with Firfox debugger, check log file ajax call is calling respective controller action. thanks for your help</p>\n"},{"tags":["asp.net-mvc-3","mvc","razor","controller","devexpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":239,"score":0,"question_id":12458597,"title":"How to pass a parameter to your Controller, through a button click in MVC?","body":"<p>May someone assist me with how to tie up my parameters from a combobox to a parameter on one of my action's in my controller. I am using DevExpress control suite and this is my code:</p>\n\n<pre><code> [HttpPost]\n public ActionResult Filter(string filterCriteria)\n {\n     ViewData.Model = Repository.GetReports(filterCriteria);\n     return RedirectToAction(\"Index\");\n }\n</code></pre>\n\n<p>And this is my view :</p>\n\n<pre><code>&lt;div style=\"float:right;padding-bottom:20px;\" &gt;\n@using (Html.BeginForm())\n{\n&lt;table&gt;&lt;tr&gt;&lt;td&gt;\nFilter by Keyword:&lt;/td&gt;\n&lt;td&gt;\n@Html.DevExpress().DropDownEdit(\n    settings =&gt;\n    {\n        settings.Name = \"checkComboBox\";\n        settings.Width = 210;\n        settings.Theme = Utils.CurrentTheme;\n        settings.Properties.DropDownWindowStyle.BackColor = System.Drawing.Color.FromArgb(0xEDEDED);\n        settings.Properties.ClientSideEvents.ValueChanged = \"function(s, e) {e.customArgs[\\\"filterCriteria\\\"] = checkComboBox.Name.toString();}\";\n\n        settings.SetDropDownWindowTemplateContent(c =&gt;\n        {\n            @Html.DevExpress().ListBox(\n                listBoxSettings =&gt;\n                {\n                    listBoxSettings.Name = \"checkListBox\";\n                    listBoxSettings.SkinID = \"CheckComboBoxListBox\";\n                    listBoxSettings.CallbackRouteValues = new { Controller = \"Report\", Action = \"Filter\" };\n                    listBoxSettings.Theme = Utils.CurrentTheme;\n                    listBoxSettings.ControlStyle.Border.BorderWidth = 2;\n                    listBoxSettings.ControlStyle.BorderBottom.BorderWidth = 1;\n                    listBoxSettings.ControlStyle.BorderBottom.BorderColor = System.Drawing.Color.FromArgb(0xDCDCDC);\n                    listBoxSettings.Width = System.Web.UI.WebControls.Unit.Percentage(100);\n                    listBoxSettings.Height = 100;\n\n                    listBoxSettings.Properties.SelectionMode = ListEditSelectionMode.CheckColumn;\n\n                    listBoxSettings.Properties.ClientSideEvents.SelectedIndexChanged = \"OnListBoxSelectionChanged\";\n                }\n            ).BindList(Repository.GetKeywords())\n            .Render();\n            ViewContext.Writer.Write(\"&lt;table style=\\\"width:100%\\\"&gt;&lt;tr&gt;&lt;td align=\\\"right\\\"&gt;\");\n            @Html.DevExpress().Button(\n                buttonSettings =&gt;\n                {\n                    buttonSettings.Name = \"buttonClose\";\n                    buttonSettings.Text = \"Close\";\n                    buttonSettings.Style.Add(\"float\", \"right\");\n                    buttonSettings.Theme = Utils.CurrentTheme;\n                    buttonSettings.ClientSideEvents.Click = \"function(s, e){ checkComboBox.HideDropDown(); }\";\n                }\n            )\n            .Render();\n            ViewContext.Writer.Write(\"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\");\n        });\n        settings.Properties.EnableAnimation = true;\n        settings.Properties.ClientSideEvents.TextChanged = \"SynchronizeListBoxValues\";\n        settings.Properties.ClientSideEvents.DropDown = \"SynchronizeListBoxValues\";\n    }\n).GetHtml()\n&lt;/td&gt;&lt;td&gt;\n@Html.DevExpress().Button(\n    settings =&gt;\n    {\n        settings.Name = \"btnApply\";\n        settings.ControlStyle.CssClass = \"button\";\n        settings.Text = \"Apply\";\n        settings.UseSubmitBehavior = true;\n        settings.Theme = Utils.CurrentTheme;\n        settings.Width = 80;\n        settings.RouteValues = new { Controller = \"Report\", Action = \"Filter\" };\n    }\n).GetHtml()\n&lt;/td&gt;&lt;td&gt;\n@Html.DevExpress().Button(\n    settings =&gt;\n    {\n        settings.Name = \"btnClear\";\n        settings.ControlStyle.CssClass = \"button\";\n        settings.Text = \"Clear\";\n        settings.ClientSideEvents.Click = \"function(s, e){ ASPxClientEdit.ClearEditorsInContainer(); }\";\n        settings.Theme = Utils.CurrentTheme;\n        settings.Width = 80;\n    }\n).GetHtml()\n&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n}\n&lt;/div&gt;\n</code></pre>\n\n<p>I have basically a gridview on the bottom  i would like to filter with a drop down list above it. I invoke the action by  using a button to go filter my collection. In this example, i was just trying to pass back the name of the control, i.e.</p>\n\n<pre><code>settings.Properties.ClientSideEvents.ValueChanged = \"function(s, e) {e.customArgs[\\\"filterCriteria\\\"] = checkComboBox.Name.toString();}\";\n</code></pre>\n\n<p>just to see if I am able to pass back any value but this failed. Can someone please elaborate on a way to do this?Thank you,</p>\n"},{"tags":["mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":138,"score":2,"question_id":4690113,"title":"why model view controller is not view logic database?","body":"<p>I'm using MVC model for 5 months. I agree with MVC,  good technique for organizing mind. But every time I try to write model I write module, that confusion rised a question, why it is model, not data or database or storage or etc. Most irrelevant and generic name is model. </p>\n\n<p>I'm okey with view, but controller should be logic or router I think.</p>\n\n<p>From wikipedia:</p>\n\n<blockquote>\n  <p>The pattern isolates \"domain <strong>logic</strong>\"\n  (the application logic for the user)\n  from the user interface (input and\n  <strong>presentation</strong>)</p>\n  \n  <p>The model manages the behavior and <strong>data</strong> of the application domain</p>\n  \n  <p>The controller receives input and initiates a response by making calls on model objects</p>\n</blockquote>\n\n<p>Why we use model, view and controller as name of this pattern?</p>\n"},{"tags":["php","ajax","oop","mvc","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":79,"score":-2,"question_id":12541740,"title":"AJAX controller in MVC","body":"<p>I am building a system while at the same time learning and implementing OOP and MVC.</p>\n\n<p>The only thing I am still not sure about is how to incorporate AJAX into my MVC structure, so what I have gone with is a type of controller that responds to different \"modes\" from AJAX requests that accesses and returns results from the various objects in my system.</p>\n\n<p>Is this a good way to do this or am I breaking the rules of MVC by having this controller that is very different to the other controllers in my system?</p>\n\n<p>This is my AJAX \"delegator\":</p>\n\n<pre><code>session_start() ;\nfunction __autoload($classname)\n{\ninclude('/controllers/'.$classname.'.php') ;\n}\n\n// Deligator for contact operations.\n\nif($_POST['mode'] == 'OPPORTUNITY_COUNT')\n{\n$contactManager = new ContactManager($_SESSION['userid']) ;\n\necho $contactManager-&gt;fetchOpportunityCount() ;\n\n}\nelseif($_POST['mode'] == 'PROSPECT_COUNT')\n{\n$contactManager = new ContactManager($_SESSION['userid']) ;\n\necho $contactManager-&gt;fetchProspectCount() ;\n\n}\nelseif($_POST['mode'] == 'CUSTOMER_COUNT')\n{\n$contactManager = new ContactManager($_SESSION['userid']) ;\n\necho $contactManager-&gt;fetchCustomerCount() ;\n\n}\nelse\n{\necho 'Error: Unknown mode.' ;\nexit() ;\n}\n</code></pre>\n\n<hr>\n\n<p>FYI This is how I send data to the router:</p>\n\n<pre><code>socket.on('UPDATE_OPPORTUNITY_DATA', function(date){\n    $.ajax({data: 'mode=OPPORTUNITY_COUNT', success: function(data){\n        $('#opportunityCount').html(data) ;\n        shaker('#opportunityCount') ;\n        }\n    })\n})\n</code></pre>\n"},{"tags":["c#","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1069,"score":1,"question_id":4966015,"title":"how to get all ListBox items(not only selected items) on submit action in mvc","body":"<p>how I get ALL ListBox values (not only selected items) on submit action in asp.net mvc2 project.</p>\n\n<p>I'm using Ajax forms like Ajax.BeginForm(\"actionname\", new....)</p>\n\n<p>I will get all items in the listbox only if i selecte all items in the list box.</p>\n\n<p>Is there anyway to get all items(not only selected items) in the lisbox in action page?</p>\n"},{"tags":["java","mvc","servlets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12540039,"title":"Push values from web server to client every 20ms (Java MVC)","body":"<p>I am new to Java. I am trying to write something on lines of MVC where my web server has a java method that reads a text file one row at a time every 20 milliseconds and I want to send (/push) this value to client every 20 milliseconds (that is at the same instant as the new row is read from CSV). \nI have read this <a href=\"http://en.wikipedia.org/wiki/Comet_%28programming%29\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Comet_%28programming%29</a>\nBut being very new to all this could not understand much. How push/pull/streaming works and what to use here. Moreover if I should be pulling or pushing values here. I think I should push else server will be clogged by so many pull requests every 20ms. \nPlease suggest. Any piece of code will be a great great help. </p>\n"},{"tags":["php","oop","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12460967,"title":"Processing form data in MVC/OOP structure","body":"<p>I have created a login system and I am trying to stick to the rules of MVC as much as possible.</p>\n\n<p>I have a simple login form that uses AJAX to submit the form data to small script, which then calls the controller for the processing of the username and password:</p>\n\n<pre><code>function __autoload($classname) {\n    include(\"../classes/$classname.php\");\n}\n\n$username = $_POST['username'] ;\n$password = $_POST['password'] ;\n\n$AC = new AccessControl ;\n\n$result = $AC-&gt;login($username, $password) ;\n\nif($result !== 0)\n{\necho $result ;\nexit() ;\n}\n</code></pre>\n\n<p>AccessControl is my class for user authentication and account management operations, the code is here in my other post: <a href=\"http://stackoverflow.com/questions/12459104/mvc-relationships-and-dry\">MVC Relationships and DRY</a></p>\n\n<p>Have I done this wrong because this small script isn't a controller or a model? All it does is relay information returned from the controller back to the interface/view, such as error messages.</p>\n"},{"tags":["javascript","mvc","partial-views","angularjs","angular"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":420,"score":2,"question_id":12506329,"title":"How to dynamically change header based on angularjs partial view?","body":"<p>I am using ng-view to include Angularjs partial views, and I want to update the page title and h1 header tags based on the included view. These are out of scope of the partial view controllers though, and so I can't figure out how to bind them to data set in the controllers.</p>\n\n<p>If it was ASP.net MVC you could use @ViewBag to do this, but I don't know the equivalent in angularjs. I've searched about shared services, events etc but still can't get it working. Any way to modify my example so it works would be much appreciated. </p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;html data-ng-app=\"myModule\"&gt;\n&lt;head&gt;\n&lt;!-- include js files --&gt;\n&lt;title&gt;&lt;!-- should changed when ng-view changes --&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;&lt;!-- should changed when ng-view changes --&gt;&lt;/h1&gt;\n\n&lt;div data-ng-view&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My Javascript:</p>\n\n<pre><code>var myModule = angular.module('myModule', []);\nmyModule.config(['$routeProvider', function($routeProvider) {\n    $routeProvider.\n        when('/test1', {templateUrl: 'test1.html', controller: Test1Ctrl}).\n        when('/test2', {templateUrl: 'test2.html', controller: Test2Ctrl}).\n        otherwise({redirectTo: '/test1'});\n}]);\n\nfunction Test1Ctrl($scope, $http) { $scope.header = \"Test 1\"; \n                                  /* ^ how can I put this in title and h1 */ }\nfunction Test2Ctrl($scope, $http) { $scope.header = \"Test 2\"; }\n</code></pre>\n"},{"tags":["php","mvc","yii"],"answer_count":9,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1799,"score":3,"question_id":6551924,"title":"Adding Data with Yii Framework","body":"<p>This is my user table structure :</p>\n\n<pre><code>+----------------+------------------+------+-----+---------+----------------+\n| Field          | Type             | Null | Key | Default | Extra          |\n+----------------+------------------+------+-----+---------+----------------+\n| ID             | int(10) unsigned | NO   | PRI | NULL    | auto_increment |\n| screen_name    | varchar(20)      | NO   | UNI | NULL    |                |\n| slug           | varchar(20)      | NO   |     | NULL    |                |\n| email          | varchar(50)      | NO   | UNI | NULL    |                |\n| pass           | varchar(32)      | YES  |     | NULL    |                |\n| signin_twitter | enum('T','F')    | NO   |     | F       |                |\n| twitter_id     | int(11)          | YES  | UNI | NULL    |                |\n| bg_image       | varchar(50)      | YES  |     | NULL    |                |\n+----------------+------------------+------+-----+---------+----------------+\n</code></pre>\n\n<p>I'm trying to add data to my database. (in my controller)</p>\n\n<pre><code>$model=new Users;\n        //$this-&gt;performAjaxValidation($model);\n        if(isset($_POST['Users']))\n        {\n                    //screen_name, email,pass comes from form. Also, we need to set **slug** and **singin_twitter**\n                $_POST['Users']['slug'] = $this-&gt;sanitize($_POST['Users']['screen_name']);\n                $_POST['Users']['signin_twitter'] = 'F';\n            $model-&gt;attributes=$_POST['Users'];\n            if($model-&gt;save())\n                $this-&gt;redirect('dash/index');                  \n        }\n</code></pre>\n\n<p>But it's not saving data . <code>$model-&gt;save() returning FALSE</code> . How can i debug it ?</p>\n"},{"tags":["spring","hibernate","mvc","validator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":161,"score":0,"question_id":12532418,"title":"Spring mvc 3.1 with hibernate 4.3 validation and errors","body":"<p>I had the following setup:</p>\n\n<p>IndexCntl.java (Controller):</p>\n\n<pre><code>@RequestMapping(value = \"/\", method = RequestMethod.GET)\n    public String home(Locale locale, ModelMap map) {\n        Date date = new Date();\n        DateFormat dateFormat = DateFormat.getDateTimeInstance(DateFormat.LONG, DateFormat.LONG, locale);\n        String formattedDate = dateFormat.format(date);\n        map.addAttribute(\"serverTime\", formattedDate );\n        map.addAttribute(\"email\", new Email());\n        Map sexoOpts = new HashMap();\n        sexoOpts.put(\"M\", \"Homem\");\n        sexoOpts.put(\"F\", \"Mulher\");\n\n        map.addAttribute(\"sexoList\", sexoOpts);\n        return \"index\";\n    }\n\n@RequestMapping(value = \"/save-email\", method = RequestMethod.POST)\n    public String doSaveEmail(@Valid @ModelAttribute(\"email\") Email email, Model model, BindingResult result){\n        log.info(\"Email debug: \"+email.getEmail()+\" \"+email.getMysexy()+\" \"+email.getWantedsexy());\n\n        if (result.hasErrors()){\n            log.info(\"Entrou result.hasError()\");\n            return \"index\";\n        }\n        Date date = new Date();\n        email.setCreationDate(date);\n        try{\n            emailBo.saveEmail(email);\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n        model.addAttribute(\"email\", new Email());\n        return \"index\";\n    }\n</code></pre>\n\n<p>index.jsp (view):</p>\n\n<pre><code>&lt;form:form action=\"save-email\" method=\"POST\" modelAttribute=\"email\" cssStyle=\"display:-webkit-box\"&gt;\n                &lt;form:select path=\"mysexy\" cssStyle=\"width:120px;\"&gt;\n                    &lt;form:option value=\"\" label=\"- Sou -\"/&gt;\n                    &lt;form:options items=\"${sexoList}\" /&gt;\n                &lt;/form:select&gt;\n                &lt;form:errors path=\"mysexy\" cssClass=\"errors\"/&gt;\n                &lt;form:select path=\"wantedsexy\" cssStyle=\"width:120px;\"&gt;\n                    &lt;form:option value=\"\" label=\"- Busco -\"/&gt;\n                    &lt;form:options items=\"${sexoList}\" /&gt;\n                &lt;/form:select&gt;\n                &lt;form:errors path=\"wantedsexy\" cssClass=\"errors\"/&gt;\n                &lt;br/&gt;\n                &lt;form:errors path=\"wantedsexy\" cssClass=\"errors\"/&gt;\n                &lt;div class=\"input-append\"&gt;\n                    &lt;input type=\"text\" id=\"email\" name=\"email\" size=\"30\" maxlength=\"30\" placeholder=\"E-mail\" class=\"\"/&gt;\n                    &lt;form:errors path=\"email\" cssClass=\"errors\"/&gt;\n                    &lt;input id=\"btncadastrar\" class=\"btn btn-block btn-primary\" type=\"submit\" value=\"Cadastrar E-mail\"/&gt;\n                &lt;/div&gt;\n            &lt;/form:form&gt;\n</code></pre>\n\n<p>and part of the model Email.java:</p>\n\n<pre><code>@Document\n@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)\npublic class Email extends BaseBean {\n\n    // @Pattern(regexp =\n    // \"^[\\\\w\\\\-]+(\\\\.[\\\\w\\\\-]+)*@([A-Za-z0-9-]+\\\\.)+[A-Za-z]{2,4}$\",\n    // message=\"E-mail com formato incorreto.\")\n    @NotNull(message = \"No pode ser vazio\")\n    @NotEmpty(message = \"No pode ser vazio-nulo\")\n    @org.hibernate.validator.constraints.Email(message = \"E-mail invlido\")\n    private String email;\n\n    @NotEmpty(message = \"Informe ao menos um valor\")\n    private String mysexy;\n\n    @NotEmpty(message = \"Informe ao menos um valor\")\n    private String wantedsexy;\n</code></pre>\n\n<p>and i'm receiving this error when i try to pass with a empty email in input:</p>\n\n<pre><code>exception\n\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'email' on field 'email': rejected value []; codes [NotEmpty.email.email,NotEmpty.email,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [email.email,email]; arguments []; default message [email]]; default message [No pode ser vazio-nulo]\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:894)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:641)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\nroot cause\n\norg.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'email' on field 'email': rejected value []; codes [NotEmpty.email.email,NotEmpty.email,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [email.email,email]; arguments []; default message [email]]; default message [No pode ser vazio-nulo]\n    org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:110)\n</code></pre>\n\n<p>what can be wrong in my setup???</p>\n"},{"tags":["mvc","cakephp","model","cakephp-2.0"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12533640,"title":"Should controllers avoid private functions at CakePHP?","body":"<p>I was wondering if controllers at CakePHP should not contain any private function which is not accessible by URL.</p>\n\n<p>Sometimes some functions such as <strong>add</strong> or <strong>delete</strong> can be so large that I prefer to divide them. \nShould I put that functions inside the model instead of making then private on the Controller?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","oop","mvc","eclipse-rcp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":77,"score":-2,"question_id":12532920,"title":"Optimal Solution","body":"<p>I have a problem and I would like to discuss it with you to find the optimal solution.\nI have a bunch of TreeViews that contain nodes. When a user double clicks on a node, it will open by default an editor for that node.I have a special case for an node(lets call it of type NodeX) that has a specific behavior on Dclick. When the user doubleclicks this NodeX a new TreeView(Lets call it TreeViewX), with NodeX as root node will be opened instead of an editor.When the User clicks on NodeX in the new TreeView (TreeViewX) the editor will be opened.</p>\n\n<p>Infos about the structure:\nAll nodes are subclasses of a class called BaseNode which is in fact a Bussines Object. All baseNodes have associated Control Objects, inheriting from the superclass BaseNodeControl. All TreeViews are represented using the same TreeView class with specific TreeViewControls asocieted to every concrete TreeView (so practically there is no TreeViewX, just TreeViewControlX). Every BaseNodeContol has a method called open() which will open an editor for the specific BaseNode. The TreeView class has a method called onDoubleClick which will call the open method of the doubleClicked nodes Control.</p>\n\n<p>How would you implement it.I currently have a solution but I don't know if it's good:\nTreeView.onDoubleClick will check the id of the asocieted TreeViewControl and the doubleClicked node and according to it's id and node, it will call BaseNodeControl.open() or BaseNodeControlX.openEditor(). BaseNodeControl.open() will be overwritten in BaseNodeControlX and will open the TreeViewX.</p>\n\n<p>Thanks for your help.</p>\n\n<p>P.S. The application is an Eclipse RCP application using SWT and JFace but I don't think this matters.</p>\n"},{"tags":["javascript","html","mvc","knockout.js"],"answer_count":2,"favorite_count":3,"up_vote_count":12,"down_vote_count":0,"view_count":2173,"score":12,"question_id":7838853,"title":"Unexplainable variable $data in Knockout JS","body":"<p>In the <a href=\"http://learn.knockoutjs.com/#/?tutorial=webmail\">KnockoutJS tutorials</a> I stumbled upon the following code example that contains an unexplainable variable <code>$data</code>. The tutorial does not contain any explanation what that dollar sign is used for and where this <code>$data</code> comes from. The variable <code>$data</code> is nowhere defined and when I rename all three instances of <code>$data</code> to <code>$foobar</code>, the example does not work anymore. What kind of magic is going on here?</p>\n\n<p>View (HTML):</p>\n\n<pre><code>&lt;!-- Folders --&gt;\n&lt;ul class=\"folders\" data-bind=\"template: { name: 'folderTemplate', foreach: folders }\"&gt;&lt;/ul&gt;\n&lt;script type=\"text/html\" id=\"folderTemplate\"&gt;\n    &lt;li data-bind=\"css: { selected: $data == mailViewModel.selectedFolder() },\n                   click: function() { mailViewModel.selectFolder($data) }\"&gt;\n        ${$data}\n    &lt;/li&gt;    \n&lt;/script&gt;\n</code></pre>\n\n<p>View Model (JavaScript):</p>\n\n<pre><code>var viewModel = {\n    // Data\n    folders: ['Inbox', 'Archive', 'Sent', 'Spam'],\n    selectedFolder: ko.observable('Inbox'),\n\n    // Behaviours\n    selectFolder: function (folder) {\n        this.selectedFolder(folder);\n    }    \n};\n\nwindow.mailViewModel = viewModel;\nko.applyBindings(viewModel);\n</code></pre>\n\n<p>Thanks for any advice,</p>\n\n<p>Dominik</p>\n"},{"tags":["c#","mvc","entity-framework"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":634,"score":0,"question_id":6883998,"title":"C# MVC saving a list of sub items","body":"<p>I'm new to MVC and Entity frame work but i've come across an issue and i'm not sure how to resolve it some guidance is more then welcome.  I'm editing an object which has a sub list of different objects. I've got a working edit screen but i cant get the details stored back the database. I think the issue is around the context of the db but as i said i'm new to this.  Here are the 2 classes i'm using:</p>\n\n<pre><code>public class Role\n{    \n    [Key]    \n    public string Role { get; set; }    \n    public virtual ICollection&lt;Template&gt; Templates { get; set; }\n}\npublic class Template\n{    \n    [Key][Required]    \n    public string TemplateID { get; set; }    \n    [Required]    \n    public string Header { get; set; }    \n    [Required][DataType(DataType.MultilineText)]    \n    public string Description { get; set; }    \n    public virtual ICollection&lt;CorrespondenceRole&gt; Roles { get; set; }\n}\n</code></pre>\n\n<p>I also have this in my context </p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)\n{    \n    modelBuilder.Entity&lt;Template&gt;()        \n        .HasMany(c =&gt; c.Roles)        \n        .WithMany(c =&gt; c.Templates)        \n        .Map(m =&gt; m.ToTable(\"Template_Roles\")            \n            .MapLeftKey(\"TemplateID\")            \n            .MapRightKey(\"Role\"));\n}\n</code></pre>\n\n<p>If i use</p>\n\n<pre><code>public ActionResult Edit(Template ctemplate)\n{\n    db.Entry(ctemplate).State = EntityState.Modified;\n    db.SaveChanges();\n}\n</code></pre>\n\n<p>The changes to the template object are recorded to the database but any changes to the roles list  are totally ignored even if i hardcode ctemplate.roles.add(somerole) before the db save.</p>\n\n<p>However if i use</p>\n\n<pre><code>public ActionResult Edit(Template ctemplate)\n{\n    Template ct = db.Templates.Find(ctemplate.TemplateID);\n    ct.Roles.Add(db.Roles.Find(\"Other Party\"));\n    db.Entry(ct).State = EntityState.Modified;\n    db.SaveChanges();\n}\n</code></pre>\n\n<p>The \"role\" is saved against in the template in the database. So i could use this code to find the object then copy all the form fields into it and save it but it seems long winded when the first option does actually work but it just does not save my list.  Any comments or suggestions how best to save the changes to the object and its associated list of different objects? Thanks.</p>\n\n<p><strong>UPDATE</strong>\nI found this worked for me, but i have no idea if its the best way to go about it.</p>\n\n<pre><code>db.Entry(ct).State = EntityState.Modified;\n\nforeach (var entity in db.Roles.Where(cr =&gt; cr.TemplateID == ct.ID))\n    db.Roles.Remove(entity);\n\nforeach (Role cr in ct.Roles)\n    db.Roles.Add(cr);\n\ndb.SaveChanges();\n</code></pre>\n"},{"tags":["java","mvc","struts","atg"],"answer_count":4,"favorite_count":5,"up_vote_count":4,"down_vote_count":0,"view_count":12397,"score":4,"question_id":393723,"title":"Difference between Oracle ATG and Struts","body":"<p>What is the difference between Oracle ATG and Struts?</p>\n"},{"tags":["sql","mvc","pivot"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12527738,"title":"SQL Pivot return all rows on table join even if no record exists (cross join?)","body":"<p>I have managed to successfully pivot my data against months. However the pivot only returns rows that have a value in my KPIData table.</p>\n\n<p>I am pivoting Months against KPIData and bringing in some fields from KPIGraph for filtering. I would like to be able to show nulls in the row for each month column whenever I add a KPIGraphs row and there is no related record in KPIData. At present this only works if I add atleast 1 value in my KPIData table which ofcourse then links everything up together due to the joins.</p>\n\n<p>The relationship is set as follows:\n<a href=\"http://goo.gl/9lvhF\" rel=\"nofollow\">http://goo.gl/9lvhF</a></p>\n\n<p>I have done some reading up and found that I will need to likey use a cross join here? I have never used one of these and after some further digging it has completely confused me in its implementation into my pivot sql.</p>\n\n<pre><code>SELECT *\nFROM (\n    SELECT [t0].[GraphID], CASE MonthID\n            WHEN 1 THEN 'October'\n            WHEN 2 THEN 'November'\n            WHEN 3 THEN 'December'\n            WHEN 4 THEN 'January'\n            WHEN 5 THEN 'February'\n            WHEN 6 THEN 'March'\n            WHEN 7 THEN 'April'\n            WHEN 8 THEN 'May'\n            WHEN 9 THEN 'June'\n            WHEN 10 THEN 'July'\n            WHEN 11 THEN 'August'\n            WHEN 12 THEN 'September'\n            END AS [Month], [t0].[Value], [t3].[Graph_Type], [t5].[Department], [t6].\n        [Type], [t8].[Financial_Year], [t7].[FYID], [t4].[KPITypeID]\n    FROM [KPIDatas] AS [t0]\n    INNER JOIN [Months] AS [t1] ON [t1].[ID] = [t0].[MonthID]\n    INNER JOIN [KPIGraphs] AS [t2] ON [t2].[ID] = [t0].[GraphID]\n    INNER JOIN [GraphTypes] AS [t3] ON [t3].[ID] = [t2].[GraphTypeID]\n    INNER JOIN [KPIs] AS [t4] ON [t4].[ID] = [t2].[KPIID]\n    INNER JOIN [Departments] AS [t5] ON [t5].[ID] = [t4].[DeptID]\n    INNER JOIN [KPITypes] AS [t6] ON [t6].[ID] = [t4].[KPITypeID]\n    INNER JOIN [CSFs] AS [t7] ON [t7].[ID] = [t4].[CSFID]\n    INNER JOIN [FYs] AS [t8] ON [t8].[ID] = [t7].[FYID]\n    ) TableDate\nPIVOT(SUM(Value) FOR [Month] IN (\n            [October], [November], [December], [January], [February], [March], [April]\n            , [May], [June], [July], [August], [September]\n            )) PivotTable\n</code></pre>\n\n<p>Any help on this is appreciated.</p>\n"},{"tags":["ruby-on-rails","database","mvc","activerecord"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":169,"score":3,"question_id":3168995,"title":"Are there advantages to using foreign key constraints when working in an active record framework like ruby-on-rails?","body":"<p>I'm moving back into full time web development after a 5 year hiatus.  My previous experience (no active record or MVC) tells me to be very thorough with my database schema.  Foreign key constraints, unique indexes, etc... can really help out when your writing spaghetti code.</p>\n\n<p>Does the community still find these useful when working in an Active Record / MVC framework?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>My main concern is managing the constraints in two places; the model code and the db.  This means duplicate work and it could lead to bugs. I.e. you have a unique constraint on some field in the database but the model does not know about it?  I guess the reverse is true as well, you could just forget to put the constraint in the model then you would have duplicate data when you don't want it.</p>\n"},{"tags":["php","mvc","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":12517713,"title":"Understanding Opencart's MVC workflow","body":"<p>I am trying to understand how OpenCart's code works. The following code is defined in index.php(file attached) in OpenCart's mysite.com/admin/ folder. Could you please explain what the following code actually does ? I would like to know how it actually works.</p>\n\n<p>I also have attached loader.php and regsitry.php under their respective folder.</p>\n\n<pre><code>// Registry\n$registry = new Registry();\n\n// Loader\n$loader = new Loader($registry);\n$registry-&gt;set('load', $loader);\n</code></pre>\n\n<p><a href=\"http://dl.dropbox.com/u/27899629/mysite.com.zip\" rel=\"nofollow\">link to mysite.com admin </a> folder zip</p>\n\n<p>Though the following question is not similar to my question but still it touches similar point: \n<a href=\"http://stackoverflow.com/questions/10086942/opencart-meta-title-include-store-name\">Opencart meta title include store name</a></p>\n\n<p>regards</p>\n\n<p>dkjain.</p>\n"},{"tags":["c#",".net","asp.net-mvc","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":323,"score":4,"question_id":12318905,"title":"MVC Razor button click even pass parameter with it","body":"<p>I'm new to MVC Razor.</p>\n\n<p>I have this view:</p>\n\n<pre><code>@model SuburbanCustPortal.Models.CustomerModel\n\n@{\n    ViewBag.Title = \"Customer Summary\";\n}\n\n&lt;h2&gt;Customer Summary Screen&lt;/h2&gt;\n&lt;p&gt;\n    Please select an account below or add an existing account.\n&lt;/p&gt;\n\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n@using (Html.BeginForm())\n{\n  @Html.ValidationSummary(true, \"Account creation was unsuccessful. Please correct the errors and try again.\")\n\n  &lt;div&gt;\n    &lt;fieldset&gt;\n      &lt;legend&gt;Existing Accounts&lt;/legend&gt;\n\n      @Html.Action(\"ExistingAccounts2\")\n\n      &lt;p&gt;\n        &lt;input type=\"submit\" value=\"Add an Account\" /&gt;\n      &lt;/p&gt;\n\n\n    &lt;/fieldset&gt;\n  &lt;/div&gt;\n}\n</code></pre>\n\n<p>Which calls this method:</p>\n\n<pre><code>[Authorize]\npublic ActionResult ExistingAccounts2()\n{\n  return PartialView(\"ExistingAccounts\", _client.RequestCustomersForAccount(User.Identity.Name));\n}\n</code></pre>\n\n<p>Which in turn calls this partial view:</p>\n\n<pre><code>@model IEnumerable&lt;SuburbanCustPortal.SuburbanService.CustomerData &gt;\n\n&lt;br /&gt;\n&lt;br /&gt;\n&lt;table&gt;\n\n  @if (Model != null)\n  {\n    foreach (var usr in Model)\n    {\n      &lt;tr&gt;      \n        &lt;td&gt;\n          &lt;input id=\"btnShowCustomer\" name=\"btnShowCustomer2\" type=\"submit\" value=\"View\"/&gt;           \n        &lt;/td&gt;\n        &lt;td&gt;\n          @usr.AccountId\n        &lt;/td&gt;\n        &lt;td&gt;\n          @usr.Name\n        &lt;/td&gt;\n@*        &lt;td&gt;\n          @usr.DeliveryStreet\n        &lt;/td&gt;*@\n      &lt;/tr&gt;\n    }\n  }\n\n&lt;/table&gt;\n&lt;br /&gt;\n</code></pre>\n\n<p>Which ends up displaying this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/bm0gw.png\" alt=\"enter image description here\"></p>\n\n<p>This works up to this point.</p>\n\n<p>What I want to so is be able to click on the button next to the customer's name and it pull up the customer's account.</p>\n\n<p>How do I tie that customer to the button to know who to pull up and how do have the button click pull it up?</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12452779,"title":"Page not found error if controller is lowercase but works if first letter is uppercase in Zend Framework app","body":"<p>this is weird I've been hacking away for a while at this error. It seems to show up only on the deployment server. I have a perfectly working controller named holidays - here is the structure of the controller and the view:</p>\n\n<pre><code>controllers\n-&gt; HolidaysController.php\n\n&lt;?php\n\nclass HolidaysController extends App_Controller_Action {\n\n  public function indexAction() {\n.....\n  }\n}\n\n?&gt;\n</code></pre>\n\n<p>My views file is in </p>\n\n<pre><code>views/scripts/holidays/index.phtml\n</code></pre>\n\n<p>when I navigate to <code>website.com/holidays</code> it give me this error:</p>\n\n<pre><code>An error occurred\nPage not found\nException information:\n\nMessage: Action \"index\" does not exist and was not trapped in __call()\nStack trace:\n\n#0 /home/bookitfa/bookings/library/Zend/Controller/Action.php(515): Zend_Controller_Action-&gt;__call('indexAction', Array)\n#1 /home/bookitfa/bookings/library/Zend/Controller/Dispatcher/Standard.php(295): Zend_Controller_Action-&gt;dispatch('indexAction')\n#2 /home/bookitfa/bookings/library/Zend/Controller/Front.php(954): Zend_Controller_Dispatcher_Standard-&gt;dispatch(Object(Zend_Controller_Request_Http), Object(Zend_Controller_Response_Http))\n#3 /home/bookitfa/bookings/library/Zend/Application/Bootstrap/Bootstrap.php(97): Zend_Controller_Front-&gt;dispatch()\n#4 /home/bookitfa/bookings/library/Zend/Application.php(366): Zend_Application_Bootstrap_Bootstrap-&gt;run()\n#5 /home/bookitfa/bookings/public/index.php(29): Zend_Application-&gt;run()\n#6 {main}  \n\nRequest Parameters:\n\narray (\n  'controller' =&gt; 'holidays',\n  'action' =&gt; 'index',\n  'module' =&gt; 'default',\n)  \n</code></pre>\n\n<p>But when I navigate to <code>website.com/Holidays</code> it works for some odd reason. All other controllers work fine except this certain controller seems to only work if the controller name has the first letter uppercase. Why is that? This is a zend framework based application. All my urls would be out of place like this.\nEDIT =======</p>\n\n<p>The strange paart is that irrespective of what I keep the filename i.e HolidaysController.php or holidaysController.php - online I can only access it by /Holidays and not by /holidays, this is a very serious issue here and I've run out of ideas on how to resolve it :(</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","activerecord"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12336163,"title":"Rails 3: Best practices for saving models","body":"<p>When should I save my models in rails? and who should be responsible for calling save, the model itself, or the caller? </p>\n\n<p>Lets say I have (public)methods like <code>udpate_points</code>, <code>update_level</code>, etc. in my user model. There are 2 options:</p>\n\n<ol>\n<li>The model/method is responsible for calling save . So each method will just call  <code>self.save</code>.</li>\n<li>The caller is responsible for calling save. So each method only updates the attributes but the caller calls <code>user.save</code> when it's done with the user. </li>\n</ol>\n\n<p>The tradeoffs are fairly obvious: \nIn option <em>#1</em> the model is guaranteed to save, but we call save multiple times per transaction. \nIn option <em>#2</em> we call save only once per transaction, but the caller has to make sure to call save. For example <code>team.leader.update_points</code> would require me to call <code>team.leader.save</code> which is somewhat non-intuitive. This can get even more complicated if I have multiple methods operating on the same model object. </p>\n\n<p>Adding a more specific info as per request: \nupdate level looks at how many points the users has and updates the level of the user. The function also make a call to the facebook api to notify it that the user has achieved an new level, so I might potently execute it as a background job. </p>\n"},{"tags":["jquery","mvc","validation"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12516189,"title":"Fire jQuery after MVC Remote Returns","body":"<p>Is there any way to fire some jQuery AFTER the result from an MVC Remote is returned?</p>\n\n<p>I have a design like this:</p>\n\n<pre><code>&lt;div class=\"wrapper\"&gt;&lt;div class=\"inner1\"&gt;\n&lt;div class=\"inner2\"&gt;Message&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>and if there's an error, I need to change it to this:</p>\n\n<pre><code>&lt;div class=\"wrapper error\"&gt;&lt;div class=\"inner1 error\"&gt;\n&lt;div class=\"inner2 error\"&gt;Message&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>When the remote validation returns, it displays the message, but I'd like to fire some jQuery to add the classes to the divs where required.  Hope this makes sense...</p>\n"},{"tags":["mvc","design-patterns","symfony2","doctrine2"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":257,"score":2,"question_id":10543366,"title":"Slimming down Symfony2 controller and persist logic","body":"<p>From the point of view of MVC pattern and Symfony2, can i slim down my <strong>controller code</strong> just a bit, moving away some <strong>persist logic</strong>? For example, given a standard new action like this:</p>\n\n<pre><code>public function newAction(\\Symfony\\Component\\HttpFoundation\\Request $request)\n{\n\n    // Create a new entity and a new form type for managing\n    $entity = $this-&gt;createNewEntity();\n    $form   = $this-&gt;createForm($this-&gt;createNewFormType(), $entity);\n\n    // If it's GET just return the view\n    if('GET' == $request-&gt;getMethod())\n        return array('form' =&gt; $form-&gt;createView());\n\n    // It's POST request so bind the form\n    $form-&gt;bindRequest($request);\n\n    // ... and if it's valid just persist the entity\n    if($form-&gt;isValid()) :\n\n        $em = $this-&gt;getEntityManager(); // Should be carried by controller?\n        $em-&gt;persist($entity);           // Should be carried by controller?\n        $em-&gt;flush();                    // Should be carried by controller?\n\n        // Redirect the user to the default page\n        return $this-&gt;redirect($this-&gt;getOnNewSuccessRedirectUrl($entity));\n\n    endif;\n\n    // Return the view plus errors\n    return array(\n        'errors' =&gt; $this-&gt;getValidator()-&gt;validate($entity),\n        'form'   =&gt; $form-&gt;createView()\n    );\n\n}\n</code></pre>\n\n<p>Would be correct moving that <strong>logic to the repository</strong>? An example (warning: may not work):</p>\n\n<pre><code>class BaseRepository extends \\Doctrine\\ORM\\EntityRepository\n{\n\n    /**\n     * Persist the entity (either new or existent)\n     *\n     * @param object $entity\n     */\n    public function save($entity)\n    {\n        $em = $this-&gt;_em;\n        $em-&gt;persist($entity);\n        $em-&gt;flush();\n    }\n\n    /**\n     * Delete the entity.\n     *\n     * @param object $entity\n     */\n    public function delete($entity)\n    {\n        $em = $this-&gt;_em;\n        $em-&gt;remove($entity);\n        $em-&gt;flush();\n    }\n\n}\n</code></pre>\n\n<p>The controller code would be:</p>\n\n<pre><code>if($form-&gt;isValid()) :\n\n    $this-&gt;getRepository()-&gt;save($entity);\n\n    // Redirect the user to the default page\n    return $this-&gt;redirect($this-&gt;getOnNewSuccessRedirectUrl($entity));\n\nendif;\n</code></pre>\n"},{"tags":["mvc","design-patterns","symfony2","naming-conventions"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":213,"score":0,"question_id":10624033,"title":"Symfony2 and the MVC concept of view model","body":"<p>I think that Symfony2 is missing the concept of <strong>ViewModel</strong> (like ASP.NET MVC Framework), that is the model associated to a view. Symfony2 (as documentation) usually assign an <strong>array</strong> to a view.</p>\n\n<p>A view model could be a PHP class but it's something different from the form model and sometimes it's the same as a domain entity. It' sometimes useful when dealing with a great amount of information to be displayed.</p>\n\n<p>Anyway, is there any convention about where view models should go in Symfony2? Any specific folder? By now i have:</p>\n\n<pre><code>Symfony2/src/MyCompany/MyBundle/Form/Model\n</code></pre>\n\n<p>which holds models associated to forms. And:</p>\n\n<pre><code>Symfony2/src/MyCompany/MyBundle/Entity\n</code></pre>\n\n<p>for domain entities (bounded to database tables).</p>\n\n<p>Suggestions are much appreciated. What about <code>Symfony2/src/MyCompany/MyBundle/Model</code>?</p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":10678585,"title":"In Symfony, is it a good programming practice to make a bundle just for services?","body":"<p>I have a symfony app that provides REST based services. I have one module that is responsible for user login/logout/register actions called the UserBundle.</p>\n\n<p>I have other bundles that provide resources once a user logs (and is provided a token hash). </p>\n\n<p>Now for every resource requested, the client sends the token back which needs to be authenticated. Where exactly do I place this authentication function? I mean I know it needs to be a service that can be injected into multiple bundles but does that mean it is best I create it's own bundle? What about additional services that I may need in future? If I create a bundle for each, then my code organization would get ugly real quick. </p>\n\n<p>Any tips? </p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1358,"score":2,"question_id":10738647,"title":"How to get all post parameters in Symfony2?","body":"<p>I want to get all post parameters of a symfony Form.</p>\n\n<p>I used :</p>\n\n<pre><code>$all_parameter = $this-&gt;get('request')-&gt;getParameterHolder()-&gt;getAll();\n</code></pre>\n\n<p>and I get this error </p>\n\n<pre><code>Fatal error: Call to undefined method Symfony\\Component\\HttpFoundation\\Request::getParameterHolder() in /Library/WebServer/Documents/Symfony/src/Uae/PortailBundle/Controller/NoteController.php on line 95\n</code></pre>\n"},{"tags":["mvc","extjs"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1160,"score":3,"question_id":9261458,"title":"Where should I define global functions in ExtJS 4 MVC?","body":"<p>I need to define some functions which i can call everywhere in my app.\nWhat is the best approach to achieve this?</p>\n"},{"tags":["spring","mvc","path-variables","command-objects"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12495869,"title":"Spring is not mapping @pathVariables correctly to the correct variables","body":"<p>We're having an issue where the values that we take in via @PathVariable or via binding under moderate load are getting assigned to the wrong variables.</p>\n\n<p>For doing these tests we're always hitting the same URL's.  Hitting the URL's slowly produce the correct results every time. </p>\n\n<p>We're using Spring 3.0.5.RELEASE but have tired up to 3.1.2.RELEASE and still have the issue.  We can't see anything else that's changed lately and we've had these services in production for over a year now and they seem to have just recently started throwing these. </p>\n\n<p>Code Example for Binding:</p>\n\n<pre><code> @RequestMapping(value = \"config/selectItem\")\npublic ModelAndView selectItem(@Valid selectItemCommand command, BindingResult bindResults) {\n   if (!\"test\".equals(command.getName())\n   {\n     //Fails into here\n     int i =0;\n\n   }    \n}\n</code></pre>\n\n<p>Code Example for Path Variables:</p>\n\n<pre><code>@RequestMapping(value = \"config/selectItem/{name}\",method = RequestMethod.GET)\npublic ModelAndView selectItem(@PathVariable(\"name\") String name)\n{\n  if (!\"test\".equals(name))\n  {\n    //Fails into here\n    int i = 0;\n  }\n}\n</code></pre>\n\n<p>I added a HttpServletRequest request to the parameter list and the URL that it shows has the correct values. </p>\n\n<p>I totally forgot but we had this come up about a year ago and I had put in a ticket at the time that I thought had resolved it but has not. \n<a href=\"http://stackoverflow.com/questions/5649669/spring-mvc-is-dropping-a-pathvariable\">Spring MVC is dropping a @PathVariable</a> </p>\n"},{"tags":["php","mysql","mvc","mysql-error-1064","opencart"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12503186,"title":"what is wrong with my sql query","body":"<p>I can't seem to find what is wrong with this sql query:</p>\n\n<pre><code>SELECT * FROM order WHERE order_id='20'\n</code></pre>\n\n<p>the error message is:</p>\n\n<pre><code>Notice: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order WHERE order_id='20'' at line 1\nError No: 1064\nSELECT * FROM order WHERE order_id='20' \n</code></pre>\n"},{"tags":["mvc","checkbox"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":862,"score":0,"question_id":8086029,"title":"MVC - @Html.CheckBoxFor","body":"<p>I need a checkbox but the underlying data is of type smallint in the database. Not sure how to make the @Html.Checkbox with that datatype. It complains saying the following:</p>\n\n<p>Cannot implicitly convert type 'short?' to 'bool' </p>\n\n<p>Here is the code that I have:</p>\n\n<pre><code>    @Html.CheckBoxFor(model =&gt; model.HasCycle)\n</code></pre>\n"},{"tags":["mvc","symfony2","dependency-injection","fosuserbundle"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":310,"score":1,"question_id":10106195,"title":"Symfony 2: Dependency injection (DI) of Controllers","body":"<p>Is there any chance to make Controllers dependent on their services not via using of service container inside them but through pure constructor dependency injection?</p>\n\n<p>I would like to write controllers in this way:</p>\n\n<pre><code>&lt;?php\n\nclass ArticleController extends \\Symfony\\Bundle\\FrameworkBundle\\Controller\\Controller\n{\n    private $articleFacade;\n    private $articleRepository;\n\n    public function __construct(ArticleFacade $articleFacade, ArticleRepository $articleRepository)\n    {\n        $this-&gt;articleFacade = $articleFacade;\n        $this-&gt;articleRepository = $articleRepository;\n    }\n\n    public function indexAction()\n    {\n        ...\n    }\n\n}\n</code></pre>\n\n<p>Unfortunatelly as I can see Symfony ControllerResolver does new instances of Controllers not via ServiceContainer but via simple <code>return new $controller</code> call.   </p>\n"},{"tags":["php","mvc","symfony2","3-tier"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":285,"score":1,"question_id":9484458,"title":"Achieving 3-tier architecture with Symfony PHP","body":"<p>In school web projects that I have done until now I have build my applications with a 3-tier approach.\nA data layer, an application and a presentation layer. \nI have used this architecture with python and java and I want to use it also with php.\nI was quite strict in the communication between layers as these were the requirements of the assignments and I can say that I find it quite good, as when I tried once to switch from mySQL to Mongo db, it was quite easy. I just had to change the code inside the function of my Data Access Object.</p>\n\n<p>As I said before I want to write a bigger application now in php and I downloaded and installed the Symfony2 Framework, which is an MVC framework. My intentions is to test the application with MySQL initial and then switch and test it with Redis.</p>\n\n<p>So myy question is: \nCan I use the functionality and all the \"goodies\" of the framework to write a 3 tier architecture application and how could I separate the layers? </p>\n"},{"tags":["php","mvc","symfony2","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":417,"score":0,"question_id":9083708,"title":"How to forward a request using a URL string in Symfony2","body":"<p>I want to perform a sub-request, but don't have the route in the format $this->forward() expects - I only have the url as a string.</p>\n\n<pre><code>// Symfony2 wants...\n$this-&gt;forward('ProjectCustomerBundle:Customer:view', array('id' =&gt; 1234));\n\n// I want... \n$this-&gt;forward('customer/view/1234');\n</code></pre>\n\n<p>Surely I can manually build a Route or Request object from the url to achieve this? I've got a sneaky suspicion that I'm missing something obvious here...</p>\n"},{"tags":["mvc","ember.js","sproutcore-2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12508628,"title":"Adding JQuery UI options to Ember views","body":"<p>Suppose I would like to modify view within the Ember.js sample <a href=\"http://github.com/emberjs/todos\" rel=\"nofollow\"><code>todo app</code></a> to be resizable.</p>\n\n<p>The JQuery code to do this would be:</p>\n\n<pre><code>$(\"#container\").resizable()\n</code></pre>\n\n<p>where #container represents a div. I am not sure where in the app structure this snippet would belong. Does it go inside of app.js? The contents is listed below and I am not sure which method would be most appropriate to put the above snippet in.</p>\n\n<pre><code>Todos = Ember.Application.create();\n\nTodos.Todo = Ember.Object.extend({\n  title: null,\n  isDone: false\n});\n\nTodos.todosController = Ember.ArrayController.create({\n  content: [],\n\n  createTodo: function(title) {\n    var todo = Todos.Todo.create({ title: title });\n    this.pushObject(todo);\n  },\n\n  clearCompletedTodos: function() {\n    this.filterProperty('isDone', true).forEach(this.removeObject, this);\n  },\n\n  remaining: function() {\n    return this.filterProperty('isDone', false).get('length');\n  }.property('@each.isDone'),\n\n  isEmpty: function() {\n    return this.get('length') === 0;\n  }.property('length'),\n\n  allAreDone: function(key, value) {\n    if (arguments.length === 2) {\n      this.setEach('isDone', value);\n\n      return value;\n    } else {\n      return !this.get('isEmpty') &amp;&amp; this.everyProperty('isDone', true);\n    }\n  }.property('@each.isDone')\n});\n\nTodos.CreateTodoView = Ember.TextField.extend({\n  insertNewline: function() {\n    var value = this.get('value');\n\n    if (value) {\n      Todos.todosController.createTodo(value);\n      this.set('value', '');\n    }\n  }\n});\n\nTodos.MainView = Ember.View.extend({\n  templateName: 'main_view'\n});\n</code></pre>\n"},{"tags":["mvc","caching","symfony2","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":611,"score":0,"question_id":8355981,"title":"Symfony2 cache and routing generation","body":"<p>this is my first attempt to create something with Symfony2.<br>\nI have my database, and I wanted to generate models from it automatically. So I run </p>\n\n<pre><code>php app/console doctrine:mapping:import MYBundle php\n</code></pre>\n\n<p>and </p>\n\n<pre><code>php app/console doctrine:generate:entities MYBundle\n</code></pre>\n\n<p>Ok, my entities are now created.<br>\nThen I wanted to create basic crud operations, so i run</p>\n\n<pre><code>php app/console generate:doctrine:crud\n</code></pre>\n\n<p>Which is supposed to create Controllers,Views and Routing table for the selected models.<br>\nThe problem is that the routing table isn't generated, so if i navigate to, let's say, /posts, and my index.html.twig contains </p>\n\n<pre><code>path('users_show', { 'id': entity.id }) }}\n</code></pre>\n\n<p>My server send a 500 Error.<br>\nSymfony doesn't even catch that error and show me the nice formatted exception.</p>\n\n<p>Furthermore if i modify my index.html.twig, it will remain cached until i don't rm -R the /app/cache/dev folder.<br>\nIs there a way to disable caching?</p>\n\n<p>[EDIT]</p>\n\n<p>my routing_dev.yml</p>\n\n<pre><code>_welcome:\n    pattern:  /\n    defaults: { _controller: OREBundle:Default:index }\n\n_assetic:\n    resource: .\n    type:     assetic\n\n_wdt:\n    resource: \"@WebProfilerBundle/Resources/config/routing/wdt.xml\"\n    prefix:   /_wdt\n\n_profiler:\n    resource: \"@WebProfilerBundle/Resources/config/routing/profiler.xml\"\n    prefix:   /_profiler\n\n_configurator:\n    resource: \"@SensioDistributionBundle/Resources/config/routing/webconfigurator.xml\"\n    prefix:   /_configurator\n\n_main:\n    resource: routing.yml\n</code></pre>\n\n<p>and my routing.yml </p>\n\n<pre><code>_welcome:\n    pattern:  /\n    defaults: { _controller: OREBundle:Default:index }\n_users:\n    pattern: /users\n    defaults: { _controller: OREBundle:Users:index}\n</code></pre>\n"},{"tags":["mvc","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":86,"score":5,"question_id":12489501,"title":"cakephp query with many tables","body":"<p>I have a site developed in cakephp 2.0, I have some tables relationed here is an example:\nThis is my relations:</p>\n\n<blockquote>\n  <p>ingredients (id,name) has many versions</p>\n  \n  <p>ingredient_properties(id,property_id,version_id) belongs\n  to properties, versions</p>\n  \n  <p>properties (id,name,value,group_id,unit_id) has many\n  ingredient_properties and belongs to groups,units</p>\n  \n  <p>groups (id,name) has many properties</p>\n  \n  <p>units (id,name) has many properties</p>\n  \n  <p>versions (id,name,ingredient_id,active) has many ingredient_properties and belongs to ingredients.</p>\n</blockquote>\n\n<p>I am in the ingredientController.php and I wanto to retrieve all this data where <code>Version.active=1</code> and <code>Version.ingredient_id=2</code>. </p>\n\n<p>This is my query:</p>\n\n<pre><code>$this-&gt;set(\n        'ingredient',\n        $this-&gt;Ingredient-&gt;Version-&gt;find('all', array(\n            'recursive' =&gt; 2,\n            'conditions' =&gt; array(\n                'Version.active' =&gt; 1,\n                'Version.ingredient_id' =&gt; 2\n             )\n        ))\n);\n</code></pre>\n\n<p>I have many and many queries like this and I want to know if recursive 2 is the best way to retrieve all data of the table that I have explained or there is a better way most quickly (in terms of speed of query not to implement).\nI hope that someone can help me to optimize my code because this query works but I don't know if it is the better way to retrieve data of many tables relationed.</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","jquery","ajax","asp.net-mvc","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":12231583,"title":"Using javascript to call controller methond in mvc","body":"<p>Im trying to make a table row work as a link to another view in my mvc website. Instead of using the standard \"Details\" link provided by the auto generated table list, I would like to use the table row as a link to the \"Details\" view instead. So somehow I need to make the row work as a link. Each rom has a unique id that I need to pass on to the controller method. I have tried different solutions but noting happens when I press on the table row...</p>\n\n<p>So far this is what I have:\n    \n    \n    </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $('#customers tr').click(function () {\n        var id = $(this).attr('id');\n        $.ajax({\n            url: \"Customer/Details\" + id,\n            succes: function () { }\n        });\n    })\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>My controller method:</p>\n\n<pre><code>        public ActionResult Details(int id)\n    {\n        Customer model = new Customer();\n        model = this.dbEntities.Customers.Where(c =&gt; c.Customer_ID == id).Single();\n        return View(model);\n    }\n</code></pre>\n\n<p>Gloab.asax:\n    public static void RegisterGlobalFilters(GlobalFilterCollection filters)\n        {\n            filters.Add(new HandleErrorAttribute());\n        }</p>\n\n<pre><code>    public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n        routes.MapRoute(\n            \"Default\", // Route name\n            \"{controller}/{action}/{id}\", // URL with parameters\n            new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }     \n        );\n\nroutes.MapRoute(\n            \"CustomerDetails\",\n            \"Customer/Details/{id}\",\n            new { controller = \"Customer\", action = \"Details\", id = \"\" }\n        );\n    }\n\n    protected void Application_Start()\n    {\n        AreaRegistration.RegisterAllAreas();\n\n        // Use LocalDB for Entity Framework by default\n        Database.DefaultConnectionFactory = new SqlConnectionFactory(@\"Data Source=(localdb)\\v11.0; Integrated Security=True; MultipleActiveResultSets=True\");\n\n        RegisterGlobalFilters(GlobalFilters.Filters);\n        RegisterRoutes(RouteTable.Routes);\n    }\n</code></pre>\n"},{"tags":["javascript","mvc"],"answer_count":6,"favorite_count":2,"up_vote_count":5,"down_vote_count":1,"view_count":8932,"score":4,"question_id":2709978,"title":"Call javascript from MVC controller action","body":"<p>Can I call javascript function from <strong>MVC controller action</strong> (not from view page) and get return value? How?</p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":437,"score":6,"question_id":7326819,"title":"Where do I put classes in Symfony that are neither Controllers nor models?","body":"<p>For my application bundle, I will need some classes that are neither controllers nor models. For instance, I would like to have a <code>scorecard</code> class that has members such as \"skill\", \"efficiency\", \"beauty\", etc. Also, it may have member method/getters like \"meanScore\".</p>\n\n<p>Where would such a class go in the Symfony framework?</p>\n"},{"tags":["php","mvc","symfony2","twig"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":7415930,"title":"symfony .. hyperlinks on a view","body":"<p>My question is how to make a hyperlink in a view? Like <code>&lt;a href=\"link\"&gt;&lt;/a&gt;</code> in HTML. Have I to create it in an action method in the controller and then send it to a view? or what exactly?</p>\n"},{"tags":["mvc","session","symfony2","controllers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":7572039,"title":"Session control Various controllers at the same page in Symfony 2?","body":"<p>i'm trying to control the session to forbid the access to some pages of my web app. The way is simple, a boolean session variable. The thing is there's one page for every action, but, i think is not elegant at all to ask in every action if the user is logged or not. How can i do this elegantly in a MVC architecture? It looks crappy this way. I was thinking that there is a parent action that redirects to the final one, the one that renders the page, is it right? maybe i could make the check there.</p>\n\n<pre><code>public function createAction(Request $request){\n        $sess = $this-&gt;getRequest()-&gt;getSession();\n        if ($sess-&gt;get('logged') == true) {\n        // ---- ACTION CODE GOES HERE ---- //\n        }\n}\n</code></pre>\n"},{"tags":["php","mvc","symfony2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1661,"score":0,"question_id":7609376,"title":"Symfony2 vendors install","body":"<p>I'm trying to setup and create new bundle with symfony2, but getting so much error almost every step.</p>\n\n<p>I'm download symfony and run this command;  </p>\n\n<p><code>php bin/vendors install</code></p>\n\n<p><code>&gt; Installing/Updating swiftmailer\nCloning into /var/www/Symfony/vendor/swiftmailer...<br>\n...<br>\n...<br>\n...<br>\n [ErrorException]<br>\n  Warning: constant(): Couldn't find constant Monolog\\Logger::iNFO in /var/www/Symfony/vendor/symfony/src/Symfony/Bundle/MonologBundle/DependencyInjection/MonologExtension.php line 103<br>\n</code></p>\n\n<p>what is the problem? what should I do?</p>\n"},{"tags":["c#",".net","mvc","entities"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1251,"score":0,"question_id":7511338,"title":"AcceptChanges cannot continue because the object's key values conflict with another object in the ObjectStateManager","body":"<p>The changes to the database were committed successfully, but an error occurred while updating the object context. The ObjectContext might be in an inconsistent state. Inner exception message: AcceptChanges cannot continue because the object's key values conflict with another object in the ObjectStateManager. Make sure that the key values are unique before calling AcceptChanges.</p>\n\n<p>Is the error message i get. here are the two functions i use...</p>\n\n<pre><code>    public IList&lt;string&gt; GenerateVersions(decimal id, decimal fId, string folderName, string filename, string objFile)\n    {\n        List&lt;string&gt; generatedFiles = new List&lt;string&gt;();\n\n        foreach (var tCmdSets in db.IMG_SETTINGS_CMDSETS.Where(\"it.SETTINGS_FOLDER_ID = @folderid\", new ObjectParameter(\"folderid\", id)))\n        {\n            var strDestinationPath = ImageResizer.Util.PathUtils.RemoveExtension(Path.Combine(tmpDefaultFolder, tCmdSets.SETTINGS_CMDSET_DESTINATION, filename));\n            ResizeSettings objResizeCommand = new ResizeSettings(tCmdSets.SETTINGS_CMDSET_COMMAND);\n\n            var strCreatedFile = ImageBuilder.Current.Build(objFile, strDestinationPath, objResizeCommand, false, true);\n            generatedFiles.Add(\"### File created: (\" + folderName + \"  \" + tCmdSets.SETTINGS_CMDSET_NAME + \" ) \" + Path.GetFileName(strCreatedFile));\n\n            IMG_UPLOAD_GENERATED_FILES tObjGenerated = new IMG_UPLOAD_GENERATED_FILES();\n\n            tObjGenerated.UPLOAD_GENERATED_FILE_NAME = Path.GetFileName(strCreatedFile);\n            tObjGenerated.UPLOAD_GENERATED_PATH = Path.GetDirectoryName(strCreatedFile);\n            tObjGenerated.SETTINGS_CMDSET_ID = tCmdSets.SETTINGS_CMDSET_ID;\n            tObjGenerated.UPLOAD_FILE_ID = fId;\n\n            dbHandler.IMG_UPLOAD_GENERATED_FILES.AddObject(tObjGenerated);\n            dbHandler.SaveChanges();\n        }\n        return generatedFiles;\n    }\n\n    public ActionResult UploadBulkFiles(decimal id)\n    {\n        IMG_SETTINGS_FOLDERS img_settings_folders = db.IMG_SETTINGS_FOLDERS.Single(i =&gt; i.SETTINGS_FOLDER_ID == id);\n        string strBulkDirectory = Path.Combine(tmpDefaultFolder, img_settings_folders.SETTINGS_FOLDER_BULK);\n        string[] objFiles = Directory.GetFiles(strBulkDirectory);\n        List&lt;string&gt; lstOuput = new List&lt;string&gt;();\n\n        foreach (var tFile in objFiles)\n        {\n            System.IO.File.Move(tFile, Path.Combine(tmpDefaultFolder, \"masters\", img_settings_folders.SETTINGS_FOLDER_NAME, Path.GetFileName(tFile)));\n\n            lstOuput.Add(\"### File moved to masters (\" + img_settings_folders.SETTINGS_FOLDER_NAME + \" ) \" + Path.GetFileName(tFile));\n\n            IMG_UPLOAD_FILES tObjUploadedFile = new IMG_UPLOAD_FILES();\n\n            tObjUploadedFile.UPLOAD_FILE_NAME = Path.GetFileName(tFile);\n            tObjUploadedFile.SETTINGS_FOLDER_ID = img_settings_folders.SETTINGS_FOLDER_ID;\n\n            dbHandler.IMG_UPLOAD_FILES.AddObject(tObjUploadedFile);\n            dbHandler.SaveChanges();\n\n            var objGeneratedFiles = GenerateVersions(img_settings_folders.SETTINGS_FOLDER_ID,tObjUploadedFile.UPLOAD_FILE_ID, img_settings_folders.SETTINGS_FOLDER_NAME, Path.GetFileName(tFile), Path.Combine(tmpDefaultFolder, \"masters\", img_settings_folders.SETTINGS_FOLDER_NAME, Path.GetFileName(tFile)));\n            lstOuput.AddRange(objGeneratedFiles);\n        }\n        if (lstOuput.Count &gt; 0)\n        {\n            return PartialView(\"UploadSingleFile\", lstOuput);\n        }\n        else\n        {\n            return PartialView(\"NoUploads\");\n        }\n    }\n</code></pre>\n\n<p>DATA MODEL</p>\n\n<p>IMG_UPLOAD_FILE</p>\n\n<ul>\n<li>UPLOAD_FILE_ID (PK)</li>\n<li>UPLOAD_FILE_NAME</li>\n<li>SETTINGS_FOLDER_ID</li>\n</ul>\n\n<p>IMG_UPLOAD_GENERATED_FILES</p>\n\n<ul>\n<li>UPLOAD_GENERATED_FILE_ID (PK)</li>\n<li>UPLOAD_GENERATED_FILE_NAME</li>\n<li>UPLOAD_GENERATED_FILE_PATH</li>\n<li>SETTINGS_CMDSET_ID</li>\n<li>UPLOAD_FILE_ID</li>\n</ul>\n"},{"tags":["objective-c","ios","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12495941,"title":"Correct MVC pattern for gesture recognizer","body":"<p>I am creating a custom gesture recognizer, and my goal is to log movement above a certain threshold for the duration of the gesture, then report that data set at the end of the gesture. I'm a little fuzzy about the role that the gesture recognizer object plays.</p>\n\n<p>As I am still a bit new to OOP, I am wondering about the best practice for MVC with this gesture recognizer. Specifically, should the gesture recognizer be \"dumb\" and only report movement to a view controller, and let the logic and logging happen in the VC, or is it just as fine to do light logic and logging in the gesture recognizer, then let it report back when the gesture is finished, and have the VC ask the gesture recognizer for the data.</p>\n\n<p>Here is some sample code for what I'm currently prototyping (with the approach of having the logic and logging in the gesture recognizer):</p>\n\n<pre><code>- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event\n{\n    [super touchesMoved:touches withEvent:event];\n    if (self.state == UIGestureRecognizerStateFailed) return;\n\n    CGPoint nowPoint = [[touches anyObject] locationInView:self.view];\n    int xMovement = nowPoint.x - self.previousPoint.x;\n    int yMovement = nowPoint.y - self.previousPoint.y;\n\n    if (xMovement &gt;= 0) {\n        // positive/no x movement, log points if x or y has movement above threshold\n        if (xMovement &gt; MovementThreshold || yMovement &gt; MovementThreshold) {\n            NSLog(@\"Movement above the threshold!\\nx: %f\\ty: %f\", nowPoint.x, nowPoint.y);\n            self.previousPoint = nowPoint;\n        }\n    } else {\n        // negative x movement\n        self.state = UIGestureRecognizerStateFailed;\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12500771,"title":"Is loading a model within another CodeIgniter model appropriate?","body":"<p>I have an architectural question that has been bothering me. </p>\n\n<p>Codeigniter defines there <a href=\"http://codeigniter.com/user_guide/general/models.html\" rel=\"nofollow\">model</a> as such.  Now there are times when a model is closely tied to another.  I.e. User and Security.  </p>\n\n<p><strong>Is it bad practice to access another model within a model?</strong>  </p>\n\n<p>i.e. </p>\n\n<pre><code>class User extends CI_model \n{\n    function getUser() \n    {\n        $this-&gt;load-&gt;model('User');\n        $user = // load user \n\n        $this-&gt;load-&gt;model('Security');\n        $security = // load security\n\n        $user-&gt;security = $security;\n    }\n}\n</code></pre>\n\n<p>Some how it doesn't feel 'kosher' to me.   It feels like I need to have a DAO or some sort of DAL on top which can then load both models and do the necessary fetching while leaving the basic CRUD and model specific operations in the model.  And if we do create a separate layer, there doesn't seem like a logical place to put them in the Codeigniter framework.  </p>\n"},{"tags":["java","spring","mvc","spring-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12498840,"title":"Difference between BeanNameUrlHandlerMapping SimpleUrlHandlerMapping","body":"<p>What is the difference between Spring BeanNameUrlHandlerMapping and SimpleUrlHandlerMapping?</p>\n\n<p>After going through some site I understand that \nBeanNameUrlHandlerMapping is the default HandlerMapping for DispatcherServlet.</p>\n\n<p>Also in BeanNameUrlHandlerMapping you can directly map url with Controller.</p>\n\n<p>but same thing can be done with SimpleUrlHandlerMapping as well.</p>\n\n<p>I know something but not that much clear, that it has to do something with \n</p>\n\n<p>name accepts / but id can't.....but i am confused.</p>\n\n<p>what is the exact diffrence? what is the need of SimpleUrlHandlerMapping?</p>\n\n<p>please explain...Thanks.</p>\n"},{"tags":["javascript","mvc","event-handling","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12496661,"title":"Doesn't attaching ng-click within a template defeat the purpose of MV*?","body":"<p>In angularjs there are examples where the ng-click handler is attached directly to an html element such as <code>&lt;a&gt;</code> or <code>&lt;button&gt;</code>. See my example below (taken from an angular home page example). It defines the anchor tag's click handler, which will call <code>archive()</code>.</p>\n\n<p>Doesn't this go against the whole MV* framework? Wouldn't it be better to define the click somewhere other than the view? It just seems like a bit too much functionality is now attached to the anchor tag. Can anyone enlighten me here?</p>\n\n<p>Example Code:</p>\n\n<pre><code>&lt;a href=\"\" ng-click=\"archive()\"&gt;archive&lt;/a&gt;\n</code></pre>\n"},{"tags":["jquery","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12498345,"title":"MVC Pass generic list to controller action from JS file","body":"<p>I have a text file and when users upload the file, the controller action method parses that file using state machine and uses a generic list to store some values. I pass this back to the page in the form of a hidden field. Users can then click on a link which invoked a JS modal dialoag box and they could see the list and add comments for each item in the list. When they click on the link I am trying to post to an action method which would take that hidden field and do something with it and render a partial view. The problem is when i post to this action method, this field is being passed as null.</p>\n\n<p>here is my code</p>\n\n<pre><code>@Html.HiddenFor(model =&gt; model.ExceptionString)\n\n\n\nif (Model.ExceptionString != null)\n           {\n               if (Model.ExceptionString.Count &gt; 0)\n               {\n        &lt;div class=\"bodyContent\"&gt;\n            &lt;span class=\"leftContent\"&gt;\n                @Html.Label(\"Test Exceptions\")\n            &lt;/span&gt;&lt;span class=\"rightContent\"&gt;&lt;span id=\"TestExceptionChildDialogLink\" class=\"treeViewLink\"&gt;Click\n                here to View Test Exceptions&lt;/span&gt;\n                &lt;br /&gt;\n                &lt;span id=\"TestExceptionDisplay\"&gt;&lt;/span&gt;\n                @Html.HiddenFor(model =&gt; model.ExceptionString)\n                &lt;input id=\"ExceptionString\" type=\"hidden\" value=\"@Model.ExceptionString\" /&gt;\n            &lt;/span&gt;\n        &lt;/div&gt;\n               }\n           }\n\n&lt;div id=\"testExceptiontreeview\" title=\"Dialog Title\" style=\"font-size: 10px; font-weight: normal;\n    overflow: scroll; width: 800px; height: 450px;\"&gt;\n    &lt;div id=\"testExceptions\"&gt;\n\n    &lt;/div&gt;\n    &lt;div id=\"inputTestExceptions\" style=\"display: none;\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n  var runlogTestExceptionUrl = '@Url.Action(\"ListTestExceptions\", \"RunLogEntry\")';\n\nJS FILE\n\n $(\"#inputTestExceptions\").load(runlogTestExceptionUrl, { ExceptionStrings: $(\"#ExceptionString\").val() });\n</code></pre>\n\n<p>Controller action</p>\n\n<pre><code>[HttpPost]\n        public ViewResult ListTestExceptions(List&lt;string&gt; ExceptionStrings)\n        {\n</code></pre>\n\n<p>Any ideas as to why exception string list is null while being passed by the JS to the abive action method?</p>\n"},{"tags":["asp.net","javascript","asp.net-mvc","ajax","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":326,"score":1,"question_id":3040249,"title":"How can I hit my database with an AJAX call using javascript?","body":"<p>I am pretty new at this stuff, so bear with me.</p>\n\n<p>I am using ASP.NET MVC.</p>\n\n<p>I have created an overlay to cover the page when someone clicks a button corresponding to a certain database entry. Because of this, ALL of my code for this functionality is in a .js file contained within my project.</p>\n\n<p>What I need to do is pull the info corresponding to my entry from the database itself using an AJAX call, and place that into my textboxes. Then, after the end-user has made the desired changes, I need to update that entry's values to match the input. I've been surfing the web for a while, and have failed to find an example that fits my needs effectively.</p>\n\n<p>Here is my code in my javascript file thus far:</p>\n\n<pre><code>function editOverlay(picId) {\n      //pull up an overlay\n      $('body').append('&lt;div class=\"overlay\" /&gt;');\n      var $overlayClass = $('.overlay');\n\n      $overlayClass.append('&lt;div class=\"dataModal\" /&gt;');\n      var $data = $('.dataModal');\n\n      overlaySetup($overlayClass, $data);\n\n\n      //set up form\n      $data.append('&lt;h1&gt;Edit Picture&lt;/h1&gt;&lt;br /&gt;&lt;br /&gt;');\n\n      $data.append('Picture name: &amp;nbsp;');\n      $data.append('&lt;input class=\"picName\" /&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;');\n\n      $data.append('Relative url: &amp;nbsp;');\n      $data.append('&lt;input class=\"picRelURL\" /&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;');\n\n      $data.append('Description: &amp;nbsp;');\n      $data.append('&lt;textarea class=\"picDescription\" /&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;');\n\n      var $nameBox = $('.picName');\n      var $urlBox = $('.picRelURL');\n      var $descBox = $('.picDescription');\n\n      var pic = null; \n\n//this is where I need to pull the actual object from the db\n      //var imgList = \n      for (var temp in imgList)  {\n          if (temp.Id == picId) {\n              pic= temp;\n              }\n          }\n\n  /*\n      $nameBox.attr('value', pic.Name);\n      $urlBox.attr('value', pic.RelativeURL);\n      $descBox.attr('value', pic.Description);\n  */\n\n      //close buttons\n      $data.append('&lt;input type=\"button\" value=\"Save Changes\" class=\"saveButton\" /&gt;');\n      $data.append('&lt;input type=\"button\" value=\"Cancel\" class=\"cancelButton\" /&gt;');\n\n\n      $('.saveButton').click(function() {\n          /*\n          pic.Name = $nameBox.attr('value');  \n          pic.RelativeURL = $urlBox.attr('value');\n          pic.Description = $descBox.attr('value');\n          */\n\n          //make a call to my Save() method in my repository\n\n          CloseOverlay();\n      });\n\n      $('.cancelButton').click(function() {\n          CloseOverlay();\n      });\n  }\n</code></pre>\n\n<p>The stuff I have commented out is what I need to accomplish and/or is not available until prior issues are resolved.</p>\n\n<p>Any and all advice is appreciated! Remember, I am VERY new to this stuff (two weeks, to be exact) and will probably need highly explicit instructions.</p>\n\n<p>BTW: overlaySetup() and CloseOverlay() are functions I have living someplace else.</p>\n\n<p>Thanks!</p>\n"},{"tags":["asp.net-mvc","mvc","razor","asp.net-mvc-4"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":92,"score":-1,"question_id":12493116,"title":"How to add individual css file in particular view in mvc4?","body":"<p>Actually I've a master page and I'm adding this master page into another view (Index.cshtml), now I want to add another individual css file into Index.cshtml view.</p>\n"},{"tags":["mvc","view","model","standards","rounding"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":12496855,"title":"\"numerical rounding\" in view or in model?","body":"<p>Maybe that's a stupid question, but i'm totally unsure about how \"intelligent\" a view should be: </p>\n\n<p><strong>Is it good practice to round a number in the view (or is it a no-go and you have to do it in the model) ?</strong></p>\n\n<p>Rounding is usually a layout/output thing, but also a mathematical issue which belongs into a model. Hm....</p>\n"},{"tags":["c#","database","mvc","desktop"],"answer_count":4,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":2975,"score":6,"question_id":4608251,"title":"Writing dot net desktop application with MVC design pattern","body":"<p>I got an assignment to make a Desktop application using C#. It has to be done using MVC design pattern, but I can't find any tutorial which can show how to do it with Desktop based application. All the tutorials which I can find show how to do it for web (asp.net).</p>\n\n<p>So I was wondering if someone can suggest me a book or online tutorial which is doing this? </p>\n"},{"tags":["spring","mvc","servlets","dependency-injection","inversion-of-control"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12490170,"title":"Spring DI Unsatisfied dependency expressed","body":"<p>applicationContext.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"user\" class=\"com.pomkine.pottyauth.domain.User\"/&gt;\n    &lt;bean id=\"userdao\" class=\"com.pomkine.pottyauth.persistance.GaeUserDao\"/&gt;\n    &lt;bean id=\"userservice\" class=\"com.pomkine.pottyauth.service.UserServiceImpl\"&gt;\n        &lt;constructor-arg ref=\"userdao\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>@Controller\npublic class RosterController {\n\n    private UserService userService;\n\n    @Inject\n    public RosterController(UserService userService){\n        this.userService=userService;\n    }\n\n    @RequestMapping(value = {\"/userRoster\"}, method = RequestMethod.GET)\n    public String showRosterPage(Map&lt;String,Object&gt; model){\n        model.put(\"users\",userService.getAllUsers());\n        return \"userRoster\";\n    }\n}\n</code></pre>\n\n<p>So I want UserService to be injected into my controller. But I'm getting the following exception: </p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'rosterController' defined in file [S:\\Coding\\Idea_workspace\\pottyAuth\\target\\pottyAuth-1.0\\WEB-INF\\classes\\com\\pomkine\\pottyauth\\mvc\\RosterController.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.pomkine.pottyauth.service.UserService]: : No matching bean of type [com.pomkine.pottyauth.service.UserService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency.\n</code></pre>\n\n<p>Here is my UserServiceImpl class:</p>\n\n<pre><code>public class UserServiceImpl implements UserService {\n\n    private UserDao dao;\n\n\n\n    public UserServiceImpl(UserDao dao){\n        this.dao=dao;\n    }\n    @Override\n    public User getUser(User user) {\n        return dao.getUser(user);\n    }\n\n    @Override\n    public void addUser(User user) {\n         dao.addUser(user);\n    }\n\n    @Override\n    public List getAllUsers() {\n        return dao.getAllUsers();\n    }\n}\n</code></pre>\n\n<p>So I'm expecting Spring container to create UserServiceImlp bean and inject it into RosterController. But it seems that it cannot find UserServiceImpl bean.</p>\n\n<p>What could be wrong?</p>\n"},{"tags":["java","spring","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12492714,"title":"Spring - How can I control the URL that's displayed for a view?","body":"<p>I have 4 types of requests handled by 4 different methods in <code>AccountsController</code>:</p>\n\n<ol>\n<li><code>/accounts</code> Displays all the accounts</li>\n<li><code>/accounts/new</code> New accounts page</li>\n<li><code>/accounts/{accountId}/edit</code> Edit account page</li>\n<li><code>/accounts/{accountId}/delete</code> Deletes an account</li>\n</ol>\n\n<p><code>(1)</code> is fine. I just return the <code>DisplayAccounts.jsp</code> view.</p>\n\n<p>Regarding <code>(2)</code> and <code>(3)</code>, When I take the user from initial view to <code>DisplayAccounts.jsp</code> (once the action is successful), the URL is still the old one (either <code>/accounts/new</code> or <code>/accounts/{accountId}/edit</code> respectively)</p>\n\n<p>And with <code>(4)</code>, I dont have a view to start with. It's just an action, which should return the view <code>EditAccount.jsp</code> on failure and <code>DisplayAccounts.jsp</code> on success. And again, the final URL should be <code>/accounts/{accountId}/edit</code> or <code>/accounts</code> respectively.</p>\n\n<p>How do I accomplish this?</p>\n"},{"tags":["c#","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":426,"score":1,"question_id":10950638,"title":"The referenced component 'EntityFramework' could not be found.","body":"<p>So im downloading a project at home from work over team foundation server. I download the project and it won't compile because of the error. Warning    2   The referenced component 'EntityFramework' could not be found. Could anyone offer guidance in how I can get entity framework to work. I installed nuget package.</p>\n\n<p>Thankyou </p>\n"},{"tags":["mvc","orchardcms"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":331,"score":2,"question_id":8916146,"title":"Scheduled tasks using Orchard CMS","body":"<p>I need to create scheduled task using Orchard CMS. </p>\n\n<p>I have a service method (let's say it loads some data from external source), and I need to execute it everyday at 8:00 AM.</p>\n\n<p>I figured out I have to use IScheduledTaskHandler and IScheduledTaskManager... Does anyone know how to solve this problem? Some sample code will be appriciated.</p>\n"},{"tags":["php","mvc","zend-framework","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12490252,"title":"Class Not Found when extends a Class of Subdirectory Controller in ZendFramework","body":"<p>I've the next structure</p>\n\n<pre>-application\n--controllers\n---Sub\n----DemoController.php\n---IndexController.php\n-models\n-views\n-Boostrap.php</pre>\n\n<p>Well, in my Sub/DemoController.php I've the next:</p>\n\n<pre><code>&lt;?php\nclass Sub_DemoController extends Zend_Controller_Action\n{\n    public function indexAction()\n    {\n        echo 'hello demo';\n    }\n}\n</code></pre>\n\n<p>And my IndexController.php like this:</p>\n\n<pre><code>&lt;?php\nclass IndexController extends Sub_DemoController\n{\n}\n</code></pre>\n\n<p>When I run my web throw the next error: Class 'Sub_DemoController' not found ...\nI try with initialize class with Application_Sub_DemoController, but return the same result.</p>\n\n<p><strong>I don't want use modules</strong>, I know how uses modules in Zend Framewoork but I don't looking for it.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","mvc","graphics2d"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":101,"score":2,"question_id":12453475,"title":"Is this MVC? Simple Java Graphics2D drawing program","body":"<p>I'm after opinions please on this attempt at MVC using Java Graphics2D.\nI wanted to get my head round MVC using a simple example.</p>\n\n<p>Have I got it right please?</p>\n\n<p>Docs here.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/javase/index-142890.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/index-142890.html</a></p>\n\n<p>Feedback appreciated cheers.</p>\n\n<pre><code>public class App {\n\n    /*\n     * The view registers as a listener on the model. Any changes to the\n     * underlying data of the model immediately result in a broadcast change\n     * notification, which the view receives.\n     * \n     * Note that the model is not aware of the view or the controller -- it\n     * simply broadcasts change notifications to all interested listeners.\n     * \n     * The controller is bound to the view. This typically means that any user\n     * actions that are performed on the view will invoke a registered listener\n     * method in the controller class.\n     * \n     * The controller is given a reference to the underlying model.\n     */\n    public static void main(String[] args) {\n        Model model = new Model();\n        Controller controller = new Controller(model);\n        View view = new View(controller);\n        model.addModelChangedListener(view);\n\n    }\n}\n\nimport java.awt.Rectangle;\nimport java.util.ArrayList;\nimport java.util.Iterator;\n\npublic class Model {\n\n    private ArrayList&lt;Rectangle&gt; rectangles = new ArrayList&lt;Rectangle&gt;();\n    private ArrayList&lt;ModelChangedEventListener&gt; listeners = new ArrayList&lt;ModelChangedEventListener&gt;();\n\n    public void addRectangle(int x, int y, int width, int height) {\n        rectangles.add(new Rectangle(x, y, width, height));\n        modelChangedEvent();\n    }\n\n    public ArrayList&lt;Rectangle&gt; getRectangles() {\n        return rectangles;\n    }\n\n    public synchronized void addModelChangedListener(\n            ModelChangedEventListener listener) {\n        listeners.add(listener);\n    }\n\n    public synchronized void removeModelChangedListener(\n            ModelChangedEventListener listener) {\n        listeners.remove(listener);\n    }\n\n    private synchronized void modelChangedEvent() {\n        ModelChangeEvent event = new ModelChangeEvent(this);\n        Iterator&lt;ModelChangedEventListener&gt; i = listeners.iterator();\n        while (i.hasNext()) {\n            ((ModelChangedEventListener) i.next()).handleModelChange(event);\n        }\n    }\n\n}\n\nimport java.awt.Container;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.util.EventObject;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class View extends JFrame implements ModelChangedEventListener {\n\n    private static final int DISPLAY_WIDTH = 300;\n    private static final int DISPLAY_HEIGHT = 300;\n    private ViewPanel viewPanel;\n    private Controller controller;\n\n    public View(Controller controller) {\n        this.controller = controller;\n        setSize(DISPLAY_WIDTH, DISPLAY_HEIGHT);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        Container contentPane = getContentPane();\n        viewPanel = new ViewPanel();\n        contentPane.add(viewPanel);\n        setVisible(true);\n    }\n\n    @Override\n    public void handleModelChange(EventObject e) {\n        viewPanel.repaint();\n    }\n\n    public class ViewPanel extends JPanel implements MouseListener {\n\n        public ViewPanel() {\n            addMouseListener(this);\n        }\n\n        public void paintComponent(Graphics g) {\n            Graphics2D g2 = (Graphics2D) g;\n            controller.draw(g2);\n        }\n\n        @Override\n        public void mouseClicked(MouseEvent arg0) {\n            controller.click(arg0.getX(), arg0.getY());\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent arg0) {\n        }\n\n        @Override\n        public void mouseExited(MouseEvent arg0) {\n        }\n\n        @Override\n        public void mousePressed(MouseEvent arg0) {\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent arg0) {\n        }\n\n    }\n\n}\n\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\n\npublic class Controller {\n\n    private Model model;\n\n    public Controller(Model model) {\n        this.model = model;\n    }\n\n    public void click(int x, int y) {\n        model.addRectangle(x, y, 25, 25);\n    }\n\n    public void draw(Graphics2D g2) {\n        for (Rectangle rectangle : model.getRectangles()) {\n            g2.draw(rectangle);\n        }\n    }\n}\n\nimport java.util.EventObject;\n\npublic interface ModelChangedEventListener {\n    public void handleModelChange(EventObject e);\n}\n\npublic class ModelChangeEvent extends java.util.EventObject {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    public ModelChangeEvent(Object source) {\n        super(source);\n    }\n}\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","azure","scalability"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":65,"score":4,"question_id":12486730,"title":"Defining Scaling Threshold for Azure Web Roles","body":"<p>Azure embraces the notion of elastic scaling and I've been able to acheive this with my <strong>Worker Roles</strong>. However, when it comes to my <strong>Web Roles</strong> (<em>e.g. MVC Apps</em>) I am not sure what to monitor (<em>or how</em>) to determine when its a good time to increase (<em>or descrease</em>) the number of running instances. I'm assuming I need to monitor one or many Performance Counters but not sure where to start. </p>\n\n<p>Can anyone recommend a best practice for assessing an MVC Web Role instances load relative to scaling decisions? </p>\n"},{"tags":["asp.net","linq","mvc","entity-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":963,"score":1,"question_id":5224734,"title":"ASP.NET MVC and Entity Framework. How to avoid duplicate rows?","body":"<p>So I'm new to ASP.NET MVC and I'm trying to implement an address manager.I'm using Linq2Entity Framework. I've got a table with contacts and one with phone numbers. These two tables are linked by a contact_has_phone_number table. The Entity Framework enables me to get all phone numbers that are assigned to one contact. This is done by calling contact.PhoneNumbers which returns a collection of phone numbers. A new number is added with contact.PhoneNumber.Add(number). The Problem is that I am getting duplicate phone number entries in the phone number table. What I would like to get is that an existing phone number only gets linked in the contact_has_phone_number table. \nFor Example:</p>\n\n<p>Table \"contact\"  </p>\n\n<pre><code>ID_Contact  | First_Name |  Last_Name  \n1           |   Jeff     |    Bridges  \n2           |   Peter    |    Miller  \n</code></pre>\n\n<p>Table \"contact_has_phone_number\"  </p>\n\n<pre><code>ID_Contact  | ID_Number  \n1           |    1  \n1           |    2  \n2           |    1  \n</code></pre>\n\n<p>Table \"phone_number\"  </p>\n\n<pre><code>ID_Number  | Number  \n1          | 1234567  \n2          | 7654321  \n</code></pre>\n\n<p>At the momonet I would get 3 rows in the \"phone_number\" table with 2 rows with identical numbers.</p>\n\n<pre><code>ID_Number  | Number  \n1          | 1234567  \n2          | 7654321  \n3          | 1234567  \n</code></pre>\n\n<p>Would be a blast if you could help me with this.</p>\n"},{"tags":["mvc","ember.js"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12485819,"title":"Change content [] object property without removing or adding","body":"<p>I setup a list of objects, add them to content[] array list. So far so fine. Ember DOM in App.list show correct data. Now, when I start altering the content properties without remove/add/replaceAt() any object in App.list it seems Ember doesn't pick this up.</p>\n\n<p>View:\n    {{#each item in App.list.content}}\n      {{item.title}}\n    {{/each}}</p>\n\n<p>Code:\n    function myApp() {\n      App = Ember.Application.create({});</p>\n\n<pre><code>  App.Item = Ember.Object.extend({\n    title: null,\n    parent: null\n  });\n\n  App.MyList = Ember.Object.extend({\n    title: null,\n    content: [],\n    changed: function() {\n      console.log('here');\n    }.observes('content')\n  });\n\n  App.list = App.MyList.create({\n    title: \"foobar\",\n    content: [\n      App.Item.create({\n        title: \"item1\"\n      }),\n      App.Item.create({\n        title: \"item2\"\n      })\n    ]\n  });\n  console.log(App.list.content);\n\n  // Add 3rd object to list\n  App.list.get('content').pushObject(\n    App.Item.create({\n      title: \"item3\"\n    })\n  );\n}\n</code></pre>\n\n<p>..and later in some random Ember ArrayController I do this:\n    for (var i = 0; i &lt; 2; i++) {\n      App.list.content[i].title = \"I CHANGED YOU\";\n    }</p>\n\n<p>Looking at my App.list the content is correct, but view is not. Am I missing something? If I have to guess ArrayHasChanged() seems to be rigged for array size changed or object being changed which I'm not doing, I'm altering property data within specific objects of the content[] array. Is it possible or do I have to removeAt()/Add/Delete objects?</p>\n"},{"tags":["javascript","mvc","scope","angularjs"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":174,"score":1,"question_id":12480400,"title":"Where to put user defined functions in Angular JS?","body":"<p>In my view, I want to render:</p>\n\n<pre><code>&lt;p&gt;\n  {{ say() }}\n&lt;/p&gt;\n</code></pre>\n\n<p>Where <code>say</code> is defined as such: </p>\n\n<pre><code>say = function() {\n  return \"Hello World\";\n}\n</code></pre>\n\n<p>I can define it in my controller:</p>\n\n<pre><code>function TestCtrl($scope) {\n  $scope.say = function() { ... };\n}\n</code></pre>\n\n<p>But then it's only accessible within that controller.</p>\n\n<p>If I define the function outside the Angular file structure, it renders nothing. Same if I define it in my <code>controllers.js</code> file, but outside a controller function scope.</p>\n\n<p>Where is the proper place to put my function, so I can render it in any controller? </p>\n"},{"tags":["c#","asp.net-mvc","mvc","paypal","e-commerce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12481070,"title":"How to send Shipping Cost to paypal from cart","body":"<p>I'm trying to send the Shipping amount of the cart to paypal. Paypal is not receiving the amount of  an entire cart, but it will work if I do the shipping on each item in the cart. Has anyone successfully sent the shipping amount of an entire cart to paypal and not foreach line item?</p>\n\n<p>Here is what I've tried:</p>\n\n<pre><code>    @Html.Hidden(\"cmd\", \"_cart\")\n    @Html.Hidden(\"upload\", \"1\")\n    @Html.Hidden(\"business\", ConfigurationManager.AppSettings[\"BusinessAccountKey\"])\n\n    @Html.Hidden(\"first_name\", Model.UserShippingInfo.FirstName)\n    @Html.Hidden(\"last_name\", Model.UserShippingInfo.LastName)\n    @Html.Hidden(\"address1\", Model.UserShippingInfo.Address)\n    @Html.Hidden(\"city\", Model.UserShippingInfo.City)\n    @Html.Hidden(\"state\", Model.UserShippingInfo.State)\n    @Html.Hidden(\"zip\", Model.UserShippingInfo.Zip)\n    @Html.Hidden(\"shipping\", @shippingCost.ToString(\"N2\"))\n    @Html.Hidden(\"amount\", @totalCost.ToString(\"N2\"))\n\n    @foreach (CartLine item in Model.Cart.Lines)\n    {\n\n        @Html.Hidden(\"item_name_\" + itemCount, item.Product.Name)\n        @Html.Hidden(\"item_number_\" + itemCount, item.Product.ProductID)\n        @Html.Hidden(\"amount_\" + itemCount, item.Product.Price.ToString(\"N2\"))\n        @Html.Hidden(\"quantity_\" + itemCount, item.Quantity)\n@*      @Html.Hidden(\"shipping_\" + count, item.Product.Price.ToString())\n        @Html.Hidden(\"handling_\" + count, 0)*@\n\n        itemCount++;\n    }\n</code></pre>\n"},{"tags":["regex","asp.net-mvc","mvc","resources"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":163,"score":1,"question_id":12468737,"title":"Asp.Net MVC 4.0 Model Localization With RegularExpression and ErrorMessage","body":"<p>How to create my custom RegularExpressionValidator that gets the RegularExpression and ErrorMessage from Resource file?</p>\n\n<pre><code> [RegularExpression(@\"\\d{5}(-\\d{4})?\",\n          ErrorMessageResourceType = typeof(Global), ErrorMessageResourceName = \"regExpValforPostal_ErrorMessage\")]\n        public string PostalCode { get; set; }\n</code></pre>\n"},{"tags":["html","ruby-on-rails","ruby","ruby-on-rails-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":12468536,"title":"ruby on rails code syntax including some haml and model view control","body":"<p>I have following  piece of code. Here is the original post\n<a href=\"http://stackoverflow.com/questions/9646815/conditionally-setting-css-style-from-ruby-controller\">Conditionally setting CSS style from ruby controller</a></p>\n\n<pre><code>%th{:class =&gt; @title_header}= link_to 'Title', my_path(:sort =&gt; 'title'), :id =&gt; 'title_header'\n</code></pre>\n\n<p>I know that  the link_to work<br></p>\n\n<p>1.I dont understand what is :class and is :class a keyword?<br></p>\n\n<p>2.I understand that when we create a model and we will get a model_path,\nbut in this case why we can pass an argument into my_path? <br></p>\n\n<p>3.Is that :sort also a keyword in rails?</p>\n\n<p>4.is :id a keyword in rails?</p>\n\n<p>5.so in this case , what we doing with my_path? is it going to return something?</p>\n\n<p>6.how about the :id, what it does in this case??</p>\n\n<p>Thankyou!</p>\n"},{"tags":["mvc","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12479187,"title":"Something that escapes me about Symfony's controllers","body":"<p>Take a look to that code</p>\n\n<pre><code>&lt;?php\n\nnamespace Sestante\\SestanteBundle\\Controller;\n\nuse Symfony\\Bundle\\FrameworkBundle\\Controller\\Controller;\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Sestante\\SestanteBundle\\Model\\StrutturaManager;\n\nclass MainController extends Controller\n{\n    public function indexAction(Request $request)\n    {\n        return $this-&gt;render('SestanteSestanteBundle:Main:index.html.twig');\n    }\n\n    public function showLodgingsAction(Request $request)\n    {\n        $repo = $this-&gt;getDoctrine()-&gt;getRepository('SestanteSestanteBundle:Struttura');\n        $usr = $this-&gt;get('security.context')-&gt;getToken()-&gt;getUser();\n        $usrId = $usr-&gt;getId();\n        $sm = new StrutturaManager($repo);\n        $lodgingList = $sm-&gt;retrieveLodgingsFromUser($usrId);\n        return $this-&gt;render('SestanteSestanteBundle:Main:showLodgings.html.twig',array('lodgingList' =&gt; $lodgingList));\n    }\n}\n</code></pre>\n\n<p>This is a controller for an application that I've been writing.</p>\n\n<p>Take a look to <code>showLodgingsAction</code>. I've tryied to place all business logic into a model (<code>StrutturaManager</code>) that with a repository (that I've passed directly from controller because, as far I know, they're available only here or via D.I.) query my db, do some elaboration and return a list that I'll render onto a template.</p>\n\n<p>First question: Is this \"code separation\" good, or exists a better way for do what I'm trying to do?</p>\n\n<p>Second question: suppose that, now, I want to use an object of <code>StrutturaManager</code> type into <code>indexAction</code>. Remember that mine object want a repository. So, have I to declare again, and again, and again, all my object for every controller's action where I want to use them? I suppose that must exist a smarter method but, at the moment, I don't understand which.</p>\n"},{"tags":["java","mvc"],"answer_count":3,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":460,"score":8,"question_id":394871,"title":"MVC in Java","body":"<p>This is about a school assignment so I'm trying to do things by the book. I feel like I'm getting the grips of Java, but good programming practice, design patterns, etc. are all rather new to me.</p>\n\n<p>I've made my model and it works fine. It contains a student class which contains a number of fields with student information (obviously). Now I want this information to be displayed in a couple of JLabels. It is easiest to pass a whole student object to the GUI and use JLabel.settext.getname() etc. a number of times and no doubt this will work perfectly. But I feel that the student object is part of the model and by passing it to the GUI I'm not using a MVC pattern anymore. Am I right here?</p>\n\n<p>I did make a controller object for passing data to and from the model and the GUI but for passing only strings to the labels or setting the JLabel text through the controller, I need either a lot of setters in the GUI, or I would have to make all JLabels global fields which doesn't feel good either.</p>\n\n<p>Any advice on this?  </p>\n"},{"tags":["jquery","web-services","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12468496,"title":"MVC or Webservices + jQuery","body":"<p>I'm some kind of newbie with MVC but have been working with WS over 4 years.</p>\n\n<p>I have to build a reporting web application (some grids and some graphics) and I want to know what is the best way to build it. This application needs to be accessible from many different browsers/devices (smartphone, iPad, desktop-win, desktop-mac, etc.) and mantain persistence, so I was thinking about a UI for non javascript devices and another working with jQuery, both consuming a webservice.</p>\n\n<p>On the other hand, I've read about MVC and in multiple sites says I can do this creating a few methods returning the entire view  (<a href=\"http://bit.ly/QkgQ8P\" rel=\"nofollow\">Khaja's Response</a>) and anothers working with jQuery.</p>\n\n<p>I want to know your opinion about this so I can take the better decision with this.</p>\n\n<p>Thank you.</p>\n"},{"tags":["php","mvc","opencart"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1236,"score":1,"question_id":10971817,"title":"How to add new module to opencart administration?","body":"<p>I want to add a sub menu item \"Locations\" to \"Catalog\" menu item in opencart administration. On selecting locations, I want to see my own location management view page which inetracts with my own locations table in the opencart database. </p>\n\n<p>Please let me know where and what mvc's to create to achieve this functionality in open cart.\nThank you.</p>\n"},{"tags":["php","oop","mvc","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":353,"score":3,"question_id":6272404,"title":"Reusing forms and controllers in Codeigniter","body":"<p>I'm learning the OO and MVC paradigm (using Codeigniter and PHP). I continue to find warnings such as this: <em>If you find yourself pasting the same code into multiple files, then you aren't using OO/MVC properly</em>. So, here's a question for more experienced programmers.</p>\n\n<ol>\n<li><p>I have a create-user form that I am using two very similar versions of:</p>\n\n<ul>\n<li><p>Version 1 (at <code>/volunteer/register</code>) is created by an anonymous user. The form lives in the <code>volunteers</code> controller, and needs to be verified by an admin.</p></li>\n<li><p>Version 2 (at <code>/admin/create_volunteer</code>) is created by a logged-in admin. The form and validation is nearly the same, but it is submitted with different parameters.</p></li>\n</ul></li>\n<li><p>Another, similar example:</p>\n\n<p>I want to build different user dashboards that share a template, but will be used by different user roles and have different functions and information based on role. As I see it my choices are: </p>\n\n<ol>\n<li>Create a Dashboard controller with three functions defining the data loaded into the dashboard template.</li>\n<li>Add the a dashboard function to each role's controller (Volunteer, Admin etc).</li>\n<li>Create a controller for each case (Volunteer, Admin, etc.)</li>\n</ol></li>\n</ol>\n\n<p>I apologize if this appears sophomoric but essentially I'm looking for rules-of-thumb to determine how to design architecture in MVC.</p>\n\n<p>My questions:</p>\n\n<ul>\n<li>In the first example, is my logical choice of controllers (<code>Volunteer</code> &amp; <code>Admin</code>) less than ideal? Is code replication in this case an acceptable practice?</li>\n<li>Can anyone recommend architecting tools to establish logical consistency and good workflow for MVC?</li>\n</ul>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12453455,"title":"When to create a new Controller","body":"<p>I am battling to understand when I should create a new controller.</p>\n\n<p>Let's say I have an application that maintains people records (Name, age etc)</p>\n\n<p>I have a few views.\nA view to show a list of people, which I can select to display.\nA view to display detailed person information (view only)\nA view to edit a person record\nA view to add a person record\n(Is Add and Edit usually one view, in MVC?)</p>\n\n<p>At the moment, I have one controller. But is that right, or should I have a controller per view?\nI'm worried my single controller is getting too big...</p>\n"},{"tags":["php","python","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12464783,"title":"Firing Events in MVC (specifically in PHP, if it's needed)","body":"<p>&nbsp; &nbsp;I have searched on SO about this question, but I basically haven't found one concerning this particular scenario; hence, my reason for asking. <br />\n &nbsp; &nbsp; I have a basic, abstract understanding of the MVC pattern: Controller calls the right Model based on the action needed; the Model contains the actual business/data logic, and the View displays the result. What I am having trouble understanding is the actual implementation. <br />\n &nbsp; &nbsp;Originally, my assumption was this: Controller calls Model; Model processes information, and <strong>return</strong>s the data back to Controller; Controller call the View, passing this \ndata to the View, which simply displays it. After reading more articles on MVC, I discovered that the Model doesn't really pass the data back to the Controller; rather, it <strong>fires</strong> an event, which allows the Controller to call the proper View. <br />\nMy question centers on this <strong>event firing</strong> part: <br /> <br />\n &nbsp; &nbsp;Q.1: Must an event really be fired? Once the Model completes its processing, and returns control to the Controller, can't the Controller simply call the View? <br />\n &nbsp; &nbsp;Q.2: In an actual implementation, a Model object is injected into a Controller class. So, Model object basically has no idea what Controller called it. How does it know what Controller to fire an event to? And how do we know what Controller is expecting that notification? <br />\n &nbsp; &nbsp;Q.3: The Controller calls the View, injecting it with the current Model object, so the View can use it to obtain the needed data. Is this correct or wrong? If wrong, why is it wrong, and what is the proper way to do it? <br />\n &nbsp; &nbsp;I have read my questions on MVC on here and other sites, viewed MVC diagrams, but I haven't been able to really connect the dots the way it's supposed to be connected. <br />\n &nbsp; &nbsp;Thanks.</p>\n"},{"tags":["c#","mvc","properties","frameworks","entity"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12464423,"title":"Issue in mapping fragments MVC 3 EF Code first","body":"<p>i've recently added a new property to one of my models:</p>\n\n<pre><code>public HttpPostedFile AvailabilityImage { get; set; }\n</code></pre>\n\n<p>However, upon doing so I'm now getting this very strange error:</p>\n\n<p><code>error 3004: Problem in mapping fragments starting at line 32:No mapping specified for properties FloorModel.AvailabilityImage in Set Floor</code></p>\n\n<p>I am at a loss on how to solve this, I've never had this issue adding properties before?</p>\n\n<p>Is it to do with the Data type being used with this property do you think? Any suggestions are welcome</p>\n\n<p>Thankyou</p>\n"},{"tags":["ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12463767,"title":"Cannot redirect to nil! - basic MVC operation","body":"<p>(I'm having some hard time for days to manage to chose a random item\nfrom teh database and to be able to pass it further.)</p>\n\n<p>It is basic operation and i tried several ways all,  brought me to the\nsame problem,  params {\"id\" = \"random\"} &lt;- the name of the controller\nmethod</p>\n\n<p>controller:</p>\n\n<pre><code>def random      # method works  checked it in the console. Returns a valid obj.\n  @task = Task.find(rand(Task.first.id..Task.last.id))\n  render \"random\"\nend\n</code></pre>\n\n<p>random.html.erb\n       <code>&lt;%= @task %&gt;</code>   # i want it to make it work, if i pass manually\nlets #say <code>../random/1</code> lets say as an example it works it shows me the\nmemory #location of the object.</p>\n\n<p>error log:</p>\n\n<pre><code> ActionController::ActionControllerError in TasksController#show\nCannot redirect to nil!\n\nRails.root: /home/bogdan/ex/bored\nApplication Trace | Framework Trace | Full Trace\n\nactionpack (3.2.3) lib/action_controller/metal/redirecting.rb:60:in\n`redirect_to'\nactionpack (3.2.3) lib/action_controller/metal/flash.rb:25:in\n`redirect_to'\nactionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:60:in\n`block in redirect_to'\nactivesupport (3.2.3) lib/active_support/notifications.rb:123:in `block\nin instrument'\nactivesupport (3.2.3)\nlib/active_support/notifications/instrumenter.rb:20:in `instrument'\nactivesupport (3.2.3) lib/active_support/notifications.rb:123:in\n`instrument'\nactionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:59:in\n`redirect_to'\nactionpack (3.2.3) lib/action_controller/metal/implicit_render.rb:4:in\n`send_action'\nactionpack (3.2.3) lib/abstract_controller/base.rb:167:in\n`process_action'\n.\n.\n.\n(only the top of the stack)\n\nRequest\n\nParameters:\n\n{\"id\"=&gt;\"random\"}\n</code></pre>\n\n<p><strong>EDIT</strong>:\nBored::Application.routes.draw do</p>\n\n<p>roots.rb :</p>\n\n<pre><code>  to =&gt; 'tasks#main'   \n  resources :tasks\n  match ':controller(/:action(/:id))(.:format)'\n</code></pre>\n"},{"tags":["mvc","delete","asp.net-mvc-4","edit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":12462958,"title":"Delete and Update List of Objects in Asp.Net MVC 4","body":"<p>I have a form that has an input section at the top of the page and in the bottom half it displays a list of the objects that were added.  I need to be able to Edit and Delete these objects and I'm not sure where to start or how to do it.</p>\n\n<p>This code display the list of objects.</p>\n\n<pre><code>                @if (Model.ListOfRecipients != null)\n            {\n                for (int i = 0; i &lt; Model.ListOfRecipients.Count; i++)\n                {\n\n                &lt;div class='recipient-wrapper'&gt;\n                    &lt;div class='decision_block'&gt;\n                        &lt;table class='recipient'&gt;\n                            &lt;tr&gt;\n                                &lt;td class='recipient-title'&gt;\n@Html.HiddenFor(model=&gt;model.ListOfRecipients[i].RecipientId)\n                                    &lt;h3&gt;\n                                        @Html.DisplayTextFor(model =&gt; model.ListOfRecipients[i].RecipientName)\n                                        @Html.HiddenFor(model =&gt; model.ListOfRecipients[i].RecipientName)\n                                    &lt;/h3&gt;\n\n                                    &lt;div class='delivery-type'&gt;\n                                        Delivery Type: @Html.DisplayTextFor(model =&gt; model.ListOfRecipients[i].DeliveryType)\n                                                       @Html.HiddenFor(model =&gt; model.ListOfRecipients[i].DeliveryType)\n                                    &lt;/div&gt;\n                                &lt;/td&gt;\n                                &lt;td class='na express'&gt;\n                                    @Html.CheckBoxFor(model =&gt; model.ListOfRecipients[i].ExpressIndicator)\n                                    @Html.HiddenFor(model =&gt; model.ListOfRecipients[i].ExpressIndicator)\n                                &lt;/td&gt;\n                                &lt;td class='quantity'&gt;\n                                    &lt;h3&gt;\n                                      Qty @Html.DisplayTextFor(model =&gt; model.ListOfRecipients[i].Quantity)\n                                          @Html.HiddenFor(model =&gt; model.ListOfRecipients[i].Quantity)\n                                    &lt;/h3&gt;\n                                &lt;/td&gt;\n                                &lt;td class='action'&gt;\n                                    &lt;input class='button edit_recipient' type='button' value='Edit' /&gt;\n                                    &lt;input class='button delete_recipient' type='button' value='Delete' /&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/table&gt;\n\n                            &lt;input class='button update_recipient' type='button' value='Update' /&gt;\n                            &lt;a class='cancel_update' href='#'&gt;Cancel&lt;/a&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n                }\n            }\n</code></pre>\n"},{"tags":["javascript","jquery","mvc","asp.net-mvc-4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12463772,"title":"how pass url in java script function","body":"<p>java script functionality working fine on my local system but not on server. my actual jquery code is </p>\n\n<pre><code>$('.jeditableSalePrice').editable('/Product/DTUpdateProduct', {\n            id: 'SalePrice_ID',\n            name: 'value',\n            indicator: 'Updating...',\n            tooltip: 'Click to Change'\n        });\n</code></pre>\n\n<p>now I try by two techniques. both are working on my local but not on server \n1: using @Url.Action(\"DTUpdateProduct\", \"Product\")'\n2: using @Url.Content(\"/Product/DTUpdateProduct\") </p>\n\n<pre><code>  //$('.jeditableSalePrice').editable('@Url.Content(\"/Product/DTUpdateProduct\")', {\n  $('.jeditablePartNumber').editable('@Url.Action(\"DTUpdateProduct\", \"Product\")', {\n            id: 'SalePrice_ID',\n            name: 'value',\n            indicator: 'Updating...',\n            tooltip: 'Click to Change'\n        });\n</code></pre>\n\n<p>any solution to resolve this issue on server ? </p>\n"},{"tags":["java","mvc","view","model","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12462964,"title":"MVC - do I need to use Controller in the View?","body":"<p>As I know in the standard implementation of the MVC we pass Controller and Model to the View</p>\n\n<p>But Im a little bit disagree with this idea. I dont want my view to know about both controller and model (oh no. maybe sometimes view needs model, but I'm sure that he can live without knowledge of controller)</p>\n\n<p>In my opinion Controller should manage View and Model, and Model doesn't need to know about controller and view; view doesnt need to know controller (I dont exclude model because some implementations of views need to know about model to listen to changes in the model). So my idea is that <strong>view doesnt need to know about controller</strong>.</p>\n\n<p><strong>1.</strong> Here is one example:</p>\n\n<pre><code>public class MyView implements ButtonClickListener {\n\n    private Controller myController;\n    private Button myButton;\n\n    // I commented out the model because we dont need it now \n    // we are talking about using controller in the view\n\n    public MyView(Controller c/*, Model m*/) {\n        myController  = c;\n        myButton      = new Button(); // lets say that it is \"register\" button\n        myButton.setOnButtonClickListener(this);\n    }\n\n    public void setRegisterButtonText(String text) {\n        myButton.setText(text);\n    }\n\n    @Override\n    public void onClick() {\n        myController.tellToModelToDoSomething();\n    }\n\n}\n</code></pre>\n\n<p>And Controller:</p>\n\n<pre><code>public MyController implements Controller {\n\n     private Model model;\n     private View view;\n\n     public MyController(Model model) {\n\n          this.model = model;\n          this.view  = new MyView(this);\n\n     }\n\n     public void tellToModelToDoSomething() {\n          model.doSomeActions();\n     }\n\n\n}\n</code></pre>\n\n<p><strong>2.</strong> And now how do I see this implementation without passing the controller:</p>\n\n<p>My View:</p>\n\n<pre><code>public class MyView {\n\n    private Button myButton;\n\n    public MyView() {\n        myButton = new Button();\n    }\n\n    public void setRegisterButtonText(String text) {\n        myButton.setText(text);\n    }\n\n    public void setOnRegisterButtonClick(final Command command) {\n        myButton.setOnButtonClickListener(new ButtonClickListener() {\n                            @Override\n                            public void onClick() {\n                                command.execute();\n                            }\n                         });\n    }\n\n}\n</code></pre>\n\n<p>\"Command\" interface:</p>\n\n<pre><code>public interface Command {\n\n     void execute(/*also can handle extra params*/);\n\n}\n</code></pre>\n\n<p>And Controller:</p>\n\n<pre><code>public MyController implements Controller {\n\n private Model model;\n private View view;\n\n public MyController(Model model) {\n\n      this.model = model;\n      this.view  = new MyView();\n\n      view.setOnRegisterButtonClick(command);\n\n }\n\n public void tellToModelToDoSomething() {\n      model.doSomeActions();\n }\n\n private Command command = new Command() {\n\n     public void execute() {\n          tellToModelToDoSomething();\n     }\n\n };\n</code></pre>\n\n<p>}</p>\n\n<p>So why do I think that using controller in the view <strong>IS NOT GOOD</strong>:</p>\n\n<p>We are mixing controller and view implementations, making new dependencies.</p>\n\n<p>Also I think that View should contain only VIEWS and operations with them (and using controller and some of his methods already looks like logic).</p>\n\n<p>In the first example view tells controller what to do. Are you agree? It looks like view  controls the controller!</p>\n\n<p>In the second example controller controls what to do and just says to the view what to do if some button (only view knows what button it will be) clicked </p>\n\n<p>I always used the second scheme, but after reading a new one book about mvc, that says that we need to pass the controller to the view, I'm a little bit confusing.</p>\n\n<p>Can you please help me to understand why am I wrong and show me some examples?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":414,"score":1,"question_id":8062153,"title":"Can I deploy a javascript file within MVC areas?","body":"<p>I have my js files inside areas and I cannot access them. When I move them outside the MVC areas then I can access. </p>\n\n<p>I have tried the following:</p>\n\n<ul>\n<li>Different naming of js files - doesn't solve problem</li>\n<li>Check to see if they exist on the server - they do</li>\n<li>Access file directly from within IIS manager on server - they won't open and return not found</li>\n<li>Access same files directly from within IIS manager on server but when files are in script directory - They open in browser</li>\n<li>Used the route checker - When I try to access the file it does not open route debug and instead just says \"404\"</li>\n</ul>\n\n<p>This works:</p>\n\n<pre><code>&lt;script src=\"@Url.Content(\"~/Scripts/jquery/_Roles.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This does not work:</p>\n\n<pre><code>&lt;script src=\"@Url.Content(\"~/Areas/Administration/Scripts/Roles/_Roles.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Could there be something different about files under the Areas folder that blocks scripts?</p>\n"},{"tags":["asp.net","ajax","json","mvc"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":1,"view_count":5979,"score":3,"question_id":2203912,"title":"Asp.net Mvc Ajax Json (post Array)","body":"<p>javascript\\jQuery:</p>\n\n<pre><code> var items = new Array();\n\n var obj { Begin: \"444\", End: \"end\" };\n\n items.push(obj);\n items.push(obj);\n\n  var request = {\n             DateStart: $(\"#DateStart\").val(),\n             mass: items\n         };\n\n\n $.post(\"/Home/Index\", request, null,\n \"json\");\n</code></pre>\n\n<p>C# Mvc Index Controller</p>\n\n<pre><code> public class MyClass\n     {\n        public string Begin;\n        public string End;\n     }\n\n     [AcceptVerbs(HttpVerbs.Post)]        \n     public ActionResult Index(            \n         string DateStart,            \n         MyClass []mass)\n     {\n         System.Diagnostics.Debug.WriteLine(mass[0].Begin);\n     }\n</code></pre>\n\n<p>how to execute this code? thanks.</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1293,"score":6,"question_id":1598150,"title":"link_to() in Rails flash","body":"<p>When a user fails login on my Rails app, I'd like to point them to a password reset page:</p>\n\n<pre><code>flash[:notice] = \"Login failed.  If you have forgotten your password, you can #{link_to('reset it', reset_path)}\"\n</code></pre>\n\n<p>However, I can't use link_to in a controller.  What's the best way to do this without mixing controller and view logic?</p>\n\n<p>My best guess is that the flash is the wrong place to do this, but I'd appreciate any input.</p>\n"},{"tags":["c#","mvc","dependency-injection","ninject"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":147,"score":2,"question_id":12451368,"title":"Ninject.MVC constructor injection where the injected object's constructor takes an argument","body":"<p>Hi I am using the Ninject.MVC Nuget package with my MVC3 app and I have the current bindings setup for some constructor injection.</p>\n\n<pre><code>    private static void RegisterServices(IKernel kernel)\n    {\n        kernel.Bind&lt;IUnitOfWork&gt;().To&lt;ERSUnitOfWork&gt;();\n        kernel.Bind&lt;IRepository&lt;Recipe&gt;&gt;().To&lt;GenericRepository&lt;Recipe&gt;&gt;();\n    }\n</code></pre>\n\n<p>My controller example is below:</p>\n\n<pre><code>public class RecipesController : Controller\n{\n    private readonly IUnitOfWork unitOfWork;\n    private readonly ERSDbContext context;\n    private readonly IRepository&lt;Recipe&gt; recipeRepository;\n\n    public RecipesController(IUnitOfWork unitOfWork, IRepository&lt;Recipe&gt; recipeRepository)\n    {\n        this.context = new ERSDbContext();\n        this.unitOfWork = unitOfWork;\n        this.recipeRepository = recipeRepository;\n    }\n}\n</code></pre>\n\n<p>I want to remove the private DBContext property from the controller and pass the new ERSDbContext() to the constructors of ERSUnitOfWork and the GenericRepository as part of the constructor injection that Ninject is performing, but preferably keep the initialising of the ERSDbContext class inside the controller?</p>\n\n<p>Any help on how you do this would be appreciated. Thanks</p>\n\n<p>I am kind of hoping that it doesn't require my NinjectWebCommon class having to create the DbContext, I wanted that to be initialised in the controller.</p>\n"},{"tags":["entity-framework","mvc","razor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12460152,"title":"DropDownListFor enums in EF5","body":"<p>using MVC4 Razor and Entityframework 5.  I have a table called organisation with a integer TypeID field which i have created an enum type. In the code i can set and compare the typeid using the enum. </p>\n\n<pre><code> public enum OrganisationType : int\n    {\n        Company = 1,\n        Department = 2,\n        Location = 4\n    }\n</code></pre>\n\n<p>However when i generate the create.cshtml either using the default vs2012 mvc 4 razor templates, or the via the mvcscaffolding nuget package both ignore the TypeID field. I was thinking of amending the tt templates so that they are autogenerated. But initially is it possible to display the descriptive name of the enum in a dropdownlistfor.</p>\n"},{"tags":["php","mvc","authentication","cakephp-2.0"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":12444274,"title":"CakePHP Auth loginRedirect error/always redirect to 'users/login' whereas i put different controller","body":"<p>CakePHP Auth loginRedirect error/always redirect to 'users/login' whereas i put different controller.\nI mean, when i open the forbidden page(not allowed/require login)</p>\n\n<pre><code>$this-&gt;Auth-&gt;allow('index', 'profile', 'view', 'register');\n</code></pre>\n\n<p>it must redirect to \"players/index\". I put the loginRedirect to \"players\",</p>\n\n<pre><code>'loginRedirect' =&gt; array('controller' =&gt; 'Players', 'action' =&gt; 'index'),\n</code></pre>\n\n<p>but it doesn't work. It always redirect to \"users/login\" not \"players/index\" whereas i write \"'loginRedirect' => array('controller' => 'Players', 'action' => 'index')\".</p>\n\n<p>this is my code:</p>\n\n<pre><code>class AppController extends Controller {\npublic $components = array(\n    'Session',\n    'Auth'=&gt;array(\n        'loginRedirect' =&gt; array('controller' =&gt; 'Players', 'action' =&gt; 'index'),\n        'logoutRedirect' =&gt; array('controller' =&gt; 'Players', 'action' =&gt; 'index'),\n        'authError'=&gt;\"Anda tidak dapat mengakses halaman.\",\n        'authorize'=&gt;array('Controller')\n    )\n);\n\npublic function isAuthorized($user) {\n    return true;\n}\n\npublic function beforeFilter() {\n    $this-&gt;Auth-&gt;allow('index', 'profile', 'view', 'register');\n    $this-&gt;set('logged_in', $this-&gt;Auth-&gt;loggedIn());\n    $this-&gt;set('current_user', $this-&gt;Auth-&gt;user());\n}}\n</code></pre>\n\n<p>My table's name : players</p>\n\n<p>why the result's always redirect to \"users/login\" not \"players/\" or \"players/index\"?\nplease tell me why this happens and how i can solve it. Thank you!</p>\n"},{"tags":["php","oop","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12459104,"title":"MVC Relationships and DRY","body":"<p>I am trying to create a user login system.</p>\n\n<p>I have a class/controller called AccessControl which includes all the functions for creating, deleting and logging a user in and out.</p>\n\n<p>I also have a model called Users which has all the database functions in it which are called from the AccessControl class.</p>\n\n<p>My AccessControl class:</p>\n\n<pre><code>include_once('../models/User.php') ;\n\nclass AccessControl {\nprivate $_systemKey ;\n\npublic function __construct()\n{\n    $this-&gt;_systemKey = 'QA&gt;8fg)@z#t#:E60mj&amp;MzHsm-lUj&amp;b-}R%~&lt;y$|nAuF)C3!r%+rT\"Q&lt;r$o?{_XR' ;\n}\n\npublic function createUser($email, $password, $level)\n{           \n    $user_salt = $this-&gt;randomString() ;\n\n    $password = $user_salt . $password ;\n    $password = $this-&gt;hashData($password) ;\n\n    if(!is_int($level))\n    {\n        return false ;\n    }\n\n    //Create verification code\n    $code = $this-&gt;randomString() ;\n\n    //SQL...\n    $created = User-&gt;insertNewUser($email, $password, $level) ;\n\n    if($created != false){\n        return true; \n    }\n\n    return false ;\n}\n}\n</code></pre>\n\n<p>And in my model:</p>\n\n<pre><code>class User extends Core {\n\npublic function fetchSalt($username)\n{\n    $result = $this-&gt;db-&gt;prepare(\"SELECT saltword FROM users WHERE username = ?\") ;\n    $result-&gt;execute(array($username)) ;\n    return $result-&gt;fetchColumn() ;\n}\n\npublic function insertNewUser($email, $password, $level)\n{\n    //SQL Insert...\n}\n\n}\n</code></pre>\n\n<p>I am not sure if I am doing this the right way, because aren't createUser and insertNewUser identical? How can I change things to make it DRY?</p>\n\n<hr>\n\n<p>Core is just my PDO connection class, all my models will extend from it. That's the plan anyway.</p>\n\n<pre><code>abstract class Core {\nprotected $db ;\n\nfunction __construct()\n{\n    try{\n        $this-&gt;db = new PDO(\"mysql:host=localhost;dbname=database\", \"user\", \"pass\") ;\n        $this-&gt;db-&gt;exec('set names utf8') ;\n                    $this-&gt;db-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\n        $this-&gt;db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING);\n        $this-&gt;db-&gt;setAttribute(PDO::ATTR_PERSISTENT, TRUE) ;\n    }\n    catch(PDOEXCEPTION $e)\n    {\n        echo 'Database error: &lt;i style=\"color:#993300;\"&gt;'.$e.'&lt;/i&gt;' ;\n        die() ;\n    }\n}\n\nfunction __destruct()\n{\n    $this-&gt;db = NULL ;\n}\n}\n</code></pre>\n"},{"tags":["javascript","jquery","asp.net-mvc","mvc","validation"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":803,"score":1,"question_id":3597695,"title":"Using a custom validator in a variable length list in Microsoft MVC 2 (client-side validation issues)","body":"<p>I have created a variable length list according to the many great posts by Steve Sanderson on how to do this in MVC 2. His blog has a lot of great tutorials.</p>\n\n<p>I then created a custom \"requiredif\" conditional validator following this overview <a href=\"http://blogs.msdn.com/b/simonince/archive/2010/06/11/adding-client-side-script-to-an-mvc-conditional-validator.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/simonince/archive/2010/06/11/adding-client-side-script-to-an-mvc-conditional-validator.aspx</a></p>\n\n<p>I used the JQuery validation handler from the MSDN blog entry which adds the following to a conditional-validators.js I include on my page's scripts:</p>\n\n<pre><code>(function ($) {\n    $.validator.addMethod('requiredif', function (value, element, parameters) {\n        var id = '#' + parameters['dependentProperty'];\n\n        // Get the target value (as a string, as that's what actual value will be)\n        var targetvalue = parameters['targetValue'];\n        targetvalue = (targetvalue == null ? '' : targetvalue).toString().toLowerCase();\n\n        // Get the actual value of the target control\n        var actualvalue = ($(id).val() == null ? '' : $(id).val()).toLowerCase();\n\n        // If the condition is true, reuse the existing required field validator functionality\n        if (targetvalue === actualvalue)\n            return $.validator.methods.required.call(this, value, element, parameters);\n\n        return true;\n    });\n})(jQuery);\n</code></pre>\n\n<p>Alas, this does not cause a client-side validation to fire ... only the server-side validation fires. The inherent \"required\" validators DO fire client-side, meaning I have my script includes set-up correctly for basic validation. Has anyone accomplished custom validators in a variable length list in MVC 2 using JQuery as the client-side validation method?</p>\n\n<p>NOTE that this same custom validator works client-side using the exact same set-up on a non-variable length list.</p>\n"},{"tags":["c#","entity-framework","mvc","asp.net-mvc-4"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":93,"score":3,"question_id":12458372,"title":"MVC Controller not Binding for ViewModels","body":"<p>I hope you can help me, I am quite new to MVC and Entity Framework and trying to get my head around it. I am using MVC4 and EF5. </p>\n\n<p>Here is an overview of what I am trying to do...</p>\n\n<p>I have two entities, Site and SiteType. Each Site can have multiple SiteTypes so they have a Many-to-Many relationship. I setup the database with a typical Many-to-Many relationship by creating 3 tables, Site, SiteType and SiteSiteType. SiteSiteType just contained 2 columns, the  SiteId and the SiteType Id.</p>\n\n<p>I updated the Entity Model and it worked perfectly creating my entities like this for Site...</p>\n\n<pre><code>public partial class Site\n{\n    public Site()\n    {\n        this.SiteTypes = new HashSet&lt;SiteType&gt;();\n    }\n\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public string Address { get; set; }\n\n    public virtual ICollection&lt;SiteType&gt; SiteTypes { get; set; }\n}\n</code></pre>\n\n<p>And this for SiteType</p>\n\n<blockquote>\n<pre><code>public partial class SiteType\n{\n    public SiteType()\n    {\n        this.Sites = new HashSet&lt;Site&gt;();\n    }    \n    public int Id { get; set; }\n    public string Name { get; set; }    \n    public virtual ICollection&lt;Site&gt; Sites { get; set; }\n}\n</code></pre>\n</blockquote>\n\n<p>Now I am using a strongly typed view, however instead of using Site as the type, i am using a custom ViewModel I created called SiteViewModel which looks like this...</p>\n\n<blockquote>\n<pre><code>public class SiteViewModel\n{\n    public Site Site { get; set; }\n    public bool WasPosted { get; set; }\n    public IEnumerable&lt;SiteType&gt; AvailableSiteTypes { get; set; }\n    public IEnumerable&lt;SiteType&gt; SelectedSiteTypes { get; set; }\n}\n</code></pre>\n</blockquote>\n\n<p>The reason for this is I want to use the CheckBoxList extension for MVC as described <a href=\"http://www.codeproject.com/Articles/292050/CheckBoxList-For-a-missing-MVC-extension\" rel=\"nofollow\" title=\"here\">here</a></p>\n\n<p>Now everything works when I am creating a new Site and adding SiteTypes to it, however when I tried to edit and existing record i started having problems. </p>\n\n<p>Here is my edit GET method in the controller....</p>\n\n<pre><code>    public ActionResult Edit(int id = 0)\n    {\n        Site site = _repository.GetSiteByID(id);\n        if (site == null)\n        {\n            return HttpNotFound();\n        }\n\n        var model = new SiteViewModel();\n        model.AvailableSiteTypes = _repository.GetSiteTypes();\n        model.SelectedSiteTypes = site.SiteTypes;\n        model.Site = site;\n\n        return View(model);\n    }\n</code></pre>\n\n<p>And the post method originally looked like this....</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult Edit(SiteViewModel siteViewModel, int[] siteTypes)\n    {\n\n        if (ModelState.IsValid)\n        {\n            _repository.UpdateSite(siteViewModel.Site, siteTypes);\n            _repository.Save();\n            return RedirectToAction(\"Index\");\n        }\n\n        siteViewModel.AvailableSiteTypes = _repository.GetSiteTypes();\n        List&lt;SiteType&gt; selectedSiteTypes = _repository.GetSiteTypes(siteTypes).ToList();\n        if (selectedSiteTypes.Count &gt; 0)\n        {\n            siteViewModel.SelectedSiteTypes = selectedSiteTypes;\n        }\n        return View(siteViewModel);\n\n    }\n</code></pre>\n\n<p>Now the problem I was having was that siteViewModel.Site was being populated properly from the form with the updated data, however the Id column was being set to \"0\" even though it was an existing record and not a new one. I have tried everything and I can't work out why. The only way I could get it working was to take in an \"id\" parameter and manually set it to the Site object like this...</p>\n\n<pre><code>HttpPost]\n    public ActionResult Edit(int id, SiteViewModel siteViewModel, int[] siteTypes)\n    {\n        siteViewModel.Site.Id = id;\n        ......\n</code></pre>\n\n<p>But it just feels really messy compared to how well everything else binds together. </p>\n\n<p>Is this the only way to do this? Am I missing something? </p>\n\n<p>Thanks a lot for taking the time to read my post. Sorry it it is too long, i didn't know how else to explain it...</p>\n"},{"tags":["ajax","mvc","jquery-mobile","asynchronous","partialview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12455620,"title":"problems with asynchronous partial view validation in mvc","body":"<p>i am using jquery mobile and mvc 2 technology and want to load a partial view via ajax in a collabsible div-container. this partial view should provide contact data and the option to send name and email. when submitting the partial view it should be checked asynchron whether the form is valid or not.</p>\n\n<p>here is the important part of my main view:</p>\n\n<pre><code>&lt;div id=\"divContact\" data-role=\"collapsible\"&gt;\n   &lt;h3&gt;Contact&lt;/h3&gt;\n   &lt;div id=\"divContactContent\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>when user expands this div jquery loads partial view:</p>\n\n<pre><code>$('div#divContact').live('expand', function () {\n    $('#divContactContent', this).load('contactPartialView');\n}\n</code></pre>\n\n<p>that works fine! </p>\n\n<p>the partial view has an ajax form and looks like this:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;test.Models.ContactData&gt;\" %&gt;\n\n&lt;% Html.EnableClientValidation(); %&gt;\n&lt;% using (Ajax.BeginForm(\"sendContact\", new AjaxOptions { UpdateTargetId = \"divContactContent\" })) { %&gt;\n\n    &lt;%= Html.TextBoxFor(m =&gt; m.userName) %&gt;\n    &lt;%= Html.ValidationMessageFor(m =&gt; m.userName) %&gt;\n    &lt;%= Html.TextBoxFor(m =&gt; m.userEmail) %&gt;\n    &lt;%= Html.ValidationMessageFor(m =&gt; m.userEmail) %&gt;\n\n    &lt;input type=\"submit\" value=\"Kontaktanfrage\" /&gt;\n\n&lt;% } %&gt;\n</code></pre>\n\n<p>the controler looks like this:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult sendContact(ContactData contactData)\n{\n    if (!ModelState.IsValid)\n        return View(\"Contact\", contactData);\n    // do somelogic \n\n    return Content(\"success\");\n}\n</code></pre>\n\n<p>to get the problem, here is my contactData model:</p>\n\n<pre><code>[Required]\npublic string userName { get; set; }\n\n[Required]\npublic string userEmail { get; set; }\n\npublic ContactData()\n{   }\n</code></pre>\n\n<p>problem is when submitting the form with invalid parameters, e.g. when i leave the fields empty. now there are two POSTs to sendContact action - when debugging both are</p>\n\n<pre><code>ModelState.IsValid = false;\n</code></pre>\n\n<p>in firebug they look like this:</p>\n\n<p>1)</p>\n\n<pre><code>Parameterapplication/x-www-form-urlencoded\nX-Requested-With    XMLHttpRequest\nuserEmail   \nuserName    \n\nuserName=&amp;userEmail=&amp;X-Requested-With=XMLHttpRequest\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>Parameterapplication/x-www-form-urlencoded\nuserEmail   \nuserName    \n\nuserName=&amp;userEmail=\n</code></pre>\n\n<p>it seems that only the first one is the asynchronous one. nevertheless after the submit i just see a </p>\n\n<pre><code>undefined \n</code></pre>\n\n<p>as ouput, not more, not less...</p>\n\n<p>can anyone help me out?!?!?</p>\n\n<p>thanks for your help!!!!</p>\n\n<p>best regards </p>\n"},{"tags":["ruby-on-rails","ruby","json","mvc","post"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1111,"score":3,"question_id":6696457,"title":"Fetching Post data from REST in Rails","body":"<p>This is a long question so i apologize if it takes a while to grasp. I'll keep it simple as possible.</p>\n\n<p>I'm starting to get a little desperate here but I'm so close. I've been struggling with Ruby for a while and communicating with post and net::http. So what I've got at the moment is a hash being turned into json. sent across the wire using a post request from net::http and then I'm trying to turn it back into an object.</p>\n\n<p>One route I explored was active record and active resource but after some issues with them on both sides decided to define my own model and then work out how to convert is and send it.</p>\n\n<h3>My Model</h3>\n\n<p>This model is called customRequest. Within it I have the post_me that takes 2 of the classes variables into a hash, turns it to json, then sends it.</p>\n\n<pre><code>class CustomRequest\n  require 'json'\n  require 'net/http'\n  attr_accessor :myString, :myInteger\n\n  def initialize(myString,myInteger)\n    @myString = myString\n    @myInteger = myInteger\n  end\n\n  def post_me\n\n    @myReq = {:myString =&gt; @myString, :myInteger =&gt;@myInteger}\n    myJsonReq = @myReq.to_json\n    #myJsonReq = JSON.generate(@myReq)\n    puts myJsonReq\n    #    res = Net::HTTP.post_form(URI.parse('http://127.0.0.1:3008/user_requests/add'),\n    #    myJsonReq)\n\n    res = Net::HTTP.post_form(URI.parse('http://127.0.0.1:3008/user_requests/add.json'),\n    myJsonReq).as_json\n  end\nend\n</code></pre>\n\n<p>So thats the custom request in a nutshell.</p>\n\n<h3>Questions</h3>\n\n<p>The bits I'm concerned about are:</p>\n\n<ol>\n<li>The receiving URL, I wrote add.json as the format is determined in the controller route. I don't know if that's necessary?</li>\n<li>Is it better to generate a hash from the variables and send that across for reconstruction or is it better to convert the whole class to_json and send it?</li>\n</ol>\n\n<p>If I create the class as is in the rails console and send it, I get a nice 200 and a response in the terminal.</p>\n\n<h3>More Details</h3>\n\n<p>(NOTE: only read this bit if you really want to know whats going on in the scenes)</p>\n\n<pre><code>@test.post_me\n{\"myInteger\":300,\"myString\":\"testestest\"}\n=&gt; {\"x-ua-compatible\"=&gt;[\"IE=Edge\"], \"etag\"=&gt;[\"\\\"d41d8cd98f00b204e9800998ecf8427e\\\"\"], \"connection\"=&gt;[\"Keep-Alive\"], \"content-type\"=&gt;[\"application/json; charset=utf-8\"], \"date\"=&gt;[\"Thu, 14 Jul 2011 15:54:24 GMT\"], \"server\"=&gt;[\"WEBrick/1.3.1 (Ruby/1.8.7/2009-06-12)\"], \"x-runtime\"=&gt;[\"0.022517\"], \"content-length\"=&gt;[\"0\"], \"set-cookie\"=&gt;[\"_webApp_session=BAh7BiIPc2Vzc2lvbl9pZCIlZTJmM2IwYmVhZWMwM2E2ZGQzNWEwMDUwNmE2NDhlM2U%3D--5312eec4795d9f0633520c01992422e9c15746e4; path=/; HttpOnly\"], \"cache-control\"=&gt;[\"max-age=0, private, must-revalidate\"]}\n&gt;&gt; \n</code></pre>\n\n<p>Heres the same response If i dont convert it to Json:</p>\n\n<pre><code>{\"myInteger\":300,\"myString\":\"testestest\"}\n=&gt; #&lt;Net::HTTPOK 200 OK  readbody=true&gt;\n</code></pre>\n\n<p>Please if someone could answer questions 1 and 2 I'd be greatful</p>\n\n<hr>\n\n<h3>Server Side</h3>\n\n<p>Heres the server side that needs to take the request and turn it back into Json and an object. Ive tried a bunch of different things which most have been commented out.</p>\n\n<p>Basically I'll either get a 200 response with the details in the tag but when I try to puts the hash object, I get nothing/</p>\n\n<pre><code>Started POST \"/user_requests/add\" for 127.0.0.1 at Thu Jul 14 16:56:07 +0100 2011\n  Processing by UserRequestsController#add_request as \n  Parameters: {\"{\\\"myInteger\\\":300,\\\"myString\\\":\\\"testestest\\\"}\"=&gt;\"\"}\nRendered user_requests/add_request.json.erb (0.3ms)\nCompleted 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 0.0ms)\n</code></pre>\n\n<p>Heres the multiple attempt of breaking it apart and turning it back into an object.</p>\n\n<pre><code>  def add_request\n    require 'rubygems'\n    require 'json'\n\n    #@custom = CustomRequest.new(params[:custom]) \n    #@custom = CustomRequest.new(JSON.parse(params[:custom]))\n    #@custom = CustomRequest.new(params[:custom]).from_json\n    #@custom = CustomRequest.new(params[:custom].from_json) \n\n\n     @myHash = Hash.new(params[:myHash])\n     #@myHash = Hash.new(JSON.parse(params[:myHash]))\n    #@myHash = Hash.new(params[:myHash]).from_json\n    #@myHash = Hash.new(params[:myHash].from_json) \n\n\n     puts \"IT WORKS!\"\n     puts @myHash.to_s\n</code></pre>\n\n<p>They're all pretty much the same except one was me trying to recreate the object from the sent hash and another was me trying to recreate hash_to_json to hash_from_json</p>\n\n<h3>More Questions</h3>\n\n<p>So:</p>\n\n<ol>\n<li>Am I creating the object correctly with the params(:myHash) or should i be referencing each variable individually?</li>\n<li>are the params automatically turned back into readable format or do i need to put to from or parse JSON. In regards to that, does it matter which one I use?</li>\n<li>Am i reconstructing the object correctly, why is putting my has displaying nothing?</li>\n<li>(optional) are there any easy ways to store it in a table thereafter?</li>\n</ol>\n"},{"tags":["html","html5","spring","mvc","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12455858,"title":"html meta tag, avoid browser url change","body":"<p>i have the following url in my jsp page of my spring mvc app, my controller froward to the a jsp which has the following:</p>\n\n<pre><code> &lt;meta http-equiv=\"refresh\" content=\"0;URL='/app/static/test'\"\n</code></pre>\n\n<p>this causes the the page to load correctly, however the browser url changes.</p>\n\n<p>Is it possible to avoid url change?</p>\n"},{"tags":["mvc","3d","drawing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12455521,"title":"How to create a 3-d graph in mvc","body":"<p>I want to create a 3d graph</p>\n\n<p>By graph I mean in the sense of nodes and edges. I have an adjacency matrix as well as a coordinate matrix for every node. Eventually I would hope to colour these nodes and edges</p>\n\n<p>The gplot function is 3d. The scatter3 function does not allow for edges.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["ruby-on-rails","mvc","activerecord","sql-order-by","order"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12453365,"title":"Specifying the default ordering for a has_many association using a join (Rails)?","body":"<p>I have a simple Customer model with a has many relationship with a Purchase model.</p>\n\n<pre><code>class Customer &lt; ActiveRecord::Base\n  has_many :purchases\nend\n</code></pre>\n\n<p>I am repeatedly finding that I need to order Customer.purchases in my views in the following way:</p>\n\n<pre><code>@customer.purchases.joins(:shop).order(\"shops.position\").order(:position) #yes, two orders chained\n</code></pre>\n\n<p>In the interest of keeping things DRY, I'd like to put this somewhere centralized so I don't have to repeatedly do it. Ideally, I'd like to make it the default ordering for Customer.purchases. For example:</p>\n\n<pre><code>class Customer &lt; ActiveRecord::Base\n  has_many :purchases, :order =&gt; joins(:shop).order(\"shops.position\").order(:position)\nend\n</code></pre>\n\n<p>Obviously the above doesn't work. How should I do this?</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":12453842,"title":"How to recognize a quote symbol (\")","body":"<p>Enviroment: Visual Studio 2012, MVC4, Razor, Internet Application.</p>\n\n<p>I have a code with search form in the \"View\" page...</p>\n\n<pre><code>@using (Html.BeginForm(\"SearchResult\", \"Home\", FormMethod.Get))\n{\n    @Html.ValidationSummary(false)\n    &lt;fieldset&gt;\n        &lt;legend&gt;Contact Search&lt;/legend&gt;\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Name)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Name)\n            @Html.ValidationMessageFor(model =&gt; model.Name)\n        &lt;/div&gt;\n        &lt;p&gt;\n            &lt;input name=\"SearchButton\" type=\"submit\" value=\"Search\" /&gt;&lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n</code></pre>\n\n<p>And then I'm sending a \"model.Name\" string directly to the JavaScript code using \"@Model.Name\".</p>\n\n<p>The problem is... when I typing in the search form a quote (\") symbol... for example... (10\" android) I have a problem. JavaScript stops work somewhere. How can I check this \"model.Name\" string inside the controller is it contains (\") or not and change it for JavaScript?</p>\n\n<p>My JavaScript code... <code>url += \"&amp;keywords=@Model.Name\";</code>\nIf \"model.Name\" is... 10\" android ...will it work correct?</p>\n"},{"tags":["mvc","jsp","servlets","logging","log4j"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12449159,"title":"How to add logging efficiently into a Java web-project?","body":"<p>I'am creating a quite simple JSP/Servlets web project with MVC architecture.</p>\n\n<p>I have a prerequisite to add logging with log4j to the project. As I haven't been implementing logging using Log4j before, I'd like to hear some tips about <strong>how to implement it in an efficient way</strong>.</p>\n\n<p>The <strong>main concern</strong> is how to share objects responsible for logging throughout the project without creating a new one each time I want to write another message.<br>\nAnd <strong>what about file structure and message organization</strong>, is it better to write info about date based operation and user-action in separate files or in one file?</p>\n\n<p>Maybe it sounds odd, but I'd like to hear comments from people who have experience on this, since I am a newbee :)</p>\n\n<p>Thanks to everybody in advance!</p>\n"},{"tags":["json","visual-studio-2010","mvc","asp.net-mvc-4"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12452944,"title":"Json.Encode MVC4","body":"<p>Simple question - am current having a test of MVC4 and noticed I can use the Json.Encode method in any of the views (<strong>not</strong> the Json method in the controller).</p>\n\n<p>The namespace (System.Web.Helpers) is in the web.config as it should be and simply referencing the object directly doesn't work.</p>\n\n<p>The reference is in the references list in the project, however looking into the library the Json object is not there either.</p>\n\n<p>I have tried adding the System.web.helpers library again, which adds the Json object however am unable to access it.</p>\n\n<p>Any help would be much appreciated</p>\n"},{"tags":["oop","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12452572,"title":"simple oophp function not working","body":"<p>I'm new to oop and MVC and I'm trying to test the flow between my index, controller, and model files. All of the test functions work except for 'check status'. What's the problem? The function is highlighted in BOLD.                                                                                   (INDEX)                                                                                        \n\n<pre><code>$Controller = new Controller;\n$Controller-&gt;ShowRegisterLogin();\n</code></pre>\n\n<p>?>                                                                                             (CONTROLLER)                                                                                 \n\n<p>Class Controller {</p>\n\n<pre><code>function ShowRegisterLogin() {\n    echo 'ShowRegisterLogin Function works';\n    $Model = new Model;\n    $Model-&gt;TestModel();\n    **$Model-&gt;checkStatus();**      \n    }\n</code></pre>\n\n<p>}</p>\n\n<p>?>\n(MODEL)                                                                                      \n\n<pre><code>class Model {\n\n    Var $Status = 'return works';\n\n    function TestModel() {\n        echo 'Test Model Works';\n    }\n    **function checkStatus() {\n        return $this-&gt;Status;\n    }**\n\n}\n</code></pre>\n\n<p>?></p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12436267,"title":"The C# MVC 3 Routing want to add hard code word also in url","body":"<p>The C# MVC 3 Routing i have a controller name Category.\nThere are 2 Sub Method of the Controller \n1)Index\n2)Detail</p>\n\n<p>now my detail routing URl coming like this \"Category/name\" ok but i also want to Add \"category/Name-for-all\" hard code \"-for-all\"\n want to add this hard code how ?</p>\n\n<pre><code>    routes.MapRoute(\n     \"categorie\", // Route name\n     \"Category/{id}/{no}\", // URL with parameters\n     new { controller = \"Category\", action = \"details\", id = \"id\",no=UrlParameter.Optional } // Parameter defaults\n );\n    routes.MapRoute(\n       \"categories\", // Route name\n       \"Category/{id}/{action}\", // URL with parameters\n       new { controller = \"Category\", action = \"action\", id = \"id\" } // Parameter defaults\n   );\n\n\n\nhtml page\n\n&lt;div class=\"grid_3\" &gt;\n    &lt;a class=\"companyanchor\" href=\"/category/@Model.name/\"&gt;@Model.Name&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["jquery","mvc","datatables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12452313,"title":"Doing CRUD with Jquery Datatable in MVC","body":"<p>Today I am trying to do simple CRUD with the jQuery DataTable plugin. The wall I am facing is with the edit function. Here is how it looks in the view:</p>\n\n<pre><code>var oTable = $('#StudentTable').dataTable({\n                \"bServerSide\": true,\n                \"sAjaxSource\": \"Admin/AJAXFindStudent\",\n                \"bProcessing\": true,\n                \"aoColumns\": [\n                    { \"sName\": \"StudentID\",\n                        \"bSearchable\": false,\n                        \"bSortable\": false,\n                        \"fnRender\": function (oObj) {\n                            return '&lt;a href=\\\"Admin/EditStudent?id=' + oObj.aData[0] + '\\\"&gt;View&lt;/a&gt;';\n                        }\n                    },\n                    { \"sName\": \"FirstName\" },\n                    { \"sName\": \"LastName\" },\n                    { \"sName\": \"EmailAddress\" },\n                    { \"sName\": \"CurrentCollege\" },\n                    { \"sName\": \"Term\" },\n                    { \"sName\": \"Program\" },\n                    { \"sName\": \"Status\" },\n                    { \"sName\": \"DateReceived\" },\n                    { \"sName\": \"InquirySource\" }\n                ]\n            });\n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>And for my action:</p>\n\n<pre><code>public ActionResult EditStudent(int id)\n    {\n        StudentInfo student = studentRepository.GetStudent(id);\n\n        return View(student);\n\n    }\n</code></pre>\n\n<p>When clicking the edit link, I am getting reference not set to an object. I don't see how though.</p>\n"},{"tags":["php","mvc","localhost","syntax-error"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12451932,"title":"PHP MVC works locally but when uploaded to host fails","body":"<p>Everything is working fine on localhost/myweb but when i upload the folder myweb to my public_html directory i get error:</p>\n\n<pre><code>[16-Sep-2012 18:32:55] PHP Warning:  Unexpected character in input:  '\\' (ASCII=92)  \nstate=1 in /home1/programw/public_html/myweb/index.php on line 7\n\n[16-Sep-2012 18:32:55] PHP Parse error:  syntax error, unexpected T_STRING in /home1\n/programw/public_html/myweb/index.php on line 7\n</code></pre>\n\n<p>on my index.php line 7 has this code:</p>\n\n<pre><code>   $app = new Core\\Bootstrap();\n</code></pre>\n\n<p>i know something has to do with \\ slash but i cant figure out what or how to fix it.</p>\n\n<p>can anyone help me please? I also use .htaccess and inside .htaccess i have the following:</p>\n\n<pre><code>   RewriteEngine On\n   RewriteCond %{REQUEST_FILENAME} !-d\n   RewriteCond %{REQUEST_FILENAME} !-f\n   RewriteCond %{REQUEST_FILENAME} !-l\n   RewriteRule ^(.+)$ index.php?url=$1 [QSA,L]\n</code></pre>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>i just found out that \\ slash and namespacing is only supported in PHP 5.3 and my hosting for some reason didnt update their PHP to 5.3. If anyone knows a way around it  to work on 5.2 i will really appreciate it.</p>\n"},{"tags":["c#","asp.net-mvc-3","visual-studio-2010","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12451220,"title":"How can I display the current user logged in against the database?","body":"<p>I have created a website with a custom login to my database using SQL Server and would like to know how to display the text of the user logged in. Currently it is showing the users \"Login\" beside the word welcome but I would rather show the users actual name.\nI am new to MVC3 and would like to know how to change the following line in the _LogOnPartial.cshtml to display a field from my database \"AgentFirstName\" </p>\n\n<pre><code>&lt;text&gt;Welcome &lt;strong&gt;@User.Identity.Name&lt;/strong&gt;\n</code></pre>\n\n<p>Here is my AccountControler</p>\n\n<pre><code>[HttpPost]\n    public ActionResult LogOn(LogOnModel model)\n    {\n        if (ModelState.IsValid)\n        {\n            if (DAL.MyWebsiteContextClass.userIsValid(model.AgentLogin, model.AgentPassword))\n            {\n                FormsAuthentication.SetAuthCookie(model.AgentLogin, false);\n\n                return RedirectToAction(\"Index\", \"Home\");\n            }\n            else\n            {\n                ModelState.AddModelError(\"\", \"The user name or password provided is incorrect.\");\n            }\n        }\n        return View(model);\n    }\n</code></pre>\n\n<p>Here is my agents model</p>\n\n<pre><code>public class Agents\n{\n    public virtual int ID { get; set; }\n    public virtual string AgentFirstName { get; set; }\n    public virtual string AgentLastName { get; set; }\n    public virtual string AgentLogin { get; set; }\n    public virtual string AgentPassword{ get; set; }\n</code></pre>\n\n<p>With a web config set like this</p>\n\n<pre><code>&lt;add name=\"MyWebsiteContextClass\"\n     connectionString=\"Data Source=My-SQL\\SQLEXPRESS; Initial Catalog=MyWebsite; Persist Security Info=True;User ID=sa;Password=password\"\n     providerName=\"System.Data.SqlClient\"/&gt;\n</code></pre>\n\n<p>And this is in my context Class</p>\n\n<pre><code>public DbSet&lt;Agents&gt; AgentsPkg { get; set; }\n</code></pre>\n\n<p>Unfortunatley I do not know what else you might need to help me but if you need anything please ask and I will do what I can. \nThanks for your help</p>\n"},{"tags":["mvc","area"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12443756,"title":"working mvc area","body":"<p>I have a some problems working with Areas. I am using Ado.Net Entity frame work and I generated POCO for my Model in the default Model, Now that I have to work in my Area (Admin Area) I cannot access the POCO. I thought of regenerating another POCO in my admin Model Area but not sure if is a right thing to do since it will be duplication and my database object are quite much. Please respond?</p>\n"},{"tags":["php","oop","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12445509,"title":"Definition of business logic and application logic in MVC/OOP","body":"<p>I'm learning MVC and OOP, but something has me confused:</p>\n\n<p><strong>What is the difference between business and application logic?</strong></p>\n\n<p>Take a look at the following scenario of a payment and invoicing system:</p>\n\n<p>Customers are invoiced, and when they pay the invoice it is acknowledged via a payments on the screen. The user enters the amount they have received from the customer into the system.</p>\n\n<p>Now, is application logic the following (in the controller):</p>\n\n<ul>\n<li>User can not enter negative numbers </li>\n<li>User must enter input in the style of integers only or #.# or #.## or\n##.## etc.</li>\n</ul>\n\n<p>Business logic (in the model):</p>\n\n<ul>\n<li>The amount entered can not exceed the amount on the invoice (ie\nwhat's due)</li>\n<li>And/or the amount entered can not exceed the amount owed if part\npayments have been made previously</li>\n</ul>\n\n<p>Do I have the right idea?</p>\n"},{"tags":["ios","ipad","mvc","uiviewcontroller","uigesturerecognizer"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12433956,"title":"How do I set up a UIGestureRecognizer to call on data corresponding to a specific subview within an iPad application?","body":"<p>I'm really new to iOS programming, well actually programming in general, but anyway here's my set up. I am creating a stopwatch application that creates up to ten stopwatches that each start and stop differently.I have it set up so all 10 are added as subviews and then when my addStopwatch method is called one more becomes visible. This is all awesome! Except that I can't figure out how to set it up so that my subViews can each update themselves to have different times. \nThe way it is set up now I have a stopwatchData class which stores a NSTimer(to update the stopwatch display), NSDate (the start date to calculate the time passed) and a NSDateFormatter (for... well formatting dates). Also, I have my custom stopwatchView class which displays the time. Right now my headViewController (you are supposed to have one viewController for every entire screen, right?) adds a gesture recognizer for starting and stopping each watch. What I can't figure out is how to have the starting and stopping access the data that corresponds to it's subviews (stopwatchView's) data (stopwatchData). It might sound stupid, but I've spent the last week surfing the internet to find an answer with no luck.</p>\n"},{"tags":["php","mvc","zend-framework","iis"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":567,"score":1,"question_id":7200523,"title":"Zend Framework and IIS","body":"<p>Is it possible to use Zend Framework MVC in IIS? (mode_rewrite missing)\nI follow some article about this issue but not successful.\nDid anybody get result? How?</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":244,"score":0,"question_id":7343748,"title":"how to call a view method to a model in zendframework","body":"<p>hello I just want to ask whether we can call a view method to a model? I know that we can call it on our controller in zend framework. Like if I want to call the url method of view on my controller I can call it like this</p>\n\n<pre><code>$this-&gt;view-&gt;url(array(),'');\n</code></pre>\n\n<p>and on the view we just can call it by</p>\n\n<pre><code>$this-&gt;url(array(),'');\n</code></pre>\n\n<p>But When I tried to call the same method on my model by</p>\n\n<pre><code>$this-&gt;view-&gt;url(array(),'');\n</code></pre>\n\n<p>it generates an error of call to undefined method <code>url</code>. \nNow I want to ask whether it is possible to call view method to a model? If yes then how? What Am I doing wrong. \nThanks</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":7366732,"title":"Front-end phtml template form doesn't connect to controller.php file","body":"<p>The web system which I'm working on right now, has a add.phtml (in views folder) form, which contain normal form elements and pageController.php (in Controller folder) file which has function to be connected when user hit \"add page\" button on the form. The codes goes like this.</p>\n\n<p>on <strong>add.phtml</strong> file,</p>\n\n<p>input type = \"submit\" value =\"Add Page\"</p>\n\n<p>on <strong>pageController.php</strong> file,</p>\n\n<p>function insertAction(){</p>\n\n<p>}</p>\n\n<p>For some reason these two doesn't connect now. Is anybody have any idea why this doesn't work or what should I check on this kind of a problem. The web system on zend framewok. I really appreciate if someone can help me.</p>\n"},{"tags":["java","spring","mvc","validation","annotations"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":209,"score":0,"question_id":12448526,"title":"Spring MVC 3 form validation annotations ignored?","body":"<p>I was learning how to make simple form validation using this tutorial:\n<a href=\"http://www.raistudies.com/spring/spring-mvc/form-validation-spring-mvc-3-hibernate-validator-jsr-303/\" rel=\"nofollow\">http://www.raistudies.com/spring/spring-mvc/form-validation-spring-mvc-3-hibernate-validator-jsr-303/</a></p>\n\n<p>The problem is, when I'm entering invalid data (blank fields), there is no errors for user anywhere. result.hasErrors() always produce false.</p>\n\n<p>I've produced following code:</p>\n\n<p>IndexController.java:</p>\n\n<pre><code>package pl.aadamczyk.springtest.controllers;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport pl.aadamczyk.springtest.beans.LoginBean;\n\n@Controller\n@RequestMapping(\"/index\")\npublic class IndexController\n{   \n    @RequestMapping(method = RequestMethod.GET)\n    public String getIndex(ModelMap model)\n    {\n        LoginBean loginBean = new LoginBean();\n        model.addAttribute(\"loginBean\", loginBean);\n\n        return \"index\";\n    }\n}\n</code></pre>\n\n<p>+\nLoginController.java:</p>\n\n<pre><code>package pl.aadamczyk.springtest.controllers;\n\nimport javax.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport pl.aadamczyk.springtest.beans.LoginBean;\nimport pl.aadamczyk.springtest.validators.LoginValidator;\n\n@Controller\n@RequestMapping(\"/login\")\npublic class LoginController\n{\n    private LoginValidator loginValidator;\n\n    private LoginValidator getValidator()\n    {\n        return loginValidator;\n    }\n\n    @Autowired\n    public void setValidator(LoginValidator loginValidator)\n    {\n        this.loginValidator = loginValidator;\n    }\n\n    @RequestMapping(method= RequestMethod.POST)\n    public String login(@Valid @ModelAttribute(value=\"loginBean\") LoginBean loginBean,\n                        ModelMap model,\n                        BindingResult result)\n    {\n        System.out.println(result.hasErrors()); // always false\n\n        loginValidator.validate(loginBean, result);\n\n        return \"redirect:index.html\";\n\n    }\n}\n</code></pre>\n\n<p>+\nLoginValidator.java</p>\n\n<pre><code>package pl.aadamczyk.springtest.validators;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.Validator;\nimport pl.aadamczyk.springtest.beans.LoginBean;\n\n@Component\npublic class LoginValidator implements Validator\n{\n    @Override\n    public boolean supports(Class&lt;?&gt; type)\n    {\n        return LoginBean.class.isAssignableFrom(type);\n    }\n\n    @Override\n    public void validate(Object o, Errors errors)\n    {\n\n    }\n}\n</code></pre>\n\n<p>LoginBean.java:</p>\n\n<pre><code>package pl.aadamczyk.springtest.beans;\n\nimport org.hibernate.validator.Length;\nimport org.hibernate.validator.NotEmpty;\n\npublic class LoginBean\n{\n    @NotEmpty(message=\"Username is mandatory.\")\n    @Length(min=3,max=25,message=\"Username must be between 3 and 25 characters length\")\n    private String username;\n\n    @NotEmpty(message=\"Password field is mandatory.\")\n    @Length(min=3,max=25,message=\"Password must be between 5 and 25 characters length\")\n    private String password;\n\n    // getters+setters skipped\n}\n</code></pre>\n\n<p>Part of index.jsp:</p>\n\n<pre><code>&lt;form:form method=\"post\" action=\"login.html\" modelAttribute=\"loginBean\"&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Login:&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"username\"/&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:errors path=\"username\"/&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Password&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"password\"/&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:errors path=\"password\"/&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td colspan=\"3\"&gt;&lt;button type=\"submit\"&gt;Login&lt;/button&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>Important content of dispatcher-servlet:</p>\n\n<pre><code>&lt;context:annotation-config /&gt; \n&lt;context:component-scan base-package=\"pl.aadamczyk.springtest\"/&gt;\n&lt;mvc:annotation-driven/&gt;\n\n&lt;bean id=\"viewResolver\"\n      class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n      p:prefix=\"/WEB-INF/jsp/\"\n      p:suffix=\".jsp\" /&gt;\n</code></pre>\n\n<p>pom.xml dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-instrument-tomcat&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-struts&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;taglibs&lt;/groupId&gt;\n    &lt;artifactId&gt;standard&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0.ga&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n    &lt;version&gt;6.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","authentication","forms-authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":432,"score":0,"question_id":9884387,"title":"how to create users and associate roles and provide authentication to the roles","body":"<p>i am developing an application in mvc3 and i need to provide authentication to my views.\nI want to create 2 roles like \"Admin\",\"Users\"\nand then add users to the respective roles.\nAuthentication to be provided is like when the user logged in his role is checked and accordingly a view is shown to him.\nI need to create two different views for each role..\nI am completely new to this part of MVC.</p>\n\n<p>I searched for this a lot but what i found was only part of code.Not even one could explain me step by step hw to go about it..\nplease if any1 can show me simple demo of how to do or u can suggest me any tutorial that i should follow..\nPlease Help...</p>\n"},{"tags":["java","mvc","jlist","updatemodel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12448213,"title":"How to update only certain items in a list when using MVC?","body":"<p>I'm building a GUI that includes a list with quite a lot of items. I allow the user to add/delete/edit those items.</p>\n\n<p>Up until now my update method called in the controller implied an entire JList reset (with its obvious performance issues). Now that there are hundreds of items available, updating the entire list is not fezable any longer.</p>\n\n<p>Does anyone know of a tutorial or can share an example (I haven't found any to suit my needs so far) in which the JList is updated something like JList.update(startIndex, endIndex);?</p>\n\n<p>Thanks for taking the time to answer.</p>\n"},{"tags":["mvc","model","yii","referential-integrity"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12447362,"title":"MVC application - where to store reference data","body":"<p>I am working on an application using the Yii framework, so its MVC-style.  I have a record type \"person\", which contains information about membership.  Members come in two types: adults &amp; kids.  With the kids, SOME of them we know their ages and they are divided into age groups.  The age groups have names (e.g. \"8 &amp; Under\".)  So as an example, John Smith &amp; Jane Smith have two kids Jimmy Smith and Janey Smith.  Janey wants to do a soccer program, so we need to know her age and put her in an age group.  Jimmy is doing arts &amp; crafts so we don't need to know his age because his program isn't divided by age.  And we don't ask for the ages of the adults.</p>\n\n<p>So the question: I have a few choices about how I store this.  I could:</p>\n\n<ul>\n<li>put an int agegroup field in the person table, and define the values as CONST values when I define the model for people (and probably have a special value for \"undefined\" - for the adults.  Then I need to write a little code to translate the const value to descriptive labels.</li>\n<li>put an agegroup field in the person table as above, but also add another table in the database with the reference data.  Enforce referential integrity to this new table.  This raises another question - should I create a dummy record in the reference table for cases where I don't know/care about the agegroup, or should I allow null values in the people table agegroup field?</li>\n<li>others?</li>\n</ul>\n\n<p>I know I can make either of these work.  But I would welcome advice on which approach is preferred and why!</p>\n"},{"tags":["spring","mvc","list"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12438951,"title":"Spring MVC List Values Returned Unchanged","body":"<p>I am struggling with getting the changed list values in my JSP to get returned to the MVC controller. The values are displayed fine, but changes do not show up in the ModelAttribute when the form is submitted (any non-list values that are changed DO show up when submitted). Here is an abbreviated version of the relevant code:</p>\n\n<p>JSP:</p>\n\n<pre><code>&lt;c:forEach items=\"${poForm.poDetail}\" varStatus=\"i\"&gt;\n...\n&lt;!-- Product Description --&gt;\n&lt;td class=\"leftAlign\"  &gt;\n  &lt;form:input path=\"poDetail[${i.index}].description\"  /&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>BACKING FORM:</p>\n\n<pre><code>public class POForm {\n  private List&lt;PurchaseOrderDetail&gt; poDetail;\n...\n}\n</code></pre>\n\n<p>PURCHASEORDERDETAIL:</p>\n\n<pre><code>public class PurchaseOrderDetail implements Comparable&lt;PurchaseOrderDetail&gt;{\n    private String partNumber; // alpha-numeric part number (vendor's)\nprivate String description; // Product name/description\n... remaining properties are non-complex\n}\n</code></pre>\n\n<p>CONTROLLER:</p>\n\n<pre><code>@RequestMapping(value=\"/savePO\",method=RequestMethod.POST)\npublic ModelAndView savePO(@ModelAttribute(\"poForm\") POForm poForm, final       \n     HttpServletRequest request) {\n.... \"examine the poForm here and items of poDetail are unchanged\"\n}\n</code></pre>\n\n<p>any suggestions to try??</p>\n"},{"tags":["mvc","design-patterns","spring-mvc"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":156,"score":2,"question_id":12429729,"title":"Controller belongs to the Presentation layer?","body":"<p>I heard that controller belongs to the presentation layer. How is it possible?</p>\n\n<p>I thought that :</p>\n\n<ul>\n<li>view is for presentation</li>\n<li>model is for business logic</li>\n<li>controller is for controlling logic</li>\n</ul>\n\n<p>Is there good link to prove that controller belongs to the presentation layer?</p>\n\n<p>\"Spring MVC is used for presentation layer\": how can we use MVC only in the presentation layer?</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12444590,"title":"Assigning labels to database results","body":"<p>I've been meaning to ask this question for quite some time, but I couldn't (and haven't still) come up with a proper title to describe the problem. English isn't my native language, and I don't even know what this concept is called. Bear with me...</p>\n\n<p>Until recently, when fetching results from a database I just had to output them the way they were stored. So when I did </p>\n\n<p><code>SELECT name, gender, country FROM contacts</code> </p>\n\n<p>I just had to output it with </p>\n\n<p><code>echo $result['name'] . \" - \" . $result['gender'] . \" - \" . $result['country'];</code>.</p>\n\n<p>Country names are stored in the database by their <strong>ISO</strong> country code. This means United States is stored as USA, and Brazil is stored as BRA. The goal of this is to ensure compatibility with other systems. Users on the other hand don't want to deal with these country codes, they want to see the full country name.</p>\n\n<p>Likewise, when performing a search for all the contacts of a given country, they want to be able to enter the full country name in the search box, not the <strong>ISO-code</strong>.</p>\n\n<p>How can i assign labels (human readable values if you will) to these results? </p>\n\n<p>I'm using PHP without a framework but i do follow the <strong>MVC</strong> analogy (separation of business logic and presentation). How would this fit in an <strong>MVC</strong> architecture?</p>\n"},{"tags":["php","mvc","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12443321,"title":"Laravel DB Insert Error: Allowed Memory Size Exhausted","body":"<p>I'm running into an issue when trying to insert ~20K records into my DB. I notice that even though I'm echoing inside my foreach loop, I'm not getting anything outputted in the command line. Instead, I get an error relating to <code>Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 91 bytes) in /Users/me/Sites/Laravel/database/connection.php on line 293</code> after inserting ~9440 records.</p>\n\n<p>Here is my code (tried using both Eloquent and Fluent):</p>\n\n<pre><code>&lt;?php\n\nclass Process_Controller extends Base_Controller {\n\n    public function action_migrate()\n    {\n        $properties = DB::table('raw_properties')-&gt;get('id');\n        $total = count($properties);\n\n        foreach($properties as $x =&gt; $p){\n            $r = RawProperty::find($p-&gt;id);\n            $count = $x +1;\n\n            $prop_details = array(\n                'column' =&gt; $r-&gt;field,\n                // Total of 21 fields\n            );\n\n            DB::table('properties')-&gt;insert($prop_details);\n\n            echo \"Created #$count of $total\\n\";\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter","guidelines"],"answer_count":4,"favorite_count":16,"up_vote_count":16,"down_vote_count":0,"view_count":2552,"score":16,"question_id":800555,"title":"MVC done right - Examples","body":"<p>I am new to both the MVC pattern and PHP frameworks. I picked up a copy of <a href=\"http://rads.stackoverflow.com/amzn/click/1847191746\" rel=\"nofollow\">CodeIgniter for Rapid PHP Application Development</a>, but the author does not use the M part of MVC and I can't seem to get his code examples to work. CodeIgniter's <a href=\"http://codeigniter.com/user%5Fguide/overview/mvc.html\" rel=\"nofollow\">User Guide</a> is not very detailed about what goes into which component either.</p>\n\n<p>What I'm looking for are examples of correct usage of MVC (preferably PHP, CodeIgniter) whose source code can be examined, maybe some guidelines, too, such as \"What kind of logic can go into views\" or \"Should models be able to modify the data obtained from the database.\" I'd appreciate some tips on nesting views, too.</p>\n"},{"tags":["asp.net-mvc","mvc","membership","membership-provider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12443121,"title":"How use custom object through website exactly like membership","body":"<p>could you explain to me how can I store and use a custom object exactly like we use the asp.net MVC membership through a website ? I use very often the same one table from my database and I want to stop asking my server to retreive this same information on every page. I can't use cookie because I have some important information into this and I don't use session because I want this object accessible like the membership. After user login, I would like to set this information once and for all into this object until it disconnects. </p>\n\n<p>Examples...</p>\n\n<ol>\n<li><p>The very normal membership :</p>\n\n<p>MembershipUser UserAccount = Membership.GetUser(HttpContext.Current.User.Identity.Name);</p></li>\n<li><p>My custom data object I want to use</p>\n\n<p>MyCustomData customData = Membership.GetCustomData(HttpContext.Current.User.Identity.Name);</p></li>\n</ol>\n\n<p>Thank you very much!!</p>\n"},{"tags":["php","javascript","oop","mvc","codeigniter"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":519,"score":2,"question_id":5398852,"title":"PHP MVC with pure Javascript View : good practice?","body":"<p>My question might not be understandable enough, so let me explain the situation :</p>\n\n<p>I'm working on a big ajax webApp built, server side, with PHP using CodeIgniter. This framework saperates clearly models, controllers and views. The view files are rendered in HTML and then sent to the client that does some js treatments on it (like attaching events).</p>\n\n<p>This way of working seems strange to me, as it separates the view between the server side and the client side.</p>\n\n<p>I was thinking about moving all the View treatments to the client part that will build dynamically its html in js. The server side will then send only raw data.</p>\n\n<p>I worked this way on smaller projects, and I was really happy with the result (easily understandable, portable and reusable).</p>\n\n<p>Is it a right way to implement an MVC app ? Any advices around that reflexion ?</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12440144,"title":"PHP MVC - How to create dynamic routing","body":"<p>Currently I am studying the art of \"PHP MVC\", and I can not put in to words of how much I like creating things using this method. There are plenty of \"PHP MVC\" already packed and ready to go for me to use, but I am a big big fan of \"Search, Read, Understand, re-invent, and learn\" in order to gain knowledge of the subject (and help others in the matter on stack* website). Anyways to make this short, my question is more of a suggestion (I think) than an actually trial/error. As you know, php routing can be like so.</p>\n\n<blockquote>\n  <p>www.site.com/controller/method/args (if any)</p>\n</blockquote>\n\n<p>Say I had an admin section where as a user can create a dynamic page.. for example\nabout.php. This page has no class/method's create (newly created), therefor if I try to access</p>\n\n<blockquote>\n  <p>www.site.com/about/</p>\n</blockquote>\n\n<p>than I will probably just get the main controller (index). Now for my Question....... What would be a logical way of creating this dynamic controller/method? </p>\n\n<ol>\n<li>Should I just pass it to __call () method, and search in db for this file?</li>\n<li>Should I just have a class file handle these? maybe something like site.com/maincont/about than use htaccess to rename uri to site.com/about?</li>\n<li>Should I just create a script with class name for each page?</li>\n<li>How wold you handle in your own way?</li>\n</ol>\n\n<p>I am currently viewing symfony to see how they are doing it. Right now I am looking at inserting page name in to db and than taking it from there, since there is no wrong way of doing an mvc (as read), but as always!! there is a logical and secure way.</p>\n\n<p>FYI: Please forgive me for any lack of explanation/grammar, I am really sick today, and reading does not help a bit.</p>\n"},{"tags":["php","mvc","routes"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":147,"score":1,"question_id":12430181,"title":"How does MVC routing work?","body":"<p>So I've started studying MVC (real MVC, not framework MVC) a bit more in-depth, and I'm attempting to develop a small framework. I'm working by reading other frameworks such as Symphony and Zend, seeing how they do their job, and attempt to implement it myself.</p>\n\n<p>The place where I got stuck was the URL routing system:</p>\n\n<pre><code>&lt;?php\nnamespace Application\\Common;\n\nclass RouteBuilder {\n\n    public function create($name, $parameters) {\n        $route           = new Route($name);\n        $route-&gt;resource = array_keys($parameters)[0];\n        $route-&gt;defaults = $parameters[\"defaults\"];\n        $notation        = $parameters[\"notation\"];\n        $notation = preg_replace(\"/\\[(.*)\\]/\", \"(:?$1)?\", $notation);\n        foreach ($parameters[\"conditions\"] as $param =&gt; $condition) {\n            $notation = \\str_replace($param, $condition, $notation);\n        }\n\n        $notation = preg_replace(\"/:([a-z]+)/i\", \"(?P&lt;$1&gt;[^/.,;?\\n]+)\", $notation);\n\n        //@TODO: Continue pattern replacement!!\n    }\n}\n/* How a single entry looks like\n * \"main\": {\n    \"notation\": \"/:action\",\n    \"defaults\": {\n        \"resource\"  :   \"Authentication\",\n    },\n    \"conditions\":   {\n        \":action\"   :   \"(login)|(register)\"\n    }\n},\n\n */\n</code></pre>\n\n<p>I just can't get my head wrapped around it properly. What is the application workflow from here?</p>\n\n<p>The pattern is generated, probably a <code>Route</code> object to be kept under the <code>Request</code> object or something, then what? How does it work?</p>\n\n<blockquote>\n  <p><strong>P.S.</strong> Looking for a real, well explained answer here. I really want to understand the subject. I would appreciate if someone took the time to write a real elaborate answer.</p>\n</blockquote>\n"},{"tags":["c#","asp.net-mvc","mvc","asp.net-mvc-2","asp.net-mvc-3-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":69,"score":-3,"question_id":12434916,"title":"Line break in string when the length is more than 10 char","body":"<p>I am working on MVC 3. The problem is that I want to break the string if its length more then 10. The string value coming from data base as User name. I want to apply that string on a image.. \nExample </p>\n\n<pre><code>public Image (string Name)\n{    \n}\n</code></pre>\n\n<p>so how to break the name string if it is more then 10 char?</p>\n\n<pre><code>public FileResult image(string image)\n    {\n\n\n\n        Bitmap bitMapImage = new Bitmap(Server.MapPath(\"/Content/themes/base/images/photo.png\"));\n      //  Bitmap bitMapImage = new Bitmap(\"/Content/themes/base/images/del02s(1).jpg\");\n\n        //TODO :  comment for revert the cation of no photo\n        Graphics graphicImage = Graphics.FromImage(bitMapImage);\n        graphicImage.SmoothingMode = SmoothingMode.AntiAlias;\n        int count = image.Length;\n        string[] arr4 = new string[count];\n        if (image.Length &gt; 9)\n        {\n\n            string imges = image\n\n        }\n\n       graphicImage.DrawString(image, new Font(\"Trebuchet MS,Trebuchet,Arial,sans-serif\", 10, FontStyle.Bold), SystemBrushes.WindowFrame, new Point(15, 5));\n\n\n         graphicImage.DrawArc(new Pen(Color.Red, 3), 90, 235, 150, 50, 0, 360); \n        MemoryStream str = new MemoryStream();\n        bitMapImage.Save(str, ImageFormat.Png);\n\n\n        return File(str.ToArray(), \"image/png\");\n    }\n</code></pre>\n\n<p>Check this out </p>\n\n<p>static void Main(string[] args)\n        {</p>\n\n<pre><code>        string image = \"1234567890abcdefghijklmnopqrsy\";\n        int count = image.Length;\n\n        if (image.Length &gt; 9)\n        {\n          //getting Error\n            string img1 = image.Substring(0, 10); \n            string img2 = image.Substring(10, count);//getting Error Index and length           //must refer to a location within the string.\n             //Parameter name: length\"\n\n\n\n            string imge3 = img1 + \"\\n\";\n            string img4 = imge3 + img2;\n\n            Console.WriteLine(img4);\n        }\n    }\n</code></pre>\n"},{"tags":["mvc","iis7","url-rewriting","global-asax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":294,"score":0,"question_id":9083693,"title":"Deploy ASP MVC 3 application under IIS 7 Default Web Site: File not found error","body":"<p>My Default Web Site on IIS is pointing at </p>\n\n<blockquote>\n  <p>\"C:/intepub/wwwroot\"</p>\n</blockquote>\n\n<p>. In this directory, I have place a subdirectory called \"mvc\" that contains the files needed to run the MVC 3 web app. Therefore the physical path of my web app and its files is </p>\n\n<blockquote>\n  <p>\"C:/inetpub/wwwroot/mvc\"</p>\n</blockquote>\n\n<p>It allows me to access the Login page with no problem, however any other route defined in the Global.asax file throws a <strong>404 error</strong>. I have tried this test:</p>\n\n<p>The route <strong>http://myDomain/Module/CO1040 throws and error</strong>, <strong>but</strong> when a hardcoded the url and insert \"mvc\" on it, i.e. <strong>http://myDomain/mvc/Module/CO1040</strong>, it <strong>works perfectly.</strong></p>\n\n<p><strong>Does this means that I have to rewrite the routes in Global.asax to insert that \"mvc\"?</strong>\nI've gone through the documentation for deploying MVC web apps on IIS 7 and everything points at I shouldn't have any url rewriting to do (I've also looked into the different methods to do this, driving me a bit more crazy), since IIS 7 makes this deployment easier than previous versions of IIS.</p>\n\n<p>How can I solve this problem?</p>\n\n<p>Many thanks in advance.</p>\n"},{"tags":["php","mvc","codeigniter","frameworks"],"answer_count":6,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":489,"score":5,"question_id":9868580,"title":"Big Headache: CodeIgniter or custom made framework, what's your thoughts?","body":"<p>If you'd like to develop a WebApp which you know that is going to scale and become bigger and bigger over time, would you use CodeIgniter or your custom made framework?</p>\n\n<p>What's your arguments for using an open source framework and what's your arguments against it.</p>\n\n<p>Here are my thoughts:\n<strong>CodeIgniter Pros</strong></p>\n\n<ul>\n<li>Great documentation -> Easier to work in a team.</li>\n<li>All the development time is invested in the business logic.</li>\n<li>Not reinventing the wheel</li>\n</ul>\n\n<p><strong>CodeIgniter Cons</strong></p>\n\n<ul>\n<li>Not sure how scalable it is if I'll want to grow</li>\n<li>MIT License - not sure what it means, but if I'll want to sell my app on per license basis, I'm not sure I'll be able to do that.</li>\n</ul>\n\n<p><strong>Custom coded Framkework Pros</strong></p>\n\n<ul>\n<li>Scalable. I can decide how it will grow.</li>\n<li>I own the code</li>\n<li>Flexcible design.</li>\n</ul>\n\n<p><strong>Custom coded Framework Cons</strong></p>\n\n<ul>\n<li>Need to document it, so others will be able to collaborate.</li>\n<li>Need to invest time to maintain the framework</li>\n<li>Unexpected errors/bugs</li>\n</ul>\n\n<p>What's your take on that? My brain tells me to go with CodeIgniter, my heart tells me to build my own framework.</p>\n"},{"tags":["php","mysql","mvc","codeigniter","recursion"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12433861,"title":"CodeIgniter and binary tree iteration/organization","body":"<p>I'm developing a CI project that needs to outputs a perfect binary tree in HTML.  Each node in the tree relates to a record in a table.  The table currently has upwards of 10 million rows and I'm going to need to output a tree with depth of at least 9, so things could get slow quickly if it's not built optimally.</p>\n\n<p>Using the CI's MVC paradigm, what's the best way to organize this data?  With such a large table, I don't want to have to hit the database too many times, and building a tree like this can get costly very quickly (# cells = 2^(depth+1)-1).</p>\n\n<p>So far I've built the controller to handle the request (easy part) and a library to handle/build the tree structure by recursively hitting the DB and creating an object for each node.  I'm sorta stuck on how to organize the rest.  Should I handle the tree traversal and HTML output from within a view/helper?  If we do that, there's going to be a whole bunch of logic in the view(s) which I know people try to avoid.  Similarly, I know it's looked down upon to output any HTML from within a library but given this structure it almost seems like it's logical to handle all the recursion/output from there.</p>\n\n<p>Any advice would be very helpful, and thanks in advance!</p>\n"},{"tags":["mvc","url","dash","hyphenation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12433736,"title":"ASP.NET MVC 4 - Allow dashes / hypens in URL's","body":"<p>I am struggling how to properly allow dashes / hypens in a URL in my MVC 4 / ASP.NET 4.5 app...for some reason MVC converts the dashes to underscores which is not what i want.</p>\n\n<p>I've done a good bit of searching around before i posted the question, still can't find any easy solution. Everything i found seems way out of whack for such a simple configuration.</p>\n\n<p>Basically, i would like to be able to access the following URL:</p>\n\n<p>www.mysite.com/dashes-in-url</p>\n\n<p>So for example, i created a controller named:</p>\n\n<p>dashes-in-urlController.cs</p>\n\n<p>The controller was named fine and allowed the dashes in the controller name.</p>\n\n<p>However, when i created a view for the Index for the above controller, it created the view as:</p>\n\n<p>Folder: /Views/dashes_in_url</p>\n\n<p>With an Index.cshtml file in that folder - but it replaced my dashes with underscores.</p>\n\n<p>So i have to access the url as:</p>\n\n<p>www.mysite.com/dashes_in_url</p>\n\n<p>with underscores instead of with the dashes in the URL.</p>\n\n<p>Does anyone know of any elegant, simple solution to achieve what i'm trying to do? </p>\n\n<p>Any help in this matter would be greatly appreciated, thanks!</p>\n"},{"tags":["vb.net","mvc","backgroundworker"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12398131,"title":"vb.net - BackgroundWorker, models and reusable controls","body":"<p>I have read .NET API doc and successfully implemented <code>BackgroundWorker</code> in order to fill data for my control (composed by a <code>TreeView</code> with a <em>recommended</em> list based on hints parsed with regex). So far so good while sandboxing...</p>\n\n<p>Now, for the real thing. I want to keep the UI isolated from the model. While reading and learning the use of <code>BackgroundWorker</code>, the code was simple in the following terms:</p>\n\n<ol>\n<li>My control is provided from an external library</li>\n<li>The control is putted in a dummy <code>Form</code> and docked (fill)</li>\n<li>A <code>BackgroundWorker</code> dragged in the <code>Form</code>, explored a custom directory, and <code>ProgressChanged</code> event was handled by the control with parent and child <code>TreeNode</code>s passed as arguments.</li>\n</ol>\n\n<p>For the <em>real</em> thing I wanted to emphasize the use of MVC pattern. I've tried differents approachs and in all of them I failed to get the UI not freezed. What caught my attention and deliberated the need of this question was that the code didn't change drastically and the update or progress change was made <strong>always</strong> in the UI thread (most specifically, in the handler written in the control).</p>\n\n<p>The last approach I have made was the creation of the following <code>SetWorkerDelegate</code> method in the custom control below:</p>\n\n<pre><code>...\nPrivate worker As BackgroundWorker\nPrivate currentDelegate As DoWorkEventHandler\n\nPublic Sub New()\n    InitializeComponent()\n    worker = New BackgroundWorker()\n    worker.WorkerReportsProgress = True\n    worker.WorkerSupportsCancellation = True\n    AddHandler worker.ProgressChanged, AddressOf worker_progressChanged\n    AddHandler worker.RunWorkerCompleted, AddressOf worker_finished\nEnd Sub\n\nPublic Sub SetWorkerDelegate(ByRef workerDelegate As DoWorkEventHandler)\n    If Not currentDelegate Is Nothing Then\n        RemoveHandler worker.DoWork, currentDelegate\n    End If\n    currentDelegate = workerDelegate\n    AddHandler worker.DoWork, currentDelegate\n    ' new delegate, new run..\n    worker.RunWorkerAsync()\nEnd Sub\n\nPrivate Sub worker_progressChanged(ByVal sender As Object, _\n                             ByVal e As System.ComponentModel.ProgressChangedEventArgs)\n    Debug.WriteLine(\"change has been made.\")\n    Dim state As Object() = e.UserState\n    ' Just for the sake of simplicity...\n    Dim parent As TreeNode = state(0)\n    Dim child As TreeNode = state(1)\n    If parent Is Nothing Then\n        TreeView1.Nodes.Add(child)\n    Else\n        parent.Nodes.Add(child)\n    End If\nEnd Sub\n</code></pre>\n\n<p>With a custom class working as the work-provider like this:</p>\n\n<pre><code>Public doWorkTest As DoWorkEventHandler\nPrivate worker As BackgroundWorker\n\nPublic Sub New()\n    doWorkTest = New DoWorkEventHandler(AddressOf run)\nEnd Sub\n\nPrivate Sub BuildTree(ByVal aPath As String, _ \n                      Optional ByVal parent As TreeNode = Nothing)\n    If IO.Directory.Exists(aPath) Then\n        Dim rootDirectory As DirectoryInfo = New DirectoryInfo(aPath)\n        If parent Is Nothing Then\n            Dim root As TreeNode = New TreeNode(rootDirectory.Name)\n            root.Tag = rootDirectory.FullName\n            worker.ReportProgress(1, New Object() {Nothing, root})\n            parent = Root\n        End If\n        For Each info As FileSystemInfo In rootDirectory.EnumerateFileSystemInfos\n            Dim child As TreeNode = New TreeNode(info.Name)\n            worker.ReportProgress(1, New Object() {parent, child})\n            child.Tag = info.FullName\n            If (info.Attributes And FileAttributes.Directory) = FileAttributes.Directory Then\n                BuildTree(child.Tag, child)\n            End If\n        Next\n    End If\nEnd Sub\n\nPublic Sub run(ByVal sender As Object, ByVal e As DoWorkEventArgs)\n    worker = sender\n    Thread.Sleep(2000)\n    BuildTree(\"C:\\\", Nothing)\nEnd Sub\n</code></pre>\n\n<p>Questions:</p>\n\n<ul>\n<li>Does the <code>BackgroundWorker</code> object need to be instantiated in a GUI thread?</li>\n<li>What is your advice for following an MVC pattern in order to provide a model interface for reusing controls?</li>\n<li>When using the same exact code but layed out differently (e.g., all the <code>BackgroundWorker</code> code done in the form), the nodes are loaded ok and the GUI refreshes ok without freeze, anyone knows why?</li>\n</ul>\n"},{"tags":[".net","mvc","twilio"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":12429494,"title":"Filter call logs using Twilio .NET helper library","body":"<p>Im trying to use the <a href=\"http://twilio.com/docs/api/rest\" rel=\"nofollow\">Twilio Rest API</a> to get a list of call logs using <a href=\"http://github.com/twilio/csharp\" rel=\"nofollow\">MVC .net</a>. Using the following code, I can only get the most recent 50 calls. I would like to return all calls and filter as I choose. </p>\n\n<pre><code>@using Twilio;\n@{\n    // Set our AccountSid and AuthToken\n    string sid = \"AC123\";\n    string token = \"abcd\";\n\n    // Instantiate a new Twilio Rest Client\n    var client = new TwilioRestClient(sid, token);    \n\n    // Get Recent Calls\n    var calls = client.ListCalls();\n\n    if (calls.RestException != null) \n    {\n        Response.Write(string.Format(\"Error: {0}\", calls.RestException.Message));\n        Response.End();\n    }    \n}\n&lt;h1&gt;Call Log&lt;/h1&gt;\n@foreach (var call in calls.Calls) {\n    &lt;p&gt;Call from @call.From to @call.To at @call.StartTime of length @call.Duration&lt;/p&gt;\n}\n</code></pre>\n\n<p>How can I return all calls from the call logs?</p>\n"},{"tags":["javascript","jquery","json","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12429370,"title":"JQuery DataTable and JsonDate, very basic","body":"<p>I've found <a href=\"http://stackoverflow.com/questions/12419405/converting-datetime-from-json-to-readable-format\">this question</a> very similar to my situation, but I don't know basic steps in integration in JQuery DataTable <code>DateTime</code> field. How to insert converted json datetime object into datatable in row like </p>\n\n<pre><code> $('#myDataTable').dataTable({\n            \"bServerSide\": true,\n            \"sAjaxSource\": \"/Home/AjaxHandler\",\n\n            \"aoColumns\": [\n                        { \"sName\": \"JoinDate\" }\n                    ]\n        });\n    });\n</code></pre>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":45,"score":-3,"question_id":12427668,"title":"Model, View and Controller differentiated by colours","body":"<p>I need to know what usable colours can be used to represent Model, View and Controller. </p>\n\n<p>So the goal is to assign different colours to Model, View and Controller so one can easily recognize it at a glimpse.</p>\n\n<p>Do you have any suggestions of colour for me?</p>\n\n<p>UPDATED</p>\n\n<p>Based on my experience, I have tagged them as follows.</p>\n\n<ol>\n<li>Blue for Model</li>\n<li>Green for View </li>\n<li>Red for Controller</li>\n</ol>\n"},{"tags":["java","mvc","observable"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12428371,"title":"MVC - Can a view Observe an object?","body":"<p>I am trying to get a better understanding of the MVC structure while using Observable and Observer and I am trying to do so by implementing a program that compares files.  I want my view to show a list of files and some statistical data.  How do I update the view with different data?</p>\n\n<p>For instance, if the statistics change, I want to send the Statistics object to the view so it can update it's display.  But at the same time, if the list of files changes, I want to send the ArrayList to the view so it can update it's display.  Do I use the same update method for both?  If so, do I then have my view look to see what the instanceof is and display accordingly?</p>\n"},{"tags":["mvc","mvp","pac"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12428128,"title":"Is PAC, just MVP with passive view?","body":"<p>In few words: is the PAC (PresentationAbstractionControl) design pattern, just the MVP (ModelViewPresenter) pattern where the view is a passive view?</p>\n\n<p>As far as I can understand</p>\n\n<ul>\n<li><p>MVP is a Presenter, talking with a Model. Then a View talking to the Presenter, and the other way too, the Presenter can talk to the View, that is:</p>\n\n<pre><code>View &lt;--&gt; Presenter --&gt; Model\n</code></pre>\n\n<p>with incoming user events coming from the View [*].</p></li>\n<li><p>PAC is a Controller, which talks to both the Presentation and the Abstraction, but the Presentation does not talk to the Controller (but still sends events the Controller may intercept, though), that is:</p>\n\n<pre><code>Presentation &lt;-- Controller --&gt; Abstraction\n</code></pre>\n\n<p>with incoming user events coming from the Presentation (?).</p></li>\n</ul>\n\n<p>This make me feel to understand PAC is the same as MVP, where the view is passive. Is this a correct interpretation of these two patterns?</p>\n\n<p>[*]: unlike with MVC, where user events comes from the Controller</p>\n\n<p>P.S. Is this OK to ask a general question about design patterns on <em>Stackoverflow</em>? Or is there a better place? I have a doubt, as that's more a design than a programming matter.</p>\n"},{"tags":["c#",".net","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12427650,"title":".net mvc show \"saved\" message in strongly typed parent view when child form save complete","body":"<p>I have a blog object which can contain comment objects.</p>\n\n<p>Currently, the blog contains the blog info and also a partial that renders a list of comments and the form to add a new comment. This comment form posts to a <code>Save</code> action in my <code>Comment</code> controller and then redirects back to the <code>Show</code> action of the <code>Blog</code> controller. The below code is the action action.</p>\n\n<pre><code>        //the id of the blog this comment is for\n        int blogId;\n        bool parsed = Int32.TryParse(Request.Form[\"blogId\"].ToString(), out blogId);\n\n        //get the blog\n        BlogService blogService = new BlogService(unitOfWork);\n        Blog blog = new Blog();\n\n        if (parsed)\n        {\n            blog = blogService.GetBlogArticle(blogId);\n        }\n\n        //setup up our comment\n        CommentService service = new CommentService(unitOfWork);\n        Comment comment = model;\n        comment.Blog = blog;\n\n        //set the comment date\n        comment.PostedDate = DateTime.Now;\n\n        bool actionSucceeded = true;\n        string errorMessage = \"Something went wrong. Please try your request again.\";\n\n        try\n        {\n            service.Add(comment);\n            unitOfWork.Save();  \n        }\n        catch\n        {\n            actionSucceeded = false;\n        }\n\n        if (actionSucceeded)\n        {\n            TempData[\"ActionMessage\"] = \"Comment successfully added. Comments need approval before being posted.\";\n            return RedirectToAction(\"show\", \"blog\", new { id = comment.Blog.Id });\n        }\n        else\n        {\n            ModelState.AddModelError(string.Empty, errorMessage);\n        }\n\n        return RedirectToAction(\"show\", \"blog\", new { id = comment.Blog.Id });\n</code></pre>\n\n<p>My Comment View Model is setup like this.</p>\n\n<pre><code>public class CommentListModel\n{\n    public IEnumerable&lt;Comment&gt; Comments { get; set; }\n    public string ActionMessage { get; set; }\n}\n</code></pre>\n\n<p>And my Blog View Model is setup like this.</p>\n\n<pre><code>public class BlogModel : ResultsModel&lt;Blog&gt;\n{\n    public Blog Blog { get; set; }\n    public string ActionMessage { get; set; }\n\n    public BlogModel() : base()\n    {\n        this.ItemsPerPageOptions = new KeyValuePair&lt;int, string&gt;[]\n        {\n            new KeyValuePair&lt;int, string&gt;(15, \"Items Per Page: 15\"),\n            new KeyValuePair&lt;int, string&gt;(20, \"Items Per Page: 20\"),\n            new KeyValuePair&lt;int, string&gt;(25, \"Items Per Page: 25\"),\n            new KeyValuePair&lt;int, string&gt;(30, \"Items Per Page: 30\"),\n            new KeyValuePair&lt;int, string&gt;(40, \"Items Per Page: 40\"),\n            new KeyValuePair&lt;int, string&gt;(50, \"Items Per Page: 50\")\n        };\n    }\n}\n</code></pre>\n\n<p>And the portion of the View that handles this.</p>\n\n<pre><code>   @if (TempData[\"ActionMessage\"] != null)\n        {   \n            &lt;div class=\"validation-summary-success\" style=\"font-size: 2.1em; color: gray; background-color: #90EE90; padding: 10px; margin:2px;\"&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;@TempData[\"ActionMessage\"]&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n\n            &lt;script type=\"text/javascript\"&gt;\n                $(\".validation-summary-success\").delay(3000).fadeOut(\"slow\").slideUp(\"slow\");\n            &lt;/script&gt;   \n        }\n\n        &lt;div class=\"Head\"&gt;\n          &lt;h5&gt;@Model.Blog.Title&lt;/h5&gt;\n          &lt;label&gt;By: @Model.Blog.Admin.Name &lt;span&gt;|  @Model.Blog.PostingDate.ToShortDateString()&lt;/span&gt;&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;article class=\"mContent\"&gt;\n            &lt;p&gt;@Model.Blog.Body&lt;/p&gt;   \n        &lt;/article&gt;\n        &lt;div id=\"commentContainer\"&gt;\n                @Html.Partial(\"_BlogComments\", @Model.Blog.Comments, new ViewDataDictionary { {\"blogId\", @Model.Blog.Id}  })\n        &lt;/div&gt;\n</code></pre>\n\n<p>As you can see, I'm using the <code>TempDataDictionary</code> to show a \"Saved\" message. However, it is my understanding that this defeats the purpose of having a strongly typed view.</p>\n\n<p>When I save this comment in the <code>Save</code> action, how do I set the <code>ActionMessage</code> property if I am redirecting back to the <code>Show</code> action of the <code>Blog</code> controller if this action currently accepts a record ID? Would I set the <code>ActionMessage</code> property of the Blog or Comment object?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","architecture"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12428240,"title":"Where to put preperation code for partials that can be rendered both from a view and from a controller?","body":"<p>In my Rails app, I have a <code>Foo</code> model that <code>has_many</code> <code>Bar</code>s. I want to edit the <code>Bar</code>s inside the <code>show</code> view of <code>Foo</code>'s controller. Also, I don't want to reload the entire page each time I edit a <code>Bar</code>.</p>\n\n<p>To do this, I'm using AJAX. The <code>Bar</code> controller has two views - <code>show</code> and <code>edit</code>. <code>bar#show</code> has an edit button, and both the <code>Bar</code> views, instead of reloading the entire page, use AJAX to perform the HTTP request and then replace the content of the HTML tag that contains that represents that specific <code>Bar</code> object in the <code>Foo</code>'s <code>show</code> view.</p>\n\n<p>When rendering <code>foo#show</code>, I don't want to perform an HTTP request for each <code>Bar</code> object. Also, <code>Bar</code>'s controller method need to fetch the <code>Bar</code> record from the database - something I don't want to do in <code>foo#show</code>, because I can load all of them with a single query, which is much faster than loading each one separately.</p>\n\n<p>So, what I did is to make <code>Bar</code>'s views partials instead of normal views. That way, I can render them both from the controller and from another view.</p>\n\n<p>Now, the problem is that those views need more preparation beside loading the <code>Bar</code> record from the database, and unlike loading the record - those preparations need to be done whether the partial is rendered from the controller or from another view.</p>\n\n<p>What I'm doing now is having a ruby block of about 10 lines in the beginning of the partial's <code>erb</code>, and do the preparation there. While that works, I realize it's a bad design - that kind of preparation should be done in controllers, not in views. And to make things worse - sometimes, that preparation code of the <code>show</code> partial can decide that the <code>edit</code> partial needs to be rendered instead, so I need to call another partial render from the <code>show</code> partial - again, something that should have been done in another place.</p>\n\n<p>However, I just don't know where to put that code. I thought about putting it a view helper, but view helpers are supposed to be called from views, and I also need to call this one from a controller.</p>\n\n<p>So, what's the RoR way to solve this problem?</p>\n"},{"tags":["mvc","jsp","java-ee"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12423990,"title":"Can't add data to the database","body":"<p>I'm working on a simple java web application using mvc 1.\nThe application add data inserted in the table form.\nwe have \n1.Bean\n2.Operator which is a class that insert data from jsp to database\n3.servlet\n4.jsp</p>\n\n<p>This is the bean</p>\n\n<pre><code>package pk1;\n\n\nimport java.util.*;\n\npublic class MissionForm {\n\n    String objet, dateDepart,dateRetour;\n    long matricule, numVehicule,numMission ;\n    public MissionForm(String objet, String dateDepart, String dateRetour,\n            int matricule, int numVehicule,int numMission) {\n        super();\n        this.objet = objet;\n        this.dateDepart = dateDepart;\n        this.dateRetour = dateRetour;\n        this.matricule = matricule;\n        this.numVehicule = numVehicule;\n        this.numMission=numMission;\n    }\n    public String getObjet() {\n        return objet;\n    }\n    public void setObjet(String objet) {\n        this.objet = objet;\n    }\n    public String getDateDepart() {\n        return dateDepart;\n    }\n    public void setDateDepart(String dateDepart) {\n        this.dateDepart = dateDepart;\n    }\n    public String getDateRetour() {\n        return dateRetour;\n    }\n    public void setDateRetour(String dateRetour) {\n        this.dateRetour = dateRetour;\n    }\n    public long getMatricule() {\n        return matricule;\n    }\n    public void setMatricule(long matricule) {\n        this.matricule = matricule;\n    }\n    public long getNumVehicule() {\n        return numVehicule;\n    }\n    public void setNumVehicule(long numVehicule) {\n        this.numVehicule = numVehicule;\n    }\n    public long getNumMission() {\n        return numMission;\n    }\n    public void setNumMission(long numMission) {\n        this.numMission = numMission;\n    }\n\n}\n</code></pre>\n\n<p>Operator that adds typed data from jsp to database </p>\n\n<pre><code>package pk1;\n\n\nimport java.sql.*;\nimport java.util.Iterator;\nimport java.util.Vector;\n\n\npublic class Operateur {\n\n    public Operateur(){}\n\n    //------------------ajouter les Missions------------------------\n\n    public void addMission(String objet,String dateDepart,String dateRetour,long matricule,long numVehicule){\n        Connection conn=Utilitaire.getConnection();\n        String req=\"insert into mission (Objet,DateDepart,DateRetour,Matricule,NumVehicule) values(?,?,?,?,?)\";\n        try {\n            PreparedStatement ps=conn.prepareStatement(req); // prepare une instruction ki  parametr ces parametres st represent par les ?\n            ps.setString(1,objet);\n            ps.setString(2,dateDepart);\n            ps.setString(3,dateRetour);\n            ps.setLong(4,matricule);\n            ps.setLong(5,numVehicule);\n\n            ps.executeUpdate();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }   \n    }\n\n}\n</code></pre>\n\n<p>OperatorServlet.java</p>\n\n<pre><code>import pk1.*;\n\n\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport javax.servlet.http.*;\nimport javax.servlet.*;\n\n\nimport java.io.*;\n\n\npublic class OperateurServlet extends HttpServlet {\n\n\n        public void doPost(HttpServletRequest request,\n                HttpServletResponse response)throws ServletException,IOException{\n    //Crer le bean qui va stocker les donnes de la requte\n            MissionForm mf=new MissionForm(null, null, null, 0, 0, 0);\n\n            //Faire appel au modle pour ajouter une nouvelle mission\n            Operateur op=new Operateur();\n            if(request.getParameter(\"addMiss\")!=null){\n    // Socker les donnes de la requte dans le bean cr\n                mf.setObjet(request.getParameter(\"objet\"));\n                mf.setDateDepart(request.getParameter(\"dateDepart\"));\n                mf.setDateRetour(request.getParameter(\"dateRetour\"));\n                mf.setMatricule(Long.parseLong(request.getParameter(\"matricule\")));\n                mf.setNumVehicule(Long.parseLong(request.getParameter(\"numVehicule\")));\n                //Sauvegarder l'objet dans la base de donnes\n                op.addMission(mf.getObjet(),mf.getDateDepart(),mf.getDateRetour(),mf.getMatricule(),mf.getNumVehicule());\n\n}\n\n        /* avant de donner la main la page JSP pour afficher\n         * enregitrer le bean dans la requte ou la session courante\n         */\n                    HttpSession session=request.getSession();\n                    session.setAttribute(\"missForm\",mf);\n        //Faire une redirection vers la vue JSP pour afficher.\n                    response.sendRedirect(\"interface.jsp\");     \n                }\n            public void doGet(HttpServletRequest request,\n                    HttpServletResponse response)throws ServletException,IOException{\n                    doPost(request,response);\n            }\n        }\n</code></pre>\n\n<p>Jsp vue</p>\n\n<pre><code>&lt;%@ page language=\"java\" %&gt;\n&lt;%@ page import=\"java.util.*\" %&gt;\n&lt;%@ page import=\"pk1.*\" %&gt;\n\n\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Ordres de missions&lt;/title&gt;\n&lt;/head&gt;\n&lt;body bgcolor=\"#FFFFFF\"&gt;\n\n&lt;form method='post' action='operateurservlet'&gt;\n &lt;table border='1' align='center'&gt;\n   &lt;tr&gt;\n    &lt;td&gt;Anne:&lt;input type='text' name='motCle' value=''&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input type='submit' name='chercheCat' value='Chercher'&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n &lt;/table&gt;\n&lt;/form&gt;\n&lt;form method='get' action='operateurServlet/operateur'&gt;\n  &lt;table border='1' align='center'&gt;\n    &lt;tr&gt;\n      &lt;td&gt;Numero de mission&lt;td&gt;Objet&lt;/td&gt;&lt;td&gt;Date de depart&lt;/td&gt;&lt;td&gt;Date de retour&lt;/td&gt;&lt;td&gt;Agent&lt;/td&gt;\n\n\n    &lt;/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;&lt;/td&gt;\n     &lt;td&gt;   &lt;input type='text' name='objet' size='40'&gt;&lt;/td&gt; \n     &lt;td&gt;&lt;input type='text' name='dateDepart'&gt;&lt;/td&gt;     \n     &lt;td&gt;&lt;input type='text' name='dateRetour'&gt;&lt;/td&gt;\n     &lt;td&gt;&lt;FORM&gt;\n                                                                    &lt;SELECT name=\"nom\" size=\"1\"&gt;\n                                                                                &lt;OPTION&gt;1\n                                                                                &lt;OPTION&gt;2\n                                                                                &lt;OPTION&gt;3\n                                                                                &lt;OPTION&gt;4\n                                                                                 &lt;OPTION&gt;5\n                                                                    &lt;/SELECT&gt;\n                                                               &lt;/FORM&gt;&lt;/td&gt;\n\n\n     &lt;td&gt;&lt;input type='submit' value='Ajouter'&gt;&lt;/td&gt; \n\n\n\n\n    &lt;/tr&gt;\n\n  &lt;/table&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I click on add button, nothin happens. I know there is something not working in the jsp, I don't what it is ? \nthanks </p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","view","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12418718,"title":"Newbie - Rails View within View","body":"<p>I'm attempting to make a two column layout. The column on the left is navigation, and the column on the right is content.</p>\n\n<p>Is there a way to display <code>show.html.erb</code>, <code>edit.html.erb</code>, and <code>new.html.erb</code> at different times in the right div, when the corresponding navigation is selected, without re-loading the whole page?</p>\n\n<p>I know I can use a partial for the left div, and render new pages, but I want to avoid having a separate page load for each view.</p>\n\n<p>Item Controller:</p>\n\n<pre><code>def index\n    @item = item.find(:all, :order =&gt; \"id DESC\")\nend\n\ndef new\n    @item = item.new\nend\n\ndef create\n    @item = item.new(params[:item])\n\n    if @item.save\n        redirect_to root_path\n    else\n        render \"new\"\n    end\nend\n\ndef edit\n    @item = item.find(params[:id])\nend\n\ndef update\n    @item = item.find(params[:id])\n\n    if @item.update_attributes(params[:item])\n        redirect_to root_path\n    else\n        render \"index\"\n    end\nend\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"left\" \"&gt;\n    &lt;p id=link_to \"Current_Item\", item_path %&gt;&lt;/p&gt;\n    &lt;p id=Link_to \"Add_Item\", new_item_path %&gt;&lt;/p&gt;\n    &lt;p id=Link_to \"Edit_Item\", edit_item_path %&gt;&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div id=\"right\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Routes File:</p>\n\n<pre><code>resources :items\n</code></pre>\n"},{"tags":["ios","mvc","uibutton","first-responder"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":176,"score":5,"question_id":9417844,"title":"UIButton event not handled 1% of the time: who should I blame in my responder chain?","body":"<p>My application tends to sometimes lose track of what responder should handle a touch event.</p>\n\n<p>My situation:</p>\n\n<ul>\n<li>a XIB file defining 3 views: \n<ul>\n<li>one view as the File's Owner's view</li>\n<li>2 extra views that are added to the view hierarchy programmatically</li>\n</ul></li>\n<li>One of the subview (SubviewA) has a <code>UIButton</code>, configured to send the <code>myAction:</code> selector to the <code>FirstResponder</code> when a \"Touch Up Inside\" event is detected</li>\n<li>SubviewA knows how to handle <code>myAction:</code></li>\n</ul>\n\n<p>99% of the time, everything goes fine. When the user taps the button, SubviewA takes care of the <code>myAction:</code> message and everything's fine. But from times to times, users complain that the button \"freezes\" and I actually reproduced it myself a couple of times without being able to find a clear scenario to make it happen on demand.</p>\n\n<p>My investigation so far is:</p>\n\n<ul>\n<li>when nothing happens when tapping the button:\n<ul>\n<li>my button detects the tap cause it gets highlighted when pressed</li>\n<li><code>myAction:</code> is not called on SubviewA</li>\n<li>the rest of the UI remains responsive</li>\n</ul></li>\n</ul>\n\n<p>The code I'm talking about is some legacy code I'm trying to fix. Having a view responding to an event for one of its subviews sounds like a weird architecture to me. So far, I've always used the File's Owner to take care of touch events so I pointed out the Responder Chain to be the ideal responsible for the bug. But I can't find why! From my understanding, as the button doesn't know how to handle the message and has no view controller attached to it, it should forward it to its superview (ButtonA, that knows how to handle it)!</p>\n\n<p>My questions are :</p>\n\n<ul>\n<li>any idea on where the bug might come from? (responder chain?)</li>\n<li>any comment on whether a view should handle its button behaviors itself or if a view controller should do it?</li>\n</ul>\n\n<p>Edit:\nI have an idea on how to fix the bug: wire the button action straight to SubviewA rather than using FirstResponder within Interface Builder. The reason why I posted this question is to try to understand why is the responder chain not working from times to times.</p>\n"},{"tags":[".net","asp.net-mvc","visual-studio-2008","mvc","iis6"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":884,"score":2,"question_id":511881,"title":"Problem publishing an MVC app on IIS6","body":"<p>I have a small MVC app that works locally, but when I publish it to the server (running IIS6), all the links get messed up.</p>\n\n<p>For example, a typical link when running locally would be:</p>\n\n<pre><code>http://localhost:3467/Exceptions?exdate=20090108\n</code></pre>\n\n<p>However, when I publish it to our dev server at <code>\\\\deverserver\\apps\\MyProject</code>, note the duplication in the URL for the same link:</p>\n\n<pre><code>http://devserver/apps/MyProject/MyProject/Exceptions?exdate=20090108\n</code></pre>\n\n<p>Any idea what's going on?</p>\n\n<p>Note: These links are all built via <code>Html.ActionLink()</code>.</p>\n\n<p>Update: I can duplicate this locally if I specify a Specific Port and Virtual Path in My Project | Web | Use Visual Studio Development Server:</p>\n\n<ul>\n<li>Specific Port: 1234</li>\n<li>Virtual Path: /apps/MyProject</li>\n<li>Resulting URL: <code>http://localhost:1234/apps/MyProject/MyProject/Exceptions?exdate=20090108</code></li>\n</ul>\n"},{"tags":["spring","mvc","asynchronous","portlet","atmosphere"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12419364,"title":"Atmosphere and spring portlet mvc","body":"<p>It's possble to use the recently released 1.0 version of the atmosphere framework with spring portlet mvc ? I have a portlet that makes multiple ajax calls and i would like to process them all in parallel in the server. </p>\n\n<p>I'm using weblogic and the problem is that the server is queuing my requests. They are trully parallel when they leave the browser, but when they reach the server they are being enqueued.  </p>\n\n<p>What I would like is something similar to the assyncronous controller concept of spring 3.2 but in servlet 2.5 through the atmosphere framework</p>\n"},{"tags":["php","ajax","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":94,"score":1,"question_id":12416089,"title":"Location of AJAX in PHP MVC?","body":"<p>Where should my called AJAX file be residing in a typical PHP MVC framework?</p>\n\n<p>It's logic, so I'm assuming the models folder, but at the same time it's acting as part of the controller functions?</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>Thanks for all the responses, particularly zerkms.</p>\n\n<p>JS will form part of the view, which will AJAX request a URL. The URL will be an independent controller (possibly an AJAX controller in itself) which will provide the JS with it's datasource. </p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":12413921,"title":"MVC, CodeIgniter , Using conitional statements in a view?","body":"<p>Does using conditional blocks in my view defeat the purpose of the MVC architecture?</p>\n\n<p>I have a controller method that loads a view and I want to have a different button group based on the page id that was passed as a paramater to that method.</p>\n\n<p>Everything works fine but in my view I have several:</p>\n\n<pre><code>&lt;?php if($pageID == n) : ?&gt;\n    html content...\n&lt;?php endif; ?&gt;\n</code></pre>\n\n<p>Is this a bad habit and if so what's a better solution? Calling a library method from my view seems wrong as well.</p>\n"},{"tags":["mvc","view","sencha-touch-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12414871,"title":"How to load a new view into a Ext.tab.Panel using controller in Sencha Touch 2?","body":"<p>I'm migrating my app from Sencha Touch 1 to v2. I have a controller and 3 views that are kind of nested so I'd like to load them into the same tab panel. </p>\n\n<p>Right now I'm loading my views using something like this:\nExt.Viewport.setActiveItem(Ext.create('SOCIALIZER.view.PeopleAtPlace'));</p>\n\n<p>And this is the result I get: </p>\n\n<p><strong>This is how it is supposed to look across all the views</strong>\n<img src=\"http://i.stack.imgur.com/Qnmkg.png\" alt=\"This is how it is supposed to look across all the views\"></p>\n\n<p><strong>I included hard coded buttons at the bottom of this view</strong>\n<img src=\"http://i.stack.imgur.com/A4Itb.png\" alt=\"I included hard coded buttons at the bottom of this view\"></p>\n\n<p><strong>Same here</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/P3nuI.png\" alt=\"Same here\"></p>\n\n<p>So what should I do in order to get a nice navigation between views using the same tab panel?</p>\n\n<p>Thank you!</p>\n"},{"tags":[".net","mvc",".net-3.5","google-maps"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":10178,"score":4,"question_id":598289,"title":"Using Google Maps API in .NET 3.5 ASP.NET MVC application","body":"<p>I have an ASP.NET MVC application which is pretty simple so far, but I want to add a driving directions page to the clients location. I see plenty of examples using the traditional code behind model but none with ASP.NET MVC. The application uses master pages and content pages. </p>\n\n<p>I'm pretty new to ASP.NET MVC, so bear with me. Any examples of doing this would be much appreciated.</p>\n\n<p>PS: I'm not totally against integrating a standard code behind type page in the application if needs be.</p>\n"},{"tags":["c#","jquery","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":81,"score":0,"question_id":12413883,"title":"jquery data table how to populate on ajax request","body":"<p>Since my previous question was too confused I'm asking a new one.</p>\n\n<p>I'm having this linq which I use to retrive data as json </p>\n\n<pre><code>var res = from c in model.Data \n          select new object[] { c.Id, c.Time, c.Number};\n</code></pre>\n\n<p>c.Time is DateTime object and Id and Number are integers.\nNow, when this query is executed I'm getting same data repeated in number of model.Data counts. How can this query be rewriten to use foreach loop. </p>\n\n<p>Thanks</p>\n"},{"tags":["php","oop","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12413756,"title":"is it a good idea to have container class that keeps global data?","body":"<p>I'm trying to find a way to hold all the php application data at one place.\nFor example,get and post parameters, page titles, pagination results, etc. to avoid using global variables.</p>\n\n<p>Is this a good idea to keep all data and exchange between contollers in a following object?</p>\n\n<pre><code>class container {\n\nprotected static $_instance;\nprotected $_instance_class;\n\npublic static function instance($instance_name = 'default')\n{\n    $c = __CLASS__;\n\n    if ( ! isset($c::$_instance[$instance_name]))\n    {\n        $c::$_instance[$instance_name] = new $c();\n        $c::$_instance[$instance_name]-&gt;_instance_class = $instance_name;\n    }\n    return $c::$_instance[$instance_name];\n}\n\npublic function set($key, $val)\n{\n    // someting like $this-&gt;$key = $val;\n}\n\npublic function get($key)\n{\n    // someting like retrun $this-&gt;$key;\n}\n\n}\n</code></pre>\n\n<p>and then, for example in model</p>\n\n<pre><code>container::instance('messages')-&gt;set('error', 'some error');\n</code></pre>\n\n<p>and in the controller or view</p>\n\n<pre><code>container::instance('messages')-&gt;get('error');\n</code></pre>\n\n<p>Or is there any other way to keep data accessible from everywhere in the app?</p>\n\n<p>thanks!</p>\n"},{"tags":["mvc","playframework","url-routing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":329,"score":0,"question_id":11007957,"title":"Play 2.0 framework - POST parameters","body":"<p>I'm trying to POST parameters to Action, and wrote in the routes:</p>\n\n<pre><code># Home page\nGET    /                         controllers.Application.index()\n\nPOST   /login/name:/password:    controllers.Application.login(name, password)\n</code></pre>\n\n<p>and I have an Action</p>\n\n<pre><code>public static Result login(String name, String password) {\n    return ok(name + \" \"  + password);\n}\n</code></pre>\n\n<p>my form is</p>\n\n<pre><code>&lt;form action=\"/login\" method=\"post\"&gt;\n\n    &lt;input name=\"name\" type=\"text\" id=\"name\"&gt;\n    &lt;input name=\"password\" type=\"password\" id=\"password\"&gt;\n    &lt;input type=\"submit\" value=\"Login\"&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>And it doesn't work </p>\n\n<p>For request <code>'POST /login' [Missing parameter: name]</code></p>\n\n<p>What am i doing wrong?</p>\n"},{"tags":["ruby-on-rails","mvc","grammar"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12413599,"title":"Intelligent plural always intelligent?","body":"<p>Ruby on rails uses singular and plural conventions for model, view and controller names. This is very good, since one might have a model called <code>user</code> and a controller called <code>users</code>. This work with almost every word, such as user(s), tree(s), book(s), so every word that just has an s to form the plural.</p>\n\n<p>However, what about words that do not just need an s to form the plural, such as words ending with the letter \"y\"? E.g., city and cities? Does rails know the difference or would I need to write <code>city</code> and <code>citys</code>, even though it is grammatically wrong?</p>\n"},{"tags":["mvc","jsf","struts"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":847,"score":3,"question_id":4801891,"title":"Difference between Request MVC and Component MVC","body":"<p>I have heard that JSF is implementing the component based MVC and Struts is implementing the request based MVC. I would like to know what is the exact difference between these two types and which one will have more advantages. </p>\n"},{"tags":["mvc","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12412591,"title":"ajax - render two partial views","body":"<p>On a button click I fetch some data using jquery $.ajax, calling controller action method and return a strongly typed partial view. Data is displayed in a table.</p>\n\n<p>when data is available I also need to render another strongly typed partial view (same model as for resultSetView) to display page navigation buttons for the resultSetView.</p>\n\n<p>How can I do the second part?</p>\n\n<pre><code>$.ajax({\n            type: \"POST\",\n            url: $form.attr('action'),\n            data: $form.serialize(),\n            error: function (xhr, status, error) {\n                //do something about the error   \n            },\n            success: function (response) {\n                $(\"#resultSetDiv\").html(response);\n                //need to reload pageNavigationDiv\n            }\n        });\n</code></pre>\n\n<p>Markup is like</p>\n\n<pre><code>&lt;div id=\"pageNavigation &gt;\n    @Html.Partial(\"_pageNavigationView\")\n&lt;/div&gt;\n&lt;div id=\"resultSetDiv\"&gt;\n     @RenderSection(\"_resultSetView\")\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1133,"score":0,"question_id":9663035,"title":"How do you redirect to another page from within the HTML view itself?","body":"<p>The MVC View is a CART and sometimes it might have no items, for example when you clear the Cart itself.</p>\n\n<p>My current code will display an empty Cart when NO items are present.</p>\n\n<p>Instead I would like to redirect to the Home Page.</p>\n\n<p>How can I redirect to the Home Page from within the MVC View itself?</p>\n"},{"tags":["java","mvc","model","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12411014,"title":"Java Model View Controller for file reading","body":"<p>I am having a lot of trouble designing a small program that reads a text document and writes statistics to a text file. We have to use a model-view-controller format that we haven't learned yet!</p>\n\n<p>Basically, the model class represents text from a text file and I need it to be stored in a String or String array. It also has to have methods to report number of words and stuff like that. The view class needs to have bufferedreader and writer. The control class creates the objects and calls the printResults() method.</p>\n\n<p>So I started with my control class having something like:</p>\n\n<pre><code>Model model = new Model();\nView view = new View( model );\n\nview.writeFile();\n</code></pre>\n\n<p>I have a feeling this is incorrect. How do I make my model class represent a text document, and send it to the View class to read it, and then have the view class invoke methods from the model class to write statistics? Is there a better approach or is there something I am missing here?</p>\n"},{"tags":["mvc","controller","actionresult"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":635,"score":0,"question_id":7163448,"title":"MVC Controller Using Response Stream","body":"<p>I'm using MVC 3 I would like to dynamically create a CSV file for download, but I am unsure as to the correct MVC orientated approach.</p>\n\n<p>In conventional ASP.net, I would have written something like:</p>\n\n<pre><code>Response.ClearHeaders();\nResponse.ContentType = \"text/csv\";\nResponse.AddHeader(\"content-disposition\", attachment;filename='Test.csv'\");\nResponse.Write(\"1,2,3\");\nResponse.End();\n</code></pre>\n\n<p>I have looked at the ContentResult action but it appears that I would need to create the result as a string, i.e.</p>\n\n<p>return Content(myData, \"text/csv\");</p>\n\n<p>I could, I suppose, build a string, but since these files could be several thousand lines long, this seems inefficient to me.</p>\n\n<p>Could someone point me in the right direction?  Thanks.</p>\n"},{"tags":["java","spring","mvc","history","undo"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":11760562,"title":"How to create an undo function in spring MVC based web app.?","body":"<p>I have an employee and a corresponding employee history table. </p>\n\n<p>Both the tables have same structure. History table is used to track the historical changes made to the employee over a period of time.</p>\n\n<p>Now, I need to add an undo function to the changes made to the employee. </p>\n\n<p>e.g. Employees title is changed on 1st August. Now, This will update the employees title in Employee table and insert an corresponding history record in employee_history table. </p>\n\n<p>Now, I need to undo this change. Employee edit page will have a list of changes made to employee datewise with an undo button beside it. </p>\n\n<p>Clicking on undo should revert changes in Employee table to previous value. Also I think the record in history table which says title is changed, should also be removed. </p>\n\n<p>Also when I revert tghe changes to employee table i.e. revert title to previous title, this will fire an insert to history table, which I dont want. </p>\n\n<p>I am not sure what is the best possible way to do this.</p>\n\n<p>Any suggestions will be helpful. </p>\n"},{"tags":["ruby-on-rails","mvc","controller","action"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":66,"score":3,"question_id":12395728,"title":"Rails - how do I avoid having to trigger the create action in one controller from the create action in another controller","body":"<p>Forgive a basic question here.</p>\n\n<p>From reading around, I understand it's not best practice to trigger the create action of a controller from another - I'm looking for advice on how I should be organizing my code in the following situation:</p>\n\n<blockquote>\n  <p>I have two controllers: cases and notifications.</p>\n  \n  <p>When a new case is created I want it to also create a new\n  notification. </p>\n  \n  <p>The notification create action creates a new instance in it's model,\n  and sends an email.</p>\n</blockquote>\n\n<p>Am I right to think that I shouldn't just be calling Notification#create from my cases controller? Should I be extracting this to a helper or module? If so, what would it look like? The other roughly similar posts on this topic don't elaborate.</p>\n\n<p>Thank you.</p>\n"},{"tags":["mvc","asp.net-mvc-4","imodelbinder"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1698,"score":2,"question_id":9910346,"title":"MVC 4 ModelBinder","body":"<p>I need to know How to Create a Custom ImodelBinder is MVC 4 as it has been change.</p>\n\n<p>The new method that has to be implimented is : </p>\n\n<pre><code>bool BindModel(HttpActionContext actionContext, ModelBindingContext bindingContext);\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","command"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12403283,"title":"Command, CommandHandler, and CommandInvoker in ASP.NET MVC3","body":"<p>I recently saw a new pattern (new to me) in an open source <code>ASP.NET MVC 3</code> project that hase many <code>Command</code>, <code>CommandHandler</code>, and <code>CommandInvoker</code> -with their interfaces- and I can't understand the pattern! Can you tell me what is this pattern's name and where can I learn about it? And what is its benefits please? Thanks in advance.</p>\n\n<p><strong>EDIT:</strong> I'm talking about this project:</p>\n\n<p><a href=\"https://github.com/robashton/RavenGallery/\" rel=\"nofollow\">An image gallery with RavenDB</a></p>\n"},{"tags":["mvc","extjs","extjs4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":12403177,"title":"What ComponentQuery should I use for this example in this.control()?","body":"<p>I have:<img src=\"http://i.stack.imgur.com/TfvDv.jpg\" alt=\"enter image description here\"></p>\n\n<p>1.) What should I type in this.control() for getting the reference to the grid panel?</p>\n\n<p>My plan is, when user double clicks one row, new tab is created. I already have code for creating new tabs but I just need to get reference to the grid panel.</p>\n\n<p>Something like this: </p>\n\n<pre><code>'viewport &gt; westpanel &gt; accordion &gt; gridpanel': {\n   doubleclick: function...\n}\n</code></pre>\n\n<p>2.) Let's say that I gave an ID to the grid panel. How can I get reference in this.control using .get method?</p>\n\n<p>3.) How can I be sure that I've got the right reference? Can I console.log() - it or something like that?</p>\n\n<p>I would know how to do this without MVC but here I need help. :)</p>\n\n<p>Thank you! :)</p>\n"},{"tags":["java","spring","swing","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":126,"score":1,"question_id":12397940,"title":"Spring and MVC proper project structure","body":"<p>I'm developing Swing standalone application using Maven. I try to follow MVC pattern. I'm confused with my project structure. I have something like this:</p>\n\n<pre><code>/src/main/java/myName/appName             \n/src/main/java/myName/appName/model       \n/src/main/java/myName/appName/view\n/src/main/java/myName/appName/controller\n</code></pre>\n\n<p>Now I want to incorporate Spring framework, what makes me place somewhere DAO and BO interfaces and implementations. I have read this article <a href=\"http://www.mkyong.com/spring/maven-spring-hibernate-annotation-mysql-example/\" rel=\"nofollow\">link</a> and the suggested project structure does not suit mine. What crosses my mind is to add this:</p>\n\n<pre><code>/src/main/java/myName/appName/dao\n/src/main/java/myName/appName/bo\n</code></pre>\n\n<p>The content of dao directory would look like this (with Client and Customer classes in model directory):</p>\n\n<pre><code>/src/main/java/myName/appName/dao/ClientDAO.java\n/src/main/java/myName/appName/dao/ClientDAOImpl.java\n/src/main/java/myName/appName/dao/CustomerDAO.java\n/src/main/java/myName/appName/dao/CustomerDAOImpl.java\n</code></pre>\n\n<p>Is this bad? I want to learn good practices.</p>\n"},{"tags":["php","mvc","session","login"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":68,"score":-1,"question_id":12397857,"title":"keep user info throughout the web once logged in. PHP MVC","body":"<p>I do know how to use sessions/cookies. I do keep session and a cookie + token for a user logged in.</p>\n\n<p>I'm using MVC structure (my own) and i have a Login.php controller. I also have User.php class that is a singleton class having only 1 instance. </p>\n\n<p>My base controller gets the instance of User and stores in a variable like this:</p>\n\n<pre><code>   abstract class Controller {\n    private $model;\n    private $user;\n\n    function __construct($model = '') {\n        ..... //some code\n\n        $this-&gt;user = User::getInstance();\n    }\n\n    public function user() {\n        return $this-&gt;user;\n    }\n   }\n</code></pre>\n\n<p>In my login.php i have the following once the user submits form with user name and pass:</p>\n\n<pre><code>function logUserIn() {\n    if (! isset($_POST['UName']) || ! isset($_POST['UPass'])) {\n        $this-&gt;_404();\n    }\n\n    $uname = strtolower($_POST['UName']);\n    $pass = Hash::strongHashMD5($_POST['UPass']);\n    $token = $_POST['token'];\n    $isValid = $this-&gt;model-&gt;userCheck($uname, $pass);\n\n    $res = $this-&gt;validateUser($isValid, $token, $uname);\n\n    if ($res === false) {\n        echo 'User Does Not Exist!';\n    } else if ($res === 'Token_Error') {\n        echo 'Invalid Form Submission';\n    } else if ($res === true) {\n        //update token\n        $this-&gt;model-&gt;updateToken($isValid['ID'], $token, $_SERVER['REMOTE_ADDR']);\n        header(\"Location: ../login\");   \n    }\n    exit;\n}\n</code></pre>\n\n<p>this is my method that validates user</p>\n\n<pre><code>private function validateUser($UInfo, $token, $UName) {\n    if ($UInfo !== false &amp;&amp; isset($UInfo['ID']) &amp;&amp; $UInfo['ID'] &gt; 0) {\n        if ($UInfo['token'] == $token) {\n            return 'Token_Error';\n        } else {\n            $this-&gt;user()-&gt;setValues($UInfo['ID'], $UName, $token);\n            $this-&gt;user()-&gt;setSessions();\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>setsessions() method just sets the session/cookies of that user</p>\n\n<p>Now everytime i want to access to see whether user is logged in or not i have to do it through controller and pass it to anywhere else.</p>\n\n<p>Is there any better way of doing this? Is there any problem with my code in terms of security issues etc...</p>\n\n<p>Any suggestions/advices will be appreciated, thanks guys</p>\n"},{"tags":["c#","mvc","globalization","embedded-resource","resx"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1544,"score":3,"question_id":7997901,"title":"Generating Resx files for MVC","body":"<p>We use resx files for globalization, along with database lookups for things that can be configured (such as tab names, which can be different by product) by our CS staff, and thus aren't known at design-time.</p>\n\n<p>I created a custom tool that reads resx files and intelligently dumps the key/value pairs into a relational database (matching values so we don't have duplicates).</p>\n\n<p>This has been a big help to our business - we don't have to send each resx for translation (and pay for duplicate translations of shared words) and we have a 'gold standard' with all our translations (in the database).</p>\n\n<p>The tool I created also reads the database, picking up the key/value pairs and the translations of each value, and creates text files for each resx file (and each language's translation of the text file) and automates running resgen.exe, a command-line tool that ships with Visual Studio, to compile the resx files from the generated text files.</p>\n\n<p>I don't have any source-control integration, so we have to manually check out the resx files and manually check-in the generated files when using the tool, but this hasn't been a big problem.</p>\n\n<p>My problem is that this method is failing for our new MVC projects: the MVC projects require the resx files to be embedded resources with the Access Modifier of 'public'.</p>\n\n<p>Thusfar, we have been fixing this by hand, which introduces the possibility of human error and adds a non-trivial amount of work.</p>\n\n<p>Is there a way to get resgen.exe to create resource files that are embedded and public?  If not, is there another way I can create resx files that will do so?</p>\n\n<p>Update, additional question:\nThe resx files we generate with this method also raise a warning:</p>\n\n<pre><code>A custom tool 'PublicResXFileCodeGenerator' is associated with file '(resxname)',\nbut the output of the custom tool was not found in the project.\nYou may try re-running the custom tool by right-clicking on the file in the\nSolution Explorer and choosing Run Custom Tool. \n</code></pre>\n\n<p>The tool mentioned is the tool we initially use to create the resx files.  Is there a way I can prevent this warning?</p>\n"},{"tags":["java","mvc","servlets","homepage"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12397885,"title":"Redirect home page to front controller","body":"<p>I've a front controller mapped on an URL pattern of <code>/Controller</code> which is thus available on <code>http://localhost:8080/myproject/Controller</code>. How can I configure my web application so that the homepage on <code>http://localhost:8080/myproject</code> get automatically redirected to it?</p>\n"},{"tags":["java","mvc","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":186,"score":0,"question_id":12397723,"title":"Loading images/css/javascript in a jsp/java ee web application","body":"<p>Today I just had my first class on Java ee and dynamic web project... and I have a question for you.</p>\n\n<p>My teacher asked us to create a controller in an very basic mvc concept. </p>\n\n<p>She gave us some code example and asked us to call a view from the controller. Ok, it works!\nBut then, if I try to add an image <code>&lt;img src=\"images/img.jpg\" /&gt;</code>, I think my controller re-route the folder images/img.jpg and well, my images/img.jpg is a type text in the file headers...</p>\n\n<p>Any help would be appreciated...</p>\n\n<p>Here is my servlet\n<strong>Controller.java</strong></p>\n\n<pre><code>package ca.qc.lacmegantic.ville;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class Controller\n */\n@WebServlet(\"/Controller\")\npublic class Controller extends HttpServlet\n{\nprivate static final long serialVersionUID = 1L;\n\n/**\n * Processes requests for both HTTP &lt;code&gt;GET&lt;/code&gt; and &lt;code&gt;POST&lt;/code&gt;\n * methods.\n * \n * @param request servlet request\n * @param response servlet response\n * @throws ServletException if a servlet-specific error occurs\n * @throws IOException if an I/O error occurs\n */\nprotected void processRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n{\n    String urlCP = request.getRequestURI();\n\n    String url = urlCP.substring(request.getContextPath().length());\n\n    if (url.equals(\"/\") || url.equals(\"\"))\n    {\n        request.getRequestDispatcher(\"WEB-INF/views/view.jsp\").forward(request, response);\n    }\n\n}\n\n/**\n * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse\n *      response)\n */\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n{\n    processRequest(request, response);\n}\n\n/**\n * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse\n *      response)\n */\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n{\n    processRequest(request, response);\n}\n\n}\n</code></pre>\n\n<p>Here is my <strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    version=\"2.5\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Controller&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;ca.qc.lacmegantic.ville.Controller&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Controller&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here is my <strong>view.jsp</strong></p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Hello World!&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Hello World!&lt;/h1&gt;\n&lt;img src=\"images/img.jpg\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Files Structure:</strong>\n<img src=\"http://i.stack.imgur.com/B9nwS.png\" alt=\"Files Structure\"></p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":102,"score":4,"question_id":12394134,"title":"Web MVC: how to structure the Model layer?","body":"<p>I'm going to take the example of a <code>user</code> object.  A user needs to be registered, logged in, logged out, edited (e.g., email change), etc.</p>\n\n<p>So on one hand I have a <code>user</code> object, which includes a variety of class variables (pseudo, email, etc) along with getters and setters and maybe some functions that do not deal with the db.</p>\n\n<p>On the other I have a <code>DAO</code> class which is the object that directly deals with the database through a variety of MySQL / PDO queries (create record, update, retrieve info, etc).</p>\n\n<p>Is there any reason to not have the <code>user</code> object interact directly with the <code>DAO</code> object?  In other words, when the <code>Controller</code> request a database query relating to an existing <code>user</code> instance (e.g., during the registration process), should it simply call a function in <code>user</code> which itself calls a function in <code>DAO</code>, or should there be a layer in between?</p>\n\n<p>I have seen examples where the controller calls a 3rd class to interact with the DAO, and passes a <code>user</code> instance as an arg.  Sometimes instead, this third layer is in charge with creating the <code>user</code> instance and dealing with the <code>DAO</code>.  It seems to me that all the functions used to deal with the <code>DAO</code> could reside inside the <code>user</code> object.  What am I missing?</p>\n"},{"tags":["php","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":12395891,"title":"Integrating Static Content with MVC architecture","body":"<p>I am about to engage in creating a new web site for my company. I am looking to use PHP, as it is a small business and the total site will only have about 40-50 pages at the end. In the interest of learning and best practice, I would looking to use a PHP MVC framework. I have been trying a few out, and see how it would work out when you are serving dynamic content very nicely. What I am not understanding is how you rectify the MVC logic with static content. </p>\n\n<p>By this I mean, how would the MVC pattern deal with a page that is not dynamic, like for instance, a company information page. Is there a controller for each page, that simply returns a view that contains all the HTML and CSS? Does the controller pull header and footer information from other controllers, and then pull the main content from a different view? I guess I am not understanding how that all works out. Could someone ELI noob?</p>\n"},{"tags":["asp.net-mvc","mvc","azure","azure-web-roles"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":145,"score":1,"question_id":12396493,"title":"MVC4 and multiple windows azure web roles","body":"<p>I have 2 web roles in my  MVC4 project and would like to set up the routing such a way that All requests for  www.mysite.com/api /  should be routed roleA and any other requests should be routed to roleB. ( reason for such a setup being we can independently scale the api or the UI role instances , please feel to discredit the idea if needed )\nAlso if I had a third webrole hosted as a subdomain  of mysite.com i.e admin.mysite.com  can I route the requests from  www.mysite.com/admin to admin.mysite.com . If so, is there guidance on how to setup the dev environments.</p>\n"},{"tags":["c#","sql","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12393570,"title":"Get property of dynamic object returned by datacontext.ExecuteQuery","body":"<p>I'm trying to get data from db.</p>\n\n<p>my controller code:</p>\n\n<pre><code>var data = datacontext.executequery&lt;dynamic&gt;(\"select id, name from sometable\");\nreturn View(data);\n</code></pre>\n\n<p>my view code:</p>\n\n<pre><code>@model IEnumerable&lt;dynamic&gt;\n\n@foreach(var item in Model)\n{\n@item.name\n}\n</code></pre>\n\n<p>so when I run it I get error \n'object' does not contain a definition for 'name'</p>\n"},{"tags":["mvc","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12395445,"title":"Send parameters from a view to other in Sencha Touch 2 using a controller","body":"<p>I'm just migrating from Sencha Touch 1.x to Sencha Touch 2 and I can't find a way to pass parameters between views.</p>\n\n<p>Lets say I have to views:\nPlace (a list with all the places)\nPeopleAtPlace (A list of the people for each place)</p>\n\n<p>Now what I need to do is to pass the id of the place that is pressed to the peopleatplace view so it can get the people for that specific view.</p>\n\n<p>I've been reading Sencha's documentation but it's pretty confusing to me. </p>\n\n<p>Could somebody please help me? A code snippet would be great help to me.</p>\n"},{"tags":["asp.net","mvc","namespaces"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":879,"score":5,"question_id":6221990,"title":"Adding namespaces to ASP.NET MVC 3 views","body":"<p>I tried adding namespaces to <code>configuration/system.web/pages/namespaces</code> in the web.config of my ASP.NET MVC 3 application so I could use classes in those namespaces in my views without needing a @using, however this has no effect. How can I add namespaces to my views?</p>\n"},{"tags":["mvc","active-directory","ldap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":519,"score":1,"question_id":5687206,"title":"LDAP DirectorySearcher.sort missing records with not set values","body":"<p>When querying against our AD, we get a full result set on the initial query <code>(samaccounttype=805306368)</code>.  If we then try to sort the query on a field where the value can be <code>&lt;not set&gt;</code> such as <code>givenname</code>, it will only return the records with a value set and skips records without the value.  We have tried using the below presence flag to include both sets but still loose the not set values when sorting:</p>\n\n<pre><code>(|(&amp;(samaccounttype=805306368)(givenName=*))(&amp;(samaccounttype=805306368)(!givenname=*)))\n</code></pre>\n\n<p>Not sure if it is related to how the <code>VirtualListView</code> is handling the results set or if there is another problem.   Has anyone run in to this before and any suggestions on what I'm missing?  Here's the code snip for the <code>ds.virtuallistview</code> sorting. </p>\n\n<pre><code>using (var ds = new DirectorySearcher(de))\n            {\n                ds.Filter = Filter;\n\n                foreach (var p in Properties)\n                {\n                    ds.PropertiesToLoad.Add(p.LDAPName);\n                }\n\n                //get record count\n                ds.PropertyNamesOnly = false;\n                ds.Sort = new SortOption(this.Properties.PrimaryOrderBy.LDAPName, SortDirection.Ascending); //ldap must always return ascending so we can custom sort\n                ds.VirtualListView = new DirectoryVirtualListView(0, 0, 0);\n                foreach(SearchResult s in ds.FindAll()){ /*must enumerate the collection before calling approximate total*/ }\n                Records = ds.VirtualListView.ApproximateTotal;\n                results = ds.FindAll();\n                //Records = results.Count;\n            }\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1469,"score":1,"question_id":5467393,"title":"Add dynamic content to a template in code igniter","body":"<p>I am trying a HTML/CSS file to convert to a template. I asked for help but I didn't receive any suggestions in that post yet I tried to figure out a way to create a template. I am having few glitches in doing that. My controller has main.php file which is the main page of the website, and I have register where the header, footer, and rest remain same except that main content changes when the page loads.</p>\n\n<p>I have the following template in the views folder:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n   \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n   &lt;title&gt;&lt;?= $title ?&gt;&lt;/title&gt;\n\n   &lt;style type=\"text/css\"  &gt;\n       @import url('&lt;?=base_url()?&gt;/includes/front.css');\n       @import url('&lt;?=base_url()?&gt;/images/');\n   &lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n   &lt;div id=\"container\"&gt;\n       &lt;div id=\"header\"&gt;\n            &lt;?= $logo ?&gt; &lt;!--This is an image tag to display the image on the template --&gt;\n            &lt;?= $topnav ?&gt;\n       &lt;/div&gt;\n\n       &lt;div id=\"menubar\"&gt;\n            &lt;?= $menulist ?&gt;\n       &lt;/div&gt;\n\n       &lt;div id=\"maincontent\"&gt;\n           &lt;?= $flashcontent ?&gt;\n           &lt;?= $resources ?&gt;\n           &lt;?= $registerForm ?&gt;\n       &lt;/div&gt;\n\n       &lt;div id=\"footer\"&gt;\n           &lt;div&gt;\n               &lt;?= $footertable1 ?&gt;\n           &lt;/div&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>In the       </p>\n\n<blockquote>\n  <p>div id = maincontent</p>\n</blockquote>\n\n<p>This is the div tag which would be changing when a site loads. In my template I have included &lt;</p>\n\n<pre><code>&lt;?= $flashcontent ?&gt; &lt;?= $resource ?&gt; and  &lt;?= registerForm ?&gt;\n</code></pre>\n\n<p>The flashcontent and resources are supposed to be in the main page and registerForm is supposed to be shown when I click on register in the main page. I have been reading the template user guide in the code igniter but I am unable to understand how to make this dynamic. Please help me in getting over this issue.</p>\n\n<p>This is the template.php in config folder. </p>\n\n<pre><code>$template['active_group'] = 'default';\n$template['default']['template'] = 'template.php';\n$template['default']['regions'] = array(\n   'title',\n   'logo' =&gt; array(\n        'content' =&gt; array(''),\n        'name' =&gt; 'Logo',\n        'wrapper' =&gt; '&lt;img&gt;',\n        'attributes' =&gt; array('id' =&gt; 'logo')\n    ),\n    'topnav' =&gt; array(\n        'content' =&gt; array(),\n        'name' =&gt; 'Topnav',\n        'wrapper' =&gt; '&lt;div&gt;',\n        'attributes' =&gt; array('id' =&gt; 'topnav', 'class' =&gt; 'topnav')\n    ),\n    'menulist' =&gt; array(\n        'content' =&gt; array('&lt;li&gt;\n                            &lt;a href=\"#\"&gt; Home &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; Generator &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; News &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; Forum &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; About &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; Feedback &lt;/a&gt;\n                            &lt;/li&gt;'),\n        'name' =&gt; 'Menulist',\n        'wrapper' =&gt; '&lt;ul&gt;',\n        'attributes' =&gt; array('class' =&gt; 'menulist')\n    ),\n   'flashcontent' =&gt; array(\n       'content' =&gt; array(''),\n       'name' =&gt; 'Flashcontent',\n       'wrapper' =&gt; '&lt;div&gt;',\n       'attributes' =&gt; array('id' =&gt; 'flashcontent')\n   ),\n    'resources' =&gt; array(\n       'content' =&gt; array(''),\n       'name' =&gt; 'Resources',\n       'wrapper' =&gt; '&lt;div&gt;',\n       'attributes' =&gt; array('id' =&gt; 'resources')\n   ),\n    'registerForm' =&gt; array(\n      'content' =&gt; array(),\n        'name' =&gt; 'Registerform',\n        'wrapper' =&gt; '&lt;div&gt;',\n        'attributes' =&gt; array('id' =&gt; 'registerForm')\n    ),\n   'footertable1' =&gt; array(\n       'content' =&gt; array('&lt;ul&gt; \n                            &lt;li&gt; &lt;a href=\"../main\"&gt;Home&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;News &amp; Events&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Forum&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;About us&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Contact us&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Terms of use&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Site map&lt;/a&gt;\n                            &lt;/li&gt;\n                           &lt;/ul&gt;'),\n       'name' =&gt; '',\n       'wrapper' =&gt; '&lt;div&gt;',\n       'attributes' =&gt; array('id' =&gt; 'footertable1')\n   )\n);\n$template['default']['parser'] = 'parser';\n$template['default']['parser_method'] = 'parse';\n$template['default']['parse_template'] = FALSE;\n</code></pre>\n\n<p>Thanks in advance. </p>\n"},{"tags":["ruby-on-rails","mvc","cakephp","design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12380844,"title":"designers and the MVC structure","body":"<p>We got a large CakePHP app on MVC structure. We have a designer going through and redoing a bunch of the pages, but the issue we are having is with them getting through the views.</p>\n\n<p>The two main issues they're having are;</p>\n\n<ul>\n<li><p>Don't know all the views files which go into rendering out a page. So when they view /blog they don't know the layout, elements and main view file. They're used to page.html</p></li>\n<li><p>Trouble with some basic PHP, in that when they look at the blog, in the view they see a foreach loop spitting out title, anchor and except. They find it hard to put in the HTML/css for their 2 column blog layout.</p></li>\n</ul>\n\n<p>So the second point is probably more of a PHP experience issue, but still. How can I get these guys up and running quickly!! Surely RoR and other folk would have this same issue with designers cutting up and implementing designs into the site.</p>\n"},{"tags":["ruby-on-rails","database","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12366601,"title":"Rails: Handling data not found from database","body":"<p>This is probably one of the most basic questions out there but I still thought stackoverflow would be the best way for me to get the logic right.</p>\n\n<p>My simple question is, how do you handle the database query if it does not return anything. Here is my code below;</p>\n\n<pre><code>@tokenSelected=Token.where(:tokenCode =&gt; \"ABCDRRREF\").first\n</code></pre>\n\n<p>And later on when I want to check if the @userSelected.userID is empty, it gives me the error;</p>\n\n<pre><code>&lt;h1&gt;\n  NoMethodError\n    in InitsController#create\n&lt;/h1&gt;\n&lt;pre&gt;undefined method `empty?&amp;#x27; for nil:NilClass&lt;/pre&gt;\n</code></pre>\n\n<p>What can I do to prevent that</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":314,"score":3,"question_id":7965155,"title":"get a list of defined zend routes","body":"<p>so you can add routes in zend framework with Zend Router's addRoute() method...</p>\n\n<p>but what if I want to get a list of all the defined routes? is there a method that I can use to do so? </p>\n"},{"tags":["php","mvc","zend-framework","routing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":186,"score":0,"question_id":8005368,"title":"zend router for index page and paginator","body":"<p>so I'm using zend_router to route my index page to an action other than the index action:</p>\n\n<pre><code>$route = new Zend_Controller_Router_Route(\n                         '/:page',\n                          array(\n                              'action' =&gt; 'not-index',\n                              'controller' =&gt; 'something',\n                              ),\n         );\n</code></pre>\n\n<p>but then I also use the Zend Paginator on that index page which is why I had to set the path to '/:page' since setting it to just '/' will make the links on the paginator stop working (see: <a href=\"http://www.joewebster.co.uk/articles/zend-framework/7-zend-pagination-and-zend-router\" rel=\"nofollow\">http://www.joewebster.co.uk/articles/zend-framework/7-zend-pagination-and-zend-router</a>)</p>\n\n<p>but then if I do this the routing won't even work at all....going to my root domain will instead complain about the lack of index action (though I can go to '/1' and it will redirect properly, but I also want just '/' to redirect to that action)</p>\n\n<p>setting the path to just '/' instead of '/:page' in the router works but once again, the paginator links on that page will break</p>\n\n<p>is there a way to set up the routing using zend router so that I can route the index page to some other action while at the same time have the paginator links work on that index page? </p>\n\n<p>also please stick to the zend router solution...no htaccess or app.ini stuff </p>\n"},{"tags":["php","mvc","zend-framework","url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":8023457,"title":"detecting variable type in zend router variables","body":"<p>so I'm using zend_router to route my index page in my controller to an action other than the index action:</p>\n\n<pre><code>$route = new Zend_Controller_Router_Route(\n                         '/controller/:page',\n                          array(\n                              'action' =&gt; 'not-index',\n                              'controller' =&gt; 'controller',\n                              'page' =&gt; 1,\n                              ),\n         );\n</code></pre>\n\n<p>And the reason why I'm adding :page into the path is because there's pagination in that index and I'd like to have paginator to work even if the user only enters '/controller' into the browser, so it's got to be there (see: <a href=\"http://www.joewebster.co.uk/articles/zend-framework/7-zend-pagination-and-zend-router\" rel=\"nofollow\">http://www.joewebster.co.uk/articles/zend-framework/7-zend-pagination-and-zend-router</a>)...</p>\n\n<p>the problem is....now other actions within the controller will redirect to that page as well and not to the proper action </p>\n\n<p>so suppose I enter '/controller/other-action' to the browser, it goes to 'controller/not-index' with page = other-action instead of 'controller/other-action' due to that routing definition....is there a way to limit the :page in that router definition to integers only, ie. if I enter '/controller/2' then go to 'controller/not-index' with page = 2, and if I enter '/controller/other-action' it'll actually go to 'controller/other-action'</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":8277552,"title":"Set a View variable in PostDispatch method of the Controller","body":"<p>How can I assign a view variable during the postDispatch method of the controller in Zend Framework?</p>\n"},{"tags":[".net","asp.net-mvc","mvc","inotifypropertychanged","partialview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12385470,"title":"asp.net mvc property changed event","body":"<p>I'm a <code>.Net</code> desktop applications developer trying to switch to <code>ASP.Net</code> <code>MVC</code> (3 or 4 doesn't matter). We have a <code>.Net</code> library which notifies any <code>GUI</code> you want to put on this <code>assembly</code> by <code>Property Changed Events</code> (or any other custom event we deemed necessary for that matter).</p>\n\n<p>This might not even be a relevant question, because perhaps it's done totally different in <code>ASP.Net</code> <code>MVC</code>, but how do you update your <code>View</code> in the browser on your client after receiving a <code>Property Changed Event</code> from an assembly on your server? We generate these events ourselves by the way. The assemblies are our own.</p>\n\n<p>I've read about <code>Partial Views</code>, but I need to look into that. Whatever I came across seemed so cumbersome. Because it's really straight forward and simple in desktop development. So I'm starting to wonder if <code>Property Changed Events</code> are the way to go when developing for the web.</p>\n\n<p>Thoughts? Links? Sources? I'm interested.</p>\n\n<p>p.s.: See tags for a further understanding of what I'm going for.</p>\n"},{"tags":["javascript","mvc","events","backbone.js","coffeescript"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12379038,"title":"Backbone model change event only fires once","body":"<p>I have a Backbone model that fires a function upon change.. I want to link that function to a view..</p>\n\n<p>Model: </p>\n\n<pre><code>class App.Models.Tracker extends Backbone.Model\n  urlRoot : '/api/trackers'\n\n  initialize: -&gt;\n    @on('change', @update, this)\n\n\n  update: -&gt;\n    console.log('changed in model')\n    @trigger('update', this);\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>class App.Views.Tracker extends Backbone.View\n  template: JST['trackers/tracker']\n\n  initialize: () -&gt;\n    @model.on(\"update\", @animate, this);\n\n  render: -&gt;\n    $(@el).html(@template(tracker: @model))\n    this\n\n  animate: -&gt;\n    console.log('changed in view')\n    progress = @model.get('progress')\n    console.log(progress)\n</code></pre>\n\n<p>What is happening is that the \"update\" method in model gets called every time when the model changes. But the \"animate\" method in view is only called once, when the model is created.. </p>\n\n<p>What am I getting wrong? </p>\n\n<p><em><strong>EDIT</em></strong></p>\n\n<p>Maybe I am just testing it wrong?? </p>\n\n<pre><code> trackers = new App.Collections.Trackers\n trackers.fetch()\n tracker = trackers.get(333)\n tracker.set({progress : 70})\n</code></pre>\n\n<p>333 is the id of the tracker created... But the above does not work.. JSFiddle indeed works fine, which is confusing </p>\n"},{"tags":["performance","mvc","session"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":9957477,"title":"ASP.Net MVC: Store data in OnActionExecuting and retrieve it in OnActionExecuted in a controller","body":"<p>I want to add some code to log the time spent in each action call in a controller. I saw a suggestion of creating a Stopwatch inside the OnActionExecuting method of the controller and stoping it OnActionExecuted, which seems fine to me.</p>\n\n<p>What I want to know is where do I have to add the started Stopwatch object so it can be read back once OnActionExecuted is called. \nI was thinking on adding it to the Session, but I'm guessing this might have issues if there are simultaneous requests from the same session.</p>\n\n<p>What is the best place to store this data?</p>\n\n<p>Thanks</p>\n"},{"tags":["ruby-on-rails","mvc","authentication","models","mass-assignment"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":2,"view_count":41,"score":-2,"question_id":12381621,"title":"In rails how to \"automatically\" save a user_id for say a article (which has a user_id column) being posted by an authenticated user?","body":"<p>I have an article table with <code>title, text, and user_id</code></p>\n\n<p>In the create action for the article controller, just before saving the article using [:params] from the browser, I added this line:</p>\n\n<pre><code>article.user_id = session[:user_id]\narticle.save\n</code></pre>\n\n<p>Now since I guess this is business logic, I think it should happen into the article model, which would make sure that data is saved by the author who posted it, but I don't know how to work with session in the model.</p>\n\n<p>Can anyone help ? Or maybe advice best practice to deal with this situation ? </p>\n\n<p>Thanks</p>\n"},{"tags":["php","mvc","oop"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":11087195,"title":"Call to a member function on a non-object from another class","body":"<p>I am learning oop and trying to implement php standards PSR-0 &amp; PSR-1 along the way. I have started by creating a small MVC framework based on Swiftlet.</p>\n\n<p>I am trying to call functions from my base View controller within the Controller that I am calling from the url and I get 'Call to a member function set() on a non-object in'.</p>\n\n<p>All the classes load ok. So in my controller I call $this->view->set('helloWorld', 'Hello world!'); but I get an error. I had some trouble trying to get the namespace structure right so maybe this is the cause?</p>\n\n<p>Here is the file structure:</p>\n\n<p>index.php</p>\n\n<p>lib/bootstrap.php</p>\n\n<p>lib/view.php</p>\n\n<p>lib/controller.php</p>\n\n<p>app/controllers/index.php</p>\n\n<p>and here is the code for each:</p>\n\n<p>index.php</p>\n\n<pre><code>&lt;?php\n\nnamespace MVC;\n\n    // Bootstrap the application\n    require 'lib/Bootstrap.php';\n\n    $app = new lib\\Bootstrap;\n\n    spl_autoload_register(array($app, 'autoload'));\n\n    $app-&gt;run();\n    $app-&gt;serve();\n</code></pre>\n\n<p>bootstrap.php</p>\n\n<pre><code>namespace MVC\\lib;\n\nclass Bootstrap \n{\n    protected\n        $action     = 'index',\n        $controller,\n        $hooks      = array(),\n        $view\n        ;\n\n    /**\n     * Run the application\n     */\n\n    function run() \n    {\n               ... Code that gets controller and the action form the url\n\n        $this-&gt;view = new \\lib\\View($this, strtolower($controllerName));\n\n        // Instantiate the controller\n        $controllerName = 'app\\Controllers\\\\' . basename($controllerName);\n\n        $this-&gt;controller = new $controllerName();                      \n\n        // Call the controller action\n        $this-&gt;registerHook('actionBefore');\n\n        if ( method_exists($this-&gt;controller, $this-&gt;action) ) {\n            $method = new \\ReflectionMethod($this-&gt;controller, $this-&gt;action);\n\n            if ( $method-&gt;isPublic() &amp;&amp; !$method-&gt;isFinal() &amp;&amp; !$method-&gt;isConstructor() ) {\n                $this-&gt;controller-&gt;{$this-&gt;action}();\n            } else {\n                $this-&gt;controller-&gt;notImplemented();\n            }\n        } else {\n            $this-&gt;controller-&gt;notImplemented();\n        }\n\n        return array($this-&gt;view, $this-&gt;controller);\n\n    }\n\n\n&lt;?php\n\nnamespace MVC\\lib;\n\nclass Bootstrap \n{\n    protected\n        $action     = 'index',\n        $args       = array(),\n        $config     = array(),\n        $controller,\n        $hooks      = array(),\n        $plugins    = array(),\n        $rootPath   = '/',\n        $singletons = array(),\n        $view\n        ;\n\n    /**\n     * Run the application\n     */\n\n    function run() \n    {\n        // Determine the client-side path to root\n        if ( !empty($_SERVER['REQUEST_URI']) ) {\n            $this-&gt;rootPath = preg_replace('/(index\\.php)?(\\?.*)?$/', '', $_SERVER['REQUEST_URI']);\n\n            if ( !empty($_GET['route']) ) {\n                $this-&gt;rootPath = preg_replace('/' . preg_quote($_GET['route'], '/') . '$/', '', $this-&gt;rootPath);\n            }\n        }\n\n        // Extract controller name, view name, action name and arguments from URL\n        $controllerName = 'Index';\n\n        if ( !empty($_GET['route']) ) {\n            $this-&gt;args = explode('/', $_GET['route']);\n\n            if ( $this-&gt;args ) {\n                $controllerName = str_replace(' ', '/', ucwords(str_replace('_', ' ', str_replace('-', '', array_shift($this-&gt;args)))));\n            }\n\n            if ( $action = $this-&gt;args ? array_shift($this-&gt;args) : '' ) {\n                $this-&gt;action = str_replace('-', '', $action);\n            }\n        }\n\n        if ( !is_file('app/Controllers/'. $controllerName . '.php') ) {\n            $controllerName = 'Error404';\n        }\n\n        $this-&gt;view = new \\lib\\View($this, strtolower($controllerName));\n\n        // Instantiate the controller\n        $controllerName = 'app\\Controllers\\\\' . basename($controllerName);\n\n        $this-&gt;controller = new $controllerName();                      \n\n        // Call the controller action\n        $this-&gt;registerHook('actionBefore');\n\n        if ( method_exists($this-&gt;controller, $this-&gt;action) ) {\n            $method = new \\ReflectionMethod($this-&gt;controller, $this-&gt;action);\n\n            if ( $method-&gt;isPublic() &amp;&amp; !$method-&gt;isFinal() &amp;&amp; !$method-&gt;isConstructor() ) {\n                $this-&gt;controller-&gt;{$this-&gt;action}();\n            } else {\n                $this-&gt;controller-&gt;notImplemented();\n            }\n        } else {\n            $this-&gt;controller-&gt;notImplemented();\n        }\n\n        $this-&gt;registerHook('actionAfter');\n\n        return array($this-&gt;view, $this-&gt;controller);\n\n    }\n\n&lt;?php\n\nnamespace MVC\\lib;\n\nclass Bootstrap \n{\n    protected\n        $action     = 'index',\n        $args       = array(),\n        $config     = array(),\n        $controller,\n        $hooks      = array(),\n        $plugins    = array(),\n        $rootPath   = '/',\n        $singletons = array(),\n        $view\n        ;\n\n    /**\n     * Run the application\n     */\n\n    function run() \n    {\n        // Determine the client-side path to root\n        if ( !empty($_SERVER['REQUEST_URI']) ) {\n            $this-&gt;rootPath = preg_replace('/(index\\.php)?(\\?.*)?$/', '', $_SERVER['REQUEST_URI']);\n\n            if ( !empty($_GET['route']) ) {\n                $this-&gt;rootPath = preg_replace('/' . preg_quote($_GET['route'], '/') . '$/', '', $this-&gt;rootPath);\n            }\n        }\n\n        // Extract controller name, view name, action name and arguments from URL\n        $controllerName = 'Index';\n\n        if ( !empty($_GET['route']) ) {\n            $this-&gt;args = explode('/', $_GET['route']);\n\n            if ( $this-&gt;args ) {\n                $controllerName = str_replace(' ', '/', ucwords(str_replace('_', ' ', str_replace('-', '', array_shift($this-&gt;args)))));\n            }\n\n            if ( $action = $this-&gt;args ? array_shift($this-&gt;args) : '' ) {\n                $this-&gt;action = str_replace('-', '', $action);\n            }\n        }\n\n        if ( !is_file('app/Controllers/'. $controllerName . '.php') ) {\n            $controllerName = 'Error404';\n        }\n\n        $this-&gt;view = new \\lib\\View($this, strtolower($controllerName));\n\n        // Instantiate the controller\n        $controllerName = 'app\\Controllers\\\\' . basename($controllerName);\n\n        $this-&gt;controller = new $controllerName();                      \n\n        // Call the controller action\n        $this-&gt;registerHook('actionBefore');\n\n        if ( method_exists($this-&gt;controller, $this-&gt;action) ) {\n            $method = new \\ReflectionMethod($this-&gt;controller, $this-&gt;action);\n\n            if ( $method-&gt;isPublic() &amp;&amp; !$method-&gt;isFinal() &amp;&amp; !$method-&gt;isConstructor() ) {\n                $this-&gt;controller-&gt;{$this-&gt;action}();\n            } else {\n                $this-&gt;controller-&gt;notImplemented();\n            }\n        } else {\n            $this-&gt;controller-&gt;notImplemented();\n        }\n\n        $this-&gt;registerHook('actionAfter');\n\n        return array($this-&gt;view, $this-&gt;controller);\n\n    }\n</code></pre>\n\n<p>lib/view.php</p>\n\n<pre><code>namespace lib;\n\nclass View \n{\n    protected\n        $app,\n        $variables = array()\n        ;\n\n    public\n        $name\n        ;\n\n    /**\n     * Constructor\n     * @param object $app\n     * @param string $name\n     */\n    public function __construct($app, $name)\n    {\n        $this-&gt;app  = $app;\n        $this-&gt;name = $name;\n    }\n\n\n    /**\n     * Set a view variable\n     * @param string $variable\n     * @param mixed $value\n     */\n    public function set($variable, $value = null)\n    {\n        $this-&gt;variables[$variable] = $value;\n    }\n</code></pre>\n\n<p>and finally app/controllers/index.php</p>\n\n<pre><code>namespace app\\Controllers;\n\nclass index extends \\lib\\Controller\n\n{\n\n    public function test()\n\n    {\n           // This gets the error\n                   $this-&gt;view-&gt;set('helloWorld', 'Hello world!');  \n    }\n\n}\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","nhibernate","design-patterns","architecture"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":12378458,"title":"Having Repositories references in MVC controllers","body":"<p>I am working on enterprise application using MVC, Nhibernate and IOC container.</p>\n\n<p>I three tiers:</p>\n\n<p>DAL - Nhibernate Data Repositories</p>\n\n<pre><code>public class CustomerRepository : Repository&lt;int&gt;,ICustomerRepository\n{\n    public CustomerRepository(IUnitOfWork unitOfWork)\n        : base(unitOfWork)\n    {\n\n    }\n}\n</code></pre>\n\n<p>BLL - Business Layer</p>\n\n<pre><code>public class CustomerManager\n{\n    private readonly ICustomerRepository _repository;\n    public CustomerManager(ICustomerRepository repository)\n    {\n        _repository = repository;\n    }\n    public IList&lt;Customer&gt; GetAll()\n    {\n        return _repository.GetAll&lt;Customer&gt;();\n    }\n}\n</code></pre>\n\n<p>Presentation - MVC controller</p>\n\n<pre><code>private readonly IUnitOfWork _unitOfWork;\nprivate readonly ICustomerRepository _repository;\nprivate readonly CustomerManager _manager;\n\npublic HomeController(IUnitOfWork unitOfWork, ICustomerRepository repository)\n    {\n        _unitOfWork = unitOfWork;\n        _repository = repository;\n        _manager = new CustomerManager(_repository);\n    }\n</code></pre>\n\n<p>I am using IOC container to register unit of work and CustomerRepository objects. The IOC container is working fine.</p>\n\n<p>What is bugging me about this solution is that I have CustomerRepository reference in the controller. Is this architecture fine or there is a better way to implement this?</p>\n"},{"tags":["iphone","ios","mvc","uiviewcontroller","modalviewcontroller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12377305,"title":"MVC consistency, present a viewController from the model","body":"<p>I have a viewController I've built in storyboard. I also have a NSObject Subclass which acts as my model, which sends and listens for API requests and responses. When a method fires in my model, I want to present a modal View of my viewController from whatever view happens to be visible at the time.</p>\n\n<p>An example would be if my API hears \"show this view\" I want to show viewController regardless of what view is being shown.</p>\n\n<p>Conceptually, how does one do this?</p>\n\n<p>EDIT: I don't know which view controller will be showing when I want to present my modal viewController. Also, I need to pass params from my model to the modalVC when it's presented.</p>\n"},{"tags":["php","mvc","view","business-logic"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12377625,"title":"Unavoidable php logic in view (MVC) Inserting a product and showing a message","body":"<p>Basically I have an html form for inserting a product. The field names, as well as the $_POST vars, are initialized in my Product class. The contructor is \"listening\" for the submit button. When the user submits the form, the object's state changes to let's say \"Ready\", which means its attributes are initialized and ready to be inserted into the database.</p>\n\n<p>Then I need to return a message depending on the status of insert (Sucess or Failure), If sucess i'll print something like \"Product Inserted Successfully\", if it fails: \"Null fields detected\".</p>\n\n<p>My question is if I'm allowed to put this kind of logic in the view? Like this:</p>\n\n<pre><code>&lt;?php $myproduct = new Product(); ?&gt;\n\n&lt;form&gt;\n&lt;!-- Fields --&gt;\n&lt;/form&gt;\n\n&lt;?php\nif ($myproduct-&gt;ready()) :\n    if ($myproduct-&gt;insert()) : ?&gt;\n        &lt;p&gt;Product inserted successfully&lt;/p&gt;\n&lt;?php\n    else : ?&gt;\n        &lt;p&gt;Null fields detected&lt;/p&gt;\n&lt;?php\n    endif;\nendif; ?&gt;\n</code></pre>\n\n<p>I really can't think of a simpler way, since I really need to show the message depending on the insert() return status. </p>\n\n<p>So is it allowed in the MVC pattern to mix that kind of logic in the view? I'm not exposing any kind of business logic, just checking the object's status.</p>\n"},{"tags":["oop","mvc","design-patterns","visitor","visitor-pattern"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12373392,"title":"Visitor Pattern - one more implementation","body":"<p>I have some simple app, that I have implemented with design patterns. On the way I have implemented it using MVC separation.</p>\n\n<p>I have View - MainForm class, Controller - MainController class.</p>\n\n<p>Controller is a singleton, so MainForm accesses it when it needs to.\nMainController has as a IMainFormView interface as a composition.</p>\n\n<p>MainForm class implements IMainFormView.</p>\n\n<p>So, when user clicks some button, then MainForm passes some request to MainController, that computes something and performs callback on IMainFormView member to update the MainForm.</p>\n\n<p>Is there Visitor pattern: IMainFormView- IVisitor and MainForm - Visitor?</p>\n"},{"tags":["java","swing","mvc","observer-pattern"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":170,"score":1,"question_id":12332315,"title":"MVC - Observer/Observable pattern in Java Swing","body":"<p>I am trying to build a Swing user interface based on MVC and have a couple of questions on the topic. The best way of asking my questions would be with the help of a simple example.</p>\n\n<p>Let's say that we have a JDialog with one JButton and 3 JTextFields. When that button is pressed I want this JDialog to close and another one to open that requires the data from the 3 JTextFields.</p>\n\n<p>The easy way of doing this (going for just snippets of code, no need to annoy you too much) is:</p>\n\n<pre><code>myButton.addMouseListener(new MouseAdapter(){\n\n    @Override\n    public void mouseClicked(MouseEvent evt){\n        firstFrame.setVisible(false);\n        secondFrame.setData(jTextField1.getText(),jTextField2.getText(),jTextField3.getText());//just sending the data to the new window, would be this or something similar\n        secondFrame.setVisible(true);\n        }});\n</code></pre>\n\n<p>Or something like that.</p>\n\n<p>First Question: If I don't use an anonymous inner class but decide to use a seperate class for my Listener how would I pass the data from the 3 JTextFields to my mouseListener class? Are there any alternatives other than keeping a reference of the view in the Listener class?</p>\n\n<p>Carrying on, given the MVC pattern:</p>\n\n<p>Second Question: I guess that it makes sense the listener (controller according to MVC) to call another window without the model getting involved, that it's job I guess. But the data that need to pass from one window to the next one (the data from the 3JTextFields) shouldn't those go through the model ? Like having the first window save that data in the model, and then when the second one needs them request them from the model.</p>\n\n<p>Third Question: I was considering of using the Observer/Observable pattern. How would that be used in this example to open the last window? I mean since (I think) the Controller is the class that opens the second window, would that mean that the Listener would have to be Observed and the second window would have to be an Observer so that the Listener would say </p>\n\n<pre><code> notifyObservers(\"openSecondWindow\");\n</code></pre>\n\n<p>and then the second window would see that and open itself?</p>\n\n<p>Finally: I heard that a PropertyChangeListener could work as well, and that it is sometimes preffered over the Observer/Observable Pattern. What are your thoughts on this, especially regarding my example.</p>\n\n<p>I am confused..</p>\n\n<p>Thank you for your time.</p>\n"},{"tags":["php","mvc","frameworks","dry"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":11032540,"title":"DRY MVC view/controller separation","body":"<p>I have a custom MVC PHP framework that has a router class, which calls a controller, which uses a model, then the controller presents the view, etc etc.</p>\n\n<p>My problem is that I can't figure out technically how to allow variables to pass between the controller and the view, semantically. I could do a quick-and-dirty fix, but what I want to have is this for a controller:</p>\n\n<pre><code>class IndexController extends Controller{\n    var $name = \"John\"; // instance variable\n}\n</code></pre>\n\n<p>And have this for a view:</p>\n\n<pre><code>&lt;p&gt; &lt;?=$name?&gt; &lt;/p&gt;\n</code></pre>\n\n<p>My question is this:</p>\n\n<ol>\n<li>How can I create a Controller->render() function, or something similar, that allows the view to access instance variables from the controller? and,</li>\n<li>How can I do this without doing klutzy things like <code>$data['view']['name'] = \"John\";</code> or having to write ten lines of code by default for any new controller I make. I want to do this so it's as DRY as possible.</li>\n</ol>\n\n<p>Thanks.</p>\n\n<h3>Edit: FabioCosta's solution</h3>\n\n<p>I'm not sure I understand, so far I have my base controller like this:</p>\n\n<pre><code>&lt;?php\n    class Controller{\n        public function __get($key){\n            if(isset($this-&gt;$$key)) return $this-&gt;$$key;\n        }\n    }\n?&gt;\n</code></pre>\n\n<p>My base view class looks like this:</p>\n\n<pre><code>&lt;?php\n    class View{\n         public $controller;\n         public function render(){\n         $this-&gt;controller = $this;\n    }\n?&gt;\n</code></pre>\n\n<p>And I initialize from the router like this:</p>\n\n<pre><code>&lt;?php\n    $controller = new IndexController();\n    $view = new IndexView();\n    $view-&gt;render();\n?&gt;\n</code></pre>\n\n<p>However, this doesn't work, and I know I'm doing something wrong.</p>\n"},{"tags":["python","mvc","frameworks","lightweight"],"answer_count":19,"favorite_count":28,"up_vote_count":41,"down_vote_count":0,"view_count":25535,"score":41,"question_id":68986,"title":"What's a good lightweight Python MVC framework?","body":"<p>I know there are a ton of Python frameworks out there. Can you guys point me in the right direction? My primary concern is simplicity, I don't need a lot of extraneous features.\nHere are a couple of other things that I'd want (or don't want):</p>\n\n<ul>\n<li>don't care for ORM, just want it to work with MySQL</li>\n<li>has configurable routes</li>\n<li>has support for layouts</li>\n</ul>\n"},{"tags":["python","mvc","tkinter","infinite-loop","publish-subscribe"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12368868,"title":"Infinite loop in MVC pattern","body":"<p>A simplified example in Python:</p>\n\n<pre><code>import Tkinter as Tk\nfrom pubsub import pub\n\nclass M(object):\n    def __init__(self, initial_value):\n        self._x = initial_value\n\n    def get_x(self):\n        return self._x\n    def set_x(self, value):\n        self._x = value\n        pub.sendMessage('x', self._x)  # publish the new value of x\n\nclass VC(object):\n    def __init__(self):\n        self.model = M('hello')\n\n        self.root = Tk.Tk()\n        self.var = Tk.StringVar(master=self.root, value=self.model.get_x())\n        Tk.Entry(master=self.root, textvariable=self.var).pack()\n        self.var.trace('w', lambda *args: self.model.set_x(self.var.get()))  # when user types into entry, update model\n        pub.subscribe(self.var.set, 'x')  # when model changes, update the contents of entry\n        self.root.mainloop()\n</code></pre>\n\n<p>The three lines on which I have written comments are the communication between the model and the view/controller (Tkinter is carrying out both roles). But this is an infinite loop: when the model is updated, the pub.sendMessage line updates the contents of the on-screen box, then the trace on var updates the model, which updates the box...</p>\n\n<p>This must be a common problem. How is it usually avoided? The only solution I can think of is to add <code>if value != self._x:</code> in the setter, but that seems like a bit of a hack and not a general solution.</p>\n"},{"tags":["c#","asp.net","mvc","asp.net-mvc-3","poco"],"answer_count":7,"favorite_count":8,"up_vote_count":16,"down_vote_count":2,"view_count":1302,"score":14,"question_id":5807669,"title":"MVC 3 - How is this ever going to work?","body":"<p>I have made this post over a year ago, and I think it makes sense to update it as it's getting quite a few views. </p>\n\n<p>I'm either missing something out or Microsoft has really messed up MVC. I worked on Java MVC projects and they were clean and simple. This is however a complete mess IMO. Examples online such as NerdDinner and projects discussed on ASP.Net are too basic, hence why they \"simply\" work. Excuse if this sounds negative, but this is my experience so far.</p>\n\n<p>I have a repository and a service that speaks to the repository. Controllers call service. </p>\n\n<p>My data layer is NOT persistence independent, as the classes were generated by SQL metal. Because of this I have a lot of unnecessary functionality. Ideally I'd like to have POCO, but I didn't find a good way to achieve this yet. </p>\n\n<p>*<em>Update: Of course Microsoft hasn't messed anything up - I did. I didn't fully understand the tools that were at my disposal. The major flaw in what I have done, was that I have chosen a wrong technology for persisting my entities. LINQ to SQL works well in stateful applications as the data context can be easily tracked. However, this is not a case in stateless context. What would be the right choice? Entity Framework code first or code only work pretty well, but what's more importantly, is that it shouldn't matter. MVC, or front end applications must should not aware of how data is persisted.  *</em></p>\n\n<p>When creating entites I can use object binding:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(Customer c)\n{\n    // Persistance logic and return view\n}    \n</code></pre>\n\n<p>This works great, MVC does some binding behind the scene and everything is \"jolly good\". </p>\n\n<p><strong>It wasn't \"Jolly Good\". Customer was a domain model, and what was worse, it was dependent on persistence medium, because it was generated by SQL metal. What I would do now, is design my domain model, which would be independent of data storage or presentation layers. I would then create view model from my domain model and use that instead.</strong></p>\n\n<p>As soon as I'd like to do some more complex, e.g. - save Order which is linked to the customer everything seems to break:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult Create(Order o)\n    {\n        // Persistance logic and return view\n    }\n</code></pre>\n\n<p>To persist an order I need Customer or at least CustomerId. CustomerId was present in the view, but by the time it has got to Create method, it has lost CustomerId. I don't fancy sitting around debugging MVC code as I won't be able to change it in a hosting envrionment either way.</p>\n\n<p><strong>Ok, a bit of moaning here, sorry. What I would do now, is create a view model called NewOrder, or SaveOrder, or EditOrder depending on what I'm trying to achieve. This view model would contain all the properties that I'm interested in. Out-of-the-box auto binding, as the name implies, will bind submitted values and nothing will be lost. If I want custom behaviour, then I can implement my own \"binding\" and it will do the job.</strong></p>\n\n<p>Alternative is to use FormCollection:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(FormCollection collection)\n{\n   // Here I use the \"magic\" UpdateModel method which sometimes works and sometimes doesn't, at least for LINQ Entities.               \n}\n</code></pre>\n\n<p>This is used in books and tutorials, but I don't see a point in a method which has an alternative: TryUpdateModel - if this crashes or model is invalid, it attempts to update it either way. How can you be certain that this is going to work?</p>\n\n<p><strong>Autobinding with view models will work the most of the time. If it doesn't, then you can override it. How do you know it will always work? You unit test it and you sleep well.</strong></p>\n\n<p>Another approach that I have tried is using ViewModel - wrapper objects with validation rules. This sounds like a good idea, except that I don't want to add annotations to Entity classes. This approach is great for displaying the data, but what do you do when it comes to writing data? </p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(CustomViewWrapper submittedObject)\n{\n    // Here I'd have to manually iterate through fields in submittedObject, map it to my Entities, and then, eventually, submit it to the service/repository.\n}    \n</code></pre>\n\n<p>** View model is a good way forward. There would have to be some mapping code from view model to the domain model, which can then be passed to the relevant service. This is not a correct way, but it's one way of doing it. Auto mapping tools are you best friends and you should find the one that suits your requirements, otherwise you'll be writing tons of boilerplate code.**</p>\n\n<p>Am I missing something out or is this the way Microsoft MVC3 should work? I don't see how this is simplifying things, especiialy in comparisson to Java MVC.</p>\n\n<p>I'm sorry if this sounds negative, but this has been my experience so far. I appreciate the fact that the framework is constantly being improved, methods like UpdateModel get introduced, but where is the documentation? Maybe it's time to stop and think for a little bit? I prefer my code to be consistent throughout, but with what I have seen so far, I have no confidence whatsoever that this is a right way forward.</p>\n\n<p><strong>I love the framework. There is so much to learn and it's not a lot more exciting then it has ever been. Should probably make another post regarding web forms. I hope this is helpful.</strong></p>\n"},{"tags":["java","android","mvc"],"answer_count":14,"favorite_count":53,"up_vote_count":86,"down_vote_count":0,"view_count":33663,"score":86,"question_id":2925054,"title":"MVC pattern in Android?","body":"<p>Is it possible to implement the Model-View-Controller pattern in Java for Android? Or is it already implemented through Activities? Or is there a better way to implement the MVC pattern for Android?</p>\n"},{"tags":["asp.net-mvc","mvc","design-patterns","web-applications","post-redirect-get"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":141,"score":3,"question_id":12338704,"title":"ASP.NET MVC: post-redirect-get pattern, with two overloaded action methods","body":"<p>Is it possible to implement post-redirect-get pattern, with two overloaded action methods (One for GET action and the other for POST action) in <a href=\"/questions/tagged/asp.net-mvc\" class=\"post-tag\" title=\"show questions tagged 'asp.net-mvc'\" rel=\"tag\">asp.net-mvc</a>.</p>\n\n<p>In all of the MVC post-redirect-get pattern samples, I have seen three different action methods for the post-redirect-get process (corresponding to Initial Get, Post, and the Redirection Get), each having different names. Is this really required to have minimum three action methods with different names, in <a href=\"/questions/tagged/asp.net-mvc\" class=\"post-tag\" title=\"show questions tagged 'asp.net-mvc'\" rel=\"tag\">asp.net-mvc</a>?</p>\n\n<p>For Eg: (Does the code shown below, follows Post-Redirect-Get pattern?)</p>\n\n<pre><code>public class SomeController : Controller\n{\n    // GET: /SomeIndex/\n    [HttpGet]\n    public ActionResult Index(int id)\n    {\n        SomeIndexViewModel vm = new SomeIndexViewModel(id) { myid = id };\n        //Do some processing here\n        return View(vm);\n    }\n\n    // POST: /SomeIndex/\n    [HttpPost]\n    public ActionResult Index(SomeIndexViewModel vm)\n    {\n        bool validationsuccess = false;\n        //validate\n        if (validationsuccess)\n            return RedirectToAction(\"Index\", new {id=1234 });\n        else\n            return View(vm);\n        }\n    }\n}\n</code></pre>\n\n<p>Thank you for your responses.</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","automapper","automapping"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12365924,"title":"Change mapping rules for view model AutoMapper","body":"<p>I have a model</p>\n\n<pre><code>public class Product : BaseEntity\n    {\n        private string _name;\n\n        public string Name\n        {\n            get { return _name; }\n            private set{_name = value;}\n        }\n\n        public decimal Price { get; set; }\n        public double Weight { get; set; }\n        public double Width { get; set; }\n        public double Height { get; set; }\n        public double Depth { get; set; }\n        public DateTime DateAdded { get; set; }\n        ...\n        public string GeneralInfo {get{//some get logic}...}\n}\n</code></pre>\n\n<p>and a View model:</p>\n\n<pre><code>public sealed class ProductDetailsModel\n    {\n        public int Id { get; set; }\n        public string Name { get; set; }\n        public decimal Price { get; set; }\n        public double Weight { get; set; }\n        public double Width { get; set; }\n        public double Height { get; set; }\n        public double Depth { get; set; }\n        ...\n        public string GeneralInfo {get;set;}\n}\n</code></pre>\n\n<p>and controller:</p>\n\n<pre><code>public class ProductController : Controller\n{\n  ...\n\npublic ActionResult Details(int id)\n        {\n            var product = _productRepository.GetProduct(id);\n            var productViewModel = Mapper.Map&lt;ProductDetailsModel&gt;(product);\n            return View(productViewModel);\n        }\n  ...\n}\n</code></pre>\n\n<p>everything works great, BUT... I have some get logic for product model general info property, which gets this general info from database, and sometimes, when product doesn't have general info, this property returns null. What I need is to generate alternative general info from available properties such as With, Height, etc. Something like:</p>\n\n<pre><code>private string GenerateGeneralInfoFromProductProperties()\n        {\n            var generalInfoStringBuilder = new StringBuilder();\n            generalInfoStringBuilder.Append(@\"&lt;b&gt;Width: &lt;/b&gt;\").Append(Width).Append(\"&lt;/br&gt;\");\n            generalInfoStringBuilder.Append(@\"&lt;b&gt;Weight: &lt;/b&gt;\").Append(Weight).Append(\"&lt;/br&gt;\");\n            ...\n            return generalInfoStringBuilder.ToString();\n        }\n</code></pre>\n\n<p>If I add this logic to product model ...</p>\n\n<pre><code>public class Product : BaseEntity\n{\n    ...\n    public string GeneralInfo\n        {\n            get\n            {\n                var gInfo = getGeneralInfoFromBD();\n                if (gInfo==null) \n                     gInfo = GenerateGeneralInfoFromProductProperties();\n                return gInfo;\n            }\n            set { SetPropertyValue(ProductPropertyType.GeneralInfo, value); }\n        }\n}\n</code></pre>\n\n<p>Everything works fine, BUT it would be wrong and illogical, because I have a view model for representation of product details, so I want to add this logic to view model, but my view model instance is created by mapper, Product view model has no constructors to pass product instance to get it's general info, because, as I said, it has no need in constructor. How can I add this \"general info if null\" replace logic to mapper, or view model?</p>\n"},{"tags":["ruby-on-rails","mvc","select","crud"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12365716,"title":"Rails: Where clause doesn't work in any condition","body":"<p>I'm about to lose my mind due to a simple Rails <b>where</b> query. I simply cannot understand why it does work like 10 lines ago and does not after it. I could not figure out what might be causing the problem</p>\n\n<pre><code>@userID = Token.where(:tokenCode =&gt; @tokenReceived)\n  #@init.tokenCode=@tokenReceived+\"1\" #randomize algorithm required!\n  @init.tokenCode=@codeGenerated=generate_activation_code()\n  if @userID.nil?\n    @newToken=Token.new\n    @newToken.tokenCode=@codeGenerated\n  else\n    @tokenToAdd = \"12\"\n    @newToken=Token.where(:userID =&gt; \"1\")\n    #if @newToken.nil?\n      @newToken.tokenCode=\"12\"\n    #end\n  end\n  #@newToken.save  \n  @init.save\n</code></pre>\n\n<p>When I make a successful JSON request to 'http://localhost:3000/inits.json' it gives me a page with tons of erros but I think the main error among those are:</p>\n\n<pre><code>&lt;h1&gt;\n  NoMethodError\n    in InitsController#create\n&lt;/h1&gt;\n&lt;pre&gt;undefined method `tokenCode=&amp;#x27; for #&amp;lt;ActiveRecord::Relation:0x007fc43cb40b88&amp;gt;&lt;/pre&gt;\n</code></pre>\n\n<p>What could be the reason? Am I writing the where clause all wrong?</p>\n\n<p><b>Edit: </b>When I activate the if clause it works. I simply believe the @newToken object is null, however it is almost impossible for me to detect why. There is a data in my Token table with <b>userID</b> 1.</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":73,"score":-1,"question_id":12365112,"title":"passing variable from Controller to View","body":"<p>I have a problem, Ive been making my own MVC app but there seems to be a problen in passing variables between model and controller. Output from controller is a single variable containing some json format data and it looks simple.</p>\n\n<p>Controller</p>\n\n<pre><code>&lt;?php \n\nclass controllerLib \n{\n     function __construct() \n     {\n            $this-&gt;view = new view();\n     }\n\n     public function getModel($model) \n     {\n            $modelName = $model.\"Model\"; \n            $this-&gt;model=new $modelName();\n     }\n}\n\n class controller extends controllerLib\n {\n     function __construct()\n     {\n            parent::__construct();\n     } \n\n     public function addresses($arg = false) \n     {\n            echo'Addresses '.$arg.'&lt;br /&gt;';\n\n            $this-&gt;view-&gt;render('addressesView');\n\n            $this-&gt;view-&gt;showAddresses = $this-&gt;model-&gt;getAddresses(); \n     }\n }\n\n ?&gt;\n</code></pre>\n\n<p>View</p>\n\n<pre><code> &lt;?php \n\n class view\n {\n    function __construct()\n    {\n    }\n\n    public function render($plik)\n    {\n        $render = new $plik();\n    }\n }\n\n class addressesView extends view\n {\n    public $showAddresses;\n\n    function __construct()\n    {\n        parent::__construct();\n\n        require 'view/head.php';\n\n        $result = $this-&gt;showAddresses;\n\n\n        require 'view/foot.php';\n    }\n }\n\n\n ?&gt;\n</code></pre>\n\n<p>Now problem is that $this->showAddresses does not pass to view and im stuck.</p>\n"},{"tags":["jquery","image","mvc","slider"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12363984,"title":"Troubleshooting with JQuery image slider","body":"<p>I'm trying to make a basic image slider in jquery, tried following code:</p>\n\n<pre><code>&lt;div id=\"Photos\"&gt;\n    &lt;img alt=\"First\" src=\"../../Images/9-10-2012 2-59-52 PM.png\" class=\"Show\"/&gt;\n    &lt;img alt=\"Scond\" src=\"../../Images/9-10-2012 3-00-20 PM.png\" /&gt;\n    &lt;img alt=\"Third\" src=\"../../Images/9-11-2012 11-56-09 AM.png\" /&gt;\n\n\n\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        slideshow(); \n    });\n\n    function slideshow() {\n        var current = $('#Photos.Show');\n        var next = current.next().length ? current.next() :   current.parent().children(':first');\n        current.hide().removeClass('Show');\n        next.fadeIn().addClass('Show');\n\n        setTimeout(slideshow, 3000);\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Its not sliding, even all three images showing at a time constantly. Please help. Thanks.</p>\n"},{"tags":["asp.net","mvc","controller"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1441,"score":2,"question_id":1498293,"title":".NET MVC instantiate controller inside another controller","body":"<p>Is it possible for an ASP.NET MVC controller to create a new instance of a different controller and effectively delegate resonsibility to that?</p>\n\n<p>Let's say for example that I have two controllers in the /Controllers/ directory:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    public ActionResult Index()\n    {\n            var otherController = new OtherController();\n            return otherController.ShowNumberOfThings(100);\n    }\n}\n\npublic class OtherController : Controller\n{\n        public ActionResult ShowNumberOfThings(int index)\n        {\n            return View(index);\n        }\n}\n</code></pre>\n\n<p>...and a View called Views/Other/ShowNumberOfThings.aspx:</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" MasterPageFile=\"~/Views/Shared/Site.Master\" Inherits=\"ViewPage&lt;int&gt;\" %&gt;\nNumber of things: &lt;%= Model.ToString() %&gt;\n</code></pre>\n\n<p>When I hit the url:</p>\n\n<p><a href=\"http://localhost/Home/Index\" rel=\"nofollow\">http://localhost/Home/Index</a></p>\n\n<p>I want to be presented with a page that reads:</p>\n\n<p>\"Number of things: 100\"</p>\n\n<p>I would like to be able to persist temporary data between controller redirections without being forced to use the session object (TempData[\"\"] uses the session object for cross-controller redirections). My real world case has a complex object which needs passing (not just an int) so using a URL/Cookie is out of the question, and session state is a no-no.</p>\n\n<p>In WebForms at least we could use Server.Transfer and maintain any state in the HttpContext.Items collection. In MVC the only option I can see is to call the controller method directly passing in required arguments.</p>\n\n<p>At the moment it's having trouble trying to resolve the view folder as the \"context\" is still running under the HomeController.</p>\n\n<p>I guess where I am going with this is trying to cludge ASP.NET MVC into acting like a <a href=\"http://en.wikipedia.org/wiki/Front%5FController%5Fpattern\" rel=\"nofollow\">FrontContoller</a>.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>In the end we had to serialise everything into a session and use that. A shame, but I have heard that MVC2 will support serialising objects into a ViewState.</p>\n"},{"tags":["mvc","mvvm","website","mvp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":80,"score":-1,"question_id":12358094,"title":"Is a website MVC MVP or MVVM?","body":"<p>I've not really been able to differentiate between the patterns mentioned in the title.</p>\n\n<p>A dynamic website has a user interface developed with basically HTML, CSS and maybe javascript (at least, that's what the user sees). The backend could be PHP or ASP (or whatever) which would be connected to a database.</p>\n\n<p>I believe the database is the Model and the UI is the View. Is the backend a controller, presenter or viewmodel?</p>\n\n<p>I'll appreciate an explanatory answer and, if necessary, links.</p>\n"},{"tags":["objective-c","osx","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":319,"score":0,"question_id":10286747,"title":"window, view and subviews creation - mac os x","body":"<p>I am an Objective-C/Cocoa newbie and I was wondering if you could provide me with some guidelines regarding the first Mac OS X desktop application I am writing. </p>\n\n<p>The model part is the self-organizing map algorithm, SOM (Kohonen, 1982).</p>\n\n<p>From the interface point of view, the idea is to have a main window that contains the 1024x768 parent view and 192 64x64 squares (child views). The colours of the child views will change as the SOM algorithm runs. After the SOM is built, users will be able to listen to sounds mapped to a certain square by clicking on it.</p>\n\n<p>The SOM algorithm is already implemented but I am having a hard time to create the interface and connect it to the model part. </p>\n\n<p>I thought of creating the window by using the code below:</p>\n\n<pre><code>NSRect windowRect = NSMakeRect(0.0f, 0.0f, 1024.0f, 790.0f);\n\nNSWindow *window = [[NSWindow alloc] initWithContentRect:windowRect \n                                               styleMask:( NSResizableWindowMask |         NSClosableWindowMask | NSTitledWindowMask) \n                                                 backing:NSBackingStoreBuffered defer:NO];\n\n[window setBackgroundColor:[NSColor blueColor]];    \n\n[window makeKeyAndOrderFront:nil];\n</code></pre>\n\n<p>Then I would create the main add the main view as a subview of the content view of my window:</p>\n\n<pre><code> NSView *view = [[NSView alloc] init]; \n\n [window setContentView: view]\n</code></pre>\n\n<p>Finally, I would create the child views and add them as subviews of the parent view:</p>\n\n<pre><code> for(int i=0;i&lt;12;i++)\n {\n    for(int j=0;j&lt;16;j++)\n    {\n       NSView *child = [[NSView alloc]initWithFrame:CGRectMake(64*i,64*j,64, 64)];\n       [view addSubview:child];\n    }\n }\n</code></pre>\n\n<p>My questions would be:</p>\n\n<p>1) Do my ideas make sense?</p>\n\n<p>2) Where should those pieces of code go? I am still in doubt where they should be part of an AppDelegate or ViewController?</p>\n\n<p>3) What needs to be add to the main method to load the interface? At the moment the main method only call methods that refer to audio-processing and the SOM algorithm. I guess the general question here is how would model and view parts be connected.</p>\n\n<p>I apologize for the naive questions and thank you in advance for any ideas that would help me make headway.</p>\n\n<p>Thank you.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":125,"score":1,"question_id":5907123,"title":"How to avoid needing a VIewModel for every Model","body":"<p>I'm using ASP.NET 4 and MVC3.</p>\n\n<p>Often, I find that I need a ViewModel to display information for my Model. For example, take the following model</p>\n\n<pre><code>class Profile\n{\n   public int UserID { get; set; }\n   public string Name { get; set; }\n   public DateTime DOB { get; set; }\n}\n</code></pre>\n\n<p>There is a requirement to hide the UserID, but to show the UserName, so often time for models that are similar to the one above, I have to come up with a ViewModel with just the UserID changed to UserName:</p>\n\n<pre><code>class ProfileViewModel\n{\n   public string UserName { get; set; }\n   public string Name { get; set; }\n   public DateTime DOB { get; set; }\n}\n</code></pre>\n\n<p>Are there any ways?</p>\n"},{"tags":["asp.net-mvc-3","wcf","mvc","asp.net-web-api"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":740,"score":4,"question_id":10684739,"title":"ASP.NET Web API Questions - Authorization / Authentication","body":"<p>I've been asked to create an API for clients. Before I begin I have some questions. I've decided to use the ASP.NET Web API technology. I've created my first method and it works fine, I'm able to return a set of results of products in XML/Json format. The problem is, anyone who accesses my API held at my website will be able to see all my products. I already have a database of customers, how can I use this so that prior to accessing my API, they have to set some credentials. </p>\n\n<p>The API should be accessible to both Web and Desktop clients</p>\n\n<p>One way I thought of doing it, is they pass their username/password along as parameters but this didnt seem very secure/right?. For example: <code>api/products/GetById/750?username=bob&amp;pass=123</code></p>\n"},{"tags":["jquery","asp.net-mvc","mvc","jquery-ui"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":3993,"score":3,"question_id":730336,"title":"jQuery library location wants to be referenced differently on server","body":"<p>I've got an ASP.NET MVC application that uses jQuery. To load the js libraries, I reference them like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"../../Scripts/jquery-1.3.2.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This works fine locally, but when I publish it to the server, it can't find the library. To get it to work, I have to change it to this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"../Scripts/jquery-1.3.2.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Making this change allows it to work locally and on the server, but it gives me a warning that the file was not found. So I've got a couple of questions:</p>\n\n<ol>\n<li>How does the code work locally if I'm not referencing the correct library location?</li>\n<li>What can I put for a script path that will work everywhere and not throw a warning?</li>\n</ol>\n\n<p>I know an answer to #2 is to store the libraries in some known absolute path, but I'm not ready to commit to that yet.</p>\n"},{"tags":["php","mvc","codeigniter","codeigniter-2"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":104,"score":2,"question_id":12350195,"title":"MVC - Does this code belong to model, controller or view?","body":"<p>I have in my site notifications, similar as facebook. But I only have 3 type of notifications:</p>\n\n<ul>\n<li>[nickname] sent you a new quize [quizename]</li>\n<li>[nickname] added you to his group [groupname]. accept | deny</li>\n<li>You received 100$ credit for login today.</li>\n</ul>\n\n<p>Table notification</p>\n\n<p>notification_id | type | item_id | from_id | to_id | created | notified</p>\n\n<p>item_id represents quize_id or group_id. I make extra joins to get all data.</p>\n\n<p>A problem I have is how to display each notification depends on type. One of options is to organize string for display in controller:</p>\n\n<pre><code>foreach($results as $key =&gt; $result){\n  switch($result['type']){\n    case 1:\n    $string = \"&lt;a href=\".baseUrl().\"/users/$result['userId']&gt;$result['nickname']&lt;/a&gt; \"._(\"wants you to take a quize\").\" &lt;a href='\".baseUrl().\"/quize/$result['rel']'&gt;$result['quizeName']&lt;/a&gt;\";\n    break;\n    case 2:\n    $string = \"&lt;a href=\".baseUrl().\"/users/$result['userId']&gt;$result['nickname']&lt;/a&gt; \"._(\"added you to his group\").\" &lt;a href='\".baseUrl().\"/group/$result['rel']'&gt;$result['groupName']&lt;/a&gt;\";\n    break;\n    case 3:\n    $string = _(\"You received 100 credit for log in today\");\n  }\n  $notifications[$key]['string'] = $string;\n}\n\n$data['notifications'] = $notifications;\n\n$this-&gt;load-&gt;view('views/notifications/last_notification_view', $data);\n</code></pre>\n\n<p>The problem with that method is that part of view is inside controller. I could sent rough data to view, but then the problem is that I need to make similar php code in view. So which method is better? Or is there any other way?</p>\n"},{"tags":["mvc","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12349579,"title":"Tools for documenting MVC web application","body":"<p>I'm making a web application that is quite a bit more complicated than others I've produced in the past.  I think before I go much further I should try and get down a plan for the application as I currently have it.  </p>\n\n<p>I recently took a course in UML, but that doesn't seem particularly appropriate here - as while I'm using an object-oriented framework it is really the relationships between the Models, Controllers, Actions, Views and URL mappings I'm looking to document.</p>\n\n<p>So my question is - <strong>Are there any software design applications out there that are particularly useful for documenting the structure/functionality of an MVC application?</strong></p>\n\n<p>On the basis of this I'd be hoping to write a testing plan.  </p>\n"},{"tags":["silverlight","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1654,"score":4,"question_id":2675799,"title":"Using Silverlight in Views in ASP.Net MVC - a bad idea?","body":"<p>I'm currently writing a small application for use internally at my office.\nI started out teaching myself some MVC (I've been a C# dev for 3 years). \nOne of the main requirements is editable grids - I quickly realised that silverlight (i have zero silverlight experience) could be a big help in this.\nI've managed to create a proof of concept of getting MVC and silverlight to talk back an forth by combining these two techniques:\n<a href=\"http://omaralzabir.com/create_rest_api_using_asp_net_mvc_that_speaks_both_json_and_plain_xml/\" rel=\"nofollow\">Creating a Rest API using MVC</a><br>\n<a href=\"http://blogs.msdn.com/jowardel/archive/2009/03/09/asp-net-mvc-silverlight.aspx\" rel=\"nofollow\">MVC SilverLight</a><br>\nI also got some help on stackoverflow:<br>\n<a href=\"http://stackoverflow.com/questions/2667068/silverlight-grids-mvc-http-post\">silverlight-grids-mvc-http-post</a></p>\n\n<p>Essentially all I'm doing is embedding a silver light object in a view.\nSerializing the Model data as JSON and passing it to silverlight(using intit params written into the response).\nThe silverlight object can post data back to the controller as JSON.</p>\n\n<p>So far this seems like it could work quite well. However I am a bit concerned that I could be painting myself into a corner with this approach, as in I don't have much experience with either technology so I'm worried I'm going get hit with something further down the line that I won't be able to work around.\nHas anybody else tried doing this? Any advice would be much appreciated!</p>\n"},{"tags":["php","mvc","symfony2","frameworks"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":60,"score":0,"question_id":12330904,"title":"Is it okay to have class level variables in Symfony controller class?","body":"<p>I have a project that uses Symfony framework. For optimisation purposes I have narrowed down 6 common variables which are being used constanly during a request. Some of this variables are inside database. </p>\n\n<p>Now, it is bad practise to go back to database again and again 5 times, getting same values. So, I thought of storing those variable value into class level variable.</p>\n\n<p>Is it a good practise?</p>\n\n<pre><code>class MyController extends Controller\n{\n\n    /*Class level variables to eliminate repetitive object creation.*/\n    protected $doctrine;\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc","url-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12346465,"title":"Bound Parameters in Ruby on Rails","body":"<p><p> I've previously asked a question related to this topic as well and with the aid of that question I've found the <b>name</b> of exactly what I wanted. <b>Bound parameters.</b></p>\n\n<p>I have managed to create a routing like \"user/:id/dosomething\" by adding a member to the <b>routes.rb</b>. However this type of url is not the solution I was looking for.</p>\n\n<p>My question is, how do you provide the 'user/dosomething/:id' to match with action user's <b>dosomething</b> action with <b>id</b> sent as parameter. Here is the block I've read in order to get the idea;</p>\n\n<blockquote>\n  <p>When you set up a regular route, you supply a series of symbols that\n  Rails maps to parts of an incoming HTTP request. Two of these symbols\n  are special: :controller maps to the name of a controller in your\n  application, and :action maps to the name of an action within that\n  controller. For example, consider one of the default Rails routes:</p>\n  \n  <p>match ':controller(/:action(/:id))</p>\n  \n  <p>If an incoming request of /photos/show/1 is processed by this route\n  (because it hasnt matched any previous route in the file), then the\n  result will be to invoke the show action of the PhotosController, and\n  to make the final parameter \"1\" available as params[:id]. This route\n  will also route the incoming request of /photos to\n  PhotosController#index, since :action and :id are optional parameters,\n  denoted by parentheses.</p>\n</blockquote>\n"},{"tags":["objective-c","ios","xcode","mvc","shared-libraries"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12345279,"title":"Creating your own custom libraries in iOS?","body":"<p>I'm fairly new to programming and wanted to start programming more efficiently. Try as I may I often find myself straying from the MVC model.</p>\n\n<p>I was wondering are there any tips or methods in keeping your code organized when coding in xcode objc? To be more specific (I know you guys like that :) I want to </p>\n\n<ol>\n<li>Be able to write libraries or self-containing code that can bring from one project to another</li>\n<li>Share my code with others as open sourced projects</li>\n<li>Prevent myself from writing messy code that does not follow proper structure</li>\n</ol>\n"},{"tags":["mvc","architecture","backbone.js","pjax"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":148,"score":1,"question_id":12343962,"title":"pjax or client side MVC?","body":"<p>i have to start a new project, a webapp with lots of forms and screens and i really don't know which technology fit best. The application is an ERP like app, with very few animations and lot of forms. The goal is to reduce at minimum reloads and waiting time, it has to be as close as possible to a normal desktop app (a lot of work to look like a marvelous VB6 app :-)</p>\n\n<p>On the one hand we have client side MVC (backbone). It's cool to have all the code running on client but in my mind this implies repetition of lot of code (for example all models definitions) from server (PHP + Fuel). Sure once loaded all the informations task like paginations or grid work without any delay but it also present some problems of synchronization (other users can change data and i have to manually invalidate data on client).</p>\n\n<p>On the other hand we have pjax. The idea is to make all the templating and so on on server, just implement a logic to return the page without the frame for pjax request or full page on new requests. No code duplication, very simple client side.</p>\n\n<p>I've read the the story <a href=\"http://37signals.com/svn/posts/3112-how-basecamp-next-got-to-be-so-damn-fast-without-using-much-client-side-ui\" rel=\"nofollow\">from basecamp</a> and <a href=\"http://engineering.twitter.com/2012/05/improving-performance-on-twittercom.html\" rel=\"nofollow\">from twitter</a> and both the point make sense to me. You can't relay on visitor computer (features, performance ...)</p>\n\n<p>The more i think about it the mode i like pjax over MVC, but maybe i'm missing something. Which  are the MVC advantages over pjax or pjax disadvantages over Client side MVC ?</p>\n\n<p>Thanks a lot</p>\n"},{"tags":["php","mvc","design-patterns","repository-pattern"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":180,"score":6,"question_id":12343969,"title":"MVC and the Repository Pattern: Roles of Controllers, Models, and Repositories?","body":"<p>So I've been studying the role of the repository pattern as a means of decoupling the persistence layer from my models in an MVC framework. Prior to this, I might have my <code>UserModel</code> calling active record methods directly in order to store/retrieve domain objects.</p>\n\n<p>Here's a sketch of what I'm thinking in regards to the call stack in a request that should create a new <code>User</code>: </p>\n\n<p><img src=\"http://i.stack.imgur.com/hOef0.jpg\" alt=\"enter image description here\"></p>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li>Is this a correct implementation of the repository pattern?</li>\n<li>I understand that the controller should take the user's information from the request and pass it into the model. How does that usually happen? Should the controller create a User object and then pass that into the model? I sure as heck don't wanna just pass in an array of values into the model--nor do I want to pass in 15 arguments to the model method that creates a user.</li>\n<li>In order for this pattern to really work, it looks like to me I would need to have a domain object that is just a simple data structure with no behavior and then if I'm using an ORM, I would have an ORM object which will describe how the object is persisted. Initially I resisted this because it feels like duplicate code, but if I'm really separating persistence from the business logic, this would be needed right? For example, what if I went with an in-memory store? I would no longer use the ORM object.</li>\n</ol>\n\n<p>Am I thinking correctly here? Is this acceptable. Please help me connect the dots in my head.</p>\n"},{"tags":["java","mvc","gui","singleton","repository"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12343371,"title":"Repositories as models for MVC?","body":"<p>I'm building a GUI for an application and I need to work with objects that are not stored in a database, but in repository classes defined as singletons.</p>\n\n<p>I need, for instance, to retrieve the client-list (an ArrayList of Client objects), get their name and display it in a JList. Whatever change I make to these objects would mean updating an object in the repository and then calling update on it so the JList changes.</p>\n\n<p>The question I've got is if working with the repositories like this is permitted or am I breaking some rule that more advanced programmers find common sense. And if so, how should I go about this? I'm doing my best to avoid smelly code and am also curious how I could keep those repositories as singletons if they are used in several frames of my application, each frame with its own model and controller.</p>\n\n<p>Thanks and I appologise to those more advanced if I am doing something visibly, blatantly stupid.</p>\n"},{"tags":["mvc","zend-framework2"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":2,"view_count":870,"score":0,"question_id":9586659,"title":"How to add a custom view helper in zend framework2?","body":"<p>I use sceleton zf2 application from github</p>\n"},{"tags":["asp.net-mvc","forms","mvc","form-validation","multi-step"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":139,"score":0,"question_id":12341439,"title":"Best practice/design for a multi-page form in .NET MVC3","body":"<p>I am working on a web application that involves the user filling out a multi-step form that spans several pages. The form has tabbed navigation across the top (these links do not submit the current page) and a next button at the bottom (which does submit). I am considering several strategies for handling form submission/validation:</p>\n\n<ol>\n<li><p>one action method and view per form page. When you hit next, it submits the form to the action method for the next page. If there are validation errors, you are redirected back to the previous page:</p>\n\n<ul>\n<li>URL's are descriptive and can be copy-pasted</li>\n<li>Only redirects in the error case</li>\n<li>Since the redirect does not have the form data, we lose context about the submission which makes it hard to display certain error messages</li>\n<li>The same validation logic works for redirecting the user if they try to visit a step in the flow that they aren't ready for yet</li>\n</ul></li>\n<li><p>one action method and view per form page. When you hit next, it submits the form to the current page action. If there are validation errors, the same view is returned. Otherwise, we redirect to the next page action:</p>\n\n<ul>\n<li>URL's are descriptive and can be copy-pasted</li>\n<li>Redirects are very common (not sure if this is bad)</li>\n<li>When displaying validation errors, we are in the same request as the form submission so we have full access to the invalid input</li>\n<li>Have to pass additional context if we want the ability to, for example, add a \"Previous\" button which also submits</li>\n</ul></li>\n<li><p>one action method for ALL pages. URL's contain additional context about the step being submitted (e.g. <code>MyController/MyAction/{step}</code>). The controller message selects which view page to return depending on validation and the current step.</p>\n\n<ul>\n<li>URL's are not descriptive (e. g. if I submit step 1 to go to step 2, then the URL the user sees will be the same regardless of whether page 1 (invalid) or page 2 is returned</li>\n<li>No redirects</li>\n<li>When displaying validation errors, we are in the same request as the form submission so we have full access to the invalid input</li>\n</ul></li>\n<li><p>A different method I haven't listed here</p></li>\n</ol>\n\n<p>I have tried to enumerate what I see as some of the pros and cons of each method, but I would be interested to know:</p>\n\n<ul>\n<li>What are other pros and cons of these methods? Are mine correct? Could some of the cons I've listed be designed around?</li>\n<li>Is there a standard approach to this problem which I should be using? If so, why is it the standard approach?</li>\n</ul>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":31,"score":-2,"question_id":11769182,"title":"About MVC pattern?","body":"<p>I must say the more I read about MVC pattern the more foggy I get. May be I am just dumb :(\nI have a basic how the three related, but what I am not clear is what the relation between the M and the V? Do they have any communications withOut the C?\nThis has been bugging me for a long time and I really want to get it straight, please forgive me for asking a stupid question.\nThanks in advance.</p>\n"},{"tags":["spring","mvc","spring-mvc","aop"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":187,"score":0,"question_id":12337210,"title":"Intercepting the @responsebody in spring mvc","body":"<p>I have a Spring MVC web application with conroller like below :</p>\n\n<pre><code>@Controller\npublic class ActionRestController {\n@RequestMapping(value = \"/list\", method = GET)\n@ResponseBody\npublic List&lt;Action&gt; list(Action action, SearhCriteria searchCriteria) {\n     List&lt;Action&gt; ret = new ArrayList&lt;Action&gt;();\n     // Call a service method to get the records\n     // Copy the records into the list\n     // return the list of objects\n     return ret;\n}\n</code></pre>\n\n<p>The Controller is invoked when the user does a search. There are several such controllers in the app, one for each searchable entity.\nFor reasons that I cannot explain very well, here, I cannot modify these controllers in anyway.</p>\n\n<p>But now, I have requirement in the UI to display the search criteria and the no. of records and paging details, as well. This information is not returned by the controller. The JSON returned by the Controller contains just the list of records.</p>\n\n<p>I have put up a different controller which will handle the request, gets and puts the extra info in the model and forwards the request to the existing controller like below :</p>\n\n<pre><code>@Controller\npublic class ActionExtendedController {\n@RequestMapping(value = \"/searchlist\", method = GET)\n@ResponseBody\npublic List&lt;Action&gt; list(Action action, SearhCriteria searchCriteria, Model model) {\n     model.addAttribute(\"searchParameters\", searchCriteria);\n     return \"forward:/list\";\n}\n</code></pre>\n\n<p>Upto this point, all is well.\nWhat I want to do is intercept the request at a point where the List is returned from the controller, before it is converted to JSON, and return a map containing the list and the search parameters.</p>\n\n<p>Now since the 'immutable' controller users ResponseBody the control goes to the JacksonMessageConverter amd the response goes out from there. I have already tried the following paths and they do not work.</p>\n\n<ul>\n<li><p>Interceptor - By the time I get here, the response is already written out, so there is no way to change it.</p></li>\n<li><p>Custom ObjectMapper for the JasksonMessageConverter - Will not work, since I do not have access to the model object inside the mapper, I only have access to the list returned by the controller.</p></li>\n<li><p>Aspect @After pointcut for the controller - I think this technique will work, but I cannot get it to work. The advise does not fire and I am sure I am missing something in the configuration.</p></li>\n</ul>\n\n<p>Is there a way to get Spring AOP to fire on a annotated controller, handler method or\ncan anyone suggest another method of intercepting the handler return value (along with the model) ?</p>\n"},{"tags":["php","mvc","frameworks"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12255307,"title":"Is this the right way to set up an MVC framework?","body":"<p>So I've been researching and working on building my own MVC framework but keep running into 6 different ways of implementing it and I'd like to know if I'm on the right track with what I have so far.  And yes, I know I could use Zend or others like it but I really want to learn how frameworks work and not just use someone else's.</p>\n\n<p><strong>Here is a simple version of my index file:</strong></p>\n\n<pre><code>if(isset($_GET['url']))\n{\n    $url = strtolower($_GET['url']);\n}\nelse\n{\n    $url = 'home';\n}\n\nswitch($url)  // Select the controller based on the GET var in the url\n{\n    case 'home': include(ROOT_DIR . 'app/controllers/homeCon.php'); // This page has the link to the DB test page on it\n        break;\n    case 'dbtest': include(ROOT_DIR . 'app/controllers/dbTestCon.php');\n        break;\n    default: include(ROOT_DIR . 'app/views/error404View.php');\n}\n</code></pre>\n\n<p><strong>Here is a simple version of my dbTestCon.php controller:</strong></p>\n\n<pre><code>if(isset($_POST['dbSubBtn']))\n{\n    $model = new DbTestModel();\n\n    if($_POST['firstName'] != '' &amp;&amp; $_POST['lastName'] != '')\n    {\n        $model-&gt;submitToDb($_POST['firstName'], $_POST['lastName'])\n        $model-&gt;displayPage('goodToGo');\n    }  \n    else\n    {\n        $model-&gt;displayPage('noInput');\n    }\n}\nelse\n{\n    $model-&gt;displayPage('normal');\n}\n</code></pre>\n\n<p><strong>Here is my DbTestModel.php:</strong></p>\n\n<pre><code>class DbTestModel\n{\n    public function displayPage($version)\n    {\n        $title = \"DB Test Page\";\n        $themeStylesheetPath = 'public/css/cssStyles.css';\n\n        include(ROOT_DIR . 'app/views/headerView.php');\n        include(ROOT_DIR . 'app/views/dbTestView.php');\n\n        switch($version)\n        {\n            case 'goodToGo':\n                include(ROOT_DIR . 'app/views/dbTestSuccessView.php');\n                break;\n            case 'noInput':\n                include(ROOT_DIR . 'app/views/noInputView.php');\n                break;\n        }\n        include(ROOT_DIR . 'app/views/footerView.php');\n    }\n\n    public function submitToDb($firstName, $lastName)\n    {\n        try \n        {\n            $db = new PDO(\"mysql:host=\" . DB_HOST . \";dbname=\" . DB_NAME, DB_USER, DB_PASS); \n            $db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); \n\n            $sql = $db-&gt;prepare('insert into dbtest(firstName, lastName) values(:firstName, :lastName)');\n            $sql-&gt;bindParam(':firstName', $firstName);\n            $sql-&gt;bindParam(':lastName', $lastName);\n            $sql-&gt;execute();\n            $db = null;\n        }\n        catch(PDOException $e)\n        {\n            echo \"It seems there was an error.  Please refresh your browser and try again. \" . $e-&gt;getMessage();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>And here is my dbTestView.php:</strong></p>\n\n<pre><code>&lt;form name=\"dbTestForm\" id=\"dbTestForm\" method=\"POST\" action=\"dbtest\"&gt;\n    &lt;label for=\"firstName\"&gt;First Name&lt;/label&gt;\n    &lt;input type=\"text\" name=\"firstName\" id=\"firstName\" /&gt;\n    &lt;label for=\"lastName\"&gt;Last Name&lt;/label&gt;\n    &lt;input type=\"text\" name=\"lastName\" id=\"lastName\" /&gt;\n    &lt;input type=\"submit\" name=\"dbSubBtn\" id=\"dbSubBtn\" value=\"Submit to DB\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This simple example works in my testing environment but I'm worried I'll start using it on my next project and realize half way into it that there is something fundamentally wrong with my framework and have to start over again.  Thank you for any help or advice.</p>\n"},{"tags":["php","mvc","zend-framework","controller","message-queue"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1321,"score":1,"question_id":3850167,"title":"How do I call other Controllers within a Zend Framework Process and retrieve their rendered view?","body":"<p>I have the following setup:</p>\n\n<p>An endless running PHP process that looks at a job queue which contains module names, controller names, action names and a parameter array.</p>\n\n<p>For every job I want to call the given controllers action and retrieve the rendered view for further processing.</p>\n\n<p>I was thinking about bootstrapping an instance of Zend_Application for every job but not exactly sure on how to handle the rest. Maybe there is also a better way.</p>\n\n<p>So my question is:</p>\n\n<p>How do I call other Controllers within a Zend Framework Process and retrieve their rendered view?</p>\n\n<p>Thanks to everyone in advance!</p>\n"},{"tags":["php","mvc"],"answer_count":5,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1039,"score":2,"question_id":3833324,"title":"How do you pass values between PHP pages for MVC?","body":"<p>How do PHP programs pass values between model, view, and controller pages?  For example, if a controller had an array, how does it pass that to the view?</p>\n\n<p>EDIT:</p>\n\n<p>Thank your answers.  I see a couple of them stating the components are in the same page, but when I look at something like CodeIgniter, I see three separate PHP pages for model, view, and controller.</p>\n"},{"tags":["objective-c","mvc","ios5"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12336561,"title":"iOS model view controller design with XML","body":"<p>I am making a tabbed bar application that has a section for Quizzes (which are written in XML). I am trying to conform to the MVC paradigm so I created a parser-delegate class, and a class for a quiz object which contains an array of questions and an array of their associated answers. My problem is that my parsing method has no way of sending it's quiz objects back to the view controller. Do I need to set up a delegate for the view controller to communicate with the Parser? Or should I just set the view controller to be the delegate for the parser and not have a separate class for the parser delegate.</p>\n\n<p>Note: I am using <code>NSXMLParser</code>..</p>\n\n<p>Any input as to the best way to do this is much appreciated. </p>\n"},{"tags":["objective-c","ios","mvc","ibaction"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12335521,"title":"iOS Development - How to receive button event from a custom view controller class?","body":"<p>So I've got this \"save\" button in my main view controller that I would like to move into a different view controller (WriterViewController). After doing this, my custom view controller class isn't able to respond to any of the button events. Not sure what im doing wrong here but here some screenshots:</p>\n\n<p>Save button is first in my main view controller. I'll be moving it to the view controller to the right (WriterViewController).</p>\n\n<p><img src=\"http://i.stack.imgur.com/MWJeI.png\" alt=\"Save button is currently in the main view controller.\"></p>\n\n<p>As you can see, after moving the button into the intended view controller, the view controller has a custom class set to \"WriterViewController\".</p>\n\n<p><img src=\"http://i.stack.imgur.com/RLe5x.png\" alt=\"enter image description here\"></p>\n\n<p>I then ctrl + click and drag the save button so that i can link up it's \"Touch Up Inside\" event to the \"saveEntry\" method.</p>\n\n<p><img src=\"http://i.stack.imgur.com/NwIpy.png\" alt=\"enter image description here\"></p>\n\n<p>A screenshot of my WriterViewController.h file.</p>\n\n<p><img src=\"http://i.stack.imgur.com/GXjaL.png\" alt=\"enter image description here\"></p>\n\n<p>And the implementation.</p>\n\n<p><img src=\"http://i.stack.imgur.com/pCKDk.png\" alt=\"enter image description here\"></p>\n\n<p>Doing the same exact step for the main view controller did work and i was able to log my message. However, it wouldn't work for the custom view controller.</p>\n\n<p>Any thoughts? </p>\n\n<p>Thanks for reading!</p>\n"},{"tags":["java",".net","mvc","mvvm","mvp"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":318,"score":6,"question_id":9725042,"title":"What is the legend of the arrows in these diagrams (MVC - MVP - MVVM)?","body":"<p>I try to understand the main differences between MVC / MVP and MVVM patterns. I found these 3 diagrams but I'm not sure to understand them. Coul you help me and explain me what is the legend of the dashed line and continuous line.</p>\n\n<h2>MVC from Wikipedia definition</h2>\n\n<p><img src=\"http://i.stack.imgur.com/9CUdJ.png\" alt=\"MVC from Wikipedia definition\"></p>\n\n<h2>MVP from Microsoft MSDN website</h2>\n\n<p><img src=\"http://i.stack.imgur.com/pPExD.png\" alt=\"MVP from Microsoft MSDN website\"></p>\n\n<h2>MVVM from Microsoft MSDN website</h2>\n\n<p><img src=\"http://i.stack.imgur.com/MICDp.png\" alt=\"MVVM from Microsoft MSDN website\"></p>\n"},{"tags":["java","mvc","mvvm","mvp"],"answer_count":5,"favorite_count":14,"up_vote_count":16,"down_vote_count":0,"view_count":5615,"score":16,"question_id":2105121,"title":"What to use? MVC, MVP or MVVM or?","body":"<p>I will start a Java project to develop a desktop application. \nWhat to use as presentation layer pattern (MVC, MVP,MVVM or....)?</p>\n\n<p>...if it is possible, with some working small example... :-)</p>\n\n<p>Thanks.</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":913,"score":1,"question_id":1252084,"title":"ASP.NET MVC - POST parameters","body":"<p>I have a view which contains multiple partial views, each of which is collecting information to populate different entity objects.  My question is, upon the POST, how do I get a collection of objects that are populated with the right properties as a parameter to the Controller POST handler method?  </p>\n\n<p>so I would like something like this:</p>\n\n<pre><code>[AcceptVerbs(HttpVerbs.Post)]\npublic ActionResult Edit(List&lt;object&gt; objectCollection)\n{\n\n\n}\n</code></pre>\n"},{"tags":["iphone","objective-c","mvc","nsarray"],"answer_count":2,"favorite_count":5,"up_vote_count":5,"down_vote_count":0,"view_count":14716,"score":5,"question_id":3646787,"title":"Makin an array of Objects in Objective-C","body":"<p>Been playing around with XCode for about 2 weeks now, and reading about MVC a bit. I have a problem trying to connect the Model to the Controller because I find it hard to get my head around arrays. I can handle simple arrays when i programmed some in Java but I'm quiet intimidated by the Obj-C <code>NSArrays</code> I see. </p>\n\n<p>If somebody would be so kind to show me some simple calls on an array of objects i would be eternally grateful.</p>\n\n<p>My model:</p>\n\n<p>Person.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface Person : NSObject \n{\nNSString *name;\nNSNumber *age;\n}\n\n@property(nonatomic, retain) NSString *name;\n@property(nonatomic, retain) NSNumber *age;\n\n@end\n</code></pre>\n\n<p>Person.m </p>\n\n<pre><code>#import \"Person.h\"\n@implementation Person\n@synthesize name;\n@synthesize age;\n@end\n</code></pre>\n\n<p>I've kept if very simple while I try and learn.</p>\n\n<p>Now my Controller class. What i want to do is create an array of 40 'Person' objects. But i don't know the correct way to put that in code in Obj C.</p>\n\n<p>Controller.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n@class Person;\n@interface Controller : NSObject \n{\nPerson *person;\n}\n@property(nonatomic, retain) Person *person;\n\n-(void) doSomeWork;\n\n@end\n</code></pre>\n\n<p>Controller.m</p>\n\n<pre><code>#import \"Controller.h\"\n#import \"Person.h\"\n\n@implementation Controller\n\n@synthesize person;\n\n\n-(IBAction)doSomeWork\n{\n// I guess here is where i should create my array of 40 person objects\n}\n\n@end\n</code></pre>\n\n<p>My problem is in how to declare the array of person objects of size 40.\nAnd then how to access the array to read and write to it.</p>\n\n<p>Thanks in advance for reading my post.</p>\n"},{"tags":["forms","spring","mvc","rest","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":131,"score":1,"question_id":12330679,"title":"Spring MVC Restful App: Redirect a form result to another page","body":"<p>I'm new to Spring MVC Restful.\nSuppose I have index.jsp which forwards user to a form page where user could submit a term to search. I catch the term with a POST handler method, and then do some calculation and hope to redirect the result to be used at another page (/WEB-INF/jsp), for example, we say build a graph based on the result. The problem is how to gather the results and redirect the URL at the same time.\nThe Controllers like below:</p>\n\n<pre><code>@RequestMapping(value=\"/termForm\", method = RequestMethod.GET)\npublic ModelAndView  setupForm() {\nTerm termClass = new Term();\nreturn new ModelAndView(\"term\", \"command\", termClass);\n}\n@RequestMapping(value=\"/getTerm\", method=RequestMethod.POST)\npublic String getTerms(@ModelAttribute(\"term\") Term term, BindingResult result)\n{\n    String label = term.getTerm();\n\n    //doing some calculation to term here\n    result = ....\n    return \"redirect:\"+ \"graphPage.jsp\";\n}\n</code></pre>\n\n<p>By searching, I found that Spring View Resolver only could process the redirected jsp under root directory (as same with index.jsp). In this case, the \"result\" seems not accepted by \"graphPage\". I also included UrlBasedViewResolver in XXX-servlet.xml as following:</p>\n\n<pre><code>   &lt;bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.UrlBasedViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n        value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Sorry for the long question, please give any hint to do this. Thanks a lot.</p>\n\n<hr>\n\n<p>There are two parts of my question. One is redirecting POST method to another page, graphPage.jsp. Since we go to graph, we need the data from POST method as well to create graph. This is the other concern. Hope it's clear. I already solved the first one by adding a handler method, see below. But how to package the result and pass it to Graph.jsp? Thanks</p>\n\n<pre><code>@RequestMapping(value=\"/graphPage\", method=RequestMethod.GET)\npublic String showGraph()\n{\n\n    return \"graphPage\";\n}\n</code></pre>\n"},{"tags":["javascript","mvc","client-side"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":58,"score":0,"question_id":12331797,"title":"Looking for a lightweight JS MVC framework with bindings","body":"<p>I'm looking for a lightweight (don't have a hard size limit, but the lower the better IMO) JS MVC framework with these requirements:</p>\n\n<ul>\n<li>Two-way data bindings (alternatively, Rivets.js could probably be used)</li>\n<li>DOM templating</li>\n<li>No dependencies (no jQuery or other libraries)</li>\n<li>Extensible - need to be able to override the sync function to use, for example, Socket.IO instead of REST (as is the default on most of these)</li>\n<li>Something I don't need: compatibility with older browsers (or even IE9 for that matter). Recent FF/Chrome is all I need. This isn't to say I want a framework without this, but rather it isn't a dealbreaker if a framework fits my other requirements and doesn't have this.</li>\n</ul>\n\n<p>Serenade.js looks like it gets the closest, but I'm not a huge fan of their templating language. I would prefer more of an AngularJS/Batman style templating.</p>\n\n<p>I've considered:</p>\n\n<ul>\n<li><strong>Serenade.js</strong> - this gets the closest, but I don't really like their templating language</li>\n<li><strong>AngularJS</strong> - close, but feels too bloated (76K minified...)</li>\n<li><strong>Batman.js</strong> - this also gets pretty close, though I'd like something smaller (Batman seems to have grown quite a bit)</li>\n<li><strong>Backbone.js</strong> - decent, but I'd prefer something with no dependencies (or at least not jQuery/Zepto; I don't mind _). Would also like more built-in functionality with the views - Batman's views and templating + Backbone would be cool</li>\n<li><strong>Ember.js</strong> - feels too large, and also requires Handlebars (added bloat IMO)</li>\n</ul>\n\n<p>Any other recommendations?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":13,"favorite_count":34,"up_vote_count":127,"down_vote_count":2,"view_count":4589,"score":125,"question_id":11969964,"title":"Should sorting logic be placed in the model, the view, or the controller?","body":"<p>I have a drop down list that displays values from a table to the end user. I would like to have these values be sorted alphabetically.</p>\n\n<p>According to proper MVC design, at what layer should I place my sorting logic: the model, the view, or the controller?</p>\n\n<p><strong>EDIT</strong>: In response to LarsH's question, \"Do you mean code that determines what sort order is desired? or code that performs the sort?\", I was originally referring to the code that determines what sort order is desired.</p>\n"},{"tags":["java","mvc","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12329756,"title":"JSP Servlet: URI remains that of controller servlet","body":"<p>Using MVC, when I get the response back to my jsp page from the controller servlet, the URI remains that of servlet.\nI want the JSP's URI to be displayed which displays the result sent back from controller servlet.\nAny help will be appreciated.</p>\n"},{"tags":["mvc","view","model"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12329725,"title":"how to display multiple model data with a single view--mvc","body":"<p>I created a VectorModel(store vector data like start and end point) and VectorView(to display vector) classes.</p>\n\n<p>I wanted to create two circle(c1 and c2) and display a vector between each circle and mouse position(v1 and v2), then display the smallest vector only.(if mouse get closer to c1 display v1 only, if its closer to c2, display v2 only).\nv1 and v2 are two VectorModel instance.</p>\n\n<p>I want to know if its possible to create a single VectorView Instance and pass it a VectorModel parameter each time.\nthat's how i tried to do that:</p>\n\n<pre><code>private function enterFrame(e:Event):void\n{\n    //update v1 and v2\n    _v1.update(_c1.x, _c1.y, mouseX, mouseY);\n    _v2.update(_c2.x, _c2.y, mouseX, mouseY);\n\n    if (_v1.m &lt; _v2.m)\n    {//display v1\n          displayVector(_v1);\n    }else if(_v1.m &gt; _v2.m)\n    {//display v2\n         displayVector(_v2);\n    }\n}\n\nprivate function displayVector(v:VectorModel):void\n{\n     var vView:VectorView = new VectorView(v);\n     addChild(vView);\n}\n</code></pre>\n\n<p>the result display two line(vector) between each circle and mouse position</p>\n\n<p>I tried to solve this issue by creating a VectorView for each VectorModel and it worked despite thise error:\nError #1009: Cannot access a property or method of a null object reference.(how to get around this?)</p>\n\n<pre><code>private function enterFrame(e:Event):void\n{\n //update v1 and v2\n    _v1.update(_c1.x, _c1.y, mouseX, mouseY);\n    _v2.update(_c2.x, _c2.y, mouseX, mouseY);\n\n    if (_v1.m &lt; _v2.m)\n    {//display v1\n        displayVector(\"v1\");\n    }else if(_v1.m &gt; _v2.m)\n    {//display v2\n        displayVector(\"v2\");\n    }\n}\n\nprivate function displayVector(v:String):void\n{\n   if (v==\"v1\")\n   {\n        addChild(_v1View);\n        if (_v2View.parent!=null)\n        {\n               removeChild(_v2View);\n        }\n\n   }else if(v==\"v2\")\n   {\n        addChild(_v2View);\n        if (_v1View.parent!=null)\n        {\n             removeChild(_v1View);\n        }\n   }\n}\n</code></pre>\n\n<p>is there better way to do it?\nthank you for your time and for your help ;)</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":12327291,"title":"Getting the Child Collection for Parent Model HttpPost Update","body":"<p>This question might be a reiteration of a previous question, if it is please post the link. Either way I'll still go through with this post.</p>\n\n<p>I have this model:</p>\n\n<pre><code>public class Employee {\n    //omitted for brevity\n\n    public virtual ICollection&lt;ProfessionalExperience&gt; ProfessionalExperiences { get; set; }\n    public virtual ICollection&lt;EducationalHistory&gt; EducationalHistories { get; set; }\n}\n\npublic class ProfessionalExperience {\n    // omitted for brevity\n}\n\npublic class EducationalHistory {\n    // omitted for brevity\n}\n</code></pre>\n\n<p>I'm displaying on my View with this Action:</p>\n\n<pre><code>[HttpGet]\npublic ActionResult Edit(int id) {\n    using(var context = new EPMSContext()) {\n        var employees = context.Employees.Include(\"ProfessionalExperiences\").Include(\"EducationalHistories\");\n\n        var employee = (from item in employees\n                        where item.EmployeeId == id &amp;&amp; item.IsDeleted == false\n                        select item).FirstOrDefault();\n\n        return View(employee);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Here is my View:</p>\n\n<pre><code>@using(Html.BeginForm()) {\n  &lt;div class=\"editor-label\"&gt;First Name:&lt;/div&gt;\n  &lt;div class=\"editor-field\"&gt;@Html.TextBoxFor(x =&gt; x.FirstName)&lt;/div&gt;\n  &lt;div class=\"editor-label\"&gt;Middle Name:&lt;/div&gt;\n  &lt;div class=\"editor-field\"&gt;@Html.TextBoxFor(x =&gt; x.MiddleName)&lt;/div&gt;\n\n  @foreach(var item in Model.ProfessionalExperiences) {\n      Html.RenderPartial(\"ProfExpPartial\", item);\n  }\n\n  @foreach(var item in Model.EducationalHistories) {\n      Html.RenderPartial(\"EducHistPartial\", item);\n  }\n  &lt;input type=\"submit\" value=\"Save\" /&gt;\n}\n</code></pre>\n</blockquote>\n\n<p>I display the child collection on the view using a <code>foreach</code> and using a partial view for each collection.</p>\n\n<p>When calling my Post Edit Action the <code>employee</code> model has the child collections set to null.</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Edit(Employee employee) {\n    using(var context = new EPMSContext()) {\n\n    }\n\n    return View();\n}\n</code></pre>\n\n<p>What am I missing to get the child collections to correctly?</p>\n\n<p>Thank you!</p>\n"},{"tags":["android","mvc","libgdx","game-programming"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12327895,"title":"Game Programming concepts/terms?","body":"<p>I was trying to learn libgdx for a week now (reading tutorials) and I had a hard time understanding some concepts, such as, textures/vectors/matrices since all the tutorials I've read assumes that you have a background in game programming (or assumes that you don't care as long as you do it). Also, I have read the documentation and tried really hard to make something out of it.</p>\n\n<p>Can anyone recommend to me a good book or online reference on where to start? (I tried google no luck)</p>\n"},{"tags":["c#","javascript","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12326725,"title":"Which folder(s) should I put my  MVC view-specific javascript files in?","body":"<p>I was wondering what's best practice for a javascript file's location that is view-specific.<br>\nSome of my views have 1700+ lines of code, 70% of it being javascript, so I'm putting them into a  .js file to take advantage of bundling/minifying.</p>\n\n<p>I know core script files (eg. jquery) typically go into the root /Scripts folder, but there are a LOT of views that i need to do this to (50+), so I'm wondering if I should put them in their respective view folders (eg: /Views/Account/ViewName.js) or should i dump them all into the /Scripts folder at the root.</p>\n"},{"tags":["objective-c","ios","mvc","core-data","model"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":85,"score":2,"question_id":12323866,"title":"iOS MVC: where does the model fit-in to a CoreData application?","body":"<p>I've just gotten into making applications with CoreData, but I'm familiar with MVC concepts because I used to do a lot of work in web development using (and developing) MVC frameworks.</p>\n\n<p>From what I gather, CoreData automatically generates classes that inherit from NSManagedObject. The objects are created by a fetch request to the context or by inserting a new one into the context. In the apps I've seen, the objects are empty aside from properties that correspond to their attributes in the database, essentially making them objects that mimic a row in the entity's table.</p>\n\n<p>It makes sense that those automatically generated classes and CoreData itself make up the applications model. In the apps I've made traditionally, there is instead a <code>Model</code> class that is in charge of handling all of the data. This is often a Singleton class, and each controller that needs the model can simply use <code>self.model = [Model sharedInstance];</code>. For bigger apps, there may be multiple models instead of one gigantic one. You get the picture. I guess my first question is: am I right? CoreData and it's associated NSManagedObject's make up the entire model for an application?</p>\n\n<p>I would guess that is wrong, because an application may need other functionality that deals with data that does not have an assigned CoreData object. For example: what if a CoreData application needs to populate a table view with data that is retrieved through an HTTP request from foo.com/test (let's say it is JSON data). This data does not need to be stored in CoreData, but at the same time, I don't think retrieving and parsing the data is a job for a controller. Should there be an object, <code>FooDataManager</code> (or something like that) that handles the HTTP requests to manage data from foo.com (it could extend AFHTTPClient). And then controllers that deal with foo.com have a property for <code>fooDataManager</code>, which acts as a model for that controller? And then controllers will call <code>[self.fooDataManager retrieveAndParseData];</code>?</p>\n\n<p>I want to verify this information before I start developing CoreData apps so that I do it correctly from the start. In web development, I'm used to having one model for each controller, but it seems like on iOS, there can be many models that all do their own thing, many controllers who use those models, and all of those models are in addition to CoreData and the NSManagedObjects.</p>\n"},{"tags":["asp.net-mvc-3","linq","mvc","razor","linq-to-entities"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12324771,"title":"LINQ To Entities cannot generate string MVC Razor","body":"<p>When Using LINQ to get information I use the following method</p>\n\n<pre><code>var salt_water_disposals = _SaltWaterDisposals.SaltWaterDisposals.Select(sw =&gt; new SaltWaterModel\n            {\n\n                saltwater_ID = sw.SaltWaterDisposalID,\n                lease = sw.Lease.LeaseName,\n                field = sw.Lease.Field.Name.ToLower(),\n                permitter_fluid = sw.PermittedFluids.Count == 0 ? \"None\" : sw.PermittedFluids.Aggregate(\"\", (current, c) =&gt; current+c.Fluid.Name),\n                max_gas_pressure = sw.MaxGasInjectionPressure,\n\n            });\n</code></pre>\n\n<p>However when I run the code I get the following error because of the PermittedFluids:</p>\n\n<blockquote>\n  <p>LINQ to Entities does not recognize the method 'System.String\n  Aggregate[PermittedFluid,String](System.Collections.Generic.IEnumerable<code>1[FieldPro.Domain.Entities.PermittedFluid],\n  System.String,\n  System.Func</code>3[System.String,FieldPro.Domain.Entities.PermittedFluid,System.String])'\n  method, and this method cannot be translated into a store expression.</p>\n</blockquote>\n\n<p>I have tried using it also as a ToString() but I get the same error.</p>\n\n<p>Any Ideas?</p>\n\n<p>Any Help would be appreciated.</p>\n"},{"tags":["c#","linq","asp.net-mvc-3","mvc","entity-framework"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2202,"score":4,"question_id":8496429,"title":"LINQ to Entities only supports casting Entity Data Model primitive types?","body":"<p>I'm trying to populate a dropdown in my view. Any help is greatly appreciated. Thanks.</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Unable to cast the type 'System.Int32' to type 'System.Object'.</p>\n  \n  <p>LINQ to Entities only supports casting Entity Data Model primitive types.</p>\n</blockquote>\n\n<p>Controller:</p>\n\n<pre><code>ViewBag.category = (from c in new IntraEntities().CategoryItems\n                   select new SelectListItem() {Text=c.Name, Value=\"\"+c.ID }).ToList&lt;SelectListItem&gt;();\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>Category:&lt;br /&gt;@Html.DropDownList(\"category\", (List&lt;SelectListItem&gt;)ViewBag.category)\n</code></pre>\n"},{"tags":["objective-c","mvc","xcode4","uiviewcontroller","delegates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12302508,"title":"Using a protocol and a delegate","body":"<p>I am trying to get some code in a view working. I have declared a delegate and it does not get instantiated, any Idea what I am missing? \nI have tried to summarise how I have done this below. I think that the issue is that somewhere, my dataSource delegate needs to be instantiated.</p>\n\n<p>I have a View called graph view and a delegate that is in the viewcontroller GraphViewController.</p>\n\n<p>I know that the method in GraphView is doing something as it calls the AxisDrawing helper class and draws in Axes.</p>\n\n<p>Here is the relevant code</p>\n\n<p>In GraphView.h I set up the protocol and the dataSourceDelegate</p>\n\n<pre><code>@class GraphView;\n\n@protocol GraphViewDataSourceDelegate\n- (float)functionOfX:(float)xValue inGraphView:(GraphView *)sender;\n@end\n\n@interface GraphView : UIView\n\n@property(nonatomic, weak) IBOutlet id &lt;GraphViewDataSourceDelegate&gt; dataSourceDelegate;\n\n@end\n</code></pre>\n\n<p>Which I synthesize in GraphView.m</p>\n\n<pre><code>#import \"GraphView.h\"\n#import \"AxesDrawer.h\"\n\n@implementation GraphView\n\n@synthesize dataSourceDelegate = _dataSourceDelegate;\n</code></pre>\n\n<p>Also in Graph View I try to use the delegate as follows (pixel is a CGPoint). This routine does run and I can draw to GraphView from here provided I do not try to use my protocol method. i.e. Some of my DrawRect stuff does get drawn which checks out the linking of the UIView to my custom View</p>\n\n<pre><code>pixel.y = [self.dataSourceDelegate functionOfX:pixel.x inGraphView:self];\n</code></pre>\n\n<p>++++Breakpoint put in here+++++</p>\n\n<p>In GraphViewController I state that I implement the protocol and implement it as follows. The compiler warns me and spots when the implementation is done, turning of the warning. (I am only returning 3.0 at the moment as a test).</p>\n\n<pre><code>@interface  \n\nGraphViewController () &lt;GraphViewDataSourceDelegate&gt;\n@property (nonatomic, weak) IBOutlet GraphView *graphView;\n\n@end\n</code></pre>\n\n<p>...</p>\n\n<pre><code>-(float) functionOfX:(float)xValue inGraphView:(GraphView *)sender{\n    NSLog(@\"fofx accessed\");\n    return 3.0;\n}\n</code></pre>\n\n<p>If I look at the GraphView* object just after a breakpoint, it seems to have no instance. What am I missing out.</p>\n\n<p>This is from the trace at the breakpoint</p>\n\n<p>_dataSourceDelegate struct objc_object *    0x0</p>\n\n<p><strong>EDIT:</strong> (In addition to <a href=\"http://stackoverflow.com/a/12302714/465304\">@Clays</a> answer below)</p>\n\n<p>It turned out that my connection to the custom view was broke. This meant that the fault lay with the View not talking to the Custom ViewController. The link is made by ctrl dragging from the View Controller button in the Interface builder to the View within the ViewController.</p>\n\n<p>This caused the ViewController to be instantiated and everything then worked fine.</p>\n\n<p>To put it another way.</p>\n\n<p>The link in question was the Outlet. This has to be declared in the ViewController as a property and then linked in IB using ctrl Drag from the ViewController Name-Bar to the View in the Controller.</p>\n\n<p>Provided that you have added the Outlet property correctly, when you do the ctrl drag, your view will appear an option.</p>\n\n<p>The context button popup information on the ViewController button in IB does give a clue.</p>\n\n<p>If you have neglected to put the outlet property into the view controller, the link does appear in the context button popup but it is greyed out, and when you do the link your View is not named.</p>\n\n<p>Once you put the outlet in, the name appears in the menu but not greyed out.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12320953,"title":"MVC: Editing model, extra-fields","body":"<p>Dont beat me if it's been asked for many times.<br>\nI've seen a lot of nice presentations of how to edit entities using MVC. All they hope my edit form would contain only 3 fields which are of course editable and thus able to rotate data between client and server until user will finally enter correct values. But my app is a bit more complex and i need your advice.<br>\n1) I have an entity Product having fields Name and CreatedBy<br>\n2) The only editable field is Name<br>\n3) In case of incorrect input i need to re-populate non-editable fields with the best way  </p>\n\n<p>In purpose of this i need to retrieve business object from repo and assign missing values to the resulting viewmodel. There can be many values. Should i assign them step-by-step? Should i use (Try)UpdateModel? Should i use something like AutoMapper (never tried) to specify how to update entities by each other? What common ways are used for this? Please any liknks on edit forms that contain more than 3 editable fields... Thanks!</p>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc","rendering"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12314788,"title":"How to handle conditional rendering of views depending on a value passed to the related controller action through a parameter?","body":"<p>I am using Ruby on Rails 3.2.2. I would like to render a <code>show</code> view that should / could be displayed in two different ways depending on a value passed to the related controller action through a parameter. That is, if the parameter is not passed then the <code>show</code> view should be normally rendered else if that value is set to something then the <code>show</code> view should be rendered with some changes (for example, some \"embedded\" partial templates should change, some information should not be displayed and some other information should be added).</p>\n\n<p><strong>How handle this situation in an efficient / proper way?</strong> That is, should I state a conditional rendering in the <code>show</code> controller action and in related views? or should I use a separate controller action so to don't use / pass the mentioned parameter? or should I implement a \"separate\" / \"dedicated\" controller in order to handle my \"particular\" case?</p>\n\n<hr>\n\n<p>Note: In my case I would like to display different contents \"in a <em>public</em> or <em>private</em> way\".</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12319493,"title":"Custom Functions in Rails","body":"<p>I'm a rails beginner and I'm trying to get the concept down in my head. Even though we have  functions like \"index, show\" I was wondering the custom functions, like whether we can create them</p>\n\n<p>I'm developing the back end of a mobile application and I have to present the response of the login request. I would like to enable the URL 'http://www.mysite.com/<b>client</b>/login' where <b>client</b> being my model. Would it be possible for me to define a function like <b>login</b> in my <b>client controller.</b> </p>\n"},{"tags":["ruby-on-rails","ruby","security","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12315610,"title":"Rails: optimizing a controller action (security checking)","body":"<p>I have an action in a controller that looks like this:</p>\n\n<pre><code>  def show\n    @project = current_customer.projects.where(id: params[:project_id]).first\n    if @project\n      @feature = @project.features.where(id: params[:feature_id]).first\n      if @feature\n        @conversation = @feature.conversations.where(id: params[:id]).first\n        unless @conversation\n          head 401\n        end\n      else\n        head 401\n      end\n    else\n      head 401\n    end\n  end\n</code></pre>\n\n<p>The problem is the repetition of <code>head 401</code>. Is there a better way to write this action ?</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","generics"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12314219,"title":"Passing generic parameters into MVC Action","body":"<p>I'm building an MVC controller, which will accept a JSON object, but I want to make the type it accepts generic. Can I do this?</p>\n\n<pre><code>public class RecognitionData&lt;T&gt; \n{\n    DateTime StartTime { get; set; }\n    DateTime EndTime { get; set; }\n    T Value { get; set; }\n}\n\npublic class Address\n{\n    string Line1 { get; set; }\n    string Line2 { get; set; }\n    string Locality { get; set; }\n    string Country { get; set; }\n    string Postcode { get; set; }\n}\n\npublic class AddressController : Controller\n{\n    public string Save(RecognitionData&lt;Address&gt; result)\n    {\n        ...\n    }\n}\n</code></pre>\n\n<p>When I try to do post the data as JSON, while I can see the \"result\" field in Request[\"result\"] as a string, the \"result\" parameter is blank.</p>\n\n<p>Any ideas what I'm doing wrong?</p>\n"},{"tags":["javascript","mvc","architecture","frameworks","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12311818,"title":"Should I use different Backbone classes or different instances for each list?","body":"<p>I'm using Backbone.js</p>\n\n<p>I have multiple lists of models on my page. Should I just make one \"class\" with Backbone.Collection.extend and my lists should be instances of this \"class\", or should I make as many classes as I have model lists on my page?</p>\n\n<p>So, should I do this:</p>\n\n<pre><code>var MyCol1 = new Backbone.Collection.extend({})\nvar MyCol2 = new Backbone.Collection.extend({})\n\nvar listView1 = new ItemsView({ collection: new MyCol1 })\nvar listView2 = new ItemsView({ collection: new MyCol2 })\n</code></pre>\n\n<p>or rather this?</p>\n\n<pre><code>var MyCol = Backbone.Collection.extend({})\nvar listView1 = new ItemsView({ collection: new MyCol })\nvar listView2 = new ItemsView({ collection: new MyCol })\n</code></pre>\n\n<p>Behavior of all lists will be pretty much the same at this point but they will have different backend urls they'll be attached to.</p>\n"},{"tags":["c#","asp.net","mvc","reporting"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":2,"view_count":667,"score":3,"question_id":5855742,"title":"Which reporting software should I use?","body":"<p>Im currently working on a project that has a requirement to be able to generate reports.. I first thought of using telerik for this but their control is too limited and I'm now looking for a new report generator capable of delivering high end reports. </p>\n\n<p>I would love some input on upsides and downsides along with your recommendation.</p>\n\n<p>Requirements:</p>\n\n<ul>\n<li>Web component(should be able to render the report onto a asp.net or mvc page). MVC is +++.</li>\n<li>Have report controls capable of rendering html code(not just only text formatting but tables,lists and so on). This is were Telerik failed me.</li>\n<li>Take in parameters.</li>\n<li>Be able to export to atleast PDF or Word.</li>\n<li>A designer that supports grouping.</li>\n</ul>\n\n<p>If you know a software that can deliver on theese points please let me know!</p>\n\n<p>Followup: Would just like to point out I have now finished the development of the reporting component to the page. I used <a href=\"http://devexpress.com/Products/NET/Reporting/\" rel=\"nofollow\">http://devexpress.com/Products/NET/Reporting/</a> to do this. It has met all my requirements and more! It even allowed me to put my Blob data into its Picturebox control (thanks! forgot to add as requirement!:)) </p>\n\n<p>I highly recommend this software to anyone in need and has simular requirements as me (or fewer)</p>\n"},{"tags":["javascript","jquery","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12313101,"title":"Multidatespicker: Disable dates from a list","body":"<p>I would like to use the following method, but use a list instead of a couple of dates.</p>\n\n<pre><code>addDisabledDates: [today.setDate(1), today.setDate(3)]\n</code></pre>\n\n<p>This is the code for my calender:</p>\n\n<blockquote>\n  <p>$(\"#ExceptionDates\").multiDatesPicker({</p>\n\n<pre><code>    defaultDate: \"+1w\",\n    firstDay: 1,\n    dateFormat: \"dd.mm.yy\",\n    numberOfMonths: 1,\n    **addDisabledDates: ['06/19/2012','06/20/2012'],** (NOT working)\n    onSelect: function ()\n    {\n        var dates = $(\"#ExceptionDates\").multiDatesPicker('getDates');\n        var html = '';\n        $.each(dates, function (i, val)\n        {\n            html += '&lt;input type=\"text\" name=\"Dates\" value=\"' + val + '\"&gt;';\n        });\n\n        $(\"#SelectedDates\").html(html);\n    }\n});\n</code></pre>\n</blockquote>\n\n<p>This is the method to get the dates:</p>\n\n<pre><code>var getSelectedExceptionDates = function(callback)\n{\n    $.ajax({\n        type: \"POST\",\n        url: \"/Route/GetSelectedExceptionDates/\",\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function (response)\n        {\n            callback(response);\n        },\n        error: function (err)\n        {\n            console.log(err);\n        }\n    });\n\n};\n\nvar callback = function (dates)\n{\n    $.each(dates, function (i, date)\n    {\n        var splitDate = date.split('.');\n\n    var day = splitDate[0];\n    var month = splitDate[1];\n    var year = splitDate[2];\n\n    console.log(splitDate);\n    console.log(new Date(year, (parseInt(month)-1).toString(), day));\n});\n\n};\n\ngetSelectedExceptionDates(callback);\n</code></pre>\n\n<p>And this is what i get out by inspecting the site now:</p>\n\n<p>[\"12\", \"11\", \"2009\"] General.js:101\nThu Nov 12 2009 00:00:00 GMT+0100 (W. Europe Standard Time)</p>\n\n<p>Theres two different types cause im logging both atm.</p>\n\n<p>Any ideas how i can insert my list of dates into the addDisabledDates method?</p>\n\n<p><strong>EDIT: I got it working!</strong></p>\n\n<pre><code>var callback = function (dates)\n    {\n        var date_ary = new Array();\n        $.each(dates, function (i, date)\n        {\n            var splitDate = date.split('.');\n\n            var day = splitDate[0];\n            var month = splitDate[1];\n            var year = splitDate[2];\n            date_ary.push(new Date(month + \"/\" + day + \"/\" + year));\n        });\n\n        console.log(date_ary);\n\n        $(\"#ExceptionDates\").multiDatesPicker({\n            minDate: 0,\n            defaultDate: \"+1w\",\n            firstDay: 1,\n            dateFormat: \"dd.mm.yy\",\n            addDisabledDates: date_ary,\n            numberOfMonths: 1,\n            onSelect: function ()\n            {\n                var dates = $(\"#ExceptionDates\").multiDatesPicker('getDates');\n                var html = '';\n                $.each(dates, function (i, val)\n                {\n                    html += '&lt;input type=\"text\" name=\"Dates\" value=\"' + val + '\"&gt;';\n                });\n\n                $(\"#SelectedDates\").html(html);\n            }\n        });\n    };\n    getSelectedExceptionDates(callback);\n\nvar getSelectedExceptionDates = function (callback)\n{\n    $.ajax({\n        type: \"POST\",\n        url: \"/Route/GetSelectedExceptionDates/\",\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function (response)\n        {\n            callback(response);\n        },\n        error: function (err)\n        {\n            console.log(err);\n        }\n    });\n};\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12312650,"title":"When is it appropriate to create HTML code in the controller (or back end)","body":"<p>I am doing some complex logic involving loads of recursion to create a (complex) piece of HTML.</p>\n\n<p>I started off doing this in the View using functions in Razor because I felt as HTML it belonged there.</p>\n\n<p>But as it started getting more complex I thought I would rather do it in back-end code. Which it currently is.</p>\n\n<p>It still feels a bit smellish though, and I am wondering if I should move it to the View again (which obviously clutters the view)</p>\n\n<p>Which technically is more correct? When is it appropriate to use back-end code to generate HTML?</p>\n\n<p>Thanks for your input.</p>\n"},{"tags":["mvc","helper","html-encode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":450,"score":0,"question_id":4044212,"title":"HTML encoding custom HTML helper","body":"<p>I wish to encode my HTML sent to the browser.  In my .ASPX pages I can use the &lt;%: %> syntax.  In a HTML helper of mine I try...</p>\n\n<pre><code>    public static string Image(this HtmlHelper helper, string imageName, string altText)\n    {\n        return helper.Encode(String.Format(\"&lt;image src='/images/{0}' alt='{1}' /&gt;\", imageName, altText));\n    }\n</code></pre>\n\n<p>However, when the HTML reaches the browser the HTML just displays as text and no image is shown.  How does one encode their HTML from a helper method?</p>\n"},{"tags":["mvc","view","xcode4","viewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12308217,"title":"My CustomViewController is not being called","body":"<p>This is related to <a href=\"http://stackoverflow.com/questions/12302508/using-a-protocol-and-a-delegate\">Using a protocol and a delegate</a> and I have narrowed down the issue a bit</p>\n\n<p>I have a NavigationController with two views that display correctly.</p>\n\n<p>\"GraphView\" is a view in a ViewController called GraphViewController. In the object inspector\n\"GraphViewController\" and \"GraphView\" each appear correctly in the Custom Class box for the ViewController and the View respectively.</p>\n\n<p>However in GraphViewController I have put this code (below) in a setGraphView method and it is is never called. It is as if GraphViewController is not being set as GraphView's GraphViewController. </p>\n\n<p>The code I used is (I @synthesize GraphView further up)</p>\n\n<pre><code>- (void) setGraphView:(GraphView *)graphView {\n    _graphView = graphView;\n    self.graphView.dataSourceDelegate = self;\n    [self.graphView setNeedsDisplay];\n    NSLog(@\"just set Graph View\");\n    }\n</code></pre>\n\n<p>I never get the NSLog message, which I do in a similar (but working) application.</p>\n"},{"tags":["python","mvc","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12308829,"title":"GAE Python - separating 'textual content' from controller and view?","body":"<p>Right now I have a loop in the view that displays a brief description of topics:</p>\n\n<p>example code:</p>\n\n<pre><code>        &lt;div id=\"menu\"&gt;\n            &lt;ul&gt;\n                {% for item in topics %}\n                &lt;li&gt;\n                    &lt;img src=\"img/{{item.name}}_ico.png\" alt=\"{{item.name}}\" /&gt;\n                    &lt;h2&gt;{{item.heading}}&lt;/h2&gt;\n                    &lt;p&gt;{{ item.detail|safe }}&lt;/p&gt;\n                &lt;/li&gt;\n                {% endfor %}\n            &lt;/ul&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>The above code displays an icon - a heading and some text for several items.</p>\n\n<p>Since these topics never change and are only updated by the devs, I created a dictionary in the controller that contains all this content..</p>\n\n<pre><code>   topics= [\n                    {'name': 'alert',\n                     'heading': \"Maintain attention\",\n                     'detail': 'Keep your students involved, alert and attentive during class with closed questions about the current subject.'},\n                    {'name': 'time',\n                     'heading': 'Instant feedback',\n                     'detail': 'Save precious time and avoid checking quizzes!&lt;br /&gt;studyWise&amp;copy; check them instantly, providing you with results.'},\n                    {'name': 'reward',\n                     'heading': \"Reward students\",\n                     'detail': 'Motivate students to participate and learn by rewarding good work with positive feedback.'},\n                    {'name': 'money',\n                     'heading': 'Save on expenses!',\n                     'detail': 'Why spend money buying similar gadgets or subscriptions?&lt;br /&gt;Use studyWise&amp;copy; free of charge now.'},\n                    {'name': 'cell',\n                     'heading': 'Accessible',\n                     'detail': 'Works with any smartphone, laptop or tablet.&lt;br /&gt;No installation required.'},\n                    {'name': 'share',\n                     'heading': 'Share with colleagues',\n                     'detail': 'Share topics, quizes or course statistics with colleagues.&lt;br /&gt;See how your assistants are doing.'},\n                    {'name': 'statistics',\n                     'heading': 'Statistics',\n                     'detail': 'Get helpful info about your students understanding of the learning material today.'}\n                ]\n</code></pre>\n\n<p>What I am wanting to do is adhere to MVC principles and keep the code clean.\nShould I move this dictionary to a 'model' file?\nWill that affect performance?</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc-3","mvc","html-encode"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":891,"score":4,"question_id":8402230,"title":"MVC3 TextBoxFor with encoded text","body":"<p>Is there a way to use TextBoxFor helper with encoded text?</p>\n\n<p>for example:\nWhen using the following helper of MVC3 With Razor view engine :</p>\n\n<pre><code>@Html.TextBoxFor(model =&gt; model.Description)\n</code></pre>\n\n<p>and the value of model.Description is encoded, for example:</p>\n\n<pre><code> &amp;lt;script&amp;gt;alert();&amp;#39;&amp;lt;/script&amp;gt;\n</code></pre>\n\n<p>the result is text box with the the encoded string, \nwhen the wanted result is text box with the decoded string:</p>\n\n<pre><code> &lt;script&gt;alert();'&lt;/script&gt;\n</code></pre>\n\n<p>Is there a way to use the MVC TextBoxFor with encoded string instead of using</p>\n\n<pre><code>@Html.TextBox(\"Description\", Server.HtmlDecode(Model.Description))\n</code></pre>\n\n<p>?</p>\n"},{"tags":["html","css","mvc","razor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":11958434,"title":"Html.CheckBox Specify Class","body":"<p>How do we specify the class of Html.CheckBox ?</p>\n\n<p>I am trying something like this, but this doesn't work.</p>\n\n<pre><code>   @Html.CheckBox(\"chk_\", abc.IsChecked, new { @class=\"checkbox\" })\n</code></pre>\n\n<p>THanks !!</p>\n"},{"tags":["c#",".net","database","mvc","ef-code-first"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12300429,"title":"History tables in .NET MVC code first approach?","body":"<p>I need to track a change history of some database objects in a MVC .NET application using the code first approach.</p>\n\n<p>Here is what is meant by history table:\n<a href=\"http://database-programmer.blogspot.de/2008/07/history-tables.html\" rel=\"nofollow\">http://database-programmer.blogspot.de/2008/07/history-tables.html</a></p>\n\n<p>I would use a history table for it, if I would write the SQL queries myself. But in the code first approach the SQL is generated... and I would like to stick to this paradigm.</p>\n\n<p>The goal is a structure that holds all \"old\" revisions of changed/deleted entries together with some additional information (e.g. timestamp, user who changed it, ...)</p>\n\n<p>Any ideas?</p>\n\n<p>Regards,\nStefan</p>\n\n<p>To be more specific - here is some code example:</p>\n\n<pre><code>public class Node {\n public int NodeID { get; set; }\n\n public string? data { get; set; }  // sample data\n}\n\n\npublic class NodeHistory {\n  public int NodeID { get; set; }\n  public string? data { get; set; }\n\n  public int UserID { get; set; }\n  public DataTime timestamp { get; set; }\n}\n</code></pre>\n\n<p>What I need is some \"framework\" assistance to be able to add an entry to NodeHistory whenever a change is -persisted- to table the Node structure.</p>\n\n<p>That means: Just overriding the set-method isn't a solution, as it would also create an entry, if the change to a \"Node\" is not persisted at the end (e.g. roleback).</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12306460,"title":"Using View in MVC","body":"<p>(Using PHP style code)</p>\n\n<p>Lest imagine we have Controller within which we have array of string data:</p>\n\n<pre><code>class Controller {\n    private $data = array('a', 'b', 'c', 'd', 'e');\n}\n</code></pre>\n\n<p>Now Controller have to pass that data to View to produce lets say such HTML:</p>\n\n<pre><code>&lt;p&gt;a&lt;/p&gt;\n&lt;p&gt;b&lt;/p&gt;\n&lt;p&gt;c&lt;/p&gt;\n&lt;p&gt;d&lt;/p&gt;\n&lt;p&gt;e&lt;/p&gt;\n</code></pre>\n\n<p><strong>Question:</strong></p>\n\n<p>Should we pass all the array to View for it to process array data within itself like:</p>\n\n<pre><code>class Controller {\n  private $data = array('a', 'b', 'c', 'd', 'e');\n  function __construct($data) { // Assigns data array to view\n    $view = new View;\n    $view-&gt;produceHTML($data)\n  }\n}\n\nclass View {\n  public function produceHTML($data) {\n    foreach($data as $value) {\n      echo \"&lt;p&gt;$value&lt;/p&gt;\" . PHP_EOL; // PHP_EOL - PHP Predifined constant (End Of Line)\n    }\n  }\n}\n</code></pre>\n\n<p>Or we should define different Views for every element like:</p>\n\n<pre><code>class Controller {\n  private $data = array('a', 'b', 'c', 'd', 'e');\n  function __construct($data) { // Assigns data array to view\n    $view = new View;\n    $view-&gt;produceHTML($data)\n  }\n}\n\nclass View {\n  public function produceHTML($data) {\n    foreach($data as $value) {\n      $this-&gt;produceP($value);\n    }\n  }\n\n  private function produceP($value) {\n    echo \"&lt;p&gt;$value&lt;/p&gt;\" . PHP_EOL;\n  }\n}\n</code></pre>\n\n<p>Using short data values is just for the example. In most cases I've encountered much more complex Views which produce big <code>div</code>s with lots of nested elements.</p>\n\n<p>But what is the best practice to send collection of elements to View?</p>\n"},{"tags":["mvc","redirecttoaction"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":280,"score":0,"question_id":8390781,"title":"How can I pass a parameter or value from one view to another through a redirect to action?","body":"<p>I have a 'login' view and a 'reset password' view in my MVC project.</p>\n\n<p>After a successful reset password action, I redirect back to the 'login' view.</p>\n\n<p>I'd like the 'login' view to have a means of checking whether a successful password reset has just happened so it can display a confirmation/success message to the user. What's the best mechanism for this?</p>\n\n<p>I tried adding to the view bag and the view data from the reset view and have the login view see if there's a value related to resetting in the bag or data, but the bag is reset after the redirect.</p>\n"},{"tags":["css","mvc","jqgrid","jqgrid-asp.net"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":12290144,"title":"Set Row Names in JQGrid","body":"<p>Currently working in MVC 3 in Visual Studio 2012, and looking to dynamically fill a jqGrid with data from a Database.</p>\n\n<p>Hypothetically speaking, I would like to dynamically name the \"row headers\" on the far left where they are ordered numerically (ie- 1, 2, 3,..., 10). Ordering shouldn't matter in regards to the rows, while the column headers would be some fixed \"mm-yyyy\" format.</p>\n\n<p>I'm not sure if this is entirely possible, but if anyone could give me some pointers I'd much appreciate it.</p>\n\n<p><a href=\"http://i.stack.imgur.com/PBX2A.png\" rel=\"nofollow\">Hypothetical Image</a></p>\n"},{"tags":["mvc","razor","model","controller","tempdata"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12303888,"title":"MVC Razor multiple page wizard with","body":"<p>I am trying to build a three page wizard where I have one Model class, one Controller and three views.  Each page is gathering data for the model, however I do not have enough data to create a database record until the final page.  I have put together a dirty example of the problem.</p>\n\n<p>Model Class:</p>\n\n<pre><code>public class Member\n{\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public string Email { get; set; }\n    public DateTime DateOfBirth { get; set; }\n    public int DaysMemberFor { get; set; }\n\n    public int CurrentStep { get; set; }\n\n    public Member() { }\n}\n</code></pre>\n\n<p>Controller Class:</p>\n\n<pre><code>public class MemberController : Controller\n{\n    public ActionResult Index()\n    {\n        return PartialView(\"WP1\");\n    }\n\n    [HttpPost]\n    public ActionResult Index(Wizard.Models.Member m)\n    {\n        var x = this.TempData[\"Model\"];\n        // x will contain the data from the previous page\n        // m contains posted page         \n\n        return PartialView(\"WP\" + (m.CurrentStep + 1), this.TempData[\"Model\"]);\n    }\n}\n</code></pre>\n\n<p>In my views the first page collects FirstName and LastName.  Second page collects Email and DateOfBirth.  Final page asks for NumberofDaysMemberFor.</p>\n\n<p>In this code I am receiving back the current page data m and can retrieve the previous pages data from the TempData.  </p>\n\n<p>On running this code, the first page works correctly however when I post back the second page I only have the email and DOB in m.  Ideally I would like to use the same model object between each request so that I can build it up from each post. </p>\n\n<p>Instead of having to write some copy type methods to keep the object fully populated I would ideally like to bind the model across the page requests so all of the elements are added to as the user works through the wizard.</p>\n\n<p>Is this possible?</p>\n\n<p>Thanks</p>\n\n<p>Mark</p>\n"},{"tags":["c#","mvc","events","asp.net-webforms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":90,"score":-1,"question_id":12302074,"title":"asp.net mvc and webforms use two button","body":"<p>My problem is I'm trying do something to on mvc webforms </p>\n\n<pre><code>page name = addition.aspx \nevent = button1_click\nint numberOne = convert.toint32(textbox1.text);\nint numberTwo = convert.toint32(textbox2.text);\nint myResult = numberOne + numberTwo;\nlabel1.text = myResult.Tostring();\n</code></pre>\n\n<p>.</p>\n\n<pre><code>page name = addition.aspx (same page) \nevent = button2_click\nint numberthree = convert.toint32(textbox3.text);\nint numberfour = convert.toint32(textbox4.text);\nint myResult2 = numberOne + numberTwo;\nlabel2.text = myResult2.Tostring();\n</code></pre>\n\n<p>my question is I want to do sameting  for MVC ( where is event ... i guess i have to conversion on the page post and page get ... am i wrong) </p>\n"},{"tags":["jquery","mvc","partial-views"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12302212,"title":"Losing functionality of some Jquery methods after using $(selector).load(\"myMethod\")","body":"<p>Here is my scenario...</p>\n\n<p>i'm using partial views to load a page. To load to partial view on the page I use the JQuery method </p>\n\n<pre><code>$(\"#elementA\").load(\"myMethod\")\n</code></pre>\n\n<p>myMethod does an ajax call which returns my partial view with a list of objects. All this works fine. The problem is that inside one of my partial views i have a click event that should fire </p>\n\n<pre><code>$(\"#elementB\").modal() \n</code></pre>\n\n<p>After i call </p>\n\n<pre><code>$(\"#elementA\").load(\"myMethod\")\n</code></pre>\n\n<p>the </p>\n\n<pre><code>$(\"#elementB\").modal() \n</code></pre>\n\n<p>method does not respond... </p>\n\n<p>The same </p>\n\n<pre><code>$(\"#elementB\").modal() \n</code></pre>\n\n<p>works if i don't use the load() function but then i dont know how to refresh the list after a new element is added to my database without using the <code>$(\"#elementA\").load(\"myMethod\")</code>....</p>\n\n<p>I would apreciate any help with this. Thank you.  </p>\n"},{"tags":["php","mvc","front-controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12302023,"title":"Nesting controllers with the Front Controller Pattern and MVC","body":"<p>I'm developing a web application in PHP using an MVC-approach (not using any framework, pure PHP). As is often the case with MVC, every request arrives at a front controller which routes it to the corresponding controller, and executes the requested action. The URL structure looks like this:</p>\n\n<pre><code>www.site.com/controller/action\n</code></pre>\n\n<p>Let's say I'm building an e-commerce site which has products in different categories. Possible URLs could be:</p>\n\n<pre><code>www.site.com/sofas/overview\nwww.site.com/video-games/overview\n</code></pre>\n\n<p>For the first URL, the \"sofas\" controller is loaded, and the overview() method of it is executed. This all works well until we have to nest these products within parent catagories. I'll take the two previous URLs to demonstrate what I mean:</p>\n\n<pre><code>www.site.com/furniture/sofas/overview\nwww.site.com/electronics/video-games/overview\n</code></pre>\n\n<p>Now, the \"video-games\" controller is nested within the \"electronics\" controller. However, with the current 'load controller -> execute action' structure this won't work. </p>\n\n<p>A possible solution would be to create a method within the parent controller (\"electronics\") which gets executed in case an unexisting action is requested (\"video-games\"). This method checks whether the requested action exists as a controller. If so, the controller gets loaded and the action (\"overview\") of it gets executed.</p>\n\n<p>I fruitlessly searched for solutions to this limitation of the standard front controller pattern, including <a href=\"http://stackoverflow.com/questions/11962437/multi-level-controllers-for-mvc-architecture\">here</a> on SO. I think my implementation of MVC is now correct, but the front controller still brings limitations.</p>\n"},{"tags":["c#","linq","mvc","razor"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12301046,"title":"MVC Razor brackets inside code block","body":"<p>I'm having issues do linq queries inside of a code block.</p>\n\n<pre><code>@{\n  var foo = @Model.Things.Select((value, index) =&gt; new { value, index });\n}\n</code></pre>\n\n<p>The problem is the new{}, it sees the second bracket as closing the entire code block. Any way to escape it?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","methods","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12296325,"title":"Ruby on Rails Controller methods separately?","body":"<p>Just to be educated I wanted to know if it is a good practice to have one controller method for both GET and POST actions, e.g <code>def signup ... end</code>, which would display a form and if <code>request.post?</code> is true - then perform all the business-logic and so on. Is it any good approach, or should I have these methods being separated from each other ?</p>\n\n<p>Thanks in advice!  </p>\n"},{"tags":["javascript","mvc","backbone.js","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12295309,"title":"Return to index in backbone.js router","body":"<p>Just wanted to know, what is the proper way of returning to the index in backbone.js? So this is an outline of my code. I have a router, where it creates an instance of a view and passes the current instance of the router.</p>\n\n<pre><code>var AppRouter = Backbone.Router.extend({\n    callMasterViefw: function(){\n        MasterView.initialize(this);\n    },\n})\n</code></pre>\n\n<p>Inside the <code>MasterView</code>, I create an instance of the <code>MasterView</code> and assign the router to it as well. I have a function, called <code>reRouteToIndex</code>, where basically i want to reroute to the index page.</p>\n\n<pre><code>MasterView= Backbone.View.extend({\n    render: function(){},\n    reRouteToIndex(){\n        this.router.navigate(\"\", {trigger: true,replace: true});\n    },\n});\n</code></pre>\n\n<p>All this works, but the problem is when I redirect to the index I return to something like <code>www.test.com/index.html/#</code>. Where it is important to note the # at the end. I was wondering if there was a way to route to the original path without the <code>#</code> like this <code>www.test.com/index.html</code>?</p>\n"},{"tags":["php","forms","mvc","validation","codeigniter"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":660,"score":0,"question_id":7229878,"title":"CodeIgniter: Form Validation Problem","body":"<p>I am using CodeIgniter to validate the form. Once the form is submitted and there's some validation error, I want to form to remember the input fields values. At the moment, I validate all fields at once and it works fine (ie. I can get the input fields values in the form if the validation fails.</p>\n\n<p><strong>The following code works fine:</strong></p>\n\n<p><strong>View:</strong></p>\n\n<pre><code>&lt;?php if ( form_error('name') ) { ?&gt;\n    &lt;input type=\"text\" class=\"error\" name=\"name\" value=\"&lt;?php echo set_value('name'); ?&gt;\"/&gt;\n    &lt;?php echo form_error('name', '&lt;p class=\"error\"&gt;', '&lt;/p&gt;'); \n} else { ?&gt;\n    &lt;input type=\"text\" name=\"name\" value=\"&lt;?php echo set_value('name'); ?&gt;\"/&gt;\n&lt;?php } ?&gt;\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>function validate_form{\n\n    $this -&gt; form_validation -&gt; set_rules( 'name', 'name', 'trim|required|' );\n    $this -&gt; form_validation -&gt; set_rules( 'email', 'Email', 'trim|required|callback_email_available' );\n    $this -&gt; form_validation -&gt; set_rules( 'captcha', 'captcha', 'callback_check_captcha' );\n\n    if ( $this -&gt; form_validation -&gt; run() === FALSE ) \n    {\n        $this -&gt; load -&gt; view( 'signup_view' );\n    }\n    else\n    {\n        //process form and insert to db.\n    }   \n}\n</code></pre>\n\n<p><strong>My Problem:</strong></p>\n\n<p>Now, Instead of above approach (to validate all fields at once), I want to validate only one field 'captcha' at first. So If the captcha field is validated, then i want to valiate the other fields. Otherwise i want to return to form and display the captcha error, but I want to keep the other fields values the input fields, so that the user don't have to type again.</p>\n\n<p>I am trying following code, but it does not work fine. For example, when I submit the form, the fields dont seem to remember the values.\nThe view code is same as above.</p>\n\n<p><strong>Code which I am trying and is not working:</strong></p>\n\n<pre><code>$this -&gt; form_validation -&gt; set_rules( 'captcha', 'captcha', 'callback_check_captcha' );\n\nif ( $this -&gt; form_validation -&gt; run() === FALSE ) \n    {\n        $this -&gt; load -&gt; view( 'signup_view' );\n    }   \nelse\n    {\n    $this -&gt; form_validation -&gt; set_rules( 'name', 'Name', 'trim|required|' );\n    $this -&gt; form_validation -&gt; set_rules( 'email', 'Email', 'trim|required|callback_email_available' );\n\n        if ( $this -&gt; form_validation -&gt; run() === FALSE ) \n            {\n                $this -&gt; load -&gt; view( 'signup_view' );\n            }\n        else\n            {\n            //process form and insert to db.\n        }\n\n    }\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12293473,"title":"How could I manage to display content from table inside a view that belongs to a seperate controller/model","body":"<p>Basically, if I have a table in controller A which I wanted to display in a view belonging to controller B how would I go about it. </p>\n"},{"tags":["java","oracle","mvc","jsp","tomcat"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":202,"score":0,"question_id":12291866,"title":"Display data from database in jsp - MVC","body":"<p>I am trying to come up with a code that complies with the mvc architecture and display the content of a database in the jsp page.. The connection and processing of data to be in java files and only the display of the data will be included in the jsp page.<br>\nI am using tomcat server. I have ojdbc6.jar and jstl-1.2.jar on my WEB-INF/lib folder.</p>\n\n<p>(Update) After changing my web.xml to point to index I got java.lang.StackOverflowError error.</p>\n\n<p>Is there something missing/wrong with the code? Also if I am not complying with the MVC design, let me know.\nAny idea would be appreciated. \nThank you.</p>\n\n<p>Here is the code I am trying to run.</p>\n\n<p><strong>DBConn.java</strong></p>\n\n<pre><code>    public class DBConn extends HttpServlet{\n      @Override\n      public void doGet(HttpServletRequest request, \n                        HttpServletResponse response) \n                           throws IOException, ServletException {\n        Connection connection = null;\n        Statement stmt=null;\n        ResultSet rs=null;\n        List&lt;Employee&gt; dataList = new ArrayList&lt;Employee&gt;();\n        try {\n            // Load the JDBC driver\n            String driverName = \"oracle.jdbc.driver.OracleDriver\";\n            Class.forName(driverName);\n\n            // Create a connection to the database\n            String serverName = \"localhost\";\n            String portNumber = \"1521\";\n            String sid = \"xe\";\n            String url = \"jdbc:oracle:thin:@\" + serverName + \":\" + portNumber + \":\" + sid;\n            String username = \"hr\";\n            String password = \"hr\";\n            connection = DriverManager.getConnection(url, username, password);\n\n            stmt = connection.createStatement();\n            rs = stmt.executeQuery(\"select employee_id, first_name from employees\");\n            while (rs.next()) {\n                dataList.add(new Employee(rs.getInt(\"employee_id\"),\n                                          rs.getString(\"first_name\")));\n            }\n        } catch (ClassNotFoundException e) {\n            // Could not find the database driver\n            e.printStackTrace();\n        } catch (SQLException e) {\n            // Could not connect to the database\n            e.printStackTrace();\n        } finally{\n            if(rs!=null){\n                try{ \n                  rs.close();\n                }catch(Exception ex) { /* */ ex.printStackTrace();}\n            }\n            if(stmt!=null){\n                try{ \n                  stmt.close();\n                }catch(Exception ex) { /* */ ex.printStackTrace();}\n            }\n            if(connection !=null){\n                try{ \n                  connection.close();\n                }catch(Exception ex) { /* */ ex.printStackTrace();}\n            }\n         }\n\n         request.setAttribute(\"data\", dataList);\n         String strViewPage = \"index.jsp\";\n         RequestDispatcher dispatcher = request.getRequestDispatcher(strViewPage);\n          if (dispatcher != null) {\n             dispatcher.forward(request, response);\n          }\n       }\n    }\n</code></pre>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>public class Employee {\n\n    private Integer id;\n    private String name;\n    //public constructors and\n    //setter/getter\n\n    public Employee(Integer id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p><strong>index.jsp</strong></p>\n\n<pre><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n        &lt;table border=\"1\" width=\"303\"&gt;\n            &lt;tr&gt;\n                &lt;td width=\"119\"&gt;&lt;b&gt;Emp ID&lt;/b&gt;&lt;/td&gt;\n                &lt;td width=\"168\"&gt;&lt;b&gt;First Name&lt;/b&gt;&lt;/td&gt;\n            &lt;tr\n        &lt;form action=\"post\"&gt;\n            &lt;c:forEach var=\"employee\" items=\"${data}\"&gt;\n                &lt;br/&gt; ${employee.id}  ${employee.name}\n            &lt;/c:forEach&gt;\n        &lt;/form&gt;\n        &lt;/tr&gt;    \n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;DBConn&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;DB.DBConn&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;DBConn&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/index&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>    09 6, 12 10:09:00 AM org.apache.catalina.core.ApplicationDispatcher invoke\n    SEVERE: Servlet.service() for servlet DBConn threw exception\n    java.lang.StackOverflowError\n        at java.util.HashMap$KeySet.&lt;init&gt;(HashMap.java:872)\n        at java.util.HashMap$KeySet.&lt;init&gt;(HashMap.java:872)\n        at java.util.HashMap.keySet(HashMap.java:869)\n        at java.util.HashSet.iterator(HashSet.java:153)\n        at java.util.Collections$1.&lt;init&gt;(Collections.java:3382)\n        at java.util.Collections.enumeration(Collections.java:3381)\n        at org.apache.catalina.connector.Request.getAttributeNames(Request.java:1027)\n        at org.apache.catalina.connector.RequestFacade.getAttributeNames(RequestFacade.java:300)\n        at org.apache.catalina.core.ApplicationHttpRequest$AttributeNamesEnumerator.&lt;init&gt;(ApplicationHttpRequest.java:927)\n        at org.apache.catalina.core.ApplicationHttpRequest.getAttributeNames(ApplicationHttpRequest.java:243)\n        at org.apache.catalina.core.ApplicationHttpRequest$AttributeNamesEnumerator.&lt;init&gt;(ApplicationHttpRequest.java:927)\n        at org.apache.catalina.core.ApplicationHttpRequest.getAttributeNames(ApplicationHttpRequest.java:243)\n</code></pre>\n"},{"tags":["php","mvc","codeigniter","templates"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12290094,"title":"(Icon) helpers in views/templates (CodeIgniter)","body":"<p>I'm trying to get a grip on CodeIgniter. In my view I use the template parser, like this:</p>\n\n<pre><code>{blog_entries}\n&lt;h5&gt;{title}&lt;/h5&gt;\n&lt;p&gt;{body}&lt;/p&gt;\n{/blog_entries}\n</code></pre>\n\n<p>Now I want to use an icon font to display icons within a blog entry. This icon font may change in the future so I want to create an icon font helper (and I think I know how do that). Writing for example <code>edit_icon('span')</code> would produce the HTML <code>&lt;span class=\"icon\"&gt;*&lt;/span&gt;</code> where <code>*</code> is whatever character that gives me an edit icon.</p>\n\n<p>My question is: should this helper be used in the view or in the controller? This <code>&lt;span&gt;</code> would obviously need a link around it. So should I go about it like this:</p>\n\n<pre><code>{blog_entries}\n&lt;h5&gt;{title} &lt;a href=\"{edit_link}\"&gt;&lt;?php echo edit_icon('span') ?&gt;&lt;/a&gt;&lt;/h5&gt;\n&lt;p&gt;{body}&lt;/p&gt;\n{/blog_entries}\n</code></pre>\n\n<p>or should the whole <code>&lt;a href=\"{edit_link}\"&gt;&lt;?php echo edit_icon('span') ?&gt;&lt;/a&gt;</code> be saved in the <code>$data</code> variable and passed on to the parser? How would you go about it?</p>\n"},{"tags":["mvc","application","mvvm","frameworks"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":130,"score":2,"question_id":8934377,"title":"Application Framework to integrate ASP.NET MVC and MVVM","body":"<p>We have a WPF application. There are plans to extend this application in the future as well as port some of the functionality to the web.</p>\n\n<p>I know that I should be using the MVVM design pattern for WPF. I would like to use ASP.NET MVC for the web application. My question is, is there an application framework that sort of integrates these 2 and makes it easier to develop WPF and ASP.NET apps side by side. </p>\n\n<p>The goal is minimal code duplication.</p>\n\n<p>I am looking at CSLA.NET right now. It claims support for ASP.NET MVC and MVVM apps. I am not sure how much support there is until I fully evaluate it.</p>\n\n<p>Thanks,</p>\n\n<p>Nachiket</p>\n"},{"tags":["mvc","cakephp","thrift"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12286338,"title":"Any examples of using Apache Thrift with Cakephp?","body":"<p>I'm reading this tutorial <a href=\"http://willwarren.com/2012/01/24/creating-a-public-api-with-apache-thrift/\" rel=\"nofollow\">Creating a public API with Apache Thrift</a> and I see how the \nThrift compiler creates a PHP Object Interface for use on the server. But it's not clear how I can implement that interface from an MVC framework like CakePHP since there is no HTTP request.</p>\n\n<p>Is there an easy way to map thrift inteface methods to the controller actions in CakePHP?</p>\n"},{"tags":["ajax","mvc","spring","login","spring-security"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":188,"score":0,"question_id":7105568,"title":"Considering authentication when using Ajax with Spring MVC","body":"<p>I am trying to use ajax in my spring mvc application. When I try a url (post/get) which is secured and needs authentication, the response is the html of login page as it is redirected behind the scenes.\nWhat is the best approach to overcome this issue?</p>\n"},{"tags":["java","mvc","jsf","ejb"],"answer_count":2,"favorite_count":4,"up_vote_count":2,"down_vote_count":0,"view_count":3674,"score":2,"question_id":2530791,"title":"MVC architecture example using JSF 2.0 and EJB 3?","body":"<p>Somebody knows an example of this? an application made with JSF 2.0 and EJB 3? directory structure, etc, those kind of things, Im trying to approach the best way to create a Java EE app using those technologies.</p>\n"},{"tags":["java","mvc","java-ee","spring-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":169,"score":1,"question_id":12089799,"title":"How Spring's contextConfigLocation xml and Controller class are connected?","body":"<p>i'm a beginner in Spring MVC.So i didn't understand the flow of control is going from controller class to training-servlet.xml and vice-versa.\ncontextConfigLocation file(training-servlet.xml) is explained as :</p>\n\n<pre><code>&lt;beans:bean id=\"userService\" class=\"com.my.control.UserServiceImpl\" /&gt;\n&lt;beans:bean name=\"/userRegistration.htm\" class=\"com.my.control.HomeController\"&gt;\n    &lt;beans:property name=\"validator\"&gt;\n        &lt;beans:bean class=\"com.my.validations.HomeValidations\" /&gt; \n    &lt;/beans:property&gt;\n    &lt;beans:property name=\"userService\" ref=\"userService\"&gt;&lt;/beans:property&gt;\n    &lt;beans:property name=\"formView\" value=\"userForm\"&gt;&lt;/beans:property&gt;\n    &lt;beans:property name=\"successView\" value=\"userSuccess\"&gt;&lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;beans:property name=\"prefix\" value=\"/WEB-INF/jsp/\" /&gt;\n    &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>My Controller class extends SimpleFormController and is  :</p>\n\n<pre><code>public class HomeController extends SimpleFormController {    \n    private UserService userService;\n    public HomeController() {\n        setCommandClass(User.class);\n        setCommandName(\"user\");\n    }\n    public void setUserService(UserService userService) {\n        this.userService = userService;\n    }\n    protected ModelAndView onSubmit(Object command) throws Exception {\n        System.out.println(\"Hai Inside\");\n        User user = (User) command;\n        userService.add(user);\n        return new ModelAndView(\"userSuccess\",\"user\",user);\n    }    \n}\n</code></pre>\n\n<p>Please help me to understand the flow lies between model and controller.</p>\n"},{"tags":["spring","mvc","spring-mvc","dojo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":11935454,"title":"Issue integrating dojo and Spring JS","body":"<p>I am getting JS error and dojo not getting reflected </p>\n\n<p>while developing spring MVC application along with dojo i am getting the mentioned issue. The configuration steps that i followed are below.\nIn web.xml below code is implemented for accessing the JS files/Resources present in springframework.js Jar along with other application configurations</p>\n\n<pre><code>    &lt;servlet&gt;\n       &lt;servlet-name&gt;Resource Servlet&lt;/servlet-name&gt;\n       &lt;servlet-class&gt;org.springframework.js.resource.ResourceServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n       &lt;servlet-name&gt;Resource Servlet&lt;/servlet-name&gt;\n       &lt;url-pattern&gt;/resources/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>In JSP the below code snippet is added for importing dojo library and supporting spring JS\nfiles from JAR(springframework.js)</p>\n\n<pre><code>    &lt;style type=\"text/css\"&gt;\n    @import url \n    (\"${pageContext.request.contextPath}/resources/dijit/themes/tundra/tundra.css\");\n    &lt;/style&gt;\n    &lt;script type=\"text/javascript\" src=\"&lt;c:url    \n            value=\"/resources/dojo/dojo.js\" /&gt;\"       \n            djconfig=\"parseOnLoad: true\"&gt; &lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"&lt;c:url    \n             value=\"/resources/spring/Spring.js\" /&gt;\"&gt;      \n    &lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"&lt;c:url value=\"/resources/spring/Spring-  \n                Dojo.js\" /&gt;\"&gt; &lt;/script&gt;\n     &lt;script type=\"text/javascript\"&gt;dojo.require(\"dojo.parser\");&lt;/script&gt; \n</code></pre>\n\n<p>My doubt is like whether the imported JS files in JSP has to be present/explicitly downloaded into and kept in resource directory under webcontent or are those files present in the springframework.js JAR file? and will it be referred by ResourceServlet configured in web.xml dynamically?.</p>\n\n<p>i tried with both options and still i am getting the JS Error as Object Spring is undefined.\ni am using <strong>spring decoration</strong> as below and that is the place(<strong>Spring.addDecoration</strong>) where JS Error occurs(<strong>Spring undefined</strong>).</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        Spring.addDecoration(new Spring.ElementDecoration({\n    elementId: \"userFname\",\n    widgetType: \"dijit.form.ValidationTextBox\"\n    }));\n    &lt;/script&gt;\n</code></pre>\n\n<p>Please help me to sort out this</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12282395,"title":"Not getting xDocument.Load(myUrlString) descendants issue","body":"<p>here my code:</p>\n\n<pre><code> const string SearchUrl = @\"http://www.dezrez.com/DRApp/DotNetSites/WebEngine/property/Default.aspx?apiKey=C4711F4C-9021-46D2-AA20-AA8755795B41&amp;xslt=-1&amp;eaid=82\";\n\npublic DezRezPropertyResults Search(Guid sessionGuid, int? page = 1, string location = \"\", int perPage = 10)\n{\n  StringBuilder sbUrl = new StringBuilder();\n  sbUrl.Append(String.Concat(SearchUrl, \"&amp;sessionGUID=\", sessionGuid.ToString()));\n  sbUrl.Append(String.Concat(\"&amp;page=\", page.GetValueOrDefault(1)));\n  if (!String.IsNullOrWhiteSpace(location))\n    sbUrl.Append(String.Concat(\"&amp;searchAllAddress=\", location));\n  sbUrl.Append(\"&amp;rentalPeriod=4\");// Rental properties as PCM\n  sbUrl.Append(String.Concat(\"&amp;perpage=\", perPage));\n\n  var xDoc = XDocument.Load(sbUrl.ToString());\n\n  var xmlProperties = xDoc.Descendants(\"property\");  \n\n  DezRezPropertyResults results = new DezRezPropertyResults();\n\n  var pages = xDoc.Descendants(\"pages\").FirstOrDefault();\n  if (pages == null)\n  {\n    // I hardcoded this but still I get some pisc/detail missing in the carousel?\n    results.Page = 1;\n    results.TotalResults = 1;\n    results.PageCount = 1;\n    results.ResultsPerPage = 1;\n  }\n  else\n  {\n    results.Page = Convert.ToInt32(pages.Attribute(\"page\").Value);\n    results.TotalResults = Convert.ToInt32(pages.Attribute(\"count\").Value);\n    results.PageCount = Convert.ToInt32(pages.Attribute(\"pageCount\").Value);\n    results.ResultsPerPage = Convert.ToInt32(pages.Attribute(\"perPage\").Value);\n  }\n</code></pre>\n\n<p>pages tag in xml:\n      \n       \n       \n       \n       \n      </p>\n\n<p>the url for this site: www.fasttrak.co.uk\nthe problem with the carousel is that some of the pics/detail is blank?\nIf I do not have the id pages == null test i get an error {\"Object reference not set to an instance of an object.\"} on line:\nresults.Page = Convert.ToInt32(pages.Attribute(\"page\").Value);</p>\n\n<p>because var pages = xDoc.Descendants(\"pages\").FirstOrDefault(); is null.</p>\n\n<p>why is this? </p>\n"},{"tags":["asp.net-mvc","mvc","presentation-layer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12279265,"title":"MVC: calculation of UI elements in Controller or View?","body":"<p>I am working on an ASP.Net MVC application, and its architecture consists of the usual DAL, BL, and PL layers.</p>\n\n<p>Addresses are stored as separate fields in the database, but shall be displayed in a single field in the UI.</p>\n\n<p>When it comes to displaying, I need to handle various optional fields (e.g. state, country, several lines for the address).</p>\n\n<p>My question: should this calculation of the effective display string be handled by the controller or by the view? Does the MVC paradigm offer some rules or recommendations for this question?</p>\n"},{"tags":["wcf","mvc","ninject"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":841,"score":3,"question_id":8712682,"title":"Ninject MVC together with WCF extension does not work with InRequestScope","body":"<p>I have gotten Ninject MVC to work with Ninject WCF to get it to work I added two lines to CreateKernel method</p>\n\n<pre><code>kernel.Bind&lt;ServiceHost&gt;().To&lt;NinjectServiceHost&gt;();\nKernelContainer.Kernel = kernel;\n</code></pre>\n\n<p>The dependencies are injected, but the Dispose method is not called, I've tried both with InRequestScope and doing my own scope Func return OperationContext.Current as Scope object, but the dispose is not called.</p>\n\n<p><strong>Update 2012-09-05</strong>\nThis info is obsolete, for MVC and WCF download from Nuget Ninject.MV3 and Ninject.Extensions.WCF (3.x) the MVC Nuget template will add a Ninject bootstrapper NinjectWebCommon.cs and to add support in a svc for ninject eddit the svc xml (Right click / View markup) and add <em>Factory=\"Ninject.Extensions.Wcf.NinjectServiceHostFactory\"</em> to the xml node</p>\n"},{"tags":["asp.net-mvc-3","mvc","asp.net-mvc-4","asp.net-spa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":152,"score":1,"question_id":11006573,"title":"Effects of MVC SPA being removed","body":"<p>I am currently working on a tool and writing it in MVC SPA (single page application) and just now found out it was removed from the final release. What does that means to my project. do i have to stop working and move to MVC Internet application. I have not found much info in <a href=\"http://www.asp.net/single-page-application\" rel=\"nofollow\">http://www.asp.net/single-page-application</a></p>\n\n<p>Please let me know the effects and possible work around on this issue</p>\n\n<p>Thanks</p>\n"},{"tags":["python","mvc","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12270327,"title":"How to connect a signal from the controller in PyQt4? (iOS like MVC structure in PyQt4)","body":"<p>Why doesn't the following example work?</p>\n\n<pre><code>from PyQt4 import QtGui\nimport sys\n\nclass TestView(QtGui.QWidget):\n\n    def __init__(self):\n        super(TestView, self).__init__()\n        self.initUI()\n\n    def initUI(self):\n        self.btn = QtGui.QPushButton('Button', self)\n        self.btn.resize(self.btn.sizeHint())\n        self.btn.move(50, 50)\n\nclass TestViewController():\n\n    def __init__(self, view):\n        view.btn.clicked.connect(self.buttonClicked)\n        view.show()\n\n    def buttonClicked(self):\n        print 'clicked'\n\ndef main():\n    app = QtGui.QApplication(sys.argv)\n    view = TestView()\n    TestViewController(view)\n    app.exec_()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>The example is supposed to represent an MVC structure (like the one in <a href=\"http://www.oracle.com/technetwork/articles/javase/index-142890.html\" rel=\"nofollow\">Figure 4</a> -- without the Model) where the controller (<code>TestViewController</code>) receives a reference to the view (<code>TestView</code>) and connects the clicked signal from the view's button <code>view.btn</code> to its function <code>self.buttonClicked</code>.</p>\n\n<p>I'm sure the line <code>view.btn.clicked.connect(self.buttonClicked)</code> is executed but, apparently, it has no effect. Does anyone knows how to solve that?</p>\n\n<hr>\n\n<p><strong>Update (awful solution):</strong></p>\n\n<p>In the example, if I replace the line</p>\n\n<pre><code>view.btn.clicked.connect(self.buttonClicked)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>view.clicked = self.clicked\nview.btn.clicked.connect(view.clicked)\n</code></pre>\n\n<p>it works. I'm still not happy with that.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc","validation"],"answer_count":7,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":6471,"score":6,"question_id":4521254,"title":"asp.net mvc validation must be a number custom error","body":"<p>I am new to asp.net and I have a problem. When the users insert in a editor for a decimal field something other than numbers, they get an error \"Field name\" is not a number. But I don't want them to receive this message I want them to receive another message. I have no problem with this with required and range validators.\nIs there any way for me to do this?</p>\n\n<p>I am not refering necessarily to changing the culture just displaying another message.</p>\n\n<p>Thanks.</p>\n"},{"tags":["mvc","routes","url-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":9819450,"title":"Url Pattern from RouteTable in MVC?","body":"<p>I have my route collection and want to retrieve the url pattern (defined in global.asax) of a given route.</p>\n\n<p>In application:</p>\n\n<pre><code>var route = RouteTable.Routes[\"UserIndex\"];\n</code></pre>\n\n<p>Global.asax:</p>\n\n<pre><code>routes.MapRoute(\nname: \"UserIndex\",\nurl: \"u/{userId}\"\n</code></pre>\n\n<p>In the web application I am not able to access the Url Pattern (in the route object) which were defined in global.asax. Is there another way?</p>\n\n<p>Im asking this because I need to define some route patterns to be used with Knockout.js in template list.</p>\n"},{"tags":["mvc","design-patterns","mvvm","mvp","presentation-model"],"answer_count":6,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":1898,"score":4,"question_id":4581000,"title":"What are the differences between MVP, Presentation Model, MVVM and MVC?","body":"<p>I have a pretty good idea how each of these patterns work some of the minor differences between them, but are they really all that different from each other?</p>\n\n<p>It seems to me that the Presenter, Presentation Model, ViewModel and Controller are essentially the same concept.</p>\n\n<p>Why couldn't I classify all of these concepts as controllers? I feel like it might simplify the entire idea a great deal.</p>\n\n<p>Can anyone give a clear description of their differences?</p>\n\n<p>I want to clarify that I do understand how the patterns work, and have implemented most of them in one technology or another. What I am really looking for is someone's experience with one of these patterns, and why they would not consider their ViewModel a controller for instance.</p>\n\n<p>I'll give some reputation points for this, but I'm looking for a really good answer.</p>\n"},{"tags":[".net","mvc","domain-driven-design"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2815,"score":4,"question_id":3731041,"title":"From MVC to MVVC","body":"<p>I don't want to store my domain model classes in the same assembly as my web platform.  The Models folder in the project structure is therefore useless to me.  I've however just finished the Music Store Tutorial and noticed how they create a \"ViewModels\" folder which makes lots of sense to me.</p>\n\n<p>Does it make sense to just treat the Models folder as a ViewModels folder?  Do many people do this?  Is there such a pattern as MVVC?</p>\n"},{"tags":["java","swing","mvc","gui","windowbuilder"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12270186,"title":"Applying MVC with Window Builder...?","body":"<p>I find myself in the sad situation of having to very quickly get used to both Window Builder (from what I can tell the easiest way to develop Swing interfaces in Java) and applying MVC to this.</p>\n\n<p>I've tracked down the following question and answer, here on stackoverflow, but I've still got questions...</p>\n\n<p><a href=\"http://stackoverflow.com/questions/7682165/is-it-possible-to-define-your-own-controller-in-window-builder-for-eclipse\">LINK</a></p>\n\n<p>The code is as follows:</p>\n\n<pre><code> myButton.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            myButtonActionPerformed(evt);\n        }\n    });\n\n    private void myButtonActionPerformed(java.awt.event.ActionEvent evt) {\n   if (myControl != null) {\n      myControl.myButtonAction();\n   }\n}\n</code></pre>\n\n<p>The control class could look something like:</p>\n\n<pre><code>class MyControl {\n\n    void myButtonAction() {\n        //TODO: implement control code\n    }\n\n}\n</code></pre>\n\n<p>For instance, if I want to call upon a View from my controller, a Label (for example) and have it display a message when I press the button...how do I go about manipulating the Label in the myButtonAction() function from the MyControl class?</p>\n\n<p>Or for populating/updating a JList...?</p>\n\n<p>I've found a dozen variants so far and I'd really appreciate it if someone could point me towards a complete Window Builder + MVC example or tutorial or spare a few code fragments in the window below.</p>\n\n<p>Many thanks...</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":2,"favorite_count":7,"up_vote_count":18,"down_vote_count":0,"view_count":4072,"score":18,"question_id":7385629,"title":"Backbone.js: complex views combining multiple models","body":"<p>So far all tests and tutorials i've been trying, to get the structure in my head, show me that a view is bound to 1 model.</p>\n\n<p>lets say i have a small app to store and manage contact details (an address book)\ni have multiple users that can login\nand they each have their own collection of contacts.</p>\n\n<p>the user detail view would be bound to the user model\nsame goes for contacts</p>\n\n<p>but say i would like to show a grid combining those two\nX axis showing all contacts in the app\nY axis showing all users, </p>\n\n<p><strong>how does this work? do i need to create a new model for this, to bind to a new view?</strong></p>\n\n<p>you get the idea, its just a theoretical example i am not building that app but its to get the idea of having a view combining multiple models</p>\n"},{"tags":["mvc","spring","tiles"],"answer_count":4,"favorite_count":22,"up_vote_count":12,"down_vote_count":0,"view_count":19347,"score":12,"question_id":2129876,"title":"Using Spring, mapping to root in web.xml, static resources aren't found","body":"<p>What I'm trying to do is map requests to the servlet root (correct terminology?).  I'm at the point where URLs are mapped to correct view but all the static content - css, javascript, images - that is part of the page cannot be found.</p>\n\n<p>So in my web.xml my servlet tag looks like this</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;springapp&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>My controller looks something like this:</p>\n\n<pre><code>@RequestMapping(\"/shop\")\npublic class TheShopController extends MyBaseController {\n\n    public static String VIEW = \"Tile.Shop\";\n\n    @Override\n    @RequestMapping(method = RequestMethod.GET)\n    protected ModelAndView processRequest(HttpServletRequest req, HttpServletResponse resp) {\n        ModelAndView mav = new ModelAndView(VIEW);\n        return mav;\n    }\n\n}\n</code></pre>\n\n<p>MyBaseController is very simple.  It looks like this:</p>\n\n<pre><code>public abstract class MyBaseController extends AbstractController {\n\n    protected Logger log = Logger.getLogger(getClass());\n\n    @Override\n    protected ModelAndView handleRequestInternal(HttpServletRequest req, HttpServletResponse resp) \n        throws Exception {\n\n        ModelAndView mav = processRequest(req, resp);\n        return mav;\n    }\n\n    protected abstract ModelAndView processRequest(HttpServletRequest req, HttpServletResponse resp);\n}\n</code></pre>\n\n<p>I'm using Tiles in my view layer. My configuration is as follows:</p>\n\n<p>\n  \n </p>\n\n<p>\n  \n   \n    /WEB-INF/tiles-defs.xml\n   \n  \n </p>\n\n<p>As I mentioned, the views are found but the static resources that are a port of the page can't be found.  Here is some typical logging out put:</p>\n\n<blockquote>\n  <p>2010-01-24 17:25:01,777 DEBUG [http-8080-7] servlet.DispatcherServlet\n  (DispatcherServlet.java:690) - DispatcherServlet with name 'springapp'\n  processing GET request for [/springapp/static/css/account.css]\n  2010-01-24 17:25:01,778 WARN  [http-8080-4] servlet.DispatcherServlet\n  (DispatcherServlet.java:962) - No mapping found for HTTP request with\n  URI [/springapp/static/css/shop.css] in DispatcherServlet with name\n  'springapp' 2010-01-24 17:25:01,778 DEBUG [http-8080-6]\n  servlet.FrameworkServlet (FrameworkServlet.java:677) - Successfully\n  completed request 2010-01-24 17:25:01,778 WARN  [http-8080-5]\n  servlet.DispatcherServlet (DispatcherServlet.java:962) - No mapping\n  found for HTTP request with URI [/springapp/static/css/offers.css] in\n  DispatcherServlet with name 'springapp' 2010-01-24 17:25:01,778 WARN \n  [http-8080-3] servlet.DispatcherServlet (DispatcherServlet.java:962) -\n  No mapping found for HTTP request with URI\n  [/springapp/static/css/scrollable-buttons.css] in DispatcherServlet\n  with name 'springapp'</p>\n</blockquote>\n\n<p>Going to \n<a href=\"http://localhost:8080/springapp/shop\" rel=\"nofollow\">http://localhost:8080/springapp/shop</a> works fine but the css and images are missing.</p>\n\n<p>I think that using Tiles is somehow complicating things but I\"m reluctant to get rid of it.  I'm wondering if I need to adjust my view resolution configuration needs to be tweeked somehow?  Chaining view resolvers maybe?  I'm just not that experienced in doing that.  </p>\n"},{"tags":["mvc","design","symfony1","symfony-1.4","propel"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":102,"score":4,"question_id":12209702,"title":"Correct MVC design for Symfony/Propel?","body":"<p>If making things work is only requirement, we can put all controlling login and DB handling logic even in the views &amp; it will work. However this is not a right approach for reusable design.</p>\n\n<p>Before I ask my real design question, below is my current understanding about separation of responsibilities in terms of model.</p>\n\n<ul>\n<li>All Database related code, even db related logic, should go in models.</li>\n<li>For a table, say 'my_tab', propel generate 4 classes, out of which only 2 classes 'MyTab.php' and 'MyTabPeer.php' should be edited.</li>\n<li>MyTabPeer.php must only have data fetching.</li>\n<li>Any logic, if required to fetch data, should go in 'MyTab.php'</li>\n</ul>\n\n<p>This is simple and I hope it is correct, if not, please correct me. </p>\n\n<p>Now, I have a special condition. I've 4 tables, say a, b, c, d. For that, propel generated 8 editable classes (excluding base*.php)</p>\n\n<pre><code>A.php    APeer.php    B.php    BPeer.php\nC.php    CPeer.php    D.php    DPeer.php\n</code></pre>\n\n<p>One page of my application, shows Mailbox (say). Mailbox is not a table in database but it gets its data from complex join query between above 4 tables along with lot of calculation/conditions.</p>\n\n<p>I generated that query, fetch data from it and displayed it. Mailbox is running as expected. However I did it in my controller (action class), which I know is not a right place for that.</p>\n\n<p><strong>My question is</strong>, where should I put that code? Possible options:</p>\n\n<ul>\n<li>Controller, I think, is not a right place for DB logic/fetch.</li>\n<li>I've 8 model classed however data do not belong to any one of them but as combination of them all.</li>\n<li>A separate helper/lib, but I know I'll never reuse that code as its unique page of the site.</li>\n<li>Anywhere else?</li>\n</ul>\n\n<p>Please suggest if I'm wrong but I guess I should put it in models as it is fetching data. Since A is primary table, I probably should put code in A.php and APeer.php. If that is correct place, next question is, What should go in A.php &amp; what should go in APeer.php? I've following operations to do:</p>\n\n<ul>\n<li>Some logic to decide what columns, should I select.</li>\n<li>As like mailbox, I can show received/sent message. Controller will tell what to show but there are some db logic to set conditions.</li>\n<li>Then really fetch data from complex Join query.</li>\n<li>Returned data will have all rows but I might need to merge few rows conditionally.</li>\n</ul>\n\n<p>As per my understanding, Point 3 should go in APeer.php and rest in A.php. Is my understanding correct?</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-2","asp.net-mvc-3"],"answer_count":1,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":2932,"score":5,"question_id":6342951,"title":"How to refresh multiple partialview on click of Ajax.Actionlink","body":"<p>I am using multiple partialview on my View.\non left hand side I have some link button.</p>\n\n<p>In middle I have 2 partialview let us suppose Up and Down\nI m able to update the Up partialview \nnow I want to update Down partial view on the click of same link button</p>\n\n<p>I m able to send only one UpdateTargetID in Ajax.ActionLink button\nbut I want to update 2 Partialview one the clcik of the same button.</p>\n\n<p>1) Is there any way I can pass more than one UpdateTargetID in Ajax.ActionLink \nor \n2) I can return Multiple partial view in Home Controller\nor any other way as u suggest \nPlease reply me</p>\n\n<p>Thanks Everyone for replying \nLet me tell you what I have done in order to refresh multiple partial view on a single click\nThis is the Action Link which I m using to click on \nHere I m using a OnSucess Function of this Action link in order to update, This Action link is on a partial view </p>\n\n<pre><code>                 &lt;%= Ajax.ActionLink(\"Select\", \"Employee\", new { Id = Employee.EmployeeID }, new AjaxOptions { UpdateTargetId = \"EmployeeDiv\", HttpMethod = \"Post\", OnSuccess = \"function(){EmployeeHistory(-2,\" + Employee.EmployeeID.ToString() + \");}\" })%&gt;\n</code></pre>\n\n<p>This is a javascript that I m calling from a partial view</p>\n\n<pre><code> function  EmployeeHistory(EmployeeID) {\n    var url = '&lt;%= Url.Action(\"PartialviewAction\", \"ControllerName\") %&gt;'\n    $('#PartialviewDiv1').load(url, { Id: EmployeeID });\n    var url1 = '&lt;%= Url.Action(\"PartialviewAction\", \"ControllerName\") %&gt;'\n    $('#PartialviewDiv2').load(url1, { Id: EmployeeID });\n\n}\n</code></pre>\n\n<p>and these two div are in Index view which I want to update</p>\n\n<pre><code>        &lt;div id=\"Paritalview div1\"&gt;&lt;% Html.RenderPartial(\"PartialViewname1\"); %&gt;&lt;/div&gt;\n        &lt;div id=\"Paritalview div2\"&gt;&lt;% Html.RenderPartial(\"PartialViewname2\"); %&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":11983353,"title":"Passing 2 models to a view possible?","body":"<p>I have a view that must render two reports.</p>\n\n<p>My action:</p>\n\n<pre><code>public ActionResult TradeUKKPIShowData(SundaysInMonthViewModel model) //show actual data in the view\n{\n  var tradesmenReportData = _reportingService.GetTradeUKKPITradesmen(model.SelectedSunday);\n  var jobSortedReportData = _reportingService.GetTradeUKKPIJobSorted(model.SelectedSunday);\n  ViewBag.jobSortedReportDate = model.SelectedSunday;\n  ViewBag.addJobSortedModel = jobSortedReportData;\n  return View(tradesmenReportData);\n}\n</code></pre>\n\n<p>My first problem is with the first two lines of the action above. What must I pass here?\nThe compile errors I get for those lines:</p>\n\n<p>'TradeUK.Services.IReportingService.GetTradeUKKPITradesmen(TradeUK.Entities.Reporting.KPIResults)' has some invalid arguments   </p>\n\n<p>All the stored procedure for the report needs is the date/sunday that was selected</p>\n\n<p>My SundaysInMonthViewModel:</p>\n\n<pre><code> namespace TradeUK.Admin.Web.ViewModels\n {\n    public class SundaysInMonthViewModel\n    {\n       public IEnumerable&lt;SelectListItem&gt; AllSundays { set; get; }\n       public string SelectedSunday { set; get; }\n    }\n }\n</code></pre>\n\n<p>Here IReportingServices.cs:</p>\n\n<pre><code>IEnumerable&lt;KPIResults&gt; GetTradeUKKPITradesmen(DateTime date);\nIEnumerable&lt;KPIResults&gt; GetTradeUKKPIJobSorted(DateTime date);\n</code></pre>\n\n<p>and the actual methods for above:</p>\n\n<pre><code> public IEnumerable&lt;KPIResults&gt; GetTradeUKKPITradesmen(DateTime date)\n {\n }\n\n\n public IEnumerable&lt;KPIResults&gt; GetTradeUKKPIJobSorted(DateTime date)\n {\n }\n</code></pre>\n\n<p>KPIResults:</p>\n\n<pre><code>namespace TradeUK.Entities.Reporting\n{\n public class KPIResults\n  {\n   public virtual string Title { get; set; }\n   public virtual int Total { get; set; }\n   public virtual int Week6 { get; set; }\n   public virtual int Week5 { get; set; }\n   public virtual int Week4 { get; set; }\n   public virtual int Week3 { get; set; }\n   public virtual int Week2 { get; set; }\n   public virtual int Week1 { get; set; }\n  }\n }\n</code></pre>\n\n<p>The other issue is on the return(View(tradesmenReportData,jobSortedReportData)\nCan I do this? In the actual view I have to foreach loops to show the to sets of report data.</p>\n\n<p>Please help?\nThanks</p>\n"},{"tags":["spring","mvc","integration","cas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12256354,"title":"SPRING MVC with CAS Integration","body":"<p>Can any one plz share me the working sample projects of both CAS cleint as well as CAS server. As I have been searching for working example but yet to fint any such a bundled examples clearly. please help me to understand the flow.</p>\n"},{"tags":["php","mvc","frameworks","php-5.3"],"answer_count":15,"favorite_count":7,"up_vote_count":20,"down_vote_count":1,"view_count":5503,"score":19,"question_id":1843276,"title":"Any PHP MVC framework planning to use 5.3 features?","body":"<p>I would like to get started with PHP, and 5.3 release seems to bring many nice features (namespaces, lambda functions, and many others).</p>\n\n<p>I have found some MVC frameworks, and some of them support only PHP 5:</p>\n\n<ul>\n<li><a href=\"http://www.phpframeworks.com/\" rel=\"nofollow\">PHP Frameworks</a></li>\n<li><a href=\"http://www.phpwact.org/php/mvc_frameworks\" rel=\"nofollow\">PHP MVC Frameworks</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">Modelviewcontroller</a> on Wikipedia</li>\n</ul>\n\n<p>but can anyone recommend one of those MVC frameworks that plans to actively use PHP 5.3 features, not just being compatible with PHP 5.3?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Results so far:</p>\n\n<ul>\n<li><a href=\"http://framework.zend.com/wiki/display/ZFDEV2/Zend+Framework+2.0+Roadmap\" rel=\"nofollow\">Zend Framework 2.0</a> (in development)</li>\n<li><a href=\"http://rad-dev.org/lithium/wiki\" rel=\"nofollow\">Lithium</a> (in development, based on CakePHP)</li>\n<li><a href=\"http://www.symfony-project.org/\" rel=\"nofollow\">Symfony</a> (in development)</li>\n<li><a href=\"http://flow3.typo3.org/download/\" rel=\"nofollow\">FLOW3</a> (in development, alpha)</li>\n<li><a href=\"http://www.nette.org/\" rel=\"nofollow\">Nette Framework</a> (supports both PHP 5.2.0 and PHP 5.3.0)</li>\n</ul>\n"},{"tags":["php","mvc","frameworks","templating"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":106,"score":0,"question_id":12261288,"title":"PHP - How to split MVC - View (using e.g. non logic templating engine) into logic class and raw html template?","body":"<p>I am convinced that templates should not contain any logic just {  }  and include and block parts thats all. In MVC frameworks V is usually raw php mixed with HTML which is IMO very bad for someone used to clean HTML and for designers a nightmare. But putting view logic inside controller is also a wrong approach.</p>\n\n<p>I would like to know how to make it like this. \nRequest -> Controller -> load model... logic send everything to -> View -> view logic blocks... -> template</p>\n\n<p>Is this possible in frameworks like Laravel or Fuelphhp? Or more generally is this even a good practise?</p>\n"},{"tags":["php","mvc","api","symfony2"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":502,"score":3,"question_id":10949326,"title":"How To Create API Based Web Service In Symfony2","body":"<p>I am trying to create a API based service using Symfony2 which is the main framework our company tends to work on. I am told to research the best way to create a web service, i.e: REST, SOAP, etc. I am not a very experienced programmer. I am just trying to research the subject matter.</p>\n\n<p>What we basically need is a system that would provide and API to make other apps on any platform or device. For example: I can use the Twitter API to post/fetch tweets. In the same way we are trying to create a E-comm product that would help other users to build sites and apps above the platform regardless of the programming language, device or OS.</p>\n\n<p>We are trying to convert our product into an API based service from a pure \"MVC application\".</p>\n"},{"tags":["javascript","oop","mvc","observer-pattern","iife"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12255636,"title":"Javascript MVC with IIFE and potential dependency problems","body":"<p>I'm trying to create my own simple and small (observer) MVC example and trying to use IIFE to create privacy for my model and controller. As the controller requires the model object when it is invoked I'm not convinced about this approach.</p>\n\n<p>I've created a working Fiddle showing what I'm trying to do, but there is a dependency on the Model being invoked first in this case. I would like to have the Controller and Model in different files for easier management but don't know if I can do this due to this dependency.</p>\n\n<p>Is there a way around this or a better solution for this type of thing?</p>\n\n<p><a href=\"http://jsfiddle.net/CSuBA/\" rel=\"nofollow\">Working example</a></p>\n\n<p>(code extract)</p>\n\n<pre><code>var CalcController = (function (model) {\n    console.log('CalcController created');\n    var controller = {};\n    _model = model;\n\n    controller.changeModel = function(){\n        console.log('CalcController changeModel()'); \n        _model.updateModel();        \n    };\n\n    controller.init = function(){\n        console.log('CalcController.init');\n   }\n    return controller;\n\n})(CalcModel);\n</code></pre>\n"},{"tags":["mvc","web-applications","clojure","compojure","noir"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":12238437,"title":"Trouble getting defroutes to work in webnoir","body":"<p>So, I'm a clojure n00b, and I'm missing something when trying to get the routes for a project I'm building working.</p>\n\n<p>I had some issues with circular dependencies, and after working with Django, I think it's much better to have routes all defined in one place, rather than peppered all over the codebase as seems to be done with <code>defpage</code>.</p>\n\n<p>Onto the code:</p>\n\n<p>This is my <code>core.clj</code> file:</p>\n\n<pre><code>(ns blktechies-home.core\n  (:use compojure.core\n        hiccup.middleware)\n  (:require [compojure.route :as route]\n            [blktechies-home.routes :as site-routes]\n            [compojure.handler :as handler]\n            [compojure.response :as response]))\n\n(def app\n  (-&gt; (handler/site site-routes/app)\n      (wrap-base-url)))\n</code></pre>\n\n<p>Then in my routes file I have the following:</p>\n\n<pre><code>(ns blktechies-home.routes\n  (:use compojure.core\n        noir.core\n        hiccup.middleware)\n  (:require [compojure.route :as route]\n            [compojure.handler :as handler]\n            [compojure.response :as response]\n            [blktechies-home.views.common :as common]))\n\n(defroutes app\n  (GET \"/\" [] (common/main-layout\n               (welcome/index-page)))\n  (route/resources \"/\")\n  (route/not-found \"&lt;h1&gt;NOPE&lt;/h1&gt;\"))\n</code></pre>\n\n<p>Everything is 404'ing, and I'm not even sure where to go from here. I was able to use the site with <code>defpage</code>, but it just seemed ugly and not extensible as the number of routes grows.</p>\n\n<p>So</p>\n\n<ul>\n<li>What am I doing wrong here? Any insight into the underlying compojure/clojure/ring layers would be awesome</li>\n<li>If this isn't the best way to define routes, what is?</li>\n<li>Are there any good examples of big clj-noir sites on github? (My google-fu has failed me.)</li>\n</ul>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":333,"score":0,"question_id":8455723,"title":"How can I check if nothing has been changed when posting back a form to MVC?","body":"<p>I have an edit form in MVC and in my edit POST action I do a check before saving to ensure that I am not creating a duplicate. So for example if I change the title on my form then I check to see that title does not already exist. </p>\n\n<p>However if I open the edit form and then submit without changing anything then the action checks to see if the title exists and flags it as a duplicate!</p>\n\n<p>Is there some way that I can check if the Model is unchanged and if so then skip all the duplicate checks and attempts to save?</p>\n\n<p>Right now the only check I have is:</p>\n\n<pre><code>            if (ModelState.IsValid)\n            {\n</code></pre>\n\n<p>Is there some equivalent for ModelState not changed?</p>\n"},{"tags":["mvc","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":88,"score":2,"question_id":12252579,"title":"Servlet to jsp communication best practice","body":"<p>I'm learning how to write java servlets and jsp pages on google app engine. I'm attempting to use an MVC model but I'm not sure if I'm doing it right. Currently, I have a servlet that is called when a page is accessed. The servlet does all the processing and creates a HomePageViewModel object that is forwarded to the jsp like this:</p>\n\n<pre><code>// Do processing here\n// ...\nHomePageViewModel viewModel = new HomePageViewModel();\nreq.setAttribute(\"viewModel\", viewModel);\n\n//Servlet JSP communication\nRequestDispatcher reqDispatcher = getServletConfig().getServletContext().getRequestDispatcher(\"/jsp/home.jsp\");\nreqDispatcher.forward(req, resp);\n</code></pre>\n\n<p>Over on the jsp side, I have something like this:</p>\n\n<pre><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n&lt;%@ page import=\"viewmodels.HomePageViewModel\" %&gt;\n&lt;%\n  HomePageViewModel viewModel = (HomePageViewModel) request.getAttribute(\"viewModel\");\n  pageContext.setAttribute(\"viewModel\", viewModel);\n%&gt;\n\n&lt;html&gt;\n  &lt;body&gt;\n  &lt;% out.println(((HomePageViewModel)pageContext.getAttribute(\"viewModel\")).Test); %&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So my question is two fold. First, is this a reasonable way to do things for a small webapp? This is just a small project for a class I'm taking. And second, in the jsp file, is there a better way to access the viewmodel data?</p>\n"},{"tags":["javascript","jquery","mvc","html5-audio"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12224753,"title":"Need a JS framework that works with HTML5 <audio>. Which ones don't create or destroy views?","body":"<p>One of the quirks with the &lt; audio > tag is that it must be embedded in the page when it loads and it must not be destroyed and recreated. </p>\n\n<p>Can anyone tell me if Backbone.js or one of the many other MV* frameworks load pages so that the &lt; audio > tag stays on the page?</p>\n\n<p>Thanks and long live stackOverflow!</p>\n"},{"tags":["spring","mvc","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12251743,"title":"spring controller does not work when I extend it","body":"<p>i try make a generic controller with some methods, so i dont need re-writer common codes, but dont work, why???</p>\n\n<pre><code>@Controller(\"/home/teste\")\npublic class CtrlTeste extends ControladorGenericoSpring&lt;Assistenciado&gt;\n{\npublic String path;\n\n    public CtrlTeste()\n    {\n       super(Assistenciado.class);\n       path = \"/home/teste\";\n       setPacoteServico(\"servico.assistenciado\");\n       setPrefixo(\"Serv\");\n       setNomeEntidade(\"Assistnciado\");        \n\n    }\n\n   @RequestMapping\n   public String teste(@RequestParam(value = \"id\", required= true)Long id, Model model)\n   {\n      Assistenciado ass = getServico().buscarPorId(id);\n      model.addAttribute(\"assistenciado\", ass);\n      return \"/home\";\n   }\n\n}\n</code></pre>\n"},{"tags":["php","mvc","frameworks","persistent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12251050,"title":"Persistent objects inside MVC framework","body":"<p>I'm writing my own PHP MVC framework and I was wondering which is the most appropriate place to code persistent data objects like <strong>User</strong> for instance. Without persistent storage like $_SESSION, APC, memcached,... someone could retrieve user data from the database every http request, which is a bad idea in terms of performance. (M)odel seems like a good choice. Is something like this a good start:  </p>\n\n<pre><code>class UserModel extends Model\n{\n  public function getEmail()\n  {\n    $user = Session::get('User');\n    if(isset($user))\n    {\n      return $user-&gt;Email;\n    }\n    return null;\n  }\n}\n</code></pre>\n\n<p>Probably not, as it is not returning db data which is most Models do. Should I create an independent class? Is there any pattern for this? I wouldn't like to make it global, who is the owner/manager for such objects?</p>\n"},{"tags":["mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12250711,"title":"MVC, request data from view","body":"<p>I use this version of MVC <a href=\"http://www.rsdn.ru/article/patterns/generic-mvc/mvc.gif\" rel=\"nofollow\">http://www.rsdn.ru/article/patterns/generic-mvc/mvc.gif</a></p>\n\n<p>How be, when model is needed a data from view (user input)?</p>\n"},{"tags":["java","jquery","mvc","jersey","jstree"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":98,"score":1,"question_id":12245204,"title":"Error with jquery file tree in mvc","body":"<p>I am using jquery file tree to display my local file system, but I have encountered some problems. Well,I use maven+jersey+guice in my project, and I have modified the version jsp, and I created a class in my controler, and here is the code:</p>\n\n<pre><code>@Path(\"/monurl\")\n@POST\n@Produces({MediaType.TEXT_HTML})\npublic Response getGsp(@Context HttpServletRequest request) throws UnsupportedEncodingException\n{\n\n\n    StringBuffer buffer = new StringBuffer();\n\n    String dir = request.getParameter(\"dir\");\n\n    if (dir == null) {\n        return Response.ok(\"\").build();\n    }\n\n    if (dir.charAt(dir.length()-1) == '\\\\') {\n        dir = dir.substring(0, dir.length()-1) + \"/\";\n    } else if (dir.charAt(dir.length()-1) != '/') {\n        dir += \"/\";\n    }\n\n    dir = java.net.URLDecoder.decode(dir, \"UTF-8\"); \n\n    if (new File(dir).exists()) {\n        String[] files = new File(dir).list(new FilenameFilter() {\n            public boolean accept(File dir, String name) {\n                return name.charAt(0) != '.';\n            }\n        });\n        Arrays.sort(files, String.CASE_INSENSITIVE_ORDER);\n        buffer.append(\"&lt;ul class=\\\"jqueryFileTree\\\" style=\\\"display: none;\\\"&gt;\");\n        // All dirs\n        for (String file : files) {\n            if (new File(dir, file).isDirectory()) {\n                buffer.append(\"&lt;li class=\\\"directory collapsed\\\"&gt;&lt;a href=\\\"#\\\" rel=\\\"\" + dir + file + \"/\\\"&gt;\"\n                    + file + \"&lt;/a&gt;&lt;/li&gt;\");\n            }\n        }\n        // All files\n        for (String file : files) {\n            if (!new File(dir, file).isDirectory()) {\n                int dotIndex = file.lastIndexOf('.');\n                String ext = dotIndex &gt; 0 ? file.substring(dotIndex + 1) : \"\";\n                buffer.append(\"&lt;li class=\\\"file ext_\" + ext + \"\\\"&gt;&lt;a href=\\\"#\\\" rel=\\\"\" + dir + file + \"\\\"&gt;\"\n                    + file + \"&lt;/a&gt;&lt;/li&gt;\");\n                }\n        }\n        buffer.append(\"&lt;/ul&gt;\");\n    }\n\n    log.debug(\"Response content {}\", buffer.toString());\n    return Response.ok(buffer.toString()).build();  \n}\n</code></pre>\n\n<p>For the code javascript:</p>\n\n<pre><code>    $(document).ready( function() {\n\n            $('#JQueryFTD_Demo').fileTree({\n              root: '/home/y.zhang/kernely/kernely/work/',\n              script: '/ged/monurl',\n              expandSpeed: 1000,\n              collapseSpeed: 1000,\n              multiFolder: true\n            }, function(file) {\n                alert(file);\n            });         \n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>But I have always the problem of traversing my folders, and from firebug, I observe that my server returns 200 OK 128ms. Well, is there any problem of my code? Thanks in advance.</p>\n"},{"tags":["android","mvc","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12242692,"title":"android - application architecture what is the best?","body":"<p>I am new on android programming, just did one app so far. After it's completed, I start to think about the architecture of android application.</p>\n\n<p>In my app, I use <code>Activity</code> as Controller similar and <code>setContentView</code> to add layout View, this one is working and when it switch to another View, commonly I will use another Activity, or <code>ViewFlipper</code> or multi View in the same <code>Activity</code>, switch them by using <code>setContentView</code> method.</p>\n\n<p>Now I am thinking is it good to change this architecture to this one - </p>\n\n<p>Activity</p>\n\n<p>Controller</p>\n\n<p>View - Layout XML</p>\n\n<p>Controller class is independent from Activity, so it will be like this -</p>\n\n<pre><code>class Controller {\n\n    public View view;\n\n    .....\n\n    // logic to deal with view operation\n    public void init ()\n    {\n    }\n}\n</code></pre>\n\n<p>Activity will be like this - </p>\n\n<pre><code>class MyActivity extends Activity {\n\n    ControllerOne c0 = null;\n    ControllerTwo c1 = null;\n\n    .....\n\n    protected void switchView (Controller c)\n    {\n        setContentView (c.view);\n        c.init (); // or something else to restore states of this controller\n    }\n}\n</code></pre>\n\n<p>I don't know if this one is fine for android app architecture, or is there any good ideas about android app architecture? Thanks.</p>\n"},{"tags":["php","mvc","zend-framework","layout"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12239569,"title":"how to add stylesheet to my layout and pass values from view to layout","body":"<p>I am using zend framework.</p>\n\n<p>My structure is (only included files and folders needed for this question):</p>\n\n<pre><code>application\n  &gt;configs\n  &gt;controllers\n  &gt;forms\n  &gt;images\n  &gt;layouts\n    &gt;scripts\n      &gt;layout.phtml\n  &gt;models\n  &gt;styles\n    &gt;style.css\n  &gt;views\n    &gt;scripts\n      &gt;index\n        &gt;index.phtml\n  Bootstrap.php\ndocs\nlibrary\nlogs\npublic\ntest\n</code></pre>\n\n<p>I have got the layout working properly. However, I want to ask a couple of questions in order to get my set up perfect for the way I want it.</p>\n\n<ol>\n<li>Is <code>application&gt;style</code>s a good place for the stylesheet to be? If not what's the recommended?</li>\n<li>How do i add the stylesheet to the layout?</li>\n<li>In my layout I have a title tag : <code>&lt;title&gt;Text&lt;/title&gt;</code>. How do I pass values from my controllers to it?</li>\n</ol>\n"},{"tags":["mvc","codeigniter","view"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1554,"score":1,"question_id":1217275,"title":"What is the best practice for displaying multiple views in Codeigniter?","body":"<p>I'm trying to determine the best practice for calling multiple views from the same method in a controller. </p>\n\n<p>Is it preferable in the controller to make one view call, then have that view call all the views it needs, or call all the views you need in sequence in the controller?</p>\n\n<p>Example: </p>\n\n<pre><code>function index(){\n   //set all data variables\n   //then send them to the view\n   $this-&gt;load-&gt;view($index_view, $data);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>function index(){\n  //set variables\n  //then call each view\n  $this-&gt;load-&gt;view($header_view, $header_data);\n  $this-&gt;load-&gt;view($body_view, $body_data);\n  $this-&gt;load-&gt;view($footer_view, $footer_data);\n</code></pre>\n\n<p>The Codeigniter guide shows both ways, but does not seem to advise to the best practice...is there one?</p>\n"},{"tags":["mvc","dataannotations","range"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":5446,"score":5,"question_id":1406046,"title":"Data Annotation Ranges of Dates","body":"<p>Is it possible to use <code>[Range]</code> annotation for dates?</p>\n\n<p>something like   </p>\n\n<pre><code>[Range(typeof(DateTime), DateTime.MinValue.ToString(), DateTime.Today.ToString())]\n</code></pre>\n\n<p>Thanks</p>\n\n<p>Davy</p>\n"},{"tags":["php","mvc","cakephp","lazy-loading","cakephp-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12234821,"title":"Binding models inside controller actions in CakePHP","body":"<p>Normally I load model inside classes like this:</p>\n\n<pre><code>public $uses = array('Table1', 'Table2', 'Table3');\n</code></pre>\n\n<p>But some of my models are only used by 2-3 actions. So I don't want to load that model for other actions. So I need to declare \"table1\" controller wide. And load \"table2\" and \"table3\" when I need them inside controller. Is it possible? I couldn't find inside cookbook.</p>\n\n<p>Something like this:</p>\n\n<pre><code>class myController extends Controller {\n public $uses = array('Table1');\n\n public function myaction() {\n  $uses = array('Table2','Table3');\n ....\n }\n}\n</code></pre>\n"},{"tags":["ruby-on-rails-3","forms","mvc","controller","multi-step"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":92,"score":3,"question_id":12130419,"title":"Rails 3, large multi-step form: 1 large controller or separated by resource?","body":"<p>I have a multi-step form where the user fills out info on several different pages.  In conventional rails, you keep each resource separate in its own controller and you use the REST actions to manipulate the data.</p>\n\n<p>In the conventional system I would have 3-5 different controllers (some steps are optional) for a single multi-step form.  There's no real sense of \"order\" in the controllers if I do it the conventional way.  A new developer coming on to the project has to learn what steps map to what steps and so forth.</p>\n\n<p>On the other hand, I have thought about breaking convention and having a single controller that organizes the entire multi-step form.  This controller would be full of methods like:</p>\n\n<pre><code>def personal_info\n  # code...\nend\n\ndef person_info_update\n  # code...\nend\n\ndef residence_info\n  # code...\nend\n\ndef residence_info_update\n  # code...\nend\n\n# many more coupled methods like the above...\n</code></pre>\n\n<p>This single controller will get fairly long, but it's essentially a bunch of coupled methods: one for showing the step (form) and the other for updating and redirecting to the next step.</p>\n\n<p>This would be breaking rails convention and I would have to setup my own routing.</p>\n\n<p>But I'm curious how others have solved this problem?  I know both CAN work, but I would like to know which is easier to maintain and code with in the long run.</p>\n"},{"tags":["javascript","mvc","asp.net-mvc-4","anchor","visual-studio-2012"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12235866,"title":"Page Inspector bug in Visual Studio 2012 RTM in MVC4 app?","body":"<p>I have a regular anchor in one of my views:</p>\n\n<pre><code>&lt;a id=\"save\" href=\"javascript:void(0);\"&gt;Save&lt;/a&gt;\n</code></pre>\n\n<p>Now when I run the page and hit the save button the form won't post.</p>\n\n<p>Anyone got any ideas why?</p>\n\n<p>Remarks:</p>\n\n<ul>\n<li>javascript is enabled in IE9</li>\n<li>posting works when hitting the save button in chrome/ie9 outside of the VS environment.</li>\n</ul>\n\n<p>Might help to know that when the save button is clicked this piece of javascript is executed:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function () {\n        $(\"#save\").click(function () {\n            $(this).closest(\"form\").submit();\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","mvc","design-patterns","user-interface","flexibility"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12235377,"title":"How do I create a flexible MVC structure?","body":"<p>As part of the training scheme I am on at the moment, I have been tasked with developing a simple command-line based helpdesk application. The point of the project is to develop our abilities to use design patterns, SOLID principles, MVC architecture etc.</p>\n\n<p>I am having problems with understanding how to keep my MVC structure flexible. Here is a sample of one part of my code...</p>\n\n<pre><code>public class RegisterController \n{   \n    View view;\n    RegisterModel registerModel;\n\n    public RegisterController()\n    {\n        registerModel = new RegisterModel();\n    }\n\n    public void processRegistration(String username, String password, Role role)\n    {\n        if(registerModel.isRegisterable(username, password))\n        {\n            User newUser = new User(username, password, role);\n            registerModel.registerUser(newUser);\n            view = new LoginView(new LoginController());\n        }\n        else\n        {\n            System.out.println(\"ERROR during registration.\");\n            view = new MainView(new MainController());\n        }\n\n        view.startView();\n    }\n}\n</code></pre>\n\n<p>I ideally want to be able to go in at a later date and substitute it with a different user interface (view classes) e.g. a web page, without altering my model or controller. However, at the moment you can see that I am coding to a concrete implementation of my command line \"MainView\" and \"LoginView\" classes.</p>\n\n<p>How can I make this controller code more flexible and allow substitution with a different user interface with minimal code modification? Is it unrealistic to expect the controller code to remain the same when changing to a different UI?</p>\n"},{"tags":["asp.net-mvc","mvc","localization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12235119,"title":"placeholder style text in resx file","body":"<p>Is there any way to add text in a resx file  like </p>\n\n<pre><code>'{0}'\n</code></pre>\n\n<p>within a localized string where the intention is NOT that {0} should act as a placeholder, but rather as regular text within a localized string</p>\n\n<p>(I'm using asp.net-mvc)</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Sorry, my question is incorrect - I'm actually getting {0} Even without using String.Format</p>\n"},{"tags":["asp.net-mvc","entity-framework","mvc","c#-4.0","entity-framework-4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12234052,"title":"auto generating Inheritance Mapping mvc DB first","body":"<p>Is it possible to define Inheritance Mapping and a Discriminator Property using a BD first approach.</p>\n\n<p>I use the EDMX diagram to define the mapping of tables to object.\nI have a DomainEntity Table that contains all my domain entities and they are descriminated by TypeID that is mapped to a DomainEntityTypes table.</p>\n\n<p>If i had full control i would design the mapping this way:</p>\n\n<ol>\n<li>Define an abstarct class DomainEntity</li>\n<li>Inherit from the DomainEntity calss to creat concrete entities</li>\n<li>Use the Inheritance Mapping Annotation and the IsDiscriminator Annotation over the TypeID</li>\n<li>Use an enum to define all possible types (and i wonder what the types table is for from that point)</li>\n</ol>\n\n<p>Could all this be defined in the EDMX file somehow ? or do i need to stop using auto generation and continue with manual mappings?</p>\n"},{"tags":["mvc","zend-framework","popup"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":142,"score":1,"question_id":12231866,"title":"Is there a built in Zend framework popup window?","body":"<p><strong>Is there a built in Zend framework popup window?</strong></p>\n\n<p>I want to know if there is a feature built in the zend framework that when you click a link it opens up an action in a nice pop up window such as smoothbox, lightbox etc?</p>\n"},{"tags":["php","mvc","zend-framework","hyperlink","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":64,"score":2,"question_id":12231956,"title":"link to another action","body":"<p>i am unsing zend framework. i have a view linked to a controller, home, </p>\n\n<p>so:</p>\n\n<pre><code>application&gt;controllers&gt;HomeController.php\n\napplication&gt;views&gt;scripts&gt;home&gt;index.phtml\n</code></pre>\n\n<p>in the index.phtml page i have a link to an action in the same controller:</p>\n\n<pre><code>application&gt;views&gt;scripts&gt;home&gt;add.phtml\n</code></pre>\n\n<p>the code for the link is:</p>\n\n<pre><code>&lt;a href=\"../application/controllers/home/add\"&gt;add&lt;/a&gt;\n</code></pre>\n\n<p>Not only does this not work but i am sure its not the best way to do this in zend framework.</p>\n\n<p>please note i am using wamp</p>\n\n<pre><code>http://localhost/sites/url/public/home/add\n</code></pre>\n\n<p>when using:</p>\n\n<pre><code>&lt;?php\n    echo '&lt;a href=\"' . $this-&gt;url(array('controller' =&gt; 'home', 'action' =&gt; 'add')) . '\"&gt;Add Job&lt;/a&gt;';  \n?&gt;\n</code></pre>\n\n<p>I get this error message:</p>\n\n<pre><code>Message: Invalid controller specified (sites)\n</code></pre>\n\n<p>this is whats in my htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n"},{"tags":["c#","entity-framework","mvc","linq-to-sql","entity-framework-4"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":108,"score":0,"question_id":12227277,"title":"Hierarchical data representation using entity framework in MVC","body":"<p>Hey i am trying to work with entity framework using in DB first mode.\nI have a hierarchy of Enitties that are stored in one table called \"DomainEntities\".</p>\n\n<p>When i generated a schema using the entity framework i got the correct mappongs that look like this.</p>\n\n<h2><img src=\"http://i.stack.imgur.com/Xdqz7.png\" alt=\"DomainEntity Schema EDMX file.\"></h2>\n\n<p>Now i wonder what is the way i should perform insert using this model.\nif i want to insert a new entry with a certain parent do i need to do all this:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(DomainEntity i_EntityToCreate, int ParentEntityID)\n{\n    using (var db = new CamelotShiftManagementEntities())\n    {\n        var parentEntity = db.DomainEntities.Find(ParentEntityID);\n        i_EntityToCreate.ParentEntity = parentEntity;\n        i_EntityToCreate.EntityTypeID = 1;\n\n        db.DomainEntities.Add(i_EntityToCreate);\n\n        db.SaveChanges();\n    }\n    return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>is this correct or is there another design i should follow to represent a hierarchy of entities using entity framework ?</p>\n"},{"tags":["mvc","node.js","plugins","expressjs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12233241,"title":"Building a plugin system for a nodejs based MVC platform","body":"<p>I would like to be able to build functionality for my application in a plugin style system for a couple reasons:</p>\n\n<ol>\n<li>New projects can choose which plugins are necessary and not have code for functionality that's not needed</li>\n<li>Other developers can build plugins for the system without needing too much knowledge of the core workings.</li>\n</ol>\n\n<p>I'm not really sure how to go about implementing this. I would like to have a <code>plugins</code> folder to host these separately but I guess my questions are:</p>\n\n<ol>\n<li>How do plugins interact with the core system?</li>\n<li>How does the folder structure work? Would each hold the standard MVC structure: controllers, services, models, views, etc?</li>\n</ol>\n\n<p>I guess if anyone has a tutorial or some documentation relating to this technique that would be helpful. I've done a bit of searching but it's all a little too closely related to the actual code they're working with instead of the concept and I hadn't found anything specifically related to nodejs.</p>\n"},{"tags":["mvc","design-patterns"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12230359,"title":"Working with View-related For Loops in MVC","body":"<p>These two pieces of oft-said MVC advice seem to be at odds with each other:</p>\n\n<ol>\n<li>No for loops or conditional logic in the view</li>\n<li>No HTML anywhere but the view</li>\n</ol>\n\n<p>Let's say I have $items that have to be output as an unordered list. Isn't the iteration logic bound to have html in it? In which case, where should I put it?</p>\n\n<p>It seems to me that reusability argues for putting it somewhere other than the view while providing the template author with parameters for the tag, class(es) etc. </p>\n\n<p>What do you think? Practical reasons for why you think so are very welcome. </p>\n"},{"tags":["mvc","controller","express","route"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12170725,"title":"Express.js' router and controllers' usage","body":"<p>I mainly worked with Rails-like frameworks in the past. Recently, I've been looking into Express.js. I've noticed that most of the examples do the routing inside the main app.js, or do the rendering inside route.js and I'm a bit uncomfortable with that. </p>\n\n<p>A slightly more familiar example is the <a href=\"https://github.com/visionmedia/express/tree/master/examples/mvc\" rel=\"nofollow\">mvc folder in Express.js' github page</a>, but even then, I find the way the routing is done a bit weird (also, view folder inside controllers? What's happening?).</p>\n\n<p>My question is, what change of mentality should I perform, or is there a standard way of using Express.js that clearly separates the concern of routing and controllers and make them work neatly?</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","mvc","xforms","questionnaire"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":111,"score":1,"question_id":7765332,"title":"Advice on javascript frameworks for creating detailed offline forms/questionnaires","body":"<p><strong>Question:</strong> \nWhat javascript libraries/frameworks are there, that are suited to creating detailed questionnaires (and not requiring communication with server).</p>\n\n<p><strong>Background</strong>\nI'm looking at updating an old ASP.NET forms application that displays lots of questionnaires via ASP.NET Wizards.\nThe questionnaires can get a little complicated, and need to support 1 to many type of questions (and several deep), for instance: </p>\n\n<p>These question could appear in one of the questionnaires\nQ) Enter details of people injured.\nQ) Enter details of injuries sustained.</p>\n\n<p>, and might result in something like the following (currently stored as XML).</p>\n\n<pre><code>&lt;Questionnaire&gt; \n    &lt;InjuredPerson Name='John' Age='30'&gt;        \n        &lt;Injury BodyPart='Elbow' /&gt;\n        &lt;Injury BodyPart='Head' /&gt;\n    &lt;/InjuredPerson&gt;\n    &lt;InjuredPerson Name='James' Age='29'&gt;\n        &lt;Injury BodyPart='Head' /&gt;\n    &lt;/InjuredPerson&gt;\n&lt;/Questionnaire&gt;\n</code></pre>\n\n<p>The questionnaire would also allow users to load up previous submissions to edit the results.</p>\n\n<p>I would like to update this application to have the whole interface implemented in the browser, this way I can then support HTML 5 offline application caching.\nTherefore the above XML (or JSON) would be stored in the client, until it was ready to be submitted.</p>\n\n<p>I initially started looking at XForms javascript frameworks, which appears to do the job but it also looks like XForms is a dead technology. I've since seen various javascript MVC and MVVC frameworks, but don't know enough about them.</p>\n"},{"tags":["mvc","node.js","mongodb","mongoose","expressjs"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12230175,"title":"Layer separation in an MVC application with Expressjs, Mongoose, and Backbonejs","body":"<p>I want to create an application that can separate functionality out into modules, somewhat like WordPress does.</p>\n\n<p>Technologies decided upon (so far) are Expressjs, Mongoose, and Backbonejs. First question is, am I missing any technologies that would be recommended for this type of application? (I know this is subjective but I'm looking for opinion)</p>\n\n<p>As for my non-subjective question. I'm still new to these technologies and it seems like Mongoose's models actually act as an object I can instantiate and use within my application. I feel like this doesn't provide any level of separation between the model layer and others. ie. if I were to ever remove Mongoose it would be tightly woven within the application.</p>\n\n<p>Would it be a better idea to have a separate definition that defined what each entity was and then hooked up to Mongoose in the Model layer to save to the DB or would that just defeat the purpose of Mongoose?</p>\n\n<p>Part of what I'm struggling with is what role each framework plays within the system... so forgive me if I'm misunderstanding here.</p>\n"},{"tags":["mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12227733,"title":"How to call custom controller from index controller in Zend Framework","body":"<p>I am newbie in Zend framework.And i have made sample project in netbeans.And it is working properly displaying index.phtml .But , I need to call my controller.What I have tried is below.</p>\n\n<pre><code>IndexController.php\n\n\n&lt;?php\n\nclass IndexController extends Zend_Controller_Action\n{\n\n    public function init()\n    {\n\n    }\n\n    public function indexAction()\n    {\n        firstExample::indexAction();\n    }    \n\n}\n</code></pre>\n\n<p>And I have deleted all the content of index.phtml(just a blank file) , coz i don't want to render this view.\nMy custom controller is:</p>\n\n<pre><code>firstExampleController.php\n\n&lt;?php\nclass firstExample extends Zend_Controller_Action{\n    public function indexAction(){\n        self::sum();\n    }\n\n    public function sum(){\n        $this-&gt;view-&gt;x=2;\n        $this-&gt;view-&gt;y=4;\n        $this-&gt;view-&gt;sum=x + y;\n    }\n}\n?&gt;\n\nfirstExample.phtml\n\n&lt;?php\necho 'hi';\necho $this-&gt;view-&gt;sum();\n?&gt;\n</code></pre>\n\n<p>How to display sum method in firstExample.php.</p>\n\n<p>It just shows blank page after hitting below URL. </p>\n\n<pre><code>http://localhost/zendWithNetbeans/public/\n</code></pre>\n\n<p>I think after hitting on above URL , execution first goes to index.php in public folder.And I didn't change the content of index.php</p>\n"},{"tags":["asp.net-mvc","mvc","design"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1800,"score":1,"question_id":8479052,"title":"Layout/design templates for MVC application?","body":"<p>Is there any open source design templates available for asp.net MVC projects? Tired of seeing the standard blue and white look that every mvc projects have.</p>\n"},{"tags":["mvc","kohana","kohana-3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":11864666,"title":"How can I render view of another action in the controller? I use Kohana 3.0.11","body":"<p>I need use the same view for three different actions in controller. How can I render one view for all of actions? I googled but found nothing useful... And important is I use Kohana 3.0.11 </p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12224493,"title":"How can I call an action in application_controller.rb, without having a corresponding view file?","body":"<p>I am trying click on a link to call this action.</p>\n\n<pre><code>&lt;% link_to \"popup\", :action =&gt; 'user_logs_out', :controller =&gt; 'application'%&gt;\n</code></pre>\n\n<p>In my application controller I have this action:</p>\n\n<pre><code>def user_logs_out\n    gon.display_sign_out_popup = true\nend\n</code></pre>\n\n<p>How can I call this action? It always shows template error. Since the action simply needs to set a boolean value, I don't feel a need to have view file for it.                                                                               </p>\n"},{"tags":["javascript","mvc","backbone.js","backbone-relational"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":201,"score":2,"question_id":12224122,"title":"Backbone-relational cannot instantiate two RelationalModel objects","body":"<p>I am trying to implement BackboneRelational and keep getting </p>\n\n<blockquote>\n  <p>\"Cannot instantiate more than one Backbone.RelationalModel with the\n  same id per type!\"</p>\n</blockquote>\n\n<pre><code>class App.Models.User extends Backbone.RelationalModel\n  urlRoot : '/api/users'\n  idAttribute: 'id'\n\n  relations: [\n    type: Backbone.HasMany\n    key: 'plots'\n    relatedModel: 'App.Models.Plot'\n    collectionType: 'App.Collections.Plots'\n    includeInJSON: false\n    reverseRelation:\n      key: 'user_id',\n      includeInJSON: 'id'\n  ]\n\n\nclass App.Models.Plot extends Backbone.RelationalModel\n  urlRoot : '/api/plots'\n  idAttribute: 'id'\n</code></pre>\n\n<p>If I switch one of the models to extends Backbone.Model I can instantiate both, but I get all the warnings that the relational functionality is broken..</p>\n\n<p>I am trying to achieve the following:</p>\n\n<pre><code> plot = new App.Models.Plot({id : 700})\n plot.fetch()\n plot.get('user')\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["asp.net-mvc","entity-framework","mvc","model-binding"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12219533,"title":"EF, MVC, Model binding, and Navigation properties","body":"<p>I'm using EF5 Code First with :</p>\n\n<pre><code>public class Scenario\n{\n    public int Id { get; set; }\n    public  IList&lt;Client&gt; Clients { get; set; }\n}\npublic class Client\n{\n    public int Id { get; set; }\n    public string Name {get;set;}\n    public int VisibilityNumber{ get; set; }\n}\n</code></pre>\n\n<p>I'm directly sending the scenario object to the view (MVC4, without using a viewmodel class - maybe a mistake ?, but a lot less plumbing code). In my view, I use HiddenFor for Scenario.Id, and a for loop to display an EditFor for each client VisibilityNumber.</p>\n\n<p>This is the Controller :</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Edit(int id, FormCollection formValues)\n{     \nif (ModelState.IsValid)\n    {\n        Scenario scen=GetScenarioFromDB(id);\n        TryUpdateModel(scen,formValues);\n        if (ModelState.IsValid)\n           SaveToDb(scen);\n    }\n}\n</code></pre>\n\n<p>After the TryUpdateModel, for each Clients object (which were correctly loaded from DB) :</p>\n\n<ul>\n<li>VisibilityNumber is correctly set</li>\n<li>Id is set to 0, which of course is a bad</li>\n<li>Name is set to null</li>\n</ul>\n\n<p>I don't understand why Id and Name properties are modified. According to MSDN : </p>\n\n<blockquote>\n  <p>If no explicit whitelist or blacklist is passed, the TryUpdateMode method tries to update every public property in the model for which there is a corresponding value in the request</p>\n</blockquote>\n\n<p>After looking at the MVC Source code (DefaultModelBinder/UpdateCollection), I can see that when binding to collections, new items are always created.\nIf I can't fix that, I think I'm going to use a viewModel, and AutoMapper. I assume that the MVC team wanted to force us to use viewModel, rather than directely send EF object.</p>\n"},{"tags":["spring","apache","hibernate","mvc","cxf"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":129,"score":1,"question_id":12170631,"title":"Use Apache cxf with spring mvc in a single application with shared services","body":"<p>I'm currently working a project which based on spring MVC, it's just a standard project using spring MVC template. so I have web.xml and servlet-context.xml. </p>\n\n<p>I'm working on adding Apache cxf web services into this project, and meet some problems on sharing services with existing Spring MVC. </p>\n\n<p>My initial approach was trying to get web services working, so here is my web.xml looks like: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n\n    &lt;!-- The definition of the Root Spring Container shared by all Servlets \n        and Filters --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/root-context.xml\n        /WEB-INF/spring/jaxwsServlet/jaxwsServlet-context.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n\n\n\n    &lt;!-- Creates the Spring Container shared by all Servlets and Filters --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- Process web service requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;jaxws&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.xml.ws.transport.http.servlet.WSSpringServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;jaxws&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/industryAspectWS&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n    &lt;!-- Processes application requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>and my jaxwsServlet-context.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:beans=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:ws=\"http://jax-ws.dev.java.net/spring/core\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:wss=\"http://jax-ws.dev.java.net/spring/servlet\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n       http://jax-ws.dev.java.net/spring/core\n        classpath:spring-jax-ws-core.xsd\n        http://jax-ws.dev.java.net/spring/servlet\n        classpath:spring-jax-ws-servlet.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\"\n&gt;   \n    &lt;wss:binding url=\"/industryAspectWS\"&gt;\n        &lt;wss:service&gt;\n            &lt;ws:service bean=\"#industryAspectWS\"/&gt;\n        &lt;/wss:service&gt;\n    &lt;/wss:binding&gt;\n\n    &lt;!-- Web service methods --&gt;\n    &lt;bean id=\"industryAspectWS\" class=\"com.example.ws.IndustryAspectWS\"&gt;&lt;/bean&gt;\n\n    &lt;context:component-scan base-package=\"com.example\" /&gt;\n\n    &lt;beans:import resource=\"../HibernateTransaction.xml\" /&gt;\n\n    &lt;beans:import resource=\"../JaxbMarshaller.xml\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>I copied the <strong><em>context:component-scan beans:import</em></strong> sections from servlet-context.xml</p>\n\n<p>This configuration works okay since I was able to boot up the server, and call Web services and also access servlet and jsp. <strong>However, I notice that since I quoted the hibernateTransaction.xml in both context xml files, there are two session factories.</strong></p>\n\n<p>I want to share all services (such as hibernate) between Apache cxf and Spring MVC controllers, so I tried to put settings in root-context.xml, it didn't work. I also tried to search this online, but didn't find any complete examples on shared services. Is it possible that we can put a setting to share services among the two?</p>\n\n<p>=================================================</p>\n\n<p>I had experimented some settings after I post this, and figured that if I put the lines of   </p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.example\" /&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=\"txManagerExample\" /&gt;\n</code></pre>\n\n<p>in both servlet-context.xml and jaxwsServlet-context.xml, it will work just fine. all other settings can stay in the shared root-context.xml </p>\n"},{"tags":["mvc","routing","asp.net-mvc-routing","sitemap","breadcrumbs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12221289,"title":"MVC.SiteMap Custom Route with multiple parameters","body":"<p>I am using Mvc.Sitemap to configure my breadcrumbs with custom routes.  I have a scenario where I have 2 ids back to back and need to skip one.  The urls are defined below:</p>\n\n<p>Breadcrumbs look like Home > Part\n/Part/49323</p>\n\n<p>Breadcrumbs look like Home > Part > Components\n/Part/49323/200266/Components</p>\n\n<p>Everything is working correctly except when I am on the Components page and press Part.  It creates this url which is incorrect.  /Part/200266/Components.</p>\n\n<p>Does anyone know how to solve this situation?  Thanks for the help.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","sinatra"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12219951,"title":"Remote controller for a model","body":"<p>I have an application which runs in my private network. I want to make an app_controller public but not the whole application. I still want to access my models from app_controller without using any other controller.</p>\n\n<p>As a workaround I have setup a proxy sinatra service which simply redirect requests to app_controller and returns the response that it receives from app_controller.</p>\n\n<p>Is there a way to define a remote controller such that I can access my models as if it's in the same rails application. i.e., controllers and models in different rails apps. or am I approaching it in a wrong way?</p>\n"},{"tags":["c++","mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12219562,"title":"MVC pattern, update multiple views","body":"<p>I have multiple views in my model-view-controller pattern (label and listbox with selected item) \nlistbox onSelect event calls controller <strong>setModel(new_model_val)</strong>, which updates views and also highlights listbox so there is cyclic call. </p>\n\n<p>As I understand, I have to pass sender to define which views to update( so I get something like <strong>setModel(new_model_val, sender)</strong>? \nIs it good idea?\nWhat type of sender to use(enum, raw pointer etc)? </p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","pagination"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12218377,"title":"How to display lesser number of page links?","body":"<p>-I am using MVC 3, AdventureworksLT database</p>\n\n<p>-There are lot of records, so the number of pagelinks have gone up to 30.\n<img src=\"http://i.stack.imgur.com/OCKGq.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>I want to display lesser number of page links.</li>\n<li><p>Here is the code for the view</p>\n\n<p><a href=\"http://ideone.com/DCN8s\" rel=\"nofollow\">View Code</a></p></li>\n</ul>\n"},{"tags":["asp.net","mvc","asp.net-mvc-3"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":4715,"score":2,"question_id":6250821,"title":"Date Validation using ASP.NET MVC 3.0","body":"<p>I've Date field on my MVC UI named \"startDate\", the user selects date using jquery date picker. As i wanted to validate that selected date should not be 2 months past and 2 months future.</p>\n\n<p>I've wrote the below code for validating the date.</p>\n\n<pre><code> public sealed class DateAttribute : DataTypeAttribute\n    {\n        /// &lt;summary&gt;\n        /// Initializes a new instance of the &lt;see cref=\"EmailAddressAttribute\"/&gt; class.\n        /// &lt;/summary&gt;\n        public DateAttribute() : base(DataType.Date)\n        {\n        }\n\n        /// &lt;summary&gt;\n        /// Checks that the value of the data field is valid.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"value\"&gt;The data field value to validate.&lt;/param&gt;\n        /// &lt;returns&gt;\n        /// true always.\n        /// &lt;/returns&gt;\n        public override bool IsValid(object value)\n        {\n            DateTime inputDate = Convert.ToDateTime(value, CultureInfo.CurrentCulture);\n\n            if (inputDate.Date &gt;= DateTime.Now.Date.AddMonths(-2) &amp;&amp; inputDate.Date &lt;= DateTime.Now.Date.AddMonths(2))\n                return true;\n\n            return false;\n        }\n    }\n</code></pre>\n\n<p>But the issue is, it goes to server for validating the date field. how can i achive same with client validation.</p>\n\n<p>Thanks,\n-Naren</p>\n"},{"tags":["asp.net-mvc-3","mvc","model"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":135,"score":0,"question_id":12216597,"title":"MVC 3 Two models in one view and action method overloading","body":"<p>I have \"reset password\" and \"user profile info update\" sections on one view. </p>\n\n<p>I have a parent model with two child models: ResetPwdModel and UserInfoModel. </p>\n\n<p>For both reset password submit and save profile info submit, I want the result URL to look the same (same as the current URL), so the users won't be confused. </p>\n\n<p>In an effort to achieve this, I overloaded the action methods with one accepting ResetPwdModel and the other accepting UserInfoModel. However, I get the error message <code>The current request for action 'profile' on controller type 'XXController' is ambiguous...</code></p>\n\n<p>Is there an elegant way to resolve this? My goal is to be able to use two models in 1 view and have the  post URL looking the same as current URL.</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>public class ProfileParentModel\n{\n    public ProfileResetPwdModel ResetPwd { get; set; }\n    public ProfileUserInfoModel UserInfo { get; set; }\n}\n\npublic class ProfileResetPwdModel\n{\n    [Required]\n    [DataType(DataType.Password)]\n    [Display(Name = \"Profile_lbl_OldPassword\", ResourceType = typeof(Resource))]\n    public string OldPassword { get; set; }\n\n    [Required]\n    [DataType(DataType.Password)]\n    [Display(Name = \"Profile_lbl_NewPassword\", ResourceType = typeof(Resource))]\n    public string NewPassword { get; set; }\n\n    [Compare(\"NewPassword\", ErrorMessageResourceName = \"Profile_Error_NotMatch\", ErrorMessageResourceType = typeof(Resource))]\n    [Required]\n    [DataType(DataType.Password)]\n    [Display(Name = \"Profile_lbl_ConfirmNewPassword\", ResourceType = typeof(Resource))]\n    public string ConfirmNewPassword { get; set; }\n}\n\npublic class ProfileUserInfoModel\n{\n    [Display(Name = \"Profile_lbl_FirstName\", ResourceType = typeof(Resource))]\n    public string FirstName { get; set; }\n\n    [Display(Name = \"Profile_lbl_LastName\", ResourceType = typeof(Resource))]\n    public string LastName { get; set; }\n\n    [Display(Name = \"Profile_lbl_WorkTitle\", ResourceType = typeof(Resource))]\n    public string WorkTitle { get; set; }\n\n    [Display(Name = \"Profile_lbl_CompanyName\", ResourceType = typeof(Resource))]\n    public string CompanyName { get; set; }\n\n    [Display(Name = \"Profile_lbl_CompanyAddress\", ResourceType = typeof(Resource))]\n    public string CompanyAddress { get; set; }\n}\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>@{\n    var passwordHtml = Html.HtmlHelperFor(Model.ResetPwd);\n    var profileHtml = Html.HtmlHelperFor(Model.UserInfo);\n}\n@using (passwordHtml.BeginForm())\n{\n    //HTML goes here...\n}\n@using (profileHtml.BeginForm())\n{\n   //HTML goes here...\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>        [ActionName(\"Profile\")]\n    [HttpPost]\n    [Authorize]\n    public ActionResult ResetPassword(ProfileResetPwdModel model)\n    {\n\n        return View(\"Profile\", parentModel);\n    }\n\n    [ActionName(\"Profile\")]\n    [HttpPost]\n    [Authorize]\n    public ActionResult SaveUserInfo(ProfileUserInfoModel model)\n    {\n        return View(\"Profile\", parentModel);\n    }\n</code></pre>\n"},{"tags":["php","javascript","mvc","design-patterns"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12216377,"title":"Unsure of what development pattern I am using with PHP AJAX","body":"<p>I've always had a hard time understanding the full concepts of MVC, MVP, MVVM, etc.  I'm not even sure if I am following any of these models so I'm hoping some of you could shed some light.  My application uses PHP, JS, HTML, CSS, AJAX, MySQL as its core.</p>\n\n<p><strong>VIEW</strong></p>\n\n<p>I know that HTML / CSS are obviously the View, but sometimes, I have PHP generate HTML elements.  Also, sometimes I have JS manipulate HTML elements to modify its CSS.  I mean, PHP is technically a server-side language right?  So does the fact that PHP can generate \"View\" elements change its role in the programming pattern?</p>\n\n<p><strong>DEDICATED FILE THAT HANDLES AJAX REQUESTS</strong></p>\n\n<p>I have a single PHP file that handles all AJAX requests sent from JS.  I pass a unique POST or GET parameter to distinguish what the AJAX request is for and the PHP file has a bunch of If statements to handle these.</p>\n\n<pre><code>$req = $_REQUEST['type'];\nif($req == 'get_users'){\n// do stuff\n}\n</code></pre>\n\n<p>Most of the functions are database writes and reads.  Do I have it right that this is the controller?</p>\n\n<p><strong>MODEL</strong></p>\n\n<p>I am assuming that the model is the set of functions and classes I call periodically?</p>\n\n<p><strong>SUMMARY</strong></p>\n\n<p>My main question is whether or not a programming pattern can apply to more than one programming language even though one is client-side and another is server-side.  Am I even following a programming pattern?  If I am not or am somewhat close to one, does it matter if I am not following a pattern exactly?  I think that is what is holding me up and hoping you all could help me understand.</p>\n"},{"tags":["mvc","node.js","methods","express","mongoose"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":185,"score":0,"question_id":12175080,"title":"Node.JS / Mongoose / Express -> Object has no method \"findAll\"","body":"<p>I'm trying to pass a method from my model.js to my route.js.. And my route doesn't find any method ! I searched a solution and tested a lot of codes, without success.</p>\n\n<p>I'm a beginner in Node so sorry if it's a stupid error.</p>\n\n<p>This is a part of my code :</p>\n\n<hr>\n\n<p>Route.js</p>\n\n<pre><code>var mongoose    = require('mongoose');\nvar membersModel = new require('../models/MemberModel');\n\n// Member list page\nexports.list = function(req, res){\n    membersModel.findAll(function(err, docs){\n        res.render('list.jade', { title: 'My Registration App - Member list', member:  docs });\n    });\n};\n</code></pre>\n\n<hr>\n\n<p>MemberModel.js</p>\n\n<pre><code>var mongoose = require('mongoose'),\n    Schema = mongoose.Schema,\n    ObjectId = Schema.ObjectId;\n\n    // Open DB connection\n\n\nvar MemberSchema = new Schema({\n    id        : ObjectId,\n    title     : { type: String, required: true, enum: ['Mr', 'Mrs', 'Mme', 'Miss'] },\n    lastname  : { type: String, required: true, uppercase: true, trim: true},\n    firstname : { type: String, required: true},\n    mail      : { type: String, trim: true, index: { unique: true, sparse: true } },\n    date      : Date\n});\n\n// ...\n\nMemberSchema.method.findAll = function (callback) {\n  Members.find(function (err, member) {\n        callback(null, member)\n  });\n};\n\nvar conn = mongoose.createConnection('mongodb://localhost/members');\nvar MyModel = conn.model('Members', MemberSchema);\nvar instanceMember = new MyModel;\n\nmodule.exports = instanceMember;\n</code></pre>\n\n<p>Thanks for the time passed helping me.\nIf you want other informations, tell me !</p>\n"},{"tags":["asp.net","mvc","asp.net-mvc-2","viewmodel","modelbinders"],"answer_count":4,"favorite_count":4,"up_vote_count":12,"down_vote_count":0,"view_count":4015,"score":12,"question_id":2473399,"title":"ASP.NET MVC 2 - ViewModel Prefix","body":"<p>I want to use RenderPartial twice in my view with different models associated. The problem is that some properties are present in both models (nickname, password). They have no prefix, so even the id's or names are equal in the output. Now, if I have model errors for nickname or password, both fields get highlighted.</p>\n\n<p>Main View:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;% Html.RenderPartial(\"Register\", Model.RegisterModel); %&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;% Html.RenderPartial(\"Login\", Model.LoginModel); %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Login PartialView:</p>\n\n<pre><code>&lt;% using (Html.BeginForm(\"Login\", \"Member\")) { %&gt;\n&lt;fieldset&gt;\n    &lt;legend&gt;Login&lt;/legend&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Nickname) %&gt;\n        &lt;%= Html.TextBoxFor(x =&gt; x.Nickname) %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Password) %&gt;\n        &lt;%= Html.PasswordFor(x =&gt; x.Password) %&gt;\n    &lt;/p&gt;    \n    &lt;input type=\"submit\" value=\"Login\" /&gt;\n&lt;/fieldset&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>Register PartialView:</p>\n\n<pre><code>&lt;% using (Html.BeginForm(\"Register\", \"Member\")) { %&gt;\n&lt;fieldset&gt;\n    &lt;legend&gt;Register&lt;/legend&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Nickname) %&gt;\n        &lt;%= Html.TextBoxFor(x =&gt; x.Nickname) %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Email) %&gt;\n        &lt;%= Html.TextBoxFor(x =&gt; x.Email) %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Password) %&gt;\n        &lt;%= Html.PasswordFor(x =&gt; x.Password) %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.PasswordRepeat) %&gt;\n        &lt;%= Html.PasswordFor(x =&gt; x.PasswordRepeat) %&gt;\n    &lt;/p&gt;\n    &lt;input type=\"submit\" value=\"Register\" /&gt;\n&lt;/fieldset&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>How can I change this?</p>\n"},{"tags":["asp.net-mvc","mvc","autofac","dbcontext","singleinstance"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":199,"score":2,"question_id":12207424,"title":"How should I scope dependency injection of Entity Framework DbContext in a web app? (InstancePerHttpRequest vs SingleInstance)","body":"<p>I have read that DbContext object should be created as InstancePerHttpRequest, not SingleInstance, because of its thread-unsafe nature and it might consume too much resource between requets which makes sence.\nBut I am using Repository objects which uses DbContext instance. Should I make them InstancePerHttpRequest or make them SingleInstance and use DependencyResolver to get the current DbContext.</p>\n\n<p>What would the best object creation design be, for Autofac (or any other DI), DbContext, Repository and Service based Web application?</p>\n\n<p>Another question, how expensive it is to create a different DbContext object for each repository or service for each web request (like 10-15 of them in a request)?</p>\n"},{"tags":["mysql","sql","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":12209712,"title":"error checking in model","body":"<p>How do I do error checking, in my model? For instance if my procedure adds a record I want to return true if not I want to return false. Do I need to do a count on the records in the table before and after the procedure then compare them which is the best way to do this?</p>\n\n<pre><code>function add_student($SECTION_ID, $STUDENT_ID)\n\n{\n\n$this-&gt;db-&gt;query(\"call add_student('$SECTION_ID','$STUDENT_ID')\");\n\n}\n\n\nfunction drop_student($SECTION_ID, $STUDENT_ID)\n{\n\n$this-&gt;db-&gt;query(\"call drop_student('$SECTION_ID','$STUDENT_ID')\");\n\n}\n</code></pre>\n"},{"tags":["java","mvc","swing","design-patterns"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2582,"score":1,"question_id":8693815,"title":"Java - Learning MVC","body":"<p>I wish to learn how to apply MVC architecture to my Java project; mainly my work in Swing. Now there is no easy explanation or example how to write proper code using MVC in mind apart from these two I found here:</p>\n\n<ol>\n<li><a href=\"http://leepoint.net/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow\">http://leepoint.net/notes-java/GUI/structure/40mvc.html</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/articles/javase/mvc-136693.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/mvc-136693.html</a></li>\n</ol>\n\n<p>It seems to me there is not a defined MVC architecture in Java. From what I looked at it's what Java offers you at the base level of Wwing and what you can apply on your own is in the first tutorial.</p>\n\n<p>Apart from the two resources above, can someone provide me with a source that can ease you in to Java MVC?  A video tutorial maybe?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":9638843,"title":"Rails Best practices : associated object creation in model","body":"<p>I have bassicly 3 tables : Users (email, password), Contacts (name, phone), Relations (user_id, contact_id, level) .</p>\n\n<p>When a user creates a new contact, i want him to be associated to it. The association has 1 to 3 as level of \"friendship\".</p>\n\n<p>I use a form to input the level in my contacts#create controller.</p>\n\n<p>For now, i have this which works great </p>\n\n<pre><code>  def create\n    @contact = Contact.new(params[:contact])\n    if @contact.save\n      #@relation = Relation.new(:user_id =&gt; current_user.id, :contact_id =&gt; @contact.id, :level =&gt; params[:relation])\n      #@relation.save\n      redirect_to root_url, :notice =&gt; \"ok!\"\n    else\n      render \"new\"\n    end\n  end\n</code></pre>\n\n<p>I was thinking of moving the relation creation to my contact model to do something like this : </p>\n\n<pre><code>  after_create { Relation.create(user_id: current_user.id, contact_id: self.id, level: params[:relation]) }\n</code></pre>\n\n<p>Of course, this does not work, but you get the idea.\nWould it be good to that in the model or can i keep it as i do for now</p>\n\n<p>cheers</p>\n"},{"tags":["php","mvc","controller","symphony-cms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":12208490,"title":"What happens once function inside a Controller gets called?","body":"<p>I have a function, lets say that it does some trivial calculation. The <code>Controller</code> which has this function is around <code>5000</code> lines long (Not written by me).</p>\n\n<p>Now, when I call a function which has trivial calculation. Does the server has to create an <code>Object</code> of this really large file and then run my function?</p>\n\n<p>Does every request create new <code>Object</code> of my <code>Controller</code> or once it's created it stays there for given <code>session</code>.</p>\n\n<p><strong>PS</strong> : I am thinking of breaking down this code, but just wanted to know whether it will give me an advantage in performance.</p>\n"},{"tags":["android","mvc","business-logic"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":12206087,"title":"Developing Model and using it for both Mobile and Tablets","body":"<p>I have a team that developed an iOS App for both iPhone and iPad.</p>\n\n<p>They used MVC (in built with iOS may be?). They built the business logic and used it both on iPhone and iPad with just different UIs / Views and same controller (possibly?).</p>\n\n<p>How do we achieve this in Android? MVC / MVP?\nHow do we structure the files in this case?</p>\n"},{"tags":["java","mvc","jsp","java-ee"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":42,"score":3,"question_id":12205095,"title":"How to communicate a \"warning\" message from the Service/DAO to the UI?","body":"<p>I have a Java web application.  It's basically something like this:</p>\n\n<pre><code>editUser.jsp -&gt; ControllerServlet.java -&gt; UpdateUserCommand.java -&gt; UserService.java -&gt; UserDAO.java -&gt; USER_TABLE.db\n</code></pre>\n\n<p>The user clicks a 'Save Changes' button on the editUser.jsp page, on success, the view is redirected to the viewUser.jsp page where they are presented with a read only view of the user and a \"User changes successfully saved\" message is displayed.</p>\n\n<p>For example, UpdateUserCommand.java does:</p>\n\n<pre><code>user.setWhatevers( /* whatevers */ );\ntry {\n  user = this.userService.updateUser(user);\n  messages.recordSuccessMessageForView(\"User changes successfully saved.\");\n} catch (Exception x) {\n  messages.recordErrorMessageForView(\"There was an error; \"+x.getMessage());\n}\n/* redirect to viewUser.jsp page */\n</code></pre>\n\n<p>My issue is, inside UserService.java I call something else -- let's say a NotificationService.java that sends an email.  If the send email fails, I log the email sending error, but I proceed normally.</p>\n\n<p>The result is, the user sees the \"Successully saved!\" message, but there's no visible indication that the email wasn't sent.  (Even though the send email error is logged on the server.)</p>\n\n<p>For example, UserService.java does:</p>\n\n<pre><code>public User updateUser(User user) throws Exception {\n  try {\n\n    this.userDAO.updateUser(user);\n\n    try {\n      this.notificationService.sendEmail(\"bob@bob.com\", \"user saved\");\n    } catch (Exception x) {\n      logger.log(\"Error sending email; \"+x.getMessage();\n    }\n\n  } catch (Exception x) {\n    throw new Exception(\"Error saving!\", x);\n  }\n}\n</code></pre>\n\n<p>So my question is, how would you suggest I communicate from the UserService back to the UpdateUserCommand that there is an email-related warning message to display in the UI?</p>\n\n<p>UpdateUserCommand.java can easily do a:</p>\n\n<pre><code>messages.recordWarning(\"Could not send the email.\");\n</code></pre>\n\n<p>But the UserService.java doesn't have access to the 'messages' object.  And I don't want the UserService to throw an exception because I want everything to proceed as if everything is normal.</p>\n\n<p>Any suggestions are greatly appreciated!</p>\n\n<p>Rob</p>\n"},{"tags":["c#","asp.net","asp.net-mvc-3","mvc","validation"],"answer_count":6,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":1176,"score":9,"question_id":8074548,"title":"MVC Validation - Keep it DRY with a service layer - What is best practice?","body":"<p>I am trying to adhere to best multi-layer design practices, and don't want my MVC controller to interact with my DAL (or any IRepository for that matter). It must go through my business service layer to enforce proper business rules and validation. Validation - I don't want to perform validation in the controller using the various validation attributes ( such as [Required]) on my domain model entities because this sheds light on my front end. Not to mention this service can also be implemented through a WPF front end.</p>\n\n<p>Since my validation is being done in my service layer, what are best practices for returning values back to the UI? I don't want a 'void addWhatever(int somethingsID)', because I need to know if it failed. Should it be a boolean? Should it be a Enum? Should I take advantage of exception handling? Or should I return some IValidationDictionary object similar to that used by MVC when adorning validation attributes to Model objects? (which I could use an adapter pattern in the UI later if needs be)</p>\n\n<p>I would like to pass my entity from the controller to the service layer, and understand whether or not validation/data-persistence failed. I also don't want to lose sight on the fact that I need to return a view indicating the proper error messages for each field that may have failed validation (I'd like to keep this as painless as possible).</p>\n\n<p>I have had several ideas, all of which don't feel right. I feel the answer includes View-specific-model entities, but this leads to a whole mapping issue that must be dealt with, not to mention this violates the DRY (Don't repeat yourself) principle. What is best practice?</p>\n"},{"tags":["mvc","extjs","model","associations","hasone"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12178921,"title":"Extjs sync hasOne model on store sync","body":"<p>I have two models: first one is <strong>PersonAddress</strong>, witch contains info about person and address and second one is <strong>Address</strong>, witch contains info about some address.\nI connect this to models with <em>PersonAddress hasOne Address</em>. Now I have store <strong>PersonAddresses</strong>, witch contains few <strong>PersonAddress</strong> models. I want to create new one PersonAddress.</p>\n\n<ol>\n<li>I create Address</li>\n<li>I create PersonAddress</li>\n<li>I set Address for PersonAddress (personAddress.setAddress(address))</li>\n<li>Sync PersonAddresses store.</li>\n</ol>\n\n<p>It tryes to create PersonAddress model on the server but my Address model is not created yet.</p>\n\n<p>I want that store PersonAddress while syncing models automatical sync new Address model. Is it possible? It is impotent, because I use save button on form witch contains parent model Person and I want only create Address and PersonAddress when I press save button on Person.</p>\n\n<p>P.S.: Sorry for my English. And you can ask if you don't understand something.</p>\n"},{"tags":["ios","mvc","design"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":12200169,"title":"Best practices when using MVC in iOS applications","body":"<p>I am developing an iOS application and in one of my model classes, i have the following :</p>\n\n<pre><code>@interface Book:NSObject {\n\n    @property (nonatomic, retain) NSString *name;\n    @property (nonatomic, retain) UIImage  *myImage;\n\n    ....\n\n}\n\n@end\n</code></pre>\n\n<p>My questions are :</p>\n\n<ul>\n<li><p>Do I respect the MVC Model like this when putting an object like <code>UIImage</code> which represents a graphical composant?</p></li>\n<li><p>What are your suggestions (best practices) in MVC when developing iOS applications?</p></li>\n</ul>\n"},{"tags":["c#","asp.net-mvc","mvc","renderaction"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":766,"score":1,"question_id":1662659,"title":"Create controller base class (partial)","body":"<p>Since my <code>@html.render</code> action crashes my dev and prod servers i have to use <strong>partials(crap)</strong>.</p>\n\n<p>I tried creating <code>public partial controller{}</code> class so i can set needed data for all my views but i am having no luck (everything breaks).</p>\n\n<p>I am coming from LAMP cakePHP background and really need simplicity.</p>\n\n<p>I need to know how to create a partial base controller(<strong>that doesnt override the regular  base controller</strong>) and how to access multiple models from the class.</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":145,"score":-1,"question_id":12190142,"title":"MVC which is the better practice?","body":"<p>I have a <strong>stored procedure</strong>, a <strong>controller</strong> and a <strong>model</strong>.</p>\n\n<p>Where should I do the database error checking[No rows returns, table has conflicting primary key, invalid values specified, etc?] in my procedure or model? and from where should I be displaying messages out to the user[ Update successful, Could not execute statement, etc ]?</p>\n\n<p>What is the better practice?</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","viewmodel","controllers"],"answer_count":3,"favorite_count":5,"up_vote_count":10,"down_vote_count":0,"view_count":1736,"score":10,"question_id":7391237,"title":"MVC 3 - Controllers and ViewModels - Which should contain most of the business logic?","body":"<p>Currently in my application and using the unit of work pattern and generic repository, all my controllers contain all of the business logic. I'm in the process of putting everything over to use ViewModels instead of the straight Model.</p>\n\n<p>While this is a good idea, now comes a question that can significantly separate my business logic in the controllers. For controllers and ViewModels, which should contain most of the business logic?</p>\n\n<p>I've tried a few ways to get my ViewModels to practically contain all the business logic. However, I do have to have an argument in my ViewModel's constructor that takes a Unit of Work. Is this a good idea?</p>\n\n<p>My code smell tells me it is. However, I am just a little worried how this will be in consistency with controllers that perform actions that do not need ViewModels. Simply put, actions that do not require to pass a Model/ViewModel to a View; this case happens on actions that do redirects to other actions. Which means, my business logic can either stay in that action or I could separate that business logic into a function.</p>\n\n<p>What is the best practice here?</p>\n"},{"tags":["mvc","extjs","extjs4","extjs4.1","extjs-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":181,"score":0,"question_id":12193896,"title":"EXTJS MVC sending data from one view to another","body":"<p>Am developing application using EXTJS MVC Architecture.\nI have created a dataview which consists of the list of users in the system, and each item in the dataview consists of three buttons. One of them is the edit button, which on clicking opens another view. This view consists of a form where the users details can be edited. Now, what am struck in is, when i open the form, i want the users details to be loaded into the fields of the form.</p>\n\n<p>So, how do i send the data from the dataview to the form so that the appropriate data, respective to the user gets loaded?</p>\n\n<p>Here is the code:</p>\n\n<p>Controller</p>\n\n<pre><code>init : function() {\n    this.control({\n        'button[action=addUsers ]' : {\n            click : this.addUsers\n        },\n        '#userlist' : {\n            itemclick : this.userListSelectionChange\n        }\n    })\n},\nuserListSelectionChange : function(view, record, h, ind, evt) {\n\n    console.log('user List clicked')\n\n    var edit = evt.getTarget('a.icon-edit-32');\n    var deletebt = evt.getTarget('a.icon-delete-32');\n\n    if (edit != null) {\n\n        var name = record.get('Name');\n        console.log(name);\n\n        this.showHWindow(record);\n    }\n\n    if (deletebt != null) {\n\n        var name = record.get('Name');\n        console.log(name);\n\n        this.showOffWindow();\n    }\n},\n</code></pre>\n\n<p>When the showHWindow() method is called, the form opens, and i want the form to be loaded with the data for that particular user. And, even though its printing the correct name for</p>\n\n<pre><code>var name = record.get('Name');\n</code></pre>\n\n<p>Am not sure how to send this data to the form.</p>\n\n<p>Also, i have tried using loadRecord method, but the fields are empty.</p>\n\n<pre><code>this.euWin = Ext.create('Campus.view.EditUsers');   \n\nvar f = this.getEdituserform().getForm();\n\n    f.loadRecord(record);\n\n    this.euWin.showWin();\n</code></pre>\n"},{"tags":["jquery","spring","mvc","autocomplete","annotations"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":127,"score":0,"question_id":12190150,"title":"Spring MVC,Jquery Autocomplete not working","body":"<p>I am trying to implement Autocomplete feature using Spring MVC and Jquery.Employee list is coming from DB but from jquery; controller's function is not getting called.\nPlease see below code.</p>\n\n<p>empDeatils.jsp</p>\n\n<pre><code> `link rel=\"stylesheet\" type=\"text/css\" ` `href=\"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css\" /&gt;\n `\n\n `&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\n `\n\n `&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js\"&gt;&lt;/script&gt;\n  `\n\n `&lt;script type=\"text/javascript\"&gt;\n `\n\n$(document).ready(function() {\n\n\n$(document).ready(function() {\n\n$(\"#empName\").autocomplete({\n\nsource: '${pageContext.request.contextPath}/getEmpList'\n\n});\n\n});\n\n&lt;/script&gt;\n\n\n\n&lt;form:input path=\"empName\" cssClass=\"input-xlarge\" id=\"empName\" /&gt;\n</code></pre>\n\n<p>Controller class</p>\n\n<pre><code>@RequestMapping(value = \"/getEmpList\", method = RequestMethod.GET, headers = \"Accept=*/*\")\n\npublic @ResponseBody List&lt;String&gt; getEmpNameList(@RequestParam(\"term\") String query) {\n\nList&lt;String&gt; empList = empDetailsService.getEmpNames(query);\n\nreturn empList;\n\n}\n</code></pre>\n\n<p>Please help.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","mvc","validation","constructor"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12189424,"title":"Validating on class instantiation","body":"<p>When I instantiate a new object, what should I do with the parameters that get passed in in terms of validation? </p>\n\n<p>I'm guessing it's not safe to just assume the parameters coming in are fine, however I thought validation should be separated into another layer?</p>\n\n<p>For example, if a class takes a start time and and end time the things the class should require:</p>\n\n<ul>\n<li><code>start_time</code> and <code>end_time</code> are both valid datetime objects</li>\n<li><code>start_time</code> should be before <code>end_time</code></li>\n</ul>\n\n<p>Any direction with what is okay to validate in class constructors, if anything at all as well as any general information about where validation should take place would be helpful.</p>\n\n<p>It might be worth noting I'm trying to work with an MVC structure.</p>\n"},{"tags":["javascript","jquery","ajax","mvc","ember.js"],"answer_count":2,"favorite_count":7,"up_vote_count":18,"down_vote_count":0,"view_count":6114,"score":18,"question_id":8948213,"title":"ember.js and the server","body":"<p>I'm looking at Ember.js and have been reading the docs to try and understand how to use it. I get it (pretty well), except for one thing. To my way of thinking in the MVC pattern, the Model is the repository for data in the application. I can see how that works for client side data in Ember.js. What I don't get is how to tie that data back to the server so that if data changes at the client, the changes are updated in server. And vice versa. I've been doing this by in in my web applications making Ajax/JSON calls to back and forth to the server, I'm just not getting how to do that using Ember.js.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","dataannotations"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":181,"score":1,"question_id":12193449,"title":"Can I show/hide a view model element with data annotations based on a condition?","body":"<p>I am generating a lot of views using data annotations and a few custom templates. </p>\n\n<pre><code>public class Container\n{\n    [HiddenInput(DisplayValue = false)]\n    public string Key { get; set; }\n\n    [Display(Name = \"Full Name\")]\n    [RequiredForRole(\"Editor\"), StringLength(30)]\n    public string Name { get; set; }\n\n    [Display(Name = \"Short Name\")]\n    [RequiredForRole(\"Editor\"), StringLength(10)]      \n    public string ShortName { get; set; }\n\n    [Display(Name=\"Maximum Elements Allowed\")]\n    [RequiredForRole(\"Admin\")]\n    public int MaxSize { get; set; }\n\n    [Display(Name = \"Components\")]\n    public IList&lt;Component&gt; Components{ get; set; }\n}\n</code></pre>\n\n<p>In the views, I just use <code>@Html.DisplayForModel()</code>, <code>@Html.EditorForModel</code>, etc.</p>\n\n<p>Certain properties need to be editable by users in some roles but hidden for others. As you can see, I've implemented a custom validation attribute <code>RequiredForRole</code> which checks a value exists but only if the current user has a certain role.</p>\n\n<p>I really need a custom Display attribute, but as <code>DisplayAttribute</code> is sealed, this doesn't seem possible.</p>\n\n<p>I want to avoid having lots of different templates for different kinds of users, or start pushing this logic of who sees what down onto the views. What's the neatest way to solve this problem?</p>\n"},{"tags":["asp.net-mvc","mvc","beta","html.radiobuttonlist"],"answer_count":5,"favorite_count":1,"up_vote_count":17,"down_vote_count":0,"view_count":20916,"score":17,"question_id":345396,"title":"MVC & RadioButtonList","body":"<p>I tried doing this but this only display the radiobutton without text beside it..</p>\n\n<pre><code>             &lt;% foreach (string s in Html.RadioButtonList(\"rbl\")) {%&gt;\n                 &lt;% =s %&gt;\n                 &lt;% } %&gt; \n</code></pre>\n"},{"tags":["php","oop","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":654,"score":1,"question_id":2613135,"title":"PHP - Concatenating objects and casting to string - bad idea?","body":"<p>Is it bad practice to concatenate objects when used in this context:</p>\n\n<pre><code>$this-&gt;template-&gt;head .= new View('custom_javascript')\n</code></pre>\n\n<p>This is the way i normally add extra css/js stuff to specific pages. I use an MVC structure where my basic html template has a $head variable which I set in my main Website_controller. I have used this approach for a while as it means I can just add bits and pieces of css/js stuff from whichever page/controller needs it. But having come across a problem in PHP 5.1.6 where the above code results in \"Object ID #24\", the result of toString() not being called i think, I am rethinking whether i should just fix this to work in PHP 5.1.6 or if i should rethink this approach in general.</p>\n\n<p>Any pointers appreciated!</p>\n"},{"tags":["mvc","grails","groovy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12191546,"title":"Sending a value through render() in grails controller","body":"<p>This is probably one very simple question to answer, but I can't output the variable I am trying to send to a view through a controller in the Grails Framework.</p>\n\n<pre><code>render(view: 'parseerror', error: it)\n</code></pre>\n\n<p>That's my code in my controller, it renders the view correctly but as soon as I am trying to call the variable through <code>${error}</code> it outputs nothing. It should output a string since when I print the iterator, the console output: <code>The example string</code></p>\n\n<p>Thanks for helping me out :)</p>\n"},{"tags":["asp.net-mvc","linq","mvc","hyperlink"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12190742,"title":"creating hyperlink using Linq query","body":"<pre><code>return (from doc in db.setupDocuments\n                where doc.ParentDocumentID == parentId\n                select new TreeViewItem\n                {\n                    Text = doc.DocumentTitle,\n                    Value = SqlFunctions.StringConvert((decimal)doc.DocumentID),\n                    LoadOnDemand = doc.setupDocuments1.Count &gt; 0,\n                    Enabled = true,\n                    RouteName = \n                    //Url = \"/Settings/SelectedItem?text=\" + doc.DocumentTitle\n                });\n</code></pre>\n\n<p>Hi friends i want to create a link on each object that is retrieved from the database. I want to forward it to the Action of the name of the object title (e.g. doc.DocumentTitle) and to a static controller \"Settings\". But not using the link like given in the commented line. When i use \n    ActionName = doc.DocumentTitle,<br>\n    ControllerName = \"Settings\"\nit didn't work... Any suggestions. thanks in advance.</p>\n"},{"tags":["php","ruby-on-rails","asp.net-mvc","mvc","spring"],"answer_count":8,"favorite_count":4,"up_vote_count":30,"down_vote_count":2,"view_count":13757,"score":28,"question_id":253785,"title":"PHP MVC (symfony/Zend) vs ASP MVC vs Spring MVC vs Ruby on Rails?","body":"<p>I'm paralyzed by choice.  </p>\n\n<p>I know PHP, C# and Java fairly well as languages.  Most of my web development in the past has been in PHP (with my own or other OSS frameworks).  I've spent the last 2-3 years developing desktop GUI apps in C#.  Before that I was doing desktop GUI apps in Java (with a little Servlets/JSP).</p>\n\n<p>I want to develop a social web 2.0 site (in my own time) and in the process also add to my \"salable\" skill set (ie, what people would hire me for).</p>\n\n<p>Do I:</p>\n\n<ol>\n<li>Go with what I know best and do it in PHP but use the latest OSS frameworks (eg, Zend).</li>\n<li>Learn ASP MVC and extend my most recently acquired skill set to include web technologies.</li>\n<li>Return to Java and learn something like Spring MVC.</li>\n<li>Go with something entirely new like Ruby on Rails.</li>\n</ol>\n"},{"tags":["mvc","design-patterns","frameworks","datamapper","domain-model"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":161,"score":0,"question_id":12015202,"title":"Implementing Domain Model and Data Mapper pattern with external data sources","body":"<p><strong>Update:</strong></p>\n\n<p>Ok some update, finally we have decided on the framework (Yii) and have some initial structures. I will paste some of the relavent code to illustrate our current status:\n(only has read action here)</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>class SponsorController extends RestController\n{\n    public function actionRestView($id)\n    {\n        $sponsorMapper = new SponsorMapper(\n            new Db1Adapter(), // Gateway to the external SOAP Webservice\n            new Db2Adapter()  // Gateway to the external REST Webservice\n        );\n\n        $data = $sponsorMapper-&gt;read($id);\n\n        $this-&gt;renderJson(\n            array(\n                'success' =&gt; true,\n                'message' =&gt; 'Record Retrieved Successfully',\n                'data' =&gt; $data\n            )\n        );\n    }\n}\n</code></pre>\n\n<p><strong>Domain Model</strong></p>\n\n<pre><code>class Sponsor extends CModel\n{\n    public $id;\n    public $db1Result;\n    public $db2Result;\n\n    public function attributeNames()\n    {\n        return array(\n            'id',\n            'db1Result',\n            'db2Result',\n        );\n    }\n}\n</code></pre>\n\n<p><strong>Data Mapper</strong></p>\n\n<p>\n\n<pre><code>class SponsorMapper extends Mapper\n{\n    public function __construct(SoapAdapter $db1Adapter,\n                                RestAdapter $db2Adapter)\n    {\n        $this-&gt;adapters['soap'] = $db1Adapter;\n        $this-&gt;adapters['rest'] = $db2Adapter;\n    }\n\n    public function read($id)\n    {\n        $db1Result = $this-&gt;adapters['soap']-&gt;demoRequest();\n        $db2Result = $this-&gt;adapters['rest']-&gt;demoRequest();\n\n        return $this-&gt;createEntity($db1Result, $db2Result);\n    }\n\n    protected function createEntity($db1Result, $db2Result)\n    {\n        $sponsor = new Sponsor();\n        $sponsor-&gt;db1Result = $db1Result;\n        $sponsor-&gt;db2Result = $db2Result;\n\n        return $sponsor;\n    }\n}\n</code></pre>\n\n<p>Now I have 2 questions:</p>\n\n<ol>\n<li><p>Right now the property of Sponsor object is just db1Result and db2Result and I will change it to the actual properties (eg. firstName, lastName, email) so the SponsorMapper::createEntity will be something like this:</p>\n\n<pre><code>protected function createEntity($db1Result, $db2Result)\n{\n    $sponsor = new Sponsor();\n    $sponsor-&gt;firstName = $db1Result-&gt;result-&gt;first_name;\n    $sponsor-&gt;lastName = $db1Result-&gt;result-&gt;last_name;\n    $sponsor-&gt;email = $db2Result-&gt;QueryResult-&gt;ItemObject-&gt;email;\n\n    return $sponsor;\n}\n</code></pre></li>\n</ol>\n\n<p>It seems to me that these kinds of stuff should happen inside the domain object instead mapper; I know I can treat db1Result and db2Result as domain object of their own and create their relations to Sponsor domain object, but I'm not sure if that's the right direction. Should I do it in the mapper?</p>\n\n<ol>\n<li>I will need introduce a caching layer because to retrieve data from external databases is not fast. Where is the best place/practice to introduce caching layer? One way to do it is in the controller, so code caching layer as another mapper, and if this cache mapper doesn't return data, we can then go the long way to retrive stuff from external. But this solution means I will need to put all those logics all over the controller actions, maybe there is a better way to place caching layer?</li>\n</ol>\n\n<p><strong>Initial Question:</strong></p>\n\n<p>We are in the process of designing/creating a RESTFul API project on top of PHP MVC framework. The project's goal is to serve as an adapter between two other \"foreign\" APIs (one SOAP, the other REST).</p>\n\n<p>I'm thinking the models in this project should roughly work like this:</p>\n\n<ul>\n<li>Say we have a collection of user data on both \"foreign\" database\nbehind their respective APIs, and locally we create a model \"User\"</li>\n<li>Say we have a \"GetById\" method inside the \"User\" model, which needs\nto: grab the user data by id from both foreign APIs, combine and\nreturn the result.</li>\n<li>I probably will use a builder pattern inside \"User\" model to\ninstantiate 2 other models (for each foreign API), and ask those 2\nmodels to fetch data. With this structure I can let the 2 additional\nmodels to inherit things need for them to communicate with their\nAPIs.</li>\n<li><p>So we have those models:</p>\n\n<ol>\n<li>User</li>\n<li>SOAPBuilder</li>\n<li>RESTBuilder</li>\n<li>UserSOAP</li>\n<li>UserREST</li>\n</ol></li>\n</ul>\n\n<p>Now what I don't like about this design is, the structure is a bit complex and I don't know a good way to place those model files into different places based on their \"types\" (the User model itself, the builder models, etc).</p>\n\n<p>Am I over-designing this? Is there better patterns I should consider?</p>\n"},{"tags":["php","mvc","zend-framework","model"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12185120,"title":"No find model when i use Zend_View_Helper_Action","body":"<p>Sorry for my English, it's very poor but i thing you understand my problem. I have  module \"addons\" and \"default\" in my project. And I use plugin in default module.  I show code:</p>\n\n<pre><code>public function preDispatch(Zend_Controller_Request_Abstract $request)\n{\n    $actionViewHelper = new  Zend_View_Helper_Action();\n\n    $layout = Zend_Layout::getMvcInstance();\n    //---------------------------------------------------\n    $menu = $actionViewHelper-&gt;action('index', 'menu','addons');\n\n    //---------------------------------------------------\n    $layout-&gt;navigation=$menu;      \n}\n</code></pre>\n\n<p>When I use <code>$actionViewHelper-&gt;action('index', 'menu', 'addons')</code>, <code>MenuController</code> doesn't detect the model, the rest of<code>MenuController</code> is working well. When my application is executed from <code>http://address/addons/menu/index</code> the model is found. But I want to execute my application from <code>http://address/articles/list</code> and the menu was inject in plugin to layout.</p>\n\n<p>Thaks for help, best regards.\nDamian</p>\n"},{"tags":["ajax","json","mvc","joomla","joomla2.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":222,"score":0,"question_id":12182923,"title":"How can I implement JSON in custom Joomla 2.5 MVC component as a way of filtering large data sets using AJAX","body":"<p>I'm new to joomla development however, I'm moderately proficient at MySQL, PHP and JQuery - all of which I'm currently putting into practice to develop a <strong>custom component (J!2.5)</strong> to manage my projects. </p>\n\n<p><strong>Scenario</strong></p>\n\n<p>For simplicity, let's say I've got the following tables and fields:</p>\n\n<ol>\n<li><strong>tbl_projects - id, title, organisation (tbl_organisation.id)</strong></li>\n<li><strong>tbl_organisations - id, title, tbl_counties.id</strong></li>\n<li><strong>tbl_counties - id, title</strong></li>\n</ol>\n\n<p>For the sake of data integrity and ease of use, I've populated *tbl_organisations* with over 5,000 potential clients that are naturally, editable from the admin side of my component, having it's own controller, model and view. </p>\n\n<p>The 'problem' that this creates is that, when adding a new project, the dropdown list of organisations (tbl_organisations.id => tbl_organisations.title) is more than a little unwieldy. Hence, the necessity for me to create a means of filtering organisations by county.</p>\n\n<p>I would like to do this with an ajax call to retrieve the counties from the existing counties model then filter the organisations dropdown accordingly. Furthermore, since this 'filtering' type functionality is something that I will require for other tables/datasets, I wonder how best to achieve this?</p>\n\n<p>I hope this makes sense!</p>\n\n<p>Any help would be massively appreciated!!!</p>\n\n<p>Many thanks in advance,</p>\n\n<p>Gez</p>\n"},{"tags":["jquery","asp.net-mvc-3","mvc","mobile"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":470,"score":0,"question_id":10265026,"title":"ASP MVC3 Problems with URL after adding JQueryMobile","body":"<p>Anyone else having trouble with MVC3, JQuery 1.7.1 and JQuery Mobile 1.1.0? Whenever I submit a standard MVC form my URL goes from:</p>\n\n<p><strong>localhost/site/controller/action</strong></p>\n\n<p>To</p>\n\n<p><strong>localhost/site/controller/action#/controller/action</strong></p>\n\n<p>I'm in the middle of simplifying an existing site that is quite messy so am working through controller by controller cleaning up and removing jquery form handling where it isn't required and just using Razor. I wondered if something in my project was conflicting but i've managed to replicate it from a new project:</p>\n\n<p>Open VS2010, New Empty MVC3 Project - i.e. everything not mentioned below is the default MVC project</p>\n\n<p>Add TestController:</p>\n\n<pre><code>using System.Web.Mvc;\nusing MvcApplication1.Models;\n\nnamespace MvcApplication1.Controllers\n{\n    public class TestController : Controller\n     {\n        public ActionResult Testing()\n        {\n            return View(new TestModel());\n        }\n\n        [HttpPost]\n        public ActionResult Testing(TestModel testModel)\n        {\n            if (ModelState.IsValid)\n            {\n                //Temp for examples sake\n                ModelState.AddModelError(\"EmailAddress\", \"Account not found.\");\n            }\n\n            return View();\n        } \n    }\n}\n</code></pre>\n\n<p>Add TestModel:</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\n\nnamespace MvcApplication1.Models\n{\n    public class TestModel\n    {\n        [Required(ErrorMessage = \"Email is required.\")]\n        [DataType(DataType.EmailAddress)]\n        [StringLength(50, ErrorMessage = \"Email too long.\")]\n        public string EmailAddress { get; set; }\n    }\n}\n</code></pre>\n\n<p>Add view Folder Test with view Testing:</p>\n\n<pre><code>@model MvcApplication1.Models.TestModel\n\n@using (Html.BeginForm(\"Testing\", \"Test\", FormMethod.Post))\n{ \n    &lt;div id=\"divForgotPassword\"&gt;\n        &lt;fieldset data-role=\"fieldcontain\"&gt;\n            &lt;legend&gt;Forgot Password&lt;/legend&gt;\n            &lt;div id=\"editor-label\"&gt;\n                &lt;label for=\"txtLogonID\"&gt;\n                    Email Address:&lt;/label&gt;&lt;/div&gt;\n            &lt;div id=\"editor-field\"&gt;\n                @Html.TextBoxFor(m =&gt; m.EmailAddress, new { type = \"email\" })\n                &lt;br /&gt;\n                @Html.ValidationMessageFor(m =&gt; m.EmailAddress)&lt;/div&gt;\n            &lt;input type=\"submit\" value=\"Reset Password\" data-role=\"button\" data-inline=\"true\" /&gt;\n        &lt;/fieldset&gt;\n    &lt;/div&gt;\n}\n</code></pre>\n\n<p>Run and visit <a href=\"http://localhost:65298/Test/Testing\" rel=\"nofollow\">http://localhost:65298/Test/Testing</a>\nHit Reset Password, validator works, URL doesn't change</p>\n\n<p>Add jquery.mobile-1.1.0.js and jquery-1.7.1.min.js to scripts folder</p>\n\n<p>To _Layout.cshtml add: \nAnd Change jquery 1.5.1 to 1.7.1</p>\n\n<p>Run and visit our page again\nHit Reset Password, validator works but now you have:\n<strong>http://localhost:65298/Test/Testing#/Test/Testing</strong></p>\n\n<p>I must be doing something wrong?? The main problem with this is that with that URL other javascript I have doesn't like to run. I also worry it will interefere with something else, plus it looks ugly and has to be wrong...</p>\n\n<p>Many Thanks In Advance!!</p>\n"},{"tags":["javascript","json","mvc","routing","http-status-code-404"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":479,"score":0,"question_id":9560598,"title":"URL Routing issue with Javascript (Jquery) call to MVC3 Controller/Action/ID, returning 404, should get JSon","body":"<p><strong>Question:</strong> How do I code the URL passed to javascript so that in the built/deployed version the code will go to the controller/action with the id and return the JSon data, like it works in the Visual Studio environment?</p>\n\n<p><strong>Goal:</strong> to return dates to the datepicker, because they will be disabled dates. I expect a return of JSon array of strings that are dates that are then fed into the datepicker.</p>\n\n<p><strong>Relevance to others:</strong>\nReturning JSon data from a call to Controller/Action/ID seems like it would be a common thing to do. I see other questions regarding routing issues, as well as JSon, and jQuery seems to be a popular way to enhance web development.</p>\n\n<p><strong>Background:</strong>\nI have a jQuery-UI datepicker that calls a Controller/Action/ID and returns json data to the datepicker. It works perfectly when running within Visual Studio, but fails when built and deployed to the Dev environment.  The code passes the URL that is generated and passed to the jQuery is:\n/Secure/Validation/getDisabledDates/999</p>\n\n<p>We are using Umbraco, with a directory called /Secure within the Umbraco area to hold our MVC code. The URL that the code tries then generates on the Dev environment is:\n/Secure/Validation/getDisabledDates/999\nIf I watch the call and the errors in Firebug, I see that an error for the following:\nPOST <a href=\"http://dev.ourcompanyname.com/Secure/Validation/getDisabledDates/999\" rel=\"nofollow\">http://dev.ourcompanyname.com/Secure/Validation/getDisabledDates/999</a>       302 Found (if I investigate further, I find it was really a 404, that got sent to the error page, and that's what was found.)</p>\n\n<p>I'm using @Url.Action in the view to get the correct (hopefully) URL to the action, but when the javascript request is made in the Dev environment, the return is a 404. The code gets into the javascript code and displays the URL in an alert, which looks right to my eyes. The code does not seem to get as far as the MVC controller (I tried putting a messagebox there).</p>\n\n<p>This seems to be because the controller isn't actually a distinct, real page within a directory, because the MVC code is compiled into a DLL. I've heard this and it makes sense, but other people in the world seem to be calling controllers, so I'm not sure what my problem is here.</p>\n\n<p>Originally there was only one set of dates, so some code calls only say GetDates, but then it was broken up by Widget, so calls then reflect ByWidget, so an ID is passed. All of the calls trace correctly, and the code works in Dev.</p>\n\n<p>SetDates that gets called on success in the javascript function is another javascript function, but I have put alerts in SetDates, in the Dev environment the code does not get that far, presumably because it will not find the code in the ValidationController.</p>\n\n<p>Any helpful suggestions would be very greatly appreciated!</p>\n\n<p><strong>Specs:</strong>\nMVC3,\nJavascript 1.6.4,\nJquery jquery-ui-1.8.17,\nIIS 7.5,\nUmbraco 4.7.1,\nVisual Studio 2010</p>\n\n<p><strong>Javascript code in separate .js file:</strong></p>\n\n<pre><code>function getDisabledDatesByWidget(urlGetDisabledDatesByWidget) {\n    alert('urlGetDisabledDatesByWidget = ' + urlGetDisabledDatesByWidget);\n    $.ajax({\n        //data: {id: id},\n        type: \"POST\",\n        async: false,\n        url: urlGetDisabledDatesByWidget,\n        dataType: 'json',\n        success: setDates,\n        constrainInput: true,\n        defaultDate: new Date(defaultCutoff + \" 00:00\")\n    });\n}\n</code></pre>\n\n<p><strong>MVC code in the view, in  the document ready function:</strong></p>\n\n<pre><code>    widgetId = '@ViewBag.WidgetId';\n    var urlGetDisabledDatesByWidget = '@Url.Action(\"getDisabledDates\", \"Validation\", new{id = @ViewBag.WidgetId})';\n    getDisabledDatesByWidget(urlGetDisabledDatesByWidget);\n</code></pre>\n\n<p><strong>MVC code in ValidationController:</strong></p>\n\n<pre><code>[HttpPost]\npublic JsonResult getDisabledDates(int id)\n{\n    List&lt;String&gt; disabledDateStrings = new List&lt;String&gt;();\n    List&lt;DateTime&gt; _DisabledDateDates = DisabledDateSetup.GetDisabledDateDatesByWidget(id).Value.ToList();\n\n    ////Convert disabled dates to string array\n    foreach (DateTime disabledDate in _DisabledDateDates)\n    {\n        disabledDateStrings.Add(disabledDate.ToString(\"M-d-yyyy\"));\n    }\n\n    ChangeType _changeType = ChangeType.NoChangeType;\n    ChangeDateRangeSetupResponse _dates = DisabledDateSetup.GetValidChangeDateRange(_changeType);\n\n    return Json(new\n    {\n        disabledDates = disabledDateStrings,\n        startDate = UnixTicks(_dates.Value.BeginDate),\n        endDate = UnixTicks(_dates.Value.EndDate)\n    });\n}\n</code></pre>\n\n<p><strong>MVC code in the view, in the div:</strong></p>\n\n<pre><code> @Html.TextBoxFor(model =&gt; model.SetupDate, new { id = \"DisabledDateCalendar\"})\n</code></pre>\n\n<p><strong>Global asax routing:</strong></p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n    routes.MapRoute(\n        \"Default\", // Route name\n        \"{controller}/{action}/{id}\", // URL with parameters\n        new { controller = \"Account\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults\n    );\n\n}\n</code></pre>\n\n<p><strong>What I've done to try to resolve this before posting:</strong></p>\n\n<ul>\n<li>Consulted with other developers at my office</li>\n<li>Traced the calls in Dev using Firefox/Firebug and Chrome/Chrome's F12 feature</li>\n<li>Placed alerts/messageboxes in code, deployed it, and watched what was displayed and what was not</li>\n<li>Googled for answers</li>\n<li>Reviewed many Stack Overflow questions, including:</li>\n<li><a href=\"http://stackoverflow.com/questions/6700959/asp-net-mvc-routing-javascript-url-404-errors\">asp.net MVC routing - javascript url 404 errors</a></li>\n<li><a href=\"http://stackoverflow.com/questions/7864207/handling-asp-net-mvc-routing-in-external-javascript\">Handling ASP.NET MVC Routing in External JavaScript</a></li>\n<li><a href=\"http://stackoverflow.com/questions/1470613/asp-net-mvc-routing-fails-when-using-default-aspx-controller-action-style-url\">ASP.NET MVC routing fails when using default.aspx/controller/action style url</a></li>\n</ul>\n"},{"tags":["php","mvc","orm","doctrine2"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12179812,"title":"Extending Doctrine Entity in order to add business logic","body":"<p>I'm trying to practice a good design and extending Doctrine entity.\nMy extended class, the model basically, will have extra business logic + access to the entity basic data.</p>\n\n<p>I am using Doctrine 2.2.1 &amp; Zend Framework 1.11.4 &amp; php 5.3.8</p>\n\n<p>When I use DQL, doctrine return successfully the Model entity.\nWhen I use Doctrine native find() function, it returns nothing :(.</p>\n\n<p>HELP...</p>\n\n<h2>This is how it rolls:</h2>\n\n<p><strong>Bootstrap.php</strong>:</p>\n\n<pre><code>    $classLoader = new \\Doctrine\\Common\\ClassLoader('Entities', APPLICATION_PATH.'/doctrine');\n    $classLoader-&gt;register();\n    $classLoader = new \\Doctrine\\Common\\ClassLoader('Models', APPLICATION_PATH);\n    $classLoader-&gt;register();\n</code></pre>\n\n<p><strong>Model in APPLICATION_PATH\\models\\User.php</strong>:</p>\n\n<pre><code>namespace Models;\nuse Doctrine\\ORM\\Query;\n\n/**\n * Models\\User\n *\n * @Table(name=\"user\")\n * @Entity\n */\nclass User extends \\Entities\\User {\n\npublic function __wakeup() {\n    $this-&gt;tools = new Application_App_Tools();\n}\n</code></pre>\n\n<p><strong>Entity retrieval functions</strong>:</p>\n\n<p><em><strong>DOESN'T WORK</em></strong>:</p>\n\n<pre><code>$userEntity = $registry-&gt;entityManager-&gt;find('Models\\User', $userEntity);\n</code></pre>\n\n<p><em><strong>WORKS</em></strong>:</p>\n\n<pre><code>$qry = $qb\n        -&gt;select('u')\n        -&gt;from('Models\\User','u'); \n</code></pre>\n"},{"tags":["arrays","cocoa","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12179629,"title":"MVC confusion, where do I put my model?","body":"<p>I'm working on my first cocoa app from scratch and I'm a little confused about how to get my model, view, and controller working together. I'm sure I'm just missing something inane. </p>\n\n<p>Basically, my view is currently set up to return 3 values to the controller. The controller takes those values and creates a new instance of a class. I want to be able to put those objects in an array and then work with the array. </p>\n\n<p>First: The array I want to create... it is my model, right? How and where do I create it so that an action in the view (inputing the values) is interpreted by the controller correctly (creating the object) and then stored in the method?</p>\n\n<p>Second: The attempts I have made leave me isolated from my array. I tried to create a class for the array, but I can't access it from the controller. How do I get around this?</p>\n\n<p>Lastly: I've been banging my head against the code for a few days. I'm teaching myself and I'm learning a lot but I have lots of simple questions like this. Thank you for taking the time to help. )</p>\n\n<p>EDIT:</p>\n\n<p>I've created the Student class. The Action sends the values to the controller and the controller creates a new instance:<br>\n<code>- (IBAction)addNewStudentButtonPressed:(id)sender<br>\n{<br>\n    Student *newStudent = [[Student alloc] initNewStudentwithName:[nameField stringValue]<br>\n                                                            andID:[idField intValue]<br>\n                                                         andLevel:[levelField stringValue]];<br>\n}</code></p>\n\n<p>The Array is being created in the <code>appDidFinishLaunching</code> method:<br>\n<code>-(void)applicationDidFinishLaunching:(NSNotification *)aNotification<br>\n{<br>\n    NSMutableArray *roster = [[NSMutableArray alloc] initWithCapacity:100];<br>\n}</code>  </p>\n\n<p>And now I want to add the student to the array. I'm just missing something obvious. :(</p>\n"},{"tags":["php","mvc",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":64,"score":0,"question_id":12178941,"title":"Need single entry point like solution ","body":"<p>I work on ready made framework (legacy framework).Its almost like any other MVC framwork you get in market, except that its not having single entry point.\n<br/>\nSo in every Controller file I have to include configs &amp; Model classes.<br/>\nCurrently I manage with __autoload() , but still one include is left on every page.<br/>\nIf I add .htaccess for single entry point then I have to do lots of changes in my code.Because every controller file is different physical file.Its not even near to object oriented structure and for views smarty is used.<br/>\nIs there any solution including .htaccess rules , instead of php.ini? It will be easier to maintain.\nPlease suggest best solutions for my dificulty.</p>\n"},{"tags":["android","mvc","factory-pattern"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12179726,"title":"How to implement a ViewFactory in Android","body":"<p>I have an application that runs on 3 platforms: J2ME, BlackBerry and Android. It has a module with the common code and others with the platform-specific code (for each platform).</p>\n\n<p>We are using a MVC architecture. At first, we left the View and the Controller to be implemented in each platform. But we were getting different behaviors or triplicated code. So we decided to unify the Controller.</p>\n\n<p>Now we have a ViewFactory to be implemented in each platform. In the common code, we just get the views, set it's controller and everything runs nice.</p>\n\n<p>The problem is that I'm not able to do that in Android. I can't instantiate an Activity myself, I have to send an Intent and let the system create it. An Activity looks like a \"View plus Controller\". I want just the View part. What is the best way to do this?</p>\n"},{"tags":["mvc","windows-server-2008","asp.net-mvc-4","adlds"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":12179309,"title":"Authenticate user across multiple domains using AD LDS using C#.Net and MVC 4","body":"<p>I have to develop an independed login application and deploy in domain A. Now I have to authenticate the user in multiple applications deployed in various domains like B and C. I'm a new to this AD LDS configuration. I was provided with configured AD LDS in Server 2008 and connection string. I was able to connect and validate the user</p>\n\n<pre><code>try\n{\n  DirectorySearcher searcher = new DirectorySearcher(entry);\n  searcher.Filter = \"(&amp;(objectClass=user)(CN=\" + userName + \"))\";\n  SearchResultCollection result = searcher.FindAll();\n\n isValid = (result.Count &gt; 0);\n\n  if (isValid)\n   {\n     message += \"Successfully authenticated\";\n   }\n  else\n   {\n    message += \"Unable to Authenticate\";\n   }\n\n}\ncatch (Exception ex)\n{\n   message += \"Error searching: \" + ex.ToString();\n}\n</code></pre>\n\n<p>Please help me to authenticate the user and grant access to the other applications deployed in B and C domains. Sorry for bad English. Thanks in advance.</p>\n"},{"tags":["oop","mvc","design-patterns","design","animation"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":12179267,"title":"Animation and MVC principle","body":"<p>I always design my programs according to MVC principle, but fitting animation in is pain-in-the-ass.</p>\n\n<p>I have implemented following scheme so far:</p>\n\n<p>1) Model does number of actions [] and sends notifications to all listeners;</p>\n\n<p>2) Upon reciving a notification View adds an animation to the queue.</p>\n\n<p>It's workable approach, but it has one huge drawback  model and UI become unsyncronized. For example there are 10 actions already applied to the model, but UI is still in state, where 5 of them are applied.</p>\n\n<p>This drawback forces animations to be coded uninterruptable, which is not good practice for UI design. Please, suggest how to resolve the issue.</p>\n"},{"tags":["mvc","knockout.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12178738,"title":"Knockout.js select options dynamic by id","body":"<p>i am wondering if there is any possiblity to get the select options values from a function, which is invoked with a parameter.</p>\n\n<p>for example:</p>\n\n<p>my markup</p>\n\n<pre><code>&lt;select data-bind=\"options: $root.getOptions('one', $data.ID), optionsCaption: '...', optionsText:'Txt', optionsValue:'ID'\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>my js</p>\n\n<pre><code>    self.getSelectionData = function (type, param) {\n    if (type == \"one\") {\n        var idParam = new Object();\n        idParam.id = param();\n        $.getJSON('/MyController/MyGetAction', idParam, function (result) {\n            var r = ko.mapping.fromJS(r);\n            return r;\n        });\n    }\n};\n</code></pre>\n\n<p>the \"r\" does contain the correct data, but no data is displayed in the select.</p>\n\n<p>i tried several things but couldn't make it. any idea (or hint that i'm doing it wrong) ?</p>\n"},{"tags":["jquery","mvc","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12178906,"title":"Jquery: Validate dynamic added field in MVC","body":"<p>I'm adding controls dynamically and want to perform validation on form submission. As simple as want unobtrusive validation to occur on dynamic added controls. logic is below:</p>\n\n<p><strong>Model:</strong></p>\n\n<pre><code>public List&lt;MyCollection&gt; MyColl {get;set;}\n</code></pre>\n\n<p>am opening partial view in jquery dialog. </p>\n\n<p><strong>Jquery:</strong></p>\n\n<blockquote>\n  <p>//Add control dynamically <BR>\n  var length=0; <BR>\n  //logic to increase length every time on new row added </p>\n</blockquote>\n\n<pre><code>$(\".myDiv\").append(\"&lt;tr&gt;&lt;input type=text id=MyColl[' + length + '].Field1 name=MyColl[' + length + '].Field1&gt;&lt;/tr&gt;\")\n</code></pre>\n\n<p>I don't know how to specify unobtrusive in this situation? any help would be appreciated.</p>\n"},{"tags":["php","mvc","joomla"],"answer_count":2,"favorite_count":4,"up_vote_count":1,"down_vote_count":0,"view_count":4046,"score":1,"question_id":5325230,"title":"How does Joomla Model View Controller (MVC) work?","body":"<p>I am new to Joomla, I want to know how the Joomla controller passes data to the model, model to controller and controller to view. Although this might be a silly question, I really tried to find the answer. I hope I can get some help from the stackoverflow family.</p>\n"},{"tags":["java","mvc","rest"],"answer_count":5,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":1978,"score":4,"question_id":1069772,"title":"Can anyone recommend a Java web framework that is based on MVC and supports REST?","body":"<p>We are looking to host a Java Domain Model (written using DDD) inside a web application. Ideally I would like to support RESTful resources and requests, having a single site to support both users and a REST api.</p>\n\n<p>Ideally the same url could be used for both end users and the RESTful API of a given feature (with HTTP content types / negotiation specifying the difference).</p>\n\n<p>I have done similar apps in Ruby on Rails and Asp.mvc, but have no experience doing anything like this in Java. Anybody have an experience or advice on where to start ? (Googling suggests that Spring v3 might be an answer, anybody have any thoughts on Spring 3 ?)</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":7800358,"title":"Create another Logon page for external link","body":"<p>I want to create another logon page for external direct link(multiple projects need identity Logon page appearance.)</p>\n\n<p>Is that possible to create another view for logon controller or I need to create another controller? I tried to create another controller, but I can not access at all. </p>\n\n<p>Is there someone get some good ideas about that??</p>\n\n<p>Cheers</p>\n"},{"tags":["c#","asp.net","mvc","html-helper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1891,"score":0,"question_id":4917031,"title":"Writing a HtmlHelper 'Table' method, which uses the model DisplayName's","body":"<p>I have recently decided to write a generic Table html helper to generate tables for my models and other objects, I have used reflection to make it more generic by taking an IEnumerable argument as the table data and a Dictionary for the .</p>\n\n<p>I want to use reflection or some other method to get the properties [DisplayName()] attribute from the models MetaData so that it does not need to be specified in a dictionary. However all methods I have tried seem to return null, so I have removed them from my code.</p>\n\n<pre><code>public static MvcHtmlString Table(this HtmlHelper htmlHelper, Dictionary&lt;string, string&gt; boundColumns, IEnumerable&lt;object&gt; objectData, string tagId, string className, string controllerName, string idProperty)\n        {\n            bool hasAction = !String.IsNullOrEmpty(idProperty);\n            bool hasData = objectData.Count() &gt; 0;\n            UrlHelper urlHelper = new UrlHelper(htmlHelper.ViewContext.RequestContext);\n\n            Type objectDataType = hasData ? objectData.First().GetType() : null;\n            IEnumerable&lt;PropertyInfo&gt; objectDataProperties = hasData ? from propInfo in objectDataType.GetProperties()\n                                                                       where boundColumns.ContainsKey(propInfo.Name)\n                                                                       select propInfo : null;\n\n            // Thead\n            TagBuilder theadtr = new TagBuilder(\"tr\");\n            foreach (string col in boundColumns.Values)\n                theadtr.InnerHtml = String.Format(\"{0}\\n{1}\", theadtr.InnerHtml, (new TagBuilder(\"th\") { InnerHtml = col }).ToString());\n            if (hasAction)\n                theadtr.InnerHtml = String.Format(\"{0}\\n{1}\", theadtr.InnerHtml, new TagBuilder(\"th\") { InnerHtml = \"Action\" });\n            TagBuilder thead = new TagBuilder(\"thead\") { InnerHtml = theadtr.ToString() };\n\n            // Tfoot\n            TagBuilder tfoot = new TagBuilder(\"tfoot\");\n            if (!hasData) // Warn that there was no data to be displayed.\n            {\n                TagBuilder tfoottd = new TagBuilder(\"td\") { InnerHtml = \"There is currently nothing to display.\" };\n                tfoottd.MergeAttribute(\"colspan\", (hasAction ? (boundColumns.Count + 1) : boundColumns.Count).ToString());\n                tfoottd.MergeAttribute(\"style\", \"text-align:center\");\n                tfoot.InnerHtml = (new TagBuilder(\"tr\") { InnerHtml = tfoottd.ToString() }).ToString();\n            }\n            else // Display a pager &amp; filter for navigating through large amounts of data.\n            {\n                // The button for navigating to the first page.\n                TagBuilder pagefirst = new TagBuilder(\"img\");\n                pagefirst.MergeAttribute(\"id\", String.Format(\"{0}-page-first\", tagId));\n                pagefirst.MergeAttribute(\"class\", \"first\");\n                pagefirst.MergeAttribute(\"alt\", \"First Page\");\n                pagefirst.MergeAttribute(\"src\", urlHelper.Content(\"~/Content/Style/Tables/Themes/Blue/resultset_first.png\"));\n                pagefirst.MergeAttribute(\"style\", \"cursor:pointer; vertical-align:middle;\");\n\n                // The button for navigating to the previous page.\n                TagBuilder pageprev = new TagBuilder(\"img\");\n                pageprev.MergeAttribute(\"id\", String.Format(\"{0}-page-prev\", tagId));\n                pageprev.MergeAttribute(\"class\", \"prev\");\n                pageprev.MergeAttribute(\"alt\", \"Previous Page\");\n                pageprev.MergeAttribute(\"src\", urlHelper.Content(\"~/Content/Style/Tables/Themes/Blue/resultset_previous.png\"));\n                pageprev.MergeAttribute(\"style\", \"cursor:pointer; vertical-align:middle;\");\n\n                // The button for navigating to the next page.\n                TagBuilder pagenext = new TagBuilder(\"img\");\n                pagenext.MergeAttribute(\"id\", String.Format(\"{0}-page-next\", tagId));\n                pagenext.MergeAttribute(\"class\", \"next\");\n                pagenext.MergeAttribute(\"alt\", \"Next Page\");\n                pagenext.MergeAttribute(\"src\", urlHelper.Content(\"~/Content/Style/Tables/Themes/Blue/resultset_next.png\"));\n                pagenext.MergeAttribute(\"style\", \"cursor:pointer; vertical-align:middle;\");\n\n                // The button for navigating to the last page.\n                TagBuilder pagelast = new TagBuilder(\"img\");\n                pagelast.MergeAttribute(\"id\", String.Format(\"{0}-page-last\", tagId));\n                pagelast.MergeAttribute(\"class\", \"last\");\n                pagelast.MergeAttribute(\"alt\", \"Last Page\");\n                pagelast.MergeAttribute(\"src\", urlHelper.Content(\"~/Content/Style/Tables/Themes/Blue/resultset_last.png\"));\n                pagelast.MergeAttribute(\"style\", \"cursor:pointer; vertical-align:middle;\");\n\n                // The display field for the pager status.\n                TagBuilder pagedisplay = new TagBuilder(\"input\");\n                pagedisplay.MergeAttribute(\"id\", String.Format(\"{0}-page-display\", tagId));\n                pagedisplay.MergeAttribute(\"type\", \"text\");\n                pagedisplay.MergeAttribute(\"class\", \"pagedisplay\");\n                pagedisplay.MergeAttribute(\"disabled\", \"disabled\");\n                pagedisplay.MergeAttribute(\"style\", \"width:12%;\");\n\n                // The select for changing page size.\n                TagBuilder pagesize = new TagBuilder(\"select\");\n                pagesize.MergeAttribute(\"id\", String.Format(\"{0}-page-size\", tagId));\n                pagesize.MergeAttribute(\"class\", \"pagesize\");\n                pagesize.MergeAttribute(\"style\", \"width:12%;\");\n                for (int i = 10; i &lt;= 100; i += 10)\n                {\n                    TagBuilder option = new TagBuilder(\"option\") { InnerHtml = i.ToString() };\n                    if (i == 10)\n                        option.MergeAttribute(\"selected\", \"selected\");\n                    option.MergeAttribute(\"value\", i.ToString());\n\n                    pagesize.InnerHtml = String.Format(\"{0}\\n{1}\", pagesize.InnerHtml, option.ToString());\n                }\n\n                // The pager container.\n                TagBuilder pagediv = new TagBuilder(\"div\") { InnerHtml = (new TagBuilder(\"form\") { InnerHtml = String.Format(\"{0}\\n{1}\\n{2}\\n{3}\\n{4}\\n{5}\", pagefirst.ToString(), pageprev.ToString(), pagenext.ToString(), pagelast.ToString(), pagedisplay.ToString(), pagesize.ToString()) }).ToString() };\n                pagediv.MergeAttribute(\"id\", String.Format(\"{0}-pager\", tagId));\n                pagediv.MergeAttribute(\"style\", \"float:left; width:50%;\");\n\n                // Filter Text Field\n                TagBuilder filterfield = new TagBuilder(\"input\");\n                filterfield.MergeAttribute(\"id\", String.Format(\"{0}-filter-field\", tagId));\n                filterfield.MergeAttribute(\"type\", \"text\");\n                filterfield.MergeAttribute(\"style\", \"width:30%;\");\n\n                // The filter container.\n                TagBuilder filterdiv = new TagBuilder(\"div\") { InnerHtml = (new TagBuilder(\"form\") {InnerHtml = String.Format(\"Search: {0}\", filterfield.ToString())}).ToString() };\n                filterdiv.MergeAttribute(\"id\", String.Format(\"{0}-filter\", tagId));\n                filterdiv.MergeAttribute(\"style\", \"float:right; width:50%;\");\n\n                TagBuilder tfoottd = new TagBuilder(\"td\") { InnerHtml = String.Format(\"{0}\\n{1}\", pagediv.ToString(), filterdiv.ToString()) };\n                tfoottd.MergeAttribute(\"colspan\", (hasAction ? (boundColumns.Count + 1) : boundColumns.Count).ToString());\n                tfoottd.MergeAttribute(\"style\", \"text-align:center\");\n                tfoot.InnerHtml = (new TagBuilder(\"tr\") { InnerHtml = tfoottd.ToString() }).ToString();\n            }\n\n            // Tbody\n            TagBuilder tbody = new TagBuilder(\"tbody\");\n            foreach (object o in objectData)\n            {\n                TagBuilder tbodytr = new TagBuilder(\"tr\");\n                foreach (PropertyInfo p in objectDataProperties)\n                {\n                    string val = \"N/A\";\n                    object pval = p.GetValue(o, null);\n                    if (pval != null)\n                        val = pval.ToString();\n                    tbodytr.InnerHtml = String.Format(\"{0}\\n{1}\", tbodytr.InnerHtml, (new TagBuilder(\"td\") { InnerHtml = val }).ToString());\n                }\n\n                if (hasAction)\n                {\n                    string id = objectDataType.GetProperty(idProperty).GetValue(o, null).ToString();\n                    tbodytr.InnerHtml = String.Format(\n                        \"{0}\\n{1}\",\n                        tbodytr.InnerHtml,\n                        (new TagBuilder(\"td\") { InnerHtml = Table_ActionLinks(htmlHelper, controllerName, id) }).\n                            ToString());\n                }\n\n                tbody.InnerHtml = String.Format(\"{0}\\n{1}\", tbody.InnerHtml, tbodytr.ToString());\n            }\n\n            // Table\n            TagBuilder table = new TagBuilder(\"table\") { InnerHtml = String.Format(\"{0}\\n{1}\\n{2}\", thead.ToString(), tfoot.ToString(), tbody.ToString()) };\n            table.MergeAttribute(\"id\", string.IsNullOrEmpty(tagId) ? String.Format(\"table-{0}\", boundColumns.Count.ToString()) : tagId);\n            table.MergeAttribute(\"summary\", \"Generic data list\");\n            if (!String.IsNullOrEmpty(className))\n                table.MergeAttribute(\"class\", String.Format(\"{0} {1}\", className, \"tablesorter\"));\n            else\n                table.MergeAttribute(\"class\", \"tablesorter\");\n\n            // Enable Sorting/Searching\n            if (hasData)\n            {\n                TagBuilder sortscript = new TagBuilder(\"script\") { InnerHtml = String.Format(\"$(document).ready(function(){{$(\\\"#{0}\\\").tablesorter().tablesorterPager({{container:$(\\\"#{1}\\\")}});}});\", tagId, String.Format(\"{0}-pager\", tagId)) };\n                TagBuilder searchscript = new TagBuilder(\"script\") { InnerHtml = String.Format(\"$(document).ready(function(){{$(\\\"#{0}\\\").keyup(function(){{$.uiTableFilter($(\\\"#{1}\\\"), this.value);}})}});\", String.Format(\"{0}-filter-field\", tagId), tagId) };\n                sortscript.MergeAttribute(\"type\", \"text/javascript\");\n                return new MvcHtmlString(String.Format(\"{0}\\n{1}\\n{2}\", table.ToString(), sortscript.ToString(), searchscript.ToString()));\n            }\n\n            return new MvcHtmlString(table.ToString());\n        }\n</code></pre>\n\n<p>So basically I am looking to use as much reflection as possible to eliminate as many arguments to this method as possible.</p>\n\n<p>Thanks,\nAlex.</p>\n"},{"tags":["iphone","ios","mvc","uiviewcontroller","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12168037,"title":"Accessing the model from the viewcontrollers?","body":"<p>I am creating an iPhone application, a game, and I am trying to understand and embrace the MVC architecture. I am planning to create a model, in this case called <code>HighScoresModel</code> that is responsible for holding all the information about high scores in my game.</p>\n\n<ol>\n<li>Where should this model be created? In the AppDelegate? In the first view controller?</li>\n<li>How should other view controllers access the model in order to pass messages like <code>addScore:withDifficulty:</code>?</li>\n</ol>\n"},{"tags":["javascript","mvc","ember.js"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":214,"score":2,"question_id":12165330,"title":"Ember.js - make action target controller automatically","body":"<p>In Ember, if I use the Router, any <code>{{action}}</code> helpers automatically target the view's controller, when the view was created by the router.</p>\n\n<p>How can I make views' <code>{{actions}}</code> target the controller when the Router doesn't create the view. I thought setting the <code>controller</code> property would do it, but it doesn't appear to.</p>\n"},{"tags":["java","mvc","model","entity"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12166771,"title":"Entity versus Model","body":"<p>I was tidying up some classes in my com.business.model package and realised every one of them was either directly annotated @Entity or was attached to one (I'm using Morphia). It occurred to me that the classes should actually be put in a com.business.entity package...</p>\n\n<p>If this is more accurate (is it?) should I be putting my business logic classes into com.business.model and calling those from my jax-rs and jax-ws classes?</p>\n\n<p>All my business logic classes are in the com.business package at present, which feels a rather anonymous place to be. Perhaps they are actually the models..?</p>\n\n<p>(Note this project does not (yet) have a browser interface that a human would interact with, so referring to MVC would be somewhat premature.)</p>\n"},{"tags":["javascript","ruby-on-rails","mvc","coffeescript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12164671,"title":"How to create a condition in javascript file with the controller in Rails","body":"<p>I am trying to expand the <a href=\"http://ruby.railstutorial.org/chapters/user-microposts#top\" rel=\"nofollow\">like-twitter application tutorial</a> and include my first script (regardless of the tutorial).</p>\n\n<p>I am trying to make a script that will only work when the user is signed in (I discovered that I need to make this rule because when the user is not signed in I get a script error).</p>\n\n<p>the js file is called <code>static_pages.js.coffee</code> and contains code like this:</p>\n\n<pre><code>micropost =\n  p: {\n    ...\n  }\n  init: -&gt;\n    ...\n\n$(document).ready -&gt;\n  micropost.init()\n</code></pre>\n\n<p>Since the code is relevant for micropost that appears <strong>only</strong> when user is signed in then I need some rule to notify me about that.</p>\n\n<p>I can put in the main file <code>views/layout/application.html.erb</code> a script with the variable like this:</p>\n\n<pre><code>&lt;head&gt;\n  &lt;title&gt;&lt;%=full_title(yield(:title)) %&gt;&lt;/title&gt;\n  &lt;%= stylesheet_link_tag    \"application\", :media =&gt; \"all\" %&gt;\n  &lt;%= javascript_include_tag \"application\" %&gt;\n\n  &lt;script type=\"text/javascript\"&gt;\n      var signed_in = &lt;%= signed_in? =&gt;;\n  &lt;/script&gt;\n\n  &lt;%= csrf_meta_tags %&gt;\n  &lt;%= render 'layouts/shim' %&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>but it doesn't look like the clean way, <strong>my questions are:</strong></p>\n\n<ol>\n<li>how do I do it?</li>\n<li>Do I need to do it via controller? (I have no idea how...)</li>\n<li>And also, I put the $(document).ready inside the static_pages.js.coffee - Should I put it in the main application.js since this is the call that invokes all function after dom is built?</li>\n</ol>\n"},{"tags":["java","mvc","jsp","struts2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12167139,"title":"Struts 2 Accessing action tag properties with # syntax","body":"<p>Is it possible to access fields defined in Beans/Forms used within an action from a JSP page?</p>\n\n<p>At the moment I can use this: </p>\n\n<pre><code>&lt;s:action name=\"actionName\" var=\"foo\" executeResult=\"false\" /&gt;\n</code></pre>\n\n<p>and access any fields defined in that action class using</p>\n\n<pre><code>&lt;s:property value=\"#foo.bar\" /&gt;\n</code></pre>\n\n<p>but this doesn't seem to work for values defined in a bean or form, which I would normally be able to access using the property tag in the result JSP page for an action.</p>\n"},{"tags":["ruby-on-rails","mvc","routing","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12167201,"title":"rails custom controller with nested resources: routes.rb","body":"<p>I have a User controller and related views for index,update, etc. The project specifications changed, and now we have a custom Dashboard controller and related index page, accessed by localhost:3000/dashboard  </p>\n\n<pre><code>match 'dashboard' =&gt; 'dashboard#index', as: 'dashboard'\n</code></pre>\n\n<p>The Dashboard index page will act similar to the (old) User index page, and so I am thinking I can simply re-use the User controller actions.\nHow can I simply \"nest\" the User into Dashboard, to achieve routes like <code>localhost:3000/dashboard/users/new</code> or <code>localhost:3000/dashboard/users/1/edit</code>? \nNote that the Dashboard controller does not have an associated model, it is a custom one just to create a customized homepage depending on the person viewing the Rails app. It will have other functionality unrelated to Users.</p>\n\n<p>I tried</p>\n\n<pre><code>match 'dashboard' =&gt; 'dashboard#index', as: 'dashboard' do\n  resources :users do\n\n    member do\n     #more custom actions\n    end\n\n    collection do\n     #more custom actions\n    end\n\n end\n\n\nend \n</code></pre>\n"},{"tags":["javascript","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12165168,"title":"Please explain the VC in MVC for javascript","body":"<p>This is really getting me frustrated. I'm trying to build a custom JavaScript app with no libraries. This is mainly for me to learn better core JavaScript and JavaScript patterns. I'm trying to implement the MVC structure and I understand the parts separately, but for the life of me I can't figure out how to connect the views and controllers together. For example if I have this code:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;button id=\"button1\"&gt;Click Me&lt;/button&gt;\n    &lt;button id=\"button2\"&gt;Click Me&lt;/button&gt;\n    &lt;button id=\"button3\"&gt;Click Me&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How in the world do I write a controller.js file to listen to the clicks of each button and respond. Especially if each button does something totally different from the others. Let's say button1 simply links to google.com, button2 opens a modal box and button3 updates a database table. So each one is doing something totally separate. What I am trying to avoid is using jQuery to do something like this.</p>\n\n<pre><code>$('#button1').click(function(){\n       //go to google.com\n});\n\n$('#button2').click(function(){\n       //open modal box\n});\n\n$('#button3').click(function(){\n       //update database\n});\n</code></pre>\n\n<p>This doesn't seem very efficient, especially when trying to use the MVC structure. Is there a smoother way, even a few different design patterns I can follow to write this is core JavaScript with no libraries? I scoured the net to find articles but everything I find relies heavily on a library.</p>\n\n<p>Any books, tutorials, blog posts or anything of the like that will clearly explain something like this is much much appreciated. Who knows once I get the hang of it maybe I'll write a book on it for the masses. </p>\n\n<p>Once again the help of the community is always appreciated. </p>\n"},{"tags":["unit-testing","mvc","expressions"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12164584,"title":"Expression Equality or Equivalence from Multiple Projects","body":"<p>It is understood that:</p>\n\n<pre><code>Expression&lt;Func&lt;string, bool&gt;&gt; first = x =&gt; x.Length == 4;\nExpression&lt;Func&lt;string, bool&gt;&gt; second = x =&gt; x.Length == 4;\n\nConsole.WriteLine(first.Equals(second)); // Output is \"False\"\n</code></pre>\n\n<p>However, examining the strings of each expression does show equality:</p>\n\n<pre><code>Expression&lt;Func&lt;string, bool&gt;&gt; first = x =&gt; x.Length == 4;\nExpression&lt;Func&lt;string, bool&gt;&gt; second = x =&gt; x.Length == 4;\n\nConsole.WriteLine(first.ToString().Equals(second.ToString())); // Output is \"True\"\n</code></pre>\n\n<p>This idea was a culmination of different posts...</p>\n\n<p><a href=\"http://www.codethinked.com/Comparing-Simple-Lambda-Expressions-With-Moq\" rel=\"nofollow\">http://www.codethinked.com/Comparing-Simple-Lambda-Expressions-With-Moq</a>\nhttp://stackoverflow.com/questions/5196669/moqing-methods-where-expressionfunct-bool-are-passed-in-as-parameters\n<a href=\"http://stackoverflow.com/questions/3458406/verify-method-was-called-with-certain-linq-expression-moq\">Verify method was called with certain linq expression (moq)</a></p>\n\n<p>The intent:</p>\n\n<p>I am writing an MVC application using the repository pattern such that</p>\n\n<pre><code>public class MyController : Controller\n{\n    public Repository.IRepository Repository { get; set; }\n\n    public MyController()\n    {\n        this.Repository = new Repository.CommonRepository();\n    }\n\n    public MyController(Repository.IRepository repository)\n    {\n        this.Repository = repository;\n    }\n\n    [HttpPost]\n    public ActionResult Create(Domain.Common.Object1 o1)\n    {\n        if (ModelState.IsValid)\n        {\n            // Additional validation\n            o1.Name = o1.Name.Trim();\n\n            if (this.Repository.Any&lt;Domain.Common.Object1&gt;(a =&gt; a.Name.ToLower() == plant.Name.ToLower()))\n                this.ModelState.AddModelError(\"Name\", \"Duplicate found.\");\n        }\n\n        if (ModelState.IsValid)\n        {\n            var entity = this.Repository.Add(o1);\n\n            if (Request.IsAjaxRequest())\n                return this.Json(new { Completed = true, Id = entity.Id });\n\n            return RedirectToAction(\"Details\", new { id = entity.Id });\n        }\n\n        if (Request.IsAjaxRequest())\n            return PartialView(\"_Create\", o1);\n\n        return View(\"Create\", o1);\n    }\n}\n</code></pre>\n\n<p>Repository is a completely separate project as is the domain.  My repository code is setup so that I can use the one repository to query any object based upon the generic:</p>\n\n<pre><code>public IQueryable&lt;T&gt; GetAll&lt;T&gt;() where T : AbstractEntity\n{\n    return this.DbContext.Set&lt;T&gt;();\n}\n</code></pre>\n\n<p>Note: AbstractEntity is a domain abstract class all of my POCO objects inherit from.</p>\n\n<p>Everything is fine when using Moq to unit test the controller :</p>\n\n<pre><code>[TestMethod]\npublic void Create_Post_DuplicateNameAddsError()\n{\n    // Arrange\n    var repository = new Mock&lt;Repository.IRepository&gt;();\n\n    repository.Setup(a =&gt; a.Any&lt;Domain.Common.Object1&gt;(It.IsAny&lt;System.Linq.Expressions.Expression&lt;Func&lt;Domain.Common.Object1, bool&gt;&gt;&gt;()))\n              .Returns(true);\n\n    var controller = ControllerFactory&lt;MyController&gt;.GetController();\n    controller.Repository = repository.Object;\n\n    var model = new Domain.Common.Object1()\n    {\n        Id = Guid.NewGuid()\n        ,\n        Name = \"Name\"\n    };\n\n\n\n    // Act\n    var result = controller.Create(model) as ViewResult;\n\n\n\n    // Assert\n    Assert.IsFalse(controller.ModelState.IsValid);\n\n    Assert.IsNotNull(result);\n    Assert.AreEqual(\"Create\", result.ViewName, false);\n\n    Assert.AreEqual(model, result.Model);\n}\n</code></pre>\n\n<p>Note: ControllerFactory is a way to generate a controller with certain properties filled, such as Request, Response, User, Request.Headers ect...</p>\n\n<p>Where this fails is if I have to use IRepository.Any(predicate) more than once, or any method that uses expressions that is called more than once.  I need it to say true for one and false for another.  If the expression strings were a match, this would be a non-issue, but as everything is in different projects the expression strings come out as:</p>\n\n<pre><code>a =&gt; (a.Name.ToLower() == value(foo.Web.Tests.Controllers.Object1ControllerTests+&lt;&gt;c__DisplayClass3).ob1.Name.ToLower())\na =&gt; (a.Name.ToLower() == value(foo.Controllers.MyController+&lt;&gt;c__DisplayClass1).ob1.Name.ToLower())\n</code></pre>\n\n<p>The difference lies in the value function.  I have tried matching from Regular Expressions, which works, but is ugly as you have to escape every .&lt;>(), which in turn makes it very difficult to maintain.</p>\n\n<p>I tried using <a href=\"http://www.codethinked.com/Comparing-Simple-Lambda-Expressions-With-Moq\" rel=\"nofollow\">Matt Meber's Expression Equality Comparer</a>, but they are not equal due to that value function (my belief).</p>\n\n<p>Suggestions?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12163768,"title":"Rails: two controllers for the same model","body":"<p>I have a model User and a corresponding UsersController. Due to project changes, the same, exact functionality for the User model needs to be in the CentersController, with additional functionality for Centers only of course. The UsersController stays as is.</p>\n\n<p>The design question is how to use the UsersController methods (update, edit, create, etc) without replicating them in the CentersController? For example, when a user is updated in the view for Centers, the User controller's Update action will be called, but the viewer should be redirected back to Centers view.</p>\n"},{"tags":["mvc","wif","saml-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":11826134,"title":"How to disable Subject Key Identifier in SecurityTokenResolver","body":"<p>I am processing a SAML2 token in WIF which contains an EncryptedAssertion. The mark-up does NOT contain a \"Subject Identifier Key\" Extension property and as such WIF SecurityTokenHandler fails as it tries to get the correct X509 certificate from the LocalMachineStore/Personal. </p>\n\n<p>The issue is clearly that the certificate used to encrypt the token does not contain the SKI Extension and of course the token generation code (Java) does not do seem to require it. To avoid having to modify the generation code is there a way I can get WIF SecuityTokenResolver to NOT check the received Token for the SKI but simply use the local store certificate directly to decrypt the token?</p>\n"},{"tags":["iphone","ios","mvc","dto"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12158823,"title":"iOS classes in application as data transfer objects","body":"<p>I am currently working on a project which enables many features. </p>\n\n<p>One of them is the registration of a user. I do have a view controller as well as a view for handling the user input. I further did implement a UserService starting an uploader to upload the user data and notifying the view controller if if the upload succeeds/fails and so on. </p>\n\n<p>Now, I will not save the data to coredata (just parts of them) and was woundering about the best approach to send the data throughout my application from the view controller to my uploaders. </p>\n\n<p>I know that the easy approach will be something like:</p>\n\n<pre><code>- (void) startUserRegistrationEmail:(NSString *) aEmail\n                          firstname:(NSString *) aFirstname\n                               name:(NSString *) aName\n                          birthdate:(NSDate *) aBirthdate\n                        citizenship:(NSString *) aCitizenship\n                             street:(NSString *) aStreet\n                       streetnumber:(NSString *) aStreetNumber\n                           postcode:(NSString *) aPostcode\n                            address:(NSString *) aAddres;\n</code></pre>\n\n<p>The advantage is that my service and uploader is not depending on any model which might increase reusability. </p>\n\n<p>But there are serveral disadvantages in my opinion. \nI have to validate the input fields within the view controller. If I had a model object, I could easily stuff all inputs into this object, call is valid and in case it fails, form a proper error which will be displayed to the user. </p>\n\n<p>Further my methods in the service and the uploader will shrink to</p>\n\n<pre><code>- (void) startCustomerRequestQueryEmail:(AMRegistration *) aRegistration\n</code></pre>\n\n<p>Due to the fact, that the data of the AMRegistration class will not be saved within coredate, I would not implement it as a managedObject, but a custom class. </p>\n\n<p>After the upload completes, I might look at the reference and save the data I need to my managed objects. (Which is another advantage due to the fact that I do not need to hold references on 9 string but just on one AMRegistration object). </p>\n\n<p>I would like to know how you are handling those issues? Are u using those \"helper objects\" more often or do you avoid to use them?</p>\n"},{"tags":["mvc","validation","html-helper"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12008998,"title":"MVC 3 \"does not contain a definition for validationmessagefor\"","body":"<p>I have the following code attempting to extend @Html.ValidationMessageFor with my own @Html.MyValidationMessageFor(model => model.myfield) and provide a custom error html</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Mvc;\nusing System.Text;\nusing System.Linq.Expressions;\n\nnamespace Hml.BackEnd.Helpers\n{\npublic static class HtmlHelpers\n{\n    public static MvcHtmlString MyValidationMessageFor&lt;TModel, TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper, Expression&lt;Func&lt;TModel, TProperty&gt;&gt; expression)\n    {\n        string myContent = \"&lt;div&gt;\" + htmlHelper.ValidationMessageFor(expression).ToString() + \"&lt;/div&gt;\";\n        return MvcHtmlString.Create(myContent);\n    }\n}\n}\n</code></pre>\n\n<p>I get the following compilation message:</p>\n\n<p>'System.Web.Mvc.HtmlHelper &lt; Model > does not contain a definition for ValidationMessageFor and no extension method ValidationMessageFor accepting a first argument of type 'System.Web.Mvc.HtmlHelper &lt; TModel > could be found are you missing a using or assembly reference.</p>\n\n<p>I can't understand since System.Web.Mvc is in the project references and in the using.</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12156542,"title":"Creating more objects rather than perform calculations, how effective?","body":"<p>I have a collection of data (Model) where each element has its visual representation (View) in a form of a JPanel with labels. Here is the method which updates a GUI Page:</p>\n\n<pre><code>public void updateGUIPage(){\n    guiPage.removeAll();\n    for(MyElement element: myCollection) {\n        guiPage.add(new VisualElementWhichExtendsJPanel(element);\n        guiPage.add(Box.createVerticalStrut(10);\n    }\n}\n</code></pre>\n\n<p>updateGUIPage() is called each time when collection changes. As you see, already created visual elements are removed (as I know from books, they will be later destroyed by Garbage Collector) and new visual elements are created for each element in the collection.\nI dont find this way to be very effective, but it simplifies very much application in general (as there are many GUIPages, and many of them show the same element, so if added to second GUIPage it will be removed from the first, thats the way Swing works)\nSo, the question is: would you allow such approach in your application, or its better to make additional calculations and avoid excessive creation of new objects (considering that average size of collection will rarely exceed 100 members)?</p>\n"},{"tags":["spring","mvc","jsp"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":209,"score":3,"question_id":12123432,"title":"How to bind a dynamic list of fields in a JSP","body":"<p>I am building a JSP page for entering football game results. I get a list of unsettled games and I want to list them like this:</p>\n\n<pre><code>team1 vs team4 \n    [hidden field: game id]  \n    [input field for home goals]  \n    [input field for away goals]\n\nteam2 vs team5 \n    [hidden field: game id]  \n    [input field for home goals]\n    [input field for away goals]\n</code></pre>\n\n<p>I never know how many games will be listed. I am trying to figure out how to set up the binding so that the controller can access these fields after the form is submitted. </p>\n\n<p>Can someone please guide me in the right direction. I am using Spring MVC 3.1</p>\n"},{"tags":["c#","mvc","indirection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12148540,"title":"What is the typical level of indirection between a controller and a view in mvc and similar architectures?","body":"<p>So say I make a controller for a main menu 'page', would MainMenu be composed of the individual view elements like labels and buttons directly or would it reference a class such as MainMenuView which had those elements instead? Or would it just send events to an event system to communicate with the view? Or something else?</p>\n"},{"tags":["ios","cocoa-touch","mvc","uitableview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12151797,"title":"Implementation of UITableView, following MVC pattern","body":"<p>According to the Model-View-Controller pattern, applied heavily in Cocoa Touch, UIViewControllers should always handle the logic behind how a concrete UIView in the scene behaves.</p>\n\n<p>I am curious as to how Apple implements it's UITableView class while keeping in line with this philosophy. Especially since UITableView inherits from UIScrollView and UIView in turn. </p>\n\n<p>When you add a UITableView to one of your classes, does it have a UIViewController handling the way it behaves in the background? I know that a UITableViewDelegate is in charge of telling the table how many rows it should have, etc. But what about it's inner workings?</p>\n"}]}
